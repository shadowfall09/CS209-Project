{"items":[{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1681324817,"post_id":75998248,"comment_id":134039765,"body_markdown":"your &quot;li&quot; webelement array will become stale once you click.  (either the DOM is updated via javascript or the link/page loads.)  Take each link one at a time.  (if they are standard links you can just grab the href attributes in your for loop.)  The scroll probably isn&#39;t necessary, btw, as the driver&#39;s click() method will automatically scroll the element into view.  (the exception would be if the DOM updates on scroll or if some other element is overlaying it, intercepting the click)","body":"your &quot;li&quot; webelement array will become stale once you click.  (either the DOM is updated via javascript or the link/page loads.)  Take each link one at a time.  (if they are standard links you can just grab the href attributes in your for loop.)  The scroll probably isn&#39;t necessary, btw, as the driver&#39;s click() method will automatically scroll the element into view.  (the exception would be if the DOM updates on scroll or if some other element is overlaying it, intercepting the click)"},{"owner":{"account_id":13948156,"reputation":13,"user_id":10072377,"display_name":" aaryan"},"score":0,"creation_date":1681364383,"post_id":75998248,"comment_id":134044946,"body_markdown":"After clicking on the link I again navigate back to home page using navigate.back() and wait for link element to be clickable again using explicit wait. The funny thing is it works on chrome and end up giving exceptions on safari and firefox&#129300;","body":"After clicking on the link I again navigate back to home page using navigate.back() and wait for link element to be clickable again using explicit wait. The funny thing is it works on chrome and end up giving exceptions on safari and firefox🤔"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1681405747,"post_id":75998248,"comment_id":134054881,"body_markdown":"you&#39;re not really getting an array of webelements, but snapshots/references to them? (when a method is used it will again go to the DOM to get them)  They will go stale if the DOM updates.  No idea why this works in Chrome.... I guess it&#39;s caching the references (each is given a sort of unique id) along with the page.","body":"you&#39;re not really getting an array of webelements, but snapshots/references to them? (when a method is used it will again go to the DOM to get them)  They will go stale if the DOM updates.  No idea why this works in Chrome.... I guess it&#39;s caching the references (each is given a sort of unique id) along with the page."},{"owner":{"account_id":13948156,"reputation":13,"user_id":10072377,"display_name":" aaryan"},"score":1,"creation_date":1681498414,"post_id":75998248,"comment_id":134071890,"body_markdown":"Thank you @pcalkins, I was able to make the code work using your suggested approach!!","body":"Thank you @pcalkins, I was able to make the code work using your suggested approach!!"}],"owner":{"account_id":13948156,"reputation":13,"user_id":10072377,"display_name":" aaryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681319995,"creation_date":1681319995,"question_id":75998248,"body_markdown":"I am trying to click on all link on footer of [this page ](https://fueled.com/).\r\nSteps I followed:\r\n1. Scroll down the page to have footer in viewport of homepage\r\n2. Get all link elements in the footer using findElements and assign it to a list\r\n3. For each element in list click on link, get the url of next page and compare if the URL contains few letters of the linkText I clicked on first page\r\n4. Navigate back on home page and repeat the process for other links\r\n\r\nI used two methods, Scroll (to scroll the page to the footer where all links are given) and Waits(to click on each link in the footer)\r\n\r\n\r\nProblem: I am getting StaleElementReferenceException after the first link is clicked on the footer and when the page navigates back to homepage showing other elements are Stale on the page.\r\n\r\nThe code works fine on Chrome though but gives error on Firefox and Safari\r\n\r\n\r\n\r\n```\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.safari.SafariDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.FluentWait;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\npublic class Assignment9 {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ChromeOptions co= new ChromeOptions();\r\n        co.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n//      WebDriver driver= new ChromeDriver(co);\r\n        WebDriver driver = new FirefoxDriver();\r\n\r\n        driver.manage().window().maximize();\r\n        driver.manage().deleteAllCookies();\r\n\r\n        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(40));\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\r\n        driver.get(&quot;https://fueled.com/en-gb&quot;);\r\n\r\n\r\n        WebElement footer= driver.findElement(By.xpath(&quot;//div[@id=&#39;app&#39;]/child::div[last()]&quot;));\r\n\r\n\r\n        List&lt;WebElement&gt; li= driver.findElements(By.xpath(&quot;//footer//ul[1]/li/a&quot;));\r\n\r\n\r\n        for(WebElement ele: li){\r\n\r\n            try {\r\n                waits(driver, ele, Duration.ofSeconds(80));\r\n            }catch (TimeoutException e){\r\n                waits(driver, ele, Duration.ofSeconds(80));\r\n            }\r\n            String linkText= ele.getText();\r\n\r\n            String linkText1=linkText.substring(0, 3).toLowerCase();\r\n//            waits(driver, ele, Duration.ofSeconds(30));\r\n            ele.click();\r\n            String pageUrl=driver.getCurrentUrl();\r\n            System.out.println(pageUrl);\r\n            if(pageUrl.contains(linkText1)){\r\n                System.out.println(linkText + &quot; is navigating to correct page&quot;);\r\n            }else {\r\n                System.out.println(&quot;Not a correct page&quot;);\r\n            }\r\n            driver.navigate().back();\r\n            System.out.println(&quot;back to home page&quot;);\r\n            scroll(driver, footer, Duration.ofSeconds(40));\r\n            System.out.println(&quot;page has scrolled down&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    static void scroll(WebDriver driver, WebElement element, Duration timeout) {\r\n\r\n\r\n        WebElement element1=driver.findElement(By.xpath(&quot;//div[@id=&#39;app&#39;]/child::div[last()]&quot;));\r\n        new WebDriverWait(driver, timeout).ignoring(StaleElementReferenceException.class).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id=&#39;app&#39;]/child::div[last()]&quot;)));\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element1);\r\n\r\n\r\n    }\r\n\r\n    static void waits(WebDriver driver, WebElement element, Duration timeout) throws TimeoutException {\r\n        WebElement footer= driver.findElement(By.xpath(&quot;//div[@id=&#39;app&#39;]/child::div[last()]&quot;));\r\n        scroll(driver, footer, Duration.ofSeconds(30));\r\n        WebDriverWait wait= new WebDriverWait(driver, timeout);\r\n        wait.ignoring(StaleElementReferenceException.class).until(ExpectedConditions.elementToBeClickable(element));\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI added explicit waits in both the methods (Scroll and Waits) to wait for the element to be visible for scrolling and then click on links\r\n\r\nI was expecting the code to work with all links without giving any error\r\n","title":"StaleElementReferenceException Only on FireFox and Safari","body":"<p>I am trying to click on all link on footer of <a href=\"https://fueled.com/\" rel=\"nofollow noreferrer\">this page </a>.\nSteps I followed:</p>\n<ol>\n<li>Scroll down the page to have footer in viewport of homepage</li>\n<li>Get all link elements in the footer using findElements and assign it to a list</li>\n<li>For each element in list click on link, get the url of next page and compare if the URL contains few letters of the linkText I clicked on first page</li>\n<li>Navigate back on home page and repeat the process for other links</li>\n</ol>\n<p>I used two methods, Scroll (to scroll the page to the footer where all links are given) and Waits(to click on each link in the footer)</p>\n<p>Problem: I am getting StaleElementReferenceException after the first link is clicked on the footer and when the page navigates back to homepage showing other elements are Stale on the page.</p>\n<p>The code works fine on Chrome though but gives error on Firefox and Safari</p>\n<pre><code>import org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.safari.SafariDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.FluentWait;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Assignment9 {\n    public static void main(String[] args) throws InterruptedException {\n        ChromeOptions co= new ChromeOptions();\n        co.addArguments(&quot;--remote-allow-origins=*&quot;);\n//      WebDriver driver= new ChromeDriver(co);\n        WebDriver driver = new FirefoxDriver();\n\n        driver.manage().window().maximize();\n        driver.manage().deleteAllCookies();\n\n        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(40));\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n\n        driver.get(&quot;https://fueled.com/en-gb&quot;);\n\n\n        WebElement footer= driver.findElement(By.xpath(&quot;//div[@id='app']/child::div[last()]&quot;));\n\n\n        List&lt;WebElement&gt; li= driver.findElements(By.xpath(&quot;//footer//ul[1]/li/a&quot;));\n\n\n        for(WebElement ele: li){\n\n            try {\n                waits(driver, ele, Duration.ofSeconds(80));\n            }catch (TimeoutException e){\n                waits(driver, ele, Duration.ofSeconds(80));\n            }\n            String linkText= ele.getText();\n\n            String linkText1=linkText.substring(0, 3).toLowerCase();\n//            waits(driver, ele, Duration.ofSeconds(30));\n            ele.click();\n            String pageUrl=driver.getCurrentUrl();\n            System.out.println(pageUrl);\n            if(pageUrl.contains(linkText1)){\n                System.out.println(linkText + &quot; is navigating to correct page&quot;);\n            }else {\n                System.out.println(&quot;Not a correct page&quot;);\n            }\n            driver.navigate().back();\n            System.out.println(&quot;back to home page&quot;);\n            scroll(driver, footer, Duration.ofSeconds(40));\n            System.out.println(&quot;page has scrolled down&quot;);\n\n        }\n\n    }\n\n    static void scroll(WebDriver driver, WebElement element, Duration timeout) {\n\n\n        WebElement element1=driver.findElement(By.xpath(&quot;//div[@id='app']/child::div[last()]&quot;));\n        new WebDriverWait(driver, timeout).ignoring(StaleElementReferenceException.class).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@id='app']/child::div[last()]&quot;)));\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element1);\n\n\n    }\n\n    static void waits(WebDriver driver, WebElement element, Duration timeout) throws TimeoutException {\n        WebElement footer= driver.findElement(By.xpath(&quot;//div[@id='app']/child::div[last()]&quot;));\n        scroll(driver, footer, Duration.ofSeconds(30));\n        WebDriverWait wait= new WebDriverWait(driver, timeout);\n        wait.ignoring(StaleElementReferenceException.class).until(ExpectedConditions.elementToBeClickable(element));\n    }\n}\n\n</code></pre>\n<p>I added explicit waits in both the methods (Scroll and Waits) to wait for the element to be visible for scrolling and then click on links</p>\n<p>I was expecting the code to work with all links without giving any error</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","amazon-linux-2"],"answers":[{"tags":[],"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680760534,"creation_date":1680760534,"answer_id":75946291,"question_id":75946205,"body_markdown":"It seems that the amazon-linux-extras package manager is not installed or not found in your system. Assuming you are using Amazon Linux 2, you can follow these steps to install OpenJDK 11 on your EC2 instance:\r\n\r\nUpdate your system packages:\r\n\r\n    sudo yum update -y\r\n\r\nInstall the amazon-linux-extras package manager if it is not available:\r\n\r\n    sudo yum install -y amazon-linux-extras\r\n\r\nEnable and install OpenJDK 11:\r\n\r\n    sudo amazon-linux-extras enable java-openjdk11\r\n    sudo yum clean metadata\r\n    sudo yum install -y java-11-openjdk\r\n\r\nVerify that Java has been installed successfully:\r\n\r\n    java -version\r\n\r\n\r\nIf everything went well, you should see the installed OpenJDK 11 version details.\r\n\r\nKeep in mind that if you&#39;re using a different version of Amazon Linux or another Linux distribution, the steps may vary.\r\n","title":"Failed to install java in Amazon Linux 2","body":"<p>It seems that the amazon-linux-extras package manager is not installed or not found in your system. Assuming you are using Amazon Linux 2, you can follow these steps to install OpenJDK 11 on your EC2 instance:</p>\n<p>Update your system packages:</p>\n<pre><code>sudo yum update -y\n</code></pre>\n<p>Install the amazon-linux-extras package manager if it is not available:</p>\n<pre><code>sudo yum install -y amazon-linux-extras\n</code></pre>\n<p>Enable and install OpenJDK 11:</p>\n<pre><code>sudo amazon-linux-extras enable java-openjdk11\nsudo yum clean metadata\nsudo yum install -y java-11-openjdk\n</code></pre>\n<p>Verify that Java has been installed successfully:</p>\n<pre><code>java -version\n</code></pre>\n<p>If everything went well, you should see the installed OpenJDK 11 version details.</p>\n<p>Keep in mind that if you're using a different version of Amazon Linux or another Linux distribution, the steps may vary.</p>\n"},{"tags":[],"owner":{"account_id":5671384,"reputation":1,"user_id":4485903,"display_name":"leisifung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680761046,"creation_date":1680761046,"answer_id":75946335,"question_id":75946205,"body_markdown":"you can download java 11 from https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz\r\n\r\ntar -xvf xxx.tar.gz -C /usr/local/bin\r\n\r\nadd `export PATH=${PATH}:/usr/local/bin/path-to-jdk-11/bin` to /etc/bashrc\r\n\r\nsource /etc/bashrc\r\n\r\njava --version","title":"Failed to install java in Amazon Linux 2","body":"<p>you can download java 11 from <a href=\"https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz</a></p>\n<p>tar -xvf xxx.tar.gz -C /usr/local/bin</p>\n<p>add <code>export PATH=${PATH}:/usr/local/bin/path-to-jdk-11/bin</code> to /etc/bashrc</p>\n<p>source /etc/bashrc</p>\n<p>java --version</p>\n"},{"tags":[],"owner":{"account_id":19654792,"reputation":68,"user_id":14387674,"display_name":"Prince Adekunle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681319858,"creation_date":1681319459,"answer_id":75998163,"question_id":75946205,"body_markdown":"Download Java 11 from java.net&lt;br&gt;\r\n`wget https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz`\r\n\r\nExtract it to /usr/local/bin:&lt;br&gt;\r\n`sudo tar -xvf openjdk-11+28_linux-x64_bin.tar.gz -C /usr/local/bin`\r\n\r\n\r\nedit /etc/bashrc  and add the following to the end of the file:&lt;br&gt;\r\n`export PATH=${PATH}:/usr/local/bin/jdk-11/bin`&lt;br&gt;\r\n`export JAVA_HOME=/usr/local/bin/jdk-11`\r\n\r\n\r\nRun the source command to make sure the changes are reflected.&lt;br&gt;\r\n`source /etc/bashrc`\r\n\r\n\r\nCheck if Java has been installed&lt;br&gt;\r\n`java --version`\r\n\r\n\r\n\r\n\r\n\r\nOn Amazon Linux 2023, use:&lt;br&gt;\r\n`sudo dnf install java-11-amazon-corretto -y`&lt;br&gt;\r\n\r\n","title":"Failed to install java in Amazon Linux 2","body":"<p>Download Java 11 from java.net<br>\n<code>wget https://download.java.net/openjdk/jdk11/ri/openjdk-11+28_linux-x64_bin.tar.gz</code></p>\n<p>Extract it to /usr/local/bin:<br>\n<code>sudo tar -xvf openjdk-11+28_linux-x64_bin.tar.gz -C /usr/local/bin</code></p>\n<p>edit /etc/bashrc  and add the following to the end of the file:<br>\n<code>export PATH=${PATH}:/usr/local/bin/jdk-11/bin</code><br>\n<code>export JAVA_HOME=/usr/local/bin/jdk-11</code></p>\n<p>Run the source command to make sure the changes are reflected.<br>\n<code>source /etc/bashrc</code></p>\n<p>Check if Java has been installed<br>\n<code>java --version</code></p>\n<p>On Amazon Linux 2023, use:<br>\n<code>sudo dnf install java-11-amazon-corretto -y</code><br></p>\n"}],"owner":{"account_id":28229013,"reputation":11,"user_id":21578525,"display_name":"Atiquer Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681319858,"creation_date":1680759674,"question_id":75946205,"body_markdown":"I am using `sudo amazon-linux-extras install java-openjdk11` this command,but it says \r\n``\r\nsudo: amazon-linux-extras: command not found\r\n``\r\nHow I can install java in my ec2 ?\r\n\r\nI am using `sudo amazon-linux-extras install java-openjdk11` this command,but it says \r\n``\r\nsudo: amazon-linux-extras: command not found\r\n``\r\nHow I can install java in my ec2 ?","title":"Failed to install java in Amazon Linux 2","body":"<p>I am using <code>sudo amazon-linux-extras install java-openjdk11</code> this command,but it says\n<code>sudo: amazon-linux-extras: command not found</code>\nHow I can install java in my ec2 ?</p>\n<p>I am using <code>sudo amazon-linux-extras install java-openjdk11</code> this command,but it says\n<code>sudo: amazon-linux-extras: command not found</code>\nHow I can install java in my ec2 ?</p>\n"},{"tags":["java","expdp"],"answers":[{"tags":[],"owner":{"account_id":15059607,"reputation":1,"user_id":10868856,"display_name":"user10868856"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546636060,"creation_date":1546624507,"answer_id":54043869,"question_id":51456137,"body_markdown":"Try the following:\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /C C:\\\\oraclexe\\\\app\\\\oracle\\\\product\\\\11.2.0\\\\server\\\\bin\\\\expdp.exe SYSTEM/oracle@xe DIRECTORY=backupxe DUMPFILE=dbname.dmp SCHEMAS=dbname OWNER=SYSTEM&quot;);","title":"Expdp command from java","body":"<p>Try the following:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /C C:\\\\oraclexe\\\\app\\\\oracle\\\\product\\\\11.2.0\\\\server\\\\bin\\\\expdp.exe SYSTEM/oracle@xe DIRECTORY=backupxe DUMPFILE=dbname.dmp SCHEMAS=dbname OWNER=SYSTEM\");\n</code></pre>\n"}],"owner":{"account_id":13500586,"reputation":65,"user_id":9740098,"display_name":"amitabh pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681319803,"creation_date":1532176592,"question_id":51456137,"body_markdown":"I have to take oracle table export and import dump file from java using `expdp` command.\r\n\r\nForm cmd it is working as expected. But when the I&#39;m doing the same from java there are two issues:\r\n\r\n 1. if expdp command have include keyword then it shows the syntax error.\r\n 2. If expdp command don&#39;t have include keyword it works but did not return the status, program continue to run even the dump has been exported and finish.\r\n\r\nI am using java `Runtime.getRuntime().exec`. It waits on `waitFor` method for return.\r\n\r\nPlease anyone have done this or have any idea please help.\r\n ","title":"Expdp command from java","body":"<p>I have to take oracle table export and import dump file from java using <code>expdp</code> command.</p>\n\n<p>Form cmd it is working as expected. But when the I'm doing the same from java there are two issues:</p>\n\n<ol>\n<li>if expdp command have include keyword then it shows the syntax error.</li>\n<li>If expdp command don't have include keyword it works but did not return the status, program continue to run even the dump has been exported and finish.</li>\n</ol>\n\n<p>I am using java <code>Runtime.getRuntime().exec</code>. It waits on <code>waitFor</code> method for return.</p>\n\n<p>Please anyone have done this or have any idea please help.</p>\n"},{"tags":["java","maven","tomcat","apache-tomee"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680092562,"post_id":75876157,"comment_id":133837912,"body_markdown":"The default TomEE distribution package already exists `manager` under the `webapps` directory.","body":"The default TomEE distribution package already exists <code>manager</code> under the <code>webapps</code> directory."},{"owner":{"account_id":5955734,"reputation":71,"user_id":4682483,"display_name":"Marcus"},"score":0,"creation_date":1680162035,"post_id":75876157,"comment_id":133851891,"body_markdown":"Thats correct, however I want to use the tomee-maven-plugin to create my distribution. In this case, the manager is missing, and I need to copy it manually into the webapps directory. Of coures on each clean-build I need to repeat this, which is very teadious.","body":"Thats correct, however I want to use the tomee-maven-plugin to create my distribution. In this case, the manager is missing, and I need to copy it manually into the webapps directory. Of coures on each clean-build I need to repeat this, which is very teadious."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680182366,"post_id":75876157,"comment_id":133857186,"body_markdown":"Does your `my distribution` mean that you are building your own TomEE distribution? Or your own WebApp distribution?","body":"Does your <code>my distribution</code> mean that you are building your own TomEE distribution? Or your own WebApp distribution?"},{"owner":{"account_id":5955734,"reputation":71,"user_id":4682483,"display_name":"Marcus"},"score":0,"creation_date":1680211457,"post_id":75876157,"comment_id":133864606,"body_markdown":"I&#39;m not building my own distribution, I basically want the plugin to install the Tomee distribution of choice. If I download the distribution manually, it contains the manager webapp. However if I let it be installed by the tomee-plugin, the manager webapp is not bundled.","body":"I&#39;m not building my own distribution, I basically want the plugin to install the Tomee distribution of choice. If I download the distribution manually, it contains the manager webapp. However if I let it be installed by the tomee-plugin, the manager webapp is not bundled."}],"answers":[{"tags":[],"owner":{"account_id":5955734,"reputation":71,"user_id":4682483,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681319409,"creation_date":1681319409,"answer_id":75998155,"question_id":75876157,"body_markdown":"For the records:\r\nI found the following &#39;solution&#39;:\r\n\r\nAdd &quot;removeDefaultWebapps = false&quot; to tomee maven plugin&#39;s configuration section like so:\r\n\r\n````\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\r\n&lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;${tomee.version}&lt;/version&gt;\r\n&lt;configuration&gt;     \r\n&lt;tomeeVersion&gt;${tomee.version}&lt;/tomeeVersion&gt;\r\n&lt;tomeeClassifier&gt;plume&lt;/tomeeClassifier&gt;\r\n&lt;!-- this will &#39;install&#39; (aka not remove) the default webapps that come with tomee --&gt;\r\n&lt;removeDefaultWebapps&gt;false&lt;/removeDefaultWebapps&gt;\r\n&lt;args&gt;&lt;/args&gt;\r\n&lt;debug&gt;true&lt;/debug&gt;\r\n&lt;debugPort&gt;5005&lt;/debugPort&gt;\r\n&lt;config&gt;${project.basedir}/tomee/conf&lt;/config&gt;\r\n&lt;libs&gt; ...  &lt;/libs&gt;\r\n&lt;webapps&gt; ... &lt;/webapps&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n````\r\n","title":"Include &#39;tomcat manager&#39; webapp in tomee maven plugin","body":"<p>For the records:\nI found the following 'solution':</p>\n<p>Add &quot;removeDefaultWebapps = false&quot; to tomee maven plugin's configuration section like so:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\n&lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;${tomee.version}&lt;/version&gt;\n&lt;configuration&gt;     \n&lt;tomeeVersion&gt;${tomee.version}&lt;/tomeeVersion&gt;\n&lt;tomeeClassifier&gt;plume&lt;/tomeeClassifier&gt;\n&lt;!-- this will 'install' (aka not remove) the default webapps that come with tomee --&gt;\n&lt;removeDefaultWebapps&gt;false&lt;/removeDefaultWebapps&gt;\n&lt;args&gt;&lt;/args&gt;\n&lt;debug&gt;true&lt;/debug&gt;\n&lt;debugPort&gt;5005&lt;/debugPort&gt;\n&lt;config&gt;${project.basedir}/tomee/conf&lt;/config&gt;\n&lt;libs&gt; ...  &lt;/libs&gt;\n&lt;webapps&gt; ... &lt;/webapps&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5955734,"reputation":71,"user_id":4682483,"display_name":"Marcus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681319409,"creation_date":1680086556,"question_id":75876157,"body_markdown":"I would like to use the tomee maven plugin to provision my tomee server. As I&#39;m using Netbeans for develoment (which in turn relies on the tomcat manager app to be installed) I would like to include the manager app into the generated tomee installation when I call `mvn tomee:build`\r\n\r\nIs there a way to refer to the tomcat manager app somehow (inside the webapps tag of the pom?) so that it is installed inside the webapps folder?\r\n\r\nThis is my tomee plugin config:\r\n    \r\n\r\n        \r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${tomee.version}&lt;/version&gt;\r\n        &lt;configuration&gt;     \r\n            &lt;tomeeVersion&gt;${tomee.version}&lt;/tomeeVersion&gt;\r\n            &lt;tomeeClassifier&gt;plume&lt;/tomeeClassifier&gt;\r\n            &lt;args&gt;&lt;/args&gt;\r\n            &lt;debug&gt;true&lt;/debug&gt;\r\n            &lt;debugPort&gt;5005&lt;/debugPort&gt;\r\n            &lt;config&gt;${project.basedir}/tomee/conf&lt;/config&gt;\r\n            &lt;libs&gt;       \r\n            &lt;/libs&gt;\r\n            &lt;webapps&gt;\r\n            &lt;!-- Is there something I could enter here to have the (correct version of) tomcat manager webapp installed ? --&gt;\r\n            &lt;/webapps&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;  ","title":"Include &#39;tomcat manager&#39; webapp in tomee maven plugin","body":"<p>I would like to use the tomee maven plugin to provision my tomee server. As I'm using Netbeans for develoment (which in turn relies on the tomcat manager app to be installed) I would like to include the manager app into the generated tomee installation when I call <code>mvn tomee:build</code></p>\n<p>Is there a way to refer to the tomcat manager app somehow (inside the webapps tag of the pom?) so that it is installed inside the webapps folder?</p>\n<p>This is my tomee plugin config:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.tomee.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;tomee-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${tomee.version}&lt;/version&gt;\n    &lt;configuration&gt;     \n        &lt;tomeeVersion&gt;${tomee.version}&lt;/tomeeVersion&gt;\n        &lt;tomeeClassifier&gt;plume&lt;/tomeeClassifier&gt;\n        &lt;args&gt;&lt;/args&gt;\n        &lt;debug&gt;true&lt;/debug&gt;\n        &lt;debugPort&gt;5005&lt;/debugPort&gt;\n        &lt;config&gt;${project.basedir}/tomee/conf&lt;/config&gt;\n        &lt;libs&gt;       \n        &lt;/libs&gt;\n        &lt;webapps&gt;\n        &lt;!-- Is there something I could enter here to have the (correct version of) tomcat manager webapp installed ? --&gt;\n        &lt;/webapps&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;  \n</code></pre>\n"},{"tags":["java","functional-interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1681318937,"post_id":75998081,"comment_id":134038454,"body_markdown":"Function.identity()","body":"Function.identity()"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1681319120,"post_id":75998081,"comment_id":134038500,"body_markdown":"`Function&lt;Foo,Bar&gt; = a -&gt; a;` which is exactly what `Function.identity()` does.","body":"<code>Function&lt;Foo,Bar&gt; = a -&gt; a;</code> which is exactly what <code>Function.identity()</code> does."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681319366,"post_id":75998081,"comment_id":134038560,"body_markdown":"`Bar.class::cast`? But `Foo` already is a `Bar`, so you can just return `Foo` directly, e.g. through `x -&gt; x` (which is returned by `Function.identity()`)","body":"<code>Bar.class::cast</code>? But <code>Foo</code> already is a <code>Bar</code>, so you can just return <code>Foo</code> directly, e.g. through <code>x -&gt; x</code> (which is returned by <code>Function.identity()</code>)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681319508,"post_id":75998081,"comment_id":134038585,"body_markdown":"`a -&gt; a` is probably the easiest and simplest solution.","body":"<code>a -&gt; a</code> is probably the easiest and simplest solution."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1681319785,"post_id":75998081,"comment_id":134038650,"body_markdown":"I guess a bit more context would help in getting useful answers. How is your interface used by clients? Where do you consume the `Bar.this`? Why not pass the `Bar` instance directly, etc.?","body":"I guess a bit more context would help in getting useful answers. How is your interface used by clients? Where do you consume the <code>Bar.this</code>? Why not pass the <code>Bar</code> instance directly, etc.?"},{"owner":{"account_id":28287175,"reputation":3,"user_id":21627938,"display_name":"Scott McDiggles"},"score":0,"creation_date":1681339260,"post_id":75998081,"comment_id":134042488,"body_markdown":"It was guava, so Function.identity() didn&#39;t work. The a -&gt; a definitely worked. I guess that was kind of obvious. My head was just stuck on using a method reference for some reason.","body":"It was guava, so Function.identity() didn&#39;t work. The a -&gt; a definitely worked. I guess that was kind of obvious. My head was just stuck on using a method reference for some reason."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681800994,"post_id":75998081,"comment_id":134110771,"body_markdown":"Depending on the context, you could use an existing method reference, e.g. `Objects::requireNonNull` (the idea of referencing `this` implied that you assume the argument to be non-`null`). Otherwise, just `x -&gt; x` will be fine. It gets compiled to the equivalent of a method reference to a private method solely consisting of `return x;` anyway.","body":"Depending on the context, you could use an existing method reference, e.g. <code>Objects::requireNonNull</code> (the idea of referencing <code>this</code> implied that you assume the argument to be non-<code>null</code>). Otherwise, just <code>x -&gt; x</code> will be fine. It gets compiled to the equivalent of a method reference to a private method solely consisting of <code>return x;</code> anyway."}],"owner":{"account_id":28287175,"reputation":3,"user_id":21627938,"display_name":"Scott McDiggles"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681318798,"creation_date":1681318798,"question_id":75998081,"body_markdown":"Is it possible to have a functional interface return the class instance? Pretend I have this interface:\r\n\r\n`Interface Foo extends Bar`\r\n\r\nNow I need to provide a functional interface that returns Bar from a Foo. \r\nI.e. Function&lt;Foo,Bar&gt;. Is there method reference for this without creating a new method. E.g. Foo::this.\r\n\r\nThis is necessary for some code I have that encapsulates and delegates to Foo, but selectively exposes some parts of the Foo interface and all of Bar. \r\n\r\n\r\n\r\nI am trying to reuse code, but I can just create a method to do this for me. ","title":"Java &quot;this&quot; method reference","body":"<p>Is it possible to have a functional interface return the class instance? Pretend I have this interface:</p>\n<p><code>Interface Foo extends Bar</code></p>\n<p>Now I need to provide a functional interface that returns Bar from a Foo.\nI.e. Function&lt;Foo,Bar&gt;. Is there method reference for this without creating a new method. E.g. Foo::this.</p>\n<p>This is necessary for some code I have that encapsulates and delegates to Foo, but selectively exposes some parts of the Foo interface and all of Bar.</p>\n<p>I am trying to reuse code, but I can just create a method to do this for me.</p>\n"},{"tags":["java","implicit-conversion","explicit-conversion"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1681311625,"post_id":75996959,"comment_id":134036617,"body_markdown":"There is no such thing as implicit casting (unless you mean a _widening reference conversion_ (i.e. assigning a sub-type to a variable or parameter of a super-type)). You&#39;re casting here, so it is an explicit cast.","body":"There is no such thing as implicit casting (unless you mean a <i>widening reference conversion</i> (i.e. assigning a sub-type to a variable or parameter of a super-type)). You&#39;re casting here, so it is an explicit cast."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1681311631,"post_id":75996959,"comment_id":134036619,"body_markdown":"Please educate us, what is an &quot;implicit cast&quot;?","body":"Please educate us, what is an &quot;implicit cast&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":16991872,"reputation":121,"user_id":12291277,"display_name":"muhrahim95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681316162,"creation_date":1681316162,"answer_id":75997721,"question_id":75996959,"body_markdown":"There are two cases to consider.\r\n\r\nYou can consider this implicit casting:\r\n```\r\nint i = 10;\r\ndouble d = i; // Implicit casting from int to double\r\nSystem.out.println(d); // Output: 10.0\r\n```\r\n\r\nAnd this is an example of explicit casting. It is made explicit with the `(int)`.\r\n```\r\ndouble d = 10.5;\r\nint i = (int) d; // Explicit casting from double to int\r\nSystem.out.println(i); // Output: 10\r\n```\r\nHence, your example is explicit casting.","title":"What is the difference between implicit and explicit casting in Java?","body":"<p>There are two cases to consider.</p>\n<p>You can consider this implicit casting:</p>\n<pre><code>int i = 10;\ndouble d = i; // Implicit casting from int to double\nSystem.out.println(d); // Output: 10.0\n</code></pre>\n<p>And this is an example of explicit casting. It is made explicit with the <code>(int)</code>.</p>\n<pre><code>double d = 10.5;\nint i = (int) d; // Explicit casting from double to int\nSystem.out.println(i); // Output: 10\n</code></pre>\n<p>Hence, your example is explicit casting.</p>\n"},{"tags":[],"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681318482,"creation_date":1681318170,"answer_id":75997984,"question_id":75996959,"body_markdown":"In Java, casting is a specific kind of expression which performs a type conversion. The Java Language Specification (JLS) defines a [cast expression][1] as having the syntactic form of `(Type) expression`, i.e. the type is written explicitly. So by this standard there is no such thing as an &quot;implicit cast&quot;: cast expressions are explicit, and other expressions are not casts.\r\n\r\nNote that while every cast expression performs a type conversion, not every expression which performs a type conversion is a cast. So e.g. in `int i = 4; double d = i;` there is an implicit conversion (specifically, a widening primitive conversion) from `int` to `double`, but this conversion is not a cast.\r\n\r\n---\r\n\r\nThat said, in another sense, Java does have some implicit casts: most *narrowing reference conversions* ─ that is, conversions from a reference type to some other reference type which is not a supertype ─ must be checked at runtime. And when they are checked at runtime, the [bytecode instruction][2] for this is named `checkcast`, and if the check fails then a `ClassCastException` is thrown. So although the JLS doesn&#39;t define narrowing reference conversions as casts, the terminology for this check at runtime means we can consider this conversion to be a kind of cast.\r\n\r\nTo be clear, narrowing reference conversions can be performed by cast expressions, in which case they would still be &quot;explicit casts&quot;. But there are also other kinds of expressions where these conversions occur. Notably, when a method&#39;s return type is a generic parameter `T`, then due to [type erasure][3] its return type at runtime is treated as if it is `T`&#39;s upper bound, so at the call-site this must be converted to whatever type `T` should be realised as at that call-site.\r\n\r\nFor example, the following code (using the generic `java.util.List`) performs an implicit narrowing reference conversion from `Object` to `String`:\r\n\r\n```java\r\nList&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n// implicit conversion from Object to String, because\r\n// List.get returns E, and E&#39;s upper bound is Object\r\nString s = list.get(0);\r\n```\r\n\r\nIn this example, there is no cast expression in the source code; so the JLS doesn&#39;t define this conversion as a cast, but as discussed above, it can reasonably called one. So we can reasonably call this an &quot;implicit cast&quot;.\r\n\r\n---\r\n\r\nHowever, if your teacher has told you that your project must use &quot;implicit casts&quot; then the appropriate thing to do would be to ask your teacher what they mean by that. Your teacher is probably not using the word &quot;cast&quot; in the sense of any specification like the JLS, so they should provide their own definition of what they mean by this word.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.16\r\n  [2]: https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6","title":"What is the difference between implicit and explicit casting in Java?","body":"<p>In Java, casting is a specific kind of expression which performs a type conversion. The Java Language Specification (JLS) defines a <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.16\" rel=\"nofollow noreferrer\">cast expression</a> as having the syntactic form of <code>(Type) expression</code>, i.e. the type is written explicitly. So by this standard there is no such thing as an &quot;implicit cast&quot;: cast expressions are explicit, and other expressions are not casts.</p>\n<p>Note that while every cast expression performs a type conversion, not every expression which performs a type conversion is a cast. So e.g. in <code>int i = 4; double d = i;</code> there is an implicit conversion (specifically, a widening primitive conversion) from <code>int</code> to <code>double</code>, but this conversion is not a cast.</p>\n<hr />\n<p>That said, in another sense, Java does have some implicit casts: most <em>narrowing reference conversions</em> ─ that is, conversions from a reference type to some other reference type which is not a supertype ─ must be checked at runtime. And when they are checked at runtime, the <a href=\"https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\" rel=\"nofollow noreferrer\">bytecode instruction</a> for this is named <code>checkcast</code>, and if the check fails then a <code>ClassCastException</code> is thrown. So although the JLS doesn't define narrowing reference conversions as casts, the terminology for this check at runtime means we can consider this conversion to be a kind of cast.</p>\n<p>To be clear, narrowing reference conversions can be performed by cast expressions, in which case they would still be &quot;explicit casts&quot;. But there are also other kinds of expressions where these conversions occur. Notably, when a method's return type is a generic parameter <code>T</code>, then due to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">type erasure</a> its return type at runtime is treated as if it is <code>T</code>'s upper bound, so at the call-site this must be converted to whatever type <code>T</code> should be realised as at that call-site.</p>\n<p>For example, the following code (using the generic <code>java.util.List</code>) performs an implicit narrowing reference conversion from <code>Object</code> to <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;);\n\n// implicit conversion from Object to String, because\n// List.get returns E, and E's upper bound is Object\nString s = list.get(0);\n</code></pre>\n<p>In this example, there is no cast expression in the source code; so the JLS doesn't define this conversion as a cast, but as discussed above, it can reasonably called one. So we can reasonably call this an &quot;implicit cast&quot;.</p>\n<hr />\n<p>However, if your teacher has told you that your project must use &quot;implicit casts&quot; then the appropriate thing to do would be to ask your teacher what they mean by that. Your teacher is probably not using the word &quot;cast&quot; in the sense of any specification like the JLS, so they should provide their own definition of what they mean by this word.</p>\n"}],"owner":{"account_id":27525630,"reputation":3,"user_id":21004985,"display_name":"Print Yo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75997721,"answer_count":2,"score":0,"last_activity_date":1681318482,"creation_date":1681311376,"question_id":75996959,"body_markdown":"What is the easiest way to include both implicit and explicit casting to your code? It is a requirement for my Java project.\r\n\r\n```java\r\nGraphic g = getGraphics();\r\nGraphics2D g2 = (Graphics2D) g;\r\ng2.setStroke(new BasicStroke(5));\r\n```\r\n\r\nThis is the only code I have. Is this considered implicit or explicit casting?","title":"What is the difference between implicit and explicit casting in Java?","body":"<p>What is the easiest way to include both implicit and explicit casting to your code? It is a requirement for my Java project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Graphic g = getGraphics();\nGraphics2D g2 = (Graphics2D) g;\ng2.setStroke(new BasicStroke(5));\n</code></pre>\n<p>This is the only code I have. Is this considered implicit or explicit casting?</p>\n"},{"tags":["java","android","android-mediaplayer","android-audiomanager","audiotrack"],"comments":[{"owner":{"account_id":16288199,"reputation":1,"user_id":11762364,"display_name":"peng zhao"},"score":0,"creation_date":1562725483,"post_id":47676936,"comment_id":100462834,"body_markdown":"i have a similar problem at https://stackoverflow.com/questions/56962412/androids-audiomanager-setmodeaudiomanager-mode-in-communication-causes-playou did you find some solutions ?","body":"i have a similar problem at <a href=\"https://stackoverflow.com/questions/56962412/androids-audiomanager-setmodeaudiomanager-mode-in-communication-causes-playou\" title=\"androids audiomanager setmodeaudiomanager mode in communication causes playou\">stackoverflow.com/questions/56962412/&hellip;</a> did you find some solutions ?"}],"answers":[{"tags":[],"owner":{"account_id":16032294,"reputation":98,"user_id":11570871,"display_name":"Alon Levy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588414901,"creation_date":1588414901,"answer_id":61557757,"question_id":47676936,"body_markdown":"In case anyone stumbles upon this post, what worked for me was calling ```AudioManager.setMode()``` and then recreating my ```MediaPlayer``` (via constructor, not ```create()```) and using ```setAudioAttributes()``` to change the output source.\r\n\r\nKotlin snippet:\r\n\r\n    fun switchOutput(inCommunication: Boolean) {\r\n        \r\n        //STEP 1: Change the AudioManager&#39;s audio mode\r\n        if(inCommunication) {\r\n            audioManager.mode = AudioManager.MODE_IN_CALL\r\n            audioManager.isSpeakerphoneOn = false\r\n        } else {\r\n            audioManager.mode = AudioManager.MODE_NORMAL\r\n            audioManager.isSpeakerphoneOn = true\r\n        }\r\n        \r\n        //STEP 2: Recreate the MediaPlayer\r\n        if (player != null) {\r\n            try {\r\n                player?.stop()\r\n            } catch (e: RuntimeException) {\r\n            } finally {\r\n                player?.reset()\r\n                player?.release()\r\n                player = null\r\n            }\r\n        }\r\n\r\n        player = MediaPlayer()\r\n        try {\r\n            val streamType =\r\n                    if (inCommunication) AudioManager.STREAM_VOICE_CALL\r\n                    else AudioManager.STREAM_MUSIC\r\n            player?.setDataSource(dataSource)\r\n            player?.setAudioAttributes(AudioAttributes.Builder()\r\n                    .setLegacyStreamType(streamType)\r\n                    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                    .build())\r\n            player?.prepare()\r\n            player?.start()\r\n        } catch (e: java.lang.Exception) {}\r\n    }\r\nHope this helps :)\r\n\r\nP.S. Notice I&#39;ve used ```MODE_IN_CALL``` instead of ```MODE_IN_COMMUNICATION```","title":"AudioManager is introducing delay in the setMode(MODE_IN_COMMUNICATION)","body":"<p>In case anyone stumbles upon this post, what worked for me was calling <code>AudioManager.setMode()</code> and then recreating my <code>MediaPlayer</code> (via constructor, not <code>create()</code>) and using <code>setAudioAttributes()</code> to change the output source.</p>\n\n<p>Kotlin snippet:</p>\n\n<pre><code>fun switchOutput(inCommunication: Boolean) {\n\n    //STEP 1: Change the AudioManager's audio mode\n    if(inCommunication) {\n        audioManager.mode = AudioManager.MODE_IN_CALL\n        audioManager.isSpeakerphoneOn = false\n    } else {\n        audioManager.mode = AudioManager.MODE_NORMAL\n        audioManager.isSpeakerphoneOn = true\n    }\n\n    //STEP 2: Recreate the MediaPlayer\n    if (player != null) {\n        try {\n            player?.stop()\n        } catch (e: RuntimeException) {\n        } finally {\n            player?.reset()\n            player?.release()\n            player = null\n        }\n    }\n\n    player = MediaPlayer()\n    try {\n        val streamType =\n                if (inCommunication) AudioManager.STREAM_VOICE_CALL\n                else AudioManager.STREAM_MUSIC\n        player?.setDataSource(dataSource)\n        player?.setAudioAttributes(AudioAttributes.Builder()\n                .setLegacyStreamType(streamType)\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                .build())\n        player?.prepare()\n        player?.start()\n    } catch (e: java.lang.Exception) {}\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n\n<p>P.S. Notice I've used <code>MODE_IN_CALL</code> instead of <code>MODE_IN_COMMUNICATION</code></p>\n"},{"tags":[],"owner":{"account_id":9499099,"reputation":379,"user_id":7060946,"display_name":"Juha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681318057,"creation_date":1681318057,"answer_id":75997972,"question_id":47676936,"body_markdown":"If device supports API level 31 or greater, it is possible to use AudioManager.OnModeChangedListener to detect when audio mode changes to MODE_IN_COMMUNICATION, something like this:\r\n\r\n    val am = getSystemService(AUDIO_SERVICE) as AudioManager\r\n    var audioModeChangedListener = AudioManager.OnModeChangedListener { mode -&gt;\r\n      if (mode == AudioManager.MODE_IN_COMMUNICATION) {\r\n        Log.d(TAG, &quot;Audio mode changed to MODE_IN_COMMUNICATION&quot;)\r\n        if (audioModeChangedListener != null) {\r\n          am.removeOnModeChangedListener(audioModeChangedListener!!)\r\n          audioModeChangedListener = null\r\n        }\r\n        // start playing\r\n      }\r\n    }\r\n    am.addOnModeChangedListener(mainExecutor, audioModeChangedListener!!)\r\n    Log.d(TAG, &quot;Setting audio mode to MODE_IN_COMMUNICATION&quot;)\r\n    am.mode = AudioManager.MODE_IN_COMMUNICATION","title":"AudioManager is introducing delay in the setMode(MODE_IN_COMMUNICATION)","body":"<p>If device supports API level 31 or greater, it is possible to use AudioManager.OnModeChangedListener to detect when audio mode changes to MODE_IN_COMMUNICATION, something like this:</p>\n<pre><code>val am = getSystemService(AUDIO_SERVICE) as AudioManager\nvar audioModeChangedListener = AudioManager.OnModeChangedListener { mode -&gt;\n  if (mode == AudioManager.MODE_IN_COMMUNICATION) {\n    Log.d(TAG, &quot;Audio mode changed to MODE_IN_COMMUNICATION&quot;)\n    if (audioModeChangedListener != null) {\n      am.removeOnModeChangedListener(audioModeChangedListener!!)\n      audioModeChangedListener = null\n    }\n    // start playing\n  }\n}\nam.addOnModeChangedListener(mainExecutor, audioModeChangedListener!!)\nLog.d(TAG, &quot;Setting audio mode to MODE_IN_COMMUNICATION&quot;)\nam.mode = AudioManager.MODE_IN_COMMUNICATION\n</code></pre>\n"}],"owner":{"account_id":11698348,"reputation":229,"user_id":8564338,"display_name":"Mr.Robot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1934,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":2,"score":8,"last_activity_date":1681318057,"creation_date":1512571295,"question_id":47676936,"body_markdown":"I am trying to play sound on speaker even if headphones are on, BUT if there is music playing in background, I want the music to be played on headphones until the sound is played. \r\n\r\nSo I am taking the next steps:\r\n\r\n - Before I play sound, I gain audioFocus so all the background music is\r\n   stopped  \r\n - After audioFocus is gained, I set `MODE_COMMUNICATION` to the\r\n   AudioManager, so the sound can be played on the speaker.  \r\n - After the sound ends, I abandonAudioFocus and set back `MODE_NORMAL` to\r\n   `AudioManager`, so the background music can continue playing on the headphones.\r\n\r\nThe strange thing is that it depends from the device, on some device this is OK, ***but on Nexus 6P (Huawei) devices after setting the `MODE_COMMUNICATION` there is delay 3-4 seconds before the sound can be played. If I play the sound without the delay, it is not played neither to speaker nor to headphones.***\r\n\r\n**THE QUESTION** \r\n\r\nHow can I know how much delay to set before the sound is played? Is there any listener that I can attach, so can notify me that after setting `MODE_COMMUNICATION` the sound is ready to be played?\r\n\r\nI don&#39;t want to set delay even if it is not necessary!\r\n\r\nThe solution is not setting the mode into the constructor of the class(to skip the delay), because I need the sound to be played on speaker in the specific moment!\r\n\r\n\r\nP.S: I am playing the sound with `AudioTrack`, but I tried with `MediaPlayer` as well (setting `setAudioStreamType(MODE_IN_COMMUNICATION)`), but no success, the delay is still there!\r\n\r\nSo any suggestions?\r\n","title":"AudioManager is introducing delay in the setMode(MODE_IN_COMMUNICATION)","body":"<p>I am trying to play sound on speaker even if headphones are on, BUT if there is music playing in background, I want the music to be played on headphones until the sound is played. </p>\n\n<p>So I am taking the next steps:</p>\n\n<ul>\n<li>Before I play sound, I gain audioFocus so all the background music is\nstopped  </li>\n<li>After audioFocus is gained, I set <code>MODE_COMMUNICATION</code> to the\nAudioManager, so the sound can be played on the speaker.  </li>\n<li>After the sound ends, I abandonAudioFocus and set back <code>MODE_NORMAL</code> to\n<code>AudioManager</code>, so the background music can continue playing on the headphones.</li>\n</ul>\n\n<p>The strange thing is that it depends from the device, on some device this is OK, <strong><em>but on Nexus 6P (Huawei) devices after setting the <code>MODE_COMMUNICATION</code> there is delay 3-4 seconds before the sound can be played. If I play the sound without the delay, it is not played neither to speaker nor to headphones.</em></strong></p>\n\n<p><strong>THE QUESTION</strong> </p>\n\n<p>How can I know how much delay to set before the sound is played? Is there any listener that I can attach, so can notify me that after setting <code>MODE_COMMUNICATION</code> the sound is ready to be played?</p>\n\n<p>I don't want to set delay even if it is not necessary!</p>\n\n<p>The solution is not setting the mode into the constructor of the class(to skip the delay), because I need the sound to be played on speaker in the specific moment!</p>\n\n<p>P.S: I am playing the sound with <code>AudioTrack</code>, but I tried with <code>MediaPlayer</code> as well (setting <code>setAudioStreamType(MODE_IN_COMMUNICATION)</code>), but no success, the delay is still there!</p>\n\n<p>So any suggestions?</p>\n"},{"tags":["java","android","xml","user-interface","screen-size"],"answers":[{"tags":[],"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681210658,"creation_date":1681210254,"answer_id":75985053,"question_id":75984572,"body_markdown":"What you are doing here shouldn&#39;t affect performance. But there are other possible issues to consider in my opinion. Reducing text size only for one text field is not a nice UX example, given there are other similar views on the screen with larger text size.\r\n\r\nProbably there is a risk of unexpected text truncation on other similar TextViews. Even if it looks fine on you device, user can still increase relative text size from device settings. So `15sp` value might appear larger than on your device. Probably it makes sense to decrease text size on all similar views (it is hard to tell without seeing UI).\r\n\r\nNot sure if it works for your case, but you can provide different `dimens.xml` for different screen sizes. E.g. in addition to default `main/res/values/dimens.xml` you could add `main/res/values-sw360dp/dimens.xml`. And you just define text size resource `&lt;dimen name=&quot;text.small&quot;&gt;15sp&lt;/dimen&gt;` in both `dimens.xml`. Let&#39;s say it is `15sp` in first one, and `14sp` on the other. The app will choose right text size resource depending on screen size. You can read more about this in official documentation https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes\r\n\r\nThis approach there you manually update text size in runtime is harder to maintain. It is easy to forget to update this piece of code is something changes in you UI. \r\n\r\nAlso please consider adding `android:ellipsize` parameter to your TextViews where needed. https://developer.android.com/reference/android/widget/TextView#attr_android:ellipsize \r\n\r\n","title":"Does UI improvements in classes &amp; fragments affect the application performance in android?","body":"<p>What you are doing here shouldn't affect performance. But there are other possible issues to consider in my opinion. Reducing text size only for one text field is not a nice UX example, given there are other similar views on the screen with larger text size.</p>\n<p>Probably there is a risk of unexpected text truncation on other similar TextViews. Even if it looks fine on you device, user can still increase relative text size from device settings. So <code>15sp</code> value might appear larger than on your device. Probably it makes sense to decrease text size on all similar views (it is hard to tell without seeing UI).</p>\n<p>Not sure if it works for your case, but you can provide different <code>dimens.xml</code> for different screen sizes. E.g. in addition to default <code>main/res/values/dimens.xml</code> you could add <code>main/res/values-sw360dp/dimens.xml</code>. And you just define text size resource <code>&lt;dimen name=&quot;text.small&quot;&gt;15sp&lt;/dimen&gt;</code> in both <code>dimens.xml</code>. Let's say it is <code>15sp</code> in first one, and <code>14sp</code> on the other. The app will choose right text size resource depending on screen size. You can read more about this in official documentation <a href=\"https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes</a></p>\n<p>This approach there you manually update text size in runtime is harder to maintain. It is easy to forget to update this piece of code is something changes in you UI.</p>\n<p>Also please consider adding <code>android:ellipsize</code> parameter to your TextViews where needed. <a href=\"https://developer.android.com/reference/android/widget/TextView#attr_android:ellipsize\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/TextView#attr_android:ellipsize</a></p>\n"}],"owner":{"account_id":22086285,"reputation":31,"user_id":16345082,"display_name":"di1um"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681317696,"creation_date":1681206826,"question_id":75984572,"body_markdown":"In the application that I am developing, there exists a toggle button for a particular option. I have utilized a single XML file to cater for all display sizes. The tab displays this screen accurately. Nonetheless, on smaller screens, the toggle overlaps with the text view within the same horizontal line. It is impractical to reduce the text size of this button from the layout as it will also decrease the text size of the tab, and there are other buttons on this screen that display correctly. The text view in question is longer compared to the other text views.\r\n\r\n\r\n\r\nTherefore, I have included code within my fragment to reduce the text sizes of this button exclusively on phones, by verifying the isSmallPortrait resource value. However, I am apprehensive that these modifications could affect the performance of the application. Is this the best approach to carry out such tasks? Are there any other best practices to accomplish this objective? (This fragment is 500 codes long)\r\n\r\n```\r\ntextDisplayLastViewed = getView().findViewById(R.id.textDisplayLastViewed);\r\n\r\n        if(!getResources().getBoolean(R.bool.isSmallPortrait)){\r\n        }\r\n        else{\r\n            textDisplayLastViewed.setTextSize(TypedValue.COMPLEX_UNIT_SP,15);\r\n        }\r\n\r\n```","title":"Does UI improvements in classes &amp; fragments affect the application performance in android?","body":"<p>In the application that I am developing, there exists a toggle button for a particular option. I have utilized a single XML file to cater for all display sizes. The tab displays this screen accurately. Nonetheless, on smaller screens, the toggle overlaps with the text view within the same horizontal line. It is impractical to reduce the text size of this button from the layout as it will also decrease the text size of the tab, and there are other buttons on this screen that display correctly. The text view in question is longer compared to the other text views.</p>\n<p>Therefore, I have included code within my fragment to reduce the text sizes of this button exclusively on phones, by verifying the isSmallPortrait resource value. However, I am apprehensive that these modifications could affect the performance of the application. Is this the best approach to carry out such tasks? Are there any other best practices to accomplish this objective? (This fragment is 500 codes long)</p>\n<pre><code>textDisplayLastViewed = getView().findViewById(R.id.textDisplayLastViewed);\n\n        if(!getResources().getBoolean(R.bool.isSmallPortrait)){\n        }\n        else{\n            textDisplayLastViewed.setTextSize(TypedValue.COMPLEX_UNIT_SP,15);\n        }\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","junit","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1571320330,"post_id":58434200,"comment_id":103208946,"body_markdown":"Based on the output you are trying to compare two different instances Money which can be identified by the `@123f1134` and `@7d68ef40`. The question is: Is this really what you like to compare?","body":"Based on the output you are trying to compare two different instances Money which can be identified by the <code>@123f1134</code> and <code>@7d68ef40</code>. The question is: Is this really what you like to compare?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1571323145,"post_id":58434200,"comment_id":103210620,"body_markdown":"The `subtract` method is not the important part here. The important part is whether the class `Money` has correctly implemented `equals()` method (and matching `hashCode()` to boot, read Javadoc for those for more details).","body":"The <code>subtract</code> method is not the important part here. The important part is whether the class <code>Money</code> has correctly implemented <code>equals()</code> method (and matching <code>hashCode()</code> to boot, read Javadoc for those for more details)."},{"owner":{"account_id":10833811,"reputation":19,"user_id":12232920,"display_name":"Samerlol"},"score":0,"creation_date":1571326732,"post_id":58434200,"comment_id":103212663,"body_markdown":"@khmarbaise, Yes I want to compare them if they have the same values, then assertthat will be true, otherwise it will output an error.","body":"@khmarbaise, Yes I want to compare them if they have the same values, then assertthat will be true, otherwise it will output an error."},{"owner":{"account_id":10833811,"reputation":19,"user_id":12232920,"display_name":"Samerlol"},"score":0,"creation_date":1571337192,"post_id":58434200,"comment_id":103217338,"body_markdown":"@M.Prokhorov Thanks. It&#39;s solved my problem by overriding equals and hashcode(used apache common library to solve it.)","body":"@M.Prokhorov Thanks. It&#39;s solved my problem by overriding equals and hashcode(used apache common library to solve it.)"}],"answers":[{"tags":[],"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571345951,"creation_date":1571320806,"answer_id":58434467,"question_id":58434200,"body_markdown":"The `isEqualTo(...)` function of AssertJ uses the objects equals method internally to determine equality. Therfore you should override the `equals()` method in your `Money` class. Then you can compare the instances by content instead of object identity, i.e. if the value is the same the instances are considered equal.\r\n\r\nThe comparison in your `if (expected.current_Money.toString().equals(0.5))` statement doesn&#39;t work, because the `expected.current_Money.toString()` part is a string and the `0.5` is auto-boxed to a Double object. Therefore the equals comparison fails because the classes are different.\r\n\r\n__Side note__: Whenever you override the `equals()` method you also need to override the `hashcode()` function to match the `equals()` function. Otherwise many classes (e.g. `HashMap`) might misbehave, because they assume that equals and hashcode work based on the same assumptions.\r\n","title":"Why is comparing same objects values using if statement or assertj always gives error?","body":"<p>The <code>isEqualTo(...)</code> function of AssertJ uses the objects equals method internally to determine equality. Therfore you should override the <code>equals()</code> method in your <code>Money</code> class. Then you can compare the instances by content instead of object identity, i.e. if the value is the same the instances are considered equal.</p>\n\n<p>The comparison in your <code>if (expected.current_Money.toString().equals(0.5))</code> statement doesn't work, because the <code>expected.current_Money.toString()</code> part is a string and the <code>0.5</code> is auto-boxed to a Double object. Therefore the equals comparison fails because the classes are different.</p>\n\n<p><strong>Side note</strong>: Whenever you override the <code>equals()</code> method you also need to override the <code>hashcode()</code> function to match the <code>equals()</code> function. Otherwise many classes (e.g. <code>HashMap</code>) might misbehave, because they assume that equals and hashcode work based on the same assumptions.</p>\n"},{"tags":[],"owner":{"account_id":5795967,"reputation":172,"user_id":4571787,"display_name":"Michael Forstner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681317657,"creation_date":1681317657,"answer_id":75997923,"question_id":58434200,"body_markdown":"Use `.isEqualByComparingTo()` for assertions with `BigDecimal`","title":"Why is comparing same objects values using if statement or assertj always gives error?","body":"<p>Use <code>.isEqualByComparingTo()</code> for assertions with <code>BigDecimal</code></p>\n"}],"owner":{"account_id":10833811,"reputation":19,"user_id":12232920,"display_name":"Samerlol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58434467,"answer_count":2,"score":0,"last_activity_date":1681317657,"creation_date":1571320005,"question_id":58434200,"body_markdown":"I subtracted two Objects using another class, but when I return the new value and compare to the expected value, it&#39;s gives error even when it&#39;s the same value(I think).\r\n\r\n\r\n\r\nI tried to use if statement but same thing.\r\n\r\n       if(expected.current_Money.toString().equals(0.5)){\r\n            System.out.println(&quot; if statmenet is working...&quot;);\r\n\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;failed&quot;);\r\n        }\r\n\r\n\r\nImports in that first class(Prefer not to change it).\r\n\r\n       import org.assertj.core.api.ThrowableAssert;\r\n       import org.junit.jupiter.api.Test;\r\n       import java.math.BigDecimal;\r\n\r\n       import static org.assertj.core.api.Assertions.assertThat;\r\n       import static org.assertj.core.api.Assertions.assertThatThrownBy;\r\n      \r\n\r\n\r\nOn the same file, we have this method.\r\n\r\n    @Test\r\n    void subtract_two_money_should_be_correct() {\r\n        Money oneDinar = new Money(BigDecimal.valueOf(1));\r\n        Money halfDinar = new Money(BigDecimal.valueOf(0.5));\r\n        System.out.println(&quot;Value of oneDinar \r\n        &quot;+oneDinar.current_Money.toString());\r\n        System.out.println(&quot;Value of halfDinar \r\n        &quot;+halfDinar.current_Money.toString());\r\n\r\n        //Money expected = oneDinar.subtract(halfDinar);\r\n        Money expected = new Money(BigDecimal.valueOf(0.5));\r\n\r\n        System.out.println(&quot;the Value of Expected \r\n        &quot;+expected.current_Money.toString());\r\n   \r\n        assertThat(expected).isEqualTo(new Money(BigDecimal.valueOf(0.5)));\r\n    }\r\n\r\n\r\n\r\n\r\nThe output of subtracted is saved to an object and have variable inside has datatype BigDecimal .\r\n\r\n\r\nOn the other file.\r\nImports\r\n\r\n\r\n    import java.math.BigDecimal;\r\n\r\n\r\n\r\nWe have these fields(variables inside the second class.\r\n\r\n\r\n \r\n\r\n \r\n\r\n        public static final Money HALF_DINAR = new \r\n      Money(BigDecimal.valueOf(0.5));\r\n    \r\n    \r\n        public static final Money QUARTER_DINAR = new \r\n      Money(BigDecimal.valueOf(0.25)) ;\r\n        public static final Money DINAR = new Money(BigDecimal.valueOf(1));\r\n        public BigDecimal current_Money;\r\n\r\nHere is the last thing, the method we used to subtract.\r\n\r\n  \r\n\r\n      public Money subtract(Money SubtractMoney) {\r\n                System.out.println(&quot;TheValue of current money &quot;+current_Money.toString());\r\n                Money current = new Money(current_Money);\r\n                System.out.println(&quot;TheValue of current  &quot;+current.current_Money.toString());\r\n        \r\n                BigDecimal subtractedNumber = current_Money.subtract(new BigDecimal(String.valueOf(SubtractMoney.current_Money)));\r\n                System.out.println(&quot;TheValue of subtractedNumber&quot;+subtractedNumber.toString());\r\n        \r\n                Money newMoney = new Money(subtractedNumber);\r\n                System.out.println(&quot;TheValue of newMoney &quot;+newMoney.current_Money.toString());\r\n        \r\n                return newMoney ;\r\n            }\r\n\r\nI expect the output will be same as that object(in numbers is the same, but it&#39;s give me wrong even if i used if statement or Assertthat.\r\n\r\nI expect output is true and no errors.\r\nalso the number is 0.5 which is the goal.\r\n\r\nOutput:\r\n\r\n    Value of oneDinar 1\r\n    Value of halfDinar 0.5\r\n    TheValue of current money 1\r\n    TheValue of current  1\r\n    TheValue of subtractedNumber0.5\r\n    TheValue of newMoney 0.5\r\n    the Value of Expected 0.5\r\n    \r\n    org.opentest4j.AssertionFailedError: \r\n    Expecting:\r\n     &lt;com.progressoft.induction.Money@123f1134&gt;\r\n    to be equal to:\r\n     &lt;com.progressoft.induction.Money@7d68ef40&gt;\r\n    but was not.\r\n    Expected :com.progressoft.induction.Money@7d68ef40\r\n    Actual   :com.progressoft.induction.Money@123f1134\r\n\r\n\r\n\r\n","title":"Why is comparing same objects values using if statement or assertj always gives error?","body":"<p>I subtracted two Objects using another class, but when I return the new value and compare to the expected value, it's gives error even when it's the same value(I think).</p>\n\n<p>I tried to use if statement but same thing.</p>\n\n<pre><code>   if(expected.current_Money.toString().equals(0.5)){\n        System.out.println(\" if statmenet is working...\");\n\n    }\n    else\n    {\n        System.out.println(\"failed\");\n    }\n</code></pre>\n\n<p>Imports in that first class(Prefer not to change it).</p>\n\n<pre><code>   import org.assertj.core.api.ThrowableAssert;\n   import org.junit.jupiter.api.Test;\n   import java.math.BigDecimal;\n\n   import static org.assertj.core.api.Assertions.assertThat;\n   import static org.assertj.core.api.Assertions.assertThatThrownBy;\n</code></pre>\n\n<p>On the same file, we have this method.</p>\n\n<pre><code>@Test\nvoid subtract_two_money_should_be_correct() {\n    Money oneDinar = new Money(BigDecimal.valueOf(1));\n    Money halfDinar = new Money(BigDecimal.valueOf(0.5));\n    System.out.println(\"Value of oneDinar \n    \"+oneDinar.current_Money.toString());\n    System.out.println(\"Value of halfDinar \n    \"+halfDinar.current_Money.toString());\n\n    //Money expected = oneDinar.subtract(halfDinar);\n    Money expected = new Money(BigDecimal.valueOf(0.5));\n\n    System.out.println(\"the Value of Expected \n    \"+expected.current_Money.toString());\n\n    assertThat(expected).isEqualTo(new Money(BigDecimal.valueOf(0.5)));\n}\n</code></pre>\n\n<p>The output of subtracted is saved to an object and have variable inside has datatype BigDecimal .</p>\n\n<p>On the other file.\nImports</p>\n\n<pre><code>import java.math.BigDecimal;\n</code></pre>\n\n<p>We have these fields(variables inside the second class.</p>\n\n<pre><code>    public static final Money HALF_DINAR = new \n  Money(BigDecimal.valueOf(0.5));\n\n\n    public static final Money QUARTER_DINAR = new \n  Money(BigDecimal.valueOf(0.25)) ;\n    public static final Money DINAR = new Money(BigDecimal.valueOf(1));\n    public BigDecimal current_Money;\n</code></pre>\n\n<p>Here is the last thing, the method we used to subtract.</p>\n\n<pre><code>  public Money subtract(Money SubtractMoney) {\n            System.out.println(\"TheValue of current money \"+current_Money.toString());\n            Money current = new Money(current_Money);\n            System.out.println(\"TheValue of current  \"+current.current_Money.toString());\n\n            BigDecimal subtractedNumber = current_Money.subtract(new BigDecimal(String.valueOf(SubtractMoney.current_Money)));\n            System.out.println(\"TheValue of subtractedNumber\"+subtractedNumber.toString());\n\n            Money newMoney = new Money(subtractedNumber);\n            System.out.println(\"TheValue of newMoney \"+newMoney.current_Money.toString());\n\n            return newMoney ;\n        }\n</code></pre>\n\n<p>I expect the output will be same as that object(in numbers is the same, but it's give me wrong even if i used if statement or Assertthat.</p>\n\n<p>I expect output is true and no errors.\nalso the number is 0.5 which is the goal.</p>\n\n<p>Output:</p>\n\n<pre><code>Value of oneDinar 1\nValue of halfDinar 0.5\nTheValue of current money 1\nTheValue of current  1\nTheValue of subtractedNumber0.5\nTheValue of newMoney 0.5\nthe Value of Expected 0.5\n\norg.opentest4j.AssertionFailedError: \nExpecting:\n &lt;com.progressoft.induction.Money@123f1134&gt;\nto be equal to:\n &lt;com.progressoft.induction.Money@7d68ef40&gt;\nbut was not.\nExpected :com.progressoft.induction.Money@7d68ef40\nActual   :com.progressoft.induction.Money@123f1134\n</code></pre>\n"},{"tags":["java","freemarker","openhtmltopdf"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678880725,"post_id":75743921,"comment_id":133617945,"body_markdown":"Does this answer your question? [Unicode(0xb) error while parsing an XML file using Stax](https://stackoverflow.com/questions/14192135/unicode0xb-error-while-parsing-an-xml-file-using-stax)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14192135/unicode0xb-error-while-parsing-an-xml-file-using-stax\">Unicode(0xb) error while parsing an XML file using Stax</a>"}],"answers":[{"tags":[],"owner":{"account_id":19316522,"reputation":608,"user_id":14121186,"display_name":"Caleb Keller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681317340,"creation_date":1681315977,"answer_id":75997695,"question_id":75743921,"body_markdown":"If you don&#39;t have any control over the data you&#39;re getting from your API, you can use a regex to remove all the invalid characters.\r\n\r\nFor XML 1.0, another [StackOverflow answer][1] recommends using something like this:\r\n\r\n```java\r\n// Regex matches illegal XML 1.0 characters\r\nString xml10pattern = &quot;[^\\u0009\\u0020-\\uD7FF\\uE000-\\uFFFD\\ud800\\udc00-\\udbff\\udfff\\r\\n]&quot;;\r\n\r\nString badXmlData = &quot;\\u0011 YOUR XML STRING HERE&quot;;\r\n\r\n// Replace all the matching (illegal) characters with the empty string, removing them\r\nString cleanXmlData = badXmlData.replaceAll(xml10pattern, &quot;&quot;);\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/4237934/14121186","title":"Freemarker-An invalid XML character (Unicode: 0xb) was found in the element content of the document","body":"<p>If you don't have any control over the data you're getting from your API, you can use a regex to remove all the invalid characters.</p>\n<p>For XML 1.0, another <a href=\"https://stackoverflow.com/a/4237934/14121186\">StackOverflow answer</a> recommends using something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Regex matches illegal XML 1.0 characters\nString xml10pattern = &quot;[^\\u0009\\u0020-\\uD7FF\\uE000-\\uFFFD\\ud800\\udc00-\\udbff\\udfff\\r\\n]&quot;;\n\nString badXmlData = &quot;\\u0011 YOUR XML STRING HERE&quot;;\n\n// Replace all the matching (illegal) characters with the empty string, removing them\nString cleanXmlData = badXmlData.replaceAll(xml10pattern, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":25230704,"reputation":19,"user_id":19065902,"display_name":"Ganesh Mandapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681317340,"creation_date":1678878727,"question_id":75743921,"body_markdown":"I&#39;m using freemarker in Prints. Sometimes I&#39;m getting an invalid XML character code error. I&#39;m can not control what data is coming from API JSON.IN JSON I&#39;m getting data like this format\r\n\r\n```\r\n {&quot;key&quot;:&quot;HMA \\u2013AZACITIDINE&quot;}\r\n```","title":"Freemarker-An invalid XML character (Unicode: 0xb) was found in the element content of the document","body":"<p>I'm using freemarker in Prints. Sometimes I'm getting an invalid XML character code error. I'm can not control what data is coming from API JSON.IN JSON I'm getting data like this format</p>\n<pre><code> {&quot;key&quot;:&quot;HMA \\u2013AZACITIDINE&quot;}\n</code></pre>\n"},{"tags":["java","unicode","character-encoding"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1313022455,"post_id":7019504,"comment_id":8383639,"body_markdown":"short answer to your question, is **No it is not guaranteed**","body":"short answer to your question, is <b>No it is not guaranteed</b>"},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":1,"creation_date":1313022535,"post_id":7019504,"comment_id":8383653,"body_markdown":"Yes, it is. The internal representation is quite well defined.","body":"Yes, it is. The internal representation is quite well defined."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1313025453,"post_id":7019504,"comment_id":8384063,"body_markdown":"@Ernest - no it is not.  Many of the standard Java library classes are designed to work on the assumption that a `char` contains a Unicode code unit, but the application can basically put any 16 bit unsigned integer value into a `char`.  The value is not required to be encoded in any particular way.  It does not even need to represent a complete (or partial) &quot;character&quot;.","body":"@Ernest - no it is not.  Many of the standard Java library classes are designed to work on the assumption that a <code>char</code> contains a Unicode code unit, but the application can basically put any 16 bit unsigned integer value into a <code>char</code>.  The value is not required to be encoded in any particular way.  It does not even need to represent a complete (or partial) &quot;character&quot;."},{"owner":{"account_id":348486,"reputation":6795,"user_id":683200,"accept_rate":93,"display_name":"pepsi"},"score":0,"creation_date":1313025637,"post_id":7019504,"comment_id":8384080,"body_markdown":"What about char literals? For example, &#39;c&#39; must have some value that is defined by the language.","body":"What about char literals? For example, &#39;c&#39; must have some value that is defined by the language."}],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1313030594,"creation_date":1313022306,"answer_id":7019515,"question_id":7019504,"body_markdown":"&quot;Stored&quot; where? All Strings in Java are [represented in UTF-16][1]. When written to a file, sent across a network, or whatever else, it&#39;s sent using whatever character encoding you specify.\r\n\r\n**Edit:** Specifically for the `char` type, see the [Character docs][2]. Specifically: &quot;The char data type ... are based on the original Unicode specification, which defined characters as fixed-width 16-bit entities.&quot; Therefore, casting `char` to `int` will always give you a UTF-16 value *if* the `char` actually contains a character from that charset. If you just poked some random value into the `char`, it obviously won&#39;t necessarily be a valid UTF-16 character, and likewise if you read the character in using a bad encoding. The docs go on to discuss how the supplementary UTF-16 characters can only be represented by an `int`, since `char` doesn&#39;t have enough space to hold them, and if you&#39;re operating at this level, it might be important to get familiar with those semantics.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html","title":"In what encoding is a Java char stored in?","body":"<p>\"Stored\" where? All Strings in Java are <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\">represented in UTF-16</a>. When written to a file, sent across a network, or whatever else, it's sent using whatever character encoding you specify.</p>\n\n<p><strong>Edit:</strong> Specifically for the <code>char</code> type, see the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html\" rel=\"noreferrer\">Character docs</a>. Specifically: \"The char data type ... are based on the original Unicode specification, which defined characters as fixed-width 16-bit entities.\" Therefore, casting <code>char</code> to <code>int</code> will always give you a UTF-16 value <em>if</em> the <code>char</code> actually contains a character from that charset. If you just poked some random value into the <code>char</code>, it obviously won't necessarily be a valid UTF-16 character, and likewise if you read the character in using a bad encoding. The docs go on to discuss how the supplementary UTF-16 characters can only be represented by an <code>int</code>, since <code>char</code> doesn't have enough space to hold them, and if you're operating at this level, it might be important to get familiar with those semantics.</p>\n"},{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313022383,"creation_date":1313022383,"answer_id":7019520,"question_id":7019504,"body_markdown":"Originally, Java used UCS-2 internally; now it uses UTF-16. The two are virtually identical, except for D800 - DFFF, which are used in UTF-16 as part of the extended representation for larger characters. ","title":"In what encoding is a Java char stored in?","body":"<p>Originally, Java used UCS-2 internally; now it uses UTF-16. The two are virtually identical, except for D800 - DFFF, which are used in UTF-16 as part of the extended representation for larger characters. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1681317197,"creation_date":1313024787,"answer_id":7019729,"question_id":7019504,"body_markdown":"A Java `char` is conventionally used to hold a [Unicode code unit][1]; i.e. a 16 bit unit that is part of a valid UTF-16 sequence.  \r\n\r\n(A `char` can also represent a [Unicode code point][1].  However, since Unicode 2.0, not all code points will fit into a single Java `char`; see below.)\r\n\r\nHowever, there is nothing to prevent an application from putting any 16 bit unsigned value into a `char`, irrespective of what it actually means.  So you while a Unicode code unit (and some code points) *can be* represented by a `char` and a `char` *can* represent a Unicode code unit ... but neither of these is *always* the case.\r\n\r\nYour (original) question about how a Java `char` is stored cannot be answered.  Simply said, it depends on what you mean by &quot;stored&quot;:\r\n\r\n  - If you mean &quot;represented in an executing program&quot;, then the answer is JVM implementation specific.  (The `char` data type is typically represented as a 16 bit machine integer, though it may or may not be machine word aligned, depending on the specific context.)\r\n\r\n  - If you mean &quot;stored in a file&quot; or something like that, then the answer is *entirely dependent* on how the application chooses to store it.\r\n\r\n-----------\r\n\r\n&gt; Is the Java `char` type guaranteed to be stored in any particular encoding?\r\n\r\nIn the light of what I said above the answer is &quot;No&quot;.  In an executing application, it is up to the application to decide what a `char` means / contains.  When a `char` is stored to a file, the application decides how it wants to store it and what on-disk representation it will use.\r\n\r\n-----------\r\n\r\n**FOLLOWUP**\r\n\r\n&gt; What about char literals? For example, &#39;c&#39; must have some value that is defined by the language.\r\n\r\nJava source code is required (by the language spec) to be Unicode text, represented in some character encoding that the tool chain understands; see the `javac` `-encoding` option.  In theory, a character encoding *could* map the `c` in `&#39;c&#39;` in your source code to something unexpected.\r\n\r\nIn practice though, the `c` will map to the Unicode lower-case C code-point (U+0063) and will be represented as the 16-bit unsigned value 0x0063.\r\n\r\nTo the extent that `char` literals have a *meaning* ascribed by the Java language, they represent (and are represented as) UTF-16 code units or Unicode code points (or both).  \r\n\r\nThe values of a `char` all (technically) correspond to Unicode code points, but not all Unicode code points in the range U+0000 to U+FFFF correspond to what you would think of as meaningful characters;\r\n\r\n  - Some are simply unassigned; i.e. U+FFFE and U+FFFF.\r\n  - Others are reserved for private use or future use.  \r\n  - Code points in the range U+D800 to U+DFFF are UTF-16 surrogates.  These represent either the top or bottom half of the UTF-16 encoding of a Unicode higher plane code point; i.e. from U+10000 to U+10FFFF. \r\n\r\nConversely, the Unicode higher plane code points (U+10000 to U+10FFFF) cannot be represented as a single Java `char`, and therefore cannot be denoted by a single Java `char` literal.  Java `int` is typically used to represent one of these code points, and this is why the `String::codePointAt` method returns an `int`.  \r\n\r\n--------------------\r\n\r\n&gt; Why didn&#39;t they define `char` to be capable of holding all Unicode code points (loosely &quot;characters&quot;)?\r\n\r\nHistory.  Java was designed when a Unicode code point *did* fit into an unsigned 16 bit integer.  But then Unicode 2.0 broke that assumption, and redefining the Java `char` type was not an option.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode","title":"In what encoding is a Java char stored in?","body":"<p>A Java <code>char</code> is conventionally used to hold a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">Unicode code unit</a>; i.e. a 16 bit unit that is part of a valid UTF-16 sequence.</p>\n<p>(A <code>char</code> can also represent a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">Unicode code point</a>.  However, since Unicode 2.0, not all code points will fit into a single Java <code>char</code>; see below.)</p>\n<p>However, there is nothing to prevent an application from putting any 16 bit unsigned value into a <code>char</code>, irrespective of what it actually means.  So you while a Unicode code unit (and some code points) <em>can be</em> represented by a <code>char</code> and a <code>char</code> <em>can</em> represent a Unicode code unit ... but neither of these is <em>always</em> the case.</p>\n<p>Your (original) question about how a Java <code>char</code> is stored cannot be answered.  Simply said, it depends on what you mean by &quot;stored&quot;:</p>\n<ul>\n<li><p>If you mean &quot;represented in an executing program&quot;, then the answer is JVM implementation specific.  (The <code>char</code> data type is typically represented as a 16 bit machine integer, though it may or may not be machine word aligned, depending on the specific context.)</p>\n</li>\n<li><p>If you mean &quot;stored in a file&quot; or something like that, then the answer is <em>entirely dependent</em> on how the application chooses to store it.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>Is the Java <code>char</code> type guaranteed to be stored in any particular encoding?</p>\n</blockquote>\n<p>In the light of what I said above the answer is &quot;No&quot;.  In an executing application, it is up to the application to decide what a <code>char</code> means / contains.  When a <code>char</code> is stored to a file, the application decides how it wants to store it and what on-disk representation it will use.</p>\n<hr />\n<p><strong>FOLLOWUP</strong></p>\n<blockquote>\n<p>What about char literals? For example, 'c' must have some value that is defined by the language.</p>\n</blockquote>\n<p>Java source code is required (by the language spec) to be Unicode text, represented in some character encoding that the tool chain understands; see the <code>javac</code> <code>-encoding</code> option.  In theory, a character encoding <em>could</em> map the <code>c</code> in <code>'c'</code> in your source code to something unexpected.</p>\n<p>In practice though, the <code>c</code> will map to the Unicode lower-case C code-point (U+0063) and will be represented as the 16-bit unsigned value 0x0063.</p>\n<p>To the extent that <code>char</code> literals have a <em>meaning</em> ascribed by the Java language, they represent (and are represented as) UTF-16 code units or Unicode code points (or both).</p>\n<p>The values of a <code>char</code> all (technically) correspond to Unicode code points, but not all Unicode code points in the range U+0000 to U+FFFF correspond to what you would think of as meaningful characters;</p>\n<ul>\n<li>Some are simply unassigned; i.e. U+FFFE and U+FFFF.</li>\n<li>Others are reserved for private use or future use.</li>\n<li>Code points in the range U+D800 to U+DFFF are UTF-16 surrogates.  These represent either the top or bottom half of the UTF-16 encoding of a Unicode higher plane code point; i.e. from U+10000 to U+10FFFF.</li>\n</ul>\n<p>Conversely, the Unicode higher plane code points (U+10000 to U+10FFFF) cannot be represented as a single Java <code>char</code>, and therefore cannot be denoted by a single Java <code>char</code> literal.  Java <code>int</code> is typically used to represent one of these code points, and this is why the <code>String::codePointAt</code> method returns an <code>int</code>.</p>\n<hr />\n<blockquote>\n<p>Why didn't they define <code>char</code> to be capable of holding all Unicode code points (loosely &quot;characters&quot;)?</p>\n</blockquote>\n<p>History.  Java was designed when a Unicode code point <em>did</em> fit into an unsigned 16 bit integer.  But then Unicode 2.0 broke that assumption, and redefining the Java <code>char</code> type was not an option.</p>\n"}],"owner":{"account_id":348486,"reputation":6795,"user_id":683200,"accept_rate":93,"display_name":"pepsi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17199,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":7019515,"answer_count":3,"score":15,"last_activity_date":1681317197,"creation_date":1313022205,"question_id":7019504,"body_markdown":"Is the Java char type guaranteed to be stored in any particular encoding?\r\n\r\nEdit: I phrased this question incorrectly. What I meant to ask is **are char literals guaranteed to use any particular encoding?**\r\n\r\n","title":"In what encoding is a Java char stored in?","body":"<p>Is the Java char type guaranteed to be stored in any particular encoding?</p>\n\n<p>Edit: I phrased this question incorrectly. What I meant to ask is <strong>are char literals guaranteed to use any particular encoding?</strong></p>\n"},{"tags":["c#","java","public","dijkstra","gtfs"],"comments":[{"owner":{"account_id":4403952,"reputation":13361,"user_id":3588876,"accept_rate":78,"display_name":"rafa.pereira"},"score":2,"creation_date":1445605983,"post_id":3628588,"comment_id":54405153,"body_markdown":"[OSRM](http://project-osrm.org/) is an open source routing engine for shortest paths based in C++ . You might find it useful.","body":"<a href=\"http://project-osrm.org/\" rel=\"nofollow noreferrer\">OSRM</a> is an open source routing engine for shortest paths based in C++ . You might find it useful."}],"answers":[{"tags":[],"owner":{"account_id":194186,"reputation":70518,"user_id":436376,"accept_rate":94,"display_name":"KeithS"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1283442412,"creation_date":1283442412,"answer_id":3628774,"question_id":3628588,"body_markdown":"Conceptually, you take the same basic algorithm for evaluating distance between A and B, but instead of distance, you should be evaluating time. Dijkstra can do both, if you give it the proper inputs.\r\n\r\nYou&#39;re used to seeing a map as a measure of distance. However, the same map can be a measure of time as well; all you need is to add data about average speed, and the time it takes to cover a particular distance of a particular road will shake itself out. You can even visualize the map in terms of time; routes that take longer will be longer. Dijkstra doesn&#39;t care which it&#39;s evaluating, really; it just cares about finding the continuous route with the lowest number, and whether that number represents length or time is immaterial. \r\n\r\nTo incorporate speed, naive algorithms simply use the daytime speed limit and assume you never have to stop while going from A to B; more advanced algorithms can incorporate information about time of day and traffic patterns (which will impact the average speed you travel on that road at that time), and whether a road is a freeway or surface street (and thus make educated guesses about time spent stopped at an intersection). What you use depends on what you have available, but a basic 4- or 5-layer time of day dimension should be adequate for all but the absolute most time-critical applications. For each direction of each road in your map, you need the average speed during morning rush, daytime, evening rush and night, possibly with lunchtime numbers as well. Once you have that, it&#39;s a relatively basic change to a Dijkstra algorithm to pass in a time of day and have it evaluate routes based on time.","title":"Bus public transport algorithm","body":"<p>Conceptually, you take the same basic algorithm for evaluating distance between A and B, but instead of distance, you should be evaluating time. Dijkstra can do both, if you give it the proper inputs.</p>\n\n<p>You're used to seeing a map as a measure of distance. However, the same map can be a measure of time as well; all you need is to add data about average speed, and the time it takes to cover a particular distance of a particular road will shake itself out. You can even visualize the map in terms of time; routes that take longer will be longer. Dijkstra doesn't care which it's evaluating, really; it just cares about finding the continuous route with the lowest number, and whether that number represents length or time is immaterial. </p>\n\n<p>To incorporate speed, naive algorithms simply use the daytime speed limit and assume you never have to stop while going from A to B; more advanced algorithms can incorporate information about time of day and traffic patterns (which will impact the average speed you travel on that road at that time), and whether a road is a freeway or surface street (and thus make educated guesses about time spent stopped at an intersection). What you use depends on what you have available, but a basic 4- or 5-layer time of day dimension should be adequate for all but the absolute most time-critical applications. For each direction of each road in your map, you need the average speed during morning rush, daytime, evening rush and night, possibly with lunchtime numbers as well. Once you have that, it's a relatively basic change to a Dijkstra algorithm to pass in a time of day and have it evaluate routes based on time.</p>\n"},{"tags":[],"owner":{"account_id":192984,"reputation":1462,"user_id":434439,"accept_rate":80,"display_name":"Richard Warburton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283442546,"creation_date":1283442546,"answer_id":3628793,"question_id":3628588,"body_markdown":"If you are interested in time information, then why not label the distance values on the graph edges using the time information instead of their physical distance from each other.  That way you will search for the quickest route, instead of the shortest route.  You can then use Dijkstra/A* in order to compute the your result.\r\n\r\nI&#39;m a little unclear on what you mean by time dependent.  If you mean that that you need to answer queries of the form &#39;goes from x to y before 10am&#39; then you can calculate what bus routes arrive before 10am, seems like a simple filter on the data.  Then apply Dijkstra/A* to the data.","title":"Bus public transport algorithm","body":"<p>If you are interested in time information, then why not label the distance values on the graph edges using the time information instead of their physical distance from each other.  That way you will search for the quickest route, instead of the shortest route.  You can then use Dijkstra/A* in order to compute the your result.</p>\n\n<p>I'm a little unclear on what you mean by time dependent.  If you mean that that you need to answer queries of the form 'goes from x to y before 10am' then you can calculate what bus routes arrive before 10am, seems like a simple filter on the data.  Then apply Dijkstra/A* to the data.</p>\n"},{"tags":[],"owner":{"account_id":141766,"reputation":16744,"user_id":349043,"accept_rate":95,"display_name":"Pete"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1283445286,"creation_date":1283442582,"answer_id":3628801,"question_id":3628588,"body_markdown":"The problem you are working on is not a trivial task.  So much so, that is has a name: the mixed integer nonlinear programming problem (MINLP).  In the words of one author (Deb 1998):\r\n\r\n&gt; &quot;When formulated mathematically, the\r\n&gt; time scheduling problem becomes a\r\n&gt; mixed integer nonlinear programming\r\n&gt; problem (MINLP) having a large number\r\n&gt; of resource- and service-related\r\n&gt; constraints. Although attempts have\r\n&gt; been made in the past to find an\r\n&gt; optimal schedule of a simplified model\r\n&gt; using classical optimization\r\n&gt; techniques (Bookbinder &amp; DCsilets,\r\n&gt; 1992; Kikuchi &amp; Parameswaran, 1993),\r\n&gt; it is observed that this is an\r\n&gt; extremely difficult task even for a\r\n&gt; small transit network.  The difficulty\r\n&gt; arises mainly because of the large\r\n&gt; number of variables and constraints,\r\n&gt; discrete nature of variables, and\r\n&gt; nonlinearities involved in the\r\n&gt; objective function and the\r\n&gt; constraints.&quot;\r\n\r\nIn Deb&#39;s paper he proposes a genetic algorithm.  \r\n\r\nYour other option would be to use simulation.  Just to throw something out there you can try right away-- choose thousands of random routes that start at your origin, and fish out the ones that work reasonably well at getting to the destination.\r\n\r\nPicture the algorithm like this: You are trying to find the quickest route from stop A to stop B, starting at a certain time.  You hire 1,000 people and arm them with a quarter to flip.  You tell them to flip the coin every time they have a chance to get on or off a bus.  Heads, get off (or get on, if already off).  Tails, stay on (or keep waiting, if off).  They each have an index card to write down the choices they make as they go.  You go to point B and wait for the first guy to show up and take his card.","title":"Bus public transport algorithm","body":"<p>The problem you are working on is not a trivial task.  So much so, that is has a name: the mixed integer nonlinear programming problem (MINLP).  In the words of one author (Deb 1998):</p>\n\n<blockquote>\n  <p>\"When formulated mathematically, the\n  time scheduling problem becomes a\n  mixed integer nonlinear programming\n  problem (MINLP) having a large number\n  of resource- and service-related\n  constraints. Although attempts have\n  been made in the past to find an\n  optimal schedule of a simplified model\n  using classical optimization\n  techniques (Bookbinder &amp; DCsilets,\n  1992; Kikuchi &amp; Parameswaran, 1993),\n  it is observed that this is an\n  extremely difficult task even for a\n  small transit network.  The difficulty\n  arises mainly because of the large\n  number of variables and constraints,\n  discrete nature of variables, and\n  nonlinearities involved in the\n  objective function and the\n  constraints.\"</p>\n</blockquote>\n\n<p>In Deb's paper he proposes a genetic algorithm.  </p>\n\n<p>Your other option would be to use simulation.  Just to throw something out there you can try right away-- choose thousands of random routes that start at your origin, and fish out the ones that work reasonably well at getting to the destination.</p>\n\n<p>Picture the algorithm like this: You are trying to find the quickest route from stop A to stop B, starting at a certain time.  You hire 1,000 people and arm them with a quarter to flip.  You tell them to flip the coin every time they have a chance to get on or off a bus.  Heads, get off (or get on, if already off).  Tails, stay on (or keep waiting, if off).  They each have an index card to write down the choices they make as they go.  You go to point B and wait for the first guy to show up and take his card.</p>\n"},{"tags":[],"owner":{"account_id":8316,"reputation":1986,"user_id":14930,"display_name":"Philip Tinney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283450824,"creation_date":1283449828,"answer_id":3629755,"question_id":3628588,"body_markdown":"Try this as your data model.\r\n\r\nBus 1 goes to stops A, B and C.  Bus 2 goes to stops B, D and E.\r\n\r\nI would store a unique node based on both bus and stop, with distances to nodes being based on time.  We would have node A1, B1, C1, B2, D2 and E2.  In the special case of transfers apply the wait for the next bus as the distance between nodes.  For example, if Bus 1 arrives at stop B 30 minutes before Bus 2, travel time from B1 to B2 is 30 minutes.\r\n\r\nYou should than be able to apply Dijkstra&#39;s Algorithm.","title":"Bus public transport algorithm","body":"<p>Try this as your data model.</p>\n\n<p>Bus 1 goes to stops A, B and C.  Bus 2 goes to stops B, D and E.</p>\n\n<p>I would store a unique node based on both bus and stop, with distances to nodes being based on time.  We would have node A1, B1, C1, B2, D2 and E2.  In the special case of transfers apply the wait for the next bus as the distance between nodes.  For example, if Bus 1 arrives at stop B 30 minutes before Bus 2, travel time from B1 to B2 is 30 minutes.</p>\n\n<p>You should than be able to apply Dijkstra's Algorithm.</p>\n"},{"tags":[],"owner":{"account_id":234527,"reputation":190,"user_id":500746,"display_name":"Jakob Erdmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1289225059,"creation_date":1289225059,"answer_id":4124563,"question_id":3628588,"body_markdown":"read this: \r\n\r\nMulti-Modal Route Planning.\r\nMaster&#39;s thesis, Universit&#228;t Karlsruhe (TH), Fakult&#228;t f&#252;r Informatik, 2009.\r\nonline available at http://i11www.ira.uka.de/extra/publications/p-mmrp-09.pdf\r\n\r\nthe section on railway routing also applies for bus routing.\r\n\r\nThe gist of it: the naive approach of expanding space and time into a single graph does not work for large networks. There are smarter solutions.","title":"Bus public transport algorithm","body":"<p>read this: </p>\n\n<p>Multi-Modal Route Planning.\nMaster's thesis, Universität Karlsruhe (TH), Fakultät für Informatik, 2009.\nonline available at <a href=\"http://i11www.ira.uka.de/extra/publications/p-mmrp-09.pdf\" rel=\"noreferrer\">http://i11www.ira.uka.de/extra/publications/p-mmrp-09.pdf</a></p>\n\n<p>the section on railway routing also applies for bus routing.</p>\n\n<p>The gist of it: the naive approach of expanding space and time into a single graph does not work for large networks. There are smarter solutions.</p>\n"},{"tags":[],"owner":{"account_id":184171,"reputation":2746,"user_id":420047,"accept_rate":79,"display_name":"Daniel Novak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306934442,"creation_date":1306934139,"answer_id":6201733,"question_id":3628588,"body_markdown":"Just wanted to share my final approach on this problem. This was part of a university project, so it might not be fully suitable for real world use. It had to be reasonably fast to run on a Windows Mobile device. \r\n\r\nI ended up using 4 tables (SQLite). One table keeps the list of buses, the second one keeps a list of stations. Another table keeps the combinations - what bus does stop at a specific station and where does it go from this station and how long (minutes) does it take. All combinations have to be stored. And the last table is a simple time-table. For every station it lists every bus that stops there and the time (I stored the time as integer value - 14:34 is 1434, to make it faster for comparing). \r\n\r\nI used a bi-directional breadth first search algorithm. The neighbor stations (directly accessible) are retrieved for the start station and destination station. There is a path from station A to station X if these two &quot;graphs&quot; overlap on a station. For example, from station A you can get to stations B,C,D,E (by using specific buses). And from the destination station X you can get directly to N,C,Z. These two graphs overlap on station C. So a path A -&gt; C -&gt; X exists. If no paths are found in this first iteration, then the algorithm continues and spreads out the graphs (BFS) again.\r\n\r\nTime is not taken into account in the first step - this makes it fast enough. You only get a list of possible paths with a list of buses that you have to use to take these paths.\r\nThe times are evaluated in the last step, you go through the list of possible paths and check if the bus travels within the specific time (increasing the time every stop).\r\n\r\nOn a small city, with 250 stations and 100+ buses/railways, these approach works up to 3 changes (where you have to change the buses on the journey). It takes only seconds to calculate. But I had to load the whole database into memory (Dictionary) to speed up the queries, which were taking too long.\r\n\r\nI don&#39;t think this would work for a large network though. But it works for a public transport of a single small-medium size city.","title":"Bus public transport algorithm","body":"<p>Just wanted to share my final approach on this problem. This was part of a university project, so it might not be fully suitable for real world use. It had to be reasonably fast to run on a Windows Mobile device. </p>\n\n<p>I ended up using 4 tables (SQLite). One table keeps the list of buses, the second one keeps a list of stations. Another table keeps the combinations - what bus does stop at a specific station and where does it go from this station and how long (minutes) does it take. All combinations have to be stored. And the last table is a simple time-table. For every station it lists every bus that stops there and the time (I stored the time as integer value - 14:34 is 1434, to make it faster for comparing). </p>\n\n<p>I used a bi-directional breadth first search algorithm. The neighbor stations (directly accessible) are retrieved for the start station and destination station. There is a path from station A to station X if these two \"graphs\" overlap on a station. For example, from station A you can get to stations B,C,D,E (by using specific buses). And from the destination station X you can get directly to N,C,Z. These two graphs overlap on station C. So a path A -> C -> X exists. If no paths are found in this first iteration, then the algorithm continues and spreads out the graphs (BFS) again.</p>\n\n<p>Time is not taken into account in the first step - this makes it fast enough. You only get a list of possible paths with a list of buses that you have to use to take these paths.\nThe times are evaluated in the last step, you go through the list of possible paths and check if the bus travels within the specific time (increasing the time every stop).</p>\n\n<p>On a small city, with 250 stations and 100+ buses/railways, these approach works up to 3 changes (where you have to change the buses on the journey). It takes only seconds to calculate. But I had to load the whole database into memory (Dictionary) to speed up the queries, which were taking too long.</p>\n\n<p>I don't think this would work for a large network though. But it works for a public transport of a single small-medium size city.</p>\n"},{"tags":[],"owner":{"account_id":901730,"reputation":11596,"user_id":937715,"accept_rate":90,"display_name":"Sean Barbeau"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681317121,"creation_date":1410059577,"answer_id":25706756,"question_id":3628588,"body_markdown":"There is an extensive list of publications (30+) on public transport routing algorithms that has been compiled over time by contributors to the open-source (Java) [OpenTripPlanner project](http://www.opentripplanner.org/) here:\r\n\r\nhttps://docs.opentripplanner.org/en/latest/Bibliography/\r\n\r\nOpenTripPlanner is multi-modal routing engine that also includes bike and walk - from the above link:\r\n\r\n&gt;This is a list of articles, dissertations, and books that have inspired and informed both the existing OTP routing engine and some ongoing experiments.  Currently, OpenTripPlanner uses a single time-dependent (as opposed to time-expanded) graph that contains both street and transit networks. Walk-only and bicycle-only trips are generally planned using the A* algorithm with a Euclidean heuristic or contraction hierarchies. Walk+Transit or Bike+Transit trips are planned using a variant of the MOA* algorithm with epsilon-dominance for path pruning and the Tung-Chew heuristic (a graph providing a lower bound on aggregate weight) for queue ordering.\r\n\r\nThe routing bibliography above includes references for the following categories of algorithms and related work:\r\n\r\n* Path Search Speedup Techniques\r\n* Multi-objective Pareto Shortest Paths\r\n* Resource-constrained Routing\r\n* Contraction and Transfer Patterns\r\n* Timetable-based routing\r\n* ALT and Metric Embeddings\r\n* Calibration and Implementation Details\r\n* Post-Dijkstra Public Transit Routing\r\n\r\nIf you find something new that&#39;s not on the list, please feel free to add it to the wiki!\r\n\r\nAs far as other open-source public transport routing libraries - there is also the RRRR project by Bliksem Labs:\r\n\r\nhttps://github.com/bliksemlabs/rrrr\r\n\r\nFrom the above link:\r\n\r\n&gt; RRRR (usually pronounced R4) is a C-language implementation of the RAPTOR public transit routing algorithm. It is the core routing component of the Bliksem journey planner and passenger information system. The goal of this project is to generate sets of Pareto-optimal itineraries over large geographic areas (e.g. BeNeLux or all of Europe), improving on the resource consumption and complexity of existing more flexible alternatives. The system should eventually support real-time vehicle/trip updates reflected in trip plans and be capable of running directly on a mobile device with no Internet connection.\r\n\r\nBoth OpenTripPlanner and RRRR use GTFS data.","title":"Bus public transport algorithm","body":"<p>There is an extensive list of publications (30+) on public transport routing algorithms that has been compiled over time by contributors to the open-source (Java) <a href=\"http://www.opentripplanner.org/\" rel=\"nofollow noreferrer\">OpenTripPlanner project</a> here:</p>\n<p><a href=\"https://docs.opentripplanner.org/en/latest/Bibliography/\" rel=\"nofollow noreferrer\">https://docs.opentripplanner.org/en/latest/Bibliography/</a></p>\n<p>OpenTripPlanner is multi-modal routing engine that also includes bike and walk - from the above link:</p>\n<blockquote>\n<p>This is a list of articles, dissertations, and books that have inspired and informed both the existing OTP routing engine and some ongoing experiments.  Currently, OpenTripPlanner uses a single time-dependent (as opposed to time-expanded) graph that contains both street and transit networks. Walk-only and bicycle-only trips are generally planned using the A* algorithm with a Euclidean heuristic or contraction hierarchies. Walk+Transit or Bike+Transit trips are planned using a variant of the MOA* algorithm with epsilon-dominance for path pruning and the Tung-Chew heuristic (a graph providing a lower bound on aggregate weight) for queue ordering.</p>\n</blockquote>\n<p>The routing bibliography above includes references for the following categories of algorithms and related work:</p>\n<ul>\n<li>Path Search Speedup Techniques</li>\n<li>Multi-objective Pareto Shortest Paths</li>\n<li>Resource-constrained Routing</li>\n<li>Contraction and Transfer Patterns</li>\n<li>Timetable-based routing</li>\n<li>ALT and Metric Embeddings</li>\n<li>Calibration and Implementation Details</li>\n<li>Post-Dijkstra Public Transit Routing</li>\n</ul>\n<p>If you find something new that's not on the list, please feel free to add it to the wiki!</p>\n<p>As far as other open-source public transport routing libraries - there is also the RRRR project by Bliksem Labs:</p>\n<p><a href=\"https://github.com/bliksemlabs/rrrr\" rel=\"nofollow noreferrer\">https://github.com/bliksemlabs/rrrr</a></p>\n<p>From the above link:</p>\n<blockquote>\n<p>RRRR (usually pronounced R4) is a C-language implementation of the RAPTOR public transit routing algorithm. It is the core routing component of the Bliksem journey planner and passenger information system. The goal of this project is to generate sets of Pareto-optimal itineraries over large geographic areas (e.g. BeNeLux or all of Europe), improving on the resource consumption and complexity of existing more flexible alternatives. The system should eventually support real-time vehicle/trip updates reflected in trip plans and be capable of running directly on a mobile device with no Internet connection.</p>\n</blockquote>\n<p>Both OpenTripPlanner and RRRR use GTFS data.</p>\n"}],"owner":{"account_id":184171,"reputation":2746,"user_id":420047,"accept_rate":79,"display_name":"Daniel Novak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18063,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":7,"score":22,"last_activity_date":1681317121,"creation_date":1283440919,"question_id":3628588,"body_markdown":"I am working on an offline C# application that can find bus routes. \r\nI can extract the timetable/bus/route data. I am searching for the most simple solution that will work with basic data. \r\n\r\n\r\nWhat algorithm can be used to find a route from bus stop &quot;A&quot; to bus stop &quot;B&quot;? Is there a open-source solution ready for C#/Java? \r\nIs the google GTFS format for database good for a simple solution? http://code.google.com/transit/spec/transit_feed_specification.html\r\n\r\nThanks for any help. I am stuck with this. I don&#39;t know where to start - how to store the data and how to find routes. \r\nI know about Dijkstra/A* but I have used them only on graphs that were not time dependent...","title":"Bus public transport algorithm","body":"<p>I am working on an offline C# application that can find bus routes. \nI can extract the timetable/bus/route data. I am searching for the most simple solution that will work with basic data. </p>\n\n<p>What algorithm can be used to find a route from bus stop \"A\" to bus stop \"B\"? Is there a open-source solution ready for C#/Java? \nIs the google GTFS format for database good for a simple solution? <a href=\"http://code.google.com/transit/spec/transit_feed_specification.html\" rel=\"noreferrer\">http://code.google.com/transit/spec/transit_feed_specification.html</a></p>\n\n<p>Thanks for any help. I am stuck with this. I don't know where to start - how to store the data and how to find routes. \nI know about Dijkstra/A* but I have used them only on graphs that were not time dependent...</p>\n"},{"tags":["java","spring","reactive-programming","spring-webflux","reactor"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1589556897,"post_id":61822820,"comment_id":109350451,"body_markdown":"`Mono&lt;Void&gt;` is a type. `Mono.empty()` is a method invocation that returns a Mono that [that completes without emitting any item](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#empty--).","body":"<code>Mono&lt;Void&gt;</code> is a type. <code>Mono.empty()</code> is a method invocation that returns a Mono that <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#empty--\" rel=\"nofollow noreferrer\">that completes without emitting any item</a>."}],"answers":[{"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1681316877,"creation_date":1589567952,"answer_id":61826171,"question_id":61822820,"body_markdown":"`Mono&lt;T&gt;` is a generic type - in your specific situation it represents `Void` type as `Mono&lt;Void&gt;`\r\n\r\n`Mono.empty()` - return a Mono that completes without emitting any item.\r\n\r\n\r\nLet&#39;s assume that you got a method:\r\n\r\n    private Mono&lt;Void&gt; doNothing() {\r\n        return Mono.empty();\r\n    }\r\n\r\nWhen you want to chain anything after the method call that returns `Mono.empty()` it won&#39;t work with `flatMap` as it is `a completed Mono`.\r\nIn case you want continue another job after that method you can use operator `then`:\r\n\r\n    doNothing().then(doSomething())","title":"How are Mono&lt;Void&gt; and Mono.empty() different","body":"<p><code>Mono&lt;T&gt;</code> is a generic type - in your specific situation it represents <code>Void</code> type as <code>Mono&lt;Void&gt;</code></p>\n<p><code>Mono.empty()</code> - return a Mono that completes without emitting any item.</p>\n<p>Let's assume that you got a method:</p>\n<pre><code>private Mono&lt;Void&gt; doNothing() {\n    return Mono.empty();\n}\n</code></pre>\n<p>When you want to chain anything after the method call that returns <code>Mono.empty()</code> it won't work with <code>flatMap</code> as it is <code>a completed Mono</code>.\nIn case you want continue another job after that method you can use operator <code>then</code>:</p>\n<pre><code>doNothing().then(doSomething())\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24513,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":61826171,"answer_count":1,"score":21,"last_activity_date":1681316877,"creation_date":1589556464,"question_id":61822820,"body_markdown":"As per my understanding, in Spring WebFlux reactor \r\n\r\n```Mono&lt;Void&gt;``` refers for a void Mono\r\n\r\n```Mono.empty()``` refers to void, as calling anything over this gives a null pointer.\r\n\r\n*How do these stand different in their usage ?*","title":"How are Mono&lt;Void&gt; and Mono.empty() different","body":"<p>As per my understanding, in Spring WebFlux reactor </p>\n\n<p><code>Mono&lt;Void&gt;</code> refers for a void Mono</p>\n\n<p><code>Mono.empty()</code> refers to void, as calling anything over this gives a null pointer.</p>\n\n<p><em>How do these stand different in their usage ?</em></p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1307385950,"post_id":6256483,"comment_id":7297154,"body_markdown":"try overriding the `paintComponent(Graphics g)` method of the `JButton`, and do your custom painting there.","body":"try overriding the <code>paintComponent(Graphics g)</code> method of the <code>JButton</code>, and do your custom painting there."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1307386264,"post_id":6256483,"comment_id":7297241,"body_markdown":"&quot;I would like to use the Windows LAF&quot;  I wonder what your OSX &amp; Linux users would like to see?  I&#39;d bet it&#39;s not the Windows LAF (even if that were practical).  ;)","body":"&quot;I would like to use the Windows LAF&quot;  I wonder what your OSX &amp; Linux users would like to see?  I&#39;d bet it&#39;s not the Windows LAF (even if that were practical).  ;)"},{"owner":{"account_id":395310,"reputation":309,"user_id":758201,"accept_rate":100,"display_name":"Joseph Trebbien"},"score":0,"creation_date":1307386512,"post_id":6256483,"comment_id":7297299,"body_markdown":"@Andrew Thompson: Don&#39;t worry. I am using the system LAF, but for now the requirement is Windows only. :)","body":"@Andrew Thompson: Don&#39;t worry. I am using the system LAF, but for now the requirement is Windows only. :)"},{"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"score":0,"creation_date":1307390936,"post_id":6256483,"comment_id":7298451,"body_markdown":"My first question would be &quot;why?&quot; What about this button requires it to be a different color and look differently from other buttons?","body":"My first question would be &quot;why?&quot; What about this button requires it to be a different color and look differently from other buttons?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681316768,"creation_date":1307390390,"answer_id":6257341,"question_id":6256483,"body_markdown":"I use JDK 6 on XP. It looks like the Window UI doesn&#39;t follow the normal painting rules in more ways than 1. As you noticed setBackground() doesn&#39;t work. You should be able to do custom painting by telling the component not to fill in the content area:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ButtonBackground extends JFrame\r\n    {\r\n    \tpublic ButtonBackground()\r\n    \t{\r\n    \t\tsetLayout( new FlowLayout() );\r\n    \r\n    \t\tJButton normal = new JButton(&quot;Normal&quot;);\r\n    \t\tadd(normal);\r\n    \r\n    \t\tJButton test1 = new JButton(&quot;Test 1&quot;)\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paintComponent(Graphics g)\r\n    \t\t\t{\r\n    \t\t\t\tsuper.paintComponent(g);\r\n    \t\t\t\tg.setColor( Color.GREEN );\r\n    \t\t\t\tg.fillRect(0, 0, getSize().width, getSize().height);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttest1.setContentAreaFilled(false);\r\n    \t\tadd(test1);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    //\t   \t\tUIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\r\n    \t\t}\r\n    \t\tcatch (Exception e2) {}\r\n    \r\n    \t\tButtonBackground frame = new ButtonBackground();\r\n    \t\tframe.setDefaultCloseOperation( EXIT_ON_CLOSE );\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo( null );\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nWhen you run the code as is it seems to work properly. That is when you click on the button you see the Border change. However is you run with the Windows XP LAF, the Border never changes to you don&#39;t see the button click effect.\r\n\r\nTherefore, I guess the issue is with the WindowUI and you would need to customize the UI which is probably too complex to do so I don&#39;t have a solution.","title":"How to set the button color of a JButton (not background color)","body":"<p>I use JDK 6 on XP. It looks like the Window UI doesn't follow the normal painting rules in more ways than 1. As you noticed setBackground() doesn't work. You should be able to do custom painting by telling the component not to fill in the content area:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class ButtonBackground extends JFrame\n{\n    public ButtonBackground()\n    {\n        setLayout( new FlowLayout() );\n\n        JButton normal = new JButton(&quot;Normal&quot;);\n        add(normal);\n\n        JButton test1 = new JButton(&quot;Test 1&quot;)\n        {\n            @Override\n            public void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n                g.setColor( Color.GREEN );\n                g.fillRect(0, 0, getSize().width, getSize().height);\n            }\n        };\n        test1.setContentAreaFilled(false);\n        add(test1);\n    }\n\n    public static void main(String[] args)\n    {\n        try\n        {\n//          UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\n        }\n        catch (Exception e2) {}\n\n        ButtonBackground frame = new ButtonBackground();\n        frame.setDefaultCloseOperation( EXIT_ON_CLOSE );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>When you run the code as is it seems to work properly. That is when you click on the button you see the Border change. However is you run with the Windows XP LAF, the Border never changes to you don't see the button click effect.</p>\n<p>Therefore, I guess the issue is with the WindowUI and you would need to customize the UI which is probably too complex to do so I don't have a solution.</p>\n"},{"tags":[],"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1307391088,"creation_date":1307391088,"answer_id":6257475,"question_id":6256483,"body_markdown":"\r\n\r\ninstead of messing with the button&#39;s background color, could you do whatever indication you&#39;re trying to show a different way?\r\n\r\ndisplaying an Icon, making the button bold instead of plain text, etc.\r\n\r\nIndicating something only through a different background color isn&#39;t always obvious, and depending on the user&#39;s system colors, may be jarring, or invisible.\r\n\r\nfor example, what if the user is running windows in &quot;high contrast&quot; mode?","title":"How to set the button color of a JButton (not background color)","body":"<p>instead of messing with the button's background color, could you do whatever indication you're trying to show a different way?</p>\n\n<p>displaying an Icon, making the button bold instead of plain text, etc.</p>\n\n<p>Indicating something only through a different background color isn't always obvious, and depending on the user's system colors, may be jarring, or invisible.</p>\n\n<p>for example, what if the user is running windows in \"high contrast\" mode?</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1307393712,"creation_date":1307393712,"answer_id":6257931,"question_id":6256483,"body_markdown":"You&#39;ll have to decide if it&#39;s worth the effort, but you can always create youe own `ButtonUI`, as shown in this [example][1] due to @mKorbel.\r\n\r\n[1]:https://stackoverflow.com/questions/5751311/creating-custom-button-in-java/5755124#5755124","title":"How to set the button color of a JButton (not background color)","body":"<p>You'll have to decide if it's worth the effort, but you can always create youe own <code>ButtonUI</code>, as shown in this <a href=\"https://stackoverflow.com/questions/5751311/creating-custom-button-in-java/5755124#5755124\">example</a> due to @mKorbel.</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307397798,"creation_date":1307397026,"answer_id":6258442,"question_id":6256483,"body_markdown":"but I still think that (modified but by Darryl) is correct [UIManager.get(&quot;Button.gradient&quot;)][1], because would be crossplatform \r\n\r\nEDIT: correct answer would be - Nimbus or some [Custom L&amp;F][2], why reinvent the wheel (by Rob)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4458982/repaint-swing-button-with-different-gradient/5845007#5845007\r\n  [2]: https://stackoverflow.com/questions/3954616/look-and-feel-in-java","title":"How to set the button color of a JButton (not background color)","body":"<p>but I still think that (modified but by Darryl) is correct <a href=\"https://stackoverflow.com/questions/4458982/repaint-swing-button-with-different-gradient/5845007#5845007\">UIManager.get(\"Button.gradient\")</a>, because would be crossplatform </p>\n\n<p>EDIT: correct answer would be - Nimbus or some <a href=\"https://stackoverflow.com/questions/3954616/look-and-feel-in-java\">Custom L&amp;F</a>, why reinvent the wheel (by Rob)</p>\n"},{"tags":[],"owner":{"account_id":1033883,"reputation":884,"user_id":1041665,"accept_rate":67,"display_name":"Yago M&#233;ndez Vidal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379492857,"creation_date":1379492857,"answer_id":18867311,"question_id":6256483,"body_markdown":"Your best option is using SwingX:\r\n\r\nJXButton allows you to set a Painter for the background with `.setBackgroundPainter(Painter)` using a MattePainter achieves exactly what you want. Having that JXButton extends from JButton, the changes are minimal in your code:\r\n\r\n    Color bg = new Color(new Random().nextInt(16777215)); // Random color\r\n\r\n    JButton button = new JButton();\r\n    button.setBackground(bg);\r\n\r\nwould become\r\n\r\n    JXButton button = new JXButton();\r\n    button.setBackgroundPainter(new MattePainter(bg));","title":"How to set the button color of a JButton (not background color)","body":"<p>Your best option is using SwingX:</p>\n\n<p>JXButton allows you to set a Painter for the background with <code>.setBackgroundPainter(Painter)</code> using a MattePainter achieves exactly what you want. Having that JXButton extends from JButton, the changes are minimal in your code:</p>\n\n<pre><code>Color bg = new Color(new Random().nextInt(16777215)); // Random color\n\nJButton button = new JButton();\nbutton.setBackground(bg);\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>JXButton button = new JXButton();\nbutton.setBackgroundPainter(new MattePainter(bg));\n</code></pre>\n"}],"owner":{"account_id":395310,"reputation":309,"user_id":758201,"accept_rate":100,"display_name":"Joseph Trebbien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24792,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6257931,"answer_count":5,"score":6,"last_activity_date":1681316768,"creation_date":1307385451,"question_id":6256483,"body_markdown":"I have a `JButton` that I would like to change the background color of to white.  When using the Metal Look And Feel, I achieve the desired effect with `setBackground`:\r\n\r\n![Metal look-and-feel-styled JButton with a white background][1]\r\n\r\nUnfortunately, the concept of &quot;background color&quot; is different when using the Windows LAF;  the background color is the color drawn around the button:\r\n\r\n![Windows look-and-feel-styled JButton with a white background][2]\r\n\r\nI would like to use the Windows LAF, but allow the button color of this `JButton` to be changed to white.  How do I do this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/s4RFI.png\r\n  [2]: http://i.stack.imgur.com/w6Vwe.png","title":"How to set the button color of a JButton (not background color)","body":"<p>I have a <code>JButton</code> that I would like to change the background color of to white.  When using the Metal Look And Feel, I achieve the desired effect with <code>setBackground</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/s4RFI.png\" alt=\"Metal look-and-feel-styled JButton with a white background\"></p>\n\n<p>Unfortunately, the concept of \"background color\" is different when using the Windows LAF;  the background color is the color drawn around the button:</p>\n\n<p><img src=\"https://i.stack.imgur.com/w6Vwe.png\" alt=\"Windows look-and-feel-styled JButton with a white background\"></p>\n\n<p>I would like to use the Windows LAF, but allow the button color of this <code>JButton</code> to be changed to white.  How do I do this?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1680869158,"post_id":75958110,"comment_id":133972641,"body_markdown":"the error just tells that there is no bean of type User_Repository - check if you have such a bean","body":"the error just tells that there is no bean of type User_Repository - check if you have such a bean"}],"answers":[{"tags":[],"owner":{"account_id":28018838,"reputation":1,"user_id":21400040,"display_name":"Adyanta BS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681316543,"creation_date":1680869133,"answer_id":75958242,"question_id":75958110,"body_markdown":"i think is is because `User_repository` is not annotated with `@Repository` or not being scanned by Spring \r\n\r\nplease check if user_repository interface is annotated with `@Repository` and its located in package which is being scanned by Spring\r\n\r\nUse `@ComponentScan` to mention the package name in which repository class exists!","title":"org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.JPA.Dao.User_Repository&#39; available","body":"<p>i think is is because <code>User_repository</code> is not annotated with <code>@Repository</code> or not being scanned by Spring</p>\n<p>please check if user_repository interface is annotated with <code>@Repository</code> and its located in package which is being scanned by Spring</p>\n<p>Use <code>@ComponentScan</code> to mention the package name in which repository class exists!</p>\n"}],"owner":{"account_id":23805948,"reputation":13,"user_id":17815481,"display_name":"Momin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681316543,"creation_date":1680867888,"question_id":75958110,"body_markdown":"When running my SpringBoot application, I am getting this error:\r\n\r\n@SpringBootApplication\r\npublic class BootJpAexampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tApplicationContext context=SpringApplication.run(BootJpAexampleApplication.class, args);\r\n\t\r\n\t    User_Repository userRepository = context.getBean(User_Repository.class);\r\n\t\tUser userEntity = new User();\r\n\t\t\r\n\t\tuserEntity.setNameString(&quot;Kumar &quot;);\r\n\t\tuserEntity.setCity(&quot;RSA&quot;);\r\n\t\tuserEntity.setStatus(&quot;I m java developer..&quot;);\r\n\t\t\r\n\t\tUser save= userRepository.save(userEntity);\r\n\t\r\n\t    System.out.println(save);\r\n\t\r\n\t}\r\n\t}\r\n\r\n\r\nI&#39;m quite stuck on the JPA Datasource definition, because I get the following error.\r\nThis is error\r\n\r\nException in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.JPA.Dao.User_Repository&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:332)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1150)\r\n\tat com.JPA.springboot.BootJpAexampleApplication.main(BootJpAexampleApplication.java:20)","title":"org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.JPA.Dao.User_Repository&#39; available","body":"<p>When running my SpringBoot application, I am getting this error:</p>\n<p>@SpringBootApplication\npublic class BootJpAexampleApplication {</p>\n<pre><code>public static void main(String[] args) {\n\n    ApplicationContext context=SpringApplication.run(BootJpAexampleApplication.class, args);\n\n    User_Repository userRepository = context.getBean(User_Repository.class);\n    User userEntity = new User();\n    \n    userEntity.setNameString(&quot;Kumar &quot;);\n    userEntity.setCity(&quot;RSA&quot;);\n    userEntity.setStatus(&quot;I m java developer..&quot;);\n    \n    User save= userRepository.save(userEntity);\n\n    System.out.println(save);\n\n}\n}\n</code></pre>\n<p>I'm quite stuck on the JPA Datasource definition, because I get the following error.\nThis is error</p>\n<p>Exception in thread &quot;main&quot; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.JPA.Dao.User_Repository' available\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:332)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1150)\nat com.JPA.springboot.BootJpAexampleApplication.main(BootJpAexampleApplication.java:20)</p>\n"},{"tags":["java","spring-boot","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528765798,"creation_date":1528765798,"answer_id":50807984,"question_id":50807949,"body_markdown":"The option I found was to create a configuration class and copy part of the code from RabbitAutoConfiguration:\r\n\r\n    @Configuration\r\n    public class RabbitTemplateConfiguration {\r\n\r\n        @Bean\r\n        public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\r\n            RabbitTemplate rabbitTemplate = createRabbitTemplate(connectionFactory, properties);\r\n            rabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter());\r\n            return rabbitTemplate;\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public RabbitTemplate simpleRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\r\n            RabbitTemplate rabbitTemplate = createRabbitTemplate(connectionFactory, properties);\r\n            rabbitTemplate.setMessageConverter(new SimpleMessageConverter());\r\n            return rabbitTemplate;\r\n        }\r\n    \r\n        private RabbitTemplate createRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\r\n            RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n    \r\n            rabbitTemplate.setMandatory(determineMandatoryFlag(properties));\r\n            RabbitProperties.Template templateProperties = properties.getTemplate();\r\n            RabbitProperties.Retry retryProperties = templateProperties.getRetry();\r\n            if (retryProperties.isEnabled()) {\r\n                rabbitTemplate.setRetryTemplate(createRetryTemplate(retryProperties));\r\n            }\r\n            if (templateProperties.getReceiveTimeout() != null) {\r\n                rabbitTemplate.setReceiveTimeout(templateProperties.getReceiveTimeout());\r\n            }\r\n            if (templateProperties.getReplyTimeout() != null) {\r\n                rabbitTemplate.setReplyTimeout(templateProperties.getReplyTimeout());\r\n            }\r\n            return rabbitTemplate;\r\n        }\r\n    \r\n        private boolean determineMandatoryFlag(RabbitProperties properties) {\r\n            Boolean mandatory = properties.getTemplate().getMandatory();\r\n            return (mandatory != null ? mandatory : properties.isPublisherReturns());\r\n        }\r\n    \r\n        private RetryTemplate createRetryTemplate(RabbitProperties.Retry properties) {\r\n            RetryTemplate template = new RetryTemplate();\r\n            SimpleRetryPolicy policy = new SimpleRetryPolicy();\r\n            policy.setMaxAttempts(properties.getMaxAttempts());\r\n            template.setRetryPolicy(policy);\r\n            ExponentialBackOffPolicy backOffPolicy = new ExponentialBackOffPolicy();\r\n            backOffPolicy.setInitialInterval(properties.getInitialInterval());\r\n            backOffPolicy.setMultiplier(properties.getMultiplier());\r\n            backOffPolicy.setMaxInterval(properties.getMaxInterval());\r\n            template.setBackOffPolicy(backOffPolicy);\r\n            return template;\r\n        }\r\n    }\r\n","title":"How to create mulitple instances of RabbitTemplate in Spring Boot?","body":"<p>The option I found was to create a configuration class and copy part of the code from RabbitAutoConfiguration:</p>\n\n<pre><code>@Configuration\npublic class RabbitTemplateConfiguration {\n\n    @Bean\n    public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\n        RabbitTemplate rabbitTemplate = createRabbitTemplate(connectionFactory, properties);\n        rabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    @Primary\n    public RabbitTemplate simpleRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\n        RabbitTemplate rabbitTemplate = createRabbitTemplate(connectionFactory, properties);\n        rabbitTemplate.setMessageConverter(new SimpleMessageConverter());\n        return rabbitTemplate;\n    }\n\n    private RabbitTemplate createRabbitTemplate(ConnectionFactory connectionFactory, RabbitProperties properties) {\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n\n        rabbitTemplate.setMandatory(determineMandatoryFlag(properties));\n        RabbitProperties.Template templateProperties = properties.getTemplate();\n        RabbitProperties.Retry retryProperties = templateProperties.getRetry();\n        if (retryProperties.isEnabled()) {\n            rabbitTemplate.setRetryTemplate(createRetryTemplate(retryProperties));\n        }\n        if (templateProperties.getReceiveTimeout() != null) {\n            rabbitTemplate.setReceiveTimeout(templateProperties.getReceiveTimeout());\n        }\n        if (templateProperties.getReplyTimeout() != null) {\n            rabbitTemplate.setReplyTimeout(templateProperties.getReplyTimeout());\n        }\n        return rabbitTemplate;\n    }\n\n    private boolean determineMandatoryFlag(RabbitProperties properties) {\n        Boolean mandatory = properties.getTemplate().getMandatory();\n        return (mandatory != null ? mandatory : properties.isPublisherReturns());\n    }\n\n    private RetryTemplate createRetryTemplate(RabbitProperties.Retry properties) {\n        RetryTemplate template = new RetryTemplate();\n        SimpleRetryPolicy policy = new SimpleRetryPolicy();\n        policy.setMaxAttempts(properties.getMaxAttempts());\n        template.setRetryPolicy(policy);\n        ExponentialBackOffPolicy backOffPolicy = new ExponentialBackOffPolicy();\n        backOffPolicy.setInitialInterval(properties.getInitialInterval());\n        backOffPolicy.setMultiplier(properties.getMultiplier());\n        backOffPolicy.setMaxInterval(properties.getMaxInterval());\n        template.setBackOffPolicy(backOffPolicy);\n        return template;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650412648,"creation_date":1650412648,"answer_id":71932609,"question_id":50807949,"body_markdown":"A simpler way is to create your bean using the `RabbitTemplateConfigurer` with all pre-populated settings from Spring Boot.\r\n\r\n~~~java\r\n    @Bean\r\n    public RabbitTemplate myRabbitTemplate(RabbitTemplateConfigurer configurer,\r\n                                       ConnectionFactory connectionFactory) {\r\n        this.configurer = configurer;\r\n        this.connectionFactory = connectionFactory;\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate();\r\n        this.configurer.configure(rabbitTemplate, this.connectionFactory);\r\n        rabbitTemplate.setMessageConverter(...);\r\n        return rabbitTemplate;\r\n    }\r\n\r\n~~~","title":"How to create mulitple instances of RabbitTemplate in Spring Boot?","body":"<p>A simpler way is to create your bean using the <code>RabbitTemplateConfigurer</code> with all pre-populated settings from Spring Boot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RabbitTemplate myRabbitTemplate(RabbitTemplateConfigurer configurer,\n                                       ConnectionFactory connectionFactory) {\n        this.configurer = configurer;\n        this.connectionFactory = connectionFactory;\n        RabbitTemplate rabbitTemplate = new RabbitTemplate();\n        this.configurer.configure(rabbitTemplate, this.connectionFactory);\n        rabbitTemplate.setMessageConverter(...);\n        return rabbitTemplate;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681315993,"creation_date":1528765438,"question_id":50807949,"body_markdown":"I have a system that is currently using `SimpleMessageConverter` to send messages to multiple systems.\r\n\r\nNow I want to start using `Jackson2JsonMessageConverter` for one of the systems.\r\n\r\nThis is to explain why I want to create more than one instance of a `RabbitTemplate`.\r\n\r\nI also want to be able to keep using all configuration options provided by `RabbitAutoConfiguration`, so for example, if I specify a property `spring.rabbitmq.connectionTimeout` I want it to affect all instances of `RabbitTemplate` that will be created.\r\n\r\nWould it be possible to extend `RabbitAutoConfiguration` to do this?","title":"How to create mulitple instances of RabbitTemplate in Spring Boot?","body":"<p>I have a system that is currently using <code>SimpleMessageConverter</code> to send messages to multiple systems.</p>\n<p>Now I want to start using <code>Jackson2JsonMessageConverter</code> for one of the systems.</p>\n<p>This is to explain why I want to create more than one instance of a <code>RabbitTemplate</code>.</p>\n<p>I also want to be able to keep using all configuration options provided by <code>RabbitAutoConfiguration</code>, so for example, if I specify a property <code>spring.rabbitmq.connectionTimeout</code> I want it to affect all instances of <code>RabbitTemplate</code> that will be created.</p>\n<p>Would it be possible to extend <code>RabbitAutoConfiguration</code> to do this?</p>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681314927,"post_id":75997535,"comment_id":134037499,"body_markdown":"Call the method with arguments, assert the return value is correct. Think of edge cases. Consider if there should be argument validation.","body":"Call the method with arguments, assert the return value is correct. Think of edge cases. Consider if there should be argument validation."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681315037,"post_id":75997535,"comment_id":134037520,"body_markdown":"What Slaw is saying is basically &quot;unit testing&quot; (look that up).  By trying different inputs with your code and testing the output for an expected result, you can find and correct many problems with your code.","body":"What Slaw is saying is basically &quot;unit testing&quot; (look that up).  By trying different inputs with your code and testing the output for an expected result, you can find and correct many problems with your code."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681315135,"post_id":75997535,"comment_id":134037541,"body_markdown":"And in addition to using a debugger (the duplicate link), putting print statements in your code to test values calculated along the way can also be very valuable.  Personally I find using print statements to be faster than using a debugger.  (Although sometimes a debugger is necessary.)  Once done debugging, consider turning some of your debug print statements into logging calls.","body":"And in addition to using a debugger (the duplicate link), putting print statements in your code to test values calculated along the way can also be very valuable.  Personally I find using print statements to be faster than using a debugger.  (Although sometimes a debugger is necessary.)  Once done debugging, consider turning some of your debug print statements into logging calls."},{"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"score":0,"creation_date":1681315145,"post_id":75997535,"comment_id":134037548,"body_markdown":"My apologisies i phrased my question kind of wrong, the problem is that I am having a hard time thinking of ways to test the output.","body":"My apologisies i phrased my question kind of wrong, the problem is that I am having a hard time thinking of ways to test the output."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1681315174,"post_id":75997535,"comment_id":134037555,"body_markdown":"Do you think the `year` argument could influence the expected result sometimes?","body":"Do you think the <code>year</code> argument could influence the expected result sometimes?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681315194,"post_id":75997535,"comment_id":134037564,"body_markdown":"Both using a debugger and Slaw&#39;s comment are excellent ways of testing output, Samuel.","body":"Both using a debugger and Slaw&#39;s comment are excellent ways of testing output, Samuel."},{"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"score":0,"creation_date":1681315541,"post_id":75997535,"comment_id":134037665,"body_markdown":"@teapot418 i would assume so?","body":"@teapot418 i would assume so?"},{"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"score":0,"creation_date":1681315605,"post_id":75997535,"comment_id":134037673,"body_markdown":"Having trouble coming up with adequate @test &quot;questions&quot; to ask in order to find the bugs","body":"Having trouble coming up with adequate @test &quot;questions&quot; to ask in order to find the bugs"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681316149,"post_id":75997535,"comment_id":134037813,"body_markdown":"One way to find test question is to do branch flow analysis.  Basically look at all the `if` statements in your code, and make sure to test for both the case where the statement is true, and the statement is false.  For example, the first `if` tests for `month` equals 2.  Make sure to test for both 2 and for month being something else.  There&#39;s two tests (at least) that you can run right now.","body":"One way to find test question is to do branch flow analysis.  Basically look at all the <code>if</code> statements in your code, and make sure to test for both the case where the statement is true, and the statement is false.  For example, the first <code>if</code> tests for <code>month</code> equals 2.  Make sure to test for both 2 and for month being something else.  There&#39;s two tests (at least) that you can run right now."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681316384,"post_id":75997535,"comment_id":134037879,"body_markdown":"Another way to find test cases is to test for beginnings and ends.  Often you will calculate incorrectly when you are doing things at the extreme edges of your code.  The very start of a range (for example, month = 1, day = 1, and year = ... not sure, what&#39;s the minimum year this will work for?  start with 1900 for now).  Likewise the very end cases (month = 12, day = 31, year = ... again, nothing defined here, pick something).  You also want to test just above and below those ranges for an appropriate result (for example throwing an error if month = -1).","body":"Another way to find test cases is to test for beginnings and ends.  Often you will calculate incorrectly when you are doing things at the extreme edges of your code.  The very start of a range (for example, month = 1, day = 1, and year = ... not sure, what&#39;s the minimum year this will work for?  start with 1900 for now).  Likewise the very end cases (month = 12, day = 31, year = ... again, nothing defined here, pick something).  You also want to test just above and below those ranges for an appropriate result (for example throwing an error if month = -1)."},{"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"score":0,"creation_date":1681316805,"post_id":75997535,"comment_id":134037984,"body_markdown":"the assignment requires to do the testing from a separate testclass","body":"the assignment requires to do the testing from a separate testclass"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681317481,"post_id":75997535,"comment_id":134038134,"body_markdown":"So?  Call the method from a separate class.  That won&#39;t change anything I wrote.","body":"So?  Call the method from a separate class.  That won&#39;t change anything I wrote."},{"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"score":0,"creation_date":1681317776,"post_id":75997535,"comment_id":134038198,"body_markdown":"@markspace could you give a code example, I apologise i&#39;m very new to java and this assignment is difficult for me.","body":"@markspace could you give a code example, I apologise i&#39;m very new to java and this assignment is difficult for me."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681320332,"post_id":75997535,"comment_id":134038775,"body_markdown":"I can&#39;t because the question is closed.  If you don&#39;t know how to call a method from another class, I think you need to talk to your instructor, there&#39;s something very basic you are missing.","body":"I can&#39;t because the question is closed.  If you don&#39;t know how to call a method from another class, I think you need to talk to your instructor, there&#39;s something very basic you are missing."}],"owner":{"account_id":28286700,"reputation":1,"user_id":21627537,"display_name":"Samuel Karim"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681314946,"answer_count":0,"score":0,"last_activity_date":1681315759,"creation_date":1681314819,"question_id":75997535,"body_markdown":" I am a beginner in Java and I have an assignment that i need to find bugs in the code written below and i have trouble getting started. I have no idea how to approach this or how to start looking for bugs.\r\n\r\n```lang-java\r\npublic class DayOfYear {\r\n\r\n    public static int dayOfYear(int month, int dayOfMonth, int year) {\r\n        if (month == 2) {\r\n            dayOfMonth += 31;\r\n        } else if (month == 3) {\r\n            dayOfMonth += 59;\r\n        } else if (month == 4) {\r\n            dayOfMonth += 90;\r\n        } else if (month == 5) {\r\n            dayOfMonth += 31 + 28 + 31 + 30;\r\n        } else if (month == 6) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31;\r\n        } else if (month == 7) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30;\r\n        } else if (month == 8) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31;\r\n        } else if (month == 9) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31;\r\n        } else if (month == 10) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30;\r\n        } else if (month == 11) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31;\r\n        } else if (month == 12) {\r\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 31;\r\n        }\r\n\r\n        return dayOfMonth;\r\n    }\r\n}\r\n```\r\n\r\nDon&#39;t know how to get started.","title":"How do i get started in finding bugs in the code using test methods?","body":"<p>I am a beginner in Java and I have an assignment that i need to find bugs in the code written below and i have trouble getting started. I have no idea how to approach this or how to start looking for bugs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DayOfYear {\n\n    public static int dayOfYear(int month, int dayOfMonth, int year) {\n        if (month == 2) {\n            dayOfMonth += 31;\n        } else if (month == 3) {\n            dayOfMonth += 59;\n        } else if (month == 4) {\n            dayOfMonth += 90;\n        } else if (month == 5) {\n            dayOfMonth += 31 + 28 + 31 + 30;\n        } else if (month == 6) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31;\n        } else if (month == 7) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30;\n        } else if (month == 8) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31;\n        } else if (month == 9) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31;\n        } else if (month == 10) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30;\n        } else if (month == 11) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31;\n        } else if (month == 12) {\n            dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 31;\n        }\n\n        return dayOfMonth;\n    }\n}\n</code></pre>\n<p>Don't know how to get started.</p>\n"},{"tags":["java","list","object","arraylist"],"comments":[{"owner":{"account_id":435810,"reputation":451,"user_id":822606,"accept_rate":100,"display_name":"Christopher"},"score":0,"creation_date":1333435833,"post_id":9988211,"comment_id":12764758,"body_markdown":"Alright, if you guys say that `List&lt;?&gt;` cannot be instantiated, then how is it that the method can return it?","body":"Alright, if you guys say that <code>List&lt;?&gt;</code> cannot be instantiated, then how is it that the method can return it?"},{"owner":{"account_id":2348486,"reputation":2373,"user_id":4115369,"accept_rate":76,"display_name":"Yibo Yang"},"score":0,"creation_date":1441082022,"post_id":9988211,"comment_id":52521812,"body_markdown":"It&#39;s worth noting that `Arrays.asList(T... a)` returns a `List&lt;T&gt;`. You can initialize `List` with `List&lt;Object&gt; li = Arrays.asList(1, 2, &quot;3&quot;);` to save some typing, although the returned `List` will be fixed-sized and backed by the array: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...","body":"It&#39;s worth noting that <code>Arrays.asList(T... a)</code> returns a <code>List&lt;T&gt;</code>. You can initialize <code>List</code> with <code>List&lt;Object&gt; li = Arrays.asList(1, 2, &quot;3&quot;);</code> to save some typing, although the returned <code>List</code> will be fixed-sized and backed by the array: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>..."}],"answers":[{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1399566866,"creation_date":1333434840,"answer_id":9988227,"question_id":9988211,"body_markdown":"    List&lt;Object&gt; object = new List&lt;Object&gt;();\r\n\r\nYou cannot do this because ***List*** is an interface and you cannot create object of any interface or in other word you cannot instantiate any interface. Moreover, you can assign any object of class which implements **List** to its reference variable. For example you can do this:   \r\n\r\n    list&lt;Object&gt; object = new ArrayList&lt;Object&gt;();\r\n\r\nHere ***ArrayList*** is a class which implements ***List***, you can use any class which implements ***List***.     ","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<pre><code>List&lt;Object&gt; object = new List&lt;Object&gt;();\n</code></pre>\n\n<p>You cannot do this because <strong><em>List</em></strong> is an interface and you cannot create object of any interface or in other word you cannot instantiate any interface. Moreover, you can assign any object of class which implements <strong>List</strong> to its reference variable. For example you can do this:   </p>\n\n<pre><code>list&lt;Object&gt; object = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>Here <strong><em>ArrayList</em></strong> is a class which implements <strong><em>List</em></strong>, you can use any class which implements <strong><em>List</em></strong>.     </p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1681315601,"creation_date":1333434885,"answer_id":9988236,"question_id":9988211,"body_markdown":"&gt; Why cant I do this:\r\n&gt;\r\n&gt;     List&lt;Object&gt; object = new List&lt;&gt;();\r\n\r\nYou can&#39;t do this because [`List`][1] is an interface, and interfaces cannot be instantiated. Only (concrete) classes can be. Examples of concrete classes implementing `List` include [`ArrayList`][2], [`LinkedList`][3] etc.\r\n\r\nHere is how one would create an instance of `ArrayList`:\r\n\r\n    List&lt;Object&gt; object = new ArrayList&lt;&gt;();\r\n\r\n&gt;  I have a method that returns a `List&lt;?&gt;`, how would I turn that into a `List&lt;Object&gt;`\r\n\r\nShow us the relevant code and I&#39;ll update the answer.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<blockquote>\n<p>Why cant I do this:</p>\n<pre><code>List&lt;Object&gt; object = new List&lt;&gt;();\n</code></pre>\n</blockquote>\n<p>You can't do this because <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> is an interface, and interfaces cannot be instantiated. Only (concrete) classes can be. Examples of concrete classes implementing <code>List</code> include <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a> etc.</p>\n<p>Here is how one would create an instance of <code>ArrayList</code>:</p>\n<pre><code>List&lt;Object&gt; object = new ArrayList&lt;&gt;();\n</code></pre>\n<blockquote>\n<p>I have a method that returns a <code>List&lt;?&gt;</code>, how would I turn that into a <code>List&lt;Object&gt;</code></p>\n</blockquote>\n<p>Show us the relevant code and I'll update the answer.</p>\n"},{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333435668,"creation_date":1333435668,"answer_id":9988380,"question_id":9988211,"body_markdown":"List is an interface so you can&#39;t instanciate it. Use any of its implementatons instead e.g.\r\n\r\n    List&lt;Object&gt; object = new List&lt;Object&gt;();\r\n\r\nAbout List&lt;?&gt; :\r\nyou can use any object as a generic param for it instance:\r\n\r\n    List&lt;?&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nor\r\n\r\n    List&lt;?&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\nWhile using `List&lt;Object&gt;` this declaration is invalid because it will be type missmatch.","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<p>List is an interface so you can't instanciate it. Use any of its implementatons instead e.g.</p>\n\n<pre><code>List&lt;Object&gt; object = new List&lt;Object&gt;();\n</code></pre>\n\n<p>About List :\nyou can use any object as a generic param for it instance:</p>\n\n<pre><code>List&lt;?&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;?&gt; list = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>While using <code>List&lt;Object&gt;</code> this declaration is invalid because it will be type missmatch.</p>\n"},{"tags":[],"owner":{"account_id":157427,"reputation":6752,"user_id":375375,"accept_rate":89,"display_name":"Ian R. O&#39;Brien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460752350,"creation_date":1460752350,"answer_id":36656333,"question_id":9988211,"body_markdown":"To answer your second question, yes, you can cast the `List&lt;?&gt;` as a `List&lt;Object&gt;` or a `List&lt;T&gt;` of any type, since the `?` (Wildcard) parameter indicates that the list contains a homogenous collection of an *any* `Object`.  However, there&#39;s no way to know at compile what the `type` is since it&#39;s part of the exported API only - meaning you can&#39;t see what&#39;s being inserted into the `List&lt;?&gt;`.\r\n\r\nHere&#39;s how you would make the cast:\r\n\r\n    List&lt;?&gt; wildcardList = methodThatReturnsWildcardList();\r\n    // generates Unchecked cast compiler warning\r\n    List&lt;Object&gt; objectReference = (List&lt;Object&gt;)wildcardList;\r\n\r\nIn this case you can ignore the warning because in order for an object to be used in a generic class it must be a subtype of `Object`. Let&#39;s pretend that we&#39;re trying to cast this as a `List&lt;Integer&gt;` when it actually contains a collection of `String`s.\r\n\r\n    // this code will compile safely\r\n    List&lt;?&gt; wildcardList = methodThatReturnsWildcardList();\r\n    List&lt;Integer&gt; integerReference = (List&lt;Integer&gt;)wildcardList;\r\n\r\n    // this line will throw an invalid cast exception for any type other than Integer\r\n    Integer myInteger = integerRefence.get(0);\r\n\r\nRemember: generic types are erased at runtime. You won&#39;t know what the collection contains, but you can get an element and call `.getClass()` on it to determine its type.\r\n\r\n    Class objectClass = wildcardList.get(0).getClass();","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<p>To answer your second question, yes, you can cast the <code>List&lt;?&gt;</code> as a <code>List&lt;Object&gt;</code> or a <code>List&lt;T&gt;</code> of any type, since the <code>?</code> (Wildcard) parameter indicates that the list contains a homogenous collection of an <em>any</em> <code>Object</code>.  However, there's no way to know at compile what the <code>type</code> is since it's part of the exported API only - meaning you can't see what's being inserted into the <code>List&lt;?&gt;</code>.</p>\n\n<p>Here's how you would make the cast:</p>\n\n<pre><code>List&lt;?&gt; wildcardList = methodThatReturnsWildcardList();\n// generates Unchecked cast compiler warning\nList&lt;Object&gt; objectReference = (List&lt;Object&gt;)wildcardList;\n</code></pre>\n\n<p>In this case you can ignore the warning because in order for an object to be used in a generic class it must be a subtype of <code>Object</code>. Let's pretend that we're trying to cast this as a <code>List&lt;Integer&gt;</code> when it actually contains a collection of <code>String</code>s.</p>\n\n<pre><code>// this code will compile safely\nList&lt;?&gt; wildcardList = methodThatReturnsWildcardList();\nList&lt;Integer&gt; integerReference = (List&lt;Integer&gt;)wildcardList;\n\n// this line will throw an invalid cast exception for any type other than Integer\nInteger myInteger = integerRefence.get(0);\n</code></pre>\n\n<p>Remember: generic types are erased at runtime. You won't know what the collection contains, but you can get an element and call <code>.getClass()</code> on it to determine its type.</p>\n\n<pre><code>Class objectClass = wildcardList.get(0).getClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5521836,"reputation":21,"user_id":4912018,"display_name":"jitendra rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565088967,"creation_date":1565087811,"answer_id":57374144,"question_id":9988211,"body_markdown":"    package com.test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class TEst {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tList&lt;Integer&gt; ls=new ArrayList&lt;&gt;();\r\n    \t\tls.add(1);\r\n    \t\tls.add(2);\r\n    \t\tList&lt;Integer&gt; ls1=new ArrayList&lt;&gt;();\r\n    \t\tls1.add(3);\r\n    \t\tls1.add(4);\r\n    \t\tList&lt;List&lt;Integer&gt;&gt; ls2=new ArrayList&lt;&gt;();\r\n    \t\tls2.add(ls);\r\n    \t\tls2.add(ls1);\r\n    \t\t\r\n    \t\tList&lt;List&lt;List&lt;Integer&gt;&gt;&gt; ls3=new ArrayList&lt;&gt;();\r\n    \t\tls3.add(ls2);\r\n    \t\t\r\n    \t\t\r\n    \t\tm1(ls3);\r\n    \t}\r\n    \r\n    \tprivate static void m1(List ls3) {\r\n    \t\tfor(Object ls4:ls3)\r\n    \t\t{\r\n    \t\t     if(ls4 instanceof List)\t\r\n    \t\t     {\r\n    \t\t    \tm1((List)ls4);\r\n    \t\t     }else {\r\n    \t\t    \t System.out.print(ls4);\r\n    \t\t     }\r\n    \t\t     \r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<pre><code>package com.test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TEst {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; ls=new ArrayList&lt;&gt;();\n        ls.add(1);\n        ls.add(2);\n        List&lt;Integer&gt; ls1=new ArrayList&lt;&gt;();\n        ls1.add(3);\n        ls1.add(4);\n        List&lt;List&lt;Integer&gt;&gt; ls2=new ArrayList&lt;&gt;();\n        ls2.add(ls);\n        ls2.add(ls1);\n\n        List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; ls3=new ArrayList&lt;&gt;();\n        ls3.add(ls2);\n\n\n        m1(ls3);\n    }\n\n    private static void m1(List ls3) {\n        for(Object ls4:ls3)\n        {\n             if(ls4 instanceof List)    \n             {\n                m1((List)ls4);\n             }else {\n                 System.out.print(ls4);\n             }\n\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":435810,"reputation":451,"user_id":822606,"accept_rate":100,"display_name":"Christopher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250609,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":9988236,"answer_count":5,"score":28,"last_activity_date":1681315601,"creation_date":1333434755,"question_id":9988211,"body_markdown":"I have two questions, actaully...\r\nFirst off, Why cant I do this:\r\n\r\n    List&lt;Object&gt; object = new List&lt;Object&gt;();\r\n\r\nAnd second, I have a method that returns a `List&lt;?&gt;`, how would I turn that into a `List&lt;Object&gt;`, would I be able to simply cast it? \r\n\r\nThank you!","title":"List&lt;Object&gt; and List&lt;?&gt;","body":"<p>I have two questions, actaully...\nFirst off, Why cant I do this:</p>\n\n<pre><code>List&lt;Object&gt; object = new List&lt;Object&gt;();\n</code></pre>\n\n<p>And second, I have a method that returns a <code>List&lt;?&gt;</code>, how would I turn that into a <code>List&lt;Object&gt;</code>, would I be able to simply cast it? </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","javafx","netbeans","fxml"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1681273870,"post_id":75990841,"comment_id":134028119,"body_markdown":"The root cause is that `XMLStreamException` caused by your call to `FXMLLoader.load()` in your `start()` method. See SO question [FXML Load exception](https://stackoverflow.com/q/22914895/2985643) which reports a similar issue. Based on that question&#39;s accepted answer you could try amending the name of your resource passed to `getClass().getResource(&quot;FXMLDocument.fxml&quot;)` in your `start()` method. If that works then your question is a duplicate of the one I linked to. Otherwise, update your question accordingly, and also specify your version of NetBeans.","body":"The root cause is that <code>XMLStreamException</code> caused by your call to <code>FXMLLoader.load()</code> in your <code>start()</code> method. See SO question <a href=\"https://stackoverflow.com/q/22914895/2985643\">FXML Load exception</a> which reports a similar issue. Based on that question&#39;s accepted answer you could try amending the name of your resource passed to <code>getClass().getResource(&quot;FXMLDocument.fxml&quot;)</code> in your <code>start()</code> method. If that works then your question is a duplicate of the one I linked to. Otherwise, update your question accordingly, and also specify your version of NetBeans."},{"owner":{"account_id":22921875,"reputation":1,"user_id":17057581,"display_name":"Yousef Khalil"},"score":0,"creation_date":1681447558,"post_id":75990841,"comment_id":134060844,"body_markdown":"im on netbeans version 17, i tried what u said, but it didnt work, the gui works on the base case when i first create the project, after i start editing on the gui on scene builder, it doesnt work, for example i added FontAwesomeIconView, it stopped working, i added the library though to the package, but doesnt work, if i remove the edits i made, and stick with the original it works.","body":"im on netbeans version 17, i tried what u said, but it didnt work, the gui works on the base case when i first create the project, after i start editing on the gui on scene builder, it doesnt work, for example i added FontAwesomeIconView, it stopped working, i added the library though to the package, but doesnt work, if i remove the edits i made, and stick with the original it works."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681482690,"post_id":75990841,"comment_id":134068305,"body_markdown":"*&quot;I&#39;m using java 8, and Javafx SDK 20&quot;* -&gt; Don&#39;t do that.  See the release notes for the JavaFX version you are using.  It will only work on Java 17+.  Also, I don&#39;t use NetBenas, but my understanding is that  all of the ant packaging stuff in NetBeans was written for Java 8 and will not work with modern JavaFX versions.  For packaging in modern JavaFX versions see the [JavaFX tag wiki on packaging](https://stackoverflow.com/tags/javafx/info).","body":"<i>&quot;I&#39;m using java 8, and Javafx SDK 20&quot;</i> -&gt; Don&#39;t do that.  See the release notes for the JavaFX version you are using.  It will only work on Java 17+.  Also, I don&#39;t use NetBenas, but my understanding is that  all of the ant packaging stuff in NetBeans was written for Java 8 and will not work with modern JavaFX versions.  For packaging in modern JavaFX versions see the <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag wiki on packaging</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681482799,"post_id":75990841,"comment_id":134068336,"body_markdown":"[Ikonli](https://kordamp.org/ikonli/) is a more stable choice and better maintained and documented than FontAwesome.","body":"<a href=\"https://kordamp.org/ikonli/\" rel=\"nofollow noreferrer\">Ikonli</a> is a more stable choice and better maintained and documented than FontAwesome."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1681666886,"post_id":75990841,"comment_id":134089821,"body_markdown":"@YousefKhalil Apart from the issue of using Java 8 with JavaFX 20, your use of Java 8 on NetBeans 17 is also unsupported. So regardless of your problems with JavaFX, you must upgrade your JDK because [_&quot;Apache **NetBeans 17 binary releases require JDK 11+**&quot;_](https://netbeans.apache.org/download/nb17/). Upgrade Java so that it is compatible with your versions of NetBeans and JavaFX SDK, and then update your question if you still have problems.","body":"@YousefKhalil Apart from the issue of using Java 8 with JavaFX 20, your use of Java 8 on NetBeans 17 is also unsupported. So regardless of your problems with JavaFX, you must upgrade your JDK because <a href=\"https://netbeans.apache.org/download/nb17/\" rel=\"nofollow noreferrer\"><i>&quot;Apache <b>NetBeans 17 binary releases require JDK 11+</b>&quot;</i></a>. Upgrade Java so that it is compatible with your versions of NetBeans and JavaFX SDK, and then update your question if you still have problems."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1681667657,"post_id":75990841,"comment_id":134089923,"body_markdown":"@jewelsea O/T: Using Ant to develop JavaFX projects on NetBeans is certainly no longer mainstream, and can be problematic if you create your project using the obvious approach (i.e. **...Java with Ant &gt; JavaFX...**). But I found that it works for me (using NB17/JDK 19/JavaFX20) when using a modular approach to create the project: **File &gt; New Project... &gt; Java with Ant &gt; Java Modular Project**. [Gluon provides a detailed and helpful tutorial](https://openjfx.io/openjfx-docs/#IDE-NetBeans) on that. (To be clear, I&#39;m not necessarily advocating that approach, but for the record it does work.)","body":"@jewelsea O/T: Using Ant to develop JavaFX projects on NetBeans is certainly no longer mainstream, and can be problematic if you create your project using the obvious approach (i.e. <b>...Java with Ant &gt; JavaFX...</b>). But I found that it works for me (using NB17/JDK 19/JavaFX20) when using a modular approach to create the project: <b>File &gt; New Project... &gt; Java with Ant &gt; Java Modular Project</b>. <a href=\"https://openjfx.io/openjfx-docs/#IDE-NetBeans\" rel=\"nofollow noreferrer\">Gluon provides a detailed and helpful tutorial</a> on that. (To be clear, I&#39;m not necessarily advocating that approach, but for the record it does work.)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681689137,"post_id":75990841,"comment_id":134092393,"body_markdown":"@skomisa Yes, you can for dev.  The question was about packaging to an exe (at least in the title).  [NetBeans used to support that](https://netbeans.apache.org/kb/docs/java/native_pkg.html) and to do so relied on [NetBeans ant integration](https://docs.oracle.com/cd/E40938_01/doc.74/e40142/build_japps.htm#NBDAG2508) to use [javafx ant tasks](https://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm) that no longer exist.  Sometimes there are still questions about that by people thinking it will work when it cannot.  That is the information I was referring to in my earlier comment.","body":"@skomisa Yes, you can for dev.  The question was about packaging to an exe (at least in the title).  <a href=\"https://netbeans.apache.org/kb/docs/java/native_pkg.html\" rel=\"nofollow noreferrer\">NetBeans used to support that</a> and to do so relied on <a href=\"https://docs.oracle.com/cd/E40938_01/doc.74/e40142/build_japps.htm#NBDAG2508\" rel=\"nofollow noreferrer\">NetBeans ant integration</a> to use <a href=\"https://docs.oracle.com/javafx/2/deployment/jfxpub-deployment.htm\" rel=\"nofollow noreferrer\">javafx ant tasks</a> that no longer exist.  Sometimes there are still questions about that by people thinking it will work when it cannot.  That is the information I was referring to in my earlier comment."}],"owner":{"account_id":22921875,"reputation":1,"user_id":17057581,"display_name":"Yousef Khalil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681315271,"creation_date":1681256304,"question_id":75990841,"body_markdown":"I have been trying to create an app using JavaFX, JavaFX fxml application on Netbeans, I&#39;m using java 8, and Javafx SDK 20, the output shows build successful, but the exe doesn&#39;t show up.\r\n\r\nThis is the output code. I don&#39;t understand what is the issue and no idea how to fix it.\r\n\r\n    ant -f C:\\Users\\youse\\hotelManagementProject jfxsa-runjfxsa-run:Buildfile: C:\\Users\\youse\\hotelManagementProject\\build.xml\r\n    -mark-project-state-running:\r\n    -check-jfxrt-in-fxsdk-jre:\r\n    -set-jfxrt-in-fxsdk-jre-old:\r\n    -set-jfxrt-in-fxsdk-jre-new:\r\n    -check-jfxrt-in-fxsdk-rt:\r\n    -set-jfxrt-in-fxsdk-rt-old:\r\n    -set-jfxrt-in-fxsdk-rt-new:\r\n    -check-jfxrt-in-platform-home-jre:\r\n    -set-jfxrt-in-platform-home-jre-old:\r\n    -set-jfxrt-in-platform-home-jre-new:\r\n    -check-jfxrt-in-platform-home-rt:\r\n    -set-jfxrt-in-platform-home-rt-old:\r\n    -set-jfxrt-in-platform-home-rt-new:\r\n    -check-jfxrt-modules-in-platform-home:\r\n    -set-jfxrt-modules-in-platform-home:\r\n    -check-jfxrt-in-jre:\r\n    -set-jfxrt-in-jre-old:\r\n    -set-jfxrt-in-jre-new:\r\n    -set-jfxrt-in-jre-mods:\r\n    -check-jfxrt-in-envjdk-jre:\r\n    -set-jfxrt-in-envjdk-jre-old:\r\n    -set-jfxrt-in-envjdk-jre-new:\r\n    -check-jfxrt-modules-in-envjdk:\r\n    -set-jfxrt-modules-in-envjdk:\r\n    -pre-check-jfx-runtime:\r\n    -check-jfx-runtime:\r\n    -check-project:\r\n    -warn-of-preloader:\r\n    -post-init:\r\n    -init-check:\r\n    -init-ap-cmdline-properties:\r\n    -init-macrodef-modulename:\r\n    -init-source-module-properties:\r\n    -init-macrodef-javac-with-module:\r\n    -init-macrodef-javac-with-processors:\r\n    -init-macrodef-javac-without-processors:\r\n    -init-macrodef-javac:\r\n    -init-macrodef-test-impl:\r\n    -init-macrodef-junit-init:\r\n    -init-test-properties:\r\n    -init-macrodef-junit-prototype-with-module:\r\n    -init-macrodef-junit-prototype-without-module:\r\n    -init-macrodef-junit-single:\r\n    -init-macrodef-junit-batch:\r\n    -init-macrodef-junit:\r\n    -init-macrodef-junit-impl:\r\n    -init-macrodef-testng:\r\n    -init-macrodef-testng-impl:\r\n    -init-macrodef-test:\r\n    -init-macrodef-junit-debug-impl:\r\n    -init-macrodef-test-debug-junit:\r\n    -init-macrodef-testng-debug:\r\n    -init-macrodef-testng-debug-impl:\r\n    -init-macrodef-test-debug-testng:\r\n    -init-macrodef-test-debug:\r\n    -init-debug-args:\r\n    -init-macrodef-nbjpda:\r\n    -init-macrodef-debug:\r\n    -init-macrodef-java-with-module:\r\n    -init-macrodef-java-with-unnamed-module:\r\n    -init-macrodef-java-without-module:\r\n    -init-macrodef-java:\r\n    -init-presetdef-jar:\r\n    -init-ap-cmdline-supported:\r\n    -init-ap-cmdline:\r\n    init:\r\n    -deps-jar-init:[delete] Deleting: C:\\Users\\youse\\hotelManagementProject\\build\\built-jar.properties\r\n    deps-jar:\r\n    -warn-already-built-jar:[propertyfile] Updating property file: C:\\Users\\youse\\hotelManagementProject\\build\\built-jar.properties\r\n    -check-automatic-build:\r\n    -clean-after-automatic-build:\r\n    -verify-automatic-build:\r\n    -pre-pre-compile:\r\n    -pre-compile:\r\n    -copy-persistence-xml:\r\n    -compile-depend:\r\n    -do-compile:\r\n    -post-compile:\r\n    compile:\r\n    -pre-jar:\r\n    -check-module-main-class:\r\n    -set-module-main-class:\r\n    -pre-pre-jar:\r\n    -do-jar-create-manifest:\r\n    -do-jar-copy-manifest:\r\n    -do-jar-set-mainclass:\r\n    -do-jar-set-profile:\r\n    -do-jar-set-splashscreen:\r\n    -check-do-mkdist:\r\n    -do-jar-jar:\r\n    -init-macrodef-copylibs:\r\n    -do-jar-copylibs:\r\n    -do-jar-delete-manifest:\r\n    -do-jar-without-libraries:\r\n    -do-jar-with-libraries:\r\n    -jfx-copylibs-warning:\r\n    -jfx-copylibs:[delete] Deleting directory C:\\Users\\youse\\hotelManagementProject\\dist\\lib[copy] Copying 1 file to C:\\Users\\youse\\hotelManagementProject\\dist\\lib\r\n    -check-rebase-libs:\r\n    -rebase-libs-warning:\r\n    -rebase-libs:\r\n    -check-ant-javafx-in-fxsdk-lib:\r\n    -set-ant-javafx-in-fxsdk-lib:\r\n    -check-ant-javafx-in-fxsdk-tools:\r\n    -set-ant-javafx-in-fxsdk-tools:\r\n    -check-ant-javafx-in-platform-home-lib:\r\n    -set-ant-javafx-in-platform-home-lib:\r\n    -check-ant-javafx-in-platform-home-tools:\r\n    -set-ant-javafx-in-platform-home-tools:\r\n    -check-ant-javafx-in-probjdk-lib:\r\n    -set-ant-javafx-in-probjdk-lib:\r\n    -check-ant-javafx-in-probjdk-tools:\r\n    -set-ant-javafx-in-probjdk-tools:\r\n    -check-ant-javafx-in-macjdk-lib:\r\n    -set-ant-javafx-in-macjdk-lib:\r\n    -check-ant-javafx-in-envjdk-lib:\r\n    -set-ant-javafx-in-envjdk-lib:\r\n    -check-ant-javafx-in-envjdk-tools:\r\n    -set-ant-javafx-in-envjdk-tools:\r\n    -pre-check-ant-javafx-version:\r\n    -check-endorsed-javafx-ant-classpath:\r\n    -set-endorsed-javafx-ant-classpath:\r\n    -set-javafx-ant-classpath:\r\n    -check-ant-javafx-version:\r\n    -check-jfx-sdk-version-old:\r\n    -check-jfx-sdk-version-new:\r\n    -check-jfx-sdk-version:[echo] Detected JavaFX Ant API version 1.3\r\n    -check-jfx-deployment:\r\n    -check-dist-lib-exists:\r\n    -check-jfx-deployment-jar-current-nolib:\r\n    -check-jfx-deployment-jar-current-lib:\r\n    -check-jfx-deployment-launch:\r\n    -do-jfx-deployment-script:\r\n    -do-jfx-deployment-noscript:\r\n    jfx-deployment:\r\n    -post-jar:\r\n    -do-jar:\r\n    -pre-deploy:\r\n    -check-jlink:\r\n    -do-deploy:\r\n    -post-deploy:\r\n    deploy:\r\n    jar:\r\n    -check-concurrent-runs:\r\n    -create-temp-run-dir:\r\n    [copy] Copying 4 files to C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\r\n\r\n    jfx-project-run:\r\n    [echo] Executing C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\\hotelManagementProject.jar using platform C:\\Users\\youse\\Downloads\\zulu8.68.0.21-ca-fx-jdk8.0.362-win_x64\\zulu8.68.0.21-ca-fx-jdk8.0.362-win_x64/bin/java\r\n    [java] Exception in Application start method\r\n    [java] java.lang.reflect.InvocationTargetException\r\n    [java] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [java] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [java] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [java] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    [java] \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    [java] \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    [java] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [java] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [java] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[java] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    [java] \tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:873)[java] Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    [java] \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)[java] \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\r\n    [java] \tat java.lang.Thread.run(Thread.java:750)[java] Caused by: javafx.fxml.LoadException:[java] file:/C:/Users/youse/hotelManagementProject/dist/run218081809/hotelManagementProject.jar!/hotelmanagementproject/FXMLDocument.fxml\r\n    [java]\r\n    [java] \tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2608)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2550)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2448)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3251)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3212)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3185)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3161)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3141)\r\n    [java] \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3134)\r\n    [java] \tat hotelmanagementproject.HotelManagementProject.start(HotelManagementProject.java:21)[java] \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\r\n    [java] \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)[java] \tat com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\r\n    [java] \tat java.security.AccessController.doPrivileged(Native Method)[java] \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\r\n    [java] \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)[java] \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    [java] \tat com.sun.glass.ui.win.WinApplication.lambda$null$3(WinApplication.java:178)\r\n    [java] \t... 1 more[java] Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1][java] Message: Premature end of file.[java] \tat com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:604)[java] \tat javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:88)\r\n    [java] \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2520)[java] \t... 17 more\r\n    [java] Exception running application hotelmanagementproject.HotelManagementProject\r\n    [java] Java Result: 1\r\n\r\n    -remove-temp-run-dir:\r\n    [delete] Deleting directory C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\r\n\r\n    jfxsa-run-no-another-jvm:\r\n\r\n    BUILD SUCCESSFUL\r\n    Total time: 2 seconds\r\n    BUILD SUCCESSFUL (total time: 3 seconds)\r\n\r\nThe main java file\r\n\r\n    package hotelmanagementproject;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class HotelManagementProject extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n\r\n            Scene scene = new Scene(root);\r\n           \r\n            stage.setScene(scene);\r\n            stage.show();\r\n\r\n        }\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {launch(args);}\r\n    }\r\n\r\ncss file\r\n\r\n    .white-bg{-fx-background-color:#fff;}\r\n    .left-form{-fx-background-color:linear-gradient(to bottom right, #686c89, #4f4c63);}\r\n    .textfield{-fx-background-color:transparent;-fx-border-color:#4f4c63;-fx-border-width:0px 0px .8px 0px;-fx-font-size:13px;-fx-font-family:&quot;Tahoma&quot;;}\r\n    .textfield:focused{-fx-border-color:linear-gradient(to bottom right, #686c89, #4f4c63);-fx-border-width:0px 0px 1.5px 0px;}\r\n    .login-btn{-fx-background-color:linear-gradient(to bottom right, ffffff, #565d91);-fx-text-fill:#fff;-fx-font-size:13px;-fx-cursor:hand;}\r\n    .login-btn:hover{-fx-background-color:linear-gradient(to bottom right, ffffff, #2b346e);}\r\n    .close{-fx-background-color:transparent;-fx-cursor:hand;}\r\n    .close:hover{-fx-background-color:#da0404;}`\r\n\r\nFXMLDocumentController.java file \r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXML2.java to edit this template\r\n     */\r\n    package hotelmanagementproject;\r\n\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Label;\r\n\r\n    /**\r\n     * @author youse\r\n     */\r\n    public class FXMLDocumentController implements Initializable {\r\n\r\n        @FXMLprivate Label label;\r\n\r\n        @FXMLprivate void handleButtonAction(ActionEvent event) {System.out.println(&quot;You clicked me!&quot;);label.setText(&quot;Hello World!&quot;);}\r\n\r\n        @Overridepublic void initialize(URL url, ResourceBundle rb) {// TODO}\r\n\r\n    }\r\n\r\nI added the font awesome to the library, as there was an error related to that previously, but then this showed up.\r\n","title":"Javafx build is successful but exe(gui) doesnt show up on the screen","body":"<p>I have been trying to create an app using JavaFX, JavaFX fxml application on Netbeans, I'm using java 8, and Javafx SDK 20, the output shows build successful, but the exe doesn't show up.</p>\n<p>This is the output code. I don't understand what is the issue and no idea how to fix it.</p>\n<pre><code>ant -f C:\\Users\\youse\\hotelManagementProject jfxsa-runjfxsa-run:Buildfile: C:\\Users\\youse\\hotelManagementProject\\build.xml\n-mark-project-state-running:\n-check-jfxrt-in-fxsdk-jre:\n-set-jfxrt-in-fxsdk-jre-old:\n-set-jfxrt-in-fxsdk-jre-new:\n-check-jfxrt-in-fxsdk-rt:\n-set-jfxrt-in-fxsdk-rt-old:\n-set-jfxrt-in-fxsdk-rt-new:\n-check-jfxrt-in-platform-home-jre:\n-set-jfxrt-in-platform-home-jre-old:\n-set-jfxrt-in-platform-home-jre-new:\n-check-jfxrt-in-platform-home-rt:\n-set-jfxrt-in-platform-home-rt-old:\n-set-jfxrt-in-platform-home-rt-new:\n-check-jfxrt-modules-in-platform-home:\n-set-jfxrt-modules-in-platform-home:\n-check-jfxrt-in-jre:\n-set-jfxrt-in-jre-old:\n-set-jfxrt-in-jre-new:\n-set-jfxrt-in-jre-mods:\n-check-jfxrt-in-envjdk-jre:\n-set-jfxrt-in-envjdk-jre-old:\n-set-jfxrt-in-envjdk-jre-new:\n-check-jfxrt-modules-in-envjdk:\n-set-jfxrt-modules-in-envjdk:\n-pre-check-jfx-runtime:\n-check-jfx-runtime:\n-check-project:\n-warn-of-preloader:\n-post-init:\n-init-check:\n-init-ap-cmdline-properties:\n-init-macrodef-modulename:\n-init-source-module-properties:\n-init-macrodef-javac-with-module:\n-init-macrodef-javac-with-processors:\n-init-macrodef-javac-without-processors:\n-init-macrodef-javac:\n-init-macrodef-test-impl:\n-init-macrodef-junit-init:\n-init-test-properties:\n-init-macrodef-junit-prototype-with-module:\n-init-macrodef-junit-prototype-without-module:\n-init-macrodef-junit-single:\n-init-macrodef-junit-batch:\n-init-macrodef-junit:\n-init-macrodef-junit-impl:\n-init-macrodef-testng:\n-init-macrodef-testng-impl:\n-init-macrodef-test:\n-init-macrodef-junit-debug-impl:\n-init-macrodef-test-debug-junit:\n-init-macrodef-testng-debug:\n-init-macrodef-testng-debug-impl:\n-init-macrodef-test-debug-testng:\n-init-macrodef-test-debug:\n-init-debug-args:\n-init-macrodef-nbjpda:\n-init-macrodef-debug:\n-init-macrodef-java-with-module:\n-init-macrodef-java-with-unnamed-module:\n-init-macrodef-java-without-module:\n-init-macrodef-java:\n-init-presetdef-jar:\n-init-ap-cmdline-supported:\n-init-ap-cmdline:\ninit:\n-deps-jar-init:[delete] Deleting: C:\\Users\\youse\\hotelManagementProject\\build\\built-jar.properties\ndeps-jar:\n-warn-already-built-jar:[propertyfile] Updating property file: C:\\Users\\youse\\hotelManagementProject\\build\\built-jar.properties\n-check-automatic-build:\n-clean-after-automatic-build:\n-verify-automatic-build:\n-pre-pre-compile:\n-pre-compile:\n-copy-persistence-xml:\n-compile-depend:\n-do-compile:\n-post-compile:\ncompile:\n-pre-jar:\n-check-module-main-class:\n-set-module-main-class:\n-pre-pre-jar:\n-do-jar-create-manifest:\n-do-jar-copy-manifest:\n-do-jar-set-mainclass:\n-do-jar-set-profile:\n-do-jar-set-splashscreen:\n-check-do-mkdist:\n-do-jar-jar:\n-init-macrodef-copylibs:\n-do-jar-copylibs:\n-do-jar-delete-manifest:\n-do-jar-without-libraries:\n-do-jar-with-libraries:\n-jfx-copylibs-warning:\n-jfx-copylibs:[delete] Deleting directory C:\\Users\\youse\\hotelManagementProject\\dist\\lib[copy] Copying 1 file to C:\\Users\\youse\\hotelManagementProject\\dist\\lib\n-check-rebase-libs:\n-rebase-libs-warning:\n-rebase-libs:\n-check-ant-javafx-in-fxsdk-lib:\n-set-ant-javafx-in-fxsdk-lib:\n-check-ant-javafx-in-fxsdk-tools:\n-set-ant-javafx-in-fxsdk-tools:\n-check-ant-javafx-in-platform-home-lib:\n-set-ant-javafx-in-platform-home-lib:\n-check-ant-javafx-in-platform-home-tools:\n-set-ant-javafx-in-platform-home-tools:\n-check-ant-javafx-in-probjdk-lib:\n-set-ant-javafx-in-probjdk-lib:\n-check-ant-javafx-in-probjdk-tools:\n-set-ant-javafx-in-probjdk-tools:\n-check-ant-javafx-in-macjdk-lib:\n-set-ant-javafx-in-macjdk-lib:\n-check-ant-javafx-in-envjdk-lib:\n-set-ant-javafx-in-envjdk-lib:\n-check-ant-javafx-in-envjdk-tools:\n-set-ant-javafx-in-envjdk-tools:\n-pre-check-ant-javafx-version:\n-check-endorsed-javafx-ant-classpath:\n-set-endorsed-javafx-ant-classpath:\n-set-javafx-ant-classpath:\n-check-ant-javafx-version:\n-check-jfx-sdk-version-old:\n-check-jfx-sdk-version-new:\n-check-jfx-sdk-version:[echo] Detected JavaFX Ant API version 1.3\n-check-jfx-deployment:\n-check-dist-lib-exists:\n-check-jfx-deployment-jar-current-nolib:\n-check-jfx-deployment-jar-current-lib:\n-check-jfx-deployment-launch:\n-do-jfx-deployment-script:\n-do-jfx-deployment-noscript:\njfx-deployment:\n-post-jar:\n-do-jar:\n-pre-deploy:\n-check-jlink:\n-do-deploy:\n-post-deploy:\ndeploy:\njar:\n-check-concurrent-runs:\n-create-temp-run-dir:\n[copy] Copying 4 files to C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\n\njfx-project-run:\n[echo] Executing C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\\hotelManagementProject.jar using platform C:\\Users\\youse\\Downloads\\zulu8.68.0.21-ca-fx-jdk8.0.362-win_x64\\zulu8.68.0.21-ca-fx-jdk8.0.362-win_x64/bin/java\n[java] Exception in Application start method\n[java] java.lang.reflect.InvocationTargetException\n[java]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[java]  at java.lang.reflect.Method.invoke(Method.java:498)\n[java]  at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n[java]  at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n[java]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[java]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[java]  at java.lang.reflect.Method.invoke(Method.java:498)\n[java]  at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:873)[java] Caused by: java.lang.RuntimeException: Exception in Application start method\n[java]  at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)[java]  at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\n[java]  at java.lang.Thread.run(Thread.java:750)[java] Caused by: javafx.fxml.LoadException:[java] file:/C:/Users/youse/hotelManagementProject/dist/run218081809/hotelManagementProject.jar!/hotelmanagementproject/FXMLDocument.fxml\n[java]\n[java]  at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2608)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2550)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2448)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3251)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3212)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3185)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3161)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3141)\n[java]  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:3134)\n[java]  at hotelmanagementproject.HotelManagementProject.start(HotelManagementProject.java:21)[java]    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\n[java]  at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)[java]     at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n[java]  at java.security.AccessController.doPrivileged(Native Method)[java]     at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n[java]  at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)[java]   at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n[java]  at com.sun.glass.ui.win.WinApplication.lambda$null$3(WinApplication.java:178)\n[java]  ... 1 more[java] Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1][java] Message: Premature end of file.[java]  at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:604)[java]     at javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:88)\n[java]  at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2520)[java]  ... 17 more\n[java] Exception running application hotelmanagementproject.HotelManagementProject\n[java] Java Result: 1\n\n-remove-temp-run-dir:\n[delete] Deleting directory C:\\Users\\youse\\hotelManagementProject\\dist\\run218081809\n\njfxsa-run-no-another-jvm:\n\nBUILD SUCCESSFUL\nTotal time: 2 seconds\nBUILD SUCCESSFUL (total time: 3 seconds)\n</code></pre>\n<p>The main java file</p>\n<pre><code>package hotelmanagementproject;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;import javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class HotelManagementProject extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n\n        Scene scene = new Scene(root);\n       \n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {launch(args);}\n}\n</code></pre>\n<p>css file</p>\n<pre><code>.white-bg{-fx-background-color:#fff;}\n.left-form{-fx-background-color:linear-gradient(to bottom right, #686c89, #4f4c63);}\n.textfield{-fx-background-color:transparent;-fx-border-color:#4f4c63;-fx-border-width:0px 0px .8px 0px;-fx-font-size:13px;-fx-font-family:&quot;Tahoma&quot;;}\n.textfield:focused{-fx-border-color:linear-gradient(to bottom right, #686c89, #4f4c63);-fx-border-width:0px 0px 1.5px 0px;}\n.login-btn{-fx-background-color:linear-gradient(to bottom right, ffffff, #565d91);-fx-text-fill:#fff;-fx-font-size:13px;-fx-cursor:hand;}\n.login-btn:hover{-fx-background-color:linear-gradient(to bottom right, ffffff, #2b346e);}\n.close{-fx-background-color:transparent;-fx-cursor:hand;}\n.close:hover{-fx-background-color:#da0404;}`\n</code></pre>\n<p>FXMLDocumentController.java file</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXML2.java to edit this template\n */\npackage hotelmanagementproject;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\n\n/**\n * @author youse\n */\npublic class FXMLDocumentController implements Initializable {\n\n    @FXMLprivate Label label;\n\n    @FXMLprivate void handleButtonAction(ActionEvent event) {System.out.println(&quot;You clicked me!&quot;);label.setText(&quot;Hello World!&quot;);}\n\n    @Overridepublic void initialize(URL url, ResourceBundle rb) {// TODO}\n\n}\n</code></pre>\n<p>I added the font awesome to the library, as there was an error related to that previously, but then this showed up.</p>\n"},{"tags":["java","gradle","soap","jaxb","wsdl"],"owner":{"account_id":8898928,"reputation":419,"user_id":6642944,"accept_rate":43,"display_name":"Thomson Mathew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681315236,"creation_date":1681315236,"question_id":75997593,"body_markdown":"I am trying to generate java classes from wsdl and I could do this with single schema but I am confused how to use multiple schema. I am using wsdl url. Here is what I have done so far:\r\n\r\n    task genJaxb {\r\n\t\text.sourcesDir = &quot;${buildDir}/generated-sources/jaxb&quot;\r\n\t\text.classesDir = &quot;${buildDir}/classes/jaxb&quot;\r\n\t\text.schema = &quot;http://myhost:port/WebSServiceV3/WEB-INF/WSDL/CustomerSearchServiceV3.wsdl&quot;\r\n        //ext.schema = &quot;http://myhost:port/WebSServiceV3/WEB-INF/WSDL/CustomerUpdateServiceV3.wsdl&quot; ---&gt; need to know how to add this\r\n\r\n\t\toutputs.dir classesDir\r\n\r\n\t\tdoLast() {\r\n\t\t\tproject.ant {\r\n\t\t\t\ttaskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\r\n\t\t\t\t\t\tclasspath: configurations.jaxb.asPath\r\n\t\t\t\tmkdir(dir: sourcesDir)\r\n\t\t\t\tmkdir(dir: classesDir)\r\n\r\n\t\t\t\txjc(destdir: sourcesDir, schema: schema,\r\n\t\t\t\t\t\tpackage: &quot;com.mycompany.csi.wsdl&quot;) {\r\n\t\t\t\t\targ(value: &quot;-wsdl&quot;)\r\n\t\t\t\t\tproduces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjavac(destdir: classesDir, source: 1.8, target: 1.8, debug: true,\r\n\t\t\t\t\t\tdebugLevel: &quot;lines,vars,source&quot;,\r\n\t\t\t\t\t\tclasspath: configurations.jaxb.asPath) {\r\n\t\t\t\t\tsrc(path: sourcesDir)\r\n\t\t\t\t\tinclude(name: &quot;**/*.java&quot;)\r\n\t\t\t\t\tinclude(name: &quot;*.java&quot;)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcopy(todir: classesDir) {\r\n\t\t\t\t\tfileset(dir: sourcesDir, erroronmissingdir: false) {\r\n\t\t\t\t\t\texclude(name: &quot;**/*.java&quot;)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nNot sure how I can add multiple WSDL urls and generate java classes. Thanks in advance!","title":"How to generate java files from multiple wsdl url","body":"<p>I am trying to generate java classes from wsdl and I could do this with single schema but I am confused how to use multiple schema. I am using wsdl url. Here is what I have done so far:</p>\n<pre><code>task genJaxb {\n    ext.sourcesDir = &quot;${buildDir}/generated-sources/jaxb&quot;\n    ext.classesDir = &quot;${buildDir}/classes/jaxb&quot;\n    ext.schema = &quot;http://myhost:port/WebSServiceV3/WEB-INF/WSDL/CustomerSearchServiceV3.wsdl&quot;\n    //ext.schema = &quot;http://myhost:port/WebSServiceV3/WEB-INF/WSDL/CustomerUpdateServiceV3.wsdl&quot; ---&gt; need to know how to add this\n\n    outputs.dir classesDir\n\n    doLast() {\n        project.ant {\n            taskdef name: &quot;xjc&quot;, classname: &quot;com.sun.tools.xjc.XJCTask&quot;,\n                    classpath: configurations.jaxb.asPath\n            mkdir(dir: sourcesDir)\n            mkdir(dir: classesDir)\n\n            xjc(destdir: sourcesDir, schema: schema,\n                    package: &quot;com.mycompany.csi.wsdl&quot;) {\n                arg(value: &quot;-wsdl&quot;)\n                produces(dir: sourcesDir, includes: &quot;**/*.java&quot;)\n            }\n\n            javac(destdir: classesDir, source: 1.8, target: 1.8, debug: true,\n                    debugLevel: &quot;lines,vars,source&quot;,\n                    classpath: configurations.jaxb.asPath) {\n                src(path: sourcesDir)\n                include(name: &quot;**/*.java&quot;)\n                include(name: &quot;*.java&quot;)\n            }\n\n            copy(todir: classesDir) {\n                fileset(dir: sourcesDir, erroronmissingdir: false) {\n                    exclude(name: &quot;**/*.java&quot;)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Not sure how I can add multiple WSDL urls and generate java classes. Thanks in advance!</p>\n"},{"tags":["java","gradle","apache-curator"],"answers":[{"tags":[],"owner":{"account_id":18683148,"reputation":53,"user_id":13619264,"display_name":"Thusitha Jayasundara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681315057,"creation_date":1681315057,"answer_id":75997570,"question_id":75997470,"body_markdown":"I was able to figure out the issue. My goal was to create a fatjar and for that I have updated the gradle jar task to create a fat jar. \r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\r\n        }\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n    }\r\n\r\nThe issue was, in the `C:\\Users\\..\\.gradle\\cache\\..` folder there were some dependencies without a .jar file. In my case only a .pom file. So I removed the task and created a new task(customFatJar) only to get `.jar` files. That fixed the issue. \r\n\r\n\r\nFix:\r\n\r\n    task customFatJar(type: Jar) {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;main.Main&#39;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        from {\r\n            configurations.runtimeClasspath.filter {\r\n                it.name.endsWith(&#39;.jar&#39;)\r\n            }\r\n        }\r\n        with jar\r\n    }","title":"Windows Gradle build : Could not expand ZIP","body":"<p>I was able to figure out the issue. My goal was to create a fatjar and for that I have updated the gradle jar task to create a fat jar.</p>\n<pre><code>jar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n}\n</code></pre>\n<p>The issue was, in the <code>C:\\Users\\..\\.gradle\\cache\\..</code> folder there were some dependencies without a .jar file. In my case only a .pom file. So I removed the task and created a new task(customFatJar) only to get <code>.jar</code> files. That fixed the issue.</p>\n<p>Fix:</p>\n<pre><code>task customFatJar(type: Jar) {\n    manifest {\n        attributes 'Main-Class': 'main.Main'\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from {\n        configurations.runtimeClasspath.filter {\n            it.name.endsWith('.jar')\n        }\n    }\n    with jar\n}\n</code></pre>\n"}],"owner":{"account_id":18683148,"reputation":53,"user_id":13619264,"display_name":"Thusitha Jayasundara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75997570,"answer_count":1,"score":0,"last_activity_date":1681315057,"creation_date":1681314396,"question_id":75997470,"body_markdown":"I&#39;m working on a MapReduce app and currently using Gradle to build the project. I&#39;m using following dependencies and when I execute the `./gradlew clean build` I&#39;m getting Could not expand ZIP error.\r\n\r\n```\r\nimplementation &#39;org.apache.hive:hive-jdbc:3.1.3&#39;\r\nimplementation &#39;org.apache.hadoop:hadoop-common:3.3.2&#39;\r\nimplementation &#39;org.apache.hadoop:hadoop-hdfs:3.3.2&#39;\r\n```\r\n\r\nStacktrace\r\n\r\n```\r\n Could not expand ZIP &#39;C:\\Users\\..\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.curator\\apache-curator\\2.12.0\\b1ff6ce0741facb15217ae9254ee7167bc7b15e\\apache-curator-2.12.0.pom&#39;.\r\n\r\n\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:jar&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\r\n```\r\n\r\nI tried clearing out gradle cache `gradlew cleanBuildCache --refresh-dependencies`  that didn&#39;t workout.","title":"Windows Gradle build : Could not expand ZIP","body":"<p>I'm working on a MapReduce app and currently using Gradle to build the project. I'm using following dependencies and when I execute the <code>./gradlew clean build</code> I'm getting Could not expand ZIP error.</p>\n<pre><code>implementation 'org.apache.hive:hive-jdbc:3.1.3'\nimplementation 'org.apache.hadoop:hadoop-common:3.3.2'\nimplementation 'org.apache.hadoop:hadoop-hdfs:3.3.2'\n</code></pre>\n<p>Stacktrace</p>\n<pre><code> Could not expand ZIP 'C:\\Users\\..\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.curator\\apache-curator\\2.12.0\\b1ff6ce0741facb15217ae9254ee7167bc7b15e\\apache-curator-2.12.0.pom'.\n\n\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':jar'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:188)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:186)\n</code></pre>\n<p>I tried clearing out gradle cache <code>gradlew cleanBuildCache --refresh-dependencies</code>  that didn't workout.</p>\n"},{"tags":["java","contentful","contentful-api","contentful-management"],"answers":[{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681314140,"creation_date":1681314140,"answer_id":75997434,"question_id":75983444,"body_markdown":"Okay so I was doing it all &quot;wrong&quot;.\r\n\r\nI had read somewhere in the documentation that when updating an entry, you need to provide all the fields for that entry else the missing fields would be deleted. With that in mind, I tried to build the entry with a local entry (from a local db) hence the missing parameters.\r\n\r\nTo update an entry, you need to retrieve that entry by its ID, edit the field you need to and then save it.\r\n\r\nAll I had to do was:\r\n\r\n \r\n\r\n    final CMAEntry entry =\r\n         cmaClient.entries()                                                \r\n            .fetchOne(response.items().get(i).id());\r\n    \r\n     entry.setField(&quot;saved&quot;, &quot;en-US&quot;, true);\r\n     cmaClient.entries().update(entry);","title":"&quot;Entry must have a space associated&quot; error thrown when updating an Entry via Contentful Management API","body":"<p>Okay so I was doing it all &quot;wrong&quot;.</p>\n<p>I had read somewhere in the documentation that when updating an entry, you need to provide all the fields for that entry else the missing fields would be deleted. With that in mind, I tried to build the entry with a local entry (from a local db) hence the missing parameters.</p>\n<p>To update an entry, you need to retrieve that entry by its ID, edit the field you need to and then save it.</p>\n<p>All I had to do was:</p>\n<pre><code>final CMAEntry entry =\n     cmaClient.entries()                                                \n        .fetchOne(response.items().get(i).id());\n\n entry.setField(&quot;saved&quot;, &quot;en-US&quot;, true);\n cmaClient.entries().update(entry);\n</code></pre>\n"}],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681314621,"creation_date":1681198303,"question_id":75983444,"body_markdown":"I&#39;m trying to update a field of an entry in contentful, but this error is thrown each time:\r\n\r\n&gt; java.lang.IllegalArgumentException: entry must have a space\r\n&gt; associated. \tat\r\n&gt; com.contentful.java.cma.AbsModule.getSpaceIdOrThrow(AbsModule.java:87)\r\n&gt; \tat\r\n&gt; com.contentful.java.cma.ModuleEntries.update(ModuleEntries.java:345)\r\n&gt; \tat\r\n&gt; com.contentful.java.cma.ModuleEntries$Async$14.method(ModuleEntries.java:700)\r\n\r\nI am building the client and providing the spaceId:\r\n\r\n    @Bean\r\n    CMAClient cmaClient() {\r\n        return new CMAClient.Builder()\r\n                .setAccessToken(contentManagementToken)\r\n                .setSpaceId(spaceId)\r\n                .setEnvironmentId(&quot;master&quot;)\r\n                .build();\r\n    }\r\n\r\nand this is where the error is being thrown:\r\n\r\n    CMAEntry entry = new \r\n        CMAEntry().setSystem(sys)\r\n       .setId(response.items().get(i).id())\r\n       .setField(&quot;questionText&quot;, &quot;en-US&quot;, question.getQuestionText()));\r\n       \r\n        cmaClient.entries().update(entry);\r\n\r\nIf I do set the space id for the entry like this:\r\n\r\n    CMAEntry entry = new CMAEntry().setSystem(sys)\r\n                                       .setId(response.items().get(i).id())\r\n                   .setSpaceId(spaceId)\r\n                   .setField(&quot;questionText&quot;, &quot;en-US&quot;, question.getQuestionText());\r\n  \r\n\r\n    cmaClient.entries().update(entry);\r\n\r\nI get a different error message:\r\n\r\n&gt; FAILED ErrorBody { details = Details { errors = [Error { details = The\r\n&gt; property &quot;space&quot; is not allowed here., name = unknown,....\r\n\r\nI&#39;ve turned the Internet upside down to find a solution to this and documentation for Java doesn&#39;t provide a solution.\r\n\r\n","title":"&quot;Entry must have a space associated&quot; error thrown when updating an Entry via Contentful Management API","body":"<p>I'm trying to update a field of an entry in contentful, but this error is thrown each time:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: entry must have a space\nassociated.   at\ncom.contentful.java.cma.AbsModule.getSpaceIdOrThrow(AbsModule.java:87)\nat\ncom.contentful.java.cma.ModuleEntries.update(ModuleEntries.java:345)\nat\ncom.contentful.java.cma.ModuleEntries$Async$14.method(ModuleEntries.java:700)</p>\n</blockquote>\n<p>I am building the client and providing the spaceId:</p>\n<pre><code>@Bean\nCMAClient cmaClient() {\n    return new CMAClient.Builder()\n            .setAccessToken(contentManagementToken)\n            .setSpaceId(spaceId)\n            .setEnvironmentId(&quot;master&quot;)\n            .build();\n}\n</code></pre>\n<p>and this is where the error is being thrown:</p>\n<pre><code>CMAEntry entry = new \n    CMAEntry().setSystem(sys)\n   .setId(response.items().get(i).id())\n   .setField(&quot;questionText&quot;, &quot;en-US&quot;, question.getQuestionText()));\n   \n    cmaClient.entries().update(entry);\n</code></pre>\n<p>If I do set the space id for the entry like this:</p>\n<pre><code>CMAEntry entry = new CMAEntry().setSystem(sys)\n                                   .setId(response.items().get(i).id())\n               .setSpaceId(spaceId)\n               .setField(&quot;questionText&quot;, &quot;en-US&quot;, question.getQuestionText());\n\n\ncmaClient.entries().update(entry);\n</code></pre>\n<p>I get a different error message:</p>\n<blockquote>\n<p>FAILED ErrorBody { details = Details { errors = [Error { details = The\nproperty &quot;space&quot; is not allowed here., name = unknown,....</p>\n</blockquote>\n<p>I've turned the Internet upside down to find a solution to this and documentation for Java doesn't provide a solution.</p>\n"},{"tags":["java","mysql","spring","h2","spock"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1681255691,"post_id":75990377,"comment_id":134026423,"body_markdown":"[`DATEDIFF`](http://h2database.com/html/functions.html?highlight=DATEDIFF&amp;search=DATEDIFF#datediff) expects three parameters.","body":"<a href=\"http://h2database.com/html/functions.html?highlight=DATEDIFF&amp;search=DATEDIFF#datediff\" rel=\"nofollow noreferrer\"><code>DATEDIFF</code></a> expects three parameters."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1681283945,"post_id":75990377,"comment_id":134029724,"body_markdown":"Why did you remove the SQL statement and error message that were essential for others to understand your question?!? I reverted the edit. Please stop destroying your own questions, invalidating the meaning of existing answers and comments. This kind of dysfunctional information hiding helps nobody. On opposite, you should rather add information, e.g. your Spock test.","body":"Why did you remove the SQL statement and error message that were essential for others to understand your question?!? I reverted the edit. Please stop destroying your own questions, invalidating the meaning of existing answers and comments. This kind of dysfunctional information hiding helps nobody. On opposite, you should rather add information, e.g. your Spock test."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681256727,"creation_date":1681256727,"answer_id":75990868,"question_id":75990377,"body_markdown":"From the documentation:\r\n\r\n&gt;DATEDIFF( datetimeField , aDateAndTime , bDateAndTime )\r\n&gt;\r\n&gt;Returns the number of crossed unit boundaries between two date/time values. This method returns a long. The datetimeField indicates the unit. Only TIMEZONE_HOUR, TIMEZONE_MINUTE, and TIMEZONE_SECOND fields use the time zone offset component. With all other fields if date/time values have time zone offset component it is ignored.\r\n&gt;\r\n&gt;Example:\r\n&gt;\r\n&gt;DATEDIFF(YEAR, T1.CREATED, T2.CREATED)\r\n\r\nNote `DATEDIFF` takes 3 arguments, the first of which is the units specification.","title":"H2 syntax error in SQL statement during Spock test","body":"<p>From the documentation:</p>\n<blockquote>\n<p>DATEDIFF( datetimeField , aDateAndTime , bDateAndTime )</p>\n<p>Returns the number of crossed unit boundaries between two date/time values. This method returns a long. The datetimeField indicates the unit. Only TIMEZONE_HOUR, TIMEZONE_MINUTE, and TIMEZONE_SECOND fields use the time zone offset component. With all other fields if date/time values have time zone offset component it is ignored.</p>\n<p>Example:</p>\n<p>DATEDIFF(YEAR, T1.CREATED, T2.CREATED)</p>\n</blockquote>\n<p>Note <code>DATEDIFF</code> takes 3 arguments, the first of which is the units specification.</p>\n"}],"owner":{"account_id":4164209,"reputation":49,"user_id":3413540,"display_name":"user3413540"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681314517,"creation_date":1681249695,"question_id":75990377,"body_markdown":"This issue is only occuring when running my test cases. Running the application and query itself works as desired.\r\n\r\n```none\r\norg.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar\r\nCaused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement \r\n```\r\n\r\nHere is the SQL query\r\n```lang-sql\r\nSELECT\r\n  C.idCampaign,\r\n  SUM(DATEDIFF(IFNULL(CPM.actual_end, CURDATE()),CPM.actual_start)) AS daysPaused\r\nFROM Campaign C\r\nJOIN CampaignPauseManagement CPM\r\nON C.idCampaign = CPM.idCampaign\r\nWHERE C.idCampaign IN (:campaignIds)\r\nGROUP BY C.idCampaign;\r\n```\r\n\r\nI&#39;ve tried changing the variable names, using different variations of COALESCE, case statements and haven&#39;t had any luck.\r\n\r\nThe error message shows a * mark here before the bracket for SUM\r\n\r\n```lang-sql\r\nSELECT C.idCampaign, SUM(DATEDIFF(IFNULL(CPM.actual_end, CURDATE()),CPM.actual_start)[*]) AS daysPaused\r\n```","title":"H2 syntax error in SQL statement during Spock test","body":"<p>This issue is only occuring when running my test cases. Running the application and query itself works as desired.</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar\nCaused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement \n</code></pre>\n<p>Here is the SQL query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  C.idCampaign,\n  SUM(DATEDIFF(IFNULL(CPM.actual_end, CURDATE()),CPM.actual_start)) AS daysPaused\nFROM Campaign C\nJOIN CampaignPauseManagement CPM\nON C.idCampaign = CPM.idCampaign\nWHERE C.idCampaign IN (:campaignIds)\nGROUP BY C.idCampaign;\n</code></pre>\n<p>I've tried changing the variable names, using different variations of COALESCE, case statements and haven't had any luck.</p>\n<p>The error message shows a * mark here before the bracket for SUM</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT C.idCampaign, SUM(DATEDIFF(IFNULL(CPM.actual_end, CURDATE()),CPM.actual_start)[*]) AS daysPaused\n</code></pre>\n"},{"tags":["java","android","bluetooth","android-bluetooth","battery"],"owner":{"account_id":28181151,"reputation":1,"user_id":21538140,"display_name":"Element21302"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681314419,"creation_date":1681314371,"question_id":75997466,"body_markdown":"I am having trouble figuring out how to get the battery level of the earbuds independently. I currently have a receiver that triggers when the connected bluetooth device battery level changes or the device turns off.\r\nI can&#39;t seem to find any information on how to get individual battery levels from multipoint devices.\r\n\r\nI think I might need to use getMethod(), but I cant seem to find the correct method to use.\r\nMaybe I am way off and this may not be possible. I know that the default app for my earbuds current display the levels of both earbuds and the case separately.\r\n\r\nJust wondering if anyone could point me in the correct direction. Here is what I currently have.\r\n\r\n\r\n---\r\nBluetoothReceiver\r\n```\r\nif(intent.getAction().equals(&quot;android.bluetooth.device.action.BATTERY_LEVEL_CHANGED&quot;)){\r\n    int batteryLevel = intent.getIntExtra(&quot;android.bluetooth.device.extra.BATTERY_LEVEL&quot;, -1);\r\n    if(batteryLevel != -1){\r\n        saveCurrentDeviceBatteryLevel(context, deviceJson, batteryLevel);\r\n    }\r\n}else if(intent.getAction().equals(&quot;android.bluetooth.device.action.ACL_CONNECTED&quot;)){\r\n    saveCurrentDeviceConnectionState(context, deviceJson, true);\r\n}else if(intent.getAction().equals(&quot;android.bluetooth.device.action.ACL_DISCONNECTED&quot;)){\r\n    saveCurrentDeviceConnectionState(context, deviceJson, false);\r\n}\r\n```\r\n\r\n---\r\ngetMethod()\r\n```\r\npublic int getBatteryLevel(String addressString){\r\n    BluetoothDevice device = bluetoothAdapter.getRemoteDevice(addressString);\r\n    int value;\r\n    try {\r\n        Method method = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\r\n        value = (int) method.invoke(device);\r\n    } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    return value;\r\n\r\n}\r\n```\r\n","title":"How to get Bluetooth earbuds (multipoint) battery levels in Android Java?","body":"<p>I am having trouble figuring out how to get the battery level of the earbuds independently. I currently have a receiver that triggers when the connected bluetooth device battery level changes or the device turns off.\nI can't seem to find any information on how to get individual battery levels from multipoint devices.</p>\n<p>I think I might need to use getMethod(), but I cant seem to find the correct method to use.\nMaybe I am way off and this may not be possible. I know that the default app for my earbuds current display the levels of both earbuds and the case separately.</p>\n<p>Just wondering if anyone could point me in the correct direction. Here is what I currently have.</p>\n<hr />\n<p>BluetoothReceiver</p>\n<pre><code>if(intent.getAction().equals(&quot;android.bluetooth.device.action.BATTERY_LEVEL_CHANGED&quot;)){\n    int batteryLevel = intent.getIntExtra(&quot;android.bluetooth.device.extra.BATTERY_LEVEL&quot;, -1);\n    if(batteryLevel != -1){\n        saveCurrentDeviceBatteryLevel(context, deviceJson, batteryLevel);\n    }\n}else if(intent.getAction().equals(&quot;android.bluetooth.device.action.ACL_CONNECTED&quot;)){\n    saveCurrentDeviceConnectionState(context, deviceJson, true);\n}else if(intent.getAction().equals(&quot;android.bluetooth.device.action.ACL_DISCONNECTED&quot;)){\n    saveCurrentDeviceConnectionState(context, deviceJson, false);\n}\n</code></pre>\n<hr />\n<p>getMethod()</p>\n<pre><code>public int getBatteryLevel(String addressString){\n    BluetoothDevice device = bluetoothAdapter.getRemoteDevice(addressString);\n    int value;\n    try {\n        Method method = device.getClass().getMethod(&quot;getBatteryLevel&quot;);\n        value = (int) method.invoke(device);\n    } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n        throw new RuntimeException(e);\n    }\n\n    return value;\n\n}\n</code></pre>\n"},{"tags":["java","google-chrome","ubuntu","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":1772027,"reputation":4217,"user_id":1616622,"accept_rate":96,"display_name":"Saxtheowl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681314357,"creation_date":1681314357,"answer_id":75997463,"question_id":75987231,"body_markdown":"`Chrome` might not have the necessary permissions for the file, update your `ChromeOptions` in your code like that:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addArguments(&quot;--headless&quot;);\r\n    chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n    chromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    chromeOptions.addArguments(&quot;--disable-extensions&quot;);\r\n    chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n    chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n    \r\n    chromeOptions.addArguments(&quot;--enable-features=NetworkServiceInProcess&quot;);\r\n    chromeOptions.addArguments(&quot;--disable-features=NetworkService&quot;);\r\n\r\n","title":"Download a file on click operation in Chrome using Java selenium in Ubuntu OS","body":"<p><code>Chrome</code> might not have the necessary permissions for the file, update your <code>ChromeOptions</code> in your code like that:</p>\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addArguments(&quot;--headless&quot;);\nchromeOptions.addArguments(&quot;--no-sandbox&quot;);\nchromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\nchromeOptions.addArguments(&quot;--disable-extensions&quot;);\nchromeOptions.addArguments(&quot;--disable-gpu&quot;);\nchromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\nchromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n\nchromeOptions.addArguments(&quot;--enable-features=NetworkServiceInProcess&quot;);\nchromeOptions.addArguments(&quot;--disable-features=NetworkService&quot;);\n</code></pre>\n"}],"owner":{"account_id":24179975,"reputation":13,"user_id":18140816,"display_name":"user10120"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75997463,"answer_count":1,"score":1,"last_activity_date":1681314357,"creation_date":1681224485,"question_id":75987231,"body_markdown":"I am trying to download a file on click operation in my local application in Java selenium. I am executing Java code in Ubuntu OS.\r\n\r\n\r\nMy code snippet is below, (I am using chrome driver in java selenium)\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.util.*;\r\n\r\npublic class Downloadfile {\r\n\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n\r\ntry{\r\n        String downloadFilepath = &quot;/tmp/&quot;; **==&gt; custom file directory in ubuntu OS**\r\n\tHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\tchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\tchromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\r\n\tChromeOptions chromeOptions = new ChromeOptions();\r\n\tchromeOptions.addArguments(&quot;--headless&quot;);\r\n\tchromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n\tchromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\r\n\t\r\n\tWebDriver driver = new ChromeDriver(chromeOptions);\r\n\tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n\r\n\tdriver.get(&quot;localhost:8080&quot;); **// my custom application URL**\r\n\tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n\r\n\tWebElement element=driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[2]/div/main/section/div[1]/div[1]&quot;)); \r\n   ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, element); **// this click operation will download a json file**\r\n\r\n\tdriver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n   \r\n\tdriver.quit();\r\n}catch(Exception e) {\r\n\tSystem.out.println(e);\r\n}\r\n}\r\n}\r\n```\r\n\r\nProblem I am facing, file is not downloading to my local directory in Ubuntu.","title":"Download a file on click operation in Chrome using Java selenium in Ubuntu OS","body":"<p>I am trying to download a file on click operation in my local application in Java selenium. I am executing Java code in Ubuntu OS.</p>\n<p>My code snippet is below, (I am using chrome driver in java selenium)</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.util.*;\n\npublic class Downloadfile {\n\npublic static void main(String[] args) throws IOException, InterruptedException {\n\ntry{\n        String downloadFilepath = &quot;/tmp/&quot;; **==&gt; custom file directory in ubuntu OS**\n    HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\n    chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n    chromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/usr/bin/chromedriver&quot;);\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.addArguments(&quot;--headless&quot;);\n    chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n\n    \n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n\n    driver.get(&quot;localhost:8080&quot;); **// my custom application URL**\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n\n    WebElement element=driver.findElement(By.xpath(&quot;/html/body/div/div/div/div[2]/div/main/section/div[1]/div[1]&quot;)); \n   ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, element); **// this click operation will download a json file**\n\n    driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n   \n    driver.quit();\n}catch(Exception e) {\n    System.out.println(e);\n}\n}\n}\n</code></pre>\n<p>Problem I am facing, file is not downloading to my local directory in Ubuntu.</p>\n"},{"tags":["java","docker","dockerfile","label","sbt"],"owner":{"account_id":3756387,"reputation":802,"user_id":3122668,"display_name":"capo11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681314336,"creation_date":1681314336,"question_id":75997458,"body_markdown":"my `build.sbt`:\r\n\r\n```\r\n[...]\r\n\r\nversion := &quot;1.0.0&quot;\r\n\r\nscalaVersion := &quot;2.11.7&quot;\r\n\r\n[...]\r\n```\r\n\r\nand my `Dockerfile`:\r\n```\r\nFROM openjdk:8\r\n\r\nENV PROJECT_HOME /usr/src\r\n\r\nENV SBT_VERSION 0.13.18\r\nRUN curl -L -o sbt-$SBT_VERSION.zip https://site-bla-bla.zip\r\nRUN unzip sbt-$SBT_VERSION.zip -d ops\r\nCMD /ops/sbt/bin/sbt run\r\n\r\n[...]\r\n\r\n```\r\n\r\n\r\n**What I want is:** add the field `LABEL` in **Dockerfile** with the project version defined in **build.sbt** file. Something like: \r\n\r\n`LABEL version=&quot;*&quot;` *1.0.0 = build.sbt file, version field\r\n\r\n\r\nHow Can I do this?","title":"How add label in Dockerfile with sbt project version?","body":"<p>my <code>build.sbt</code>:</p>\n<pre><code>[...]\n\nversion := &quot;1.0.0&quot;\n\nscalaVersion := &quot;2.11.7&quot;\n\n[...]\n</code></pre>\n<p>and my <code>Dockerfile</code>:</p>\n<pre><code>FROM openjdk:8\n\nENV PROJECT_HOME /usr/src\n\nENV SBT_VERSION 0.13.18\nRUN curl -L -o sbt-$SBT_VERSION.zip https://site-bla-bla.zip\nRUN unzip sbt-$SBT_VERSION.zip -d ops\nCMD /ops/sbt/bin/sbt run\n\n[...]\n\n</code></pre>\n<p><strong>What I want is:</strong> add the field <code>LABEL</code> in <strong>Dockerfile</strong> with the project version defined in <strong>build.sbt</strong> file. Something like:</p>\n<p><code>LABEL version=&quot;*&quot;</code> *1.0.0 = build.sbt file, version field</p>\n<p>How Can I do this?</p>\n"},{"tags":["java","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681314297,"creation_date":1624577995,"answer_id":68123808,"question_id":68123670,"body_markdown":"You’ll have to define a custom mapping method. (I do not know any other easier method to map a custom object to a Long)\r\n\r\nAnyways here would be the mapper\r\n\r\n    @Mapper\r\n    public interface AMapper {\r\n        \r\n        @Mapping(source = &quot;bs&quot;, target = &quot;bIds&quot;, qualifiedByName = &quot;bToId&quot;)\r\n        public ADto aToADto(A a);\r\n        \r\n        @Named(&quot;bToId&quot;) \r\n        public static Long bToId(B b) { \r\n            return b.getId(); \r\n        }\r\n    }\r\n\r\nBasically the first method `aToADto` would map the list of Bs to Longs using the second method `bToId` (based on the @Named value)","title":"Convert List of Objects to List of Long IDs using Mapstruct","body":"<p>You’ll have to define a custom mapping method. (I do not know any other easier method to map a custom object to a Long)</p>\n<p>Anyways here would be the mapper</p>\n<pre><code>@Mapper\npublic interface AMapper {\n    \n    @Mapping(source = &quot;bs&quot;, target = &quot;bIds&quot;, qualifiedByName = &quot;bToId&quot;)\n    public ADto aToADto(A a);\n    \n    @Named(&quot;bToId&quot;) \n    public static Long bToId(B b) { \n        return b.getId(); \n    }\n}\n</code></pre>\n<p>Basically the first method <code>aToADto</code> would map the list of Bs to Longs using the second method <code>bToId</code> (based on the @Named value)</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1624626759,"creation_date":1624579764,"answer_id":68123983,"question_id":68123670,"body_markdown":"This approach is similar to the [approach][AnswerL_Cleo] taken by [L_Cleo][L_Cleo], but assumes that we have more (possibly many) use cases in which we want to map entities to their id. If you upvote my answer, you may want to give them an upvote aswell; my answer was inspired by theirs.\r\n\r\nFirst, we create an interface `HasId` and let all entities having a `long getId()`-method implement this interface:\r\n\r\n    public interface HasId {\r\n      long getId();\r\n    }\r\n\r\n    @Builder\r\n    @Value\r\n    public class A implements HasId {\r\n      long id;\r\n      List&lt;B&gt; bs;\r\n    }\r\n\r\n  \r\n    @Builder\r\n    @Value\r\n    public class B implements HasId {\r\n      long id;\r\n    }\r\n\r\nAlternativley, if we already have an (abstract) superclass providing a `long getId()`-method, we can use this class instead. It works in the same manner.\r\n\r\nNext, we define a mapper that maps a `HasId`-entity to their `id`. We do not have any support from MapStruct for this, so we have to create this mapper manually:\r\n\r\n    @Mapper\r\n    public class HasIdMapper {\r\n      final long toId(HasId entity) {\r\n        return entity.getId();\r\n      }\r\n    }\r\n\r\nWe define our Dto-class as usual:\r\n\r\n    @Builder\r\n    @Value\r\n    public class ADto {\r\n      List&lt;Long&gt; bIds;\r\n    }\r\n\r\nAnd finally we define the mapper from `A` to `ADto`:\r\n\r\n    @Mapper(uses = HasIdMapper.class)\r\n    public interface AMapper {\r\n      @Mapping(source = &quot;bs&quot;, target = &quot;bIds&quot;)\r\n      ADto toDto(A entity);\r\n    }\r\n\r\nThe important bit here is the `uses`-attribute with which we trigger the usage of the `HasIdMapper`.\r\n\r\nAnd for completeness sake, here is a small test case:\r\n\r\n      public static void main(String... args) {\r\n        final A a = A.builder()\r\n            .bs(List.of(\r\n                B.builder().id(1).build(),\r\n                B.builder().id(2).build(),\r\n                B.builder().id(3).build()))\r\n            .build();\r\n        final ADto dto = Mappers.getMapper(AMapper.class).toDto(a);\r\n        System.out.println(dto);\r\n      }\r\n\r\nThis will print out:\r\n\r\n    ADto(bIds=[1, 2, 3])\r\n\r\n[AnswerL_Cleo]: https://stackoverflow.com/questions/68123670/convert-list-of-objects-to-list-of-long-ids-using-mapstruct/68123808#68123808\r\n[L_Cleo]: https://stackoverflow.com/users/11034353/l-cleo\r\n","title":"Convert List of Objects to List of Long IDs using Mapstruct","body":"<p>This approach is similar to the <a href=\"https://stackoverflow.com/questions/68123670/convert-list-of-objects-to-list-of-long-ids-using-mapstruct/68123808#68123808\">approach</a> taken by <a href=\"https://stackoverflow.com/users/11034353/l-cleo\">L_Cleo</a>, but assumes that we have more (possibly many) use cases in which we want to map entities to their id. If you upvote my answer, you may want to give them an upvote aswell; my answer was inspired by theirs.</p>\n<p>First, we create an interface <code>HasId</code> and let all entities having a <code>long getId()</code>-method implement this interface:</p>\n<pre><code>public interface HasId {\n  long getId();\n}\n\n@Builder\n@Value\npublic class A implements HasId {\n  long id;\n  List&lt;B&gt; bs;\n}\n\n\n@Builder\n@Value\npublic class B implements HasId {\n  long id;\n}\n</code></pre>\n<p>Alternativley, if we already have an (abstract) superclass providing a <code>long getId()</code>-method, we can use this class instead. It works in the same manner.</p>\n<p>Next, we define a mapper that maps a <code>HasId</code>-entity to their <code>id</code>. We do not have any support from MapStruct for this, so we have to create this mapper manually:</p>\n<pre><code>@Mapper\npublic class HasIdMapper {\n  final long toId(HasId entity) {\n    return entity.getId();\n  }\n}\n</code></pre>\n<p>We define our Dto-class as usual:</p>\n<pre><code>@Builder\n@Value\npublic class ADto {\n  List&lt;Long&gt; bIds;\n}\n</code></pre>\n<p>And finally we define the mapper from <code>A</code> to <code>ADto</code>:</p>\n<pre><code>@Mapper(uses = HasIdMapper.class)\npublic interface AMapper {\n  @Mapping(source = &quot;bs&quot;, target = &quot;bIds&quot;)\n  ADto toDto(A entity);\n}\n</code></pre>\n<p>The important bit here is the <code>uses</code>-attribute with which we trigger the usage of the <code>HasIdMapper</code>.</p>\n<p>And for completeness sake, here is a small test case:</p>\n<pre><code>  public static void main(String... args) {\n    final A a = A.builder()\n        .bs(List.of(\n            B.builder().id(1).build(),\n            B.builder().id(2).build(),\n            B.builder().id(3).build()))\n        .build();\n    final ADto dto = Mappers.getMapper(AMapper.class).toDto(a);\n    System.out.println(dto);\n  }\n</code></pre>\n<p>This will print out:</p>\n<pre><code>ADto(bIds=[1, 2, 3])\n</code></pre>\n"}],"owner":{"account_id":1176723,"reputation":8864,"user_id":1152549,"accept_rate":68,"display_name":"Ali Behzadian Nejad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68123983,"answer_count":2,"score":7,"last_activity_date":1681314297,"creation_date":1624576569,"question_id":68123670,"body_markdown":"I am using `MapStruct` to convert entities to DTOs.\r\n\r\nI have an entity A with list of entity B:\r\n\r\n```\r\npublic class A {\r\n    List&lt;B&gt; bs;\r\n}\r\n```\r\n\r\nI want to have a list of B ids in ADto class: \r\n\r\n```\r\npublic class ADto {\r\n    List&lt;Long&gt; bIds;\r\n}\r\n```\r\n\r\n","title":"Convert List of Objects to List of Long IDs using Mapstruct","body":"<p>I am using <code>MapStruct</code> to convert entities to DTOs.</p>\n<p>I have an entity A with list of entity B:</p>\n<pre><code>public class A {\n    List&lt;B&gt; bs;\n}\n</code></pre>\n<p>I want to have a list of B ids in ADto class:</p>\n<pre><code>public class ADto {\n    List&lt;Long&gt; bIds;\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","picasso"],"comments":[{"owner":{"account_id":1963694,"reputation":940,"user_id":1764469,"accept_rate":43,"display_name":"Charan"},"score":0,"creation_date":1681313730,"post_id":75996771,"comment_id":134037188,"body_markdown":"Without the exception or error message, the issue can be anything from - image downscaling, HTTP error. Share the log to know more and help you.","body":"Without the exception or error message, the issue can be anything from - image downscaling, HTTP error. Share the log to know more and help you."},{"owner":{"display_name":"user12174294"},"score":0,"creation_date":1681322891,"post_id":75996771,"comment_id":134039363,"body_markdown":"@Charan the problem is that I&#39;m not getting any error message. It just places the placeholder there every time.","body":"@Charan the problem is that I&#39;m not getting any error message. It just places the placeholder there every time."}],"answers":[{"tags":[],"owner":{"account_id":25871104,"reputation":51,"user_id":19601969,"display_name":"phanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681313426,"creation_date":1681313426,"answer_id":75997321,"question_id":75996771,"body_markdown":"You can use Picasso.with(Context).setLoggingEnabled(true) to enable debugging so as to troubleshoot the exact cause . If the log has something like Error 504 try using:\r\n\r\nandroid:usesCleartextTraffic=&quot;true&quot;\r\n\r\nin Application tag of your manifest.","title":"Not being able to get image from URL and insert it into Recycler view","body":"<p>You can use Picasso.with(Context).setLoggingEnabled(true) to enable debugging so as to troubleshoot the exact cause . If the log has something like Error 504 try using:</p>\n<p>android:usesCleartextTraffic=&quot;true&quot;</p>\n<p>in Application tag of your manifest.</p>\n"}],"owner":{"display_name":"user12174294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681313426,"creation_date":1681310310,"question_id":75996771,"body_markdown":"I&#39;m working on a project where we receive a link to an image and we&#39;re supposed to use it as an &quot;icon&quot; to a specific recycler view Item. I&#39;m trying to use Picasso to get this done but It&#39;s not working. I have verified that the link is working.\r\n\r\nThis is my onBindViewHolder, where I&#39;m using Picasso:\r\n```java\r\npublic void onBindViewHolder(final TrailViewHolder holder, int position) {\r\n        Trail t = mTrails.get(position);\r\n        holder.mTrailName.setText(t.getTrail_name());\r\n        holder.mTrailDesc.setText(t.getTrail_description());\r\n        //Get image\r\n        Picasso.get().load(t.getImage_src())\r\n                     .placeholder(R.drawable.no_image)\r\n                     .into(holder.mTrailImage);\r\n\r\n\r\n}\r\n```\r\nI used ```placeholder()``` to make sure that the code was working and was in fact adding the image to the recycler view item, which it does.  \r\nThe ```t.getImage_src()``` method returns a string with the link to the required image. \r\n\r\nThese are the permissions I&#39;ve included in my android manifest:\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n```\r\n\r\nIs there any step that I&#39;m missing?\r\n\r\n\r\n","title":"Not being able to get image from URL and insert it into Recycler view","body":"<p>I'm working on a project where we receive a link to an image and we're supposed to use it as an &quot;icon&quot; to a specific recycler view Item. I'm trying to use Picasso to get this done but It's not working. I have verified that the link is working.</p>\n<p>This is my onBindViewHolder, where I'm using Picasso:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onBindViewHolder(final TrailViewHolder holder, int position) {\n        Trail t = mTrails.get(position);\n        holder.mTrailName.setText(t.getTrail_name());\n        holder.mTrailDesc.setText(t.getTrail_description());\n        //Get image\n        Picasso.get().load(t.getImage_src())\n                     .placeholder(R.drawable.no_image)\n                     .into(holder.mTrailImage);\n\n\n}\n</code></pre>\n<p>I used <code>placeholder()</code> to make sure that the code was working and was in fact adding the image to the recycler view item, which it does.<br />\nThe <code>t.getImage_src()</code> method returns a string with the link to the required image.</p>\n<p>These are the permissions I've included in my android manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>Is there any step that I'm missing?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":20235618,"reputation":1,"user_id":14840929,"display_name":"Yovez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673571660,"creation_date":1673571660,"answer_id":75103852,"question_id":75086520,"body_markdown":"Unfortunately, it is not possible to add NBT tags to existing vanilla items. You can only add NBT tags to custom items that you have created yourself.","title":"How to give Vanilla Items an NBT Tag for setting max durability ? Minecraft Forge [1.12.2]","body":"<p>Unfortunately, it is not possible to add NBT tags to existing vanilla items. You can only add NBT tags to custom items that you have created yourself.</p>\n"},{"tags":[],"owner":{"account_id":28286454,"reputation":1,"user_id":21627333,"display_name":"sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681313331,"creation_date":1681313225,"answer_id":75997278,"question_id":75086520,"body_markdown":"you can take away durability\r\n      lets say you wanted to give the player a diamond sword that has been used 500 times,  \r\nyou would type /give player minecraft:diamond_sword{vanilla nbt if wanted} 1 500. \r\nthe last number is the amount of times it has been used","title":"How to give Vanilla Items an NBT Tag for setting max durability ? Minecraft Forge [1.12.2]","body":"<p>you can take away durability\nlets say you wanted to give the player a diamond sword that has been used 500 times,<br />\nyou would type /give player minecraft:diamond_sword{vanilla nbt if wanted} 1 500.\nthe last number is the amount of times it has been used</p>\n"}],"owner":{"account_id":27500906,"reputation":11,"user_id":20984643,"display_name":"CodeArtZero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681313331,"creation_date":1673456105,"question_id":75086520,"body_markdown":"I&#39;m still a bit of a beginner in Mc Modding and just learned how to use NBT Tags for my own Items,\r\nand so my question is if it is possible to put an NBT Tag on existing Vanilla Items.\r\n\r\nI&#39;m trying to make a way too set the max durability(setMaxDamage) ingame for Tools, Weapon and Armor.\r\nSo I thought adding an NBT Tag &quot;durability&quot; for Any Item that Extends form ItemTool &amp; ItemArmor.\r\n\r\n\r\n\r\nHow could I do that or is there an less difficult way that I&#39;m missing?","title":"How to give Vanilla Items an NBT Tag for setting max durability ? Minecraft Forge [1.12.2]","body":"<p>I'm still a bit of a beginner in Mc Modding and just learned how to use NBT Tags for my own Items,\nand so my question is if it is possible to put an NBT Tag on existing Vanilla Items.</p>\n<p>I'm trying to make a way too set the max durability(setMaxDamage) ingame for Tools, Weapon and Armor.\nSo I thought adding an NBT Tag &quot;durability&quot; for Any Item that Extends form ItemTool &amp; ItemArmor.</p>\n<p>How could I do that or is there an less difficult way that I'm missing?</p>\n"},{"tags":["java","parallel-processing","rx-java","rx-java2","rx-java3"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1681321763,"post_id":75997271,"comment_id":134039118,"body_markdown":"Put the `flatMap(Single::toFlowable)` between `runOn` and `sequential`","body":"Put the <code>flatMap(Single::toFlowable)</code> between <code>runOn</code> and <code>sequential</code>"}],"owner":{"account_id":12634154,"reputation":85,"user_id":9184318,"display_name":"Enrique Molina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681313197,"creation_date":1681313197,"question_id":75997271,"body_markdown":"I have 4 blocking operations and would like to run them in parallel by using RxJava Single/Flowable.\r\n\r\nThe test code that I wrote to check parallelism is:\r\n\r\n```\r\nfinal Single&lt;Boolean&gt; f1 = Single.fromCallable(() -&gt; {\r\n    TimeUnit.SECONDS.sleep(2);\r\n    System.out.println(&quot;f1 &quot; + Thread.currentThread().getName());\r\n    return true;\r\n});\r\nfinal Single&lt;Boolean&gt; f2 = Single.fromCallable(() -&gt; {\r\n    System.out.println(&quot;f2 &quot; + Thread.currentThread().getName());\r\n    return true;\r\n});\r\nfinal Single&lt;Boolean&gt; f3 = Single.fromCallable(() -&gt; {\r\n    TimeUnit.SECONDS.sleep(1);\r\n    System.out.println(&quot;f3 &quot; + Thread.currentThread().getName());\r\n    return true;\r\n});\r\nfinal Single&lt;Boolean&gt; f4 = Single.fromCallable(() -&gt; {\r\n    System.out.println(&quot;f4 &quot; + Thread.currentThread().getName());\r\n    return true;\r\n});\r\n\r\nFlowable.fromArray(f1, f2, f3, f4)\r\n        .flatMap(Single::toFlowable)\r\n        .parallel(4)\r\n        .runOn(Schedulers.io())\r\n        .sequential()\r\n        .ignoreElements()\r\n        .blockingAwait();\r\n```\r\n\r\nHowever they run all on the same thread, sequentially giving the following output:\r\n\r\n```\r\nf1 Test worker\r\nf2 Test worker\r\nf3 Test worker\r\nf4 Test worker\r\n```\r\n\r\ndespite the time delays in f1 and f3...\r\n\r\nUsing `Flowable.parallel` works fine with flowables of values but now in this case. So I am missing something.\r\n\r\nHow can I make my code work or how can I run callables in parallel in a elegant way by using RxJava?","title":"How to run a set of callables in parallel by using Flowable and Single","body":"<p>I have 4 blocking operations and would like to run them in parallel by using RxJava Single/Flowable.</p>\n<p>The test code that I wrote to check parallelism is:</p>\n<pre><code>final Single&lt;Boolean&gt; f1 = Single.fromCallable(() -&gt; {\n    TimeUnit.SECONDS.sleep(2);\n    System.out.println(&quot;f1 &quot; + Thread.currentThread().getName());\n    return true;\n});\nfinal Single&lt;Boolean&gt; f2 = Single.fromCallable(() -&gt; {\n    System.out.println(&quot;f2 &quot; + Thread.currentThread().getName());\n    return true;\n});\nfinal Single&lt;Boolean&gt; f3 = Single.fromCallable(() -&gt; {\n    TimeUnit.SECONDS.sleep(1);\n    System.out.println(&quot;f3 &quot; + Thread.currentThread().getName());\n    return true;\n});\nfinal Single&lt;Boolean&gt; f4 = Single.fromCallable(() -&gt; {\n    System.out.println(&quot;f4 &quot; + Thread.currentThread().getName());\n    return true;\n});\n\nFlowable.fromArray(f1, f2, f3, f4)\n        .flatMap(Single::toFlowable)\n        .parallel(4)\n        .runOn(Schedulers.io())\n        .sequential()\n        .ignoreElements()\n        .blockingAwait();\n</code></pre>\n<p>However they run all on the same thread, sequentially giving the following output:</p>\n<pre><code>f1 Test worker\nf2 Test worker\nf3 Test worker\nf4 Test worker\n</code></pre>\n<p>despite the time delays in f1 and f3...</p>\n<p>Using <code>Flowable.parallel</code> works fine with flowables of values but now in this case. So I am missing something.</p>\n<p>How can I make my code work or how can I run callables in parallel in a elegant way by using RxJava?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681313442,"post_id":75997193,"comment_id":134037112,"body_markdown":"You&#39;ll need a for and then a separate if outside the for.","body":"You&#39;ll need a for and then a separate if outside the for."},{"owner":{"account_id":28286335,"reputation":1,"user_id":21627233,"display_name":"FatFireFace"},"score":0,"creation_date":1681314108,"post_id":75997193,"comment_id":134037278,"body_markdown":"@LouisWasserman Did I understand correctly, you suggesting to compare all elements in for body with boolean result and use that in next if?","body":"@LouisWasserman Did I understand correctly, you suggesting to compare all elements in for body with boolean result and use that in next if?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681316883,"post_id":75997193,"comment_id":134037997,"body_markdown":"Why would you need to use that in the next if?  It seems like you&#39;re trying to do multiple things at the same time that aren&#39;t related.","body":"Why would you need to use that in the next if?  It seems like you&#39;re trying to do multiple things at the same time that aren&#39;t related."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681317646,"post_id":75997193,"comment_id":134038165,"body_markdown":"Would using a stream operation for checking that all element of your list are equal to the first element be OK for you?","body":"Would using a stream operation for checking that all element of your list are equal to the first element be OK for you?"},{"owner":{"account_id":28286335,"reputation":1,"user_id":21627233,"display_name":"FatFireFace"},"score":0,"creation_date":1681387851,"post_id":75997193,"comment_id":134050117,"body_markdown":"@OleV.V., can i exclude last element of the list from the stream or i need to make new list with only elements i need?","body":"@OleV.V., can i exclude last element of the list from the stream or i need to make new list with only elements i need?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681391657,"post_id":75997193,"comment_id":134051113,"body_markdown":"Ah, the last element needs not be equal to the first? You can, for example by limiting the stream to the first (n - 1) elements where n is the size of the list; but it may not give the clearest code, I’m unsure.","body":"Ah, the last element needs not be equal to the first? You can, for example by limiting the stream to the first (n - 1) elements where n is the size of the list; but it may not give the clearest code, I’m unsure."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681468980,"post_id":75997193,"comment_id":134065032,"body_markdown":"[Did you have something like this in mind?](https://rextester.com/NCVEMU38291)","body":"<a href=\"https://rextester.com/NCVEMU38291\" rel=\"nofollow noreferrer\">Did you have something like this in mind?</a>"}],"owner":{"account_id":28286335,"reputation":1,"user_id":21627233,"display_name":"FatFireFace"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681312860,"creation_date":1681312860,"question_id":75997193,"body_markdown":"Im trying to solve some task and i need to ensure that all element of my List is equals to the first element and at the same time the last element satisfies some another logical operation.\r\n\r\n\r\nI tried to solve that by using trivial &quot;for&quot; with Iterator, but it dont solving task of comparison all of element together at same time with some another operator.\r\n\r\n```\r\nfor (int i=0; i&lt;listOfValues.size()-1; i++){\r\n                if (listOfValues.get(i).equals(listOfValues.get(i + 1))&amp;&amp;((listOfValues.get(listOfValues.size()-1)==listOfValues.get(i)-1)|(listOfValues.get(listOfValues.size()-1)==1))){\r\n                    \r\n                }\r\n            }\r\n...","title":"How to implement a logical operation for all ArrayList elements?","body":"<p>Im trying to solve some task and i need to ensure that all element of my List is equals to the first element and at the same time the last element satisfies some another logical operation.</p>\n<p>I tried to solve that by using trivial &quot;for&quot; with Iterator, but it dont solving task of comparison all of element together at same time with some another operator.</p>\n<pre><code>for (int i=0; i&lt;listOfValues.size()-1; i++){\n                if (listOfValues.get(i).equals(listOfValues.get(i + 1))&amp;&amp;((listOfValues.get(listOfValues.size()-1)==listOfValues.get(i)-1)|(listOfValues.get(listOfValues.size()-1)==1))){\n                    \n                }\n            }\n...\n</code></pre>\n"},{"tags":["javascript","java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":28286403,"reputation":1,"user_id":21627291,"display_name":"MaxObes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681312784,"creation_date":1681312784,"answer_id":75997187,"question_id":75997029,"body_markdown":"    // Java generics may be of help\r\n    public class DataHolder&lt;T&gt; {\r\n        private Map&lt;Integer, Map&lt;String, T&gt;&gt; containers = new HashMap&lt;&gt;();\r\n  \r\n        add(int containerId, String key, T value) {}\r\n        add(int containerId, T value) {} // it could take container.size() as a key\r\n    }","title":"How to create a container for data of different types in Java?","body":"<pre><code>// Java generics may be of help\npublic class DataHolder&lt;T&gt; {\n    private Map&lt;Integer, Map&lt;String, T&gt;&gt; containers = new HashMap&lt;&gt;();\n\n    add(int containerId, String key, T value) {}\n    add(int containerId, T value) {} // it could take container.size() as a key\n}\n</code></pre>\n"}],"owner":{"account_id":28286150,"reputation":1,"user_id":21627072,"display_name":"XxX1327"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681312784,"creation_date":1681311740,"question_id":75997029,"body_markdown":"I&#39;m trying to figure out what is the right Java code structure of a feature written in JavaScript.\r\n\r\nI have several classes each of them should handle its method calls and store related data. Each class processes data for different ids (some kind of `containerId`). Data values are of different types:\r\n```\r\n// javascript\r\nclass A {\r\n  constructor() {\r\n    this._containers = new Map();\r\n  }\r\n\r\n  method1(id, data) {\r\n    // ensure that a container for &lt;id&gt; exists\r\n    const container = this._containers.get(id);\r\n    container.set(&#39;hello&#39;, &#39;world&#39;);\r\n  }\r\n\r\n  method2(id, data) {\r\n    // ensure that a container for &lt;id&gt; exists\r\n    const container = this._containers.get(id);\r\n    container.set(&#39;prop&#39;, 1);\r\n  }\r\n\r\n  method3(id, data) {\r\n    const container = this._containers.get(id); // in this case no need to ensure\r\n    container.set(&#39;some&#39;, 1.0);\r\n  }\r\n}\r\n\r\nclass B {\r\n  constructor() {\r\n    this._containers = new Map();\r\n  }\r\n\r\n  method1(id, data) {\r\n    // ensure that a container for &lt;id&gt; exists\r\n    const container = this._containers.get(id);\r\n    container.put({ prop1: &#39;value1&#39;, prop2: 0 }); // this is actually not allowed in js, pseudo-code\r\n  }\r\n}\r\n```\r\nI&#39;d like to remove code duplication (and also the responsibility of data storing management) with composition. Moving all store logic in a separate class, e.g. `DataHolder`. I just want to call `dataHolder.add(containerId, key, value);` which will check that a container exists and add key, value to it.\r\n\r\nJava `DataHolder` could have an underlying storage as a `Map&lt;String, ?&gt;`. Due to method overloading I could define different variations of an `add` method:\r\n```\r\n// java\r\npublic class DataHolder {\r\n  private Map&lt;Integer, Map&lt;String, ?&gt;&gt; containers = new HashMap&lt;&gt;();\r\n  // ...\r\n  add(int containerId, String key, ? value) {}\r\n  add(int containerId, ? value) {} // it could take container.size() as a key\r\n}\r\n```\r\nHow do I define this `?` in `DataHolder` so that it handles everything correctly. If it&#39;s an `Object` how does `A` class know which type a value is? `instanceof` seems a bad idea. (When an `A` instance decides that it got the last chunk of data it should create a new Record for example with collected values).\r\n\r\nIf it&#39;s not the way a Java code is written, so what is the way?\r\n\r\nAnother approach could be to create `AContainers` class which holds a map of `A` instances (for each id) with all fields defined inside `A` class. But I don&#39;t like this approach because in that case `AContainers` should proxy all method calls to `A` instance (and also have some knowledge when `A` is done). For each algorithm `A`, `B`, ..., `Z` there will be 1 additional class. (`2*N` classes instead of `N`). And it should anyway implement the logic of creating an `A` instance on event (which contradicts the initial intent to move the creation logic outside the processors). ","title":"How to create a container for data of different types in Java?","body":"<p>I'm trying to figure out what is the right Java code structure of a feature written in JavaScript.</p>\n<p>I have several classes each of them should handle its method calls and store related data. Each class processes data for different ids (some kind of <code>containerId</code>). Data values are of different types:</p>\n<pre><code>// javascript\nclass A {\n  constructor() {\n    this._containers = new Map();\n  }\n\n  method1(id, data) {\n    // ensure that a container for &lt;id&gt; exists\n    const container = this._containers.get(id);\n    container.set('hello', 'world');\n  }\n\n  method2(id, data) {\n    // ensure that a container for &lt;id&gt; exists\n    const container = this._containers.get(id);\n    container.set('prop', 1);\n  }\n\n  method3(id, data) {\n    const container = this._containers.get(id); // in this case no need to ensure\n    container.set('some', 1.0);\n  }\n}\n\nclass B {\n  constructor() {\n    this._containers = new Map();\n  }\n\n  method1(id, data) {\n    // ensure that a container for &lt;id&gt; exists\n    const container = this._containers.get(id);\n    container.put({ prop1: 'value1', prop2: 0 }); // this is actually not allowed in js, pseudo-code\n  }\n}\n</code></pre>\n<p>I'd like to remove code duplication (and also the responsibility of data storing management) with composition. Moving all store logic in a separate class, e.g. <code>DataHolder</code>. I just want to call <code>dataHolder.add(containerId, key, value);</code> which will check that a container exists and add key, value to it.</p>\n<p>Java <code>DataHolder</code> could have an underlying storage as a <code>Map&lt;String, ?&gt;</code>. Due to method overloading I could define different variations of an <code>add</code> method:</p>\n<pre><code>// java\npublic class DataHolder {\n  private Map&lt;Integer, Map&lt;String, ?&gt;&gt; containers = new HashMap&lt;&gt;();\n  // ...\n  add(int containerId, String key, ? value) {}\n  add(int containerId, ? value) {} // it could take container.size() as a key\n}\n</code></pre>\n<p>How do I define this <code>?</code> in <code>DataHolder</code> so that it handles everything correctly. If it's an <code>Object</code> how does <code>A</code> class know which type a value is? <code>instanceof</code> seems a bad idea. (When an <code>A</code> instance decides that it got the last chunk of data it should create a new Record for example with collected values).</p>\n<p>If it's not the way a Java code is written, so what is the way?</p>\n<p>Another approach could be to create <code>AContainers</code> class which holds a map of <code>A</code> instances (for each id) with all fields defined inside <code>A</code> class. But I don't like this approach because in that case <code>AContainers</code> should proxy all method calls to <code>A</code> instance (and also have some knowledge when <code>A</code> is done). For each algorithm <code>A</code>, <code>B</code>, ..., <code>Z</code> there will be 1 additional class. (<code>2*N</code> classes instead of <code>N</code>). And it should anyway implement the logic of creating an <code>A</code> instance on event (which contradicts the initial intent to move the creation logic outside the processors).</p>\n"},{"tags":["java","spring","configuration","webclient","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681312665,"creation_date":1681312665,"answer_id":75997165,"question_id":75994288,"body_markdown":"The field is missing the `@Autowired` annotation. Use\r\n\r\n```java\r\n@Autowired\r\n@Qualifier(&quot;sslClient&quot;)\r\nprivate final WebClient webClient;\r\n```\r\n\r\ninstead of just \r\n\r\n```java\r\n@Qualifier(&quot;sslClient&quot;)\r\nprivate final WebClient webClient;\r\n```","title":"Spring @Bean configuration is not working, loses it&#39;s config when autoscanned in development environment","body":"<p>The field is missing the <code>@Autowired</code> annotation. Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\n@Qualifier(&quot;sslClient&quot;)\nprivate final WebClient webClient;\n</code></pre>\n<p>instead of just</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Qualifier(&quot;sslClient&quot;)\nprivate final WebClient webClient;\n</code></pre>\n"}],"owner":{"account_id":27744480,"reputation":1,"user_id":21180265,"display_name":"Zoltan514"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681312665,"creation_date":1681294457,"question_id":75994288,"body_markdown":"I have a configuration class to create a WebClient with some specifis SSL setup. There is another WebClient bean in the service, so I used a Qualifier annotation. Before moved this to a Configuration class, all of the setup were working and the post request was successful, but now the url and httpclient is null if I want to use this as a Bean.\r\n```\r\n@Configuration\r\npublic class WebConfig {\r\n\r\n    @Bean\r\n    @Qualifier(&quot;sslClient&quot;)\r\n    public WebClient webClient(DeviceConfig config, Credentials credentials, HttpClientManager httpClientManager) {\r\n        HttpClient httpClient = httpClientManager.getHttpClient(credentials);\r\n        return WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n            .baseUrl(config.url)\r\n            .build();\r\n    }\r\n}\r\n```\r\n\r\nThe class where I want to use this Client looks like:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ApiClient {\r\n    @Qualifier(&quot;sslClient&quot;)\r\n    private final WebClient webClient;\r\n\r\n    public String postRequest(String body) {\r\n        return webClient.post()\r\n            .contentType(MediaType.APPLICATION_XML)\r\n            .bodyValue(body)\r\n            .retreive()\r\n            .bodyToMono(String.class)\r\n            .block()\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I try to run this method, I receive an error message &quot;unable to parse URL&quot;. \r\n\r\nIf I remove the Qualifier from the Bean, the build throws exception, so it is clearly using this WebClient and not a different one.\r\nI tried to modify the code, to move the URL to the postRequest method, but then the SSLHandshake exception happened, because obviously the clientconnector setup was missing.\r\nWhy does the bean not have it&#39;s configured setup?\r\n\r\nIf I run the app locally, and using debug, I see the url and clientconnector is still there in the ApiClient webClient setup. But in development environment it&#39;s null for some reason.","title":"Spring @Bean configuration is not working, loses it&#39;s config when autoscanned in development environment","body":"<p>I have a configuration class to create a WebClient with some specifis SSL setup. There is another WebClient bean in the service, so I used a Qualifier annotation. Before moved this to a Configuration class, all of the setup were working and the post request was successful, but now the url and httpclient is null if I want to use this as a Bean.</p>\n<pre><code>@Configuration\npublic class WebConfig {\n\n    @Bean\n    @Qualifier(&quot;sslClient&quot;)\n    public WebClient webClient(DeviceConfig config, Credentials credentials, HttpClientManager httpClientManager) {\n        HttpClient httpClient = httpClientManager.getHttpClient(credentials);\n        return WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(httpClient))\n            .baseUrl(config.url)\n            .build();\n    }\n}\n</code></pre>\n<p>The class where I want to use this Client looks like:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ApiClient {\n    @Qualifier(&quot;sslClient&quot;)\n    private final WebClient webClient;\n\n    public String postRequest(String body) {\n        return webClient.post()\n            .contentType(MediaType.APPLICATION_XML)\n            .bodyValue(body)\n            .retreive()\n            .bodyToMono(String.class)\n            .block()\n    }\n\n}\n</code></pre>\n<p>When I try to run this method, I receive an error message &quot;unable to parse URL&quot;.</p>\n<p>If I remove the Qualifier from the Bean, the build throws exception, so it is clearly using this WebClient and not a different one.\nI tried to modify the code, to move the URL to the postRequest method, but then the SSLHandshake exception happened, because obviously the clientconnector setup was missing.\nWhy does the bean not have it's configured setup?</p>\n<p>If I run the app locally, and using debug, I see the url and clientconnector is still there in the ApiClient webClient setup. But in development environment it's null for some reason.</p>\n"},{"tags":["java","spring","hibernate","maven"],"owner":{"account_id":12131740,"reputation":148,"user_id":8858486,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681312647,"creation_date":1681307588,"question_id":75996299,"body_markdown":"I have a question regarding a proof of concept that I am trying to create. \r\n\r\nI want to create a new Spring project based on Java 17 and Spring Boot 3 that contains a REST API implementation.\r\n\r\nI also have existing Spring projects in older versions which are XML based. They contain already some service classes that I need to call from the new REST API services. They communicate with different databases (Oracle, IBM DB2).\r\n\r\nAlso, the new project should run on Hibernate 6.x while the existing projects will continue running on Hibernate 5.x. And finally, the new project will use JPA repositories, while the old ones use a classical DAO approach in Hibernate directly.\r\n\r\n----\r\n\r\nTo test this concept I created two projects:\r\n- spring-xml with Hibernate 5 and XML based configuration\r\n- spring-ann with Hibernate 6 and annotation-based configuration (=REST API project)\r\n\r\nSo far I am able to run the REST project and it seems like it also correctly loads the beans of the XML project because I see that the service has an initialized DAO in it and also I am able to access the Hibernate session.\r\n\r\nHowever, I am not able to persist the entity of the XML project. I get an exception:\r\n\r\n```\r\norg.hibernate.UnknownEntityTypeException: Unable to locate persister: com.springxml.springxml.PoCEntityXml\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:416) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1492) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:292) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:88) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:628) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:620) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:615) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat com.springxml.springxml.PoCDAO.insert(PoCDAO.java:19) ~[classes/:na]\r\n\tat com.springxml.springxml.PoCServiceXml.insert(PoCServiceXml.java:12) ~[classes/:na]\r\n\tat com.springann.springann.PoCService.insert(PoCService.java:30) ~[classes/:na]\r\n\tat com.springann.springann.PoCController.poc(PoCController.java:15) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\n\r\nIf I run the xml project on its own, it is working properly. So for sure, there is something wrong when calling it from the REST project and I don&#39;t know why.\r\n\r\n----\r\n\r\nHere are some files of the PoC project. I will explain the different steps that I tried afterwards.\r\n\r\n----\r\n\r\n**XML project**\r\n\r\ncontext.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;mariadb_ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mariadb://localhost:3306/spring_xml_db&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;mariadb_sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;mariadb_ds&quot;/&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.springxml.springxml&quot;/&gt;\r\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.springxml.springxml.PoCEntityXml&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;mariadb_tm&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mariadb_sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;dao&quot; class=&quot;com.springxml.springxml.PoCDAO&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;mariadb_sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;service&quot; class=&quot;com.springxml.springxml.PoCServiceXml&quot;&gt;\r\n        &lt;property name=&quot;dao&quot; ref=&quot;dao&quot;/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nhibernate.cfg.xml:\r\n```\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mariadb://localhost:3306/spring_xml_db&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nPoCDAO:\r\n```\r\n@Data\r\n@RequiredArgsConstructor\r\npublic class PoCDAO {\r\n    private final SessionFactory sessionFactory;\r\n\r\n    public void insert() {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(\r\n                PoCEntityXml.builder()\r\n                        .id(new Random().nextLong())\r\n                        .lastName(&quot;Mustermann&quot;)\r\n                        .build()\r\n        );\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\nPoCEntityXml:\r\n```\r\n@Entity\r\n@Table(name = &quot;POC_ENTITY&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PoCEntityXml {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    private String lastName;\r\n}\r\n```\r\n\r\nPoCServiceXml:\r\n```\r\n@Data\r\n@RequiredArgsConstructor\r\npublic class PoCServiceXml {\r\n    private PoCDAO dao;\r\n\r\n    public void insert() {\r\n        dao.insert();\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springxml&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-xml&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-xml&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n----\r\n\r\n**REST project (annotations)**\r\n\r\nSpringApplication\r\n```\r\n@SpringBootApplication(scanBasePackages = {&quot;com.springxml.springxml&quot;, &quot;com.springann.springann&quot;})\r\n@EntityScan(basePackages = {&quot;com.springxml.springxml&quot;, &quot;com.springann.springann&quot;})\r\npublic class SpringAnnApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringAnnApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPoCService\r\n```\r\n@Service\r\n//@Import(PoCServiceXml.class)\r\n@ImportResource(&quot;classpath:context.xml&quot;)\r\npublic class PoCService {\r\n\r\n    private final PoCRepository repository;\r\n    private final PoCServiceXml xmlService;\r\n\r\n    public PoCService(PoCRepository repository, PoCServiceXml xmlService) {\r\n        this.repository = repository;\r\n        this.xmlService = xmlService;\r\n    }\r\n\r\n    public void insert() {\r\n        repository.save(\r\n                PoCEntity.builder()\r\n                        .id(new Random().nextLong(2L, Integer.MAX_VALUE))\r\n                        .lastName(&quot;Mustermann Ann&quot;)\r\n                        .build()\r\n        );\r\n\r\n        xmlService.insert();\r\n    }\r\n}\r\n```\r\n\r\nPoCEntity\r\n```\r\n@Entity\r\n@Table(name = &quot;POC_ENTITY&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PoCEntity {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    private String lastName;\r\n}\r\n```\r\n\r\nConfiguration for datasource of xml project:\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;com.springxml.springxml&quot;},\r\n        entityManagerFactoryRef = &quot;mariadbEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;mariadbTransactionManager&quot;\r\n)\r\npublic class MariadbCfg {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.datasource.mariadb&quot;)\r\n    public DataSourceProperties mariadbDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.datasource.mariadb.configuration&quot;)\r\n    public DataSource mariadbDataSource(@Qualifier(&quot;mariadbDataSourceProperties&quot;) DataSourceProperties mariadbDataSourceProperties) {\r\n        return mariadbDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    public EntityManagerFactoryBuilder mariadbEntityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean mariadbEntityManagerFactory(\r\n            EntityManagerFactoryBuilder mariadbEntityManagerFactoryBuilder,\r\n            @Qualifier(&quot;mariadbDataSource&quot;) DataSource mariadbDataSource\r\n    ) {\r\n\r\n        Map&lt;String, String&gt; mariadbJpaProperties = new HashMap&lt;&gt;();\r\n        mariadbJpaProperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDBDialect&quot;);\r\n        mariadbJpaProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\r\n\r\n        return mariadbEntityManagerFactoryBuilder\r\n                .dataSource(mariadbDataSource)\r\n                .packages(&quot;com.springxml.springxml&quot;)\r\n                // .persistenceUnit(&quot;mariadbDataSource&quot;)\r\n                .properties(mariadbJpaProperties)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager mariadbTransactionManager(\r\n            @Qualifier(&quot;mariadbEntityManagerFactory&quot;) EntityManagerFactory mariadbEntityManagerFactory) {\r\n        return new JpaTransactionManager(mariadbEntityManagerFactory);\r\n    }\r\n\r\n}\r\n```\r\n\r\nconfiguration of data source for REST:\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;com.springann.springann&quot;},\r\n        entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;postgresTransactionManager&quot;\r\n)\r\npublic class PostgresCfg {\r\n\r\n    @Primary\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.datasource.postgres&quot;)\r\n    public DataSourceProperties postgresDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.datasource.postgres.configuration&quot;)\r\n    public DataSource postgresDataSource(@Qualifier(&quot;postgresDataSourceProperties&quot;) DataSourceProperties postgresDataSourceProperties) {\r\n        return postgresDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public EntityManagerFactoryBuilder postgresEntityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean postgresEntityManagerFactory(\r\n            EntityManagerFactoryBuilder postgresEntityManagerFactoryBuilder,\r\n            @Qualifier(&quot;postgresDataSource&quot;) DataSource postgresDataSource\r\n    ) {\r\n\r\n        Map&lt;String, String&gt; postgresJpaProperties = new HashMap&lt;&gt;();\r\n        postgresJpaProperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n        postgresJpaProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\r\n\r\n        return postgresEntityManagerFactoryBuilder\r\n                .dataSource(postgresDataSource)\r\n                .packages(&quot;com.springann.springann&quot;)\r\n                // .persistenceUnit(&quot;postgresDataSource&quot;)\r\n                .properties(postgresJpaProperties)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager postgresTransactionManager(\r\n            @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory postgresEntityManagerFactory) {\r\n        return new JpaTransactionManager(postgresEntityManagerFactory);\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springann&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-ann&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-ann&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.springxml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-xml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;C:/Users/klaus2/IdeaProjects/spring-xml/target/spring-xml-0.0.1-SNAPSHOT.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n----\r\n\r\nI was hoping that adding the XML project as a dependency to the REST project is sufficient and then just use `@ImportResource` to load and configure the beans of the XML project. But that did not work out for me so I tried already several other steps:\r\n\r\n- Add the XML package to the packages to scan in `@SpringBootApplication` and `@EntityScan`\r\n- Setup the XML project data source separately in the REST project (see `MariadbCfg` and `PostgresCfg` above. MariaDB is used in the XML project)\r\n- Adding `annotatedClasses` to the session factory configuration in the xml project. Also, adding the `packagesToScan` cfg.\r\n\r\n\r\nAny idea on how to solve that would be great!\r\n\r\nThank you.\r\n\r\n----\r\n\r\n**EDIT:** Looking at the stacktrace I realized it is an error thrown by Hibernate 6 but in fact for the xml project it should use Hibernate 5. Maybe that is not even possible?","title":"How to setup two Spring projects with different datasources (xml vs annotations)","body":"<p>I have a question regarding a proof of concept that I am trying to create.</p>\n<p>I want to create a new Spring project based on Java 17 and Spring Boot 3 that contains a REST API implementation.</p>\n<p>I also have existing Spring projects in older versions which are XML based. They contain already some service classes that I need to call from the new REST API services. They communicate with different databases (Oracle, IBM DB2).</p>\n<p>Also, the new project should run on Hibernate 6.x while the existing projects will continue running on Hibernate 5.x. And finally, the new project will use JPA repositories, while the old ones use a classical DAO approach in Hibernate directly.</p>\n<hr />\n<p>To test this concept I created two projects:</p>\n<ul>\n<li>spring-xml with Hibernate 5 and XML based configuration</li>\n<li>spring-ann with Hibernate 6 and annotation-based configuration (=REST API project)</li>\n</ul>\n<p>So far I am able to run the REST project and it seems like it also correctly loads the beans of the XML project because I see that the service has an initialized DAO in it and also I am able to access the Hibernate session.</p>\n<p>However, I am not able to persist the entity of the XML project. I get an exception:</p>\n<pre><code>org.hibernate.UnknownEntityTypeException: Unable to locate persister: com.springxml.springxml.PoCEntityXml\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:416) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1492) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.ForeignKeys.isTransient(ForeignKeys.java:292) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.EntityState.getEntityState(EntityState.java:59) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:88) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.fireSaveOrUpdate(SessionImpl.java:628) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:620) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.saveOrUpdate(SessionImpl.java:615) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at com.springxml.springxml.PoCDAO.insert(PoCDAO.java:19) ~[classes/:na]\n    at com.springxml.springxml.PoCServiceXml.insert(PoCServiceXml.java:12) ~[classes/:na]\n    at com.springann.springann.PoCService.insert(PoCService.java:30) ~[classes/:na]\n    at com.springann.springann.PoCController.poc(PoCController.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:537) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>If I run the xml project on its own, it is working properly. So for sure, there is something wrong when calling it from the REST project and I don't know why.</p>\n<hr />\n<p>Here are some files of the PoC project. I will explain the different steps that I tried afterwards.</p>\n<hr />\n<p><strong>XML project</strong></p>\n<p>context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;mariadb_ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mariadb://localhost:3306/spring_xml_db&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mariadb_sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;mariadb_ds&quot;/&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.springxml.springxml&quot;/&gt;\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.springxml.springxml.PoCEntityXml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mariadb_tm&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mariadb_sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;dao&quot; class=&quot;com.springxml.springxml.PoCDAO&quot;&gt;\n        &lt;constructor-arg ref=&quot;mariadb_sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;service&quot; class=&quot;com.springxml.springxml.PoCServiceXml&quot;&gt;\n        &lt;property name=&quot;dao&quot; ref=&quot;dao&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>hibernate.cfg.xml:</p>\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mariadb://localhost:3306/spring_xml_db&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>PoCDAO:</p>\n<pre><code>@Data\n@RequiredArgsConstructor\npublic class PoCDAO {\n    private final SessionFactory sessionFactory;\n\n    public void insert() {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(\n                PoCEntityXml.builder()\n                        .id(new Random().nextLong())\n                        .lastName(&quot;Mustermann&quot;)\n                        .build()\n        );\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>PoCEntityXml:</p>\n<pre><code>@Entity\n@Table(name = &quot;POC_ENTITY&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PoCEntityXml {\n    @Id\n    private Long id;\n\n    @Column(name = &quot;LAST_NAME&quot;)\n    private String lastName;\n}\n</code></pre>\n<p>PoCServiceXml:</p>\n<pre><code>@Data\n@RequiredArgsConstructor\npublic class PoCServiceXml {\n    private PoCDAO dao;\n\n    public void insert() {\n        dao.insert();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springxml&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-xml&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-xml&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.1.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p><strong>REST project (annotations)</strong></p>\n<p>SpringApplication</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.springxml.springxml&quot;, &quot;com.springann.springann&quot;})\n@EntityScan(basePackages = {&quot;com.springxml.springxml&quot;, &quot;com.springann.springann&quot;})\npublic class SpringAnnApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringAnnApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>PoCService</p>\n<pre><code>@Service\n//@Import(PoCServiceXml.class)\n@ImportResource(&quot;classpath:context.xml&quot;)\npublic class PoCService {\n\n    private final PoCRepository repository;\n    private final PoCServiceXml xmlService;\n\n    public PoCService(PoCRepository repository, PoCServiceXml xmlService) {\n        this.repository = repository;\n        this.xmlService = xmlService;\n    }\n\n    public void insert() {\n        repository.save(\n                PoCEntity.builder()\n                        .id(new Random().nextLong(2L, Integer.MAX_VALUE))\n                        .lastName(&quot;Mustermann Ann&quot;)\n                        .build()\n        );\n\n        xmlService.insert();\n    }\n}\n</code></pre>\n<p>PoCEntity</p>\n<pre><code>@Entity\n@Table(name = &quot;POC_ENTITY&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PoCEntity {\n    @Id\n    private Long id;\n\n    @Column(name = &quot;LAST_NAME&quot;)\n    private String lastName;\n}\n</code></pre>\n<p>Configuration for datasource of xml project:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.springxml.springxml&quot;},\n        entityManagerFactoryRef = &quot;mariadbEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;mariadbTransactionManager&quot;\n)\npublic class MariadbCfg {\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.mariadb&quot;)\n    public DataSourceProperties mariadbDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.mariadb.configuration&quot;)\n    public DataSource mariadbDataSource(@Qualifier(&quot;mariadbDataSourceProperties&quot;) DataSourceProperties mariadbDataSourceProperties) {\n        return mariadbDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    public EntityManagerFactoryBuilder mariadbEntityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean mariadbEntityManagerFactory(\n            EntityManagerFactoryBuilder mariadbEntityManagerFactoryBuilder,\n            @Qualifier(&quot;mariadbDataSource&quot;) DataSource mariadbDataSource\n    ) {\n\n        Map&lt;String, String&gt; mariadbJpaProperties = new HashMap&lt;&gt;();\n        mariadbJpaProperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MariaDBDialect&quot;);\n        mariadbJpaProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\n\n        return mariadbEntityManagerFactoryBuilder\n                .dataSource(mariadbDataSource)\n                .packages(&quot;com.springxml.springxml&quot;)\n                // .persistenceUnit(&quot;mariadbDataSource&quot;)\n                .properties(mariadbJpaProperties)\n                .build();\n    }\n\n    @Bean\n    public PlatformTransactionManager mariadbTransactionManager(\n            @Qualifier(&quot;mariadbEntityManagerFactory&quot;) EntityManagerFactory mariadbEntityManagerFactory) {\n        return new JpaTransactionManager(mariadbEntityManagerFactory);\n    }\n\n}\n</code></pre>\n<p>configuration of data source for REST:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.springann.springann&quot;},\n        entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;postgresTransactionManager&quot;\n)\npublic class PostgresCfg {\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.postgres&quot;)\n    public DataSourceProperties postgresDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.postgres.configuration&quot;)\n    public DataSource postgresDataSource(@Qualifier(&quot;postgresDataSourceProperties&quot;) DataSourceProperties postgresDataSourceProperties) {\n        return postgresDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Primary\n    @Bean\n    public EntityManagerFactoryBuilder postgresEntityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n\n    @Primary\n    @Bean\n    public LocalContainerEntityManagerFactoryBean postgresEntityManagerFactory(\n            EntityManagerFactoryBuilder postgresEntityManagerFactoryBuilder,\n            @Qualifier(&quot;postgresDataSource&quot;) DataSource postgresDataSource\n    ) {\n\n        Map&lt;String, String&gt; postgresJpaProperties = new HashMap&lt;&gt;();\n        postgresJpaProperties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\n        postgresJpaProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;none&quot;);\n\n        return postgresEntityManagerFactoryBuilder\n                .dataSource(postgresDataSource)\n                .packages(&quot;com.springann.springann&quot;)\n                // .persistenceUnit(&quot;postgresDataSource&quot;)\n                .properties(postgresJpaProperties)\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager postgresTransactionManager(\n            @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory postgresEntityManagerFactory) {\n        return new JpaTransactionManager(postgresEntityManagerFactory);\n    }\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springann&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ann&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-ann&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.springxml&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-xml&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/klaus2/IdeaProjects/spring-xml/target/spring-xml-0.0.1-SNAPSHOT.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<hr />\n<p>I was hoping that adding the XML project as a dependency to the REST project is sufficient and then just use <code>@ImportResource</code> to load and configure the beans of the XML project. But that did not work out for me so I tried already several other steps:</p>\n<ul>\n<li>Add the XML package to the packages to scan in <code>@SpringBootApplication</code> and <code>@EntityScan</code></li>\n<li>Setup the XML project data source separately in the REST project (see <code>MariadbCfg</code> and <code>PostgresCfg</code> above. MariaDB is used in the XML project)</li>\n<li>Adding <code>annotatedClasses</code> to the session factory configuration in the xml project. Also, adding the <code>packagesToScan</code> cfg.</li>\n</ul>\n<p>Any idea on how to solve that would be great!</p>\n<p>Thank you.</p>\n<hr />\n<p><strong>EDIT:</strong> Looking at the stacktrace I realized it is an error thrown by Hibernate 6 but in fact for the xml project it should use Hibernate 5. Maybe that is not even possible?</p>\n"},{"tags":["java","gremlin","tinkerpop","amazon-neptune"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1681260501,"post_id":75990755,"comment_id":134026933,"body_markdown":"Which graph database are you using? Not all of them support query parameterization - mainly as it is not always needed.","body":"Which graph database are you using? Not all of them support query parameterization - mainly as it is not always needed."},{"owner":{"account_id":10598626,"reputation":23,"user_id":7806286,"display_name":"Andrew Coulson"},"score":0,"creation_date":1681307786,"post_id":75990755,"comment_id":134035470,"body_markdown":"AWS Neptune. Based on your feedback, I examined the stack trace and id DOES seem to be coming from across the wire...checking with Amazon..","body":"AWS Neptune. Based on your feedback, I examined the stack trace and id DOES seem to be coming from across the wire...checking with Amazon.."},{"owner":{"account_id":10598626,"reputation":23,"user_id":7806286,"display_name":"Andrew Coulson"},"score":0,"creation_date":1681311541,"post_id":75990755,"comment_id":134036594,"body_markdown":"Ahh... answered in their docs: https://docs.aws.amazon.com/neptune/latest/userguide/access-graph-gremlin-differences.html#feature-gremlin-differences-variables\nNeptune uses the ANTLR grammar in its query processing engine rather than the GremlinGroovyScriptEngine, so it does not support variables or parameterization or the bindings property.","body":"Ahh... answered in their docs: <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/access-graph-gremlin-differences.html#feature-gremlin-differences-variables\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/neptune/latest/userguide/&hellip;</a> Neptune uses the ANTLR grammar in its query processing engine rather than the GremlinGroovyScriptEngine, so it does not support variables or parameterization or the bindings property."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1681312487,"post_id":75990755,"comment_id":134036841,"body_markdown":"Yes - that was going to be my follow up comment if you replied Neptune - Amazon Neptune does not compile the scripts. It uses the Antlr grammar for text queries, and has its own custom query planner so does not suffer from issues you can see when using the GremlinGroovyScriptEngine which has to compile the query each time.","body":"Yes - that was going to be my follow up comment if you replied Neptune - Amazon Neptune does not compile the scripts. It uses the Antlr grammar for text queries, and has its own custom query planner so does not suffer from issues you can see when using the GremlinGroovyScriptEngine which has to compile the query each time."}],"answers":[{"tags":[],"owner":{"account_id":10598626,"reputation":23,"user_id":7806286,"display_name":"Andrew Coulson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681311792,"creation_date":1681311792,"answer_id":75997040,"question_id":75990755,"body_markdown":"Not supported per Amazon&#39;s docs:\r\n\r\n&gt; [common examples] are usually associated with warnings about performance penalties for not parameterizing when possible. There are a great many such examples for TinkerPop that you may encounter, and they all sound quite convincing about the need to parameterize.\r\n&gt; \r\n&gt; However, both the variables declarations feature and the\r\n&gt; parameterization feature (along with the warnings) only apply to\r\n&gt; TinkerPop&#39;s Gremlin Server when it is using the\r\n&gt; GremlinGroovyScriptEngine. They do not apply when Gremlin Server uses\r\n&gt; Gremlin&#39;s gremlin-language ANTLR grammar to parse queries. The ANTLR\r\n&gt; grammar doesn&#39;t support either variable declarations or\r\n&gt; parameterization, so when using ANTLR, you don&#39;t have to worry about\r\n&gt; failing to parameterize. Because the ANTLR grammar is a newer\r\n&gt; component of TinkerPop, older content you may encounter on the\r\n&gt; Internet doesn&#39;t generally reflect this distinction.\r\n&gt; \r\n&gt; Neptune uses the ANTLR grammar in its query processing engine rather\r\n&gt; than the GremlinGroovyScriptEngine, so it does not support variables\r\n&gt; or parameterization or the bindings property. As a result, the\r\n&gt; problems related to failing to parameterize do not apply in Neptune.\r\n&gt; Using Neptune, it&#39;s perfectly safe simply to submit the query as-is\r\n&gt; where one would normally parameterize.","title":"How to submit a Gremlin query with parameter substitution using TinkerPop API","body":"<p>Not supported per Amazon's docs:</p>\n<blockquote>\n<p>[common examples] are usually associated with warnings about performance penalties for not parameterizing when possible. There are a great many such examples for TinkerPop that you may encounter, and they all sound quite convincing about the need to parameterize.</p>\n<p>However, both the variables declarations feature and the\nparameterization feature (along with the warnings) only apply to\nTinkerPop's Gremlin Server when it is using the\nGremlinGroovyScriptEngine. They do not apply when Gremlin Server uses\nGremlin's gremlin-language ANTLR grammar to parse queries. The ANTLR\ngrammar doesn't support either variable declarations or\nparameterization, so when using ANTLR, you don't have to worry about\nfailing to parameterize. Because the ANTLR grammar is a newer\ncomponent of TinkerPop, older content you may encounter on the\nInternet doesn't generally reflect this distinction.</p>\n<p>Neptune uses the ANTLR grammar in its query processing engine rather\nthan the GremlinGroovyScriptEngine, so it does not support variables\nor parameterization or the bindings property. As a result, the\nproblems related to failing to parameterize do not apply in Neptune.\nUsing Neptune, it's perfectly safe simply to submit the query as-is\nwhere one would normally parameterize.</p>\n</blockquote>\n"}],"owner":{"account_id":10598626,"reputation":23,"user_id":7806286,"display_name":"Andrew Coulson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681312545,"creation_date":1681254977,"question_id":75990755,"body_markdown":"I would like to execute the same gremlin statement millions of times, just changing one parameter. The tinkerpop documentation indicates you should be able to use syntax like:\r\n\r\n```\r\nMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\nparams.put(&quot;x&quot;,4);\r\nclient.submit(&quot;[1,2,3,x]&quot;, params);\r\n```\r\n\r\nMy statement is different, but functionally equivalent. It looks like this:\r\n\r\n```\r\nMap&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\nparams.put(&quot;applicationID&quot;, &quot;9b1ef8ce3baabafe5167d276bb07d829&quot;)\r\nResultSet rs = client.submit(&quot;g.V().hasLabel(&#39;application&#39;).has(T.id, applicationID)&quot;, params);\r\n```\r\nBut I get:\r\n\r\n`java.util.concurrent.CompletionException: org.apache.tinkerpop.gremlin.driver.exception.ResponseException: {&quot;detailedMessage&quot;:&quot;Failed to interpret Gremlin query: Query parsing failed at line 1, character position at 52, error message : token recognition error at: &#39;ap&#39;&quot;,&quot;code&quot;:&quot;MalformedQueryException&quot;,&quot;requestId&quot;:&quot;fd0ca287-f81d-4cb8-9a3d-cd2f9d003e3c&quot;}`\r\n\r\nIt&#39;s pretty clearly not liking the parameter name &quot;applicationID&quot;\r\n\r\nI&#39;ve tried enclosing it in quotes, but of course, then it is treated as a string literal.","title":"How to submit a Gremlin query with parameter substitution using TinkerPop API","body":"<p>I would like to execute the same gremlin statement millions of times, just changing one parameter. The tinkerpop documentation indicates you should be able to use syntax like:</p>\n<pre><code>Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;x&quot;,4);\nclient.submit(&quot;[1,2,3,x]&quot;, params);\n</code></pre>\n<p>My statement is different, but functionally equivalent. It looks like this:</p>\n<pre><code>Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;applicationID&quot;, &quot;9b1ef8ce3baabafe5167d276bb07d829&quot;)\nResultSet rs = client.submit(&quot;g.V().hasLabel('application').has(T.id, applicationID)&quot;, params);\n</code></pre>\n<p>But I get:</p>\n<p><code>java.util.concurrent.CompletionException: org.apache.tinkerpop.gremlin.driver.exception.ResponseException: {&quot;detailedMessage&quot;:&quot;Failed to interpret Gremlin query: Query parsing failed at line 1, character position at 52, error message : token recognition error at: 'ap'&quot;,&quot;code&quot;:&quot;MalformedQueryException&quot;,&quot;requestId&quot;:&quot;fd0ca287-f81d-4cb8-9a3d-cd2f9d003e3c&quot;}</code></p>\n<p>It's pretty clearly not liking the parameter name &quot;applicationID&quot;</p>\n<p>I've tried enclosing it in quotes, but of course, then it is treated as a string literal.</p>\n"},{"tags":["javascript","java","css","module","styles"],"comments":[{"owner":{"account_id":1198272,"reputation":23018,"user_id":1169519,"accept_rate":57,"display_name":"Teemu"},"score":0,"creation_date":1678950935,"post_id":75753084,"comment_id":133632860,"body_markdown":"https://shepherdjs.dev/docs/tutorial-03-styling.html","body":"<a href=\"https://shepherdjs.dev/docs/tutorial-03-styling.html\" rel=\"nofollow noreferrer\">shepherdjs.dev/docs/tutorial-03-styling.html</a>"},{"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"score":0,"creation_date":1678951296,"post_id":75753084,"comment_id":133632924,"body_markdown":"this is the tutorial how to include css classes, but not how to change settings in css for the components and what id etc. to use.","body":"this is the tutorial how to include css classes, but not how to change settings in css for the components and what id etc. to use."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678955366,"post_id":75753084,"comment_id":133633889,"body_markdown":"This doesn&#39;t seem related to Java. Why have you tagged [tag:java]? JavaScript and Java are not the same language. The only commonality is that they have the same first 4 letters due to an inconsiderate marketing agreement from the mid 90s between Netscape and Sun.","body":"This doesn&#39;t seem related to Java. Why have you tagged <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>? JavaScript and Java are not the same language. The only commonality is that they have the same first 4 letters due to an inconsiderate marketing agreement from the mid 90s between Netscape and Sun."},{"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"score":0,"creation_date":1678956598,"post_id":75753084,"comment_id":133634203,"body_markdown":"It is, you can use Shepherd js in combination with @Clientcallable in java","body":"It is, you can use Shepherd js in combination with @Clientcallable in java"}],"answers":[{"tags":[],"owner":{"account_id":16044638,"reputation":210,"user_id":11580142,"display_name":"tdman1325"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681312478,"creation_date":1681312478,"answer_id":75997137,"question_id":75753084,"body_markdown":"Depends on what you are trying to change.  I would suggest adding custom classes to steps or the tour first.  While setting up the defualtStepOptions for the Tour:\r\n\r\n    defaultStepOptions: {\r\n        classes: &#39;custom-class&#39;,\r\n        scrollTo: { behavior: &#39;smooth&#39;, block: &#39;center&#39; },\r\n    },\r\n\r\nThen, you can target the class and step modal.\r\n\r\n    .custom-class {\r\n      border: 2px solid green;\r\n    }\r\n\r\nOr they do add their own classes.  For instance:\r\n\r\n    .shepherd-footer {\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n    \r\n    .shepherd-arrow:before {\r\n        border-left: 2px solid #3c1265;\r\n        border-bottom: 2px solid #3c1265;\r\n    }\r\n\r\nNote the arrow borders are simple and may not be responsive.","title":"How can you change color and style Settings for Shepherd js","body":"<p>Depends on what you are trying to change.  I would suggest adding custom classes to steps or the tour first.  While setting up the defualtStepOptions for the Tour:</p>\n<pre><code>defaultStepOptions: {\n    classes: 'custom-class',\n    scrollTo: { behavior: 'smooth', block: 'center' },\n},\n</code></pre>\n<p>Then, you can target the class and step modal.</p>\n<pre><code>.custom-class {\n  border: 2px solid green;\n}\n</code></pre>\n<p>Or they do add their own classes.  For instance:</p>\n<pre><code>.shepherd-footer {\n    align-items: center;\n    justify-content: space-between;\n}\n\n.shepherd-arrow:before {\n    border-left: 2px solid #3c1265;\n    border-bottom: 2px solid #3c1265;\n}\n</code></pre>\n<p>Note the arrow borders are simple and may not be responsive.</p>\n"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681312478,"creation_date":1678950794,"question_id":75753084,"body_markdown":"im using Shepherd JS to guide Users through a website with the help of tours.\r\nI already set up different tours, using stepOptions and DefaultstepOptions.\r\nHow can i change color settings or style settings of any components of the Shepherd JS Tour, for example change the color of the Next Button to Yellow, etc.?\r\nThanks","title":"How can you change color and style Settings for Shepherd js","body":"<p>im using Shepherd JS to guide Users through a website with the help of tours.\nI already set up different tours, using stepOptions and DefaultstepOptions.\nHow can i change color settings or style settings of any components of the Shepherd JS Tour, for example change the color of the Next Button to Yellow, etc.?\nThanks</p>\n"},{"tags":["java","testing","karate","junit5"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1681312956,"post_id":75997134,"comment_id":134036982,"body_markdown":"you can&#39;t use the JUnit support for parallel execution, refer linked answer. if you still have problems, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"you can&#39;t use the JUnit support for parallel execution, refer linked answer. if you still have problems, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681313003,"answer_count":0,"score":1,"last_activity_date":1681312469,"creation_date":1681312469,"question_id":75997134,"body_markdown":"I am using `Runner.path(&quot;&quot;).parallel(20);` to execute the tests, but looks like the execution is not parallel after-all based on the time consumed and I think the Karate HTML report Summary also tells the same story.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IgJVY.png\r\n\r\n\r\nAs you can see, one scenario finishes and only then, in the timeline, another scenario starts to be executed.\r\nAny suggestions for this please?","title":"Running tests in parallel with Karate junit5 1.3.1","body":"<p>I am using <code>Runner.path(&quot;&quot;).parallel(20);</code> to execute the tests, but looks like the execution is not parallel after-all based on the time consumed and I think the Karate HTML report Summary also tells the same story.</p>\n<p><a href=\"https://i.stack.imgur.com/IgJVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IgJVY.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, one scenario finishes and only then, in the timeline, another scenario starts to be executed.\nAny suggestions for this please?</p>\n"},{"tags":["java","hibernate","maven","intellij-idea","pom.xml"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":3,"creation_date":1565940464,"post_id":57520486,"comment_id":101508086,"body_markdown":"Are you able to run the command like mvn clean package from command line ?","body":"Are you able to run the command like mvn clean package from command line ?"},{"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"score":2,"creation_date":1565940674,"post_id":57520486,"comment_id":101508165,"body_markdown":"Run `mvn install` command. It will download all the dependencies.","body":"Run <code>mvn install</code> command. It will download all the dependencies."},{"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"score":3,"creation_date":1565942480,"post_id":57520486,"comment_id":101508786,"body_markdown":"Sometimes intellij idea do not refresh maven dependency on startup. To do so on the right side of idea there is docked panel with `Maven`. Just open it and click `refresh`. Should reload project and you should see difference.","body":"Sometimes intellij idea do not refresh maven dependency on startup. To do so on the right side of idea there is docked panel with <code>Maven</code>. Just open it and click <code>refresh</code>. Should reload project and you should see difference."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1565942481,"post_id":57520486,"comment_id":101508787,"body_markdown":"@Sambit Yes I&#39;m able to run the command from command line","body":"@Sambit Yes I&#39;m able to run the command from command line"},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":1,"creation_date":1565942876,"post_id":57520486,"comment_id":101508918,"body_markdown":"@Pawel If I try tu run refresh I get an error: Cannot resolve plugin org.apache.maven.plugins:maven-release-plugin:2.5.3 … 11:02 AM\tError running &#39;refresh&#39;: Cannot run program &quot;refresh&quot; (in directory &quot;D:\\Projects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified","body":"@Pawel If I try tu run refresh I get an error: Cannot resolve plugin org.apache.maven.plugins:maven-release-plugin:2.5.3 … 11:02 AM\tError running &#39;refresh&#39;: Cannot run program &quot;refresh&quot; (in directory &quot;D:\\Projects\\my-project&quot;): CreateProcess error=2, The system cannot find the file specified"}],"answers":[{"tags":[],"owner":{"account_id":12368350,"reputation":319,"user_id":9019524,"display_name":"robingood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565941264,"creation_date":1565941264,"answer_id":57520675,"question_id":57520486,"body_markdown":"You could also go to File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Repositories and check that the local maven repository is set. \r\n\r\nSame for File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Remote Jar Repositories where the remote maven repository should be set (something like https://repo1.maven.org/maven2)","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>You could also go to File -> Settings -> Build, Execution, Deployment -> Build Tools -> Maven -> Repositories and check that the local maven repository is set. </p>\n\n<p>Same for File -> Settings -> Build, Execution, Deployment -> Remote Jar Repositories where the remote maven repository should be set (something like <a href=\"https://repo1.maven.org/maven2\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2</a>)</p>\n"},{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1565942837,"creation_date":1565942837,"answer_id":57521022,"question_id":57520486,"body_markdown":"In case of Intellij Idea, make right click on pom.xml, select maven and then click to reimport. Find below the screenshot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ft9uY.png","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>In case of Intellij Idea, make right click on pom.xml, select maven and then click to reimport. Find below the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ft9uY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ft9uY.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1667007,"reputation":2777,"user_id":1534211,"display_name":"mate00"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565944343,"creation_date":1565944343,"answer_id":57521324,"question_id":57520486,"body_markdown":"It may also be worth checking which Maven your IDE is using. You can check it in settings:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUzwp.png\r\n\r\nWe used to have issues with Maven bundled with IntelliJ.","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>It may also be worth checking which Maven your IDE is using. You can check it in settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hUzwp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUzwp.png\" alt=\"enter image description here\"></a></p>\n\n<p>We used to have issues with Maven bundled with IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":8114724,"reputation":166,"user_id":6113605,"display_name":"rhizo888"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1609236581,"creation_date":1609236581,"answer_id":65490508,"question_id":57520486,"body_markdown":"I solved this issue by running &quot;mvn idea:idea&quot; command.\r\nIt resolved all module dependencies and also add it to classpath in intellij.","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>I solved this issue by running &quot;mvn idea:idea&quot; command.\nIt resolved all module dependencies and also add it to classpath in intellij.</p>\n"},{"tags":[],"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656744559,"creation_date":1656744559,"answer_id":72837045,"question_id":57520486,"body_markdown":"After &quot;Maven&quot; &gt; &quot;Reload project&quot; an additional &quot;Build&quot; &gt; &quot;Rebuild project&quot; (in IDEA window menu) was necessary to eliminate all &quot;dependency ... not found&quot; error messages in my case.","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>After &quot;Maven&quot; &gt; &quot;Reload project&quot; an additional &quot;Build&quot; &gt; &quot;Rebuild project&quot; (in IDEA window menu) was necessary to eliminate all &quot;dependency ... not found&quot; error messages in my case.</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19709,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1681312286,"creation_date":1565940367,"question_id":57520486,"body_markdown":"I just downloaded Intellij on a laptop and I imported a Maven project and the problem is that Intellij do not found any dependency in pom.xml. For example if I try to import hibernate-core or any other dependency I get the error: Dependency org.hibernate-core... not found. What should I do? Any feedback will be appreciated.","title":"Why Intellij do not find any Maven dependencies in pom.xml?","body":"<p>I just downloaded Intellij on a laptop and I imported a Maven project and the problem is that Intellij do not found any dependency in pom.xml. For example if I try to import hibernate-core or any other dependency I get the error: Dependency org.hibernate-core... not found. What should I do? Any feedback will be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-test","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681224777,"post_id":75987198,"comment_id":134020109,"body_markdown":"1. It doesn&#39;t. It loads and caches a context based on the permuations of the `@SpringBootTest`, `@MockBean`, registered `TestContextListeners` and more. If they match it will reuse. 2. See 1 becuase there are some differences in the context and thus another one is used. Also if you run multiple tests it will generate 1 massive classpath and the first `application-test.properties` etc. will be loaded not all of them.","body":"1. It doesn&#39;t. It loads and caches a context based on the permuations of the <code>@SpringBootTest</code>, <code>@MockBean</code>, registered <code>TestContextListeners</code> and more. If they match it will reuse. 2. See 1 becuase there are some differences in the context and thus another one is used. Also if you run multiple tests it will generate 1 massive classpath and the first <code>application-test.properties</code> etc. will be loaded not all of them."},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1681226248,"post_id":75987198,"comment_id":134020597,"body_markdown":"I have some further questions: \n1. What steps would you take to identify the difference in contexts between two tests in a given package, in order to deterministically determine their behavior?\n2. If we have only one `application-test.properties`, won&#39;t we end up with only one regardless of how many tests inherit from `BaseIntegrationTest`?","body":"I have some further questions:  1. What steps would you take to identify the difference in contexts between two tests in a given package, in order to deterministically determine their behavior? 2. If we have only one <code>application-test.properties</code>, won&#39;t we end up with only one regardless of how many tests inherit from <code>BaseIntegrationTest</code>?"},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1681227455,"post_id":75987198,"comment_id":134020948,"body_markdown":"And also: Even if, due to various parameter configurations that you mentioned, the context is not loaded from the cache, I do not understand why the test is not able to read the property defined in the annotation. What is the impact of reading the context from the cache or not (creating it anew) on the ability to read properties defined in the annotation?","body":"And also: Even if, due to various parameter configurations that you mentioned, the context is not loaded from the cache, I do not understand why the test is not able to read the property defined in the annotation. What is the impact of reading the context from the cache or not (creating it anew) on the ability to read properties defined in the annotation?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681279588,"post_id":75987198,"comment_id":134028826,"body_markdown":"Do you only have 1 properties file. To me it sounds like you have 1 in each sub module and when running just one of those will be picked. What is being read depends also on what is loaded, although `@TestPropertySource` should take precedence. That being said without knowning what is loaded and what is further in play (autoconfigurations for test etc. etc) this will be hard to answer.","body":"Do you only have 1 properties file. To me it sounds like you have 1 in each sub module and when running just one of those will be picked. What is being read depends also on what is loaded, although <code>@TestPropertySource</code> should take precedence. That being said without knowning what is loaded and what is further in play (autoconfigurations for test etc. etc) this will be hard to answer."},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1681296164,"post_id":75987198,"comment_id":134032611,"body_markdown":"There is only one file named `application-test.properties`, and it is located in the module where the parent class is defined. `@TestPropertySource` seems to have higher precedence than properties defined in `@SpringBootTest` because adding the `app.server.address` to the `application-test.properties` changed the output to `127.0.0.1` when tests are run all at once. It is however still unclear to me what causes this strange behaviour. TestA and TestB are both in Submodule X, extend the same class, have same annotations, and same props defined in the annotation.","body":"There is only one file named <code>application-test.properties</code>, and it is located in the module where the parent class is defined. <code>@TestPropertySource</code> seems to have higher precedence than properties defined in <code>@SpringBootTest</code> because adding the <code>app.server.address</code> to the <code>application-test.properties</code> changed the output to <code>127.0.0.1</code> when tests are run all at once. It is however still unclear to me what causes this strange behaviour. TestA and TestB are both in Submodule X, extend the same class, have same annotations, and same props defined in the annotation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681296774,"post_id":75987198,"comment_id":134032743,"body_markdown":"`@TestPropertySource` always has precedence as that is considered the most local to the test. Another thing that is weird is the multiple `@SpringBootTest` annotations, I suspect they interfere with each other.","body":"<code>@TestPropertySource</code> always has precedence as that is considered the most local to the test. Another thing that is weird is the multiple <code>@SpringBootTest</code> annotations, I suspect they interfere with each other."},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1681312142,"post_id":75987198,"comment_id":134036751,"body_markdown":"@M.Deinum I added some details about my further investigation.","body":"@M.Deinum I added some details about my further investigation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681322454,"post_id":75987198,"comment_id":134039277,"body_markdown":"As stated different per mutations of settings, test execution listeners, configurations being detected etc. etc. (there is a long list actually) all lead to different application contexts being loaded. For a list of things see https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-ctx-management-caching","body":"As stated different per mutations of settings, test execution listeners, configurations being detected etc. etc. (there is a long list actually) all lead to different application contexts being loaded. For a list of things see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-ctx-management-caching\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"score":0,"creation_date":1681394524,"post_id":75987198,"comment_id":134051904,"body_markdown":"Theoretically, yes. I have three different annotation constellations. When you turn on context logging, Spring will report on three different contexts: A, B, and C. What is extremely perplexing is that when you print out the hashcode of the current context in a given test and do it for all tests, you will get a total of five different contexts instead of three. A, B, and C are present, but you also have D and E, and it does not seem to follow any reasonable pattern.","body":"Theoretically, yes. I have three different annotation constellations. When you turn on context logging, Spring will report on three different contexts: A, B, and C. What is extremely perplexing is that when you print out the hashcode of the current context in a given test and do it for all tests, you will get a total of five different contexts instead of three. A, B, and C are present, but you also have D and E, and it does not seem to follow any reasonable pattern."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681397478,"post_id":75987198,"comment_id":134052734,"body_markdown":"I&#39;m not sure if hashcode the best way to determine if they are the same, there might be some proxying going on, especially on restoring. You are probably better of comparing the application context ids. However as stated before depending on what is in use a new context is created (see the list) and depending how your tests are written this might differ as well.","body":"I&#39;m not sure if hashcode the best way to determine if they are the same, there might be some proxying going on, especially on restoring. You are probably better of comparing the application context ids. However as stated before depending on what is in use a new context is created (see the list) and depending how your tests are written this might differ as well."}],"owner":{"account_id":6528860,"reputation":621,"user_id":5050691,"display_name":"SkogensKonung"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681312113,"creation_date":1681224268,"question_id":75987198,"body_markdown":"I have a Spring Boot application that is divided into several submodules. Each submodule contains tests with the `@SpringBootTest` annotation. Each test extends the same parent class that also has this annotation.\r\n\r\nBelow the simplified version of the parent class:\r\n```\r\n@SpringBootTest(classes = {\r\n    IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = {\r\n            &quot;security.basic.enabled = false&quot; })\r\n@ExtendWith(SpringExtension.class)\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n\r\npublic class BaseIntegrationTest {\r\n\r\n// ...\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here, an example of the test within a given submodule.\r\n```\r\n@SpringBootTest(classes = {\r\n    IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\r\n    &quot;app.server.address = 127.0.0.1&quot; })\r\npublic class ServiceATest extends BaseIntegrationTest {\r\n\r\n@Autowired\r\nprivate ServiceA service;\r\n\r\n\r\n@Test\r\nvoid test() {\r\n    System.out.println(getClass().getName()+&quot; AppContextService.getContext().getEnvironment().getProperty(\\&quot;app.server.address\\&quot;) = &quot; \r\n    + AppContextService.getContext().getEnvironment().getProperty(&quot;app.server.address&quot;));\r\n    System.out.println(&quot;PropsResolver.resolve(${app.server.address}) = &quot; + new PropsResolver().resolve(&quot;${app.server.address}&quot;));\r\n    System.out.println(&quot;PropsResolver.resolve(${app.server.address:localhost}) = &quot; + new PropsResolver().resolve(&quot;${app.server.address:localhost}&quot;));  \r\n    // assertions\r\n\r\n}\r\n}\r\n```\r\nWhat the test assesses is not relevant. The problem I am dealing with is related to the mechanism of loading properties defined in the `@SpringBootTest` annotation, which is unclear to me. When I run the test in IDE separately, the `System.out.println` statements show the value which is defined in the annotation, i.e.:`127.0.0.1`. When I run the test in its own submodule (&quot;Run Tests in submoduleX&quot;), then the value is also `127.0.0.1`. However, when I run the test from the entire package (where I have submoduleX, submoduleY, and submoduleZ), then the value is `localhost`.\r\n\r\nWhat&#39;s even more interesting, another test from the same package, let&#39;s say ServiceBTest, loads properties according to the `properties` passed in the annotation.  \r\nIn other words, I have TestA and TestB in the submoduleX, and when I run all tests in the module, TestA prints &quot;127...&quot;, and TestB &quot;localhost&quot;.\r\n\r\nMy questions:\r\n1. If Spring creates one context for each submodule, then where does the difference in the property value passed in the annotation come from?\r\n2. Why, even within the same package, some tests load the value provided by the annotation, while others cannot access it and take the default value?\r\n\r\n\r\n----------\r\nSome extra information after the discussion with M. Deinum:\r\n\r\n 1. Both TestA and TestB are in the same submodule, have the same annotation (`@SpringBootTest`) with the same content, i.e.: `@SpringBootTest(classes = {\r\n    IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\r\n    &quot;app.server.address = 127.0.0.1&quot; })`, and both extend the same parent class that was presented before.\r\n2. When I put `app.server.address = 127.0.0.1` to the `application-test.properties`, the test displays the provided value even if all tests in the module are run at once.\r\n\r\nM. Deinum&#39;s suggestion was that there might be a clash between the `@SpringBootTest` annotations, as there are two instead of one. Is it possible that this is the case and how could I investigate this further?\r\n\r\n\r\n----------\r\n**Further investigation**\r\n\r\nMy further investigation confirmed that more than one `ApplicationContext` is created. What&#39;s interesting is that a specific `ApplicationContext` can be used in different submodules. The following table schematically represents the observed scenario:\r\n\r\n| Class  | Package | Context   |\r\n| ------- | ------- | ---------|\r\n| A       | A       | Context 1|\r\n| B       | A       | Context 2|\r\n| C       | A       | Context 3|\r\n| D       | B       | Context 1|\r\n| E       | C       | Context 3|\r\n\r\nAfter M. Deinum wrote that having double `@SpringBootTest` may cause confusion, I thought that a new context is created when the duplication is spotted. However, this is not the case. The number of tests with &quot;double&quot; `@SpringBootTest` is less than the number of created contexts.\r\n\r\nIf we put `app.server.address` in the application-test.properties, we will always arrive at the value 127.0.0.1. Nonetheless, we still have numerous contexts.\r\n\r\n\r\n","title":"Spring Boot @SpringBootTest Annotation: Inconsistent property loading when tests run in submodule vs. whole package","body":"<p>I have a Spring Boot application that is divided into several submodules. Each submodule contains tests with the <code>@SpringBootTest</code> annotation. Each test extends the same parent class that also has this annotation.</p>\n<p>Below the simplified version of the parent class:</p>\n<pre><code>@SpringBootTest(classes = {\n    IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, properties = {\n            &quot;security.basic.enabled = false&quot; })\n@ExtendWith(SpringExtension.class)\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n\npublic class BaseIntegrationTest {\n\n// ...\n\n}\n\n</code></pre>\n<p>And here, an example of the test within a given submodule.</p>\n<pre><code>@SpringBootTest(classes = {\n    IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\n    &quot;app.server.address = 127.0.0.1&quot; })\npublic class ServiceATest extends BaseIntegrationTest {\n\n@Autowired\nprivate ServiceA service;\n\n\n@Test\nvoid test() {\n    System.out.println(getClass().getName()+&quot; AppContextService.getContext().getEnvironment().getProperty(\\&quot;app.server.address\\&quot;) = &quot; \n    + AppContextService.getContext().getEnvironment().getProperty(&quot;app.server.address&quot;));\n    System.out.println(&quot;PropsResolver.resolve(${app.server.address}) = &quot; + new PropsResolver().resolve(&quot;${app.server.address}&quot;));\n    System.out.println(&quot;PropsResolver.resolve(${app.server.address:localhost}) = &quot; + new PropsResolver().resolve(&quot;${app.server.address:localhost}&quot;));  \n    // assertions\n\n}\n}\n</code></pre>\n<p>What the test assesses is not relevant. The problem I am dealing with is related to the mechanism of loading properties defined in the <code>@SpringBootTest</code> annotation, which is unclear to me. When I run the test in IDE separately, the <code>System.out.println</code> statements show the value which is defined in the annotation, i.e.:<code>127.0.0.1</code>. When I run the test in its own submodule (&quot;Run Tests in submoduleX&quot;), then the value is also <code>127.0.0.1</code>. However, when I run the test from the entire package (where I have submoduleX, submoduleY, and submoduleZ), then the value is <code>localhost</code>.</p>\n<p>What's even more interesting, another test from the same package, let's say ServiceBTest, loads properties according to the <code>properties</code> passed in the annotation.<br />\nIn other words, I have TestA and TestB in the submoduleX, and when I run all tests in the module, TestA prints &quot;127...&quot;, and TestB &quot;localhost&quot;.</p>\n<p>My questions:</p>\n<ol>\n<li>If Spring creates one context for each submodule, then where does the difference in the property value passed in the annotation come from?</li>\n<li>Why, even within the same package, some tests load the value provided by the annotation, while others cannot access it and take the default value?</li>\n</ol>\n<hr />\n<p>Some extra information after the discussion with M. Deinum:</p>\n<ol>\n<li>Both TestA and TestB are in the same submodule, have the same annotation (<code>@SpringBootTest</code>) with the same content, i.e.: <code>@SpringBootTest(classes = { IntegrationTestsApp.class }, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = { &quot;app.server.address = 127.0.0.1&quot; })</code>, and both extend the same parent class that was presented before.</li>\n<li>When I put <code>app.server.address = 127.0.0.1</code> to the <code>application-test.properties</code>, the test displays the provided value even if all tests in the module are run at once.</li>\n</ol>\n<p>M. Deinum's suggestion was that there might be a clash between the <code>@SpringBootTest</code> annotations, as there are two instead of one. Is it possible that this is the case and how could I investigate this further?</p>\n<hr />\n<p><strong>Further investigation</strong></p>\n<p>My further investigation confirmed that more than one <code>ApplicationContext</code> is created. What's interesting is that a specific <code>ApplicationContext</code> can be used in different submodules. The following table schematically represents the observed scenario:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Class</th>\n<th>Package</th>\n<th>Context</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>A</td>\n<td>Context 1</td>\n</tr>\n<tr>\n<td>B</td>\n<td>A</td>\n<td>Context 2</td>\n</tr>\n<tr>\n<td>C</td>\n<td>A</td>\n<td>Context 3</td>\n</tr>\n<tr>\n<td>D</td>\n<td>B</td>\n<td>Context 1</td>\n</tr>\n<tr>\n<td>E</td>\n<td>C</td>\n<td>Context 3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>After M. Deinum wrote that having double <code>@SpringBootTest</code> may cause confusion, I thought that a new context is created when the duplication is spotted. However, this is not the case. The number of tests with &quot;double&quot; <code>@SpringBootTest</code> is less than the number of created contexts.</p>\n<p>If we put <code>app.server.address</code> in the application-test.properties, we will always arrive at the value 127.0.0.1. Nonetheless, we still have numerous contexts.</p>\n"},{"tags":["java","hibernate","websphere","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":1794140,"reputation":273,"user_id":1633933,"display_name":"Will Dazey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681312112,"creation_date":1681312112,"answer_id":75997085,"question_id":75994171,"body_markdown":"The property &#39;wsjpa.PooledFactory&#39; is a JPA runtime integration property WebSphere intended for **WSJPA**; a WebSphere extension of the persistence provider **OpenJPA**.\r\n\r\nIt would appear that **Hibernate** is providing a warning because the value of the property &#39;wsjpa.PooledFactory&#39; is not a serializable value or String type. Since Hibernate does not use this property, this warning should be able to be safely ignored.\r\n\r\nAlternatively, it may be possible to prevent this &#39;wsjpa.PooledFactory&#39; property from being set by the JPA Runtime in the first place by setting the pool size to 0: https://www.ibm.com/docs/en/was/8.5.5?topic=api-jpa-system-properties","title":"Parameter wsjpa.PooledFactory is not serializable","body":"<p>The property 'wsjpa.PooledFactory' is a JPA runtime integration property WebSphere intended for <strong>WSJPA</strong>; a WebSphere extension of the persistence provider <strong>OpenJPA</strong>.</p>\n<p>It would appear that <strong>Hibernate</strong> is providing a warning because the value of the property 'wsjpa.PooledFactory' is not a serializable value or String type. Since Hibernate does not use this property, this warning should be able to be safely ignored.</p>\n<p>Alternatively, it may be possible to prevent this 'wsjpa.PooledFactory' property from being set by the JPA Runtime in the first place by setting the pool size to 0: <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=api-jpa-system-properties\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was/8.5.5?topic=api-jpa-system-properties</a></p>\n"}],"owner":{"account_id":18160694,"reputation":103,"user_id":13212125,"display_name":"Jacek Kaczmarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75997085,"answer_count":1,"score":0,"last_activity_date":1681312112,"creation_date":1681293642,"question_id":75994171,"body_markdown":"When i run application on websphere server i get warning:\r\n\r\n    Property &#39;wsjpa.PooledFactory&#39; is not serializable, value won&#39;t be set.\r\n\r\nThis happends due to hibernate update from version 5.1.17.Final to version 5.4.33.Final.\r\nIn my application i use Java EE 8 and JSF 2.3. Websphere version is 22.0.0.4.\r\n\r\nDo i need to change something or is it hibernate problem? ","title":"Parameter wsjpa.PooledFactory is not serializable","body":"<p>When i run application on websphere server i get warning:</p>\n<pre><code>Property 'wsjpa.PooledFactory' is not serializable, value won't be set.\n</code></pre>\n<p>This happends due to hibernate update from version 5.1.17.Final to version 5.4.33.Final.\nIn my application i use Java EE 8 and JSF 2.3. Websphere version is 22.0.0.4.</p>\n<p>Do i need to change something or is it hibernate problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1681310890,"post_id":75996839,"comment_id":134036399,"body_markdown":"Wouldn’t `product` be eligible for GC at the end of the loop? Maybe disabling GC is forcing higher mem usage and allocations?","body":"Wouldn’t <code>product</code> be eligible for GC at the end of the loop? Maybe disabling GC is forcing higher mem usage and allocations?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1681310999,"post_id":75996839,"comment_id":134036438,"body_markdown":"How much RAM do you have? If 12G is a tight fit, then there may be some swapping, in which case the performance would go to heck.","body":"How much RAM do you have? If 12G is a tight fit, then there may be some swapping, in which case the performance would go to heck."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1681311563,"post_id":75996839,"comment_id":134036600,"body_markdown":"@teapot418 I thought if I have not enough memory I would see `OutOfMemoryError` first?","body":"@teapot418 I thought if I have not enough memory I would see <code>OutOfMemoryError</code> first?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1681311683,"post_id":75996839,"comment_id":134036639,"body_markdown":"@Michael thank you for the comment. Added to the description.","body":"@Michael thank you for the comment. Added to the description."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1681311776,"post_id":75996839,"comment_id":134036657,"body_markdown":"@DaveNewton probably you right. I think in the same direction, but don&#39;t know how to prove it.","body":"@DaveNewton probably you right. I think in the same direction, but don&#39;t know how to prove it."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1681312355,"post_id":75996839,"comment_id":134036812,"body_markdown":"A) the allocation in java goes above Xmx B) sum of all currently running programs goes over available RAM C) currently running programs go way over available RAM -&gt; A) OutOfMemoryError B) swapping (slow) C) Operating system notifying you that things are very wrong/killing stuff;; you were wondering about bad performance, my speculation was that you are seeing B","body":"A) the allocation in java goes above Xmx B) sum of all currently running programs goes over available RAM C) currently running programs go way over available RAM -&gt; A) OutOfMemoryError B) swapping (slow) C) Operating system notifying you that things are very wrong/killing stuff;; you were wondering about bad performance, my speculation was that you are seeing B"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1681368198,"post_id":75996839,"comment_id":134045566,"body_markdown":"@teapot418 I decreased the heap size to `-Xmx8196M -Xms8196M` and monitored the swap usage during the test execution. The results showed that the swap usage remained the same as before the test started, and the total used memory in the operating system was less than `10 GB`. The final execution time was `72.051 ms`.","body":"@teapot418 I decreased the heap size to <code>-Xmx8196M -Xms8196M</code> and monitored the swap usage during the test execution. The results showed that the swap usage remained the same as before the test started, and the total used memory in the operating system was less than <code>10 GB</code>. The final execution time was <code>72.051 ms</code>."}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681311448,"creation_date":1681310717,"question_id":75996839,"body_markdown":"I am trying to examine how Java heap allocations affect overall application performance. To do this, I have created a simple program that creates a large number of objects:\r\n```java\r\npublic static void main(final String... args) {\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; 4_000_000; ++i) {\r\n        final Product product = new Product(i);\r\n        sum += product.price();\r\n    }\r\n    System.out.printf(&quot;Total: %d\\n&quot;, sum);\r\n}\r\n\r\nprivate static class Product {\r\n    final String name = new String(&quot;Banana&quot;);\r\n    final int price;\r\n    private Product(final int price) {\r\n        this.price = price;\r\n    }\r\n    public int price() {\r\n        return this.price % 100;\r\n    }\r\n}\r\n```\r\nWhen I run the program as is, the execution time is around `12.265 ms` (all measurements were made by [JMH](https://github.com/openjdk/jmh).) However, because the program creates a large number of objects, I wanted to see how disabling garbage collection would affect performance.\r\n\r\nTo disable garbage collection I used `EpsilonGC`. So, I&#39;ve just added the following JVM options:\r\n```sh\r\n-Xmx12294M -Xms12294M -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\r\n```\r\nI then ran the program again, but this time the execution time was unexpectedly slower at `69.188 ms`. I had expected that disabling garbage collection would improve performance, but instead, it seemed to have the opposite effect.\r\n\r\nI am confused about why disabling garbage collection leads to such a high execution time. Does the number of objects in memory increase the allocation time for new objects, or is something else happening here? I would greatly appreciate any insights on this issue.\r\n\r\n____\r\nUpdate:\r\n1) [JMH](https://github.com/openjdk/jmh) microbenchmark code:\r\n\r\n```java\r\npublic class ProductsTest {\r\n    public static void main(String[] args) throws RunnerException {\r\n        new Runner(\r\n            new OptionsBuilder()\r\n                .forks(1)\r\n                .warmupIterations(1)\r\n                .measurementIterations(1)\r\n                .warmupTime(TimeValue.seconds(3))\r\n                .measurementTime(TimeValue.seconds(3))\r\n                .mode(Mode.AverageTime)\r\n                .timeUnit(TimeUnit.MILLISECONDS)\r\n                .build()\r\n        ).run();\r\n    }\r\n\r\n    @Benchmark\r\n    public void products() {\r\n        Products.main();\r\n    }\r\n}\r\n```\r\n\r\n2. System properties:\r\n\r\n* Apache Maven 3.9.0 \r\n* Java: azul-11 (Java version 11.0.12)\r\n* OS name: &quot;mac os x&quot;, version: &quot;12.5&quot;, arch: &quot;x86_64&quot;, family: &quot;Mac&quot;\r\n* Available Memory: 16G ","title":"Disabling garbage collection in Java unexpectedly slows performance","body":"<p>I am trying to examine how Java heap allocations affect overall application performance. To do this, I have created a simple program that creates a large number of objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(final String... args) {\n    int sum = 0;\n    for (int i = 0; i &lt; 4_000_000; ++i) {\n        final Product product = new Product(i);\n        sum += product.price();\n    }\n    System.out.printf(&quot;Total: %d\\n&quot;, sum);\n}\n\nprivate static class Product {\n    final String name = new String(&quot;Banana&quot;);\n    final int price;\n    private Product(final int price) {\n        this.price = price;\n    }\n    public int price() {\n        return this.price % 100;\n    }\n}\n</code></pre>\n<p>When I run the program as is, the execution time is around <code>12.265 ms</code> (all measurements were made by <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a>.) However, because the program creates a large number of objects, I wanted to see how disabling garbage collection would affect performance.</p>\n<p>To disable garbage collection I used <code>EpsilonGC</code>. So, I've just added the following JVM options:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-Xmx12294M -Xms12294M -XX:+UnlockExperimentalVMOptions -XX:+UseEpsilonGC\n</code></pre>\n<p>I then ran the program again, but this time the execution time was unexpectedly slower at <code>69.188 ms</code>. I had expected that disabling garbage collection would improve performance, but instead, it seemed to have the opposite effect.</p>\n<p>I am confused about why disabling garbage collection leads to such a high execution time. Does the number of objects in memory increase the allocation time for new objects, or is something else happening here? I would greatly appreciate any insights on this issue.</p>\n<hr />\n<p>Update:</p>\n<ol>\n<li><a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a> microbenchmark code:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductsTest {\n    public static void main(String[] args) throws RunnerException {\n        new Runner(\n            new OptionsBuilder()\n                .forks(1)\n                .warmupIterations(1)\n                .measurementIterations(1)\n                .warmupTime(TimeValue.seconds(3))\n                .measurementTime(TimeValue.seconds(3))\n                .mode(Mode.AverageTime)\n                .timeUnit(TimeUnit.MILLISECONDS)\n                .build()\n        ).run();\n    }\n\n    @Benchmark\n    public void products() {\n        Products.main();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>System properties:</li>\n</ol>\n<ul>\n<li>Apache Maven 3.9.0</li>\n<li>Java: azul-11 (Java version 11.0.12)</li>\n<li>OS name: &quot;mac os x&quot;, version: &quot;12.5&quot;, arch: &quot;x86_64&quot;, family: &quot;Mac&quot;</li>\n<li>Available Memory: 16G</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","netty"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1681302338,"post_id":75995395,"comment_id":134033985,"body_markdown":"what is that second bracket doing there at the end of the code?","body":"what is that second bracket doing there at the end of the code?"},{"owner":{"account_id":3450230,"reputation":457,"user_id":2890055,"accept_rate":24,"display_name":"Aditya"},"score":0,"creation_date":1681302748,"post_id":75995395,"comment_id":134034090,"body_markdown":"One for the Class and the other for the main method @RolandasUlevicius","body":"One for the Class and the other for the main method @RolandasUlevicius"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681305343,"creation_date":1681302357,"answer_id":75995437,"question_id":75995395,"body_markdown":"You muss to add the dependency which contains this class. If you use maven, add the dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom. If not download the jar and add it to your classpath","title":"Exception in Thread &quot;main&quot; java.lang.NoClassDefFoundError: io/netty/handler/ssl/SSlContextBuilder running Selenium / Java file","body":"<p>You muss to add the dependency which contains this class. If you use maven, add the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your pom. If not download the jar and add it to your classpath</p>\n"}],"owner":{"account_id":3450230,"reputation":457,"user_id":2890055,"accept_rate":24,"display_name":"Aditya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681311412,"creation_date":1681302088,"question_id":75995395,"body_markdown":"I have basic 4 line code where I&#39;m setting chromedriver exe system property and instantiated Chromedriver. But, failed with error &quot;Exception in Thread &#39;main&quot; java.lang.NoClassDefFoundError: io/netty/handler/ssl/SSLContextBuilder\r\n\r\n    import org.openqa.selenium.webDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class SelPractice {\r\n    public static void main(String[] args)\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver.exe&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;www.google.com&quot;);\r\n    }\r\n    }\r\n\r\n\r\nStacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/netty/util/Timer\r\n\r\n       at org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient( NettyClient.java:135 )\r\n\r\n       at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:107 )\r\n\r\n       at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:94 )\r\n\r\n       at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:85 )\r\n\r\n       at org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;( DriverCommandExecutor.java:80 )\r\n\r\n       at org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;( ChromiumDriverCommandExecutor.java:35 )\r\n\r\n       at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;( ChromeDriver.java:94 )\r\n\r\n       at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;( ChromeDriver.java:82 )\r\n\r\n       at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;( ChromeDriver.java:50 )\r\n\r\n       at SelPractice.main( SelPractice.java:11 )\r\n\r\n    Caused by: java.lang.ClassNotFoundException : io.netty.util.Timer\r\n\r\n       at java.net.URLClassLoader.findClass(Unknown Source)\r\n\r\n       at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\r\n       at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\r\n       at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\r\n       ... 10 more\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Exception in Thread &quot;main&quot; java.lang.NoClassDefFoundError: io/netty/handler/ssl/SSlContextBuilder running Selenium / Java file","body":"<p>I have basic 4 line code where I'm setting chromedriver exe system property and instantiated Chromedriver. But, failed with error &quot;Exception in Thread 'main&quot; java.lang.NoClassDefFoundError: io/netty/handler/ssl/SSLContextBuilder</p>\n<pre><code>import org.openqa.selenium.webDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class SelPractice {\npublic static void main(String[] args)\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\ndriver.get(&quot;www.google.com&quot;);\n}\n}\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/netty/util/Timer\n\n   at org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient( NettyClient.java:135 )\n\n   at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:107 )\n\n   at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:94 )\n\n   at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;( HttpCommandExecutor.java:85 )\n\n   at org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;( DriverCommandExecutor.java:80 )\n\n   at org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;( ChromiumDriverCommandExecutor.java:35 )\n\n   at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;( ChromeDriver.java:94 )\n\n   at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;( ChromeDriver.java:82 )\n\n   at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;( ChromeDriver.java:50 )\n\n   at SelPractice.main( SelPractice.java:11 )\n\nCaused by: java.lang.ClassNotFoundException : io.netty.util.Timer\n\n   at java.net.URLClassLoader.findClass(Unknown Source)\n\n   at java.lang.ClassLoader.loadClass(Unknown Source)\n\n   at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n\n   at java.lang.ClassLoader.loadClass(Unknown Source)\n\n   ... 10 more\n</code></pre>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2455344,"reputation":370,"user_id":2140708,"accept_rate":100,"display_name":"Zur13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681311346,"creation_date":1681311346,"answer_id":75996952,"question_id":75988082,"body_markdown":"So the best solutions i could came across is the solution based on the already deleted comment. It does not solve the issue because I still get a single stacktrace at the start but no more periodic spam.\r\n\r\nThe custom error handler is required:\r\n\r\n    import org.apache.logging.log4j.core.ErrorHandler;\r\n\timport org.apache.logging.log4j.core.LogEvent;\r\n\t\r\n\tpublic class TcpSocketErrorHandler implements ErrorHandler {\r\n\r\n\t\t@Override\r\n\t\tpublic void error(String msg) {\r\n\t\t\t// Ignore errors silently\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void error(String msg, Throwable t) {\r\n\t\t\t// Ignore errors silently\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void error(String msg, LogEvent event, Throwable t) {\r\n\t\t\t// Ignore errors silently\r\n\t\t}\r\n\r\n\t}\r\n\r\nIn the Log4j 1.x it was possible to attach a custom error handler by using a config file, but in log4j 2.x some more complex steps is needed. I&#39;ve created a custom Appender that extends the SocketAppender (some of the code bellow is adapted from Log4j 2.x sources).\r\n    \t\r\n\timport java.io.Serializable;\r\n\t\r\n\timport org.apache.logging.log4j.core.AbstractLifeCycle;\r\n\timport org.apache.logging.log4j.core.Appender;\r\n\timport org.apache.logging.log4j.core.Core;\r\n\timport org.apache.logging.log4j.core.Filter;\r\n\timport org.apache.logging.log4j.core.Layout;\r\n\timport org.apache.logging.log4j.core.appender.SocketAppender;\r\n\timport org.apache.logging.log4j.core.config.Property;\r\n\timport org.apache.logging.log4j.core.config.plugins.Plugin;\r\n\timport org.apache.logging.log4j.core.config.plugins.PluginBuilderFactory;\r\n\timport org.apache.logging.log4j.core.net.AbstractSocketManager;\r\n\timport org.apache.logging.log4j.core.net.Advertiser;\r\n\timport org.apache.logging.log4j.core.net.DatagramSocketManager;\r\n\timport org.apache.logging.log4j.core.net.Protocol;\r\n\timport org.apache.logging.log4j.core.net.SocketOptions;\r\n\timport org.apache.logging.log4j.core.net.SslSocketManager;\r\n\timport org.apache.logging.log4j.core.net.TcpSocketManager;\r\n\timport org.apache.logging.log4j.core.net.ssl.SslConfiguration;\r\n\t\r\n\t@Plugin(name = &quot;SocketNoLog&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE, printObject = true)\r\n\tpublic class SocketNoLogAppender extends SocketAppender {\r\n\t\t\r\n\t\tpublic SocketNoLogAppender(String name, Layout&lt;? extends Serializable&gt; layout, Filter filter,\r\n\t\t\t\tAbstractSocketManager manager, boolean ignoreExceptions, boolean immediateFlush, Advertiser advertiser,\r\n\t\t\t\tProperty[] properties) {\r\n\t\t\tsuper(name, layout, filter, manager, ignoreExceptions, immediateFlush, advertiser, properties);\r\n\t\t\tthis.setHandler(new TcpSocketErrorHandler());\r\n\t\t}\r\n\t\r\n\t\t@PluginBuilderFactory\r\n\t\tpublic static SocketNoLogAppender.Builder newBuilder() {\r\n\t\t\tSocketNoLogAppender.Builder bb = new SocketNoLogAppender.Builder();\r\n\t\t\treturn bb;\r\n\t\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t     * Creates an AbstractSocketManager for TCP, UDP, and SSL.\r\n\t     *\r\n\t     * @throws IllegalArgumentException\r\n\t     *             if the protocol cannot be handled.\r\n\t     */\r\n\t    protected static AbstractSocketManager createSocketManager(final String name, Protocol protocol, final String host,\r\n\t            final int port, final int connectTimeoutMillis, final SslConfiguration sslConfig,\r\n\t            final int reconnectDelayMillis, final boolean immediateFail, final Layout&lt;? extends Serializable&gt; layout,\r\n\t            final int bufferSize, final SocketOptions socketOptions) {\r\n\t        if (protocol == Protocol.TCP &amp;&amp; sslConfig != null) {\r\n\t            // Upgrade TCP to SSL if an SSL config is specified.\r\n\t            protocol = Protocol.SSL;\r\n\t        }\r\n\t        if (protocol != Protocol.SSL &amp;&amp; sslConfig != null) {\r\n\t            LOGGER.info(&quot;Appender {} ignoring SSL configuration for {} protocol&quot;, name, protocol);\r\n\t        }\r\n\t        switch (protocol) {\r\n\t        case TCP:\r\n\t            return TcpSocketManager.getSocketManager(host, port, connectTimeoutMillis, reconnectDelayMillis,\r\n\t                    immediateFail, layout, bufferSize, socketOptions);\r\n\t        case UDP:\r\n\t            return DatagramSocketManager.getSocketManager(host, port, layout, bufferSize);\r\n\t        case SSL:\r\n\t            return SslSocketManager.getSocketManager(sslConfig, host, port, connectTimeoutMillis, reconnectDelayMillis,\r\n\t                    immediateFail, layout, bufferSize, socketOptions);\r\n\t        default:\r\n\t            throw new IllegalArgumentException(protocol.toString());\r\n\t        }\r\n\t    }\r\n\t    \r\n\t\tpublic static class Builder extends SocketAppender.Builder {\r\n\t\t\torg.apache.logging.log4j.core.appender.SocketAppender.Builder parent;\r\n\t\r\n\t\t\tpublic SocketNoLogAppender build() {\r\n\t\t\t\tboolean immediateFlush = isImmediateFlush();\r\n\t            final boolean bufferedIo = isBufferedIo();\r\n\t            final Layout&lt;? extends Serializable&gt; layout = getLayout();\r\n\t            if (layout == null) {\r\n\t                AbstractLifeCycle.LOGGER.error(&quot;No layout provided for SocketAppender&quot;);\r\n\t                return null;\r\n\t            }\r\n\t\r\n\t            final String name = getName();\r\n\t            if (name == null) {\r\n\t                AbstractLifeCycle.LOGGER.error(&quot;No name provided for SocketAppender&quot;);\r\n\t                return null;\r\n\t            }\r\n\t\r\n\t            final Protocol protocol = getProtocol();\r\n\t            final Protocol actualProtocol = protocol != null ? protocol : Protocol.TCP;\r\n\t            if (actualProtocol == Protocol.UDP) {\r\n\t                immediateFlush = true;\r\n\t            }\r\n\t            final AbstractSocketManager manager = SocketAppender.createSocketManager(name, actualProtocol, getHost(), getPort(),\r\n\t                    getConnectTimeoutMillis(), getSslConfiguration(), getReconnectDelayMillis(), getImmediateFail(), layout, getBufferSize(), getSocketOptions());\r\n\t\r\n\t            return new SocketNoLogAppender(name, layout, getFilter(), manager, isIgnoreExceptions(),\r\n\t                    !bufferedIo || immediateFlush, getAdvertise() ? getConfiguration().getAdvertiser() : null,\r\n\t                    getPropertyArray());\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nAnd replaced the default Appender with a custom one in my log4j.xml configuration:\r\n\r\n```\r\n&lt;SocketNoLog name=&quot;ROLLING_SOCKET&quot; host=&quot;127.0.0.1&quot; port=&quot;18585&quot; immediateFail=&quot;true&quot;&gt;\r\n\t&lt;JsonLayout /&gt;\r\n&lt;/SocketNoLog&gt;\r\n```\r\n\r\nIt does not completely fix the problem but until now it is the best solution I could find.","title":"Log4j2 TcpSocketManager spam","body":"<p>So the best solutions i could came across is the solution based on the already deleted comment. It does not solve the issue because I still get a single stacktrace at the start but no more periodic spam.</p>\n<p>The custom error handler is required:</p>\n<pre><code>import org.apache.logging.log4j.core.ErrorHandler;\nimport org.apache.logging.log4j.core.LogEvent;\n\npublic class TcpSocketErrorHandler implements ErrorHandler {\n\n    @Override\n    public void error(String msg) {\n        // Ignore errors silently\n    }\n\n    @Override\n    public void error(String msg, Throwable t) {\n        // Ignore errors silently\n    }\n\n    @Override\n    public void error(String msg, LogEvent event, Throwable t) {\n        // Ignore errors silently\n    }\n\n}\n</code></pre>\n<p>In the Log4j 1.x it was possible to attach a custom error handler by using a config file, but in log4j 2.x some more complex steps is needed. I've created a custom Appender that extends the SocketAppender (some of the code bellow is adapted from Log4j 2.x sources).</p>\n<pre><code>import java.io.Serializable;\n\nimport org.apache.logging.log4j.core.AbstractLifeCycle;\nimport org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.Core;\nimport org.apache.logging.log4j.core.Filter;\nimport org.apache.logging.log4j.core.Layout;\nimport org.apache.logging.log4j.core.appender.SocketAppender;\nimport org.apache.logging.log4j.core.config.Property;\nimport org.apache.logging.log4j.core.config.plugins.Plugin;\nimport org.apache.logging.log4j.core.config.plugins.PluginBuilderFactory;\nimport org.apache.logging.log4j.core.net.AbstractSocketManager;\nimport org.apache.logging.log4j.core.net.Advertiser;\nimport org.apache.logging.log4j.core.net.DatagramSocketManager;\nimport org.apache.logging.log4j.core.net.Protocol;\nimport org.apache.logging.log4j.core.net.SocketOptions;\nimport org.apache.logging.log4j.core.net.SslSocketManager;\nimport org.apache.logging.log4j.core.net.TcpSocketManager;\nimport org.apache.logging.log4j.core.net.ssl.SslConfiguration;\n\n@Plugin(name = &quot;SocketNoLog&quot;, category = Core.CATEGORY_NAME, elementType = Appender.ELEMENT_TYPE, printObject = true)\npublic class SocketNoLogAppender extends SocketAppender {\n    \n    public SocketNoLogAppender(String name, Layout&lt;? extends Serializable&gt; layout, Filter filter,\n            AbstractSocketManager manager, boolean ignoreExceptions, boolean immediateFlush, Advertiser advertiser,\n            Property[] properties) {\n        super(name, layout, filter, manager, ignoreExceptions, immediateFlush, advertiser, properties);\n        this.setHandler(new TcpSocketErrorHandler());\n    }\n\n    @PluginBuilderFactory\n    public static SocketNoLogAppender.Builder newBuilder() {\n        SocketNoLogAppender.Builder bb = new SocketNoLogAppender.Builder();\n        return bb;\n\n    }\n    \n    /**\n     * Creates an AbstractSocketManager for TCP, UDP, and SSL.\n     *\n     * @throws IllegalArgumentException\n     *             if the protocol cannot be handled.\n     */\n    protected static AbstractSocketManager createSocketManager(final String name, Protocol protocol, final String host,\n            final int port, final int connectTimeoutMillis, final SslConfiguration sslConfig,\n            final int reconnectDelayMillis, final boolean immediateFail, final Layout&lt;? extends Serializable&gt; layout,\n            final int bufferSize, final SocketOptions socketOptions) {\n        if (protocol == Protocol.TCP &amp;&amp; sslConfig != null) {\n            // Upgrade TCP to SSL if an SSL config is specified.\n            protocol = Protocol.SSL;\n        }\n        if (protocol != Protocol.SSL &amp;&amp; sslConfig != null) {\n            LOGGER.info(&quot;Appender {} ignoring SSL configuration for {} protocol&quot;, name, protocol);\n        }\n        switch (protocol) {\n        case TCP:\n            return TcpSocketManager.getSocketManager(host, port, connectTimeoutMillis, reconnectDelayMillis,\n                    immediateFail, layout, bufferSize, socketOptions);\n        case UDP:\n            return DatagramSocketManager.getSocketManager(host, port, layout, bufferSize);\n        case SSL:\n            return SslSocketManager.getSocketManager(sslConfig, host, port, connectTimeoutMillis, reconnectDelayMillis,\n                    immediateFail, layout, bufferSize, socketOptions);\n        default:\n            throw new IllegalArgumentException(protocol.toString());\n        }\n    }\n    \n    public static class Builder extends SocketAppender.Builder {\n        org.apache.logging.log4j.core.appender.SocketAppender.Builder parent;\n\n        public SocketNoLogAppender build() {\n            boolean immediateFlush = isImmediateFlush();\n            final boolean bufferedIo = isBufferedIo();\n            final Layout&lt;? extends Serializable&gt; layout = getLayout();\n            if (layout == null) {\n                AbstractLifeCycle.LOGGER.error(&quot;No layout provided for SocketAppender&quot;);\n                return null;\n            }\n\n            final String name = getName();\n            if (name == null) {\n                AbstractLifeCycle.LOGGER.error(&quot;No name provided for SocketAppender&quot;);\n                return null;\n            }\n\n            final Protocol protocol = getProtocol();\n            final Protocol actualProtocol = protocol != null ? protocol : Protocol.TCP;\n            if (actualProtocol == Protocol.UDP) {\n                immediateFlush = true;\n            }\n            final AbstractSocketManager manager = SocketAppender.createSocketManager(name, actualProtocol, getHost(), getPort(),\n                    getConnectTimeoutMillis(), getSslConfiguration(), getReconnectDelayMillis(), getImmediateFail(), layout, getBufferSize(), getSocketOptions());\n\n            return new SocketNoLogAppender(name, layout, getFilter(), manager, isIgnoreExceptions(),\n                    !bufferedIo || immediateFlush, getAdvertise() ? getConfiguration().getAdvertiser() : null,\n                    getPropertyArray());\n        }\n\n    }\n\n}\n</code></pre>\n<p>And replaced the default Appender with a custom one in my log4j.xml configuration:</p>\n<pre><code>&lt;SocketNoLog name=&quot;ROLLING_SOCKET&quot; host=&quot;127.0.0.1&quot; port=&quot;18585&quot; immediateFail=&quot;true&quot;&gt;\n    &lt;JsonLayout /&gt;\n&lt;/SocketNoLog&gt;\n</code></pre>\n<p>It does not completely fix the problem but until now it is the best solution I could find.</p>\n"}],"owner":{"account_id":2455344,"reputation":370,"user_id":2140708,"accept_rate":100,"display_name":"Zur13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681311346,"creation_date":1681229957,"question_id":75988082,"body_markdown":"I have a TCP socket appender set in my Log4j2 config file but the remote receiver can periodically go offline. It works fine if the remote receiver is up and running but it start console error spam when the remote receiver is offline. In my setup it is normal situation if the remote receiver is not available.\r\n\r\nHow I can configure the Log4j to stop error message spam in case if the TCP remote receiver is not available?\r\n\r\nThe relevant part of log4j.xml is:\r\n```\r\n\t\t&lt;Socket name=&quot;ROLLING_SOCKET&quot; host=&quot;127.0.0.1&quot; port=&quot;18585&quot;&gt;\r\n\t\t\t&lt;JsonLayout /&gt;\r\n\t\t&lt;/Socket&gt;\r\n```\r\n\r\nThe error spam messages look like this:\r\n```\r\n2023-04-11 18:50:37,152 main ERROR TcpSocketManager (TCP:127.0.0.1:18585) caught exception and will continue: java.io.IOException: Unable to create socket for 127.0.0.1 at port 18585\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:509)\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:478)\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:459)\r\n\tat org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\r\n\tat org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\r\n\tat org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\r\n\tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\r\n\tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\tat com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:543)\r\nCaused by: java.net.ConnectException: Connection refused: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager.createSocket(TcpSocketManager.java:409)\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:504)\r\n\t... 27 more\r\n\r\n2023-04-11 18:50:37,333 main ERROR Unable to write to stream TCP:127.0.0.1:18585 for appender ROLLING_SOCKET org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to TCP:127.0.0.1:18585: socket not available\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager.write(TcpSocketManager.java:214)\r\n\tat org.apache.logging.log4j.core.appender.OutputStreamManager.write(OutputStreamManager.java:190)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.writeByteArrayToManager(AbstractOutputStreamAppender.java:206)\r\n\tat org.apache.logging.log4j.core.appender.SocketAppender.directEncodeEvent(SocketAppender.java:459)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2661)\r\n\tat com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:547)\r\n\r\n2023-04-11 18:50:37,334 main ERROR An exception occurred processing Appender ROLLING_SOCKET org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to TCP:127.0.0.1:18585: socket not available\r\n\tat org.apache.logging.log4j.core.net.TcpSocketManager.write(TcpSocketManager.java:214)\r\n\tat org.apache.logging.log4j.core.appender.OutputStreamManager.write(OutputStreamManager.java:190)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.writeByteArrayToManager(AbstractOutputStreamAppender.java:206)\r\n\tat org.apache.logging.log4j.core.appender.SocketAppender.directEncodeEvent(SocketAppender.java:459)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2661)\r\n\tat com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:547)\r\n\r\n```","title":"Log4j2 TcpSocketManager spam","body":"<p>I have a TCP socket appender set in my Log4j2 config file but the remote receiver can periodically go offline. It works fine if the remote receiver is up and running but it start console error spam when the remote receiver is offline. In my setup it is normal situation if the remote receiver is not available.</p>\n<p>How I can configure the Log4j to stop error message spam in case if the TCP remote receiver is not available?</p>\n<p>The relevant part of log4j.xml is:</p>\n<pre><code>        &lt;Socket name=&quot;ROLLING_SOCKET&quot; host=&quot;127.0.0.1&quot; port=&quot;18585&quot;&gt;\n            &lt;JsonLayout /&gt;\n        &lt;/Socket&gt;\n</code></pre>\n<p>The error spam messages look like this:</p>\n<pre><code>2023-04-11 18:50:37,152 main ERROR TcpSocketManager (TCP:127.0.0.1:18585) caught exception and will continue: java.io.IOException: Unable to create socket for 127.0.0.1 at port 18585\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:509)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:478)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:459)\n    at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:114)\n    at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:100)\n    at org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\n    at org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1120)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1045)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1037)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:651)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:247)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:293)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:626)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:699)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:716)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:270)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n    at com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:543)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.logging.log4j.core.net.TcpSocketManager.createSocket(TcpSocketManager.java:409)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:504)\n    ... 27 more\n\n2023-04-11 18:50:37,333 main ERROR Unable to write to stream TCP:127.0.0.1:18585 for appender ROLLING_SOCKET org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to TCP:127.0.0.1:18585: socket not available\n    at org.apache.logging.log4j.core.net.TcpSocketManager.write(TcpSocketManager.java:214)\n    at org.apache.logging.log4j.core.appender.OutputStreamManager.write(OutputStreamManager.java:190)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.writeByteArrayToManager(AbstractOutputStreamAppender.java:206)\n    at org.apache.logging.log4j.core.appender.SocketAppender.directEncodeEvent(SocketAppender.java:459)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2661)\n    at com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:547)\n\n2023-04-11 18:50:37,334 main ERROR An exception occurred processing Appender ROLLING_SOCKET org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to TCP:127.0.0.1:18585: socket not available\n    at org.apache.logging.log4j.core.net.TcpSocketManager.write(TcpSocketManager.java:214)\n    at org.apache.logging.log4j.core.appender.OutputStreamManager.write(OutputStreamManager.java:190)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.writeByteArrayToManager(AbstractOutputStreamAppender.java:206)\n    at org.apache.logging.log4j.core.appender.SocketAppender.directEncodeEvent(SocketAppender.java:459)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2017)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1983)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2661)\n    at com.zzz.test.ServerModuleUnitTest.main(ServerModuleUnitTest.java:547)\n\n</code></pre>\n"},{"tags":["java","multithreading","backend","guava"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1627661094,"post_id":68593836,"comment_id":121224242,"body_markdown":"Maybe there&#39;s some network latency that makes the first call of the next batch taken into account in the current batch? Do you still get 429s with 4 permits per second?","body":"Maybe there&#39;s some network latency that makes the first call of the next batch taken into account in the current batch? Do you still get 429s with 4 permits per second?"},{"owner":{"account_id":22343153,"reputation":1,"user_id":16562638,"display_name":"dev_dj"},"score":0,"creation_date":1627662487,"post_id":68593836,"comment_id":121224775,"body_markdown":"@sp00m Thanks it works fine with one less than the rate limit. Can you tell what should be ideal size of thread pool executor for such scenario.","body":"@sp00m Thanks it works fine with one less than the rate limit. Can you tell what should be ideal size of thread pool executor for such scenario."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1627716352,"post_id":68593836,"comment_id":121234906,"body_markdown":"You would need to test it but you likely don&#39;t need many threads for this as API requests *normally* take less than a second to complete.","body":"You would need to test it but you likely don&#39;t need many threads for this as API requests <i>normally</i> take less than a second to complete."},{"owner":{"account_id":22343153,"reputation":1,"user_id":16562638,"display_name":"dev_dj"},"score":0,"creation_date":1627804823,"post_id":68593836,"comment_id":121249923,"body_markdown":"@dan1st got it thanks","body":"@dan1st got it thanks"}],"answers":[{"tags":[],"owner":{"account_id":15644198,"reputation":25,"user_id":12062524,"display_name":"Oscar Besga Panel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681310876,"creation_date":1681305747,"answer_id":75996000,"question_id":68593836,"body_markdown":"I had similar problemas, I would use Bucket4J\r\n\r\nhttps://bucket4j.com/\r\n\r\nCreate\r\n\r\n                Bandwidth limit = Bandwidth.classic(permitsPerSecond,\r\n                    Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L)));\r\n            Bucket bucket = Bucket.builder().\r\n                    addLimit(limit).\r\n                    build();\r\nthen \r\n\r\n    bucket.tryConsume()\r\n\r\nor\r\n\r\n    bucker.asBlocking().consume()\r\n\r\nHope it helps","title":"What should be executor thread pool size while using Guava Rate limiter of 5 permits per second?","body":"<p>I had similar problemas, I would use Bucket4J</p>\n<p><a href=\"https://bucket4j.com/\" rel=\"nofollow noreferrer\">https://bucket4j.com/</a></p>\n<p>Create</p>\n<pre><code>            Bandwidth limit = Bandwidth.classic(permitsPerSecond,\n                Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L)));\n        Bucket bucket = Bucket.builder().\n                addLimit(limit).\n                build();\n</code></pre>\n<p>then</p>\n<pre><code>bucket.tryConsume()\n</code></pre>\n<p>or</p>\n<pre><code>bucker.asBlocking().consume()\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":22343153,"reputation":1,"user_id":16562638,"display_name":"dev_dj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681310876,"creation_date":1627660405,"question_id":68593836,"body_markdown":"I created an Executor with fixed thread pool size of 50 when I had to process 1500 tasks in total using guava rate limiter(5 permits/second). But I still got 429 for some tasks.\r\nTasks mean calling 3rd Party API.\r\n\r\nHow can I make strictly 5 calls per second to third party API?","title":"What should be executor thread pool size while using Guava Rate limiter of 5 permits per second?","body":"<p>I created an Executor with fixed thread pool size of 50 when I had to process 1500 tasks in total using guava rate limiter(5 permits/second). But I still got 429 for some tasks.\nTasks mean calling 3rd Party API.</p>\n<p>How can I make strictly 5 calls per second to third party API?</p>\n"},{"tags":["java","spring-boot","maven","jpa","eclipselink"],"comments":[{"owner":{"account_id":10058979,"reputation":1712,"user_id":7436321,"accept_rate":75,"display_name":"JustLudo"},"score":0,"creation_date":1681296536,"post_id":75984540,"comment_id":134032683,"body_markdown":"What is the actual error?","body":"What is the actual error?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681310797,"post_id":75984540,"comment_id":134036370,"body_markdown":"@JustLudo I have posted my solution. I added the error statement as my question, sorry for the confusion.","body":"@JustLudo I have posted my solution. I added the error statement as my question, sorry for the confusion."}],"answers":[{"tags":[],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681310655,"creation_date":1681310655,"answer_id":75996832,"question_id":75984540,"body_markdown":"The code below solves the error.\r\n\r\n```\r\npublic class JpaConfiguration extends JpaBaseConfiguration {\r\n\t\r\n\t@Autowired\r\n\tJpaProperties properties;\r\n\r\n    public JpaConfiguration(DataSource dataSource, JpaProperties props, ObjectProvider&lt;JtaTransactionManager&gt; txm) {\r\n    \tsuper(dataSource, props, txm);\r\n    }\r\n \r\n    \r\n    @Bean\r\n    public InstrumentationLoadTimeWeaver loadTimeWeaver() throws Throwable {\r\n        InstrumentationLoadTimeWeaver loadTimeWeaver = new InstrumentationLoadTimeWeaver();\r\n        return loadTimeWeaver;\r\n    }\r\n     @Override\r\n\tprotected AbstractJpaVendorAdapter createJpaVendorAdapter() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new EclipseLinkJpaVendorAdapter();\r\n\t}\r\n\r\n    @Override\r\n\tprotected Map&lt;String, Object&gt; getVendorProperties() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t return new HashMap&lt;&gt;(properties.getProperties());\r\n\t}\r\n}","title":"Error creating bean with name &#39;loadTimeWeaver&#39; defined in class path resource","body":"<p>The code below solves the error.</p>\n<pre><code>public class JpaConfiguration extends JpaBaseConfiguration {\n    \n    @Autowired\n    JpaProperties properties;\n\n    public JpaConfiguration(DataSource dataSource, JpaProperties props, ObjectProvider&lt;JtaTransactionManager&gt; txm) {\n        super(dataSource, props, txm);\n    }\n \n    \n    @Bean\n    public InstrumentationLoadTimeWeaver loadTimeWeaver() throws Throwable {\n        InstrumentationLoadTimeWeaver loadTimeWeaver = new InstrumentationLoadTimeWeaver();\n        return loadTimeWeaver;\n    }\n     @Override\n    protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\n        // TODO Auto-generated method stub\n        return new EclipseLinkJpaVendorAdapter();\n    }\n\n    @Override\n    protected Map&lt;String, Object&gt; getVendorProperties() {\n        // TODO Auto-generated method stub\n         return new HashMap&lt;&gt;(properties.getProperties());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75996832,"answer_count":1,"score":-1,"last_activity_date":1681310655,"creation_date":1681206585,"question_id":75984540,"body_markdown":"I am new to Spring Boot and would like some help with this error.\r\n\r\nI am trying to connect to a database from a Docker container via EclipseLink. I want to be able to store JSON data in one of the tables and retrieve JSON data from another table. While running the code I come across this error.\r\n\r\npom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.10&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;de.cibplus&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cibplus-ng-vdp-GKZ&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;cibplus-ng-vdp-GKZ&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n         &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n               &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n               &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n               &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n               &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n         &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt; \r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \r\n                        &lt;version&gt;2.3.0&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n         &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\r\n         &lt;version&gt;2.7.8&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.22&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n      &lt;executable&gt;java&lt;/executable&gt;\r\n       &lt;arguments&gt;\r\n           &lt;argument&gt;-Xmx1000m&lt;/argument&gt;\r\n           &lt;argument&gt;-javaagent:lib/eclipselink-${eclipselink.version}.jar&lt;/argument&gt;\r\n           &lt;argument&gt;-classpath&lt;/argument&gt;\r\n           &lt;classpath/&gt;\r\n           &lt;argument&gt;my.App&lt;/argument&gt;\r\n       &lt;/arguments&gt;\r\n     &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nJpaConfiguration.java\r\n\r\n```java\r\npackage de.cibplus.cibplusngvdpGKZ;\r\n\r\nimport java.util.Map;\r\nimport java.util.Properties;\r\n\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.ObjectProvider;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration;\r\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.EnableLoadTimeWeaving;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.AbstractJpaVendorAdapter;\r\nimport org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.jta.JtaTransactionManager;\r\n\r\n@Configuration\r\n@EnableJpaAuditing\r\n@EnableLoadTimeWeaving\r\n@EnableAutoConfiguration\r\npublic class JpaConfiguration extends JpaBaseConfiguration {\r\n\r\n    public JpaConfiguration(DataSource dataSource, JpaProperties props, ObjectProvider&lt;JtaTransactionManager&gt; txm) {\r\n    \tsuper(dataSource, props, txm);\r\n    }\r\n\r\n    @Bean\r\n    public EntityManagerFactory entityManagerFactory() {\r\n\t\tAbstractJpaVendorAdapter vendorAdapter = new EclipseLinkJpaVendorAdapter();\r\n\r\n\t\tvendorAdapter.setGenerateDdl(false);\r\n\t\tLocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;eclipselink.weaving&quot;, &quot;static&quot;);\r\n\t\tfactory.setJpaProperties(properties);\r\n\t\tfactory.setJpaVendorAdapter(vendorAdapter);\r\n\t\tfactory.setPackagesToScan(&quot;de.cibplus.cibplusngvdpGKZ.Repository&quot;);\r\n\t\tfactory.afterPropertiesSet();\r\n\r\n\t\treturn factory.getObject();\r\n    }\r\n    \r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager() {\r\n        JpaTransactionManager txManager = new JpaTransactionManager();\r\n        txManager.setEntityManagerFactory(entityManagerFactory());\r\n        return txManager;\r\n    }\r\n \r\n\tprotected AbstractJpaVendorAdapter createJpaVendorAdapter() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprotected Map&lt;String, Object&gt; getVendorProperties() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Error creating bean with name &#39;loadTimeWeaver&#39; defined in class path resource","body":"<p>I am new to Spring Boot and would like some help with this error.</p>\n<p>I am trying to connect to a database from a Docker container via EclipseLink. I want to be able to store JSON data in one of the tables and retrieve JSON data from another table. While running the code I come across this error.</p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.10&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.cibplus&lt;/groupId&gt;\n    &lt;artifactId&gt;cibplus-ng-vdp-GKZ&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;cibplus-ng-vdp-GKZ&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n         &lt;exclusions&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n               &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n               &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n         &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt; \n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; \n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; \n                        &lt;version&gt;2.3.0&lt;/version&gt; \n&lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n         &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\n         &lt;version&gt;2.7.8&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n      &lt;executable&gt;java&lt;/executable&gt;\n       &lt;arguments&gt;\n           &lt;argument&gt;-Xmx1000m&lt;/argument&gt;\n           &lt;argument&gt;-javaagent:lib/eclipselink-${eclipselink.version}.jar&lt;/argument&gt;\n           &lt;argument&gt;-classpath&lt;/argument&gt;\n           &lt;classpath/&gt;\n           &lt;argument&gt;my.App&lt;/argument&gt;\n       &lt;/arguments&gt;\n     &lt;/configuration&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>JpaConfiguration.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.cibplus.cibplusngvdpGKZ;\n\nimport java.util.Map;\nimport java.util.Properties;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.ObjectProvider;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.EnableLoadTimeWeaving;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.AbstractJpaVendorAdapter;\nimport org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.jta.JtaTransactionManager;\n\n@Configuration\n@EnableJpaAuditing\n@EnableLoadTimeWeaving\n@EnableAutoConfiguration\npublic class JpaConfiguration extends JpaBaseConfiguration {\n\n    public JpaConfiguration(DataSource dataSource, JpaProperties props, ObjectProvider&lt;JtaTransactionManager&gt; txm) {\n        super(dataSource, props, txm);\n    }\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() {\n        AbstractJpaVendorAdapter vendorAdapter = new EclipseLinkJpaVendorAdapter();\n\n        vendorAdapter.setGenerateDdl(false);\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n\n        Properties properties = new Properties();\n        properties.setProperty(&quot;eclipselink.weaving&quot;, &quot;static&quot;);\n        factory.setJpaProperties(properties);\n        factory.setJpaVendorAdapter(vendorAdapter);\n        factory.setPackagesToScan(&quot;de.cibplus.cibplusngvdpGKZ.Repository&quot;);\n        factory.afterPropertiesSet();\n\n        return factory.getObject();\n    }\n    \n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager txManager = new JpaTransactionManager();\n        txManager.setEntityManagerFactory(entityManagerFactory());\n        return txManager;\n    }\n \n    protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    protected Map&lt;String, Object&gt; getVendorProperties() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","jlayeredpane"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1681223971,"post_id":75986990,"comment_id":134019861,"body_markdown":"Maybe you should use a glasspane instead of a layeredpane. Hard to tell since you don&#39;t describe what you use the tralucent pane for.","body":"Maybe you should use a glasspane instead of a layeredpane. Hard to tell since you don&#39;t describe what you use the tralucent pane for."},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1681224286,"post_id":75986990,"comment_id":134019948,"body_markdown":"I thought the second parameter when adding to a JLayeredPane should be of type Integer, where higher values will move the component more to the front.","body":"I thought the second parameter when adding to a JLayeredPane should be of type Integer, where higher values will move the component more to the front."},{"owner":{"account_id":16047047,"reputation":1,"user_id":11581916,"display_name":"FBenevento"},"score":0,"creation_date":1681224325,"post_id":75986990,"comment_id":134019963,"body_markdown":"I had tried using a glasspane but it is not suitable in my case because above the translucent panel I want to make a modal window appear. I need the translucent panel to create more contrast with the background panel while still showing the panel below.","body":"I had tried using a glasspane but it is not suitable in my case because above the translucent panel I want to make a modal window appear. I need the translucent panel to create more contrast with the background panel while still showing the panel below."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1681224415,"post_id":75986990,"comment_id":134019994,"body_markdown":"I guess you don&#39;t want to use a simple JDialog?","body":"I guess you don&#39;t want to use a simple JDialog?"},{"owner":{"account_id":16047047,"reputation":1,"user_id":11581916,"display_name":"FBenevento"},"score":0,"creation_date":1681225436,"post_id":75986990,"comment_id":134020313,"body_markdown":"With a simple JDialog I don&#39;t have much contrast","body":"With a simple JDialog I don&#39;t have much contrast"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1681240626,"post_id":75986990,"comment_id":134023970,"body_markdown":"*Below is an example code.* - don&#39;t use AbsoluteConstraints and AbsoluteLayout. Those are NOT standard JDK classes. Swing was designed to be used with layout managers.","body":"<i>Below is an example code.</i> - don&#39;t use AbsoluteConstraints and AbsoluteLayout. Those are NOT standard JDK classes. Swing was designed to be used with layout managers."}],"owner":{"account_id":16047047,"reputation":1,"user_id":11581916,"display_name":"FBenevento"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681310279,"creation_date":1681222967,"question_id":75986990,"body_markdown":"I tried to create a translucent panel in java swing covering and underlying panel, but I&#39;ve a problem: If, for example, there is a jtextfield in the panel below and the text of this component is subsequently changed, it is brought back to the foreground and &#39;breaks&#39; the upper translucent panel. \r\nHow can I do?\r\n\r\nThank you in advance!\r\n\r\nBelow is an example code. \r\n\r\n\r\n```\r\n private static void createAndShowUI()\r\n    {\r\n        JTextField textField = new JTextField(&quot;Testo di esempio&quot;);\r\n        textField.setSize(200, 60);\r\n        textField.setEnabled(false);\r\n        \r\n        JButton button = new JButton(&quot;Premi&quot;);\r\n        button.setBounds(40, 30, 200, 60);\r\n        button.setEnabled(false);\r\n        \r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setPreferredSize(new Dimension(400, 400));\r\n        mainPanel.add(textField, new AbsoluteConstraints(10, 10, 200, 60));\r\n        mainPanel.add(button,  new AbsoluteConstraints(10, 90, 200, 60));\r\n        \r\n        JPanel translucentPanel = new JPanel();\r\n        translucentPanel.setBackground(new Color(204, 241, 17, 180));\r\n        translucentPanel.addMouseListener(new MouseAdapter() {\r\n        });\r\n\r\n        JLayeredPane layeredPane = new JLayeredPane();\r\n        layeredPane.setLayout(new AbsoluteLayout());\r\n        layeredPane.setPreferredSize(new Dimension(400, 400));\r\n        layeredPane.add(mainPanel, new AbsoluteConstraints(0, 0, 400, 400), JLayeredPane.PALETTE_LAYER);\r\n//        layeredPane.add(button,  new AbsoluteConstraints(10, 90, 200, 60), JLayeredPane.PALETTE_LAYER);\r\n        layeredPane.add(translucentPanel,  new AbsoluteConstraints(0, 0, 400, 400), JLayeredPane.DEFAULT_LAYER);\r\n\r\n        JFrame frame = new JFrame(&quot;Esempio di JLayeredPane&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(layeredPane);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        \r\n        \r\n        \r\n        textField.requestFocus();\r\n\r\n        // Aggiorna il JTextField dopo 5 secondi\r\n        Timer timer = new Timer(5000, new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                textField.setText(&quot;Testo aggiornato&quot;);\r\n            }\r\n        });\r\n        timer.setRepeats(false);\r\n        timer.start();\r\n}\r\n```\r\n\r\n\r\nI have also tried disabling the jtextfield without success as well as using a jlayeredpane and setting different layers.\r\nI would like the jtextfield to always remain below the translucent panel or alternatively not be redrawn as long as the top translucent panel is present even if I setText. ","title":"Translucent panel Java swing","body":"<p>I tried to create a translucent panel in java swing covering and underlying panel, but I've a problem: If, for example, there is a jtextfield in the panel below and the text of this component is subsequently changed, it is brought back to the foreground and 'breaks' the upper translucent panel.\nHow can I do?</p>\n<p>Thank you in advance!</p>\n<p>Below is an example code.</p>\n<pre><code> private static void createAndShowUI()\n    {\n        JTextField textField = new JTextField(&quot;Testo di esempio&quot;);\n        textField.setSize(200, 60);\n        textField.setEnabled(false);\n        \n        JButton button = new JButton(&quot;Premi&quot;);\n        button.setBounds(40, 30, 200, 60);\n        button.setEnabled(false);\n        \n        JPanel mainPanel = new JPanel();\n        mainPanel.setPreferredSize(new Dimension(400, 400));\n        mainPanel.add(textField, new AbsoluteConstraints(10, 10, 200, 60));\n        mainPanel.add(button,  new AbsoluteConstraints(10, 90, 200, 60));\n        \n        JPanel translucentPanel = new JPanel();\n        translucentPanel.setBackground(new Color(204, 241, 17, 180));\n        translucentPanel.addMouseListener(new MouseAdapter() {\n        });\n\n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setLayout(new AbsoluteLayout());\n        layeredPane.setPreferredSize(new Dimension(400, 400));\n        layeredPane.add(mainPanel, new AbsoluteConstraints(0, 0, 400, 400), JLayeredPane.PALETTE_LAYER);\n//        layeredPane.add(button,  new AbsoluteConstraints(10, 90, 200, 60), JLayeredPane.PALETTE_LAYER);\n        layeredPane.add(translucentPanel,  new AbsoluteConstraints(0, 0, 400, 400), JLayeredPane.DEFAULT_LAYER);\n\n        JFrame frame = new JFrame(&quot;Esempio di JLayeredPane&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(layeredPane);\n        frame.pack();\n        frame.setVisible(true);\n        \n        \n        \n        textField.requestFocus();\n\n        // Aggiorna il JTextField dopo 5 secondi\n        Timer timer = new Timer(5000, new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                textField.setText(&quot;Testo aggiornato&quot;);\n            }\n        });\n        timer.setRepeats(false);\n        timer.start();\n}\n</code></pre>\n<p>I have also tried disabling the jtextfield without success as well as using a jlayeredpane and setting different layers.\nI would like the jtextfield to always remain below the translucent panel or alternatively not be redrawn as long as the top translucent panel is present even if I setText.</p>\n"},{"tags":["java","spring","spring-boot","ehcache","ehcache-3"],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681310156,"creation_date":1681310156,"question_id":75996743,"body_markdown":"If service been hit after data is been expired. It is returning the old data and then refresing the data in the second hit. This is causing service to fail.\r\n\r\n        @Cacheable(value = &quot;tokenCache&quot;, cacheManager = &quot;springTokenCacheManager&quot;)\r\n        public String getToken(PublicKey publicKey) {....}\r\n\r\nJcache manager bean:\r\n\r\n    @Bean\r\n      public JCacheCacheManager springTokenCacheManager(\r\n          @Qualifier(&quot;tokenCacheManager&quot;) CacheManager cacheManager) {\r\n        return new JCacheCacheManager(cacheManager);\r\n      }\r\n\r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n      public CacheManager tokenCacheManager(\r\n          TokenExpiryPolicy tokenExpiryPolicy, CacheEventLogger cacheEventLogger) {\r\n    \r\n        CacheEventListenerConfigurationBuilder cacheEventListenerConfiguration =\r\n            CacheEventListenerConfigurationBuilder.newEventListenerConfiguration(\r\n                    cacheEventLogger,\r\n                    EventType.CREATED,\r\n                    EventType.UPDATED,\r\n                    EventType.EVICTED,\r\n                    EventType.EXPIRED,\r\n                    EventType.REMOVED)\r\n                .unordered()\r\n                .asynchronous();\r\n    \r\n        CacheConfiguration&lt;PublicKey, String&gt; cacheConfiguration =\r\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(\r\n                    PublicKey.class, String.class, ResourcePoolsBuilder.heap(1))\r\n                .withExpiry(tokenExpiryPolicy)\r\n                .withService(cacheEventListenerConfiguration)\r\n                .build();\r\n    \r\n    \r\n        EhcacheCachingProvider provider =\r\n            (EhcacheCachingProvider)\r\n                Caching.getCachingProvider(&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;);\r\n    \r\n      \r\n        CacheManager cacheManager = provider.getCacheManager();\r\n    \r\n        Cache&lt;PublicKey, String&gt; cache =\r\n            cacheManager.createCache(\r\n                    TOKEN_CACHE, Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration));\r\n    \r\n        return cacheManager;\r\n      }\r\n\r\n**ExpiryPolicy**\r\n\r\n    @Component\r\n    public class TokenExpiryPolicy implements ExpiryPolicy&lt;PublicKey, String&gt; {\r\n    \r\n      @Override\r\n      public Duration getExpiryForCreation(PublicKey key, String value) {\r\n        Duration expiryDate = getExpiryDate(value);\r\n        log.info(&quot;Token expires duration for creation {}&quot;, expiryDate);\r\n        return expiryDate;\r\n      }\r\n    \r\n      @Override\r\n      public Duration getExpiryForAccess(PublicKey key, Supplier&lt;? extends String&gt; value) {\r\n        Duration expiryDate = getExpiryDate(value.get());\r\n        log.info(&quot;Token expires duration for access {}&quot;, expiryDate);\r\n        return expiryDate;\r\n      }\r\n    \r\n      @Override\r\n      public Duration getExpiryForUpdate(\r\n          PublicKey key, Supplier&lt;? extends String&gt; oldValue, String newValue) {\r\n        Duration expiryDate = getExpiryDate(newValue);\r\n        log.info(&quot;Token expires duration for update {}&quot;, expiryDate);\r\n        return expiryDate;\r\n      }\r\n    \r\n      private Duration getExpiryDate(String token) {\r\n        Duration expiry = Duration.ZERO;\r\n        try {\r\n          DecodedJWT decodedJWT = JWT.decode(token);\r\n          Date expiresAt = decodedJWT.getExpiresAt();\r\n          log.info(&quot;Token expires at {}&quot;, expiresAt);\r\n          Date currentDate = new Date();\r\n          if (expiresAt.before(currentDate)) {\r\n            log.info(&quot;Token expired {}&quot;, expiresAt);\r\n          } else {\r\n            expiry = Duration.ofMillis(expiresAt.getTime());\r\n          }\r\n        } catch (JWTDecodeException e) {\r\n          log.error(&quot;Exception while decoding JWT token&quot;);\r\n        }\r\n        return expiry;\r\n      }\r\n    }\r\n\r\n**Logs:**\r\n\r\n \r\n\r\n       [2023-04-12 15:29:08,014 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires at Wed Apr 12 13:30:26 BST 2023\r\n        [2023-04-12 15:29:08,014 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires at Wed Apr 12 13:30:26 BST 2023\r\n        [2023-04-12 15:29:08,015 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expired Wed Apr 12 13:30:26 BST 2023\r\n        [2023-04-12 15:29:08,015 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expired Wed Apr 12 13:30:26 BST 2023\r\n        [2023-04-12 15:29:08,016 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires duration for access PT0S\r\n        [2023-04-12 15:29:08,016 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires duration for access PT0S\r\n    \r\n    [2023-04-12 15:29:08,024 Ehcache [_default_]-4] INFO  c.b.s.s.s.caching.CacheEventLogger - caching listener event: EXPIRED key: Sun RSA public key, 2048 bits\r\n      params: null\r\n\r\nAfter this failed request, I see cache has been created again\r\n\r\n[2023-04-12 15:32:18,726 Ehcache [_default_]-5] INFO  c.b.s.s.s.caching.CacheEventLogger - caching listener event: CREATED key: Sun RSA public key, 2048 bits","title":"Spring Boot EhCache returning stale data","body":"<p>If service been hit after data is been expired. It is returning the old data and then refresing the data in the second hit. This is causing service to fail.</p>\n<pre><code>    @Cacheable(value = &quot;tokenCache&quot;, cacheManager = &quot;springTokenCacheManager&quot;)\n    public String getToken(PublicKey publicKey) {....}\n</code></pre>\n<p>Jcache manager bean:</p>\n<pre><code>@Bean\n  public JCacheCacheManager springTokenCacheManager(\n      @Qualifier(&quot;tokenCacheManager&quot;) CacheManager cacheManager) {\n    return new JCacheCacheManager(cacheManager);\n  }\n\n@Bean(destroyMethod = &quot;close&quot;)\n  public CacheManager tokenCacheManager(\n      TokenExpiryPolicy tokenExpiryPolicy, CacheEventLogger cacheEventLogger) {\n\n    CacheEventListenerConfigurationBuilder cacheEventListenerConfiguration =\n        CacheEventListenerConfigurationBuilder.newEventListenerConfiguration(\n                cacheEventLogger,\n                EventType.CREATED,\n                EventType.UPDATED,\n                EventType.EVICTED,\n                EventType.EXPIRED,\n                EventType.REMOVED)\n            .unordered()\n            .asynchronous();\n\n    CacheConfiguration&lt;PublicKey, String&gt; cacheConfiguration =\n        CacheConfigurationBuilder.newCacheConfigurationBuilder(\n                PublicKey.class, String.class, ResourcePoolsBuilder.heap(1))\n            .withExpiry(tokenExpiryPolicy)\n            .withService(cacheEventListenerConfiguration)\n            .build();\n\n\n    EhcacheCachingProvider provider =\n        (EhcacheCachingProvider)\n            Caching.getCachingProvider(&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;);\n\n  \n    CacheManager cacheManager = provider.getCacheManager();\n\n    Cache&lt;PublicKey, String&gt; cache =\n        cacheManager.createCache(\n                TOKEN_CACHE, Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfiguration));\n\n    return cacheManager;\n  }\n</code></pre>\n<p><strong>ExpiryPolicy</strong></p>\n<pre><code>@Component\npublic class TokenExpiryPolicy implements ExpiryPolicy&lt;PublicKey, String&gt; {\n\n  @Override\n  public Duration getExpiryForCreation(PublicKey key, String value) {\n    Duration expiryDate = getExpiryDate(value);\n    log.info(&quot;Token expires duration for creation {}&quot;, expiryDate);\n    return expiryDate;\n  }\n\n  @Override\n  public Duration getExpiryForAccess(PublicKey key, Supplier&lt;? extends String&gt; value) {\n    Duration expiryDate = getExpiryDate(value.get());\n    log.info(&quot;Token expires duration for access {}&quot;, expiryDate);\n    return expiryDate;\n  }\n\n  @Override\n  public Duration getExpiryForUpdate(\n      PublicKey key, Supplier&lt;? extends String&gt; oldValue, String newValue) {\n    Duration expiryDate = getExpiryDate(newValue);\n    log.info(&quot;Token expires duration for update {}&quot;, expiryDate);\n    return expiryDate;\n  }\n\n  private Duration getExpiryDate(String token) {\n    Duration expiry = Duration.ZERO;\n    try {\n      DecodedJWT decodedJWT = JWT.decode(token);\n      Date expiresAt = decodedJWT.getExpiresAt();\n      log.info(&quot;Token expires at {}&quot;, expiresAt);\n      Date currentDate = new Date();\n      if (expiresAt.before(currentDate)) {\n        log.info(&quot;Token expired {}&quot;, expiresAt);\n      } else {\n        expiry = Duration.ofMillis(expiresAt.getTime());\n      }\n    } catch (JWTDecodeException e) {\n      log.error(&quot;Exception while decoding JWT token&quot;);\n    }\n    return expiry;\n  }\n}\n</code></pre>\n<p><strong>Logs:</strong></p>\n<pre><code>   [2023-04-12 15:29:08,014 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires at Wed Apr 12 13:30:26 BST 2023\n    [2023-04-12 15:29:08,014 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires at Wed Apr 12 13:30:26 BST 2023\n    [2023-04-12 15:29:08,015 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expired Wed Apr 12 13:30:26 BST 2023\n    [2023-04-12 15:29:08,015 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expired Wed Apr 12 13:30:26 BST 2023\n    [2023-04-12 15:29:08,016 XNIO-1 task-1] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires duration for access PT0S\n    [2023-04-12 15:29:08,016 XNIO-1 task-2] INFO  c.b.s.s.s.caching.TokenExpiryPolicy - Token expires duration for access PT0S\n\n[2023-04-12 15:29:08,024 Ehcache [_default_]-4] INFO  c.b.s.s.s.caching.CacheEventLogger - caching listener event: EXPIRED key: Sun RSA public key, 2048 bits\n  params: null\n</code></pre>\n<p>After this failed request, I see cache has been created again</p>\n<p>[2023-04-12 15:32:18,726 Ehcache [<em>default</em>]-5] INFO  c.b.s.s.s.caching.CacheEventLogger - caching listener event: CREATED key: Sun RSA public key, 2048 bits</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1681311409,"post_id":75995963,"comment_id":134036557,"body_markdown":"Create a separate dto class with only the fields you want to serialize, create an instance of that dto from the exception, serialize the dto.","body":"Create a separate dto class with only the fields you want to serialize, create an instance of that dto from the exception, serialize the dto."}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681309174,"creation_date":1681309174,"answer_id":75996573,"question_id":75995963,"body_markdown":"The best way that I found so far is ignoring base class properties via the `@JsonIgnoreProperties` annotation. \r\n\r\nI annotated my base exception class(`ApplicationException`) with `@JsonIgnoreProperties` and give all base class properties.\r\n\r\nsuch that;\r\n```\r\n@JsonIgnoreProperties({ &quot;stackTrace&quot;, &quot;cause&quot;,&quot;suppressed&quot;, &quot;localizedMessage&quot;})\r\npublic class ApplicationException extends RuntimeException{\r\n```\r\n\r\nI am still open to other solutions. ","title":"How to serialize only derived class in spring boot response?","body":"<p>The best way that I found so far is ignoring base class properties via the <code>@JsonIgnoreProperties</code> annotation.</p>\n<p>I annotated my base exception class(<code>ApplicationException</code>) with <code>@JsonIgnoreProperties</code> and give all base class properties.</p>\n<p>such that;</p>\n<pre><code>@JsonIgnoreProperties({ &quot;stackTrace&quot;, &quot;cause&quot;,&quot;suppressed&quot;, &quot;localizedMessage&quot;})\npublic class ApplicationException extends RuntimeException{\n</code></pre>\n<p>I am still open to other solutions.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681309990,"creation_date":1681309990,"answer_id":75996711,"question_id":75995963,"body_markdown":"Just create a bean you expect in response:\r\n```\r\npublic class ErrorResponse {\r\n    private final ApplicationException delegate;\r\n\r\n    public ErrorResponse(ApplicationException delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    public int    getResultCode()     { delegate.getResultCode(); }\r\n    public String getMessage()        { ... }\r\n    public String getHttpStatusCode() { ... }\r\n    public String thrownAt()          { ... }\r\n}\r\n```\r\n\r\nAnd then return it:\r\n```\r\nreturn new ResponseEntity&lt;&gt;(\r\n    new ErrorResponse(applicationException),\r\n    HttpStatus.valueOf(applicationException.getHttpStatusCode())\r\n);\r\n```\r\n\r\nThis way your response would NOT be affected by later code or JDK changes.","title":"How to serialize only derived class in spring boot response?","body":"<p>Just create a bean you expect in response:</p>\n<pre><code>public class ErrorResponse {\n    private final ApplicationException delegate;\n\n    public ErrorResponse(ApplicationException delegate) {\n        this.delegate = delegate;\n    }\n\n    public int    getResultCode()     { delegate.getResultCode(); }\n    public String getMessage()        { ... }\n    public String getHttpStatusCode() { ... }\n    public String thrownAt()          { ... }\n}\n</code></pre>\n<p>And then return it:</p>\n<pre><code>return new ResponseEntity&lt;&gt;(\n    new ErrorResponse(applicationException),\n    HttpStatus.valueOf(applicationException.getHttpStatusCode())\n);\n</code></pre>\n<p>This way your response would NOT be affected by later code or JDK changes.</p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681309990,"creation_date":1681305550,"question_id":75995963,"body_markdown":"Summary: I would like to show only the `ApplicationException` fields in a response, and ignore the `RuntimeException` properties.\r\n\r\nI am implementing a custom exception structure in my application. The base exception is `ApplicationException extends RuntimeException` and the derived exceptions are `ResourceNotFoundException`, and `InvalidRequestException` extends `ApplicationException`. The problem is that when I try to throw `ResourceNotFoundException` or `InvalidRequestException`, spring serializes `RuntimeException` fields which I would like to avoid.\r\n\r\nThe response that I would like to see\r\n\r\n```\r\n{\r\n    &quot;resultCode&quot;: -1,\r\n    &quot;message&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;,\r\n    &quot;httpStatusCode&quot;: 404,\r\n    &quot;throwedAt&quot;: &quot;2023-04-12T15:53:34.532371+03:00&quot;\r\n}\r\n```\r\n\r\nThe response that is thrown\r\n```\r\n{\r\n    &quot;cause&quot;: null,\r\n    &quot;stackTrace&quot;: [\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;lambda$loadUserByUsername$0&quot;,\r\n            &quot;fileName&quot;: &quot;UserDetailsServiceImpl.java&quot;,\r\n            &quot;lineNumber&quot;: 24,\r\n            &quot;className&quot;: &quot;com.napsam.wo.service.UserDetailsServiceImpl&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: &quot;java.base&quot;,\r\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\r\n            &quot;methodName&quot;: &quot;orElseThrow&quot;,\r\n            &quot;fileName&quot;: &quot;Optional.java&quot;,\r\n            &quot;lineNumber&quot;: 408,\r\n            &quot;className&quot;: &quot;java.util.Optional&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;loadUserByUsername&quot;,\r\n            &quot;fileName&quot;: &quot;UserDetailsServiceImpl.java&quot;,\r\n            &quot;lineNumber&quot;: 23,\r\n            &quot;className&quot;: &quot;com.napsam.wo.service.UserDetailsServiceImpl&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;loginUser&quot;,\r\n            &quot;fileName&quot;: &quot;AuthService.java&quot;,\r\n            &quot;lineNumber&quot;: 87,\r\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;&lt;generated&gt;&quot;,\r\n            &quot;lineNumber&quot;: -1,\r\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService$$FastClassBySpringCGLIB$$2f837c1d&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;MethodProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 218,\r\n            &quot;className&quot;: &quot;org.springframework.cglib.proxy.MethodProxy&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invokeMethod&quot;,\r\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 386,\r\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;access$000&quot;,\r\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 85,\r\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;intercept&quot;,\r\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 704,\r\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;loginUser&quot;,\r\n            &quot;fileName&quot;: &quot;&lt;generated&gt;&quot;,\r\n            &quot;lineNumber&quot;: -1,\r\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService$$EnhancerBySpringCGLIB$$be4b4c81&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;login&quot;,\r\n            &quot;fileName&quot;: &quot;AuthenticationController.java&quot;,\r\n            &quot;lineNumber&quot;: 34,\r\n            &quot;className&quot;: &quot;com.napsam.wo.controller.AuthenticationController&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: &quot;java.base&quot;,\r\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\r\n            &quot;methodName&quot;: &quot;invoke0&quot;,\r\n            &quot;fileName&quot;: &quot;NativeMethodAccessorImpl.java&quot;,\r\n            &quot;lineNumber&quot;: -2,\r\n            &quot;className&quot;: &quot;jdk.internal.reflect.NativeMethodAccessorImpl&quot;,\r\n            &quot;nativeMethod&quot;: true\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: &quot;java.base&quot;,\r\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;NativeMethodAccessorImpl.java&quot;,\r\n            &quot;lineNumber&quot;: 62,\r\n            &quot;className&quot;: &quot;jdk.internal.reflect.NativeMethodAccessorImpl&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: &quot;java.base&quot;,\r\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;DelegatingMethodAccessorImpl.java&quot;,\r\n            &quot;lineNumber&quot;: 43,\r\n            &quot;className&quot;: &quot;jdk.internal.reflect.DelegatingMethodAccessorImpl&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: &quot;java.base&quot;,\r\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;Method.java&quot;,\r\n            &quot;lineNumber&quot;: 566,\r\n            &quot;className&quot;: &quot;java.lang.reflect.Method&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doInvoke&quot;,\r\n            &quot;fileName&quot;: &quot;InvocableHandlerMethod.java&quot;,\r\n            &quot;lineNumber&quot;: 205,\r\n            &quot;className&quot;: &quot;org.springframework.web.method.support.InvocableHandlerMethod&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invokeForRequest&quot;,\r\n            &quot;fileName&quot;: &quot;InvocableHandlerMethod.java&quot;,\r\n            &quot;lineNumber&quot;: 150,\r\n            &quot;className&quot;: &quot;org.springframework.web.method.support.InvocableHandlerMethod&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invokeAndHandle&quot;,\r\n            &quot;fileName&quot;: &quot;ServletInvocableHandlerMethod.java&quot;,\r\n            &quot;lineNumber&quot;: 117,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invokeHandlerMethod&quot;,\r\n            &quot;fileName&quot;: &quot;RequestMappingHandlerAdapter.java&quot;,\r\n            &quot;lineNumber&quot;: 895,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handleInternal&quot;,\r\n            &quot;fileName&quot;: &quot;RequestMappingHandlerAdapter.java&quot;,\r\n            &quot;lineNumber&quot;: 808,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handle&quot;,\r\n            &quot;fileName&quot;: &quot;AbstractHandlerMethodAdapter.java&quot;,\r\n            &quot;lineNumber&quot;: 87,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doDispatch&quot;,\r\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 1071,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doService&quot;,\r\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 964,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;processRequest&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 1006,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doPost&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 909,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 696,\r\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 883,\r\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;service&quot;,\r\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\r\n            &quot;lineNumber&quot;: 779,\r\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 227,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 162,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;WsFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 53,\r\n            &quot;className&quot;: &quot;org.apache.tomcat.websocket.server.WsFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 189,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 162,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 111,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 189,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 162,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 111,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 189,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\r\n            &quot;lineNumber&quot;: 162,\r\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 337,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;invoke&quot;,\r\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\r\n            &quot;lineNumber&quot;: 115,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\r\n            &quot;lineNumber&quot;: 81,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 122,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 116,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 126,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 81,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;AnonymousAuthenticationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 109,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.AnonymousAuthenticationFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;SecurityContextHolderAwareRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 149,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;RequestCacheAwareFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 63,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.savedrequest.RequestCacheAwareFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: null,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\r\n            &quot;fileName&quot;: &quot;JwtAuthenticationFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 40,\r\n            &quot;className&quot;: &quot;com.napsam.wo.security.JwtAuthenticationFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\r\n            &quot;lineNumber&quot;: 117,\r\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;doFilter&quot;,\r\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\r\n            &quot;lineNumber&quot;: 346,\r\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\r\n            &quot;nativeMethod&quot;: false\r\n        }\r\n    ],\r\n    &quot;resultCode&quot;: -1,\r\n    &quot;message&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;,\r\n    &quot;httpStatusCode&quot;: 404,\r\n    &quot;throwedAt&quot;: &quot;2023-04-12T15:53:34.532371+03:00&quot;,\r\n    &quot;suppressed&quot;: [],\r\n    &quot;localizedMessage&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;\r\n}\r\n```\r\n\r\n**ApplicationException**\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class ApplicationException extends RuntimeException{\r\n\r\n    private int resultCode;\r\n    private String message;\r\n    private int httpStatusCode;\r\n    private ZonedDateTime throwedAt;\r\n\r\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\r\n\r\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\r\n        this.resultCode = resultCode;\r\n        this.message = message;\r\n        this.httpStatusCode = httpStatus.value();\r\n        this.throwedAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**ResourceNotFoundException**\r\n```\r\npublic class ResourceNotFoundException extends ApplicationException {\r\n    public ResourceNotFoundException(String message) {\r\n        super(-1,message,HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**ExceptionHandler**\r\n```\r\n@ControllerAdvice\r\npublic class AppExceptionHandler {\r\n    @ExceptionHandler(value = {ApplicationException.class})\r\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\r\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\r\n    }\r\n```","title":"How to serialize only derived class in spring boot response?","body":"<p>Summary: I would like to show only the <code>ApplicationException</code> fields in a response, and ignore the <code>RuntimeException</code> properties.</p>\n<p>I am implementing a custom exception structure in my application. The base exception is <code>ApplicationException extends RuntimeException</code> and the derived exceptions are <code>ResourceNotFoundException</code>, and <code>InvalidRequestException</code> extends <code>ApplicationException</code>. The problem is that when I try to throw <code>ResourceNotFoundException</code> or <code>InvalidRequestException</code>, spring serializes <code>RuntimeException</code> fields which I would like to avoid.</p>\n<p>The response that I would like to see</p>\n<pre><code>{\n    &quot;resultCode&quot;: -1,\n    &quot;message&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;,\n    &quot;httpStatusCode&quot;: 404,\n    &quot;throwedAt&quot;: &quot;2023-04-12T15:53:34.532371+03:00&quot;\n}\n</code></pre>\n<p>The response that is thrown</p>\n<pre><code>{\n    &quot;cause&quot;: null,\n    &quot;stackTrace&quot;: [\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;lambda$loadUserByUsername$0&quot;,\n            &quot;fileName&quot;: &quot;UserDetailsServiceImpl.java&quot;,\n            &quot;lineNumber&quot;: 24,\n            &quot;className&quot;: &quot;com.napsam.wo.service.UserDetailsServiceImpl&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: &quot;java.base&quot;,\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\n            &quot;methodName&quot;: &quot;orElseThrow&quot;,\n            &quot;fileName&quot;: &quot;Optional.java&quot;,\n            &quot;lineNumber&quot;: 408,\n            &quot;className&quot;: &quot;java.util.Optional&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;loadUserByUsername&quot;,\n            &quot;fileName&quot;: &quot;UserDetailsServiceImpl.java&quot;,\n            &quot;lineNumber&quot;: 23,\n            &quot;className&quot;: &quot;com.napsam.wo.service.UserDetailsServiceImpl&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;loginUser&quot;,\n            &quot;fileName&quot;: &quot;AuthService.java&quot;,\n            &quot;lineNumber&quot;: 87,\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;&lt;generated&gt;&quot;,\n            &quot;lineNumber&quot;: -1,\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService$$FastClassBySpringCGLIB$$2f837c1d&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;MethodProxy.java&quot;,\n            &quot;lineNumber&quot;: 218,\n            &quot;className&quot;: &quot;org.springframework.cglib.proxy.MethodProxy&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invokeMethod&quot;,\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\n            &quot;lineNumber&quot;: 386,\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;access$000&quot;,\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\n            &quot;lineNumber&quot;: 85,\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;intercept&quot;,\n            &quot;fileName&quot;: &quot;CglibAopProxy.java&quot;,\n            &quot;lineNumber&quot;: 704,\n            &quot;className&quot;: &quot;org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;loginUser&quot;,\n            &quot;fileName&quot;: &quot;&lt;generated&gt;&quot;,\n            &quot;lineNumber&quot;: -1,\n            &quot;className&quot;: &quot;com.napsam.wo.service.AuthService$$EnhancerBySpringCGLIB$$be4b4c81&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;login&quot;,\n            &quot;fileName&quot;: &quot;AuthenticationController.java&quot;,\n            &quot;lineNumber&quot;: 34,\n            &quot;className&quot;: &quot;com.napsam.wo.controller.AuthenticationController&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: &quot;java.base&quot;,\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\n            &quot;methodName&quot;: &quot;invoke0&quot;,\n            &quot;fileName&quot;: &quot;NativeMethodAccessorImpl.java&quot;,\n            &quot;lineNumber&quot;: -2,\n            &quot;className&quot;: &quot;jdk.internal.reflect.NativeMethodAccessorImpl&quot;,\n            &quot;nativeMethod&quot;: true\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: &quot;java.base&quot;,\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;NativeMethodAccessorImpl.java&quot;,\n            &quot;lineNumber&quot;: 62,\n            &quot;className&quot;: &quot;jdk.internal.reflect.NativeMethodAccessorImpl&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: &quot;java.base&quot;,\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;DelegatingMethodAccessorImpl.java&quot;,\n            &quot;lineNumber&quot;: 43,\n            &quot;className&quot;: &quot;jdk.internal.reflect.DelegatingMethodAccessorImpl&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: &quot;java.base&quot;,\n            &quot;moduleVersion&quot;: &quot;11.0.13&quot;,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;Method.java&quot;,\n            &quot;lineNumber&quot;: 566,\n            &quot;className&quot;: &quot;java.lang.reflect.Method&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doInvoke&quot;,\n            &quot;fileName&quot;: &quot;InvocableHandlerMethod.java&quot;,\n            &quot;lineNumber&quot;: 205,\n            &quot;className&quot;: &quot;org.springframework.web.method.support.InvocableHandlerMethod&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invokeForRequest&quot;,\n            &quot;fileName&quot;: &quot;InvocableHandlerMethod.java&quot;,\n            &quot;lineNumber&quot;: 150,\n            &quot;className&quot;: &quot;org.springframework.web.method.support.InvocableHandlerMethod&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invokeAndHandle&quot;,\n            &quot;fileName&quot;: &quot;ServletInvocableHandlerMethod.java&quot;,\n            &quot;lineNumber&quot;: 117,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invokeHandlerMethod&quot;,\n            &quot;fileName&quot;: &quot;RequestMappingHandlerAdapter.java&quot;,\n            &quot;lineNumber&quot;: 895,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handleInternal&quot;,\n            &quot;fileName&quot;: &quot;RequestMappingHandlerAdapter.java&quot;,\n            &quot;lineNumber&quot;: 808,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handle&quot;,\n            &quot;fileName&quot;: &quot;AbstractHandlerMethodAdapter.java&quot;,\n            &quot;lineNumber&quot;: 87,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doDispatch&quot;,\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\n            &quot;lineNumber&quot;: 1071,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doService&quot;,\n            &quot;fileName&quot;: &quot;DispatcherServlet.java&quot;,\n            &quot;lineNumber&quot;: 964,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.DispatcherServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;processRequest&quot;,\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n            &quot;lineNumber&quot;: 1006,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doPost&quot;,\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n            &quot;lineNumber&quot;: 909,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;service&quot;,\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\n            &quot;lineNumber&quot;: 696,\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;service&quot;,\n            &quot;fileName&quot;: &quot;FrameworkServlet.java&quot;,\n            &quot;lineNumber&quot;: 883,\n            &quot;className&quot;: &quot;org.springframework.web.servlet.FrameworkServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;service&quot;,\n            &quot;fileName&quot;: &quot;HttpServlet.java&quot;,\n            &quot;lineNumber&quot;: 779,\n            &quot;className&quot;: &quot;javax.servlet.http.HttpServlet&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 227,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 162,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;WsFilter.java&quot;,\n            &quot;lineNumber&quot;: 53,\n            &quot;className&quot;: &quot;org.apache.tomcat.websocket.server.WsFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 189,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 162,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n            &quot;lineNumber&quot;: 111,\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 189,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 162,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n            &quot;lineNumber&quot;: 111,\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;internalDoFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 189,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ApplicationFilterChain.java&quot;,\n            &quot;lineNumber&quot;: 162,\n            &quot;className&quot;: &quot;org.apache.catalina.core.ApplicationFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 337,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;invoke&quot;,\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\n            &quot;lineNumber&quot;: 115,\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterSecurityInterceptor.java&quot;,\n            &quot;lineNumber&quot;: 81,\n            &quot;className&quot;: &quot;org.springframework.security.web.access.intercept.FilterSecurityInterceptor&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\n            &quot;lineNumber&quot;: 122,\n            &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;ExceptionTranslationFilter.java&quot;,\n            &quot;lineNumber&quot;: 116,\n            &quot;className&quot;: &quot;org.springframework.security.web.access.ExceptionTranslationFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\n            &quot;lineNumber&quot;: 126,\n            &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;SessionManagementFilter.java&quot;,\n            &quot;lineNumber&quot;: 81,\n            &quot;className&quot;: &quot;org.springframework.security.web.session.SessionManagementFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;AnonymousAuthenticationFilter.java&quot;,\n            &quot;lineNumber&quot;: 109,\n            &quot;className&quot;: &quot;org.springframework.security.web.authentication.AnonymousAuthenticationFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;SecurityContextHolderAwareRequestFilter.java&quot;,\n            &quot;lineNumber&quot;: 149,\n            &quot;className&quot;: &quot;org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;RequestCacheAwareFilter.java&quot;,\n            &quot;lineNumber&quot;: 63,\n            &quot;className&quot;: &quot;org.springframework.security.web.savedrequest.RequestCacheAwareFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: null,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilterInternal&quot;,\n            &quot;fileName&quot;: &quot;JwtAuthenticationFilter.java&quot;,\n            &quot;lineNumber&quot;: 40,\n            &quot;className&quot;: &quot;com.napsam.wo.security.JwtAuthenticationFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;OncePerRequestFilter.java&quot;,\n            &quot;lineNumber&quot;: 117,\n            &quot;className&quot;: &quot;org.springframework.web.filter.OncePerRequestFilter&quot;,\n            &quot;nativeMethod&quot;: false\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;doFilter&quot;,\n            &quot;fileName&quot;: &quot;FilterChainProxy.java&quot;,\n            &quot;lineNumber&quot;: 346,\n            &quot;className&quot;: &quot;org.springframework.security.web.FilterChainProxy$VirtualFilterChain&quot;,\n            &quot;nativeMethod&quot;: false\n        }\n    ],\n    &quot;resultCode&quot;: -1,\n    &quot;message&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;,\n    &quot;httpStatusCode&quot;: 404,\n    &quot;throwedAt&quot;: &quot;2023-04-12T15:53:34.532371+03:00&quot;,\n    &quot;suppressed&quot;: [],\n    &quot;localizedMessage&quot;: &quot;xyz@gmail.com kullanıcısı bulunamadı&quot;\n}\n</code></pre>\n<p><strong>ApplicationException</strong></p>\n<pre><code>@Getter\n@Setter\npublic class ApplicationException extends RuntimeException{\n\n    private int resultCode;\n    private String message;\n    private int httpStatusCode;\n    private ZonedDateTime throwedAt;\n\n    private static final String ZONE_ID = &quot;Europe/Istanbul&quot;;\n\n    public ApplicationException(int resultCode, String message, HttpStatus httpStatus) {\n        this.resultCode = resultCode;\n        this.message = message;\n        this.httpStatusCode = httpStatus.value();\n        this.throwedAt = ZonedDateTime.now(ZoneId.of(ZONE_ID));\n    }\n\n}\n</code></pre>\n<p><strong>ResourceNotFoundException</strong></p>\n<pre><code>public class ResourceNotFoundException extends ApplicationException {\n    public ResourceNotFoundException(String message) {\n        super(-1,message,HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p><strong>ExceptionHandler</strong></p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionHandler {\n    @ExceptionHandler(value = {ApplicationException.class})\n    public ResponseEntity&lt;ApplicationException&gt; handleApplicationException(ApplicationException applicationException) {\n        return new ResponseEntity&lt;&gt;(applicationException, HttpStatus.valueOf(applicationException.getHttpStatusCode()));\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","google-app-engine","spring-data-jpa"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":1,"creation_date":1681234796,"post_id":75988576,"comment_id":134022657,"body_markdown":"I think you need to fill in the `spring.datasource` properties in your `application-deploy.properties` file. See https://spring.io/guides/gs/accessing-data-mysql/ for an example of how that&#39;s done.","body":"I think you need to fill in the <code>spring.datasource</code> properties in your <code>application-deploy.properties</code> file. See <a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-mysql</a> for an example of how that&#39;s done."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1681236413,"post_id":75988576,"comment_id":134023042,"body_markdown":"Thanks @ZackMacomber , according to the example [here](https://spring-gcp.saturnism.me/app-dev/cloud-services/databases/cloud-sql#configuration) \n\n&gt; # Cloud SQL starter automatically configures the JDBC URL","body":"Thanks @ZackMacomber , according to the example <a href=\"https://spring-gcp.saturnism.me/app-dev/cloud-services/databases/cloud-sql#configuration\" rel=\"nofollow noreferrer\">here</a>   &gt; # Cloud SQL starter automatically configures the JDBC URL"},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1681305237,"post_id":75988576,"comment_id":134034735,"body_markdown":"Ok, it took me a day to realize that the way I was attempting to create an in-line comment in the application.properties file was stopping application-deploy.properties from ever running. Now I&#39;m getting a different error related to the DB login credentials, but I&#39;m going to leave the question the way it is in case someone else runs into the same problem.","body":"Ok, it took me a day to realize that the way I was attempting to create an in-line comment in the application.properties file was stopping application-deploy.properties from ever running. Now I&#39;m getting a different error related to the DB login credentials, but I&#39;m going to leave the question the way it is in case someone else runs into the same problem."}],"answers":[{"tags":[],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681309829,"creation_date":1681309829,"answer_id":75996683,"question_id":75988576,"body_markdown":"Although I am still not able to successfully deploy to app engine, as far as I can tell this particular problem has been solved and I&#39;m on to a new one.\r\n\r\nHere were some of the mistakes:\r\n\r\n 1. I guess you can&#39;t use in-line comment in the application.properties file, so application-deploy.properties was never actually being used. I blame Intellij for not helping me with that one. ;)\r\n 2. Even after reading the documentation very carefully, I was still under the impression that loading the spring-cloud-gcp-starter-sql-mysql dependency also loaded mysql and secrets and everything I needed. Turns out it&#39;s the other way around. spring-cloud-gcp-starter-sql-mysql includes the gcp-starter, so you only need the mysql one.\r\n 3. I had instance-connection-name set to the instance name instead of the full instance-connection-name.\r\n\r\nNow I&#39;m having a JPA error, but I&#39;ll post that in a new question.\r\n\r\nOn a person level, I&#39;m kind of disappointed that I couldn&#39;t get anyone from Google to jump in here to help. According to their own documentation, this is where you should ask for help.","title":"Google App Engine with Spring Cloud GCP: Failed to configure a DataSource: &#39;url&#39;","body":"<p>Although I am still not able to successfully deploy to app engine, as far as I can tell this particular problem has been solved and I'm on to a new one.</p>\n<p>Here were some of the mistakes:</p>\n<ol>\n<li>I guess you can't use in-line comment in the application.properties file, so application-deploy.properties was never actually being used. I blame Intellij for not helping me with that one. ;)</li>\n<li>Even after reading the documentation very carefully, I was still under the impression that loading the spring-cloud-gcp-starter-sql-mysql dependency also loaded mysql and secrets and everything I needed. Turns out it's the other way around. spring-cloud-gcp-starter-sql-mysql includes the gcp-starter, so you only need the mysql one.</li>\n<li>I had instance-connection-name set to the instance name instead of the full instance-connection-name.</li>\n</ol>\n<p>Now I'm having a JPA error, but I'll post that in a new question.</p>\n<p>On a person level, I'm kind of disappointed that I couldn't get anyone from Google to jump in here to help. According to their own documentation, this is where you should ask for help.</p>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681309829,"creation_date":1681233779,"question_id":75988576,"body_markdown":"I am attempting to deploy a (non-packaged) Spring Boot web app to Google App Engine using the default starters. I keep the same error: Failed to configure a DataSource: &#39;url&#39;\r\n\r\nI am attempting to follow the instruction in this resource: https://spring-gcp.saturnism.me/app-dev/spring-cloud-gcp\r\n\r\n# What I tried\r\n\r\n## pom.xml\r\n\r\nYou can see that I as attempting to use Flyway to initialize the database, but decided to skip it for now during troubleshooting.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;nathanlively&lt;/groupId&gt;\r\n    &lt;artifactId&gt;subaligner-css&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;subaligner&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;!-- Maven plugins --&gt;\r\n        &lt;frontend-maven-plugin.version&gt;1.12.1&lt;/frontend-maven-plugin.version&gt;\r\n        &lt;frontend-maven-plugin.nodeVersion&gt;v19.8.1&lt;/frontend-maven-plugin.nodeVersion&gt;\r\n        &lt;frontend-maven-plugin.npmVersion&gt;9.5.1&lt;/frontend-maven-plugin.npmVersion&gt;\r\n        &lt;spring-cloud-gcp.version&gt;4.1.4&lt;/spring-cloud-gcp.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;&lt;!-- Web dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.46&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- gcloud stuff --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.html&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/*.css&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/*.js&lt;/exclude&gt;\r\n                    &lt;exclude&gt;**/*.svg&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;projectId&gt;subaligner-382913&lt;/projectId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${frontend-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;install-frontend-tooling&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;nodeVersion&gt;${frontend-maven-plugin.nodeVersion}&lt;/nodeVersion&gt;\r\n                                &lt;npmVersion&gt;${frontend-maven-plugin.npmVersion}&lt;/npmVersion&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;run-npm-install&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;run-npm-build&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;npm&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;run-npm-build&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;npm&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;arguments&gt;run build-prod&lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## bootstrap.properties\r\n```\r\nspring.cloud.gcp.secretmanager.project-id=subaligner-382913\r\n```\r\n\r\n## application.properties\r\n\r\nHere you can see that I attempted to set the active profile in the app.yaml file, but that didn&#39;t seem to work.\r\n```\r\nspring.profiles.active=deploy  # This is set in app.yaml.\r\n\r\n# ===============================\r\n# = JPA / Hibernate\r\n# ===============================\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.servlet.multipart.enabled=true\r\nspring.servlet.multipart.max-file-size=20MB\r\nspring.servlet.multipart.max-request-size=21MB\r\n\r\n# ===============================\r\n# = API\r\n# ===============================\r\nsoundVelocityUrl=https://nathanlively.pythonanywhere.com/speedOfSound/?\r\n\r\n# ===============================\r\n# = Thymeleaf Config\r\n# ===============================\r\nspring.thymeleaf.template-resolver-order=0\r\nspring.messages.basename=i18n/messages\r\n\r\n# ===============================\r\n# = MVC Config\r\n# ===============================\r\nspring.mvc.hiddenmethod.filter.enabled=true\r\n\r\n# ===============================\r\n# = Redis Config\r\n# ===============================\r\nspring.cache.type=redis\r\nspring.cache.redis.time-to-live=60000\r\nspring.cache.redis.cache-null-values=true\r\nspring.redis.port=6379\r\nspring.redis.host=127.0.0.1\r\n```\r\n\r\n## application-deploy.properties\r\n\r\nHere I attempted to use the database user I created. I&#39;m not sure if that&#39;s actually part of the problem, so I commented it out to force it to just use the root user.\r\n```\r\n# ===============================\r\n# = Deployed Database Config\r\n# ===============================\r\nspring.cloud.gcp.sql.enabled=true\r\nspring.cloud.gcp.sql.instance-connection-name=subaligner-382913:us-central1:subaligner-java\r\nspring.cloud.gcp.sql.database-name=subaligner_java\r\n#spring.datasource.username=${sm://DB_USER/latest}\r\n#spring.datasource.password=${sm://DB_PASSWORD/latest}\r\n#spring.datasource.driver=com.mysql.cj.jdbc.Driver\r\n\r\n# ===============================\r\n# = Flyway Database Config\r\n# ===============================\r\n#spring.flyway.enabled=true\r\n#spring.flyway.url=jdbc:mysql://${spring.cloud.gcp.sql.instance-connection-name}:3306/${spring.cloud.gcp.sql.database-name}\r\n#spring.flyway.url=jdbc:mysql:///subaligner_java?cloudSqlInstance=subaligner-java&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=${sm://DB_USERFLYWAY/latest}&amp;password=${sm://DB_PASSWORDFLY/latest}\r\n#spring.flyway.user=${sm://DB_USERFLYWAY/latest}\r\n#spring.flyway.password=${sm://DB_PASSWORDFLY/latest}\r\n```\r\n\r\n## app.yaml\r\nI have this in the root, but app engine seems to be ignoring it.\r\n```\r\n# app.yaml\r\nruntime: java17\r\ninstance_class: B1  # Upgrade this later to F1 and automatic scaling\r\n\r\nenv_variables:\r\n  SPRING_PROFILES_ACTIVE: &quot;deploy&quot;\r\n```\r\n\r\n# What actually resulted\r\n\r\n```\r\n2023-04-12 02:52:00 default[1]  &quot;GET / HTTP/1.1&quot; 503\r\n2023-04-12 02:52:03 default[1]  02:52:03.941 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\n2023-04-12 02:52:04 default[1]  java.lang.IllegalArgumentException: A database name must be provided.  \tat org.springframework.util.Assert.hasText(Assert.java:294)  \tat com.google.cloud.spring.autoconfigure.sql.DefaultCloudSqlJdbcInfoProvider.&lt;init&gt;(DefaultCloudSqlJdbcInfoProvider.java:37)  \tat com.google.cloud.spring.autoconfigure.sql.CloudSqlEnvironmentPostProcessor.postProcessEnvironment(CloudSqlEnvironmentPostProcessor.java:55)  \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)  \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)  \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)  \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)  \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)  \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)  \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)  \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)  \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)  \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)  \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)  \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)  \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)  \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)  \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)  \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)  \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)  \tat nathanlively.subalignercss.SubalignerApplication.main(SubalignerApplication.java:13)  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)  \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)  \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)  \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)  \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)  \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```","title":"Google App Engine with Spring Cloud GCP: Failed to configure a DataSource: &#39;url&#39;","body":"<p>I am attempting to deploy a (non-packaged) Spring Boot web app to Google App Engine using the default starters. I keep the same error: Failed to configure a DataSource: 'url'</p>\n<p>I am attempting to follow the instruction in this resource: <a href=\"https://spring-gcp.saturnism.me/app-dev/spring-cloud-gcp\" rel=\"nofollow noreferrer\">https://spring-gcp.saturnism.me/app-dev/spring-cloud-gcp</a></p>\n<h1>What I tried</h1>\n<h2>pom.xml</h2>\n<p>You can see that I as attempting to use Flyway to initialize the database, but decided to skip it for now during troubleshooting.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;nathanlively&lt;/groupId&gt;\n    &lt;artifactId&gt;subaligner-css&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;subaligner&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;!-- Maven plugins --&gt;\n        &lt;frontend-maven-plugin.version&gt;1.12.1&lt;/frontend-maven-plugin.version&gt;\n        &lt;frontend-maven-plugin.nodeVersion&gt;v19.8.1&lt;/frontend-maven-plugin.nodeVersion&gt;\n        &lt;frontend-maven-plugin.npmVersion&gt;9.5.1&lt;/frontend-maven-plugin.npmVersion&gt;\n        &lt;spring-cloud-gcp.version&gt;4.1.4&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n        &lt;/dependency&gt;&lt;!-- Web dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n            &lt;version&gt;0.46&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- gcloud stuff --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-mysql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.html&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.css&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.js&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.svg&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;projectId&gt;subaligner-382913&lt;/projectId&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${frontend-maven-plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;install-frontend-tooling&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;nodeVersion&gt;${frontend-maven-plugin.nodeVersion}&lt;/nodeVersion&gt;\n                                &lt;npmVersion&gt;${frontend-maven-plugin.npmVersion}&lt;/npmVersion&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;run-npm-install&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;npm&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;run-npm-build&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;npm&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;arguments&gt;run build&lt;/arguments&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;run-npm-build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build-prod&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>bootstrap.properties</h2>\n<pre><code>spring.cloud.gcp.secretmanager.project-id=subaligner-382913\n</code></pre>\n<h2>application.properties</h2>\n<p>Here you can see that I attempted to set the active profile in the app.yaml file, but that didn't seem to work.</p>\n<pre><code>spring.profiles.active=deploy  # This is set in app.yaml.\n\n# ===============================\n# = JPA / Hibernate\n# ===============================\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.servlet.multipart.enabled=true\nspring.servlet.multipart.max-file-size=20MB\nspring.servlet.multipart.max-request-size=21MB\n\n# ===============================\n# = API\n# ===============================\nsoundVelocityUrl=https://nathanlively.pythonanywhere.com/speedOfSound/?\n\n# ===============================\n# = Thymeleaf Config\n# ===============================\nspring.thymeleaf.template-resolver-order=0\nspring.messages.basename=i18n/messages\n\n# ===============================\n# = MVC Config\n# ===============================\nspring.mvc.hiddenmethod.filter.enabled=true\n\n# ===============================\n# = Redis Config\n# ===============================\nspring.cache.type=redis\nspring.cache.redis.time-to-live=60000\nspring.cache.redis.cache-null-values=true\nspring.redis.port=6379\nspring.redis.host=127.0.0.1\n</code></pre>\n<h2>application-deploy.properties</h2>\n<p>Here I attempted to use the database user I created. I'm not sure if that's actually part of the problem, so I commented it out to force it to just use the root user.</p>\n<pre><code># ===============================\n# = Deployed Database Config\n# ===============================\nspring.cloud.gcp.sql.enabled=true\nspring.cloud.gcp.sql.instance-connection-name=subaligner-382913:us-central1:subaligner-java\nspring.cloud.gcp.sql.database-name=subaligner_java\n#spring.datasource.username=${sm://DB_USER/latest}\n#spring.datasource.password=${sm://DB_PASSWORD/latest}\n#spring.datasource.driver=com.mysql.cj.jdbc.Driver\n\n# ===============================\n# = Flyway Database Config\n# ===============================\n#spring.flyway.enabled=true\n#spring.flyway.url=jdbc:mysql://${spring.cloud.gcp.sql.instance-connection-name}:3306/${spring.cloud.gcp.sql.database-name}\n#spring.flyway.url=jdbc:mysql:///subaligner_java?cloudSqlInstance=subaligner-java&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=${sm://DB_USERFLYWAY/latest}&amp;password=${sm://DB_PASSWORDFLY/latest}\n#spring.flyway.user=${sm://DB_USERFLYWAY/latest}\n#spring.flyway.password=${sm://DB_PASSWORDFLY/latest}\n</code></pre>\n<h2>app.yaml</h2>\n<p>I have this in the root, but app engine seems to be ignoring it.</p>\n<pre><code># app.yaml\nruntime: java17\ninstance_class: B1  # Upgrade this later to F1 and automatic scaling\n\nenv_variables:\n  SPRING_PROFILES_ACTIVE: &quot;deploy&quot;\n</code></pre>\n<h1>What actually resulted</h1>\n<pre><code>2023-04-12 02:52:00 default[1]  &quot;GET / HTTP/1.1&quot; 503\n2023-04-12 02:52:03 default[1]  02:52:03.941 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\n2023-04-12 02:52:04 default[1]  java.lang.IllegalArgumentException: A database name must be provided.   at org.springframework.util.Assert.hasText(Assert.java:294)     at com.google.cloud.spring.autoconfigure.sql.DefaultCloudSqlJdbcInfoProvider.&lt;init&gt;(DefaultCloudSqlJdbcInfoProvider.java:37)    at com.google.cloud.spring.autoconfigure.sql.CloudSqlEnvironmentPostProcessor.postProcessEnvironment(CloudSqlEnvironmentPostProcessor.java:55)      at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)     at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)     at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)   at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)     at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)   at java.base/java.lang.Iterable.forEach(Iterable.java:75)   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)   at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)      at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)      at nathanlively.subalignercss.SubalignerApplication.main(SubalignerApplication.java:13)     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.base/java.lang.reflect.Method.invoke(Method.java:568)   at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)   at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":12,"creation_date":1430108225,"post_id":29887088,"comment_id":47898082,"body_markdown":"http://www.tldp.org/LDP/abs/html/exitcodes.html","body":"<a href=\"http://www.tldp.org/LDP/abs/html/exitcodes.html\" rel=\"nofollow noreferrer\">tldp.org/LDP/abs/html/exitcodes.html</a>"},{"owner":{"account_id":476284,"reputation":13914,"user_id":887103,"accept_rate":48,"display_name":"Nicolas S.Xu"},"score":1,"creation_date":1430108777,"post_id":29887088,"comment_id":47898227,"body_markdown":"ahh.. so it is bash code, not code in Java program. Thanks!","body":"ahh.. so it is bash code, not code in Java program. Thanks!"},{"owner":{"account_id":3286515,"reputation":674,"user_id":2765885,"display_name":"Yang_2333"},"score":2,"creation_date":1556144093,"post_id":29887088,"comment_id":98342383,"body_markdown":"If you hit Ctrl+R to rerun the program or forcibly close the program, it&#39;s also a exit code 130, it doesn&#39;t have to be initialized by Ctrl+C, it&#39;s just a OS wide signal code to indicate that the current process has received an Terminated signal.","body":"If you hit Ctrl+R to rerun the program or forcibly close the program, it&#39;s also a exit code 130, it doesn&#39;t have to be initialized by Ctrl+C, it&#39;s just a OS wide signal code to indicate that the current process has received an Terminated signal."}],"answers":[{"tags":[],"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1651844674,"creation_date":1440814051,"answer_id":32282013,"question_id":29887088,"body_markdown":"To steal @Baby &#39;s answer from the comments and formalize it, the 130 exit code is given by [bash](https://www.gnu.org/software/bash/), and Mendel Cooper&#39;s [*Bash-Scripting Guide*][1] states that it indicates that the process was terminated by a SIGTERM. Generally this is the user pressing Ctrl-C.\r\n\r\n\r\n\r\n  [1]: http://www.tldp.org/LDP/abs/html/exitcodes.html","title":"Java program exit with code &quot;130&quot;","body":"<p>To steal @Baby 's answer from the comments and formalize it, the 130 exit code is given by <a href=\"https://www.gnu.org/software/bash/\" rel=\"noreferrer\">bash</a>, and Mendel Cooper's <a href=\"http://www.tldp.org/LDP/abs/html/exitcodes.html\" rel=\"noreferrer\"><em>Bash-Scripting Guide</em></a> states that it indicates that the process was terminated by a SIGTERM. Generally this is the user pressing Ctrl-C.</p>\n"},{"tags":[],"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681309826,"creation_date":1648103168,"answer_id":71597904,"question_id":29887088,"body_markdown":"This answer is applicable if you want to get the behavior of many native apps that return code 0 after a graceful shutdown.\r\n\r\nYou can register a hook that performs the graceful shutdown, for example releasing resources retained by the app. If the graceful shutdown succeeds, this hook can also override the exit code to 0. The hook will be called on SIGTERM (happens when the user is pressing Ctrl+C).\r\n\r\n```\r\n    Runtime.getRuntime()\r\n        .addShutdownHook(\r\n            new Thread(\r\n                () -&gt; {\r\n                  //graceful shutdown steps\r\n                  Runtime.getRuntime().halt(0); //override the exit code to 0\r\n                }));\r\n```\r\n\r\nThe solution above will prevent other hooks that may exist to run after this one. It will also prevent files to be deleted that had `.deleteOnExit()` called.\r\n\r\n\r\nAnother approach may be implementing and registering a `SecurityManager` that looks like this:\r\n\r\n```\r\n  static class Converting130To0SecurityManager extends SecurityManager {\r\n    @Override\r\n    public void checkExit(int status) {\r\n      if (status == 130) {\r\n        System.exit(0);\r\n      } else {\r\n        super.checkExit(status);\r\n      }\r\n    }\r\n\r\n    @Override\r\n    public void checkPermission(Permission perm) {\r\n      // Allow all activities by default\r\n    }\r\n  }\r\n\r\n  ...\r\n  System.setSecurityManager(new Converting130To0SecurityManager());\r\n```\r\n\r\nSuch a security manager will always transform 130 code into 0 irrespectively of the graceful shutdown.","title":"Java program exit with code &quot;130&quot;","body":"<p>This answer is applicable if you want to get the behavior of many native apps that return code 0 after a graceful shutdown.</p>\n<p>You can register a hook that performs the graceful shutdown, for example releasing resources retained by the app. If the graceful shutdown succeeds, this hook can also override the exit code to 0. The hook will be called on SIGTERM (happens when the user is pressing Ctrl+C).</p>\n<pre><code>    Runtime.getRuntime()\n        .addShutdownHook(\n            new Thread(\n                () -&gt; {\n                  //graceful shutdown steps\n                  Runtime.getRuntime().halt(0); //override the exit code to 0\n                }));\n</code></pre>\n<p>The solution above will prevent other hooks that may exist to run after this one. It will also prevent files to be deleted that had <code>.deleteOnExit()</code> called.</p>\n<p>Another approach may be implementing and registering a <code>SecurityManager</code> that looks like this:</p>\n<pre><code>  static class Converting130To0SecurityManager extends SecurityManager {\n    @Override\n    public void checkExit(int status) {\n      if (status == 130) {\n        System.exit(0);\n      } else {\n        super.checkExit(status);\n      }\n    }\n\n    @Override\n    public void checkPermission(Permission perm) {\n      // Allow all activities by default\n    }\n  }\n\n  ...\n  System.setSecurityManager(new Converting130To0SecurityManager());\n</code></pre>\n<p>Such a security manager will always transform 130 code into 0 irrespectively of the graceful shutdown.</p>\n"}],"owner":{"account_id":476284,"reputation":13914,"user_id":887103,"accept_rate":48,"display_name":"Nicolas S.Xu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72496,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":2,"score":41,"last_activity_date":1681309826,"creation_date":1430108079,"question_id":29887088,"body_markdown":"When I close a java program in intellJ, the following log appears in the console: \r\n&quot;Process finished with exit code 130&quot;\r\n\r\n\r\n![screenshot of java program exit code][1]\r\n\r\n\r\nSome times, the code is &quot;1&quot;. \r\n\r\nI know this is the very basic, but I googled Internet and still couldn&#39;t find the explanation for the exit code. \r\n\r\nWhat does the code mean? Where can I find the explanation? \r\n\r\n  [1]: http://i.stack.imgur.com/CA9Po.png","title":"Java program exit with code &quot;130&quot;","body":"<p>When I close a java program in intellJ, the following log appears in the console: \n\"Process finished with exit code 130\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/CA9Po.png\" alt=\"screenshot of java program exit code\"></p>\n\n<p>Some times, the code is \"1\". </p>\n\n<p>I know this is the very basic, but I googled Internet and still couldn't find the explanation for the exit code. </p>\n\n<p>What does the code mean? Where can I find the explanation? </p>\n"},{"tags":["java","xml","serialization","annotations","jaxb"],"owner":{"account_id":5747629,"reputation":695,"user_id":4538401,"accept_rate":75,"display_name":"Sebastian Rieger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681309702,"creation_date":1681309702,"question_id":75996662,"body_markdown":"I have the following data class which should be serialized\r\n\r\n    @XmlRootElement(name = &quot;ImportTravel&quot;)\r\n    data class ImportTravelDto(\r\n\r\n        @XmlElement(name = &quot;ProcessFirstImportdata&quot;)\r\n        var processFirstImportdata: AdpDto? = null,\r\n\r\n        @XmlElement(name = &quot;ProcessReimportdata&quot;)\r\n        var processReImportdata: AdpDto? = null,\r\n    )\r\n\r\nMy ObjectMapper looks like this:\r\n\r\n    val mapper = XmlMapper()\r\n    mapper.registerModule(JavaTimeModule())\r\n    mapper.registerModule(JaxbAnnotationModule())\r\n    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\r\nI have added the **JaxbAnnotationModule**, from the **com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.14.2** dependency, so that the mapper uses annotations like **XmlRootElement** and **XmlElement**.\r\n\r\nMy Problem is, that the XML output looks like this:\r\n\r\n    &lt;ImportTravel&gt;\r\n        &lt;processFirstImportdata&gt;\r\n            ...\r\n        &lt;/processFirstImportdata&gt;\r\n        &lt;processReImportdata&gt;\r\n            ...\r\n        &lt;/processReImportdata&gt;\r\n    &lt;/ImportTravel&gt;\r\n\r\nThe Mapper honors the **XmlRootElement** annotation but ignores the **XmlElement** annotation. \r\n\r\nI don&#39;t understand what&#39;s wrong, because both annotations are from the same package **javax.xml.bind.annotation**","title":"Kolin/Java XmlMapper doesn&#39;t honor JAXB annotations while serialization","body":"<p>I have the following data class which should be serialized</p>\n<pre><code>@XmlRootElement(name = &quot;ImportTravel&quot;)\ndata class ImportTravelDto(\n\n    @XmlElement(name = &quot;ProcessFirstImportdata&quot;)\n    var processFirstImportdata: AdpDto? = null,\n\n    @XmlElement(name = &quot;ProcessReimportdata&quot;)\n    var processReImportdata: AdpDto? = null,\n)\n</code></pre>\n<p>My ObjectMapper looks like this:</p>\n<pre><code>val mapper = XmlMapper()\nmapper.registerModule(JavaTimeModule())\nmapper.registerModule(JaxbAnnotationModule())\nmapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n</code></pre>\n<p>I have added the <strong>JaxbAnnotationModule</strong>, from the <strong>com.fasterxml.jackson.module:jackson-module-jaxb-annotations:2.14.2</strong> dependency, so that the mapper uses annotations like <strong>XmlRootElement</strong> and <strong>XmlElement</strong>.</p>\n<p>My Problem is, that the XML output looks like this:</p>\n<pre><code>&lt;ImportTravel&gt;\n    &lt;processFirstImportdata&gt;\n        ...\n    &lt;/processFirstImportdata&gt;\n    &lt;processReImportdata&gt;\n        ...\n    &lt;/processReImportdata&gt;\n&lt;/ImportTravel&gt;\n</code></pre>\n<p>The Mapper honors the <strong>XmlRootElement</strong> annotation but ignores the <strong>XmlElement</strong> annotation.</p>\n<p>I don't understand what's wrong, because both annotations are from the same package <strong>javax.xml.bind.annotation</strong></p>\n"},{"tags":["java","eclipse","eclipse-plugin","dependencies"],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1681309557,"creation_date":1274314161,"answer_id":2870272,"question_id":2869693,"body_markdown":"An Eclipse plug in project manages dependencies differently than a regular Java project.\r\n\r\nI&#39;m assuming that you&#39;re adding packages with .class files.\r\n\r\nDefine a library folder in your Eclipse plug-in project.  Copy any external classes and/or jars to the library folder.\r\n\r\nOpen up the MANIFEST.MF file under the META-INF directory.  You&#39;ll see a formatted editor with 8 tabs on the bottom.\r\n\r\nClick on the Runtime tab.  Add the external classes and/or jars in the library folder to the Classpath.  This will also add these external classes and or jars to the Java Build Path of the project.\r\n\r\nClick on the Dependencies tab, and add the other Java projects in the Imported Packages dialog.  You have to check the box labeled &quot;Show non-exported packages&quot;.  If your other Java projects are Eclipse plug ins, add them under Required Plug-ins instead.\r\n","title":"Eclipse Plugin project with other project dependencies","body":"<p>An Eclipse plug in project manages dependencies differently than a regular Java project.</p>\n<p>I'm assuming that you're adding packages with .class files.</p>\n<p>Define a library folder in your Eclipse plug-in project.  Copy any external classes and/or jars to the library folder.</p>\n<p>Open up the MANIFEST.MF file under the META-INF directory.  You'll see a formatted editor with 8 tabs on the bottom.</p>\n<p>Click on the Runtime tab.  Add the external classes and/or jars in the library folder to the Classpath.  This will also add these external classes and or jars to the Java Build Path of the project.</p>\n<p>Click on the Dependencies tab, and add the other Java projects in the Imported Packages dialog.  You have to check the box labeled &quot;Show non-exported packages&quot;.  If your other Java projects are Eclipse plug ins, add them under Required Plug-ins instead.</p>\n"},{"tags":[],"owner":{"account_id":2807027,"reputation":664,"user_id":2414073,"display_name":"Abdul Rahman K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440126907,"creation_date":1440126907,"answer_id":32131798,"question_id":2869693,"body_markdown":"In case if you&#39;re not in a position to copy the dependent project into your plugin project and you are sure about the presence of the dependent project in the target eclipse where plugin is to be installed, then you can either use \n`Runtime.exec()`  to run the Java class you want to run or `ProcessBuilder` class to run the class. \n\nLike this:\n    \n    // To compile\n    Process p = Runtime.getRuntime().exec(&quot;javac yourclass.java&quot;); \n    // To execute\n    Process p2 = Runtime.getRuntime().exec(&quot;java yourclass&quot;);\n \n\nThis may be considered in the worst case.\nI had such an experience and hence thought some may find it useful.","title":"Eclipse Plugin project with other project dependencies","body":"<p>In case if you're not in a position to copy the dependent project into your plugin project and you are sure about the presence of the dependent project in the target eclipse where plugin is to be installed, then you can either use \n<code>Runtime.exec()</code>  to run the Java class you want to run or <code>ProcessBuilder</code> class to run the class. </p>\n\n<p>Like this:</p>\n\n<pre><code>// To compile\nProcess p = Runtime.getRuntime().exec(\"javac yourclass.java\"); \n// To execute\nProcess p2 = Runtime.getRuntime().exec(\"java yourclass\");\n</code></pre>\n\n<p>This may be considered in the worst case.\nI had such an experience and hence thought some may find it useful.</p>\n"}],"owner":{"account_id":49333,"reputation":842,"user_id":146832,"accept_rate":100,"display_name":"James Hu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16516,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":2870272,"answer_count":2,"score":10,"last_activity_date":1681309557,"creation_date":1274305785,"question_id":2869693,"body_markdown":"I have an Eclipse plugin project, and it depends on other projects that I have in my Eclipse workspace. After adding the project dependencies under &quot;Java Build Path&quot; -&gt; &quot;Projects&quot; tab, and also selecting the project in the &quot;Order and Export&quot; I get a java.lang.NoClassDefFoundError.\r\n\r\nI&#39;m assuming that the other projects have not been properly included into the plugin. Does anyone know how to fix this?\r\n\r\nThanks,\r\nJames","title":"Eclipse Plugin project with other project dependencies","body":"<p>I have an Eclipse plugin project, and it depends on other projects that I have in my Eclipse workspace. After adding the project dependencies under \"Java Build Path\" -> \"Projects\" tab, and also selecting the project in the \"Order and Export\" I get a java.lang.NoClassDefFoundError.</p>\n\n<p>I'm assuming that the other projects have not been properly included into the plugin. Does anyone know how to fix this?</p>\n\n<p>Thanks,\nJames</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1365600574,"post_id":15927123,"comment_id":22688279,"body_markdown":"@kaysush what are you talking about?","body":"@kaysush what are you talking about?"}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1365600476,"creation_date":1365600476,"answer_id":15927225,"question_id":15927123,"body_markdown":"Java doesn&#39;t support C-style string-lines representation, so you could not use such multi-line style neither in annotations declarations, neither in other places of code.\r\n\r\nIf you want multiply lines of single string, you have to do something like this:\r\n\r\n    @DefaultMessage(&quot;Here is a long &quot; +\r\n            &quot;message &lt;br/&gt; with a &quot; +\r\n            &quot;param:{0}&quot;)\r\n\r\n","title":"Can a Java annotation spread over multiple lines?","body":"<p>Java doesn't support C-style string-lines representation, so you could not use such multi-line style neither in annotations declarations, neither in other places of code.</p>\n\n<p>If you want multiply lines of single string, you have to do something like this:</p>\n\n<pre><code>@DefaultMessage(\"Here is a long \" +\n        \"message &lt;br/&gt; with a \" +\n        \"param:{0}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50244,"reputation":23387,"user_id":149818,"accept_rate":74,"display_name":"Dewfy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365600590,"creation_date":1365600590,"answer_id":15927278,"question_id":15927123,"body_markdown":"Try string concatenation that is done at compile time, so:\r\n\r\n\r\n    @DefaultMessage(&quot;Here is a long&quot;+\r\n    &quot;message &lt;br/&gt; with a &quot; +\r\n    &quot;param:{0}&quot;&quot;)","title":"Can a Java annotation spread over multiple lines?","body":"<p>Try string concatenation that is done at compile time, so:</p>\n\n<pre><code>@DefaultMessage(\"Here is a long\"+\n\"message &lt;br/&gt; with a \" +\n\"param:{0}\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396643,"reputation":513,"user_id":1326281,"display_name":"Sylvain B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365601128,"creation_date":1365601128,"answer_id":15927462,"question_id":15927123,"body_markdown":"As Andremoniy said, it must be cut using Java-style.\r\n\r\nBut otherwise, I recommend you to have a look at i18nCreator. It allows you to manage your i18n in properties files and have these Messages interfaces files automatically generated:\r\nhttps://developers.google.com/web-toolkit/doc/latest/RefCommandLineTools#i18nCreator\r\n\r\n(There is also a maven plugin: http://mojo.codehaus.org/gwt-maven-plugin/user-guide/i18n.html)","title":"Can a Java annotation spread over multiple lines?","body":"<p>As Andremoniy said, it must be cut using Java-style.</p>\n\n<p>But otherwise, I recommend you to have a look at i18nCreator. It allows you to manage your i18n in properties files and have these Messages interfaces files automatically generated:\n<a href=\"https://developers.google.com/web-toolkit/doc/latest/RefCommandLineTools#i18nCreator\" rel=\"nofollow\">https://developers.google.com/web-toolkit/doc/latest/RefCommandLineTools#i18nCreator</a></p>\n\n<p>(There is also a maven plugin: <a href=\"http://mojo.codehaus.org/gwt-maven-plugin/user-guide/i18n.html\" rel=\"nofollow\">http://mojo.codehaus.org/gwt-maven-plugin/user-guide/i18n.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":14575289,"reputation":79,"user_id":10527329,"display_name":"itsapenguinmachine "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681309343,"creation_date":1681309343,"answer_id":75996607,"question_id":15927123,"body_markdown":"You can use a multiline text-block to spread a java-annotation over multiple lines. \r\n(start and end with three double-quotes)\r\n\r\nLike this:\r\n```\r\n@SomeAnnotation(&quot;&quot;&quot;\r\nThis is\r\na multiline\r\nstring\r\n&quot;&quot;&quot;)\r\n```\r\n\r\nhttps://www.baeldung.com/java-multiline-string#text-blocks ","title":"Can a Java annotation spread over multiple lines?","body":"<p>You can use a multiline text-block to spread a java-annotation over multiple lines.\n(start and end with three double-quotes)</p>\n<p>Like this:</p>\n<pre><code>@SomeAnnotation(&quot;&quot;&quot;\nThis is\na multiline\nstring\n&quot;&quot;&quot;)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-multiline-string#text-blocks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-multiline-string#text-blocks</a></p>\n"}],"owner":{"account_id":1016953,"reputation":1933,"user_id":1028314,"accept_rate":43,"display_name":"gerard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5825,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15927225,"answer_count":4,"score":3,"last_activity_date":1681309343,"creation_date":1365600199,"question_id":15927123,"body_markdown":"I use GWT I18N, which relies on annotations for messages with parameters.   \r\nExemple :\r\n        \r\n    @DefaultMessage(&quot;Here is a message &lt;br/&gt; with a param:{0}&quot;)\r\n    String messageToLocalize(String param);\r\n\r\nIn absence of a localized translation, the default message will be used.  \r\nI have some quite long strings to handle, which I would like to type in sevral lines for code readability (I don&#39;t speak about multiple lines for the rendered message).  \r\n\r\nI tried this :  \r\n        \r\n    @DefaultMessage(&quot;Here is a long \\\r\n    message &lt;br/&gt; with a \\\r\n    param:{0}&quot;)\r\n    String messageToLocalize(String param);\r\n\r\nIt fails (GWT PlugIn 4.2 and SDK 2.5.1) with an error &quot;Invalid Escape Sequence&quot;.  \r\n\r\nDid I miss something ?  \r\nIs it a constraint on Java annotations or GWT ? (I am afraid so but couldn&#39;t find anything on that)  \r\nIs there a workaround ?  \r\nThanks\r\n\r\n\r\n----------\r\nEdit : Given first answers, the question must be rephrased : is it possible, and **which character should I use to show continuation** (if any) ?   \r\nThe annotation processor obviously needs something to tell him.\r\nI tried &quot;\\&quot; because it is the char to use in property file ...  \r\n&quot;+&quot; does not work either.\r\n\r\n","title":"Can a Java annotation spread over multiple lines?","body":"<p>I use GWT I18N, which relies on annotations for messages with parameters.<br>\nExemple :</p>\n\n<pre><code>@DefaultMessage(\"Here is a message &lt;br/&gt; with a param:{0}\")\nString messageToLocalize(String param);\n</code></pre>\n\n<p>In absence of a localized translation, the default message will be used.<br>\nI have some quite long strings to handle, which I would like to type in sevral lines for code readability (I don't speak about multiple lines for the rendered message).  </p>\n\n<p>I tried this :  </p>\n\n<pre><code>@DefaultMessage(\"Here is a long \\\nmessage &lt;br/&gt; with a \\\nparam:{0}\")\nString messageToLocalize(String param);\n</code></pre>\n\n<p>It fails (GWT PlugIn 4.2 and SDK 2.5.1) with an error \"Invalid Escape Sequence\".  </p>\n\n<p>Did I miss something ?<br>\nIs it a constraint on Java annotations or GWT ? (I am afraid so but couldn't find anything on that)<br>\nIs there a workaround ?<br>\nThanks</p>\n\n<hr>\n\n<p>Edit : Given first answers, the question must be rephrased : is it possible, and <strong>which character should I use to show continuation</strong> (if any) ?<br>\nThe annotation processor obviously needs something to tell him.\nI tried \"\\\" because it is the char to use in property file ...<br>\n\"+\" does not work either.</p>\n"},{"tags":["java","spring-boot","thread-safety","locking"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681309278,"creation_date":1681309278,"answer_id":75996593,"question_id":75996382,"body_markdown":"You can simply make the field `volatile`. This still means calls to the getter will be slower but trying to twist yourself into knots setting up grievously complicated schemes to try to dance around it has one seriously nasty problem:\r\n\r\nJMM violations (Java Memory Model, the spec that explains what guarantees the JVM provides about concurrent access to fields) are __impossible__ to test.\r\n\r\nSo, you might have something that seems to work every time and then 2 years from now you redeploy your stuff on, say, an ARM chip based IAAS deployment and all of a sudden once every blue moon weird stuff happens. You&#39;re literally signing yourself up for a _month_ of bugtracking down the line. Don&#39;t get fancy with JMM issues unless you truly must, based on actual observed performance issues _and_ a profiler report indicating that indeed the problem is the fact that you have a contention-controlled lookup someplace.\r\n\r\nThus, my advice: Mark that field `volatile`.\r\n\r\n## But.. take a broader view\r\n\r\nThreading just isn&#39;t that simple. The major problem is that you can no longer think in lego bricks. Take, as a trivial example, this code:\r\n\r\n```\r\nMap&lt;Integer, String&gt; numberNames = ....;\r\nif (!numberNames.containsKey(5)) {\r\n  numberNames.put(5, callTranslationService(&quot;five&quot;));\r\n}\r\n```\r\n\r\nHas a problem: __You cannot make it thread safe the way you are doing it__ - you want the above operation to be on its own atomic, and because it calls 2 separate methods on the map, it cannot be made atomic by simply ensuring each individual method is &#39;safe&#39;.\r\n\r\nWithout theading, you can think in lego bricks: We have the `containsKey` brick and the `put` brick and we click them together to make this feature. But when threading is involved you can no longer think that way. Instead you have to consider the whole operation as a single concept. Hence, it is __not possible__ to make the above code threadsafe at the lego brick level. Instead you have to reimagine the API and ensure this thing is a single lego brick, which is actually what the Map interface has done since.. java 8, I think:\r\n\r\n```\r\nnumberNames.computeIfAbsent(5, k -&gt; callTranslationService(&quot;five&quot;));\r\n```\r\n\r\n- this doesn&#39;t mean `computeIfAbsent` is threadsafe on a `HashMap` (it is not!!), but that, given that it is a single lego brick, it is now conceivable to write an implementation of the map interface that _could be_ threadsafe even if the callers don&#39;t do any locking. And, indeed, `j.u.c.ConcurrentMap` _is_ threadsafe when you write it with `computeIfAbsent` and is not when you use `containsKey` + `put`.\r\n\r\nThe other alternative is that the caller does it, e.g:\r\n\r\n```\r\nsynchronized (someLock) {\r\n  if (!map.containsKey(5)) {\r\n    map.put(5, callTranslationService(&quot;five&quot;));\r\n  }\r\n}\r\n```\r\n\r\ncan also be fine.\r\n\r\nThe point is, if locking is relevant, it is extremely likely &#39;just figure out how to ensure each individual method in my API is threadsafe&#39; is __not__ a suitable answer. It is possible that your configuration object can &#39;get away with it&#39; (which effectively means: Every operation you can do with this API is always just one lego brick, it is never a sequence of calls which need to give consistent results), but I doubt it: Imagine some code needs __2__ config properties to make a decision about what to do: Now &#39;just make all fields `volatile` and call it a day&#39; is no longer suitable. Because that does not, and cannot be adapted to, provide a consistent answer. After all, if you did that, the following could happen:\r\n\r\n* Property A is currently 1, and property B is currently 2.\r\n* Thread X Reads property A. Value read is 1.\r\n* Thread Y triggers a full config reload\r\n* this overwrites both A and B; they are currently 10 and 20.\r\n* Thread X reads property B. Value read is 20.\r\n\r\nThread X now has values 1 and 20. However, this is inconsistent: No config file has ever existed with A/B having values 1/20. There&#39;s only the world where it was 1/2, and the world where it was 10/20.\r\n\r\nThus, we get to the final answer:\r\n\r\n## The in depth answer\r\n\r\n* It is likely you need to thoroughly reconsider all of this, and the locking mechanism (or other &#39;consistency&#39; concept you want to introduce here) needs to be done at a completely different level. This part also involves writing documentation explaining the specifics, and how you intend for callers to use your config object so they get consistent answers.\r\n* ... but in the somewhat unlikely case you conclude there is no need for that, or you document explicitly that no consistency guarantees are possible and thus you let the callers figure it out... just mark the fields as `volatile`, easy fix.\r\n","title":"Making Configuration thread safe using locking in Java","body":"<p>You can simply make the field <code>volatile</code>. This still means calls to the getter will be slower but trying to twist yourself into knots setting up grievously complicated schemes to try to dance around it has one seriously nasty problem:</p>\n<p>JMM violations (Java Memory Model, the spec that explains what guarantees the JVM provides about concurrent access to fields) are <strong>impossible</strong> to test.</p>\n<p>So, you might have something that seems to work every time and then 2 years from now you redeploy your stuff on, say, an ARM chip based IAAS deployment and all of a sudden once every blue moon weird stuff happens. You're literally signing yourself up for a <em>month</em> of bugtracking down the line. Don't get fancy with JMM issues unless you truly must, based on actual observed performance issues <em>and</em> a profiler report indicating that indeed the problem is the fact that you have a contention-controlled lookup someplace.</p>\n<p>Thus, my advice: Mark that field <code>volatile</code>.</p>\n<h2>But.. take a broader view</h2>\n<p>Threading just isn't that simple. The major problem is that you can no longer think in lego bricks. Take, as a trivial example, this code:</p>\n<pre><code>Map&lt;Integer, String&gt; numberNames = ....;\nif (!numberNames.containsKey(5)) {\n  numberNames.put(5, callTranslationService(&quot;five&quot;));\n}\n</code></pre>\n<p>Has a problem: <strong>You cannot make it thread safe the way you are doing it</strong> - you want the above operation to be on its own atomic, and because it calls 2 separate methods on the map, it cannot be made atomic by simply ensuring each individual method is 'safe'.</p>\n<p>Without theading, you can think in lego bricks: We have the <code>containsKey</code> brick and the <code>put</code> brick and we click them together to make this feature. But when threading is involved you can no longer think that way. Instead you have to consider the whole operation as a single concept. Hence, it is <strong>not possible</strong> to make the above code threadsafe at the lego brick level. Instead you have to reimagine the API and ensure this thing is a single lego brick, which is actually what the Map interface has done since.. java 8, I think:</p>\n<pre><code>numberNames.computeIfAbsent(5, k -&gt; callTranslationService(&quot;five&quot;));\n</code></pre>\n<ul>\n<li>this doesn't mean <code>computeIfAbsent</code> is threadsafe on a <code>HashMap</code> (it is not!!), but that, given that it is a single lego brick, it is now conceivable to write an implementation of the map interface that <em>could be</em> threadsafe even if the callers don't do any locking. And, indeed, <code>j.u.c.ConcurrentMap</code> <em>is</em> threadsafe when you write it with <code>computeIfAbsent</code> and is not when you use <code>containsKey</code> + <code>put</code>.</li>\n</ul>\n<p>The other alternative is that the caller does it, e.g:</p>\n<pre><code>synchronized (someLock) {\n  if (!map.containsKey(5)) {\n    map.put(5, callTranslationService(&quot;five&quot;));\n  }\n}\n</code></pre>\n<p>can also be fine.</p>\n<p>The point is, if locking is relevant, it is extremely likely 'just figure out how to ensure each individual method in my API is threadsafe' is <strong>not</strong> a suitable answer. It is possible that your configuration object can 'get away with it' (which effectively means: Every operation you can do with this API is always just one lego brick, it is never a sequence of calls which need to give consistent results), but I doubt it: Imagine some code needs <strong>2</strong> config properties to make a decision about what to do: Now 'just make all fields <code>volatile</code> and call it a day' is no longer suitable. Because that does not, and cannot be adapted to, provide a consistent answer. After all, if you did that, the following could happen:</p>\n<ul>\n<li>Property A is currently 1, and property B is currently 2.</li>\n<li>Thread X Reads property A. Value read is 1.</li>\n<li>Thread Y triggers a full config reload</li>\n<li>this overwrites both A and B; they are currently 10 and 20.</li>\n<li>Thread X reads property B. Value read is 20.</li>\n</ul>\n<p>Thread X now has values 1 and 20. However, this is inconsistent: No config file has ever existed with A/B having values 1/20. There's only the world where it was 1/2, and the world where it was 10/20.</p>\n<p>Thus, we get to the final answer:</p>\n<h2>The in depth answer</h2>\n<ul>\n<li>It is likely you need to thoroughly reconsider all of this, and the locking mechanism (or other 'consistency' concept you want to introduce here) needs to be done at a completely different level. This part also involves writing documentation explaining the specifics, and how you intend for callers to use your config object so they get consistent answers.</li>\n<li>... but in the somewhat unlikely case you conclude there is no need for that, or you document explicitly that no consistency guarantees are possible and thus you let the callers figure it out... just mark the fields as <code>volatile</code>, easy fix.</li>\n</ul>\n"}],"owner":{"account_id":27230621,"reputation":33,"user_id":20758387,"display_name":"CurvedHalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681309278,"creation_date":1681308080,"question_id":75996382,"body_markdown":"I have a configuration bean which stores some default values which are read from a .properties file. The values are then updated based on a REST request, and these can be refreshed at any time. \r\n\r\nI have a multi-thread application, so in theory the values of this configuration bean may be *read* many times per second, while the values will only need to be *written to* on a very infrequent basis. \r\n\r\nCurrently the &#39;read&#39; is just using a conventional ``@Getter`` but I could write a method to access the values of this bean if required. \r\n\r\nHow best should I make this thread-safe? I&#39;ve read about re-entrant locking, and synchronized methods, but these (particularly the latter) seem like overkill here?\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;configuration.default.values&quot;)\r\npublic class ConfigurationBean {\r\n\r\n    @Getter\r\n    @Setter\r\n    private Map&lt;String, String&gt; configValues;\r\n\r\n    @PostConstruct\r\n    private void updateConfigValuesRealTime(){\r\n        // initially carry out REST request to update default config values to real ones\r\n        refreshValuesFromRESTCall();\r\n    }\r\n\r\n    public void refreshValuesFromRESTCall(){\r\n       // Publicly accessibly method to carry out a REST call to refresh the values of the config bean. \r\n        this.configValues = client.downstreamCall();\r\n    }\r\n}\r\n```","title":"Making Configuration thread safe using locking in Java","body":"<p>I have a configuration bean which stores some default values which are read from a .properties file. The values are then updated based on a REST request, and these can be refreshed at any time.</p>\n<p>I have a multi-thread application, so in theory the values of this configuration bean may be <em>read</em> many times per second, while the values will only need to be <em>written to</em> on a very infrequent basis.</p>\n<p>Currently the 'read' is just using a conventional <code>@Getter</code> but I could write a method to access the values of this bean if required.</p>\n<p>How best should I make this thread-safe? I've read about re-entrant locking, and synchronized methods, but these (particularly the latter) seem like overkill here?</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;configuration.default.values&quot;)\npublic class ConfigurationBean {\n\n    @Getter\n    @Setter\n    private Map&lt;String, String&gt; configValues;\n\n    @PostConstruct\n    private void updateConfigValuesRealTime(){\n        // initially carry out REST request to update default config values to real ones\n        refreshValuesFromRESTCall();\n    }\n\n    public void refreshValuesFromRESTCall(){\n       // Publicly accessibly method to carry out a REST call to refresh the values of the config bean. \n        this.configValues = client.downstreamCall();\n    }\n}\n</code></pre>\n"},{"tags":["java","closeablehttpresponse"],"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1681311915,"post_id":75996585,"comment_id":134036699,"body_markdown":"forget it. you should NOT think of such a destructive way like cloning a `read-once` resource. it would be much more productive to rework your code and actually read it only once.","body":"forget it. you should NOT think of such a destructive way like cloning a <code>read-once</code> resource. it would be much more productive to rework your code and actually read it only once."}],"owner":{"account_id":23967182,"reputation":21,"user_id":17956493,"display_name":"Gopal Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681309242,"creation_date":1681309242,"question_id":75996585,"body_markdown":"I have used CloseableHttpResponse and CloseableHttpClient to make API calls.\r\n` CloseableHttpResponse response = httpClient.execute(httpRequest);`\r\n\r\nIn one method I am reading the contents of the response as:\r\n`String eventJson = IOUtils.toString(response.getEntity().getContent(),\r\n            Charset.defaultCharset());`\r\nAlso, I want to return this response and again read data in another method. \r\n\r\nI will have to return response object due to my requirements and I cannot return stream or string. Again I need to read the content twice in two separate methods.\r\n\r\nI already tried storing the contents in byte array and stuffs, but the issue is we cannot read the content from response twice. \r\n\r\nI searched about some wrapper class and how can I clone the response object. I even tried to implement my own class for cloning HttpResponse but that doesn&#39;t seem to be possible.","title":"How to clone CloseableHttpResponse object in Java","body":"<p>I have used CloseableHttpResponse and CloseableHttpClient to make API calls.\n<code> CloseableHttpResponse response = httpClient.execute(httpRequest);</code></p>\n<p>In one method I am reading the contents of the response as:\n<code>String eventJson = IOUtils.toString(response.getEntity().getContent(), Charset.defaultCharset());</code>\nAlso, I want to return this response and again read data in another method.</p>\n<p>I will have to return response object due to my requirements and I cannot return stream or string. Again I need to read the content twice in two separate methods.</p>\n<p>I already tried storing the contents in byte array and stuffs, but the issue is we cannot read the content from response twice.</p>\n<p>I searched about some wrapper class and how can I clone the response object. I even tried to implement my own class for cloning HttpResponse but that doesn't seem to be possible.</p>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1681309693,"post_id":75996582,"comment_id":134036035,"body_markdown":"You open a transaction in `ImportProductDAL`. Is this transaction ever committed?","body":"You open a transaction in <code>ImportProductDAL</code>. Is this transaction ever committed?"},{"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phạm Ph&#250; Kh&#225;nh"},"score":0,"creation_date":1681439102,"post_id":75996582,"comment_id":134060075,"body_markdown":"I&#39;m not getting what you are asking","body":"I&#39;m not getting what you are asking"}],"owner":{"account_id":23656134,"reputation":23,"user_id":17684402,"display_name":"Phạm Ph&#250; Kh&#225;nh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681309220,"creation_date":1681309220,"question_id":75996582,"body_markdown":"I&#39;m new to Hibernate framework and having 3 layers of code for adding a new `Category` object to the database, say:\r\n\r\n**The DAL class with its constructor:**\r\n\r\n```\r\npublic class ImportProductDAL {\r\n    private Session session;\r\n\r\n    public ImportProductDAL() {\r\n        session = HibernateUtil.getSessionFactory().openSession();\r\n        session.beginTransaction();\r\n    }\r\n...\r\n}\r\n```\r\n\r\nMy method for getting the list of `Category`:\r\n\r\n```\r\npublic ArrayList&lt;Category&gt; categoryList(){\r\n        Query query = session.createQuery(&quot;from Category&quot;, Category.class);\r\n        ArrayList&lt;Category&gt; categories = (ArrayList&lt;Category&gt;) query.list();\r\n        return categories;\r\n    }\r\n```\r\n\r\nAnd a method for creating a new `Category`:\r\n\r\n```\r\npublic boolean createCategory(Category c) {\r\n        session.persist(c);\r\n        session.flush();\r\n        session.clear();\r\n        return session.getTransaction().getStatus() == TransactionStatus.COMMITTED;\r\n    }\r\n```\r\n\r\n**My BLL class contains similar methods such as:**\r\n\r\n```\r\npublic ArrayList&lt;Category&gt; catgoryList(){\r\n        return ipDAL.categoryList();\r\n}\r\n```\r\n\r\nAnd:\r\n\r\n```\r\npublic boolean createCategory(Category c){\r\n        return ipDAL.createCategory(c);\r\n}\r\n```\r\n\r\n**In my UI class:**\r\n\r\n```\r\nprivate void categoryList() {\r\n        table.setModel(model(ipBLL.catgoryList()));\r\n}\r\n```\r\n\r\nAnd\r\n\r\n```\r\nprivate DefaultTableModel model(ArrayList list) {\r\n        String[] columnNames = {&quot;ID&quot;, &quot;Category Name&quot;, &quot;Description&quot;};\r\n        Object[][] data = new Object[list.size()][3];\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            Category category = (Category) list.get(i);\r\n            data[i][0] = category.getCatagoryID();\r\n            data[i][1] = category.getName();\r\n            data[i][2] = category.getDescription();\r\n        }\r\n        DefaultTableModel model = new DefaultTableModel(data, columnNames);\r\n        return model;\r\n}\r\n```\r\n\r\nAnd an event when I click the &quot;Add&quot; button:\r\n\r\n```\r\nprivate void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        if (!txtCategory.getText().trim().equals(&quot;&quot;) &amp;&amp; !txtDescription.getText().trim().equals(&quot;&quot;)) {\r\n            Category newCategory = new Category();\r\n            newCategory.setName(txtCategory.getText());\r\n            newCategory.setDescription(txtDescription.getText());\r\n\r\n            int result = JOptionPane.showConfirmDialog(this, &quot;Add new category?&quot;,\r\n                    &quot;Confimation&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.QUESTION_MESSAGE);\r\n            if (result == JOptionPane.YES_OPTION) {\r\n                if (ipBLL.createCategory(newCategory)) {\r\n                    JOptionPane.showMessageDialog(this,\r\n                            &quot;Category added successfully!&quot;);\r\n                    categoryList();\r\n                }\r\n            }\r\n\r\n        }\r\n}\r\n```\r\n\r\nI am expecting whenever I click on the button, it will add a new record to the database and display the list on my table in the UI class. It did add a new record to the database but didn&#39;t display the updated table. I have to run my program again to see the result I want. It could be the usage of `flush()` or `clear()` method.\r\n\r\nI have read bunch of questions on stackoverflow but it seems like I have tried everything I could.\r\n\r\nWhat am I missing here? Please guide me.","title":"Hibernate Framework - Display records after adding (or affecting) data of the database","body":"<p>I'm new to Hibernate framework and having 3 layers of code for adding a new <code>Category</code> object to the database, say:</p>\n<p><strong>The DAL class with its constructor:</strong></p>\n<pre><code>public class ImportProductDAL {\n    private Session session;\n\n    public ImportProductDAL() {\n        session = HibernateUtil.getSessionFactory().openSession();\n        session.beginTransaction();\n    }\n...\n}\n</code></pre>\n<p>My method for getting the list of <code>Category</code>:</p>\n<pre><code>public ArrayList&lt;Category&gt; categoryList(){\n        Query query = session.createQuery(&quot;from Category&quot;, Category.class);\n        ArrayList&lt;Category&gt; categories = (ArrayList&lt;Category&gt;) query.list();\n        return categories;\n    }\n</code></pre>\n<p>And a method for creating a new <code>Category</code>:</p>\n<pre><code>public boolean createCategory(Category c) {\n        session.persist(c);\n        session.flush();\n        session.clear();\n        return session.getTransaction().getStatus() == TransactionStatus.COMMITTED;\n    }\n</code></pre>\n<p><strong>My BLL class contains similar methods such as:</strong></p>\n<pre><code>public ArrayList&lt;Category&gt; catgoryList(){\n        return ipDAL.categoryList();\n}\n</code></pre>\n<p>And:</p>\n<pre><code>public boolean createCategory(Category c){\n        return ipDAL.createCategory(c);\n}\n</code></pre>\n<p><strong>In my UI class:</strong></p>\n<pre><code>private void categoryList() {\n        table.setModel(model(ipBLL.catgoryList()));\n}\n</code></pre>\n<p>And</p>\n<pre><code>private DefaultTableModel model(ArrayList list) {\n        String[] columnNames = {&quot;ID&quot;, &quot;Category Name&quot;, &quot;Description&quot;};\n        Object[][] data = new Object[list.size()][3];\n        for (int i = 0; i &lt; list.size(); i++) {\n            Category category = (Category) list.get(i);\n            data[i][0] = category.getCatagoryID();\n            data[i][1] = category.getName();\n            data[i][2] = category.getDescription();\n        }\n        DefaultTableModel model = new DefaultTableModel(data, columnNames);\n        return model;\n}\n</code></pre>\n<p>And an event when I click the &quot;Add&quot; button:</p>\n<pre><code>private void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        if (!txtCategory.getText().trim().equals(&quot;&quot;) &amp;&amp; !txtDescription.getText().trim().equals(&quot;&quot;)) {\n            Category newCategory = new Category();\n            newCategory.setName(txtCategory.getText());\n            newCategory.setDescription(txtDescription.getText());\n\n            int result = JOptionPane.showConfirmDialog(this, &quot;Add new category?&quot;,\n                    &quot;Confimation&quot;,\n                    JOptionPane.YES_NO_OPTION,\n                    JOptionPane.QUESTION_MESSAGE);\n            if (result == JOptionPane.YES_OPTION) {\n                if (ipBLL.createCategory(newCategory)) {\n                    JOptionPane.showMessageDialog(this,\n                            &quot;Category added successfully!&quot;);\n                    categoryList();\n                }\n            }\n\n        }\n}\n</code></pre>\n<p>I am expecting whenever I click on the button, it will add a new record to the database and display the list on my table in the UI class. It did add a new record to the database but didn't display the updated table. I have to run my program again to see the result I want. It could be the usage of <code>flush()</code> or <code>clear()</code> method.</p>\n<p>I have read bunch of questions on stackoverflow but it seems like I have tried everything I could.</p>\n<p>What am I missing here? Please guide me.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1681306607,"post_id":75995989,"comment_id":134035130,"body_markdown":"Looks like you should rethink the inheretance. Maybe you need a `GenericConcontroller`, which do not have the index method and extend a `GenericControllerWithIndex` wich implements this method. Amd than extend the concrete Controller from this one you need","body":"Looks like you should rethink the inheretance. Maybe you need a <code>GenericConcontroller</code>, which do not have the index method and extend a <code>GenericControllerWithIndex</code> wich implements this method. Amd than extend the concrete Controller from this one you need"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1681306650,"post_id":75995989,"comment_id":134035147,"body_markdown":"BTW: `@Deprecated` and `@Override` are only compile time annotations and do nothing at runtime","body":"BTW: <code>@Deprecated</code> and <code>@Override</code> are only compile time annotations and do nothing at runtime"}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681308538,"creation_date":1681308538,"answer_id":75996468,"question_id":75995989,"body_markdown":"Try to add `params` attribute to `@GetMapping` annotation in overloaded method:\r\n```\r\n@GetMapping(params = {&quot;page&quot;})\r\n@ResponseStatus(HttpStatus.OK)\r\npublic List&lt;LevelResponse&gt; index(@RequestParam(defaultValue = &quot;0&quot;) Integer page) {\r\n    return service.index(page);\r\n}\r\n```\r\n\r\nSee similar question: https://stackoverflow.com/q/30380498/2078908","title":"Spring Boot - How to remove RequestMapping from inherited method","body":"<p>Try to add <code>params</code> attribute to <code>@GetMapping</code> annotation in overloaded method:</p>\n<pre><code>@GetMapping(params = {&quot;page&quot;})\n@ResponseStatus(HttpStatus.OK)\npublic List&lt;LevelResponse&gt; index(@RequestParam(defaultValue = &quot;0&quot;) Integer page) {\n    return service.index(page);\n}\n</code></pre>\n<p>See similar question: <a href=\"https://stackoverflow.com/q/30380498/2078908\">Overload Controller Method in Java Spring</a></p>\n"},{"tags":[],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681308937,"creation_date":1681308937,"answer_id":75996526,"question_id":75995989,"body_markdown":"As mentionned in the answer by @ursa, I can use *RequestMapping Overloading* as a work around. \r\n\r\nAs the RequestMapping enbales the creation of multiple functions to deal with the different RequestParams. I was able to redefine the original `index` function to only deal with a placeholder param as follows\r\n\r\n```java\r\n    @Deprecated\r\n    @GetMapping(params = {&quot;deprecated&quot;})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @Override\r\n    public List&lt;ItemResponse&gt; index() {\r\n        return super.index();\r\n    }\r\n```\r\nIn this way I can use the default mapping as I need\r\n```java\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;ItemResponse&gt; index(...params) {\r\n        return service.index(departmentId);\r\n    }\r\n```\r\nIt does not remove the old implementation completely but it constraints it to the use of the param `deprecated` which can actually be useful","title":"Spring Boot - How to remove RequestMapping from inherited method","body":"<p>As mentionned in the answer by @ursa, I can use <em>RequestMapping Overloading</em> as a work around.</p>\n<p>As the RequestMapping enbales the creation of multiple functions to deal with the different RequestParams. I was able to redefine the original <code>index</code> function to only deal with a placeholder param as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Deprecated\n    @GetMapping(params = {&quot;deprecated&quot;})\n    @ResponseStatus(HttpStatus.OK)\n    @Override\n    public List&lt;ItemResponse&gt; index() {\n        return super.index();\n    }\n</code></pre>\n<p>In this way I can use the default mapping as I need</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;ItemResponse&gt; index(...params) {\n        return service.index(departmentId);\n    }\n</code></pre>\n<p>It does not remove the old implementation completely but it constraints it to the use of the param <code>deprecated</code> which can actually be useful</p>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75996526,"answer_count":2,"score":0,"last_activity_date":1681308937,"creation_date":1681305697,"question_id":75995989,"body_markdown":"I have very standard APIs so I&#39;ve created a generic controller to do the mapping (*Controllers* are used only for mapping to URLs, anything else is dealt with inside the *Service* classes). \r\nHere is a simplified version of my controller\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic abstract class Controller&lt;Entity, Id, BrowseResponse, ShowResponse, Request,\r\n    Repository extends com.example.repositories.Repository&lt;Entity, Id&gt;,\r\n    Service extends com.example.services.Service&lt;Entity, Id, BrowseResponse, ShowResponse, Request, Repository&gt;&gt; {\r\n\r\n    protected final Service service;\r\n\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;BrowseResponse&gt; index() {\r\n        return service.index();\r\n    }\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void create(@Valid @RequestBody Request request) {\r\n        service.create(request);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public ShowResponse show(@PathVariable Id id) {\r\n        return service.show(id);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public void update(@Valid @RequestBody Request request, @PathVariable Id id) {\r\n        service.update(request, id);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void delete(@PathVariable Id id) {\r\n        service.delete(id);\r\n    }\r\n}\r\n``` \r\n\r\nWith this approach I can create a concrete Controller with less code like the following\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/items&quot;)\r\npublic class ItemController extends Controller&lt;Item, Long, ItemBrowseResponse, ItemShowResponse, ItemRequest, ItemRepository, ItemService&gt; {\r\n    public ItemController(ItemService service) {\r\n        super(service);\r\n    }\r\n```\r\nCool now I have all methods mapped correctly with out having to write them all.\r\nmy problem is that I have a single use case where I need to get a `RequestParam` in my *index* function. Example: get the param *page* if I&#39;m using *Pagination*\r\n\r\n\r\nSo now if I redefine `index` function like this \r\n```java\r\n@GetMapping\r\n@ResponseStatus(HttpStatus.OK)\r\npublic List&lt;LevelResponse&gt; index(@RequestParam(defaultValue = &quot;0&quot;) Integer page) {\r\n    return service.index(page);\r\n} \r\n```\r\nI get an error creating the bean\r\n&gt; There is already &#39;itemController&#39; bean method\r\n\r\nI tried overriding the default function like this\r\n```java\r\n@Deprecated\r\n@Override\r\npublic List&lt;LevelResponse&gt; index() {\r\n    return super.index();\r\n}\r\n```\r\nYet the error still exists.\r\n\r\nHow can I remove the mapping from the inherited method? \r\n\r\n*Note*: NOT using the the generic *Controller* is not recommanded as re-implementing all methods would be a nightmare","title":"Spring Boot - How to remove RequestMapping from inherited method","body":"<p>I have very standard APIs so I've created a generic controller to do the mapping (<em>Controllers</em> are used only for mapping to URLs, anything else is dealt with inside the <em>Service</em> classes).\nHere is a simplified version of my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\npublic abstract class Controller&lt;Entity, Id, BrowseResponse, ShowResponse, Request,\n    Repository extends com.example.repositories.Repository&lt;Entity, Id&gt;,\n    Service extends com.example.services.Service&lt;Entity, Id, BrowseResponse, ShowResponse, Request, Repository&gt;&gt; {\n\n    protected final Service service;\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;BrowseResponse&gt; index() {\n        return service.index();\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.OK)\n    public void create(@Valid @RequestBody Request request) {\n        service.create(request);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public ShowResponse show(@PathVariable Id id) {\n        return service.show(id);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public void update(@Valid @RequestBody Request request, @PathVariable Id id) {\n        service.update(request, id);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public void delete(@PathVariable Id id) {\n        service.delete(id);\n    }\n}\n</code></pre>\n<p>With this approach I can create a concrete Controller with less code like the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/items&quot;)\npublic class ItemController extends Controller&lt;Item, Long, ItemBrowseResponse, ItemShowResponse, ItemRequest, ItemRepository, ItemService&gt; {\n    public ItemController(ItemService service) {\n        super(service);\n    }\n</code></pre>\n<p>Cool now I have all methods mapped correctly with out having to write them all.\nmy problem is that I have a single use case where I need to get a <code>RequestParam</code> in my <em>index</em> function. Example: get the param <em>page</em> if I'm using <em>Pagination</em></p>\n<p>So now if I redefine <code>index</code> function like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\n@ResponseStatus(HttpStatus.OK)\npublic List&lt;LevelResponse&gt; index(@RequestParam(defaultValue = &quot;0&quot;) Integer page) {\n    return service.index(page);\n} \n</code></pre>\n<p>I get an error creating the bean</p>\n<blockquote>\n<p>There is already 'itemController' bean method</p>\n</blockquote>\n<p>I tried overriding the default function like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Deprecated\n@Override\npublic List&lt;LevelResponse&gt; index() {\n    return super.index();\n}\n</code></pre>\n<p>Yet the error still exists.</p>\n<p>How can I remove the mapping from the inherited method?</p>\n<p><em>Note</em>: NOT using the the generic <em>Controller</em> is not recommanded as re-implementing all methods would be a nightmare</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":21106769,"reputation":27,"user_id":15515589,"display_name":"Hemant singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681308864,"creation_date":1681307135,"question_id":75996203,"body_markdown":"```update team set  PRODUCT_SUB_PRODUCT=JSON_REMOVE(PRODUCT_SUB_PRODUCT,JSON_UNQUOTE(JSON_SEARCH(PRODUCT_SUB_PRODUCT, &#39;all&#39;, \\&quot;?3\\&quot; ))) where tenant = ?1 and  BUSINESS_UNIT_ID = ?2 and&quot; JSON_CONTAINS(PRODUCT_SUB_PRODUCT,&#39;{\\&quot;product\\&quot;: \\&quot;?3\\&quot;}&#39;)```\r\n\r\nmy method Has 3 parms \r\nvoid removeProduct(Long tenant,Long buId, Long productId);\r\n\r\noutput : update\r\n        team_business_unit_association \r\n    set\r\n        PRODUCT_SUB_PRODUCT=JSON_REMOVE(PRODUCT_SUB_PRODUCT,\r\n        JSON_UNQUOTE(JSON_SEARCH(PRODUCT_SUB_PRODUCT,\r\n        &#39;all&#39;,\r\n        &quot;?3&quot; ))) \r\n    where\r\n        tenant = ? \r\n        and  BU_ID = ? \r\n        and JSON_CONTAINS(PRODUCT_SUB_PRODUCT,&#39;{&quot;product&quot;: &quot;?3&quot;}&#39;);\r\n\r\nand the Binding params are only two\r\nbinding parameter [1] as [BIGINT] - [221]\r\nbinding parameter [2] as [BIGINT] - [1194]\r\n\r\nit is not considering the 3rd param which is product id\r\n\r\nSCEMA IN DB:\r\n``[{&quot;product&quot;: &quot;30485&quot;, &quot;subProduct&quot;: [], &quot;accessOnAllSubProdcut&quot;: false}]``\r\n\r\n\r\ni tried using named parameters but that also did not work","title":"Spring Data Jpa TO Dynamically Set JSON_CONTAIN Literral","body":"<p><code>update team set  PRODUCT_SUB_PRODUCT=JSON_REMOVE(PRODUCT_SUB_PRODUCT,JSON_UNQUOTE(JSON_SEARCH(PRODUCT_SUB_PRODUCT, 'all', \\&quot;?3\\&quot; ))) where tenant = ?1 and  BUSINESS_UNIT_ID = ?2 and&quot; JSON_CONTAINS(PRODUCT_SUB_PRODUCT,'{\\&quot;product\\&quot;: \\&quot;?3\\&quot;}')</code></p>\n<p>my method Has 3 parms\nvoid removeProduct(Long tenant,Long buId, Long productId);</p>\n<p>output : update\nteam_business_unit_association\nset\nPRODUCT_SUB_PRODUCT=JSON_REMOVE(PRODUCT_SUB_PRODUCT,\nJSON_UNQUOTE(JSON_SEARCH(PRODUCT_SUB_PRODUCT,\n'all',\n&quot;?3&quot; )))\nwhere\ntenant = ?\nand  BU_ID = ?\nand JSON_CONTAINS(PRODUCT_SUB_PRODUCT,'{&quot;product&quot;: &quot;?3&quot;}');</p>\n<p>and the Binding params are only two\nbinding parameter [1] as [BIGINT] - [221]\nbinding parameter [2] as [BIGINT] - [1194]</p>\n<p>it is not considering the 3rd param which is product id</p>\n<p>SCEMA IN DB:\n<code>[{&quot;product&quot;: &quot;30485&quot;, &quot;subProduct&quot;: [], &quot;accessOnAllSubProdcut&quot;: false}]</code></p>\n<p>i tried using named parameters but that also did not work</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1458144733,"creation_date":1458144733,"answer_id":36041139,"question_id":36040945,"body_markdown":"You can do that with a grouping collector:\r\n\r\n\tMap&lt;String, Employee&gt; topEmployees =\r\n\t\tallEmployees.stream()\r\n\t\t\t\t\t.collect(groupingBy(\r\n\t\t\t\t\t\te -&gt; e.department,\r\n\t\t\t\t\t\tcollectingAndThen(maxBy(comparingInt(e -&gt; e.salary)), Optional::get) \r\n\t\t\t\t\t));\r\n\r\nwith the static imports \r\n\r\n    import static java.util.Comparator.comparingInt;\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    import static java.util.stream.Collectors.maxBy;\r\n\r\nThis code creates a `Stream` of all the employees and groups them with their department with the help of [`Collectors.groupingBy`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-). For all the values classified to the same key, we need to keep only the employee with the maximum salary, so we collect them with [`Collectors.maxBy`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#maxBy-java.util.Comparator-) and the comparator compares the salary with [`Comparator.comparingInt`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-). Since `maxBy` returns an `Optional&lt;Employee&gt;` (to handle the case where there the list is empty), we wrap it with a call to [`Collectors.collectingAndThen`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-) with a finisher that just returns the employee: we know in this case that the optional won&#39;t be empty.","title":"Java 8 lambda for selecting top salary employee for each department","body":"<p>You can do that with a grouping collector:</p>\n\n<pre><code>Map&lt;String, Employee&gt; topEmployees =\n    allEmployees.stream()\n                .collect(groupingBy(\n                    e -&gt; e.department,\n                    collectingAndThen(maxBy(comparingInt(e -&gt; e.salary)), Optional::get) \n                ));\n</code></pre>\n\n<p>with the static imports </p>\n\n<pre><code>import static java.util.Comparator.comparingInt;\nimport static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.maxBy;\n</code></pre>\n\n<p>This code creates a <code>Stream</code> of all the employees and groups them with their department with the help of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"noreferrer\"><code>Collectors.groupingBy</code></a>. For all the values classified to the same key, we need to keep only the employee with the maximum salary, so we collect them with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#maxBy-java.util.Comparator-\" rel=\"noreferrer\"><code>Collectors.maxBy</code></a> and the comparator compares the salary with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Comparator.comparingInt</code></a>. Since <code>maxBy</code> returns an <code>Optional&lt;Employee&gt;</code> (to handle the case where there the list is empty), we wrap it with a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#collectingAndThen-java.util.stream.Collector-java.util.function.Function-\" rel=\"noreferrer\"><code>Collectors.collectingAndThen</code></a> with a finisher that just returns the employee: we know in this case that the optional won't be empty.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1458145440,"creation_date":1458145440,"answer_id":36041403,"question_id":36040945,"body_markdown":"Alternative solution:\r\n\r\n    Map&lt;String, Employee&gt; topEmployees =\r\n        allEmployees.stream()\r\n                .collect(Collectors.toMap(\r\n                    e -&gt; e.department,\r\n                    e -&gt; e,\r\n                    BinaryOperator.maxBy(Comparator.comparingInt(e -&gt; e.salary)) \r\n                ));\r\n\r\nWhen we encounter the first employee from the department, we add a new entry to the `Map`. When another employee is found, one with higher salary is kept. This way you don&#39;t need to meddle with optionals.","title":"Java 8 lambda for selecting top salary employee for each department","body":"<p>Alternative solution:</p>\n\n<pre><code>Map&lt;String, Employee&gt; topEmployees =\n    allEmployees.stream()\n            .collect(Collectors.toMap(\n                e -&gt; e.department,\n                e -&gt; e,\n                BinaryOperator.maxBy(Comparator.comparingInt(e -&gt; e.salary)) \n            ));\n</code></pre>\n\n<p>When we encounter the first employee from the department, we add a new entry to the <code>Map</code>. When another employee is found, one with higher salary is kept. This way you don't need to meddle with optionals.</p>\n"},{"tags":[],"owner":{"account_id":3316240,"reputation":303,"user_id":2788547,"display_name":"Aniket"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557419207,"creation_date":1557419207,"answer_id":56063811,"question_id":36040945,"body_markdown":"This is not a solution honestly.\r\nSince I can&#39;t comment due to the low reputation, This is just a tiny observation which led to this correction/improvisation.\r\n\r\nI ran into this same scenario &amp; I tried *[Tagir Valeev&#39;s][1]* solution mentioned above which worked for me.\r\nI used it as it is in my IDE, But the returned result was erroneous as the compiler complained as follows:\r\n\r\n**Compile Time Error: cannot convert from `Map&lt;Object, Object&gt;` to `Map&lt;String, Employee&gt;`.**\r\n\r\nThat&#39;s where I understood the expected return type here is of type class Object &amp; not what we expect it to be i.e `Map&lt;String, Employee&gt;`\r\n\r\nI simply had to receive the my result into `Map&lt;Object, Object&gt;` instead of `Map&lt;String, Employee&gt;`.\r\n\r\nHence the following code where `Map&lt;Object, Object&gt; topEmployees` is iterated &amp; the final expected result is stored into the `Map&lt;String, Employee&gt; finalResult;`\r\n\r\nTagir Valeev&#39;s solution is as below which I tweaked at receiving end:\r\n\r\n    Map&lt;Object, Object&gt; topEmployees = empList.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(e -&gt; e.department, \r\n\t\t\t\t\t\tCollectors.collectingAndThen(\r\n\t\t\t\t\t\t\t\tCollectors.maxBy(Comparator.comparingDouble(e -&gt; e.salary)), Optional::get\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\nThe extra code I wrote is as below:\r\n\r\n    for(Map.Entry&lt;Object, Object&gt; token : topEmployees.entrySet()) {\r\n\t\t\tfinalResult.put((String) token.getKey() , (Employee) token.getValue());\r\n\t\t}\r\n\r\nHope this helps someone. Thanks.\r\n\r\n  [1]: https://stackoverflow.com/users/4856258/tagir-valeev","title":"Java 8 lambda for selecting top salary employee for each department","body":"<p>This is not a solution honestly.\nSince I can't comment due to the low reputation, This is just a tiny observation which led to this correction/improvisation.</p>\n\n<p>I ran into this same scenario &amp; I tried <em><a href=\"https://stackoverflow.com/users/4856258/tagir-valeev\">Tagir Valeev's</a></em> solution mentioned above which worked for me.\nI used it as it is in my IDE, But the returned result was erroneous as the compiler complained as follows:</p>\n\n<p><strong>Compile Time Error: cannot convert from <code>Map&lt;Object, Object&gt;</code> to <code>Map&lt;String, Employee&gt;</code>.</strong></p>\n\n<p>That's where I understood the expected return type here is of type class Object &amp; not what we expect it to be i.e <code>Map&lt;String, Employee&gt;</code></p>\n\n<p>I simply had to receive the my result into <code>Map&lt;Object, Object&gt;</code> instead of <code>Map&lt;String, Employee&gt;</code>.</p>\n\n<p>Hence the following code where <code>Map&lt;Object, Object&gt; topEmployees</code> is iterated &amp; the final expected result is stored into the <code>Map&lt;String, Employee&gt; finalResult;</code></p>\n\n<p>Tagir Valeev's solution is as below which I tweaked at receiving end:</p>\n\n<pre><code>Map&lt;Object, Object&gt; topEmployees = empList.stream()\n            .collect(Collectors.groupingBy(e -&gt; e.department, \n                    Collectors.collectingAndThen(\n                            Collectors.maxBy(Comparator.comparingDouble(e -&gt; e.salary)), Optional::get\n                                                )\n                                )\n            );\n</code></pre>\n\n<p>The extra code I wrote is as below:</p>\n\n<pre><code>for(Map.Entry&lt;Object, Object&gt; token : topEmployees.entrySet()) {\n        finalResult.put((String) token.getKey() , (Employee) token.getValue());\n    }\n</code></pre>\n\n<p>Hope this helps someone. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":3493280,"reputation":426,"user_id":2922319,"display_name":"Vaibhav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561055817,"creation_date":1561055817,"answer_id":56692031,"question_id":36040945,"body_markdown":"/*Let&#39;s say you have a list of employee as List&lt;Employee&gt; employeeList; \r\nTo find the departmentwise salary first you need to have comparator for employees*/\r\n\r\n    Comparator&lt;Employee&gt; bySalary = Comparator.comparing(Employee::getSalary);\r\n\r\nThen to find departement wise highest salary you do\r\n\r\n    Map&lt;String, Optional&lt;Employee&gt;&gt; collect = \r\n            employeeList.stream().collect(\r\n                Collectors.groupingBy(\r\n                    Employee::getDept,\r\n                    Collectors.reducing(BinaryOperator.maxBy(bySalary))\r\n        )\r\n    );\r\n\r\n What are we doing here is, \r\n we are grouping the employees on the basis of there department. \r\n And along with Grouping we are saying return me the highest salary taker for that department,\r\nAnd finally pick only max one.\r\nTo see the output override toString method in Employee class and do */\r\n\r\n    collect.entrySet().stream().forEach(System.out::println);","title":"Java 8 lambda for selecting top salary employee for each department","body":"<p>/<em>Let's say you have a list of employee as List employeeList; \nTo find the departmentwise salary first you need to have comparator for employees</em>/</p>\n\n<pre><code>Comparator&lt;Employee&gt; bySalary = Comparator.comparing(Employee::getSalary);\n</code></pre>\n\n<p>Then to find departement wise highest salary you do</p>\n\n<pre><code>Map&lt;String, Optional&lt;Employee&gt;&gt; collect = \n        employeeList.stream().collect(\n            Collectors.groupingBy(\n                Employee::getDept,\n                Collectors.reducing(BinaryOperator.maxBy(bySalary))\n    )\n);\n</code></pre>\n\n<p>What are we doing here is, \n we are grouping the employees on the basis of there department. \n And along with Grouping we are saying return me the highest salary taker for that department,\nAnd finally pick only max one.\nTo see the output override toString method in Employee class and do */</p>\n\n<pre><code>collect.entrySet().stream().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23299254,"reputation":1,"user_id":17380176,"display_name":"Shete Suraj Hanumant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636571636,"creation_date":1636571636,"answer_id":69918990,"question_id":36040945,"body_markdown":"Map&lt;String, Optional&lt;Emp&gt;&gt; result = li.stream().collect(Collectors.groupingBy(Emp::getDept,\r\n                Collectors.reducing(BinaryOperator.maxBy(Comparator.comparing(Emp::getSalary)))\r\n        ));","title":"Java 8 lambda for selecting top salary employee for each department","body":"<p>Map&lt;String, Optional&gt; result = li.stream().collect(Collectors.groupingBy(Emp::getDept,\nCollectors.reducing(BinaryOperator.maxBy(Comparator.comparing(Emp::getSalary)))\n));</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653562756,"creation_date":1653562756,"answer_id":72390727,"question_id":36040945,"body_markdown":"***\r\n\r\n&gt; max salary in each department java 8\r\n\r\n***\r\nimport java.util.*;\r\n\r\nimport java.util.stream.Collectors;\r\n\r\n\r\n\r\n    Map&lt;String, Employee&gt; stringEmployeeMap= employeeList.stream()\r\n                   .collect(Collectors.groupingBy(Employee::getDepartment,\r\n                           Collectors.collectingAndThen(\r\n                                   Collectors.maxBy(\r\n                                           Comparator.comparingDouble(Employee::getSalary)\r\n                                   ), Optional::get)\r\n                   )\r\n                   );","title":"Java 8 lambda for selecting top salary employee for each department","body":"<hr />\n<blockquote>\n<p>max salary in each department java 8</p>\n</blockquote>\n<hr />\n<p>import java.util.*;</p>\n<p>import java.util.stream.Collectors;</p>\n<pre><code>Map&lt;String, Employee&gt; stringEmployeeMap= employeeList.stream()\n               .collect(Collectors.groupingBy(Employee::getDepartment,\n                       Collectors.collectingAndThen(\n                               Collectors.maxBy(\n                                       Comparator.comparingDouble(Employee::getSalary)\n                               ), Optional::get)\n               )\n               );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066063,"reputation":9,"user_id":12845376,"display_name":"Mayur Chourasiya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654593848,"creation_date":1654252137,"answer_id":72488282,"question_id":36040945,"body_markdown":"```\r\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n\r\nemployeeList.add(new Employee(&quot;Mayur&quot;, &quot;IT&quot;, &quot;100&quot;, 1000));\r\nemployeeList.add(new Employee(&quot;Raj&quot;, &quot;IT&quot;, &quot;101&quot;, 2000));\r\nemployeeList.add(new Employee(&quot;Anshul&quot;, &quot;IT&quot;, &quot;102&quot;, 3000));\r\nemployeeList.add(new Employee(&quot;Hari&quot;, &quot;EC&quot;, &quot;102&quot;, 3000));\r\nemployeeList.add(new Employee(&quot;Ram&quot;, &quot;EC&quot;, &quot;102&quot;, 3000));\r\n\r\nMap&lt;String, Optional&lt;Employee&gt;&gt; map = employeeList.stream().collect(Collectors.groupingBy(Employee::getDepartment, Collectors.maxBy(Comparator.comparingInt(Employee::getSalary))));\r\n        map.entrySet().forEach(System.out::println);\r\n```\r\n\r\n**Output :**\r\n``` \r\nIT=Optional[Employee{name=&#39;Anshul&#39;, department=&#39;IT&#39;, employeeID=&#39;102&#39;, salary=3000}]\r\nEC=Optional[Employee{name=&#39;Hari&#39;, department=&#39;EC&#39;, employeeID=&#39;102&#39;, salary=30000}]\r\n```","title":"Java 8 lambda for selecting top salary employee for each department","body":"<pre><code>List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n\nemployeeList.add(new Employee(&quot;Mayur&quot;, &quot;IT&quot;, &quot;100&quot;, 1000));\nemployeeList.add(new Employee(&quot;Raj&quot;, &quot;IT&quot;, &quot;101&quot;, 2000));\nemployeeList.add(new Employee(&quot;Anshul&quot;, &quot;IT&quot;, &quot;102&quot;, 3000));\nemployeeList.add(new Employee(&quot;Hari&quot;, &quot;EC&quot;, &quot;102&quot;, 3000));\nemployeeList.add(new Employee(&quot;Ram&quot;, &quot;EC&quot;, &quot;102&quot;, 3000));\n\nMap&lt;String, Optional&lt;Employee&gt;&gt; map = employeeList.stream().collect(Collectors.groupingBy(Employee::getDepartment, Collectors.maxBy(Comparator.comparingInt(Employee::getSalary))));\n        map.entrySet().forEach(System.out::println);\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>IT=Optional[Employee{name='Anshul', department='IT', employeeID='102', salary=3000}]\nEC=Optional[Employee{name='Hari', department='EC', employeeID='102', salary=30000}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665990990,"creation_date":1665990990,"answer_id":74093708,"question_id":36040945,"body_markdown":"    import static java.util.Comparator.comparingDouble;\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.groupingBy;\r\n    import static java.util.stream.Collectors.maxBy;\r\n    \r\n    empList.stream().collect(\r\n                groupingBy(e -&gt; e.department,\r\n    \t        collectingAndThen(maxBy(comparingDouble(e -&gt; e.salary)), \r\n                Optional::get))).\r\n                forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));","title":"Java 8 lambda for selecting top salary employee for each department","body":"<pre><code>import static java.util.Comparator.comparingDouble;\nimport static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.maxBy;\n\nempList.stream().collect(\n            groupingBy(e -&gt; e.department,\n            collectingAndThen(maxBy(comparingDouble(e -&gt; e.salary)), \n            Optional::get))).\n            forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27328494,"reputation":1,"user_id":20841059,"display_name":"Rajesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675700881,"creation_date":1675700734,"answer_id":75363986,"question_id":36040945,"body_markdown":"    package com.example.demo;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.BinaryOperator;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    import org.apache.el.stream.Optional;\r\n    import org.springframework.expression.spel.ast.OpAnd;\r\n    import org.springframework.util.comparator.Comparators;\r\n    \r\n    \r\n    \r\n    public class Java8Test {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \tint[] arr = new int[] {3,98,4,1,3,5,7,9,8,7,6,55,44,33,22,34};\r\n    \t\r\n    \t Arrays.stream(arr).filter(x-&gt;x%2==0).forEach(action -&gt; {\r\n    \t\t System.out.println(&quot;Array event number : &quot; +action);\r\n    \t });\r\n    \t\t\r\n    \tList&lt;Employee&gt; empList = new ArrayList&lt;Employee&gt;();\r\n    \tempList.add(new Employee(101, &quot;siva&quot;, 101, &quot;active&quot;, 2000));\r\n    \tempList.add(new Employee(102, &quot;ready&quot;, 101, &quot;active&quot;, 5000));\r\n    \tempList.add(new Employee(103, &quot;raju&quot;, 102, &quot;inactive&quot;, 6000));\r\n    \tempList.add(new Employee(104, &quot;sunder&quot;, 102, &quot;inaactive&quot;, 4000));\r\n    \tempList.add(new Employee(105, &quot;sunil&quot;, 103, &quot;active&quot;, 3500));\r\n    \tempList.add(new Employee(106, &quot;sunath&quot;, 103, &quot;inactive&quot;, 4200));\r\n    \tempList.add(new Employee(107, &quot;suresh&quot;, 104, &quot;active&quot;, 2050));\r\n    \t \r\n    \t\r\n    \tMap&lt;Integer, java.util.Optional&lt;Employee&gt;&gt; mapMaxSalByDept= empList.stream().collect(Collectors.groupingBy(\r\n    \t\t\tEmployee::getEmpDepId, Collectors.reducing(BinaryOperator.maxBy(Comparator.comparing(Employee::getEmpSalary)))));\r\n    \t\r\n    \tmapMaxSalByDept.entrySet().forEach(action-&gt; {\r\n    \t\tSystem.out.println(&quot;DEMP Id : &quot; + action.getKey()+ &quot;Empl Details : &quot;+ action.getValue());\r\n    \t});\r\n    \t\r\n    \t//nth max salary n=3\r\n    \tStream&lt;Employee&gt; mapMaxSalByDept1Nth= empList.stream().sorted(Comparator.comparing(Employee:: getEmpSalary).reversed()).limit(3).skip(2);\r\n    \tmapMaxSalByDept1Nth.forEach(action-&gt; {\r\n    \t\tSystem.out.println(&quot;Empl Details : &quot;+ action);\r\n    \t});\r\n    \t\r\n    \t}\r\n    \t} \r\n    \r\n    \r\n    package com.example.demo;\r\n    \r\n    public class Employee {\r\n    \r\n    \tprivate int empId;\r\n    \tprivate String empName;\r\n    \tprivate int empDepId;\r\n    \tprivate String status=&quot;active&quot;;\r\n    \tprivate int empSalary;\r\n    \t\r\n    \tpublic Employee(int empId, String empName, int empDepId, String status, int empSalary) {\r\n    \t\tsuper();\r\n    \t\tthis.empId = empId;\r\n    \t\tthis.empName = empName;\r\n    \t\tthis.empDepId = empDepId;\r\n    \t\tthis.status = status;\r\n    \t\tthis.empSalary = empSalary;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + empDepId;\r\n    \t\tresult = prime * result + empId;\r\n    \t\tresult = prime * result + ((empName == null) ? 0 : empName.hashCode());\r\n    \t\tresult = prime * result + empSalary;\r\n    \t\tresult = prime * result + ((status == null) ? 0 : status.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tEmployee other = (Employee) obj;\r\n    \t\tif (empDepId != other.empDepId)\r\n    \t\t\treturn false;\r\n    \t\tif (empId != other.empId)\r\n    \t\t\treturn false;\r\n    \t\tif (empName == null) {\r\n    \t\t\tif (other.empName != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!empName.equals(other.empName))\r\n    \t\t\treturn false;\r\n    \t\tif (empSalary != other.empSalary)\r\n    \t\t\treturn false;\r\n    \t\tif (status == null) {\r\n    \t\t\tif (other.status != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!status.equals(other.status))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic int getEmpId() {\r\n    \t\treturn empId;\r\n    \t}\r\n    \r\n    \tpublic void setEmpId(int empId) {\r\n    \t\tthis.empId = empId;\r\n    \t}\r\n    \r\n    \tpublic String getEmpName() {\r\n    \t\treturn empName;\r\n    \t}\r\n    \r\n    \tpublic void setEmpName(String empName) {\r\n    \t\tthis.empName = empName;\r\n    \t}\r\n    \r\n    \tpublic int getEmpDepId() {\r\n    \t\treturn empDepId;\r\n    \t}\r\n    \r\n    \tpublic void setEmpDepId(int empDepId) {\r\n    \t\tthis.empDepId = empDepId;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic int getEmpSalary() {\r\n    \t\treturn empSalary;\r\n    \t}\r\n    \r\n    \tpublic void setEmpSalary(int empSalary) {\r\n    \t\tthis.empSalary = empSalary;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Employee [empId=&quot; + empId + &quot;, empName=&quot; + empName + &quot;, empDepId=&quot; + empDepId + &quot;, status=&quot; + status\r\n    \t\t\t\t+ &quot;, empSalary=&quot; + empSalary + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n","title":"Java 8 lambda for selecting top salary employee for each department","body":"<pre><code>package com.example.demo;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.BinaryOperator;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport org.apache.el.stream.Optional;\nimport org.springframework.expression.spel.ast.OpAnd;\nimport org.springframework.util.comparator.Comparators;\n\n\n\npublic class Java8Test {\n    \n\n    public static void main(String[] args) {\n    \n    int[] arr = new int[] {3,98,4,1,3,5,7,9,8,7,6,55,44,33,22,34};\n    \n     Arrays.stream(arr).filter(x-&gt;x%2==0).forEach(action -&gt; {\n         System.out.println(&quot;Array event number : &quot; +action);\n     });\n        \n    List&lt;Employee&gt; empList = new ArrayList&lt;Employee&gt;();\n    empList.add(new Employee(101, &quot;siva&quot;, 101, &quot;active&quot;, 2000));\n    empList.add(new Employee(102, &quot;ready&quot;, 101, &quot;active&quot;, 5000));\n    empList.add(new Employee(103, &quot;raju&quot;, 102, &quot;inactive&quot;, 6000));\n    empList.add(new Employee(104, &quot;sunder&quot;, 102, &quot;inaactive&quot;, 4000));\n    empList.add(new Employee(105, &quot;sunil&quot;, 103, &quot;active&quot;, 3500));\n    empList.add(new Employee(106, &quot;sunath&quot;, 103, &quot;inactive&quot;, 4200));\n    empList.add(new Employee(107, &quot;suresh&quot;, 104, &quot;active&quot;, 2050));\n     \n    \n    Map&lt;Integer, java.util.Optional&lt;Employee&gt;&gt; mapMaxSalByDept= empList.stream().collect(Collectors.groupingBy(\n            Employee::getEmpDepId, Collectors.reducing(BinaryOperator.maxBy(Comparator.comparing(Employee::getEmpSalary)))));\n    \n    mapMaxSalByDept.entrySet().forEach(action-&gt; {\n        System.out.println(&quot;DEMP Id : &quot; + action.getKey()+ &quot;Empl Details : &quot;+ action.getValue());\n    });\n    \n    //nth max salary n=3\n    Stream&lt;Employee&gt; mapMaxSalByDept1Nth= empList.stream().sorted(Comparator.comparing(Employee:: getEmpSalary).reversed()).limit(3).skip(2);\n    mapMaxSalByDept1Nth.forEach(action-&gt; {\n        System.out.println(&quot;Empl Details : &quot;+ action);\n    });\n    \n    }\n    } \n\n\npackage com.example.demo;\n\npublic class Employee {\n\n    private int empId;\n    private String empName;\n    private int empDepId;\n    private String status=&quot;active&quot;;\n    private int empSalary;\n    \n    public Employee(int empId, String empName, int empDepId, String status, int empSalary) {\n        super();\n        this.empId = empId;\n        this.empName = empName;\n        this.empDepId = empDepId;\n        this.status = status;\n        this.empSalary = empSalary;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + empDepId;\n        result = prime * result + empId;\n        result = prime * result + ((empName == null) ? 0 : empName.hashCode());\n        result = prime * result + empSalary;\n        result = prime * result + ((status == null) ? 0 : status.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Employee other = (Employee) obj;\n        if (empDepId != other.empDepId)\n            return false;\n        if (empId != other.empId)\n            return false;\n        if (empName == null) {\n            if (other.empName != null)\n                return false;\n        } else if (!empName.equals(other.empName))\n            return false;\n        if (empSalary != other.empSalary)\n            return false;\n        if (status == null) {\n            if (other.status != null)\n                return false;\n        } else if (!status.equals(other.status))\n            return false;\n        return true;\n    }\n\n    public int getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(int empId) {\n        this.empId = empId;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n\n    public int getEmpDepId() {\n        return empDepId;\n    }\n\n    public void setEmpDepId(int empDepId) {\n        this.empDepId = empDepId;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public int getEmpSalary() {\n        return empSalary;\n    }\n\n    public void setEmpSalary(int empSalary) {\n        this.empSalary = empSalary;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee [empId=&quot; + empId + &quot;, empName=&quot; + empName + &quot;, empDepId=&quot; + empDepId + &quot;, status=&quot; + status\n                + &quot;, empSalary=&quot; + empSalary + &quot;]&quot;;\n    }\n    \n    \n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9238577,"reputation":1,"user_id":6862403,"display_name":"TusharM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681308799,"creation_date":1681308799,"answer_id":75996504,"question_id":36040945,"body_markdown":"    Get Top 2 employees based on salary for each department\r\n    \r\n       Comparator&lt;Employee&gt; bySalary = \r\n           Comparator.comparing(Employee::getSalary);\r\n       employeeList.stream().sorted(bySalary)\r\n          .collect(Collectors.groupingBy(e-&gt;e.getDepartment()))\r\n    \t  .entrySet().stream()\r\n          .collect(Collectors.toMap(Map.Entry::getKey, \r\n                                    v-&gt;v.getValue().subList(0, 2),(a,b) -&gt; a))\r\n                    .forEach((k,v)-&gt;System.out.println(&quot;K &quot;+k+&quot; - V &quot;+v));","title":"Java 8 lambda for selecting top salary employee for each department","body":"<pre><code>Get Top 2 employees based on salary for each department\n\n   Comparator&lt;Employee&gt; bySalary = \n       Comparator.comparing(Employee::getSalary);\n   employeeList.stream().sorted(bySalary)\n      .collect(Collectors.groupingBy(e-&gt;e.getDepartment()))\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey, \n                                v-&gt;v.getValue().subList(0, 2),(a,b) -&gt; a))\n                .forEach((k,v)-&gt;System.out.println(&quot;K &quot;+k+&quot; - V &quot;+v));\n</code></pre>\n"}],"owner":{"account_id":333434,"reputation":817,"user_id":659301,"display_name":"Yuriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47042,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36041139,"answer_count":10,"score":8,"last_activity_date":1681308799,"creation_date":1458144239,"question_id":36040945,"body_markdown":"    class Employee {\r\n        public string department;\r\n        public int salary;\r\n    }\r\n\r\n    List&lt;Employee&gt; allEmployees = ...\r\n\r\nI need to have a list that will have only 1 top salary employee for each department. allEmployees is the source list. \r\n","title":"Java 8 lambda for selecting top salary employee for each department","body":"<pre><code>class Employee {\n    public string department;\n    public int salary;\n}\n\nList&lt;Employee&gt; allEmployees = ...\n</code></pre>\n\n<p>I need to have a list that will have only 1 top salary employee for each department. allEmployees is the source list. </p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":19434562,"reputation":11,"user_id":14214298,"display_name":"Erwin M&#252;ller"},"score":0,"creation_date":1681286731,"post_id":75993208,"comment_id":134030387,"body_markdown":"I need a workaround like     private Behavior&lt;Message&gt; onSetupUiError(Object o) {\n        var m = (SetupUiErrorMessage) o;\n        log.error(&quot;onSetupUiError&quot;, m);\n        throw m.cause;\n    }","body":"I need a workaround like     private Behavior&lt;Message&gt; onSetupUiError(Object o) {         var m = (SetupUiErrorMessage) o;         log.error(&quot;onSetupUiError&quot;, m);         throw m.cause;     }"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1681287229,"post_id":75993208,"comment_id":134030524,"body_markdown":"what makes you think maven is doing the complaining? Have you read the error message, btw?","body":"what makes you think maven is doing the complaining? Have you read the error message, btw?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1681289854,"post_id":75993208,"comment_id":134031105,"body_markdown":"What is the signature of `onInitialState`","body":"What is the signature of <code>onInitialState</code>"},{"owner":{"account_id":19434562,"reputation":11,"user_id":14214298,"display_name":"Erwin M&#252;ller"},"score":0,"creation_date":1681308554,"post_id":75993208,"comment_id":134035697,"body_markdown":"@Stultuske it compiles and works fine in the Eclipse compiler, but if I do a mvn install then I get the error message. I guess it&#39;s more the maven-compiler-plugin.","body":"@Stultuske it compiles and works fine in the Eclipse compiler, but if I do a mvn install then I get the error message. I guess it&#39;s more the maven-compiler-plugin."},{"owner":{"account_id":19434562,"reputation":11,"user_id":14214298,"display_name":"Erwin M&#252;ller"},"score":0,"creation_date":1681308719,"post_id":75993208,"comment_id":134035747,"body_markdown":"@Lesiak     private Behavior&lt;Message&gt; onInitialState(InitialStateMessage&lt;T&gt; m) {\n\nbtw, I use a lot of such classes and methods in my project. I add an example of AppActor that works absolutely fine.","body":"@Lesiak     private Behavior&lt;Message&gt; onInitialState(InitialStateMessage&lt;T&gt; m) {  btw, I use a lot of such classes and methods in my project. I add an example of AppActor that works absolutely fine."}],"owner":{"account_id":19434562,"reputation":11,"user_id":14214298,"display_name":"Erwin M&#252;ller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681308789,"creation_date":1681286481,"question_id":75993208,"body_markdown":"I try to compile my code and I get the error from maven:\r\n\r\n```\r\nCompilation failure\r\n[ERROR] [...]AbstractPaneActor.java:[177,55] incompatible types: invalid method reference\r\n[ERROR]     incompatible types: java.lang.Object cannot be converted to com.anrisoftware.beyondimaging.gui.gui.actor.AbstractPaneActor.SetupUiErrorMessage\r\n```\r\n\r\nThe code looks like:\r\n\r\n```\r\n    public Behavior&lt;Message&gt; start(Injector injector) {\r\n        this.injector = injector;\r\n        return Behaviors.receive(Message.class)//\r\n                .onMessage(InitialStateMessage.class, this::onInitialState)//\r\n       Error:   .onMessage(SetupUiErrorMessage.class, this::onSetupUiError)//\r\n                .onMessage(GameTickMessage.class, this::onIgnore)//\r\n                .onMessage(Message.class, this::stashOtherCommand)//\r\n                .build();\r\n    }\r\n```\r\n\r\n```\r\n    private Behavior&lt;Message&gt; onSetupUiError(SetupUiErrorMessage m) {\r\n```\r\n\r\n```\r\n    private static class SetupUiErrorMessage extends Message {\r\n\r\n        public final Throwable cause;\r\n\r\n    }\r\n```\r\n\r\nWhy do I get this error? For all the other cases with `InitialStateMessage`, `GameTickMessage` and `Message` are fine.\r\n\r\nUsing maven-compiler-plugin version 3.10.1 source 17, target 17.\r\n\r\njava -version                                                                                                                                                  openjdk version &quot;17.0.6&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 17.0.6+10-Ubuntu-0ubuntu120.04.1)\r\nOpenJDK 64-Bit Server VM (build 17.0.6+10-Ubuntu-0ubuntu120.04.1, mixed mode, sharing)\r\n\r\nIf somebody is curious I&#39;m using https://doc.akka.io/docs/akka/current/typed/index.html Akka actor framework.\r\n\r\n\r\nError free compilation. It works also in Eclipse without any problems.\r\n\r\nEdit: add example of `AppActor` that works fine in both the Eclipse compiler and Maven compiler:\r\n\r\n```\r\n    public Behavior&lt;Message&gt; start(Injector injector) {\r\n        this.injector = injector;\r\n        this.cacheResponseAdapter = context.messageAdapter(CacheResponseMessage.class, WrappedCacheResponse::new);\r\n        this.assetsResponseAdapter = context.messageAdapter(AssetsResponseMessage.class, WrappedAssetsResponse::new);\r\n        return Behaviors.receive(Message.class)//\r\n                .onMessage(InitialStateMessage.class, this::onInitialState)//\r\n                .onMessage(SetupErrorMessage.class, this::onSetupError)//\r\n                .onMessage(Message.class, this::stashOtherCommand)//\r\n                .build();\r\n    }\r\n\r\n    private Behavior&lt;Message&gt; stashOtherCommand(Message m) {\r\n        log.debug(&quot;stashOtherCommand: {}&quot;, m);\r\n        buffer.stash(m);\r\n        return Behaviors.same();\r\n    }\r\n\r\n    private Behavior&lt;Message&gt; onSetupError(SetupErrorMessage m) {\r\n        log.debug(&quot;onSetupError: {}&quot;, m);\r\n        return Behaviors.stopped();\r\n    }\r\n\r\n    private Behavior&lt;Message&gt; onInitialState(InitialStateMessage m) {\r\n        log.debug(&quot;onInitialState&quot;);\r\n        actor.tell(new LoadTexturesMessage&lt;&gt;(assetsResponseAdapter, command.getAssetsDir()));\r\n        return buffer.unstashAll(getInitialBehavior()//\r\n                .build());\r\n    }\r\n\r\n```","title":"Why Maven complains incompatible types for Java lamda in specific case but other cases are fine?","body":"<p>I try to compile my code and I get the error from maven:</p>\n<pre><code>Compilation failure\n[ERROR] [...]AbstractPaneActor.java:[177,55] incompatible types: invalid method reference\n[ERROR]     incompatible types: java.lang.Object cannot be converted to com.anrisoftware.beyondimaging.gui.gui.actor.AbstractPaneActor.SetupUiErrorMessage\n</code></pre>\n<p>The code looks like:</p>\n<pre><code>    public Behavior&lt;Message&gt; start(Injector injector) {\n        this.injector = injector;\n        return Behaviors.receive(Message.class)//\n                .onMessage(InitialStateMessage.class, this::onInitialState)//\n       Error:   .onMessage(SetupUiErrorMessage.class, this::onSetupUiError)//\n                .onMessage(GameTickMessage.class, this::onIgnore)//\n                .onMessage(Message.class, this::stashOtherCommand)//\n                .build();\n    }\n</code></pre>\n<pre><code>    private Behavior&lt;Message&gt; onSetupUiError(SetupUiErrorMessage m) {\n</code></pre>\n<pre><code>    private static class SetupUiErrorMessage extends Message {\n\n        public final Throwable cause;\n\n    }\n</code></pre>\n<p>Why do I get this error? For all the other cases with <code>InitialStateMessage</code>, <code>GameTickMessage</code> and <code>Message</code> are fine.</p>\n<p>Using maven-compiler-plugin version 3.10.1 source 17, target 17.</p>\n<p>java -version                                                                                                                                                  openjdk version &quot;17.0.6&quot; 2023-01-17\nOpenJDK Runtime Environment (build 17.0.6+10-Ubuntu-0ubuntu120.04.1)\nOpenJDK 64-Bit Server VM (build 17.0.6+10-Ubuntu-0ubuntu120.04.1, mixed mode, sharing)</p>\n<p>If somebody is curious I'm using <a href=\"https://doc.akka.io/docs/akka/current/typed/index.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/typed/index.html</a> Akka actor framework.</p>\n<p>Error free compilation. It works also in Eclipse without any problems.</p>\n<p>Edit: add example of <code>AppActor</code> that works fine in both the Eclipse compiler and Maven compiler:</p>\n<pre><code>    public Behavior&lt;Message&gt; start(Injector injector) {\n        this.injector = injector;\n        this.cacheResponseAdapter = context.messageAdapter(CacheResponseMessage.class, WrappedCacheResponse::new);\n        this.assetsResponseAdapter = context.messageAdapter(AssetsResponseMessage.class, WrappedAssetsResponse::new);\n        return Behaviors.receive(Message.class)//\n                .onMessage(InitialStateMessage.class, this::onInitialState)//\n                .onMessage(SetupErrorMessage.class, this::onSetupError)//\n                .onMessage(Message.class, this::stashOtherCommand)//\n                .build();\n    }\n\n    private Behavior&lt;Message&gt; stashOtherCommand(Message m) {\n        log.debug(&quot;stashOtherCommand: {}&quot;, m);\n        buffer.stash(m);\n        return Behaviors.same();\n    }\n\n    private Behavior&lt;Message&gt; onSetupError(SetupErrorMessage m) {\n        log.debug(&quot;onSetupError: {}&quot;, m);\n        return Behaviors.stopped();\n    }\n\n    private Behavior&lt;Message&gt; onInitialState(InitialStateMessage m) {\n        log.debug(&quot;onInitialState&quot;);\n        actor.tell(new LoadTexturesMessage&lt;&gt;(assetsResponseAdapter, command.getAssetsDir()));\n        return buffer.unstashAll(getInitialBehavior()//\n                .build());\n    }\n\n</code></pre>\n"},{"tags":["java","unit-testing","rabbitmq","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1681332929,"post_id":75995057,"comment_id":134041481,"body_markdown":"if not explicitly disabled for test profile, devservices are started in both dev and test.","body":"if not explicitly disabled for test profile, devservices are started in both dev and test."}],"answers":[{"tags":[],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681308308,"creation_date":1681308308,"answer_id":75996419,"question_id":75995057,"body_markdown":"For those who don&#39;t see little lines (like me) : `Dev Services for RabbitMQ automatically starts a RabbitMQ broker in dev mode and when running tests. So, you don’t have to start a broker manually.`, the answer is here : https://quarkus.io/guides/rabbitmq-dev-services...\r\n","title":"QuarkusTest launches testcontainers though I didn&#39;t asked for it ; what&#39;s wrong?","body":"<p>For those who don't see little lines (like me) : <code>Dev Services for RabbitMQ automatically starts a RabbitMQ broker in dev mode and when running tests. So, you don’t have to start a broker manually.</code>, the answer is here : <a href=\"https://quarkus.io/guides/rabbitmq-dev-services..\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rabbitmq-dev-services..</a>.</p>\n"}],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681308308,"creation_date":1681299725,"question_id":75995057,"body_markdown":"Very simple test case (no other code) :\r\n```\r\n@QuarkusTest\r\nclass EndpointTest {\r\n\r\n\t@Test\r\n\tvoid testPostMV() {\r\n\t\tfail(&quot;Not yet implemented&quot;); // TODO\r\n\t}\r\n}\r\n```\r\nPOM.xml :\r\n```\r\n...\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-smallrye-reactive-messaging-rabbitmq&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- TESTS --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n...\r\n```\r\nWhen `mvn  -Dtest=org.avm.rest.EndpointTest test` I see in logs :\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.avm.rest.EndpointTest\r\n2023-04-12 13:23:54,426 WARN  [io.qua.arc.dep.SplitPackageProcessor] (build-26) Detected a split package usage which is considered a bad practice and should be avoided. Following packages were detected in multiple archives: \r\n- &quot;io.smallrye.reactive.messaging.providers.connectors&quot; found in [io.smallrye.reactive:smallrye-reactive-messaging-in-memory::jar, io.smallrye.reactive:smallrye-reactive-messaging-provider::jar]\r\n2023-04-12 13:23:54,541 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-26) Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n2023-04-12 13:23:55,083 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-26) Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\r\n2023-04-12 13:23:55,085 INFO  [org.tes.DockerClientFactory] (build-26) Docker host IP address is localhost\r\n2023-04-12 13:23:55,102 INFO  [org.tes.DockerClientFactory] (build-26) Connected to docker: \r\n  Server Version: 23.0.3\r\n  API Version: 1.42\r\n  Operating System: Debian GNU/Linux 10 (buster)\r\n  Total Memory: 31757 MB\r\n2023-04-12 13:23:55,115 INFO  [org.tes.uti.ImageNameSubstitutor] (build-26) Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n2023-04-12 13:23:55,119 INFO  [org.tes.DockerClientFactory] (build-26) Checking the system...\r\n2023-04-12 13:23:55,120 INFO  [org.tes.DockerClientFactory] (build-26) ✔︎ Docker server version should be at least 1.6.0\r\n2023-04-12 13:23:55,188 INFO  [&#128051; .9-management]] (build-26) Creating container for image: rabbitmq:3.9-management\r\n2023-04-12 13:23:55,211 INFO  [&#128051; .3.4]] (build-26) Creating container for image: testcontainers/ryuk:0.3.4\r\n2023-04-12 13:23:55,346 INFO  [&#128051; .3.4]] (build-26) Container testcontainers/ryuk:0.3.4 is starting: ec8edc09f60e0179e1c6a9269e542a52f53de468fec15c1042ea7dde29aac2be\r\n2023-04-12 13:23:55,859 INFO  [&#128051; .3.4]] (build-26) Container testcontainers/ryuk:0.3.4 started in PT0.648579S\r\n2023-04-12 13:23:56,109 INFO  [&#128051; .9-management]] (build-26) Container rabbitmq:3.9-management is starting: a29cd698eed414e0ffa0ee2225d230504e6a332a022aec31f545104aa5f6ec85\r\n2023-04-12 13:24:01,766 INFO  [&#128051; .9-management]] (build-26) Container rabbitmq:3.9-management started in PT6.63349S\r\n```\r\nIf I suppress `quarkus-smallrye-reactive-messaging-rabbitmq` from the POM file, then the simple test runs normally :\r\n```\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.avm.rest.EndpointTest\r\n2023-04-12 13:34:28,106 INFO  [io.quarkus] (main) realtime_proxy_mt 2.16 on JVM (powered by Quarkus 2.16.1.Final) started in 1.880s. Listening on: http://localhost:8081\r\n2023-04-12 13:34:28,111 INFO  [io.quarkus] (main) Profile test activated. \r\n2023-04-12 13:34:28,111 INFO  [io.quarkus] (main) Installed features: [cdi, rabbitmq-extension, resteasy-reactive, smallrye-context-propagation, smallrye-openapi, swagger-ui, vertx]\r\n[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 4.319 s &lt;&lt;&lt; FAILURE! - in org.avm.rest.EndpointTest\r\n```\r\nNowhere I set testContainer ; I don&#39;tunderstand Why it is launched...\r\nI have another project with the same dependencies which doesn&#39;t launch testcontainers for tests ; I don&#39;t see any difference ...\r\nI am stuck.\r\nIs there someone else in the same situation ? \r\nSome hints, maybe ?","title":"QuarkusTest launches testcontainers though I didn&#39;t asked for it ; what&#39;s wrong?","body":"<p>Very simple test case (no other code) :</p>\n<pre><code>@QuarkusTest\nclass EndpointTest {\n\n    @Test\n    void testPostMV() {\n        fail(&quot;Not yet implemented&quot;); // TODO\n    }\n}\n</code></pre>\n<p>POM.xml :</p>\n<pre><code>...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-rabbitmq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- TESTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n...\n</code></pre>\n<p>When <code>mvn  -Dtest=org.avm.rest.EndpointTest test</code> I see in logs :</p>\n<pre><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running org.avm.rest.EndpointTest\n2023-04-12 13:23:54,426 WARN  [io.qua.arc.dep.SplitPackageProcessor] (build-26) Detected a split package usage which is considered a bad practice and should be avoided. Following packages were detected in multiple archives: \n- &quot;io.smallrye.reactive.messaging.providers.connectors&quot; found in [io.smallrye.reactive:smallrye-reactive-messaging-in-memory::jar, io.smallrye.reactive:smallrye-reactive-messaging-provider::jar]\n2023-04-12 13:23:54,541 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-26) Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\n2023-04-12 13:23:55,083 INFO  [org.tes.doc.DockerClientProviderStrategy] (build-26) Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\n2023-04-12 13:23:55,085 INFO  [org.tes.DockerClientFactory] (build-26) Docker host IP address is localhost\n2023-04-12 13:23:55,102 INFO  [org.tes.DockerClientFactory] (build-26) Connected to docker: \n  Server Version: 23.0.3\n  API Version: 1.42\n  Operating System: Debian GNU/Linux 10 (buster)\n  Total Memory: 31757 MB\n2023-04-12 13:23:55,115 INFO  [org.tes.uti.ImageNameSubstitutor] (build-26) Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n2023-04-12 13:23:55,119 INFO  [org.tes.DockerClientFactory] (build-26) Checking the system...\n2023-04-12 13:23:55,120 INFO  [org.tes.DockerClientFactory] (build-26) ✔︎ Docker server version should be at least 1.6.0\n2023-04-12 13:23:55,188 INFO  [🐳 .9-management]] (build-26) Creating container for image: rabbitmq:3.9-management\n2023-04-12 13:23:55,211 INFO  [🐳 .3.4]] (build-26) Creating container for image: testcontainers/ryuk:0.3.4\n2023-04-12 13:23:55,346 INFO  [🐳 .3.4]] (build-26) Container testcontainers/ryuk:0.3.4 is starting: ec8edc09f60e0179e1c6a9269e542a52f53de468fec15c1042ea7dde29aac2be\n2023-04-12 13:23:55,859 INFO  [🐳 .3.4]] (build-26) Container testcontainers/ryuk:0.3.4 started in PT0.648579S\n2023-04-12 13:23:56,109 INFO  [🐳 .9-management]] (build-26) Container rabbitmq:3.9-management is starting: a29cd698eed414e0ffa0ee2225d230504e6a332a022aec31f545104aa5f6ec85\n2023-04-12 13:24:01,766 INFO  [🐳 .9-management]] (build-26) Container rabbitmq:3.9-management started in PT6.63349S\n</code></pre>\n<p>If I suppress <code>quarkus-smallrye-reactive-messaging-rabbitmq</code> from the POM file, then the simple test runs normally :</p>\n<pre><code>[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running org.avm.rest.EndpointTest\n2023-04-12 13:34:28,106 INFO  [io.quarkus] (main) realtime_proxy_mt 2.16 on JVM (powered by Quarkus 2.16.1.Final) started in 1.880s. Listening on: http://localhost:8081\n2023-04-12 13:34:28,111 INFO  [io.quarkus] (main) Profile test activated. \n2023-04-12 13:34:28,111 INFO  [io.quarkus] (main) Installed features: [cdi, rabbitmq-extension, resteasy-reactive, smallrye-context-propagation, smallrye-openapi, swagger-ui, vertx]\n[ERROR] Tests run: 3, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 4.319 s &lt;&lt;&lt; FAILURE! - in org.avm.rest.EndpointTest\n</code></pre>\n<p>Nowhere I set testContainer ; I don'tunderstand Why it is launched...\nI have another project with the same dependencies which doesn't launch testcontainers for tests ; I don't see any difference ...\nI am stuck.\nIs there someone else in the same situation ?\nSome hints, maybe ?</p>\n"},{"tags":["java","spring","security","model-view-controller","roles"],"answers":[{"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681308258,"creation_date":1681306727,"answer_id":75996143,"question_id":75995958,"body_markdown":"Implement SecurityConfiguration like this:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        // .csrf().disable not recommended in prod environment\r\n        .csrf().disable()\r\n        .authorizeHttpRequests((authz) -&gt; authz\r\n            .requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n        );\r\n\r\n        return http.build();\r\n}\r\n```\r\n\r\nThen change this line \r\n```java\r\n@RestController(&quot;/auth&quot;)\r\n```\r\nto\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n```\r\n\r\nand this line\r\n```java\r\n@GetMapping\r\n```\r\nto\r\n```java\r\n@RequestMapping(value = &quot;/showUserString&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n```","title":"Spring security configuration SecurityFilterChain defaultSecurityFilterChain permitAll problem","body":"<p>Implement SecurityConfiguration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n    http\n        // .csrf().disable not recommended in prod environment\n        .csrf().disable()\n        .authorizeHttpRequests((authz) -&gt; authz\n            .requestMatchers(&quot;/auth/**&quot;).permitAll()\n            .anyRequest().authenticated()\n        );\n\n        return http.build();\n}\n</code></pre>\n<p>Then change this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController(&quot;/auth&quot;)\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\n</code></pre>\n<p>and this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/showUserString&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"}],"owner":{"account_id":17798471,"reputation":17,"user_id":12925826,"display_name":"Konstantin Horkovenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75996143,"answer_count":1,"score":0,"last_activity_date":1681308258,"creation_date":1681305531,"question_id":75995958,"body_markdown":"If inside @Bean SecurityFilterChain defaultSecurityFilterChain build http chain with                 `.requestMatchers(&quot;/auth/**&quot;).permitAll();` controller with mapping &quot;/auth&quot; cannot be invoked due to 403 but if I use `requestMatchers(&quot;/**&quot;).permitAll()` I can proceed to that address. Why it is so?\r\n\r\n\r\n    @Bean\r\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.cors().disable().csrf().disable()\r\n                .authorizeHttpRequests()\r\n                /*.requestMatchers(&quot;/myAccount&quot;).hasAuthority(&quot;VIEWACCOUNT&quot;)\r\n                .requestMatchers(&quot;/myBalance&quot;).hasAnyAuthority(&quot;VIEWACCOUNT&quot;,&quot;VIEWBALANCE&quot;)\r\n                .requestMatchers(&quot;/myLoans&quot;).hasAuthority(&quot;VIEWLOANS&quot;)\r\n                .requestMatchers(&quot;/myCards&quot;).hasAuthority(&quot;VIEWCARDS&quot;)*/\r\n                .requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n   @RestController(&quot;/auth&quot;)\r\n    public class LoginController {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    @GetMapping\r\n    public String showUserString(@RequestBody User user) {\r\n        return &quot;Hello World!&quot;;\r\n    }`","title":"Spring security configuration SecurityFilterChain defaultSecurityFilterChain permitAll problem","body":"<p>If inside @Bean SecurityFilterChain defaultSecurityFilterChain build http chain with                 <code>.requestMatchers(&quot;/auth/**&quot;).permitAll();</code> controller with mapping &quot;/auth&quot; cannot be invoked due to 403 but if I use <code>requestMatchers(&quot;/**&quot;).permitAll()</code> I can proceed to that address. Why it is so?</p>\n<pre><code>@Bean\nSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n    http.cors().disable().csrf().disable()\n            .authorizeHttpRequests()\n            /*.requestMatchers(&quot;/myAccount&quot;).hasAuthority(&quot;VIEWACCOUNT&quot;)\n            .requestMatchers(&quot;/myBalance&quot;).hasAnyAuthority(&quot;VIEWACCOUNT&quot;,&quot;VIEWBALANCE&quot;)\n            .requestMatchers(&quot;/myLoans&quot;).hasAuthority(&quot;VIEWLOANS&quot;)\n            .requestMatchers(&quot;/myCards&quot;).hasAuthority(&quot;VIEWCARDS&quot;)*/\n            .requestMatchers(&quot;/auth/**&quot;).permitAll();\n\n\n    return http.build();\n}\n</code></pre>\n<p>@RestController(&quot;/auth&quot;)\npublic class LoginController {</p>\n<pre><code>@Autowired\nprivate CustomerRepository customerRepository;\n\n@Autowired\nprivate PasswordEncoder passwordEncoder;\n\n\n@GetMapping\npublic String showUserString(@RequestBody User user) {\n    return &quot;Hello World!&quot;;\n}`\n</code></pre>\n"},{"tags":["java","android","kotlin","imageview","android-glide"],"comments":[{"owner":{"account_id":14770391,"reputation":113,"user_id":10667045,"display_name":"Buratino Apps"},"score":0,"creation_date":1680808008,"post_id":75952865,"comment_id":133964309,"body_markdown":"Have you tried creating `android:scaleType=&quot;center|top&quot;` or `android:scaleType=&quot;center|bottom&quot;`","body":"Have you tried creating <code>android:scaleType=&quot;center|top&quot;</code> or <code>android:scaleType=&quot;center|bottom&quot;</code>"},{"owner":{"account_id":28234989,"reputation":1,"user_id":21583600,"display_name":"denme_dis"},"score":0,"creation_date":1680808251,"post_id":75952865,"comment_id":133964353,"body_markdown":"Cannot resolve symbol &#39;center|bottom&#39;","body":"Cannot resolve symbol &#39;center|bottom&#39;"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1680872704,"post_id":75952865,"comment_id":133973300,"body_markdown":"Take a look at [this](https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide). I think you&#39;ll want `FIT_START`.","body":"Take a look at <a href=\"https://thoughtbot.com/blog/android-imageview-scaletype-a-visual-guide\" rel=\"nofollow noreferrer\">this</a>. I think you&#39;ll want <code>FIT_START</code>."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1680897110,"post_id":75952865,"comment_id":133978127,"body_markdown":"@Cheticamp it&#39;s actually the `MATRIX` one they need (the `FIT` ones scale the image down to fit inside the view, `START` and `CENTER` etc just position it in the spare space). But Glide doesn&#39;t provide that as a basic transformation - honestly you might just want to write your own (https://bumptech.github.io/glide/javadocs/400/com/bumptech/glide/load/resource/bitmap/BitmapTransformation.html) and use `Bitmap#createBitmap` to create a cropped version that uses the correct region. Glide&#39;s concurrency &amp; caching should make it as performant as possible I think?","body":"@Cheticamp it&#39;s actually the <code>MATRIX</code> one they need (the <code>FIT</code> ones scale the image down to fit inside the view, <code>START</code> and <code>CENTER</code> etc just position it in the spare space). But Glide doesn&#39;t provide that as a basic transformation - honestly you might just want to write your own (<a href=\"https://bumptech.github.io/glide/javadocs/400/com/bumptech/glide/load/resource/bitmap/BitmapTransformation.html\" rel=\"nofollow noreferrer\">bumptech.github.io/glide/javadocs/400/com/bumptech/glide/lo&zwnj;&#8203;ad/&hellip;</a>) and use <code>Bitmap#createBitmap</code> to create a cropped version that uses the correct region. Glide&#39;s concurrency &amp; caching should make it as performant as possible I think?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1680902697,"post_id":75952865,"comment_id":133979019,"body_markdown":"@cactustictacs Good point about `FIT_START` since it won&#39;t crop the image but makes sure it all fits.","body":"@cactustictacs Good point about <code>FIT_START</code> since it won&#39;t crop the image but makes sure it all fits."},{"owner":{"account_id":28234989,"reputation":1,"user_id":21583600,"display_name":"denme_dis"},"score":0,"creation_date":1681307875,"post_id":75952865,"comment_id":134035490,"body_markdown":"but there is a gap in fit start. I don&#39;t want it. I want it to fill the screen just like the center crop, but instead of zooming in from the center of the picture, I want it to approach from the bottom or the top.","body":"but there is a gap in fit start. I don&#39;t want it. I want it to fill the screen just like the center crop, but instead of zooming in from the center of the picture, I want it to approach from the bottom or the top."}],"owner":{"account_id":28234989,"reputation":1,"user_id":21583600,"display_name":"denme_dis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681307962,"creation_date":1680807346,"question_id":75952865,"body_markdown":"I&#39;m pulling data from the internet with Glide. The parts of the picture that I want to focus on are below or sometimes above the picture. When I scaleType center or centerCrop, it scales towards the center of the image. I want it to focus above or below it. how can I do? Please review the sample image below\r\n\r\n\r\n[I want this](https://i.stack.imgur.com/XrgQg.jpg)\r\n\r\n\r\n\r\n\r\n```\r\n    &lt;com.makeramen.roundedimageview.RoundedImageView\r\n        android:id=&quot;@+id/slide_image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/_182sdp&quot;\r\n        android:contentDescription=&quot;@string/todo&quot;\r\n        android:src=&quot;@drawable/alide&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:riv_corner_radius=&quot;@dimen/_16sdp&quot; /&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\nString image = mSliderItems.get(position).getImage();\r\n\r\n      RequestOptions  options = new RequestOptions()\r\n                .placeholder(R.drawable.ic_placeholder_full)\r\n                .dontAnimate()\r\n                .error(R.drawable.ic_placeholder_full);\r\n\r\n        Glide.with(context)\r\n                .load(image)\r\n                .apply(options)\r\n                .listener(new RequestListener&lt;Drawable&gt;() {\r\n                    @Override\r\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n                        new Handler().postDelayed(() -&gt; slideImageLoading(position, slide_image), 1000);\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                        return false;\r\n                    }\r\n                })\r\n                .into(slide_image);\r\n\r\n```\r\n\r\n\r\nAlso, since I&#39;m using it in a recyclerview, I need a structure or library to do this job really lightly and quickly.\r\n\r\nThank you in advance for your help\r\n\r\n\r\nI searched on the internet but couldn&#39;t find a similar problem. check all the scaleTypes but it didn&#39;t work. i want something converging that focuses on the top or bottom of the picture\r\n\r\n```\r\n\r\n\r\npublic class BottomCropTransformation extends BitmapTransformation {\r\n\r\n    public BottomCropTransformation() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    protected Bitmap transform(@NonNull BitmapPool pool, @NonNull Bitmap toTransform, int outWidth, int outHeight) {\r\n        final int width = toTransform.getWidth();\r\n        final int height = toTransform.getHeight();\r\n        final int targetHeight = (int) (width * ((float) outHeight / (float) outWidth));\r\n\r\n        final Bitmap bitmap = pool.get(width, targetHeight, Bitmap.Config.ARGB_8888);\r\n        if (bitmap == null) {\r\n            return Bitmap.createBitmap(toTransform, 0, height - targetHeight, width, targetHeight);\r\n        }\r\n\r\n        Canvas canvas = new Canvas(bitmap);\r\n        Paint paint = new Paint();\r\n        paint.setAntiAlias(true);\r\n        paint.setShader(new BitmapShader(toTransform, BitmapShader.TileMode.CLAMP, BitmapShader.TileMode.CLAMP));\r\n\r\n        RectF rectF = new RectF(0, 0, width, targetHeight);\r\n        canvas.drawRoundRect(rectF, 0, 0, paint);\r\n\r\n        return bitmap;\r\n    }\r\n\r\n    @Override\r\n    public void updateDiskCacheKey(@NonNull MessageDigest messageDigest) {\r\n        messageDigest.update(&quot;BottomCropTransformation&quot;.getBytes());\r\n    }\r\n}\r\n\r\n\r\n```","title":"How can I scale top and bottom the image with Glide?","body":"<p>I'm pulling data from the internet with Glide. The parts of the picture that I want to focus on are below or sometimes above the picture. When I scaleType center or centerCrop, it scales towards the center of the image. I want it to focus above or below it. how can I do? Please review the sample image below</p>\n<p><a href=\"https://i.stack.imgur.com/XrgQg.jpg\" rel=\"nofollow noreferrer\">I want this</a></p>\n<pre><code>    &lt;com.makeramen.roundedimageview.RoundedImageView\n        android:id=&quot;@+id/slide_image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;@dimen/_182sdp&quot;\n        android:contentDescription=&quot;@string/todo&quot;\n        android:src=&quot;@drawable/alide&quot;\n        android:scaleType=&quot;center&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:riv_corner_radius=&quot;@dimen/_16sdp&quot; /&gt;\n\n</code></pre>\n<pre><code>String image = mSliderItems.get(position).getImage();\n\n      RequestOptions  options = new RequestOptions()\n                .placeholder(R.drawable.ic_placeholder_full)\n                .dontAnimate()\n                .error(R.drawable.ic_placeholder_full);\n\n        Glide.with(context)\n                .load(image)\n                .apply(options)\n                .listener(new RequestListener&lt;Drawable&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n                        new Handler().postDelayed(() -&gt; slideImageLoading(position, slide_image), 1000);\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                        return false;\n                    }\n                })\n                .into(slide_image);\n\n</code></pre>\n<p>Also, since I'm using it in a recyclerview, I need a structure or library to do this job really lightly and quickly.</p>\n<p>Thank you in advance for your help</p>\n<p>I searched on the internet but couldn't find a similar problem. check all the scaleTypes but it didn't work. i want something converging that focuses on the top or bottom of the picture</p>\n<pre><code>\n\npublic class BottomCropTransformation extends BitmapTransformation {\n\n    public BottomCropTransformation() {\n        super();\n    }\n\n    @Override\n    protected Bitmap transform(@NonNull BitmapPool pool, @NonNull Bitmap toTransform, int outWidth, int outHeight) {\n        final int width = toTransform.getWidth();\n        final int height = toTransform.getHeight();\n        final int targetHeight = (int) (width * ((float) outHeight / (float) outWidth));\n\n        final Bitmap bitmap = pool.get(width, targetHeight, Bitmap.Config.ARGB_8888);\n        if (bitmap == null) {\n            return Bitmap.createBitmap(toTransform, 0, height - targetHeight, width, targetHeight);\n        }\n\n        Canvas canvas = new Canvas(bitmap);\n        Paint paint = new Paint();\n        paint.setAntiAlias(true);\n        paint.setShader(new BitmapShader(toTransform, BitmapShader.TileMode.CLAMP, BitmapShader.TileMode.CLAMP));\n\n        RectF rectF = new RectF(0, 0, width, targetHeight);\n        canvas.drawRoundRect(rectF, 0, 0, paint);\n\n        return bitmap;\n    }\n\n    @Override\n    public void updateDiskCacheKey(@NonNull MessageDigest messageDigest) {\n        messageDigest.update(&quot;BottomCropTransformation&quot;.getBytes());\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","backend","http-get","http-delete"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1680790715,"post_id":75950531,"comment_id":133960155,"body_markdown":"Look into Logfiles for more information","body":"Look into Logfiles for more information"}],"answers":[{"tags":[],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681307874,"creation_date":1680794664,"answer_id":75951203,"question_id":75950531,"body_markdown":"The problem was the missing default constructor of the `FileData` class. \r\n\r\nEven though I had one with parameters, that&#39;s not considered default as the default constructor has to be without parameters. Adding this line to the `FileData` class solved the issue\r\n\r\n    public FileData() {}","title":"Server and database file handling (post, get, delete) is working only partially in my spring boot project","body":"<p>The problem was the missing default constructor of the <code>FileData</code> class.</p>\n<p>Even though I had one with parameters, that's not considered default as the default constructor has to be without parameters. Adding this line to the <code>FileData</code> class solved the issue</p>\n<pre><code>public FileData() {}\n</code></pre>\n"}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75951203,"answer_count":1,"score":-1,"last_activity_date":1681307874,"creation_date":1680790362,"question_id":75950531,"body_markdown":"Only POST is working. GET and DELETE are throwing the following error when testing through Postman: \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-04-06T14:01:59.898+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/secure/test/file/bull.png&quot;\r\n    }\r\n\r\nI haven&#39;t worked with Multipart files before and I have a feeling that it&#39;s something regarding that that goes wrong, but I can&#39;t quite put my finger on what exactly. I&#39;ll put the relevant pieces of code in the following code blocks. \r\n``` \r\npackage server.api;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport server.services.StorageService;\r\n\r\nimport java.io.IOException;\r\n\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n    @GetMapping(&quot;/{fileName}&quot;)\r\n    public ResponseEntity&lt;?&gt; outputFile(@PathVariable String fileName){\r\n        byte[] fileData=service.outputFile(fileName);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                .body(fileData);\r\n    }\r\n    @DeleteMapping(&quot;/{fileName}&quot;)\r\n    public ResponseEntity&lt;?&gt; deleteFile(@PathVariable String fileName) {\r\n        String message = service.deleteFile(fileName);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(message);\r\n    }\r\n}\r\n``` \r\n``` \r\npackage server.services;\r\n\r\nimport commons.FileData;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport server.database.StorageRepository;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\nimport java.util.zip.Deflater;\r\nimport java.util.zip.Inflater;\r\n\r\n@Service\r\npublic class StorageService {\r\n    @Autowired\r\n    private StorageRepository repository;\r\n\r\n    public String uploadFile(MultipartFile file) throws IOException {\r\n        repository.save(new FileData(file.getOriginalFilename(),\r\n                file.getContentType(), compressFile(file.getBytes())));\r\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\r\n    }\r\n    public byte[] outputFile(String fileName){\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        byte[] file=decompressFile(dbFileData.get().getFileData());\r\n        return file;\r\n    }\r\n    public String deleteFile(String fileName) {\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        if (dbFileData.isPresent()) {\r\n            repository.delete(dbFileData.get());\r\n            return &quot;File deleted successfully: &quot; + fileName;\r\n        } else {\r\n            return &quot;File not found: &quot; + fileName;\r\n        }\r\n    }\r\n    public String getType(String fileName){\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        if (dbFileData.isPresent()) {\r\n            return dbFileData.get().getType();\r\n        } else {\r\n            return &quot;File not found: &quot; + fileName;\r\n        }\r\n    }\r\n    public static byte[] compressFile(byte[] data) {\r\n        Deflater deflater = new Deflater();\r\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\r\n        deflater.setInput(data);\r\n        deflater.finish();\r\n\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] tmp = new byte[4*1024];\r\n        while (!deflater.finished()) {\r\n            int size = deflater.deflate(tmp);\r\n            outputStream.write(tmp, 0, size);\r\n        }\r\n        try {\r\n            outputStream.close();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n    public static byte[] decompressFile(byte[] data) {\r\n        Inflater inflater = new Inflater();\r\n        inflater.setInput(data);\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] tmp = new byte[4*1024];\r\n        try {\r\n            while (!inflater.finished()) {\r\n                int count = inflater.inflate(tmp);\r\n                outputStream.write(tmp, 0, count);\r\n            }\r\n            outputStream.close();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n}\r\n``` \r\n``` \r\npackage commons;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;FileData&quot;)\r\n@Data\r\npublic class FileData {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String type;\r\n    @Lob\r\n    @Column(name=&quot;filedata&quot;)\r\n    private byte[] fileData;\r\n    public FileData(String name, String type, byte[] fileData) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.fileData = fileData;\r\n    }\r\n    public byte[] getFileData() {\r\n        return fileData;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n``` \r\n","title":"Server and database file handling (post, get, delete) is working only partially in my spring boot project","body":"<p>Only POST is working. GET and DELETE are throwing the following error when testing through Postman:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-06T14:01:59.898+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/secure/test/file/bull.png&quot;\n}\n</code></pre>\n<p>I haven't worked with Multipart files before and I have a feeling that it's something regarding that that goes wrong, but I can't quite put my finger on what exactly. I'll put the relevant pieces of code in the following code blocks.</p>\n<pre><code>package server.api;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport server.services.StorageService;\n\nimport java.io.IOException;\n\n@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n    @GetMapping(&quot;/{fileName}&quot;)\n    public ResponseEntity&lt;?&gt; outputFile(@PathVariable String fileName){\n        byte[] fileData=service.outputFile(fileName);\n        return ResponseEntity.status(HttpStatus.OK)\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(fileData);\n    }\n    @DeleteMapping(&quot;/{fileName}&quot;)\n    public ResponseEntity&lt;?&gt; deleteFile(@PathVariable String fileName) {\n        String message = service.deleteFile(fileName);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(message);\n    }\n}\n</code></pre>\n<pre><code>package server.services;\n\nimport commons.FileData;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\nimport server.database.StorageRepository;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.Optional;\nimport java.util.zip.Deflater;\nimport java.util.zip.Inflater;\n\n@Service\npublic class StorageService {\n    @Autowired\n    private StorageRepository repository;\n\n    public String uploadFile(MultipartFile file) throws IOException {\n        repository.save(new FileData(file.getOriginalFilename(),\n                file.getContentType(), compressFile(file.getBytes())));\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\n    }\n    public byte[] outputFile(String fileName){\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        byte[] file=decompressFile(dbFileData.get().getFileData());\n        return file;\n    }\n    public String deleteFile(String fileName) {\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        if (dbFileData.isPresent()) {\n            repository.delete(dbFileData.get());\n            return &quot;File deleted successfully: &quot; + fileName;\n        } else {\n            return &quot;File not found: &quot; + fileName;\n        }\n    }\n    public String getType(String fileName){\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        if (dbFileData.isPresent()) {\n            return dbFileData.get().getType();\n        } else {\n            return &quot;File not found: &quot; + fileName;\n        }\n    }\n    public static byte[] compressFile(byte[] data) {\n        Deflater deflater = new Deflater();\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\n        deflater.setInput(data);\n        deflater.finish();\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n        byte[] tmp = new byte[4*1024];\n        while (!deflater.finished()) {\n            int size = deflater.deflate(tmp);\n            outputStream.write(tmp, 0, size);\n        }\n        try {\n            outputStream.close();\n        } catch (Exception ignored) {\n        }\n        return outputStream.toByteArray();\n    }\n    public static byte[] decompressFile(byte[] data) {\n        Inflater inflater = new Inflater();\n        inflater.setInput(data);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n        byte[] tmp = new byte[4*1024];\n        try {\n            while (!inflater.finished()) {\n                int count = inflater.inflate(tmp);\n                outputStream.write(tmp, 0, count);\n            }\n            outputStream.close();\n        } catch (Exception ignored) {\n        }\n        return outputStream.toByteArray();\n    }\n}\n</code></pre>\n<pre><code>package commons;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;FileData&quot;)\n@Data\npublic class FileData {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String type;\n    @Lob\n    @Column(name=&quot;filedata&quot;)\n    private byte[] fileData;\n    public FileData(String name, String type, byte[] fileData) {\n        this.name = name;\n        this.type = type;\n        this.fileData = fileData;\n    }\n    public byte[] getFileData() {\n        return fileData;\n    }\n\n    public String getType() {\n        return type;\n    }\n    public String getName() {\n        return name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":14332404,"reputation":455,"user_id":10352839,"display_name":"Mohammad Hosein"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681241509,"creation_date":1681241509,"answer_id":75989516,"question_id":75986769,"body_markdown":"To change the downloaded gradle for your project go to android/gradle/wrapper/gradle-wrapper.properties and change the distributionUrl (this link contains the distribution urls \r\nhttps://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://services.gradle.org/distributions/&amp;ved=2ahUKEwjwpIP8x6L-AhV5M1kFHbsABukQFnoECCAQAQ&amp;usg=AOvVaw0or8fxh6nANEHU2Je_rsql)\r\nThen delete the .gradle folder then try to build or run your app\r\n(PLEASE MAKE SURE TO MAKE COPY OF THE FOLDER BEFORE DELETING IT)\r\nThen the new gradle will start to download","title":"How do I change the gradle version in flutter module?","body":"<p>To change the downloaded gradle for your project go to android/gradle/wrapper/gradle-wrapper.properties and change the distributionUrl (this link contains the distribution urls\n<a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://services.gradle.org/distributions/&amp;ved=2ahUKEwjwpIP8x6L-AhV5M1kFHbsABukQFnoECCAQAQ&amp;usg=AOvVaw0or8fxh6nANEHU2Je_rsql\" rel=\"nofollow noreferrer\">https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://services.gradle.org/distributions/&amp;ved=2ahUKEwjwpIP8x6L-AhV5M1kFHbsABukQFnoECCAQAQ&amp;usg=AOvVaw0or8fxh6nANEHU2Je_rsql</a>)\nThen delete the .gradle folder then try to build or run your app\n(PLEASE MAKE SURE TO MAKE COPY OF THE FOLDER BEFORE DELETING IT)\nThen the new gradle will start to download</p>\n"}],"owner":{"account_id":26271699,"reputation":11,"user_id":19941520,"display_name":"Pushpa Channabasappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681307515,"creation_date":1681221630,"question_id":75986769,"body_markdown":"I am developing flutter module to integrate with android application. I have created the flutter module using the command \r\n\r\n    flutter create -t module --org com.example my_flutter\r\n\r\nI want to integrate this module with existing android app, which is built using gradle version 6.5. So I want to build my_flutter module on same gradle version. Where do I update my gradle version?\r\n\r\nFlutter module, `.android` folder is generated one, I cannot update in `build.gradle` of `.android`. So where exactly should update the version?","title":"How do I change the gradle version in flutter module?","body":"<p>I am developing flutter module to integrate with android application. I have created the flutter module using the command</p>\n<pre><code>flutter create -t module --org com.example my_flutter\n</code></pre>\n<p>I want to integrate this module with existing android app, which is built using gradle version 6.5. So I want to build my_flutter module on same gradle version. Where do I update my gradle version?</p>\n<p>Flutter module, <code>.android</code> folder is generated one, I cannot update in <code>build.gradle</code> of <code>.android</code>. So where exactly should update the version?</p>\n"},{"tags":["python","java","python-3.x","dictionary","hashmap"],"comments":[{"owner":{"account_id":9110318,"reputation":59525,"user_id":6779307,"display_name":"Patrick Haugh"},"score":0,"creation_date":1681319772,"post_id":75996041,"comment_id":134038647,"body_markdown":"What is this supposed to do? `(HashMap&lt;String, Object&gt;) map.get(&quot;1&quot;);`","body":"What is this supposed to do? <code>(HashMap&lt;String, Object&gt;) map.get(&quot;1&quot;);</code>"}],"owner":{"account_id":28080737,"reputation":26,"user_id":21451876,"display_name":"1 Mamedov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681307132,"creation_date":1681305979,"question_id":75996041,"body_markdown":"I want to rewrite this code from python to java:\r\n\r\n```python\r\ndef updateJson(db, offer_update):\r\n    kv = list(offer_update.items())\r\n    for key, value in kv:\r\n        old_value = db.get(key)\r\n        if old_value is None:\r\n            db[key] = value\r\n        else:\r\n            if isinstance(value, dict):\r\n                updateJson(db[key], value)\r\n            else:\r\n                if old_value == value:\r\n                    del offer_update[key]\r\n                else:\r\n                    db[key] = value\r\n\r\n\r\ndef main():\r\n    n, m = map(int, input().split())\r\n    services = []\r\n    d = dict()\r\n    for _ in range(n):\r\n        a, b, *words = input().split(&#39; &#39;)\r\n        a, b = int(a), int(b)\r\n        services.append((set(words[:a]), set(words[a:])))\r\n    for _ in range(m):\r\n        q = json.loads(input())\r\n        trace_id = q[&#39;trace_id&#39;]\r\n        id_ = q[&#39;offer&#39;][&#39;id&#39;]\r\n        updateJson(d, {id_: q[&#39;offer&#39;]})\r\n        for t, sh in services:\r\n///\r\n```\r\n\r\nMy basic knowledge of python says that the updateJson method takes two dictionaries (in java it is a Map), BUT why is an object and a string passed there when recursively calling this method?\r\n```python\r\nupdateJson(db[key], value)\r\n```\r\n\r\nI would like to do this, but Java doesn&#39;t seem to allow it.\r\nBasic Example\r\n```java\r\nHashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;1&quot;, 1);\r\nHashMap&lt;String, Object&gt; map1 = (HashMap&lt;String, Object&gt;) map.get(&quot;1&quot;);\r\nSystem.out.println(map1);\r\n```\r\nWill error \r\n```java\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.util.HashMap (java.lang.Integer and java.util.HashMap are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nPlease tell me how to correctly rewrite code from python to java, if python does not have explicit types and it is not clear what the method accepts when called recursively","title":"how to use Map in java which was used in python (dict() or {})","body":"<p>I want to rewrite this code from python to java:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def updateJson(db, offer_update):\n    kv = list(offer_update.items())\n    for key, value in kv:\n        old_value = db.get(key)\n        if old_value is None:\n            db[key] = value\n        else:\n            if isinstance(value, dict):\n                updateJson(db[key], value)\n            else:\n                if old_value == value:\n                    del offer_update[key]\n                else:\n                    db[key] = value\n\n\ndef main():\n    n, m = map(int, input().split())\n    services = []\n    d = dict()\n    for _ in range(n):\n        a, b, *words = input().split(' ')\n        a, b = int(a), int(b)\n        services.append((set(words[:a]), set(words[a:])))\n    for _ in range(m):\n        q = json.loads(input())\n        trace_id = q['trace_id']\n        id_ = q['offer']['id']\n        updateJson(d, {id_: q['offer']})\n        for t, sh in services:\n///\n</code></pre>\n<p>My basic knowledge of python says that the updateJson method takes two dictionaries (in java it is a Map), BUT why is an object and a string passed there when recursively calling this method?</p>\n<pre class=\"lang-py prettyprint-override\"><code>updateJson(db[key], value)\n</code></pre>\n<p>I would like to do this, but Java doesn't seem to allow it.\nBasic Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;1&quot;, 1);\nHashMap&lt;String, Object&gt; map1 = (HashMap&lt;String, Object&gt;) map.get(&quot;1&quot;);\nSystem.out.println(map1);\n</code></pre>\n<p>Will error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.util.HashMap (java.lang.Integer and java.util.HashMap are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>Please tell me how to correctly rewrite code from python to java, if python does not have explicit types and it is not clear what the method accepts when called recursively</p>\n"},{"tags":["java","spring-boot","java-stream","inputstream"],"comments":[{"owner":{"account_id":8154208,"reputation":4189,"user_id":6140314,"display_name":"Mohamed Anees A"},"score":0,"creation_date":1681331992,"post_id":75996199,"comment_id":134041278,"body_markdown":"Can you please modularise the code? this is highly unreadable, and is difficult to comprehend what is the requirement.","body":"Can you please modularise the code? this is highly unreadable, and is difficult to comprehend what is the requirement."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681845847,"post_id":75996199,"comment_id":134121870,"body_markdown":"You get what you ask for. When you return from the `try(InputStream archive = new ByteArrayInputStream(out.toByteArray())) { … }`, it will close the `InputStream`, as that’s what `try(…)` is for: ensuring that the resource is closed when you exit the block.","body":"You get what you ask for. When you return from the <code>try(InputStream archive = new ByteArrayInputStream(out.toByteArray())) { … }</code>, it will close the <code>InputStream</code>, as that’s what <code>try(…)</code> is for: ensuring that the resource is closed when you exit the block."}],"owner":{"account_id":21925542,"reputation":3,"user_id":16208209,"display_name":"Joji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681307106,"creation_date":1681307106,"question_id":75996199,"body_markdown":"I am facing a stream closed exception: The behavior is triggered when I have more than one file to treat.\r\n    \r\n```\r\n      try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n            ZipOutputStream zipOut = new ZipOutputStream(out);\r\n            ...\r\n            for (FileDto fileDto : listePdfFiles) {\r\n                String fileBaseName = FilenameUtils.getBaseName(fileDto.getName());\r\n                String fileExtension = &quot;.&quot; + FilenameUtils.getExtension(fileDto.getName());\r\n                if (duplicateFileName.containsKey(fileDto.getName())) {\r\n                    if (duplicateFileName.get(fileDto.getName()) &gt; 0) {\r\n                        fileBaseName += &quot;(&quot; + duplicateFileName.get(fileDto.getName()) + &quot;)&quot;;\r\n                    }\r\n                    duplicateFileName.put(fileDto.getName(),               duplicateFileName.get(fileDto.getName()) + 1);\r\n                }\r\n                ZipEntry zipEntry = new ZipEntry(fileBaseName + fileExtension);\r\n                zipOut.putNextEntry(zipEntry);\r\n\r\n                byte[] bytes = new byte[1024];\r\n                int length;\r\n                while ((length = fileDto.getContent().read(bytes)) &gt;= 0) {\r\n                    zipOut.write(bytes, 0, length);\r\n                }\r\n            }\r\n            zipOut.closeEntry();\r\n            zipOut.close();\r\n            String random = String.format(&quot;%s&quot;, RandomStringUtils.randomAlphanumeric(8));\r\n            try(InputStream archive = new ByteArrayInputStream(out.toByteArray())) {\r\n            return FileDto.builder().content(archive)\r\n                    ...\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exporting report to PDF error: &quot;, e);\r\n        }\r\n```\r\n\r\nI debugged the process: the first file is handled successfully, but the second file is disregarded at &#39;(length = fileDto.getContent().read(bytes)&#39;, and no processing is performed on the second file, resulting in a 400 error.\r\n\r\n I tweaked the code slightly by adding a try-catch to handle the exception, and as a result, the zip file containing the two files can be downloaded, however the second file is broken.","title":"stream closed at java.base/java.io.fileinputstream.readbytes(native method)","body":"<p>I am facing a stream closed exception: The behavior is triggered when I have more than one file to treat.</p>\n<pre><code>      try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            ZipOutputStream zipOut = new ZipOutputStream(out);\n            ...\n            for (FileDto fileDto : listePdfFiles) {\n                String fileBaseName = FilenameUtils.getBaseName(fileDto.getName());\n                String fileExtension = &quot;.&quot; + FilenameUtils.getExtension(fileDto.getName());\n                if (duplicateFileName.containsKey(fileDto.getName())) {\n                    if (duplicateFileName.get(fileDto.getName()) &gt; 0) {\n                        fileBaseName += &quot;(&quot; + duplicateFileName.get(fileDto.getName()) + &quot;)&quot;;\n                    }\n                    duplicateFileName.put(fileDto.getName(),               duplicateFileName.get(fileDto.getName()) + 1);\n                }\n                ZipEntry zipEntry = new ZipEntry(fileBaseName + fileExtension);\n                zipOut.putNextEntry(zipEntry);\n\n                byte[] bytes = new byte[1024];\n                int length;\n                while ((length = fileDto.getContent().read(bytes)) &gt;= 0) {\n                    zipOut.write(bytes, 0, length);\n                }\n            }\n            zipOut.closeEntry();\n            zipOut.close();\n            String random = String.format(&quot;%s&quot;, RandomStringUtils.randomAlphanumeric(8));\n            try(InputStream archive = new ByteArrayInputStream(out.toByteArray())) {\n            return FileDto.builder().content(archive)\n                    ...\n            }\n        } catch (Exception e) {\n            log.error(&quot;Exporting report to PDF error: &quot;, e);\n        }\n</code></pre>\n<p>I debugged the process: the first file is handled successfully, but the second file is disregarded at '(length = fileDto.getContent().read(bytes)', and no processing is performed on the second file, resulting in a 400 error.</p>\n<p>I tweaked the code slightly by adding a try-catch to handle the exception, and as a result, the zip file containing the two files can be downloaded, however the second file is broken.</p>\n"},{"tags":["java","spring-boot","callback","amazon-sqs","asynccallback"],"owner":{"account_id":13045424,"reputation":71,"user_id":9427417,"display_name":"swanthri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681306285,"creation_date":1681306285,"question_id":75996079,"body_markdown":"I have to implement a callback mechanism in my spring boot application. I am thinking to go with either of below approaches. \r\n\r\n1. Implement a call back with SQS queue.\r\n2. Creating a webclient and call an endpoint to get the response.\r\n\r\nCould someone please share if we have any other options to have it as most generic solution.\r\n\r\n","title":"Which would be the most generic solution to implement a asynchronous callback function using SQS or Webclient for a large scale application?","body":"<p>I have to implement a callback mechanism in my spring boot application. I am thinking to go with either of below approaches.</p>\n<ol>\n<li>Implement a call back with SQS queue.</li>\n<li>Creating a webclient and call an endpoint to get the response.</li>\n</ol>\n<p>Could someone please share if we have any other options to have it as most generic solution.</p>\n"},{"tags":["java","web-services","jakarta-ee","jaxb","jbossws"],"answers":[{"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1337891300,"creation_date":1227019190,"answer_id":298914,"question_id":298733,"body_markdown":"In my understanding, you will not be able to process a plain `List` via JAXB, as JAXB has no idea how to transform that into XML. \r\n\r\nInstead, you will need to define a JAXB type which holds a `List&lt;RelationCanonical&gt;` (I&#39;ll call it `Type1`), and another one to hold a list of those types, in turn (as you&#39;re dealing with a `List&lt;List&lt;...&gt;&gt;`; I&#39;ll call this type `Type2`).\r\n\r\nThe result could then be an XML ouput like this:\r\n\r\n    &lt;Type2 ...&gt;\r\n        &lt;Type1 ...&gt;\r\n            &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\r\n            &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\r\n            ...\r\n        &lt;/Type1&gt;\r\n        &lt;Type1&gt;\r\n            &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\r\n            &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\r\n            ...\r\n        &lt;/Type1&gt;\r\n        ...\r\n    &lt;/Type2&gt;\r\n\r\nWithout the two enclosing JAXB-annotated types, the JAXB processor has no idea what markup to generate, and thus fails.\r\n\r\n--Edit: \r\n\r\nWhat I mean should look somewhat like this:    \r\n\r\n    @XmlType\r\n    public class Type1{\r\n        \r\n        private List&lt;RelationCanonical&gt; relations;\r\n        \r\n        @XmlElement\r\n        public List&lt;RelationCanonical&gt; getRelations(){\r\n            return this.relations;\r\n        }\r\n\r\n        public void setRelations(List&lt;RelationCanonical&gt; relations){\r\n            this.relations = relations;\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    @XmlRootElement\r\n    public class Type2{\r\n        \r\n        private List&lt;Type1&gt; type1s;\r\n        \r\n        @XmlElement\r\n        public List&lt;Type1&gt; getType1s(){\r\n            return this.type1s;\r\n        }\r\n\r\n        public void setType1s(List&lt;Type1&gt; type1s){\r\n            this.type1s= type1s;\r\n        }\r\n    }\r\n\r\nYou should also check out the [JAXB section in the J5EE tutorial](http://java.sun.com/javaee/5/docs/tutorial/doc/bnazf.html) and the [Unofficial JAXB Guide](http://jaxb.java.net/guide/Mapping_interfaces.html).","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>In my understanding, you will not be able to process a plain <code>List</code> via JAXB, as JAXB has no idea how to transform that into XML. </p>\n\n<p>Instead, you will need to define a JAXB type which holds a <code>List&lt;RelationCanonical&gt;</code> (I'll call it <code>Type1</code>), and another one to hold a list of those types, in turn (as you're dealing with a <code>List&lt;List&lt;...&gt;&gt;</code>; I'll call this type <code>Type2</code>).</p>\n\n<p>The result could then be an XML ouput like this:</p>\n\n<pre><code>&lt;Type2 ...&gt;\n    &lt;Type1 ...&gt;\n        &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\n        &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\n        ...\n    &lt;/Type1&gt;\n    &lt;Type1&gt;\n        &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\n        &lt;RelationCanonical ...&gt; ... &lt;/RelationCanonical&gt;\n        ...\n    &lt;/Type1&gt;\n    ...\n&lt;/Type2&gt;\n</code></pre>\n\n<p>Without the two enclosing JAXB-annotated types, the JAXB processor has no idea what markup to generate, and thus fails.</p>\n\n<p>--Edit: </p>\n\n<p>What I mean should look somewhat like this:    </p>\n\n<pre><code>@XmlType\npublic class Type1{\n\n    private List&lt;RelationCanonical&gt; relations;\n\n    @XmlElement\n    public List&lt;RelationCanonical&gt; getRelations(){\n        return this.relations;\n    }\n\n    public void setRelations(List&lt;RelationCanonical&gt; relations){\n        this.relations = relations;\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@XmlRootElement\npublic class Type2{\n\n    private List&lt;Type1&gt; type1s;\n\n    @XmlElement\n    public List&lt;Type1&gt; getType1s(){\n        return this.type1s;\n    }\n\n    public void setType1s(List&lt;Type1&gt; type1s){\n        this.type1s= type1s;\n    }\n}\n</code></pre>\n\n<p>You should also check out the <a href=\"http://java.sun.com/javaee/5/docs/tutorial/doc/bnazf.html\" rel=\"noreferrer\">JAXB section in the J5EE tutorial</a> and the <a href=\"http://jaxb.java.net/guide/Mapping_interfaces.html\" rel=\"noreferrer\">Unofficial JAXB Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":46440,"reputation":201,"user_id":137195,"display_name":"Argo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1247489311,"creation_date":1247489311,"answer_id":1119241,"question_id":298733,"body_markdown":"If that suits your purpose you can always define an array like this:\r\n\r\n    YourType[]\r\n\r\nJAXB can certainly figure out what that is and you should be able to immediatly use it client side. I would also recommend you to do it that way, since you should not be able to modify the array retrieved from a server via a List&lt;YourType&gt; but via methods provided by the web service","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>If that suits your purpose you can always define an array like this:</p>\n\n<pre><code>YourType[]\n</code></pre>\n\n<p>JAXB can certainly figure out what that is and you should be able to immediatly use it client side. I would also recommend you to do it that way, since you should not be able to modify the array retrieved from a server via a List but via methods provided by the web service</p>\n"},{"tags":[],"owner":{"account_id":1010099,"reputation":11,"user_id":1022867,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320104123,"creation_date":1320104123,"answer_id":7960987,"question_id":298733,"body_markdown":"If you want to do this for any class.\r\n\r\n    return items.size() &gt; 0 ? items.toArray((Object[]) Array.newInstance(\r\n\t\t\t\titems.get(0).getClass(), 0)) : new Object[0];\r\n    \r\n    \t","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>If you want to do this for any class.</p>\n\n<pre><code>return items.size() &gt; 0 ? items.toArray((Object[]) Array.newInstance(\n            items.get(0).getClass(), 0)) : new Object[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3293007,"reputation":9,"user_id":2770867,"display_name":"Ahmed Mousaad Abdel-Wanees"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1378950556,"creation_date":1378950556,"answer_id":18754054,"question_id":298733,"body_markdown":"You can use &quot;ArrayList&quot; instead of inner &quot;List&quot;","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>You can use \"ArrayList\" instead of inner \"List\"</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681306052,"creation_date":1681306052,"answer_id":75996053,"question_id":298733,"body_markdown":"I had exactly the same error message than yours (in French):\r\n\r\n&gt; java.util.List est une interface et JAXB ne peut pas g&#233;rer les\r\n&gt; interfaces\r\n\r\nI had the same problem and I returned a `java.util.List&lt;RelationCanonical[]&gt;` in the declaration of the web method, I got a `java.util.List&lt;RelationCanonicalArray&gt;` in the client side code and I just had to call `RelationCanonicalArray.getItem()` to get a `java.util.List&lt;RelationCanonical&gt;`. I tested with Jakarta EE 9.1 with Wildfly 26.1.1. Henning&#39;s answer is correct but when `RelationCanonical` is already supported by JAXB, why driving things so much more complicated?","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>I had exactly the same error message than yours (in French):</p>\n<blockquote>\n<p>java.util.List est une interface et JAXB ne peut pas gérer les\ninterfaces</p>\n</blockquote>\n<p>I had the same problem and I returned a <code>java.util.List&lt;RelationCanonical[]&gt;</code> in the declaration of the web method, I got a <code>java.util.List&lt;RelationCanonicalArray&gt;</code> in the client side code and I just had to call <code>RelationCanonicalArray.getItem()</code> to get a <code>java.util.List&lt;RelationCanonical&gt;</code>. I tested with Jakarta EE 9.1 with Wildfly 26.1.1. Henning's answer is correct but when <code>RelationCanonical</code> is already supported by JAXB, why driving things so much more complicated?</p>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78285,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":298914,"answer_count":5,"score":52,"last_activity_date":1681306052,"creation_date":1227015599,"question_id":298733,"body_markdown":"I seemed to get the following exception when trying to deploy my application:\r\n\r\n    Caused by: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of     IllegalAnnotationExceptions\r\n    java.util.List is an interface, and JAXB can&#39;t handle interfaces.\r\n\tthis problem is related to the following location:\r\n\t\tat java.util.List\r\n\t\tat private java.util.List     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse._return\r\n\t\tat     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse\r\n    java.util.List does not have a no-arg default constructor.\r\n    \tthis problem is related to the following location:\r\n    \t\tat java.util.List\r\n    \t\tat private java.util.List foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse._return\r\n\t\tat     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse\r\n\r\n**&lt;br/&gt;My code worked just well until I changed the return type from List&lt;RelationCanonical&gt; to List&amp;lt;List&amp;lt;RelationCanonical&amp;gt;&amp;gt;**\r\n\r\nHere is the partial webservice:\r\n&lt;pre&gt;&lt;code&gt;\r\n@Name(&quot;relationService&quot;)\r\n@Stateless\r\n@WebService(name = &quot;RelationService&quot;, serviceName = &quot;RelationService&quot;)\r\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL, parameterStyle = SOAPBinding.ParameterStyle.WRAPPED)\r\npublic class RelationService implements RelationServiceLocal {\r\n\r\n\tprivate boolean login(String username, String password) {\r\n\t\tIdentity.instance().setUsername(username);\r\n\t\tIdentity.instance().setPassword(password);\r\n\t\tIdentity.instance().login();\r\n\t\treturn Identity.instance().isLoggedIn();\r\n\t}\r\n\r\n\tprivate boolean logout() {\r\n\t\tIdentity.instance().logout();\r\n\t\treturn !Identity.instance().isLoggedIn();\r\n\t}\r\n\r\n\t@WebMethod\r\n\tpublic List&amp;lt;List&amp;lt;RelationCanonical&amp;gt;&amp;gt; getRelationsFromPerson(@WebParam(name = &quot;username&quot;)\r\n\tString username, @WebParam(name = &quot;password&quot;)\r\n\tString password, @WebParam(name = &quot;foedselsnummer&quot;)\r\n\tString... foedselsnummer) {\r\n\r\n......\r\n......\r\n......\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n&lt;br/&gt;\r\n**I have also tried by removing the @SOAPBinding and trying default, but the same result occurs.\r\nAppreciate any help**\r\n\r\n**UPDATE**\r\n\r\nI want to note out something. I changed all List to ArrayList, and then it compiled. The reason why I say compiled and not worked is because it behaves strange. I get an Object of type: \r\nRelationServiceStub.ArrayList\r\nbut the object has no get methods or does not behave as a List either. I also tried to cast it to a List but that didnt work.\r\n\r\nNote that this is after I have used Axis 2 and wsdl2java So yes, now it compiles, but I dont know how to get the data out.","title":"java.util.List is an interface, and JAXB can&#39;t handle interfaces","body":"<p>I seemed to get the following exception when trying to deploy my application:</p>\n\n<pre><code>Caused by: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of     IllegalAnnotationExceptions\njava.util.List is an interface, and JAXB can't handle interfaces.\nthis problem is related to the following location:\n    at java.util.List\n    at private java.util.List     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse._return\n    at     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse\njava.util.List does not have a no-arg default constructor.\n    this problem is related to the following location:\n        at java.util.List\n        at private java.util.List foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse._return\n    at     foobar.alkohol.register.webservice.jaxws.GetRelationsFromPersonResponse\n</code></pre>\n\n<p><strong><br/>My code worked just well until I changed the return type from List to List&lt;List&lt;RelationCanonical&gt;&gt;</strong></p>\n\n<p>Here is the partial webservice:</p>\n\n<pre><code>\n@Name(\"relationService\")\n@Stateless\n@WebService(name = \"RelationService\", serviceName = \"RelationService\")\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL, parameterStyle = SOAPBinding.ParameterStyle.WRAPPED)\npublic class RelationService implements RelationServiceLocal {\n\n    private boolean login(String username, String password) {\n        Identity.instance().setUsername(username);\n        Identity.instance().setPassword(password);\n        Identity.instance().login();\n        return Identity.instance().isLoggedIn();\n    }\n\n    private boolean logout() {\n        Identity.instance().logout();\n        return !Identity.instance().isLoggedIn();\n    }\n\n    @WebMethod\n    public List&lt;List&lt;RelationCanonical&gt;&gt; getRelationsFromPerson(@WebParam(name = \"username\")\n    String username, @WebParam(name = \"password\")\n    String password, @WebParam(name = \"foedselsnummer\")\n    String... foedselsnummer) {\n\n......\n......\n......\n}\n</code></pre>\n\n<p><br/>\n<strong>I have also tried by removing the @SOAPBinding and trying default, but the same result occurs.\nAppreciate any help</strong></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I want to note out something. I changed all List to ArrayList, and then it compiled. The reason why I say compiled and not worked is because it behaves strange. I get an Object of type: \nRelationServiceStub.ArrayList\nbut the object has no get methods or does not behave as a List either. I also tried to cast it to a List but that didnt work.</p>\n\n<p>Note that this is after I have used Axis 2 and wsdl2java So yes, now it compiles, but I dont know how to get the data out.</p>\n"},{"tags":["java","eclipse","lombok","spring-tool-suite"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680729930,"post_id":75908741,"comment_id":133949809,"body_markdown":"See https://github.com/projectlombok/lombok/issues/2318","body":"See <a href=\"https://github.com/projectlombok/lombok/issues/2318\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2318</a>"},{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":0,"creation_date":1680769559,"post_id":75908741,"comment_id":133955245,"body_markdown":"Seems to be relevant to https://github.com/projectlombok/lombok/issues/2867","body":"Seems to be relevant to <a href=\"https://github.com/projectlombok/lombok/issues/2867\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2867</a>"}],"answers":[{"tags":[],"owner":{"account_id":7126990,"reputation":416,"user_id":5449595,"display_name":"gujou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680885223,"creation_date":1680885223,"answer_id":75960310,"question_id":75908741,"body_markdown":"Unfortunately, I don&#39;t think there is a good solution to your problem...\r\n\r\n&gt; HEADSUP: We&#39;ve changed how this is going to work. We&#39;re not going to\r\n&gt; hunt for @NonNullByDefault annotations; these are more usually found\r\n&gt; on the package and that&#39;d take rather a lot of time and complication\r\n&gt; to find, so now whether lombok generates the annotation or not is too\r\n&gt; &#39;voodoo magical&#39; (it is hard to explain that we see it on classes but\r\n&gt; not on packages!). Also, more generally, sometimes we need to generate\r\n&gt; the &#39;other&#39; annotation (non-null), in which case there&#39;s nothing we\r\n&gt; can see anywhere to tip us off that we need to do that.Therefore,\r\n&gt; instead, there is a lombok.config key where you  configure what kind\r\n&gt; of &#39;flavour&#39; of nullity annotations you want, and then lombok will\r\n&gt; generate them everywhere that it is relevant (toString, equals,\r\n&gt; canEqual, withX, and plural forms of @Singular properties for a\r\n&gt; builder). This also covers nullity annotations relevant for issue\r\n&gt; 2221.\r\n\r\n@cf : https://github.com/projectlombok/lombok/issues/788#issuecomment-579276102\r\n\r\nLombok&#39;s developer seems to have thrown in the towel... He thinks this is a bad idea to generate non null checks on package level...\r\n\r\n@cf: https://github.com/projectlombok/lombok/issues/788#issuecomment-318316538\r\n\r\nEven I&#39;m globally agree that he seems a bad idea to systematically do a non null check, I think you may have legit need and you probably could see how create your own annotation and add it in lombok.config with  a CUSTOM:fully.qualified.NonNullAnnotation value in lombok.addNullAnnotations parameter *(This feature was added in lombok v1.18.12)*.\r\n\r\n@cf : Global config keys in  https://projectlombok.org/features/configuration\r\n\r\nGLHF ;)","title":"Eclipse @NonNullByDefault error with lombok class using @Value","body":"<p>Unfortunately, I don't think there is a good solution to your problem...</p>\n<blockquote>\n<p>HEADSUP: We've changed how this is going to work. We're not going to\nhunt for @NonNullByDefault annotations; these are more usually found\non the package and that'd take rather a lot of time and complication\nto find, so now whether lombok generates the annotation or not is too\n'voodoo magical' (it is hard to explain that we see it on classes but\nnot on packages!). Also, more generally, sometimes we need to generate\nthe 'other' annotation (non-null), in which case there's nothing we\ncan see anywhere to tip us off that we need to do that.Therefore,\ninstead, there is a lombok.config key where you  configure what kind\nof 'flavour' of nullity annotations you want, and then lombok will\ngenerate them everywhere that it is relevant (toString, equals,\ncanEqual, withX, and plural forms of @Singular properties for a\nbuilder). This also covers nullity annotations relevant for issue\n2221.</p>\n</blockquote>\n<p>@cf : <a href=\"https://github.com/projectlombok/lombok/issues/788#issuecomment-579276102\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/788#issuecomment-579276102</a></p>\n<p>Lombok's developer seems to have thrown in the towel... He thinks this is a bad idea to generate non null checks on package level...</p>\n<p>@cf: <a href=\"https://github.com/projectlombok/lombok/issues/788#issuecomment-318316538\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/788#issuecomment-318316538</a></p>\n<p>Even I'm globally agree that he seems a bad idea to systematically do a non null check, I think you may have legit need and you probably could see how create your own annotation and add it in lombok.config with  a CUSTOM:fully.qualified.NonNullAnnotation value in lombok.addNullAnnotations parameter <em>(This feature was added in lombok v1.18.12)</em>.</p>\n<p>@cf : Global config keys in  <a href=\"https://projectlombok.org/features/configuration\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/configuration</a></p>\n<p>GLHF ;)</p>\n"}],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75960310,"answer_count":1,"score":0,"last_activity_date":1681305998,"creation_date":1680381679,"question_id":75908741,"body_markdown":"I am using Spring Tool Suite 4.18.0 (based on Eclipse) with Lombok v1.18.26 with this configuration in lombok.config:\r\n\r\n    config.stopBubbling = true \r\n    lombok.addLombokGeneratedAnnotation = true\r\n    lombok.noArgsConstructor.extraPrivate = false\r\n    lombok.addNullAnnotations = eclipse\r\nIn my package-info.java I have:\r\n\r\n    @org.eclipse.jdt.annotation.NonNullByDefault\r\n    package bb.b;\r\n\r\nIn the package bb.b I have the following class:\r\n\r\n    package bb.b;\r\n    \r\n    import lombok.Value;\r\n    \r\n    @Value\r\n    public class Test {\r\n    \r\n    }\r\n\r\nAnd I am getting the following error:\r\n\r\n&gt; Illegal redefinition of parameter o, inherited method from Object does\r\n&gt; not constrain this parameter\r\n\r\nHow can I configure Eclipse Null checking to play nicely with Lombok?\r\n \r\n\r\n\r\n","title":"Eclipse @NonNullByDefault error with lombok class using @Value","body":"<p>I am using Spring Tool Suite 4.18.0 (based on Eclipse) with Lombok v1.18.26 with this configuration in lombok.config:</p>\n<pre><code>config.stopBubbling = true \nlombok.addLombokGeneratedAnnotation = true\nlombok.noArgsConstructor.extraPrivate = false\nlombok.addNullAnnotations = eclipse\n</code></pre>\n<p>In my package-info.java I have:</p>\n<pre><code>@org.eclipse.jdt.annotation.NonNullByDefault\npackage bb.b;\n</code></pre>\n<p>In the package bb.b I have the following class:</p>\n<pre><code>package bb.b;\n\nimport lombok.Value;\n\n@Value\npublic class Test {\n\n}\n</code></pre>\n<p>And I am getting the following error:</p>\n<blockquote>\n<p>Illegal redefinition of parameter o, inherited method from Object does\nnot constrain this parameter</p>\n</blockquote>\n<p>How can I configure Eclipse Null checking to play nicely with Lombok?</p>\n"},{"tags":["java","json","timestamp","timestamp-with-timezone"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1681294938,"post_id":75994292,"comment_id":134032308,"body_markdown":"Is there a specific reason you&#39;re using java.sql.Timestamp instead of a java.time type?","body":"Is there a specific reason you&#39;re using java.sql.Timestamp instead of a java.time type?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1681295141,"post_id":75994292,"comment_id":134032364,"body_markdown":"You should in theory be using `java.time.OffsetDateTime`","body":"You should in theory be using <code>java.time.OffsetDateTime</code>"},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681295160,"post_id":75994292,"comment_id":134032371,"body_markdown":"It&#39; part of an existing codebase. I can switch to java.time. What are the changes I need to make ?","body":"It&#39; part of an existing codebase. I can switch to java.time. What are the changes I need to make ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681295206,"post_id":75994292,"comment_id":134032383,"body_markdown":"If you&#39;re not in control of the service you&#39;re calling, how do you hope to influence its output?","body":"If you&#39;re not in control of the service you&#39;re calling, how do you hope to influence its output?"},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681295506,"post_id":75994292,"comment_id":134032450,"body_markdown":"I&#39;m in control of the service. I will receive the input JSON with a timestamp like I mentioned in the question and I need to setup the response in same format. It&#39;s clear enough in the question, not sure what you&#39;re asking.","body":"I&#39;m in control of the service. I will receive the input JSON with a timestamp like I mentioned in the question and I need to setup the response in same format. It&#39;s clear enough in the question, not sure what you&#39;re asking."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681295510,"post_id":75994292,"comment_id":134032452,"body_markdown":"*For example, If my JSON input has this value :* how do you get that value from `Timestamp`?","body":"<i>For example, If my JSON input has this value :</i> how do you get that value from <code>Timestamp</code>?"},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681295586,"post_id":75994292,"comment_id":134032472,"body_markdown":"I&#39;m using Gson to parse it to my Java class having a Timestamp data member.","body":"I&#39;m using Gson to parse it to my Java class having a Timestamp data member."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681295700,"post_id":75994292,"comment_id":134032507,"body_markdown":"If it is only for an error case I would provide an additional field for the input timestamp as string and use it in the response. Actually converting it to Java variable only for the database access, not for response.","body":"If it is only for an error case I would provide an additional field for the input timestamp as string and use it in the response. Actually converting it to Java variable only for the database access, not for response."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681295706,"post_id":75994292,"comment_id":134032508,"body_markdown":"*I&#39;m using Gson to parse it to my Java class having a Timestamp data member.* Best to show that code *in the question* There&#39;s also [this](https://www.javadoc.io/static/com.google.code.gson/gson/2.8.0/com/google/gson/GsonBuilder.html#setDateFormat-java.lang.String-) having three overloads","body":"<i>I&#39;m using Gson to parse it to my Java class having a Timestamp data member.</i> Best to show that code <i>in the question</i> There&#39;s also <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.8.0/com/google/gson/GsonBuilder.html#setDateFormat-java.lang.String-\" rel=\"nofollow noreferrer\">this</a> having three overloads"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681296388,"post_id":75994292,"comment_id":134032654,"body_markdown":"If you were doing it &#39;manually&#39;, you&#39;d produce the json time string with `OffsetDateTime.ofInstant(ts.toInstant(), ZoneId.systemDefault()).toString()` (where `ts` is your `Timestamp`)","body":"If you were doing it &#39;manually&#39;, you&#39;d produce the json time string with <code>OffsetDateTime.ofInstant(ts.toInstant(), ZoneId.systemDefault()).toString()</code> (where <code>ts</code> is your <code>Timestamp</code>)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1681296446,"post_id":75994292,"comment_id":134032662,"body_markdown":"A `java.sql.Timestamp` has no offset information, and the meaning of its `toString()` is sensitive to the current default JVM timezone. It is a bad choice for this.","body":"A <code>java.sql.Timestamp</code> has no offset information, and the meaning of its <code>toString()</code> is sensitive to the current default JVM timezone. It is a bad choice for this."},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681296995,"post_id":75994292,"comment_id":134032786,"body_markdown":"@g00se This is working for Case 1 but for case 2 it&#39;s giving like this `2022-01-26T17:30:00.511+05:30`\nIt added the offset in the original timestamp and also displayed it.","body":"@g00se This is working for Case 1 but for case 2 it&#39;s giving like this <code>2022-01-26T17:30:00.511+05:30</code> It added the offset in the original timestamp and also displayed it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681297716,"post_id":75994292,"comment_id":134032933,"body_markdown":"I don&#39;t quite understand. By &quot;this&quot;, you mean my code showing how to produce `OffsetDateTime` from `Timestamp`?","body":"I don&#39;t quite understand. By &quot;this&quot;, you mean my code showing how to produce <code>OffsetDateTime</code> from <code>Timestamp</code>?"},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681298027,"post_id":75994292,"comment_id":134032997,"body_markdown":"Yes..I tried using the same.","body":"Yes..I tried using the same."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681298093,"post_id":75994292,"comment_id":134033014,"body_markdown":"We need to see the code","body":"We need to see the code"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681316260,"post_id":75994292,"comment_id":134037847,"body_markdown":"Is the requirement to return *the same string* or just *the same date, time and offset*? In other words, if you received `2022-01-26T12:00:00.511000+05:30`, would returning `2022-01-26T12:00:00.511+05:30` without the trailing zeroes on the fraction of second be OK or not?","body":"Is the requirement to return <i>the same string</i> or just <i>the same date, time and offset</i>? In other words, if you received <code>2022-01-26T12:00:00.511000+05:30</code>, would returning <code>2022-01-26T12:00:00.511+05:30</code> without the trailing zeroes on the fraction of second be OK or not?"},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681318416,"post_id":75994292,"comment_id":134038336,"body_markdown":"Yeah, it would be ok.","body":"Yeah, it would be ok."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681362624,"post_id":75994292,"comment_id":134044744,"body_markdown":"Thanks. In that case parsing into an `OffsetDateTime` is fine and probably what you want to do. IIRC, you need to give Gson an adapter (or similar) to get that to work.","body":"Thanks. In that case parsing into an <code>OffsetDateTime</code> is fine and probably what you want to do. IIRC, you need to give Gson an adapter (or similar) to get that to work."},{"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"score":0,"creation_date":1681569061,"post_id":75994292,"comment_id":134079302,"body_markdown":"@OleV.V. Yes, that&#39;s correct. I did that only.","body":"@OleV.V. Yes, that&#39;s correct. I did that only."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681305911,"creation_date":1681304882,"answer_id":75995840,"question_id":75994292,"body_markdown":"&gt;I&#39;m receiving a Timestamp via API in a Timestamp(java.sql) object\r\n\r\nNo, you are not. \r\n\r\nYou are receiving JSON text containing a string representing a moment in standard [ISO 8601][1] format. \r\n\r\nParse the string as a `java.time.OffsetDateTime` class. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2022-01-26T12:00:00.511+05:30&quot; ) ;\r\n\r\nAvoid the terribly flawed legacy date-time classes such as `java.sql.Timestamp`. Use only their replacement, the *java.time* classes. \r\n\r\nTo generate text in ISO 8601 format, simply call `OffsetDateTime#toString`. \r\n\r\n    String output = odt.toString() ;\r\n\r\n&gt;I&#39;m using Gson to parse it to my Java class having a Timestamp data member.\r\n\r\nDon’t. \r\n\r\nUse only *java.time* classes. \r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Timestamp value getting modified on receving the response","body":"<blockquote>\n<p>I'm receiving a Timestamp via API in a Timestamp(java.sql) object</p>\n</blockquote>\n<p>No, you are not.</p>\n<p>You are receiving JSON text containing a string representing a moment in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format.</p>\n<p>Parse the string as a <code>java.time.OffsetDateTime</code> class.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2022-01-26T12:00:00.511+05:30&quot; ) ;\n</code></pre>\n<p>Avoid the terribly flawed legacy date-time classes such as <code>java.sql.Timestamp</code>. Use only their replacement, the <em>java.time</em> classes.</p>\n<p>To generate text in ISO 8601 format, simply call <code>OffsetDateTime#toString</code>.</p>\n<pre><code>String output = odt.toString() ;\n</code></pre>\n<blockquote>\n<p>I'm using Gson to parse it to my Java class having a Timestamp data member.</p>\n</blockquote>\n<p>Don’t.</p>\n<p>Use only <em>java.time</em> classes.</p>\n"}],"owner":{"account_id":5463545,"reputation":41,"user_id":4344923,"display_name":"Saad Khan"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75995840,"answer_count":1,"score":0,"last_activity_date":1681305911,"creation_date":1681294473,"question_id":75994292,"body_markdown":"I&#39;m receiving a Timestamp via API in a `Timestamp`(java.sql) object and after some other validations I&#39;m sending response as a JSON containing that same timestamp value, but the format in which I sent and in which I receive are not the same every time.\r\n\r\nFor example, if my JSON input has this value:  \r\n**Case 1 :**\r\n```json\r\n&quot;interval_time&quot;: &quot;2022-01-26T12:00:00.511+05:30&quot;\r\n```\r\n\r\n**Reponse**:\r\n\r\n```json\r\n{\r\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26 12:00:00.511&quot;,\r\n    &quot;httpcode&quot;: 409,\r\n    &quot;documentationLink&quot;: &quot;&quot;,\r\n    &quot;status&quot;: &quot;ERROR&quot;\r\n}\r\n```\r\n\r\nNotice the missing `T` and offset value 05:30.\r\n\r\n**Case 2:** \r\n```json\r\n&quot;interval_end_time&quot;: &quot;2022-01-26T12:00:00.511Z&quot;\r\n```\r\n\r\n**Response**:\r\n\r\n```json\r\n{\r\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26 17:30:00.511&quot;,\r\n    &quot;httpcode&quot;: 409,\r\n    &quot;documentationLink&quot;: &quot;&quot;,\r\n    &quot;status&quot;: &quot;ERROR&quot;\r\n}\r\n```\r\n\r\nNotice the missing `T` and offset value got added in the timestamp.\r\n\r\nI need a consistent response and it should be exactly what is being sent as an input. No change in timezone or offset.\r\n\r\nFor Case 1, response should come like this:\r\n\r\n**Reponse**:\r\n\r\n```json\r\n{\r\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26T12:00:00.511+05:30&quot;,\r\n    &quot;httpcode&quot;: 409,\r\n    &quot;documentationLink&quot;: &quot;&quot;,\r\n    &quot;status&quot;: &quot;ERROR&quot;\r\n}\r\n```\r\n\r\nand for Case 2, it should be like this:\r\n\r\n**Response**:\r\n\r\n```json\r\n{\r\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26T12:00:00.511Z&quot;,\r\n    &quot;httpcode&quot;: 409,\r\n    &quot;documentationLink&quot;: &quot;&quot;,\r\n    &quot;status&quot;: &quot;ERROR&quot;\r\n}\r\n```\r\n\r\nNote: The team is following the ISO 8601 standard.","title":"Timestamp value getting modified on receving the response","body":"<p>I'm receiving a Timestamp via API in a <code>Timestamp</code>(java.sql) object and after some other validations I'm sending response as a JSON containing that same timestamp value, but the format in which I sent and in which I receive are not the same every time.</p>\n<p>For example, if my JSON input has this value:<br />\n<strong>Case 1 :</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;interval_time&quot;: &quot;2022-01-26T12:00:00.511+05:30&quot;\n</code></pre>\n<p><strong>Reponse</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26 12:00:00.511&quot;,\n    &quot;httpcode&quot;: 409,\n    &quot;documentationLink&quot;: &quot;&quot;,\n    &quot;status&quot;: &quot;ERROR&quot;\n}\n</code></pre>\n<p>Notice the missing <code>T</code> and offset value 05:30.</p>\n<p><strong>Case 2:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;interval_end_time&quot;: &quot;2022-01-26T12:00:00.511Z&quot;\n</code></pre>\n<p><strong>Response</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26 17:30:00.511&quot;,\n    &quot;httpcode&quot;: 409,\n    &quot;documentationLink&quot;: &quot;&quot;,\n    &quot;status&quot;: &quot;ERROR&quot;\n}\n</code></pre>\n<p>Notice the missing <code>T</code> and offset value got added in the timestamp.</p>\n<p>I need a consistent response and it should be exactly what is being sent as an input. No change in timezone or offset.</p>\n<p>For Case 1, response should come like this:</p>\n<p><strong>Reponse</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26T12:00:00.511+05:30&quot;,\n    &quot;httpcode&quot;: 409,\n    &quot;documentationLink&quot;: &quot;&quot;,\n    &quot;status&quot;: &quot;ERROR&quot;\n}\n</code></pre>\n<p>and for Case 2, it should be like this:</p>\n<p><strong>Response</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;message&quot;: &quot;Already contains result for timestamp : 2022-01-26T12:00:00.511Z&quot;,\n    &quot;httpcode&quot;: 409,\n    &quot;documentationLink&quot;: &quot;&quot;,\n    &quot;status&quot;: &quot;ERROR&quot;\n}\n</code></pre>\n<p>Note: The team is following the ISO 8601 standard.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1412281137,"creation_date":1412281137,"answer_id":26168964,"question_id":26166992,"body_markdown":"**Assumption**\r\n\r\nSpring Batch use some tables to store each JOB executed with its parameters. \r\nIf you run twice the job with the same parameters, the second one fails, because the job is identified by jobName and parameters.\r\n\r\n**1# Solution**\r\n\r\nYou could use JobExecution when run a new Job.\r\n\r\n    JobExecution execution = jobLauncher.run(job, new JobParameters());\r\n    .....\r\n    // Use a JobExecutionDao to retrieve the JobExecution by ID\r\n    JobExecution ex = jobExecutionDao.getJobExecution(execution.getId());\r\n\r\n**2# Solution**\r\n\r\nYou could implement a custom JobExecutionDao and perform a custom query to find your `JobExecution` on `BATCH_JOB_EXECUTION` table.\r\n[See here](http://docs.spring.io/spring-batch/reference/html/metaDataSchema.html) the reference of Spring.\r\n\r\n\r\nI hope my answer is helpful to you.","title":"Spring batch A job instance already exists","body":"<p><strong>Assumption</strong></p>\n\n<p>Spring Batch use some tables to store each JOB executed with its parameters. \nIf you run twice the job with the same parameters, the second one fails, because the job is identified by jobName and parameters.</p>\n\n<p><strong>1# Solution</strong></p>\n\n<p>You could use JobExecution when run a new Job.</p>\n\n<pre><code>JobExecution execution = jobLauncher.run(job, new JobParameters());\n.....\n// Use a JobExecutionDao to retrieve the JobExecution by ID\nJobExecution ex = jobExecutionDao.getJobExecution(execution.getId());\n</code></pre>\n\n<p><strong>2# Solution</strong></p>\n\n<p>You could implement a custom JobExecutionDao and perform a custom query to find your <code>JobExecution</code> on <code>BATCH_JOB_EXECUTION</code> table.\n<a href=\"http://docs.spring.io/spring-batch/reference/html/metaDataSchema.html\" rel=\"noreferrer\">See here</a> the reference of Spring.</p>\n\n<p>I hope my answer is helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412317803,"creation_date":1412317803,"answer_id":26174244,"question_id":26166992,"body_markdown":"There is another interface you can use: [JobExplorer][1]&lt;br/&gt;\r\nFrom its javadoc:\r\n\r\n&gt; Entry point for browsing executions of running or historical jobs and\r\n&gt; steps. Since the data may be re-hydrated from persistent storage, it\r\n&gt; may not contain volatile fields that would have been present when the\r\n&gt; execution was active\r\n\r\n  [1]: http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/core/explore/JobExplorer.html","title":"Spring batch A job instance already exists","body":"<p>There is another interface you can use: <a href=\"http://docs.spring.io/spring-batch/trunk/apidocs/org/springframework/batch/core/explore/JobExplorer.html\" rel=\"nofollow\">JobExplorer</a><br/>\nFrom its javadoc:</p>\n\n<blockquote>\n  <p>Entry point for browsing executions of running or historical jobs and\n  steps. Since the data may be re-hydrated from persistent storage, it\n  may not contain volatile fields that would have been present when the\n  execution was active</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1412512963,"creation_date":1412512963,"answer_id":26202664,"question_id":26166992,"body_markdown":"Use the Job Explorer as suggested by Luca Basso Ricci.\r\n\r\nBecause you do not know the job parameters you need to look up by instance.\r\n\r\n 1. Look for the last instance of job named searchExportJob\r\n 2. Look for the last execution of the instance above\r\n\r\nThis way you use Spring Batch API only\r\n\r\n   \r\n\r\n    //We can set count 1 because job instance are ordered by instance id descending\r\n    //so we know the first one returned is the last instance \r\n    List&lt;JobInstance&gt; instances = jobExplorer.getJobInstances(&quot;searchExportJob&quot;,0,1);\r\n    JobInstance lastInstance = instances.get(0);\r\n    List&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(lastInstance);\r\n    \r\n    //JobExcectuin is ordered by execution id descending so first \r\n    //result is the last execution\r\n    JobExecution  je = jobExecutions.get(0);\r\n    if (je != null &amp;&amp; je.getEndTime() != null) {\r\n         endTime = new DateTime(je.getEndTime());\r\n     }\r\n\r\nNote this code only work for Spring Batch 2.2.x and above  in 2.1.x the API was somewhat different \r\n","title":"Spring batch A job instance already exists","body":"<p>Use the Job Explorer as suggested by Luca Basso Ricci.</p>\n\n<p>Because you do not know the job parameters you need to look up by instance.</p>\n\n<ol>\n<li>Look for the last instance of job named searchExportJob</li>\n<li>Look for the last execution of the instance above</li>\n</ol>\n\n<p>This way you use Spring Batch API only</p>\n\n<pre><code>//We can set count 1 because job instance are ordered by instance id descending\n//so we know the first one returned is the last instance \nList&lt;JobInstance&gt; instances = jobExplorer.getJobInstances(\"searchExportJob\",0,1);\nJobInstance lastInstance = instances.get(0);\nList&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(lastInstance);\n\n//JobExcectuin is ordered by execution id descending so first \n//result is the last execution\nJobExecution  je = jobExecutions.get(0);\nif (je != null &amp;&amp; je.getEndTime() != null) {\n     endTime = new DateTime(je.getEndTime());\n }\n</code></pre>\n\n<p>Note this code only work for Spring Batch 2.2.x and above  in 2.1.x the API was somewhat different </p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661403100,"creation_date":1657002801,"answer_id":72864893,"question_id":26166992,"body_markdown":"If you are debugging your batch job and terminate your batch job before completing, then it will give this error if you try to start it again.\r\n\r\nTo start it again either you need to update the name of your job so that it will create another execution id.\r\n\r\nor you can update below tables.\r\n\r\n**BATCH_JOB_EXECUTION &lt;br&gt;\r\nBATCH_STEP_EXECUTION**\r\n\r\nYou need to update **Status** and **End_time** columns with non null values.","title":"Spring batch A job instance already exists","body":"<p>If you are debugging your batch job and terminate your batch job before completing, then it will give this error if you try to start it again.</p>\n<p>To start it again either you need to update the name of your job so that it will create another execution id.</p>\n<p>or you can update below tables.</p>\n<p><strong>BATCH_JOB_EXECUTION <br>\nBATCH_STEP_EXECUTION</strong></p>\n<p>You need to update <strong>Status</strong> and <strong>End_time</strong> columns with non null values.</p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670583550,"creation_date":1670583550,"answer_id":74742170,"question_id":26166992,"body_markdown":"Create new Job RunId everytime.\r\n\r\nIf your code involves creating Job object using Jobfactory then below snippet would be useful for the problem:\r\n\r\n        return jobBuilderFactory\r\n        .get(&quot;someJobName&quot;)\r\n        .incrementer(new RunIdIncrementer())   // solution lies here- creating new job id everytime\r\n        .flow(                                 // and here\r\n            stepBuilderFactory\r\n                .get(&quot;someTaskletStepName&quot;)\r\n                .tasklet(tasklet)   // u can replace it with step\r\n                .allowStartIfComplete(true)    // this will make the job run even if complete in last run \r\n                .build())\r\n        .end()\r\n        .build();","title":"Spring batch A job instance already exists","body":"<p>Create new Job RunId everytime.</p>\n<p>If your code involves creating Job object using Jobfactory then below snippet would be useful for the problem:</p>\n<pre><code>    return jobBuilderFactory\n    .get(&quot;someJobName&quot;)\n    .incrementer(new RunIdIncrementer())   // solution lies here- creating new job id everytime\n    .flow(                                 // and here\n        stepBuilderFactory\n            .get(&quot;someTaskletStepName&quot;)\n            .tasklet(tasklet)   // u can replace it with step\n            .allowStartIfComplete(true)    // this will make the job run even if complete in last run \n            .build())\n    .end()\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681054612,"creation_date":1680791302,"answer_id":75950696,"question_id":26166992,"body_markdown":"This issue could occur when you are doing the **debugging**.\r\n\r\nuse the below query to reset all previous jobs.\r\n\r\nExecute the below query for **Oracle**\r\n\r\n    UPDATE BATCH_JOB_EXECUTION bje SET bje.STATUS = &#39;FAILED&#39;, bje.END_TIME = SYSTIMESTAMP WHERE bje.END_TIME IS NULL \r\n    UPDATE BATCH_STEP_EXECUTION bse SET bse.STATUS = &#39;FAILED&#39;, bse.END_TIME = SYSTIMESTAMP  WHERE bse.END_TIME IS NULL\r\n\r\nThis query updates the status of any jobs that have not yet ended, setting them to &quot;FAILED&quot; and recording the current time as the end time. By doing this, you can effectively reset any previous jobs and ensure that your debugging process can proceed smoothly.","title":"Spring batch A job instance already exists","body":"<p>This issue could occur when you are doing the <strong>debugging</strong>.</p>\n<p>use the below query to reset all previous jobs.</p>\n<p>Execute the below query for <strong>Oracle</strong></p>\n<pre><code>UPDATE BATCH_JOB_EXECUTION bje SET bje.STATUS = 'FAILED', bje.END_TIME = SYSTIMESTAMP WHERE bje.END_TIME IS NULL \nUPDATE BATCH_STEP_EXECUTION bse SET bse.STATUS = 'FAILED', bse.END_TIME = SYSTIMESTAMP  WHERE bse.END_TIME IS NULL\n</code></pre>\n<p>This query updates the status of any jobs that have not yet ended, setting them to &quot;FAILED&quot; and recording the current time as the end time. By doing this, you can effectively reset any previous jobs and ensure that your debugging process can proceed smoothly.</p>\n"}],"owner":{"account_id":169505,"reputation":4356,"user_id":395631,"accept_rate":65,"display_name":"Petar Tahchiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30236,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26202664,"answer_count":6,"score":11,"last_activity_date":1681305808,"creation_date":1412273786,"question_id":26166992,"body_markdown":"OK,\r\n\r\nI know this has been asked before, but I still can&#39;t find a definite answer to my question. And my question is this: I am using spring batch to export data to SOLR search server. It needs to run every minute, so I can export all the updates. The first execution passes OK, but the second one complains with:\r\n\r\n    2014-10-02 20:37:00,022 [defaultTaskScheduler-1] ERROR: catching\r\n    org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException: A job     instance already exists and is complete for parameters={catalogVersionPK=3378876823725152,\r\n    type=UPDATE}.  If you want to run this job again, change the parameters.\r\n        at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:126)\r\n        at \r\n\r\nOf course I can add a date-time parameter to the job like this:\r\n\r\n    .addLong(&quot;time&quot;, System.getCurrentTimeMillis())\r\n\r\nand then the job can be run more than once. However, I also want to query the last execution of the job, so I have code like this:\r\n\r\n    DateTime endTime = new DateTime(0);\r\n    JobExecution je = jobRepository.getLastJobExecution(&quot;searchExportJob&quot;, new JobParametersBuilder().addLong(&quot;catalogVersionPK&quot;, catalogVersionPK).addString(&quot;type&quot;, type).toJobParameters());\r\n    if (je != null &amp;&amp; je.getEndTime() != null) {\r\n       endTime = new DateTime(je.getEndTime());\r\n    }\r\n\r\nand this returns nothing, because I didn&#39;t provide the time parameter. So seems like I can run the job once and get the last execution time, or i can run it multiple times and not get the last execution time. I am really stuck :(\r\n","title":"Spring batch A job instance already exists","body":"<p>OK,</p>\n\n<p>I know this has been asked before, but I still can't find a definite answer to my question. And my question is this: I am using spring batch to export data to SOLR search server. It needs to run every minute, so I can export all the updates. The first execution passes OK, but the second one complains with:</p>\n\n<pre><code>2014-10-02 20:37:00,022 [defaultTaskScheduler-1] ERROR: catching\norg.springframework.batch.core.repository.JobInstanceAlreadyCompleteException: A job     instance already exists and is complete for parameters={catalogVersionPK=3378876823725152,\ntype=UPDATE}.  If you want to run this job again, change the parameters.\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:126)\n    at \n</code></pre>\n\n<p>Of course I can add a date-time parameter to the job like this:</p>\n\n<pre><code>.addLong(\"time\", System.getCurrentTimeMillis())\n</code></pre>\n\n<p>and then the job can be run more than once. However, I also want to query the last execution of the job, so I have code like this:</p>\n\n<pre><code>DateTime endTime = new DateTime(0);\nJobExecution je = jobRepository.getLastJobExecution(\"searchExportJob\", new JobParametersBuilder().addLong(\"catalogVersionPK\", catalogVersionPK).addString(\"type\", type).toJobParameters());\nif (je != null &amp;&amp; je.getEndTime() != null) {\n   endTime = new DateTime(je.getEndTime());\n}\n</code></pre>\n\n<p>and this returns nothing, because I didn't provide the time parameter. So seems like I can run the job once and get the last execution time, or i can run it multiple times and not get the last execution time. I am really stuck :(</p>\n"},{"tags":["java","maven","aem"],"owner":{"account_id":2363152,"reputation":233,"user_id":2069416,"accept_rate":29,"display_name":"Karen Slon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681305580,"creation_date":1681305580,"question_id":75995966,"body_markdown":"I had to re-install AEM6.5 on my local system after I could not open CRX and had other errors \r\nbuilding the project. AT that time, re-indexing, deleting/regenerating repoinit/repo.lock/cahe.lock, implementing all those suggestions found online : did not fix the issue.\r\nSo, I had to re-install AEM6.5 on my local system \r\nwith aem-service-pkg-6.5.12.0-NPR-38144-B0002 service pack.\r\nNow when trying to build our maven project getting an error:\r\n\r\n&quot;Starting installation of subpackage ABC:abc.ui.content:1.1.0-SNAPSHOT\r\nError during processing.\r\norg.apache.jackrabbit.vault.packaging.PackageException: hook&amp;#39;s main class de.valtech.aecu.core.installhook.AecuInstallHook not found: aecu&quot;\r\n\r\nBuilding code that definitely is good. Another developer built it without issue.\r\nI do see AecuInstallHook as generated class in the project. So, it seems to exist.\r\n\r\nAt this point I am thinking to re-install again, but not sure any more if it will fix this issue.\r\nWhat may be causing this error?\r\nAny suggestions will be greatly appreciated.\r\nMany thanks\r\n\r\n","title":"&quot;AecuInstallHook not found&quot; error when building maven project","body":"<p>I had to re-install AEM6.5 on my local system after I could not open CRX and had other errors\nbuilding the project. AT that time, re-indexing, deleting/regenerating repoinit/repo.lock/cahe.lock, implementing all those suggestions found online : did not fix the issue.\nSo, I had to re-install AEM6.5 on my local system\nwith aem-service-pkg-6.5.12.0-NPR-38144-B0002 service pack.\nNow when trying to build our maven project getting an error:</p>\n<p>&quot;Starting installation of subpackage ABC:abc.ui.content:1.1.0-SNAPSHOT\nError during processing.\norg.apache.jackrabbit.vault.packaging.PackageException: hook's main class de.valtech.aecu.core.installhook.AecuInstallHook not found: aecu&quot;</p>\n<p>Building code that definitely is good. Another developer built it without issue.\nI do see AecuInstallHook as generated class in the project. So, it seems to exist.</p>\n<p>At this point I am thinking to re-install again, but not sure any more if it will fix this issue.\nWhat may be causing this error?\nAny suggestions will be greatly appreciated.\nMany thanks</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":2,"creation_date":1681074799,"post_id":75972885,"comment_id":133996446,"body_markdown":"what is your question about? you should have a look at how to ask a well-received question here.","body":"what is your question about? you should have a look at how to ask a well-received question here."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1681074897,"post_id":75972885,"comment_id":133996454,"body_markdown":"`What I am confused about is that every thread will have an instance member t` No.  Each thread has a *reference* to the object.  A reference is like a pointer.  There&#39;s only one heap memory object of type `Abs` allocated, and the `t` &quot;object&quot; definitely does not appear on any thread&#39;s stack.","body":"<code>What I am confused about is that every thread will have an instance member t</code> No.  Each thread has a <i>reference</i> to the object.  A reference is like a pointer.  There&#39;s only one heap memory object of type <code>Abs</code> allocated, and the <code>t</code> &quot;object&quot; definitely does not appear on any thread&#39;s stack."},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1681075059,"post_id":75972885,"comment_id":133996475,"body_markdown":"@catch23 Sorry I forgot to include the question.  Now I have edited it. Thanks.","body":"@catch23 Sorry I forgot to include the question.  Now I have edited it. Thanks."},{"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"score":0,"creation_date":1681075299,"post_id":75972885,"comment_id":133996500,"body_markdown":"@markspace So this means that Abs t; is just a refence to the object that will be passed to the constructor and not a variable in the stack of the thread ?  If yes , so this means that if we have declared another member variable  int x; , this means that this is also a reference to an integer and it is not a variable field in the stack of the thread ? Kindly clarify .","body":"@markspace So this means that Abs t; is just a refence to the object that will be passed to the constructor and not a variable in the stack of the thread ?  If yes , so this means that if we have declared another member variable  int x; , this means that this is also a reference to an integer and it is not a variable field in the stack of the thread ? Kindly clarify ."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1681075363,"post_id":75972885,"comment_id":133996511,"body_markdown":"No, primitives like `int` are values, not references.  The value appears directly as a instance field, not a reference to a value on the heap.","body":"No, primitives like <code>int</code> are values, not references.  The value appears directly as a instance field, not a reference to a value on the heap."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1681080866,"post_id":75972885,"comment_id":133997135,"body_markdown":"There is only &quot;one instance&quot; of Abs  obj created, both classes t1 and t2 have been loaded with the same instance..  It is bad textbook writing, it is not a.k.a shared, simply both have access to it!(and it may ever have better functionality in that situation designed as a static class but you are probably not ready for that problem concept ,  Worse, &quot;sharing&quot; in that situation can easily require &quot;asynchronous&quot; access  handling, and that may be as heavy a concept as static with reference to &quot;shared&quot;) The real fun starts at &quot;volatile&quot; keyword.","body":"There is only &quot;one instance&quot; of Abs  obj created, both classes t1 and t2 have been loaded with the same instance..  It is bad textbook writing, it is not a.k.a shared, simply both have access to it!(and it may ever have better functionality in that situation designed as a static class but you are probably not ready for that problem concept ,  Worse, &quot;sharing&quot; in that situation can easily require &quot;asynchronous&quot; access  handling, and that may be as heavy a concept as static with reference to &quot;shared&quot;) The real fun starts at &quot;volatile&quot; keyword."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1681081444,"post_id":75972885,"comment_id":133997197,"body_markdown":"[Thread Interference](https://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html\" rel=\"nofollow noreferrer\">Thread Interference</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1681085673,"post_id":75972885,"comment_id":133997595,"body_markdown":"Bruh, you are using the **exact same instance** in both threads. The fact that reference to that object is duplicated (or not, i dont event know), and is (or not) allocated on each thread heap does not matter as you will still use the same object a. \nIts like writing your home address on multiple sheets of paper and expecting that your house will magically clone itself so you can have N houses now:)","body":"Bruh, you are using the <b>exact same instance</b> in both threads. The fact that reference to that object is duplicated (or not, i dont event know), and is (or not) allocated on each thread heap does not matter as you will still use the same object a.  Its like writing your home address on multiple sheets of paper and expecting that your house will magically clone itself so you can have N houses now:)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681305523,"creation_date":1681085831,"answer_id":75973528,"question_id":75972885,"body_markdown":"# One object, two references\r\n\r\nYou said:\r\n\r\n&gt; every thread will have an instance member t of class Abs\r\n\r\n\r\n&gt; we have an instance member for every thread\r\n\r\nNo, not so.\r\n\r\nEach of your two `Task1` objects holds a *reference* to an object of type `Abs`, the very same single object. You instantiated only a single `Abs` object. Then you passed a *reference* to each of the `new Task1( obj )` calls. \r\n\r\n&#128073; Knowing the difference between an [object][1] (a chunk of memory) and a [reference][2] (basically, a pointer to that chunk’s location in memory) is crucial here. If you are not clear on this, [study the subject][3].\r\n\r\nSince you have only one `Abs` object in your example app, there is only one `int` primitive variable named `x`. So your code is dealing with a single number value. Each of your threads is accessing, and replacing, that value. So your code is **not thread-safe**. \r\n\r\nSee also [comment by markspace][4].\r\n\r\n```java\r\nAbs obj = new Abs();          // (1) Create one single object. (2) Create a reference to that object. (3) Store that reference in a variable named `obj`.\r\nTask1 t1 = new Task1( obj );  // Pass a *reference* to this constructor.\r\nTask1 t2 = new Task1( obj );  // Pass a *reference* to this constructor. Happens to be the very same reference passed in line above.\r\n// At this point, both `t1` and `t2` hold a reference leading to the same single `Abs` object. One object in memory, two references to that object.\r\n```\r\n\r\n[![screenshot of two `Task1` objects, but only a single `Abs` object][5]][5]\r\n\r\n## Race condition\r\n\r\nThe race condition occurs because &#128073; **`x++` is *not* an atomic operation**, as discussed [here][6]. Three separate operations occur: \r\n\r\n - Reading `x`.\r\n - Incrementing for a new value.\r\n - Writing the new value back to `x`.\r\n\r\nBeing non-atomic means one thread can *read* the value of that number, and in an intervening moment, a second thread can both *read and increment* that same number, writing a new value to the `x` variable. A moment later, the first thread *increments* its previously read value, and stores that new value back into `x`. (Which threads operate in what order for however amount of time between pauses is completely unpredictable!)\r\n\r\nSo both threads can read a value of `1`. And both threads can increment that value to `2`. The **value `2` can be written *twice***, once by each of the two threads. \r\n\r\nThe lesson to learn in concurrency is that &#128073; **any mutable resource shared across threads must be protected**. (Simple in concept, tricky in practice.)\r\n\r\n## `AtomicInteger`\r\n\r\nIn your case, one simple way to add that protection is to change your `int x` primitive to an [`AtomicInteger`][7] object. The `AtomicInteger` class makes reading, writing, and reporting an integer value atomic. \r\n\r\nIn `Abs` class, change the declaration of `x`. And change the incrementing line `x++` to call a method on `AtomicInteger` instead. \r\n\r\nWe mark `x` as `final` to prevent any reassignment to a different `AtomicInteger` object. Reassignment would ruin the integrity of our purpose of a rolling counter.\r\n\r\n```java\r\nclass Abs\r\n{\r\n    final AtomicInteger x = new AtomicInteger( 0 ) ;\r\n    public void increment ( )\r\n    {\r\n        int newValue = x.incrementAndGet() ;\r\n        System.out.println( newValue );\r\n    }\r\n}\r\n```\r\n\r\nA fine point on code above: We instantiate our `AtomicInteger` as part of the declaration because this guarantees per the [Java specification][8] that the code will be run *before* any other code has a chance to access this member field. Combined with `final`, we know that all threads will see and access the same single reference stored in `x` in a thread-safe manner.\r\n\r\n----------\r\n\r\nBy the way, in modern Java we rarely address the `Thread` class directly. Generally best to use the Executors framework instead.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object_(computer_science)\r\n  [2]: https://en.wikipedia.org/wiki/Reference_(computer_science)\r\n  [3]: https://duckduckgo.com/?q=java%20object%20versus%20reference&amp;t=osx&amp;ia=web\r\n  [4]: https://stackoverflow.com/questions/75972885/shared-instances-between-threads-in-java#comment133996454_75972885\r\n  [5]: https://i.stack.imgur.com/qnGdQ.png\r\n  [6]: https://stackoverflow.com/q/25168062/642706\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\r\n  [8]: https://docs.oracle.com/javase/specs/\r\n\r\n","title":"Shared instances between threads in java","body":"<h1>One object, two references</h1>\n<p>You said:</p>\n<blockquote>\n<p>every thread will have an instance member t of class Abs</p>\n</blockquote>\n<blockquote>\n<p>we have an instance member for every thread</p>\n</blockquote>\n<p>No, not so.</p>\n<p>Each of your two <code>Task1</code> objects holds a <em>reference</em> to an object of type <code>Abs</code>, the very same single object. You instantiated only a single <code>Abs</code> object. Then you passed a <em>reference</em> to each of the <code>new Task1( obj )</code> calls.</p>\n<p>👉 Knowing the difference between an <a href=\"https://en.wikipedia.org/wiki/Object_(computer_science)\" rel=\"nofollow noreferrer\">object</a> (a chunk of memory) and a <a href=\"https://en.wikipedia.org/wiki/Reference_(computer_science)\" rel=\"nofollow noreferrer\">reference</a> (basically, a pointer to that chunk’s location in memory) is crucial here. If you are not clear on this, <a href=\"https://duckduckgo.com/?q=java%20object%20versus%20reference&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">study the subject</a>.</p>\n<p>Since you have only one <code>Abs</code> object in your example app, there is only one <code>int</code> primitive variable named <code>x</code>. So your code is dealing with a single number value. Each of your threads is accessing, and replacing, that value. So your code is <strong>not thread-safe</strong>.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/75972885/shared-instances-between-threads-in-java#comment133996454_75972885\">comment by markspace</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Abs obj = new Abs();          // (1) Create one single object. (2) Create a reference to that object. (3) Store that reference in a variable named `obj`.\nTask1 t1 = new Task1( obj );  // Pass a *reference* to this constructor.\nTask1 t2 = new Task1( obj );  // Pass a *reference* to this constructor. Happens to be the very same reference passed in line above.\n// At this point, both `t1` and `t2` hold a reference leading to the same single `Abs` object. One object in memory, two references to that object.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qnGdQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnGdQ.png\" alt=\"screenshot of two Task1 objects, but only a single Abs object\" /></a></p>\n<h2>Race condition</h2>\n<p>The race condition occurs because 👉 <strong><code>x++</code> is <em>not</em> an atomic operation</strong>, as discussed <a href=\"https://stackoverflow.com/q/25168062/642706\">here</a>. Three separate operations occur:</p>\n<ul>\n<li>Reading <code>x</code>.</li>\n<li>Incrementing for a new value.</li>\n<li>Writing the new value back to <code>x</code>.</li>\n</ul>\n<p>Being non-atomic means one thread can <em>read</em> the value of that number, and in an intervening moment, a second thread can both <em>read and increment</em> that same number, writing a new value to the <code>x</code> variable. A moment later, the first thread <em>increments</em> its previously read value, and stores that new value back into <code>x</code>. (Which threads operate in what order for however amount of time between pauses is completely unpredictable!)</p>\n<p>So both threads can read a value of <code>1</code>. And both threads can increment that value to <code>2</code>. The <strong>value <code>2</code> can be written <em>twice</em></strong>, once by each of the two threads.</p>\n<p>The lesson to learn in concurrency is that 👉 <strong>any mutable resource shared across threads must be protected</strong>. (Simple in concept, tricky in practice.)</p>\n<h2><code>AtomicInteger</code></h2>\n<p>In your case, one simple way to add that protection is to change your <code>int x</code> primitive to an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a> object. The <code>AtomicInteger</code> class makes reading, writing, and reporting an integer value atomic.</p>\n<p>In <code>Abs</code> class, change the declaration of <code>x</code>. And change the incrementing line <code>x++</code> to call a method on <code>AtomicInteger</code> instead.</p>\n<p>We mark <code>x</code> as <code>final</code> to prevent any reassignment to a different <code>AtomicInteger</code> object. Reassignment would ruin the integrity of our purpose of a rolling counter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Abs\n{\n    final AtomicInteger x = new AtomicInteger( 0 ) ;\n    public void increment ( )\n    {\n        int newValue = x.incrementAndGet() ;\n        System.out.println( newValue );\n    }\n}\n</code></pre>\n<p>A fine point on code above: We instantiate our <code>AtomicInteger</code> as part of the declaration because this guarantees per the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java specification</a> that the code will be run <em>before</em> any other code has a chance to access this member field. Combined with <code>final</code>, we know that all threads will see and access the same single reference stored in <code>x</code> in a thread-safe manner.</p>\n<hr />\n<p>By the way, in modern Java we rarely address the <code>Thread</code> class directly. Generally best to use the Executors framework instead.</p>\n"}],"owner":{"account_id":23601844,"reputation":315,"user_id":17638206,"display_name":"AAA"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75973528,"answer_count":1,"score":1,"last_activity_date":1681305523,"creation_date":1681074629,"question_id":75972885,"body_markdown":"Consider the following code : \r\n\r\n```java\r\nclass Abs\r\n{\r\n    int x = 0;\r\n    public void increment ( )\r\n    {\r\n        x++;\r\n        System.out.println( x );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass Task1 extends Thread\r\n{\r\n    Abs t;\r\n    public Task1 ( Abs x ) { t = x; }\r\n    public void run ( ) { t.increment(); }\r\n}\r\n```\r\n\r\n```java\r\npublic class Multi\r\n{\r\n    public static void main ( String args[] )\r\n    {\r\n        Abs obj = new Abs();\r\n        Task1 t1 = new Task1( obj );\r\n        Task1 t2 = new Task1( obj );\r\n\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n}\r\n```\r\n\r\nThis will make the member variable `x` of object `obj` shared between the threads `t1` and `t2`, and hence, race condition can occur resulting in the following output:\r\n\r\n```none\r\n    2\r\n    2\r\n```\r\n\r\nThis is because the object `obj`  is in the heap, and hence, it is shared between the threads `t1` and `t2` ( and consequently sharing the member variable `x`). \r\n\r\nWhat I am confused about is that  every thread will have an instance member `t` of class `Abs`. Now in the constructor we are assigning this instance member to the passed Abs object ( `t=x;` ). What confuses me is that since we have an instance member for every thread, this means that this instance member will be in the stack of every thread and when we assign this instance member to the passed `Abs` object, this means that every thread will have its own Abs object as they will be in the stack of the thread (because the instance member is in the stack of the thread), and therefore, the object `obj` will not be shared between the two threads t1 and t2. So how the object `obj` is actually shared between the two threads in this example?","title":"Shared instances between threads in java","body":"<p>Consider the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Abs\n{\n    int x = 0;\n    public void increment ( )\n    {\n        x++;\n        System.out.println( x );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Task1 extends Thread\n{\n    Abs t;\n    public Task1 ( Abs x ) { t = x; }\n    public void run ( ) { t.increment(); }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Multi\n{\n    public static void main ( String args[] )\n    {\n        Abs obj = new Abs();\n        Task1 t1 = new Task1( obj );\n        Task1 t2 = new Task1( obj );\n\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n<p>This will make the member variable <code>x</code> of object <code>obj</code> shared between the threads <code>t1</code> and <code>t2</code>, and hence, race condition can occur resulting in the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    2\n    2\n</code></pre>\n<p>This is because the object <code>obj</code>  is in the heap, and hence, it is shared between the threads <code>t1</code> and <code>t2</code> ( and consequently sharing the member variable <code>x</code>).</p>\n<p>What I am confused about is that  every thread will have an instance member <code>t</code> of class <code>Abs</code>. Now in the constructor we are assigning this instance member to the passed Abs object ( <code>t=x;</code> ). What confuses me is that since we have an instance member for every thread, this means that this instance member will be in the stack of every thread and when we assign this instance member to the passed <code>Abs</code> object, this means that every thread will have its own Abs object as they will be in the stack of the thread (because the instance member is in the stack of the thread), and therefore, the object <code>obj</code> will not be shared between the two threads t1 and t2. So how the object <code>obj</code> is actually shared between the two threads in this example?</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":404984,"reputation":2612,"user_id":773623,"display_name":"Jonathan Drapeau"},"score":3,"creation_date":1378900887,"post_id":18740501,"comment_id":27619484,"body_markdown":"You really want 2 commas?","body":"You really want 2 commas?"},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1378901525,"post_id":18740501,"comment_id":27619935,"body_markdown":"what do you mean by: _This doesn&#39;t work for me_","body":"what do you mean by: <i>This doesn&#39;t work for me</i>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1598962302,"post_id":18740501,"comment_id":112620534,"body_markdown":"Given your inputs, how do you expect those extra commas to appear?","body":"Given your inputs, how do you expect those extra commas to appear?"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378900996,"creation_date":1378900676,"answer_id":18740562,"question_id":18740501,"body_markdown":"What You are doing is  `intializing` your result string  each time.\r\n\r\nActually ,you want to do\r\n\r\n\r\n    String finalString =&quot;&quot;;\r\n    for(String tempString:setInput){\r\n          finalString += &quot;,&quot; + tempString + &quot;,&quot; ;   \r\n    }\r\n\r\nBut the above approach causes multiple `String` creations.\r\n\r\nBut I suggest to go for `StringBuilder`.\r\n\r\n\r\n     StringBuilder finalStringb =new StringBuilder();\r\n        for(String tempString:setInput){\r\n              finalStringb.append(&quot;,&quot;).append(tempString).append(&quot;,&quot;) ;   \r\n        }\r\n    \t\r\n    String finalS = finalStringb.toString();","title":"Combine multiple strings into one string in Java","body":"<p>What You are doing is  <code>intializing</code> your result string  each time.</p>\n\n<p>Actually ,you want to do</p>\n\n<pre><code>String finalString =\"\";\nfor(String tempString:setInput){\n      finalString += \",\" + tempString + \",\" ;   \n}\n</code></pre>\n\n<p>But the above approach causes multiple <code>String</code> creations.</p>\n\n<p>But I suggest to go for <code>StringBuilder</code>.</p>\n\n<pre><code> StringBuilder finalStringb =new StringBuilder();\n    for(String tempString:setInput){\n          finalStringb.append(\",\").append(tempString).append(\",\") ;   \n    }\n\nString finalS = finalStringb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1681305409,"creation_date":1378900789,"answer_id":18740600,"question_id":18740501,"body_markdown":"It is better to use `StringBuilder` \r\n\r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    for(String tempString:setInput){\r\n        sb.append(&quot;,&quot;).append(tempString).append(&quot;,&quot;);   \r\n    }","title":"Combine multiple strings into one string in Java","body":"<p>It is better to use <code>StringBuilder</code></p>\n<pre><code>StringBuilder sb = new StringBuilder();\n\nfor(String tempString:setInput){\n    sb.append(&quot;,&quot;).append(tempString).append(&quot;,&quot;);   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1378901161,"creation_date":1378901161,"answer_id":18740725,"question_id":18740501,"body_markdown":"Alternatively, if you are using Java 8, you could try something like this:\r\n\r\n    public static String join(final Set&lt;String&gt; set){\r\n        return new StringBuilder(&quot;,&quot;).append(set.stream().collect(Collectors.joining(&quot;,,&quot;))).append(&quot;,&quot;).toString();\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        Set&lt;String&gt; setInput = new TreeSet&lt;&gt;();\r\n        setInput.add(&quot;Dog&quot;);\r\n        setInput.add(&quot;Cat&quot;);\r\n        setInput.add(&quot;Mouse&quot;);\r\n        System.out.println(join(setInput));\r\n    }\r\n\r\nThe output is:\r\n\r\n`,Cat,,Dog,,Mouse,`\r\n\r\nAlthough, I&#39;m a little unsure to why you would want 2 commas in between each element and a comma at the start and end. If you just want one comma separating each element (and no comma at the start or end), modify the `join(Set&lt;String&gt;)` to look like this:\r\n\r\n    public static String join(final Set&lt;String&gt; set){\r\n        return set.stream().collect(Collectors.joining(&quot;,&quot;)); //change &quot;,&quot; to &quot;, &quot; for spacing\r\n    }\r\n\r\nAfter doing so, the new output would be:\r\n\r\n`Cat,Dog,Mouse`","title":"Combine multiple strings into one string in Java","body":"<p>Alternatively, if you are using Java 8, you could try something like this:</p>\n\n<pre><code>public static String join(final Set&lt;String&gt; set){\n    return new StringBuilder(\",\").append(set.stream().collect(Collectors.joining(\",,\"))).append(\",\").toString();\n}\n\npublic static void main(String args[]){\n    Set&lt;String&gt; setInput = new TreeSet&lt;&gt;();\n    setInput.add(\"Dog\");\n    setInput.add(\"Cat\");\n    setInput.add(\"Mouse\");\n    System.out.println(join(setInput));\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<p><code>,Cat,,Dog,,Mouse,</code></p>\n\n<p>Although, I'm a little unsure to why you would want 2 commas in between each element and a comma at the start and end. If you just want one comma separating each element (and no comma at the start or end), modify the <code>join(Set&lt;String&gt;)</code> to look like this:</p>\n\n<pre><code>public static String join(final Set&lt;String&gt; set){\n    return set.stream().collect(Collectors.joining(\",\")); //change \",\" to \", \" for spacing\n}\n</code></pre>\n\n<p>After doing so, the new output would be:</p>\n\n<p><code>Cat,Dog,Mouse</code></p>\n"},{"tags":[],"owner":{"account_id":6561788,"reputation":85,"user_id":5072633,"accept_rate":50,"display_name":"Bukhtawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490200432,"creation_date":1490200432,"answer_id":42957625,"question_id":18740501,"body_markdown":"org.apache.commons.lang.StringUtils.join() can come in handy","title":"Combine multiple strings into one string in Java","body":"<p>org.apache.commons.lang.StringUtils.join() can come in handy</p>\n"},{"tags":[],"owner":{"account_id":11003756,"reputation":735,"user_id":8303430,"display_name":"Rituraj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1600323592,"creation_date":1501108473,"answer_id":45338524,"question_id":18740501,"body_markdown":"Or we can use Java 8 Stream\r\n\r\n    String joined = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).collect(Collectors.joining(&quot;delimiter&quot;, &quot;prefix&quot;, &quot;suffix&quot;));\r\n\r\nOr use the StringJoiner class\r\n\r\n    Directly Use StringJoiner class\r\n\r\nOr the StringBuilder class\r\n\r\n    new StringBuilder().add(&quot;A&quot;).add(&quot;B&quot;).toString()","title":"Combine multiple strings into one string in Java","body":"<p>Or we can use Java 8 Stream</p>\n<pre><code>String joined = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).collect(Collectors.joining(&quot;delimiter&quot;, &quot;prefix&quot;, &quot;suffix&quot;));\n</code></pre>\n<p>Or use the StringJoiner class</p>\n<pre><code>Directly Use StringJoiner class\n</code></pre>\n<p>Or the StringBuilder class</p>\n<pre><code>new StringBuilder().add(&quot;A&quot;).add(&quot;B&quot;).toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4263617,"reputation":377,"user_id":3487293,"display_name":"Dalton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532001404,"creation_date":1531940586,"answer_id":51409298,"question_id":18740501,"body_markdown":"Maybe you are looking only for \r\n\r\n`String csvString = &quot;,&quot; + String.join(&quot;,,&quot;, string1, string2, string3) +&quot;,&quot; ;`\r\n\r\n[Reference](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-)","title":"Combine multiple strings into one string in Java","body":"<p>Maybe you are looking only for </p>\n\n<p><code>String csvString = \",\" + String.join(\",,\", string1, string2, string3) +\",\" ;</code></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605000509,"creation_date":1598961642,"answer_id":63687239,"question_id":18740501,"body_markdown":"**Solution 1: (If you don&#39;t need a delimiter)**\r\n\r\n\r\n----------\r\n\r\n\r\nI would recommend using `concat(Object... objects)` from `org.assertj.core.util.String`.\r\n\r\n    public static String concat(Object... objects) {\r\n        return Arrays.isNullOrEmpty(objects) ? null : (String)java.util.Arrays.stream(objects).map(String::valueOf).collect(Collectors.joining());\r\n    }\r\n\r\n\r\nYou can use it like this:\r\n\r\n\r\n      concat(&quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;, &quot;string4&quot;);\r\n\r\n**Solution 2 using StringJoiner (Java 8+):**\r\n\r\n\r\n----------\r\n\r\n\r\nThis is from `java.util`. You even have the option to specify a prefix and suffix.\r\n\r\n\r\n    StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\r\n     \r\n    stringJoiner.add(&quot;string1&quot;);\r\n    stringJoiner.add(&quot;string2&quot;);\r\n    stringJoiner.add(&quot;string3&quot;);\r\n     \r\n    assertEquals(&quot;string1, string2, string3&quot;, stringJoiner.toString());\r\n\r\n\r\n**Solution 3 using Collectors.joining (Java 8+):**\r\n\r\n\r\n----------\r\n\r\n\r\nThis is a functionality from Java 8 Stream API.\r\n\r\n    List&lt;String&gt; stringList = Arrays.asList(&quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;);\r\n     \r\n    String concatString = stringList.stream().collect(Collectors.joining(&quot;, &quot;));\r\n     \r\n    assertEquals(&quot;string1, string2, string3&quot;, concatString);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Combine multiple strings into one string in Java","body":"<p><strong>Solution 1: (If you don't need a delimiter)</strong></p>\n<hr />\n<p>I would recommend using <code>concat(Object... objects)</code> from <code>org.assertj.core.util.String</code>.</p>\n<pre><code>public static String concat(Object... objects) {\n    return Arrays.isNullOrEmpty(objects) ? null : (String)java.util.Arrays.stream(objects).map(String::valueOf).collect(Collectors.joining());\n}\n</code></pre>\n<p>You can use it like this:</p>\n<pre><code>  concat(&quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;, &quot;string4&quot;);\n</code></pre>\n<p><strong>Solution 2 using StringJoiner (Java 8+):</strong></p>\n<hr />\n<p>This is from <code>java.util</code>. You even have the option to specify a prefix and suffix.</p>\n<pre><code>StringJoiner stringJoiner = new StringJoiner(&quot;, &quot;);\n \nstringJoiner.add(&quot;string1&quot;);\nstringJoiner.add(&quot;string2&quot;);\nstringJoiner.add(&quot;string3&quot;);\n \nassertEquals(&quot;string1, string2, string3&quot;, stringJoiner.toString());\n</code></pre>\n<p><strong>Solution 3 using Collectors.joining (Java 8+):</strong></p>\n<hr />\n<p>This is a functionality from Java 8 Stream API.</p>\n<pre><code>List&lt;String&gt; stringList = Arrays.asList(&quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;);\n \nString concatString = stringList.stream().collect(Collectors.joining(&quot;, &quot;));\n \nassertEquals(&quot;string1, string2, string3&quot;, concatString);\n</code></pre>\n"}],"owner":{"account_id":3282666,"reputation":79,"user_id":2762881,"accept_rate":0,"display_name":"user2762881"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55127,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":7,"score":7,"last_activity_date":1681305409,"creation_date":1378900520,"question_id":18740501,"body_markdown":"I have a set of Strings that I want to combine into one String with all sentences separated with a coma (&quot;,&quot;) like in a .csv file.\r\n\r\nHere is my code:\r\n\r\n    String dataContainer;\r\n\r\n    for (String tempString : setInput) {\r\n        String finalString = &quot;,&quot; + tempString + &quot;,&quot;;   \r\n    }\r\n\r\nThis doesn&#39;t work with me :(  \r\n   \r\nBut it should do for `Set` e.g.:\r\n\r\n    Set&lt;String&gt; setInput = new TreeSet();\r\n    setInput.add(&quot;Dog&quot;);\r\n    setInput.add(&quot;Cat&quot;);\r\n    setInput.add(&quot;Mouse&quot;);\r\n\r\nto produce the String:\r\n\r\n    ,Dog,,Cat,,Mouse,","title":"Combine multiple strings into one string in Java","body":"<p>I have a set of Strings that I want to combine into one String with all sentences separated with a coma (&quot;,&quot;) like in a .csv file.</p>\n<p>Here is my code:</p>\n<pre><code>String dataContainer;\n\nfor (String tempString : setInput) {\n    String finalString = &quot;,&quot; + tempString + &quot;,&quot;;   \n}\n</code></pre>\n<p>This doesn't work with me :(</p>\n<p>But it should do for <code>Set</code> e.g.:</p>\n<pre><code>Set&lt;String&gt; setInput = new TreeSet();\nsetInput.add(&quot;Dog&quot;);\nsetInput.add(&quot;Cat&quot;);\nsetInput.add(&quot;Mouse&quot;);\n</code></pre>\n<p>to produce the String:</p>\n<pre><code>,Dog,,Cat,,Mouse,\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2577620,"reputation":1618,"user_id":2234942,"accept_rate":43,"display_name":"Kalaiarasan Manimaran"},"score":2,"creation_date":1424244618,"post_id":28578181,"comment_id":45464918,"body_markdown":"Using thread doesnt guarantee flow of execution as you expected","body":"Using thread doesnt guarantee flow of execution as you expected"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1424244877,"post_id":28578181,"comment_id":45465022,"body_markdown":"When do you want to call it?","body":"When do you want to call it?"},{"owner":{"account_id":3406958,"reputation":739,"user_id":2857804,"accept_rate":44,"display_name":"Raj"},"score":0,"creation_date":1424246128,"post_id":28578181,"comment_id":45465550,"body_markdown":"@immibis .. I want call before the return of getCountry() and execute the printValues() method in background. this is like thread separation.","body":"@immibis .. I want call before the return of getCountry() and execute the printValues() method in background. this is like thread separation."}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424246375,"creation_date":1424246375,"answer_id":28578689,"question_id":28578181,"body_markdown":"The *simplest* way to run some code in a new thread, assuming you have a Java 8 compiler:\r\n\r\n    new Thread(() -&gt; {\r\n        printValues();\r\n    }).start();\r\n\r\nor assuming you don&#39;t have a Java 8 compiler:\r\n\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            printValues();\r\n        }\r\n    }).start();\r\n\r\nNote, however, that this might not do what you want.\r\n\r\n(Some people will recommend using an Executor; when you only have one task to run, there is no difference in behaviour, but the Executor would add more complexity)","title":"Assign a task to Thread and return from method","body":"<p>The <em>simplest</em> way to run some code in a new thread, assuming you have a Java 8 compiler:</p>\n\n<pre><code>new Thread(() -&gt; {\n    printValues();\n}).start();\n</code></pre>\n\n<p>or assuming you don't have a Java 8 compiler:</p>\n\n<pre><code>new Thread() {\n    @Override\n    public void run() {\n        printValues();\n    }\n}).start();\n</code></pre>\n\n<p>Note, however, that this might not do what you want.</p>\n\n<p>(Some people will recommend using an Executor; when you only have one task to run, there is no difference in behaviour, but the Executor would add more complexity)</p>\n"},{"tags":[],"owner":{"account_id":1909351,"reputation":11,"user_id":1723585,"display_name":"user1723585"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424274437,"creation_date":1424273076,"answer_id":28587193,"question_id":28578181,"body_markdown":"You could rewrite your `printValues()` method this way to start a thread inside the method for the execution of what you want.\r\n\r\n    public void printValues() {\r\n        Thread t = new Thread(new Runnable() {\t\r\n\t        @Override\r\n\t\t    public void run() {\r\n\t\t        for (int i = 0 ; i &lt; 200; ++i) {\r\n\t\t            System.out.println(i);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    });\r\n        t.start();\r\n    }","title":"Assign a task to Thread and return from method","body":"<p>You could rewrite your <code>printValues()</code> method this way to start a thread inside the method for the execution of what you want.</p>\n\n<pre><code>public void printValues() {\n    Thread t = new Thread(new Runnable() {  \n        @Override\n        public void run() {\n            for (int i = 0 ; i &lt; 200; ++i) {\n                System.out.println(i);\n            }\n        }\n    });\n    t.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735131,"reputation":1080,"user_id":4529546,"accept_rate":75,"display_name":"Richard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1424273388,"creation_date":1424273388,"answer_id":28587302,"question_id":28578181,"body_markdown":"You need to use [&#39;Futures&#39;][1].\r\n\r\n[See &#39;Futures and Callables&#39; here][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\r\n  [2]: http://www.vogella.com/tutorials/JavaConcurrency/article.html","title":"Assign a task to Thread and return from method","body":"<p>You need to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow\">'Futures'</a>.</p>\n\n<p><a href=\"http://www.vogella.com/tutorials/JavaConcurrency/article.html\" rel=\"nofollow\">See 'Futures and Callables' here</a></p>\n"},{"tags":[],"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424273530,"creation_date":1424273530,"answer_id":28587359,"question_id":28578181,"body_markdown":"Yes you can surely use **Threads** , I prefer [ExecutorService](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html) mechanism ,\r\n\r\n**Here is how you do it :**\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n    executorService.execute(new Runnable() {\r\n        public void run() {\r\n            for(int i = 0 ; i &lt; 200; ++i) {\r\n            System.out.println(i);\r\n        }\r\n        }\r\n    });\r\n    \r\n    executorService.shutdown();","title":"Assign a task to Thread and return from method","body":"<p>Yes you can surely use <strong>Threads</strong> , I prefer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow\">ExecutorService</a> mechanism ,</p>\n\n<p><strong>Here is how you do it :</strong></p>\n\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(10);\n\nexecutorService.execute(new Runnable() {\n    public void run() {\n        for(int i = 0 ; i &lt; 200; ++i) {\n        System.out.println(i);\n    }\n    }\n});\n\nexecutorService.shutdown();\n</code></pre>\n"}],"owner":{"account_id":3406958,"reputation":739,"user_id":2857804,"accept_rate":44,"display_name":"Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1681305372,"creation_date":1424244346,"question_id":28578181,"body_markdown":"    public class MyThreadExample {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\r\n\t\t    MyThreadExample myThreadExample = new MyThreadExample();\r\n\t\t    String country= myThreadExample.getCountry();\r\n\t\t    System.out.println(country);\r\n\t    }\r\n\t    public String getCountry() {\r\n\t     /* Question : */\r\n         return &quot;India&quot;;\r\n\t    }\r\n\t    public void printValues() {\r\n\t\t\r\n\t\t    for(int i = 0 ; i &lt; 200; ++i) {\r\n\t\t    \tSystem.out.println(i);\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nLabel Question :  I want call printValues() method and immediatly return from this method, can I use **Thread** here to call printValue()  ","title":"Assign a task to Thread and return from method","body":"<pre><code>public class MyThreadExample {\n\n    public static void main(String[] args) {\n\n        MyThreadExample myThreadExample = new MyThreadExample();\n        String country= myThreadExample.getCountry();\n        System.out.println(country);\n    }\n    public String getCountry() {\n     /* Question : */\n     return \"India\";\n    }\n    public void printValues() {\n\n        for(int i = 0 ; i &lt; 200; ++i) {\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n\n<p>Label Question :  I want call printValues() method and immediatly return from this method, can I use <strong>Thread</strong> here to call printValue()  </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1440216,"reputation":552,"user_id":1360584,"display_name":"Akli REGUIG"},"score":0,"creation_date":1531991875,"post_id":51418700,"comment_id":89808445,"body_markdown":"Can you post your pom.xml file . looks like you have two versions of the same (spring) dependency.","body":"Can you post your pom.xml file . looks like you have two versions of the same (spring) dependency."},{"owner":{"account_id":13944951,"reputation":61,"user_id":10069916,"display_name":"MKP010"},"score":0,"creation_date":1531993062,"post_id":51418700,"comment_id":89809273,"body_markdown":"You are right that was the issue. Thanks","body":"You are right that was the issue. Thanks"},{"owner":{"account_id":2534548,"reputation":476,"user_id":2202027,"accept_rate":67,"display_name":"rome"},"score":2,"creation_date":1542481300,"post_id":51418700,"comment_id":93586546,"body_markdown":"which duplicate dependency was it?","body":"which duplicate dependency was it?"},{"owner":{"account_id":14214280,"reputation":527,"user_id":10268617,"display_name":"Parthiban"},"score":0,"creation_date":1568711608,"post_id":51418700,"comment_id":102352190,"body_markdown":"I&#39;m getting the same exception. Could someone help pls.","body":"I&#39;m getting the same exception. Could someone help pls."}],"answers":[{"tags":[],"owner":{"account_id":8451875,"reputation":9,"user_id":6340482,"display_name":"AlgoDSExpert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607725416,"creation_date":1541985322,"answer_id":53254863,"question_id":51418700,"body_markdown":"I faced the same issue and fixed it by right-clicking on project-&gt;Maven-&gt;Update project. The App was then up and running on Tomcat server.\r\n","title":"java.lang.NoSuchMethodError while running spring boot application","body":"<p>I faced the same issue and fixed it by right-clicking on project-&gt;Maven-&gt;Update project. The App was then up and running on Tomcat server.</p>\n"},{"tags":[],"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567409986,"creation_date":1567409986,"answer_id":57753069,"question_id":51418700,"body_markdown":"If you are using **Intellij IDEA**, do the following:&lt;br&gt;\r\n**Menu -&gt; File -&gt; invalidate cache/restart**","title":"java.lang.NoSuchMethodError while running spring boot application","body":"<p>If you are using <strong>Intellij IDEA</strong>, do the following:<br>\n<strong>Menu -> File -> invalidate cache/restart</strong></p>\n"},{"tags":[],"owner":{"account_id":18930534,"reputation":11,"user_id":13812708,"display_name":"Christina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622181716,"creation_date":1622181716,"answer_id":67733618,"question_id":51418700,"body_markdown":"After updating to Java 11 , SpringBoot applications throw many errors.\r\nI updated Spring boot version to 2.4.0 and made the changes in main method as below:\r\n\r\nConfigurableApplicationContext context = SpringApplication.run(Application.class,args);\r\n\r\nAfter building and trying to run the application again throws the error like below\r\n\r\n&quot;NoSuchMethodError: &#39;org.springframework.context.ConfigurableApplicationContext org.springframework.boot.SpringApplication.run&quot;\r\n\r\nand fixed it by Right click on project -&gt; Maven -&gt; Update maven project","title":"java.lang.NoSuchMethodError while running spring boot application","body":"<p>After updating to Java 11 , SpringBoot applications throw many errors.\nI updated Spring boot version to 2.4.0 and made the changes in main method as below:</p>\n<p>ConfigurableApplicationContext context = SpringApplication.run(Application.class,args);</p>\n<p>After building and trying to run the application again throws the error like below</p>\n<p>&quot;NoSuchMethodError: 'org.springframework.context.ConfigurableApplicationContext org.springframework.boot.SpringApplication.run&quot;</p>\n<p>and fixed it by Right click on project -&gt; Maven -&gt; Update maven project</p>\n"},{"tags":[],"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681305190,"creation_date":1681305190,"answer_id":75995894,"question_id":51418700,"body_markdown":"I had a similar error related to Spring Boot and Maven 3.8.* build tool. The solution in my case is to change Maven home path (In ItennliJ IDEA Build Tools) to **Bundled (Maven 3)**","title":"java.lang.NoSuchMethodError while running spring boot application","body":"<p>I had a similar error related to Spring Boot and Maven 3.8.* build tool. The solution in my case is to change Maven home path (In ItennliJ IDEA Build Tools) to <strong>Bundled (Maven 3)</strong></p>\n"}],"owner":{"account_id":13944951,"reputation":61,"user_id":10069916,"display_name":"MKP010"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1681305190,"creation_date":1531991608,"question_id":51418700,"body_markdown":"Getting below error while running a spring boot application. Can anybody help?\r\n\r\n**Application Class**\r\n\r\n        \t \r\n    package com.dell.cns.services.esb.heartbeat.satcps;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.dell.cns.services.esb&quot;)\r\n    public class CnsServicesHeartBeatSatcpsApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CnsServicesHeartBeatSatcpsApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Error Message**\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.springframework.boot.SpringApplication.run(Ljava/lang/Class;[Ljava/lang/String;)Lorg/springframework/context/ConfigurableApplicationContext;\r\n    \tat com.dell.cns.services.esb.heartbeat.satcps.CnsServicesHeartBeatSatcpsApplication.main(CnsServicesHeartBeatSatcpsApplication.java:12)\r\n\r\n","title":"java.lang.NoSuchMethodError while running spring boot application","body":"<p>Getting below error while running a spring boot application. Can anybody help?</p>\n\n<p><strong>Application Class</strong></p>\n\n<pre><code>package com.dell.cns.services.esb.heartbeat.satcps;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(\"com.dell.cns.services.esb\")\npublic class CnsServicesHeartBeatSatcpsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CnsServicesHeartBeatSatcpsApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Error Message</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: org.springframework.boot.SpringApplication.run(Ljava/lang/Class;[Ljava/lang/String;)Lorg/springframework/context/ConfigurableApplicationContext;\n    at com.dell.cns.services.esb.heartbeat.satcps.CnsServicesHeartBeatSatcpsApplication.main(CnsServicesHeartBeatSatcpsApplication.java:12)\n</code></pre>\n"},{"tags":["java","stubbing","wiremock"],"comments":[{"owner":{"account_id":3555761,"reputation":4356,"user_id":2969580,"accept_rate":85,"display_name":"GuyT"},"score":0,"creation_date":1515664667,"post_id":48203837,"comment_id":83389364,"body_markdown":"According to http://wiremock.org/docs/configuration/ you should be able to change the resources location. Keep in mind this changes the location of all files within the `resources` directory.","body":"According to <a href=\"http://wiremock.org/docs/configuration/\" rel=\"nofollow noreferrer\">wiremock.org/docs/configuration</a> you should be able to change the resources location. Keep in mind this changes the location of all files within the <code>resources</code> directory."},{"owner":{"account_id":8172944,"reputation":6855,"user_id":6152737,"display_name":"A. Kootstra"},"score":0,"creation_date":1535368490,"post_id":48203837,"comment_id":91026335,"body_markdown":"What is the reason you want to have a different location?","body":"What is the reason you want to have a different location?"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1599805152,"post_id":48203837,"comment_id":112892888,"body_markdown":"@A.Kootstra - Why do you ask?","body":"@A.Kootstra - Why do you ask?"},{"owner":{"account_id":8172944,"reputation":6855,"user_id":6152737,"display_name":"A. Kootstra"},"score":0,"creation_date":1599900023,"post_id":48203837,"comment_id":112922991,"body_markdown":"Because that reason may be solved in another manner, which is something that should be looked at given that this is hard-coded in the software.","body":"Because that reason may be solved in another manner, which is something that should be looked at given that this is hard-coded in the software."}],"answers":[{"tags":[],"owner":{"account_id":5248317,"reputation":664,"user_id":4193304,"display_name":"Henri Viik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1515664670,"creation_date":1515664670,"answer_id":48204201,"question_id":48203837,"body_markdown":"This seems to be something you need to configure when creating the rule. Try\r\n\r\n    @Rule\r\n    public final WireMockRule rule = new WireMockRule(WireMockConfiguration.wireMockConfig()\r\n      .withRootDirectory(&quot;src/test/resources/Testing_ABC&quot;));\r\n\r\nand then you probably can use `.withBodyFile(&quot;Testcase2/myfile.xml)` in test.\r\n\r\n","title":"Stubbing with Wiremock - WithBodyFile Location other than _files","body":"<p>This seems to be something you need to configure when creating the rule. Try</p>\n\n<pre><code>@Rule\npublic final WireMockRule rule = new WireMockRule(WireMockConfiguration.wireMockConfig()\n  .withRootDirectory(\"src/test/resources/Testing_ABC\"));\n</code></pre>\n\n<p>and then you probably can use <code>.withBodyFile(\"Testcase2/myfile.xml)</code> in test.</p>\n"},{"tags":[],"owner":{"account_id":1703010,"reputation":970,"user_id":1562650,"display_name":"Arthur Kazemi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535356650,"creation_date":1535356650,"answer_id":52034942,"question_id":48203837,"body_markdown":"I&#39;m using this Kotlin Config class to customize the Root Directory.\r\nIt still requires response file to be in the __files directory.\r\n\r\n\r\n    @Configuration\r\n    class Config: WireMockConfigurationCustomizer {\r\n        override fun customize(config: WireMockConfiguration?) {\r\n            config!!.withRootDirectory(&quot;customer-client/src/test/resources&quot;)\r\n        }\r\n    }\r\n\r\n    @AutoConfigureWireMock","title":"Stubbing with Wiremock - WithBodyFile Location other than _files","body":"<p>I'm using this Kotlin Config class to customize the Root Directory.\nIt still requires response file to be in the __files directory.</p>\n\n<pre><code>@Configuration\nclass Config: WireMockConfigurationCustomizer {\n    override fun customize(config: WireMockConfiguration?) {\n        config!!.withRootDirectory(\"customer-client/src/test/resources\")\n    }\n}\n\n@AutoConfigureWireMock\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5856990,"reputation":1991,"user_id":4613957,"accept_rate":100,"display_name":"Piotr Dajlido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602711953,"creation_date":1602711953,"answer_id":64361930,"question_id":48203837,"body_markdown":"For Java &amp; Spock but still using `__files` folder\r\n\r\n    @TestConfiguration\r\n    public class WireMockConfig {\r\n    \r\n        @Bean\r\n        public WireMockConfigurationCustomizer wireMockConfigurationCustomizer() {\r\n            return config -&gt; {\r\n                config.withRootDirectory(&quot;src/integration-test/resources&quot;);\r\n            };\r\n        }\r\n    }\r\n\r\nThen where ever you have `ApplicationContext` initializer :\r\n\r\n    @SpringBootTest(classes = [Application.class, WireMockConfig.class], webEnvironment = RANDOM_PORT)\r\n    @ContextConfiguration()\r\n    abstract class WireMockIntegrationSpec extends Specification {\r\n    }\r\n\r\nThen in your test :\r\n\r\n    @AutoConfigureWireMock(port = 9089)\r\n    @Unroll\r\n    class ApplicationSpec extends WireMockIntegrationSpec {\r\n    \r\n        def &quot;Some test&quot; () {\r\n        }\r\n    }\r\n\r\n\r\n\r\nYour resources will be served from `src/integration-test/resources/__files`.\r\n**Make sure this directory structure exists**","title":"Stubbing with Wiremock - WithBodyFile Location other than _files","body":"<p>For Java &amp; Spock but still using <code>__files</code> folder</p>\n<pre><code>@TestConfiguration\npublic class WireMockConfig {\n\n    @Bean\n    public WireMockConfigurationCustomizer wireMockConfigurationCustomizer() {\n        return config -&gt; {\n            config.withRootDirectory(&quot;src/integration-test/resources&quot;);\n        };\n    }\n}\n</code></pre>\n<p>Then where ever you have <code>ApplicationContext</code> initializer :</p>\n<pre><code>@SpringBootTest(classes = [Application.class, WireMockConfig.class], webEnvironment = RANDOM_PORT)\n@ContextConfiguration()\nabstract class WireMockIntegrationSpec extends Specification {\n}\n</code></pre>\n<p>Then in your test :</p>\n<pre><code>@AutoConfigureWireMock(port = 9089)\n@Unroll\nclass ApplicationSpec extends WireMockIntegrationSpec {\n\n    def &quot;Some test&quot; () {\n    }\n}\n</code></pre>\n<p>Your resources will be served from <code>src/integration-test/resources/__files</code>.\n<strong>Make sure this directory structure exists</strong></p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681305155,"creation_date":1681305155,"answer_id":75995892,"question_id":48203837,"body_markdown":"It cannot be changed. You always need a &quot;__files&quot; dir. See [this question](https://stackoverflow.com/questions/61593477/changing-wiremock-files-directory#comment-124852848) and the comment by @luckyluke.\r\n\r\n\r\nBut the part before that can be changed. \r\n\r\nIt can be done like:\r\n\r\n```java\r\nWireMockServer wireMockServer = new WireMockServer(\r\n    wireMockConfiguration.options()\r\n        .usingFilesUnderDirectory(&quot;src/test/resources/something&quot;)\r\n);\r\n```\r\n\r\nOr, without changing the `src/test/resources` part, only appending more levels under it:\r\n\r\n```java\r\nwireMockServer = new WireMockServer(8090, new ClasspathFileSource(&quot;integration/responses&quot;), false);\r\n```\r\n\r\nThe logic used by Wiremock is not very straightforward, but I will put my findings here:\r\n\r\n\r\n* Wiremock will get the default root dir, which is `src/test/resources`(or other path specified in the 1st approach); or, if you use 2nd approach above, Wiremock will append that part after `src/test/resources`. \r\n* Wiremock will then append &quot;__files&quot; part, which cannot be changed.\r\n* It reads the value in &quot;withBodyFile(value)&quot;, and join all to form a `Path`.\r\n\r\nSo, for example, if I want to read `job-resource.json` under `src/test/resources/integration/responses`, I need to create a `__files` under this dir, put the json into it, launch the wiremock server in the 2nd approach, and then:\r\n\r\n    wiremock.stubFor(\r\n        get(urlPathMatching(&quot;xxx&quot;))\r\n                .withId(stubId)\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withBodyFile(&quot;job-resource.json&quot;) // note here it&#39;s just filename, not &quot;__files/job-resource.json&quot;\r\n                );\r\n    );","title":"Stubbing with Wiremock - WithBodyFile Location other than _files","body":"<p>It cannot be changed. You always need a &quot;__files&quot; dir. See <a href=\"https://stackoverflow.com/questions/61593477/changing-wiremock-files-directory#comment-124852848\">this question</a> and the comment by @luckyluke.</p>\n<p>But the part before that can be changed.</p>\n<p>It can be done like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WireMockServer wireMockServer = new WireMockServer(\n    wireMockConfiguration.options()\n        .usingFilesUnderDirectory(&quot;src/test/resources/something&quot;)\n);\n</code></pre>\n<p>Or, without changing the <code>src/test/resources</code> part, only appending more levels under it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>wireMockServer = new WireMockServer(8090, new ClasspathFileSource(&quot;integration/responses&quot;), false);\n</code></pre>\n<p>The logic used by Wiremock is not very straightforward, but I will put my findings here:</p>\n<ul>\n<li>Wiremock will get the default root dir, which is <code>src/test/resources</code>(or other path specified in the 1st approach); or, if you use 2nd approach above, Wiremock will append that part after <code>src/test/resources</code>.</li>\n<li>Wiremock will then append &quot;__files&quot; part, which cannot be changed.</li>\n<li>It reads the value in &quot;withBodyFile(value)&quot;, and join all to form a <code>Path</code>.</li>\n</ul>\n<p>So, for example, if I want to read <code>job-resource.json</code> under <code>src/test/resources/integration/responses</code>, I need to create a <code>__files</code> under this dir, put the json into it, launch the wiremock server in the 2nd approach, and then:</p>\n<pre><code>wiremock.stubFor(\n    get(urlPathMatching(&quot;xxx&quot;))\n            .withId(stubId)\n            .willReturn(\n                    aResponse()\n                            .withStatus(200)\n                            .withBodyFile(&quot;job-resource.json&quot;) // note here it's just filename, not &quot;__files/job-resource.json&quot;\n            );\n);\n</code></pre>\n"}],"owner":{"account_id":1093673,"reputation":1519,"user_id":1087746,"accept_rate":53,"display_name":"Ragini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16491,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1681305155,"creation_date":1515663648,"question_id":48203837,"body_markdown":"Wiremock Documentation states that the location of the file specified in *withBodyFile* should be in **src/test/resources/__files**. I would like to have file in **src/test/resources/Testing_ABC/Testcase2/myfile.xml.** \r\n\r\nIs there any way I can achieve this ? I tried following, but it does not seem to work !\r\n\r\n    stubFor(get(urlPathEqualTo(&quot;/abc&quot;)).willReturn\r\n                    (aResponse().withHeader(&quot;Content-Type&quot;,\r\n                            &quot;text/xml; charset=utf-8&quot;).withHeader\r\n                            (&quot;Content-Encoding&quot;,\r\n                                    &quot;gzip&quot;)\r\n                            .withBodyFile\r\n                                    (&quot;src/test/resources/Testing_ABC/Testcase2/myfile.xml)));\r\n\r\nHowever, when I put my file in src/test/resources/__files/myfile.xml and change the path accordingly, it works fine. \r\n\r\nI am just wondering if I can make wiremock look in some other directory in resources other than __files just in order to have nice resource structure in project.","title":"Stubbing with Wiremock - WithBodyFile Location other than _files","body":"<p>Wiremock Documentation states that the location of the file specified in <em>withBodyFile</em> should be in <strong>src/test/resources/__files</strong>. I would like to have file in <strong>src/test/resources/Testing_ABC/Testcase2/myfile.xml.</strong> </p>\n\n<p>Is there any way I can achieve this ? I tried following, but it does not seem to work !</p>\n\n<pre><code>stubFor(get(urlPathEqualTo(\"/abc\")).willReturn\n                (aResponse().withHeader(\"Content-Type\",\n                        \"text/xml; charset=utf-8\").withHeader\n                        (\"Content-Encoding\",\n                                \"gzip\")\n                        .withBodyFile\n                                (\"src/test/resources/Testing_ABC/Testcase2/myfile.xml)));\n</code></pre>\n\n<p>However, when I put my file in src/test/resources/__files/myfile.xml and change the path accordingly, it works fine. </p>\n\n<p>I am just wondering if I can make wiremock look in some other directory in resources other than __files just in order to have nice resource structure in project.</p>\n"},{"tags":["java","postgresql","hibernate","kotlin"],"owner":{"account_id":28031318,"reputation":21,"user_id":21410452,"display_name":"jorge-plaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681305104,"creation_date":1681305104,"question_id":75995884,"body_markdown":"In a Spring Boot project with Data JPA I have an Entity Device which has a @OneToMany relationship with Entity Data as shown in the code below. The Data entity have timestamp attribute value.\r\n\r\nI want to fetch all the Devices, each with its Data, but the Data entities only between specific timestamps.\r\n\r\n```lang-kotlin\r\n@Entity\r\nclass DeviceDAO(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false) val id: String,\r\n    @OneToMany(mappedBy = &quot;device&quot;, cascade = [CascadeType.ALL], orphanRemoval = true)\r\n    val data: List&lt;Data&gt;,\r\n\r\n    // more attributes \r\n)\r\n```\r\n\r\n```lang-kotlin\r\n@Entity\r\nclass Data(\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;id&quot;, nullable = false) val id: Long? = null,\r\n    @ManyToOne @JoinColumn(name = &quot;id&quot;) val device: DeviceDAO,\r\n    val timestamp: Instant,\r\n\r\n    // more attributes \r\n)\r\n```\r\n\r\nI have tried with a @Query annotated method in the Device repository\r\n\r\n```lang-kotlin\r\n@Repository\r\ninterface DeviceRepository : JpaRepository&lt;DeviceDAO, String&gt; {\r\n\r\n    @Query(&quot;select d from DeviceDAO d join fetch d.data da where da.timestamp between :startTimestamp and :endTimestamp&quot;)\r\n    fun findDataToProcess(\r\n        @Param(&quot;startTimestamp&quot;) startTimestamp: Instant,\r\n        @Param(&quot;endTimestamp&quot;) endTimestamp: Instant\r\n    ): List&lt;DeviceDAO&gt;\r\n}\r\n```\r\n\r\nBut the HQL [documentation](https://docs.jboss.org/hibernate/core/3.3/reference/en-US/html/queryhql.html) comment about the join fetch\r\n\r\n&gt; A fetch join does not usually need to assign an alias, because the associated objects should not be used in the where clause (or any other clause).\r\n\r\nSo I am guessing this is not recommended.\r\n\r\nIs there another way to fetch the Devices and its Data the way I&#39;ve described? Or what is the reason HQL docs say that?","title":"Spring Data JPA, fetch parent entity and child entities with condition","body":"<p>In a Spring Boot project with Data JPA I have an Entity Device which has a @OneToMany relationship with Entity Data as shown in the code below. The Data entity have timestamp attribute value.</p>\n<p>I want to fetch all the Devices, each with its Data, but the Data entities only between specific timestamps.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\nclass DeviceDAO(\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false) val id: String,\n    @OneToMany(mappedBy = &quot;device&quot;, cascade = [CascadeType.ALL], orphanRemoval = true)\n    val data: List&lt;Data&gt;,\n\n    // more attributes \n)\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\nclass Data(\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;, nullable = false) val id: Long? = null,\n    @ManyToOne @JoinColumn(name = &quot;id&quot;) val device: DeviceDAO,\n    val timestamp: Instant,\n\n    // more attributes \n)\n</code></pre>\n<p>I have tried with a @Query annotated method in the Device repository</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Repository\ninterface DeviceRepository : JpaRepository&lt;DeviceDAO, String&gt; {\n\n    @Query(&quot;select d from DeviceDAO d join fetch d.data da where da.timestamp between :startTimestamp and :endTimestamp&quot;)\n    fun findDataToProcess(\n        @Param(&quot;startTimestamp&quot;) startTimestamp: Instant,\n        @Param(&quot;endTimestamp&quot;) endTimestamp: Instant\n    ): List&lt;DeviceDAO&gt;\n}\n</code></pre>\n<p>But the HQL <a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en-US/html/queryhql.html\" rel=\"nofollow noreferrer\">documentation</a> comment about the join fetch</p>\n<blockquote>\n<p>A fetch join does not usually need to assign an alias, because the associated objects should not be used in the where clause (or any other clause).</p>\n</blockquote>\n<p>So I am guessing this is not recommended.</p>\n<p>Is there another way to fetch the Devices and its Data the way I've described? Or what is the reason HQL docs say that?</p>\n"},{"tags":["java","spring-boot","image-processing","webp","image-conversion"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681305469,"post_id":75995860,"comment_id":134034805,"body_markdown":"Use `ByteArrayOutputStream`?","body":"Use <code>ByteArrayOutputStream</code>?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1681305866,"post_id":75995860,"comment_id":134034916,"body_markdown":"This is basically the same Q/A as here: https://stackoverflow.com/a/37726626/1428606, just a different output format (it uses `ByteArrayOutputStream`).","body":"This is basically the same Q/A as here: <a href=\"https://stackoverflow.com/a/37726626/1428606\">stackoverflow.com/a/37726626/1428606</a>, just a different output format (it uses <code>ByteArrayOutputStream</code>)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681305885,"post_id":75995860,"comment_id":134034920,"body_markdown":"Maybe `ByteArrayOutputStream baos = new ByteArrayOutputStream();writer.setOutput(new MemoryCacheImageOutputStream(baos));`","body":"Maybe <code>ByteArrayOutputStream baos = new ByteArrayOutputStream();writer.setOutput(new MemoryCacheImageOutputStream(baos));</code>"}],"owner":{"account_id":25847187,"reputation":1,"user_id":19581825,"display_name":"J K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681304971,"creation_date":1681304971,"question_id":75995860,"body_markdown":"I&#39;m using below code but this code generate and save image in my localbut I need to convert and process that image into WebP byte Array without saving the image in my local. I&#39;m using 3rd party Library to compress the image.\r\n\r\nLibrary that I used :\r\n\r\n    &lt;dependency&gt; \r\n        &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt; \r\n        &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt; \r\n        &lt;version&gt;0.1.6&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    public static void main(String[] args) {\t\r\n    \r\n    String s = &quot;https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg&quot;;\r\n    \t\r\n    \ttry {\r\n    \t\tURL url = new URL(s.replaceAll(&quot; &quot;, &quot;%20&quot;));\r\n    \t\tInputStream is = null;\r\n    \t\ttry {\r\n    \t\t\tis = url.openStream();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t BufferedImage image = ImageIO.read(is);\r\n    \t\t \r\n    \t\t  ImageWriter writer =           ImageIO.getImageWritersByMIMEType(&quot;image/webp&quot;).next();\r\n    \t\t \r\n    \t\t  WebPWriteParam writeParam = new WebPWriteParam(writer.getLocale());\r\n    \t\t  \r\n    \t\t  writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    \t\t  //Set lossy compression\r\n    \t\t  writeParam.setCompressionType(writeParam.getCompressionTypes()              [WebPWriteParam.LOSSY_COMPRESSION]);\r\n    \r\n    \t\t  //Set 80% quality.\r\n    \t\t  writeParam.setCompressionQuality(0.1f);\r\n    \r\n    \t\t  // Save the image\r\n    \t\t  writer.setOutput(new FileImageOutputStream(new File(&quot;filePath&quot;)));\r\n    \r\n    \t\t  writer.write(null, new IIOImage(image, null, null), writeParam);\r\n    \t\t  \r\n    \t\tSystem.out.println(&quot;Complete&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t} catch (FileUploadException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nSo how can I directly get byte array of compressed WebP without saving the file?","title":"How can I convert any format of image to compresed WebP byte array in Java?","body":"<p>I'm using below code but this code generate and save image in my localbut I need to convert and process that image into WebP byte Array without saving the image in my local. I'm using 3rd party Library to compress the image.</p>\n<p>Library that I used :</p>\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.sejda.imageio&lt;/groupId&gt; \n    &lt;artifactId&gt;webp-imageio&lt;/artifactId&gt; \n    &lt;version&gt;0.1.6&lt;/version&gt; \n&lt;/dependency&gt;\n\n\n\npublic static void main(String[] args) {    \n\nString s = &quot;https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg&quot;;\n    \n    try {\n        URL url = new URL(s.replaceAll(&quot; &quot;, &quot;%20&quot;));\n        InputStream is = null;\n        try {\n            is = url.openStream();\n        } catch (IOException e) {\n            return;\n        }\n         BufferedImage image = ImageIO.read(is);\n         \n          ImageWriter writer =           ImageIO.getImageWritersByMIMEType(&quot;image/webp&quot;).next();\n         \n          WebPWriteParam writeParam = new WebPWriteParam(writer.getLocale());\n          \n          writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n          //Set lossy compression\n          writeParam.setCompressionType(writeParam.getCompressionTypes()              [WebPWriteParam.LOSSY_COMPRESSION]);\n\n          //Set 80% quality.\n          writeParam.setCompressionQuality(0.1f);\n\n          // Save the image\n          writer.setOutput(new FileImageOutputStream(new File(&quot;filePath&quot;)));\n\n          writer.write(null, new IIOImage(image, null, null), writeParam);\n          \n        System.out.println(&quot;Complete&quot;);\n        \n        \n    } catch (FileUploadException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>So how can I directly get byte array of compressed WebP without saving the file?</p>\n"},{"tags":["java","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":7299595,"reputation":242,"user_id":5562931,"display_name":"Taavi Kivimaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681303831,"creation_date":1681303831,"answer_id":75995654,"question_id":75995613,"body_markdown":"A query param doesn&#39;t make endpoint different. Query param can be whatever.\r\n\r\n    /list/someObjects?firstId=a&amp;secondId=b\r\n\r\nthis is a valid path for both of those methods, so which one should it call?\r\nIn order to have such type you could do:\r\n\r\n    @GET\r\n    @Path(&quot;list/someObjects&quot;)\r\n    List&lt;SomeObject&gt; getSomeObjectsBySecondId(@QueryParam(required = false) Integer firstId, @QueryParam(required = false) Integer secondId);\r\n\r\nAnd inside logic check which one is filled to continue with code execution. ","title":"Different QueryParams, Ambiguous (sub-)resource method for HTTP method GET","body":"<p>A query param doesn't make endpoint different. Query param can be whatever.</p>\n<pre><code>/list/someObjects?firstId=a&amp;secondId=b\n</code></pre>\n<p>this is a valid path for both of those methods, so which one should it call?\nIn order to have such type you could do:</p>\n<pre><code>@GET\n@Path(&quot;list/someObjects&quot;)\nList&lt;SomeObject&gt; getSomeObjectsBySecondId(@QueryParam(required = false) Integer firstId, @QueryParam(required = false) Integer secondId);\n</code></pre>\n<p>And inside logic check which one is filled to continue with code execution.</p>\n"},{"tags":[],"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681304093,"creation_date":1681304093,"answer_id":75995712,"question_id":75995613,"body_markdown":"Since the function definition it&#39;s the same. Same name, same nr of arguments and same return value. Java compiles as the same. I would advice you to do this:\r\n\r\n```java\r\n\r\n@GET\r\n@Path(&quot;list/someObjects&quot;)\r\nList&lt;SomeObject&gt; getSomeObjectsById(@QueryParam(&quot;Id&quot;) Integer firstId, @QueryParameter(&quot;secondId&quot;) @DefaultValue(&quot;false&quot;) boolean isSecondId);\r\n\r\n```\r\n\r\nThis way you can always ask for a the first the list of Object by id like so:\r\n`localhost:8080/list/someObjects?Id=111` and will always use the firstId. If you want to get by the secondId, you can make `localhost:8080/list/someObjects?Id=111&amp;secondId=true`.\r\n\r\nLooks like a alternative to your approach. Hope this helps! ","title":"Different QueryParams, Ambiguous (sub-)resource method for HTTP method GET","body":"<p>Since the function definition it's the same. Same name, same nr of arguments and same return value. Java compiles as the same. I would advice you to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@GET\n@Path(&quot;list/someObjects&quot;)\nList&lt;SomeObject&gt; getSomeObjectsById(@QueryParam(&quot;Id&quot;) Integer firstId, @QueryParameter(&quot;secondId&quot;) @DefaultValue(&quot;false&quot;) boolean isSecondId);\n\n</code></pre>\n<p>This way you can always ask for a the first the list of Object by id like so:\n<code>localhost:8080/list/someObjects?Id=111</code> and will always use the firstId. If you want to get by the secondId, you can make <code>localhost:8080/list/someObjects?Id=111&amp;secondId=true</code>.</p>\n<p>Looks like a alternative to your approach. Hope this helps!</p>\n"}],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75995712,"answer_count":2,"score":0,"last_activity_date":1681304093,"creation_date":1681303565,"question_id":75995613,"body_markdown":"I am trying to have 2 GET methods with the same path, but different query params. These are my 2 endpoints:\r\n\r\n```\r\n@GET\r\n@Path(&quot;list/someObjects&quot;)\r\nList&lt;SomeObject&gt; getSomeObjectsByFirstId(@QueryParam(&quot;firstId&quot;) Integer firstId);\r\n\r\n@GET\r\n@Path(&quot;list/someObjects&quot;)\r\nList&lt;SomeObject&gt; getSomeObjectsBySecondId(@QueryParam(&quot;secondId&quot;) Integer secondId);\r\n\r\n```\r\n\r\nHowever, I get a validation error: \r\n\r\n&gt; These two methods produces and consumes exactly the same mime-types\r\n&gt; and therefore their invocation as a resource methods will always fail.\r\n\r\nShouldn&#39;t these two methods be different from each other since they have different query params ?","title":"Different QueryParams, Ambiguous (sub-)resource method for HTTP method GET","body":"<p>I am trying to have 2 GET methods with the same path, but different query params. These are my 2 endpoints:</p>\n<pre><code>@GET\n@Path(&quot;list/someObjects&quot;)\nList&lt;SomeObject&gt; getSomeObjectsByFirstId(@QueryParam(&quot;firstId&quot;) Integer firstId);\n\n@GET\n@Path(&quot;list/someObjects&quot;)\nList&lt;SomeObject&gt; getSomeObjectsBySecondId(@QueryParam(&quot;secondId&quot;) Integer secondId);\n\n</code></pre>\n<p>However, I get a validation error:</p>\n<blockquote>\n<p>These two methods produces and consumes exactly the same mime-types\nand therefore their invocation as a resource methods will always fail.</p>\n</blockquote>\n<p>Shouldn't these two methods be different from each other since they have different query params ?</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1663684767,"post_id":73785909,"comment_id":130295005,"body_markdown":"Can you share - for analysis - example PDFs that are using Microsoft Azure Protection?","body":"Can you share - for analysis - example PDFs that are using Microsoft Azure Protection?"},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1663746587,"post_id":73785909,"comment_id":130309347,"body_markdown":"No, I don&#39;t have an example that I can share on the internet.","body":"No, I don&#39;t have an example that I can share on the internet."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1663753045,"post_id":73785909,"comment_id":130311567,"body_markdown":"If your &quot;PDFs using Microsoft Azure Protection&quot; are what [this Microsoft Tech Community article](https://techcommunity.microsoft.com/t5/security-compliance-and-identity/using-azure-information-protection-to-protect-pdf-s-and-adobe/ba-p/282010) describes, this protection is the standard PDF encryption. Microsoft Azure Protection may or may not leave some indicator that this off-the-shelf encryption was applied by MS Azure Protection. As you cannot share an example here, please analyze your PDFs, look for some such indicator, and describe it here if you found one. Then we can help detecting it.","body":"If your &quot;PDFs using Microsoft Azure Protection&quot; are what <a href=\"https://techcommunity.microsoft.com/t5/security-compliance-and-identity/using-azure-information-protection-to-protect-pdf-s-and-adobe/ba-p/282010\" rel=\"nofollow noreferrer\">this Microsoft Tech Community article</a> describes, this protection is the standard PDF encryption. Microsoft Azure Protection may or may not leave some indicator that this off-the-shelf encryption was applied by MS Azure Protection. As you cannot share an example here, please analyze your PDFs, look for some such indicator, and describe it here if you found one. Then we can help detecting it."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1663753855,"post_id":73785909,"comment_id":130311881,"body_markdown":"Ok, I just read that article till the end. Apparently Adobe Acrobat can recognize that &quot;Microsoft Azure Information Protection&quot; was applied, and apparently some &quot;Azure Information Protection plugin&quot; is required. It&#39;s likely that that plugin is a security provider. Thus, I would assume you can recognize PDFs protected like that by the encryption dictionary **Filter** or **SubFilter** entry.","body":"Ok, I just read that article till the end. Apparently Adobe Acrobat can recognize that &quot;Microsoft Azure Information Protection&quot; was applied, and apparently some &quot;Azure Information Protection plugin&quot; is required. It&#39;s likely that that plugin is a security provider. Thus, I would assume you can recognize PDFs protected like that by the encryption dictionary <b>Filter</b> or <b>SubFilter</b> entry."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1663869605,"post_id":73785909,"comment_id":130346890,"body_markdown":"Since [recently](https://helpx.adobe.com/acrobat/kb/mip-plugin-download.html) the plugin is installed by default...","body":"Since <a href=\"https://helpx.adobe.com/acrobat/kb/mip-plugin-download.html\" rel=\"nofollow noreferrer\">recently</a> the plugin is installed by default..."}],"answers":[{"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681303947,"creation_date":1681303947,"answer_id":75995678,"question_id":73785909,"body_markdown":"I could not find any better solution than reading the content as text and looking for an &quot;Azure&quot; string in it.\r\n\r\n    final String text = PdfTextExtractor.getTextFromPage(pdfDoc.getPage(1), new SimpleTextExtractionStrategy());\r\n    if (text.contains(&quot;Microsoft \\n    Azure Information \\n    Protection&quot;)) {\r\n        throw new UnsupportedAzurePdfFormatException(&quot;Microsoft Azure protected pdf is not supported.&quot;);\r\n    }","title":"Detect Azure Protected PDF with iTextPDF","body":"<p>I could not find any better solution than reading the content as text and looking for an &quot;Azure&quot; string in it.</p>\n<pre><code>final String text = PdfTextExtractor.getTextFromPage(pdfDoc.getPage(1), new SimpleTextExtractionStrategy());\nif (text.contains(&quot;Microsoft \\n    Azure Information \\n    Protection&quot;)) {\n    throw new UnsupportedAzurePdfFormatException(&quot;Microsoft Azure protected pdf is not supported.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681303947,"creation_date":1663673065,"question_id":73785909,"body_markdown":"I try to find a way to detect if a PDF is using Microsoft Azure Protection with iTextPDF and can&#39;t find a proper way to do this. Is there some property or something I could use to check if the PDF was created with Microsoft Azure Protection?","title":"Detect Azure Protected PDF with iTextPDF","body":"<p>I try to find a way to detect if a PDF is using Microsoft Azure Protection with iTextPDF and can't find a proper way to do this. Is there some property or something I could use to check if the PDF was created with Microsoft Azure Protection?</p>\n"},{"tags":["java","generics","methods"],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1311259028,"creation_date":1311178435,"answer_id":6765077,"question_id":6765024,"body_markdown":"Yes, you can.\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; pushBack(List&lt;T&gt; list, Class&lt;T&gt; typeKey) throws Exception {\r\n        list.add(typeKey.getConstructor().newInstance());\r\n        return list;\r\n    }\r\n\r\nUsage example:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    pushBack(strings, String.class);","title":"Generic type as parameter in Java Method","body":"<p>Yes, you can.</p>\n\n<pre><code>private static &lt;T&gt; List&lt;T&gt; pushBack(List&lt;T&gt; list, Class&lt;T&gt; typeKey) throws Exception {\n    list.add(typeKey.getConstructor().newInstance());\n    return list;\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\npushBack(strings, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5536522"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1465928344,"creation_date":1465928344,"answer_id":37819388,"question_id":6765024,"body_markdown":"simple solution!\r\n\r\n    private &lt;GenericType&gt; ArrayList increaseSizeArray(ArrayList array_test, GenericType genericObject)\r\n    {\r\n    \tarray_test.add(new genericObject());\r\n    \treturn ArrayList;\r\n    }","title":"Generic type as parameter in Java Method","body":"<p>simple solution!</p>\n\n<pre><code>private &lt;GenericType&gt; ArrayList increaseSizeArray(ArrayList array_test, GenericType genericObject)\n{\n    array_test.add(new genericObject());\n    return ArrayList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6647315,"reputation":1344,"user_id":5130921,"accept_rate":50,"display_name":"Aarjav"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1522541947,"creation_date":1522541947,"answer_id":49593669,"question_id":6765024,"body_markdown":"Old question but I would imagine this is the preferred way of doing it in java8+\r\n\r\n\r\n    public &lt;T&gt; ArrayList&lt;T&gt; dynamicAdd(ArrayList&lt;T&gt; list, Supplier&lt;T&gt; supplier) {\r\n      list.add(supplier.get());\r\n      return list;\r\n    }\r\n\r\nand it could be used like this:\r\n\r\n    AtomicInteger counter = ...;\r\n    ArrayList&lt;Integer&gt; list = ...;\r\n    \r\n    dynamicAdd(list, counter::incrementAndGet);\r\n\r\nthis will add a number to the list, getting the value from AtomicInteger&#39;s `incrementAndGet` method\r\n\r\nAlso possible to use constructors as method references like this: `MyType::new`\r\n\r\n","title":"Generic type as parameter in Java Method","body":"<p>Old question but I would imagine this is the preferred way of doing it in java8+</p>\n\n<pre><code>public &lt;T&gt; ArrayList&lt;T&gt; dynamicAdd(ArrayList&lt;T&gt; list, Supplier&lt;T&gt; supplier) {\n  list.add(supplier.get());\n  return list;\n}\n</code></pre>\n\n<p>and it could be used like this:</p>\n\n<pre><code>AtomicInteger counter = ...;\nArrayList&lt;Integer&gt; list = ...;\n\ndynamicAdd(list, counter::incrementAndGet);\n</code></pre>\n\n<p>this will add a number to the list, getting the value from AtomicInteger's <code>incrementAndGet</code> method</p>\n\n<p>Also possible to use constructors as method references like this: <code>MyType::new</code></p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681303800,"creation_date":1681303800,"answer_id":75995648,"question_id":6765024,"body_markdown":"You can do so, and [this page in Oracle&#39;s docs][1] show you how\r\n\r\n    // Example of a void method\r\n    &lt;T&gt; void doSomething(T someT) {\r\n      // Do something with variable\r\n      System.out.println(someT.toString());\r\n    }\r\n\r\n    // Example of a method that returns the same generic type passed in.\r\n    &lt;T&gt; T getSomeT(T someT) {\r\n      return someT;\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html","title":"Generic type as parameter in Java Method","body":"<p>You can do so, and <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">this page in Oracle's docs</a> show you how</p>\n<pre><code>// Example of a void method\n&lt;T&gt; void doSomething(T someT) {\n  // Do something with variable\n  System.out.println(someT.toString());\n}\n\n// Example of a method that returns the same generic type passed in.\n&lt;T&gt; T getSomeT(T someT) {\n  return someT;\n}\n</code></pre>\n"}],"owner":{"account_id":65398,"reputation":5087,"user_id":192468,"accept_rate":75,"display_name":"Pierre Guilbert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133736,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":6765077,"answer_count":4,"score":59,"last_activity_date":1681303800,"creation_date":1311178262,"question_id":6765024,"body_markdown":"Do you think it is possible to create something similar to this? \r\n\r\n    private ArrayList increaseSizeArray(ArrayList array_test, GenericClass) {\r\n        array_test.add(new GenericObject()); // instance of GenericClass\r\n        return array_test;\r\n    }\r\n","title":"Generic type as parameter in Java Method","body":"<p>Do you think it is possible to create something similar to this? </p>\n\n<pre><code>private ArrayList increaseSizeArray(ArrayList array_test, GenericClass) {\n    array_test.add(new GenericObject()); // instance of GenericClass\n    return array_test;\n}\n</code></pre>\n"},{"tags":["java","c#","apache-fineract"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1568641666,"post_id":57958142,"comment_id":102328321,"body_markdown":"HTTP Error 500 is a standard error for any request.  If you have a working application use a sniffer like wireshark or fiddler and compare first request of working against non working.  500 indicates an authentication error which usually means the TLS is failing and/or certificate is bad.","body":"HTTP Error 500 is a standard error for any request.  If you have a working application use a sniffer like wireshark or fiddler and compare first request of working against non working.  500 indicates an authentication error which usually means the TLS is failing and/or certificate is bad."},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1568642507,"post_id":57958142,"comment_id":102328823,"body_markdown":"I don&#39;t know fineract, but as mentioned by @jdweng above, `500` is a standard error code when something goes wrong at the server-side (hence the error `Internal Server Error`). Based on the exception `java.lang.NullPointerException` and message `null`, it seems something went wrong in the Java part of the code. I&#39;m not sure if you can somehow access/debug that Java code, or have a log file stating the line number where this NulPointerException is occurring? Or is the Java server-side a black box?","body":"I don&#39;t know fineract, but as mentioned by @jdweng above, <code>500</code> is a standard error code when something goes wrong at the server-side (hence the error <code>Internal Server Error</code>). Based on the exception <code>java.lang.NullPointerException</code> and message <code>null</code>, it seems something went wrong in the Java part of the code. I&#39;m not sure if you can somehow access/debug that Java code, or have a log file stating the line number where this NulPointerException is occurring? Or is the Java server-side a black box?"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1568642510,"post_id":57958142,"comment_id":102328824,"body_markdown":"Found this:\nhttps://demo.openmf.org/api-docs/apiLive.htm#rdaccounts\nYour code triggers an NPE, so if you are running this yourself, try hooking the server to a debugger to step through. If you have no control over the server, perhaps you&#39;re missing a required parameter?","body":"Found this: <a href=\"https://demo.openmf.org/api-docs/apiLive.htm#rdaccounts\" rel=\"nofollow noreferrer\">demo.openmf.org/api-docs/apiLive.htm#rdaccounts</a> Your code triggers an NPE, so if you are running this yourself, try hooking the server to a debugger to step through. If you have no control over the server, perhaps you&#39;re missing a required parameter?"},{"owner":{"account_id":16706037,"reputation":1,"user_id":12074536,"display_name":"SukurujuShabangu"},"score":0,"creation_date":1568643567,"post_id":57958142,"comment_id":102329438,"body_markdown":"@ThomasTimbul, I am running the server locally myself. I am also suspecting a missing required parameter but the api documentation: demo.openmf.org/api-docs/apiLive.htm#rdaccounts does not cover post recurringdepositaccount and if it a missing parameter it will respond with a custom error message indicating the missing parameter ...","body":"@ThomasTimbul, I am running the server locally myself. I am also suspecting a missing required parameter but the api documentation: demo.openmf.org/api-docs/apiLive.htm#rdaccounts does not cover post recurringdepositaccount and if it a missing parameter it will respond with a custom error message indicating the missing parameter ..."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1568646423,"post_id":57958142,"comment_id":102331136,"body_markdown":"@SukurujuShabangu it does if you scroll down (quite a bit). `Mandatory fields: clientId or groupId, productId, submittedOnDate, depositPeriod, depositPeriodFrequencyId, recurringFrequency, recurringFrequencyType, depositAmount,isCalendarInherited, mandatoryRecommendedDepositAmount`.\n\nYou appear to be missing `depositAmount`.","body":"@SukurujuShabangu it does if you scroll down (quite a bit). <code>Mandatory fields: clientId or groupId, productId, submittedOnDate, depositPeriod, depositPeriodFrequencyId, recurringFrequency, recurringFrequencyType, depositAmount,isCalendarInherited, mandatoryRecommendedDepositAmount</code>.  You appear to be missing <code>depositAmount</code>."}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568646635,"creation_date":1568646635,"answer_id":57959748,"question_id":57958142,"body_markdown":"The documentation I could find at https://demo.openmf.org/api-docs/apiLive.htm#rdaccounts\r\n(scroll down beyond all the `GET` examples to get to the `POST` part) states the following mandatory fields:\r\n\r\n    clientId or groupId,\r\n    productId,\r\n    submittedOnDate,\r\n    depositPeriod,\r\n    depositPeriodFrequencyId,\r\n    recurringFrequency,\r\n    recurringFrequencyType,\r\n    depositAmount,\r\n    isCalendarInherited,\r\n    mandatoryRecommendedDepositAmount\r\n\r\nOf these you appear to be missing `depositAmount`.","title":"fineract API Post recurringdepositaccount not working and It is not also covered in the fineract documentation","body":"<p>The documentation I could find at <a href=\"https://demo.openmf.org/api-docs/apiLive.htm#rdaccounts\" rel=\"nofollow noreferrer\">https://demo.openmf.org/api-docs/apiLive.htm#rdaccounts</a>\n(scroll down beyond all the <code>GET</code> examples to get to the <code>POST</code> part) states the following mandatory fields:</p>\n\n<pre><code>clientId or groupId,\nproductId,\nsubmittedOnDate,\ndepositPeriod,\ndepositPeriodFrequencyId,\nrecurringFrequency,\nrecurringFrequencyType,\ndepositAmount,\nisCalendarInherited,\nmandatoryRecommendedDepositAmount\n</code></pre>\n\n<p>Of these you appear to be missing <code>depositAmount</code>.</p>\n"}],"owner":{"account_id":16706037,"reputation":1,"user_id":12074536,"display_name":"SukurujuShabangu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681303695,"creation_date":1568641237,"question_id":57958142,"body_markdown":" fineract Post recurringdepositaccount api in postman  responds with the error message:\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1568640270686,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;exception&quot;: &quot;java.lang.NullPointerException&quot;,\r\n        &quot;message&quot;: null,\r\n        &quot;path&quot;: &quot;/fineract-provider/api/v1/recurringdepositaccounts&quot;\r\n    }\r\n    \r\nHere is my request body:\r\n\r\n    {\r\n      &quot;clientId&quot;: 67,\r\n      &quot;productId&quot;: 6,\r\n      &quot;locale&quot;: &quot;en&quot;,\r\n      &quot;dateFormat&quot;: &quot;dd MMMM yyyy&quot;,\r\n      &quot;submittedOnDate&quot;: &quot;13 September 2019&quot;,\r\n      &quot;depositPeriodFrequencyId&quot;:1,\r\n      &quot;depositPeriod&quot;:1,\r\n      &quot;recurringFrequencyType&quot;:1,\r\n      &quot;recurringFrequency&quot;:1,\r\n      &quot;mandatoryRecommendedDepositAmount&quot;:1000,\r\n      &quot;isCalendarInherited&quot;:false,\r\n      &quot;preClosurePenalApplicable&quot;:false,\r\n      &quot;isMandatoryDeposit&quot;:true,\r\n       &quot;allowWithdrawal&quot;: false,\r\n       &quot;adjustAdvanceTowardsFuturePayments&quot;:false\r\n    }","title":"fineract API Post recurringdepositaccount not working and It is not also covered in the fineract documentation","body":"<p>fineract Post recurringdepositaccount api in postman  responds with the error message:</p>\n\n<pre><code>{\n    \"timestamp\": 1568640270686,\n    \"status\": 500,\n    \"error\": \"Internal Server Error\",\n    \"exception\": \"java.lang.NullPointerException\",\n    \"message\": null,\n    \"path\": \"/fineract-provider/api/v1/recurringdepositaccounts\"\n}\n</code></pre>\n\n<p>Here is my request body:</p>\n\n<pre><code>{\n  \"clientId\": 67,\n  \"productId\": 6,\n  \"locale\": \"en\",\n  \"dateFormat\": \"dd MMMM yyyy\",\n  \"submittedOnDate\": \"13 September 2019\",\n  \"depositPeriodFrequencyId\":1,\n  \"depositPeriod\":1,\n  \"recurringFrequencyType\":1,\n  \"recurringFrequency\":1,\n  \"mandatoryRecommendedDepositAmount\":1000,\n  \"isCalendarInherited\":false,\n  \"preClosurePenalApplicable\":false,\n  \"isMandatoryDeposit\":true,\n   \"allowWithdrawal\": false,\n   \"adjustAdvanceTowardsFuturePayments\":false\n}\n</code></pre>\n"},{"tags":["java","sql-server","spring-boot","hikaricp","mssql-jdbc"],"comments":[{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1532152529,"post_id":51433759,"comment_id":89876113,"body_markdown":"Have a look at https://github.com/Microsoft/mssql-jdbc/issues/414","body":"Have a look at <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/414\" rel=\"nofollow noreferrer\">github.com/Microsoft/mssql-jdbc/issues/414</a>"},{"owner":{"account_id":8614148,"reputation":61,"user_id":6451666,"display_name":"JVz"},"score":0,"creation_date":1532479079,"post_id":51433759,"comment_id":89987681,"body_markdown":"@NitinVavdiya thanks. Your answer point to the right path.","body":"@NitinVavdiya thanks. Your answer point to the right path."}],"answers":[{"tags":[],"owner":{"account_id":8614148,"reputation":61,"user_id":6451666,"display_name":"JVz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1532479036,"creation_date":1532479036,"answer_id":51509333,"question_id":51433759,"body_markdown":"It&#39;s a MSSQL-JDBC issue. The answer by: Nitin Vavdiya pointed me in the right direction.\r\n\r\nI found the &quot;solution&quot; here: https://github.com/Microsoft/mssql-jdbc/issues/719\r\n\r\nI just modified the **java.security** file in the **JRE** Install folder and remove the value: **3DES_EDE_CBC** from the **jdk.tls.disabledAlgorithms** in the file:\r\n\r\nProgram Files\\Java\\&quot;JRE Version&quot;\\lib\\security\r\n\r\nThe following is the exact answer that helped me:\r\n\r\nTo improve the strength of SSL/TLS connections, 3DES cipher suites have been disabled in SSL/TLS connections in the JDK via the jdk.tls.disabledAlgorithms Security Property.\r\n(http://www.oracle.com/technetwork/java/javase/8u171-relnotes-4308888.html)\r\n\r\nAfter changing java.security and removing 3DES_EDE_CBC from jdk.certpath.disabledAlgorithms everything works fine. I&#39;m not sure what needs to be changed in SQLServer config to disable 3DES as an SSL scheme though.\r\n\r\n","title":"Springboot 2.0 unable to access SQL Server Database","body":"<p>It's a MSSQL-JDBC issue. The answer by: Nitin Vavdiya pointed me in the right direction.</p>\n\n<p>I found the \"solution\" here: <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/719\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/mssql-jdbc/issues/719</a></p>\n\n<p>I just modified the <strong>java.security</strong> file in the <strong>JRE</strong> Install folder and remove the value: <strong>3DES_EDE_CBC</strong> from the <strong>jdk.tls.disabledAlgorithms</strong> in the file:</p>\n\n<p>Program Files\\Java\\\"JRE Version\"\\lib\\security</p>\n\n<p>The following is the exact answer that helped me:</p>\n\n<p>To improve the strength of SSL/TLS connections, 3DES cipher suites have been disabled in SSL/TLS connections in the JDK via the jdk.tls.disabledAlgorithms Security Property.\n(<a href=\"http://www.oracle.com/technetwork/java/javase/8u171-relnotes-4308888.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/8u171-relnotes-4308888.html</a>)</p>\n\n<p>After changing java.security and removing 3DES_EDE_CBC from jdk.certpath.disabledAlgorithms everything works fine. I'm not sure what needs to be changed in SQLServer config to disable 3DES as an SSL scheme though.</p>\n"}],"owner":{"account_id":8614148,"reputation":61,"user_id":6451666,"display_name":"JVz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51509333,"answer_count":1,"score":2,"last_activity_date":1681303584,"creation_date":1532049262,"question_id":51433759,"body_markdown":"Please some help with an issue I&#39;m getting on the latest Springboot (2.0.3.RELEASE)\r\nI&#39;m getting the following error when trying to access the database. It was working before migrating to the mentioned version of Springboot and Java 10.\r\n\r\n**Development Enviroment:**\r\n\r\n-Spring Boot 2.0.3.RELEASE\r\n\r\n-JDK / JRE 10 (jdk-10.0.1)\r\n\r\n-IDE: Spring Tool Suite 3.9.5.RELEASE\r\n\r\n**ERROR:**\r\n\r\n    2018-07-19 20:24:37.524 ERROR 12532 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\r\n\r\n    Caused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25\r\n\r\n    org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\r\n\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\r\n\r\nI followed the migration [guide][1] but without success. I have also tried different configuration found in the web, but nothing addresses this issue.\r\n\r\nIs this happening because of the Spring / Java version.\r\n\r\nNote the DataSource configuration in the application.properties:\r\n\r\n\t#CURRENT DATASOURCE CONFIG\r\n\tspring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n\tspring.datasource.url=jdbc:sqlserver://xxx.xxx.x.xx;databaseName=XXX\r\n\tspring.datasource.hikari.username=user\r\n\tspring.datasource.hikari.password=password\r\n\tspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\tspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\tspring.jpa.hibernate.ddl-auto = none\r\n\tspring.jpa.show-sql=true\r\n\r\n    #FOLLOWING CONFIG ARE JUST FOR REFERENCE. I TRIED THEM AS PER BLOGS \r\n\t#spring.datasource.hikari.dataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\t#spring.datasource.url=jdbc:sqlserver://XXX.XXX.X.XX;databaseName=XXX\r\n\t#spring.datasource.url=jdbc:sqlserver://XXX.XXX.X.XX:1433/XXX\r\n\t#spring.datasource.type=\r\n\t#spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n\t#spring.datasource.tomcat.max-active=1\r\n\t#spring.datasource.username=XXXXXX\r\n\t#spring.datasource.password=XXXXXX\r\n\t#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\t#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\t#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\t#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n\t#spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n\t#spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nI have been looking for a reason this current week. Some advice on a Correct Configuration would be helpful.\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide","title":"Springboot 2.0 unable to access SQL Server Database","body":"<p>Please some help with an issue I'm getting on the latest Springboot (2.0.3.RELEASE)\nI'm getting the following error when trying to access the database. It was working before migrating to the mentioned version of Springboot and Java 10.</p>\n<p><strong>Development Enviroment:</strong></p>\n<p>-Spring Boot 2.0.3.RELEASE</p>\n<p>-JDK / JRE 10 (jdk-10.0.1)</p>\n<p>-IDE: Spring Tool Suite 3.9.5.RELEASE</p>\n<p><strong>ERROR:</strong></p>\n<pre><code>2018-07-19 20:24:37.524 ERROR 12532 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\n\nCaused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25\n\norg.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\n\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:33a45785-248c-4b57-ba29-f8802ddd8b25&quot;.\n</code></pre>\n<p>I followed the migration <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">guide</a> but without success. I have also tried different configuration found in the web, but nothing addresses this issue.</p>\n<p>Is this happening because of the Spring / Java version.</p>\n<p>Note the DataSource configuration in the application.properties:</p>\n<pre><code>#CURRENT DATASOURCE CONFIG\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\nspring.datasource.url=jdbc:sqlserver://xxx.xxx.x.xx;databaseName=XXX\nspring.datasource.hikari.username=user\nspring.datasource.hikari.password=password\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto = none\nspring.jpa.show-sql=true\n\n#FOLLOWING CONFIG ARE JUST FOR REFERENCE. I TRIED THEM AS PER BLOGS \n#spring.datasource.hikari.dataSourceClassName=com.microsoft.sqlserver.jdbc.SQLServerDataSource\n#spring.datasource.url=jdbc:sqlserver://XXX.XXX.X.XX;databaseName=XXX\n#spring.datasource.url=jdbc:sqlserver://XXX.XXX.X.XX:1433/XXX\n#spring.datasource.type=\n#spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n#spring.datasource.tomcat.max-active=1\n#spring.datasource.username=XXXXXX\n#spring.datasource.password=XXXXXX\n#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDataSource\n#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n#spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n#spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>I have been looking for a reason this current week. Some advice on a Correct Configuration would be helpful.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["python","java","pseudocode","intermediate-code"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681293521,"post_id":75994107,"comment_id":134031977,"body_markdown":"@matszwecja op is writing it in python","body":"@matszwecja op is writing it in python"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681293562,"post_id":75994107,"comment_id":134031991,"body_markdown":"why do you have goto&#39;s and L2 in pseudocode?","body":"why do you have goto&#39;s and L2 in pseudocode?"},{"owner":{"account_id":15607463,"reputation":46,"user_id":11259837,"display_name":"Jasleen Kaur"},"score":0,"creation_date":1681297860,"post_id":75994107,"comment_id":134032962,"body_markdown":"goto I have used to go back to L1 until i&lt;3.. Is it not correct?","body":"goto I have used to go back to L1 until i&lt;3.. Is it not correct?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681298305,"post_id":75994107,"comment_id":134033050,"body_markdown":"goto is actual code in scripting/programming languages, not really pseudo-code. as for L2: I see no actual reason why you would need that, since that printing is not in a loop (or at least, shouldn&#39;t be)","body":"goto is actual code in scripting/programming languages, not really pseudo-code. as for L2: I see no actual reason why you would need that, since that printing is not in a loop (or at least, shouldn&#39;t be)"},{"owner":{"account_id":15607463,"reputation":46,"user_id":11259837,"display_name":"Jasleen Kaur"},"score":0,"creation_date":1681300463,"post_id":75994107,"comment_id":134033564,"body_markdown":"Oh I see. So how can I mention looping in three address code?","body":"Oh I see. So how can I mention looping in three address code?"},{"owner":{"account_id":5224617,"reputation":6216,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"score":0,"creation_date":1681302023,"post_id":75994107,"comment_id":134033915,"body_markdown":"In the final, largest, code block, you write &quot;Here&#39;s the pseudo code for the code above&quot;. Did you mean to say &quot;...the three-address code for...&quot;? In other words, is that output or input? Also, as you say that your goal is to generate pseudo code: could you elaborate a bit on what this pseudo code is supposed to look like? Generally speaking, the concept &quot;pseudo code&quot; is somewhat loosely defined and means whatever one wants it to mean...","body":"In the final, largest, code block, you write &quot;Here&#39;s the pseudo code for the code above&quot;. Did you mean to say &quot;...the three-address code for...&quot;? In other words, is that output or input? Also, as you say that your goal is to generate pseudo code: could you elaborate a bit on what this pseudo code is supposed to look like? Generally speaking, the concept &quot;pseudo code&quot; is somewhat loosely defined and means whatever one wants it to mean..."},{"owner":{"account_id":15607463,"reputation":46,"user_id":11259837,"display_name":"Jasleen Kaur"},"score":0,"creation_date":1681303099,"post_id":75994107,"comment_id":134034163,"body_markdown":"yes it was three address code. sorry for mistake. I have corrected it. Yes I want to generate pseudo code as below: Initialize sum with 0. Loop through array elements. Find the product of the corresponding elements of arr1 and arr2 and add the product to sum. When loop ends, print sum","body":"yes it was three address code. sorry for mistake. I have corrected it. Yes I want to generate pseudo code as below: Initialize sum with 0. Loop through array elements. Find the product of the corresponding elements of arr1 and arr2 and add the product to sum. When loop ends, print sum"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681334305,"post_id":75994107,"comment_id":134041755,"body_markdown":"There is no simple way to derive higher level code from three address code. You wrote you are stuck, but didn&#39;t explain what you have done so far and where exactly you got stuck.","body":"There is no simple way to derive higher level code from three address code. You wrote you are stuck, but didn&#39;t explain what you have done so far and where exactly you got stuck."}],"owner":{"account_id":15607463,"reputation":46,"user_id":11259837,"display_name":"Jasleen Kaur"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681303039,"creation_date":1681293166,"question_id":75994107,"body_markdown":"I need help in writing a python code that takes in the Three Address Code for the Java source code and returns pseudo code. I have successfully generated pseudo code for 1-D array initialization by extracting the array names, their length, and values. \r\n\r\nFor example:\r\nFor the below lines of code:\r\n```\r\nint arr1[] = {1,2,3}\r\n\r\nint arr2[] = {11,12,13}\r\n```\r\nI am getting the output as below:\r\n        1. Initialize arr1 with values 1,2,3\r\n        2. Initialize arr2 with values 11,12,13\r\n\r\nHowever, I am stuck at writing logic for generating pseudo code in case there is a loop.\r\nFor example,\r\n```         \r\n        sum = 0\r\n        for(int i=0; i&lt;3; i++){\r\n            sum += arr1[i]*arr2[i]\r\n        }\r\n        System.out.println(sum);  \r\n```\r\nHere&#39;s the Three address code for the above code:\r\n```\r\n      sum=0\r\n      i=0\r\n      L1:\r\n           if i &gt;= 3 goto L2\r\n           T1 = addr(a)\r\n           T2 = i * 4\r\n           T3 = T1[T2]\r\n           T4 = addr(b)\r\n           T5 = i * 4\r\n           T6 = T4[T5]\r\n           T7 = T3 * T6\r\n           T8 = sum + T7\r\n           sum = T8\r\n           T9 = i + 1\r\n           i = T9\r\n           goto L1\r\n       L2:      \r\n           print sum\r\n\r\n        ","title":"Stuck in for loop while generating pseudocode from three address code in Python","body":"<p>I need help in writing a python code that takes in the Three Address Code for the Java source code and returns pseudo code. I have successfully generated pseudo code for 1-D array initialization by extracting the array names, their length, and values.</p>\n<p>For example:\nFor the below lines of code:</p>\n<pre><code>int arr1[] = {1,2,3}\n\nint arr2[] = {11,12,13}\n</code></pre>\n<p>I am getting the output as below:\n1. Initialize arr1 with values 1,2,3\n2. Initialize arr2 with values 11,12,13</p>\n<p>However, I am stuck at writing logic for generating pseudo code in case there is a loop.\nFor example,</p>\n<pre><code>        sum = 0\n        for(int i=0; i&lt;3; i++){\n            sum += arr1[i]*arr2[i]\n        }\n        System.out.println(sum);  \n</code></pre>\n<p>Here's the Three address code for the above code:</p>\n<pre><code>      sum=0\n      i=0\n      L1:\n           if i &gt;= 3 goto L2\n           T1 = addr(a)\n           T2 = i * 4\n           T3 = T1[T2]\n           T4 = addr(b)\n           T5 = i * 4\n           T6 = T4[T5]\n           T7 = T3 * T6\n           T8 = sum + T7\n           sum = T8\n           T9 = i + 1\n           i = T9\n           goto L1\n       L2:      \n           print sum\n\n        \n</code></pre>\n"},{"tags":["java","spring","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":28230283,"reputation":21,"user_id":21579607,"display_name":"Pawan Jangir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681302850,"creation_date":1680770226,"answer_id":75947428,"question_id":75780139,"body_markdown":"Just replace your code:\r\n\r\n`th:replace=&quot;base::layout(~{::section})&quot;`\r\n\r\nwith :\r\n\r\n`th:replace=&quot;~{base::layout(~{::section})}&quot;`\r\n\r\nit will work now.","title":"Deprecated unwrapped fragment expression","body":"<p>Just replace your code:</p>\n<p><code>th:replace=&quot;base::layout(~{::section})&quot;</code></p>\n<p>with :</p>\n<p><code>th:replace=&quot;~{base::layout(~{::section})}&quot;</code></p>\n<p>it will work now.</p>\n"}],"owner":{"account_id":23813170,"reputation":1,"user_id":17821753,"display_name":"Udit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681302850,"creation_date":1679201009,"question_id":75780139,"body_markdown":"Hi While clicking on register button using thymeleaf 3.1 and spring6 i am getting the following error can someone help me out on this how to write in the new version the given syntax\r\n\r\nbase::layout(~{::section})\r\n\r\nDeprecated unwrapped fragment expression &quot;base::layout(~{::section})&quot; found in template register.html, line 2, col 53. Please use the complete syntax of fragment expressions instead (&quot;~{base::layout(~{::section})}&quot;). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.\r\n\r\nBelow is my register.html file\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html  lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; \r\n       th:replace=&quot;base::layout(~{::section})&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n\t&lt;title&gt;Insert title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;section&gt;\r\n\t\t&lt;div class=&quot;container p-3&quot; &gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;card&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;card-header text-center fs-4&quot;&gt;Register Page&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;th:block th:if=&quot;${session.msg}&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;p class=&quot;text-center fs-3&quot;&gt;[[${session.msg}]]&lt;/p&gt;\r\n\t\t\t\t\t\t\t&lt;th:block th:text=&quot;${#session.removeAttribute(&#39;msg&#39;)}&quot; &lt;/th:block&gt;\r\n\t\t\t\t\t\t\t&lt;/th:block&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;form action=&quot;createUser&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter First Name&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;firstname&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter Middle Name&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;middlename&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter Last&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;lastname&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter Username&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter Password&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;password&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;label&gt;Enter Address&lt;/lable&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;address&quot; class=&quot;form-control&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t\t&lt;button class=&quot;btn btn-primary col-md-12&quot;&gt;Register&lt;/button&gt;\r\n\t\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/section&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nhere is the base.html from which i am trying to access\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; th:fragment=&quot;layout(content)&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title&lt;/title&gt;\r\n&lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body class=&quot;bg-light&quot;&gt;\r\n&lt;h1&gt;Base Page&lt;/h1&gt;\r\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-primary&quot;&gt;\r\n  &lt;div class=&quot;container-fluid&quot;&gt;\r\n    &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;User Management&lt;/a&gt;\r\n    &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n      &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n    &lt;/button&gt;\r\n    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n      &lt;ul class=&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;&gt;\r\n        &lt;li class=&quot;nav-item&quot;&gt;\r\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;nav-item&quot;&gt;\r\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/register&quot;&gt;Register&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;nav-item&quot;&gt;\r\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/login&quot;&gt;Login&lt;/a&gt;\r\n        &lt;/li&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/nav&gt;\r\n&lt;div th:insert=&quot;${content}&quot;&gt;&lt;/div&gt;\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js&quot; integrity=&quot;sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\ntrying to register the user and get response register successfully in frontend","title":"Deprecated unwrapped fragment expression","body":"<p>Hi While clicking on register button using thymeleaf 3.1 and spring6 i am getting the following error can someone help me out on this how to write in the new version the given syntax</p>\n<p>base::layout(~{::section})</p>\n<p>Deprecated unwrapped fragment expression &quot;base::layout(~{::section})&quot; found in template register.html, line 2, col 53. Please use the complete syntax of fragment expressions instead (&quot;~{base::layout(~{::section})}&quot;). The old, unwrapped syntax for fragment expressions will be removed in future versions of Thymeleaf.</p>\n<p>Below is my register.html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html  lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; \n       th:replace=&quot;base::layout(~{::section})&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n    &lt;title&gt;Insert title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;section&gt;\n        &lt;div class=&quot;container p-3&quot; &gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\n                    &lt;div class=&quot;card&quot;&gt;\n                        &lt;div class=&quot;card-header text-center fs-4&quot;&gt;Register Page&lt;/div&gt;\n                        &lt;th:block th:if=&quot;${session.msg}&quot;&gt;\n                            &lt;p class=&quot;text-center fs-3&quot;&gt;[[${session.msg}]]&lt;/p&gt;\n                            &lt;th:block th:text=&quot;${#session.removeAttribute('msg')}&quot; &lt;/th:block&gt;\n                            &lt;/th:block&gt;\n                        &lt;div class=&quot;card-body&quot;&gt;\n                            &lt;form action=&quot;createUser&quot; method=&quot;post&quot;&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter First Name&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;firstname&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter Middle Name&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;middlename&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter Last&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;lastname&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter Username&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter Password&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;password&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;mb-3&quot;&gt;\n                                    &lt;label&gt;Enter Address&lt;/lable&gt;\n                                        &lt;input type=&quot;text&quot; name=&quot;address&quot; class=&quot;form-control&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;button class=&quot;btn btn-primary col-md-12&quot;&gt;Register&lt;/button&gt;\n                            &lt;/form&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>here is the base.html from which i am trying to access</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; th:fragment=&quot;layout(content)&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title&lt;/title&gt;\n&lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC&quot; crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body class=&quot;bg-light&quot;&gt;\n&lt;h1&gt;Base Page&lt;/h1&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-primary&quot;&gt;\n  &lt;div class=&quot;container-fluid&quot;&gt;\n    &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;User Management&lt;/a&gt;\n    &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n      &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n      &lt;ul class=&quot;navbar-nav me-auto mb-2 mb-lg-0&quot;&gt;\n        &lt;li class=&quot;nav-item&quot;&gt;\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=&quot;nav-item&quot;&gt;\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/register&quot;&gt;Register&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=&quot;nav-item&quot;&gt;\n          &lt;a class=&quot;nav-link active&quot; aria-current=&quot;page&quot; href=&quot;/login&quot;&gt;Login&lt;/a&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/nav&gt;\n&lt;div th:insert=&quot;${content}&quot;&gt;&lt;/div&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js&quot; integrity=&quot;sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>trying to register the user and get response register successfully in frontend</p>\n"},{"tags":["java","ftp"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1619782510,"post_id":67331718,"comment_id":119014720,"body_markdown":"Is the FTP connection using binary mode by default?  If not, have you set it to use binary mode?","body":"Is the FTP connection using binary mode by default?  If not, have you set it to use binary mode?"}],"answers":[{"tags":[],"owner":{"account_id":10790837,"reputation":278,"user_id":7938407,"display_name":"Dawood Zaidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632209551,"creation_date":1632209551,"answer_id":69265015,"question_id":67331718,"body_markdown":"I encountered the same error with my Excel file.\r\n\r\nI was using a copy component at an application which resulted in the copied file being corrupt.\r\n\r\nI believe what you&#39;re doing has also caused the file to be corrupted.","title":"Could not open the specified zip entry source stream","body":"<p>I encountered the same error with my Excel file.</p>\n<p>I was using a copy component at an application which resulted in the copied file being corrupt.</p>\n<p>I believe what you're doing has also caused the file to be corrupted.</p>\n"},{"tags":[],"owner":{"account_id":16227120,"reputation":1,"user_id":11717099,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681302632,"creation_date":1680804611,"answer_id":75952528,"question_id":67331718,"body_markdown":"I&#39;ve just updated `poi-ooxml` and `poi` from version `3.17` to `4.1.2`. \r\n\r\nThat solved the problem.","title":"Could not open the specified zip entry source stream","body":"<p>I've just updated <code>poi-ooxml</code> and <code>poi</code> from version <code>3.17</code> to <code>4.1.2</code>.</p>\n<p>That solved the problem.</p>\n"}],"owner":{"account_id":21446333,"reputation":11,"user_id":15799848,"display_name":"desperado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681302632,"creation_date":1619776001,"question_id":67331718,"body_markdown":"I use javaftp to read Excel files from FTP, and then use easyexcel to parse them. I have 12 files in total, of which 8 files are read and parsed successfully, 4 files are read and parsed unsuccessfully all the time, and there is no problem in opening the files locally.\r\n\r\nThere is no problem to read the project running on the local windows machine. When the project is deployed to the docker container on awsec2, the following problems will appear.\r\n\r\nThe following error occurs when FTP reads the parsing file. The problem occurs when excel parsing the stream read from FTP.\r\n```\r\n  org.apache.poi.openxml4j.exceptions.InvalidOperationException: Could not open the specified zip entry source stream\r\n  \tat org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:205)\r\n  \tat org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:187)\r\n  \tat org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:161)\r\n  \tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:142)\r\n  \tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:295)\r\n  \tat com.alibaba.excel.analysis.v07.XlsxSaxAnalyser.readOpcPackage(XlsxSaxAnalyser.java:141)\r\n  \tat com.alibaba.excel.analysis.v07.XlsxSaxAnalyser.&lt;init&gt;(XlsxSaxAnalyser.java:58)\r\n  \tat com.alibaba.excel.analysis.ExcelAnalyserImpl.choiceExcelExecutor(ExcelAnalyserImpl.java:92)\r\n  \tat com.alibaba.excel.analysis.ExcelAnalyserImpl.&lt;init&gt;(ExcelAnalyserImpl.java:45)\r\n  \tat com.alibaba.excel.ExcelReader.&lt;init&gt;(ExcelReader.java:143)\r\n  \tat com.alibaba.excel.read.builder.ExcelReaderBuilder.build(ExcelReaderBuilder.java:270)\r\n  \tat com.alibaba.excel.read.builder.ExcelReaderBuilder.doReadAll(ExcelReaderBuilder.java:274)\r\n  \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n  \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\r\n  \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n  \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n  \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n  \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n  \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n  \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n  \tat java.lang.Thread.run(Thread.java:748)\r\n  Caused by: java.util.zip.ZipException: invalid entry size (expected 134582 but got 134589 bytes)\r\n  \tat java.util.zip.ZipInputStream.readEnd(ZipInputStream.java:384)\r\n  \tat java.util.zip.ZipInputStream.read(ZipInputStream.java:196)\r\n  \tat org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:220)\r\n  \tat java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n  \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\r\n  \tat org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\r\n  \tat org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:203)\r\n  \r\n```\r\n从FTP读取文件代码如下：\r\n```\r\n ftp.changeWorkingDirectory(directory);\r\n ftp.enterLocalPassiveMode();\r\n return ftp.retrieveFileStream(downloadFile);          \r\n```\r\n解析Excel文件方法:\r\n```\r\n EasyExcel.read(inputStream, DGBBExcelModel.class, new AnalysisEventListener&lt;DGBBExcelModel&gt;() {\r\n            @Override\r\n            public void invoke(DGBBExcelModel excelModel, AnalysisContext analysisContext) {\r\n                excelModel.setSourceFile(fileName);\r\n                result.add(excelModel);\r\n                if(result.size() &gt;= 1000){\r\n                    deliverGoodsRecordService.addBatch(result);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void doAfterAllAnalysed(AnalysisContext analysisContext) {\r\n                try {\r\n                    inputStream.close();\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).doReadAll();\r\n```","title":"Could not open the specified zip entry source stream","body":"<p>I use javaftp to read Excel files from FTP, and then use easyexcel to parse them. I have 12 files in total, of which 8 files are read and parsed successfully, 4 files are read and parsed unsuccessfully all the time, and there is no problem in opening the files locally.</p>\n<p>There is no problem to read the project running on the local windows machine. When the project is deployed to the docker container on awsec2, the following problems will appear.</p>\n<p>The following error occurs when FTP reads the parsing file. The problem occurs when excel parsing the stream read from FTP.</p>\n<pre><code>  org.apache.poi.openxml4j.exceptions.InvalidOperationException: Could not open the specified zip entry source stream\n    at org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:205)\n    at org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:187)\n    at org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:161)\n    at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:142)\n    at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:295)\n    at com.alibaba.excel.analysis.v07.XlsxSaxAnalyser.readOpcPackage(XlsxSaxAnalyser.java:141)\n    at com.alibaba.excel.analysis.v07.XlsxSaxAnalyser.&lt;init&gt;(XlsxSaxAnalyser.java:58)\n    at com.alibaba.excel.analysis.ExcelAnalyserImpl.choiceExcelExecutor(ExcelAnalyserImpl.java:92)\n    at com.alibaba.excel.analysis.ExcelAnalyserImpl.&lt;init&gt;(ExcelAnalyserImpl.java:45)\n    at com.alibaba.excel.ExcelReader.&lt;init&gt;(ExcelReader.java:143)\n    at com.alibaba.excel.read.builder.ExcelReaderBuilder.build(ExcelReaderBuilder.java:270)\n    at com.alibaba.excel.read.builder.ExcelReaderBuilder.doReadAll(ExcelReaderBuilder.java:274)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n  Caused by: java.util.zip.ZipException: invalid entry size (expected 134582 but got 134589 bytes)\n    at java.util.zip.ZipInputStream.readEnd(ZipInputStream.java:384)\n    at java.util.zip.ZipInputStream.read(ZipInputStream.java:196)\n    at org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:220)\n    at java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource$FakeZipEntry.&lt;init&gt;(ZipInputStreamZipEntrySource.java:132)\n    at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:56)\n    at org.apache.poi.openxml4j.opc.ZipPackage.openZipEntrySourceStream(ZipPackage.java:203)\n  \n</code></pre>\n<p>从FTP读取文件代码如下：</p>\n<pre><code> ftp.changeWorkingDirectory(directory);\n ftp.enterLocalPassiveMode();\n return ftp.retrieveFileStream(downloadFile);          \n</code></pre>\n<p>解析Excel文件方法:</p>\n<pre><code> EasyExcel.read(inputStream, DGBBExcelModel.class, new AnalysisEventListener&lt;DGBBExcelModel&gt;() {\n            @Override\n            public void invoke(DGBBExcelModel excelModel, AnalysisContext analysisContext) {\n                excelModel.setSourceFile(fileName);\n                result.add(excelModel);\n                if(result.size() &gt;= 1000){\n                    deliverGoodsRecordService.addBatch(result);\n                }\n            }\n\n            @Override\n            public void doAfterAllAnalysed(AnalysisContext analysisContext) {\n                try {\n                    inputStream.close();\n                }catch (Exception e){\n                    e.printStackTrace();\n                }\n            }\n        }).doReadAll();\n</code></pre>\n"},{"tags":["java","android","flutter","events","channel"],"owner":{"account_id":17425215,"reputation":389,"user_id":12630156,"display_name":"Mariam Younes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681302349,"creation_date":1681302349,"question_id":75995436,"body_markdown":"I would to integration with surepay for adding payment in my app\r\nSurePay use java native code and in my case i want to use this native code in my flutter app\r\neverything is okay and  the money is withdrawn successfully, and the payment process is done correctly, but there is a callback function from which I must take the response to make sure that the payment process succeeded or failed, and accordingly tell the user what to do .\r\nIn my case, I can&#39;t listen to the change happening in the Native code\r\nThis is my java native code\r\n\r\nNote that : i want to listen to onUsbGetTransaction callback method after calling ( sendAmount - getLastTransactionFromTerminal) methods\r\n\r\n```\r\npublic class MainActivity extends FlutterActivity implements Usb.OnReceivingData, Usb.OnConnectStatusChanges{\r\n\r\n\r\n    private static final String CHANNEL = &quot;tkafol/channel&quot;;\r\n    private static final String MY_EVENT_CHANNEL_NAME = &quot;tkafol/event&quot;;\r\n    private final Usb ConnParam = new Usb();\r\n    Usb.TransactionInformation model =new Usb.TransactionInformation();\r\n    private EventChannel.EventSink usbTransactionEventSink;\r\n\r\n    String transactionInfo ;\r\n\r\n\r\n    @Override\r\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine);\r\n        // Setup a method channel to receive messages from Flutter\r\n        ConnParam.setTimeout(1000 * 60 * 7);\r\n        new EventChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), MY_EVENT_CHANNEL_NAME)\r\n                .setStreamHandler(new EventChannel.StreamHandler() {\r\n\r\n                    @Override\r\n                    public void onListen(Object arguments, EventChannel.EventSink eventSink) {\r\n                        Log.d(&quot;Stream listen&quot;, &quot;top listen&quot;);\r\n\r\n                        Toast.makeText(getBaseContext(),&quot;stream in native code listen&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                        usbTransactionEventSink = eventSink;\r\n                    }\r\n                    \r\n                    @Override\r\n                    public void onCancel(Object arguments) {\r\n                        Log.d(&quot;Stream cancel&quot;, &quot;top cancel&quot;);\r\n                        Toast.makeText(getBaseContext(),&quot;stream in native code cancel&quot;,Toast.LENGTH_SHORT).show();\r\n                        usbTransactionEventSink = null;\r\n                    }\r\n                });\r\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL).setMethodCallHandler(\r\n                (call, result) -&gt; {\r\n                    switch (call.method) {\r\n                        case &quot;sendAmount&quot; :\r\n                            String amount = call.argument(&quot;amount&quot;);\r\n                            ConnParam.sendAmount(MainActivity.this,  amount);\r\n                            //ConnParam.sendAmount(MainActivity.this, &quot;10.25&quot;);\r\n                            result.success(null);\r\n                            break;\r\n                        case &quot;sendReconciliation&quot; :\r\n                            ConnParam.sendReconciliation(MainActivity.this);\r\n                            result.success(null);\r\n                            break;\r\n                        case &quot;getLastTransactionFromTerminal&quot; :\r\n\r\n                            ConnParam.getLastTransactionFromTerminal(MainActivity.this);\r\n                            result.success( ConnParam.getLastTransactionFromTerminal(MainActivity.this));\r\n                            break;\r\n                            result.notImplemented();\r\n                            break;\r\n                    }\r\n            });\r\n    }\r\n\r\n    // A method that calls the native code\r\n//    private boolean callNativeMethod(String message) {\r\n//        return true;\r\n//    }\r\n    @Override\r\n    public void onUsbGetTransaction(Usb.TransactionInformation model) {\r\n        Log.d(&quot;STREAM&quot;,&quot;now is null&quot;);\r\n        Toast.makeText(getBaseContext(),&quot;stream null now&quot;,Toast.LENGTH_SHORT).show();\r\n        if (usbTransactionEventSink != null) {\r\n            // Send the event data to Flutter\r\n            Toast.makeText(getBaseContext(),&quot;stream in native code&quot;,Toast.LENGTH_SHORT).show();\r\n            String transactionInfo = model.toString();\r\n            Map&lt;String, String&gt; arguments = new HashMap&lt;&gt;();\r\n            arguments.put(&quot;transactionInfo&quot;, transactionInfo);\r\n\r\n            new MethodChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n                    .invokeMethod(&quot;onGetTransaction&quot;, arguments);\r\n            usbTransactionEventSink.success(model.toString());\r\n        }\r\n        String transactionInfo = model.toString();\r\n        Map&lt;String, String&gt; arguments = new HashMap&lt;&gt;();\r\n        arguments.put(&quot;transactionInfo&quot;, transactionInfo);\r\n\r\n        new MethodChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n                .invokeMethod(&quot;onGetTransaction&quot;, arguments);\r\n       // usbTransactionEventSink.success(model.toString());\r\n    }\r\n\r\n\r\n   \r\n}\r\n```\r\n\r\nAnd my Flutter code which i used for listening to callback method\r\n```\r\nfinal EventChannel _eventChannel =\r\n      const EventChannel(&#39;tkafol/event&#39;);\r\nStreamSubscription? _usbTransactionSubscription;\r\n  listenToEvent() {\r\n    showError(&quot;we stream before&quot;);\r\n    _usbTransactionSubscription =\r\n        _eventChannel.receiveBroadcastStream().listen((transactionInfo) {\r\n      showError(&quot;we stream after&quot;);\r\n      setState(() {\r\n        responseDataUsb = &quot;callback listener : &quot; + transactionInfo.toString();\r\n      });\r\n    });\r\n  }\r\n\r\n```\r\n\r\nI&#39;m Tring this function to listen to event in native code\r\n\r\n```\r\nfinal EventChannel _eventChannel =\r\n      const EventChannel(&#39;tkafol/event&#39;);\r\nStreamSubscription? _usbTransactionSubscription;\r\n  listenToEvent() {\r\n    showError(&quot;we stream before&quot;);\r\n    _usbTransactionSubscription =\r\n        _eventChannel.receiveBroadcastStream().listen((transactionInfo) {\r\n      showError(&quot;we stream after&quot;);\r\n      setState(() {\r\n        responseDataUsb = &quot;callback listener : &quot; + transactionInfo.toString();\r\n      });\r\n    });\r\n  }\r\n\r\n```\r\n\r\nand call it in initState method and got no result overall all stream","title":"Listen to callback method from java native code to dart flutter","body":"<p>I would to integration with surepay for adding payment in my app\nSurePay use java native code and in my case i want to use this native code in my flutter app\neverything is okay and  the money is withdrawn successfully, and the payment process is done correctly, but there is a callback function from which I must take the response to make sure that the payment process succeeded or failed, and accordingly tell the user what to do .\nIn my case, I can't listen to the change happening in the Native code\nThis is my java native code</p>\n<p>Note that : i want to listen to onUsbGetTransaction callback method after calling ( sendAmount - getLastTransactionFromTerminal) methods</p>\n<pre><code>public class MainActivity extends FlutterActivity implements Usb.OnReceivingData, Usb.OnConnectStatusChanges{\n\n\n    private static final String CHANNEL = &quot;tkafol/channel&quot;;\n    private static final String MY_EVENT_CHANNEL_NAME = &quot;tkafol/event&quot;;\n    private final Usb ConnParam = new Usb();\n    Usb.TransactionInformation model =new Usb.TransactionInformation();\n    private EventChannel.EventSink usbTransactionEventSink;\n\n    String transactionInfo ;\n\n\n    @Override\n    public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n        super.configureFlutterEngine(flutterEngine);\n        // Setup a method channel to receive messages from Flutter\n        ConnParam.setTimeout(1000 * 60 * 7);\n        new EventChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), MY_EVENT_CHANNEL_NAME)\n                .setStreamHandler(new EventChannel.StreamHandler() {\n\n                    @Override\n                    public void onListen(Object arguments, EventChannel.EventSink eventSink) {\n                        Log.d(&quot;Stream listen&quot;, &quot;top listen&quot;);\n\n                        Toast.makeText(getBaseContext(),&quot;stream in native code listen&quot;,Toast.LENGTH_SHORT).show();\n\n                        usbTransactionEventSink = eventSink;\n                    }\n                    \n                    @Override\n                    public void onCancel(Object arguments) {\n                        Log.d(&quot;Stream cancel&quot;, &quot;top cancel&quot;);\n                        Toast.makeText(getBaseContext(),&quot;stream in native code cancel&quot;,Toast.LENGTH_SHORT).show();\n                        usbTransactionEventSink = null;\n                    }\n                });\n        new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL).setMethodCallHandler(\n                (call, result) -&gt; {\n                    switch (call.method) {\n                        case &quot;sendAmount&quot; :\n                            String amount = call.argument(&quot;amount&quot;);\n                            ConnParam.sendAmount(MainActivity.this,  amount);\n                            //ConnParam.sendAmount(MainActivity.this, &quot;10.25&quot;);\n                            result.success(null);\n                            break;\n                        case &quot;sendReconciliation&quot; :\n                            ConnParam.sendReconciliation(MainActivity.this);\n                            result.success(null);\n                            break;\n                        case &quot;getLastTransactionFromTerminal&quot; :\n\n                            ConnParam.getLastTransactionFromTerminal(MainActivity.this);\n                            result.success( ConnParam.getLastTransactionFromTerminal(MainActivity.this));\n                            break;\n                            result.notImplemented();\n                            break;\n                    }\n            });\n    }\n\n    // A method that calls the native code\n//    private boolean callNativeMethod(String message) {\n//        return true;\n//    }\n    @Override\n    public void onUsbGetTransaction(Usb.TransactionInformation model) {\n        Log.d(&quot;STREAM&quot;,&quot;now is null&quot;);\n        Toast.makeText(getBaseContext(),&quot;stream null now&quot;,Toast.LENGTH_SHORT).show();\n        if (usbTransactionEventSink != null) {\n            // Send the event data to Flutter\n            Toast.makeText(getBaseContext(),&quot;stream in native code&quot;,Toast.LENGTH_SHORT).show();\n            String transactionInfo = model.toString();\n            Map&lt;String, String&gt; arguments = new HashMap&lt;&gt;();\n            arguments.put(&quot;transactionInfo&quot;, transactionInfo);\n\n            new MethodChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor().getBinaryMessenger(), CHANNEL)\n                    .invokeMethod(&quot;onGetTransaction&quot;, arguments);\n            usbTransactionEventSink.success(model.toString());\n        }\n        String transactionInfo = model.toString();\n        Map&lt;String, String&gt; arguments = new HashMap&lt;&gt;();\n        arguments.put(&quot;transactionInfo&quot;, transactionInfo);\n\n        new MethodChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor().getBinaryMessenger(), CHANNEL)\n                .invokeMethod(&quot;onGetTransaction&quot;, arguments);\n       // usbTransactionEventSink.success(model.toString());\n    }\n\n\n   \n}\n</code></pre>\n<p>And my Flutter code which i used for listening to callback method</p>\n<pre><code>final EventChannel _eventChannel =\n      const EventChannel('tkafol/event');\nStreamSubscription? _usbTransactionSubscription;\n  listenToEvent() {\n    showError(&quot;we stream before&quot;);\n    _usbTransactionSubscription =\n        _eventChannel.receiveBroadcastStream().listen((transactionInfo) {\n      showError(&quot;we stream after&quot;);\n      setState(() {\n        responseDataUsb = &quot;callback listener : &quot; + transactionInfo.toString();\n      });\n    });\n  }\n\n</code></pre>\n<p>I'm Tring this function to listen to event in native code</p>\n<pre><code>final EventChannel _eventChannel =\n      const EventChannel('tkafol/event');\nStreamSubscription? _usbTransactionSubscription;\n  listenToEvent() {\n    showError(&quot;we stream before&quot;);\n    _usbTransactionSubscription =\n        _eventChannel.receiveBroadcastStream().listen((transactionInfo) {\n      showError(&quot;we stream after&quot;);\n      setState(() {\n        responseDataUsb = &quot;callback listener : &quot; + transactionInfo.toString();\n      });\n    });\n  }\n\n</code></pre>\n<p>and call it in initState method and got no result overall all stream</p>\n"},{"tags":["java","node.js","angular"],"comments":[{"owner":{"account_id":12814713,"reputation":139,"user_id":9271694,"display_name":"hmartini"},"score":0,"creation_date":1681243627,"post_id":75989626,"comment_id":134024600,"body_markdown":"The error indicates that your Angular version is out of date. Do you have Angular 14.0.0 or newer installed?","body":"The error indicates that your Angular version is out of date. Do you have Angular 14.0.0 or newer installed?"},{"owner":{"account_id":28198539,"reputation":11,"user_id":21552720,"display_name":"Madhavi R"},"score":0,"creation_date":1681243740,"post_id":75989626,"comment_id":134024613,"body_markdown":"Your global Angular CLI version (12.2.16) is greater than your local version (12.0.5). The local Angular CLI version is used.\nLooks like this is my version","body":"Your global Angular CLI version (12.2.16) is greater than your local version (12.0.5). The local Angular CLI version is used. Looks like this is my version"}],"answers":[{"tags":[],"owner":{"account_id":19127838,"reputation":1742,"user_id":13970434,"display_name":"Andr&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681301707,"creation_date":1681301707,"answer_id":75995331,"question_id":75989626,"body_markdown":"Yuo are getting this error because your dependencies can only run on Angular 14 or newer. Therefore, you need to upgrade your application (or remove the dependencies).\r\n\r\nThis is not about updating node, but Angular.\r\n\r\nYou can check in detail how to upgrade your Angular application here:  \r\nhttps://update.angular.io/?v=12.0-14.0","title":"TypeError: Cannot create property &#39;message&#39; on string ngx-print\\fesm2020\\ngx-print.mjs","body":"<p>Yuo are getting this error because your dependencies can only run on Angular 14 or newer. Therefore, you need to upgrade your application (or remove the dependencies).</p>\n<p>This is not about updating node, but Angular.</p>\n<p>You can check in detail how to upgrade your Angular application here:<br />\n<a href=\"https://update.angular.io/?v=12.0-14.0\" rel=\"nofollow noreferrer\">https://update.angular.io/?v=12.0-14.0</a></p>\n"}],"owner":{"account_id":28198539,"reputation":11,"user_id":21552720,"display_name":"Madhavi R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681301707,"creation_date":1681242583,"question_id":75989626,"body_markdown":"My node version is 16.16.0. while I&#39;m trying to do ng serve it gives me this trace.\r\n\r\n&gt;/node_modules/ngx-print/fesm2020/ngx-print.mjs - Error: Module build failed (from ./node_modules/@angular-devkit/build-angular/src/babel/webpack-loader.js):\r\nTypeError: Cannot create property &#39;message&#39; on string &#39;C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\ngx-print\\fesm2020\\ngx-print.mjs: This application depends upon a library published using Angular version 15.0.4, which requires Angular version 14.0.0 or newer to work correctly.\r\nConsider upgrading your application to use a more recent version of Angular.\r\n  162 | }\r\n  163 | NgxPrintDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: &quot;12.0.0&quot;, version: &quot;15.0.4&quot;, ngImport: i0, type: NgxPrintDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\n 164 | NgxPrintDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: &quot;14.0.0&quot;, version: &quot;15.0.4&quot;, type: NgxPrintDirective, selector: &quot;button[ngxPrint]&quot;, inputs: { previewOnly: &quot;previ\r\newOnly&quot;, printSectionId: &quot;printSectionId&quot;, printTitle: &quot;printTitle&quot;, useExistingCss: &quot;useExistingCss&quot;, printDelay: &quot;printDelay&quot;, printStyle: &quot;printStyle&quot;, styleSheetFile: &quot;styleSheetFile&quot; }, host: { listeners: { &quot;click&quot;: &quot;print()&quot; } }, ngImport: i0 });\r\n167 |             args: [{&#39;\r\n    at run (C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\@babel\\core\\lib\\transformation\\index.js:27:15)\r\n    at transform.next (&lt;anonymous&gt;)\r\n    at async.call.result.err.err (C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\gensync\\index.js:223:11)\r\n    at C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\gensync\\index.js:37:40\r\n93     static ɵdir: i0.ɵɵDirectiveDeclaration&lt;NgxPrintDirective, &quot;button[ngxPrint]&quot;, never, { &quot;previewOnly&quot;: &quot;previewOnly&quot;; &quot;printSectionId&quot;: &quot;printSectionId&quot;; &quot;printTitle&quot;: &quot;printTitle&quot;; &quot;useExistingCss&quot;: &quot;useExistingCss&quot;; &quot;printDelay&quot;: &quot;printDelay&quot;; &quot;printStyle&quot;: &quot;printStyle&quot;; &quot;styleSheetFile&quot;: &quot;styleSheetFile&quot;; }, {}, never, never, false, never&gt;;\r\n               \r\n\r\nI tried downgrading and upgrading versions which didn&#39;t work! I really need help in this, Thanks in advance.","title":"TypeError: Cannot create property &#39;message&#39; on string ngx-print\\fesm2020\\ngx-print.mjs","body":"<p>My node version is 16.16.0. while I'm trying to do ng serve it gives me this trace.</p>\n<blockquote>\n<p>/node_modules/ngx-print/fesm2020/ngx-print.mjs - Error: Module build failed (from ./node_modules/@angular-devkit/build-angular/src/babel/webpack-loader.js):\nTypeError: Cannot create property 'message' on string 'C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\ngx-print\\fesm2020\\ngx-print.mjs: This application depends upon a library published using Angular version 15.0.4, which requires Angular version 14.0.0 or newer to work correctly.\nConsider upgrading your application to use a more recent version of Angular.\n162 | }\n163 | NgxPrintDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: &quot;12.0.0&quot;, version: &quot;15.0.4&quot;, ngImport: i0, type: NgxPrintDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n164 | NgxPrintDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: &quot;14.0.0&quot;, version: &quot;15.0.4&quot;, type: NgxPrintDirective, selector: &quot;button[ngxPrint]&quot;, inputs: { previewOnly: &quot;previ\newOnly&quot;, printSectionId: &quot;printSectionId&quot;, printTitle: &quot;printTitle&quot;, useExistingCss: &quot;useExistingCss&quot;, printDelay: &quot;printDelay&quot;, printStyle: &quot;printStyle&quot;, styleSheetFile: &quot;styleSheetFile&quot; }, host: { listeners: { &quot;click&quot;: &quot;print()&quot; } }, ngImport: i0 });\n167 |             args: [{'\nat run (C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules@babel\\core\\lib\\transformation\\index.js:27:15)\nat transform.next ()\nat async.call.result.err.err (C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\gensync\\index.js:223:11)\nat C:\\Users\\TRANS23-LAP-RA1\\Documents\\GitHub\\NYMTC-Angular\\nymtc-web\\node_modules\\gensync\\index.js:37:40\n93     static ɵdir: i0.ɵɵDirectiveDeclaration&lt;NgxPrintDirective, &quot;button[ngxPrint]&quot;, never, { &quot;previewOnly&quot;: &quot;previewOnly&quot;; &quot;printSectionId&quot;: &quot;printSectionId&quot;; &quot;printTitle&quot;: &quot;printTitle&quot;; &quot;useExistingCss&quot;: &quot;useExistingCss&quot;; &quot;printDelay&quot;: &quot;printDelay&quot;; &quot;printStyle&quot;: &quot;printStyle&quot;; &quot;styleSheetFile&quot;: &quot;styleSheetFile&quot;; }, {}, never, never, false, never&gt;;</p>\n</blockquote>\n<p>I tried downgrading and upgrading versions which didn't work! I really need help in this, Thanks in advance.</p>\n"},{"tags":["java","android","progress-bar","countdown","progress"],"answers":[{"tags":[],"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1428534653,"creation_date":1428507288,"answer_id":29519095,"question_id":24286840,"body_markdown":"Did you try [https://github.com/diogobernardino/CircularCounter][1]?\r\n\r\nAnother possible example: [https://stackoverflow.com/questions/20010997/circular-progress-bar-for-a-countdown-timer][2]\r\n\r\n\r\n  [1]: https://github.com/diogobernardino/CircularCounter\r\n  [2]: https://stackoverflow.com/questions/20010997/circular-progress-bar-for-a-countdown-timer","title":"Android circular countdown","body":"<p>Did you try <a href=\"https://github.com/diogobernardino/CircularCounter\" rel=\"noreferrer\">https://github.com/diogobernardino/CircularCounter</a>?</p>\n\n<p>Another possible example: <a href=\"https://stackoverflow.com/questions/20010997/circular-progress-bar-for-a-countdown-timer\">Circular Progress Bar ( for a countdown timer )</a></p>\n"},{"tags":[],"owner":{"account_id":20076809,"reputation":11,"user_id":14720383,"display_name":"MOHAMMED SHAHBAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681301531,"creation_date":1681301531,"answer_id":75995299,"question_id":24286840,"body_markdown":"try this, https://github.com/uzairiqbal91/CircularTimerView  ,,this library has set of all functions and attributes required.","title":"Android circular countdown","body":"<p>try this, <a href=\"https://github.com/uzairiqbal91/CircularTimerView\" rel=\"nofollow noreferrer\">https://github.com/uzairiqbal91/CircularTimerView</a>  ,,this library has set of all functions and attributes required.</p>\n"}],"owner":{"account_id":4440500,"reputation":65,"user_id":3615129,"accept_rate":100,"display_name":"Arkenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29519095,"answer_count":2,"score":2,"last_activity_date":1681301531,"creation_date":1403098031,"question_id":24286840,"body_markdown":"I&#39;m new to Android Development and I&#39;m trying to build a circular progressbar. And in its center a text that will change whenever the progress will be reached. Can you provide some code example? See this example:  ![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VjQef.png","title":"Android circular countdown","body":"<p>I'm new to Android Development and I'm trying to build a circular progressbar. And in its center a text that will change whenever the progress will be reached. Can you provide some code example? See this example:  <img src=\"https://i.stack.imgur.com/VjQef.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","r"],"comments":[{"owner":{"display_name":"user3603486"},"score":0,"creation_date":1523128077,"post_id":49710941,"comment_id":86435506,"body_markdown":"Hi @francesco... welcome to SO. I&#39;ve edited your title to be a bit more informative as a question.","body":"Hi @francesco... welcome to SO. I&#39;ve edited your title to be a bit more informative as a question."},{"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"score":0,"creation_date":1523128391,"post_id":49710941,"comment_id":86435591,"body_markdown":"No problem, i hope that it will also help anybody else.","body":"No problem, i hope that it will also help anybody else."},{"owner":{"account_id":7629244,"reputation":6881,"user_id":5784831,"accept_rate":93,"display_name":"Christoph"},"score":0,"creation_date":1523129144,"post_id":49710941,"comment_id":86435810,"body_markdown":"How did you install xlsx package? Or have a look here https://stackoverflow.com/q/37735108/5784831","body":"How did you install xlsx package? Or have a look here <a href=\"https://stackoverflow.com/q/37735108/5784831\">stackoverflow.com/q/37735108/5784831</a>"},{"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"score":0,"creation_date":1523132787,"post_id":49710941,"comment_id":86436862,"body_markdown":"I wasnt&#39;able to install xlsx package... It says &quot;Error: package or namespace load failed for ‘rJava’&quot;. I don&#39;t know what to do, i&#39;m a newbie of R.","body":"I wasnt&#39;able to install xlsx package... It says &quot;Error: package or namespace load failed for ‘rJava’&quot;. I don&#39;t know what to do, i&#39;m a newbie of R."},{"owner":{"account_id":9522430,"reputation":4859,"user_id":7076819,"display_name":"Cain&#227; Max Couto-Silva"},"score":0,"creation_date":1523157802,"post_id":49710941,"comment_id":86441402,"body_markdown":"What is your OS? Usually, when I get these errors, I look all over the error messages, such often there will be some libraries/packages suggested for installing for each operating system.","body":"What is your OS? Usually, when I get these errors, I look all over the error messages, such often there will be some libraries/packages suggested for installing for each operating system."},{"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"score":0,"creation_date":1523177724,"post_id":49710941,"comment_id":86445281,"body_markdown":"I use Windows 10. And no errors were found during install.packages(&quot;xlsx&quot;) and install.packages(&quot;rJava&quot;). The problem is after, when i try to charge Java package.","body":"I use Windows 10. And no errors were found during install.packages(&quot;xlsx&quot;) and install.packages(&quot;rJava&quot;). The problem is after, when i try to charge Java package."},{"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"score":0,"creation_date":1523177955,"post_id":49710941,"comment_id":86445343,"body_markdown":"I am running R version Version 1.0.143 and Java version 1.8.0_161(latest)","body":"I am running R version Version 1.0.143 and Java version 1.8.0_161(latest)"},{"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"score":0,"creation_date":1523178610,"post_id":49710941,"comment_id":86445511,"body_markdown":"Sorry, i running Windows 8. And: sessionInfo()\nR version 3.4.4 (2018-03-15)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows &gt;= 8 x64 (build 9200)\n\nMatrix products: default\n\nlocale:\n[1] LC_COLLATE=Italian_Italy.1252  LC_CTYPE=Italian_Italy.1252   \n[3] LC_MONETARY=Italian_Italy.1252 LC_NUMERIC=C                  \n[5] LC_TIME=Italian_Italy.1252    \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n[1] compiler_3.4.4 tools_3.4.4","body":"Sorry, i running Windows 8. And: sessionInfo() R version 3.4.4 (2018-03-15) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows &gt;= 8 x64 (build 9200)  Matrix products: default  locale: [1] LC_COLLATE=Italian_Italy.1252  LC_CTYPE=Italian_Italy.1252    [3] LC_MONETARY=Italian_Italy.1252 LC_NUMERIC=C                   [5] LC_TIME=Italian_Italy.1252      attached base packages: [1] stats     graphics  grDevices utils     datasets  methods   base       loaded via a namespace (and not attached): [1] compiler_3.4.4 tools_3.4.4"},{"owner":{"account_id":19396377,"reputation":1,"user_id":14183982,"display_name":"Somnath Bera"},"score":0,"creation_date":1598636093,"post_id":49710941,"comment_id":112533608,"body_markdown":"Try this:\nhttps://stackoverflow.com/questions/7019912/using-the-rjava-package-on-win7-64-bit-with-r/15998358#15998358","body":"Try this: <a href=\"https://stackoverflow.com/questions/7019912/using-the-rjava-package-on-win7-64-bit-with-r/15998358#15998358\" title=\"using the rjava package on win7 64 bit with r\">stackoverflow.com/questions/7019912/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9272960,"reputation":4139,"user_id":6886345,"display_name":"Kim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524015543,"creation_date":1524015543,"answer_id":49889836,"question_id":49710941,"body_markdown":"This was happening to me as well (also Windows 10), and the problem with mine was that the environment variable was not set properly. In my case, I had to do \r\n\r\n    Sys.setenv(&#39;JAVA_HOME&#39; = &#39;C:/Program Files (x86)/Java/jre1.8.0_161/&#39;)\r\n\r\nJust change the folder name to where Java lives in your computer, and let me know if this doesn&#39;t work out. ","title":"&quot;unable to load shared object&quot; when loading the rJava library","body":"<p>This was happening to me as well (also Windows 10), and the problem with mine was that the environment variable was not set properly. In my case, I had to do </p>\n\n<pre><code>Sys.setenv('JAVA_HOME' = 'C:/Program Files (x86)/Java/jre1.8.0_161/')\n</code></pre>\n\n<p>Just change the folder name to where Java lives in your computer, and let me know if this doesn't work out. </p>\n"},{"tags":[],"owner":{"account_id":15181270,"reputation":1,"user_id":10954481,"display_name":"Kenelm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548232180,"creation_date":1548232180,"answer_id":54322910,"question_id":49710941,"body_markdown":"In Ubuntu 16.04 I did the following trick in RStudio:\r\n\r\n`Sys.setenv(&#39;JAVA_HOME&#39; = &#39;/usr/lib/jvm/java-8-oracle/jre&#39;)`\r\n\r\nSurprisingly, but\r\n\r\n`Sys.setenv(&#39;JAVA_HOME&#39; = &#39;/usr/lib/jvm/java-8-oracle/&#39;)`\r\n\r\ndidn&#39;t work for me.","title":"&quot;unable to load shared object&quot; when loading the rJava library","body":"<p>In Ubuntu 16.04 I did the following trick in RStudio:</p>\n\n<p><code>Sys.setenv('JAVA_HOME' = '/usr/lib/jvm/java-8-oracle/jre')</code></p>\n\n<p>Surprisingly, but</p>\n\n<p><code>Sys.setenv('JAVA_HOME' = '/usr/lib/jvm/java-8-oracle/')</code></p>\n\n<p>didn't work for me.</p>\n"}],"owner":{"account_id":12505757,"reputation":41,"user_id":9612711,"display_name":"Francesco Totti"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8856,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1681301507,"creation_date":1523127783,"question_id":49710941,"body_markdown":"I have to load an Excel file .xlsx on R, but: \r\n\r\n    library(xlsx)\r\n&gt; Error: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: inDL(x, as.logical(local), as.logical(now), ...)\r\n  error: unable to load shared object &#39;C:/Users/danil/Documents/R/win-library/3.4/rJava/libs/x64/rJava.dll&#39;:\r\n  LoadLibrary failure:  Impossibile trovare il modulo specificato.\r\n&gt; Error: package ‘rJava’ could not be loaded\r\n\r\nSo, I tried to install Java, Java SE-Development Kit 10 and Java Runtime Environment 10, 64 bit for both. But, also in this case: \r\n\r\n    library(rJava)\r\n\r\n&gt; Error: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: inDL(x, as.logical(local), as.logical(now), ...)\r\n  error: unable to load shared object &#39;C:/Users/danil/Documents/R/win-library/3.4/rJava/libs/x64/rJava.dll&#39;:\r\n  LoadLibrary failure:  Impossibile trovare il modulo specificato.\r\n\r\nWhat can I do?\r\n","title":"&quot;unable to load shared object&quot; when loading the rJava library","body":"<p>I have to load an Excel file .xlsx on R, but:</p>\n<pre><code>library(xlsx)\n</code></pre>\n<blockquote>\n<p>Error: package or namespace load failed for ‘rJava’:\n.onLoad failed in loadNamespace() for 'rJava', details:\ncall: inDL(x, as.logical(local), as.logical(now), ...)\nerror: unable to load shared object 'C:/Users/danil/Documents/R/win-library/3.4/rJava/libs/x64/rJava.dll':\nLoadLibrary failure:  Impossibile trovare il modulo specificato.\nError: package ‘rJava’ could not be loaded</p>\n</blockquote>\n<p>So, I tried to install Java, Java SE-Development Kit 10 and Java Runtime Environment 10, 64 bit for both. But, also in this case:</p>\n<pre><code>library(rJava)\n</code></pre>\n<blockquote>\n<p>Error: package or namespace load failed for ‘rJava’:\n.onLoad failed in loadNamespace() for 'rJava', details:\ncall: inDL(x, as.logical(local), as.logical(now), ...)\nerror: unable to load shared object 'C:/Users/danil/Documents/R/win-library/3.4/rJava/libs/x64/rJava.dll':\nLoadLibrary failure:  Impossibile trovare il modulo specificato.</p>\n</blockquote>\n<p>What can I do?</p>\n"},{"tags":["java","spring","multithreading","parallel-processing","spring-rest"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1674484919,"post_id":75210968,"comment_id":132717926,"body_markdown":"Of what type is your &quot;childResponse&quot;?\nIt is correct that your childResponse must be effective final, so initialised before the stream operation. But you should be able to allocate e.g. an empty ConcurrentLinkedQueue of results before your stream and store all possible results in it. Careful: your result list should support parallel interaction otherwise you might loose added results on parallel interactions.","body":"Of what type is your &quot;childResponse&quot;? It is correct that your childResponse must be effective final, so initialised before the stream operation. But you should be able to allocate e.g. an empty ConcurrentLinkedQueue of results before your stream and store all possible results in it. Careful: your result list should support parallel interaction otherwise you might loose added results on parallel interactions."},{"owner":{"account_id":14537370,"reputation":1,"user_id":10500288,"display_name":"Nikhil Srivastav"},"score":0,"creation_date":1674485059,"post_id":75210968,"comment_id":132717991,"body_markdown":"My childResponses are also a custom object.","body":"My childResponses are also a custom object."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1681806569,"post_id":75210968,"comment_id":134111978,"body_markdown":"`childResponse needs to be final or effectively final`.\n\nInside Lambda, you cannot use a variable that is not-effectively-final.\nI.e. its value can be set once, it does not have to be declared as &#39;final&#39;, but after the value is set, it should not be changed.\n\nSo, use it as a local variable within the Lambda.  And then add it to a global List or Map of &#39;ChildResponse&#39; objects.","body":"<code>childResponse needs to be final or effectively final</code>.  Inside Lambda, you cannot use a variable that is not-effectively-final. I.e. its value can be set once, it does not have to be declared as &#39;final&#39;, but after the value is set, it should not be changed.  So, use it as a local variable within the Lambda.  And then add it to a global List or Map of &#39;ChildResponse&#39; objects."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681301077,"creation_date":1681301077,"answer_id":75995242,"question_id":75210968,"body_markdown":"There has to be some kind of identifier for each `childRequest`, to distinguish between the responses.  A specific response belongs to which request.\r\n\r\nIf request has an identifier that is a sequence of numbers like 0 to 10 or 0 to 50, then you can use a `List&lt;ChildResponse&gt;` to hold responses per request id.\r\n\r\nE.g.\r\n```\r\nfinal List&lt;ChildResponse&gt; childResponses = new Collections.synchronizedList(new ArrayList&lt;&gt;());\r\nchildRequests\r\n    .prallelStream()\r\n    .forEach((request) -&gt; \r\n            {my logic to call other api and store result into childResponse }\r\n            childResponses.add(request.getId(), childResponse);\r\n    )\r\n```\r\n\r\nor\r\nIf there is some String request identifier for each request, you can have a `Map&lt;String, ChildResponse&gt;` to store the responses.\r\n\r\n```\r\nfinal Map&lt;String, ChildResponse&gt; childResponses = new ConcurrentHashMap&lt;&gt;();\r\nchildRequests\r\n    .prallelStream()\r\n    .forEach((request) -&gt; \r\n            {my logic to call other api and store result into childResponse }\r\n            childResponses.put(request.getId(), childResponse);\r\n    )\r\n```\r\n\r\nAnd after that, you can go through the child requests again in a sequence (not parallel) and do whatever you have to do with the child responses in that sequence (if sequence is important to do whatever further is needed to be done).","title":"Running rest calls parallel in spring rest","body":"<p>There has to be some kind of identifier for each <code>childRequest</code>, to distinguish between the responses.  A specific response belongs to which request.</p>\n<p>If request has an identifier that is a sequence of numbers like 0 to 10 or 0 to 50, then you can use a <code>List&lt;ChildResponse&gt;</code> to hold responses per request id.</p>\n<p>E.g.</p>\n<pre><code>final List&lt;ChildResponse&gt; childResponses = new Collections.synchronizedList(new ArrayList&lt;&gt;());\nchildRequests\n    .prallelStream()\n    .forEach((request) -&gt; \n            {my logic to call other api and store result into childResponse }\n            childResponses.add(request.getId(), childResponse);\n    )\n</code></pre>\n<p>or\nIf there is some String request identifier for each request, you can have a <code>Map&lt;String, ChildResponse&gt;</code> to store the responses.</p>\n<pre><code>final Map&lt;String, ChildResponse&gt; childResponses = new ConcurrentHashMap&lt;&gt;();\nchildRequests\n    .prallelStream()\n    .forEach((request) -&gt; \n            {my logic to call other api and store result into childResponse }\n            childResponses.put(request.getId(), childResponse);\n    )\n</code></pre>\n<p>And after that, you can go through the child requests again in a sequence (not parallel) and do whatever you have to do with the child responses in that sequence (if sequence is important to do whatever further is needed to be done).</p>\n"}],"owner":{"account_id":14537370,"reputation":1,"user_id":10500288,"display_name":"Nikhil Srivastav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681301077,"creation_date":1674484478,"question_id":75210968,"body_markdown":"I am working on Spring-Rest application in which we have a request(Parent request) having few requests inside it(child request(varies from 10-50)).\r\nWe have to call another API with those child request and recieve response/request (child response) which we have to integrate into main response(parent response).\r\nI am able to code upto this scenario but the problem is that it is taking too much time and that makes our API slow.\r\nI am looking out for a way by which we can make call parallel so that the API can perform faster.\r\n\r\nI have already used parallel stream with custom thread but the problem which I am encountering is that I am not able to store any value when I am doing\r\n\r\n    childRequests\r\n        .prallelStream()\r\n        .forEach((request) -&gt; \r\n                {my logic to call other api and store result into childResponse }\r\n        )\r\nI am getting that &quot;childResponse needs to be final or effectively final&quot;","title":"Running rest calls parallel in spring rest","body":"<p>I am working on Spring-Rest application in which we have a request(Parent request) having few requests inside it(child request(varies from 10-50)).\nWe have to call another API with those child request and recieve response/request (child response) which we have to integrate into main response(parent response).\nI am able to code upto this scenario but the problem is that it is taking too much time and that makes our API slow.\nI am looking out for a way by which we can make call parallel so that the API can perform faster.</p>\n<p>I have already used parallel stream with custom thread but the problem which I am encountering is that I am not able to store any value when I am doing</p>\n<pre><code>childRequests\n    .prallelStream()\n    .forEach((request) -&gt; \n            {my logic to call other api and store result into childResponse }\n    )\n</code></pre>\n<p>I am getting that &quot;childResponse needs to be final or effectively final&quot;</p>\n"},{"tags":["java","jpa","jakarta-ee","eclipselink"],"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1681300727,"creation_date":1681290368,"question_id":75993697,"body_markdown":"I have a class which is annotated with eclipselink `@Customizer`.\r\n\r\nThat customizer, uses a custom customizer that inherits from `DescriptorCustomizer`.\r\nIn `customize` function I have a HistoryPolicy in order to create a history table for the annotated class.\r\n\r\nDown below I leave an example:\r\n\r\nCustom Customizer:\r\n\r\n```java\r\npublic class MyCustomizer implements DescriptorCustomizer {\r\n\r\n    @Override\r\n    public void customize(ClassDescriptor cd) {\r\n        HistoryPolicy policy = new HistoryPolicy();\r\n        policy.addHistoryTableName(&quot;history_table&quot;);\r\n        policy.addStartFieldName(&quot;start_ts&quot;);\r\n        policy.addEndFieldName(&quot;end_ts&quot;);\r\n        cd.setHistoryPolicy(policy);\r\n    }\r\n\r\n}\r\n```\r\nMy Class:\r\n\r\n```java\r\n@Entity\r\n@Customizer(MyCustomizer.class)\r\npublic class myClass {\r\n    @Column(name = &quot;field_To_Track&quot;)\r\n    private Integer fieldToBeTracked;\r\n    @Column(name = &quot;field_Not_To_Track&quot;)\r\n    private Integer fieldNotToBeTracked;\r\n}\r\n\r\n```\r\n\r\nI want to ignore a fields from being the reason why a row it&#39;s written in the history table. That way, every new row written in the table it&#39;s not because of an update on that column. Is that possible?","title":"Is there a way to ignore a field when writing history table with @Customizer","body":"<p>I have a class which is annotated with eclipselink <code>@Customizer</code>.</p>\n<p>That customizer, uses a custom customizer that inherits from <code>DescriptorCustomizer</code>.\nIn <code>customize</code> function I have a HistoryPolicy in order to create a history table for the annotated class.</p>\n<p>Down below I leave an example:</p>\n<p>Custom Customizer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomizer implements DescriptorCustomizer {\n\n    @Override\n    public void customize(ClassDescriptor cd) {\n        HistoryPolicy policy = new HistoryPolicy();\n        policy.addHistoryTableName(&quot;history_table&quot;);\n        policy.addStartFieldName(&quot;start_ts&quot;);\n        policy.addEndFieldName(&quot;end_ts&quot;);\n        cd.setHistoryPolicy(policy);\n    }\n\n}\n</code></pre>\n<p>My Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Customizer(MyCustomizer.class)\npublic class myClass {\n    @Column(name = &quot;field_To_Track&quot;)\n    private Integer fieldToBeTracked;\n    @Column(name = &quot;field_Not_To_Track&quot;)\n    private Integer fieldNotToBeTracked;\n}\n\n</code></pre>\n<p>I want to ignore a fields from being the reason why a row it's written in the history table. That way, every new row written in the table it's not because of an update on that column. Is that possible?</p>\n"},{"tags":["java","export","jfreechart","vector-graphics"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1681225048,"post_id":75987259,"comment_id":134020194,"body_markdown":"I can&#39;t find anything that exports jfreechart as a vector grapohics object - not in you code or in the example you refer to. It&#39;s all bitmaps.","body":"I can&#39;t find anything that exports jfreechart as a vector grapohics object - not in you code or in the example you refer to. It&#39;s all bitmaps."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":1,"creation_date":1681225173,"post_id":75987259,"comment_id":134020237,"body_markdown":"Maybe you can use [another link](https://thinktibits.blogspot.com/2013/01/JFreechart-Create-SVG-Pie-Bar-Chart-Java-Example-Program.html) in the same domain, which shows how to use Apache Batik (for SVGs) with JFreeChart.","body":"Maybe you can use <a href=\"https://thinktibits.blogspot.com/2013/01/JFreechart-Create-SVG-Pie-Bar-Chart-Java-Example-Program.html\" rel=\"nofollow noreferrer\">another link</a> in the same domain, which shows how to use Apache Batik (for SVGs) with JFreeChart."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1681225728,"post_id":75987259,"comment_id":134020420,"body_markdown":"My previous comment can be misunderstood as ironic, but it is not. It is just a suggestion.","body":"My previous comment can be misunderstood as ironic, but it is not. It is just a suggestion."},{"owner":{"account_id":9189251,"reputation":793,"user_id":6830369,"accept_rate":92,"display_name":"valenzio"},"score":0,"creation_date":1681227275,"post_id":75987259,"comment_id":134020898,"body_markdown":"@JustanotherJavaprogrammer the example in the link is not bitmap, it is vector graphic. At least when you zoom in the pdf it looks perfectly sharp.","body":"@JustanotherJavaprogrammer the example in the link is not bitmap, it is vector graphic. At least when you zoom in the pdf it looks perfectly sharp."},{"owner":{"account_id":9189251,"reputation":793,"user_id":6830369,"accept_rate":92,"display_name":"valenzio"},"score":0,"creation_date":1681227431,"post_id":75987259,"comment_id":134020944,"body_markdown":"@gthanop I was thinking about this approach, though it seems expensive to convert the graph into SVG and then add it to the slide. The pptx might blow up in size as well since I have around 100 slides. However I will try this approach if everything else false.","body":"@gthanop I was thinking about this approach, though it seems expensive to convert the graph into SVG and then add it to the slide. The pptx might blow up in size as well since I have around 100 slides. However I will try this approach if everything else false."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1681229462,"post_id":75987259,"comment_id":134021424,"body_markdown":"Excuse me, it seems like the link I provided is exporting the PPT to SVG, not embedding a SVG to the PPT. My bad.","body":"Excuse me, it seems like the link I provided is exporting the PPT to SVG, not embedding a SVG to the PPT. My bad."},{"owner":{"account_id":9189251,"reputation":793,"user_id":6830369,"accept_rate":92,"display_name":"valenzio"},"score":0,"creation_date":1681277230,"post_id":75987259,"comment_id":134028509,"body_markdown":"@KJ If I create a SVG and add it to Powerpoint, it actually looks pretty descent. So I will try this route. JFreeChart -&gt; SVG -&gt; Add to pptx.","body":"@KJ If I create a SVG and add it to Powerpoint, it actually looks pretty descent. So I will try this route. JFreeChart -&gt; SVG -&gt; Add to pptx."}],"answers":[{"tags":[],"owner":{"account_id":9189251,"reputation":793,"user_id":6830369,"accept_rate":92,"display_name":"valenzio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681300614,"creation_date":1681300614,"answer_id":75995183,"question_id":75987259,"body_markdown":"I ended up converting the jFreeChart graphic into a svg, which I then added to a pptx. It is pretty fast and keeps the pptx fairly small. \r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.Rectangle;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.io.FileOutputStream;\r\nimport org.apache.poi.xslf.usermodel.XMLSlideShow;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.apache.poi.xslf.usermodel.XSLFPictureData;\r\nimport org.apache.poi.xslf.usermodel.XSLFPictureShape;\r\nimport org.apache.poi.xslf.usermodel.XSLFSlide;\r\nimport org.jfree.graphics2d.svg.SVGGraphics2D;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.apache.poi.sl.usermodel.PictureData;\r\nimport org.jfree.data.category.DefaultCategoryDataset;\r\n\r\npublic class JFreeChartToPpt {\r\n\r\n    int WIDTH = 600;\r\n    int HEIGHT = 450;\r\n\r\n     public void createPptFromFreeChartViaSvg() throws Exception{\r\n        // Create a new PPTX file\r\n        XMLSlideShow ppt = new XMLSlideShow();\r\n        \r\n         // Create a new slide\r\n        XSLFSlide slide = ppt.createSlide();\r\n        \r\n        // Generate a graph using JFreeChart\r\n        JFreeChart chart = generateChart();\r\n        \r\n        // Convert the graph to a vector graphic\r\n        SVGGraphics2D g2 = new SVGGraphics2D(WIDTH, HEIGHT);\r\n         Rectangle r = new Rectangle(0, 0, WIDTH, HEIGHT);\r\n         chart.draw(g2, r);\r\n         String svgXml = g2.getSVGDocument().toString();\r\n        \r\n        byte[] svgBytes = svgXml.getBytes();\r\n        \r\n        // adjust size and position\r\n        Dimension slideSize = ppt.getPageSize();\r\n        Rectangle2D anchor = new Rectangle2D.Double(\r\n            slideSize.getWidth()/2 - WIDTH/2,  // Center horizontally\r\n            slideSize.getHeight()/2 - HEIGHT/2, // Center vertically\r\n            WIDTH,                            // Width\r\n            HEIGHT                             // Height\r\n        );\r\n        \r\n        // Add the SVG image to a PowerPoint presentation\r\n        XSLFPictureData pictureData = ppt.addPicture(svgBytes, PictureData.PictureType.SVG);\r\n        XSLFPictureShape pictureShape = slide.createPicture(pictureData);\r\n        pictureShape.setAnchor(anchor);\r\n\r\n        // Save the updated PowerPoint presentation\r\n        FileOutputStream out = new FileOutputStream(&quot;exampleSvg_&quot;+WIDTH+&quot;x&quot;+HEIGHT+&quot;.pptx&quot;);\r\n        ppt.write(out);\r\n        out.close();\r\n    }\r\n}\r\n```","title":"Java: Insert a JFreeChart graphic into a powerPoint (pptx) as a vectorGraphic","body":"<p>I ended up converting the jFreeChart graphic into a svg, which I then added to a pptx. It is pretty fast and keeps the pptx fairly small.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Rectangle;\nimport java.awt.geom.Rectangle2D;\nimport java.io.FileOutputStream;\nimport org.apache.poi.xslf.usermodel.XMLSlideShow;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.apache.poi.xslf.usermodel.XSLFPictureData;\nimport org.apache.poi.xslf.usermodel.XSLFPictureShape;\nimport org.apache.poi.xslf.usermodel.XSLFSlide;\nimport org.jfree.graphics2d.svg.SVGGraphics2D;\nimport org.jfree.chart.JFreeChart;\nimport org.apache.poi.sl.usermodel.PictureData;\nimport org.jfree.data.category.DefaultCategoryDataset;\n\npublic class JFreeChartToPpt {\n\n    int WIDTH = 600;\n    int HEIGHT = 450;\n\n     public void createPptFromFreeChartViaSvg() throws Exception{\n        // Create a new PPTX file\n        XMLSlideShow ppt = new XMLSlideShow();\n        \n         // Create a new slide\n        XSLFSlide slide = ppt.createSlide();\n        \n        // Generate a graph using JFreeChart\n        JFreeChart chart = generateChart();\n        \n        // Convert the graph to a vector graphic\n        SVGGraphics2D g2 = new SVGGraphics2D(WIDTH, HEIGHT);\n         Rectangle r = new Rectangle(0, 0, WIDTH, HEIGHT);\n         chart.draw(g2, r);\n         String svgXml = g2.getSVGDocument().toString();\n        \n        byte[] svgBytes = svgXml.getBytes();\n        \n        // adjust size and position\n        Dimension slideSize = ppt.getPageSize();\n        Rectangle2D anchor = new Rectangle2D.Double(\n            slideSize.getWidth()/2 - WIDTH/2,  // Center horizontally\n            slideSize.getHeight()/2 - HEIGHT/2, // Center vertically\n            WIDTH,                            // Width\n            HEIGHT                             // Height\n        );\n        \n        // Add the SVG image to a PowerPoint presentation\n        XSLFPictureData pictureData = ppt.addPicture(svgBytes, PictureData.PictureType.SVG);\n        XSLFPictureShape pictureShape = slide.createPicture(pictureData);\n        pictureShape.setAnchor(anchor);\n\n        // Save the updated PowerPoint presentation\n        FileOutputStream out = new FileOutputStream(&quot;exampleSvg_&quot;+WIDTH+&quot;x&quot;+HEIGHT+&quot;.pptx&quot;);\n        ppt.write(out);\n        out.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9189251,"reputation":793,"user_id":6830369,"accept_rate":92,"display_name":"valenzio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681300614,"creation_date":1681224644,"question_id":75987259,"body_markdown":"I am generating graphs which I have to export into a powerPoint. I figured out how to convert the graph into a png and insert it into the powerPoint. However this is not ideal, if you want to zoom into the graph. Here is the code:\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.Rectangle;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.FileOutputStream;\r\nimport javax.imageio.ImageIO;\r\nimport org.apache.poi.xslf.usermodel.XMLSlideShow;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.plot.PlotOrientation;\r\nimport org.apache.batik.svggen.*;\r\nimport org.apache.poi.sl.usermodel.PictureData.PictureType;\r\nimport org.apache.poi.xslf.usermodel.XSLFPictureData;\r\nimport org.apache.poi.xslf.usermodel.XSLFPictureShape;\r\nimport org.apache.poi.xslf.usermodel.XSLFSlide;\r\nimport org.apache.batik.svggen.SVGGraphics2D;\r\n\r\n/**\r\n *\r\n * @author vsolotyc\r\n */\r\npublic class JFreeChartToPpt {\r\n    public void createPpt() throws Exception{\r\n        // Create a new PPTX file\r\n        XMLSlideShow ppt = new XMLSlideShow();\r\n        \r\n         // Create a new slide\r\n        XSLFSlide slide = ppt.createSlide();\r\n        \r\n        // Generate a graph using JFreeChart\r\n        JFreeChart chart = ChartFactory.createLineChart(\r\n                &quot;Graph Title&quot;, // chart title\r\n                &quot;X Axis&quot;, // x axis label\r\n                &quot;Y Axis&quot;, // y axis label\r\n                null, // dataset\r\n                PlotOrientation.VERTICAL, // orientation\r\n                true, // include legend\r\n                true, // tooltips\r\n                false // urls\r\n                );\r\n        \r\n        // Convert the graph to a BufferedImage\r\n        BufferedImage image = chart.createBufferedImage(500, 300);\r\n          \r\n        // Add the image to the slide\r\n        byte[] imageData = null;\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;png&quot;, baos);\r\n        imageData = baos.toByteArray();\r\n        XSLFPictureData pd = ppt.addPicture(imageData, PictureType.PNG);\r\n        XSLFPictureShape pic = slide.createPicture(pd);\r\n        pic.setAnchor(new Rectangle(50, 50, 500, 300));\r\n        \r\n        // Save the PPTX file\r\n        FileOutputStream out = new FileOutputStream(&quot;example.pptx&quot;);\r\n        ppt.write(out);\r\n        out.close();\r\n    }\r\n}\r\n\r\n```\r\nWhen exporting the graphs to pdf, the graphics are converted into vector graphics. \r\n\r\nQuestion: What is the best way to export the graphs into a powerPoint as vector graphics (similar to the pdf).\r\n\r\n(Here is the link that shows how the pdf export works: https://thinktibits.blogspot.com/2011/05/pdf-add-chart-itext-example-jfreechart.html)\r\n","title":"Java: Insert a JFreeChart graphic into a powerPoint (pptx) as a vectorGraphic","body":"<p>I am generating graphs which I have to export into a powerPoint. I figured out how to convert the graph into a png and insert it into the powerPoint. However this is not ideal, if you want to zoom into the graph. Here is the code:</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Rectangle;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport javax.imageio.ImageIO;\nimport org.apache.poi.xslf.usermodel.XMLSlideShow;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.apache.batik.svggen.*;\nimport org.apache.poi.sl.usermodel.PictureData.PictureType;\nimport org.apache.poi.xslf.usermodel.XSLFPictureData;\nimport org.apache.poi.xslf.usermodel.XSLFPictureShape;\nimport org.apache.poi.xslf.usermodel.XSLFSlide;\nimport org.apache.batik.svggen.SVGGraphics2D;\n\n/**\n *\n * @author vsolotyc\n */\npublic class JFreeChartToPpt {\n    public void createPpt() throws Exception{\n        // Create a new PPTX file\n        XMLSlideShow ppt = new XMLSlideShow();\n        \n         // Create a new slide\n        XSLFSlide slide = ppt.createSlide();\n        \n        // Generate a graph using JFreeChart\n        JFreeChart chart = ChartFactory.createLineChart(\n                &quot;Graph Title&quot;, // chart title\n                &quot;X Axis&quot;, // x axis label\n                &quot;Y Axis&quot;, // y axis label\n                null, // dataset\n                PlotOrientation.VERTICAL, // orientation\n                true, // include legend\n                true, // tooltips\n                false // urls\n                );\n        \n        // Convert the graph to a BufferedImage\n        BufferedImage image = chart.createBufferedImage(500, 300);\n          \n        // Add the image to the slide\n        byte[] imageData = null;\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;png&quot;, baos);\n        imageData = baos.toByteArray();\n        XSLFPictureData pd = ppt.addPicture(imageData, PictureType.PNG);\n        XSLFPictureShape pic = slide.createPicture(pd);\n        pic.setAnchor(new Rectangle(50, 50, 500, 300));\n        \n        // Save the PPTX file\n        FileOutputStream out = new FileOutputStream(&quot;example.pptx&quot;);\n        ppt.write(out);\n        out.close();\n    }\n}\n\n</code></pre>\n<p>When exporting the graphs to pdf, the graphics are converted into vector graphics.</p>\n<p>Question: What is the best way to export the graphs into a powerPoint as vector graphics (similar to the pdf).</p>\n<p>(Here is the link that shows how the pdf export works: <a href=\"https://thinktibits.blogspot.com/2011/05/pdf-add-chart-itext-example-jfreechart.html\" rel=\"nofollow noreferrer\">https://thinktibits.blogspot.com/2011/05/pdf-add-chart-itext-example-jfreechart.html</a>)</p>\n"},{"tags":["java","python","hadoop"],"comments":[{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1508784958,"post_id":46896502,"comment_id":80740208,"body_markdown":"Can you link us to the product you&#39;re trying to install? What OS are you using? Have you installed all per-requisites?","body":"Can you link us to the product you&#39;re trying to install? What OS are you using? Have you installed all per-requisites?"},{"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"score":0,"creation_date":1508786965,"post_id":46896502,"comment_id":80741292,"body_markdown":"you need to provide more info.","body":"you need to provide more info."}],"answers":[{"tags":[],"owner":{"account_id":6258141,"reputation":2735,"user_id":5718301,"accept_rate":60,"display_name":"Chitral Verma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508787066,"creation_date":1508787066,"answer_id":46897114,"question_id":46896502,"body_markdown":"There may be something wrong with your HDFS installation, try giving the full path to hdfs in your command.\r\n\r\n    /path/to/dir/hdfs namenode -format\r\n\r\nthe path depends on your OS and hadoop distribution you&#39;re using etc. Use `locate` or `find` for it.\r\n\r\nIf it works with full path, its probably a PATH issue, export the path in your `.bashrc` and then try.\r\n\r\nCheers.","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>There may be something wrong with your HDFS installation, try giving the full path to hdfs in your command.</p>\n\n<pre><code>/path/to/dir/hdfs namenode -format\n</code></pre>\n\n<p>the path depends on your OS and hadoop distribution you're using etc. Use <code>locate</code> or <code>find</code> for it.</p>\n\n<p>If it works with full path, its probably a PATH issue, export the path in your <code>.bashrc</code> and then try.</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":5531646,"reputation":528,"user_id":4391456,"accept_rate":45,"display_name":"Immanuel Fredrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508853808,"creation_date":1508853808,"answer_id":46912585,"question_id":46896502,"body_markdown":"Check if you have added your hadoop executables to PATH properly.\r\n\r\nadd the below given export commands in .bashrc if not:\r\n\r\nexport HADOOP_INSTALL=/path/where/hadoop/is/installed\r\n\r\nexport PATH=$PATH:$HADOOP_INSTALL/bin\r\n\r\nexport PATH=$PATH:$HADOOP_INSTALL/sbin\r\n\r\nexport HADOOP_MAPRED_HOME=$HADOOP_INSTALL\r\n\r\nexport HADOOP_COMMON_HOME=$HADOOP_INSTALL\r\n\r\nexport HADOOP_HDFS_HOME=$HADOOP_INSTALL\r\n\r\nexport YARN_HOME=$HADOOP_INSTALL\r\n\r\nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_INSTALL/lib/native\r\n\r\nexport HADOOP_OPTS=&quot;-Djava.library.path=$HADOOP_INSTALL/lib&quot;\r\n\r\n\r\n\r\n\r\nFinally source the bashrc file","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>Check if you have added your hadoop executables to PATH properly.</p>\n\n<p>add the below given export commands in .bashrc if not:</p>\n\n<p>export HADOOP_INSTALL=/path/where/hadoop/is/installed</p>\n\n<p>export PATH=$PATH:$HADOOP_INSTALL/bin</p>\n\n<p>export PATH=$PATH:$HADOOP_INSTALL/sbin</p>\n\n<p>export HADOOP_MAPRED_HOME=$HADOOP_INSTALL</p>\n\n<p>export HADOOP_COMMON_HOME=$HADOOP_INSTALL</p>\n\n<p>export HADOOP_HDFS_HOME=$HADOOP_INSTALL</p>\n\n<p>export YARN_HOME=$HADOOP_INSTALL</p>\n\n<p>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_INSTALL/lib/native</p>\n\n<p>export HADOOP_OPTS=\"-Djava.library.path=$HADOOP_INSTALL/lib\"</p>\n\n<p>Finally source the bashrc file</p>\n"},{"tags":[],"owner":{"account_id":13215264,"reputation":9,"user_id":9544044,"display_name":"Kartik Rai"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549618406,"creation_date":1549618406,"answer_id":54589419,"question_id":46896502,"body_markdown":"I hope this error is resolved by now, but this error occurs because the hdfs path may not be set, so first check hdfs path by using this command,\r\n\r\n&gt; which hdfs\r\n\r\nif path is not set, then check the environment variable in ~/.bash_profile \r\nif it PATH is written like this, \r\n\r\n&gt; PATH=$PATH:$HOME/bin\r\n\r\nchange it to this\r\nPATH=$PATH:$HADOOP_HOME/bin\r\n\r\n&gt; source ~/.bash_profile\r\n \r\nthen check the your hdfs path, if it is set by using which command(as shown above)\r\nThen your problem might get resolved.\r\nHope this helps!","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>I hope this error is resolved by now, but this error occurs because the hdfs path may not be set, so first check hdfs path by using this command,</p>\n\n<blockquote>\n  <p>which hdfs</p>\n</blockquote>\n\n<p>if path is not set, then check the environment variable in ~/.bash_profile \nif it PATH is written like this, </p>\n\n<blockquote>\n  <p>PATH=$PATH:$HOME/bin</p>\n</blockquote>\n\n<p>change it to this\nPATH=$PATH:$HADOOP_HOME/bin</p>\n\n<blockquote>\n  <p>source ~/.bash_profile</p>\n</blockquote>\n\n<p>then check the your hdfs path, if it is set by using which command(as shown above)\nThen your problem might get resolved.\nHope this helps!</p>\n"},{"tags":[],"owner":{"account_id":13928603,"reputation":33,"user_id":10057259,"display_name":"Mikasa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572179957,"creation_date":1572179957,"answer_id":58579491,"question_id":46896502,"body_markdown":"try with bin/hdfs instead of hdfs. It worked for me.","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>try with bin/hdfs instead of hdfs. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16052896,"reputation":537,"user_id":11586205,"display_name":"afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681300473,"creation_date":1681300473,"answer_id":75995170,"question_id":46896502,"body_markdown":"Prepend with Hadoop or HDFS complete path.\r\n\r\ncheck Hadoop/HDFS path by \r\n\r\n    which hadoop \r\n\r\nor\r\n\r\n    which hdfs\r\n\r\nthen run hdfs command as below.\r\nFor eg. running CLI command in Python3.6 script\r\n\r\n    subprocess.run([&quot;/opt/hadoop/bin/hdfs dfs -put &lt;source_file_path&gt; &lt;HDFS_destination_folder_path&gt;&quot;], shell=True)\r\n\r\n","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>Prepend with Hadoop or HDFS complete path.</p>\n<p>check Hadoop/HDFS path by</p>\n<pre><code>which hadoop \n</code></pre>\n<p>or</p>\n<pre><code>which hdfs\n</code></pre>\n<p>then run hdfs command as below.\nFor eg. running CLI command in Python3.6 script</p>\n<pre><code>subprocess.run([&quot;/opt/hadoop/bin/hdfs dfs -put &lt;source_file_path&gt; &lt;HDFS_destination_folder_path&gt;&quot;], shell=True)\n</code></pre>\n"}],"owner":{"account_id":11589552,"reputation":59,"user_id":8490444,"accept_rate":0,"display_name":"naveenv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1681300473,"creation_date":1508784723,"question_id":46896502,"body_markdown":"Complete error statement :\r\n\r\n    No command &#39;hdfs&#39; found, did you mean:\r\n      Command &#39;hfs&#39; from package &#39;hfsutils-tcltk&#39; (universe)\r\n      Command &#39;hdfls&#39; from package &#39;hdf4-tools&#39; (universe)\r\n      hdfs: command not found\r\n\r\n","title":"&quot;hdfs: command not found&quot; when trying to execute command &quot;hdfs namenode -format&quot; during hadoop installation","body":"<p>Complete error statement :</p>\n\n<pre><code>No command 'hdfs' found, did you mean:\n  Command 'hfs' from package 'hfsutils-tcltk' (universe)\n  Command 'hdfls' from package 'hdf4-tools' (universe)\n  hdfs: command not found\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","filtering","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681225092,"creation_date":1681225092,"answer_id":75987335,"question_id":75983979,"body_markdown":"No. Despite its name GraphQL is not a complete &quot;query language&quot; does not have sorting or filtering capabilities. GraphQL by itself only specifies the *shape* of the response, not what gets included or in what order.","title":"Filtering using GraphQL in spring boot","body":"<p>No. Despite its name GraphQL is not a complete &quot;query language&quot; does not have sorting or filtering capabilities. GraphQL by itself only specifies the <em>shape</em> of the response, not what gets included or in what order.</p>\n"}],"owner":{"account_id":28272474,"reputation":3,"user_id":21615435,"display_name":"Vishruth S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75987335,"answer_count":1,"score":0,"last_activity_date":1681300344,"creation_date":1681202660,"question_id":75983979,"body_markdown":"Is there any way to filter only using graphQL and not making any changes in spring boot?\r\n\r\nThis filtered result is coming from the filter which is done in java part. I want the same result with the graphQL doing the filtering and not the java.\r\n\r\nIn simple words, Java will return the complete list and the graphQL should filter it before displaying the output.\r\n\r\nThe schema :\r\n\r\n`    type Query {\r\n    userList(filter: String, range: String, sort: String): [User]\r\n}\r\n\r\n    type User {\r\n    id: ID\r\n    name: String\r\n    userAddressList: [UserAddress]\r\n}\r\n\r\n    type UserAddress {\r\n    id: ID\r\n    userId: Int\r\n    address: String\r\n    user: User\r\n}`\r\n\r\nThe Query :\r\n\r\n`    query{\r\n    userList(\r\n    filter: &quot;[{userAddressList:{address: nanjangud}}]&quot;,\r\n   \r\n  ){\r\n    id\r\n    name\r\n    userAddressList {\r\n      address\r\n    }\r\n  }\r\n}`\r\n\r\nThe result : \r\n\r\n`&quot;data&quot;: {\r\n    &quot;userList&quot;: [\r\n      {\r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;name&quot;: &quot;sdfg&quot;,\r\n        &quot;userAddressList&quot;: [\r\n          {\r\n            &quot;address&quot;: &quot;Nanjangud&quot;\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Filtering using GraphQL in spring boot","body":"<p>Is there any way to filter only using graphQL and not making any changes in spring boot?</p>\n<p>This filtered result is coming from the filter which is done in java part. I want the same result with the graphQL doing the filtering and not the java.</p>\n<p>In simple words, Java will return the complete list and the graphQL should filter it before displaying the output.</p>\n<p>The schema :</p>\n<p>`    type Query {\nuserList(filter: String, range: String, sort: String): [User]\n}</p>\n<pre><code>type User {\nid: ID\nname: String\nuserAddressList: [UserAddress]\n</code></pre>\n<p>}</p>\n<pre><code>type UserAddress {\nid: ID\nuserId: Int\naddress: String\nuser: User\n</code></pre>\n<p>}`</p>\n<p>The Query :</p>\n<p>`    query{\nuserList(\nfilter: &quot;[{userAddressList:{address: nanjangud}}]&quot;,</p>\n<p>){\nid\nname\nuserAddressList {\naddress\n}\n}\n}`</p>\n<p>The result :</p>\n<p><code>&quot;data&quot;: { &quot;userList&quot;: [ { &quot;id&quot;: &quot;1&quot;, &quot;name&quot;: &quot;sdfg&quot;, &quot;userAddressList&quot;: [ { &quot;address&quot;: &quot;Nanjangud&quot; } ] } ] }</code></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681299075,"post_id":75994965,"comment_id":134033227,"body_markdown":"Have you already tried instead of asking?","body":"Have you already tried instead of asking?"},{"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"score":0,"creation_date":1681299570,"post_id":75994965,"comment_id":134033336,"body_markdown":"@M.Deinum I didn&#39;t run it. It&#39;s a delicate situation, I can&#39;t just guess that I&#39;m right and execute it hoping it works. I can&#39;t afford losing or modifying the data even though this is still in dev environment","body":"@M.Deinum I didn&#39;t run it. It&#39;s a delicate situation, I can&#39;t just guess that I&#39;m right and execute it hoping it works. I can&#39;t afford losing or modifying the data even though this is still in dev environment"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1681299653,"post_id":75994965,"comment_id":134033358,"body_markdown":"That is what unit tests are for. Writing 1 simple test would have answered your question.","body":"That is what unit tests are for. Writing 1 simple test would have answered your question."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681299723,"post_id":75994965,"comment_id":134033370,"body_markdown":"Short answer: You can do it. The path variable can be placed either in RequestMapping or in the method mapping or in both. Just follow the naming in your parameter names.","body":"Short answer: You can do it. The path variable can be placed either in RequestMapping or in the method mapping or in both. Just follow the naming in your parameter names."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681299563,"creation_date":1681299563,"answer_id":75995027,"question_id":75994965,"body_markdown":"    @RequestMapping(&quot;/api/levels/{levelId}/items&quot;)\r\n\r\nYes, it is possible, and this should work.\r\n\r\nIf you are seeing an error while running this, edit your post and add it.","title":"Is it possible to put a path varaible inside the controllers request mapping","body":"<pre><code>@RequestMapping(&quot;/api/levels/{levelId}/items&quot;)\n</code></pre>\n<p>Yes, it is possible, and this should work.</p>\n<p>If you are seeing an error while running this, edit your post and add it.</p>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75995027,"answer_count":1,"score":0,"last_activity_date":1681300263,"creation_date":1681299019,"question_id":75994965,"body_markdown":"I have a standard BREAD controller where all operations URLs are as follow\r\n\r\n| Operation | Method | function | URL |\r\n|---|---|---|---|\r\n| *Browse* | GET | *index* | `/api/levels/{levelId}/items` |\r\n| *Read* | GET | *show* | `/api/levels/{levelId}/items/{id}` |\r\n| *Edit* | PUT | *update* | `/api/levels/{levelId}/items/{id}` |\r\n| *Add* | POST | *create* | `/api/levels/{levelId}/items` |\r\n| *Delete* | DELETE| *delete* | `/api/levels/{levelId}/items/{id}` |\r\n\r\nI have my `ItemController` \r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/levels&quot;)\r\n@RequiredArgsConstructor\r\npublic class ItemController {\r\n/*...*/\r\n    @PutMapping(&quot;/{levelId}/items/{id}&quot;)\r\n    public void update(@Valid @RequestBody ItemRequest request, @PathVariable Long levelId, @PathVariable Long id) {\r\n        service.update(request, id, levelId);\r\n    }\r\n/*...*/\r\n}\r\n```\r\nIs it possible to set the `levelId` path varaible inside the controller request mapping like this\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/levels/{levelId}/items&quot;)\r\n@RequiredArgsConstructor\r\npublic class ItemController {\r\n/*...*/\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public void update(@Valid @RequestBody ItemRequest request, @PathVariable Long levelId, @PathVariable Long id) {\r\n        service.update(request, id, levelId);\r\n    }\r\n/*...*/\r\n}\r\n```\r\n","title":"Is it possible to put a path varaible inside the controllers request mapping","body":"<p>I have a standard BREAD controller where all operations URLs are as follow</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Operation</th>\n<th>Method</th>\n<th>function</th>\n<th>URL</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>Browse</em></td>\n<td>GET</td>\n<td><em>index</em></td>\n<td><code>/api/levels/{levelId}/items</code></td>\n</tr>\n<tr>\n<td><em>Read</em></td>\n<td>GET</td>\n<td><em>show</em></td>\n<td><code>/api/levels/{levelId}/items/{id}</code></td>\n</tr>\n<tr>\n<td><em>Edit</em></td>\n<td>PUT</td>\n<td><em>update</em></td>\n<td><code>/api/levels/{levelId}/items/{id}</code></td>\n</tr>\n<tr>\n<td><em>Add</em></td>\n<td>POST</td>\n<td><em>create</em></td>\n<td><code>/api/levels/{levelId}/items</code></td>\n</tr>\n<tr>\n<td><em>Delete</em></td>\n<td>DELETE</td>\n<td><em>delete</em></td>\n<td><code>/api/levels/{levelId}/items/{id}</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have my <code>ItemController</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/levels&quot;)\n@RequiredArgsConstructor\npublic class ItemController {\n/*...*/\n    @PutMapping(&quot;/{levelId}/items/{id}&quot;)\n    public void update(@Valid @RequestBody ItemRequest request, @PathVariable Long levelId, @PathVariable Long id) {\n        service.update(request, id, levelId);\n    }\n/*...*/\n}\n</code></pre>\n<p>Is it possible to set the <code>levelId</code> path varaible inside the controller request mapping like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/levels/{levelId}/items&quot;)\n@RequiredArgsConstructor\npublic class ItemController {\n/*...*/\n    @PutMapping(&quot;/{id}&quot;)\n    public void update(@Valid @RequestBody ItemRequest request, @PathVariable Long levelId, @PathVariable Long id) {\n        service.update(request, id, levelId);\n    }\n/*...*/\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-transactions"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1681232292,"post_id":75987800,"comment_id":134022114,"body_markdown":"Does this answer your question? [Spring @Async limit number of threads](https://stackoverflow.com/questions/13206792/spring-async-limit-number-of-threads)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13206792/spring-async-limit-number-of-threads\">Spring @Async limit number of threads</a>"}],"answers":[{"tags":[],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681300108,"creation_date":1681300108,"answer_id":75995114,"question_id":75987800,"body_markdown":"What you&#39;re trying to do with your code is called reach a mutual exclusion to avoid a race condition - two or more processes or threads simultaneously reach a critical segment of your code and try to read and/or update the same piece of data, potentially causing a bug or error. In java , there is a built in feature to avoid this kind of problem: The `synchronized` keyword.  \r\n  \r\nFirst, on your Controller, configure the Thread(s):\r\n\r\n\r\n    @RestController\r\n    public class WebShopOrderController {\r\n\r\n        @Autowired\r\n        private OrderService orderService;\r\n\r\n        @PostMapping(value = &quot;/wc-order&quot;)\r\n        public void getWcOrder(@RequestBody String jsonOrder, @RequestHeader Map&lt;String, String&gt; headers) {\r\n            log.info(&quot;order received&quot;);\r\n    \r\n            // Will be done async\r\n            new Thread(() -&gt; processJsonOrder(jsonOrder)).start();\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\nThen, just use the `synchronized` keyword on your `@Service` method:\r\n\r\n\t@Service\r\n\tpublic class OrderService {\r\n\t    \r\n\t    @Transactional\r\n\t    public synchronized void processJsonOrder(WoocommerceOrder wcOrder) {\r\n            // Only one Thread at a time will be allowed to enter this area.\r\n\t        // performing business logic\r\n\t    }\r\n\t\r\n\t}","title":"How to avoid parallel processing in async in Spring, or how to dispatch web request","body":"<p>What you're trying to do with your code is called reach a mutual exclusion to avoid a race condition - two or more processes or threads simultaneously reach a critical segment of your code and try to read and/or update the same piece of data, potentially causing a bug or error. In java , there is a built in feature to avoid this kind of problem: The <code>synchronized</code> keyword.</p>\n<p>First, on your Controller, configure the Thread(s):</p>\n<pre><code>@RestController\npublic class WebShopOrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n    @PostMapping(value = &quot;/wc-order&quot;)\n    public void getWcOrder(@RequestBody String jsonOrder, @RequestHeader Map&lt;String, String&gt; headers) {\n        log.info(&quot;order received&quot;);\n\n        // Will be done async\n        new Thread(() -&gt; processJsonOrder(jsonOrder)).start();\n\n        return;\n    }\n}\n</code></pre>\n<p>Then, just use the <code>synchronized</code> keyword on your <code>@Service</code> method:</p>\n<pre><code>@Service\npublic class OrderService {\n    \n    @Transactional\n    public synchronized void processJsonOrder(WoocommerceOrder wcOrder) {\n        // Only one Thread at a time will be allowed to enter this area.\n        // performing business logic\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2826613,"reputation":46,"user_id":2429144,"display_name":"Fabo137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681300108,"creation_date":1681228009,"question_id":75987800,"body_markdown":"Giving the following code which takes a request with a web shop order as JSON in Spring Boot. The order should be handed over to the method `processJsonOrder` on which the order will be processed. After handing over, the web service should return OK to the client. Processing in `processJsonOrder` should be async without blocking the return to the client.\r\n\r\n```java\r\n@RestController\r\npublic class WebShopOrderController {\r\n\r\n    @Autowired\r\n    private OrderService orderService;\r\n\r\n    @PostMapping(value = &quot;/wc-order&quot;)\r\n    public void getWcOrder(@RequestBody String jsonOrder, @RequestHeader Map&lt;String, String&gt; headers) {\r\n        log.info(&quot;order received&quot;);\r\n    \r\n        // should be done async\r\n        processJsonOrder(jsonOrder);\r\n\r\n        return;\r\n    }\r\n}\r\n```\r\n\r\nHowever, jsonOrder processed in `processJsonOrder` should be processed one by one. Maybe by a queue, or there is a nice solution in Spring to do so. The idea is that jsonOrders are waiting when an order is executed within `processJsonOrder`. Currently, when two order updated arrive within seconds, order will be inserted into the database by `processJsonOrder` twice, as the thread processing the `jsonOrder` has not reached the commit point yet. There is some code in the `orderService` to check for duplicates on database level, but that doesn&#39;t help always.\r\n\r\n\r\nThe OrderService.java\r\n```java\r\n@Service\r\npublic class OrderService {\r\n    \r\n    @Async\r\n    @Transactional\r\n    public void processJsonOrder(WoocommerceOrder wcOrder) {\r\n        // performing business logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nI expect that there is an elegant solution for that, or maybe doing the processJson order Async is the wrong approach. Important is that the calling client gets back an answer immediately, but the order is processed afterwards asynchronously, but one by one.","title":"How to avoid parallel processing in async in Spring, or how to dispatch web request","body":"<p>Giving the following code which takes a request with a web shop order as JSON in Spring Boot. The order should be handed over to the method <code>processJsonOrder</code> on which the order will be processed. After handing over, the web service should return OK to the client. Processing in <code>processJsonOrder</code> should be async without blocking the return to the client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class WebShopOrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n    @PostMapping(value = &quot;/wc-order&quot;)\n    public void getWcOrder(@RequestBody String jsonOrder, @RequestHeader Map&lt;String, String&gt; headers) {\n        log.info(&quot;order received&quot;);\n    \n        // should be done async\n        processJsonOrder(jsonOrder);\n\n        return;\n    }\n}\n</code></pre>\n<p>However, jsonOrder processed in <code>processJsonOrder</code> should be processed one by one. Maybe by a queue, or there is a nice solution in Spring to do so. The idea is that jsonOrders are waiting when an order is executed within <code>processJsonOrder</code>. Currently, when two order updated arrive within seconds, order will be inserted into the database by <code>processJsonOrder</code> twice, as the thread processing the <code>jsonOrder</code> has not reached the commit point yet. There is some code in the <code>orderService</code> to check for duplicates on database level, but that doesn't help always.</p>\n<p>The OrderService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class OrderService {\n    \n    @Async\n    @Transactional\n    public void processJsonOrder(WoocommerceOrder wcOrder) {\n        // performing business logic\n    }\n\n}\n</code></pre>\n<p>I expect that there is an elegant solution for that, or maybe doing the processJson order Async is the wrong approach. Important is that the calling client gets back an answer immediately, but the order is processed afterwards asynchronously, but one by one.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681300627,"post_id":75995112,"comment_id":134033606,"body_markdown":"Try using a functional interface + method reference instead of a class object. For instance, if the constructors only take a string: `private &lt;T extends ParentClass&gt; T getItem(Function&lt;String, T&gt; constructor)`. You can then call it as `getItem(Item1::new)` etc. If the constructors take two arguments you can use `BiConsumer`, otherwise you can easily create your own functional interface.","body":"Try using a functional interface + method reference instead of a class object. For instance, if the constructors only take a string: <code>private &lt;T extends ParentClass&gt; T getItem(Function&lt;String, T&gt; constructor)</code>. You can then call it as <code>getItem(Item1::new)</code> etc. If the constructors take two arguments you can use <code>BiConsumer</code>, otherwise you can easily create your own functional interface."}],"owner":{"account_id":23649072,"reputation":1,"user_id":17678261,"display_name":"Quib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681300294,"answer_count":0,"score":0,"last_activity_date":1681300085,"creation_date":1681300085,"question_id":75995112,"body_markdown":"I might be understanding this wrong, I have multiple classes, for example:\r\n- Item1\r\n- Item2\r\n- Item3\r\n\r\nThey all extend the same parent class and need the same constructor arguments, I want to be able to call a method like below passing say Item1.class as the parameter, it then returns a new instance of Item1.\r\n\r\n```private &lt;T extends ParentClass&gt; T getItem(Class&lt;T&gt; itemType) {```\r\n\r\nAfter the method has collected the relevant data for the item&#39;s constructor, can I use ```itemType.newInstance()``` to create a new instance? If so how do I pass arguments to it&#39;s constructor?","title":"Initializing generic T class","body":"<p>I might be understanding this wrong, I have multiple classes, for example:</p>\n<ul>\n<li>Item1</li>\n<li>Item2</li>\n<li>Item3</li>\n</ul>\n<p>They all extend the same parent class and need the same constructor arguments, I want to be able to call a method like below passing say Item1.class as the parameter, it then returns a new instance of Item1.</p>\n<p><code>private &lt;T extends ParentClass&gt; T getItem(Class&lt;T&gt; itemType) {</code></p>\n<p>After the method has collected the relevant data for the item's constructor, can I use <code>itemType.newInstance()</code> to create a new instance? If so how do I pass arguments to it's constructor?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9487,"page":505,"page_size":100}
