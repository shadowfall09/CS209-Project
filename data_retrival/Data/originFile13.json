{"items":[{"tags":["java","methods","time","parameters","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701205833,"post_id":77566630,"comment_id":136746116,"body_markdown":"I fixed your code formatting. Please study so you can do that yourself. Also, please put effort into using correct case and such  in your prose. Stack Overflow is meant to be more like Wikipedia, less like a casual chat room.","body":"I fixed your code formatting. Please study so you can do that yourself. Also, please put effort into using correct case and such  in your prose. Stack Overflow is meant to be more like Wikipedia, less like a casual chat room."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701205886,"creation_date":1701205886,"answer_id":77567170,"question_id":77566630,"body_markdown":"You must study the [Javadoc][1] for any class you want to use.\r\n\r\nOn [`LocalTime`][2], you will not find any `minutesToSubtract` method. You can only call methods defined on that class.\r\n\r\nYou will find a [`minusMinutes`][3] method.\r\n\r\nBecause *java.time* uses [immutable objects][4], the result of that method is a new `LocalTime` object. The original `LocalTime` object remains intact.\r\n\r\n    LocalTime now = LocalTime.now() ;\r\n    LocalTime then = now.minusMinutes( 2 ) ;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Javadoc\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html#minusMinutes(long)\r\n  [4]: https://en.wikipedia.org/wiki/Immutable_object","title":"using minusMinutes() in the LocalTime class in the time package","body":"<p>You must study the <a href=\"https://en.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Javadoc</a> for any class you want to use.</p>\n<p>On <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>, you will not find any <code>minutesToSubtract</code> method. You can only call methods defined on that class.</p>\n<p>You will find a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html#minusMinutes(long)\" rel=\"nofollow noreferrer\"><code>minusMinutes</code></a> method.</p>\n<p>Because <em>java.time</em> uses <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>, the result of that method is a new <code>LocalTime</code> object. The original <code>LocalTime</code> object remains intact.</p>\n<pre><code>LocalTime now = LocalTime.now() ;\nLocalTime then = now.minusMinutes( 2 ) ;\n</code></pre>\n"}],"owner":{"account_id":29644136,"reputation":1,"user_id":22719553,"display_name":"working.monkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701812905,"creation_date":1701199330,"question_id":77566630,"body_markdown":"I am quite new and am asking to see how to use this method. here is my problematic code...\r\n\r\n```java\r\nimport java.time.LocalTime;\r\n\r\nclass Workingtime{\r\n  public static void main(String[] args){\r\n\r\n    LocalTime timeobj = LocalTime.minusMinutes();\r\n    String subtractedtimevar = timeobj.minutesToSubtract(1);\r\n    System.out.println(subtractedtimevar);\r\n\r\n  }\r\n}\r\n```\r\n\r\nplease give me the correct use of this method with any subtraction of time as an example.\r\n\r\n\r\n\r\ni tried to subtract 1 minute to see how the method works from the oracle literature.\r\n\r\nthanks to those who respond.\r\n\r\n- working monkey","title":"using minusMinutes() in the LocalTime class in the time package","body":"<p>I am quite new and am asking to see how to use this method. here is my problematic code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalTime;\n\nclass Workingtime{\n  public static void main(String[] args){\n\n    LocalTime timeobj = LocalTime.minusMinutes();\n    String subtractedtimevar = timeobj.minutesToSubtract(1);\n    System.out.println(subtractedtimevar);\n\n  }\n}\n</code></pre>\n<p>please give me the correct use of this method with any subtraction of time as an example.</p>\n<p>i tried to subtract 1 minute to see how the method works from the oracle literature.</p>\n<p>thanks to those who respond.</p>\n<ul>\n<li>working monkey</li>\n</ul>\n"},{"tags":["java","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"score":0,"creation_date":1485720126,"post_id":19635275,"comment_id":71031092,"body_markdown":"Working example is here\nhttp://stackoverflow.com/questions/32308964/how-to-add-multiple-pages-in-pdfbox/41925284#41925284","body":"Working example is here <a href=\"http://stackoverflow.com/questions/32308964/how-to-add-multiple-pages-in-pdfbox/41925284#41925284\" title=\"how to add multiple pages in pdfbox\">stackoverflow.com/questions/32308964/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60411,"reputation":395,"user_id":180448,"accept_rate":80,"display_name":"Mark Waschkowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382971391,"creation_date":1382971391,"answer_id":19637772,"question_id":19635275,"body_markdown":"Just draw the string in a position below, typically done within a loop:\r\n\r\n    float textx = margin+cellMargin;\r\n    float texty = y-15;\r\n    for(int i = 0; i &lt; content.length; i++){\r\n        for(int j = 0 ; j &lt; content[i].length; j++){\r\n            String text = content[i][j];\r\n            contentStream.beginText();\r\n            contentStream.moveTextPositionByAmount(textx,texty);\r\n            contentStream.drawString(text);\r\n            contentStream.endText();\r\n            textx += colWidth;\r\n        }\r\n        texty-=rowHeight;\r\n        textx = margin+cellMargin;\r\n    }\r\n\r\nThese are the important lines:\r\n\r\n    contentStream.beginText();\r\n    contentStream.moveTextPositionByAmount(textx,texty);\r\n    contentStream.drawString(text);\r\n    contentStream.endText();\r\n\r\nJust keep drawing new strings in new positions. For an example using a table, see here:\r\nhttp://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>Just draw the string in a position below, typically done within a loop:</p>\n\n<pre><code>float textx = margin+cellMargin;\nfloat texty = y-15;\nfor(int i = 0; i &lt; content.length; i++){\n    for(int j = 0 ; j &lt; content[i].length; j++){\n        String text = content[i][j];\n        contentStream.beginText();\n        contentStream.moveTextPositionByAmount(textx,texty);\n        contentStream.drawString(text);\n        contentStream.endText();\n        textx += colWidth;\n    }\n    texty-=rowHeight;\n    textx = margin+cellMargin;\n}\n</code></pre>\n\n<p>These are the important lines:</p>\n\n<pre><code>contentStream.beginText();\ncontentStream.moveTextPositionByAmount(textx,texty);\ncontentStream.drawString(text);\ncontentStream.endText();\n</code></pre>\n\n<p>Just keep drawing new strings in new positions. For an example using a table, see here:\n<a href=\"http://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html\" rel=\"nofollow\">http://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html</a></p>\n"},{"tags":[],"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"down_vote_count":1,"up_vote_count":105,"is_accepted":true,"score":104,"last_activity_date":1657796393,"creation_date":1383139770,"answer_id":19683618,"question_id":19635275,"body_markdown":"Adding to the answer of Mark you might want to know where to split your long string. You can use the `PDFont` method `getStringWidth` for that.\r\n\r\nPutting everything together you get something like this (with minor differences depending on the PDFBox version):\r\n\r\n### PDFBox 1.8.x\r\n\r\n    PDDocument doc = null;\r\n    try\r\n    {\r\n        doc = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        doc.addPage(page);\r\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n\r\n        PDFont pdfFont = PDType1Font.HELVETICA;\r\n        float fontSize = 25;\r\n        float leading = 1.5f * fontSize;\r\n\r\n        PDRectangle mediabox = page.getMediaBox();\r\n        float margin = 72;\r\n        float width = mediabox.getWidth() - 2*margin;\r\n        float startX = mediabox.getLowerLeftX() + margin;\r\n        float startY = mediabox.getUpperRightY() - margin;\r\n\r\n        String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n            if (spaceIndex &lt; 0)\r\n                spaceIndex = text.length();\r\n            String subString = text.substring(0, spaceIndex);\r\n            float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n            System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n            if (size &gt; width)\r\n            {\r\n                if (lastSpace &lt; 0)\r\n                    lastSpace = spaceIndex;\r\n                subString = text.substring(0, lastSpace);\r\n                lines.add(subString);\r\n                text = text.substring(lastSpace).trim();\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n                lastSpace = -1;\r\n            }\r\n            else if (spaceIndex == text.length())\r\n            {\r\n                lines.add(text);\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n                text = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                lastSpace = spaceIndex;\r\n            }\r\n        }\r\n            \r\n        contentStream.beginText();\r\n        contentStream.setFont(pdfFont, fontSize);\r\n        contentStream.moveTextPositionByAmount(startX, startY);            \r\n        for (String line: lines)\r\n        {\r\n            contentStream.drawString(line);\r\n            contentStream.moveTextPositionByAmount(0, -leading);\r\n        }\r\n        contentStream.endText(); \r\n        contentStream.close();\r\n\r\n        doc.save(&quot;break-long-string.pdf&quot;);\r\n    }\r\n    finally\r\n    {\r\n        if (doc != null)\r\n        {\r\n            doc.close();\r\n        }\r\n    }\r\n\r\n*([BreakLongString.java][1] test `testBreakString` for PDFBox 1.8.x)*\r\n\r\n### PDFBox 2.0.x\r\n\r\n    PDDocument doc = null;\r\n    try\r\n    {\r\n        doc = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        doc.addPage(page);\r\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n\r\n        PDFont pdfFont = PDType1Font.HELVETICA;\r\n        float fontSize = 25;\r\n        float leading = 1.5f * fontSize;\r\n\r\n        PDRectangle mediabox = page.getMediaBox();\r\n        float margin = 72;\r\n        float width = mediabox.getWidth() - 2*margin;\r\n        float startX = mediabox.getLowerLeftX() + margin;\r\n        float startY = mediabox.getUpperRightY() - margin;\r\n\r\n        String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n            if (spaceIndex &lt; 0)\r\n                spaceIndex = text.length();\r\n            String subString = text.substring(0, spaceIndex);\r\n            float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n            System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n            if (size &gt; width)\r\n            {\r\n                if (lastSpace &lt; 0)\r\n                    lastSpace = spaceIndex;\r\n                subString = text.substring(0, lastSpace);\r\n                lines.add(subString);\r\n                text = text.substring(lastSpace).trim();\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n                lastSpace = -1;\r\n            }\r\n            else if (spaceIndex == text.length())\r\n            {\r\n                lines.add(text);\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n                text = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                lastSpace = spaceIndex;\r\n            }\r\n        }\r\n\r\n        contentStream.beginText();\r\n        contentStream.setFont(pdfFont, fontSize);\r\n        contentStream.newLineAtOffset(startX, startY);\r\n        for (String line: lines)\r\n        {\r\n            contentStream.showText(line);\r\n            contentStream.newLineAtOffset(0, -leading);\r\n        }\r\n        contentStream.endText(); \r\n        contentStream.close();\r\n\r\n        doc.save(new File(RESULT_FOLDER, &quot;break-long-string.pdf&quot;));\r\n    }\r\n    finally\r\n    {\r\n        if (doc != null)\r\n        {\r\n            doc.close();\r\n        }\r\n    }\r\n\r\n*([BreakLongString.java][2] test `testBreakString` for PDFBox 2.0.x)*\r\n\r\n### The result\r\n\r\n![Screenshot of the result PDF displayed in Acrobat Reader][3]\r\n\r\nThis looks as expected.\r\n\r\nOf course there are numerous improvements to make but this should show how to do it.\r\n\r\n### Adding unconditional line breaks\r\n\r\nIn a comment aleskv asked:\r\n\r\n&gt; could you add line breaks when there are \\n in the string?\r\n\r\nOne can easily extend the solution to unconditionally break at newline characters by first splitting the string at &#39;\\n&#39; characters and then iterating over the split result.\r\n\r\nE.g. if instead of the long string from above\r\n\r\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n\r\nyou want to process this even longer string with embedded new line characters\r\n\r\n    String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;;\r\n\r\nyou can simply replace\r\n\r\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    int lastSpace = -1;\r\n    while (text.length() &gt; 0)\r\n    {\r\n        [...]\r\n    }\r\n\r\nin the solutions above by\r\n\r\n    String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;; \r\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    for (String text : textNL.split(&quot;\\n&quot;))\r\n    {\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            [...]\r\n        }\r\n    }\r\n\r\n*(from [BreakLongString.java][4] test `testBreakStringNL`)*\r\n\r\nThe result:\r\n\r\n[![Screenshot][5]][5]\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/content/BreakLongString.java#L40\r\n  [2]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L39\r\n  [3]: http://i.stack.imgur.com/ov011.png\r\n  [4]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L220\r\n  [5]: https://i.stack.imgur.com/43ijf.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>Adding to the answer of Mark you might want to know where to split your long string. You can use the <code>PDFont</code> method <code>getStringWidth</code> for that.</p>\n<p>Putting everything together you get something like this (with minor differences depending on the PDFBox version):</p>\n<h3>PDFBox 1.8.x</h3>\n<pre><code>PDDocument doc = null;\ntry\n{\n    doc = new PDDocument();\n    PDPage page = new PDPage();\n    doc.addPage(page);\n    PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n    PDFont pdfFont = PDType1Font.HELVETICA;\n    float fontSize = 25;\n    float leading = 1.5f * fontSize;\n\n    PDRectangle mediabox = page.getMediaBox();\n    float margin = 72;\n    float width = mediabox.getWidth() - 2*margin;\n    float startX = mediabox.getLowerLeftX() + margin;\n    float startY = mediabox.getUpperRightY() - margin;\n\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        int spaceIndex = text.indexOf(' ', lastSpace + 1);\n        if (spaceIndex &lt; 0)\n            spaceIndex = text.length();\n        String subString = text.substring(0, spaceIndex);\n        float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n        System.out.printf(&quot;'%s' - %f of %f\\n&quot;, subString, size, width);\n        if (size &gt; width)\n        {\n            if (lastSpace &lt; 0)\n                lastSpace = spaceIndex;\n            subString = text.substring(0, lastSpace);\n            lines.add(subString);\n            text = text.substring(lastSpace).trim();\n            System.out.printf(&quot;'%s' is line\\n&quot;, subString);\n            lastSpace = -1;\n        }\n        else if (spaceIndex == text.length())\n        {\n            lines.add(text);\n            System.out.printf(&quot;'%s' is line\\n&quot;, text);\n            text = &quot;&quot;;\n        }\n        else\n        {\n            lastSpace = spaceIndex;\n        }\n    }\n        \n    contentStream.beginText();\n    contentStream.setFont(pdfFont, fontSize);\n    contentStream.moveTextPositionByAmount(startX, startY);            \n    for (String line: lines)\n    {\n        contentStream.drawString(line);\n        contentStream.moveTextPositionByAmount(0, -leading);\n    }\n    contentStream.endText(); \n    contentStream.close();\n\n    doc.save(&quot;break-long-string.pdf&quot;);\n}\nfinally\n{\n    if (doc != null)\n    {\n        doc.close();\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/content/BreakLongString.java#L40\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakString</code> for PDFBox 1.8.x)</em></p>\n<h3>PDFBox 2.0.x</h3>\n<pre><code>PDDocument doc = null;\ntry\n{\n    doc = new PDDocument();\n    PDPage page = new PDPage();\n    doc.addPage(page);\n    PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n    PDFont pdfFont = PDType1Font.HELVETICA;\n    float fontSize = 25;\n    float leading = 1.5f * fontSize;\n\n    PDRectangle mediabox = page.getMediaBox();\n    float margin = 72;\n    float width = mediabox.getWidth() - 2*margin;\n    float startX = mediabox.getLowerLeftX() + margin;\n    float startY = mediabox.getUpperRightY() - margin;\n\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        int spaceIndex = text.indexOf(' ', lastSpace + 1);\n        if (spaceIndex &lt; 0)\n            spaceIndex = text.length();\n        String subString = text.substring(0, spaceIndex);\n        float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n        System.out.printf(&quot;'%s' - %f of %f\\n&quot;, subString, size, width);\n        if (size &gt; width)\n        {\n            if (lastSpace &lt; 0)\n                lastSpace = spaceIndex;\n            subString = text.substring(0, lastSpace);\n            lines.add(subString);\n            text = text.substring(lastSpace).trim();\n            System.out.printf(&quot;'%s' is line\\n&quot;, subString);\n            lastSpace = -1;\n        }\n        else if (spaceIndex == text.length())\n        {\n            lines.add(text);\n            System.out.printf(&quot;'%s' is line\\n&quot;, text);\n            text = &quot;&quot;;\n        }\n        else\n        {\n            lastSpace = spaceIndex;\n        }\n    }\n\n    contentStream.beginText();\n    contentStream.setFont(pdfFont, fontSize);\n    contentStream.newLineAtOffset(startX, startY);\n    for (String line: lines)\n    {\n        contentStream.showText(line);\n        contentStream.newLineAtOffset(0, -leading);\n    }\n    contentStream.endText(); \n    contentStream.close();\n\n    doc.save(new File(RESULT_FOLDER, &quot;break-long-string.pdf&quot;));\n}\nfinally\n{\n    if (doc != null)\n    {\n        doc.close();\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L39\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakString</code> for PDFBox 2.0.x)</em></p>\n<h3>The result</h3>\n<p><img src=\"https://i.stack.imgur.com/ov011.png\" alt=\"Screenshot of the result PDF displayed in Acrobat Reader\" /></p>\n<p>This looks as expected.</p>\n<p>Of course there are numerous improvements to make but this should show how to do it.</p>\n<h3>Adding unconditional line breaks</h3>\n<p>In a comment aleskv asked:</p>\n<blockquote>\n<p>could you add line breaks when there are \\n in the string?</p>\n</blockquote>\n<p>One can easily extend the solution to unconditionally break at newline characters by first splitting the string at '\\n' characters and then iterating over the split result.</p>\n<p>E.g. if instead of the long string from above</p>\n<pre><code>String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n</code></pre>\n<p>you want to process this even longer string with embedded new line characters</p>\n<pre><code>String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;;\n</code></pre>\n<p>you can simply replace</p>\n<pre><code>String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \nList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\nint lastSpace = -1;\nwhile (text.length() &gt; 0)\n{\n    [...]\n}\n</code></pre>\n<p>in the solutions above by</p>\n<pre><code>String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;; \nList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\nfor (String text : textNL.split(&quot;\\n&quot;))\n{\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        [...]\n    }\n}\n</code></pre>\n<p><em>(from <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L220\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakStringNL</code>)</em></p>\n<p>The result:</p>\n<p><a href=\"https://i.stack.imgur.com/43ijf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/43ijf.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3999398,"reputation":1959,"user_id":3295819,"display_name":"Bharathiraja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397536847,"creation_date":1397536847,"answer_id":23074810,"question_id":19635275,"body_markdown":"contentStream.moveTextPositionByAmount(textx,texty) is key point.\r\n\r\nsay for example if you are using a A4 size means 580,800 is width and height correspondling(approximately). so you have move your text based on the position of your document size. \r\n\r\nPDFBox supports varies page format . so the height and width will vary for different page format","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>contentStream.moveTextPositionByAmount(textx,texty) is key point.</p>\n\n<p>say for example if you are using a A4 size means 580,800 is width and height correspondling(approximately). so you have move your text based on the position of your document size. </p>\n\n<p>PDFBox supports varies page format . so the height and width will vary for different page format</p>\n"},{"tags":[],"owner":{"account_id":3238655,"reputation":448,"user_id":2732203,"accept_rate":60,"display_name":"Michael Woywod"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1439374089,"creation_date":1439374089,"answer_id":31962119,"question_id":19635275,"body_markdown":"I know it&#39;s a bit late, but i had a little problem with mkl&#39;s solution. If the last line would only contain one word, your algorithm writes it on the previous one.\r\n\r\nFor Example: &quot;Lorem ipsum dolor sit amet&quot; is your text and it should add a line break after &quot;sit&quot;.\r\n\r\n    Lorem ipsum dolor sit\r\n    amet\r\n\r\nBut it does this:\r\n\r\n    Lorem ipsum dolor sit amet\r\n\r\nI came up with my own solution i want to share with you.\r\n\r\n    /**\r\n     * @param text The text to write on the page.\r\n     * @param x The position on the x-axis.\r\n     * @param y The position on the y-axis.\r\n     * @param allowedWidth The maximum allowed width of the whole text (e.g. the width of the page - a defined margin).\r\n     * @param page The page for the text.\r\n     * @param contentStream The content stream to set the text properties and write the text.\r\n     * @param font The font used to write the text.\r\n     * @param fontSize The font size used to write the text.\r\n     * @param lineHeight The line height of the font (typically 1.2 * fontSize or 1.5 * fontSize).\r\n     * @throws IOException\r\n     */\r\n    private void drawMultiLineText(String text, int x, int y, int allowedWidth, PDPage page, PDPageContentStream contentStream, PDFont font, int fontSize, int lineHeight) throws IOException {\r\n    \t\r\n\t\tList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tString myLine = &quot;&quot;;\r\n\t\t\r\n\t\t// get all words from the text\r\n\t\t// keep in mind that words are separated by spaces -&gt; &quot;Lorem ipsum!!!!:)&quot; -&gt; words are &quot;Lorem&quot; and &quot;ipsum!!!!:)&quot;\r\n\t\tString[] words = text.split(&quot; &quot;);\r\n\t\tfor(String word : words) {\r\n\t\t\t\r\n\t\t\tif(!myLine.isEmpty()) {\r\n\t\t\t\tmyLine += &quot; &quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// test the width of the current line + the current word\r\n\t\t\tint size = (int) (fontSize * font.getStringWidth(myLine + word) / 1000);\r\n\t\t\tif(size &gt; allowedWidth) {\r\n\t\t\t\t// if the line would be too long with the current word, add the line without the current word\r\n\t\t\t\tlines.add(myLine);\r\n\t\t\t\t\r\n\t\t\t\t// and start a new line with the current word\r\n\t\t\t\tmyLine = word;\r\n\t\t\t} else {\r\n\t\t\t\t// if the current line + the current word would fit, add the current word to the line\r\n\t\t\t\tmyLine += word;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// add the rest to lines\r\n\t\tlines.add(myLine);\r\n\t\t\r\n\t\tfor(String line : lines) {\r\n\t\t\tcontentStream.beginText();\r\n\t\t\tcontentStream.setFont(font, fontSize);\r\n\t\t\tcontentStream.moveTextPositionByAmount(x, y);\r\n\t\t\tcontentStream.drawString(line);\r\n\t\t\tcontentStream.endText();\r\n\t\t\t\r\n\t\t\ty -= lineHeight;\r\n\t\t}\r\n\r\n    }","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>I know it's a bit late, but i had a little problem with mkl's solution. If the last line would only contain one word, your algorithm writes it on the previous one.</p>\n\n<p>For Example: \"Lorem ipsum dolor sit amet\" is your text and it should add a line break after \"sit\".</p>\n\n<pre><code>Lorem ipsum dolor sit\namet\n</code></pre>\n\n<p>But it does this:</p>\n\n<pre><code>Lorem ipsum dolor sit amet\n</code></pre>\n\n<p>I came up with my own solution i want to share with you.</p>\n\n<pre><code>/**\n * @param text The text to write on the page.\n * @param x The position on the x-axis.\n * @param y The position on the y-axis.\n * @param allowedWidth The maximum allowed width of the whole text (e.g. the width of the page - a defined margin).\n * @param page The page for the text.\n * @param contentStream The content stream to set the text properties and write the text.\n * @param font The font used to write the text.\n * @param fontSize The font size used to write the text.\n * @param lineHeight The line height of the font (typically 1.2 * fontSize or 1.5 * fontSize).\n * @throws IOException\n */\nprivate void drawMultiLineText(String text, int x, int y, int allowedWidth, PDPage page, PDPageContentStream contentStream, PDFont font, int fontSize, int lineHeight) throws IOException {\n\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\n    String myLine = \"\";\n\n    // get all words from the text\n    // keep in mind that words are separated by spaces -&gt; \"Lorem ipsum!!!!:)\" -&gt; words are \"Lorem\" and \"ipsum!!!!:)\"\n    String[] words = text.split(\" \");\n    for(String word : words) {\n\n        if(!myLine.isEmpty()) {\n            myLine += \" \";\n        }\n\n        // test the width of the current line + the current word\n        int size = (int) (fontSize * font.getStringWidth(myLine + word) / 1000);\n        if(size &gt; allowedWidth) {\n            // if the line would be too long with the current word, add the line without the current word\n            lines.add(myLine);\n\n            // and start a new line with the current word\n            myLine = word;\n        } else {\n            // if the current line + the current word would fit, add the current word to the line\n            myLine += word;\n        }\n    }\n    // add the rest to lines\n    lines.add(myLine);\n\n    for(String line : lines) {\n        contentStream.beginText();\n        contentStream.setFont(font, fontSize);\n        contentStream.moveTextPositionByAmount(x, y);\n        contentStream.drawString(line);\n        contentStream.endText();\n\n        y -= lineHeight;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12257681,"reputation":71,"user_id":8946302,"display_name":"Vinayak Nathjogi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510762363,"creation_date":1510761446,"answer_id":47311914,"question_id":19635275,"body_markdown":"\r\n\r\n    ///// FOR PDBOX 2.0.X\r\n    //  FOR ADDING DYNAMIC PAGE ACCORDING THE LENGTH OF THE CONTENT\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.common.PDRectangle;\r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n      \r\n    public class Document_Creation {\r\n        \r\n       public static void main (String args[]) throws IOException {\r\n           \r\n    \t   PDDocument doc = null;\r\n    \t   try\r\n    \t   {\r\n    \t       doc = new PDDocument();\r\n    \t       PDPage page = new PDPage();\r\n    \t       doc.addPage(page);\r\n    \t       PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n    \r\n    \t       PDFont pdfFont = PDType1Font.HELVETICA;\r\n    \t       float fontSize = 25;\r\n    \t       float leading = 1.5f * fontSize;\r\n    \r\n    \t       PDRectangle mediabox = page.getMediaBox();\r\n    \t       float margin = 72;\r\n    \t       float width = mediabox.getWidth() - 2*margin;\r\n    \t       float startX = mediabox.getLowerLeftX() + margin;\r\n    \t       float startY = mediabox.getUpperRightY() - margin;\r\n    \r\n    \t       String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.An essay is, generally, a piece of writing that gives the author&#39;s own argument — but the definition is vague, overlapping with those of an article, a pamphlet, and a short story. Essays have traditionally been sub-classified as formal and informal. Formal essays are characterized by serious purpose, dignity, logical organization, length,whereas the informal essay is characterized by the personal element (self-revelation, individual tastes and experiences, confidential manner), humor, graceful style, rambling structure, unconventionality or novelty of theme.Lastly, one of the most attractive features of cats as housepets is their ease of care. Cats do not have to be walked. They get plenty of exercise in the house as they play, and they do their business in the litter box. Cleaning a litter box is a quick, painless procedure. Cats also take care of their own grooming. Bathing a cat is almost never necessary because under ordinary circumstances cats clean themselves. Cats are more particular about personal cleanliness than people are. In addition, cats can be left home alone for a few hours without fear. Unlike some pets, most cats will not destroy the furnishings when left alone. They are content to go about their usual activities until their owners return.&quot;; \r\n    \t       List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    \t       int lastSpace = -1;\r\n    \t       while (text.length() &gt; 0)\r\n    \t       {\r\n    \t           int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n    \t           if (spaceIndex &lt; 0)\r\n    \t               spaceIndex = text.length();\r\n    \t           String subString = text.substring(0, spaceIndex);\r\n    \t           float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n    \t           System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n    \t           if (size &gt; width)\r\n    \t           {\r\n    \t               if (lastSpace &lt; 0)\r\n    \t                   lastSpace = spaceIndex;\r\n    \t               subString = text.substring(0, lastSpace);\r\n    \t               lines.add(subString);\r\n    \t               text = text.substring(lastSpace).trim();\r\n    \t               System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n    \t               lastSpace = -1;\r\n    \t           }\r\n    \t           else if (spaceIndex == text.length())\r\n    \t           {\r\n    \t               lines.add(text);\r\n    \t               System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n    \t               text = &quot;&quot;;\r\n    \t           }\r\n    \t           else\r\n    \t           {\r\n    \t               lastSpace = spaceIndex;\r\n    \t           }\r\n    \t       }\r\n    \r\n    \t       contentStream.beginText();\r\n    \t       contentStream.setFont(pdfFont, fontSize);\r\n    \t       contentStream.newLineAtOffset(startX, startY);\r\n    \t       float currentY=startY;\r\n    \t       for (String line: lines)\r\n    \t       {\r\n    \t    \t   currentY -=leading;\r\n    \t    \t   \r\n    \t    \t   if(currentY&lt;=margin)\r\n    \t    \t   {\r\n    \t    \t\t   \r\n    \t    \t       contentStream.endText(); \r\n    \t    \t       contentStream.close();\r\n    \t    \t       PDPage new_Page = new PDPage();\r\n    \t    \t       doc.addPage(new_Page);\r\n    \t    \t       contentStream = new PDPageContentStream(doc, new_Page);\r\n    \t    \t       contentStream.beginText();\r\n    \t    \t       contentStream.setFont(pdfFont, fontSize);\r\n    \t    \t       contentStream.newLineAtOffset(startX, startY);\r\n    \t    \t       currentY=startY;\r\n    \t    \t   }\r\n    \t           contentStream.showText(line);\r\n    \t           contentStream.newLineAtOffset(0, -leading);\r\n    \t       }\r\n    \t       contentStream.endText(); \r\n    \t       contentStream.close();\r\n    \r\n    \t       doc.save(&quot;C:/Users/VINAYAK/Desktop/docccc/break-long-string.pdf&quot;);\r\n    \t   }\r\n    \t   finally\r\n    \t   {\r\n    \t       if (doc != null)\r\n    \t       {\r\n    \t           doc.close();\r\n    \t       }\r\n    \t   }\r\n    \r\n       }  \r\n    }\r\n\r\n[![Output][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mopfd.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<pre><code>///// FOR PDBOX 2.0.X\n//  FOR ADDING DYNAMIC PAGE ACCORDING THE LENGTH OF THE CONTENT\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\npublic class Document_Creation {\n\n   public static void main (String args[]) throws IOException {\n\n       PDDocument doc = null;\n       try\n       {\n           doc = new PDDocument();\n           PDPage page = new PDPage();\n           doc.addPage(page);\n           PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n           PDFont pdfFont = PDType1Font.HELVETICA;\n           float fontSize = 25;\n           float leading = 1.5f * fontSize;\n\n           PDRectangle mediabox = page.getMediaBox();\n           float margin = 72;\n           float width = mediabox.getWidth() - 2*margin;\n           float startX = mediabox.getLowerLeftX() + margin;\n           float startY = mediabox.getUpperRightY() - margin;\n\n           String text = \"I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.An essay is, generally, a piece of writing that gives the author's own argument — but the definition is vague, overlapping with those of an article, a pamphlet, and a short story. Essays have traditionally been sub-classified as formal and informal. Formal essays are characterized by serious purpose, dignity, logical organization, length,whereas the informal essay is characterized by the personal element (self-revelation, individual tastes and experiences, confidential manner), humor, graceful style, rambling structure, unconventionality or novelty of theme.Lastly, one of the most attractive features of cats as housepets is their ease of care. Cats do not have to be walked. They get plenty of exercise in the house as they play, and they do their business in the litter box. Cleaning a litter box is a quick, painless procedure. Cats also take care of their own grooming. Bathing a cat is almost never necessary because under ordinary circumstances cats clean themselves. Cats are more particular about personal cleanliness than people are. In addition, cats can be left home alone for a few hours without fear. Unlike some pets, most cats will not destroy the furnishings when left alone. They are content to go about their usual activities until their owners return.\"; \n           List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n           int lastSpace = -1;\n           while (text.length() &gt; 0)\n           {\n               int spaceIndex = text.indexOf(' ', lastSpace + 1);\n               if (spaceIndex &lt; 0)\n                   spaceIndex = text.length();\n               String subString = text.substring(0, spaceIndex);\n               float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n               System.out.printf(\"'%s' - %f of %f\\n\", subString, size, width);\n               if (size &gt; width)\n               {\n                   if (lastSpace &lt; 0)\n                       lastSpace = spaceIndex;\n                   subString = text.substring(0, lastSpace);\n                   lines.add(subString);\n                   text = text.substring(lastSpace).trim();\n                   System.out.printf(\"'%s' is line\\n\", subString);\n                   lastSpace = -1;\n               }\n               else if (spaceIndex == text.length())\n               {\n                   lines.add(text);\n                   System.out.printf(\"'%s' is line\\n\", text);\n                   text = \"\";\n               }\n               else\n               {\n                   lastSpace = spaceIndex;\n               }\n           }\n\n           contentStream.beginText();\n           contentStream.setFont(pdfFont, fontSize);\n           contentStream.newLineAtOffset(startX, startY);\n           float currentY=startY;\n           for (String line: lines)\n           {\n               currentY -=leading;\n\n               if(currentY&lt;=margin)\n               {\n\n                   contentStream.endText(); \n                   contentStream.close();\n                   PDPage new_Page = new PDPage();\n                   doc.addPage(new_Page);\n                   contentStream = new PDPageContentStream(doc, new_Page);\n                   contentStream.beginText();\n                   contentStream.setFont(pdfFont, fontSize);\n                   contentStream.newLineAtOffset(startX, startY);\n                   currentY=startY;\n               }\n               contentStream.showText(line);\n               contentStream.newLineAtOffset(0, -leading);\n           }\n           contentStream.endText(); \n           contentStream.close();\n\n           doc.save(\"C:/Users/VINAYAK/Desktop/docccc/break-long-string.pdf\");\n       }\n       finally\n       {\n           if (doc != null)\n           {\n               doc.close();\n           }\n       }\n\n   }  \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mopfd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mopfd.png\" alt=\"Output\"></a></p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607813889,"creation_date":1607813889,"answer_id":65270709,"question_id":19635275,"body_markdown":"[Pdfbox-layout][1] abstracts out all the tedious details of managing the layout. As a complete Kotlin example, here is how to convert a text file to a pdf without worrying about line wrapping and pagination.\r\n\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font\r\n    import rst.pdfbox.layout.elements.Document\r\n    import rst.pdfbox.layout.elements.Paragraph\r\n    import java.io.File\r\n\r\n    fun main() {\r\n        val textFile = &quot;input.txt&quot;\r\n        val pdfFile = &quot;output.pdf&quot;\r\n        val font = PDType1Font.COURIER\r\n        val fontSize = 12f\r\n\r\n        val document = Document(40f, 50f, 40f, 60f)\r\n        val paragraph = Paragraph()\r\n        File(textFile).forEachLine {\r\n            paragraph.addText(&quot;$it\\n&quot;, fontSize, font)\r\n        }\r\n        document.add(paragraph)\r\n        document.save(File(pdfFile))\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ralfstuckert/pdfbox-layout","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p><a href=\"https://github.com/ralfstuckert/pdfbox-layout\" rel=\"nofollow noreferrer\">Pdfbox-layout</a> abstracts out all the tedious details of managing the layout. As a complete Kotlin example, here is how to convert a text file to a pdf without worrying about line wrapping and pagination.</p>\n<pre><code>import org.apache.pdfbox.pdmodel.font.PDType1Font\nimport rst.pdfbox.layout.elements.Document\nimport rst.pdfbox.layout.elements.Paragraph\nimport java.io.File\n\nfun main() {\n    val textFile = &quot;input.txt&quot;\n    val pdfFile = &quot;output.pdf&quot;\n    val font = PDType1Font.COURIER\n    val fontSize = 12f\n\n    val document = Document(40f, 50f, 40f, 60f)\n    val paragraph = Paragraph()\n    File(textFile).forEachLine {\n        paragraph.addText(&quot;$it\\n&quot;, fontSize, font)\n    }\n    document.add(paragraph)\n    document.save(File(pdfFile))\n}\n</code></pre>\n"}],"owner":{"account_id":3268206,"reputation":647,"user_id":2752226,"display_name":"Ronald James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62044,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":19683618,"answer_count":6,"score":47,"last_activity_date":1701812067,"creation_date":1382964643,"question_id":19635275,"body_markdown":"I am using Pdfbox to generate PDF files using Java. The problem is that when i add long text contents in the document, it is not displayed properly. Only a part of it is displayed. That too in a single line.\r\n\r\nI want text to be in multiple lines.\r\n\r\nMy code is given below:\r\n\r\n    PDPageContentStream pdfContent=new PDPageContentStream(pdfDocument, pdfPage, true, true);\r\n\r\n    pdfContent.beginText();\r\n    pdfContent.setFont(pdfFont, 11);\r\n    pdfContent.moveTextPositionByAmount(30,750);            \r\n    pdfContent.drawString(&quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;);\r\n    pdfContent.endText();\r\n\r\n    \r\nMy output:\r\n\r\n![This is my output file][1]\r\n\r\n  [1]: http://i.stack.imgur.com/1IePg.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>I am using Pdfbox to generate PDF files using Java. The problem is that when i add long text contents in the document, it is not displayed properly. Only a part of it is displayed. That too in a single line.</p>\n\n<p>I want text to be in multiple lines.</p>\n\n<p>My code is given below:</p>\n\n<pre><code>PDPageContentStream pdfContent=new PDPageContentStream(pdfDocument, pdfPage, true, true);\n\npdfContent.beginText();\npdfContent.setFont(pdfFont, 11);\npdfContent.moveTextPositionByAmount(30,750);            \npdfContent.drawString(\"I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox\");\npdfContent.endText();\n</code></pre>\n\n<p>My output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1IePg.png\" alt=\"This is my output file\"></p>\n"},{"tags":["java","spring","spring-boot","javabeans","spring-bean"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1701705859,"post_id":77600703,"comment_id":136805937,"body_markdown":"**key.enabled** is not a boolean; try with `@ConditionalOnProperty(name = &quot;key.enabled&quot;, havingValue =&quot;on&quot;, matchIfMissing = true)`","body":"<b>key.enabled</b> is not a boolean; try with <code>@ConditionalOnProperty(name = &quot;key.enabled&quot;, havingValue =&quot;on&quot;, matchIfMissing = true)</code>"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701738424,"post_id":77600703,"comment_id":136810538,"body_markdown":"I can see it loads both `TestConfig` and `NoConfig`. Tested it in my local. Can you push a sample code to GitHub, so that we can tell what&#39;s wrong","body":"I can see it loads both <code>TestConfig</code> and <code>NoConfig</code>. Tested it in my local. Can you push a sample code to GitHub, so that we can tell what&#39;s wrong"}],"answers":[{"tags":[],"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701811737,"creation_date":1701705444,"answer_id":77600838,"question_id":77600703,"body_markdown":"Bean `NoConfig` you have is always created when there is no bean `Config`. You can try to use `@TestConfiguration` to define beans needed for a particular test, or you can write a `BeanFactoryPostProcessor` to exclude unnecessary bean from initialisation\r\n\r\nOr try to add `havingValue` attribute in `@ConditionalOnProperty` annotation and change `key.enabled` attribute in yaml file to set the value of it to `true`","title":"Loading the right bean in the test profile in Spring boot","body":"<p>Bean <code>NoConfig</code> you have is always created when there is no bean <code>Config</code>. You can try to use <code>@TestConfiguration</code> to define beans needed for a particular test, or you can write a <code>BeanFactoryPostProcessor</code> to exclude unnecessary bean from initialisation</p>\n<p>Or try to add <code>havingValue</code> attribute in <code>@ConditionalOnProperty</code> annotation and change <code>key.enabled</code> attribute in yaml file to set the value of it to <code>true</code></p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701811737,"creation_date":1701704206,"question_id":77600703,"body_markdown":"My application.yaml has the following entries: \r\n\r\n    spring:\r\n      profiles:\r\n        active: test\r\n        include: h2, test\r\n    key:\r\n     enabled: on\r\n\r\n\r\nI have the following three bean definitions and would like to load the TestConfig bean in my tests. But it takes NoConfig Bean in the tests:\r\n\r\n\r\n        @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\r\n        @Profile(&quot;test&quot;)\r\n        public class TestConfig {}\r\n    \r\n        @ConditionalOnMissingBean(Config.class)\r\n        public class NoConfig {}\r\n    \r\n       @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\r\n       @Profile(&quot;!test&quot;)\r\n       public class Config{}\r\n\r\nI also check the active profile in the test, and it is indeed test profile. \r\n\r\n    @Value(&quot;${spring.profiles.active:Unknown}&quot;)\r\n    private String activeProfile;\r\n\r\n\r\n","title":"Loading the right bean in the test profile in Spring boot","body":"<p>My application.yaml has the following entries:</p>\n<pre><code>spring:\n  profiles:\n    active: test\n    include: h2, test\nkey:\n enabled: on\n</code></pre>\n<p>I have the following three bean definitions and would like to load the TestConfig bean in my tests. But it takes NoConfig Bean in the tests:</p>\n<pre><code>    @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\n    @Profile(&quot;test&quot;)\n    public class TestConfig {}\n\n    @ConditionalOnMissingBean(Config.class)\n    public class NoConfig {}\n\n   @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\n   @Profile(&quot;!test&quot;)\n   public class Config{}\n</code></pre>\n<p>I also check the active profile in the test, and it is indeed test profile.</p>\n<pre><code>@Value(&quot;${spring.profiles.active:Unknown}&quot;)\nprivate String activeProfile;\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","google-cloud-pubsub","google-cloud-run"],"comments":[{"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"score":0,"creation_date":1701774868,"post_id":77603512,"comment_id":136814668,"body_markdown":"This question is a little too general. You would need to detail certain things you have tried and issues you are having with them so that there is more focus.","body":"This question is a little too general. You would need to detail certain things you have tried and issues you are having with them so that there is more focus."},{"owner":{"account_id":3851330,"reputation":101,"user_id":3191449,"display_name":"user3191449"},"score":0,"creation_date":1701811489,"post_id":77603512,"comment_id":136821100,"body_markdown":"@KamalAboul-Hosn added a couple more paragraphs at the end describing what I&#39;m trying to do and what I&#39;ve seen and tried already.  does that make it less general?","body":"@KamalAboul-Hosn added a couple more paragraphs at the end describing what I&#39;m trying to do and what I&#39;ve seen and tried already.  does that make it less general?"}],"owner":{"account_id":3851330,"reputation":101,"user_id":3191449,"display_name":"user3191449"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701811444,"creation_date":1701743101,"question_id":77603512,"body_markdown":"A tutorial published by Google describes how to build a Chat services using WebSockets and Redis Pub/Sub: https://cloud.google.com/run/docs/tutorials/websockets\r\n\r\nThe tutorial uses Node.js with Redis Pub/Sub on the server side.  It also uses the socket.io redis adapter to ensure that emitted events are broadcast across all Cloud Run instances so that all connected WebSockets have a chance at processing the event regardless as to which server instance it is connected to.\r\n\r\nThe client and server code can then be written as if there is logically one cloud run service with access to all socket.io rooms.  The client can join a room and listen for events, and the server to emit events to any room it wants knowing that it will make it to all subscribers.\r\n\r\n\r\n\r\nHow would the same thing be achieved using a Spring Boot based service on cloud run, and Google&#39;s Pub/Sub as the Pub/Sub mechanism?  I&#39;m not so concerned about the storing of messages.  Rather, I&#39;m trying to figure out how to get events that are published to a topic to get broadcast to the correct WebSocket that is associated with some kind of room or conversation id.\r\n\r\nThe Redis Pub/Sub and Adapter solution seems to only be available in Node.js.  And I&#39;m not sure what it&#39;s doing under the hood to efficiently broadcast events to all instances of the service in order to ensure that it gets delivered to the right WebSocket.  My best guess is that it would involve a fanout mechanism in pub/sub along with some ConcurrentHashMaps to keep track of all the connected WebSockets.\r\n\r\nIf there are any open source libraries or tools that can simplify some of this that would be ideal.  I would work with STOMP potentially, however in my situation RabbitMQ is not available.  Only Google Pub/Sub.\r\n\r\nSurely there&#39;s a way to do the same thing this tutorial does but in Java with the same level of simplicity.\r\n\r\nSpecifically I want to allow each WebSocket connection to subscribe to a conversation.  Any time a producer publishes a message associated with that conversation, I want the subscribed WebSocketSessions to receive that message.\r\n\r\nWith STOMP, the front end could subscribe to /topic/conv12345 and producers could publish to it.  In the linked tutorial it used socket.io rooms.  I&#39;m trying to do it with Google Pub/Sub which is not a STOMP relay broker.","title":"WebSockets in Cloud Run, but with Spring","body":"<p>A tutorial published by Google describes how to build a Chat services using WebSockets and Redis Pub/Sub: <a href=\"https://cloud.google.com/run/docs/tutorials/websockets\" rel=\"nofollow noreferrer\">https://cloud.google.com/run/docs/tutorials/websockets</a></p>\n<p>The tutorial uses Node.js with Redis Pub/Sub on the server side.  It also uses the socket.io redis adapter to ensure that emitted events are broadcast across all Cloud Run instances so that all connected WebSockets have a chance at processing the event regardless as to which server instance it is connected to.</p>\n<p>The client and server code can then be written as if there is logically one cloud run service with access to all socket.io rooms.  The client can join a room and listen for events, and the server to emit events to any room it wants knowing that it will make it to all subscribers.</p>\n<p>How would the same thing be achieved using a Spring Boot based service on cloud run, and Google's Pub/Sub as the Pub/Sub mechanism?  I'm not so concerned about the storing of messages.  Rather, I'm trying to figure out how to get events that are published to a topic to get broadcast to the correct WebSocket that is associated with some kind of room or conversation id.</p>\n<p>The Redis Pub/Sub and Adapter solution seems to only be available in Node.js.  And I'm not sure what it's doing under the hood to efficiently broadcast events to all instances of the service in order to ensure that it gets delivered to the right WebSocket.  My best guess is that it would involve a fanout mechanism in pub/sub along with some ConcurrentHashMaps to keep track of all the connected WebSockets.</p>\n<p>If there are any open source libraries or tools that can simplify some of this that would be ideal.  I would work with STOMP potentially, however in my situation RabbitMQ is not available.  Only Google Pub/Sub.</p>\n<p>Surely there's a way to do the same thing this tutorial does but in Java with the same level of simplicity.</p>\n<p>Specifically I want to allow each WebSocket connection to subscribe to a conversation.  Any time a producer publishes a message associated with that conversation, I want the subscribed WebSocketSessions to receive that message.</p>\n<p>With STOMP, the front end could subscribe to /topic/conv12345 and producers could publish to it.  In the linked tutorial it used socket.io rooms.  I'm trying to do it with Google Pub/Sub which is not a STOMP relay broker.</p>\n"},{"tags":["java","jpa","jta"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1458358267,"post_id":36096092,"comment_id":59838907,"body_markdown":"Can you check in your entity class that you have imported  `javax.persistence.Entity` instead of `org.hibernate.annotations.Entity` and did you make JPA aware of this entity through mapping tag of `persistence.xml` or `component-scan` etc","body":"Can you check in your entity class that you have imported  <code>javax.persistence.Entity</code> instead of <code>org.hibernate.annotations.Entity</code> and did you make JPA aware of this entity through mapping tag of <code>persistence.xml</code> or <code>component-scan</code> etc"},{"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"score":0,"creation_date":1458388419,"post_id":36096092,"comment_id":59845702,"body_markdown":"So, I&#39;m using just `javax.persistence.Entity` into my project. I believe that this problem not happened for this reason. Now a new error happens after implements SqlResultSetMapping. Do you know if i need some special library?","body":"So, I&#39;m using just <code>javax.persistence.Entity</code> into my project. I believe that this problem not happened for this reason. Now a new error happens after implements SqlResultSetMapping. Do you know if i need some special library?"}],"answers":[{"tags":[],"owner":{"account_id":4151180,"reputation":880,"user_id":3403603,"display_name":"neal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458346273,"creation_date":1458346273,"answer_id":36096286,"question_id":36096092,"body_markdown":"if you want to return a native query&#39;s results to an object I would suggest using [SqlResultSetMapping][1].\r\n\r\nOtherwise, set your return type to:\r\n\r\n    List&lt;Object[]&gt; results = em.createNativeQuery(query)\r\n                    .setParameter(1, numeroCeps)\r\n                    .setParameter(2, numeroComplementoCeps)\r\n                    .getResultList();\r\n\r\n \r\nAnd then loop through the result list, and cast each member of the Object array to its data type.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>if you want to return a native query's results to an object I would suggest using <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow\">SqlResultSetMapping</a>.</p>\n\n<p>Otherwise, set your return type to:</p>\n\n<pre><code>List&lt;Object[]&gt; results = em.createNativeQuery(query)\n                .setParameter(1, numeroCeps)\n                .setParameter(2, numeroComplementoCeps)\n                .getResultList();\n</code></pre>\n\n<p>And then loop through the result list, and cast each member of the Object array to its data type.</p>\n"},{"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458346806,"creation_date":1458346806,"answer_id":36096359,"question_id":36096092,"body_markdown":" List&lt;**UnidadeTeste**&gt; lsita = new ArrayList&lt;**UnidadeTeste**&gt;();\r\n\r\nlsita = em.createNativeQuery(query, **Unidade**.class)\r\n\r\nThere is a type mismatch here. The exception is clear : Unknown entity: br.com.project.modelo.**UnidadeTeste**\r\n\r\nYour entity is Unidade and you must so return a `List&lt;Unidade&gt;` not `UnidadeTeste`.\r\n\r\nOtherwise try [SqlResultSetMapping][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>List&lt;<strong>UnidadeTeste</strong>> lsita = new ArrayList&lt;<strong>UnidadeTeste</strong>>();</p>\n\n<p>lsita = em.createNativeQuery(query, <strong>Unidade</strong>.class)</p>\n\n<p>There is a type mismatch here. The exception is clear : Unknown entity: br.com.project.modelo.<strong>UnidadeTeste</strong></p>\n\n<p>Your entity is Unidade and you must so return a <code>List&lt;Unidade&gt;</code> not <code>UnidadeTeste</code>.</p>\n\n<p>Otherwise try <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow\">SqlResultSetMapping</a></p>\n"},{"tags":[],"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487355390,"creation_date":1458398125,"answer_id":36103008,"question_id":36096092,"body_markdown":"My solution was:\r\n\r\nIn this topic:https://stackoverflow.com/questions/30595445/how-to-map-a-native-query-to-a-pojo-when-i-do-not-have-any-entity-on-my-project\r\nare describe exactly my problem. But even reading before, I could not understand a little detail, that solved my problem.\r\n\r\nEven creating a simple entity for receiver a result of my query, is necessary to map my class into persistence.xml. this was my mistake!\r\n\r\nSo, my project now:\r\n\r\npersistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;persistence-unit name=&quot;projetoAtividade&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    \t\t&lt;jta-data-source&gt;java:/projetoAtividade&lt;/jta-data-source&gt;\r\n    \t\t\r\n            //another classes\r\n\r\n    \t\t&lt;class&gt;br.com.project.modelo.UnidadeTeste&lt;/class&gt;\r\n\r\n            //properties of connection\r\n\r\nUnidadeTeste.class:\r\n\r\n    package br.com.project.modelo;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class UnidadeTeste {\r\n    \r\n    \t@Id\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String description;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    }\r\n\r\nEJB:\r\n\r\n\t\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void testeChamada(){\r\n    \t\tList&lt;UnidadeTeste&gt; lista = em.createNativeQuery(&quot;SELECT nu_idntr_pessoa AS id, email AS description FROM Pessoa&quot;, UnidadeTeste.class).getResultList();\r\n    \t\tSystem.out.println(&quot;===============&gt;&gt;&quot;+lista.size());\r\n    \t}\r\n    \t\r\nRemember that you need put aliases for column with the same name on attributes that you created in your class.","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>My solution was:</p>\n\n<p>In this topic:<a href=\"https://stackoverflow.com/questions/30595445/how-to-map-a-native-query-to-a-pojo-when-i-do-not-have-any-entity-on-my-project\">How to map a Native Query to a POJO, when I do not have any Entity on my project?</a>\nare describe exactly my problem. But even reading before, I could not understand a little detail, that solved my problem.</p>\n\n<p>Even creating a simple entity for receiver a result of my query, is necessary to map my class into persistence.xml. this was my mistake!</p>\n\n<p>So, my project now:</p>\n\n<p>persistence.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n    &lt;persistence-unit name=\"projetoAtividade\" transaction-type=\"JTA\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;jta-data-source&gt;java:/projetoAtividade&lt;/jta-data-source&gt;\n\n        //another classes\n\n        &lt;class&gt;br.com.project.modelo.UnidadeTeste&lt;/class&gt;\n\n        //properties of connection\n</code></pre>\n\n<p>UnidadeTeste.class:</p>\n\n<pre><code>package br.com.project.modelo;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class UnidadeTeste {\n\n    @Id\n    private Long id;\n\n    private String description;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n</code></pre>\n\n<p>EJB:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    public void testeChamada(){\n        List&lt;UnidadeTeste&gt; lista = em.createNativeQuery(\"SELECT nu_idntr_pessoa AS id, email AS description FROM Pessoa\", UnidadeTeste.class).getResultList();\n        System.out.println(\"===============&gt;&gt;\"+lista.size());\n    }\n</code></pre>\n\n<p>Remember that you need put aliases for column with the same name on attributes that you created in your class.</p>\n"},{"tags":[],"owner":{"account_id":2405897,"reputation":53,"user_id":2102394,"display_name":"Nerssi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701810925,"creation_date":1701810925,"answer_id":77609275,"question_id":36096092,"body_markdown":"You should define a SqlResultSetMapping annotation as well and refer to it in your named native query annotation:\r\n\r\n    @SqlResultSetMapping(\r\n            name = &quot;nameToReferTO&quot;,\r\n            classes = @ConstructorResult(targetClass = X.class,\r\n                    columns = {@ColumnResult(name = &quot;A&quot;), @ColumnResult(name = &quot;B&quot;)})\r\n    )","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>You should define a SqlResultSetMapping annotation as well and refer to it in your named native query annotation:</p>\n<pre><code>@SqlResultSetMapping(\n        name = &quot;nameToReferTO&quot;,\n        classes = @ConstructorResult(targetClass = X.class,\n                columns = {@ColumnResult(name = &quot;A&quot;), @ColumnResult(name = &quot;B&quot;)})\n)\n</code></pre>\n"}],"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14057,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36096286,"answer_count":4,"score":1,"last_activity_date":1701810925,"creation_date":1458344818,"question_id":36096092,"body_markdown":"Due the complexity of my dataBase, i decided create a new Object where I specifying just the parameters that I will to use. To do custom query I&#39;m using createNativeQuery in JPA. Following my Object.\r\n\r\nPOJO:\r\n\r\n    @Entity\r\n    public class Unidade implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \r\n    \tprivate Long numeroUnidade;\r\n    \tprivate String nomeUnidade;\r\n    \tprivate Integer numeroCep;\r\n    \tprivate Integer numeroCepComplemento;\r\n    \tprivate String tipoServico;\r\n    \tprivate Integer status;\r\n    \tprivate String logradouro;\r\n    \tprivate String bairro;\r\n    \tprivate String cidade;\r\n    \tprivate String uf;\r\n    \tprivate Integer statusVinculo; \r\n    \r\n       //getter and setters\r\n\r\nCurrently I&#39;m using the following select to return the simple integer and works without show any problem. \r\n\r\n    @PersistenceContext(unitName=&quot;projetoAtividade&quot;)\r\n    private EntityManager em;\r\n    \r\n    public void selectTeste(){\r\n    \t\tint quantidade = (Integer) em.createNativeQuery(&quot;select count(*) from abc.nattbu29_escritorio;&quot;).getSingleResult();\r\n    \t\tSystem.out.println(&quot;========== QUANTIDADE DE REGISTRO NA TABELA ===========&quot;);\r\n    \t\tSystem.out.println(quantidade);\r\n    \t}\r\n\r\nAlthough the previous query worked fine, when a submit a complex query putting the respective alias, using too createNativeQuery and putting the object return, the hibernate throw a exception (org.hibernate.MappingException: Unknown).\r\n\r\nRemembering that I create a new class putting @Entity specifying.\r\n\r\nQuery:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n        \tpublic List&lt;UnidadeTeste&gt; buscarUnidadeGenerica(int numeroCeps, int numeroComplementoCeps){\r\n        \t\tList&lt;UnidadeTeste&gt; lsita = new ArrayList&lt;UnidadeTeste&gt;();\r\n        \t\tString query = &quot;SELECT &quot;\r\n        \t\t\t\t+&quot;TBZ21.NATURAL as numeroPv, &quot;\r\n        \t\t\t\t+&quot;TBZ21.UNIDADE as nomePv, &quot;\r\n        \t\t\t\t+&quot;TBZ21.SITUACAO as statusVinculacao, &quot;\r\n        \t\t\t\t+&quot;TBJ55.TPO_ATUACAO_U44 as tipoServAZW, &quot;\r\n        \t\t\t\t+&quot;TBJ55.SITUACAO_ATUAL as status, &quot;\r\n        \t\t\t\t+&quot;TBH18.LOCALIDADE as cidade, &quot;\r\n        \t\t\t\t+&quot;&#39;&#39; as bairro, &quot;\r\n        \t\t\t\t+&quot;&#39;&#39; as logradouro, &quot;\r\n        \t\t\t\t+&quot;TBH18.CEP as numeroCep, &quot;\r\n        \t\t\t\t+&quot;TBH18.CEP_COMPLEMENTO as numeroCepComplemento, &quot;\r\n        \t\t\t\t+&quot;TBH18.FK_AZWVWL22_UNISG as uf &quot;\r\n        \t\t\t\t+&quot;FROM AZW.AZWTBJ55_RGATUACAO TBJ55 &quot;\r\n        \t\t\t\t+&quot;LEFT JOIN AZW.AZWTBH18_LOCALIDADE TBH18 ON &quot;\r\n        \t\t\t\t+&quot;TBH18.LOCALIDADEE = TBJ55.LOCALIDADEE &quot;\r\n        \t\t\t\t+&quot;LEFT JOIN AZW.AZWTBZ21_UNIDADE TBZ21 ON &quot;\r\n        \t\t\t\t+&quot;TBJ55.NATURAL = TBZ21.NATURAL &quot;\r\n        \t\t\t\t+&quot;WHERE TBH18.CEP = ?1 &quot;\r\n        \t\t\t\t\t+&quot;AND TBH18.CEP_COMPLEMENTO = ?2; &quot;\r\n        \t\t\r\n        \t\tlsita = em.createNativeQuery(query, Unidade.class)\r\n        \t\t\t\t.setParameter(1, numeroCeps)\r\n        \t\t\t\t.setParameter(2, numeroComplementoCeps)\r\n        \t\t\t\t.getResultList();\r\n        \t\tSystem.out.println(lsita.size()+&quot;&lt;&lt;&lt;&lt;=====================&quot;);\r\n        \t\treturn lsita;\r\n        \t}\r\n\r\nError:\r\n\r\n    Caused by: org.hibernate.MappingException: Unknown entity: br.com.project.modelo.UnidadeTeste\r\n    \tat org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:1031) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.getSQLLoadable(SQLQueryReturnProcessor.java:336) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processRootReturn(SQLQueryReturnProcessor.java:377) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processReturn(SQLQueryReturnProcessor.java:356) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.process(SQLQueryReturnProcessor.java:172) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLCustomQuery.&lt;init&gt;(SQLCustomQuery.java:87) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.query.spi.NativeSQLQueryPlan.&lt;init&gt;(NativeSQLQueryPlan.java:67) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getNativeSQLQueryPlan(QueryPlanCache.java:155) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.getNativeSQLQueryPlan(AbstractSessionImpl.java:218) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:224) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:156) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:252) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 84 more\r\nIn my search through the internet, almost all forum topics was unanimous in the solution answer: &quot; Put the @Entity before class declaration&quot; but, it not works to me.\r\n\r\nI had &quot;spent&quot; all my day trying looking for a solutions worked but, unfortunately, \r\nI not had successes. Someone can say a new way to solve my problem?\r\nI tested in 2 different project and hapens the same problem.\r\n\r\n\r\n**Question complement:**\r\n\r\nFolks, I tried create a @SqlResultSetMapping into my class, the coding following, but now, the hibernate trows the another exception:\r\n\r\n     ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8888-2) JBAS014134: EJB Invocation failed on component AtividadeEJB for method public void br.com.project.jboss.modelo.AtividadeEJB.testeChamada(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.MappingException: Unknown SqlResultSetMapping [UnidadeResult]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:166) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:230) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\r\nMy new POJO:\r\n\r\n\r\n    @Entity\r\n    @SqlResultSetMapping(name=&quot;UnidadeResult&quot;, \r\n    entities={ \r\n        @EntityResult(entityClass=UnidadeTeste.class, fields={\r\n            @FieldResult(name=&quot;tx_descricao&quot;, column=&quot;nomePv&quot;),\r\n            @FieldResult(name=&quot;nu_idntr_pessoa&quot;, column=&quot;id&quot;)})},\r\n    columns={\r\n        @ColumnResult(name=&quot;nomePv&quot;)}\r\n    )\r\n    \r\n    \r\n    public class UnidadeTeste implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \t\r\n    \tprivate String nomePv;\r\n    \r\n    \tpublic String getNomePv() {\r\n    \t\treturn nomePv;\r\n    \t}\r\n    \r\n    \tpublic void setNomePv(String nomePv) {\r\n    \t\tthis.nomePv = nomePv;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\nMy EJB:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void testeChamada(){\r\n    \t\tList&lt;Object&gt; lista = em.createNativeQuery(&quot;SELECT nu_idntr_pessoa as id, email as nomePv FROM pessoa;&quot;, &quot;UnidadeResult&quot;).getResultList();\r\n    \t\tSystem.out.println(&quot;===============&gt;&gt;&quot;+lista.size());\r\n    \t}\r\n        \t","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>Due the complexity of my dataBase, i decided create a new Object where I specifying just the parameters that I will to use. To do custom query I'm using createNativeQuery in JPA. Following my Object.</p>\n\n<p>POJO:</p>\n\n<pre><code>@Entity\npublic class Unidade implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n\n    private Long numeroUnidade;\n    private String nomeUnidade;\n    private Integer numeroCep;\n    private Integer numeroCepComplemento;\n    private String tipoServico;\n    private Integer status;\n    private String logradouro;\n    private String bairro;\n    private String cidade;\n    private String uf;\n    private Integer statusVinculo; \n\n   //getter and setters\n</code></pre>\n\n<p>Currently I'm using the following select to return the simple integer and works without show any problem. </p>\n\n<pre><code>@PersistenceContext(unitName=\"projetoAtividade\")\nprivate EntityManager em;\n\npublic void selectTeste(){\n        int quantidade = (Integer) em.createNativeQuery(\"select count(*) from abc.nattbu29_escritorio;\").getSingleResult();\n        System.out.println(\"========== QUANTIDADE DE REGISTRO NA TABELA ===========\");\n        System.out.println(quantidade);\n    }\n</code></pre>\n\n<p>Although the previous query worked fine, when a submit a complex query putting the respective alias, using too createNativeQuery and putting the object return, the hibernate throw a exception (org.hibernate.MappingException: Unknown).</p>\n\n<p>Remembering that I create a new class putting @Entity specifying.</p>\n\n<p>Query:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n        public List&lt;UnidadeTeste&gt; buscarUnidadeGenerica(int numeroCeps, int numeroComplementoCeps){\n            List&lt;UnidadeTeste&gt; lsita = new ArrayList&lt;UnidadeTeste&gt;();\n            String query = \"SELECT \"\n                    +\"TBZ21.NATURAL as numeroPv, \"\n                    +\"TBZ21.UNIDADE as nomePv, \"\n                    +\"TBZ21.SITUACAO as statusVinculacao, \"\n                    +\"TBJ55.TPO_ATUACAO_U44 as tipoServAZW, \"\n                    +\"TBJ55.SITUACAO_ATUAL as status, \"\n                    +\"TBH18.LOCALIDADE as cidade, \"\n                    +\"'' as bairro, \"\n                    +\"'' as logradouro, \"\n                    +\"TBH18.CEP as numeroCep, \"\n                    +\"TBH18.CEP_COMPLEMENTO as numeroCepComplemento, \"\n                    +\"TBH18.FK_AZWVWL22_UNISG as uf \"\n                    +\"FROM AZW.AZWTBJ55_RGATUACAO TBJ55 \"\n                    +\"LEFT JOIN AZW.AZWTBH18_LOCALIDADE TBH18 ON \"\n                    +\"TBH18.LOCALIDADEE = TBJ55.LOCALIDADEE \"\n                    +\"LEFT JOIN AZW.AZWTBZ21_UNIDADE TBZ21 ON \"\n                    +\"TBJ55.NATURAL = TBZ21.NATURAL \"\n                    +\"WHERE TBH18.CEP = ?1 \"\n                        +\"AND TBH18.CEP_COMPLEMENTO = ?2; \"\n\n            lsita = em.createNativeQuery(query, Unidade.class)\n                    .setParameter(1, numeroCeps)\n                    .setParameter(2, numeroComplementoCeps)\n                    .getResultList();\n            System.out.println(lsita.size()+\"&lt;&lt;&lt;&lt;=====================\");\n            return lsita;\n        }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Unknown entity: br.com.project.modelo.UnidadeTeste\n    at org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:1031) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.getSQLLoadable(SQLQueryReturnProcessor.java:336) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processRootReturn(SQLQueryReturnProcessor.java:377) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processReturn(SQLQueryReturnProcessor.java:356) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.process(SQLQueryReturnProcessor.java:172) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLCustomQuery.&lt;init&gt;(SQLCustomQuery.java:87) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.query.spi.NativeSQLQueryPlan.&lt;init&gt;(NativeSQLQueryPlan.java:67) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getNativeSQLQueryPlan(QueryPlanCache.java:155) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl.getNativeSQLQueryPlan(AbstractSessionImpl.java:218) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:224) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:156) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:252) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    ... 84 more\n</code></pre>\n\n<p>In my search through the internet, almost all forum topics was unanimous in the solution answer: \" Put the @Entity before class declaration\" but, it not works to me.</p>\n\n<p>I had \"spent\" all my day trying looking for a solutions worked but, unfortunately, \nI not had successes. Someone can say a new way to solve my problem?\nI tested in 2 different project and hapens the same problem.</p>\n\n<p><strong>Question complement:</strong></p>\n\n<p>Folks, I tried create a @SqlResultSetMapping into my class, the coding following, but now, the hibernate trows the another exception:</p>\n\n<pre><code> ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8888-2) JBAS014134: EJB Invocation failed on component AtividadeEJB for method public void br.com.project.jboss.modelo.AtividadeEJB.testeChamada(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.MappingException: Unknown SqlResultSetMapping [UnidadeResult]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:166) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:230) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n</code></pre>\n\n<p>My new POJO:</p>\n\n<pre><code>@Entity\n@SqlResultSetMapping(name=\"UnidadeResult\", \nentities={ \n    @EntityResult(entityClass=UnidadeTeste.class, fields={\n        @FieldResult(name=\"tx_descricao\", column=\"nomePv\"),\n        @FieldResult(name=\"nu_idntr_pessoa\", column=\"id\")})},\ncolumns={\n    @ColumnResult(name=\"nomePv\")}\n)\n\n\npublic class UnidadeTeste implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String nomePv;\n\n    public String getNomePv() {\n        return nomePv;\n    }\n\n    public void setNomePv(String nomePv) {\n        this.nomePv = nomePv;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n</code></pre>\n\n<p>My EJB:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    public void testeChamada(){\n        List&lt;Object&gt; lista = em.createNativeQuery(\"SELECT nu_idntr_pessoa as id, email as nomePv FROM pessoa;\", \"UnidadeResult\").getResultList();\n        System.out.println(\"===============&gt;&gt;\"+lista.size());\n    }\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701757783,"post_id":77604135,"comment_id":136812075,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":17624374,"reputation":1,"user_id":12789666,"display_name":"ntchmbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701809640,"creation_date":1701757520,"answer_id":77604185,"question_id":77604135,"body_markdown":"I figured out a simple solution for this issue. We needd to put next line on finish in custom testng listener.\r\n\r\n\r\n    public class TestNGListener implements ITestListener {\r\n\r\n    @Override\r\n    public void onFinish(ITestContext context) {\r\n        //This line is necessary to indent properly the online cucumber report outputs\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n       }\r\n    }\r\n\r\n\r\n[Solution for console output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHuo0.png","title":"Online Cucumber Report Console Output In The Same Line","body":"<p>I figured out a simple solution for this issue. We needd to put next line on finish in custom testng listener.</p>\n<pre><code>public class TestNGListener implements ITestListener {\n\n@Override\npublic void onFinish(ITestContext context) {\n    //This line is necessary to indent properly the online cucumber report outputs\n    System.out.println(&quot;\\n\\n&quot;);\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bHuo0.png\" rel=\"nofollow noreferrer\">Solution for console output</a></p>\n"}],"owner":{"account_id":17624374,"reputation":1,"user_id":12789666,"display_name":"ntchmbr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701809725,"creation_date":1701756572,"question_id":77604135,"body_markdown":"This is a selenium java project,and using Intellij Idea to run the test automation scenarios. It generates online cucumber report at the end. But as you can see in the image, unfortunately, it combines apache maven console logs and cucumber report. Where can i manipulate the console outputs to put some space?\r\n\r\n[cucumber report console output][1]\r\n\r\nThe first thing comes to my mind is Apache surefire plugin which provides loggs. I was thiking to customize a logger class and when i detect the report i can put some space between them. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZTHN.jpg","title":"Online Cucumber Report Console Output In The Same Line","body":"<p>This is a selenium java project,and using Intellij Idea to run the test automation scenarios. It generates online cucumber report at the end. But as you can see in the image, unfortunately, it combines apache maven console logs and cucumber report. Where can i manipulate the console outputs to put some space?</p>\n<p><a href=\"https://i.stack.imgur.com/5ZTHN.jpg\" rel=\"nofollow noreferrer\">cucumber report console output</a></p>\n<p>The first thing comes to my mind is Apache surefire plugin which provides loggs. I was thiking to customize a logger class and when i detect the report i can put some space between them.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"score":0,"creation_date":1701804138,"post_id":77608749,"comment_id":136820046,"body_markdown":"Are your `age*` variables integers and you want to store the count of each age of your objects?","body":"Are your <code>age*</code> variables integers and you want to store the count of each age of your objects?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":4,"creation_date":1701804724,"post_id":77608749,"comment_id":136820133,"body_markdown":"what should be assigned to the variables? The last found object with the corresponding age? The age? A list of objects with the respective object? The count of objects with that age? ... ? Maybe better show what you meant by showing how you would do it with single `for` loop (and why Java 8 Stream?)","body":"what should be assigned to the variables? The last found object with the corresponding age? The age? A list of objects with the respective object? The count of objects with that age? ... ? Maybe better show what you meant by showing how you would do it with single <code>for</code> loop (and why Java 8 Stream?)"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701807625,"post_id":77608749,"comment_id":136820540,"body_markdown":"Could you put the example of the object? 1) It isn&#39;t clear - or you have a single variable &quot;age&quot;, or you have different variables &quot;age8, age16,....&quot;. 2) I do not understand what is contained in the List? Your objects? It seems you write about object fields - so this is very confusing. So: put the example of your object, the List creation, expected result","body":"Could you put the example of the object? 1) It isn&#39;t clear - or you have a single variable &quot;age&quot;, or you have different variables &quot;age8, age16,....&quot;. 2) I do not understand what is contained in the List? Your objects? It seems you write about object fields - so this is very confusing. So: put the example of your object, the List creation, expected result"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701810120,"post_id":77608749,"comment_id":136820908,"body_markdown":"Please show example input and expected output, then vote to reopen.","body":"Please show example input and expected output, then vote to reopen."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701809647,"creation_date":1701808015,"answer_id":77609067,"question_id":77608749,"body_markdown":"If I am to take you literally, you want to assign the of the age to it&#39;s properly named field.  To do this in streams without explicit conditionals to match the age to the field, you could use reflection.\r\n\r\n- first, declare some objects in a list.\r\n- then stream the objects and construct the field and assign the value to that field.\r\n\r\nThe following example prints\r\n```\r\nage8 = 8\r\nage10 = 10\r\nage12 = 12\r\n```\r\nThe Method\r\n```\r\npublic class ToFields {\r\n\r\n    int age8;\r\n    int age10;\r\n    int age12;\r\n    public static void main(String[] args) {\r\n        new ToFields().start();\r\n    }\r\n    public void start() {\r\n        List&lt;MyObject&gt; list = Arrays.asList(new MyObject(8),new \r\n                           MyObject(10), new MyObject(12));\r\n        list.stream()\r\n          .forEach(obj-&gt;{\r\n             try {           \r\n                  this.getClass().getDeclaredField(&quot;age&quot;+obj.getAge())\r\n                 .set(this, obj.getAge()); \r\n             } catch(Exception e) {\r\n                  e.printStackTrace();\r\n             }\r\n           });\r\n     System.out.println(&quot;age8 = &quot; + age8);\r\n     System.out.println(&quot;age10 = &quot; + age10);\r\n     System.out.println(&quot;age12 = &quot; + age12);\r\n    }\r\n}\r\n\r\nclass MyObject {\r\n  int age;\r\n  public MyObject(int age) {\r\n      this.age = age;\r\n  }\r\n  public int getAge() {\r\n      return age;\r\n  }\r\n  \r\n}\r\n```\r\nHowever, imo, this is fraught with problems and not a very good design.  I would recommend you simply stream them and store in a map where the keys are dynamically constructed as above and assigned the accompanying value.\r\n\r\nHere is how that would look.\r\n\r\n- The first arg to `toMap` is the `key`\r\n- The second is the `value`.\r\n- `(a,b)-&gt;a` - is the combiner.  In this case it avoids throwing a duplicate key exception by simply keeping the first one stored in the map.\r\n```\r\nMap&lt;String, Integer&gt; result = list.stream()\r\n        .collect(Collectors.toMap(obj -&gt; &quot;age&quot; + obj.getAge(),\r\n                                           MyObject::getAge,\r\n                                           (a,b)-&gt;a));\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nage8=8\r\nage12=12\r\nage10=10\r\n\r\n","title":"Java 8 stream to do assignments with 3 different predicates","body":"<p>If I am to take you literally, you want to assign the of the age to it's properly named field.  To do this in streams without explicit conditionals to match the age to the field, you could use reflection.</p>\n<ul>\n<li>first, declare some objects in a list.</li>\n<li>then stream the objects and construct the field and assign the value to that field.</li>\n</ul>\n<p>The following example prints</p>\n<pre><code>age8 = 8\nage10 = 10\nage12 = 12\n</code></pre>\n<p>The Method</p>\n<pre><code>public class ToFields {\n\n    int age8;\n    int age10;\n    int age12;\n    public static void main(String[] args) {\n        new ToFields().start();\n    }\n    public void start() {\n        List&lt;MyObject&gt; list = Arrays.asList(new MyObject(8),new \n                           MyObject(10), new MyObject(12));\n        list.stream()\n          .forEach(obj-&gt;{\n             try {           \n                  this.getClass().getDeclaredField(&quot;age&quot;+obj.getAge())\n                 .set(this, obj.getAge()); \n             } catch(Exception e) {\n                  e.printStackTrace();\n             }\n           });\n     System.out.println(&quot;age8 = &quot; + age8);\n     System.out.println(&quot;age10 = &quot; + age10);\n     System.out.println(&quot;age12 = &quot; + age12);\n    }\n}\n\nclass MyObject {\n  int age;\n  public MyObject(int age) {\n      this.age = age;\n  }\n  public int getAge() {\n      return age;\n  }\n  \n}\n</code></pre>\n<p>However, imo, this is fraught with problems and not a very good design.  I would recommend you simply stream them and store in a map where the keys are dynamically constructed as above and assigned the accompanying value.</p>\n<p>Here is how that would look.</p>\n<ul>\n<li>The first arg to <code>toMap</code> is the <code>key</code></li>\n<li>The second is the <code>value</code>.</li>\n<li><code>(a,b)-&gt;a</code> - is the combiner.  In this case it avoids throwing a duplicate key exception by simply keeping the first one stored in the map.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; result = list.stream()\n        .collect(Collectors.toMap(obj -&gt; &quot;age&quot; + obj.getAge(),\n                                           MyObject::getAge,\n                                           (a,b)-&gt;a));\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>age8=8\nage12=12\nage10=10\n\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701810128,"answer_count":1,"score":-4,"last_activity_date":1701809647,"creation_date":1701803764,"question_id":77608749,"body_markdown":"Say I have a List of Java 8 objects of a type. And the object has a field age.\r\nI want to find a Java 8/stream way of saying that if age is 12, assign to variable age12, if age is 8 assign to age8 and if age is 10 assign to age10 all in a single pass.\r\nI know I can have 3 variables and do a single for loop and achieve it. \r\nHow can I do this with streams?","title":"Java 8 stream to do assignments with 3 different predicates","body":"<p>Say I have a List of Java 8 objects of a type. And the object has a field age.\nI want to find a Java 8/stream way of saying that if age is 12, assign to variable age12, if age is 8 assign to age8 and if age is 10 assign to age10 all in a single pass.\nI know I can have 3 variables and do a single for loop and achieve it.\nHow can I do this with streams?</p>\n"},{"tags":["java","mongodb","spring-boot","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":3631143,"reputation":55353,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1701710007,"post_id":77601266,"comment_id":136806785,"body_markdown":"MongoDB has no http interface. What do you try to do?","body":"MongoDB has no http interface. What do you try to do?"},{"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"score":0,"creation_date":1701711136,"post_id":77601266,"comment_id":136806975,"body_markdown":"I have a vm instance in oracle cloud  which running a mongodb. However, my subnet is a private subnet. So my requirement is I need to access this mongodb instance via internet (outside from the cloud). Only solution is oci loadbalncer. which is already configured.","body":"I have a vm instance in oracle cloud  which running a mongodb. However, my subnet is a private subnet. So my requirement is I need to access this mongodb instance via internet (outside from the cloud). Only solution is oci loadbalncer. which is already configured."},{"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"score":0,"creation_date":1701711223,"post_id":77601266,"comment_id":136806992,"body_markdown":"This the details error in spring boot com.mongodb.MongoInternalException: The reply message length 1347703880 is greater than the maximum message length 33554432\n\tat com.mongodb.internal.connection.MessageHeader.&lt;init&gt;(MessageHeader.java:41) ~[mongodb-driver-core-4.1.1.jar:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:651) ~[mongodb-driver-core-4.1.1.jar:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:513) ~[mongodb-driver-core-4.1.1.jar","body":"This the details error in spring boot com.mongodb.MongoInternalException: The reply message length 1347703880 is greater than the maximum message length 33554432 \tat com.mongodb.internal.connection.MessageHeader.&lt;init&gt;(Message&zwnj;&#8203;Header.java:41) ~[mongodb-driver-core-4.1.1.jar:?] \tat com.mongodb.internal.connection.InternalStreamConnection.rec&zwnj;&#8203;eiveResponseBuffers(&zwnj;&#8203;InternalStreamConnec&zwnj;&#8203;tion.java:651) ~[mongodb-driver-core-4.1.1.jar:?] \tat com.mongodb.internal.connection.InternalStreamConnection.rec&zwnj;&#8203;eiveMessageWithAddit&zwnj;&#8203;ionalTimeout(Interna&zwnj;&#8203;lStreamConnection.ja&zwnj;&#8203;va:513) ~[mongodb-driver-core-4.1.1.jar"}],"answers":[{"tags":[],"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701807714,"creation_date":1701807714,"answer_id":77609047,"question_id":77601266,"body_markdown":"You cannot use `telnet` or `curl` or tools of that kind to connect to *and actually interact with* MongoDB.  The default port 27017 on which `mongod` is listening requires a connection from one of the 20 or so supported client-side drivers (java, javascript, C, python, etc. etc.)   `telnet` connect works but the moment you try to pass traffic through the connection you will get the native connection error.","title":"Mongodb &quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot;","body":"<p>You cannot use <code>telnet</code> or <code>curl</code> or tools of that kind to connect to <em>and actually interact with</em> MongoDB.  The default port 27017 on which <code>mongod</code> is listening requires a connection from one of the 20 or so supported client-side drivers (java, javascript, C, python, etc. etc.)   <code>telnet</code> connect works but the moment you try to pass traffic through the connection you will get the native connection error.</p>\n"}],"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701807714,"creation_date":1701709491,"question_id":77601266,"body_markdown":"\r\nInstance hosted in oracle private subnet configured via loadbalancer , when access from out side it from loadbalncer public IP  gives this error.\r\n```\r\n&quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot; \r\n```\r\nTechnology springboot , oracle cloud, mongodb 7\r\n\r\n\r\n\r\nTelnet via 27017 working\r\n","title":"Mongodb &quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot;","body":"<p>Instance hosted in oracle private subnet configured via loadbalancer , when access from out side it from loadbalncer public IP  gives this error.</p>\n<pre><code>&quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot; \n</code></pre>\n<p>Technology springboot , oracle cloud, mongodb 7</p>\n<p>Telnet via 27017 working</p>\n"},{"tags":["java","timefold"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701807542,"creation_date":1701807542,"answer_id":77609037,"question_id":77608674,"body_markdown":"Currently, `ProblemChangeDirector` does not support lookup by id. What you can do is create an &quot;empty&quot; entity that only has its planning id set and use that to lookup the entity:\r\n\r\n```java\r\nMyEntity lookupEntity = new MyEntity(id);\r\nproblemChangeDirector.removeEntity(lookupEntity, workingSolution.getMyEntityList()::remove);\r\n```","title":"ScoreDirector problem change entity lookup","body":"<p>Currently, <code>ProblemChangeDirector</code> does not support lookup by id. What you can do is create an &quot;empty&quot; entity that only has its planning id set and use that to lookup the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyEntity lookupEntity = new MyEntity(id);\nproblemChangeDirector.removeEntity(lookupEntity, workingSolution.getMyEntityList()::remove);\n</code></pre>\n"}],"owner":{"account_id":3689370,"reputation":2805,"user_id":3072366,"accept_rate":59,"display_name":"Pezetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77609037,"answer_count":1,"score":-1,"last_activity_date":1701807542,"creation_date":1701802838,"question_id":77608674,"body_markdown":"I can investigate this myself, but figured i&#39;d put the question out there in case anyone else stumbles across this.\r\n\r\nI would like to be able to &quot;remove&quot; a planning entity via a `ProblemChange`. I was hoping to be able to do this by planning ID. Does `ProblemChangeDirector.lookUpWorkingObjec`t support lookup by ID, or must the entire entity be passed? ","title":"ScoreDirector problem change entity lookup","body":"<p>I can investigate this myself, but figured i'd put the question out there in case anyone else stumbles across this.</p>\n<p>I would like to be able to &quot;remove&quot; a planning entity via a <code>ProblemChange</code>. I was hoping to be able to do this by planning ID. Does <code>ProblemChangeDirector.lookUpWorkingObjec</code>t support lookup by ID, or must the entire entity be passed?</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":460910,"reputation":899,"user_id":862292,"display_name":"Guno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701807238,"creation_date":1701807238,"answer_id":77609015,"question_id":77607941,"body_markdown":"Your first dependency declaration already should add the jar to the class path.\r\nYou don&#39;t need the second dependency, which it is not able to resolve, as it will look for that in the repositories you defined, not in the filetree.\r\n\r\nSo, just this should do it:\r\n\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;lib&#39;, include: [&#39;*.jar&#39;])\r\n    }","title":"Why spring boot .gradle project not support the external .jar files?","body":"<p>Your first dependency declaration already should add the jar to the class path.\nYou don't need the second dependency, which it is not able to resolve, as it will look for that in the repositories you defined, not in the filetree.</p>\n<p>So, just this should do it:</p>\n<pre><code>dependencies {\n    compile fileTree(dir: 'lib', include: ['*.jar'])\n}\n</code></pre>\n"}],"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701807238,"creation_date":1701795262,"question_id":77607941,"body_markdown":"I have build gradle spring boot project with add external .jar with lib folder.but it was not building properly.\r\n\r\n**gradle.build**\r\n\r\n    dependencies {\r\n    \tcompile fileTree(dir: &#39;lib&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n    \tcompile group: &#39;rezg.rezos&#39;, name: &#39;rezg-data-publisher&#39;, version: &#39;1.0.0-SNAPSHOT&#39;\r\n    }\r\n**This is the jar path of project folder,**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpPLS.png\r\n\r\nBut project building time getting this error,\r\n\r\n    Could not resolve all dependencies for configuration &#39;:compileClasspath&#39;.\r\n    &gt; Could not find rezg.rezos:rezg-data-publisher:1.0.0-SNAPSHOT.\r\n      Required by:\r\n          project :\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n**What are the best possible options to resolve this issue?**","title":"Why spring boot .gradle project not support the external .jar files?","body":"<p>I have build gradle spring boot project with add external .jar with lib folder.but it was not building properly.</p>\n<p><strong>gradle.build</strong></p>\n<pre><code>dependencies {\n    compile fileTree(dir: 'lib', include: ['*.jar'])\n\n    compile group: 'rezg.rezos', name: 'rezg-data-publisher', version: '1.0.0-SNAPSHOT'\n}\n</code></pre>\n<p><strong>This is the jar path of project folder,</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bpPLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpPLS.png\" alt=\"enter image description here\" /></a></p>\n<p>But project building time getting this error,</p>\n<pre><code>Could not resolve all dependencies for configuration ':compileClasspath'.\n&gt; Could not find rezg.rezos:rezg-data-publisher:1.0.0-SNAPSHOT.\n  Required by:\n      project :\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p><strong>What are the best possible options to resolve this issue?</strong></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1701814296,"post_id":77609011,"comment_id":136821520,"body_markdown":"Why you don&#39;t want to use streaming? This seems a perfect use case for streaming if it is supported.","body":"Why you don&#39;t want to use streaming? This seems a perfect use case for streaming if it is supported."},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701823348,"post_id":77609011,"comment_id":136822505,"body_markdown":"@aled streaming has some limitations and usually comes with some caveats. IMO a 60mb file shouldn&#39;t need special handling given how small that is by today&#39;s standards","body":"@aled streaming has some limitations and usually comes with some caveats. IMO a 60mb file shouldn&#39;t need special handling given how small that is by today&#39;s standards"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1701824484,"post_id":77609011,"comment_id":136822607,"body_markdown":"The size of the file and the memory needed to process it are two different things as you are noticing. Also the input file may be compressed.","body":"The size of the file and the memory needed to process it are two different things as you are noticing. Also the input file may be compressed."},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701831134,"post_id":77609011,"comment_id":136823090,"body_markdown":"The input file is not compressed, it&#39;s a pure ~60mb file. There&#39;s no reason it should take over 7gb of memory","body":"The input file is not compressed, it&#39;s a pure ~60mb file. There&#39;s no reason it should take over 7gb of memory"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1701841405,"post_id":77609011,"comment_id":136823834,"body_markdown":"&quot;The input file is not compressed&quot;: Of course it is. A `*.xlsx` file is in Office Open XML format. That is a ZIP archive containing XML files an other files in a special directory structure. &quot;There&#39;s no reason it should take...&quot;: The ZIP needs to be unpacked. The XML needs to be interpreted. Relations need to be followed and after that probably other XML needs to be interpreted for each relation ...","body":"&quot;The input file is not compressed&quot;: Of course it is. A <code>*.xlsx</code> file is in Office Open XML format. That is a ZIP archive containing XML files an other files in a special directory structure. &quot;There&#39;s no reason it should take...&quot;: The ZIP needs to be unpacked. The XML needs to be interpreted. Relations need to be followed and after that probably other XML needs to be interpreted for each relation ..."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1701841886,"post_id":77609011,"comment_id":136823861,"body_markdown":"See https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722","body":"See <a href=\"https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722\" title=\"why poi costs so much memory to handle xlsx\">stackoverflow.com/questions/72701730/&hellip;</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1701860034,"post_id":77609011,"comment_id":136826498,"body_markdown":"https://github.com/pjfanning/excel-streaming-reader-sample is one of a number of streaming examples that you could use as a starting point. I would recommend using a lib like commons-csv to do proper CSV output though. There are other streaming examples at https://poi.apache.org/components/spreadsheet/examples.html","body":"<a href=\"https://github.com/pjfanning/excel-streaming-reader-sample\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader-sample</a> is one of a number of streaming examples that you could use as a starting point. I would recommend using a lib like commons-csv to do proper CSV output though. There are other streaming examples at <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/examples.html</a>"},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701876239,"post_id":77609011,"comment_id":136829542,"body_markdown":"@PJFanning I&#39;m actually using your library now (have been using it for a few years)! Thanks for creating and maintaining it - quick question, are there any restrictions / caveats when using streaming mode? If I understand correctly we won&#39;t be able to recalculate formula values (which is fine), but are there any other limitations for just reading a file?","body":"@PJFanning I&#39;m actually using your library now (have been using it for a few years)! Thanks for creating and maintaining it - quick question, are there any restrictions / caveats when using streaming mode? If I understand correctly we won&#39;t be able to recalculate formula values (which is fine), but are there any other limitations for just reading a file?"},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701877309,"post_id":77609011,"comment_id":136829742,"body_markdown":"@AxelRichter I saw that, but it doesn&#39;t explain the original question. The raw text is 63mb, the XLSX is 80mb. If I unzip the XLSX, the contents are 324MB. 7gb RAM is much more than I would anticipate it taking to process.","body":"@AxelRichter I saw that, but it doesn&#39;t explain the original question. The raw text is 63mb, the XLSX is 80mb. If I unzip the XLSX, the contents are 324MB. 7gb RAM is much more than I would anticipate it taking to process."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701928923,"post_id":77609011,"comment_id":136836320,"body_markdown":"Tried to explain it more in my answer -&gt; https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722","body":"Tried to explain it more in my answer -&gt; <a href=\"https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722\" title=\"why poi costs so much memory to handle xlsx\">stackoverflow.com/questions/72701730/&hellip;</a>"}],"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701807181,"creation_date":1701807181,"question_id":77609011,"body_markdown":"Is there a way to optimize Apache POI usage without using streaming? If I have a 63mb excel file with 500k rows, converting the file to CSV uses up over 7gb of RAM. \r\n\r\nAs a source file, I downloaded [customers-500000.csv][1] from GitHub [datablist/sample-csv-files][2], opened it in Excel, and saved it as an .xlsx with no other changes.\r\n\r\nThe code itself is fairly straight forward:\r\n\r\n```java\r\ntry (Workbook workbook = WorkbookFactory.create(file, null, false)) {\r\n DataFormatter formatter = new DataFormatter();\r\n formatter.setUseCachedValuesForFormulaCells(true);\r\n try (Writer writer = Files.newBufferedWriter(outputFilePath); CSVPrinter csvWriter =  CSVFormat.Builder.create(CSVFormat.RFC4180).setAutoFlush(true).build()) {\r\n Sheet sheet = workbook.getSheetAt(0);\r\n Iterator&lt;Row&gt; iterator = sheet.iterator();\r\n while (iterator.hasNext()) {\r\n   Row row = iterator.next();\r\n   for (int colNum = 0; colNum &lt;= row.getLastCellNum(); colNum++) {\r\n     Cell cell = row.getCell(colNum);\r\n     values.add(formatter.formatCellValue(cell));\r\n   }\r\n   csvWriter.printRecord(values);\r\n   csvWriter.flush();\r\n }\r\n}\r\n```\r\n\r\nBased on profiling, we are using 114x more memory than the file size itself, is there a way to get this to a more reasonable state?\r\n\r\n[![profiling][3]][3]\r\n\r\n\r\n\r\n[![heapdump][4]][4]\r\n\r\n\r\n  [1]: https://github.com/datablist/sample-csv-files/raw/main/files/customers/customers-500000.zip\r\n  [2]: https://github.com/datablist/sample-csv-files\r\n  [3]: https://i.stack.imgur.com/QndfH.png\r\n  [4]: https://i.stack.imgur.com/fh1le.png","title":"Apache POI Memory Usage","body":"<p>Is there a way to optimize Apache POI usage without using streaming? If I have a 63mb excel file with 500k rows, converting the file to CSV uses up over 7gb of RAM.</p>\n<p>As a source file, I downloaded <a href=\"https://github.com/datablist/sample-csv-files/raw/main/files/customers/customers-500000.zip\" rel=\"nofollow noreferrer\">customers-500000.csv</a> from GitHub <a href=\"https://github.com/datablist/sample-csv-files\" rel=\"nofollow noreferrer\">datablist/sample-csv-files</a>, opened it in Excel, and saved it as an .xlsx with no other changes.</p>\n<p>The code itself is fairly straight forward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Workbook workbook = WorkbookFactory.create(file, null, false)) {\n DataFormatter formatter = new DataFormatter();\n formatter.setUseCachedValuesForFormulaCells(true);\n try (Writer writer = Files.newBufferedWriter(outputFilePath); CSVPrinter csvWriter =  CSVFormat.Builder.create(CSVFormat.RFC4180).setAutoFlush(true).build()) {\n Sheet sheet = workbook.getSheetAt(0);\n Iterator&lt;Row&gt; iterator = sheet.iterator();\n while (iterator.hasNext()) {\n   Row row = iterator.next();\n   for (int colNum = 0; colNum &lt;= row.getLastCellNum(); colNum++) {\n     Cell cell = row.getCell(colNum);\n     values.add(formatter.formatCellValue(cell));\n   }\n   csvWriter.printRecord(values);\n   csvWriter.flush();\n }\n}\n</code></pre>\n<p>Based on profiling, we are using 114x more memory than the file size itself, is there a way to get this to a more reasonable state?</p>\n<p><a href=\"https://i.stack.imgur.com/QndfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QndfH.png\" alt=\"profiling\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fh1le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fh1le.png\" alt=\"heapdump\" /></a></p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"score":0,"creation_date":1522938274,"post_id":49674408,"comment_id":86360398,"body_markdown":"Please check https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman/48054400#48054400","body":"Please check <a href=\"https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman/48054400#48054400\" title=\"how to upload a file and json data in postman\">stackoverflow.com/questions/39037049/&hellip;</a>"},{"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"score":0,"creation_date":1523288470,"post_id":49674408,"comment_id":86487663,"body_markdown":"Hello, thanks for your time, I tried to send the request like this: **http://192.168.202.210:8080/afb-fintech-api/rest/agentbanking/uploadOpenAccountRequestFiles/1**;  then follow  the example on the link your mentioned above, I received this error : HTTP 415 - Unsupported Media Type.","body":"Hello, thanks for your time, I tried to send the request like this: <b><a href=\"http://192.168.202.210:8080/afb-fintech-api/rest/agentbanking/uploadOpenAccountRequestFiles/1\" rel=\"nofollow noreferrer\">192.168.202.210:8080/afb-fintech-api/rest/agentbanking/&hellip;</a></b>;  then follow  the example on the link your mentioned above, I received this error : HTTP 415 - Unsupported Media Type."},{"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"score":0,"creation_date":1523288749,"post_id":49674408,"comment_id":86487867,"body_markdown":"please, I have no content type selected in headers.and in the body, just **form-data** and the file are selected","body":"please, I have no content type selected in headers.and in the body, just <b>form-data</b> and the file are selected"}],"answers":[{"tags":[],"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522939422,"creation_date":1522939041,"answer_id":49675063,"question_id":49674408,"body_markdown":"For calling that service, you need to pass requestId like below:\r\n\r\nhttp://localhost:8080/uploadOpenAccountRequestFiles/**requestId-value-here**\r\n\r\nFor sending MultiPart data such as a file, you need to select form-data option in the body section in Postman and select the file by selecting the File dropdown. Also, make sure to set the appropriate headers for the request.\r\n\r\nCheck the below stackoverflow answer for more details:\r\n\r\nhttps://stackoverflow.com/questions/16015548/tool-for-sending-multipart-form-data-request","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>For calling that service, you need to pass requestId like below:</p>\n\n<p><a href=\"http://localhost:8080/uploadOpenAccountRequestFiles/\" rel=\"nofollow noreferrer\">http://localhost:8080/uploadOpenAccountRequestFiles/</a><strong>requestId-value-here</strong></p>\n\n<p>For sending MultiPart data such as a file, you need to select form-data option in the body section in Postman and select the file by selecting the File dropdown. Also, make sure to set the appropriate headers for the request.</p>\n\n<p>Check the below stackoverflow answer for more details:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16015548/tool-for-sending-multipart-form-data-request\">Tool for sending multipart/form-data request</a></p>\n"},{"tags":[],"owner":{"account_id":7372298,"reputation":41,"user_id":5612127,"display_name":"jitendra singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646718054,"creation_date":1646718054,"answer_id":71390515,"question_id":49674408,"body_markdown":"The steps of uploading a file through postman along with passing some input data along with the multipart request is very well discussed in below blog along with the screenshot. In this blog, the api code is written in node js. You can go through it once. It may give some information.\r\n\r\nhttps://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>The steps of uploading a file through postman along with passing some input data along with the multipart request is very well discussed in below blog along with the screenshot. In this blog, the api code is written in node js. You can go through it once. It may give some information.</p>\n<p><a href=\"https://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html\" rel=\"nofollow noreferrer\">https://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html</a></p>\n"}],"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701806916,"creation_date":1522937179,"question_id":49674408,"body_markdown":"please, this is y concern: I&#39;ll like to know how to query a web service defined as in the below code using postman for test purposes.\r\nPS: I can&#39;t change the method signature\r\n\r\nI have a web service like this :\r\n\r\n    @POST\r\n\t@Path(&quot;/uploadOpenAccountRequestFiles/{requestId}&quot;)\r\n\t@Consumes({MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA})\r\n\tpublic Response uploadOpenAccountRequestFiles(@PathParam(&quot;requestId&quot;) String requestId,\r\n\t\t\tMultipartFormDataInput multipartFormDataInput)\r\n\t\t\tthrows JsonGenerationException, JsonMappingException, IOException {\r\n\r\n\t\tinitContext();\r\n\t\tlogger.info(&quot;DIGIBANK : uploadOpenAccountRequestFiles END: &quot;);\r\n\r\n\t\tString msge = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tdigiBean.saveToserver(requestId, multipartFormDataInput);\r\n\t\t} catch (Exception e) {\r\n \t\t\tmsge = e.getMessage();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\torg.af.webservice.Response resp = new org.af.webservice.Response(\r\n\t\t\t\trequest.getSession().getId(), &quot;uploadOpenAccountRequestFiles&quot;, &quot;&quot;,\r\n\t\t\t\tmsge.equalsIgnoreCase(&quot;OK&quot;) ? true : false, msge.equalsIgnoreCase(&quot;OK&quot;) ? false : true, &quot;&quot;,\r\n\t\t\t\tmsge.equalsIgnoreCase(&quot;OK&quot;) ? true : false, &quot;Boolean&quot;, msge);\r\n\r\n\t\tlogger.info(&quot;DIGIBANK : uploadOpenAccountRequestFiles END: &quot;);\r\n\t\treturn Response.ok().entity(mapper.writeValueAsString(resp)).build();\r\n\t}\r\nthis is are images of my configurations:\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U19Lu.png\r\n  [2]: https://i.stack.imgur.com/PFX5B.png","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>please, this is y concern: I'll like to know how to query a web service defined as in the below code using postman for test purposes.\nPS: I can't change the method signature</p>\n\n<p>I have a web service like this :</p>\n\n<pre><code>@POST\n@Path(\"/uploadOpenAccountRequestFiles/{requestId}\")\n@Consumes({MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA})\npublic Response uploadOpenAccountRequestFiles(@PathParam(\"requestId\") String requestId,\n        MultipartFormDataInput multipartFormDataInput)\n        throws JsonGenerationException, JsonMappingException, IOException {\n\n    initContext();\n    logger.info(\"DIGIBANK : uploadOpenAccountRequestFiles END: \");\n\n    String msge = \"\";\n    try {\n        digiBean.saveToserver(requestId, multipartFormDataInput);\n    } catch (Exception e) {\n        msge = e.getMessage();\n        e.printStackTrace();\n    }\n\n    org.af.webservice.Response resp = new org.af.webservice.Response(\n            request.getSession().getId(), \"uploadOpenAccountRequestFiles\", \"\",\n            msge.equalsIgnoreCase(\"OK\") ? true : false, msge.equalsIgnoreCase(\"OK\") ? false : true, \"\",\n            msge.equalsIgnoreCase(\"OK\") ? true : false, \"Boolean\", msge);\n\n    logger.info(\"DIGIBANK : uploadOpenAccountRequestFiles END: \");\n    return Response.ok().entity(mapper.writeValueAsString(resp)).build();\n}\n</code></pre>\n\n<p>this is are images of my configurations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U19Lu.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/PFX5B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","runtime","infinite-sequence"],"answers":[{"tags":[],"owner":{"account_id":3502893,"reputation":4596,"user_id":2929205,"accept_rate":100,"display_name":"ltalhouarne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392518670,"creation_date":1392518670,"answer_id":21806639,"question_id":21806608,"body_markdown":"You need to use the following:\r\n\r\n    buttons[row][0].getText().equals(buttons[row][1].getText())\r\n\r\ninstead of:\r\n\r\n    buttons[row][0].getText()==buttons[row][1].getText()\r\n\r\n**That also applies to all the other string comparisons in your checkWin method.**","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>You need to use the following:</p>\n\n<pre><code>buttons[row][0].getText().equals(buttons[row][1].getText())\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>buttons[row][0].getText()==buttons[row][1].getText()\n</code></pre>\n\n<p><strong>That also applies to all the other string comparisons in your checkWin method.</strong></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392528879,"creation_date":1392528879,"answer_id":21807742,"question_id":21806608,"body_markdown":"The loop in you checkWon can&#39;t end while the game is I complete, but you can complete the game because the while loop is blocking it","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>The loop in you checkWon can't end while the game is I complete, but you can complete the game because the while loop is blocking it</p>\n"},{"tags":[],"owner":{"account_id":9717308,"reputation":1,"user_id":7207219,"display_name":"Jess Fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480024953,"creation_date":1480024953,"answer_id":40795048,"question_id":21806608,"body_markdown":"The issue seems to be that the AI (&quot;compTurn()&quot;) Is running an indefinite loop, and never gives the player an actual turn. It instead constantly tries to do its turn. To combat this, add a regulating variable (I added &quot;int whoseTurn&quot; in the example fix below).\r\n\r\nThat only combats the runtime error, though. Another issue is that on MacOS devices (I tested it on MacOS X) the buttons are drawn before the backbuffer, and so the result is a blank backbuffer and a unplayable game. The solution to this is to draw the buttons after drawing the backbuffer, or just copy + paste the code of the buttons after the drawing backbuffer code.\r\n\r\nThere is yet another issue, whereas the &quot;Start button is completely useless, and does not affect the game in any way. I removed that in the example code below.\r\n\r\nThe final issue is that your &quot;checkWin&quot; mehtod is simple, but oftentimes wrong. I have replaced it with a longer, more accurate win checking system.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import javax.swing.JOptionPane;\r\n\r\n    class TicGUI extends JFrame \r\n    {\r\n\r\n    JButton[][] buttons = new JButton[3][3];\r\n    JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables\r\n    JButton reset = new JButton(&quot;Reset&quot;);             //Create reset button for game\r\n    JOptionPane turn;\r\n    int moveCounter = 9;\r\n    boolean gameWon = false;\r\n    int WhoseTurn = 1;\r\n\r\n    public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\r\n    {\r\n     super();\r\n     frame.setSize(350, 355);\r\n     frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\r\n     frame.setVisible(true);\r\n     frame.setResizable(false);\r\n     JButton[][] buttons = new JButton[3][3];\r\n     JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables \r\n     JButton reset = new JButton(&quot;Reset&quot;);             //Create reset button for game\r\n     JOptionPane turn;\r\n\r\n    }\r\n\r\n    private void checkWin(int row, int col)\r\n    {\r\n\t\ttry {\r\n\t\tif (buttons[0][2].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][2].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][2].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][2].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][1].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[0][1].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][0].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][0].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][0].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][0].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][0].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[2][0].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[2][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[2][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[1][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][0].getText()==buttons[0][1].getText()&amp;&amp; buttons[0][1].getText()==buttons[0][2].getText()&amp;&amp; buttons[0][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[0][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[0][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[0][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t   if (buttons[0][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t   if (buttons[0][2].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\t}catch(Exception e) {\r\n\t\t\tgameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(&quot;Stalemate&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, &quot;Stalemate&quot;);\r\n\t\t}\r\n    }\r\n\r\n    private void compTurn(int count)\r\n    { \r\n    int randomMove=count;\r\n    Random num = new Random();\r\n    randomMove = num.nextInt(randomMove)+1;\r\n\r\n     while(gameWon ==false &amp; WhoseTurn ==2)\r\n      {\r\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n        {\r\n         for(int j = 0; j &lt; 3; j++) \r\n          {                 \r\n           if(buttons[i][j].isEnabled()==true)\r\n            {\r\n               randomMove--;\r\n\r\n             if(randomMove==0 )\r\n              {\r\n                buttons[i][j].setText(&quot;O&quot;);\r\n                buttons[i][j].setEnabled(false);\r\n                moveCounter--;\r\n                checkWin(i, j);\r\n\t\t\t\tWhoseTurn = 1;\r\n              }\r\n             } \r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    private void initialize()             //Initialize tic tac toe game board\r\n    {\r\n      JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\r\n      JPanel menu = new JPanel(new BorderLayout());\r\n      JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\r\n\r\n      frame.add(mainPanel);                                         //add main container panel to frame\r\n\r\n      mainPanel.setPreferredSize(new Dimension(325,425));\r\n      menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\r\n      game.setPreferredSize(new Dimension(300,300));\r\n\r\n      mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \r\n      mainPanel.add(game, BorderLayout.SOUTH);\r\n\r\n      //Add both start/reset buttons to menu container panel\r\n      menu.add(reset, BorderLayout.NORTH);\r\n\r\n      reset.addActionListener(new myActionListener());\r\n\r\n    for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n     {\r\n      for(int j = 0; j &lt; 3; j++) \r\n        {\r\n\r\n         buttons[i][j] = new JButton();                //Instantiating buttons \r\n         buttons[i][j].setText(&quot;&quot;);\r\n         buttons[i][j].setVisible(true);\r\n\r\n         game.add(buttons[i][j]); \r\n         buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\r\n        }\r\n     }\r\n\r\n    }\r\n\r\n    private class myActionListener implements ActionListener\r\n    {      //Implementing action listener for buttons\r\n     public void actionPerformed(ActionEvent a) \r\n      {\r\n       //Display X&#39;s or O&#39;s on the buttons\r\n\t   if(gameWon == false)\r\n\t   {\r\n       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\r\n         {\r\n           buttons[0][0].setText(&quot;X&quot;);\r\n           buttons[0][0].setEnabled(false);\r\n\t\t   WhoseTurn = 2;\r\n           moveCounter--;\r\n           compTurn(moveCounter);\r\n           checkWin(0,0);\r\n         } \r\n       else if(a.getSource() == buttons[0][1])\r\n         {\r\n           buttons[0][1].setText(&quot;X&quot;);\r\n           buttons[0][1].setEnabled(false);\r\n\t\t   WhoseTurn = 2;\r\n           moveCounter--;\r\n           compTurn(moveCounter);\r\n           checkWin(0,1);\r\n         } \r\n       else if(a.getSource() == buttons[1][0])\r\n        {\r\n          buttons[1][0].setText(&quot;X&quot;);  \r\n          buttons[1][0].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter);\r\n          checkWin(1,0);\r\n        } \r\n       else if(a.getSource() == buttons[1][1])\r\n        {\r\n          buttons[1][1].setText(&quot;X&quot;);\r\n          buttons[1][1].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter);\r\n          checkWin(1,1);\r\n        }\r\n       else if(a.getSource() == buttons[1][2])\r\n        {\r\n          buttons[1][2].setText(&quot;X&quot;);\r\n          buttons[1][2].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter); \r\n          checkWin(1,2);\r\n        } \r\n       else if(a.getSource() == buttons[2][2])\r\n        {\r\n         buttons[2][2].setText(&quot;X&quot;);\r\n         buttons[2][2].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,2);\r\n        } \r\n       else if(a.getSource() == buttons[0][2])\r\n        {\r\n         buttons[0][2].setText(&quot;X&quot;);\r\n         buttons[0][2].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(0,2);\r\n        }\r\n       else if(a.getSource() == buttons[2][1])\r\n        {\r\n         buttons[2][1].setText(&quot;X&quot;);\r\n         buttons[2][1].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,1);\r\n        }\r\n       else if(a.getSource() == buttons[2][0])\r\n        {\r\n         buttons[2][0].setText(&quot;X&quot;);\r\n         buttons[2][0].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,0);\r\n        }\r\n\t   }\r\n       if(a.getSource() == reset)\r\n         {\r\n            for(int i = 0; i &lt; 3; i++)\r\n             { \r\n               for(int j = 0; j &lt; 3; j++)\r\n                {\r\n\t\t\t\t\tgameWon = false;\r\n                   buttons[i][j].setText(&quot;&quot;); \r\n                   buttons[i][j].setEnabled(true);\r\n\t\t\t\t   moveCounter = 9;\r\n\t\t\t\t   WhoseTurn = 1;\r\n                   \r\n                }\r\n             }\r\n           }\r\n\t  }\r\n     }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n      TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\r\n      game.initialize();\r\n     }\r\n    }\r\n\r\n\r\nIf you continue to have problems, just ask!\r\n\r\n- Jess Fan\r\n\r\nJEF1056\r\n[Musical artist, .Net programmer, Student]\r\n\r\nhttps://itunes.apple.com/us/artist/jef1056/id1139804160\r\nhttps://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>The issue seems to be that the AI (\"compTurn()\") Is running an indefinite loop, and never gives the player an actual turn. It instead constantly tries to do its turn. To combat this, add a regulating variable (I added \"int whoseTurn\" in the example fix below).</p>\n\n<p>That only combats the runtime error, though. Another issue is that on MacOS devices (I tested it on MacOS X) the buttons are drawn before the backbuffer, and so the result is a blank backbuffer and a unplayable game. The solution to this is to draw the buttons after drawing the backbuffer, or just copy + paste the code of the buttons after the drawing backbuffer code.</p>\n\n<p>There is yet another issue, whereas the \"Start button is completely useless, and does not affect the game in any way. I removed that in the example code below.</p>\n\n<p>The final issue is that your \"checkWin\" mehtod is simple, but oftentimes wrong. I have replaced it with a longer, more accurate win checking system.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.JOptionPane;\n\nclass TicGUI extends JFrame \n{\n\nJButton[][] buttons = new JButton[3][3];\nJFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables\nJButton reset = new JButton(\"Reset\");             //Create reset button for game\nJOptionPane turn;\nint moveCounter = 9;\nboolean gameWon = false;\nint WhoseTurn = 1;\n\npublic TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\n{\n super();\n frame.setSize(350, 355);\n frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\n frame.setVisible(true);\n frame.setResizable(false);\n JButton[][] buttons = new JButton[3][3];\n JFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables \n JButton reset = new JButton(\"Reset\");             //Create reset button for game\n JOptionPane turn;\n\n}\n\nprivate void checkWin(int row, int col)\n{\n    try {\n    if (buttons[0][2].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][2].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][2].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][2].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][1].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[0][1].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][0].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][0].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][0].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][0].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][0].getText()+ \" wins!!!\");\n   }\n    if (buttons[2][0].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[2][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[2][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[1][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][0].getText()==buttons[0][1].getText()&amp;&amp; buttons[0][1].getText()==buttons[0][2].getText()&amp;&amp; buttons[0][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[0][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[0][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[0][1].getText()+ \" wins!!!\");\n   }\n   if (buttons[0][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n   if (buttons[0][2].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    }catch(Exception e) {\n        gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(\"Stalemate\");\n      JOptionPane.showMessageDialog(frame, \"Stalemate\");\n    }\n}\n\nprivate void compTurn(int count)\n{ \nint randomMove=count;\nRandom num = new Random();\nrandomMove = num.nextInt(randomMove)+1;\n\n while(gameWon ==false &amp; WhoseTurn ==2)\n  {\n   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n    {\n     for(int j = 0; j &lt; 3; j++) \n      {                 \n       if(buttons[i][j].isEnabled()==true)\n        {\n           randomMove--;\n\n         if(randomMove==0 )\n          {\n            buttons[i][j].setText(\"O\");\n            buttons[i][j].setEnabled(false);\n            moveCounter--;\n            checkWin(i, j);\n            WhoseTurn = 1;\n          }\n         } \n\n        }\n      }\n    }\n  }\n\nprivate void initialize()             //Initialize tic tac toe game board\n{\n  JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\n  JPanel menu = new JPanel(new BorderLayout());\n  JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\n\n  frame.add(mainPanel);                                         //add main container panel to frame\n\n  mainPanel.setPreferredSize(new Dimension(325,425));\n  menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\n  game.setPreferredSize(new Dimension(300,300));\n\n  mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \n  mainPanel.add(game, BorderLayout.SOUTH);\n\n  //Add both start/reset buttons to menu container panel\n  menu.add(reset, BorderLayout.NORTH);\n\n  reset.addActionListener(new myActionListener());\n\nfor(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n {\n  for(int j = 0; j &lt; 3; j++) \n    {\n\n     buttons[i][j] = new JButton();                //Instantiating buttons \n     buttons[i][j].setText(\"\");\n     buttons[i][j].setVisible(true);\n\n     game.add(buttons[i][j]); \n     buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\n    }\n }\n\n}\n\nprivate class myActionListener implements ActionListener\n{      //Implementing action listener for buttons\n public void actionPerformed(ActionEvent a) \n  {\n   //Display X's or O's on the buttons\n   if(gameWon == false)\n   {\n   if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\n     {\n       buttons[0][0].setText(\"X\");\n       buttons[0][0].setEnabled(false);\n       WhoseTurn = 2;\n       moveCounter--;\n       compTurn(moveCounter);\n       checkWin(0,0);\n     } \n   else if(a.getSource() == buttons[0][1])\n     {\n       buttons[0][1].setText(\"X\");\n       buttons[0][1].setEnabled(false);\n       WhoseTurn = 2;\n       moveCounter--;\n       compTurn(moveCounter);\n       checkWin(0,1);\n     } \n   else if(a.getSource() == buttons[1][0])\n    {\n      buttons[1][0].setText(\"X\");  \n      buttons[1][0].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter);\n      checkWin(1,0);\n    } \n   else if(a.getSource() == buttons[1][1])\n    {\n      buttons[1][1].setText(\"X\");\n      buttons[1][1].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter);\n      checkWin(1,1);\n    }\n   else if(a.getSource() == buttons[1][2])\n    {\n      buttons[1][2].setText(\"X\");\n      buttons[1][2].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter); \n      checkWin(1,2);\n    } \n   else if(a.getSource() == buttons[2][2])\n    {\n     buttons[2][2].setText(\"X\");\n     buttons[2][2].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,2);\n    } \n   else if(a.getSource() == buttons[0][2])\n    {\n     buttons[0][2].setText(\"X\");\n     buttons[0][2].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(0,2);\n    }\n   else if(a.getSource() == buttons[2][1])\n    {\n     buttons[2][1].setText(\"X\");\n     buttons[2][1].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,1);\n    }\n   else if(a.getSource() == buttons[2][0])\n    {\n     buttons[2][0].setText(\"X\");\n     buttons[2][0].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,0);\n    }\n   }\n   if(a.getSource() == reset)\n     {\n        for(int i = 0; i &lt; 3; i++)\n         { \n           for(int j = 0; j &lt; 3; j++)\n            {\n                gameWon = false;\n               buttons[i][j].setText(\"\"); \n               buttons[i][j].setEnabled(true);\n               moveCounter = 9;\n               WhoseTurn = 1;\n\n            }\n         }\n       }\n  }\n }\n\npublic static void main(String[] args)\n{\n  TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\n  game.initialize();\n }\n}\n</code></pre>\n\n<p>If you continue to have problems, just ask!</p>\n\n<ul>\n<li>Jess Fan</li>\n</ul>\n\n<p>JEF1056\n[Musical artist, .Net programmer, Student]</p>\n\n<p><a href=\"https://itunes.apple.com/us/artist/jef1056/id1139804160\" rel=\"nofollow noreferrer\">https://itunes.apple.com/us/artist/jef1056/id1139804160</a>\n<a href=\"https://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy\" rel=\"nofollow noreferrer\">https://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy</a></p>\n"}],"owner":{"account_id":3991533,"reputation":11,"user_id":3290306,"display_name":"user3290306"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701806916,"creation_date":1392518368,"question_id":21806608,"body_markdown":"So I am making a tic tac toe game with user friendly GUI interface.  I have almost completed the game but there seems to be a problem with my checkWin function.  Up to this point, everything was working just fine until I added the checkWin function and the parameters associated it with it.  Before I implemented the checkWin function, you would press a button, it would be marked X and then there would be an automated computer move that would place an O randomly on the board where there isn&#39;t an X.  Code is posted below.  When I run the code, and you press a button, the applet just freezes and you can&#39;t even exit out of it without end task, ctrl-alt-del...  Again, everything worked fine up until the checkWin function and now I&#39;m facing a run-time error.    \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n                  \r\n    public class TicGUI extends JFrame \r\n        {\r\n    \r\n\t  JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables \r\n      JButton[][] buttons = new JButton[3][3];\r\n      JButton start = new JButton(&quot;Start&quot;);              //Create start/reset buttons for game\r\n      JButton reset = new JButton(&quot;Reset&quot;);\r\n      JOptionPane turn;\r\n      int moveCounter = 9;\r\n      boolean gameWon = false;\r\n\r\n\t\r\n     public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\r\n       {\r\n         super();\r\n         frame.setSize(350, 450);\r\n         frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\r\n         frame.setVisible(true);\r\n         frame.setResizable(false);\r\n       \r\n       }\r\n   \r\n      private void checkWin(int row, int col)\r\n        {\r\n          if(buttons[row][0].getText()==buttons[row][1].getText()&amp;&amp; buttons[row][1].getText()==buttons[row][2].getText())\r\n            {\r\n        \t  gameWon = true;\r\n              System.out.println(buttons[row][0].getText()+ &quot; wins!!!&quot;);         \r\n            }\r\n        else  if(buttons[0][col].getText()==buttons[1][col].getText()&amp;&amp; buttons[1][col].getText()==buttons[2][col].getText())\r\n           {\r\n        \t  gameWon = true;\r\n        \t  System.out.println(buttons[row][0].getText()+ &quot; wins!!!&quot;);\r\n           }\r\n        }\r\n      private void compTurn(int count)\r\n       { \r\n    \tint randomMove=count;\r\n    \tRandom num = new Random();\r\n    \trandomMove = num.nextInt(randomMove)+1;\r\n    \t\r\n         while(gameWon ==false)\r\n          {\r\n    \t   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n  \t        {\r\n  \t\t     for(int j = 0; j &lt; 3; j++) \r\n  \t\t      {                 \r\n  \t\t       if(buttons[i][j].isEnabled()==true)\r\n  \t\t        {\r\n  \t\t    \t   randomMove--;\r\n  \t\t         \r\n  \t\t    \t if(randomMove==0 )\r\n  \t\t    \t  {\r\n  \t\t    \t\tbuttons[i][j].setText(&quot;O&quot;);\r\n                    buttons[i][j].setEnabled(false);\r\n                    moveCounter--;\r\n                    checkWin(i, j);\r\n  \t\t    \t  }\r\n  \t\t         } \r\n  \t\t     \r\n  \t            }\r\n  \t          }\r\n            }\r\n          }\r\n    \r\n    private void initialize()             //Initialize tic tac toe game board\r\n       {\r\n    \t  JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\r\n          JPanel menu = new JPanel(new BorderLayout());\r\n          JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\r\n        \r\n          frame.add(mainPanel);                                         //add main container panel to frame\r\n        \r\n          mainPanel.setPreferredSize(new Dimension(325,425));\r\n          menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\r\n          game.setPreferredSize(new Dimension(300,300));\r\n        \r\n          mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \r\n          mainPanel.add(game, BorderLayout.SOUTH);\r\n        \r\n          menu.add(start, BorderLayout.WEST);                //Add both start/reset buttons to menu container panel\r\n          menu.add(reset, BorderLayout.EAST);\r\n          \r\n          start.addActionListener(new myActionListener());\r\n          reset.addActionListener(new myActionListener());\r\n        \r\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n   \t     {\r\n   \t\t  for(int j = 0; j &lt; 3; j++) \r\n   \t        {\r\n   \t\t \r\n   \t\t     buttons[i][j] = new JButton();                //Instantiating buttons \r\n   \t\t     buttons[i][j].setText(&quot;&quot;);\r\n   \t\t     buttons[i][j].setVisible(true);\r\n   \t\t   \r\n   \t\t     game.add(buttons[i][j]); \r\n   \t\t     buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\r\n   \t        }\r\n   \t     }\r\n       \r\n      }\r\n  \r\n     private class myActionListener implements ActionListener\r\n       {      //Implementing action listener for buttons\r\n \t     public void actionPerformed(ActionEvent a) \r\n          {\r\n \t \t   //Display X&#39;s or O&#39;s on the buttons \t\r\n \t       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\r\n \t \t     {\r\n \t \t       buttons[0][0].setText(&quot;X&quot;);\r\n \t \t       buttons[0][0].setEnabled(false);\r\n \t \t       moveCounter--;\r\n \t \t       compTurn(moveCounter);\r\n \t \t       checkWin(0,0);\r\n \t \t     } \r\n \t \t   else if(a.getSource() == buttons[0][1])\r\n \t \t     {\r\n \t \t       buttons[0][1].setText(&quot;X&quot;);\r\n \t \t       buttons[0][1].setEnabled(false);\r\n \t \t       moveCounter--;\r\n \t \t       compTurn(moveCounter);\r\n \t \t       checkWin(0,1);\r\n \t \t     } \r\n \t \t   else if(a.getSource() == buttons[1][0])\r\n \t \t    {\r\n \t \t      buttons[1][0].setText(&quot;X&quot;);  \r\n \t \t      buttons[1][0].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter);\r\n \t \t      checkWin(1,0);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[1][1])\r\n \t \t    {\r\n \t \t      buttons[1][1].setText(&quot;X&quot;);\r\n \t \t      buttons[1][1].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter);\r\n \t \t      checkWin(1,1);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[1][2])\r\n \t \t    {\r\n \t \t      buttons[1][2].setText(&quot;X&quot;);\r\n \t \t      buttons[1][2].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter); \r\n \t \t      checkWin(1,2);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[2][2])\r\n \t \t    {\r\n \t \t     buttons[2][2].setText(&quot;X&quot;);\r\n \t \t     buttons[2][2].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(2,2);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[0][2])\r\n \t \t    {\r\n \t \t     buttons[0][2].setText(&quot;X&quot;);\r\n \t \t     buttons[0][2].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(0,2);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[2][1])\r\n \t \t    {\r\n \t \t     buttons[2][1].setText(&quot;X&quot;);\r\n \t \t     buttons[2][1].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(2,1);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[2][0])\r\n \t\t    {\r\n \t\t     buttons[2][0].setText(&quot;X&quot;);\r\n \t\t     buttons[2][0].setEnabled(false);\r\n \t\t     moveCounter--;\r\n \t\t     compTurn(moveCounter);\r\n \t\t     checkWin(2,0);\r\n \t\t    }\r\n \t \t   else if(a.getSource() == start)\r\n \t \t     {\r\n \t \t\t   turn = new JOptionPane(&quot;Do you want to go first?\\n&quot;,JOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\r\n \t \t\t   start.setEnabled(false);\r\n \t \t     }\r\n \t \t   else if(a.getSource() == reset)\r\n \t \t     {\r\n \t \t\t    for(int i = 0; i &lt; 3; i++)\r\n \t \t\t     { \r\n \t \t\t       for(int j = 0; j &lt; 3; j++)\r\n \t \t\t        {\r\n \t \t\t    \t   buttons[i][j].setText(&quot;&quot;); \r\n \t \t\t    \t   buttons[i][j].setEnabled(true);\r\n \t \t\t    \t   gameWon = false;\r\n \t \t\t        }\r\n \t \t\t     }\r\n \t \t       }\r\n           }\r\n         }\r\n\r\n     public static void main(String[] args)\r\n        {\r\n    \t  TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\r\n    \t  game.initialize();\r\n        }\r\n     }\r\n \r\n ","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>So I am making a tic tac toe game with user friendly GUI interface.  I have almost completed the game but there seems to be a problem with my checkWin function.  Up to this point, everything was working just fine until I added the checkWin function and the parameters associated it with it.  Before I implemented the checkWin function, you would press a button, it would be marked X and then there would be an automated computer move that would place an O randomly on the board where there isn't an X.  Code is posted below.  When I run the code, and you press a button, the applet just freezes and you can't even exit out of it without end task, ctrl-alt-del...  Again, everything worked fine up until the checkWin function and now I'm facing a run-time error.    </p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\n\npublic class TicGUI extends JFrame \n    {\n\n  JFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables \n  JButton[][] buttons = new JButton[3][3];\n  JButton start = new JButton(\"Start\");              //Create start/reset buttons for game\n  JButton reset = new JButton(\"Reset\");\n  JOptionPane turn;\n  int moveCounter = 9;\n  boolean gameWon = false;\n\n\n public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\n   {\n     super();\n     frame.setSize(350, 450);\n     frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\n     frame.setVisible(true);\n     frame.setResizable(false);\n\n   }\n\n  private void checkWin(int row, int col)\n    {\n      if(buttons[row][0].getText()==buttons[row][1].getText()&amp;&amp; buttons[row][1].getText()==buttons[row][2].getText())\n        {\n          gameWon = true;\n          System.out.println(buttons[row][0].getText()+ \" wins!!!\");         \n        }\n    else  if(buttons[0][col].getText()==buttons[1][col].getText()&amp;&amp; buttons[1][col].getText()==buttons[2][col].getText())\n       {\n          gameWon = true;\n          System.out.println(buttons[row][0].getText()+ \" wins!!!\");\n       }\n    }\n  private void compTurn(int count)\n   { \n    int randomMove=count;\n    Random num = new Random();\n    randomMove = num.nextInt(randomMove)+1;\n\n     while(gameWon ==false)\n      {\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n        {\n         for(int j = 0; j &lt; 3; j++) \n          {                 \n           if(buttons[i][j].isEnabled()==true)\n            {\n               randomMove--;\n\n             if(randomMove==0 )\n              {\n                buttons[i][j].setText(\"O\");\n                buttons[i][j].setEnabled(false);\n                moveCounter--;\n                checkWin(i, j);\n              }\n             } \n\n            }\n          }\n        }\n      }\n\nprivate void initialize()             //Initialize tic tac toe game board\n   {\n      JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\n      JPanel menu = new JPanel(new BorderLayout());\n      JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\n\n      frame.add(mainPanel);                                         //add main container panel to frame\n\n      mainPanel.setPreferredSize(new Dimension(325,425));\n      menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\n      game.setPreferredSize(new Dimension(300,300));\n\n      mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \n      mainPanel.add(game, BorderLayout.SOUTH);\n\n      menu.add(start, BorderLayout.WEST);                //Add both start/reset buttons to menu container panel\n      menu.add(reset, BorderLayout.EAST);\n\n      start.addActionListener(new myActionListener());\n      reset.addActionListener(new myActionListener());\n\n   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n     {\n      for(int j = 0; j &lt; 3; j++) \n        {\n\n         buttons[i][j] = new JButton();                //Instantiating buttons \n         buttons[i][j].setText(\"\");\n         buttons[i][j].setVisible(true);\n\n         game.add(buttons[i][j]); \n         buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\n        }\n     }\n\n  }\n\n private class myActionListener implements ActionListener\n   {      //Implementing action listener for buttons\n     public void actionPerformed(ActionEvent a) \n      {\n       //Display X's or O's on the buttons  \n       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\n         {\n           buttons[0][0].setText(\"X\");\n           buttons[0][0].setEnabled(false);\n           moveCounter--;\n           compTurn(moveCounter);\n           checkWin(0,0);\n         } \n       else if(a.getSource() == buttons[0][1])\n         {\n           buttons[0][1].setText(\"X\");\n           buttons[0][1].setEnabled(false);\n           moveCounter--;\n           compTurn(moveCounter);\n           checkWin(0,1);\n         } \n       else if(a.getSource() == buttons[1][0])\n        {\n          buttons[1][0].setText(\"X\");  \n          buttons[1][0].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter);\n          checkWin(1,0);\n        } \n       else if(a.getSource() == buttons[1][1])\n        {\n          buttons[1][1].setText(\"X\");\n          buttons[1][1].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter);\n          checkWin(1,1);\n        }\n       else if(a.getSource() == buttons[1][2])\n        {\n          buttons[1][2].setText(\"X\");\n          buttons[1][2].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter); \n          checkWin(1,2);\n        } \n       else if(a.getSource() == buttons[2][2])\n        {\n         buttons[2][2].setText(\"X\");\n         buttons[2][2].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,2);\n        } \n       else if(a.getSource() == buttons[0][2])\n        {\n         buttons[0][2].setText(\"X\");\n         buttons[0][2].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(0,2);\n        }\n       else if(a.getSource() == buttons[2][1])\n        {\n         buttons[2][1].setText(\"X\");\n         buttons[2][1].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,1);\n        }\n       else if(a.getSource() == buttons[2][0])\n        {\n         buttons[2][0].setText(\"X\");\n         buttons[2][0].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,0);\n        }\n       else if(a.getSource() == start)\n         {\n           turn = new JOptionPane(\"Do you want to go first?\\n\",JOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\n           start.setEnabled(false);\n         }\n       else if(a.getSource() == reset)\n         {\n            for(int i = 0; i &lt; 3; i++)\n             { \n               for(int j = 0; j &lt; 3; j++)\n                {\n                   buttons[i][j].setText(\"\"); \n                   buttons[i][j].setEnabled(true);\n                   gameWon = false;\n                }\n             }\n           }\n       }\n     }\n\n public static void main(String[] args)\n    {\n      TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\n      game.initialize();\n    }\n }\n</code></pre>\n"},{"tags":["java","amazon-web-services","graph","gremlin","amazon-neptune"],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701806025,"creation_date":1701806025,"answer_id":77608924,"question_id":77608583,"body_markdown":"Do all users have a unique ID?  If so, you could likely speed up the first part of the query by storing the user IDs as the actual vertex ID and not bother with both a label check AND looking for a property value.  The fact that you&#39;re using a numeric as the ID, is also causing added latency as Neptune is going through the process of applying type promotion as part of the query execution.  Just use something like `user_1004` as the ID for the user vertex in this case.  Then you can do:\r\n\r\n```\r\ng.V(&#39;user_1004&#39;).\r\n    repeat(\r\n        both(\r\n            &#39;USES_UPI&#39;,\r\n            &#39;USES_ACCOUNT&#39;,\r\n            &#39;USES_HARDWARE_ID&#39;,\r\n            &#39;USES_GAID&#39;,\r\n            &#39;HAS_COOKIES&#39;).\r\n        simplePath().\r\n        dedup()).\r\n  times(3).\r\n  hasLabel(&#39;Gaid&#39;).\r\n  dedup().\r\n  count()\r\n ```\r\n\r\nIt also appears that there is a large amount of fan-out in the graph after the 2nd hop.  If you have super nodes in the graph, you may need to derive a method to detect those and mitigate them.  In most of these ID graph patterns, super nodes provide little value.  So placing an incrementing counter property on nodes to denote their fanout can more easily allow you to avoid traversing past the super node.  Then in the `repeat()` you can add something like `has(&#39;associated_ids&#39;, lt(10))` to filter out any nodes that have more downstream connections that you care about.","title":"Optimize neptune query while using repeat &amp; times","body":"<p>Do all users have a unique ID?  If so, you could likely speed up the first part of the query by storing the user IDs as the actual vertex ID and not bother with both a label check AND looking for a property value.  The fact that you're using a numeric as the ID, is also causing added latency as Neptune is going through the process of applying type promotion as part of the query execution.  Just use something like <code>user_1004</code> as the ID for the user vertex in this case.  Then you can do:</p>\n<pre><code>g.V('user_1004').\n    repeat(\n        both(\n            'USES_UPI',\n            'USES_ACCOUNT',\n            'USES_HARDWARE_ID',\n            'USES_GAID',\n            'HAS_COOKIES').\n        simplePath().\n        dedup()).\n  times(3).\n  hasLabel('Gaid').\n  dedup().\n  count()\n</code></pre>\n<p>It also appears that there is a large amount of fan-out in the graph after the 2nd hop.  If you have super nodes in the graph, you may need to derive a method to detect those and mitigate them.  In most of these ID graph patterns, super nodes provide little value.  So placing an incrementing counter property on nodes to denote their fanout can more easily allow you to avoid traversing past the super node.  Then in the <code>repeat()</code> you can add something like <code>has('associated_ids', lt(10))</code> to filter out any nodes that have more downstream connections that you care about.</p>\n"}],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701806025,"creation_date":1701801959,"question_id":77608583,"body_markdown":"I have the following neptune query\r\n\r\n```\r\ng.V().hasLabel(&#39;User&#39;)\r\n  .has(&#39;user_id&#39;, 1004)\r\n.repeat(both(&#39;USES_UPI&#39;,&#39;USES_ACCOUNT&#39;,&#39;USES_HARDWARE_ID&#39;,&#39;USES_GAID&#39;,&#39;HAS_COOKIES&#39;).simplePath().dedup())\r\n  .times(3)\r\n  .hasLabel(&#39;Gaid&#39;)\r\n  .dedup()\r\n  .count()\r\n```\r\n\r\nand it&#39;s taking too much time.\r\n\r\nI tried profiling the query\r\n\r\n\r\n```\r\nOriginal Traversal\r\n==================\r\n[GraphStep(vertex,[]), HasStep([~label.eq(User), user_id.eq(159017810)]), RepeatStep([VertexStep(BOTH,[USES_UPI, USES_ACCOUNT, USES_HARDWARE_ID, USES_GAID, HAS_COOKIES],vertex), PathFilterStep(simple,null,null), DedupGlobalStep(null,null), RepeatEndStep],until(loops(3)),emit(false)), HasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null), CountGlobalStep]\r\n\r\nOptimized Traversal\r\n===================\r\nNeptune steps:\r\n[\r\n    NeptuneGraphQueryStep(Vertex) {\r\n        JoinGroupNode {\r\n            PatternNode[(?1, &lt;user_id&gt;, ?9, ?) . project distinct ?1 . ContainsFilter(?9 in (159017810^^&lt;INT&gt;, 159017810^^&lt;LONG&gt;, 1.59017808E8^^&lt;FLOAT&gt;, 1.5901781E8^^&lt;DOUBLE&gt;)) .], {estimatedCardinality=1, expectedTotalOutput=1, indexTime=0, joinTime=0, numSearches=1, actualTotalOutput=1}\r\n            PatternNode[(?1, &lt;~label&gt;, ?2=&lt;User&gt;, &lt;~&gt;) . project ask .], {estimatedCardinality=1327714, expectedTotalOutput=679, actualTotalOutput=379683, indexTime=0, joinTime=0, numSearches=1}\r\n            RepeatNode {\r\n                Repeat {\r\n                    JoinGroupNode {\r\n                        UnionNode {\r\n                            PatternNode[(?3, ?6, ?4, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=354, joinTime=26212, numSearches=379683}\r\n                            PatternNode[(?4, ?6, ?3, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=356, joinTime=19633, numSearches=379683}\r\n                        }, annotations={estimatedCardinality=3847932}\r\n                        SimplePathFilter(?1, ?4)) .\r\n                    }\r\n                }\r\n                LoopsCondition {\r\n                    LoopsFilter(?3,eq(3))\r\n                }\r\n            }, annotations={emitFirst=false, untilFirst=false, repeatMode=BFS, dedup=true}\r\n        }, annotations={path=[Vertex(?1):GraphStep, Repeat[̶V̶e̶r̶t̶e̶x̶(̶?̶3̶)̶:̶G̶r̶a̶p̶h̶S̶t̶e̶p̶, Vertex(?4):VertexStep, ̶V̶e̶r̶t̶e̶x̶(̶?̶8̶)̶:̶V̶e̶r̶t̶e̶x̶S̶t̶e̶p̶]], joinStats=true, optimizationTime=2, maxVarId=10, executionTime=107826}\r\n    },\r\n    NeptuneTraverserConverterStep\r\n]\r\n+ not converted into Neptune steps: NeptuneHasStep([~label.eq(Gaid)]),\r\nNeptune steps:\r\n[\r\n    NeptuneMemoryTrackerStep\r\n]\r\n+ not converted into Neptune steps: DedupGlobalStep(null,null),CountGlobalStep,\r\n\r\nWARNING: &gt;&gt; [NeptuneHasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null)] &lt;&lt; (or one of the children for each step) is not supported natively yet\r\n\r\n\r\n\r\nRuntime (ms)\r\n============\r\nQuery Execution: 107828.341\r\n\r\nTraversal Metrics\r\n=================\r\nStep                                                               Count  Traversers       Time (ms)    % Dur\r\n-------------------------------------------------------------------------------------------------------------\r\nNeptuneGraphQueryStep(Vertex)                                     743022      743022       52892.767    49.06\r\nNeptuneTraverserConverterStep                                     743022      743022        8142.297     7.55\r\nNeptuneHasStep([~label.eq(Gaid)])                                   4138        4138       46695.267    43.32\r\nDedupGlobalStep(null,null)                                          4138        4138          48.927     0.05\r\nCountGlobalStep                                                        1           1          22.215     0.02\r\n                                            &gt;TOTAL                     -           -      107801.475        -\r\n\r\nRepeat Metrics\r\n==============\r\nIteration  Visited   Output    Until     Emit     Next\r\n------------------------------------------------------\r\n        0        1        0        0        0        1\r\n        1        3        0        0        0        3\r\n        2   379679        0        0        0   379679\r\n        3   743022   743022   743022        0        0\r\n------------------------------------------------------\r\n           1122705   743022   743022        0   379683\r\n\r\nPredicates\r\n==========\r\n# of predicates: 26\r\n\r\nResults\r\n=======\r\nCount: 1\r\n\r\n\r\nIndex Operations\r\n================\r\nQuery execution:\r\n    # of statement index ops: 1,502,390\r\n    # of unique statement index ops: 1,502,390\r\n    Duplication ratio: 1.0\r\n    # of terms materialized: 162\r\n```\r\n\r\n\r\nRight now it&#39;s taking time in seconds, can it be optimized somehow?","title":"Optimize neptune query while using repeat &amp; times","body":"<p>I have the following neptune query</p>\n<pre><code>g.V().hasLabel('User')\n  .has('user_id', 1004)\n.repeat(both('USES_UPI','USES_ACCOUNT','USES_HARDWARE_ID','USES_GAID','HAS_COOKIES').simplePath().dedup())\n  .times(3)\n  .hasLabel('Gaid')\n  .dedup()\n  .count()\n</code></pre>\n<p>and it's taking too much time.</p>\n<p>I tried profiling the query</p>\n<pre><code>Original Traversal\n==================\n[GraphStep(vertex,[]), HasStep([~label.eq(User), user_id.eq(159017810)]), RepeatStep([VertexStep(BOTH,[USES_UPI, USES_ACCOUNT, USES_HARDWARE_ID, USES_GAID, HAS_COOKIES],vertex), PathFilterStep(simple,null,null), DedupGlobalStep(null,null), RepeatEndStep],until(loops(3)),emit(false)), HasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null), CountGlobalStep]\n\nOptimized Traversal\n===================\nNeptune steps:\n[\n    NeptuneGraphQueryStep(Vertex) {\n        JoinGroupNode {\n            PatternNode[(?1, &lt;user_id&gt;, ?9, ?) . project distinct ?1 . ContainsFilter(?9 in (159017810^^&lt;INT&gt;, 159017810^^&lt;LONG&gt;, 1.59017808E8^^&lt;FLOAT&gt;, 1.5901781E8^^&lt;DOUBLE&gt;)) .], {estimatedCardinality=1, expectedTotalOutput=1, indexTime=0, joinTime=0, numSearches=1, actualTotalOutput=1}\n            PatternNode[(?1, &lt;~label&gt;, ?2=&lt;User&gt;, &lt;~&gt;) . project ask .], {estimatedCardinality=1327714, expectedTotalOutput=679, actualTotalOutput=379683, indexTime=0, joinTime=0, numSearches=1}\n            RepeatNode {\n                Repeat {\n                    JoinGroupNode {\n                        UnionNode {\n                            PatternNode[(?3, ?6, ?4, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=354, joinTime=26212, numSearches=379683}\n                            PatternNode[(?4, ?6, ?3, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=356, joinTime=19633, numSearches=379683}\n                        }, annotations={estimatedCardinality=3847932}\n                        SimplePathFilter(?1, ?4)) .\n                    }\n                }\n                LoopsCondition {\n                    LoopsFilter(?3,eq(3))\n                }\n            }, annotations={emitFirst=false, untilFirst=false, repeatMode=BFS, dedup=true}\n        }, annotations={path=[Vertex(?1):GraphStep, Repeat[̶V̶e̶r̶t̶e̶x̶(̶?̶3̶)̶:̶G̶r̶a̶p̶h̶S̶t̶e̶p̶, Vertex(?4):VertexStep, ̶V̶e̶r̶t̶e̶x̶(̶?̶8̶)̶:̶V̶e̶r̶t̶e̶x̶S̶t̶e̶p̶]], joinStats=true, optimizationTime=2, maxVarId=10, executionTime=107826}\n    },\n    NeptuneTraverserConverterStep\n]\n+ not converted into Neptune steps: NeptuneHasStep([~label.eq(Gaid)]),\nNeptune steps:\n[\n    NeptuneMemoryTrackerStep\n]\n+ not converted into Neptune steps: DedupGlobalStep(null,null),CountGlobalStep,\n\nWARNING: &gt;&gt; [NeptuneHasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null)] &lt;&lt; (or one of the children for each step) is not supported natively yet\n\n\n\nRuntime (ms)\n============\nQuery Execution: 107828.341\n\nTraversal Metrics\n=================\nStep                                                               Count  Traversers       Time (ms)    % Dur\n-------------------------------------------------------------------------------------------------------------\nNeptuneGraphQueryStep(Vertex)                                     743022      743022       52892.767    49.06\nNeptuneTraverserConverterStep                                     743022      743022        8142.297     7.55\nNeptuneHasStep([~label.eq(Gaid)])                                   4138        4138       46695.267    43.32\nDedupGlobalStep(null,null)                                          4138        4138          48.927     0.05\nCountGlobalStep                                                        1           1          22.215     0.02\n                                            &gt;TOTAL                     -           -      107801.475        -\n\nRepeat Metrics\n==============\nIteration  Visited   Output    Until     Emit     Next\n------------------------------------------------------\n        0        1        0        0        0        1\n        1        3        0        0        0        3\n        2   379679        0        0        0   379679\n        3   743022   743022   743022        0        0\n------------------------------------------------------\n           1122705   743022   743022        0   379683\n\nPredicates\n==========\n# of predicates: 26\n\nResults\n=======\nCount: 1\n\n\nIndex Operations\n================\nQuery execution:\n    # of statement index ops: 1,502,390\n    # of unique statement index ops: 1,502,390\n    Duplication ratio: 1.0\n    # of terms materialized: 162\n</code></pre>\n<p>Right now it's taking time in seconds, can it be optimized somehow?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4711119,"reputation":1624,"user_id":3811599,"accept_rate":75,"display_name":"Marcel"},"score":0,"creation_date":1445884217,"post_id":33353008,"comment_id":54501701,"body_markdown":"Did you tried to remove the &quot;,&quot; in the Double string?","body":"Did you tried to remove the &quot;,&quot; in the Double string?"},{"owner":{"account_id":5735072,"reputation":370,"user_id":4529570,"accept_rate":100,"display_name":"ccc"},"score":4,"creation_date":1445885090,"post_id":33353008,"comment_id":54502222,"body_markdown":"Possible duplicate of [Best way to parseDouble with comma as decimal separator?](http://stackoverflow.com/questions/4323599/best-way-to-parsedouble-with-comma-as-decimal-separator)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4323599/best-way-to-parsedouble-with-comma-as-decimal-separator\">Best way to parseDouble with comma as decimal separator?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2401857,"reputation":157,"user_id":5430900,"display_name":"Prem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445884210,"creation_date":1445884210,"answer_id":33353067,"question_id":33353008,"body_markdown":"You should remove the comma (,) from your string:\r\n\r\nThis will work:\r\n\r\n    double d = Double.parseDouble(&quot;40123.012345678901&quot;); ","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>You should remove the comma (,) from your string:</p>\n\n<p>This will work:</p>\n\n<pre><code>double d = Double.parseDouble(\"40123.012345678901\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445884247,"creation_date":1445884247,"answer_id":33353076,"question_id":33353008,"body_markdown":"The simplest way is to remove comma:\r\n\r\n    double d = Double.parseDouble(&quot;40,123.012345678901&quot;.replace(&quot;,&quot;, &quot;&quot;)); \r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>The simplest way is to remove comma:</p>\n\n<pre><code>double d = Double.parseDouble(\"40,123.012345678901\".replace(\",\", \"\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445884266,"creation_date":1445884266,"answer_id":33353080,"question_id":33353008,"body_markdown":"A `double` is limited to around 16 digits of precision.  If you need more precision, you should use BigDecimal.\r\n\r\n    BigDecimal bd = new BigDecimal(&quot;40,123.012345678901&quot;.replace(&quot;,&quot;, &quot;&quot;)); ","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>A <code>double</code> is limited to around 16 digits of precision.  If you need more precision, you should use BigDecimal.</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"40,123.012345678901\".replace(\",\", \"\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4660020,"reputation":404,"user_id":3774523,"display_name":"algor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445884468,"creation_date":1445884468,"answer_id":33353141,"question_id":33353008,"body_markdown":"If there is no way to get rid of comma(,) you may use another approach:\r\n\r\n    NumberFormat format = NumberFormat.getInstance(Locale.US);\r\n    Number number = format.parse(&quot;40,123.012345678901&quot;);\r\n    double d = number.doubleValue();","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>If there is no way to get rid of comma(,) you may use another approach:</p>\n\n<pre><code>NumberFormat format = NumberFormat.getInstance(Locale.US);\nNumber number = format.parse(\"40,123.012345678901\");\ndouble d = number.doubleValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735072,"reputation":370,"user_id":4529570,"accept_rate":100,"display_name":"ccc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445884806,"creation_date":1445884806,"answer_id":33353222,"question_id":33353008,"body_markdown":"Use `NumberFormat` to get `double` value,\r\n\r\n        try {\r\n            NumberFormat format = NumberFormat.getInstance();\r\n            Number parse = format.parse(&quot;40,123.012345678901&quot;);\r\n            System.out.println(parse.doubleValue());\r\n        } catch (ParseException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>Use <code>NumberFormat</code> to get <code>double</code> value,</p>\n\n<pre><code>    try {\n        NumberFormat format = NumberFormat.getInstance();\n        Number parse = format.parse(\"40,123.012345678901\");\n        System.out.println(parse.doubleValue());\n    } catch (ParseException ex) {\n        System.out.println(ex.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701805317,"creation_date":1701805317,"answer_id":77608864,"question_id":33353008,"body_markdown":"Careful.  `double` is not infinitely large.  10 or more decimals starts to cut down on the size of the integer portion.   Indeed, even the string `40123.012345678901` in the question does not completely roundtrip:\r\n```java\r\npublic static void show(String s) {\r\n    double d = Double.parseDouble(s);\r\n    System.out.printf(&quot;[%s] [%f] [%.15f]\\n&quot;, s, d, d);\r\n}\r\n\r\nshow(&quot;40123.012345678901&quot;);\r\n[40123.012345678901] [40123.012346] [40123.012345678900000] // lost the 1.\r\nshow(&quot;40123.0123456789012345&quot;);\r\n[40123.0123456789012345] [40123.012346] [40123.012345678900000] // lost 12345\r\n\r\nshow(&quot;4.0123456789012345&quot;); // less integer digits:\r\n[4.0123456789012345] [4.012346] [4.012345678901235]  // we picked up 12345 again!\r\n\r\nshow(&quot;123456789.0123456789012345&quot;); \r\n[123456789.0123456789012345] [123456789.012346] [123456789.012345670000000]  // lost 9012345!\r\n```\r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>Careful.  <code>double</code> is not infinitely large.  10 or more decimals starts to cut down on the size of the integer portion.   Indeed, even the string <code>40123.012345678901</code> in the question does not completely roundtrip:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void show(String s) {\n    double d = Double.parseDouble(s);\n    System.out.printf(&quot;[%s] [%f] [%.15f]\\n&quot;, s, d, d);\n}\n\nshow(&quot;40123.012345678901&quot;);\n[40123.012345678901] [40123.012346] [40123.012345678900000] // lost the 1.\nshow(&quot;40123.0123456789012345&quot;);\n[40123.0123456789012345] [40123.012346] [40123.012345678900000] // lost 12345\n\nshow(&quot;4.0123456789012345&quot;); // less integer digits:\n[4.0123456789012345] [4.012346] [4.012345678901235]  // we picked up 12345 again!\n\nshow(&quot;123456789.0123456789012345&quot;); \n[123456789.0123456789012345] [123456789.012346] [123456789.012345670000000]  // lost 9012345!\n</code></pre>\n"}],"owner":{"account_id":7189687,"reputation":1,"user_id":5490498,"display_name":"S M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1701805317,"creation_date":1445883981,"question_id":33353008,"body_markdown":"How do I convert a string such as  `40,123.012345678901`  to a `double`?\r\n\r\n    double d = Double.parseDouble(&quot;40,123.012345678901&quot;); \r\n\r\nthrows a number format exception.\r\n\r\nThanks\r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>How do I convert a string such as  <code>40,123.012345678901</code>  to a <code>double</code>?</p>\n\n<pre><code>double d = Double.parseDouble(\"40,123.012345678901\"); \n</code></pre>\n\n<p>throws a number format exception.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","arrays","multidimensional-array","dynamic-arrays"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1701647559,"post_id":77596228,"comment_id":136798478,"body_markdown":"Do not use the `dsa` tag.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not use the <code>dsa</code> tag.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701648064,"post_id":77596228,"comment_id":136798513,"body_markdown":"Assumes `rows=3`. When you do `new int[rows][];`, you created an array like `[null, null, null]`. When you do `new int[rows][2]`, you get `[[0, 0], [0, 0], [0, 0]]`. You need to initialize those arrays yourself if you&#39;re using variable dimensions. Basically, you created an array of `int[]` (an object, which defaults to `null`) vs `int[col]` (an array of length `col`, with default values of 0).","body":"Assumes <code>rows=3</code>. When you do <code>new int[rows][];</code>, you created an array like <code>[null, null, null]</code>. When you do <code>new int[rows][2]</code>, you get <code>[[0, 0], [0, 0], [0, 0]]</code>. You need to initialize those arrays yourself if you&#39;re using variable dimensions. Basically, you created an array of <code>int[]</code> (an object, which defaults to <code>null</code>) vs <code>int[col]</code> (an array of length <code>col</code>, with default values of 0)."}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676005,"creation_date":1701676005,"answer_id":77597871,"question_id":77596228,"body_markdown":"The below code takes input from user for the Columns and Rows and Insert values according asking from user to input the value and then Prints them for users reference.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            // Get the dimensions of the array from the user\r\n            System.out.print(&quot;Enter the number of rows: &quot;);\r\n            int rows = scanner.nextInt();\r\n    \r\n            System.out.print(&quot;Enter the number of columns: &quot;);\r\n            int columns = scanner.nextInt();\r\n    \r\n            // Create a 2D array based on user input\r\n            int[][] array = new int[rows][columns];\r\n    \r\n            // Take input for each element of the array\r\n            System.out.println(&quot;Enter the elements of the array:&quot;);\r\n    \r\n            for (int i = 0; i &lt; rows; i++) {\r\n                for (int j = 0; j &lt; columns; j++) {\r\n                    System.out.print(&quot;Enter element at position [&quot; + i + &quot;][&quot; + j + &quot;]: &quot;);\r\n                    array[i][j] = scanner.nextInt();\r\n                }\r\n            }\r\n    \r\n            // Print the elements of the array\r\n            System.out.println(&quot;The array is:&quot;);\r\n    \r\n            for (int i = 0; i &lt; rows; i++) {\r\n                for (int j = 0; j &lt; columns; j++) {\r\n                    System.out.print(array[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();  // Move to the next line after each row\r\n            }\r\n    \r\n            // Close the scanner to avoid resource leak\r\n            scanner.close();\r\n    \t}\r\n    }\r\n\r\n&gt; Refer the working code [here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/afbLtuZfU","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>The below code takes input from user for the Columns and Rows and Insert values according asking from user to input the value and then Prints them for users reference.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n\n        // Get the dimensions of the array from the user\n        System.out.print(&quot;Enter the number of rows: &quot;);\n        int rows = scanner.nextInt();\n\n        System.out.print(&quot;Enter the number of columns: &quot;);\n        int columns = scanner.nextInt();\n\n        // Create a 2D array based on user input\n        int[][] array = new int[rows][columns];\n\n        // Take input for each element of the array\n        System.out.println(&quot;Enter the elements of the array:&quot;);\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; columns; j++) {\n                System.out.print(&quot;Enter element at position [&quot; + i + &quot;][&quot; + j + &quot;]: &quot;);\n                array[i][j] = scanner.nextInt();\n            }\n        }\n\n        // Print the elements of the array\n        System.out.println(&quot;The array is:&quot;);\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; columns; j++) {\n                System.out.print(array[i][j] + &quot; &quot;);\n            }\n            System.out.println();  // Move to the next line after each row\n        }\n\n        // Close the scanner to avoid resource leak\n        scanner.close();\n    }\n}\n</code></pre>\n<blockquote>\n<p>Refer the working code <a href=\"https://onlinegdb.com/afbLtuZfU\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30057627,"reputation":1,"user_id":23034568,"display_name":"Vidita Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701804638,"creation_date":1701804638,"answer_id":77608816,"question_id":77596228,"body_markdown":"It works using the following code:\r\n\r\n    System.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n\r\n        int col = 10;\r\n        int[][] arr = new int[rows][col];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n\r\n            System.out.printf(&quot;Enter no. of elements in array %d (should be less than 10): &quot;,r+1);\r\n            col = sc.nextInt();\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.printf(&quot;Enter element [%d][%d]: &quot;,r+1,c+1);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\nThe col  numbers however must be less than the ones defined statically.","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>It works using the following code:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n    int rows = sc.nextInt();\n\n    int col = 10;\n    int[][] arr = new int[rows][col];\n\n    for (int r=0; r&lt;arr.length; r++) {\n\n        System.out.printf(&quot;Enter no. of elements in array %d (should be less than 10): &quot;,r+1);\n        col = sc.nextInt();\n\n        for (int c=0; c&lt;col;c++){\n\n            System.out.printf(&quot;Enter element [%d][%d]: &quot;,r+1,c+1);\n            arr[r][c] = sc.nextInt();\n        }\n    }\n</code></pre>\n<p>The col  numbers however must be less than the ones defined statically.</p>\n"}],"owner":{"account_id":30057627,"reputation":1,"user_id":23034568,"display_name":"Vidita Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701804638,"creation_date":1701638600,"question_id":77596228,"body_markdown":"I want to take a 2D array with each element as an input from user.\r\nHowever, I want the user to specify in each array(i.e the column part or the each individual array) how many elements are there i.e taking variable columns.\r\n\r\n\r\nI entered the following code:\r\n\r\n```\r\nSystem.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n\r\n        int[][] arr = new int[rows][];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n            System.out.print(&quot;Enter no. of elements in array &quot;+r +&quot;: &quot;);\r\n            int col = sc.nextInt();\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for (int[] x :\r\n                arr) {\r\n            System.out.println(Arrays.toString(x));\r\n        }\r\n```\r\n\r\nIt should take input of a 2D array with variable columns as defined by user and print it.\r\nBut,\r\nIt shows the following error:\r\n[Error in code](https://i.stack.imgur.com/W6i0E.png)\r\n\r\n\r\n----------\r\nHowever when I define the number of columns it works fine.\r\nlike this:\r\n\r\n    System.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n        System.out.print(&quot;Enter no. of elements in each array : &quot;);\r\n        int col = sc.nextInt();\r\n        int[][] arr = new int[rows][col];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for (int[] x :\r\n                arr) {\r\n            System.out.println(Arrays.toString(x));\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n\r\n","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>I want to take a 2D array with each element as an input from user.\nHowever, I want the user to specify in each array(i.e the column part or the each individual array) how many elements are there i.e taking variable columns.</p>\n<p>I entered the following code:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n        int rows = sc.nextInt();\n\n        int[][] arr = new int[rows][];\n\n        for (int r=0; r&lt;arr.length; r++) {\n            System.out.print(&quot;Enter no. of elements in array &quot;+r +&quot;: &quot;);\n            int col = sc.nextInt();\n\n            for (int c=0; c&lt;col;c++){\n\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\n                arr[r][c] = sc.nextInt();\n            }\n        }\n\n        for (int[] x :\n                arr) {\n            System.out.println(Arrays.toString(x));\n        }\n</code></pre>\n<p>It should take input of a 2D array with variable columns as defined by user and print it.\nBut,\nIt shows the following error:\n<a href=\"https://i.stack.imgur.com/W6i0E.png\" rel=\"nofollow noreferrer\">Error in code</a></p>\n<hr />\n<p>However when I define the number of columns it works fine.\nlike this:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n    int rows = sc.nextInt();\n    System.out.print(&quot;Enter no. of elements in each array : &quot;);\n    int col = sc.nextInt();\n    int[][] arr = new int[rows][col];\n\n    for (int r=0; r&lt;arr.length; r++) {\n\n\n        for (int c=0; c&lt;col;c++){\n\n            System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\n            arr[r][c] = sc.nextInt();\n        }\n    }\n\n    for (int[] x :\n            arr) {\n        System.out.println(Arrays.toString(x));\n    }\n}\n</code></pre>\n<hr />\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653418176,"post_id":72366267,"comment_id":127846860,"body_markdown":"What is the compiler error you get.","body":"What is the compiler error you get."},{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1653420444,"post_id":72366267,"comment_id":127847526,"body_markdown":"@M.Deinum added compilation error","body":"@M.Deinum added compilation error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653456695,"post_id":72366267,"comment_id":127853903,"body_markdown":"Hmm. Thats weird, the docs state that it should work, the javadoc clearly indicates that there is no `access(String)` method. Appears to be an omission somewhere. I would create an issue in the spring security bug tracker as it is either wrong documentation or missing code.","body":"Hmm. Thats weird, the docs state that it should work, the javadoc clearly indicates that there is no <code>access(String)</code> method. Appears to be an omission somewhere. I would create an issue in the spring security bug tracker as it is either wrong documentation or missing code."},{"owner":{"account_id":13426329,"reputation":103,"user_id":9687563,"display_name":"lucas"},"score":0,"creation_date":1688972983,"post_id":72366267,"comment_id":135141298,"body_markdown":"Is it possible to use hasIpAddress with spring security 6 ?","body":"Is it possible to use hasIpAddress with spring security 6 ?"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1697809970,"post_id":72366267,"comment_id":136330169,"body_markdown":"ciao @lucas, no it is not i myself has been struggling. the only thing i foud that remotely works: `http.authorizeHttpRequests(authorize -&gt; {\n       \n            authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();`","body":"ciao @lucas, no it is not i myself has been struggling. the only thing i foud that remotely works: <code>http.authorizeHttpRequests(authorize -&gt; {                     authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();</code>"}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4700,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701804126,"creation_date":1653584456,"answer_id":72395472,"question_id":72366267,"body_markdown":"This does appear to be an issue with the docs. There is not currently a built-in implementation providing the `hasIpAddress(String)` access check, but you can use the `IpAddressMatcher` class to implement an `AuthorizationManager` capable of performing it.\r\n\r\nHere&#39;s an example configuration:\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authorizeRequests) -&gt; authorizeRequests\r\n                .requestMatchers(&quot;/&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\r\n                .anyRequest().authenticated()\r\n            )\r\n            .formLogin(Customizer.withDefaults())\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    private static AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\r\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\r\n        return (authentication, context) -&gt; {\r\n            HttpServletRequest request = context.getRequest();\r\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\r\n        };\r\n    }\r\n\r\n}\r\n```","title":"Matching IP address with authorizeHttpRequests","body":"<p>This does appear to be an issue with the docs. There is not currently a built-in implementation providing the <code>hasIpAddress(String)</code> access check, but you can use the <code>IpAddressMatcher</code> class to implement an <code>AuthorizationManager</code> capable of performing it.</p>\n<p>Here's an example configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authorizeRequests) -&gt; authorizeRequests\n                .requestMatchers(&quot;/&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\n                .anyRequest().authenticated()\n            )\n            .formLogin(Customizer.withDefaults())\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n    private static AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\n        return (authentication, context) -&gt; {\n            HttpServletRequest request = context.getRequest();\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692066808,"creation_date":1692066808,"answer_id":76903132,"question_id":72366267,"body_markdown":"Prescribed way as per [Spring documentation][1] is as below.\r\n\r\n    IpAddressMatcher hasIpAddress = new IpAddressMatcher(ipAddress);\r\n    authorizeRequests.requestMatchers(&quot;/your/url/**&quot;)\r\n    \t.access((authentication, context) -&gt;\r\n    \t\tnew AuthorizationDecision(hasIpAddress.matches(context.getRequest())));\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager\r\n\r\n\r\n\r\n","title":"Matching IP address with authorizeHttpRequests","body":"<p>Prescribed way as per <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager\" rel=\"nofollow noreferrer\">Spring documentation</a> is as below.</p>\n<pre><code>IpAddressMatcher hasIpAddress = new IpAddressMatcher(ipAddress);\nauthorizeRequests.requestMatchers(&quot;/your/url/**&quot;)\n    .access((authentication, context) -&gt;\n        new AuthorizationDecision(hasIpAddress.matches(context.getRequest())));\n</code></pre>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72395472,"answer_count":2,"score":4,"last_activity_date":1701804126,"creation_date":1653409322,"question_id":72366267,"body_markdown":"I&#39;ve read in [Spring Security Reference](https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html) that AuthorizationFilter supersedes FilterSecurityInterceptor. So I&#39;m trying to migrate my application to this newer method.\r\n\r\nI have something like\r\n\r\n```\r\n                http.authorizeRequests()\r\n                        .mvcMatchers(&quot;/&quot;)\r\n                        .hasIpAddress(&quot;127.0.0.1&quot;)\r\n```\r\n\r\nAccording to the linked page I should be able to write something like\r\n\r\n```\r\n                http.authorizeHttpRequests()\r\n                        .mvcMatchers(&quot;/&quot;)\r\n                        .access(&quot;hasIpAddress(&#39;127.0.0.1&#39;)&quot;)\r\n```\r\n\r\nbut there&#39;s no `access(String)` method. I even tried to paste verbatim code from the documentation:\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain web(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t\t// ...\r\n\t\t.authorizeHttpRequests(authorize -&gt; authorize                                  \r\n\t\t\t.mvcMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \r\n\t\t\t.mvcMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \r\n\t\t\t.mvcMatchers(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;)   \r\n\t\t\t.anyRequest().denyAll()                                                \r\n\t\t);\r\n\r\n\treturn http.build();\r\n}\r\n```\r\n\r\nwhich does not compile for the same reason.\r\n\r\nHere&#39;s compilation error:\r\n\r\n```\r\nApplication.java:103:55\r\njava: incompatible types: java.lang.String cannot be converted to org.springframework.security.authorization.AuthorizationManager&lt;org.springframework.security.web.access.intercept.RequestAuthorizationContext&gt;\r\n```\r\n\r\nHow do I use authorizeHttpRequests with IP addresses or string expression? Is it issue with documentation?\r\n\r\nI&#39;m using Spring Boot 2.7.0 and Spring Security 5.7.1\r\n","title":"Matching IP address with authorizeHttpRequests","body":"<p>I've read in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">Spring Security Reference</a> that AuthorizationFilter supersedes FilterSecurityInterceptor. So I'm trying to migrate my application to this newer method.</p>\n<p>I have something like</p>\n<pre><code>                http.authorizeRequests()\n                        .mvcMatchers(&quot;/&quot;)\n                        .hasIpAddress(&quot;127.0.0.1&quot;)\n</code></pre>\n<p>According to the linked page I should be able to write something like</p>\n<pre><code>                http.authorizeHttpRequests()\n                        .mvcMatchers(&quot;/&quot;)\n                        .access(&quot;hasIpAddress('127.0.0.1')&quot;)\n</code></pre>\n<p>but there's no <code>access(String)</code> method. I even tried to paste verbatim code from the documentation:</p>\n<pre><code>@Bean\nSecurityFilterChain web(HttpSecurity http) throws Exception {\n    http\n        // ...\n        .authorizeHttpRequests(authorize -&gt; authorize                                  \n            .mvcMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \n            .mvcMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \n            .mvcMatchers(&quot;/db/**&quot;).access(&quot;hasRole('ADMIN') and hasRole('DBA')&quot;)   \n            .anyRequest().denyAll()                                                \n        );\n\n    return http.build();\n}\n</code></pre>\n<p>which does not compile for the same reason.</p>\n<p>Here's compilation error:</p>\n<pre><code>Application.java:103:55\njava: incompatible types: java.lang.String cannot be converted to org.springframework.security.authorization.AuthorizationManager&lt;org.springframework.security.web.access.intercept.RequestAuthorizationContext&gt;\n</code></pre>\n<p>How do I use authorizeHttpRequests with IP addresses or string expression? Is it issue with documentation?</p>\n<p>I'm using Spring Boot 2.7.0 and Spring Security 5.7.1</p>\n"},{"tags":["java","apache-flink","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701804109,"creation_date":1701804109,"answer_id":77608778,"question_id":77599488,"body_markdown":"Since you need to process ALL of the records to determine what your downstream operations will do, you have two choices...\r\n\r\n 1. Run this as two jobs, where the first job has a counter for # of invalid records, and writes all results to temp storage (ideally in a more efficient format than CSV, e.g. Parquet). Then the second job can check the counter and decide what to do with the data.\r\n 2. Buffer all the data, which (with the DataSet API) means using memory by default. Then you can defer the decision of what to do, based on the valid flag for all records. But that obviously creates memory constraints on the size of any one file.\r\n\r\nNote that if you only needed to separate the data, you could use the DataStream API with buckets to write valid vs. invalid records to different locations.","title":"Handling Conditional Processing in Apache Flink&#39;s Batch Mode with DataSet Constraints","body":"<p>Since you need to process ALL of the records to determine what your downstream operations will do, you have two choices...</p>\n<ol>\n<li>Run this as two jobs, where the first job has a counter for # of invalid records, and writes all results to temp storage (ideally in a more efficient format than CSV, e.g. Parquet). Then the second job can check the counter and decide what to do with the data.</li>\n<li>Buffer all the data, which (with the DataSet API) means using memory by default. Then you can defer the decision of what to do, based on the valid flag for all records. But that obviously creates memory constraints on the size of any one file.</li>\n</ol>\n<p>Note that if you only needed to separate the data, you could use the DataStream API with buckets to write valid vs. invalid records to different locations.</p>\n"}],"owner":{"account_id":29204816,"reputation":11,"user_id":22374157,"display_name":"Dhanaji Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701804109,"creation_date":1701693345,"question_id":77599488,"body_markdown":"I utilized Apache Flink for batch mode file processing. Initially, I read a CSV file into a custom object, DataSet\\&lt;MyObject\\&gt; readCsvData. Subsequently, I performed various validations on the data and updated the isValid flag in readCsvData. For instance, setting isValid to true for valid records and false for invalid ones.\r\n\r\nNow, I aim to use a conditional statement to determine if all CSV file records are valid. However, due to certain limitations:\r\n\r\nFor Eg.\r\n\r\n\r\n\r\n```\r\nfinal ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\r\nString fileName = myFile.csv\r\nDataSet&lt;MyObject&gt; readCsvData = readAndProcessCsvData(env, fileName);\r\n\r\nDataSet&lt;MyObject&gt; validateFile = validateFile(readCsvData);\r\n\r\nif(toCheckIsValidFlag){\r\n    //********** process further ***********\r\n    generateAckFile();\r\n}\r\nelse\r\n{\r\n    generateNckFile();\r\n}\r\n\r\nenv.execute();\r\n```\r\n\r\nAnd MyObject is\r\n\r\n```\r\npublic class MyObject{\r\n\r\n    private FileDetails fileDetails;\r\n    private String fileName;\r\n    public boolean isValid ;\r\n    public String invalidReason;\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;m operating in the execution environment (batch mode), restricting the use of eager functions like .collect() or .count().\r\nDirectly setting the flag isn&#39;t feasible because custom code executes after the job runs.\r\nRetrieving a MyObject from DataSet is not possible without using operators like .collect() or collector().\r\nHence, I&#39;m seeking a method to check if all records in readCsvData are valid (readCsvData.isValid == true). Based on this condition, I intend to proceed with further transformations and sink the data, or direct all the data to a file sink.\r\n\r\nWhile used ager functions then showing error.\r\n\r\nThe exception:\r\n\r\n```\r\nCaused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Job was submitted in detached mode. Results of job execution, such as accumulators, runtime, etc. are not available. Please make sure your program doesn&#39;t call an eager execution function [collect, print, printToErr, count].\r\n```","title":"Handling Conditional Processing in Apache Flink&#39;s Batch Mode with DataSet Constraints","body":"<p>I utilized Apache Flink for batch mode file processing. Initially, I read a CSV file into a custom object, DataSet&lt;MyObject&gt; readCsvData. Subsequently, I performed various validations on the data and updated the isValid flag in readCsvData. For instance, setting isValid to true for valid records and false for invalid ones.</p>\n<p>Now, I aim to use a conditional statement to determine if all CSV file records are valid. However, due to certain limitations:</p>\n<p>For Eg.</p>\n<pre><code>final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\nString fileName = myFile.csv\nDataSet&lt;MyObject&gt; readCsvData = readAndProcessCsvData(env, fileName);\n\nDataSet&lt;MyObject&gt; validateFile = validateFile(readCsvData);\n\nif(toCheckIsValidFlag){\n    //********** process further ***********\n    generateAckFile();\n}\nelse\n{\n    generateNckFile();\n}\n\nenv.execute();\n</code></pre>\n<p>And MyObject is</p>\n<pre><code>public class MyObject{\n\n    private FileDetails fileDetails;\n    private String fileName;\n    public boolean isValid ;\n    public String invalidReason;\n\n}\n</code></pre>\n<p>I'm operating in the execution environment (batch mode), restricting the use of eager functions like .collect() or .count().\nDirectly setting the flag isn't feasible because custom code executes after the job runs.\nRetrieving a MyObject from DataSet is not possible without using operators like .collect() or collector().\nHence, I'm seeking a method to check if all records in readCsvData are valid (readCsvData.isValid == true). Based on this condition, I intend to proceed with further transformations and sink the data, or direct all the data to a file sink.</p>\n<p>While used ager functions then showing error.</p>\n<p>The exception:</p>\n<pre><code>Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Job was submitted in detached mode. Results of job execution, such as accumulators, runtime, etc. are not available. Please make sure your program doesn't call an eager execution function [collect, print, printToErr, count].\n</code></pre>\n"},{"tags":["java","spring-boot","azure-active-directory","cas"],"owner":{"account_id":29803423,"reputation":11,"user_id":22840682,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701435921,"answer_count":0,"score":0,"last_activity_date":1701803924,"creation_date":1698850194,"question_id":77403514,"body_markdown":"I&#39;m using CAS 6.5.3 with Microsoft Azure AD / Entra ID as the backend. When logging out, CAS tries to redirect the user back to Microsoft using this URL format `https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/logout?id_token_hint=&lt;user-token&gt;`. In our case, the `&lt;user-token&gt;` field, contains the entire token claim including any groups that the user belongs to. Due to this, users that belong to many groups get a huge logout URL that causes some users to get a Microsoft error `AADSTS90015: Requested query string is too long.`\r\n\r\nIs there a way to force CAS to create the logout URL as a `POST` request instead of a `GET` or not include the entire claim in the logout URL.\r\n\r\nEDIT: I would like to either have another way to logout without speciying the `id_token_hint` parameter or remove the groups claims from the `id_token_hint` parameter but I don&#39;t see a way to do so in the CAS server configuration. I also don&#39;t see in the CAS source where this parameter is getting built.","title":"CAS Integration with Azure AD fails on logout for some users","body":"<p>I'm using CAS 6.5.3 with Microsoft Azure AD / Entra ID as the backend. When logging out, CAS tries to redirect the user back to Microsoft using this URL format <code>https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/logout?id_token_hint=&lt;user-token&gt;</code>. In our case, the <code>&lt;user-token&gt;</code> field, contains the entire token claim including any groups that the user belongs to. Due to this, users that belong to many groups get a huge logout URL that causes some users to get a Microsoft error <code>AADSTS90015: Requested query string is too long.</code></p>\n<p>Is there a way to force CAS to create the logout URL as a <code>POST</code> request instead of a <code>GET</code> or not include the entire claim in the logout URL.</p>\n<p>EDIT: I would like to either have another way to logout without speciying the <code>id_token_hint</code> parameter or remove the groups claims from the <code>id_token_hint</code> parameter but I don't see a way to do so in the CAS server configuration. I also don't see in the CAS source where this parameter is getting built.</p>\n"},{"tags":["java","hibernate","insert-update"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1701804655,"post_id":77608761,"comment_id":136820119,"body_markdown":"Just set a breakpoint to the problem field setter and inspect it with a debugger.","body":"Just set a breakpoint to the problem field setter and inspect it with a debugger."}],"owner":{"account_id":30074896,"reputation":1,"user_id":23047997,"display_name":"Summa Summa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701803892,"creation_date":1701803892,"question_id":77608761,"body_markdown":"One object has been sent to hibernate saveOrUpdate method for updating the data. Before save the value of one field was different and after save the value in the object got changed. Is this one of the issue of hibernate call? Or it happened due to collision with any other flow because the method hibernate saveOrUpdate is getting called from more than 10 places.\r\n\r\nStill trying to find the root cause.","title":"Value of one field in one entity has been changed after hibernate call saveOrUpdate","body":"<p>One object has been sent to hibernate saveOrUpdate method for updating the data. Before save the value of one field was different and after save the value in the object got changed. Is this one of the issue of hibernate call? Or it happened due to collision with any other flow because the method hibernate saveOrUpdate is getting called from more than 10 places.</p>\n<p>Still trying to find the root cause.</p>\n"},{"tags":["java","arrays","file","reference","bufferedreader"],"comments":[{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1701803554,"post_id":77608706,"comment_id":136819968,"body_markdown":"Having just skimmed the description I&#39;m like 95% sure that your fields in `Save` are `static`. They should not be.","body":"Having just skimmed the description I&#39;m like 95% sure that your fields in <code>Save</code> are <code>static</code>. They should not be."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701806880,"post_id":77608706,"comment_id":136820433,"body_markdown":"maybe you could include a [mre] (you can remove the *documentation* and even simplify it to one field or so and only relevant methods)","body":"maybe you could include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (you can remove the <i>documentation</i> and even simplify it to one field or so and only relevant methods)"}],"owner":{"account_id":30074718,"reputation":1,"user_id":23047869,"display_name":"Caden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701840528,"answer_count":0,"score":-2,"last_activity_date":1701803294,"creation_date":1701803294,"question_id":77608706,"body_markdown":"I am trying to write a program that can read and write save data into files in a way that my monkey brain can understand. However, I ran into problems with creating a method which can return an array of &quot;Save&quot; objects, storing data relating to all the different saves stored in a file.\r\n\r\n```\r\npublic static Save [ ] getSaves ( String file )\r\n{\r\n    \r\n   int len = length ( file ) ;\r\n   Save [ ] savesList = new Save [ len ] ;\r\n   BufferedReader br = null ;\r\n   \r\n   try {\r\n        \r\n    br = new BufferedReader ( new FileReader ( &quot;saves.txt&quot; ) ) ;\r\n            br . readLine ( ) ;\r\n        \r\n    } catch ( Exception e ) { }\r\n    \r\n    for ( int i = 0 ; i &lt; len ; i ++ ) {\r\n        \r\n       // debug\r\n       System . out . println ( &quot;\\nIteration &quot; + i + &quot; :\\n&quot; ) ;\r\n        \r\n        if ( i &gt; 0 ) { System . out . println ( &quot;Pre ( i - 1 ) :\\n&quot; + savesList [ i - 1 ] ) ; }\r\n        \r\n        try {\r\n            \r\n            savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;\r\n            \r\n            // debug\r\n            System . out . println ( &quot;Post :&quot; ) ;\r\n            if ( i &gt; 0 ) { System . out . println ( &quot;i - 1 :\\n&quot; + savesList [ i - 1 ] ) ; }\r\n            System . out . println ( &quot;i :\\n&quot; + savesList [ i ] ) ;\r\n            if ( i &lt; len - 1 ) { System . out . println ( &quot;i + 1 :\\n&quot; + savesList [ i + 1 ] ) ; }\r\n            \r\n        }\r\n        catch ( IOException e ) { System . out . println ( &quot;Error : Could not add Save object to savesList&quot; ) ; }\r\n        \r\n        readToLine ( br , dataTypes . length ) ;\r\n        \r\n    }\r\n    \r\n    return savesList ;\r\n    \r\n}\r\n```\r\n( Calling `length ( file ) ;` returns the number of saves in the file, `readToLine ( br , dataTypes . length ) ;` advances the BufferedReader to the point where the next save&#39;s information starts )\r\n\r\nIt was for some reason returning a list of all the same Save objects, except they all had different references, but the same data.\r\n\r\nAnd I didn&#39;t include the whole class because it is an absolute mess with WAY too much documentation. Over 3/4ths of the whole class is just documentation and it is an eyesore to look at.\r\n\r\nThis was meant to return an array containing object references to each Save object corresponding to a save in the file.\r\n\r\nThrough debugging I found out that each Save object that I added to the array, it would overwrite all the indices before it in the array with the same data, but not the ones in front of it.\r\n\r\nI tested the references being returned, and the references of each of the objects remained the same from the moment they were created, but after the next Save object was added to the array, all the other Save objects in the array would have their data overwritten by the new Save object.\r\n\r\nI tried making the code only add the Save object if the index I was trying to add it to was null, but that didn&#39;t work. I tried using an ArrayList instead, but that didn&#39;t work. I tried rewriting the whole method to see if I was missing something obvious twice, but that didn&#39;t work either.\r\n\r\nI also discovered that when the file had 4 or more saves in it, it would seemingly break and say that in the line where the new Save object was being created ( `savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;` ) that the String being read by br didn&#39;t have the substring it was looking for ( It threw an ArrayIndexOutOfBoundsException ).","title":"Java Object references in array changing their data, but not the reference for seemingly no reason","body":"<p>I am trying to write a program that can read and write save data into files in a way that my monkey brain can understand. However, I ran into problems with creating a method which can return an array of &quot;Save&quot; objects, storing data relating to all the different saves stored in a file.</p>\n<pre><code>public static Save [ ] getSaves ( String file )\n{\n    \n   int len = length ( file ) ;\n   Save [ ] savesList = new Save [ len ] ;\n   BufferedReader br = null ;\n   \n   try {\n        \n    br = new BufferedReader ( new FileReader ( &quot;saves.txt&quot; ) ) ;\n            br . readLine ( ) ;\n        \n    } catch ( Exception e ) { }\n    \n    for ( int i = 0 ; i &lt; len ; i ++ ) {\n        \n       // debug\n       System . out . println ( &quot;\\nIteration &quot; + i + &quot; :\\n&quot; ) ;\n        \n        if ( i &gt; 0 ) { System . out . println ( &quot;Pre ( i - 1 ) :\\n&quot; + savesList [ i - 1 ] ) ; }\n        \n        try {\n            \n            savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;\n            \n            // debug\n            System . out . println ( &quot;Post :&quot; ) ;\n            if ( i &gt; 0 ) { System . out . println ( &quot;i - 1 :\\n&quot; + savesList [ i - 1 ] ) ; }\n            System . out . println ( &quot;i :\\n&quot; + savesList [ i ] ) ;\n            if ( i &lt; len - 1 ) { System . out . println ( &quot;i + 1 :\\n&quot; + savesList [ i + 1 ] ) ; }\n            \n        }\n        catch ( IOException e ) { System . out . println ( &quot;Error : Could not add Save object to savesList&quot; ) ; }\n        \n        readToLine ( br , dataTypes . length ) ;\n        \n    }\n    \n    return savesList ;\n    \n}\n</code></pre>\n<p>( Calling <code>length ( file ) ;</code> returns the number of saves in the file, <code>readToLine ( br , dataTypes . length ) ;</code> advances the BufferedReader to the point where the next save's information starts )</p>\n<p>It was for some reason returning a list of all the same Save objects, except they all had different references, but the same data.</p>\n<p>And I didn't include the whole class because it is an absolute mess with WAY too much documentation. Over 3/4ths of the whole class is just documentation and it is an eyesore to look at.</p>\n<p>This was meant to return an array containing object references to each Save object corresponding to a save in the file.</p>\n<p>Through debugging I found out that each Save object that I added to the array, it would overwrite all the indices before it in the array with the same data, but not the ones in front of it.</p>\n<p>I tested the references being returned, and the references of each of the objects remained the same from the moment they were created, but after the next Save object was added to the array, all the other Save objects in the array would have their data overwritten by the new Save object.</p>\n<p>I tried making the code only add the Save object if the index I was trying to add it to was null, but that didn't work. I tried using an ArrayList instead, but that didn't work. I tried rewriting the whole method to see if I was missing something obvious twice, but that didn't work either.</p>\n<p>I also discovered that when the file had 4 or more saves in it, it would seemingly break and say that in the line where the new Save object was being created ( <code>savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;</code> ) that the String being read by br didn't have the substring it was looking for ( It threw an ArrayIndexOutOfBoundsException ).</p>\n"},{"tags":["java","pdf","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701843999,"post_id":77608691,"comment_id":136824015,"body_markdown":"Pdfbox does not explicitly support signatures with multiple visualizations (they are not valid according to spec after all), let alone signatures with multiple different visualizations. In particular `SignatureOptions` only has a `setVisualSignature` method (i.e. for a single visualization). To create a signature with multiple, different visualizations you&#39;ll have to do a bit more low level programming.","body":"Pdfbox does not explicitly support signatures with multiple visualizations (they are not valid according to spec after all), let alone signatures with multiple different visualizations. In particular <code>SignatureOptions</code> only has a <code>setVisualSignature</code> method (i.e. for a single visualization). To create a signature with multiple, different visualizations you&#39;ll have to do a bit more low level programming."}],"owner":{"account_id":30074222,"reputation":1,"user_id":23047484,"display_name":"TCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701840560,"answer_count":0,"score":-2,"last_activity_date":1701803093,"creation_date":1701803093,"question_id":77608691,"body_markdown":"Im trying to create one visualization for each document&#39;s page and sign it once with PdfBox. Each visualization has a different image to be render. However, always the first visualization of the signature is replaced by the visualization of the last one. I need help to understand what is happening in order to fix it\r\n\r\n\r\nTried to replicate the 3rd alternative discussed in [text](https://stackoverflow.com/questions/52829507/multiple-signs-using-pdfbox-2-0-12-java)\r\nbut the first visualization of the signature is replaced by the visualization of the last one. This is my code:\r\n\r\n```\r\npublic function()\r\n            throws IOException, IllegalStateException, GeneralSecurityException\r\n    {\r\n         ...\r\n        try {\r\n             ...\r\n\r\n            try (\r\n                FileOutputStream fos = new FileOutputStream(fileAFirmar);\r\n                PDDocument doc = PDDocument.load(filePdfCopia)\r\n                )\r\n            {\r\n                int accessPermissions = SigUtils.getMDPPermission(doc);\r\n\r\n                float margin = 5f;\r\n                float circleRadius = 25f;\r\n\r\n                int sigPage = doc.getNumberOfPages();\r\n                PDPage targetPage = doc.getPage(sigPage - 1);\r\n                PDRectangle pageSize = targetPage.getMediaBox();\r\n                PDRectangle a4Size = PDRectangle.A4;\r\n\r\n                float sigX = a4Size.getWidth() - margin - (circleRadius * 2);\r\n                float sigY = a4Size.getHeight() - margin - (circleRadius * 2);\r\n                float sigW = circleRadius * 2;  // Width of the circle\r\n                float sigH = circleRadius * 2;  // Height of the circle\r\n\r\n                PDRectangle rect = new PDRectangle(sigX, sigY, sigW, sigH);\r\n\r\n                PDSignature signature = new PDSignature();\r\n\r\n                if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n                {\r\n                    SigUtils.setMDPPermission(doc, signature, 2);\r\n                }\r\n\r\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n                signature.setLocation(&quot;&quot;);\r\n                signature.setReason(&quot;&quot;);\r\n                signature.setSignDate(Calendar.getInstance());\r\n\r\n                SignatureInterface signatureInterface = null;\r\n                SignatureOptions signatureOptions = new SignatureOptions();\r\n\r\n                List&lt;File&gt; signatureImageFilesList = new ArrayList&lt;&gt;();\r\n                signatureImageFilesList.add(foleoImgFile);\r\n                signatureImageFilesList.add(foleoImgFile2);\r\n                signatureImageFilesList.add(foleoImgFile3);\r\n\r\n                int fileIndex = 0;\r\n\r\n                    int totalPages = doc.getNumberOfPages();\r\n                    \r\n                    for (int i = 0; i &lt; totalPages; i++) {\r\n                        _log.info(&quot;Page iteration: &quot; + i);\r\n\r\n                        PDPage pdPage = doc.getPage(i);\r\n                        File signatureImageFile = signatureImageFilesList.get(fileIndex);\r\n\r\n                        signatureOptions.setPage(i);\r\n                        InputStream signatureFieldStream = addSignatureField(doc, pdPage, i, rect, signature, folio, sigX, sigY, signatureImageFile);\r\n                        signatureOptions.setVisualSignature(signatureFieldStream);\r\n                        folio++;\r\n                        fileIndex++;\r\n                        // Check if the file index reaches the end of the array\r\n                        if (fileIndex &gt;= signatureImageFilesList.size()) {\r\n                            // Reset the index to start from the beginning\r\n                            fileIndex = 0;\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                doc.addSignature(signature, signatureInterface, signatureOptions);\r\n\r\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);           \r\n                KeyStore keyStore = signer.loadKeyStore();\r\n                byte[] signatureBytes = signer.sign(externalSigning.getContent());\r\n\r\n                MessageDigest digest = null;\r\n                try {\r\n                    digest = MessageDigest.getInstance(SysConstanst.SIGNATURE_HASH_ALGO);\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                externalSigning.setSignature(signatureBytes);\r\n            }\r\n            IOUtils.closeQuietly(signatureOptions);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return foleadoResp;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\npublic InputStream addSignatureField(\r\n        PDDocument pdDocument, PDPage pdPage, int pageNum,  PDRectangle rect, PDSignature signature, \r\n        Integer folio, float circleXa, float circleYa, File image\r\n    ) throws IOException, IllegalStateException {\r\n\r\n        try {\r\n\r\n            PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\r\n\r\n            if (acroForm == null) {\r\n                acroForm = new PDAcroForm(pdDocument);\r\n                pdDocument.getDocumentCatalog().setAcroForm(acroForm);\r\n            }\r\n            acroForm.getCOSObject().setNeedToBeUpdated(true);\r\n            COSObject fields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\r\n            if (fields != null)\r\n                fields.setNeedToBeUpdated(true);\r\n\r\n            acroForm.setSignaturesExist(true);\r\n            acroForm.setAppendOnly(true);\r\n            acroForm.getCOSObject().setDirect(true);\r\n            \r\n            PDSignatureField signatureField = new PDSignatureField(acroForm);\r\n            signatureField.setSignature(signature);\r\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\r\n\r\n            widget.setRectangle(rect);\r\n            widget.setPage(pdPage);\r\n\r\n            pdPage.getAnnotations().add(widget);\r\n            pdPage.getCOSObject().setNeedToBeUpdated(true);\r\n\r\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\r\n            acroFormFields.add(signatureField);\r\n         \r\n            PDStream stream = new PDStream(pdDocument);\r\n            PDFormXObject form = new PDFormXObject(stream);\r\n            \r\n            PDResources res = new PDResources();\r\n            form.setResources(res);\r\n            form.setFormType(1);\r\n\r\n            PDRectangle bbox = new PDRectangle(rect.getWidth(), rect.getHeight());\r\n            float height = bbox.getHeight();\r\n\r\n            Matrix initialScale = null;\r\n            switch (pdPage.getRotation())\r\n            {\r\n                case 90:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\r\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\r\n                    height = bbox.getWidth();\r\n                    break;\r\n                case 180:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\r\n                    break;\r\n                case 270:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\r\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\r\n                    height = bbox.getWidth();\r\n                    break;\r\n                case 0:\r\n                default:\r\n                    break;\r\n            }\r\n        \r\n            form.setBBox(bbox);\r\n            PDFont font = PDType1Font.HELVETICA_BOLD;\r\n        \r\n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\r\n            appearance.getCOSObject().setDirect(true);\r\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\r\n            appearance.setNormalAppearance(appearanceStream);\r\n            widget.setAppearance(appearance);\r\n        \r\n            PDRectangle pageSize = pdPage.getMediaBox();\r\n\r\n            try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream )){\r\n\r\n                if (image != null)\r\n                {\r\n                   \r\n                    cs.saveGraphicsState();\r\n                    float scalingFactor = 0.24f;  \r\n                    cs.transform(Matrix.getScaleInstance(scalingFactor, scalingFactor));\r\n\r\n                    PDImageXObject img = PDImageXObject.createFromFileByExtension(image, pdDocument);\r\n                    float imgWidth = img.getWidth() * scalingFactor;  \r\n                    float imgHeight = img.getHeight() * scalingFactor;  \r\n                    float imgX = (rect.getWidth() - imgWidth) / 2;\r\n                    float imgY = (rect.getHeight() - imgHeight) / 2;\r\n\r\n                    cs.drawImage(img, imgX, imgY);\r\n                    cs.restoreGraphicsState();\r\n                }\r\n\r\n                String elFolio = Integer.toString(folio);\r\n                float randomTextFontSize = 8;  \r\n                float randomTextWidth = font.getStringWidth(elFolio) / 1000 * 5;\r\n                float randomTextX = rect.getLowerLeftX() + (rect.getWidth() - randomTextWidth) / 2;\r\n                float randomTextY = rect.getLowerLeftY() + 15;\r\n                \r\n                cs.beginText();\r\n                cs.setFont(font, 5);\r\n                cs.setStrokingColor(0.5f, 0.5f, 0.5f);\r\n                cs.newLineAtOffset((rect.getWidth() - randomTextWidth) / 2 , rect.getHeight() - (rect.getHeight()-10));\r\n\r\n                cs.showText(elFolio);\r\n                cs.endText();\r\n                \r\n            }\r\n\r\n             // general updates\r\n             pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\n            // COSDictionary pageTreeObject = pdPage.getCOSObject();\r\n            // _log.info(&quot;pageTreeObject &quot; + pageTreeObject);\r\n            // while (pageTreeObject != null) {\r\n            //     _log.info(&quot;while (pageTreeObject != null) &quot; );\r\n            //     pageTreeObject.setNeedToBeUpdated(true);\r\n            //     pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\r\n            // }\r\n\r\n            _log.info(&quot;ByteArrayOutputStream &quot; );\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            pdDocument.save(baos);\r\n\r\n            return new ByteArrayInputStream(baos.toByteArray());\r\n\r\n        }\r\n        catch (IOException e) {\r\n            throw new IllegalStateException(&quot;Error a&#241;adiendo firmas&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How do I show multiple visualizations of one signature with PdfBox?","body":"<p>Im trying to create one visualization for each document's page and sign it once with PdfBox. Each visualization has a different image to be render. However, always the first visualization of the signature is replaced by the visualization of the last one. I need help to understand what is happening in order to fix it</p>\n<p>Tried to replicate the 3rd alternative discussed in <a href=\"https://stackoverflow.com/questions/52829507/multiple-signs-using-pdfbox-2-0-12-java\">text</a>\nbut the first visualization of the signature is replaced by the visualization of the last one. This is my code:</p>\n<pre><code>public function()\n            throws IOException, IllegalStateException, GeneralSecurityException\n    {\n         ...\n        try {\n             ...\n\n            try (\n                FileOutputStream fos = new FileOutputStream(fileAFirmar);\n                PDDocument doc = PDDocument.load(filePdfCopia)\n                )\n            {\n                int accessPermissions = SigUtils.getMDPPermission(doc);\n\n                float margin = 5f;\n                float circleRadius = 25f;\n\n                int sigPage = doc.getNumberOfPages();\n                PDPage targetPage = doc.getPage(sigPage - 1);\n                PDRectangle pageSize = targetPage.getMediaBox();\n                PDRectangle a4Size = PDRectangle.A4;\n\n                float sigX = a4Size.getWidth() - margin - (circleRadius * 2);\n                float sigY = a4Size.getHeight() - margin - (circleRadius * 2);\n                float sigW = circleRadius * 2;  // Width of the circle\n                float sigH = circleRadius * 2;  // Height of the circle\n\n                PDRectangle rect = new PDRectangle(sigX, sigY, sigW, sigH);\n\n                PDSignature signature = new PDSignature();\n\n                if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n                {\n                    SigUtils.setMDPPermission(doc, signature, 2);\n                }\n\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n                signature.setLocation(&quot;&quot;);\n                signature.setReason(&quot;&quot;);\n                signature.setSignDate(Calendar.getInstance());\n\n                SignatureInterface signatureInterface = null;\n                SignatureOptions signatureOptions = new SignatureOptions();\n\n                List&lt;File&gt; signatureImageFilesList = new ArrayList&lt;&gt;();\n                signatureImageFilesList.add(foleoImgFile);\n                signatureImageFilesList.add(foleoImgFile2);\n                signatureImageFilesList.add(foleoImgFile3);\n\n                int fileIndex = 0;\n\n                    int totalPages = doc.getNumberOfPages();\n                    \n                    for (int i = 0; i &lt; totalPages; i++) {\n                        _log.info(&quot;Page iteration: &quot; + i);\n\n                        PDPage pdPage = doc.getPage(i);\n                        File signatureImageFile = signatureImageFilesList.get(fileIndex);\n\n                        signatureOptions.setPage(i);\n                        InputStream signatureFieldStream = addSignatureField(doc, pdPage, i, rect, signature, folio, sigX, sigY, signatureImageFile);\n                        signatureOptions.setVisualSignature(signatureFieldStream);\n                        folio++;\n                        fileIndex++;\n                        // Check if the file index reaches the end of the array\n                        if (fileIndex &gt;= signatureImageFilesList.size()) {\n                            // Reset the index to start from the beginning\n                            fileIndex = 0;\n                        }\n\n\n                    }\n\n                doc.addSignature(signature, signatureInterface, signatureOptions);\n\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);           \n                KeyStore keyStore = signer.loadKeyStore();\n                byte[] signatureBytes = signer.sign(externalSigning.getContent());\n\n                MessageDigest digest = null;\n                try {\n                    digest = MessageDigest.getInstance(SysConstanst.SIGNATURE_HASH_ALGO);\n                } catch (NoSuchAlgorithmException e) {\n                    e.printStackTrace();\n                }\n\n                externalSigning.setSignature(signatureBytes);\n            }\n            IOUtils.closeQuietly(signatureOptions);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return foleadoResp;\n        }\n    }\n</code></pre>\n<pre><code>public InputStream addSignatureField(\n        PDDocument pdDocument, PDPage pdPage, int pageNum,  PDRectangle rect, PDSignature signature, \n        Integer folio, float circleXa, float circleYa, File image\n    ) throws IOException, IllegalStateException {\n\n        try {\n\n            PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n\n            if (acroForm == null) {\n                acroForm = new PDAcroForm(pdDocument);\n                pdDocument.getDocumentCatalog().setAcroForm(acroForm);\n            }\n            acroForm.getCOSObject().setNeedToBeUpdated(true);\n            COSObject fields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\n            if (fields != null)\n                fields.setNeedToBeUpdated(true);\n\n            acroForm.setSignaturesExist(true);\n            acroForm.setAppendOnly(true);\n            acroForm.getCOSObject().setDirect(true);\n            \n            PDSignatureField signatureField = new PDSignatureField(acroForm);\n            signatureField.setSignature(signature);\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n\n            widget.setRectangle(rect);\n            widget.setPage(pdPage);\n\n            pdPage.getAnnotations().add(widget);\n            pdPage.getCOSObject().setNeedToBeUpdated(true);\n\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n            acroFormFields.add(signatureField);\n         \n            PDStream stream = new PDStream(pdDocument);\n            PDFormXObject form = new PDFormXObject(stream);\n            \n            PDResources res = new PDResources();\n            form.setResources(res);\n            form.setFormType(1);\n\n            PDRectangle bbox = new PDRectangle(rect.getWidth(), rect.getHeight());\n            float height = bbox.getHeight();\n\n            Matrix initialScale = null;\n            switch (pdPage.getRotation())\n            {\n                case 90:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\n                    height = bbox.getWidth();\n                    break;\n                case 180:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\n                    break;\n                case 270:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\n                    height = bbox.getWidth();\n                    break;\n                case 0:\n                default:\n                    break;\n            }\n        \n            form.setBBox(bbox);\n            PDFont font = PDType1Font.HELVETICA_BOLD;\n        \n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n            appearance.getCOSObject().setDirect(true);\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\n            appearance.setNormalAppearance(appearanceStream);\n            widget.setAppearance(appearance);\n        \n            PDRectangle pageSize = pdPage.getMediaBox();\n\n            try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream )){\n\n                if (image != null)\n                {\n                   \n                    cs.saveGraphicsState();\n                    float scalingFactor = 0.24f;  \n                    cs.transform(Matrix.getScaleInstance(scalingFactor, scalingFactor));\n\n                    PDImageXObject img = PDImageXObject.createFromFileByExtension(image, pdDocument);\n                    float imgWidth = img.getWidth() * scalingFactor;  \n                    float imgHeight = img.getHeight() * scalingFactor;  \n                    float imgX = (rect.getWidth() - imgWidth) / 2;\n                    float imgY = (rect.getHeight() - imgHeight) / 2;\n\n                    cs.drawImage(img, imgX, imgY);\n                    cs.restoreGraphicsState();\n                }\n\n                String elFolio = Integer.toString(folio);\n                float randomTextFontSize = 8;  \n                float randomTextWidth = font.getStringWidth(elFolio) / 1000 * 5;\n                float randomTextX = rect.getLowerLeftX() + (rect.getWidth() - randomTextWidth) / 2;\n                float randomTextY = rect.getLowerLeftY() + 15;\n                \n                cs.beginText();\n                cs.setFont(font, 5);\n                cs.setStrokingColor(0.5f, 0.5f, 0.5f);\n                cs.newLineAtOffset((rect.getWidth() - randomTextWidth) / 2 , rect.getHeight() - (rect.getHeight()-10));\n\n                cs.showText(elFolio);\n                cs.endText();\n                \n            }\n\n             // general updates\n             pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\n            // COSDictionary pageTreeObject = pdPage.getCOSObject();\n            // _log.info(&quot;pageTreeObject &quot; + pageTreeObject);\n            // while (pageTreeObject != null) {\n            //     _log.info(&quot;while (pageTreeObject != null) &quot; );\n            //     pageTreeObject.setNeedToBeUpdated(true);\n            //     pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\n            // }\n\n            _log.info(&quot;ByteArrayOutputStream &quot; );\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            pdDocument.save(baos);\n\n            return new ByteArrayInputStream(baos.toByteArray());\n\n        }\n        catch (IOException e) {\n            throw new IllegalStateException(&quot;Error añadiendo firmas&quot;, e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701748869,"post_id":77603687,"comment_id":136811309,"body_markdown":"Why do you need to store the type it if it&#39;s hardcoded?","body":"Why do you need to store the type it if it&#39;s hardcoded?"},{"owner":{"account_id":384206,"reputation":50376,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1701748908,"post_id":77603687,"comment_id":136811311,"body_markdown":"Also, why not just _use_ Jackson, then? What benefit does rolling your own solution get you here?","body":"Also, why not just <i>use</i> Jackson, then? What benefit does rolling your own solution get you here?"},{"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"score":0,"creation_date":1701796687,"post_id":77603687,"comment_id":136818791,"body_markdown":"@shmosel updated with an example of what I am trying to achieve?","body":"@shmosel updated with an example of what I am trying to achieve?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1701797887,"post_id":77603687,"comment_id":136819030,"body_markdown":"Where was method `Value.getTemplate` defined?  Can you add a `Value.getClazz` in that same object passed in as `toRender`?","body":"Where was method <code>Value.getTemplate</code> defined?  Can you add a <code>Value.getClazz</code> in that same object passed in as <code>toRender</code>?"},{"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"score":0,"creation_date":1701802761,"post_id":77603687,"comment_id":136819825,"body_markdown":"@phatfingers Sorry, that&#39;s a typo - it should be `getSerializedValue`","body":"@phatfingers Sorry, that&#39;s a typo - it should be <code>getSerializedValue</code>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1701803003,"post_id":77603687,"comment_id":136819871,"body_markdown":"You would need the class of T to deserialize that T type through reflection. However you can&#39;t get the type/class of T at runtime because of [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html). As commented above you can just use a serialization library that already provides solution to this (and other) problems for serialization/deserialization. Or you can look at its source code to figure out how those libraries solve this problem (short answer: reflection and/or code gen).","body":"You would need the class of T to deserialize that T type through reflection. However you can&#39;t get the type/class of T at runtime because of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>. As commented above you can just use a serialization library that already provides solution to this (and other) problems for serialization/deserialization. Or you can look at its source code to figure out how those libraries solve this problem (short answer: reflection and/or code gen)."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701810851,"post_id":77603687,"comment_id":136821018,"body_markdown":"Can you pass a `Class&lt;T&gt;` alongside (or through) `Value&lt;T&gt;`?","body":"Can you pass a <code>Class&lt;T&gt;</code> alongside (or through) <code>Value&lt;T&gt;</code>?"}],"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701802712,"creation_date":1701747301,"question_id":77603687,"body_markdown":"I want to create a generic wrapper object whose value will be set at runtime. So:\r\n\r\n```java\r\n// wrapper type\r\nclass Value&lt;T&gt; {\r\n   private String serializedValue;\r\n   private T value;\r\n}\r\n\r\n// usage\r\nclass MyClass {\r\n   private Value&lt;Map&lt;String, Object&gt; mapValue;\r\n   private Value&lt;String&gt; stringValue;\r\n}\r\n```\r\nBasically, the `serializedValue` will be a `String` representation of the `value` field(like JSON string) and at runtime, I want to construct typed Java object from it. So for example, if `serializedValue` is `{&quot;key&quot;:&quot;value&quot;}`, I want to construct a `Map&lt;String, Object&gt;` at runtime from that JSON(using a lib like Jackson) and set the `mapValue` field in a `MyClass` object. But I am not sure how to handle/store the generic type info so I can convert the serialized string to a Java object at runtime?\r\n\r\n**Edit**: In this scenario, how would I implement below method,\r\n```java\r\npublic  static &lt;T&gt; Value&lt;T&gt; deserialize(Value&lt;T&gt; toRender) {\r\n    String serialized = toRender.getSerializedValue();\r\n    T value = new ObjectMapper().readValue(serialized, &lt;what do I put here?&gt;);\r\n    //...\r\n  }\r\n```","title":"Java/Generics: How do I define a generic value type?","body":"<p>I want to create a generic wrapper object whose value will be set at runtime. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// wrapper type\nclass Value&lt;T&gt; {\n   private String serializedValue;\n   private T value;\n}\n\n// usage\nclass MyClass {\n   private Value&lt;Map&lt;String, Object&gt; mapValue;\n   private Value&lt;String&gt; stringValue;\n}\n</code></pre>\n<p>Basically, the <code>serializedValue</code> will be a <code>String</code> representation of the <code>value</code> field(like JSON string) and at runtime, I want to construct typed Java object from it. So for example, if <code>serializedValue</code> is <code>{&quot;key&quot;:&quot;value&quot;}</code>, I want to construct a <code>Map&lt;String, Object&gt;</code> at runtime from that JSON(using a lib like Jackson) and set the <code>mapValue</code> field in a <code>MyClass</code> object. But I am not sure how to handle/store the generic type info so I can convert the serialized string to a Java object at runtime?</p>\n<p><strong>Edit</strong>: In this scenario, how would I implement below method,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  static &lt;T&gt; Value&lt;T&gt; deserialize(Value&lt;T&gt; toRender) {\n    String serialized = toRender.getSerializedValue();\n    T value = new ObjectMapper().readValue(serialized, &lt;what do I put here?&gt;);\n    //...\n  }\n</code></pre>\n"},{"tags":["java","html","create-react-app","production"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701802857,"post_id":77608634,"comment_id":136819849,"body_markdown":"Few people learn a programming language by reading technical specs. We usually have someone teach us. Teaching might be in person, from taking a course, which might or might not use textbooks. Some might learn by reading textbooks or other training material. In one semester, a teach might reach dozens of students. But, now that we have the technology, teaching by video can reach thousands. And, it might be faster and easier to create a video than to write a new printed textbook.","body":"Few people learn a programming language by reading technical specs. We usually have someone teach us. Teaching might be in person, from taking a course, which might or might not use textbooks. Some might learn by reading textbooks or other training material. In one semester, a teach might reach dozens of students. But, now that we have the technology, teaching by video can reach thousands. And, it might be faster and easier to create a video than to write a new printed textbook."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701803058,"post_id":77608634,"comment_id":136819885,"body_markdown":"Welcome to Stack Overflow. This question seems to be too broad to be suitable for Stack Overflow. To better understand how this site is intended to be used, here are some resources: [Tour](https://stackoverflow.com/tour), [Help Center](https://stackoverflow.com/help), [How to Ask A Good Question](https://stackoverflow.com/help/how-to-ask)","body":"Welcome to Stack Overflow. This question seems to be too broad to be suitable for Stack Overflow. To better understand how this site is intended to be used, here are some resources: <a href=\"https://stackoverflow.com/tour\">Tour</a>, <a href=\"https://stackoverflow.com/help\">Help Center</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask A Good Question</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701816507,"post_id":77608634,"comment_id":136821802,"body_markdown":"Depends on the documentation.  Your question is tagged with Java, and Java SE and Java EE have superb written documentation and specifications.  Some frameworks, however, have atrocious documentation that isn’t worth a single look.","body":"Depends on the documentation.  Your question is tagged with Java, and Java SE and Java EE have superb written documentation and specifications.  Some frameworks, however, have atrocious documentation that isn’t worth a single look."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":2,"creation_date":1701817784,"post_id":77608634,"comment_id":136821949,"body_markdown":"A well-written textbook is far more informative than most of the &#39;tutorials&#39; available on the internet. I am admittedly &#39;of a certain age&#39;, but I have never learned a programming language by watching videos, and I prefer paper to screens for in-depth reading. I use online references to remind me of things I already know (like the arguments for some function or other, for example).","body":"A well-written textbook is far more informative than most of the &#39;tutorials&#39; available on the internet. I am admittedly &#39;of a certain age&#39;, but I have never learned a programming language by watching videos, and I prefer paper to screens for in-depth reading. I use online references to remind me of things I already know (like the arguments for some function or other, for example)."}],"owner":{"account_id":26748115,"reputation":1,"user_id":20347919,"display_name":"Monster x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701802521,"answer_count":0,"score":-3,"last_activity_date":1701802420,"creation_date":1701802420,"question_id":77608634,"body_markdown":"Is Reading documentation not a right way to learn programming fundamentals instead of watching videos related to that?\r\n\r\nI want to know that is.like harvard&#39;s students billgates or mark zukerberg who founded facebook ,microsoft. were they read documentation for learning programming language?","title":"Why we do not read documentation to learn any language instead of watching videos ,tutorial course?","body":"<p>Is Reading documentation not a right way to learn programming fundamentals instead of watching videos related to that?</p>\n<p>I want to know that is.like harvard's students billgates or mark zukerberg who founded facebook ,microsoft. were they read documentation for learning programming language?</p>\n"},{"tags":["java","unit-testing","junit5","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701677634,"creation_date":1701676639,"answer_id":77597933,"question_id":77597635,"body_markdown":"Figured it out. I had to surround the space with single quotation marks as shown below:\r\n\r\n    @CsvSource({\r\n                    &quot;&#39; &#39;,lastName&quot;\r\n    })","title":"How to pass a space as value in @CsvSource","body":"<p>Figured it out. I had to surround the space with single quotation marks as shown below:</p>\n<pre><code>@CsvSource({\n                &quot;' ',lastName&quot;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701681536,"creation_date":1701681536,"answer_id":77598317,"question_id":77597635,"body_markdown":"you can try one of this solutions:\r\n\r\n 1. You can escape space value using double quotes, like this: \r\n```\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;\\&quot; \\&quot;,lastName&quot;\r\n})\r\nvoid test(String firstName, String lastName) {\r\n    // Your test logic\r\n}\r\n\r\n```\r\n\r\n 2. You can use an escape sequence for a space, such as `\\s`. This should ensure that a space character is passed as the value for firstName, like this:\r\n\r\n```\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;\\\\s,lastName&quot;\r\n})\r\nvoid test(String firstName, String lastName) {\r\n     // Your test logic\r\n}\r\n\r\n```\r\n\r\n ","title":"How to pass a space as value in @CsvSource","body":"<p>you can try one of this solutions:</p>\n<ol>\n<li>You can escape space value using double quotes, like this:</li>\n</ol>\n<pre><code>@ParameterizedTest\n@CsvSource({\n    &quot;\\&quot; \\&quot;,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n    // Your test logic\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>You can use an escape sequence for a space, such as <code>\\s</code>. This should ensure that a space character is passed as the value for firstName, like this:</li>\n</ol>\n<pre><code>@ParameterizedTest\n@CsvSource({\n    &quot;\\\\s,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n     // Your test logic\n}\n\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77597933,"answer_count":2,"score":3,"last_activity_date":1701802334,"creation_date":1701672915,"question_id":77597635,"body_markdown":"Cannot figure out the syntax to pass a space as a value in jupiter&#39;s `@CsvSource`\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n    \t\t\t\t&quot; ,lastName&quot;\r\n    })\r\n    void test(String firstName, String lastName) {\r\n    ...\r\n    }\r\n\r\nbut `firstName` is null and not a space character. Is it doable at all with this annotation?","title":"How to pass a space as value in @CsvSource","body":"<p>Cannot figure out the syntax to pass a space as a value in jupiter's <code>@CsvSource</code></p>\n<pre><code>@ParameterizedTest\n@CsvSource({\n                &quot; ,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n...\n}\n</code></pre>\n<p>but <code>firstName</code> is null and not a space character. Is it doable at all with this annotation?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1701704357,"post_id":77600367,"comment_id":136805647,"body_markdown":"Very strange... You can let Hibernate log exact the SQL statement in use by setting `logging.level.org.hibernate.SQL=DEBUG`. Hope it helps. And please share the table definition with all relevant constraints. Maybe we will be able to identify the issue.","body":"Very strange... You can let Hibernate log exact the SQL statement in use by setting <code>logging.level.org.hibernate.SQL=DEBUG</code>. Hope it helps. And please share the table definition with all relevant constraints. Maybe we will be able to identify the issue."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701704441,"post_id":77600367,"comment_id":136805661,"body_markdown":"Have you turned on logging in Hibernate to see the SQL statements and values that are being used? https://stackoverflow.com/q/74862254/636009","body":"Have you turned on logging in Hibernate to see the SQL statements and values that are being used? <a href=\"https://stackoverflow.com/q/74862254/636009\">stackoverflow.com/q/74862254/636009</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1701704495,"post_id":77600367,"comment_id":136805667,"body_markdown":"@Mar-Z That will show the SQL statement with placeholders. You have to turn on trace logging of another package to see the values, too.","body":"@Mar-Z That will show the SQL statement with placeholders. You have to turn on trace logging of another package to see the values, too."},{"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"score":0,"creation_date":1701706222,"post_id":77600367,"comment_id":136806002,"body_markdown":"Thank you both for your help! @Mar-Z `frequencyQty` is set as `NUMBER(10, 2)` with no constraints. There is nothing that references frequencyQty in its constraint either. It&#39;s about as simple as a table column gets. @David Conrad, thanks for that direction on logging. I checked, and it is indeed getting saved to the database as the number it&#39;s supposed to be according to the logs, but it is still `null` in the database after the save is performed.","body":"Thank you both for your help! @Mar-Z <code>frequencyQty</code> is set as <code>NUMBER(10, 2)</code> with no constraints. There is nothing that references frequencyQty in its constraint either. It&#39;s about as simple as a table column gets. @David Conrad, thanks for that direction on logging. I checked, and it is indeed getting saved to the database as the number it&#39;s supposed to be according to the logs, but it is still <code>null</code> in the database after the save is performed."}],"answers":[{"tags":[],"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701802274,"creation_date":1701802274,"answer_id":77608624,"question_id":77600367,"body_markdown":"I found where the problem came from. I still don&#39;t quite understand why it is a problem at all, but I at least found out what fixed it.\r\n\r\nBasically, the API endpoint that was called to save `frequencyQty` was receiving a JSON node that mapped to the object containing the `frequencyQty` field. In the code, I convert the JSON node into the object, set `frequencyQty`, and save it to the database. For some reason, after the code is finished running, there is something that automatically calls for the database to save the *old* value that was passed into the API endpoint through that JSON node, which held the `frequencyQty` as `null`. I still don&#39;t understand why that was happening automatically, but once I traced it back to that, I just changed the logic for what was sent to the API.\r\n\r\nI have spent 20+ hours trying to figure out this bug. I am still confused as to why it exists, but for now, I&#39;m accepting the fix and moving on with my life.","title":"Object value not saving to the database through Hibernate","body":"<p>I found where the problem came from. I still don't quite understand why it is a problem at all, but I at least found out what fixed it.</p>\n<p>Basically, the API endpoint that was called to save <code>frequencyQty</code> was receiving a JSON node that mapped to the object containing the <code>frequencyQty</code> field. In the code, I convert the JSON node into the object, set <code>frequencyQty</code>, and save it to the database. For some reason, after the code is finished running, there is something that automatically calls for the database to save the <em>old</em> value that was passed into the API endpoint through that JSON node, which held the <code>frequencyQty</code> as <code>null</code>. I still don't understand why that was happening automatically, but once I traced it back to that, I just changed the logic for what was sent to the API.</p>\n<p>I have spent 20+ hours trying to figure out this bug. I am still confused as to why it exists, but for now, I'm accepting the fix and moving on with my life.</p>\n"}],"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77608624,"answer_count":1,"score":0,"last_activity_date":1701802274,"creation_date":1701701412,"question_id":77600367,"body_markdown":"I am working on a Spring Boot project that uses Hibernate to interact with an Oracle database.\r\n\r\nThe `save` functionality isn&#39;t working as expected. It is just the default implementation from the Spring Data JPA framework that takes in an object and saves it to the repository. The object definition has a field called `frequencyQty` that has these definitions:\r\n\r\n```\r\n@Column(precision=10, scale=2)\r\nprivate BigDecimal frequencyQty;\r\n\r\n...\r\n\r\npublic BigDecimal getFrequencyQty() {\r\n    return frequencyQty;\r\n}\r\n\r\npublic void setFrequencyQty(BigDecimal frequencyQty) {\r\n    this.frequencyQty = frequencyQty;\r\n}\r\n```\r\n\r\nThe precision of 10 and scale of 2 exactly match the definition of the database column as well.\r\n\r\nThe problem is that Hibernate is not saving this field to the database correctly. If that field in the database is `null`, then nothing ever gets saved. But if the field in the database has a value in it already, then it can save other values just fine.\r\n\r\nFor example, if the field in the database is `null` and I try to save `4`, it remains `null`. If the field in the database is `1` and I try to save `4`, then it saves `4` like expected.\r\n\r\nI have done everything I can think of to debug why this is happening. Other fields for this object save normally, overriding `null` values if they exist, even when they&#39;re saved at the same time as `frequencyQty`. **This is an important detail**, because it means the row is getting saved to the database correctly except for this one specific field. The debugger confirms that the correct values are set in frequencyQty at the time the `save` functionality is called. I have found absolutely nothing to suggest there should be anything special about this field.\r\n\r\nAnyone have any ideas?\r\n\r\nEDIT: Oracle version is 19c Standard Edition 2 Release 19.0.0.0.0\r\n\r\nEDIT: When I check the SQL logs, it appears that the correct SQL is being called to set `frequencyQty`, but later some SQL is called that sets `frequencyQty` back to `null`. This definitely isn&#39;t being done manually, and now I&#39;m just trying to figure out why this script would be running automatically.","title":"Object value not saving to the database through Hibernate","body":"<p>I am working on a Spring Boot project that uses Hibernate to interact with an Oracle database.</p>\n<p>The <code>save</code> functionality isn't working as expected. It is just the default implementation from the Spring Data JPA framework that takes in an object and saves it to the repository. The object definition has a field called <code>frequencyQty</code> that has these definitions:</p>\n<pre><code>@Column(precision=10, scale=2)\nprivate BigDecimal frequencyQty;\n\n...\n\npublic BigDecimal getFrequencyQty() {\n    return frequencyQty;\n}\n\npublic void setFrequencyQty(BigDecimal frequencyQty) {\n    this.frequencyQty = frequencyQty;\n}\n</code></pre>\n<p>The precision of 10 and scale of 2 exactly match the definition of the database column as well.</p>\n<p>The problem is that Hibernate is not saving this field to the database correctly. If that field in the database is <code>null</code>, then nothing ever gets saved. But if the field in the database has a value in it already, then it can save other values just fine.</p>\n<p>For example, if the field in the database is <code>null</code> and I try to save <code>4</code>, it remains <code>null</code>. If the field in the database is <code>1</code> and I try to save <code>4</code>, then it saves <code>4</code> like expected.</p>\n<p>I have done everything I can think of to debug why this is happening. Other fields for this object save normally, overriding <code>null</code> values if they exist, even when they're saved at the same time as <code>frequencyQty</code>. <strong>This is an important detail</strong>, because it means the row is getting saved to the database correctly except for this one specific field. The debugger confirms that the correct values are set in frequencyQty at the time the <code>save</code> functionality is called. I have found absolutely nothing to suggest there should be anything special about this field.</p>\n<p>Anyone have any ideas?</p>\n<p>EDIT: Oracle version is 19c Standard Edition 2 Release 19.0.0.0.0</p>\n<p>EDIT: When I check the SQL logs, it appears that the correct SQL is being called to set <code>frequencyQty</code>, but later some SQL is called that sets <code>frequencyQty</code> back to <code>null</code>. This definitely isn't being done manually, and now I'm just trying to figure out why this script would be running automatically.</p>\n"},{"tags":["java","snowflake-cloud-data-platform","user-defined-functions"],"answers":[{"tags":[],"owner":{"account_id":8322039,"reputation":32568,"user_id":6253347,"display_name":"Elliott Brossard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701802178,"creation_date":1701802178,"answer_id":77608611,"question_id":77608116,"body_markdown":"Your question is somewhat unclear (it seems like you have both performance and query compilation issues) but to answer the latter:\r\n\r\n&gt; How do I return an object SecretKey from getKeyFromPassword(String password, String salt). I&#39;m getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword\r\n\r\nThis is telling you that the return type of your Java UDF needs to be one of the supported types listed in https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings. If you want to return binary output, for example, then `byte[]` is probably a good choice. You can convert `javax.crypto.SecretKey` to `byte[]` using `getEncoded`; see https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--.\r\n\r\nYou would probably want `decrypt` to take `byte[]` for the `secretKey` as well, then, and you could use `SecretKey decodedKey = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;);`, where `encodedKey` is the `byte[]` passed as input.","title":"Snowflake Java UDF return SecretKey object","body":"<p>Your question is somewhat unclear (it seems like you have both performance and query compilation issues) but to answer the latter:</p>\n<blockquote>\n<p>How do I return an object SecretKey from getKeyFromPassword(String password, String salt). I'm getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword</p>\n</blockquote>\n<p>This is telling you that the return type of your Java UDF needs to be one of the supported types listed in <a href=\"https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings</a>. If you want to return binary output, for example, then <code>byte[]</code> is probably a good choice. You can convert <code>javax.crypto.SecretKey</code> to <code>byte[]</code> using <code>getEncoded</code>; see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--</a>.</p>\n<p>You would probably want <code>decrypt</code> to take <code>byte[]</code> for the <code>secretKey</code> as well, then, and you could use <code>SecretKey decodedKey = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;);</code>, where <code>encodedKey</code> is the <code>byte[]</code> passed as input.</p>\n"}],"owner":{"account_id":12537342,"reputation":17,"user_id":9123610,"display_name":"LeoG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701840728,"answer_count":1,"score":-3,"last_activity_date":1701802178,"creation_date":1701796953,"question_id":77608116,"body_markdown":"I had to write my own decrypt UDF but I&#39;m facing performance issue as I call decrypt UDF for each record. The performance issue comes from generating AES secretKey from 65000 iterations. I want to decouple it from actual decryption. I can do this as I have batches of records (50k in the batch) encrypted with the same key and salt.\r\n\r\nQ1. How do I return an object *SecretKey* from *getKeyFromPassword(String password, String salt)*. I&#39;m getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword\r\n\r\nQ2. How do I pass the result from *SecretKey getKeyFromPassword(String password, String salt)* and pass into *decrypt(String strToDecrypt, String secretKey)* or something similar.\r\n\r\n\r\n ","title":"Snowflake Java UDF return SecretKey object","body":"<p>I had to write my own decrypt UDF but I'm facing performance issue as I call decrypt UDF for each record. The performance issue comes from generating AES secretKey from 65000 iterations. I want to decouple it from actual decryption. I can do this as I have batches of records (50k in the batch) encrypted with the same key and salt.</p>\n<p>Q1. How do I return an object <em>SecretKey</em> from <em>getKeyFromPassword(String password, String salt)</em>. I'm getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword</p>\n<p>Q2. How do I pass the result from <em>SecretKey getKeyFromPassword(String password, String salt)</em> and pass into <em>decrypt(String strToDecrypt, String secretKey)</em> or something similar.</p>\n"},{"tags":["java","spring-data-jpa","spring-data-mongodb"],"owner":{"account_id":5318975,"reputation":1980,"user_id":4242934,"accept_rate":27,"display_name":"Borgy Manotoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701802108,"creation_date":1701802108,"question_id":77608602,"body_markdown":"I am using Spring Data MongoDb, and I would like to implement a dynamic query filter/Criterias but with pagination and sorting.\r\n\r\nOriginally I am getting the list of employees using the code below (jpa):\r\n\r\n    Page&lt;Employee&gt; findAllByBranchIdAndDepartmentAndDisabled(String branchId, String department, boolean active, Pageable page);\r\n\r\nBut there is a change that can return the list of employees (active and not), or only the active employees.\r\n\r\nI also tried using @Query but cannot make the query filter `active` optional. \r\nI mean when activeOnly is true, add query filter `active=true`.\r\nWhen activeOnly is false, do not add query filter `active=true`.\r\n\r\n    @Query(value=&quot;{ &#39;branchId&#39;: ?0, &#39;department&#39;:?1, &#39;active&#39;:?2 }&quot;)\r\n    Page&lt;Employee&gt; findEmployees(String branchId, String department, boolean activeOnly, Pageable page);\r\n\r\nI can create dynamic queries with Criteria and MongoTemplate, but it only supports lists.\r\n\r\nI also saw a conversion from List to Page using PageImpl, but PageImpl does not do sorting.\r\n\r\nThe query can be sorted by any Employee field like `firstName, lastName, username, email`, etc.\r\n\r\nIs there any easier/faster/more efficient way of converting a list to a page with sorting?\r\n\r\nIt seems that I can only use PageImpl but I have to manually do sublisting and sorting before passing the processed list to PageImpl.\r\n\r\nAre there any better way?","title":"Java convert List to Page with sort by field and asc/desc","body":"<p>I am using Spring Data MongoDb, and I would like to implement a dynamic query filter/Criterias but with pagination and sorting.</p>\n<p>Originally I am getting the list of employees using the code below (jpa):</p>\n<pre><code>Page&lt;Employee&gt; findAllByBranchIdAndDepartmentAndDisabled(String branchId, String department, boolean active, Pageable page);\n</code></pre>\n<p>But there is a change that can return the list of employees (active and not), or only the active employees.</p>\n<p>I also tried using @Query but cannot make the query filter <code>active</code> optional.\nI mean when activeOnly is true, add query filter <code>active=true</code>.\nWhen activeOnly is false, do not add query filter <code>active=true</code>.</p>\n<pre><code>@Query(value=&quot;{ 'branchId': ?0, 'department':?1, 'active':?2 }&quot;)\nPage&lt;Employee&gt; findEmployees(String branchId, String department, boolean activeOnly, Pageable page);\n</code></pre>\n<p>I can create dynamic queries with Criteria and MongoTemplate, but it only supports lists.</p>\n<p>I also saw a conversion from List to Page using PageImpl, but PageImpl does not do sorting.</p>\n<p>The query can be sorted by any Employee field like <code>firstName, lastName, username, email</code>, etc.</p>\n<p>Is there any easier/faster/more efficient way of converting a list to a page with sorting?</p>\n<p>It seems that I can only use PageImpl but I have to manually do sublisting and sorting before passing the processed list to PageImpl.</p>\n<p>Are there any better way?</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701055524,"post_id":77554369,"comment_id":136723460,"body_markdown":"Do not use images for text information like code, logs, and configurations.","body":"Do not use images for text information like code, logs, and configurations."},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":1,"creation_date":1701082742,"post_id":77554369,"comment_id":136726686,"body_markdown":"Please share full code in GitHub or a Google Driver then I can take a look at it. Is it an Android project?","body":"Please share full code in GitHub or a Google Driver then I can take a look at it. Is it an Android project?"},{"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"score":0,"creation_date":1701109184,"post_id":77554369,"comment_id":136731829,"body_markdown":"@aled The environment is accessed via RDP and does not provide a means for me to copy/paste between host and client. Figured since I&#39;m just attempting to import a dependency that this would help illustrate what I had done and how I had done it so far.","body":"@aled The environment is accessed via RDP and does not provide a means for me to copy/paste between host and client. Figured since I&#39;m just attempting to import a dependency that this would help illustrate what I had done and how I had done it so far."},{"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"score":0,"creation_date":1701109333,"post_id":77554369,"comment_id":136731853,"body_markdown":"@JackyLiu-JetBrains It&#39;s a project that&#39;s intended to use a fuzzing tools&#39; SDK, not targeting Android.","body":"@JackyLiu-JetBrains It&#39;s a project that&#39;s intended to use a fuzzing tools&#39; SDK, not targeting Android."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701709308,"creation_date":1701709308,"answer_id":77601253,"question_id":77554369,"body_markdown":"You hava a Gradle project.\r\n\r\nFor Gradle projects IntelliJ uses Gradle by default to:\r\n- Build and run\r\n- run tests\r\n\r\nIn IntelliJ 2023 the setting is under: Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\nThus, you need to configure Gradle to use local dependencies. \r\n\r\nThe simplest way you can do that is using [File dependencies](https://docs.gradle.org/current/userguide/dependency_management.html#sub:file_dependencies)\r\n\r\n```\r\ndependencies {\r\n    testImplementation files(&#39;libs/junit-4.12.jar&#39;, &#39;libs/hamcrest-core-1.3.jar&#39;)\r\n}\r\n```\r\n\r\nor alternatively:\r\n```\r\ndependencies {\r\n    testImplementation fileTree(dir: &#39;libs&#39;, include: &#39;*.jar&#39;)\r\n}\r\n```\r\n\r\nNotes:\r\n- you seem to have used file dependencies for implementation, but not for test implementation\r\n- junit depends on `hamcrest-core`. Check the pom for the correct version. [junit-4.12.pom](https://repo1.maven.org/maven2/junit/junit/4.12/junit-4.12.pom)\r\n\r\n\r\nAn alternative approach is to set up a local maven repository.","title":"Offline IntelliJ installation and junit","body":"<p>You hava a Gradle project.</p>\n<p>For Gradle projects IntelliJ uses Gradle by default to:</p>\n<ul>\n<li>Build and run</li>\n<li>run tests</li>\n</ul>\n<p>In IntelliJ 2023 the setting is under: Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</p>\n<p>Thus, you need to configure Gradle to use local dependencies.</p>\n<p>The simplest way you can do that is using <a href=\"https://docs.gradle.org/current/userguide/dependency_management.html#sub:file_dependencies\" rel=\"nofollow noreferrer\">File dependencies</a></p>\n<pre><code>dependencies {\n    testImplementation files('libs/junit-4.12.jar', 'libs/hamcrest-core-1.3.jar')\n}\n</code></pre>\n<p>or alternatively:</p>\n<pre><code>dependencies {\n    testImplementation fileTree(dir: 'libs', include: '*.jar')\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>you seem to have used file dependencies for implementation, but not for test implementation</li>\n<li>junit depends on <code>hamcrest-core</code>. Check the pom for the correct version. <a href=\"https://repo1.maven.org/maven2/junit/junit/4.12/junit-4.12.pom\" rel=\"nofollow noreferrer\">junit-4.12.pom</a></li>\n</ul>\n<p>An alternative approach is to set up a local maven repository.</p>\n"},{"tags":[],"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701801990,"creation_date":1701801990,"answer_id":77608589,"question_id":77554369,"body_markdown":"Thanks for all who responded but ultimately I discovered that IntelliJ was trying to update Gradle even with &quot;Toggle Offline Mode&quot; enabled within Gradle settings. \r\n\r\nBy navigating to File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and manually settings the distribution to &quot;Local installation&quot; it no longer attempted to download itself and behaved appropriately. ","title":"Offline IntelliJ installation and junit","body":"<p>Thanks for all who responded but ultimately I discovered that IntelliJ was trying to update Gradle even with &quot;Toggle Offline Mode&quot; enabled within Gradle settings.</p>\n<p>By navigating to File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and manually settings the distribution to &quot;Local installation&quot; it no longer attempted to download itself and behaved appropriately.</p>\n"}],"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77608589,"answer_count":2,"score":0,"last_activity_date":1701801990,"creation_date":1701055353,"question_id":77554369,"body_markdown":"I&#39;ve seen similar questions but my installation has no outside connectivity. I&#39;ve tried the recommendations in several posts I&#39;ll link below but my issue persists. I downloaded both junit and hamcrest per installation instructions and have been trying to get my project to recognize junit.\r\n\r\n[![offline junit files][1]][1]\r\n\r\nFirst, the error I&#39;m receiving when attempting to debug:\r\n\r\n[![No cached. version listing for junit][2]][2]\r\n\r\nI have added them to my project under Project Settings -&gt; Libraries\r\n\r\n[![Libraries][3]][3]\r\n\r\nI have added them as modules via Project Settings -&gt; Modules\r\n\r\n[![Project Settings - Modules][4]][4]\r\n\r\nI have it added via Gradle as a dependency:\r\n\r\n[![Gradle dependency][5]][5]\r\n\r\nWhat am I missing? Still very much new to IntelliJ so any and all help is welcome. Thanks!\r\n\r\nhttps://stackoverflow.com/questions/19330832/setting-up-junit-with-intellij-idea\r\n\r\nhttps://stackoverflow.com/questions/60327197/importing-junit-into-intellij\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8s4s.png\r\n  [2]: https://i.stack.imgur.com/MCbgb.png\r\n  [3]: https://i.stack.imgur.com/TM3At.png\r\n  [4]: https://i.stack.imgur.com/qiYeC.png\r\n  [5]: https://i.stack.imgur.com/EPAGf.png","title":"Offline IntelliJ installation and junit","body":"<p>I've seen similar questions but my installation has no outside connectivity. I've tried the recommendations in several posts I'll link below but my issue persists. I downloaded both junit and hamcrest per installation instructions and have been trying to get my project to recognize junit.</p>\n<p><a href=\"https://i.stack.imgur.com/X8s4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8s4s.png\" alt=\"offline junit files\" /></a></p>\n<p>First, the error I'm receiving when attempting to debug:</p>\n<p><a href=\"https://i.stack.imgur.com/MCbgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCbgb.png\" alt=\"No cached. version listing for junit\" /></a></p>\n<p>I have added them to my project under Project Settings -&gt; Libraries</p>\n<p><a href=\"https://i.stack.imgur.com/TM3At.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TM3At.png\" alt=\"Libraries\" /></a></p>\n<p>I have added them as modules via Project Settings -&gt; Modules</p>\n<p><a href=\"https://i.stack.imgur.com/qiYeC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiYeC.png\" alt=\"Project Settings - Modules\" /></a></p>\n<p>I have it added via Gradle as a dependency:</p>\n<p><a href=\"https://i.stack.imgur.com/EPAGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EPAGf.png\" alt=\"Gradle dependency\" /></a></p>\n<p>What am I missing? Still very much new to IntelliJ so any and all help is welcome. Thanks!</p>\n<p><a href=\"https://stackoverflow.com/questions/19330832/setting-up-junit-with-intellij-idea\">Setting up JUnit with IntelliJ IDEA</a></p>\n<p><a href=\"https://stackoverflow.com/questions/60327197/importing-junit-into-intellij\">Importing JUnit into Intellij</a></p>\n"},{"tags":["java","spring-boot","kotlin","resilience4j"],"comments":[{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1701803126,"post_id":77608540,"comment_id":136819900,"body_markdown":"Easy. The correct version of &#39;io.vavr&#39; is the version that has the method &#39;io.vavr.CheckedFunction0&#39; (at least). Your used version does not have this method. A quick Google search yielded (for example) &#39;0.9.3&#39;.","body":"Easy. The correct version of &#39;io.vavr&#39; is the version that has the method &#39;io.vavr.CheckedFunction0&#39; (at least). Your used version does not have this method. A quick Google search yielded (for example) &#39;0.9.3&#39;."}],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701801542,"creation_date":1701801542,"question_id":77608540,"body_markdown":"i get an error like &quot;Caused by: java.lang.NoSuchMethodError: &#39;io.vavr.CheckedFunction0&quot;, i figured out is problem with compatibility of resilence and io.vavr, i have in code resilensce in 2.0.2 version, what is correct version of io.vavr? I write in kotlin, mayby this information is important too.","title":"Caused by: java.lang.NoSuchMethodError: &#39;io.vavr.CheckedFunction0","body":"<p>i get an error like &quot;Caused by: java.lang.NoSuchMethodError: 'io.vavr.CheckedFunction0&quot;, i figured out is problem with compatibility of resilence and io.vavr, i have in code resilensce in 2.0.2 version, what is correct version of io.vavr? I write in kotlin, mayby this information is important too.</p>\n"},{"tags":["java","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1701808678,"post_id":77608537,"comment_id":136820697,"body_markdown":"If you are looking for an example using spring-cloud aws and Testcontainers with LocalStack. Then, take a look at this one https://github.com/eddumelendez/testcontainers-localstack/tree/main/sqs which uses the latest versions","body":"If you are looking for an example using spring-cloud aws and Testcontainers with LocalStack. Then, take a look at this one <a href=\"https://github.com/eddumelendez/testcontainers-localstack/tree/main/sqs\" rel=\"nofollow noreferrer\">github.com/eddumelendez/testcontainers-localstack/tree/main/&zwnj;&#8203;sqs</a> which uses the latest versions"}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701801525,"creation_date":1701801525,"question_id":77608537,"body_markdown":"You need to test a class that will be an SQS listener using container testing. \r\n\r\nBut I&#39;m encountering an error that I can&#39;t resolve, I&#39;ve tried several approaches but it hasn&#39;t resolved it, can anyone give a contribution as to what the problem is?\r\n\r\nI added the dependency aws-java-sdk-sts because the error was `com.amazonaws.SdkClientException: To use assume role profiles the aws-java-sdk-sts module must be on the class path`\r\n\r\nAnd now after inserting this dependency I started to have this new error that I describe below\r\n\r\n**Maven dependency**\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.5&lt;/version&gt;\r\n    \t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${spring-cloud-aws-messaging.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-testcontainers&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;localstack&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.16.2&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.12.604&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Test**\r\n\r\n    @Testcontainers\r\n    @SpringBootTest\r\n    public class SQSListenerTest {\r\n    \r\n        private static final String QUEUE_NAME = UUID.randomUUID().toString();\r\n    \r\n        @Autowired\r\n        private QueueMessagingTemplate queueMessagingTemplate;\r\n    \r\n        @Container\r\n        public static LocalStackContainer localStackContainer = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:2.0&quot;))\r\n                .withServices(SQS)\r\n                .withEnv(&quot;HOSTNAME_EXTERNAL&quot;, &quot;localhost&quot;);\r\n    \r\n        @DynamicPropertySource\r\n        static void overrideConfiguration(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;sqs.queue.name&quot;, () -&gt; QUEUE_NAME);\r\n            registry.add(&quot;spring.cloud.aws.region.static&quot;, () -&gt; localStackContainer.getRegion());\r\n            registry.add(&quot;spring.cloud.aws.credentials.access-key&quot;, () -&gt; localStackContainer.getAccessKey());\r\n            registry.add(&quot;spring.cloud.aws.credentials.secret-key&quot;, () -&gt; localStackContainer.getSecretKey());\r\n            registry.add(&quot;spring.cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(SQS).toString());\r\n        }\r\n    \r\n        @BeforeAll\r\n        static void beforeAll() throws IOException, InterruptedException {\r\n            localStackContainer.execInContainer(&quot;awslocal&quot;, &quot;sqs&quot;, &quot;create-queue&quot;, &quot;--queue-name&quot;, QUEUE_NAME);\r\n        }\r\n    \r\n        @Test\r\n        public void testSingleWebhook() {\r\n            queueMessagingTemplate.convertAndSend(QUEUE_NAME, &quot;Test message&quot;);\r\n        }\r\n    }\r\n\r\n**Erro**\r\n\r\n    java.lang.NullPointerException: You must specify a value for roleArn and roleSessionName\r\n    \r\n    \tat com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider$Builder.&lt;init&gt;(STSAssumeRoleSessionCredentialsProvider.java:390)\r\n    \tat com.amazonaws.services.securitytoken.internal.STSProfileCredentialsService.getAssumeRoleCredentialsProvider(STSProfileCredentialsService.java:31)\r\n    \tat com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getProfileCredentialsProvider(STSProfileCredentialsServiceProvider.java:39)\r\n    \tat com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getCredentials(STSProfileCredentialsServiceProvider.java:71)\r\n    \tat com.amazonaws.auth.WebIdentityTokenCredentialsProvider.getCredentials(WebIdentityTokenCredentialsProvider.java:76)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2207)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2174)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2163)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.executeGetQueueUrl(AmazonSQSClient.java:1201)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:1173)\r\n    \tat org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:94)\r\n    \tat org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:38)\r\n    \tat org.springframework.messaging.core.CachingDestinationResolverProxy.resolveDestination(CachingDestinationResolverProxy.java:92)\r\n    \tat org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.resolveMessageChannelByLogicalName(AbstractMessageChannelMessagingSendingTemplate.java:108)\r\n    \tat org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.convertAndSend(AbstractMessageChannelMessagingSendingTemplate.java:80)\r\n    \tat com.demo.message.listener.SQSListenerTest.testSingleWebhook(SQSListenerTest.java:82)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n\r\n","title":"TestContainer SQS Java And Spring","body":"<p>You need to test a class that will be an SQS listener using container testing.</p>\n<p>But I'm encountering an error that I can't resolve, I've tried several approaches but it hasn't resolved it, can anyone give a contribution as to what the problem is?</p>\n<p>I added the dependency aws-java-sdk-sts because the error was <code>com.amazonaws.SdkClientException: To use assume role profiles the aws-java-sdk-sts module must be on the class path</code></p>\n<p>And now after inserting this dependency I started to have this new error that I describe below</p>\n<p><strong>Maven dependency</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-aws-messaging.version}&lt;/version&gt;\n&lt;/dependency&gt;\n        \n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        \n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-testcontainers&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;localstack&lt;/artifactId&gt;\n    &lt;version&gt;1.16.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;version&gt;1.12.604&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@Testcontainers\n@SpringBootTest\npublic class SQSListenerTest {\n\n    private static final String QUEUE_NAME = UUID.randomUUID().toString();\n\n    @Autowired\n    private QueueMessagingTemplate queueMessagingTemplate;\n\n    @Container\n    public static LocalStackContainer localStackContainer = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:2.0&quot;))\n            .withServices(SQS)\n            .withEnv(&quot;HOSTNAME_EXTERNAL&quot;, &quot;localhost&quot;);\n\n    @DynamicPropertySource\n    static void overrideConfiguration(DynamicPropertyRegistry registry) {\n        registry.add(&quot;sqs.queue.name&quot;, () -&gt; QUEUE_NAME);\n        registry.add(&quot;spring.cloud.aws.region.static&quot;, () -&gt; localStackContainer.getRegion());\n        registry.add(&quot;spring.cloud.aws.credentials.access-key&quot;, () -&gt; localStackContainer.getAccessKey());\n        registry.add(&quot;spring.cloud.aws.credentials.secret-key&quot;, () -&gt; localStackContainer.getSecretKey());\n        registry.add(&quot;spring.cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(SQS).toString());\n    }\n\n    @BeforeAll\n    static void beforeAll() throws IOException, InterruptedException {\n        localStackContainer.execInContainer(&quot;awslocal&quot;, &quot;sqs&quot;, &quot;create-queue&quot;, &quot;--queue-name&quot;, QUEUE_NAME);\n    }\n\n    @Test\n    public void testSingleWebhook() {\n        queueMessagingTemplate.convertAndSend(QUEUE_NAME, &quot;Test message&quot;);\n    }\n}\n</code></pre>\n<p><strong>Erro</strong></p>\n<pre><code>java.lang.NullPointerException: You must specify a value for roleArn and roleSessionName\n\n    at com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider$Builder.&lt;init&gt;(STSAssumeRoleSessionCredentialsProvider.java:390)\n    at com.amazonaws.services.securitytoken.internal.STSProfileCredentialsService.getAssumeRoleCredentialsProvider(STSProfileCredentialsService.java:31)\n    at com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getProfileCredentialsProvider(STSProfileCredentialsServiceProvider.java:39)\n    at com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getCredentials(STSProfileCredentialsServiceProvider.java:71)\n    at com.amazonaws.auth.WebIdentityTokenCredentialsProvider.getCredentials(WebIdentityTokenCredentialsProvider.java:76)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n    at com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2207)\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2174)\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2163)\n    at com.amazonaws.services.sqs.AmazonSQSClient.executeGetQueueUrl(AmazonSQSClient.java:1201)\n    at com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:1173)\n    at org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:94)\n    at org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:38)\n    at org.springframework.messaging.core.CachingDestinationResolverProxy.resolveDestination(CachingDestinationResolverProxy.java:92)\n    at org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.resolveMessageChannelByLogicalName(AbstractMessageChannelMessagingSendingTemplate.java:108)\n    at org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.convertAndSend(AbstractMessageChannelMessagingSendingTemplate.java:80)\n    at com.demo.message.listener.SQSListenerTest.testSingleWebhook(SQSListenerTest.java:82)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","pgcrypto"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1535563249,"post_id":52077348,"comment_id":91116256,"body_markdown":"An annotation, any annotation, requires static info, yes.","body":"An annotation, any annotation, requires static info, yes."},{"owner":{"account_id":2362508,"reputation":1030,"user_id":2068897,"accept_rate":81,"display_name":"mdzh"},"score":0,"creation_date":1584526236,"post_id":52077348,"comment_id":107460753,"body_markdown":"Have you found a solution?","body":"Have you found a solution?"},{"owner":{"account_id":1447480,"reputation":1567,"user_id":1365460,"accept_rate":51,"display_name":"Ankur Raiyani"},"score":0,"creation_date":1595493291,"post_id":52077348,"comment_id":111495444,"body_markdown":"Did you get the solution?","body":"Did you get the solution?"},{"owner":{"account_id":8436878,"reputation":147,"user_id":6330773,"display_name":"Valentin Rochet"},"score":0,"creation_date":1595930127,"post_id":52077348,"comment_id":111637102,"body_markdown":"Hey. I&#39;m not sure cause it was quite a time ago, but I think we couldn&#39;t find a proper solution, so we did the decrypt part in the SQL requests. We had to do it in every request... not super clean","body":"Hey. I&#39;m not sure cause it was quite a time ago, but I think we couldn&#39;t find a proper solution, so we did the decrypt part in the SQL requests. We had to do it in every request... not super clean"},{"owner":{"account_id":1393301,"reputation":36,"user_id":1323605,"display_name":"Fabian Steels"},"score":0,"creation_date":1600685904,"post_id":52077348,"comment_id":113155433,"body_markdown":"look this [issue](https://stackoverflow.com/questions/42437840/how-to-encrypt-a-column-in-postgres-using-hibernate-columntransformer/42437963#42437963) a solution seems to be found","body":"look this <a href=\"https://stackoverflow.com/questions/42437840/how-to-encrypt-a-column-in-postgres-using-hibernate-columntransformer/42437963#42437963\">issue</a> a solution seems to be found"}],"answers":[{"tags":[],"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701801502,"creation_date":1663854332,"answer_id":73815778,"question_id":52077348,"body_markdown":"You cannot use other than static parameters in annotations.\r\n\r\nWhat we did is to set the password in the current jdbc session (Transaction Interceptor)\r\n\r\n    SET env_key = &#39;my-super-secret-pwd&#39;;\r\n\r\nand than read the password via postgresql function \r\n\r\n    current_setting(&#39;enc_key&#39;)\r\n\r\n\r\nIn Quarkus the transaction interceptor looks like that: \r\n\r\n```java\r\n@ApplicationScoped\r\n@Unremovable\r\npublic class TransactionObserver {\r\n\r\n    @ConfigProperty(name = &quot;my.encryption.key&quot;)\r\n    String envEncryptionKey;\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    public void onBeginTransaction(@Observes @Initialized(TransactionScoped.class) Object event) {\r\n        addEncryptionKeyToSession();\r\n    }\r\n\r\n    private void addEncryptionKeyToSession() {\r\n        em.createNativeQuery(&quot;SET enc_key = &#39;&quot; + envEncryptionKey + &quot;&#39;;&quot;).executeUpdate();\r\n    }\r\n}\r\n```\r\n\r\nand in the entity you do something like that:\r\n\r\n```java\r\n@ColumnTransformer(read = &quot;pgp_sym_decrypt(NAME, current_setting(&#39;enc_key&#39;))&quot;, write = &quot;pgp_sym_encrypt(?, current_setting(&#39;enc_key&#39;))&quot;)\r\n@Column(name = &quot;NAME&quot;, columnDefinition = &quot;bytea&quot;, unique = false, nullable = true)\r\npublic String name;\r\n```\r\n\r\n\r\n","title":"Is it possible to variabilize the password in Hibernate @ColumnTransformer for pgcrypto?","body":"<p>You cannot use other than static parameters in annotations.</p>\n<p>What we did is to set the password in the current jdbc session (Transaction Interceptor)</p>\n<pre><code>SET env_key = 'my-super-secret-pwd';\n</code></pre>\n<p>and than read the password via postgresql function</p>\n<pre><code>current_setting('enc_key')\n</code></pre>\n<p>In Quarkus the transaction interceptor looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\n@Unremovable\npublic class TransactionObserver {\n\n    @ConfigProperty(name = &quot;my.encryption.key&quot;)\n    String envEncryptionKey;\n\n    @Inject\n    EntityManager em;\n\n    public void onBeginTransaction(@Observes @Initialized(TransactionScoped.class) Object event) {\n        addEncryptionKeyToSession();\n    }\n\n    private void addEncryptionKeyToSession() {\n        em.createNativeQuery(&quot;SET enc_key = '&quot; + envEncryptionKey + &quot;';&quot;).executeUpdate();\n    }\n}\n</code></pre>\n<p>and in the entity you do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ColumnTransformer(read = &quot;pgp_sym_decrypt(NAME, current_setting('enc_key'))&quot;, write = &quot;pgp_sym_encrypt(?, current_setting('enc_key'))&quot;)\n@Column(name = &quot;NAME&quot;, columnDefinition = &quot;bytea&quot;, unique = false, nullable = true)\npublic String name;\n</code></pre>\n"}],"owner":{"account_id":8436878,"reputation":147,"user_id":6330773,"display_name":"Valentin Rochet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1701801502,"creation_date":1535545242,"question_id":52077348,"body_markdown":"I&#39;m working on a postgresql base that use pgcrypto to encrypt some columns of the base.\r\n\r\nJava side, I use JPA to &quot;map&quot; my classes to my database.\r\n\r\nCurrently, to encrypt and decrypt fields in java I use `@ColumnTransformer`. Example :  \r\n\r\n\t@Column(name = &quot;my_column&quot;, nullable = false)\r\n\t@ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &quot;my_password&quot;)&quot;, write = &quot;pgp_sym_encrypt(?, &quot;my_password&quot;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nThis works fine. But I would like to variabilize my password. My application will be deployed on several servers and the password will be different for each one.\r\n\r\nI tried a lot of things, I searched on internet but I didn&#39;t find anything.\r\nSo I&#39;m starting to think... is this just possible with this annotation ? Or should I encrypt/decrypt in another way ? In the repository maybe ?\r\n\r\n_PS here are a few examples of what I tried :_\r\n\r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, ${application.security.pgcryptoPassword})&quot;, write = &quot;pgp_sym_encrypt(?, ${application.security.pgcryptoPassword})&quot;)\r\nwith application.security.pgcryptoPassword defined in my configuration file\r\n\r\n    @Value(&quot;${application.security.pgcryptoPassword}&quot;)\r\n\tprivate static final String pgcryptoPassword;\r\n    private static final String readCreator = &quot;pgp_sym_decrypt(creation_aladdin_par, &quot; + pgcryptoPassword + &quot;)&quot;;\r\n    @ColumnTransformer(read = readCreator, write = &quot;pgp_sym_encrypt(?, my_password)&quot;)\r\n\r\n\r\n**EDIT**\r\n\r\nI tried 2 things :\r\n\r\n    private static final String pgcryptoPassword = &quot;my_password&quot;;\r\n    \r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &#39;&quot; + pgcryptoPassword + &quot;&#39;)&quot;, write = &quot;pgp_sym_encrypt(?, &#39;&quot; + pgcryptoPassword  + &quot;&#39;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nand\r\n\r\n    @Value(&quot;${application.security.pgcryptoPassword}&quot;)\r\n\tprivate static final String pgcryptoPassword;\r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &#39;&quot; + pgcryptoPassword + &quot;&#39;)&quot;, write = &quot;pgp_sym_encrypt(?, &#39;&quot; + pgcryptoPassword  + &quot;&#39;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nFirst works, second I get the error :  \r\n`The value for annotation attribute ColumnTransformer.read must be a constant expression`  \r\nFrom what I found on internet about this error, I think there is no way to variabilize my password in a configuration file and use it in the `@ColumnTransformer` annotation.\r\n\r\nDo you agree with me or do you have another solution ?","title":"Is it possible to variabilize the password in Hibernate @ColumnTransformer for pgcrypto?","body":"<p>I'm working on a postgresql base that use pgcrypto to encrypt some columns of the base.</p>\n\n<p>Java side, I use JPA to \"map\" my classes to my database.</p>\n\n<p>Currently, to encrypt and decrypt fields in java I use <code>@ColumnTransformer</code>. Example :  </p>\n\n<pre><code>@Column(name = \"my_column\", nullable = false)\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, \"my_password\")\", write = \"pgp_sym_encrypt(?, \"my_password\")\")\nprivate String myColumn;\n</code></pre>\n\n<p>This works fine. But I would like to variabilize my password. My application will be deployed on several servers and the password will be different for each one.</p>\n\n<p>I tried a lot of things, I searched on internet but I didn't find anything.\nSo I'm starting to think... is this just possible with this annotation ? Or should I encrypt/decrypt in another way ? In the repository maybe ?</p>\n\n<p><em>PS here are a few examples of what I tried :</em></p>\n\n<pre><code>@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, ${application.security.pgcryptoPassword})\", write = \"pgp_sym_encrypt(?, ${application.security.pgcryptoPassword})\")\n</code></pre>\n\n<p>with application.security.pgcryptoPassword defined in my configuration file</p>\n\n<pre><code>@Value(\"${application.security.pgcryptoPassword}\")\nprivate static final String pgcryptoPassword;\nprivate static final String readCreator = \"pgp_sym_decrypt(creation_aladdin_par, \" + pgcryptoPassword + \")\";\n@ColumnTransformer(read = readCreator, write = \"pgp_sym_encrypt(?, my_password)\")\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I tried 2 things :</p>\n\n<pre><code>private static final String pgcryptoPassword = \"my_password\";\n\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, '\" + pgcryptoPassword + \"')\", write = \"pgp_sym_encrypt(?, '\" + pgcryptoPassword  + \"')\")\nprivate String myColumn;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Value(\"${application.security.pgcryptoPassword}\")\nprivate static final String pgcryptoPassword;\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, '\" + pgcryptoPassword + \"')\", write = \"pgp_sym_encrypt(?, '\" + pgcryptoPassword  + \"')\")\nprivate String myColumn;\n</code></pre>\n\n<p>First works, second I get the error :<br>\n<code>The value for annotation attribute ColumnTransformer.read must be a constant expression</code><br>\nFrom what I found on internet about this error, I think there is no way to variabilize my password in a configuration file and use it in the <code>@ColumnTransformer</code> annotation.</p>\n\n<p>Do you agree with me or do you have another solution ?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701801468,"post_id":77608076,"comment_id":136819613,"body_markdown":"Word doesn&#39;t have attachments. I assume you mean an embedded object.","body":"Word doesn&#39;t have attachments. I assume you mean an embedded object."}],"owner":{"account_id":8572689,"reputation":502,"user_id":6422979,"accept_rate":38,"display_name":"Rajesh Om"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1701801438,"creation_date":1701796634,"question_id":77608076,"body_markdown":"I generated Word document file using Apache POI but want to insert a CSV file as an embedded object that can be opened (double clicking on it).Is there any code snippet available using Apache POI Java program.\r\n\r\n**Used below code to Generate Word Document:**\r\n\r\n    import java.io.FileOutputStream;  \r\n    import java.io.OutputStream;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;  \r\n    public class ParagraphExample {  \r\n        public static void main(String[] args) {  \r\n            XWPFDocument doc = new XWPFDocument();  \r\n            try(OutputStream os = new FileOutputStream(&quot;TestResults.doc&quot;)) {  \r\n                XWPFParagraph paragraph = doc.createParagraph();  \r\n                XWPFRun run = paragraph.createRun();  \r\n                run.setText(&quot;Hello, This is Test Execution Results. This paragraph is written &quot;+  \r\n                &quot;by using XWPFParagrah.&quot;);  \r\n                doc.write(os);  \r\n            }catch(Exception e) {  \r\n                System.out.println(e.getMessage());  \r\n            }  \r\n        }  \r\n    } ","title":"Insert a csv file as embedded object in a word document using Java","body":"<p>I generated Word document file using Apache POI but want to insert a CSV file as an embedded object that can be opened (double clicking on it).Is there any code snippet available using Apache POI Java program.</p>\n<p><strong>Used below code to Generate Word Document:</strong></p>\n<pre><code>import java.io.FileOutputStream;  \nimport java.io.OutputStream;  \nimport org.apache.poi.xwpf.usermodel.XWPFDocument;  \nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;  \nimport org.apache.poi.xwpf.usermodel.XWPFRun;  \npublic class ParagraphExample {  \n    public static void main(String[] args) {  \n        XWPFDocument doc = new XWPFDocument();  \n        try(OutputStream os = new FileOutputStream(&quot;TestResults.doc&quot;)) {  \n            XWPFParagraph paragraph = doc.createParagraph();  \n            XWPFRun run = paragraph.createRun();  \n            run.setText(&quot;Hello, This is Test Execution Results. This paragraph is written &quot;+  \n            &quot;by using XWPFParagrah.&quot;);  \n            doc.write(os);  \n        }catch(Exception e) {  \n            System.out.println(e.getMessage());  \n        }  \n    }  \n} \n</code></pre>\n"},{"tags":["java","mysql","rest","maven","jdbc"],"owner":{"account_id":24403765,"reputation":1,"user_id":18332169,"display_name":"Snehal Poratkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701801344,"creation_date":1701801344,"question_id":77608527,"body_markdown":"controller class\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/vData&quot;)\r\n    public class VdashboardController {\r\n    @Autowired\r\n    private VdashboardService vdashboardService;\r\n    \r\n    @GetMapping(&quot;/getData&quot;)\r\n    public ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt; getAllData()\r\n    {\r\n        System.out.println(&quot; in control&quot;);\r\n        return new ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt;(vdashboardService.findAll(), HttpStatus.OK);\r\n    }\r\n    }\r\n\r\n\r\n\r\nservice interface\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n\r\n    import java.util.List;\r\n\r\n    public interface VdashboardService {\r\n    public List&lt;VdashboardModel&gt; findAll();\r\n    }\r\n\r\n\r\nserviceimpl class\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class VdashboardServiceImpl implements VdashboardService{\r\n    @Autowired\r\n    VdashboardRepository vdashboardRepository;\r\n    \r\n    @Override\r\n\tpublic List&lt;VdashboardModel&gt; findAll() {\r\n        return vdashboardRepository.findAll();\r\n    }\r\n    }\r\n\r\n\r\n\r\n[error occure on service page](https://i.stack.imgur.com/BEgY6.png)\r\n[then I have to select manually serviceimpl class](https://i.stack.imgur.com/57Nbp.png)\r\n\r\nI am getting error when I travel from service to service impl class. Pointer is move from only controller to service and after that break for 1 class and then manually I switch from service impl to repository, y it is happen, I am using java17 currently. also I build the path correctly.\r\n\r\n\r\n","title":"Problem finding implementations in spring boot application, why control in not transfer from service to serviceimpl class","body":"<p>controller class</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/vData&quot;)\npublic class VdashboardController {\n@Autowired\nprivate VdashboardService vdashboardService;\n\n@GetMapping(&quot;/getData&quot;)\npublic ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt; getAllData()\n{\n    System.out.println(&quot; in control&quot;);\n    return new ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt;(vdashboardService.findAll(), HttpStatus.OK);\n}\n}\n</code></pre>\n<p>service interface</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\n\nimport java.util.List;\n\npublic interface VdashboardService {\npublic List&lt;VdashboardModel&gt; findAll();\n}\n</code></pre>\n<p>serviceimpl class</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class VdashboardServiceImpl implements VdashboardService{\n@Autowired\nVdashboardRepository vdashboardRepository;\n\n@Override\npublic List&lt;VdashboardModel&gt; findAll() {\n    return vdashboardRepository.findAll();\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BEgY6.png\" rel=\"nofollow noreferrer\">error occure on service page</a>\n<a href=\"https://i.stack.imgur.com/57Nbp.png\" rel=\"nofollow noreferrer\">then I have to select manually serviceimpl class</a></p>\n<p>I am getting error when I travel from service to service impl class. Pointer is move from only controller to service and after that break for 1 class and then manually I switch from service impl to repository, y it is happen, I am using java17 currently. also I build the path correctly.</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1374892102,"post_id":17893609,"comment_id":26134064,"body_markdown":"Related, possible duplicate: [What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?](http://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes)","body":"Related, possible duplicate: <a href=\"http://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes\">What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?</a>"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1374891641,"creation_date":1374891641,"answer_id":17893632,"question_id":17893609,"body_markdown":"that&#39;s because `nameUUIDFromBytes` constructs a specific kind of UUID (as the javadoc states).\r\n\r\nif you want to convert a byte[] back to a UUID, you should use the UUID constructor.  Wrap a ByteBuffer around the byte[], read the 2 longs and pass them to the UUID constructor.","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<p>that's because <code>nameUUIDFromBytes</code> constructs a specific kind of UUID (as the javadoc states).</p>\n\n<p>if you want to convert a byte[] back to a UUID, you should use the UUID constructor.  Wrap a ByteBuffer around the byte[], read the 2 longs and pass them to the UUID constructor.</p>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1701800826,"creation_date":1429832531,"answer_id":29836273,"question_id":17893609,"body_markdown":"\tpublic class UuidUtils {\r\n\t  public static UUID asUuid(byte[] bytes) {\r\n\t    ByteBuffer bb = ByteBuffer.wrap(bytes);\r\n\t    long firstLong = bb.getLong();\r\n\t    long secondLong = bb.getLong();\r\n\t    return new UUID(firstLong, secondLong);\r\n\t  }\r\n\t\r\n\t  public static byte[] asBytes(UUID uuid) {\r\n\t    ByteBuffer bb = ByteBuffer.allocate(16);\r\n\t    bb.putLong(uuid.getMostSignificantBits());\r\n\t    bb.putLong(uuid.getLeastSignificantBits());\r\n\t    return bb.array();\r\n\t  }\r\n\t}\r\n\r\n---\r\n\r\n\t@Test\r\n\tpublic void verifyUUIDBytesCanBeReconstructedBackToOriginalUUID() {\r\n\t  UUID u = UUID.randomUUID();\r\n\t  byte[] uBytes = UuidUtils.asBytes(u);\r\n\t  UUID u2 = UuidUtils.asUuid(uBytes);\r\n\t  Assert.assertEquals(u, u2);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void verifyNameUUIDFromBytesMethodDoesNotRecreateOriginalUUID() {\r\n\t  UUID u = UUID.randomUUID();\r\n\t  byte[] uBytes = UuidUtils.asBytes(u);\r\n\t  UUID u2 = UUID.nameUUIDFromBytes(uBytes);\r\n\t  Assert.assertNotEquals(u, u2);\r\n\t}","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<pre><code>public class UuidUtils {\n  public static UUID asUuid(byte[] bytes) {\n    ByteBuffer bb = ByteBuffer.wrap(bytes);\n    long firstLong = bb.getLong();\n    long secondLong = bb.getLong();\n    return new UUID(firstLong, secondLong);\n  }\n\n  public static byte[] asBytes(UUID uuid) {\n    ByteBuffer bb = ByteBuffer.allocate(16);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return bb.array();\n  }\n}\n</code></pre>\n<hr />\n<pre><code>@Test\npublic void verifyUUIDBytesCanBeReconstructedBackToOriginalUUID() {\n  UUID u = UUID.randomUUID();\n  byte[] uBytes = UuidUtils.asBytes(u);\n  UUID u2 = UuidUtils.asUuid(uBytes);\n  Assert.assertEquals(u, u2);\n}\n\n@Test\npublic void verifyNameUUIDFromBytesMethodDoesNotRecreateOriginalUUID() {\n  UUID u = UUID.randomUUID();\n  byte[] uBytes = UuidUtils.asBytes(u);\n  UUID u2 = UUID.nameUUIDFromBytes(uBytes);\n  Assert.assertNotEquals(u, u2);\n}\n</code></pre>\n"}],"owner":{"account_id":38475,"reputation":2983,"user_id":110432,"accept_rate":48,"display_name":"Anon21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48234,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":29836273,"answer_count":2,"score":39,"last_activity_date":1701800826,"creation_date":1374891351,"question_id":17893609,"body_markdown":"I am converting UUID to byte using this code\r\n\r\n    public byte[] getIdAsByte(UUID uuid)\r\n    {\r\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\r\n        bb.putLong(uuid.getMostSignificantBits());\r\n        bb.putLong(uuid.getLeastSignificantBits());\r\n        return bb.array();\r\n    }\r\n\r\nHowever, if I try to recreate the UUID using this function,\r\n\r\n    public UUID frombyte(byte[] b)\r\n    {\r\n        return UUID.nameUUIDFromBytes(b);\r\n    }\r\n\r\nIt is not the same UUID. Converting a randomUUID back and forth returns two different it.\r\n\r\n    UUID u = UUID.randomUUID();\r\n    System.out.println(u.toString());\r\n    System.out.println(frombyte(getIdAsByte(u)).toString());\r\n\r\nprints:\r\n\r\n    1ae004cf-0f48-469f-8a94-01339afaec41\r\n    8b5d1a71-a4a0-3b46-bec3-13ab9ab12e8e","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<p>I am converting UUID to byte using this code</p>\n\n<pre><code>public byte[] getIdAsByte(UUID uuid)\n{\n    ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return bb.array();\n}\n</code></pre>\n\n<p>However, if I try to recreate the UUID using this function,</p>\n\n<pre><code>public UUID frombyte(byte[] b)\n{\n    return UUID.nameUUIDFromBytes(b);\n}\n</code></pre>\n\n<p>It is not the same UUID. Converting a randomUUID back and forth returns two different it.</p>\n\n<pre><code>UUID u = UUID.randomUUID();\nSystem.out.println(u.toString());\nSystem.out.println(frombyte(getIdAsByte(u)).toString());\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>1ae004cf-0f48-469f-8a94-01339afaec41\n8b5d1a71-a4a0-3b46-bec3-13ab9ab12e8e\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1701787535,"post_id":77607055,"comment_id":136816997,"body_markdown":"Get a beginner Java book, and work it through. Learn about loops, encapsulation and about arrays! The last part will explain you what IndexOutOfBoundExceptions are and how they can be prevented.","body":"Get a beginner Java book, and work it through. Learn about loops, encapsulation and about arrays! The last part will explain you what IndexOutOfBoundExceptions are and how they can be prevented."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1701787613,"post_id":77607055,"comment_id":136817022,"body_markdown":"A good example of a beginner java book is &quot;David J. Eck - Introduction to Programming Using Java&quot;","body":"A good example of a beginner java book is &quot;David J. Eck - Introduction to Programming Using Java&quot;"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1701787667,"post_id":77607055,"comment_id":136817034,"body_markdown":"Or &quot;Bruce Eckel - Thinking in Java&quot;","body":"Or &quot;Bruce Eckel - Thinking in Java&quot;"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1701787704,"post_id":77607055,"comment_id":136817043,"body_markdown":"This will bring you further than just beyond this exception. Good luck!","body":"This will bring you further than just beyond this exception. Good luck!"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701800920,"post_id":77607055,"comment_id":136819538,"body_markdown":"You want to anybody analyze all your code and search where the exception might be thrown. Please update your question according to: https://stackoverflow.com/help/how-to-ask","body":"You want to anybody analyze all your code and search where the exception might be thrown. Please update your question according to: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701801020,"post_id":77607055,"comment_id":136819554,"body_markdown":"You have 7 questions but only 4 answers.  It is not surprising that you are encountering an exception when trying to access an answer that does not exist.","body":"You have 7 questions but only 4 answers.  It is not surprising that you are encountering an exception when trying to access an answer that does not exist."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701804654,"post_id":77607055,"comment_id":136820118,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":530062,"reputation":547,"user_id":1203181,"display_name":"John B. Lambe"},"score":0,"creation_date":1701820846,"post_id":77607055,"comment_id":136822269,"body_markdown":"Welcome to StackOverflow.\nThere are a lot of basic questions like this on the site, so please look for similar questions before posting a question. (To avoid cluttering the site with duplicate or very similar questions.)\nSee https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it (posted in a comment by Progman) for example.\n\nAlso, try to provide more useful information. For example, if you&#39;re asking about an exception, include the line on which it was raised.\n\nSee the guidelines here: stackoverflow.com/help/how-to-ask\n\nHGR&#39;s c","body":"Welcome to StackOverflow. There are a lot of basic questions like this on the site, so please look for similar questions before posting a question. (To avoid cluttering the site with duplicate or very similar questions.) See <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a> (posted in a comment by Progman) for example.  Also, try to provide more useful information. For example, if you&#39;re asking about an exception, include the line on which it was raised.  See the guidelines here: stackoverflow.com/help/how-to-ask  HGR&#39;s c"}],"owner":{"account_id":30072588,"reputation":1,"user_id":23046181,"display_name":"ShinjiDArc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701800508,"creation_date":1701787166,"question_id":77607055,"body_markdown":"How&#39;s it going? So this is a quiz game project, but everytime I go past question 4 this error appears:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\r\n\r\nI kinda of have no idea how to fix this, so if someone please helped me it would be very cool, here&#39;s the code:\r\n\r\nMain Class:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n           Quizz quiz = new Quizz();\r\n        }\r\n        \r\n    }\r\n\r\nQuiz class:\r\n\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n\r\n    public class Quizz implements ActionListener{\r\n\r\n    String[] questions = \r\n    {\r\n        &quot;Quem da o melhor grau de moto?&quot;,\r\n        &quot;Quem tem o melhor bigode?&quot;,\r\n        &quot;Quem tem o emprego mais legal&quot;,\r\n        &quot;Quem &#233; o mais alto?&quot;,\r\n        &quot;Bla&quot;,\r\n        &quot;Bla2&quot;,\r\n        &quot;Bla 3&quot;\r\n    };\r\n\r\n    String[][] options = \r\n    {\r\n        {&quot;Uma doen&#231;a do cora&#231;&#227;o&quot;,&quot;Uma doen&#231;a respirat&#243;ria&quot;,&quot;Um dist&#250;rbio de humor&quot;,&quot;Uma infec&#231;&#227;o viral&quot;},\r\n\r\n        {&quot;Febre e tosse&quot;,&quot;Dor de cabe&#231;a e dor de dente&quot;,&quot;Preocupa&#231;&#227;o excessiva e nervosismo&quot;,&quot;Manchas na pele&quot;},\r\n\r\n        {&quot;Antibi&#243;ticos&quot;,&quot;Cirurgia card&#237;aca&quot;,&quot;Terapia e medicamentos&quot;,&quot;Dieta equilibrada&quot;},\r\n\r\n        {&quot;Crian&#231;as&quot;,&quot;Adolescentes&quot;,&quot;Adultos jovens&quot;,&quot; Idosos&quot;},\r\n\r\n        {&quot;Trauma emocional&quot;,&quot;Uso de drogas il&#237;citas&quot;,&quot; Exerc&#237;cios regulares&quot;,&quot;Estresse cr&#244;nico&quot;},\r\n\r\n        {&quot;Ter uma rede de apoio social forte&quot;,&quot;Hist&#243;ria familiar de depress&#227;o&quot;,&quot; Consumo moderado de &#225;lcool&quot;,&quot;Pr&#225;tica regular de medita&#231;&#227;o&quot;},\r\n                \r\n        {&quot;Transtorno de p&#226;nico&quot;,&quot;Transtorno obsessivo-compulsivo&quot;,&quot;Transtorno de estresse p&#243;s-traum&#225;tico&quot;,&quot;Transtorno de ansiedade social&quot;},\r\n\r\n        {&quot;Fadiga&quot;,&quot;Ins&#244;nia&quot;,&quot;Aumento do interesse em atividades&quot;,&quot;Sentimentos de tristeza profunda&quot;},\r\n\r\n        {&quot;N&#227;o h&#225; diferen&#231;a&quot;,&quot;Tristeza &#233; um estado de humor passageiro, enquanto a depress&#227;o &#233; uma condi&#231;&#227;o m&#233;dica&quot;,&quot;Depress&#227;o &#233; sempre mais intensa do que a tristeza&quot;,&quot;Tristeza &#233; uma forma leve de depress&#227;o&quot;},\r\n\r\n        {&quot;Comer alimentos picantes&quot;,&quot; Exerc&#237;cios f&#237;sicos regulares&quot;,&quot; Situa&#231;&#245;es de estresse extremo&quot;,&quot;Beber &#225;gua fria&quot;},\r\n\r\n        {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\r\n    };\r\n\r\n    char[] answers = \r\n    {\r\n        &#39;C&#39;,\r\n        &#39;D&#39;,\r\n        &#39;A&#39;,\r\n        &#39;B&#39;\r\n    };\r\n\r\n    char guess;\r\n    char answer;\r\n    int index;\r\n    int correct_guesses =0;\r\n    int total_questions = questions.length;\r\n    int result;\r\n    int seconds=10;\r\n    JFrame frame = new JFrame();\r\n    JTextField textfield = new JTextField();\r\n    JTextArea textarea = new JTextArea();\r\n    JButton buttonA = new JButton();\r\n    JButton buttonB = new JButton();\r\n    JButton buttonC = new JButton();\r\n    JButton buttonD = new JButton();\r\n    JLabel answer_labelA = new JLabel();\r\n    JLabel answer_labelB = new JLabel();\r\n    JLabel answer_labelC = new JLabel();\r\n    JLabel answer_labelD = new JLabel();\r\n    JLabel time_label = new JLabel();\r\n    JLabel seconds_left = new JLabel();\r\n    JTextField number_right = new JTextField();\r\n    JTextField percentage = new JTextField();\r\n\r\n    Timer timer = new Timer(1000, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            seconds--;\r\n            seconds_left.setText(String.valueOf(seconds));\r\n\r\n            if(seconds&lt;=0) {\r\n                displayAnswer();\r\n            }\r\n        }\r\n    });\r\n\r\n    public Quizz() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(650,650);\r\n        frame.getContentPane().setBackground(new Color(255, 255, 255));\r\n        frame.setLayout(null);\r\n        frame.setResizable(false);\r\n\r\n        textfield.setBounds(0,0,650,50);\r\n        textfield.setBackground(new Color(255,255,255));\r\n        textfield.setForeground(new Color(0,0,139));\r\n        textfield.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,30));\r\n        textfield.setBorder(BorderFactory.createBevelBorder(1));\r\n        textfield.setHorizontalAlignment(JTextField.CENTER);\r\n        textfield.setEditable(false);\r\n\r\n        textarea.setBounds(0,50,650,50);\r\n        textarea.setLineWrap(true);\r\n        textarea.setWrapStyleWord(true);\r\n        textarea.setBackground(new Color(255,255,225));\r\n        textarea.setForeground(new Color(0,0,139));\r\n        textarea.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,25));\r\n        textarea.setBorder(BorderFactory.createBevelBorder(1));\r\n        textarea.setEditable(false);\r\n\r\n        buttonA.setBounds(0,100,100,100);\r\n        buttonA.setFont(new Font(&quot;MTimes Roman&quot;,Font.BOLD,25));\r\n        buttonA.setFocusable(false);\r\n\r\n        buttonA.addActionListener(this);\r\n        buttonA.setText(&quot;A&quot;);\r\n        buttonB.setBounds(0,200,100,100);\r\n        buttonB.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonB.setFocusable(false);\r\n        buttonB.addActionListener(this);\r\n        buttonB.setText(&quot;B&quot;);\r\n        buttonC.setBounds(0,300,100,100);\r\n        buttonC.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonC.setFocusable(false);\r\n        buttonC.addActionListener(this);\r\n        buttonC.setText(&quot;C&quot;);\r\n        buttonD.setBounds(0,400,100,100);\r\n        buttonD.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonD.setFocusable(false);\r\n        buttonD.addActionListener(this);\r\n        buttonD.setText(&quot;D&quot;);\r\n\r\n        answer_labelA.setBounds(125,100,500,100);\r\n        answer_labelA.setBackground(new Color(50,50,50));\r\n        answer_labelA.setForeground(new Color(25, 25, 112));\r\n        answer_labelA.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelB.setBounds(125,200,500,100);\r\n        answer_labelB.setBackground(new Color(50,50,50));\r\n        answer_labelB.setForeground(new Color(25, 25, 112));\r\n        answer_labelB.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelC.setBounds(125,300,500,100);\r\n        answer_labelC.setBackground(new Color(50,50,50));\r\n        answer_labelC.setForeground(new Color(25, 25, 112));\r\n        answer_labelC.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelD.setBounds(125,400,500,100);\r\n        answer_labelD.setBackground(new Color(50,50,50));\r\n        answer_labelD.setForeground(new Color(25, 25, 112));\r\n        answer_labelD.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n\r\n        seconds_left.setBounds(535,96,80,80);\r\n        seconds_left.setBackground(new Color(255,255,255));\r\n        seconds_left.setForeground(new Color(0,0,0));\r\n        seconds_left.setFont(new Font(&quot;Comic Sans&quot;,Font.BOLD,60));\r\n\r\n        seconds_left.setOpaque(true);\r\n        seconds_left.setHorizontalAlignment(JTextField.TRAILING);\r\n        seconds_left.setText(String.valueOf(seconds));\r\n        number_right.setBounds(225,225,200,100);\r\n        number_right.setBackground(new Color(255,255,255));\r\n        number_right.setForeground(new Color(0,0,139));\r\n        number_right.setFont(new Font(&quot;Ink Free&quot;,Font.ITALIC,20));\r\n\r\n        number_right.setHorizontalAlignment(JTextField.CENTER);\r\n        number_right.setEditable(false);\r\n\r\n        frame.add(time_label);\r\n        frame.add(seconds_left);\r\n        frame.add(answer_labelA);\r\n        frame.add(answer_labelB);\r\n        frame.add(answer_labelC);\r\n        frame.add(answer_labelD);\r\n        frame.add(buttonA);\r\n        frame.add(buttonB);\r\n        frame.add(buttonC);\r\n        frame.add(buttonD);\r\n        frame.add(textarea);\r\n        frame.add(textfield);\r\n        frame.setVisible(true);\r\n\r\n        nextQuestion();\r\n\r\n    }\r\n\r\n    public void nextQuestion() {\r\n        if(index&gt;=total_questions) {\r\n            results();\r\n        }\r\n        else {\r\n            textfield.setText(&quot;Quest&#227;o &quot;+(index+1));\r\n            textarea.setText(questions[index]);\r\n            answer_labelA.setText(options[index][0]);\r\n            answer_labelB.setText(options[index][1]);\r\n            answer_labelC.setText(options[index][2]);\r\n            answer_labelD.setText(options[index][3]);\r\n            timer.start();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        if(e.getSource()==buttonA) {\r\n            answer= &#39;A&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonB) {\r\n            answer= &#39;B&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonC) {\r\n            answer= &#39;C&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonD) {\r\n            answer= &#39;D&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        displayAnswer();\r\n\r\n    }\r\n\r\n    public void displayAnswer() {\r\n        timer.stop();\r\n\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        if(answers[index] != &#39;A&#39;)\r\n            answer_labelA.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;B&#39;)\r\n            answer_labelB.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;C&#39;)\r\n            answer_labelC.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;D&#39;)\r\n            answer_labelD.setForeground(new Color(255,0,0));\r\n\r\n        Timer pause = new Timer(2000, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                answer_labelA.setForeground(new Color(25,255,0));\r\n                answer_labelB.setForeground(new Color(25,255,0));\r\n                answer_labelC.setForeground(new Color(25,255,0));\r\n                answer_labelD.setForeground(new Color(25,255,0));\r\n\r\n                answer = &#39; &#39;;\r\n\r\n                seconds=10;\r\n                seconds_left.setText(String.valueOf(seconds));\r\n\r\n                buttonA.setEnabled(true);\r\n                buttonB.setEnabled(true);\r\n                buttonC.setEnabled(true);\r\n                buttonD.setEnabled(true);\r\n\r\n                index++;\r\n\r\n                nextQuestion();\r\n            }\r\n        });\r\n\r\n        pause.setRepeats(false);\r\n        pause.start();\r\n\r\n    }\r\n\r\n    public void results(){\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        result = (int)((correct_guesses/(double)total_questions)*100);\r\n\r\n        textfield.setText(&quot;Resultado:&quot;);\r\n        textarea.setText(&quot;&quot;);\r\n\r\n        answer_labelA.setText(&quot;&quot;);\r\n        answer_labelB.setText(&quot;&quot;);\r\n        answer_labelC.setText(&quot;&quot;);\r\n        answer_labelD.setText(&quot;&quot;);\r\n\r\n        number_right.setText(&quot;(&quot;+correct_guesses+&quot;/&quot;+total_questions+&quot;)&quot;);\r\n\r\n        percentage.setText(result+&quot;%&quot;);\r\n\r\n        frame.add(number_right);\r\n        frame.add(percentage);\r\n    }\r\n\r\n    }\r\n\r\nI&#39;m really confused actually, I&#39;m a beginner!\r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4","body":"<p>How's it going? So this is a quiz game project, but everytime I go past question 4 this error appears:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\n</code></pre>\n<p>I kinda of have no idea how to fix this, so if someone please helped me it would be very cool, here's the code:</p>\n<p>Main Class:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n       Quizz quiz = new Quizz();\n    }\n    \n}\n</code></pre>\n<p>Quiz class:</p>\n<pre><code>import java.awt.event.*;\nimport java.awt.*;\nimport javax.swing.*;\n\n\npublic class Quizz implements ActionListener{\n\nString[] questions = \n{\n    &quot;Quem da o melhor grau de moto?&quot;,\n    &quot;Quem tem o melhor bigode?&quot;,\n    &quot;Quem tem o emprego mais legal&quot;,\n    &quot;Quem é o mais alto?&quot;,\n    &quot;Bla&quot;,\n    &quot;Bla2&quot;,\n    &quot;Bla 3&quot;\n};\n\nString[][] options = \n{\n    {&quot;Uma doença do coração&quot;,&quot;Uma doença respiratória&quot;,&quot;Um distúrbio de humor&quot;,&quot;Uma infecção viral&quot;},\n\n    {&quot;Febre e tosse&quot;,&quot;Dor de cabeça e dor de dente&quot;,&quot;Preocupação excessiva e nervosismo&quot;,&quot;Manchas na pele&quot;},\n\n    {&quot;Antibióticos&quot;,&quot;Cirurgia cardíaca&quot;,&quot;Terapia e medicamentos&quot;,&quot;Dieta equilibrada&quot;},\n\n    {&quot;Crianças&quot;,&quot;Adolescentes&quot;,&quot;Adultos jovens&quot;,&quot; Idosos&quot;},\n\n    {&quot;Trauma emocional&quot;,&quot;Uso de drogas ilícitas&quot;,&quot; Exercícios regulares&quot;,&quot;Estresse crônico&quot;},\n\n    {&quot;Ter uma rede de apoio social forte&quot;,&quot;História familiar de depressão&quot;,&quot; Consumo moderado de álcool&quot;,&quot;Prática regular de meditação&quot;},\n            \n    {&quot;Transtorno de pânico&quot;,&quot;Transtorno obsessivo-compulsivo&quot;,&quot;Transtorno de estresse pós-traumático&quot;,&quot;Transtorno de ansiedade social&quot;},\n\n    {&quot;Fadiga&quot;,&quot;Insônia&quot;,&quot;Aumento do interesse em atividades&quot;,&quot;Sentimentos de tristeza profunda&quot;},\n\n    {&quot;Não há diferença&quot;,&quot;Tristeza é um estado de humor passageiro, enquanto a depressão é uma condição médica&quot;,&quot;Depressão é sempre mais intensa do que a tristeza&quot;,&quot;Tristeza é uma forma leve de depressão&quot;},\n\n    {&quot;Comer alimentos picantes&quot;,&quot; Exercícios físicos regulares&quot;,&quot; Situações de estresse extremo&quot;,&quot;Beber água fria&quot;},\n\n    {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\n};\n\nchar[] answers = \n{\n    'C',\n    'D',\n    'A',\n    'B'\n};\n\nchar guess;\nchar answer;\nint index;\nint correct_guesses =0;\nint total_questions = questions.length;\nint result;\nint seconds=10;\nJFrame frame = new JFrame();\nJTextField textfield = new JTextField();\nJTextArea textarea = new JTextArea();\nJButton buttonA = new JButton();\nJButton buttonB = new JButton();\nJButton buttonC = new JButton();\nJButton buttonD = new JButton();\nJLabel answer_labelA = new JLabel();\nJLabel answer_labelB = new JLabel();\nJLabel answer_labelC = new JLabel();\nJLabel answer_labelD = new JLabel();\nJLabel time_label = new JLabel();\nJLabel seconds_left = new JLabel();\nJTextField number_right = new JTextField();\nJTextField percentage = new JTextField();\n\nTimer timer = new Timer(1000, new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        seconds--;\n        seconds_left.setText(String.valueOf(seconds));\n\n        if(seconds&lt;=0) {\n            displayAnswer();\n        }\n    }\n});\n\npublic Quizz() {\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(650,650);\n    frame.getContentPane().setBackground(new Color(255, 255, 255));\n    frame.setLayout(null);\n    frame.setResizable(false);\n\n    textfield.setBounds(0,0,650,50);\n    textfield.setBackground(new Color(255,255,255));\n    textfield.setForeground(new Color(0,0,139));\n    textfield.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,30));\n    textfield.setBorder(BorderFactory.createBevelBorder(1));\n    textfield.setHorizontalAlignment(JTextField.CENTER);\n    textfield.setEditable(false);\n\n    textarea.setBounds(0,50,650,50);\n    textarea.setLineWrap(true);\n    textarea.setWrapStyleWord(true);\n    textarea.setBackground(new Color(255,255,225));\n    textarea.setForeground(new Color(0,0,139));\n    textarea.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,25));\n    textarea.setBorder(BorderFactory.createBevelBorder(1));\n    textarea.setEditable(false);\n\n    buttonA.setBounds(0,100,100,100);\n    buttonA.setFont(new Font(&quot;MTimes Roman&quot;,Font.BOLD,25));\n    buttonA.setFocusable(false);\n\n    buttonA.addActionListener(this);\n    buttonA.setText(&quot;A&quot;);\n    buttonB.setBounds(0,200,100,100);\n    buttonB.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonB.setFocusable(false);\n    buttonB.addActionListener(this);\n    buttonB.setText(&quot;B&quot;);\n    buttonC.setBounds(0,300,100,100);\n    buttonC.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonC.setFocusable(false);\n    buttonC.addActionListener(this);\n    buttonC.setText(&quot;C&quot;);\n    buttonD.setBounds(0,400,100,100);\n    buttonD.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonD.setFocusable(false);\n    buttonD.addActionListener(this);\n    buttonD.setText(&quot;D&quot;);\n\n    answer_labelA.setBounds(125,100,500,100);\n    answer_labelA.setBackground(new Color(50,50,50));\n    answer_labelA.setForeground(new Color(25, 25, 112));\n    answer_labelA.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelB.setBounds(125,200,500,100);\n    answer_labelB.setBackground(new Color(50,50,50));\n    answer_labelB.setForeground(new Color(25, 25, 112));\n    answer_labelB.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelC.setBounds(125,300,500,100);\n    answer_labelC.setBackground(new Color(50,50,50));\n    answer_labelC.setForeground(new Color(25, 25, 112));\n    answer_labelC.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelD.setBounds(125,400,500,100);\n    answer_labelD.setBackground(new Color(50,50,50));\n    answer_labelD.setForeground(new Color(25, 25, 112));\n    answer_labelD.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n\n    seconds_left.setBounds(535,96,80,80);\n    seconds_left.setBackground(new Color(255,255,255));\n    seconds_left.setForeground(new Color(0,0,0));\n    seconds_left.setFont(new Font(&quot;Comic Sans&quot;,Font.BOLD,60));\n\n    seconds_left.setOpaque(true);\n    seconds_left.setHorizontalAlignment(JTextField.TRAILING);\n    seconds_left.setText(String.valueOf(seconds));\n    number_right.setBounds(225,225,200,100);\n    number_right.setBackground(new Color(255,255,255));\n    number_right.setForeground(new Color(0,0,139));\n    number_right.setFont(new Font(&quot;Ink Free&quot;,Font.ITALIC,20));\n\n    number_right.setHorizontalAlignment(JTextField.CENTER);\n    number_right.setEditable(false);\n\n    frame.add(time_label);\n    frame.add(seconds_left);\n    frame.add(answer_labelA);\n    frame.add(answer_labelB);\n    frame.add(answer_labelC);\n    frame.add(answer_labelD);\n    frame.add(buttonA);\n    frame.add(buttonB);\n    frame.add(buttonC);\n    frame.add(buttonD);\n    frame.add(textarea);\n    frame.add(textfield);\n    frame.setVisible(true);\n\n    nextQuestion();\n\n}\n\npublic void nextQuestion() {\n    if(index&gt;=total_questions) {\n        results();\n    }\n    else {\n        textfield.setText(&quot;Questão &quot;+(index+1));\n        textarea.setText(questions[index]);\n        answer_labelA.setText(options[index][0]);\n        answer_labelB.setText(options[index][1]);\n        answer_labelC.setText(options[index][2]);\n        answer_labelD.setText(options[index][3]);\n        timer.start();\n    }\n\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    if(e.getSource()==buttonA) {\n        answer= 'A';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonB) {\n        answer= 'B';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonC) {\n        answer= 'C';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonD) {\n        answer= 'D';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    displayAnswer();\n\n}\n\npublic void displayAnswer() {\n    timer.stop();\n\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    if(answers[index] != 'A')\n        answer_labelA.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'B')\n        answer_labelB.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'C')\n        answer_labelC.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'D')\n        answer_labelD.setForeground(new Color(255,0,0));\n\n    Timer pause = new Timer(2000, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            answer_labelA.setForeground(new Color(25,255,0));\n            answer_labelB.setForeground(new Color(25,255,0));\n            answer_labelC.setForeground(new Color(25,255,0));\n            answer_labelD.setForeground(new Color(25,255,0));\n\n            answer = ' ';\n\n            seconds=10;\n            seconds_left.setText(String.valueOf(seconds));\n\n            buttonA.setEnabled(true);\n            buttonB.setEnabled(true);\n            buttonC.setEnabled(true);\n            buttonD.setEnabled(true);\n\n            index++;\n\n            nextQuestion();\n        }\n    });\n\n    pause.setRepeats(false);\n    pause.start();\n\n}\n\npublic void results(){\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    result = (int)((correct_guesses/(double)total_questions)*100);\n\n    textfield.setText(&quot;Resultado:&quot;);\n    textarea.setText(&quot;&quot;);\n\n    answer_labelA.setText(&quot;&quot;);\n    answer_labelB.setText(&quot;&quot;);\n    answer_labelC.setText(&quot;&quot;);\n    answer_labelD.setText(&quot;&quot;);\n\n    number_right.setText(&quot;(&quot;+correct_guesses+&quot;/&quot;+total_questions+&quot;)&quot;);\n\n    percentage.setText(result+&quot;%&quot;);\n\n    frame.add(number_right);\n    frame.add(percentage);\n}\n\n}\n</code></pre>\n<p>I'm really confused actually, I'm a beginner!</p>\n"},{"tags":["java","quicksort"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1701800513,"post_id":77608446,"comment_id":136819462,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1701800571,"post_id":77608446,"comment_id":136819474,"body_markdown":"Does this answer your question? [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1701801571,"post_id":77608446,"comment_id":136819629,"body_markdown":"`qs(mas, low, middle - 1);` don&#39;t exclude middle element here, replace it with `qs(mas, low, middle);`","body":"<code>qs(mas, low, middle - 1);</code> don&#39;t exclude middle element here, replace it with <code>qs(mas, low, middle);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701801606,"post_id":77608446,"comment_id":136819641,"body_markdown":"If you want to become a software developer, or otherwise regularly develop software, you will need some debugging skills. I and others who commented believe you will be better off by debugging this yourself.","body":"If you want to become a software developer, or otherwise regularly develop software, you will need some debugging skills. I and others who commented believe you will be better off by debugging this yourself."}],"owner":{"account_id":30074527,"reputation":1,"user_id":23047715,"display_name":"Muhammed Muradly"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701801935,"answer_count":0,"score":-4,"last_activity_date":1701800412,"creation_date":1701800276,"question_id":77608446,"body_markdown":"Here is my QuickSort algoritm and it doesnt work correct. \r\n\r\n```\r\nclass QuickSort{\r\n    public static void qs(int[] mas, int low, int high) {\r\n        if (low&gt;high) return;\r\n        int middle = partition(mas, low, high);\r\n        qs(mas, low, middle - 1);\r\n        qs(mas,middle+1,high);\r\n    }\r\n    public static int partition(int[] mas, int low, int high){\r\n        int middle = (high+low)/2;\r\n        int support = mas[middle];\r\n        int i = low, j = high;\r\n        while (i&lt;=j) {\r\n            while (mas[i] &lt; support) i++;\r\n            while ((mas[j]) &gt; support) j--;\r\n            if (i &lt;= j) {\r\n                int helper = mas[i];\r\n                mas[i] = mas[j];\r\n                mas[j] = helper;\r\n                i++;\r\n                j--;\r\n            }\r\n        }\r\n        return middle;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nFor example u can try in with array [1,5,4,2,3] result: [1,3,2,4,5 ]. Why it doesnt work? Full answer please ","title":"Quick Sort algoritm","body":"<p>Here is my QuickSort algoritm and it doesnt work correct.</p>\n<pre><code>class QuickSort{\n    public static void qs(int[] mas, int low, int high) {\n        if (low&gt;high) return;\n        int middle = partition(mas, low, high);\n        qs(mas, low, middle - 1);\n        qs(mas,middle+1,high);\n    }\n    public static int partition(int[] mas, int low, int high){\n        int middle = (high+low)/2;\n        int support = mas[middle];\n        int i = low, j = high;\n        while (i&lt;=j) {\n            while (mas[i] &lt; support) i++;\n            while ((mas[j]) &gt; support) j--;\n            if (i &lt;= j) {\n                int helper = mas[i];\n                mas[i] = mas[j];\n                mas[j] = helper;\n                i++;\n                j--;\n            }\n        }\n        return middle;\n    }\n\n}\n</code></pre>\n<p>For example u can try in with array [1,5,4,2,3] result: [1,3,2,4,5 ]. Why it doesnt work? Full answer please</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1675811440,"post_id":75379859,"comment_id":133008376,"body_markdown":"You haven&#39;t asked a question. Please read [ask].","body":"You haven&#39;t asked a question. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":27503600,"reputation":84,"user_id":20986750,"display_name":"Marco Riccetti"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675816245,"creation_date":1675814801,"answer_id":75380222,"question_id":75379859,"body_markdown":"Let&#39;s start with the fact that you need to have uniqueness in your array, so you want a set. \r\n\r\nThe best (quick) implementation you can find using the standard libraries is `LinkedHashSet&lt;Integer&gt;`.\r\n\r\nIf we analyze its documentation for a second we can see that by default it preserves the insertion order, which is perfect for your case, however, we also notice that it ignores re-insertions if the element is present:\r\n\r\n\r\n\r\n&gt; This linked list defines the iteration ordering, which is the order in\r\n&gt; which elements were inserted into the set (insertion-order). Note that\r\n&gt; insertion order is not affected if an element is re-inserted into the\r\n&gt; set. (An element e is reinserted into a set s if s.add(e) is invoked\r\n&gt; when s.contains(e) would return true immediately prior to the\r\n&gt; invocation.)\r\n\r\nTo get around this problem, you can create a utility function that first attempts to remove the number you want to insert from the set, then reinserts it again, thus changing the insertion order.\r\n\r\nE.g.\r\n\r\n    final var set = new LinkedHashSet&lt;Integer&gt;();\r\n\r\n...\r\n\r\n    static void addFirst(Set&lt;Integer&gt; set, int val) {\r\n      set.remove(val);\r\n      set.add(val);\r\n    }\r\n\r\nAt this point you can take its iterator and read the set values as you need it most.\r\n\r\nNote:\r\nSince this is only efficient if the reads are in the direction of the iterator or if they are few compared to the inserts, so, if you have to iterate often in reverse then you are better off using a `LinkedList&lt;Integer&gt;`\r\n directly and doing the same little game as `remove()` and `add()`.\r\n\r\nThat&#39;s because, unfortunately although the set is doubly linked, the only way you can scroll through it in reverse is as follows:\r\n\r\n    final var list = new LinkedList&lt;&gt;(set); \r\n    final var it = list.descendingIterator(); \r\n    while(it.hasNext()) {\r\n       int item = it.next();\r\n       // do something \r\n    }","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>Let's start with the fact that you need to have uniqueness in your array, so you want a set.</p>\n<p>The best (quick) implementation you can find using the standard libraries is <code>LinkedHashSet&lt;Integer&gt;</code>.</p>\n<p>If we analyze its documentation for a second we can see that by default it preserves the insertion order, which is perfect for your case, however, we also notice that it ignores re-insertions if the element is present:</p>\n<blockquote>\n<p>This linked list defines the iteration ordering, which is the order in\nwhich elements were inserted into the set (insertion-order). Note that\ninsertion order is not affected if an element is re-inserted into the\nset. (An element e is reinserted into a set s if s.add(e) is invoked\nwhen s.contains(e) would return true immediately prior to the\ninvocation.)</p>\n</blockquote>\n<p>To get around this problem, you can create a utility function that first attempts to remove the number you want to insert from the set, then reinserts it again, thus changing the insertion order.</p>\n<p>E.g.</p>\n<pre><code>final var set = new LinkedHashSet&lt;Integer&gt;();\n</code></pre>\n<p>...</p>\n<pre><code>static void addFirst(Set&lt;Integer&gt; set, int val) {\n  set.remove(val);\n  set.add(val);\n}\n</code></pre>\n<p>At this point you can take its iterator and read the set values as you need it most.</p>\n<p>Note:\nSince this is only efficient if the reads are in the direction of the iterator or if they are few compared to the inserts, so, if you have to iterate often in reverse then you are better off using a <code>LinkedList&lt;Integer&gt;</code>\ndirectly and doing the same little game as <code>remove()</code> and <code>add()</code>.</p>\n<p>That's because, unfortunately although the set is doubly linked, the only way you can scroll through it in reverse is as follows:</p>\n<pre><code>final var list = new LinkedList&lt;&gt;(set); \nfinal var it = list.descendingIterator(); \nwhile(it.hasNext()) {\n   int item = it.next();\n   // do something \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701800298,"creation_date":1675864160,"answer_id":75386750,"question_id":75379859,"body_markdown":"Keeping to you existing scheme, here is one way this could be accomplished. Read the comments in code:\r\n\r\nRunnable code:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class AddNewButDeleteDuplicate_Demo {\r\n    \r\n    // System related newline character sequence. Could be used anywhere.\r\n    public static final String LS = System.lineSeparator(); \r\n    \r\n    // Open a keyboard input stream. Could be used anywhere.\r\n    public static final Scanner userInput = new Scanner(System.in); \r\n    \r\n    // Application Entry Point:\r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics:\r\n        new AddNewButDeleteDuplicate_Demo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // This code can create an int[] array of any size:\r\n        \r\n        int[] intArray; // Declare our int[] array \r\n        int count = 1;  // Counter used for &#39;number of entries&#39; display:\r\n        \r\n        // Inform of upcoming prompt:\r\n        System.out.println(&quot;Enter integer numbers (1 to 10) to add to Array&quot; + LS \r\n                           + &quot;or enter &#39;s&#39; at any time to stop.&quot;);\r\n\r\n        /* List Interface of Integer to hold all integer values supplied \r\n           by User.This List is later converted to an int[] Array. List\r\n           is used because it can grow dynamically whereas Arrays can not. \r\n           This then allows the User to enter as many elements as desired\r\n           which the rules specify 10 elements max since we can only enter \r\n           values from 1 to 10.                     */\r\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n        \r\n        // To hold the current value supplied by User:\r\n        String inputValue = &quot;&quot;;  \r\n        \r\n        // Repeatable User Entry Prompt with a Stop mechanism and entry Validation:\r\n        while (inputValue.isEmpty()) {\r\n            // Prompt:\r\n            System.out.print(&quot;Entry #&quot; + count + &quot;: -&gt; &quot;);\r\n            // Get User Entry:\r\n            inputValue = userInput.nextLine().trim();\r\n            // Is &#39;Stop&#39; desired?\r\n            if (inputValue.equalsIgnoreCase(&quot;s&quot;)) {\r\n                // Yes...Inform and exit `while` loop\r\n                System.out.println(&quot;Done Creating Array!&quot;);\r\n                break;  // Exit `while` loop.\r\n            }\r\n            /* Validate User Entry. If the entry IS NOT a string representation\r\n               of a unsigned integer value from 1 to 10 then indicate as invalid\r\n               and allow the User to try again.        */\r\n            if (!inputValue.matches(&quot;\\\\d+&quot;) || Integer.parseInt(inputValue) &lt; 1 || \r\n                                                 Integer.parseInt(inputValue) &gt; 10) {\r\n                System.out.println(&quot;&gt;&gt; Invalid Entry (&quot; + inputValue + &quot;)! Try again... &lt;&lt;&quot; + LS);\r\n                inputValue = &quot;&quot;;    // Empty variable to ensure re-loop.\r\n                continue;  // Jump to top of loop:\r\n            }\r\n\r\n            /* If we made it to this point, then the User supplied value is \r\n               valid. Convert the User supplied string numerical value to \r\n               int data type.               */\r\n            int val = Integer.parseInt(inputValue);\r\n            \r\n            /* For demo purposes, display the Current List before checking\r\n               for duplicates:         */\r\n            System.out.println(&quot;List Previous: -&gt; &quot; + intList);\r\n            \r\n            // Check for duplicate...\r\n            /* If List is not empty and the int value of the User supplied\r\n               number IS currently contained within the List then remove the\r\n               duplicate value already contained within the List and insert \r\n               the new (same) value to the beginning of the List at index 0.  */\r\n            if (!intList.isEmpty() &amp;&amp; intList.contains(val)) {\r\n                int idx = intList.indexOf(val);\r\n                /* If the duplicate is already located at index 0 of the List \r\n                   then there is no point doing any modification to the List\r\n                   since this is where we would place the new value anyways. */\r\n                if (idx != 0) {\r\n                    intList.remove(idx); \r\n                    intList.add(0, val);\r\n                    // Inform of duplicate entry:\r\n                    System.out.println(&quot;&gt;&gt; Duplicate Entry (&quot; + inputValue + &quot;)! &quot;\r\n                            + &quot;Old value removed at index &quot; + idx + &quot; and New value inserted &quot;\r\n                                    + &quot;into index 0. &lt;&lt;&quot; + LS);\r\n                }\r\n            }\r\n            // Otherwise, just add the int value to the List:\r\n            else {\r\n                intList.add(val);\r\n            }\r\n            \r\n            /* For demo purposes, display the Current List after checking\r\n               for duplicates:         */\r\n            System.out.println(&quot;List Current:  -&gt; &quot; + intList);\r\n            \r\n            inputValue = &quot;&quot;; // Empty variable to ensure re-loop.\r\n            count++;  // Increment User entry count:\r\n        }\r\n        \r\n        // Convert the List to an int[] Array using Streams:\r\n        intArray = intList.stream().mapToInt(d -&gt; d).toArray();\r\n        \r\n        // Display int[] Array:\r\n        System.out.println(&quot;The intArray[] Array: -&gt; &quot; + Arrays.toString(intArray));\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>Keeping to you existing scheme, here is one way this could be accomplished. Read the comments in code:</p>\n<p>Runnable code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class AddNewButDeleteDuplicate_Demo {\n    \n    // System related newline character sequence. Could be used anywhere.\n    public static final String LS = System.lineSeparator(); \n    \n    // Open a keyboard input stream. Could be used anywhere.\n    public static final Scanner userInput = new Scanner(System.in); \n    \n    // Application Entry Point:\n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics:\n        new AddNewButDeleteDuplicate_Demo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // This code can create an int[] array of any size:\n        \n        int[] intArray; // Declare our int[] array \n        int count = 1;  // Counter used for 'number of entries' display:\n        \n        // Inform of upcoming prompt:\n        System.out.println(&quot;Enter integer numbers (1 to 10) to add to Array&quot; + LS \n                           + &quot;or enter 's' at any time to stop.&quot;);\n\n        /* List Interface of Integer to hold all integer values supplied \n           by User.This List is later converted to an int[] Array. List\n           is used because it can grow dynamically whereas Arrays can not. \n           This then allows the User to enter as many elements as desired\n           which the rules specify 10 elements max since we can only enter \n           values from 1 to 10.                     */\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\n        \n        // To hold the current value supplied by User:\n        String inputValue = &quot;&quot;;  \n        \n        // Repeatable User Entry Prompt with a Stop mechanism and entry Validation:\n        while (inputValue.isEmpty()) {\n            // Prompt:\n            System.out.print(&quot;Entry #&quot; + count + &quot;: -&gt; &quot;);\n            // Get User Entry:\n            inputValue = userInput.nextLine().trim();\n            // Is 'Stop' desired?\n            if (inputValue.equalsIgnoreCase(&quot;s&quot;)) {\n                // Yes...Inform and exit `while` loop\n                System.out.println(&quot;Done Creating Array!&quot;);\n                break;  // Exit `while` loop.\n            }\n            /* Validate User Entry. If the entry IS NOT a string representation\n               of a unsigned integer value from 1 to 10 then indicate as invalid\n               and allow the User to try again.        */\n            if (!inputValue.matches(&quot;\\\\d+&quot;) || Integer.parseInt(inputValue) &lt; 1 || \n                                                 Integer.parseInt(inputValue) &gt; 10) {\n                System.out.println(&quot;&gt;&gt; Invalid Entry (&quot; + inputValue + &quot;)! Try again... &lt;&lt;&quot; + LS);\n                inputValue = &quot;&quot;;    // Empty variable to ensure re-loop.\n                continue;  // Jump to top of loop:\n            }\n\n            /* If we made it to this point, then the User supplied value is \n               valid. Convert the User supplied string numerical value to \n               int data type.               */\n            int val = Integer.parseInt(inputValue);\n            \n            /* For demo purposes, display the Current List before checking\n               for duplicates:         */\n            System.out.println(&quot;List Previous: -&gt; &quot; + intList);\n            \n            // Check for duplicate...\n            /* If List is not empty and the int value of the User supplied\n               number IS currently contained within the List then remove the\n               duplicate value already contained within the List and insert \n               the new (same) value to the beginning of the List at index 0.  */\n            if (!intList.isEmpty() &amp;&amp; intList.contains(val)) {\n                int idx = intList.indexOf(val);\n                /* If the duplicate is already located at index 0 of the List \n                   then there is no point doing any modification to the List\n                   since this is where we would place the new value anyways. */\n                if (idx != 0) {\n                    intList.remove(idx); \n                    intList.add(0, val);\n                    // Inform of duplicate entry:\n                    System.out.println(&quot;&gt;&gt; Duplicate Entry (&quot; + inputValue + &quot;)! &quot;\n                            + &quot;Old value removed at index &quot; + idx + &quot; and New value inserted &quot;\n                                    + &quot;into index 0. &lt;&lt;&quot; + LS);\n                }\n            }\n            // Otherwise, just add the int value to the List:\n            else {\n                intList.add(val);\n            }\n            \n            /* For demo purposes, display the Current List after checking\n               for duplicates:         */\n            System.out.println(&quot;List Current:  -&gt; &quot; + intList);\n            \n            inputValue = &quot;&quot;; // Empty variable to ensure re-loop.\n            count++;  // Increment User entry count:\n        }\n        \n        // Convert the List to an int[] Array using Streams:\n        intArray = intList.stream().mapToInt(d -&gt; d).toArray();\n        \n        // Display int[] Array:\n        System.out.println(&quot;The intArray[] Array: -&gt; &quot; + Arrays.toString(intArray));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675869676,"creation_date":1675869676,"answer_id":75387938,"question_id":75379859,"body_markdown":"I will provide a solution for arrays and I will presume that if a new item is specified by the user, it will get to the head of the array and pulling everything to the right, with the oldest falling out of the array:\r\n\r\n```\r\nint index = intArray.indexOf(input);\r\nif (index &lt; 0) {\r\n    index = intArray.length; //we default to the last item that would disappear\r\nfor (int i = index; i &gt; 0; i--) {\r\n    intArray[i] = intArray[i - 1];\r\n}\r\nintArray[0] = input;\r\n```","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>I will provide a solution for arrays and I will presume that if a new item is specified by the user, it will get to the head of the array and pulling everything to the right, with the oldest falling out of the array:</p>\n<pre><code>int index = intArray.indexOf(input);\nif (index &lt; 0) {\n    index = intArray.length; //we default to the last item that would disappear\nfor (int i = index; i &gt; 0; i--) {\n    intArray[i] = intArray[i - 1];\n}\nintArray[0] = input;\n</code></pre>\n"}],"owner":{"account_id":16132246,"reputation":3,"user_id":11645566,"display_name":"PrnceAkeem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75387938,"answer_count":3,"score":-1,"last_activity_date":1701800298,"creation_date":1675810990,"question_id":75379859,"body_markdown":"I tried checking the array to see if the number is already listed, if the user happens to input a number twice thus number should be placed to the top being its most recent and everything else should be shifted down. in Short given the array [ 4, 5, 6, 7, 9] if the users inputs 7 it should be changed to [7, 4, 5, 6, 9].\r\n\r\n\r\n\r\n\r\n\r\n    //Array Created\r\n    int intArray[] = new int[5]; \r\n\r\n    //Number of values in the array\r\n    int count = 0;\r\n\r\n    //Value user enters\r\n    int userInput = 0;\r\n    \r\n    //Receive user inputs\r\n    Scanner in = new Scanner(System.in);\r\n    \r\n    //First Prompt \r\n    System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n    userInput = in.nextInt();\r\n\r\n    //Keep asking for number if invalid\r\n    while((userInput &lt; 0) || (userInput &gt; 10)){\r\n      System.out.println(&quot;Invalid number. Must be between 1 - 10\\n&quot;);\r\n      System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n      userInput = in.nextInt();\r\n    }\r\n    \r\n    intArray[count] = userInput;\r\n    count++;\r\n    \r\n   \r\n     while(userInput != 0){\r\n\r\n       //Keeps Track of the numbers inputed \r\n      System.out.println(&quot;There is currently &quot; + count + &quot; On The Table.&quot;);\r\n      for(int i = 0; i &lt; count; i++){\r\n        System.out.print(intArray[i] + &quot; &quot;);\r\n      }\r\n  \r\n      System.out.print(&quot;\\n\\n&quot;);\r\n      System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n      \r\n      userInput = in.nextInt();\r\n      \r\n      //Don&#39;t Allow numbers bigger than 10 or less than 1\r\n      while(userInput &lt; 0 || userInput &gt; 10){\r\n        System.out.println(&quot;Invalid number.\\n&quot;);\r\n        System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n        userInput = in.nextInt();\r\n      } \r\n\r\n      if(count == intArray.length){\r\n        int tempPrev;\r\n        for(int i = (intArray.length - 1); i &gt; 0; i--){\r\n          \r\n          //Store the previous value\r\n          tempPrev = intArray[i - 1];\r\n\r\n          //Assign current index to what was in previous\r\n          intArray[i] = tempPrev;\r\n        }\r\n        \r\n        intArray[0] = userInput;\r\n        count = intArray.length;\r\n      } else {\r\n        intArray[count] = userInput;\r\n        count++;\r\n      }\r\n    }\r\n    System.out.println(&quot;The end.&quot;);\r\n  }\r\n}\r\n","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>I tried checking the array to see if the number is already listed, if the user happens to input a number twice thus number should be placed to the top being its most recent and everything else should be shifted down. in Short given the array [ 4, 5, 6, 7, 9] if the users inputs 7 it should be changed to [7, 4, 5, 6, 9].</p>\n<pre><code>//Array Created\nint intArray[] = new int[5]; \n\n//Number of values in the array\nint count = 0;\n\n//Value user enters\nint userInput = 0;\n\n//Receive user inputs\nScanner in = new Scanner(System.in);\n\n//First Prompt \nSystem.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\nuserInput = in.nextInt();\n\n//Keep asking for number if invalid\nwhile((userInput &lt; 0) || (userInput &gt; 10)){\n  System.out.println(&quot;Invalid number. Must be between 1 - 10\\n&quot;);\n  System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n  userInput = in.nextInt();\n}\n\nintArray[count] = userInput;\ncount++;\n\n\n while(userInput != 0){\n\n   //Keeps Track of the numbers inputed \n  System.out.println(&quot;There is currently &quot; + count + &quot; On The Table.&quot;);\n  for(int i = 0; i &lt; count; i++){\n    System.out.print(intArray[i] + &quot; &quot;);\n  }\n\n  System.out.print(&quot;\\n\\n&quot;);\n  System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n  \n  userInput = in.nextInt();\n  \n  //Don't Allow numbers bigger than 10 or less than 1\n  while(userInput &lt; 0 || userInput &gt; 10){\n    System.out.println(&quot;Invalid number.\\n&quot;);\n    System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n    userInput = in.nextInt();\n  } \n\n  if(count == intArray.length){\n    int tempPrev;\n    for(int i = (intArray.length - 1); i &gt; 0; i--){\n      \n      //Store the previous value\n      tempPrev = intArray[i - 1];\n\n      //Assign current index to what was in previous\n      intArray[i] = tempPrev;\n    }\n    \n    intArray[0] = userInput;\n    count = intArray.length;\n  } else {\n    intArray[count] = userInput;\n    count++;\n  }\n}\nSystem.out.println(&quot;The end.&quot;);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","ubuntu","wav","javasound"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1316247053,"post_id":7453380,"comment_id":9015587,"body_markdown":"1) Does the exact source shown in the [JavaSound info. page](http://stackoverflow.com/tags/javasound/info) for playing a WAV work for you?  2) Does that exact source (except URL changed) fail for your test WAVs?","body":"1) Does the exact source shown in the <a href=\"http://stackoverflow.com/tags/javasound/info\">JavaSound info. page</a> for playing a WAV work for you?  2) Does that exact source (except URL changed) fail for your test WAVs?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1316247281,"post_id":7453380,"comment_id":9015610,"body_markdown":"For better help sooner, post an [SSCCE](http://pscode.org/sscce.html).","body":"For better help sooner, post an <a href=\"http://pscode.org/sscce.html\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1316321848,"post_id":7453380,"comment_id":9024281,"body_markdown":"@broiyan: why did I waste my free time working on your Swing validate question if you&#39;re just going to delete it? Duly noted for future reference.","body":"@broiyan: why did I waste my free time working on your Swing validate question if you&#39;re just going to delete it? Duly noted for future reference."}],"answers":[{"tags":[],"owner":{"account_id":475091,"reputation":1856,"user_id":885210,"accept_rate":100,"display_name":"wanderlust"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1316251178,"creation_date":1316251178,"answer_id":7453757,"question_id":7453380,"body_markdown":"For playing the clip for the second time you must call\r\n\r\n    clip.start();\r\n    clip.stop();\r\n\r\ncause after the second call of clip.start(); it is trying to play the file from the place where [it stopped previously][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/javax/sound/sampled/Clip.html","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>For playing the clip for the second time you must call</p>\n\n<pre><code>clip.start();\nclip.stop();\n</code></pre>\n\n<p>cause after the second call of clip.start(); it is trying to play the file from the place where <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/javax/sound/sampled/Clip.html\" rel=\"nofollow\">it stopped previously</a>.</p>\n"},{"tags":[],"owner":{"account_id":30074545,"reputation":1,"user_id":23047726,"display_name":"user23047726"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701799986,"creation_date":1701799986,"answer_id":77608422,"question_id":7453380,"body_markdown":"This wonderful API worked for me:\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    \r\n    /**\r\n     * Handles playing, stopping, and looping of sounds for the game.\r\n     *\r\n     * @author Langdon Staab\r\n     * @author Tyler Tomas\r\n     */\r\n    public class Sound {\r\n        Clip clip;\r\n    \r\n        @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n        public Sound(String filename) {\r\n            try (InputStream in = getClass().getResourceAsStream(filename)) {\r\n                assert in != null;\r\n                InputStream bufferedIn = new BufferedInputStream(in);\r\n                try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\r\n                    clip = AudioSystem.getClip();\r\n                    clip.open(audioIn);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Malformed URL: \\n&quot; + e);\r\n            } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Unsupported Audio File: \\n&quot; + e);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Input/Output Error: \\n&quot; + e);\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: \\n&quot; + e);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // play, stop, loop the sound clip\r\n        }\r\n    \r\n        public void play() {\r\n            clip.setFramePosition(0);  // Must always rewind!\r\n            clip.start();\r\n        }\r\n    \r\n        public void loop() {\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n        }\r\n    \r\n        public void stop() {\r\n            clip.stop();\r\n        }\r\n    \r\n        public boolean isPlaying() {\r\n            //return false;\r\n            return clip.getFrameLength() &gt; clip.getFramePosition();\r\n        }\r\n    }","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>This wonderful API worked for me:</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\n\n/**\n * Handles playing, stopping, and looping of sounds for the game.\n *\n * @author Langdon Staab\n * @author Tyler Tomas\n */\npublic class Sound {\n    Clip clip;\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public Sound(String filename) {\n        try (InputStream in = getClass().getResourceAsStream(filename)) {\n            assert in != null;\n            InputStream bufferedIn = new BufferedInputStream(in);\n            try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\n                clip = AudioSystem.getClip();\n                clip.open(audioIn);\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Malformed URL: \\n&quot; + e);\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Unsupported Audio File: \\n&quot; + e);\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Input/Output Error: \\n&quot; + e);\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: \\n&quot; + e);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // play, stop, loop the sound clip\n    }\n\n    public void play() {\n        clip.setFramePosition(0);  // Must always rewind!\n        clip.start();\n    }\n\n    public void loop() {\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n    }\n\n    public void stop() {\n        clip.stop();\n    }\n\n    public boolean isPlaying() {\n        //return false;\n        return clip.getFrameLength() &gt; clip.getFramePosition();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":188416,"reputation":10894,"user_id":427155,"accept_rate":85,"display_name":"H2ONaCl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7453757,"answer_count":2,"score":0,"last_activity_date":1701799986,"creation_date":1316246336,"question_id":7453380,"body_markdown":"This is a slightly modified example from the Java Sound info page. [https://stackoverflow.com/tags/javasound/info][1] Unfortunately, it only plays the sound once but the intention is twice.\r\n\r\n    import java.io.File;\r\n    import javax.sound.sampled.*;\r\n    \r\n    public class TestNoise {\r\n        public static void main(String[] args) throws Exception {\r\n            File f = new File(&quot;/home/brian/drip.wav&quot;);\r\n            AudioInputStream ais = AudioSystem.getAudioInputStream(f);\r\n            \r\n            AudioFormat af = ais.getFormat();\r\n            DataLine.Info info = new DataLine.Info(Clip.class, af);\r\n            Clip clip = (Clip)AudioSystem.getLine(info);\r\n            \r\n            clip.open(ais);\r\n            clip.start();    // heard this\r\n            Java.killTime(); \r\n            clip.start();    // NOT HEARD\r\n            Java.killTime();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/javasound/info\r\n\r\n**Edit: To understand the answer, see the link provided by Wanderlust or just do what it says in the comment below his answer.**","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>This is a slightly modified example from the Java Sound info page. <a href=\"https://stackoverflow.com/tags/javasound/info\">https://stackoverflow.com/tags/javasound/info</a> Unfortunately, it only plays the sound once but the intention is twice.</p>\n\n<pre><code>import java.io.File;\nimport javax.sound.sampled.*;\n\npublic class TestNoise {\n    public static void main(String[] args) throws Exception {\n        File f = new File(\"/home/brian/drip.wav\");\n        AudioInputStream ais = AudioSystem.getAudioInputStream(f);\n\n        AudioFormat af = ais.getFormat();\n        DataLine.Info info = new DataLine.Info(Clip.class, af);\n        Clip clip = (Clip)AudioSystem.getLine(info);\n\n        clip.open(ais);\n        clip.start();    // heard this\n        Java.killTime(); \n        clip.start();    // NOT HEARD\n        Java.killTime();\n    }\n}\n</code></pre>\n\n<p><strong>Edit: To understand the answer, see the link provided by Wanderlust or just do what it says in the comment below his answer.</strong></p>\n"},{"tags":["java","hibernate","methods","spring-data-jpa","deprecated"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1691132722,"post_id":76833652,"comment_id":135453057,"body_markdown":"Never use @lombok.Data because equals will be wrong","body":"Never use @lombok.Data because equals will be wrong"},{"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"score":0,"creation_date":1691135957,"post_id":76833652,"comment_id":135453704,"body_markdown":"@SimonMartinelli yes you are right, but its not important in this question.","body":"@SimonMartinelli yes you are right, but its not important in this question."}],"answers":[{"tags":[],"owner":{"account_id":9008386,"reputation":83,"user_id":6714057,"display_name":"Long"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691136905,"creation_date":1691136905,"answer_id":76834134,"question_id":76833652,"body_markdown":"This is implemenation for JPA save function:\r\n\r\n```\r\n    @Transactional\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n        if (this.entityInformation.isNew(entity)) {\r\n            this.em.persist(entity);\r\n            return entity;\r\n        } else {\r\n            return this.em.merge(entity);\r\n        }\r\n    }\r\n```\r\nSo, as you can see, JPA do check if entity is existing or not. \r\nIf yes, then it will update, otherwise JPA will insert a new record. If you don&#39;t want to insert if not exist, you can call findById() first, throw exception if entity not exist, then call save() after that. Please don&#39;t try to modify default behavior of JPA as it can cause more issue in the future. ","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>This is implemenation for JPA save function:</p>\n<pre><code>    @Transactional\n    public &lt;S extends T&gt; S save(S entity) {\n        if (this.entityInformation.isNew(entity)) {\n            this.em.persist(entity);\n            return entity;\n        } else {\n            return this.em.merge(entity);\n        }\n    }\n</code></pre>\n<p>So, as you can see, JPA do check if entity is existing or not.\nIf yes, then it will update, otherwise JPA will insert a new record. If you don't want to insert if not exist, you can call findById() first, throw exception if entity not exist, then call save() after that. Please don't try to modify default behavior of JPA as it can cause more issue in the future.</p>\n"},{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701799950,"creation_date":1701799950,"answer_id":77608413,"question_id":76833652,"body_markdown":"You should implement `org.springframework.data.domain.Persistable`\r\n\r\n**Explanation**: \r\nSpring Data only has a single save method, but underneath it needs to do either persist or merge, as you can see in the save implementation. This is only an issue if you assign the primary key in code. If JPA assigns it, using an IDGenerator, you don&#39;t need to do anything, because spring data sees that the ID is null, so it will call persist. \r\n\r\nSpring Data designed an extension point for this specific usecase, so we can tell the framework if the entity is new or old, and the id is not null. The solution is to implement the `org.springframework.data.domain.Persistable&lt;ID&gt;` and override the `isNew()` method. \r\nWhen you have an unmanaged Entity, and call save it, Spring data will forward to persist, as detailed in the save method. If you have an unmanaged entity, that is not new, Spring data will merge the entity, as the JPA spec specifies.\r\n","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>You should implement <code>org.springframework.data.domain.Persistable</code></p>\n<p><strong>Explanation</strong>:\nSpring Data only has a single save method, but underneath it needs to do either persist or merge, as you can see in the save implementation. This is only an issue if you assign the primary key in code. If JPA assigns it, using an IDGenerator, you don't need to do anything, because spring data sees that the ID is null, so it will call persist.</p>\n<p>Spring Data designed an extension point for this specific usecase, so we can tell the framework if the entity is new or old, and the id is not null. The solution is to implement the <code>org.springframework.data.domain.Persistable&lt;ID&gt;</code> and override the <code>isNew()</code> method.\nWhen you have an unmanaged Entity, and call save it, Spring data will forward to persist, as detailed in the save method. If you have an unmanaged entity, that is not new, Spring data will merge the entity, as the JPA spec specifies.</p>\n"}],"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701799950,"creation_date":1691132596,"question_id":76833652,"body_markdown":"I have a &quot;Test&quot; entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TEST&quot;)\r\n@lombok.Data\r\npublic class Test {\t\r\n\t\r\n\t@Id\r\n\t@jakarta.persistence.GeneratedValue(generator = &quot;test_id_gen_key&quot;)\r\n\t@org.hibernate.annotations.GenericGenerator(name=&quot;test_id_gen_key&quot;, type=org.hibernate.id.IdentityGenerator.class)\r\n\t@Column(name=&quot;id&quot;, nullable = false)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;name&quot;, nullable = true, length = 10)\r\n\tprivate String name;\r\n\t\r\n}\r\n```\r\n\r\nAnd the TestRepository:\r\n\r\n```\r\n@Repository\r\npublic interface TestRepository extends JpaRepository&lt;Test, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nWhen I try to do a update in TestService like this:\r\n\r\n```\r\nvar test = new Test(10, &quot;any name&quot;);  // the id value : 10 does not exist in the databse \r\n\r\ntestRepository.save(test);\r\n\r\n```\r\n\r\nThen the hibernate execute the merge() method:\r\n1. query the database with the id value ： 10；\r\n2. got nothing from step 1, then it execute an insert sql to generate a new record.\r\n\r\nBut what I want in this situation is to throw a exception, the CrudRepository#save method also said &quot;also thrown if the entity is assumed to be present but does not exist in the database&quot; :\r\n\r\n\r\n```\r\n\t/**\r\n\t * Saves a given entity. Use the returned instance for further operations as the save operation might have changed the\r\n\t * entity instance completely.\r\n\t *\r\n\t * @param entity must not be {@literal null}.\r\n\t * @return the saved entity; will never be {@literal null}.\r\n\t * @throws IllegalArgumentException in case the given {@literal entity} is {@literal null}.\r\n\t * @throws OptimisticLockingFailureException when the entity uses optimistic locking and has a version attribute with\r\n\t *           a different value from that found in the persistence store. **Also thrown if the entity is assumed to be\r\n\t *           present but does not exist in the database**.\r\n\t */\r\n\t&lt;S extends T&gt; S save(S entity);\r\n```\r\n\r\nWhat is the best way to handle this situation?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI extend the SimpleJpaRepository implementation and add a update method to call the org.hibernate.Session#update() method, it works as I expected, but the method is deprecated already, I dont think its a prefect solution:\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@Override\r\n\tpublic T update(T entity) {\t\t\r\n\t\tsession().update(entity);\r\n\t\t\r\n\t\treturn entity;\r\n\t}\r\n```\r\n","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>I have a &quot;Test&quot; entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TEST&quot;)\n@lombok.Data\npublic class Test { \n    \n    @Id\n    @jakarta.persistence.GeneratedValue(generator = &quot;test_id_gen_key&quot;)\n    @org.hibernate.annotations.GenericGenerator(name=&quot;test_id_gen_key&quot;, type=org.hibernate.id.IdentityGenerator.class)\n    @Column(name=&quot;id&quot;, nullable = false)\n    private Integer id;\n    \n    @Column(name=&quot;name&quot;, nullable = true, length = 10)\n    private String name;\n    \n}\n</code></pre>\n<p>And the TestRepository:</p>\n<pre><code>@Repository\npublic interface TestRepository extends JpaRepository&lt;Test, Integer&gt; {\n\n}\n</code></pre>\n<p>When I try to do a update in TestService like this:</p>\n<pre><code>var test = new Test(10, &quot;any name&quot;);  // the id value : 10 does not exist in the databse \n\ntestRepository.save(test);\n\n</code></pre>\n<p>Then the hibernate execute the merge() method:</p>\n<ol>\n<li>query the database with the id value ： 10；</li>\n<li>got nothing from step 1, then it execute an insert sql to generate a new record.</li>\n</ol>\n<p>But what I want in this situation is to throw a exception, the CrudRepository#save method also said &quot;also thrown if the entity is assumed to be present but does not exist in the database&quot; :</p>\n<pre><code>    /**\n     * Saves a given entity. Use the returned instance for further operations as the save operation might have changed the\n     * entity instance completely.\n     *\n     * @param entity must not be {@literal null}.\n     * @return the saved entity; will never be {@literal null}.\n     * @throws IllegalArgumentException in case the given {@literal entity} is {@literal null}.\n     * @throws OptimisticLockingFailureException when the entity uses optimistic locking and has a version attribute with\n     *           a different value from that found in the persistence store. **Also thrown if the entity is assumed to be\n     *           present but does not exist in the database**.\n     */\n    &lt;S extends T&gt; S save(S entity);\n</code></pre>\n<p>What is the best way to handle this situation?</p>\n<p>I extend the SimpleJpaRepository implementation and add a update method to call the org.hibernate.Session#update() method, it works as I expected, but the method is deprecated already, I dont think its a prefect solution:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\n    @Override\n    public T update(T entity) {     \n        session().update(entity);\n        \n        return entity;\n    }\n</code></pre>\n"},{"tags":["java","caldav","ical4j"],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701799604,"creation_date":1701022354,"question_id":77552904,"body_markdown":"I&#39;m using ical4j 3.2.14 to add, update or delete events on a file based calendar and it works fine. The next step is doing the same on a caldav server like sogo.\r\nI know ical4j-connector but I&#39;ve got no idea how to use it. I couldn&#39;t find any usefull tutorial or example for that.\r\n\r\nCould someone explain me how to read a calendar object from a caldav server and merge or save the changes back?\r\n\r\nEvery hint is helpful.","title":"How to use ical4j with a caldav server?","body":"<p>I'm using ical4j 3.2.14 to add, update or delete events on a file based calendar and it works fine. The next step is doing the same on a caldav server like sogo.\nI know ical4j-connector but I've got no idea how to use it. I couldn't find any usefull tutorial or example for that.</p>\n<p>Could someone explain me how to read a calendar object from a caldav server and merge or save the changes back?</p>\n<p>Every hint is helpful.</p>\n"},{"tags":["java","event-listener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701280846,"post_id":77573232,"comment_id":136757372,"body_markdown":"Define the variable as an instance variable in your class and then in the constructor you you assign the User to this variable.","body":"Define the variable as an instance variable in your class and then in the constructor you you assign the User to this variable."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701281902,"post_id":77573232,"comment_id":136757528,"body_markdown":"Make ButtonAction an inner class of LoginDialog so it has access to user.","body":"Make ButtonAction an inner class of LoginDialog so it has access to user."},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701291611,"post_id":77573232,"comment_id":136759063,"body_markdown":"I have to pass it to another jFrame. User must be visible to a login frame and a main frame.The user parameter of LoginDialog comes from main application.","body":"I have to pass it to another jFrame. User must be visible to a login frame and a main frame.The user parameter of LoginDialog comes from main application."},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701798284,"post_id":77573232,"comment_id":136819103,"body_markdown":"My is only an excercise. I want that a user is rcognized from the main application after he is successfull logged in.","body":"My is only an excercise. I want that a user is rcognized from the main application after he is successfull logged in."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701798413,"post_id":77573232,"comment_id":136819137,"body_markdown":"If you want help debugging your code, you need to post more of it. I suggest that you post the body of constructor for class `LoginDialog`. I also suggest that you post code that calls that constructor. Is class `ButtonAction` an inner class of `LoginDialog`?","body":"If you want help debugging your code, you need to post more of it. I suggest that you post the body of constructor for class <code>LoginDialog</code>. I also suggest that you post code that calls that constructor. Is class <code>ButtonAction</code> an inner class of <code>LoginDialog</code>?"},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701799038,"post_id":77573232,"comment_id":136819240,"body_markdown":"yes ButtonAction is an inner class. as you can see i have posted more.","body":"yes ButtonAction is an inner class. as you can see i have posted more."}],"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701798972,"creation_date":1701277982,"question_id":77573232,"body_markdown":"i want to modify the variable user passed to a constructor and then modify it in an event listener. the application consists of two window one for login and the main window for the application. I want that the user is recognized by the main window. So when the user log in successfully his info are stored in a user object. the problem is that when the user clicks on the login button the user variable is not seen in the inner class ButtonAction. \r\nfor example:\r\n\r\n```\r\npublic class LoginDialog extends JDialog{\r\npublic LoginDialog(User user) {\r\n       \r\n\r\n\r\n....\r\n}\r\nprivate class ButtonAction implements ActionListener{\r\n\t\tpublic void actionPerformed(ActionEvent ev) {\r\n                             ................\r\n                             setUserInfo(user)//here user is not visible\r\n                }\r\n}\r\n\r\n\r\n}\r\n```\r\n```\r\n    \r\n    public class Main {\r\n\r\n\tprivate JFrame mainFrame;\r\n\tprivate LoginFrame loginFrame;\r\n\tprivate JLabel mainFrameLabel=new JLabel(&quot;Sign In&quot;);\r\n\tUser user=null;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMain window = new Main();\r\n\t\t\t\t\twindow.mainFrame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic Main() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tLoginDialog loginDialog = new LoginDialog(user);\r\n\t\tloginDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\tloginDialog.setModal(true);\r\n\t\tloginDialog.setVisible(true);\r\n\t\tSystem.out.println(&quot;Stampo info studente:&quot;);\r\n\t\tSystem.out.println(user);\r\n\t\tloginDialog.dispose();\r\n\t\t\r\n\t\tif(user.getLoggedIn()) {\r\n\t\t\tmainFrame = new JFrame(&quot;Main Frame&quot;);\r\n\t\t\tmainFrame.setBounds(300, 300, 450, 300);\r\n\t\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tmainFrame.getContentPane().setLayout(null);\r\n\t\t\t\r\n\t\t\tJPanel mainPanel = new JPanel();\r\n\t\t\tmainPanel.setBounds(10, 10, 426, 243);\r\n\t\t\tmainFrame.getContentPane().add(mainPanel);\r\n\t\t\tmainPanel.setLayout(null);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmainFrameLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\t\tmainFrameLabel.setBounds(70, 102, 252, 33);\r\n\t\t\tmainPanel.add(mainFrameLabel);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmainFrame.addWindowListener(new WindowAdapter() {\r\n\t\t\t\tpublic void windowClosed(WindowEvent we) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmainFrameLabel.setText(&quot;Sign In&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tuser.setLoggedIn(false);\r\n\t\t\t\t\tuser=null;\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t      public void windowClosing(WindowEvent we) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmainFrameLabel.setText(&quot;Sign In&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tuser.setLoggedIn(false);\r\n\t\t\t\t\tuser=null;\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n}\r\n}\r\n```\r\nI get an error &quot;user cannot be resolved to a variable&quot; on setInfoUser(user).How can i solve it?\r\nAs you can see i have summerized.\r\nI have tried several things. But i haven&#39;t solved the problem.\r\nP.s.there are some other errors but i am not interested.","title":"How to modify a variable in an event listener","body":"<p>i want to modify the variable user passed to a constructor and then modify it in an event listener. the application consists of two window one for login and the main window for the application. I want that the user is recognized by the main window. So when the user log in successfully his info are stored in a user object. the problem is that when the user clicks on the login button the user variable is not seen in the inner class ButtonAction.\nfor example:</p>\n<pre><code>public class LoginDialog extends JDialog{\npublic LoginDialog(User user) {\n       \n\n\n....\n}\nprivate class ButtonAction implements ActionListener{\n        public void actionPerformed(ActionEvent ev) {\n                             ................\n                             setUserInfo(user)//here user is not visible\n                }\n}\n\n\n}\n</code></pre>\n<pre><code>    \n    public class Main {\n\n    private JFrame mainFrame;\n    private LoginFrame loginFrame;\n    private JLabel mainFrameLabel=new JLabel(&quot;Sign In&quot;);\n    User user=null;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Main window = new Main();\n                    window.mainFrame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public Main() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        \n        \n        \n        \n        LoginDialog loginDialog = new LoginDialog(user);\n        loginDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n        loginDialog.setModal(true);\n        loginDialog.setVisible(true);\n        System.out.println(&quot;Stampo info studente:&quot;);\n        System.out.println(user);\n        loginDialog.dispose();\n        \n        if(user.getLoggedIn()) {\n            mainFrame = new JFrame(&quot;Main Frame&quot;);\n            mainFrame.setBounds(300, 300, 450, 300);\n            mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            mainFrame.getContentPane().setLayout(null);\n            \n            JPanel mainPanel = new JPanel();\n            mainPanel.setBounds(10, 10, 426, 243);\n            mainFrame.getContentPane().add(mainPanel);\n            mainPanel.setLayout(null);\n            \n            \n            mainFrameLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n            mainFrameLabel.setBounds(70, 102, 252, 33);\n            mainPanel.add(mainFrameLabel);\n            \n            \n            mainFrame.addWindowListener(new WindowAdapter() {\n                public void windowClosed(WindowEvent we) {\n                    \n                    mainFrameLabel.setText(&quot;Sign In&quot;);\n                    \n                    user.setLoggedIn(false);\n                    user=null;\n                    System.exit(0);\n                }\n                  public void windowClosing(WindowEvent we) {\n                    \n                    mainFrameLabel.setText(&quot;Sign In&quot;);\n                    \n                    user.setLoggedIn(false);\n                    user=null;\n                    System.exit(0);\n                }\n                \n                \n            });\n        }\n}\n}\n</code></pre>\n<p>I get an error &quot;user cannot be resolved to a variable&quot; on setInfoUser(user).How can i solve it?\nAs you can see i have summerized.\nI have tried several things. But i haven't solved the problem.\nP.s.there are some other errors but i am not interested.</p>\n"},{"tags":["c#","java"],"comments":[{"owner":{"account_id":8171,"reputation":33191,"user_id":14558,"accept_rate":80,"display_name":"andrewdotn"},"score":10,"creation_date":1384228859,"post_id":16539245,"comment_id":29642093,"body_markdown":"Why this would be nice: [Callbacks as our Generations’ Go To Statement](http://tirania.org/blog/archive/2013/Aug-15.html) by Miguel de Icaza.","body":"Why this would be nice: <a href=\"http://tirania.org/blog/archive/2013/Aug-15.html\" rel=\"nofollow noreferrer\">Callbacks as our Generations’ Go To Statement</a> by Miguel de Icaza."},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1519360342,"post_id":16539245,"comment_id":84889236,"body_markdown":"Java&#39;s current solution is to not deal with actual values prefixed with `async`, but use `Future` or `Observable` values instead.","body":"Java&#39;s current solution is to not deal with actual values prefixed with <code>async</code>, but use <code>Future</code> or <code>Observable</code> values instead."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":6,"creation_date":1576172146,"post_id":16539245,"comment_id":104822171,"body_markdown":"There is no equivalent. And it hurts. One more missing feature you need complicated workarounds and libraries for, without ever reaching the same effect as these two, simple words.","body":"There is no equivalent. And it hurts. One more missing feature you need complicated workarounds and libraries for, without ever reaching the same effect as these two, simple words."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1582294256,"post_id":16539245,"comment_id":106738298,"body_markdown":"It&#39;s worth noting that for a long time, Java designers have tried to keep the Java bytecode backward compatible with only changes to libraries and Syntatic-sugar around existing features. *See the fact that generics don&#39;t store run-time type information and lambders are implemented as object implementing an interface*.  async/await would require very large changes to the bytecode to be possible and therefore I wouldn&#39;t expect to see it in java any time soon.","body":"It&#39;s worth noting that for a long time, Java designers have tried to keep the Java bytecode backward compatible with only changes to libraries and Syntatic-sugar around existing features. <i>See the fact that generics don&#39;t store run-time type information and lambders are implemented as object implementing an interface</i>.  async/await would require very large changes to the bytecode to be possible and therefore I wouldn&#39;t expect to see it in java any time soon."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":1,"creation_date":1630072342,"post_id":16539245,"comment_id":121863429,"body_markdown":"@PhilipCouling I don&#39;t believe there is any need to do any change in the bytecode to support async await. It&#39;s just syntactic sugar around Futures, nothing more. As a matter of fact, in JavaScript, you can transpile your async/await code in Future equivalent for backward compatibility. It&#39;s just about building a state machine, which you can do by generating bytecode. No need for changes in the JVM.","body":"@PhilipCouling I don&#39;t believe there is any need to do any change in the bytecode to support async await. It&#39;s just syntactic sugar around Futures, nothing more. As a matter of fact, in JavaScript, you can transpile your async/await code in Future equivalent for backward compatibility. It&#39;s just about building a state machine, which you can do by generating bytecode. No need for changes in the JVM."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630084830,"post_id":16539245,"comment_id":121868326,"body_markdown":"@pieroxy Java and JavaScript are very different. JavaScript has yield which can be used to implement await. last time I checked Java does not. As a matter of fact yield is how python first achieved async. But without yield it&#39;s near impossible to stop what you&#39;re doing, save the stack, do something completely different then restore the stack and carry on all on the same thread. It&#39;s just not how the nvm works.","body":"@pieroxy Java and JavaScript are very different. JavaScript has yield which can be used to implement await. last time I checked Java does not. As a matter of fact yield is how python first achieved async. But without yield it&#39;s near impossible to stop what you&#39;re doing, save the stack, do something completely different then restore the stack and carry on all on the same thread. It&#39;s just not how the nvm works."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630085392,"post_id":16539245,"comment_id":121868511,"body_markdown":"@pieroxy just to be clear async/await is **not** syntactic sugar to a language with no yield. It&#39;s a fundamental construct.","body":"@pieroxy just to be clear async/await is <b>not</b> syntactic sugar to a language with no yield. It&#39;s a fundamental construct."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630312699,"post_id":16539245,"comment_id":121912816,"body_markdown":"@PhilipCouling As far as I understand it, python and javascript need yield because they do not have multithreading. Java having multithreading since day one, I don&#39;t believe yield would be of any necessity. Just transforming all the code after an async to a callback is all that is needed. Fundamentally, async/await is just another way of writing Future and callbacks, but this time the code is linear instead of all over the place. There are shenanigans with exceptions and other things of course.","body":"@PhilipCouling As far as I understand it, python and javascript need yield because they do not have multithreading. Java having multithreading since day one, I don&#39;t believe yield would be of any necessity. Just transforming all the code after an async to a callback is all that is needed. Fundamentally, async/await is just another way of writing Future and callbacks, but this time the code is linear instead of all over the place. There are shenanigans with exceptions and other things of course."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":2,"creation_date":1630314004,"post_id":16539245,"comment_id":121913278,"body_markdown":"@pieroxy no **async is not multithreading** and python had multithreading long before async. Multithreading uses operating system threads and the OS time slices between them. Async uses a single OS thread and the application takes responsibility to switch tasks when a task reaches a logical point where it must stop ( eg network read). The whole point of async is that it it reuses the same thread to perform other tasks while a task is blocking. The lack of threading is purely a JavaScript thing.","body":"@pieroxy no <b>async is not multithreading</b> and python had multithreading long before async. Multithreading uses operating system threads and the OS time slices between them. Async uses a single OS thread and the application takes responsibility to switch tasks when a task reaches a logical point where it must stop ( eg network read). The whole point of async is that it it reuses the same thread to perform other tasks while a task is blocking. The lack of threading is purely a JavaScript thing."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":1,"creation_date":1630314659,"post_id":16539245,"comment_id":121913522,"body_markdown":"@PhilipCouling Thanks for the clarification. That said, C# async await implementation does *not* guarantee the continuation is going to be done on the same thread. It&#39;s just syntactic sugar on top of Promises - so I guess your mileage may vary depending on which language you use. And Java could very well implement the C# flavor of async/await.","body":"@PhilipCouling Thanks for the clarification. That said, C# async await implementation does <i>not</i> guarantee the continuation is going to be done on the same thread. It&#39;s just syntactic sugar on top of Promises - so I guess your mileage may vary depending on which language you use. And Java could very well implement the C# flavor of async/await."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":2,"creation_date":1630319597,"post_id":16539245,"comment_id":121915395,"body_markdown":"@pieroxy still no.  Even in c# the core concept remains the same and is not syntactic sugar ([as described by jon skeet](https://stackoverflow.com/a/16539332/453851)).  Sure multiple threads may execute tasks from the same pool but that doesn&#39;t mean async is a threading model.  Async is hard to understand and many people don&#39;t.  In all languages that support async; `await` can suspend the entire call stack of the task and executes something different on the same thread.  In java you just can&#39;t suspend the stack and restore it later.","body":"@pieroxy still no.  Even in c# the core concept remains the same and is not syntactic sugar (<a href=\"https://stackoverflow.com/a/16539332/453851\">as described by jon skeet</a>).  Sure multiple threads may execute tasks from the same pool but that doesn&#39;t mean async is a threading model.  Async is hard to understand and many people don&#39;t.  In all languages that support async; <code>await</code> can suspend the entire call stack of the task and executes something different on the same thread.  In java you just can&#39;t suspend the stack and restore it later."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630327746,"post_id":16539245,"comment_id":121918575,"body_markdown":"@PhilipCouling So what you are saying is that the [ea-async](https://github.com/electronicarts/ea-async) library is not actually implementing async await as they claim they do (apart from having parenthesis where none should be if it was in the language directly) ? For me, the real benefit of async/await is to write async code in a sequential fashion, instead of having callbacks all over the place, and that lib does it. What feature of async/await is missing here? And can you advise me on some reading on the topic so I&#39;ll stop bugging you here?","body":"@PhilipCouling So what you are saying is that the <a href=\"https://github.com/electronicarts/ea-async\" rel=\"nofollow noreferrer\">ea-async</a> library is not actually implementing async await as they claim they do (apart from having parenthesis where none should be if it was in the language directly) ? For me, the real benefit of async/await is to write async code in a sequential fashion, instead of having callbacks all over the place, and that lib does it. What feature of async/await is missing here? And can you advise me on some reading on the topic so I&#39;ll stop bugging you here?"},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630362299,"post_id":16539245,"comment_id":121930791,"body_markdown":"@pieroxy ea-async modifies the byte code via instrumentation AFAIK. Thus my original point stands. A lot of async documentation is a bit vague. C# has some reasonable docs (https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/) but I struggle to find the ones that helped me most originally.","body":"@pieroxy ea-async modifies the byte code via instrumentation AFAIK. Thus my original point stands. A lot of async documentation is a bit vague. C# has some reasonable docs (<a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>&zwnj;&#8203;) but I struggle to find the ones that helped me most originally."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630386672,"post_id":16539245,"comment_id":121934467,"body_markdown":"@PhilipCouling If we assume ea-async does properly async/await, it proves my point, not yours. The fact that they modify the bytecode is irrelevant. It just shows there is a way to emmit bytecode that can do async/await with a current JVM, no need to change the JVM, just the compiler to emmit the proper bytecode. Thanks for the doc, I&#39;m jumping in.","body":"@PhilipCouling If we assume ea-async does properly async/await, it proves my point, not yours. The fact that they modify the bytecode is irrelevant. It just shows there is a way to emmit bytecode that can do async/await with a current JVM, no need to change the JVM, just the compiler to emmit the proper bytecode. Thanks for the doc, I&#39;m jumping in."},{"owner":{"account_id":205210,"reputation":13776,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630397459,"post_id":16539245,"comment_id":121937933,"body_markdown":"@pieroxy my original point, that you have continually argued with, is [you can&#39;t do this without modifying the byte code](https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await?noredirect=1#comment106738298_16539245) ... a library modifying the byte code does not prove me wrong.  Historically java designers have avoided such changes.  I think i&#39;ll leave this there.","body":"@pieroxy my original point, that you have continually argued with, is <a href=\"https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await?noredirect=1#comment106738298_16539245\">you can&#39;t do this without modifying the byte code</a> ... a library modifying the byte code does not prove me wrong.  Historically java designers have avoided such changes.  I think i&#39;ll leave this there."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630470781,"post_id":16539245,"comment_id":121961430,"body_markdown":"@PhilipCouling Right, that was your original point, my bad. My point was just that Kotlin has async/await and runs on the JVM, so there is nothing to do in the JVM and bytecode intepretation/runtime for Java to support async/await. Of course, if they were to implement this, it would generate new bytecode, but I fail to see where that&#39;s a problem. Your analogy with Generics doesn&#39;t hold here because the JVM doesn&#39;t support them at runtime. And Kotlin can call Java and Java Kotlin so there is no compatibility issue in any way. Supporting them in Java libs would be the real work.","body":"@PhilipCouling Right, that was your original point, my bad. My point was just that Kotlin has async/await and runs on the JVM, so there is nothing to do in the JVM and bytecode intepretation/runtime for Java to support async/await. Of course, if they were to implement this, it would generate new bytecode, but I fail to see where that&#39;s a problem. Your analogy with Generics doesn&#39;t hold here because the JVM doesn&#39;t support them at runtime. And Kotlin can call Java and Java Kotlin so there is no compatibility issue in any way. Supporting them in Java libs would be the real work."},{"owner":{"account_id":7074737,"reputation":2172,"user_id":6084517,"display_name":"Nathan Chappell"},"score":0,"creation_date":1668968181,"post_id":16539245,"comment_id":131529378,"body_markdown":"If your programming language is strong enough to support writing an event loop, then it&#39;s possible to write async/await as merely generating code for a state-machine (sytactic sugar).  If some language implementation takes it a step further by letting some runtime system determine if an event loop or different thread is used, or if there are multiple event-loops guaranteed, then you&#39;re missing the point of async/await.  Supporting generics is a different story - in C# at least it would require modifying the syntax and semantics of metadata.","body":"If your programming language is strong enough to support writing an event loop, then it&#39;s possible to write async/await as merely generating code for a state-machine (sytactic sugar).  If some language implementation takes it a step further by letting some runtime system determine if an event loop or different thread is used, or if there are multiple event-loops guaranteed, then you&#39;re missing the point of async/await.  Supporting generics is a different story - in C# at least it would require modifying the syntax and semantics of metadata."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":4,"up_vote_count":185,"is_accepted":true,"score":181,"last_activity_date":1368523052,"creation_date":1368523052,"answer_id":16539332,"question_id":16539245,"body_markdown":"No, there isn&#39;t any equivalent of async/await in Java - or even in C# before v5.\r\n\r\nIt&#39;s a fairly complex language feature to build a state machine behind the scenes.\r\n\r\nThere&#39;s relatively little *language* support for asynchrony/concurrency in Java, but the `java.util.concurrent` package contains a lot of useful *classes* around this. (Not quite equivalent to the Task Parallel Library, but the closest approximation to it.)","title":"Java Equivalent of C# async/await?","body":"<p>No, there isn't any equivalent of async/await in Java - or even in C# before v5.</p>\n\n<p>It's a fairly complex language feature to build a state machine behind the scenes.</p>\n\n<p>There's relatively little <em>language</em> support for asynchrony/concurrency in Java, but the <code>java.util.concurrent</code> package contains a lot of useful <em>classes</em> around this. (Not quite equivalent to the Task Parallel Library, but the closest approximation to it.)</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1368525695,"creation_date":1368525695,"answer_id":16540265,"question_id":16539245,"body_markdown":"Java itself has no equivalent features, but third-party libraries exist which offer similar functionality, e.g.[Kilim][1].\r\n\r\n\r\n  [1]: https://github.com/kilim/kilim","title":"Java Equivalent of C# async/await?","body":"<p>Java itself has no equivalent features, but third-party libraries exist which offer similar functionality, e.g.<a href=\"https://github.com/kilim/kilim\" rel=\"noreferrer\">Kilim</a>.</p>\n"},{"tags":[],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401374328,"creation_date":1401374328,"answer_id":23936006,"question_id":16539245,"body_markdown":"There isn&#39;t anything native to java that lets you do this like async/await keywords, but what you can do if you really want to is use a [CountDownLatch][1]. You *could* then imitate async/await by passing this around (at least in Java7). This is a common practice in Android unit testing where we have to make an async call (usually a runnable posted by a handler), and then await for the result (count down). \r\n\r\nUsing this however inside your application as opposed to your test is **NOT** what I am recommending. That would be extremely shoddy as CountDownLatch depends on you effectively counting down the right number of times and in the right places. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"Java Equivalent of C# async/await?","body":"<p>There isn't anything native to java that lets you do this like async/await keywords, but what you can do if you really want to is use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\">CountDownLatch</a>. You <em>could</em> then imitate async/await by passing this around (at least in Java7). This is a common practice in Android unit testing where we have to make an async call (usually a runnable posted by a handler), and then await for the result (count down). </p>\n\n<p>Using this however inside your application as opposed to your test is <strong>NOT</strong> what I am recommending. That would be extremely shoddy as CountDownLatch depends on you effectively counting down the right number of times and in the right places. </p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1687258479,"creation_date":1404455855,"answer_id":24568103,"question_id":16539245,"body_markdown":"First, understand what async/await is. It is a way for a single-threaded GUI application or an efficient server to run multiple &quot;fibers&quot; or &quot;co-routines&quot; or &quot;lightweight threads&quot; on a single thread. Of note is that it uses the cooperative form of multi-threading, as opposed to pre-emptive. It is meant to solve one of two, separate issues. The first is that the framework developer found it too hard to do concurrent programming (typical of GUI frameworks). The second is that OS threads have too much overhead, particularly memory usage (typical of server frameworks).\r\n\r\nIn case you don&#39;t have either problem, then just use regular OS multi-threading. This is often easier and faster than asynchronous programming. To launch threads, consider using `ExecutorService.submit` and `Future.get` or the upcoming `StructuredTaskScope`. Inside of those threads, use ordinary synchronous, blocking calls.\r\n\r\n*In case your problem is scalability* and OS thread overhead, then know that Java 21 offers &quot;virtual&quot; threads. These are a lot like OS threads, but use much less memory. Go has a similar feature called [goroutines](https://stackoverflow.com/questions/27789227/what-exactly-are-goroutines#27794268).\r\n\r\nFor older versions of Java, you&#39;ll need to look to your framework, which has likely implemented some sort of &quot;asynchronous&quot; optimization. Many frameworks have done this, including Servlet 3.0. These don&#39;t have the elegance of language features, though. They work through ordinary callbacks.\r\n\r\n*In case  your problem is concurrency*, then you likewise need to look at your framework. For example, JavaFX offers `javafx.concurrent.Task`.","title":"Java Equivalent of C# async/await?","body":"<p>First, understand what async/await is. It is a way for a single-threaded GUI application or an efficient server to run multiple &quot;fibers&quot; or &quot;co-routines&quot; or &quot;lightweight threads&quot; on a single thread. Of note is that it uses the cooperative form of multi-threading, as opposed to pre-emptive. It is meant to solve one of two, separate issues. The first is that the framework developer found it too hard to do concurrent programming (typical of GUI frameworks). The second is that OS threads have too much overhead, particularly memory usage (typical of server frameworks).</p>\n<p>In case you don't have either problem, then just use regular OS multi-threading. This is often easier and faster than asynchronous programming. To launch threads, consider using <code>ExecutorService.submit</code> and <code>Future.get</code> or the upcoming <code>StructuredTaskScope</code>. Inside of those threads, use ordinary synchronous, blocking calls.</p>\n<p><em>In case your problem is scalability</em> and OS thread overhead, then know that Java 21 offers &quot;virtual&quot; threads. These are a lot like OS threads, but use much less memory. Go has a similar feature called <a href=\"https://stackoverflow.com/questions/27789227/what-exactly-are-goroutines#27794268\">goroutines</a>.</p>\n<p>For older versions of Java, you'll need to look to your framework, which has likely implemented some sort of &quot;asynchronous&quot; optimization. Many frameworks have done this, including Servlet 3.0. These don't have the elegance of language features, though. They work through ordinary callbacks.</p>\n<p><em>In case  your problem is concurrency</em>, then you likewise need to look at your framework. For example, JavaFX offers <code>javafx.concurrent.Task</code>.</p>\n"},{"tags":[],"owner":{"account_id":71616,"reputation":1101,"user_id":207131,"display_name":"FabienB"},"down_vote_count":6,"up_vote_count":21,"is_accepted":false,"score":15,"last_activity_date":1559314959,"creation_date":1409665387,"answer_id":25624909,"question_id":16539245,"body_markdown":"There is no equivalent of C# async/await in Java at the language level. A concept known as [Fibers][1] aka *cooperative threads* aka *lightweight threads* could be an interesting alternative. You can find Java libraries providing support for fibers.\r\n\r\n**Java libraries implementing Fibers**\r\n\r\n - [JetLang][2]\r\n - [Kilim][3]\r\n - [Quasar][4]\r\n\r\n\r\nYou can read [this article (from Quasar)][5] for a nice introduction to fibers. It covers what threads are, how fibers can be implemented on the JVM and has some Quasar specific code.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [2]: https://code.google.com/p/jetlang/\r\n  [3]: http://www.malhar.net/sriram/kilim/\r\n  [4]: http://docs.paralleluniverse.co/quasar/\r\n  [5]: http://blog.paralleluniverse.co/2014/02/06/fibers-threads-strands/","title":"Java Equivalent of C# async/await?","body":"<p>There is no equivalent of C# async/await in Java at the language level. A concept known as <a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">Fibers</a> aka <em>cooperative threads</em> aka <em>lightweight threads</em> could be an interesting alternative. You can find Java libraries providing support for fibers.</p>\n\n<p><strong>Java libraries implementing Fibers</strong></p>\n\n<ul>\n<li><a href=\"https://code.google.com/p/jetlang/\" rel=\"nofollow noreferrer\">JetLang</a></li>\n<li><a href=\"http://www.malhar.net/sriram/kilim/\" rel=\"nofollow noreferrer\">Kilim</a></li>\n<li><a href=\"http://docs.paralleluniverse.co/quasar/\" rel=\"nofollow noreferrer\">Quasar</a></li>\n</ul>\n\n<p>You can read <a href=\"http://blog.paralleluniverse.co/2014/02/06/fibers-threads-strands/\" rel=\"nofollow noreferrer\">this article (from Quasar)</a> for a nice introduction to fibers. It covers what threads are, how fibers can be implemented on the JVM and has some Quasar specific code.</p>\n"},{"tags":[],"owner":{"account_id":3892351,"reputation":361,"user_id":3222183,"display_name":"caisx25"},"down_vote_count":10,"up_vote_count":24,"is_accepted":false,"score":14,"last_activity_date":1421387461,"creation_date":1421387461,"answer_id":27978021,"question_id":16539245,"body_markdown":"**async** and **await** are syntactic sugars. The essence of async and await is state machine. The compiler will transform your async/await code into a state machine.\r\n\r\nAt the same time, in order for async/await to be really practicable in real projects, we need to have lots of **Async I/O library functions** already in place. For C#, most original synchronized I/O functions has an alternative Async version. The reason we need these Async functions is because in most cases, your own async/await code will boil down to some library Async method. \r\n\r\nThe Async version library functions in C# is kind of like the AsynchronousChannel concept in Java. For example, we have AsynchronousFileChannel.read which can either return a Future or execute a callback after the read operation is done. But it’s not exactly the same. All C# Async functions return Tasks (similar to Future but more powerful than Future).\r\n\r\nSo let’s say Java do support async/await, and we write some code like this:\r\n\r\n    public static async Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\r\n        Path path = Paths.get(filePath);\r\n        AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\r\n\t\t\r\n        ByteBuffer buffer = ByteBuffer.allocate(100_000);\r\n        await channel.read(buffer, 0, buffer, this);\r\n        return buffer.get(0);\r\n    }\r\n\r\nThen I would imagine the compiler will transform the original async/await code into something like this:\r\n\r\n\tpublic static Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\r\n\t\t\r\n\t\tCompletableFuture&lt;Byte&gt; result = new CompletableFuture&lt;Byte&gt;();\r\n\r\n\t\tAsyncHandler ah = new AsyncHandler(result, filePath);\r\n\t\t\r\n\t\tah.completed(null, null);\r\n\r\n\t\treturn result;\r\n\t}\r\nAnd here is the implementation for AsyncHandler:\r\n\r\n    class AsyncHandler implements CompletionHandler&lt;Integer, ByteBuffer&gt;\r\n    {\r\n        CompletableFuture&lt;Byte&gt; future;\r\n        int state;\r\n        String filePath;\r\n\r\n        public AsyncHandler(CompletableFuture&lt;Byte&gt; future, String filePath)\r\n        {\r\n            this.future = future;\r\n            this.state = 0;\r\n            this.filePath = filePath;\r\n        }\r\n\r\n        @Override\r\n        public void completed(Integer arg0, ByteBuffer arg1) {\r\n            try {\r\n                if (state == 0) {\r\n                    state = 1;\r\n                    Path path = Paths.get(filePath);\r\n                    AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\r\n                    \r\n                    ByteBuffer buffer = ByteBuffer.allocate(100_000);\r\n                    channel.read(buffer, 0, buffer, this);\r\n                    return;\r\n                } else {\r\n                    Byte ret = arg1.get(0);\r\n                    future.complete(ret);\r\n                }\r\n                \r\n            } catch (Exception e) {\r\n                future.completeExceptionally(e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void failed(Throwable arg0, ByteBuffer arg1) {\r\n            future.completeExceptionally(arg0);\r\n        }\r\n    }\r\n\r\n","title":"Java Equivalent of C# async/await?","body":"<p><strong>async</strong> and <strong>await</strong> are syntactic sugars. The essence of async and await is state machine. The compiler will transform your async/await code into a state machine.</p>\n\n<p>At the same time, in order for async/await to be really practicable in real projects, we need to have lots of <strong>Async I/O library functions</strong> already in place. For C#, most original synchronized I/O functions has an alternative Async version. The reason we need these Async functions is because in most cases, your own async/await code will boil down to some library Async method. </p>\n\n<p>The Async version library functions in C# is kind of like the AsynchronousChannel concept in Java. For example, we have AsynchronousFileChannel.read which can either return a Future or execute a callback after the read operation is done. But it’s not exactly the same. All C# Async functions return Tasks (similar to Future but more powerful than Future).</p>\n\n<p>So let’s say Java do support async/await, and we write some code like this:</p>\n\n<pre><code>public static async Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\n    Path path = Paths.get(filePath);\n    AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\n\n    ByteBuffer buffer = ByteBuffer.allocate(100_000);\n    await channel.read(buffer, 0, buffer, this);\n    return buffer.get(0);\n}\n</code></pre>\n\n<p>Then I would imagine the compiler will transform the original async/await code into something like this:</p>\n\n<pre><code>public static Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\n\n    CompletableFuture&lt;Byte&gt; result = new CompletableFuture&lt;Byte&gt;();\n\n    AsyncHandler ah = new AsyncHandler(result, filePath);\n\n    ah.completed(null, null);\n\n    return result;\n}\n</code></pre>\n\n<p>And here is the implementation for AsyncHandler:</p>\n\n<pre><code>class AsyncHandler implements CompletionHandler&lt;Integer, ByteBuffer&gt;\n{\n    CompletableFuture&lt;Byte&gt; future;\n    int state;\n    String filePath;\n\n    public AsyncHandler(CompletableFuture&lt;Byte&gt; future, String filePath)\n    {\n        this.future = future;\n        this.state = 0;\n        this.filePath = filePath;\n    }\n\n    @Override\n    public void completed(Integer arg0, ByteBuffer arg1) {\n        try {\n            if (state == 0) {\n                state = 1;\n                Path path = Paths.get(filePath);\n                AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\n\n                ByteBuffer buffer = ByteBuffer.allocate(100_000);\n                channel.read(buffer, 0, buffer, this);\n                return;\n            } else {\n                Byte ret = arg1.get(0);\n                future.complete(ret);\n            }\n\n        } catch (Exception e) {\n            future.completeExceptionally(e);\n        }\n    }\n\n    @Override\n    public void failed(Throwable arg0, ByteBuffer arg1) {\n        future.completeExceptionally(arg0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1492551425,"creation_date":1423506164,"answer_id":28416646,"question_id":16539245,"body_markdown":"The `await` uses a continuation to execute additional code when the asynchronous operation completes (`client.GetStringAsync(...)`). \r\n\r\nSo, as the most close approximation I would use a `CompletableFuture&lt;T&gt;` (the Java 8 equivalent to .net `Task&lt;TResult&gt;`) based solution to process the Http request asynchronously. \r\n\r\n**UPDATED on 25-05-2016 to [AsyncHttpClient](https://github.com/AsyncHttpClient/async-http-client) v.2 released on Abril 13th of 2016:**\r\n\r\nSo the Java 8 equivalent to the OP example of ` AccessTheWebAsync()` is the following:\r\n\r\n    CompletableFuture&lt;Integer&gt; AccessTheWebAsync()\r\n    {\r\n        AsyncHttpClient asyncHttpClient = new DefaultAsyncHttpClient();\r\n        return asyncHttpClient\r\n           .prepareGet(&quot;http://msdn.microsoft.com&quot;)\r\n           .execute()\r\n           .toCompletableFuture()\r\n           .thenApply(Response::getResponseBody)\r\n           .thenApply(String::length);\r\n    }\r\n\r\nThis usage was taken from the answer to [How do I get a CompletableFuture&lt;T&gt; from an Async Http Client request?](https://stackoverflow.com/a/37437643/1140754)\r\nand which is according to the new API provided in version 2 of [AsyncHttpClient](https://github.com/AsyncHttpClient/async-http-client) released on Abril 13th of 2016, that has already intrinsic support for `CompletableFuture&lt;T&gt;`.\r\n\r\n**Original answer using version 1 of AsyncHttpClient:**\r\n\r\nTo that end we have two possible approaches: \r\n\r\n   * the first one uses non-blocking IO and I call it ` AccessTheWebAsyncNio`. Yet, because the `AsyncCompletionHandler` is an abstract class (instead of a functional interface) we cannot pass a lambda as argument. So it incurs in inevitable verbosity due to the syntax of anonymous classes. However, **this solution is the most close to the  execution flow of the given C\\# example**.\r\n\r\n   * the second one is slightly less verbose however it will submit a new _Task_ that ultimately will block a thread on `f.get()` until the response is complete.\r\n\r\n**First approach**, more verbose but non-blocking:\r\n\r\n    static CompletableFuture&lt;Integer&gt; AccessTheWebAsyncNio(){\r\n        final AsyncHttpClient asyncHttpClient = new AsyncHttpClient();\r\n        final CompletableFuture&lt;Integer&gt; promise = new CompletableFuture&lt;&gt;();\r\n        asyncHttpClient\r\n            .prepareGet(&quot;https://msdn.microsoft.com&quot;)\r\n            .execute(new AsyncCompletionHandler&lt;Response&gt;(){\r\n                @Override\r\n                public Response onCompleted(Response resp) throws Exception {\r\n                    promise.complete(resp.getResponseBody().length());\r\n                    return resp;\r\n                }\r\n            });\r\n        return promise;\r\n    }\r\n\r\n**Second approach** less verbose but blocking a thread:\r\n\r\n    static CompletableFuture&lt;Integer&gt; AccessTheWebAsync(){\r\n        try(AsyncHttpClient asyncHttpClient = new AsyncHttpClient()){\r\n            Future&lt;Response&gt; f = asyncHttpClient\r\n                .prepareGet(&quot;https://msdn.microsoft.com&quot;)\r\n                .execute();\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; return f.join().getResponseBody().length());\r\n        }\r\n    }\r\n","title":"Java Equivalent of C# async/await?","body":"<p>The <code>await</code> uses a continuation to execute additional code when the asynchronous operation completes (<code>client.GetStringAsync(...)</code>). </p>\n\n<p>So, as the most close approximation I would use a <code>CompletableFuture&lt;T&gt;</code> (the Java 8 equivalent to .net <code>Task&lt;TResult&gt;</code>) based solution to process the Http request asynchronously. </p>\n\n<p><strong>UPDATED on 25-05-2016 to <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"noreferrer\">AsyncHttpClient</a> v.2 released on Abril 13th of 2016:</strong></p>\n\n<p>So the Java 8 equivalent to the OP example of <code>AccessTheWebAsync()</code> is the following:</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; AccessTheWebAsync()\n{\n    AsyncHttpClient asyncHttpClient = new DefaultAsyncHttpClient();\n    return asyncHttpClient\n       .prepareGet(\"http://msdn.microsoft.com\")\n       .execute()\n       .toCompletableFuture()\n       .thenApply(Response::getResponseBody)\n       .thenApply(String::length);\n}\n</code></pre>\n\n<p>This usage was taken from the answer to <a href=\"https://stackoverflow.com/a/37437643/1140754\">How do I get a CompletableFuture from an Async Http Client request?</a>\nand which is according to the new API provided in version 2 of <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"noreferrer\">AsyncHttpClient</a> released on Abril 13th of 2016, that has already intrinsic support for <code>CompletableFuture&lt;T&gt;</code>.</p>\n\n<p><strong>Original answer using version 1 of AsyncHttpClient:</strong></p>\n\n<p>To that end we have two possible approaches: </p>\n\n<ul>\n<li><p>the first one uses non-blocking IO and I call it <code>AccessTheWebAsyncNio</code>. Yet, because the <code>AsyncCompletionHandler</code> is an abstract class (instead of a functional interface) we cannot pass a lambda as argument. So it incurs in inevitable verbosity due to the syntax of anonymous classes. However, <strong>this solution is the most close to the  execution flow of the given C# example</strong>.</p></li>\n<li><p>the second one is slightly less verbose however it will submit a new <em>Task</em> that ultimately will block a thread on <code>f.get()</code> until the response is complete.</p></li>\n</ul>\n\n<p><strong>First approach</strong>, more verbose but non-blocking:</p>\n\n<pre><code>static CompletableFuture&lt;Integer&gt; AccessTheWebAsyncNio(){\n    final AsyncHttpClient asyncHttpClient = new AsyncHttpClient();\n    final CompletableFuture&lt;Integer&gt; promise = new CompletableFuture&lt;&gt;();\n    asyncHttpClient\n        .prepareGet(\"https://msdn.microsoft.com\")\n        .execute(new AsyncCompletionHandler&lt;Response&gt;(){\n            @Override\n            public Response onCompleted(Response resp) throws Exception {\n                promise.complete(resp.getResponseBody().length());\n                return resp;\n            }\n        });\n    return promise;\n}\n</code></pre>\n\n<p><strong>Second approach</strong> less verbose but blocking a thread:</p>\n\n<pre><code>static CompletableFuture&lt;Integer&gt; AccessTheWebAsync(){\n    try(AsyncHttpClient asyncHttpClient = new AsyncHttpClient()){\n        Future&lt;Response&gt; f = asyncHttpClient\n            .prepareGet(\"https://msdn.microsoft.com\")\n            .execute();\n        return CompletableFuture.supplyAsync(\n            () -&gt; return f.join().getResponseBody().length());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5866777,"reputation":29,"user_id":4620465,"display_name":"stofu"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1425222461,"creation_date":1425222461,"answer_id":28795097,"question_id":16539245,"body_markdown":"I make and released Java async/await library.\r\nhttps://github.com/stofu1234/kamaitachi\r\n\r\nThis library don&#39;t need compiler extension, and realize stackless IO processing in Java.\r\n\r\n        async Task&lt;int&gt; AccessTheWebAsync(){ \r\n            HttpClient client= new HttpClient();\r\n            var urlContents= await client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;);\r\n      　    return urlContents.Length;\r\n        }\r\n　　　↓\r\n\r\n        //LikeWebApplicationTester.java\r\n        BlockingQueue&lt;Integer&gt; AccessTheWebAsync() {\r\n\t\t   HttpClient client = new HttpClient();\r\n\t\t   return awaiter.await(\r\n\t\t\t\t() -&gt; client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;),\r\n\t\t\t\turlContents -&gt; {\r\n\t\t\t\t\treturn urlContents.length();\r\n\t\t\t\t});\r\n\t    }\r\n\t    public void doget(){\r\n\t\t    BlockingQueue&lt;Integer&gt; lengthQueue=AccessTheWebAsync();\r\n\t\t    awaiter.awaitVoid(()-&gt;lengthQueue.take(),\r\n\t\t\t\tlength-&gt;{\r\n\t\t\t\t\tSystem.out.println(&quot;Length:&quot;+length);\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t    }","title":"Java Equivalent of C# async/await?","body":"<p>I make and released Java async/await library.\n<a href=\"https://github.com/stofu1234/kamaitachi\" rel=\"nofollow\">https://github.com/stofu1234/kamaitachi</a></p>\n\n<p>This library don't need compiler extension, and realize stackless IO processing in Java.</p>\n\n<pre><code>    async Task&lt;int&gt; AccessTheWebAsync(){ \n        HttpClient client= new HttpClient();\n        var urlContents= await client.GetStringAsync(\"http://msdn.microsoft.com\");\n  　    return urlContents.Length;\n    }\n</code></pre>\n\n<p>　　　↓</p>\n\n<pre><code>    //LikeWebApplicationTester.java\n    BlockingQueue&lt;Integer&gt; AccessTheWebAsync() {\n       HttpClient client = new HttpClient();\n       return awaiter.await(\n            () -&gt; client.GetStringAsync(\"http://msdn.microsoft.com\"),\n            urlContents -&gt; {\n                return urlContents.length();\n            });\n    }\n    public void doget(){\n        BlockingQueue&lt;Integer&gt; lengthQueue=AccessTheWebAsync();\n        awaiter.awaitVoid(()-&gt;lengthQueue.take(),\n            length-&gt;{\n                System.out.println(\"Length:\"+length);\n            }\n            );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1657795,"reputation":2619,"user_id":2771718,"display_name":"Piotr Kołaczkowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441992833,"creation_date":1441992833,"answer_id":32529113,"question_id":16539245,"body_markdown":"Java has unfortunately no equivalent of async/await. The closest you can get is probably with ListenableFuture from Guava and listener chaining, but it would be still very cumbersome to write for cases involving multiple asynchronous calls, as the nesting level would very quickly grow.\r\n\r\nIf you&#39;re ok with using a different language on top of JVM, fortunately there is async/await in Scala which is a direct C# async/await equivalent with an almost identical syntax and semantics:\r\nhttps://github.com/scala/async/  \r\n\r\nNote that although this functionality needed a pretty advanced compiler support in C#, in Scala it could be added as a library thanks to a very powerful  macro system in Scala and therefore can be added even to older versions of Scala like 2.10. Additionally Scala is class-compatible with Java, so you can write the async code in Scala and then call it from Java.\r\n\r\nThere is also another similar project called Akka Dataflow http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html which uses different wording but conceptually is very similar, however implemented using delimited continuations, not macros (so it works with even older Scala versions like 2.9).","title":"Java Equivalent of C# async/await?","body":"<p>Java has unfortunately no equivalent of async/await. The closest you can get is probably with ListenableFuture from Guava and listener chaining, but it would be still very cumbersome to write for cases involving multiple asynchronous calls, as the nesting level would very quickly grow.</p>\n\n<p>If you're ok with using a different language on top of JVM, fortunately there is async/await in Scala which is a direct C# async/await equivalent with an almost identical syntax and semantics:\n<a href=\"https://github.com/scala/async/\" rel=\"nofollow\">https://github.com/scala/async/</a>  </p>\n\n<p>Note that although this functionality needed a pretty advanced compiler support in C#, in Scala it could be added as a library thanks to a very powerful  macro system in Scala and therefore can be added even to older versions of Scala like 2.10. Additionally Scala is class-compatible with Java, so you can write the async code in Scala and then call it from Java.</p>\n\n<p>There is also another similar project called Akka Dataflow <a href=\"http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html\" rel=\"nofollow\">http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html</a> which uses different wording but conceptually is very similar, however implemented using delimited continuations, not macros (so it works with even older Scala versions like 2.9).</p>\n"},{"tags":[],"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448540969,"creation_date":1448540969,"answer_id":33938778,"question_id":16539245,"body_markdown":"As it was mentioned, there is no direct equivalent, but very close approximation could be created with Java bytecode modifications (for both async/await-like instructions and underlying continuations implementation).\r\n\r\nI&#39;m working right now on a project that implements async/await on top of [JavaFlow continuation](https://github.com/vsilaev/java-continuations) library, please check https://github.com/vsilaev/java-async-await\r\n\r\nNo Maven mojo is created yet, but you may run examples with supplied Java agent. Here is how async/await code looks like:\r\n\r\n    public class AsyncAwaitNioFileChannelDemo {\r\n\r\n\tpublic static void main(final String[] argv) throws Exception {\r\n\t\t\r\n\t\t...\r\n\t\tfinal AsyncAwaitNioFileChannelDemo demo = new AsyncAwaitNioFileChannelDemo();\r\n\t\tfinal CompletionStage&lt;String&gt; result = demo.processFile(&quot;./.project&quot;);\r\n\t\tSystem.out.println(&quot;Returned to caller &quot; + LocalTime.now());\r\n\t\t...\r\n\t}\r\n\t\r\n\t\r\n\tpublic @async CompletionStage&lt;String&gt; processFile(final String fileName) throws IOException {\r\n\t\tfinal Path path = Paths.get(new File(fileName).toURI());\r\n\t\ttry (\r\n\t\t\t\tfinal AsyncFileChannel file = new AsyncFileChannel(\r\n\t\t\t\t\tpath, Collections.singleton(StandardOpenOption.READ), null\r\n\t\t\t\t); \t\t\t\t\r\n\t\t\t\tfinal FileLock lock = await(file.lockAll(true))\r\n\t\t\t) {\r\n\r\n\t\t\tSystem.out.println(&quot;In process, shared lock: &quot; + lock);\r\n\t\t\tfinal ByteBuffer buffer = ByteBuffer.allocateDirect((int)file.size());\r\n\t\t\t\r\n\t\t\tawait( file.read(buffer, 0L) );\r\n\t\t\tSystem.out.println(&quot;In process, bytes read: &quot; + buffer);\r\n\t\t\tbuffer.rewind();\r\n   \r\n\t\t\tfinal String result = processBytes(buffer);\r\n\t\t\t \r\n\t\t\treturn asyncResult(result);\r\n\t\t\t\r\n\t\t} catch (final IOException ex) {\r\n\t\t\tex.printStackTrace(System.out);\r\n\t\t\tthrow ex;\r\n\t\t}\r\n\t}\r\n\r\n@async is the annotation that flags a method as asynchronously executable, await() is a function that waits on CompletableFuture using continuations and a call to &quot;return asyncResult(someValue)&quot; is what finalizes associated CompletableFuture/Continuation\r\n\r\nAs with C#, control flow is preserved and exception handling may be done in regular manner (try/catch like in sequentially executed code)","title":"Java Equivalent of C# async/await?","body":"<p>As it was mentioned, there is no direct equivalent, but very close approximation could be created with Java bytecode modifications (for both async/await-like instructions and underlying continuations implementation).</p>\n\n<p>I'm working right now on a project that implements async/await on top of <a href=\"https://github.com/vsilaev/java-continuations\">JavaFlow continuation</a> library, please check <a href=\"https://github.com/vsilaev/java-async-await\">https://github.com/vsilaev/java-async-await</a></p>\n\n<p>No Maven mojo is created yet, but you may run examples with supplied Java agent. Here is how async/await code looks like:</p>\n\n<pre><code>public class AsyncAwaitNioFileChannelDemo {\n\npublic static void main(final String[] argv) throws Exception {\n\n    ...\n    final AsyncAwaitNioFileChannelDemo demo = new AsyncAwaitNioFileChannelDemo();\n    final CompletionStage&lt;String&gt; result = demo.processFile(\"./.project\");\n    System.out.println(\"Returned to caller \" + LocalTime.now());\n    ...\n}\n\n\npublic @async CompletionStage&lt;String&gt; processFile(final String fileName) throws IOException {\n    final Path path = Paths.get(new File(fileName).toURI());\n    try (\n            final AsyncFileChannel file = new AsyncFileChannel(\n                path, Collections.singleton(StandardOpenOption.READ), null\n            );              \n            final FileLock lock = await(file.lockAll(true))\n        ) {\n\n        System.out.println(\"In process, shared lock: \" + lock);\n        final ByteBuffer buffer = ByteBuffer.allocateDirect((int)file.size());\n\n        await( file.read(buffer, 0L) );\n        System.out.println(\"In process, bytes read: \" + buffer);\n        buffer.rewind();\n\n        final String result = processBytes(buffer);\n\n        return asyncResult(result);\n\n    } catch (final IOException ex) {\n        ex.printStackTrace(System.out);\n        throw ex;\n    }\n}\n</code></pre>\n\n<p>@async is the annotation that flags a method as asynchronously executable, await() is a function that waits on CompletableFuture using continuations and a call to \"return asyncResult(someValue)\" is what finalizes associated CompletableFuture/Continuation</p>\n\n<p>As with C#, control flow is preserved and exception handling may be done in regular manner (try/catch like in sequentially executed code)</p>\n"},{"tags":[],"owner":{"account_id":205116,"reputation":2304,"user_id":453702,"display_name":"Pellet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461123736,"creation_date":1461123736,"answer_id":36733411,"question_id":16539245,"body_markdown":"If you&#39;re just after clean code which simulates the same effect as async/await in java and don&#39;t mind blocking the thread it is called on until it is finished, such as in a test, you could use something like this code:\r\n\r\n    \r\n    interface Async {\r\n        void run(Runnable handler);\r\n    }\r\n\r\n    static void await(Async async) throws InterruptedException {\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n        async.run(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                countDownLatch.countDown();\r\n            }\r\n        });\r\n        countDownLatch.await(YOUR_TIMEOUT_VALUE_IN_SECONDS, TimeUnit.SECONDS);\r\n    }\r\n\r\n        await(new Async() {\r\n            @Override\r\n            public void run(final Runnable handler) {\r\n                yourAsyncMethod(new CompletionHandler() {\r\n\r\n                    @Override\r\n                    public void completion() {\r\n                        handler.run();\r\n                    }\r\n                });\r\n            }\r\n        });","title":"Java Equivalent of C# async/await?","body":"<p>If you're just after clean code which simulates the same effect as async/await in java and don't mind blocking the thread it is called on until it is finished, such as in a test, you could use something like this code:</p>\n\n<pre><code>interface Async {\n    void run(Runnable handler);\n}\n\nstatic void await(Async async) throws InterruptedException {\n\n    final CountDownLatch countDownLatch = new CountDownLatch(1);\n    async.run(new Runnable() {\n\n        @Override\n        public void run() {\n            countDownLatch.countDown();\n        }\n    });\n    countDownLatch.await(YOUR_TIMEOUT_VALUE_IN_SECONDS, TimeUnit.SECONDS);\n}\n\n    await(new Async() {\n        @Override\n        public void run(final Runnable handler) {\n            yourAsyncMethod(new CompletionHandler() {\n\n                @Override\n                public void completion() {\n                    handler.run();\n                }\n            });\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5608163,"reputation":214,"user_id":4441927,"display_name":"Martin Obr&#225;til"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696342493,"creation_date":1569594877,"answer_id":58136642,"question_id":16539245,"body_markdown":"Java doesn&#39;t have a direct equivalent to the C# language feature called async/await. However, starting from OpenJDK 21, Java introduced [virtual threads][1], which provide a lightweight mechanism for concurrency. Unlike traditional threads, virtual threads significantly reduce overhead, allowing for the spawning of millions of threads without running into scalability issues.\r\n\r\nAdditionally, the virtual thread approach in Java addresses the &quot;[colored function problem][3]&quot; associated with async/await.\r\n\r\nA similar concurrency mechanism is present in Golang, known as [goroutines][2].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html\r\n  [2]: https://tour.golang.org/concurrency/1\r\n  [3]: https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/","title":"Java Equivalent of C# async/await?","body":"<p>Java doesn't have a direct equivalent to the C# language feature called async/await. However, starting from OpenJDK 21, Java introduced <a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html\" rel=\"nofollow noreferrer\">virtual threads</a>, which provide a lightweight mechanism for concurrency. Unlike traditional threads, virtual threads significantly reduce overhead, allowing for the spawning of millions of threads without running into scalability issues.</p>\n<p>Additionally, the virtual thread approach in Java addresses the &quot;<a href=\"https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">colored function problem</a>&quot; associated with async/await.</p>\n<p>A similar concurrency mechanism is present in Golang, known as <a href=\"https://tour.golang.org/concurrency/1\" rel=\"nofollow noreferrer\">goroutines</a>.</p>\n"},{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615180707,"creation_date":1615180707,"answer_id":66524653,"question_id":16539245,"body_markdown":"There is an &quot;equivalent&quot; of await developed by EA: https://github.com/electronicarts/ea-async. Refer to the Java example code:\r\n\r\n    import static com.ea.async.Async.await;\r\n    import static java.util.concurrent.CompletableFuture.completedFuture;\r\n    \r\n    public class Store\r\n    {\r\n        public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\r\n        {\r\n            if(!await(bank.decrement(cost))) {\r\n                return completedFuture(false);\r\n            }\r\n            await(inventory.giveItem(itemTypeId));\r\n            return completedFuture(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java Equivalent of C# async/await?","body":"<p>There is an &quot;equivalent&quot; of await developed by EA: <a href=\"https://github.com/electronicarts/ea-async\" rel=\"noreferrer\">https://github.com/electronicarts/ea-async</a>. Refer to the Java example code:</p>\n<pre><code>import static com.ea.async.Async.await;\nimport static java.util.concurrent.CompletableFuture.completedFuture;\n\npublic class Store\n{\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\n    {\n        if(!await(bank.decrement(cost))) {\n            return completedFuture(false);\n        }\n        await(inventory.giveItem(itemTypeId));\n        return completedFuture(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631554933,"creation_date":1631554933,"answer_id":69167001,"question_id":16539245,"body_markdown":"I have developed a library [JAsync](https://github.com/vipcxj/jasync) to do this.\r\nIt is just released today.\r\nIt makes the developer&#39;s asynchronous programming experience as close as possible to the usual synchronous programming, including code style and debugging.\r\nHere is the example.\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/employees&quot;)\r\npublic class MyRestController {\r\n    @Inject\r\n    private EmployeeRepository employeeRepository;\r\n    @Inject\r\n    private SalaryRepository salaryRepository;\r\n\r\n    // The standard JAsync async method must be annotated with the Async annotation, and return a Promise object.\r\n    @Async()\r\n    private Promise&lt;Double&gt; _getEmployeeTotalSalaryByDepartment(String department) {\r\n        double money = 0.0;\r\n        // A Mono object can be transformed to the Promise object. So we get a Mono object first.\r\n        Mono&lt;List&lt;Employee&gt;&gt; empsMono = employeeRepository.findEmployeeByDepartment(department);\r\n        // Transformed the Mono object to the Promise object.\r\n        Promise&lt;List&lt;Employee&gt;&gt; empsPromise = JAsync.from(empsMono);\r\n        // Use await just like es and c# to get the value of the Promise without blocking the current thread.\r\n        for (Employee employee : empsPromise.await()) {\r\n            // The method findSalaryByEmployee also return a Mono object. We transform it to the Promise just like above. And then await to get the result.\r\n            Salary salary = JAsync.from(salaryRepository.findSalaryByEmployee(employee.id)).await();\r\n            money += salary.total;\r\n        }\r\n        // The async method must return a Promise object, so we use just method to wrap the result to a Promise.\r\n        return JAsync.just(money);\r\n    }\r\n\r\n    // This is a normal webflux method.\r\n    @GetMapping(&quot;/{department}/salary&quot;)\r\n    public Mono&lt;Double&gt; getEmployeeTotalSalaryByDepartment(@PathVariable String department) { \r\n        // Use unwrap method to transform the Promise object back to the Mono object.\r\n        return _getEmployeeTotalSalaryByDepartment(department).unwrap(Mono.class);\r\n    }\r\n}\r\n```\r\nAnd in debug mode, you can see all the variable just like the synchronous code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cKDkA.png\r\n\r\n\r\nThe other great thing about this project is that it&#39;s one of the few projects of its kind that&#39;s still active right now. It&#39;s just been released, so it has a lot of potential","title":"Java Equivalent of C# async/await?","body":"<p>I have developed a library <a href=\"https://github.com/vipcxj/jasync\" rel=\"nofollow noreferrer\">JAsync</a> to do this.\nIt is just released today.\nIt makes the developer's asynchronous programming experience as close as possible to the usual synchronous programming, including code style and debugging.\nHere is the example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/employees&quot;)\npublic class MyRestController {\n    @Inject\n    private EmployeeRepository employeeRepository;\n    @Inject\n    private SalaryRepository salaryRepository;\n\n    // The standard JAsync async method must be annotated with the Async annotation, and return a Promise object.\n    @Async()\n    private Promise&lt;Double&gt; _getEmployeeTotalSalaryByDepartment(String department) {\n        double money = 0.0;\n        // A Mono object can be transformed to the Promise object. So we get a Mono object first.\n        Mono&lt;List&lt;Employee&gt;&gt; empsMono = employeeRepository.findEmployeeByDepartment(department);\n        // Transformed the Mono object to the Promise object.\n        Promise&lt;List&lt;Employee&gt;&gt; empsPromise = JAsync.from(empsMono);\n        // Use await just like es and c# to get the value of the Promise without blocking the current thread.\n        for (Employee employee : empsPromise.await()) {\n            // The method findSalaryByEmployee also return a Mono object. We transform it to the Promise just like above. And then await to get the result.\n            Salary salary = JAsync.from(salaryRepository.findSalaryByEmployee(employee.id)).await();\n            money += salary.total;\n        }\n        // The async method must return a Promise object, so we use just method to wrap the result to a Promise.\n        return JAsync.just(money);\n    }\n\n    // This is a normal webflux method.\n    @GetMapping(&quot;/{department}/salary&quot;)\n    public Mono&lt;Double&gt; getEmployeeTotalSalaryByDepartment(@PathVariable String department) { \n        // Use unwrap method to transform the Promise object back to the Mono object.\n        return _getEmployeeTotalSalaryByDepartment(department).unwrap(Mono.class);\n    }\n}\n</code></pre>\n<p>And in debug mode, you can see all the variable just like the synchronous code.</p>\n<p><a href=\"https://i.stack.imgur.com/cKDkA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cKDkA.png\" alt=\"enter image description here\" /></a></p>\n<p>The other great thing about this project is that it's one of the few projects of its kind that's still active right now. It's just been released, so it has a lot of potential</p>\n"},{"tags":[],"owner":{"account_id":340465,"reputation":560,"user_id":670502,"display_name":"DrMaxB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701798645,"creation_date":1701797846,"answer_id":77608217,"question_id":16539245,"body_markdown":"`java.util.concurrent` provides easy to use classes that do the same thing as async/await.\r\n\r\nIn the example below, `onDeviceInfoReceived` sets the class&#39; deviceInfo object and is called sometime after the device info request because it takes some time to process, as happens in web or file I/O requests.\r\n\r\n`getDeviceInfoAsync` waits for `deviceInfo` to be non-null (or 100ms) and returns the future, the same way an `async` task does. And you can get the `DeviceInfo` object from the future using the `get` method. You can even specify a timeout, as shown in `getAnalyzerInfo`.\r\n\r\n    public void onDeviceInfoReceived(DeviceInfo devInfo) {\r\n        this.deviceInfo = devInfo;\r\n    }\r\n\r\n    public DeviceInfo getDeviceInfo() {\r\n        Future&lt;DeviceInfo&gt; future = getDeviceInfoAsync();\r\n        DeviceInfo info = null;\r\n        try {\r\n            info = future.get(100, TimeUnit.MILLISECONDS);\r\n        } catch (Exception e) {\r\n\r\n        }\r\n        return info;\r\n    }\r\n\r\n    private Future&lt;DeviceInfo&gt; getDeviceInfoAsync() {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Callable&lt;DeviceInfo&gt; callable = () -&gt; {\r\n            long startTime = System.currentTimeMillis();\r\n            while (deviceInfo == null) {\r\n                if (System.currentTimeMillis() - startTime &gt; 100) {\r\n                    return null;\r\n                }\r\n                Thread.sleep(10);\r\n            }\r\n            return deviceInfo;\r\n        };\r\n        Future&lt;DeviceInfo&gt; future = executor.submit(callable);\r\n        executor.shutdown();\r\n        return future;\r\n    }\r\n\r\nThe C# equivalent method would be:\r\n\r\n    public async Task&lt;DeviceInfo&gt; GetDeviceInfoAsync() \r\n\r\nand you cal call it using `DeviceInfo info = await GetDeviceInfoAsync()`","title":"Java Equivalent of C# async/await?","body":"<p><code>java.util.concurrent</code> provides easy to use classes that do the same thing as async/await.</p>\n<p>In the example below, <code>onDeviceInfoReceived</code> sets the class' deviceInfo object and is called sometime after the device info request because it takes some time to process, as happens in web or file I/O requests.</p>\n<p><code>getDeviceInfoAsync</code> waits for <code>deviceInfo</code> to be non-null (or 100ms) and returns the future, the same way an <code>async</code> task does. And you can get the <code>DeviceInfo</code> object from the future using the <code>get</code> method. You can even specify a timeout, as shown in <code>getAnalyzerInfo</code>.</p>\n<pre><code>public void onDeviceInfoReceived(DeviceInfo devInfo) {\n    this.deviceInfo = devInfo;\n}\n\npublic DeviceInfo getDeviceInfo() {\n    Future&lt;DeviceInfo&gt; future = getDeviceInfoAsync();\n    DeviceInfo info = null;\n    try {\n        info = future.get(100, TimeUnit.MILLISECONDS);\n    } catch (Exception e) {\n\n    }\n    return info;\n}\n\nprivate Future&lt;DeviceInfo&gt; getDeviceInfoAsync() {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Callable&lt;DeviceInfo&gt; callable = () -&gt; {\n        long startTime = System.currentTimeMillis();\n        while (deviceInfo == null) {\n            if (System.currentTimeMillis() - startTime &gt; 100) {\n                return null;\n            }\n            Thread.sleep(10);\n        }\n        return deviceInfo;\n    };\n    Future&lt;DeviceInfo&gt; future = executor.submit(callable);\n    executor.shutdown();\n    return future;\n}\n</code></pre>\n<p>The C# equivalent method would be:</p>\n<pre><code>public async Task&lt;DeviceInfo&gt; GetDeviceInfoAsync() \n</code></pre>\n<p>and you cal call it using <code>DeviceInfo info = await GetDeviceInfoAsync()</code></p>\n"}],"owner":{"account_id":930623,"reputation":32992,"user_id":960567,"accept_rate":79,"display_name":"Imran Qadir Baksh - Baloch"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180220,"favorite_count":0,"down_vote_count":1,"up_vote_count":213,"accepted_answer_id":16539332,"answer_count":15,"score":212,"last_activity_date":1701798645,"creation_date":1368522830,"question_id":16539245,"body_markdown":"I am a normal C# developer but occasionally I develop application in Java. I&#39;m wondering if there is any Java equivalent of C# async/await? \r\nIn simple words what is the java equivalent of:\r\n\r\n    async Task&lt;int&gt; AccessTheWebAsync()\r\n    { \r\n        HttpClient client = new HttpClient();\r\n        var urlContents = await client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;);\r\n        return urlContents.Length;\r\n    }","title":"Java Equivalent of C# async/await?","body":"<p>I am a normal C# developer but occasionally I develop application in Java. I'm wondering if there is any Java equivalent of C# async/await? \nIn simple words what is the java equivalent of:</p>\n\n<pre><code>async Task&lt;int&gt; AccessTheWebAsync()\n{ \n    HttpClient client = new HttpClient();\n    var urlContents = await client.GetStringAsync(\"http://msdn.microsoft.com\");\n    return urlContents.Length;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","cascade","persistent"],"answers":[{"tags":[],"owner":{"account_id":3130131,"reputation":4109,"user_id":2648110,"display_name":"Ilya Ovesnov"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1419726915,"creation_date":1419726915,"answer_id":27672764,"question_id":27672337,"body_markdown":"    teamService.save(team);\r\nSave method accepts only transient objects. What is the transient object you can find [here][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\r\n\r\n`Transient - an object is transient if it has just been instantiated using the new operator, and it is not associated with a Hibernate Session. It has no persistent representation in the database and no identifier value has been assigned. Transient instances will be destroyed by the garbage collector if the application does not hold a reference anymore. Use the Hibernate Session to make an object persistent (and let Hibernate take care of the SQL statements that need to be executed for this transition).`\r\n\r\nYou are getting the Team object and you are trying to persist it to the DB but that object has Account object in it and that Account object is detached (means that instance of that object has saved into the DB but that object is not in the session). Hibernate is trying to save it because of you have specified:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, ....\r\n\r\nSo, there are few ways how you can fix it:\r\n\r\n1) do not use CascadeType.ALL configuration. Account object can be used for number of Teams (at least domain structure allows it) and update operation might update Account for ALL Teams -- it means that this operation should not be initiated with Team update.\r\nI would remove cascade parameter from there (default value is no cascade operations), of if you really need use MERGE/DELETE configuration. But if you really need to persist it then see option #2\r\n\r\n2) use &#39;saveOrUpdate()&#39; method instead of &#39;save()&#39;. &#39;saveOrUpdate()&#39; method accepts transient and detached objects. \r\nBut the problem with this approach is in design: do you really need to insert/update account when you are saving Team object? I would split it in two operations and prevent updating Account from the Team.\r\n\r\nHope this helps.","title":"Detached entity passed to persist when save the child data","body":"<pre><code>teamService.save(team);\n</code></pre>\n\n<p>Save method accepts only transient objects. What is the transient object you can find <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">here</a></p>\n\n<p><code>Transient - an object is transient if it has just been instantiated using the new operator, and it is not associated with a Hibernate Session. It has no persistent representation in the database and no identifier value has been assigned. Transient instances will be destroyed by the garbage collector if the application does not hold a reference anymore. Use the Hibernate Session to make an object persistent (and let Hibernate take care of the SQL statements that need to be executed for this transition).</code></p>\n\n<p>You are getting the Team object and you are trying to persist it to the DB but that object has Account object in it and that Account object is detached (means that instance of that object has saved into the DB but that object is not in the session). Hibernate is trying to save it because of you have specified:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL, ....\n</code></pre>\n\n<p>So, there are few ways how you can fix it:</p>\n\n<p>1) do not use CascadeType.ALL configuration. Account object can be used for number of Teams (at least domain structure allows it) and update operation might update Account for ALL Teams -- it means that this operation should not be initiated with Team update.\nI would remove cascade parameter from there (default value is no cascade operations), of if you really need use MERGE/DELETE configuration. But if you really need to persist it then see option #2</p>\n\n<p>2) use 'saveOrUpdate()' method instead of 'save()'. 'saveOrUpdate()' method accepts transient and detached objects. \nBut the problem with this approach is in design: do you really need to insert/update account when you are saving Team object? I would split it in two operations and prevent updating Account from the Team.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1419777545,"creation_date":1419777545,"answer_id":27677392,"question_id":27672337,"body_markdown":"The error occurs because the **id** is set. Hibernate distinguishes between transient and detached objects and persist works only with transient objects.\r\n\r\n    isteamService.save(team);\r\n\r\nin this operation can not be loaded id because is @GeneratedValue\r\n\r\n\r\n","title":"Detached entity passed to persist when save the child data","body":"<p>The error occurs because the <strong>id</strong> is set. Hibernate distinguishes between transient and detached objects and persist works only with transient objects.</p>\n\n<pre><code>isteamService.save(team);\n</code></pre>\n\n<p>in this operation can not be loaded id because is @GeneratedValue</p>\n"},{"tags":[],"owner":{"account_id":5444982,"reputation":103,"user_id":4331868,"display_name":"Pubudu "},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499416555,"creation_date":1499416555,"answer_id":44966225,"question_id":27672337,"body_markdown":"Since your id is auto generated value, don&#39;t send it from client side. I had a same issue. Make sure that you does&#39;t provide a value for auto generated attribute. ","title":"Detached entity passed to persist when save the child data","body":"<p>Since your id is auto generated value, don't send it from client side. I had a same issue. Make sure that you does't provide a value for auto generated attribute. </p>\n"},{"tags":[],"owner":{"account_id":20169031,"reputation":61,"user_id":14792260,"display_name":"Nurmuhammad Tuhtasinov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658173410,"creation_date":1613026605,"answer_id":66150073,"question_id":27672337,"body_markdown":"Please, change `@OneToMany(cascade = CascadeType.ALL,..)` to `@OneToMany(cascade = CascadeType.REMOVE,...)` or another except `CascadeType.PERSIST` and the problem has been solved","title":"Detached entity passed to persist when save the child data","body":"<p>Please, change <code>@OneToMany(cascade = CascadeType.ALL,..)</code> to <code>@OneToMany(cascade = CascadeType.REMOVE,...)</code> or another except <code>CascadeType.PERSIST</code> and the problem has been solved</p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661240568,"creation_date":1661240568,"answer_id":73454860,"question_id":27672337,"body_markdown":"This error happened for me when I tried to save a child entity and then pass the newly saved entity as parameter to a new parent object.\r\n\r\nFor instance:\r\n\r\n`ChildA a = childAService.save(childAObject);`\r\n\r\n`Parent parent = new Parent()`;\r\n\r\n`parent.setChildA(a) // &lt;=== Culprit`\r\n\r\n`parentService.save(parent);`\r\n\r\nInstead, do:\r\n\r\n`ChildA a = new ChildA();`\r\n\r\n`parent.setChildA(a)`\r\n\r\n`parentService.save(parent)`\r\n\r\nHibernate handles the persisting of `a` for you, you don&#39;t have to do it yourself.","title":"Detached entity passed to persist when save the child data","body":"<p>This error happened for me when I tried to save a child entity and then pass the newly saved entity as parameter to a new parent object.</p>\n<p>For instance:</p>\n<p><code>ChildA a = childAService.save(childAObject);</code></p>\n<p><code>Parent parent = new Parent()</code>;</p>\n<p><code>parent.setChildA(a) // &lt;=== Culprit</code></p>\n<p><code>parentService.save(parent);</code></p>\n<p>Instead, do:</p>\n<p><code>ChildA a = new ChildA();</code></p>\n<p><code>parent.setChildA(a)</code></p>\n<p><code>parentService.save(parent)</code></p>\n<p>Hibernate handles the persisting of <code>a</code> for you, you don't have to do it yourself.</p>\n"},{"tags":[],"owner":{"account_id":3904599,"reputation":81,"user_id":3231598,"display_name":"Filip Kubala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666696932,"creation_date":1666696932,"answer_id":74193282,"question_id":27672337,"body_markdown":"Be aware of Lombok .toBuilder() method - it is creating a new instance of the object, which can be pretty misleading, when you are trying to update the part of a child object.\r\n\r\nExample:\r\n\r\n```\r\npublic class User {\r\n\r\n @OneToOne(...)\r\n Field x;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Builder(toBuilder = true)\r\npublic class Field {\r\nString a;\r\nString b;\r\n}\r\n```\r\n\r\n```\r\n@Transactional\r\npublic class UserService {\r\n\r\npublic updateUserField(User user) {\r\n...\r\nuser.setX(user.getX().toBuilder().a(&quot;New value&quot;).build());\r\n}\r\n\r\n}\r\n```\r\nThis will throw the PersistentObjectException without explicitly calling the userRepo.save method.\r\n\r\nYou need to do:\r\n\r\n```\r\nvar x = user.getX();\r\nx.setA(&quot;New Value&quot;);\r\n```\r\n \r\n","title":"Detached entity passed to persist when save the child data","body":"<p>Be aware of Lombok .toBuilder() method - it is creating a new instance of the object, which can be pretty misleading, when you are trying to update the part of a child object.</p>\n<p>Example:</p>\n<pre><code>public class User {\n\n @OneToOne(...)\n Field x;\n\n}\n</code></pre>\n<pre><code>@Builder(toBuilder = true)\npublic class Field {\nString a;\nString b;\n}\n</code></pre>\n<pre><code>@Transactional\npublic class UserService {\n\npublic updateUserField(User user) {\n...\nuser.setX(user.getX().toBuilder().a(&quot;New value&quot;).build());\n}\n\n}\n</code></pre>\n<p>This will throw the PersistentObjectException without explicitly calling the userRepo.save method.</p>\n<p>You need to do:</p>\n<pre><code>var x = user.getX();\nx.setA(&quot;New Value&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13680020,"reputation":580,"user_id":9870617,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701798315,"creation_date":1701798315,"answer_id":77608266,"question_id":27672337,"body_markdown":"**The primary problem arose because I was including the ID in the URL, as demonstrated below. This caused confusion for Hibernate because, in my model, I had annotated the ID with @GeneratedValue, indicating that Hibernate should generate the ID automatically. Therefore, there was no need to explicitly pass the ID value:**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/course/{id}/section&quot;)\r\n    public class SectionController {\r\n        //....SOME CODE\r\n    }\r\n\r\n**Replace the {id} with something specific:**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/course/{courseId}/section&quot;)\r\n    public class SectionController {\r\n        //....SOME CODE\r\n    }","title":"Detached entity passed to persist when save the child data","body":"<p><strong>The primary problem arose because I was including the ID in the URL, as demonstrated below. This caused confusion for Hibernate because, in my model, I had annotated the ID with @GeneratedValue, indicating that Hibernate should generate the ID automatically. Therefore, there was no need to explicitly pass the ID value:</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/course/{id}/section&quot;)\npublic class SectionController {\n    //....SOME CODE\n}\n</code></pre>\n<p><strong>Replace the {id} with something specific:</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/course/{courseId}/section&quot;)\npublic class SectionController {\n    //....SOME CODE\n}\n</code></pre>\n"}],"owner":{"account_id":2644378,"reputation":2562,"user_id":2287404,"accept_rate":76,"display_name":"keysersoze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92567,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":27672764,"answer_count":7,"score":25,"last_activity_date":1701798315,"creation_date":1419722059,"question_id":27672337,"body_markdown":"I&#39;m getting this error when submitting the form:\r\n\r\n&gt;org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account; nested exception is javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account\r\n\r\nHere are my entities:\r\n\r\n**Account:** \r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    public class Account {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        @Column(nullable = false)\r\n        private String login;\r\n    \r\n        @Column(nullable = false)\r\n        private String password;\r\n    \r\n        @Column(nullable = false)\r\n        private String email;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;team_id&quot;)\r\n        private Team team;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;owner&quot;)\r\n        private List&lt;Team&gt; ownedTeams;\r\n    \r\n        ...\r\n\r\n**Team:**\r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    public class Team {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;owner_id&quot;, nullable = false)\r\n        private Account owner;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;team&quot;)\r\n        private List&lt;Account&gt; members;\r\n    \r\n        ...\r\n\r\nHere&#39;s a part of the Controller:\r\n\r\n        @ModelAttribute(&quot;team&quot;)\r\n        public Team createTeamObject() {\r\n            return new Team();\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/teams/create-team&quot;, method = RequestMethod.GET)\r\n        public String getCreateTeam(@ModelAttribute(&quot;team&quot;) Team team, Principal principal) {\r\n            logger.info(&quot;Welcome to the create team page!&quot;);\r\n    \r\n            Account owner = accountService.findOneByLogin(principal.getName());\r\n            team.setOwner(owner);\r\n            team.setMembers(new AutoPopulatingList&lt;Account&gt;(Account.class));\r\n    \r\n            return &quot;teams&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/teams/create-team&quot;, method = RequestMethod.POST)\r\n        public String postCreateTeam(@ModelAttribute(&quot;team&quot;) Team team) {\r\n            logger.info(&quot;Team created!&quot;);\r\n    \r\n            teamService.save(team);\r\n    \r\n            return &quot;redirect:/teams.html&quot;;\r\n        }\r\n\r\nAnd the form:\r\n\r\n    &lt;form:form commandName=&quot;team&quot; id=&quot;teamForm&quot;&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;label&gt;Name&lt;/label&gt;\r\n              &lt;form:input path=&quot;name&quot; cssClass=&quot;form-control&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot; id=&quot;row-template&quot;&gt;\r\n              &lt;label&gt;Members&lt;/label&gt;\r\n              &lt;form:select path=&quot;members[0].id&quot; cssClass=&quot;form-control&quot; data-live-search=&quot;true&quot; &gt;\r\n                 &lt;form:options items=&quot;${accounts}&quot; itemValue=&quot;id&quot; /&gt;\r\n              &lt;/form:select&gt;\r\n              ...\r\n          &lt;/div&gt;\r\n       &lt;form:hidden path=&quot;owner.id&quot; /&gt;\r\n    &lt;/form:form&gt;\r\n\r\nWhat am I doing wrong?","title":"Detached entity passed to persist when save the child data","body":"<p>I'm getting this error when submitting the form:</p>\n\n<blockquote>\n  <p>org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account; nested exception is javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account</p>\n</blockquote>\n\n<p>Here are my entities:</p>\n\n<p><strong>Account:</strong> </p>\n\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\npublic class Account {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @Column(nullable = false)\n    private String login;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false)\n    private String email;\n\n    @ManyToOne\n    @JoinColumn(name = \"team_id\")\n    private Team team;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"owner\")\n    private List&lt;Team&gt; ownedTeams;\n\n    ...\n</code></pre>\n\n<p><strong>Team:</strong></p>\n\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\npublic class Team {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = \"owner_id\", nullable = false)\n    private Account owner;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"team\")\n    private List&lt;Account&gt; members;\n\n    ...\n</code></pre>\n\n<p>Here's a part of the Controller:</p>\n\n<pre><code>    @ModelAttribute(\"team\")\n    public Team createTeamObject() {\n        return new Team();\n    }\n\n    @RequestMapping(value = \"/teams/create-team\", method = RequestMethod.GET)\n    public String getCreateTeam(@ModelAttribute(\"team\") Team team, Principal principal) {\n        logger.info(\"Welcome to the create team page!\");\n\n        Account owner = accountService.findOneByLogin(principal.getName());\n        team.setOwner(owner);\n        team.setMembers(new AutoPopulatingList&lt;Account&gt;(Account.class));\n\n        return \"teams\";\n    }\n\n    @RequestMapping(value = \"/teams/create-team\", method = RequestMethod.POST)\n    public String postCreateTeam(@ModelAttribute(\"team\") Team team) {\n        logger.info(\"Team created!\");\n\n        teamService.save(team);\n\n        return \"redirect:/teams.html\";\n    }\n</code></pre>\n\n<p>And the form:</p>\n\n<pre><code>&lt;form:form commandName=\"team\" id=\"teamForm\"&gt;\n      &lt;div class=\"form-group\"&gt;\n          &lt;label&gt;Name&lt;/label&gt;\n          &lt;form:input path=\"name\" cssClass=\"form-control\" /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\" id=\"row-template\"&gt;\n          &lt;label&gt;Members&lt;/label&gt;\n          &lt;form:select path=\"members[0].id\" cssClass=\"form-control\" data-live-search=\"true\" &gt;\n             &lt;form:options items=\"${accounts}\" itemValue=\"id\" /&gt;\n          &lt;/form:select&gt;\n          ...\n      &lt;/div&gt;\n   &lt;form:hidden path=\"owner.id\" /&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","kotlin","java-17"],"owner":{"account_id":14979876,"reputation":23,"user_id":10814133,"display_name":"Muba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701798026,"creation_date":1701785929,"question_id":77606917,"body_markdown":"I&#39;m using lib:\r\n\r\n    &#39;com.madgag.spongycastle:core:1.58.0.0&#39;\r\n\r\n\r\nMy App java version is 17\r\n\r\n\r\ni got this error:  [![enter image description here][1]][1]\r\n\r\nHow can i fix this ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y7p54.png","title":"SHA-256 digest error for org/bouncycastle/asn1/ASN1Sequence$1.class","body":"<p>I'm using lib:</p>\n<pre><code>'com.madgag.spongycastle:core:1.58.0.0'\n</code></pre>\n<p>My App java version is 17</p>\n<p>i got this error:  <a href=\"https://i.stack.imgur.com/y7p54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y7p54.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i fix this ?</p>\n"},{"tags":["java","apache-spark","delta-lake"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701790738,"creation_date":1701790738,"answer_id":77607447,"question_id":77605408,"body_markdown":"If you look, then you can see that [Spark 3.1.2 was compiled][1] with Hadoop 3.2.0 as a dependency, so you need to use the same version of other components.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.12/3.1.2","title":"Issues with Spark 3.1.2, Hadoop 3.2.1, and AWS Hadoop Dependencies","body":"<p>If you look, then you can see that <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.12/3.1.2\" rel=\"nofollow noreferrer\">Spark 3.1.2 was compiled</a> with Hadoop 3.2.0 as a dependency, so you need to use the same version of other components.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702022567,"accepted_answer_id":77607447,"answer_count":1,"score":-1,"last_activity_date":1701797645,"creation_date":1701771633,"question_id":77605408,"body_markdown":"I&#39;m encountering compatibility issues with Spark, Hadoop, and AWS Hadoop dependencies in my Java Spark application. \r\n\r\nThe Spark version running on my local machine is 3.1.2.\r\n\r\nProblem:\r\nI&#39;m working on a Spark application (version 3.1.2) that interacts with data stored in Amazon S3. The application uses Hadoop (version 3.2.1) and includes dependencies for AWS Hadoop.\r\n\r\npom.xml \r\n\r\n\t\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t  &lt;groupId&gt;org.poc&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;delta-lake&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t\t  &lt;name&gt;delta-lake&lt;/name&gt;\r\n\t\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t\t  &lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\t&lt;scala.version&gt;2.12&lt;/scala.version&gt;\r\n\t\t\t&lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\r\n\t\t\t&lt;delta.version&gt;1.0.0&lt;/delta.version&gt;\r\n\t\t\t&lt;aws.sdk.version&gt;1.12.604&lt;/aws.sdk.version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t  &lt;/properties&gt;\r\n\r\n\t\t  &lt;dependencies&gt;\r\n\t\t\t&lt;!-- Spark dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${spark.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${spark.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Delta Lake dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${delta.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Hadoop AWS for S3 connectivity --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Hadoop dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- AWS SDK for Java dependencies --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;1.12.604&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-core --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;1.12.604&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t  &lt;/dependencies&gt;\r\n\r\n\t\t  &lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t  &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t  &lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t  &lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t\t  &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t  &lt;execution&gt;\r\n\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t  &lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t  &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t  &lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t  &lt;/build&gt;\r\n\t\t&lt;/project&gt;\r\n\r\nIssues : \r\n\r\nWhen running the Spark application, I&#39;m encountering the following runtime error related to IOStatisticsSource:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/hadoop/fs/statistics/IOStatisticsSource\r\n\r\nQuestions:\r\n\r\nWhat versions of Hadoop and AWS Hadoop dependencies are compatible with Spark 3.1.2?\r\nIs there a conflict between Hadoop versions in my dependencies?\r\nShould I remove the hadoop-aws dependency if I&#39;m not using S3?\r\nI&#39;ve tried updating dependencies, removing hadoop-aws, and configuring serialization, but the issue persists.\r\n\r\nAny guidance on resolving this issue or insights into the compatibility of these dependencies would be greatly appreciated.\r\n","title":"Issues with Spark 3.1.2, Hadoop 3.2.1, and AWS Hadoop Dependencies","body":"<p>I'm encountering compatibility issues with Spark, Hadoop, and AWS Hadoop dependencies in my Java Spark application.</p>\n<p>The Spark version running on my local machine is 3.1.2.</p>\n<p>Problem:\nI'm working on a Spark application (version 3.1.2) that interacts with data stored in Amazon S3. The application uses Hadoop (version 3.2.1) and includes dependencies for AWS Hadoop.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n      &lt;groupId&gt;org.poc&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-lake&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;jar&lt;/packaging&gt;\n\n      &lt;name&gt;delta-lake&lt;/name&gt;\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n      &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;scala.version&gt;2.12&lt;/scala.version&gt;\n        &lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\n        &lt;delta.version&gt;1.0.0&lt;/delta.version&gt;\n        &lt;aws.sdk.version&gt;1.12.604&lt;/aws.sdk.version&gt; &lt;!-- Use the latest version --&gt;\n      &lt;/properties&gt;\n\n      &lt;dependencies&gt;\n        &lt;!-- Spark dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n          &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\n          &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n          &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\n          &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Delta Lake dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;io.delta&lt;/groupId&gt;\n          &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\n          &lt;version&gt;${delta.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hadoop AWS for S3 connectivity --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\n          &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hadoop dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n          &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n          &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AWS SDK for Java dependencies --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n          &lt;version&gt;1.12.604&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-core --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n          &lt;version&gt;1.12.604&lt;/version&gt;\n        &lt;/dependency&gt;\n\n      &lt;/dependencies&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;source&gt;${java.version}&lt;/source&gt;\n              &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Issues :</p>\n<p>When running the Spark application, I'm encountering the following runtime error related to IOStatisticsSource:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/hadoop/fs/statistics/IOStatisticsSource\n</code></pre>\n<p>Questions:</p>\n<p>What versions of Hadoop and AWS Hadoop dependencies are compatible with Spark 3.1.2?\nIs there a conflict between Hadoop versions in my dependencies?\nShould I remove the hadoop-aws dependency if I'm not using S3?\nI've tried updating dependencies, removing hadoop-aws, and configuring serialization, but the issue persists.</p>\n<p>Any guidance on resolving this issue or insights into the compatibility of these dependencies would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693327,"post_id":77599468,"comment_id":136803370,"body_markdown":"Did you add `spring-boot-starter-validation` or only `validation-api`? I suspect the latter, if so replace `validation-api` with `spring-boot-starter-validation`. If not add your dependencies to the question.","body":"Did you add <code>spring-boot-starter-validation</code> or only <code>validation-api</code>? I suspect the latter, if so replace <code>validation-api</code> with <code>spring-boot-starter-validation</code>. If not add your dependencies to the question."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1701693360,"post_id":77599468,"comment_id":136803378,"body_markdown":"yes. Updated the question","body":"yes. Updated the question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1701693402,"post_id":77599468,"comment_id":136803388,"body_markdown":"Also your controller is always returning `OK`, you have included the `BindingResult` so it will never throw an error, unless you do that yourself in the controller. You need to check if there is an error, if so return 400 else return 200, or remove the `BindingResult` from the method.","body":"Also your controller is always returning <code>OK</code>, you have included the <code>BindingResult</code> so it will never throw an error, unless you do that yourself in the controller. You need to check if there is an error, if so return 400 else return 200, or remove the <code>BindingResult</code> from the method."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693454,"post_id":77599468,"comment_id":136803397,"body_markdown":"Pleae don&#39;t add code as screenshots but as code. THe screenshot is unreadable (that being said, remove the `version` you shouldn&#39;t have `version` in `spring-boot-starter-*` dependencies.","body":"Pleae don&#39;t add code as screenshots but as code. THe screenshot is unreadable (that being said, remove the <code>version</code> you shouldn&#39;t have <code>version</code> in <code>spring-boot-starter-*</code> dependencies."},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1701693640,"post_id":77599468,"comment_id":136803429,"body_markdown":"Thanks. I removed BindingResult and now I have the error. Now I have a doubt remains a bad practice not to use BindingResult in the the method?","body":"Thanks. I removed BindingResult and now I have the error. Now I have a doubt remains a bad practice not to use BindingResult in the the method?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693708,"post_id":77599468,"comment_id":136803444,"body_markdown":"It isn&#39;t but you need to take care of the error flow yourself then.","body":"It isn&#39;t but you need to take care of the error flow yourself then."}],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701797342,"creation_date":1701693117,"question_id":77599468,"body_markdown":"I have a DTO class (`treeDTO`) that contains within it two other DTO classes (`DistributionDTO` and `BlossomDTO`). \r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.Valid;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotEmpty;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.*;\r\n    \r\n    import java.util.Set;\r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class TreeDTO {\r\n    \r\n        @NotBlank(message = &quot;Family cannot be null.&quot;)\r\n        @JsonProperty(&quot;family&quot;)\r\n        private String family;\r\n    \r\n        @NotBlank(message = &quot;Genius cannot be empty.&quot;)\r\n        @JsonProperty(&quot;genius&quot;)\r\n        private String genius;\r\n    \r\n        @NotBlank(message = &quot;Species cannot be null.&quot;)\r\n        @JsonProperty(&quot;species&quot;)\r\n        private String species;\r\n    \r\n        @NotEmpty(message = &quot;Common name(s) cannot be empty.&quot;)\r\n        @JsonProperty(&quot;common_name&quot;)\r\n        private Set&lt;String&gt; commonNames;\r\n    \r\n        @NotNull(message = &quot;Distribution cannot be null.&quot;)\r\n        @JsonProperty(&quot;distribution&quot;)\r\n        @Valid\r\n        private DistributionDTO distributionDTO;\r\n    \r\n        @NotNull(message = &quot;Blossom cannot be null.&quot;)\r\n        @JsonProperty(&quot;blossom&quot;)\r\n        @Valid\r\n        private BlossomDTO blossomDTO;\r\n    }\r\n\r\nand \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class DistributionDTO {\r\n    \r\n        @NotNull(message = &quot;Neophyte cannot be null.&quot;)\r\n        @JsonProperty(&quot;neophyte&quot;)\r\n        private Boolean isNeophyte;\r\n    \r\n        @NotEmpty(message = &quot;Areal cannot be null.&quot;)\r\n        @JsonProperty(&quot;areal&quot;)\r\n        private Set&lt;arealEnum&gt; areal;\r\n    \r\n    }\r\n\r\nand \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class BlossomDTO {\r\n    \r\n        @NotEmpty(message = &quot;Blossom color cannot be null.&quot;)\r\n        @JsonProperty(&quot;color&quot;)\r\n        private Set&lt;BlossomColorEnum&gt; blossomColor;\r\n    \r\n        @NotNull(message = &quot;Odor cannot be empty.&quot;)\r\n        //@NotNull(message = &quot;Blossom odor cannot be null.&quot;)\r\n        @JsonProperty(&quot;odor&quot;)\r\n        private Boolean isBlossomOdor;\r\n    \r\n        @NotEmpty(message = &quot;Blossom period cannot be null.&quot;)\r\n        @JsonProperty(&quot;period&quot;)\r\n        private Set&lt;BlossomPeriodEnum&gt; blossomPeriod;\r\n    \r\n        @NotNull(message = &quot;Blossom ornamental cannot be null.&quot;)\r\n        @JsonProperty(&quot;ornamental&quot;)\r\n        private Boolean isBlossomOrnamental;\r\n    \r\n    }\r\n\r\nEverything is handled by a controller that receives as input a JSON:\r\n\r\n    @RestController\r\n    @RequestMapping(path=&quot;api/v1/tree-finder&quot;)\r\n    public class TreeController {\r\n    \r\n        private final TreeService treeService;\r\n    \r\n        @Autowired\r\n        public TreeController(TreeService treeService) {\r\n            this.treeService = treeService;\r\n        }\r\n    \r\n        @PostMapping(\r\n                value = &quot;/create-tree&quot;,\r\n                consumes = MediaType.APPLICATION_JSON_VALUE,\r\n                produces = MediaType.APPLICATION_JSON_VALUE\r\n        )\r\n        public ResponseEntity&lt;?&gt; createTree(\r\n    \r\n                @RequestBody\r\n                @Valid\r\n                TreeDTO treeDTO,\r\n                BindingResult result\r\n        ){\r\n            System.out.println(treeDTO.getFamily());\r\n            return ResponseEntity.ok(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\nwhat I&#39;m trying to do is handle the following cases that if incorrect should generate an error:\r\n\r\n**correct case**\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;distribution&quot;: {\r\n            &quot;neophyte&quot;: true,\r\n            &quot;areal&quot;: [&quot;015&quot;]\r\n        },\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**first error case**: in this case if it is missing in the JSON `distributionDTO` and/or `blossomDTO` should raise an error (in the example below distributionDTO is missing)\r\n\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**second error case**: in this case the DTO classes (`distributionDTO` and `blossomDTO`) may be present but a variable is missing (in the example `Boolean isNeophyte` of `DistributionDTO` is missing):\r\n\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;distribution&quot;: {\r\n            &quot;areal&quot;: [&quot;015&quot;]\r\n        },\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kgNoV.png\r\n  [2]: https://i.stack.imgur.com/4M9Tl.png\r\n  [3]: https://i.stack.imgur.com/y5tya.png\r\n  [4]: https://i.stack.imgur.com/j4zdY.png","title":"spring boot Javax validation on nested DTO","body":"<p>I have a DTO class (<code>treeDTO</code>) that contains within it two other DTO classes (<code>DistributionDTO</code> and <code>BlossomDTO</code>).</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.*;\n\nimport java.util.Set;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class TreeDTO {\n\n    @NotBlank(message = &quot;Family cannot be null.&quot;)\n    @JsonProperty(&quot;family&quot;)\n    private String family;\n\n    @NotBlank(message = &quot;Genius cannot be empty.&quot;)\n    @JsonProperty(&quot;genius&quot;)\n    private String genius;\n\n    @NotBlank(message = &quot;Species cannot be null.&quot;)\n    @JsonProperty(&quot;species&quot;)\n    private String species;\n\n    @NotEmpty(message = &quot;Common name(s) cannot be empty.&quot;)\n    @JsonProperty(&quot;common_name&quot;)\n    private Set&lt;String&gt; commonNames;\n\n    @NotNull(message = &quot;Distribution cannot be null.&quot;)\n    @JsonProperty(&quot;distribution&quot;)\n    @Valid\n    private DistributionDTO distributionDTO;\n\n    @NotNull(message = &quot;Blossom cannot be null.&quot;)\n    @JsonProperty(&quot;blossom&quot;)\n    @Valid\n    private BlossomDTO blossomDTO;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class DistributionDTO {\n\n    @NotNull(message = &quot;Neophyte cannot be null.&quot;)\n    @JsonProperty(&quot;neophyte&quot;)\n    private Boolean isNeophyte;\n\n    @NotEmpty(message = &quot;Areal cannot be null.&quot;)\n    @JsonProperty(&quot;areal&quot;)\n    private Set&lt;arealEnum&gt; areal;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class BlossomDTO {\n\n    @NotEmpty(message = &quot;Blossom color cannot be null.&quot;)\n    @JsonProperty(&quot;color&quot;)\n    private Set&lt;BlossomColorEnum&gt; blossomColor;\n\n    @NotNull(message = &quot;Odor cannot be empty.&quot;)\n    //@NotNull(message = &quot;Blossom odor cannot be null.&quot;)\n    @JsonProperty(&quot;odor&quot;)\n    private Boolean isBlossomOdor;\n\n    @NotEmpty(message = &quot;Blossom period cannot be null.&quot;)\n    @JsonProperty(&quot;period&quot;)\n    private Set&lt;BlossomPeriodEnum&gt; blossomPeriod;\n\n    @NotNull(message = &quot;Blossom ornamental cannot be null.&quot;)\n    @JsonProperty(&quot;ornamental&quot;)\n    private Boolean isBlossomOrnamental;\n\n}\n</code></pre>\n<p>Everything is handled by a controller that receives as input a JSON:</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;api/v1/tree-finder&quot;)\npublic class TreeController {\n\n    private final TreeService treeService;\n\n    @Autowired\n    public TreeController(TreeService treeService) {\n        this.treeService = treeService;\n    }\n\n    @PostMapping(\n            value = &quot;/create-tree&quot;,\n            consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public ResponseEntity&lt;?&gt; createTree(\n\n            @RequestBody\n            @Valid\n            TreeDTO treeDTO,\n            BindingResult result\n    ){\n        System.out.println(treeDTO.getFamily());\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>what I'm trying to do is handle the following cases that if incorrect should generate an error:</p>\n<p><strong>correct case</strong></p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;distribution&quot;: {\n        &quot;neophyte&quot;: true,\n        &quot;areal&quot;: [&quot;015&quot;]\n    },\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kgNoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgNoV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>first error case</strong>: in this case if it is missing in the JSON <code>distributionDTO</code> and/or <code>blossomDTO</code> should raise an error (in the example below distributionDTO is missing)</p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4M9Tl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4M9Tl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>second error case</strong>: in this case the DTO classes (<code>distributionDTO</code> and <code>blossomDTO</code>) may be present but a variable is missing (in the example <code>Boolean isNeophyte</code> of <code>DistributionDTO</code> is missing):</p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;distribution&quot;: {\n        &quot;areal&quot;: [&quot;015&quot;]\n    },\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/y5tya.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5tya.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/j4zdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4zdY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","crash","android-emulator"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701783996,"post_id":77606652,"comment_id":136816264,"body_markdown":"Can tell you one point , android is unix linux , and not finding the .so module is common in new installs because of linking between .so libraries and link files to send one module to another. There may be documentation on their site for how to link that specific file.","body":"Can tell you one point , android is unix linux , and not finding the .so module is common in new installs because of linking between .so libraries and link files to send one module to another. There may be documentation on their site for how to link that specific file."}],"owner":{"account_id":12411344,"reputation":9,"user_id":9043330,"display_name":"Mahmoud Nasr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701797175,"creation_date":1701783644,"question_id":77606652,"body_markdown":"after upgrading to latest android studio and latest gradle (android studio Android Studio Hedgehog | 2023.1.1) and gradle ( com.android.tools.build:gradle:8.2.0 ) and target sdk is 33 , the application crash on startup only on the emulator (application runs perfectly on rea; device) , the error is \r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.rentcentric.mobileagentpro, PID: 2820\r\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n                                                                                                    \tat java.lang.System.loadLibrary(System.java:1661)\r\n                                                                                                    \tat mono.MonoPackageManager.LoadApplication(MonoPackageManager.java:78)\r\n                                                                                                    \tat mono.MonoRuntimeProvider.attachInfo(MonoRuntimeProvider.java:35)\r\n                                                                                                    \tat android.app.ActivityThread.installProvider(ActivityThread.java:7462)\r\n                                                                                                    \tat android.app.ActivityThread.installContentProviders(ActivityThread.java:6973)\r\n                                                                                                    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6744)\r\n                                                                                                    \tat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n","title":"android app crash at startup on android studio emulator crash: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found","body":"<p>after upgrading to latest android studio and latest gradle (android studio Android Studio Hedgehog | 2023.1.1) and gradle ( com.android.tools.build:gradle:8.2.0 ) and target sdk is 33 , the application crash on startup only on the emulator (application runs perfectly on rea; device) , the error is\nFATAL EXCEPTION: main\nProcess: com.rentcentric.mobileagentpro, PID: 2820\njava.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found\nat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\nat java.lang.Runtime.loadLibrary0(Runtime.java:998)\nat java.lang.System.loadLibrary(System.java:1661)\nat mono.MonoPackageManager.LoadApplication(MonoPackageManager.java:78)\nat mono.MonoRuntimeProvider.attachInfo(MonoRuntimeProvider.java:35)\nat android.app.ActivityThread.installProvider(ActivityThread.java:7462)\nat android.app.ActivityThread.installContentProviders(ActivityThread.java:6973)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6744)\nat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n"},{"tags":["java","javafx","mapping","scenebuilder"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1701620555,"post_id":77594831,"comment_id":136795809,"body_markdown":"The stack trace clearly shows that you are mixing libraries from JavaFX 20.0.1 and libraries from JavaFX 21.0.1.  I’m not sure how that happened, but I suggest doing a clean build—meaning, delete all .jar files and executables that you have built, and build them from scratch.  Also, you should edit your question and show us the contents of your Table.fxml file.","body":"The stack trace clearly shows that you are mixing libraries from JavaFX 20.0.1 and libraries from JavaFX 21.0.1.  I’m not sure how that happened, but I suggest doing a clean build—meaning, delete all .jar files and executables that you have built, and build them from scratch.  Also, you should edit your question and show us the contents of your Table.fxml file."},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701694910,"post_id":77594831,"comment_id":136803664,"body_markdown":"I&#39;ll try. I have edited the question","body":"I&#39;ll try. I have edited the question"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701734586,"post_id":77594831,"comment_id":136810189,"body_markdown":"The class not found `com/sun/javafx/collections/MappingChange$Map`was [recently removed from JavaFX](https://github.com/openjdk/jfx/pull/972/files#diff-0c5dea49a4ace580e54a17cded776439261e359b2d421b5d0d845d04ab85237dL34).  Probably your mixed JavaFX versions used is the cause of the issue.  All your JavaFX libraries should be the same version (and best to use latest stable as per VGR - 21.0.1 at the moment).  Because the problem is likely environmental for you, it is unlikely somebody else will be able to replicate it.","body":"The class not found <code>com&#47;sun&#47;javafx&#47;collections&#47;MappingChange$Map</code>was <a href=\"https://github.com/openjdk/jfx/pull/972/files#diff-0c5dea49a4ace580e54a17cded776439261e359b2d421b5d0d845d04ab85237dL34\" rel=\"nofollow noreferrer\">recently removed from JavaFX</a>.  Probably your mixed JavaFX versions used is the cause of the issue.  All your JavaFX libraries should be the same version (and best to use latest stable as per VGR - 21.0.1 at the moment).  Because the problem is likely environmental for you, it is unlikely somebody else will be able to replicate it."},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701796639,"post_id":77594831,"comment_id":136818777,"body_markdown":"@VGR I rebuilt it from scratch and it worked. Thanks","body":"@VGR I rebuilt it from scratch and it worked. Thanks"},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701796772,"post_id":77594831,"comment_id":136818810,"body_markdown":"@jewelsea thanks for your insights. I rebuilt the program and the dependencies were now different. As you said it was environmental i guess.","body":"@jewelsea thanks for your insights. I rebuilt the program and the dependencies were now different. As you said it was environmental i guess."}],"answers":[{"tags":[],"owner":{"account_id":26244172,"reputation":19,"user_id":19917972,"display_name":"MrCrobben"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701616252,"creation_date":1701616252,"answer_id":77594876,"question_id":77594831,"body_markdown":"From the stack trace is hard to figure out what went wrong. I suggest adding some code.\r\n\r\nNow from my experience this could be that you didn&#39;t create `Controller` class and added it to XML file. Please provide your XML so I could help you more","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>From the stack trace is hard to figure out what went wrong. I suggest adding some code.</p>\n<p>Now from my experience this could be that you didn't create <code>Controller</code> class and added it to XML file. Please provide your XML so I could help you more</p>\n"},{"tags":[],"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796988,"creation_date":1701796988,"answer_id":77608123,"question_id":77594831,"body_markdown":"The problem was due to the dependencies (environmental). I have no idea what caused for that. After I rebuilt the program from scratch it worked fine without any change in the code. The dependencies mentioned in the xml have changed.","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>The problem was due to the dependencies (environmental). I have no idea what caused for that. After I rebuilt the program from scratch it worked fine without any change in the code. The dependencies mentioned in the xml have changed.</p>\n"}],"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701796988,"creation_date":1701615586,"question_id":77594831,"body_markdown":"I am trying to build a small java desktop application using JavaFX  to enter student details. On the opening scene I have provided buttons to switch into different scenes. I can access the other scenes but the scene with a TableView which contains all the student details from the database is not opening. \r\n\r\nHere&#39;s my full error message;\r\n\r\n    javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n    \tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\r\n    \t... 60 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 63 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 67 more\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n    \tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n    \t... 46 more\r\n    Caused by: java.lang.RuntimeException: javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:67)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t... 53 more\r\n    Caused by: javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\r\n    \t... 54 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\r\n    \t... 60 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 63 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 67 more\r\n\r\n**Here&#39;s the Table.fxml code;**\r\n \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n        &lt;?import javafx.scene.control.*?&gt;\r\n        &lt;?import javafx.scene.layout.*?&gt;\r\n        &lt;?import javafx.scene.text.*?&gt;\r\n    \r\n        &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \r\n        minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\r\n                prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2- \r\n        ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n                \r\n        fx:controller=&quot;com.example.educationalcentre.TableController&quot;&gt;\r\n        &lt;TableView fx:id=&quot;tblStudent&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;321.0&quot; \r\n        prefWidth=&quot;600.0&quot;&gt;\r\n          &lt;columns&gt;\r\n              &lt;TableColumn fx:id=&quot;id&quot; prefWidth=&quot;75.0&quot; text=&quot;StudentID&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;fname&quot; prefWidth=&quot;75.0&quot; text=&quot;First \r\n          Name&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;lname&quot; prefWidth=&quot;75.0&quot; text=&quot;Last \r\n          Name&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;gender&quot; prefWidth=&quot;75.0&quot; \r\n         text=&quot;Gender&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;email&quot; prefWidth=&quot;75.0&quot; text=&quot;Email&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;dob&quot; prefWidth=&quot;75.0&quot; text=&quot;BirthDay&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;cstatus&quot; prefWidth=&quot;75.0&quot; text=&quot;Civil \r\n          Status&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;address&quot; prefWidth=&quot;75.0&quot; text=&quot;Address&quot;/&gt;\r\n          &lt;/columns&gt;\r\n        &lt;/TableView&gt;\r\n        &lt;Label layoutX=&quot;9.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;46.0&quot; prefWidth=&quot;339.0&quot; text=&quot;Student List&quot;&gt;\r\n            &lt;font&gt;\r\n              &lt;Font size=&quot;35.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n**Here&#39;s my controller class for the scene containing table view**\r\n \r\n\r\n        package com.example.educationalcentre;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.fxml.Initializable;\r\n    \r\n    import java.net.URL;\r\n    import java.sql.SQLException;\r\n    import java.util.Date;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class TableController implements Initializable {\r\n        StudentService studentService;\r\n        @FXML\r\n        private TableView &lt;Student&gt; tblStudent;\r\n        @FXML\r\n        private TableColumn &lt;Student, Integer&gt;  id;\r\n        @FXML\r\n        private TableColumn &lt;Student,String&gt; fname;\r\n    \r\n        @FXML private  TableColumn &lt;Student,String&gt; lname;\r\n        @FXML private TableColumn &lt;Student,String&gt; gender;\r\n        @FXML private TableColumn &lt;Student,String&gt; email;\r\n        @FXML private TableColumn &lt;Student, Date&gt; dob;\r\n        @FXML private TableColumn &lt;Student,String&gt; cstatus;\r\n        @FXML private TableColumn &lt;Student, String&gt; address;\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            try {\r\n                loadStudent();\r\n            } catch (SQLException | ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n        @FXML\r\n            private void loadStudent() throws SQLException, ClassNotFoundException {\r\n            studentService = new StudentService();\r\n            ObservableList&lt;Student&gt; students;\r\n            students = FXCollections.observableArrayList(studentService.getStudentList());\r\n          id.setCellValueFactory(new PropertyValueFactory&lt;Student, Integer&gt;(&quot;studentID&quot;));\r\n          fname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;firstName&quot;));\r\n    \r\n            lname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;lastName&quot;));\r\n            address.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;address&quot;));\r\n            email.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;email&quot;));\r\n            cstatus.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;civilStatus&quot;));\r\n            gender.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;gender&quot;));\r\n            dob.setCellValueFactory(new PropertyValueFactory&lt;Student, Date&gt;(&quot;DOB&quot;));\r\n    \r\n            tblStudent.setItems(students);\r\n\r\n**Here&#39;s the method in my controller class for the first window of my program which contains the button to open the scene with the controller class**\r\n\r\n    @FXML\r\n    public void switchToTable(ActionEvent event) throws IOException {\r\n        FXMLLoader fxmlLoader = new \r\n    FXMLLoader(RegistryApplication.class.getResource(&quot;Table.fxml&quot;));\r\n         stage = (Stage) \r\n    ((Node)event.getSource()).getScene().getWindow();\r\n    \r\n        try {\r\n            scene = new Scene(fxmlLoader.load());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>I am trying to build a small java desktop application using JavaFX  to enter student details. On the opening scene I have provided buttons to switch into different scenes. I can access the other scenes but the scene with a TableView which contains all the student details from the database is not opening.</p>\n<p>Here's my full error message;</p>\n<pre><code>javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\n    ... 60 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\n    at javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 63 more\nCaused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 67 more\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n    ... 46 more\nCaused by: java.lang.RuntimeException: javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:67)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\n    ... 54 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\n    ... 60 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\n    at javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 63 more\nCaused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 67 more\n</code></pre>\n<p><strong>Here's the Table.fxml code;</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;?import javafx.scene.control.*?&gt;\n    &lt;?import javafx.scene.layout.*?&gt;\n    &lt;?import javafx.scene.text.*?&gt;\n\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \n    minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\n            prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2- \n    ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            \n    fx:controller=&quot;com.example.educationalcentre.TableController&quot;&gt;\n    &lt;TableView fx:id=&quot;tblStudent&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;321.0&quot; \n    prefWidth=&quot;600.0&quot;&gt;\n      &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;id&quot; prefWidth=&quot;75.0&quot; text=&quot;StudentID&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;fname&quot; prefWidth=&quot;75.0&quot; text=&quot;First \n      Name&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;lname&quot; prefWidth=&quot;75.0&quot; text=&quot;Last \n      Name&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;gender&quot; prefWidth=&quot;75.0&quot; \n     text=&quot;Gender&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;email&quot; prefWidth=&quot;75.0&quot; text=&quot;Email&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;dob&quot; prefWidth=&quot;75.0&quot; text=&quot;BirthDay&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;cstatus&quot; prefWidth=&quot;75.0&quot; text=&quot;Civil \n      Status&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;address&quot; prefWidth=&quot;75.0&quot; text=&quot;Address&quot;/&gt;\n      &lt;/columns&gt;\n    &lt;/TableView&gt;\n    &lt;Label layoutX=&quot;9.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;46.0&quot; prefWidth=&quot;339.0&quot; text=&quot;Student List&quot;&gt;\n        &lt;font&gt;\n          &lt;Font size=&quot;35.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p><strong>Here's my controller class for the scene containing table view</strong></p>\n<pre><code>    package com.example.educationalcentre;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.fxml.Initializable;\n\nimport java.net.URL;\nimport java.sql.SQLException;\nimport java.util.Date;\nimport java.util.ResourceBundle;\n\npublic class TableController implements Initializable {\n    StudentService studentService;\n    @FXML\n    private TableView &lt;Student&gt; tblStudent;\n    @FXML\n    private TableColumn &lt;Student, Integer&gt;  id;\n    @FXML\n    private TableColumn &lt;Student,String&gt; fname;\n\n    @FXML private  TableColumn &lt;Student,String&gt; lname;\n    @FXML private TableColumn &lt;Student,String&gt; gender;\n    @FXML private TableColumn &lt;Student,String&gt; email;\n    @FXML private TableColumn &lt;Student, Date&gt; dob;\n    @FXML private TableColumn &lt;Student,String&gt; cstatus;\n    @FXML private TableColumn &lt;Student, String&gt; address;\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        try {\n            loadStudent();\n        } catch (SQLException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n    @FXML\n        private void loadStudent() throws SQLException, ClassNotFoundException {\n        studentService = new StudentService();\n        ObservableList&lt;Student&gt; students;\n        students = FXCollections.observableArrayList(studentService.getStudentList());\n      id.setCellValueFactory(new PropertyValueFactory&lt;Student, Integer&gt;(&quot;studentID&quot;));\n      fname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;firstName&quot;));\n\n        lname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;lastName&quot;));\n        address.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;address&quot;));\n        email.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;email&quot;));\n        cstatus.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;civilStatus&quot;));\n        gender.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;gender&quot;));\n        dob.setCellValueFactory(new PropertyValueFactory&lt;Student, Date&gt;(&quot;DOB&quot;));\n\n        tblStudent.setItems(students);\n</code></pre>\n<p><strong>Here's the method in my controller class for the first window of my program which contains the button to open the scene with the controller class</strong></p>\n<pre><code>@FXML\npublic void switchToTable(ActionEvent event) throws IOException {\n    FXMLLoader fxmlLoader = new \nFXMLLoader(RegistryApplication.class.getResource(&quot;Table.fxml&quot;));\n     stage = (Stage) \n((Node)event.getSource()).getScene().getWindow();\n\n    try {\n        scene = new Scene(fxmlLoader.load());\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1701657641,"post_id":77590337,"comment_id":136799189,"body_markdown":"You should read the guide for [how to ask a good question](https://stackoverflow.com/help/how-to-ask). There are two different DOCTYPEs (mapper and configuration) and you are using configuration one in the mapper. If you are new, I would recommend using a project template like [these](https://github.com/harawata/mybatis-issues) rather than starting from scratch.","body":"You should read the guide for <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>. There are two different DOCTYPEs (mapper and configuration) and you are using configuration one in the mapper. If you are new, I would recommend using a project template like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a> rather than starting from scratch."}],"answers":[{"tags":[],"owner":{"account_id":13115133,"reputation":507,"user_id":9536653,"display_name":"PandaSurge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796904,"creation_date":1701796904,"answer_id":77608113,"question_id":77590337,"body_markdown":"The bug you are encountering is related to your &lt;configuration&gt; element not being the root element in the XML file. &lt;mapper&gt; should be nested inside &lt;configuration&gt;. The namespace in &lt;mapper&gt; should also define the class/interface where your MyBatis methods are.","title":"How can I redirect users mapper in mybatis spring boot","body":"<p>The bug you are encountering is related to your  element not being the root element in the XML file.  should be nested inside . The namespace in  should also define the class/interface where your MyBatis methods are.</p>\n"}],"owner":{"account_id":30047337,"reputation":1,"user_id":23026657,"display_name":"Phan Duong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701883588,"answer_count":1,"score":0,"last_activity_date":1701796904,"creation_date":1701520057,"question_id":77590337,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AQ8m0.png)PLEASE HELP! I&#39;m just have stated learning spring boot and don&#39;t know how to fix this bug when trying to connect to mapper \r\n\r\n\r\nit sad [{\r\n\t&quot;resource&quot;: &quot;/c:/Users/Hi/hackathon/dataretrival/src/main/resources/mybatis/mapper/todo-mapper.xml&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#6&quot;,\r\n\t&quot;code&quot;: &quot;RootElementTypeMustMatchDoctypedecl&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;Document root element \\&quot;mapper\\&quot;, must match DOCTYPE root \\&quot;configuration\\&quot;.&quot;,\r\n\t&quot;source&quot;: &quot;xml&quot;,\r\n\t&quot;startLineNumber&quot;: 5,\r\n\t&quot;startColumn&quot;: 2,\r\n\t&quot;endLineNumber&quot;: 5,\r\n\t&quot;endColumn&quot;: 8\r\n}]\r\n\r\n\r\nI tried to change the resource in mybatis-config and relocated todo-mapping.xml","title":"How can I redirect users mapper in mybatis spring boot","body":"<p><a href=\"https://i.stack.imgur.com/AQ8m0.png\" rel=\"nofollow noreferrer\">enter image description here</a>PLEASE HELP! I'm just have stated learning spring boot and don't know how to fix this bug when trying to connect to mapper</p>\n<p>it sad [{\n&quot;resource&quot;: &quot;/c:/Users/Hi/hackathon/dataretrival/src/main/resources/mybatis/mapper/todo-mapper.xml&quot;,\n&quot;owner&quot;: &quot;<em>generated_diagnostic_collection_name</em>#6&quot;,\n&quot;code&quot;: &quot;RootElementTypeMustMatchDoctypedecl&quot;,\n&quot;severity&quot;: 8,\n&quot;message&quot;: &quot;Document root element &quot;mapper&quot;, must match DOCTYPE root &quot;configuration&quot;.&quot;,\n&quot;source&quot;: &quot;xml&quot;,\n&quot;startLineNumber&quot;: 5,\n&quot;startColumn&quot;: 2,\n&quot;endLineNumber&quot;: 5,\n&quot;endColumn&quot;: 8\n}]</p>\n<p>I tried to change the resource in mybatis-config and relocated todo-mapping.xml</p>\n"},{"tags":["java","maven","httpclient"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":2,"creation_date":1701785829,"post_id":77606897,"comment_id":136816641,"body_markdown":"Please copy and paste your code instead of using a screenshot. Please also include what the error message is.","body":"Please copy and paste your code instead of using a screenshot. Please also include what the error message is."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701787820,"creation_date":1701787518,"answer_id":77607097,"question_id":77606897,"body_markdown":"The [`getEntity()`][1] method belongs to [`CloseableHttpResponse`][2], not [`HttpResponse`][3]. Just change your code to use the former:\r\n\r\n    CloseableHttpResponse httpresponse = httpclient.execute(httpget);\r\n    Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\r\n\r\nBe aware that [`CloseableHttpClient#execute(ClassicHttpRequest)`][4] is deprecated. You should instead use a execute with an [`HttpClientResponseHandler`][5], which will automatically deallocate any resources. Here&#39;s an example:\r\n\r\n\tMyObject myObject = httpclient.execute(httpget, new HttpClientResponseHandler&lt;MyObject&gt;() {\r\n\t\t@Override\r\n\t\tpublic MyObject handleResponse(ClassicHttpResponse response) throws HttpException, IOException {\r\n\t\t\tScanner scanner = new Scanner(response.getEntity().getContent());\r\n\t\t\tint id = scanner.nextInt();\r\n\t\t\tString name = scanner.next();\r\n\t\t\tString description = scanner.nextLine();\r\n\t\t\treturn new MyObject(id, name, description);\r\n\t\t}\r\n\t});\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html#getEntity--\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\r\n  [3]: https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/http/HttpResponse.html\r\n  [4]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-\r\n  [5]: https://hc.apache.org/httpcomponents-core-5.2.x/current/httpcore5/apidocs/index.html?org/apache/hc/core5/http/io/HttpClientResponseHandler.html","title":"How do I get the content of the Entity object from the HttpResponse instance?","body":"<p>The <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html#getEntity--\" rel=\"nofollow noreferrer\"><code>getEntity()</code></a> method belongs to <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\" rel=\"nofollow noreferrer\"><code>CloseableHttpResponse</code></a>, not <a href=\"https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/http/HttpResponse.html\" rel=\"nofollow noreferrer\"><code>HttpResponse</code></a>. Just change your code to use the former:</p>\n<pre><code>CloseableHttpResponse httpresponse = httpclient.execute(httpget);\nScanner scanner = new Scanner(httpresponse.getEntity().getContent());\n</code></pre>\n<p>Be aware that <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-\" rel=\"nofollow noreferrer\"><code>CloseableHttpClient#execute(ClassicHttpRequest)</code></a> is deprecated. You should instead use a execute with an <a href=\"https://hc.apache.org/httpcomponents-core-5.2.x/current/httpcore5/apidocs/index.html?org/apache/hc/core5/http/io/HttpClientResponseHandler.html\" rel=\"nofollow noreferrer\"><code>HttpClientResponseHandler</code></a>, which will automatically deallocate any resources. Here's an example:</p>\n<pre><code>MyObject myObject = httpclient.execute(httpget, new HttpClientResponseHandler&lt;MyObject&gt;() {\n    @Override\n    public MyObject handleResponse(ClassicHttpResponse response) throws HttpException, IOException {\n        Scanner scanner = new Scanner(response.getEntity().getContent());\n        int id = scanner.nextInt();\n        String name = scanner.next();\n        String description = scanner.nextLine();\n        return new MyObject(id, name, description);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":29620184,"reputation":13,"user_id":22701382,"display_name":"AJHG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77607097,"answer_count":1,"score":1,"last_activity_date":1701796854,"creation_date":1701785760,"question_id":77606897,"body_markdown":"I get an error everytime I try to get the content of an Entity object.\r\n\r\n    package com.mycompany.prueba_rest;\r\n\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import org.apache.hc.client5.http.classic.methods.HttpGet;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n    import org.apache.hc.core5.http.HttpResponse;\r\n\r\n    public class Prueba_REST {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n        \r\n           // Crear objeto HttpClient.\r\n           CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\n           //Crear un objeto HttpGet.\r\n           HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\r\n\r\n           //Imprimir por pantalla el m&#233;todo usado.\r\n           System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\r\n\r\n           //Ejecutar el pedido GET.\r\n           HttpResponse httpresponse = httpclient.execute(httpget);\r\n\r\n                                                      // Error here!\r\n           Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\r\n        }\r\n    }\r\n\r\nI tried changing the version of the repository and looking for information in the official documentation that could help me solve this problem.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How do I get the content of the Entity object from the HttpResponse instance?","body":"<p>I get an error everytime I try to get the content of an Entity object.</p>\n<pre><code>package com.mycompany.prueba_rest;\n\nimport java.io.IOException;\nimport java.util.Scanner;\nimport org.apache.hc.client5.http.classic.methods.HttpGet;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.core5.http.HttpResponse;\n\npublic class Prueba_REST {\n\n    public static void main(String[] args) throws IOException {\n    \n       // Crear objeto HttpClient.\n       CloseableHttpClient httpclient = HttpClients.createDefault();\n\n       //Crear un objeto HttpGet.\n       HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\n\n       //Imprimir por pantalla el método usado.\n       System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\n\n       //Ejecutar el pedido GET.\n       HttpResponse httpresponse = httpclient.execute(httpget);\n\n                                                  // Error here!\n       Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\n    }\n}\n</code></pre>\n<p>I tried changing the version of the repository and looking for information in the official documentation that could help me solve this problem.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","maven","mockito","maven-plugin","mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701808180,"post_id":77608066,"comment_id":136820618,"body_markdown":"So this: `during a mojo execution.` means you are writing a plugin? What kind of plugin is that? Why do you need to test resolver? What is the idea?  Apart from that you should test with the plugin?","body":"So this: <code>during a mojo execution.</code> means you are writing a plugin? What kind of plugin is that? Why do you need to test resolver? What is the idea?  Apart from that you should test with the plugin?"}],"owner":{"account_id":29664334,"reputation":11,"user_id":22735242,"display_name":"Kevin Nammour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701796551,"creation_date":1701796551,"question_id":77608066,"body_markdown":"I have a class in my maven project that is used to resolve artifacts during a mojo execution. However I need to write tests for this ArtifactResolver class that tests it on a real repo which is let&#39;s say maven&#39;s central repo.\r\n\r\nThis is my class:\r\n\r\n```\r\npublic class ArtifactResolver {\r\n    private final RepositorySystem repositorySystem;\r\n\r\n    private final RepositorySystemSession repositorySystemSession;\r\n\r\n    private final List&lt;RemoteRepository&gt; remoteRepositoryList;\r\n\r\n    public ArtifactResolver(RepositorySystem repositorySystem,\r\n                            RepositorySystemSession repositorySystemSession,\r\n                            List&lt;RemoteRepository&gt; remoteRepositoryList) {\r\n        this.repositorySystem = repositorySystem;\r\n        this.repositorySystemSession = repositorySystemSession;\r\n        this.remoteRepositoryList = remoteRepositoryList;\r\n    }\r\n\r\n    public ArtifactResult resolve(Artifact artifact) throws ArtifactResolutionException {\r\n        ArtifactRequest artifactRequest = new ArtifactRequest();\r\n        artifactRequest.setArtifact(artifact);\r\n        artifactRequest.setRepositories(remoteRepositoryList);\r\n        return repositorySystem.resolveArtifact(repositorySystemSession, artifactRequest);\r\n    }\r\n}\r\n```\r\n\r\nI just want to create mock instances of repositorySystemSession and remoteRepositoryList that will be able to resolve a real dependency like log4j for example.\r\n\r\nAdding the remote repositories works manually, however I am finding mocking instances of repositorySystemSession and remoteRepositoryList hard. What I tried is creating them using the following:\r\n\r\n```\r\npackage murex.subsystems.dependencies.services;\r\n\r\nimport org.eclipse.aether.RepositorySystem;\r\nimport org.eclipse.aether.RepositorySystemSession;\r\nimport org.eclipse.aether.artifact.DefaultArtifact;\r\nimport org.eclipse.aether.repository.RemoteRepository;\r\nimport org.apache.maven.repository.internal.MavenRepositorySystemUtils;\r\nimport org.eclipse.aether.resolution.ArtifactResolutionException;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.io.TempDir;\r\n\r\nimport java.io.File;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class ArtifactResolverTest {\r\n    private ArtifactResolver artifactResolver;\r\n\r\n    @BeforeEach\r\n    public void beforeEach(@TempDir File tempDir) {\r\n        RepositorySystem repositorySystem = MavenRepositorySystemUtils.newServiceLocator().getService(RepositorySystem.class);\r\n        RepositorySystemSession repositorySystemSession = MavenRepositorySystemUtils.newSession();\r\n        RemoteRepository remoteRepository = new RemoteRepository.Builder(&quot;central&quot;, &quot;default&quot;, &quot;https://repo.maven.apache.org/maven2/&quot;).build();\r\n        List&lt;RemoteRepository&gt; remoteRepositoryList = Collections.singletonList(remoteRepository);\r\n        artifactResolver = new ArtifactResolver(null, repositorySystem, repositorySystemSession, remoteRepositoryList);\r\n\r\n    }\r\n\r\n    @Test\r\n    void testResolve() throws ArtifactResolutionException {\r\n        artifactResolver.resolve(new DefaultArtifact(&quot;log4j:log4j:1.2.17&quot;));\r\n    }\r\n}\r\n```\r\n\r\nBut I am facing the following error:\r\n\r\njava.lang.NullPointerException: repository system session&#39;s local repository manager cannot be null\r\n\r\nSo can anyone assist me with that?","title":"Writing tests for apache maven resolver","body":"<p>I have a class in my maven project that is used to resolve artifacts during a mojo execution. However I need to write tests for this ArtifactResolver class that tests it on a real repo which is let's say maven's central repo.</p>\n<p>This is my class:</p>\n<pre><code>public class ArtifactResolver {\n    private final RepositorySystem repositorySystem;\n\n    private final RepositorySystemSession repositorySystemSession;\n\n    private final List&lt;RemoteRepository&gt; remoteRepositoryList;\n\n    public ArtifactResolver(RepositorySystem repositorySystem,\n                            RepositorySystemSession repositorySystemSession,\n                            List&lt;RemoteRepository&gt; remoteRepositoryList) {\n        this.repositorySystem = repositorySystem;\n        this.repositorySystemSession = repositorySystemSession;\n        this.remoteRepositoryList = remoteRepositoryList;\n    }\n\n    public ArtifactResult resolve(Artifact artifact) throws ArtifactResolutionException {\n        ArtifactRequest artifactRequest = new ArtifactRequest();\n        artifactRequest.setArtifact(artifact);\n        artifactRequest.setRepositories(remoteRepositoryList);\n        return repositorySystem.resolveArtifact(repositorySystemSession, artifactRequest);\n    }\n}\n</code></pre>\n<p>I just want to create mock instances of repositorySystemSession and remoteRepositoryList that will be able to resolve a real dependency like log4j for example.</p>\n<p>Adding the remote repositories works manually, however I am finding mocking instances of repositorySystemSession and remoteRepositoryList hard. What I tried is creating them using the following:</p>\n<pre><code>package murex.subsystems.dependencies.services;\n\nimport org.eclipse.aether.RepositorySystem;\nimport org.eclipse.aether.RepositorySystemSession;\nimport org.eclipse.aether.artifact.DefaultArtifact;\nimport org.eclipse.aether.repository.RemoteRepository;\nimport org.apache.maven.repository.internal.MavenRepositorySystemUtils;\nimport org.eclipse.aether.resolution.ArtifactResolutionException;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.io.TempDir;\n\nimport java.io.File;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ArtifactResolverTest {\n    private ArtifactResolver artifactResolver;\n\n    @BeforeEach\n    public void beforeEach(@TempDir File tempDir) {\n        RepositorySystem repositorySystem = MavenRepositorySystemUtils.newServiceLocator().getService(RepositorySystem.class);\n        RepositorySystemSession repositorySystemSession = MavenRepositorySystemUtils.newSession();\n        RemoteRepository remoteRepository = new RemoteRepository.Builder(&quot;central&quot;, &quot;default&quot;, &quot;https://repo.maven.apache.org/maven2/&quot;).build();\n        List&lt;RemoteRepository&gt; remoteRepositoryList = Collections.singletonList(remoteRepository);\n        artifactResolver = new ArtifactResolver(null, repositorySystem, repositorySystemSession, remoteRepositoryList);\n\n    }\n\n    @Test\n    void testResolve() throws ArtifactResolutionException {\n        artifactResolver.resolve(new DefaultArtifact(&quot;log4j:log4j:1.2.17&quot;));\n    }\n}\n</code></pre>\n<p>But I am facing the following error:</p>\n<p>java.lang.NullPointerException: repository system session's local repository manager cannot be null</p>\n<p>So can anyone assist me with that?</p>\n"},{"tags":["java","pdf","itext","pdf-reader"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":2,"creation_date":1458732682,"post_id":36176286,"comment_id":59989170,"body_markdown":"Why are you forced to use an ancient and unmaintained version of iText that doesn&#39;t contain the feature you need?","body":"Why are you forced to use an ancient and unmaintained version of iText that doesn&#39;t contain the feature you need?"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":4,"creation_date":1458747253,"post_id":36176286,"comment_id":60000131,"body_markdown":"If you look at the source code (https://github.com/itext/itextpdf/blob/develop/itext/src/main/java/com/itextpdf/text/pdf/PdfReader.java) then you will see that `unethicalreading` was added in iText 5.0.2 _(`com.itextpdf` iText)_. More precisely, in this commit: https://github.com/itext/itextpdf/commit/c27c608dee1495b91dc290653b1f387d7c09adde on Mar 31, 2010. Which means you are using a version of iText that is at least 6 years old.","body":"If you look at the source code (<a href=\"https://github.com/itext/itextpdf/blob/develop/itext/src/main/java/com/itextpdf/text/pdf/PdfReader.java\" rel=\"nofollow noreferrer\">github.com/itext/itextpdf/blob/develop/itext/src/main/java/&zwnj;&#8203;com/&hellip;</a>) then you will see that <code>unethicalreading</code> was added in iText 5.0.2 <i>(<code>com.itextpdf</code> iText)</i>. More precisely, in this commit: <a href=\"https://github.com/itext/itextpdf/commit/c27c608dee1495b91dc290653b1f387d7c09adde\" rel=\"nofollow noreferrer\">github.com/itext/itextpdf/commit/&hellip;</a> on Mar 31, 2010. Which means you are using a version of iText that is at least 6 years old."}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1560936381,"creation_date":1458731495,"answer_id":36176562,"question_id":36176286,"body_markdown":"[Here][1] there seems to be a workaround to make iText to ignore password **with a disclaimer**:\r\n&gt;**I leave legal issues up to you** by executing the code below.\r\n\r\n    public static PdfReader unlockPdf(PdfReader reader) {\r\n        if (reader == null) {\r\n            return reader;\r\n        }\r\n        try {\r\n            java.lang.reflect.Field f = reader.getClass().getDeclaredField(&quot;encrypted&quot;);\r\n            f.setAccessible(true);\r\n            f.set(reader, false);\r\n        } catch (Exception e) { /* ignore */ }\r\n        return reader;\r\n    }\r\n\r\n  [1]: http://www.pdfsam.org/pdf-split-and-merge/if-you-have-the-error-message-pdfreader-not-opened-with-owner-password/323/","title":"iText - read PDFs created with an unknown random owner password","body":"<p><a href=\"http://www.pdfsam.org/pdf-split-and-merge/if-you-have-the-error-message-pdfreader-not-opened-with-owner-password/323/\" rel=\"noreferrer\">Here</a> there seems to be a workaround to make iText to ignore password <strong>with a disclaimer</strong>:</p>\n\n<blockquote>\n  <p><strong>I leave legal issues up to you</strong> by executing the code below.</p>\n</blockquote>\n\n<pre><code>public static PdfReader unlockPdf(PdfReader reader) {\n    if (reader == null) {\n        return reader;\n    }\n    try {\n        java.lang.reflect.Field f = reader.getClass().getDeclaredField(\"encrypted\");\n        f.setAccessible(true);\n        f.set(reader, false);\n    } catch (Exception e) { /* ignore */ }\n    return reader;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12711122,"reputation":46,"user_id":9234724,"display_name":"Alan Baronio Menegotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796087,"creation_date":1701796087,"answer_id":77608022,"question_id":36176286,"body_markdown":"For OpenPDF there&#39;s a property on PdfReader that does the magic:\r\n\r\n    /**\r\n       * Sets whether the document (if encrypted) may be modified even if the owner password was not\r\n       * supplied. If this is set to &lt;CODE&gt;false&lt;/CODE&gt; an exception will be thrown when attempting to\r\n       * access the Document if the owner password was not supplied (for encrypted documents.)\r\n       *\r\n       * @param modificationAllowedWithoutOwnerPassword\r\n       *         the modificationAllowedWithoutOwnerPassword state.\r\n       */\r\n      public void setModificationAllowedWithoutOwnerPassword(\r\n        boolean modificationAllowedWithoutOwnerPassword) {\r\n        this.modificationAllowedWithoutOwnerPassword = modificationAllowedWithoutOwnerPassword;\r\n      }\r\n\r\nCode Example:\r\n\r\n    PdfReader reader = new PdfReader(byteArray);\r\n    reader.setModificationAllowedWithoutOwnerPassword(true);\t\t\r\n    \r\n    reader.addViewerPreference(PdfName.HIDE, PdfBoolean.PDFFALSE);\r\n    reader.addViewerPreference(PdfName.HIDEWINDOWUI,PdfBoolean.PDFFALSE);\r\n    \t\t\r\n    // encrypt e sai para byte array\r\n    ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    PdfEncryptor.encrypt(reader, os, null, null, permissions, true);\r\n    reader.close();\r\n\r\nSource: https://github.com/LibrePDF/OpenPDF/pull/84","title":"iText - read PDFs created with an unknown random owner password","body":"<p>For OpenPDF there's a property on PdfReader that does the magic:</p>\n<pre><code>/**\n   * Sets whether the document (if encrypted) may be modified even if the owner password was not\n   * supplied. If this is set to &lt;CODE&gt;false&lt;/CODE&gt; an exception will be thrown when attempting to\n   * access the Document if the owner password was not supplied (for encrypted documents.)\n   *\n   * @param modificationAllowedWithoutOwnerPassword\n   *         the modificationAllowedWithoutOwnerPassword state.\n   */\n  public void setModificationAllowedWithoutOwnerPassword(\n    boolean modificationAllowedWithoutOwnerPassword) {\n    this.modificationAllowedWithoutOwnerPassword = modificationAllowedWithoutOwnerPassword;\n  }\n</code></pre>\n<p>Code Example:</p>\n<pre><code>PdfReader reader = new PdfReader(byteArray);\nreader.setModificationAllowedWithoutOwnerPassword(true);        \n\nreader.addViewerPreference(PdfName.HIDE, PdfBoolean.PDFFALSE);\nreader.addViewerPreference(PdfName.HIDEWINDOWUI,PdfBoolean.PDFFALSE);\n        \n// encrypt e sai para byte array\nByteArrayOutputStream os = new ByteArrayOutputStream();\nPdfEncryptor.encrypt(reader, os, null, null, permissions, true);\nreader.close();\n</code></pre>\n<p>Source: <a href=\"https://github.com/LibrePDF/OpenPDF/pull/84\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF/pull/84</a></p>\n"}],"owner":{"account_id":5225325,"reputation":1053,"user_id":4177544,"display_name":"0x44656E6E79"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4506,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36176562,"answer_count":2,"score":2,"last_activity_date":1701796087,"creation_date":1458730717,"question_id":36176286,"body_markdown":"I&#39;m getting the following exception when excecuting this code:\r\n\r\n    public byte[] watermarking(byte[] orig) throws IOException {\r\n            PdfReader pdfReader = new PdfReader(orig);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            PdfStamper pdfStamper = null;\r\n    \r\n            try {\r\n                pdfStamper = new PdfStamper(pdfReader, baos); //exc here\r\n                ...\r\n                }\r\n                ...\r\n            } catch (DocumentException var8) {\r\n                ...\r\n            }\r\n        }\r\n\r\nException:\r\n\r\n    11:43:11,094 ERROR [de.mlp.xbg.pa.rest.SessionRR] (http-/127.0.0.1:8081-6) PdfReader not opened with owner password: java.lang.IllegalArgumentException: PdfReader not opened with owner password\r\n\t\r\nI checked other threads regarding this topic and it seems that the easiest solution is to add `PdfReader.unethicalreading = true;`\r\n\r\nHowever, I&#39;m forced to use iText 2.1.7 or older _(`com.lowagie` iText)_ and not iText 5.0.0 or newer _(`com.itextpdf` iText)_. `PdfReader.unethicalreading` does not exist in the old version of the library.","title":"iText - read PDFs created with an unknown random owner password","body":"<p>I'm getting the following exception when excecuting this code:</p>\n\n<pre><code>public byte[] watermarking(byte[] orig) throws IOException {\n        PdfReader pdfReader = new PdfReader(orig);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        PdfStamper pdfStamper = null;\n\n        try {\n            pdfStamper = new PdfStamper(pdfReader, baos); //exc here\n            ...\n            }\n            ...\n        } catch (DocumentException var8) {\n            ...\n        }\n    }\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>11:43:11,094 ERROR [de.mlp.xbg.pa.rest.SessionRR] (http-/127.0.0.1:8081-6) PdfReader not opened with owner password: java.lang.IllegalArgumentException: PdfReader not opened with owner password\n</code></pre>\n\n<p>I checked other threads regarding this topic and it seems that the easiest solution is to add <code>PdfReader.unethicalreading = true;</code></p>\n\n<p>However, I'm forced to use iText 2.1.7 or older <em>(<code>com.lowagie</code> iText)</em> and not iText 5.0.0 or newer <em>(<code>com.itextpdf</code> iText)</em>. <code>PdfReader.unethicalreading</code> does not exist in the old version of the library.</p>\n"},{"tags":["java","json","spring-boot","rest","postman"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1629547678,"post_id":68872083,"comment_id":121718155,"body_markdown":"Did you try this? https://github.com/postmanlabs/postman-app-support/issues/3331#issuecomment-399971725","body":"Did you try this? <a href=\"https://github.com/postmanlabs/postman-app-support/issues/3331#issuecomment-399971725\" rel=\"nofollow noreferrer\">github.com/postmanlabs/postman-app-support/issues/&hellip;</a>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629549708,"post_id":68872083,"comment_id":121718557,"body_markdown":"I created a json file for the second json data (repairStatus) and now I am getting the error **400 Bad Request.** In the console of intellij I get the error **Field error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: rejected value.....blah ...blah...blah..........no matching editors or conversion strategy found**","body":"I created a json file for the second json data (repairStatus) and now I am getting the error <b>400 Bad Request.</b> In the console of intellij I get the error <b>Field error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: rejected value.....blah ...blah...blah..........no matching editors or conversion strategy found</b>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1639716777,"post_id":68872083,"comment_id":124425275,"body_markdown":"If anyone else is looking for solution, none of the suggested ideas worked for me. But I manage to solve my problem by breaking down the requests into two parts. First I send the multipart file and in the next request I send the nested json part and it is working fine now.","body":"If anyone else is looking for solution, none of the suggested ideas worked for me. But I manage to solve my problem by breaking down the requests into two parts. First I send the multipart file and in the next request I send the nested json part and it is working fine now."}],"answers":[{"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629549291,"creation_date":1629549291,"answer_id":68873064,"question_id":68872083,"body_markdown":"Your first approach is correct. However to pass the most complicated data it will be a nightmare to do from that location. If passing data from postman is the requirement then you can use the pre-request script in the postman. Below is the example:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor pre-req, I have kept a basic js object.\r\n[![enter image description here][2]][2]\r\n\r\nTry with this feature.\r\n\r\n  [1]: https://i.stack.imgur.com/G99sv.png\r\n  [2]: https://i.stack.imgur.com/YJt6H.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>Your first approach is correct. However to pass the most complicated data it will be a nightmare to do from that location. If passing data from postman is the requirement then you can use the pre-request script in the postman. Below is the example:-</p>\n<p><a href=\"https://i.stack.imgur.com/G99sv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G99sv.png\" alt=\"enter image description here\" /></a></p>\n<p>For pre-req, I have kept a basic js object.\n<a href=\"https://i.stack.imgur.com/YJt6H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJt6H.png\" alt=\"enter image description here\" /></a></p>\n<p>Try with this feature.</p>\n"},{"tags":[],"owner":{"account_id":20886890,"reputation":1,"user_id":15343280,"display_name":"Ahmed Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639697000,"creation_date":1639697000,"answer_id":70386757,"question_id":68872083,"body_markdown":"I followed the above answer and it worked for me.\r\n\r\nStep 1: set json data value in pre-request Script.\r\n\r\n    var data = {    \r\n    name:&quot;COD Black Ops&quot;,\r\n    cost:60,\r\n    }\r\n    pm.variables.set(&quot;somedata&quot;,JSON.stringify(data));\r\n\r\nStep 2: set form values. \r\n        enable content type option from (...) like button next to description column in order to set the value of your json field as &quot;application/json&quot;. \r\n \r\nStep 3: express code for handling form data\r\n\r\n    const multer  = require(&#39;multer&#39;)\r\n    const upload = multer(&lt;options&gt;)\r\n    app.post(&#39;/stats&#39;, upload.single(&#39;uploaded_file&#39;), function (req, res) {\r\n      // req.file is the name of your file in the form above, here &#39;uploaded_file&#39;\r\n      // req.body will hold the text fields, if there were any \r\n    console.log(req.file, req.body)\r\n    });","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>I followed the above answer and it worked for me.</p>\n<p>Step 1: set json data value in pre-request Script.</p>\n<pre><code>var data = {    \nname:&quot;COD Black Ops&quot;,\ncost:60,\n}\npm.variables.set(&quot;somedata&quot;,JSON.stringify(data));\n</code></pre>\n<p>Step 2: set form values.\nenable content type option from (...) like button next to description column in order to set the value of your json field as &quot;application/json&quot;.</p>\n<p>Step 3: express code for handling form data</p>\n<pre><code>const multer  = require('multer')\nconst upload = multer(&lt;options&gt;)\napp.post('/stats', upload.single('uploaded_file'), function (req, res) {\n  // req.file is the name of your file in the form above, here 'uploaded_file'\n  // req.body will hold the text fields, if there were any \nconsole.log(req.file, req.body)\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14736642,"reputation":21,"user_id":11805031,"display_name":"Alaa ma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701795976,"creation_date":1701795976,"answer_id":77608015,"question_id":68872083,"body_markdown":"(2023) a simple way after a while !\r\nto send nested json and a file in form-data:\r\n     \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/79yZX.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>(2023) a simple way after a while !\nto send nested json and a file in form-data:</p>\n<p><a href=\"https://i.stack.imgur.com/79yZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/79yZX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15058,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1701795976,"creation_date":1629540960,"question_id":68872083,"body_markdown":"I have a REST api that takes data of nested json including multipart file\r\n\r\nWhile testing the REST api through postman I am having problems.\r\n\r\nI don&#39;t exactly know how to send the diverse types of data that I need - multipart/form-data file and nested json.\r\n\r\nI have used REST in each case separately in other projects but I am unable to combine them in one request.\r\n\r\nTo use multipart/form-data I have to select form-data in the Body, then File from the dropdown in the key field, click on the select files button on the value field and select the file I want to upload.\r\n\r\n\r\n[![Adding file in form-data][1]][1]\r\n\r\nTo use nested json I have to select raw in the dropdown, and select json at the right of it and simply add the nested json in the body.\r\n\r\n [![adding json data][2]][2]\r\n\r\nBut how do I combine these two approaches?\r\n\r\nI need multipart/form-data as well as nested json in the same request. How do I send these from postman? I am trying various approaches as you can see in the screenshots but I am not getting anywhere.\r\n\r\nThanks in advance\r\n\r\n\r\nP.S. If it matters, I am using java (spring boot) for the backend.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cz857.png\r\n  [2]: https://i.stack.imgur.com/9XjGu.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>I have a REST api that takes data of nested json including multipart file</p>\n<p>While testing the REST api through postman I am having problems.</p>\n<p>I don't exactly know how to send the diverse types of data that I need - multipart/form-data file and nested json.</p>\n<p>I have used REST in each case separately in other projects but I am unable to combine them in one request.</p>\n<p>To use multipart/form-data I have to select form-data in the Body, then File from the dropdown in the key field, click on the select files button on the value field and select the file I want to upload.</p>\n<p><a href=\"https://i.stack.imgur.com/cz857.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cz857.png\" alt=\"Adding file in form-data\" /></a></p>\n<p>To use nested json I have to select raw in the dropdown, and select json at the right of it and simply add the nested json in the body.</p>\n<p><a href=\"https://i.stack.imgur.com/9XjGu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9XjGu.png\" alt=\"adding json data\" /></a></p>\n<p>But how do I combine these two approaches?</p>\n<p>I need multipart/form-data as well as nested json in the same request. How do I send these from postman? I am trying various approaches as you can see in the screenshots but I am not getting anywhere.</p>\n<p>Thanks in advance</p>\n<p>P.S. If it matters, I am using java (spring boot) for the backend.</p>\n"},{"tags":["java","spring","spring-boot","rest","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701766151,"creation_date":1701710051,"answer_id":77601336,"question_id":77601142,"body_markdown":"I think you&#39;d need to use `JsonNode` to represent the value since that can represent any value (number, string, array or object)\r\n\r\n```\r\npublic class RelationWrapper {\r\n   private String id;\r\n   private JsonNode relation;\r\n\r\n   // getters &amp; setters\r\n}\r\n\r\npublic class Relation {\r\n   private String id;\r\n   private String url;\r\n\r\n   // getters &amp; setters\r\n}\r\n```\r\n\r\n```\r\npublic class MyService {\r\n   private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n   public void doStuffWithJson(String json) {\r\n      RelationWrapper wrapper = objectMapper.readValue(json, RelationWrapper.class);\r\n      JsonNode relation = wrapper.getRelation();\r\n      Relation[] relations;\r\n      if (relation.isNull()) {\r\n         relations = null;\r\n      } else if (relation.isArray()) {\r\n         objectMapper.treeToValue(relation, Relation[].class);\r\n      } else {\r\n         relations = new Relation[] { objectMapper.treeToValue(relation, Relation.class) };\r\n      }\r\n      doStuff(wrapper, relations);\r\n   }\r\n}\r\n```\r\n\r\nSee\r\n\r\n - [ObjectMapper.valueToTree(Object)](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree(java.lang.Object))\r\n- [ObjectMapper.treeToValue(TreeNode, Class)](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue(com.fasterxml.jackson.core.TreeNode,%20java.lang.Class))\r\n- [JsonNode](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html)","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>I think you'd need to use <code>JsonNode</code> to represent the value since that can represent any value (number, string, array or object)</p>\n<pre><code>public class RelationWrapper {\n   private String id;\n   private JsonNode relation;\n\n   // getters &amp; setters\n}\n\npublic class Relation {\n   private String id;\n   private String url;\n\n   // getters &amp; setters\n}\n</code></pre>\n<pre><code>public class MyService {\n   private final ObjectMapper objectMapper = new ObjectMapper();\n\n   public void doStuffWithJson(String json) {\n      RelationWrapper wrapper = objectMapper.readValue(json, RelationWrapper.class);\n      JsonNode relation = wrapper.getRelation();\n      Relation[] relations;\n      if (relation.isNull()) {\n         relations = null;\n      } else if (relation.isArray()) {\n         objectMapper.treeToValue(relation, Relation[].class);\n      } else {\n         relations = new Relation[] { objectMapper.treeToValue(relation, Relation.class) };\n      }\n      doStuff(wrapper, relations);\n   }\n}\n</code></pre>\n<p>See</p>\n<ul>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree(java.lang.Object)\" rel=\"nofollow noreferrer\">ObjectMapper.valueToTree(Object)</a></li>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue(com.fasterxml.jackson.core.TreeNode,%20java.lang.Class)\" rel=\"nofollow noreferrer\">ObjectMapper.treeToValue(TreeNode, Class)</a></li>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">JsonNode</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24286937,"reputation":1,"user_id":18232571,"display_name":"olson1998"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701715692,"creation_date":1701715692,"answer_id":77601894,"question_id":77601142,"body_markdown":"You should write custom std deserializer, First of all modify your wrappers to handle both \r\n\r\n \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class RelationContainer {\r\n      \r\n      private Relation relation;\r\n      private List&lt;Relation&gt; relations;\r\n    }\r\n\r\nThen Create custom std deserializer:\r\n\r\n    public class RelationStdDeserializer extends StdDeserializer&lt;RelationContainer&gt; {\r\n      \r\n      public RelationStdDeserializer() {\r\n        super(RelationContainer.class);\r\n      }\r\n    \r\n      @Override\r\n      public RelationContainer deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        var objectCodec = jsonParser.getCodec();\r\n        var jsonTree = objectCodec.readTree(jsonParser);\r\n        if(jsonTree instanceof NullNode){\r\n          return null;\r\n        } else if (jsonTree instanceof ObjectNode objectNode) {\r\n          var relationNode = objectNode.get(&quot;relations&quot;);\r\n          if(relationNode instanceof NullNode){\r\n            return new RelationContainer(null, null);\r\n          } else if (relationNode instanceof ObjectNode jsonObject) {\r\n            var relation = traverseNode(jsonObject, objectCodec, new TypeReference&lt;Relation&gt;() {\r\n            });\r\n            return new RelationContainer(relation, null);\r\n          } else if (relationNode instanceof ArrayNode arrayObject) {\r\n            var relations = traverseNode(arrayObject, objectCodec, new TypeReference&lt;List&lt;Relation&gt;&gt;() {\r\n            });\r\n            return new RelationContainer(null, relations);\r\n          }\r\n        }\r\n        throw new IOException(&quot;Failed to read relations&quot;);\r\n      }\r\n      \r\n      private &lt;T&gt; T traverseNode(JsonNode jsonNode, ObjectCodec objectCodec, TypeReference&lt;T&gt; typeReference) throws IOException {\r\n        try(var jsonParser = jsonNode.traverse(objectCodec)){\r\n          return objectCodec.readValue(jsonParser, typeReference);\r\n        }\r\n      }\r\n    }\r\n\r\nFinally register deserializer in object mapper bean:\r\n\r\n      @Bean\r\n      public ObjectMapper objectMapper(){\r\n        var objectMapper = new ObjectMapper();\r\n        var relationModule = new SimpleModule();\r\n        relationModule.addDeserializer(RelationContainer.class, new RelationStdDeserializer());\r\n        return objectMapper;\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>You should write custom std deserializer, First of all modify your wrappers to handle both</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RelationContainer {\n  \n  private Relation relation;\n  private List&lt;Relation&gt; relations;\n}\n</code></pre>\n<p>Then Create custom std deserializer:</p>\n<pre><code>public class RelationStdDeserializer extends StdDeserializer&lt;RelationContainer&gt; {\n  \n  public RelationStdDeserializer() {\n    super(RelationContainer.class);\n  }\n\n  @Override\n  public RelationContainer deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n    var objectCodec = jsonParser.getCodec();\n    var jsonTree = objectCodec.readTree(jsonParser);\n    if(jsonTree instanceof NullNode){\n      return null;\n    } else if (jsonTree instanceof ObjectNode objectNode) {\n      var relationNode = objectNode.get(&quot;relations&quot;);\n      if(relationNode instanceof NullNode){\n        return new RelationContainer(null, null);\n      } else if (relationNode instanceof ObjectNode jsonObject) {\n        var relation = traverseNode(jsonObject, objectCodec, new TypeReference&lt;Relation&gt;() {\n        });\n        return new RelationContainer(relation, null);\n      } else if (relationNode instanceof ArrayNode arrayObject) {\n        var relations = traverseNode(arrayObject, objectCodec, new TypeReference&lt;List&lt;Relation&gt;&gt;() {\n        });\n        return new RelationContainer(null, relations);\n      }\n    }\n    throw new IOException(&quot;Failed to read relations&quot;);\n  }\n  \n  private &lt;T&gt; T traverseNode(JsonNode jsonNode, ObjectCodec objectCodec, TypeReference&lt;T&gt; typeReference) throws IOException {\n    try(var jsonParser = jsonNode.traverse(objectCodec)){\n      return objectCodec.readValue(jsonParser, typeReference);\n    }\n  }\n}\n</code></pre>\n<p>Finally register deserializer in object mapper bean:</p>\n<pre><code>  @Bean\n  public ObjectMapper objectMapper(){\n    var objectMapper = new ObjectMapper();\n    var relationModule = new SimpleModule();\n    relationModule.addDeserializer(RelationContainer.class, new RelationStdDeserializer());\n    return objectMapper;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719365,"creation_date":1701719025,"answer_id":77602173,"question_id":77601142,"body_markdown":"The issue you&#39;re facing is a common one when dealing with JSON data in Java, especially when the structure of the JSON is not consistent. In your case, the &quot;Relation&quot; field can either be a JSON array or a single JSON object. This inconsistency poses a challenge for deserialization.\r\n\r\nYour current approach, using Jackson&#39;s `@JsonProperty` annotation, is on the right track, but it needs to be adapted to handle the variability in the JSON structure. Here&#39;s a state-of-the-art approach to handle this situation:\r\n\r\nFirst) **Type Reference with Generics:** You can use Jackson&#39;s TypeReference with generics to handle this. For example, you could try deserializing to List&lt;Relation&gt; and if it fails (due to a `JsonProcessingException`), try again with just Relation.\r\n\r\nThen) **Optional Wrappers:** In some cases, using Java&#39;s Optional class as a wrapper around your object might help in handling the nullability and presence of the JSON fields.\r\n\r\n### Step 1: Create the Wrapper Class\r\n\r\n```Java\r\npublic class RelationWrapper {\r\n\r\n    private Optional&lt;List&lt;Relation&gt;&gt; relationsList;\r\n    private Optional&lt;Relation&gt; singleRelation;\r\n\r\n    public RelationWrapper(List&lt;Relation&gt; relationsList) {\r\n        this.relationsList = Optional.ofNullable(relationsList);\r\n        this.singleRelation = Optional.empty();\r\n    }\r\n\r\n    public RelationWrapper(Relation singleRelation) {\r\n        this.singleRelation = Optional.ofNullable(singleRelation);\r\n        this.relationsList = Optional.empty();\r\n    }\r\n\r\n    // Getters\r\n    // Setter\r\n}\r\n```\r\n\r\n### Step 2: Implement Custom Deserializer\r\n\r\n```Java\r\npublic class RelationDeserializer extends JsonDeserializer&lt;RelationWrapper&gt; {\r\n    \r\n    @Override\r\n    public RelationWrapper deserialize(JsonParser jsonParser, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n        try {\r\n            // Attempt to deserialize as List&lt;Relation&gt;\r\n            List&lt;Relation&gt; relations = jsonParser.getCodec().treeToValue(node, new TypeReference&lt;List&lt;Relation&gt;&gt;() {});\r\n            return new RelationWrapper(relations);\r\n\r\n        } catch (JsonProcessingException e) {\r\n            // If it fails, deserialize as a single Relation object\r\n            Relation relation = jsonParser.getCodec().treeToValue(node, Relation.class);\r\n            return new RelationWrapper(relation);\r\n        }\r\n    }\r\n}\r\n```\r\n### Final step: Using the Custom Deserializer\r\n\r\nFinally, you need to tell Jackson to use this custom deserializer when deserializing the Relation field. You can do this by annotating the Relation field in your MainClass with `@JsonDeserialize`:\r\n\r\n```Java\r\n\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class MainClass {\r\n\r\n    @JsonDeserialize(using = RelationDeserializer.class)\r\n    @JsonProperty(&quot;Relation&quot;)\r\n    private RelationWrapper relation;\r\n\r\n    // Constructor, getters, and setters\r\n    public MainClass(RelationWrapper relation) {\r\n        this.relation = relation;\r\n    }\r\n\r\n    public RelationWrapper getRelation() {\r\n        return relation;\r\n    }\r\n}\r\n```\r\n\r\nThis solution provides a flexible and elegant way to deserialize JSON where the structure of a specific field can vary. The Optional wrappers in RelationWrapper make it clear and easy to check whether you have a list of relations or a single relation.\r\n\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>The issue you're facing is a common one when dealing with JSON data in Java, especially when the structure of the JSON is not consistent. In your case, the &quot;Relation&quot; field can either be a JSON array or a single JSON object. This inconsistency poses a challenge for deserialization.</p>\n<p>Your current approach, using Jackson's <code>@JsonProperty</code> annotation, is on the right track, but it needs to be adapted to handle the variability in the JSON structure. Here's a state-of-the-art approach to handle this situation:</p>\n<p>First) <strong>Type Reference with Generics:</strong> You can use Jackson's TypeReference with generics to handle this. For example, you could try deserializing to List and if it fails (due to a <code>JsonProcessingException</code>), try again with just Relation.</p>\n<p>Then) <strong>Optional Wrappers:</strong> In some cases, using Java's Optional class as a wrapper around your object might help in handling the nullability and presence of the JSON fields.</p>\n<h3>Step 1: Create the Wrapper Class</h3>\n<pre><code>public class RelationWrapper {\n\n    private Optional&lt;List&lt;Relation&gt;&gt; relationsList;\n    private Optional&lt;Relation&gt; singleRelation;\n\n    public RelationWrapper(List&lt;Relation&gt; relationsList) {\n        this.relationsList = Optional.ofNullable(relationsList);\n        this.singleRelation = Optional.empty();\n    }\n\n    public RelationWrapper(Relation singleRelation) {\n        this.singleRelation = Optional.ofNullable(singleRelation);\n        this.relationsList = Optional.empty();\n    }\n\n    // Getters\n    // Setter\n}\n</code></pre>\n<h3>Step 2: Implement Custom Deserializer</h3>\n<pre><code>public class RelationDeserializer extends JsonDeserializer&lt;RelationWrapper&gt; {\n    \n    @Override\n    public RelationWrapper deserialize(JsonParser jsonParser, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n        try {\n            // Attempt to deserialize as List&lt;Relation&gt;\n            List&lt;Relation&gt; relations = jsonParser.getCodec().treeToValue(node, new TypeReference&lt;List&lt;Relation&gt;&gt;() {});\n            return new RelationWrapper(relations);\n\n        } catch (JsonProcessingException e) {\n            // If it fails, deserialize as a single Relation object\n            Relation relation = jsonParser.getCodec().treeToValue(node, Relation.class);\n            return new RelationWrapper(relation);\n        }\n    }\n}\n</code></pre>\n<h3>Final step: Using the Custom Deserializer</h3>\n<p>Finally, you need to tell Jackson to use this custom deserializer when deserializing the Relation field. You can do this by annotating the Relation field in your MainClass with <code>@JsonDeserialize</code>:</p>\n<pre><code>\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class MainClass {\n\n    @JsonDeserialize(using = RelationDeserializer.class)\n    @JsonProperty(&quot;Relation&quot;)\n    private RelationWrapper relation;\n\n    // Constructor, getters, and setters\n    public MainClass(RelationWrapper relation) {\n        this.relation = relation;\n    }\n\n    public RelationWrapper getRelation() {\n        return relation;\n    }\n}\n</code></pre>\n<p>This solution provides a flexible and elegant way to deserialize JSON where the structure of a specific field can vary. The Optional wrappers in RelationWrapper make it clear and easy to check whether you have a list of relations or a single relation.</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701795893,"creation_date":1701766706,"answer_id":77604921,"question_id":77601142,"body_markdown":"Another option is to provide two setters for the property.\r\n\r\n```java\r\npublic class RelationWrapper\r\n   private String id;\r\n   private List&lt;Relation&gt; relation;\r\n\r\n   public void setRelation(Relation relation) {\r\n      this.relation = relation == null ? null : List.of(relation);\r\n   }\r\n\r\n   public void setRelation(List&lt;Relation&gt; relation) {\r\n      this.relation = relation;\r\n   }\r\n\r\n   public List&lt;Relation&gt; getRelation() {\r\n      return relation;\r\n   }\r\n}\r\n```\r\n\r\nThis could also be done with two constructors\r\n\r\n```java\r\npublic class RelationWrapper\r\n   private final String id;\r\n   private final List&lt;Relation&gt; relation;\r\n\r\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\r\n   public RelationWrapper(String id, List&lt;Relation&gt; relation) {\r\n      this.id = id;\r\n      this.relation = relation;\r\n   }\r\n\r\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\r\n   public RelationWrapper(String id, Relation relation) {\r\n      this.id = id;\r\n      this.relation = relation == null ? null : List.of(relation);\r\n   }\r\n\r\n   // getters\r\n}\r\n```\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>Another option is to provide two setters for the property.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RelationWrapper\n   private String id;\n   private List&lt;Relation&gt; relation;\n\n   public void setRelation(Relation relation) {\n      this.relation = relation == null ? null : List.of(relation);\n   }\n\n   public void setRelation(List&lt;Relation&gt; relation) {\n      this.relation = relation;\n   }\n\n   public List&lt;Relation&gt; getRelation() {\n      return relation;\n   }\n}\n</code></pre>\n<p>This could also be done with two constructors</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RelationWrapper\n   private final String id;\n   private final List&lt;Relation&gt; relation;\n\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\n   public RelationWrapper(String id, List&lt;Relation&gt; relation) {\n      this.id = id;\n      this.relation = relation;\n   }\n\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\n   public RelationWrapper(String id, Relation relation) {\n      this.id = id;\n      this.relation = relation == null ? null : List.of(relation);\n   }\n\n   // getters\n}\n</code></pre>\n"}],"owner":{"account_id":23953085,"reputation":93,"user_id":19083408,"display_name":"RedBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77604921,"answer_count":4,"score":1,"last_activity_date":1701795893,"creation_date":1701708249,"question_id":77601142,"body_markdown":"I create sample class and response to deserialized but this is same issue that need to be fix. The response can either be Array with Object or `just an Object`.\r\nNeed to deserialized dynamically\r\n\r\n\r\nClass\r\n```\r\npublic record  MainClass(\r\n  //the response can either be array or not array\r\n  @JsonProperty(&quot;Relation&quot;) List&lt;Relation&gt; relation\r\n){\r\n\r\n \r\n}\r\n\r\n\r\npublic record  Relation(\r\n   String relation,\r\n   String Id,\r\n){\r\n\r\n \r\n}\r\n```\r\n\r\nDeserialize when if response is array `Working`\r\n\r\nResponse\r\n```\r\n{\r\n &quot;Relation&quot;: [\r\n          {\r\n            &quot;url&quot;: &quot;https://sample.com&quot;,\r\n            &quot;Id&quot;: &quot;77&quot;\r\n          }\r\n        ]\r\n\t\t\r\n}\r\n```\r\n\r\nDeserialize when if response NOT array\r\n`This need to be fix`\r\n\r\nResponse\r\n```\r\n{\r\n &quot;Relation&quot;:{\r\n            &quot;url&quot;: &quot;https://sample.com&quot;,\r\n            &quot;Id&quot;: &quot;77&quot;\r\n          }\r\n        \r\n\t\t\r\n}\r\n```","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>I create sample class and response to deserialized but this is same issue that need to be fix. The response can either be Array with Object or <code>just an Object</code>.\nNeed to deserialized dynamically</p>\n<p>Class</p>\n<pre><code>public record  MainClass(\n  //the response can either be array or not array\n  @JsonProperty(&quot;Relation&quot;) List&lt;Relation&gt; relation\n){\n\n \n}\n\n\npublic record  Relation(\n   String relation,\n   String Id,\n){\n\n \n}\n</code></pre>\n<p>Deserialize when if response is array <code>Working</code></p>\n<p>Response</p>\n<pre><code>{\n &quot;Relation&quot;: [\n          {\n            &quot;url&quot;: &quot;https://sample.com&quot;,\n            &quot;Id&quot;: &quot;77&quot;\n          }\n        ]\n        \n}\n</code></pre>\n<p>Deserialize when if response NOT array\n<code>This need to be fix</code></p>\n<p>Response</p>\n<pre><code>{\n &quot;Relation&quot;:{\n            &quot;url&quot;: &quot;https://sample.com&quot;,\n            &quot;Id&quot;: &quot;77&quot;\n          }\n        \n        \n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","morphia"],"owner":{"account_id":13978411,"reputation":1,"user_id":10095254,"display_name":"Dheerendra Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701795878,"creation_date":1701795878,"question_id":77608005,"body_markdown":"We are facing one issue with upgrading morphia from \r\n            \r\n```\r\n            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n\r\n            to \r\n\r\n            &lt;groupId&gt;dev.morphia.morphia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;morphia-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n```\r\n\r\nThe issue is that in the new morphia we have one param _t which is termed as discriminator and using this morphia is able to deserialize any mongo object to java object. \r\n\r\n\r\nNow in my scenario we are having one class which is being inharited by multiple other classess. (An abstract class can also be used here). The issue is that earlier we used to have custom JsonDeserializer which are not working with the current version of morphia.\r\nAnd since there is so huge data in our database we don&#39;t want to do a backfill. \r\nIs there a way of writing some custom JsonDeserializer so that older data can be read using new morphia.\r\n\r\nAlso there is one more problem. When I&#39;m trying to call this controller (Since now custom JsonDeserializer doesn&#39;t work with morphia I&#39;ve removed them) the object gets converted to parant class due to which we are losing some data. Ideally we should recieve the object of child class.\r\n\r\n\r\nAn example of my case is:\r\n\r\n```\r\n    public enum AnimalType {\r\n    DOG,\r\n    CAT\r\n    }\r\n```\r\n\r\n```\r\n    public class Animal {\r\n    private String name;\r\n    private AnimalType animalType;\r\n\r\n    // getters and setters\r\n\r\n    // Default constructor for Jackson\r\n    public Animal() {\r\n    }\r\n    }\r\n```\r\n\r\n\r\n```\r\n    public static class Cat extends Animal {\r\n    private boolean meow;\r\n\r\n    // Default constructor for Jackson\r\n    public Cat() {\r\n    }\r\n\r\n    // getters and setters\r\n    }\r\n```\r\n\r\n```\r\n    public static class Dog extends Animal {\r\n    private boolean bark;\r\n\r\n    // Default constructor for Jackson\r\n    public Dog() {\r\n    }\r\n\r\n    // getters and setters\r\n    }\r\n```\r\n\r\n\r\nNow If I send object of Dog from api its param bark gets lost.\r\nAlso morphia is able to read all the data for all the newly created documents;\r\n\r\n```\r\n    {\r\n\t&quot;_t&quot;: &quot;Cat&quot;\r\n    &quot;name&quot;: &quot;Fluffy&quot;,\r\n    &quot;animalType&quot;: &quot;CAT&quot;,\r\n    &quot;meow&quot;: true\r\n    }\r\n```\r\n\r\nI&#39;m expecting that my Dao layer should be able to read all the data new and old which is already there in DB. Also while making an api call to my service object recieved in my class should be correctly deserialized.","title":"Serialization issue with Morphia 2.3.0 (Morphia upgrade from 1.3.2)","body":"<p>We are facing one issue with upgrading morphia from</p>\n<pre><code>            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n\n            to \n\n            &lt;groupId&gt;dev.morphia.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n</code></pre>\n<p>The issue is that in the new morphia we have one param _t which is termed as discriminator and using this morphia is able to deserialize any mongo object to java object.</p>\n<p>Now in my scenario we are having one class which is being inharited by multiple other classess. (An abstract class can also be used here). The issue is that earlier we used to have custom JsonDeserializer which are not working with the current version of morphia.\nAnd since there is so huge data in our database we don't want to do a backfill.\nIs there a way of writing some custom JsonDeserializer so that older data can be read using new morphia.</p>\n<p>Also there is one more problem. When I'm trying to call this controller (Since now custom JsonDeserializer doesn't work with morphia I've removed them) the object gets converted to parant class due to which we are losing some data. Ideally we should recieve the object of child class.</p>\n<p>An example of my case is:</p>\n<pre><code>    public enum AnimalType {\n    DOG,\n    CAT\n    }\n</code></pre>\n<pre><code>    public class Animal {\n    private String name;\n    private AnimalType animalType;\n\n    // getters and setters\n\n    // Default constructor for Jackson\n    public Animal() {\n    }\n    }\n</code></pre>\n<pre><code>    public static class Cat extends Animal {\n    private boolean meow;\n\n    // Default constructor for Jackson\n    public Cat() {\n    }\n\n    // getters and setters\n    }\n</code></pre>\n<pre><code>    public static class Dog extends Animal {\n    private boolean bark;\n\n    // Default constructor for Jackson\n    public Dog() {\n    }\n\n    // getters and setters\n    }\n</code></pre>\n<p>Now If I send object of Dog from api its param bark gets lost.\nAlso morphia is able to read all the data for all the newly created documents;</p>\n<pre><code>    {\n    &quot;_t&quot;: &quot;Cat&quot;\n    &quot;name&quot;: &quot;Fluffy&quot;,\n    &quot;animalType&quot;: &quot;CAT&quot;,\n    &quot;meow&quot;: true\n    }\n</code></pre>\n<p>I'm expecting that my Dao layer should be able to read all the data new and old which is already there in DB. Also while making an api call to my service object recieved in my class should be correctly deserialized.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1701801090,"post_id":77607978,"comment_id":136819563,"body_markdown":"If you&#39;re not allowed to use methods you can&#39;t write a program. `main` is a method.","body":"If you&#39;re not allowed to use methods you can&#39;t write a program. <code>main</code> is a method."}],"owner":{"account_id":29699435,"reputation":1,"user_id":22761946,"display_name":"Cheryl"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701801117,"answer_count":0,"score":-4,"last_activity_date":1701795827,"creation_date":1701795574,"question_id":77607978,"body_markdown":"The program is supposed to:\r\n\r\n* Generate a new cipher text each time the program is run\r\n* Reverse the words in the code sentence \r\n* If the word in plaintext is today and the corresponding letters in the cipher are xoctr, write the word as xcrot, i.e. put all the even indexed letters at the start of the word\r\n\r\nIm not allowed to use array, stringbuilder and methods\r\n\r\n\r\nMy decryption code only works for 5 letter words. Can anyone help?\r\n\r\n```\r\npackage Project;\r\n\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Q2 {\r\n    public static void main(String[] args) {\r\n        String pText = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        String cText = &quot;&quot;, sentence, encrypted = &quot;&quot;, reversed = &quot;&quot;, decrypted = &quot;&quot;;\r\n        char ans;\r\n        int length;\r\n        boolean valid = false;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        Random random = new Random();\r\n\r\n        // generating a new cText each time the program is run\r\n        for (int i = 0; i &lt; 26; i++) {\r\n            char rdAplhabet;\r\n\r\n            do {\r\n                // if condition returns -1, it means the letter isnt in the String\r\n                // then adds the randomly generated letter into cText\r\n                rdAplhabet = (char) (&#39;a&#39; + random.nextInt(26));\r\n            } while (cText.indexOf(rdAplhabet) != -1);\r\n\r\n            cText += rdAplhabet;\r\n        }\r\n\r\n        System.out.println(&quot;Plain text: &quot; + pText);\r\n        System.out.println(&quot;Cipher text: &quot; + cText); // output this for decrypt only\r\n        // ask if user wants to encrypt or decrypt sentence\r\n        do {\r\n            System.out.print(&quot;\\nEncrypt or decrypt? (Enter E/D): &quot;);\r\n            ans = scanner.next().charAt(0);\r\n            ans = Character.toUpperCase(ans);\r\n            scanner.nextLine();\r\n\r\n            // validate user input\r\n            if (!(ans == &#39;E&#39; || ans == &#39;D&#39;)) {\r\n                System.out.println(&quot;Invalid input. Try again.&quot;);\r\n            } else {\r\n                valid = true;\r\n            }\r\n        } while (valid == false);\r\n\r\n        // if user wants to encrypt\r\n        if (ans == &#39;E&#39;) {\r\n            System.out.print(&quot;Enter a sentence to encrypt: &quot;);\r\n            sentence = scanner.nextLine();\r\n            length = sentence.length();\r\n\r\n            for (int i = 0; i &lt; length; i++) {\r\n                // test if there is a non-letter input (space, @!#$, etc)\r\n                if (pText.indexOf(sentence.charAt(i)) == -1) {\r\n                    encrypted += sentence.charAt(i);\r\n                } else {\r\n                    // convert the letters into encrypted sentence\r\n                    char letters = cText.charAt(pText.indexOf(sentence.charAt(i)));\r\n                    encrypted += letters;\r\n                }\r\n            }\r\n\r\n            int start = 0;\r\n            // reverse the words in the code sentence\r\n            for (int j = 0; j &lt;= length; j++) {\r\n                // check for space or after sentence has ended\r\n                if (j == length || encrypted.charAt(j) == &#39; &#39;) {\r\n                    String word = encrypted.substring(start, j);\r\n                    String odd = &quot;&quot;, even = &quot;&quot;;\r\n                    // placing even indexed letters at the start of the word\r\n                    for (int k = 0; k &lt; word.length(); k++) {\r\n                        if (k % 2 == 0) {\r\n                            even += word.charAt(k);\r\n                        } else {\r\n                            odd += word.charAt(k);\r\n                        }\r\n                    }\r\n                    reversed = even + odd + &quot; &quot; + reversed;\r\n                    start = j + 1;\r\n                }\r\n            }\r\n            System.out.println(&quot;Encrypted sentence: &quot; + encrypted);\r\n            System.out.println(&quot;\\nThe sentence is further encrypted by: &quot;);\r\n            System.out.println(&quot;- Reversing the words in the code sentence&quot;);\r\n            System.out.println(&quot;- Placing even indexed letters at the start of the word&quot;);\r\n            System.out.println(&quot;As below:&quot;);\r\n            System.out.println(reversed);\r\n        }\r\n\r\n        // if user wants to decrypt\r\n        if (ans == &#39;D&#39;) {\r\n            System.out.print(&quot;Enter a sentence to decrypt: &quot;);\r\n            sentence = scanner.nextLine();\r\n            length = sentence.length();\r\n\r\n            int start = 0;\r\n            String newWord = &quot;&quot;;\r\n            // reverse the words in the code sentence\r\n            for (int j = 0; j &lt;= length; j++) {\r\n                // check for space or after sentence has ended\r\n                if (j == length || sentence.charAt(j) == &#39; &#39;) {\r\n                    String word = sentence.substring(start, j);\r\n                    String odd = &quot;&quot;, even = &quot;&quot;;\r\n                    // placing even indexed letters at the start of the word\r\n                    for (int k = 0; k &lt; word.length(); k++) {\r\n                        if (k == 0) {\r\n                            // dont change the position of the first letter\r\n                            newWord += word.charAt(k);\r\n                        } else if (k % 2 == 0) {\r\n                            even = word.charAt(k) + even;\r\n                        } else {\r\n                            odd = word.charAt(k) + odd;\r\n                        }\r\n                    }\r\n                    newWord += odd + even;\r\n                    reversed = newWord + &quot; &quot; + reversed;\r\n                    start = j + 1;\r\n                    newWord = &quot;&quot;;\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; length; i++) {\r\n                // test if there is a non-letter input (space, @!#$, etc)\r\n                if (cText.indexOf(reversed.charAt(i)) == -1) {\r\n                    decrypted += reversed.charAt(i);\r\n                } else {\r\n                    // convert the letters into decrypted sentence\r\n                    char letters = pText.charAt(cText.indexOf(reversed.charAt(i)));\r\n                    decrypted += letters;\r\n                }\r\n            }\r\n            System.out.println(&quot;Decrypted sentence: &quot; + decrypted);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"Encryption and decryption program","body":"<p>The program is supposed to:</p>\n<ul>\n<li>Generate a new cipher text each time the program is run</li>\n<li>Reverse the words in the code sentence</li>\n<li>If the word in plaintext is today and the corresponding letters in the cipher are xoctr, write the word as xcrot, i.e. put all the even indexed letters at the start of the word</li>\n</ul>\n<p>Im not allowed to use array, stringbuilder and methods</p>\n<p>My decryption code only works for 5 letter words. Can anyone help?</p>\n<pre><code>package Project;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Q2 {\n    public static void main(String[] args) {\n        String pText = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n        String cText = &quot;&quot;, sentence, encrypted = &quot;&quot;, reversed = &quot;&quot;, decrypted = &quot;&quot;;\n        char ans;\n        int length;\n        boolean valid = false;\n\n        Scanner scanner = new Scanner(System.in);\n        Random random = new Random();\n\n        // generating a new cText each time the program is run\n        for (int i = 0; i &lt; 26; i++) {\n            char rdAplhabet;\n\n            do {\n                // if condition returns -1, it means the letter isnt in the String\n                // then adds the randomly generated letter into cText\n                rdAplhabet = (char) ('a' + random.nextInt(26));\n            } while (cText.indexOf(rdAplhabet) != -1);\n\n            cText += rdAplhabet;\n        }\n\n        System.out.println(&quot;Plain text: &quot; + pText);\n        System.out.println(&quot;Cipher text: &quot; + cText); // output this for decrypt only\n        // ask if user wants to encrypt or decrypt sentence\n        do {\n            System.out.print(&quot;\\nEncrypt or decrypt? (Enter E/D): &quot;);\n            ans = scanner.next().charAt(0);\n            ans = Character.toUpperCase(ans);\n            scanner.nextLine();\n\n            // validate user input\n            if (!(ans == 'E' || ans == 'D')) {\n                System.out.println(&quot;Invalid input. Try again.&quot;);\n            } else {\n                valid = true;\n            }\n        } while (valid == false);\n\n        // if user wants to encrypt\n        if (ans == 'E') {\n            System.out.print(&quot;Enter a sentence to encrypt: &quot;);\n            sentence = scanner.nextLine();\n            length = sentence.length();\n\n            for (int i = 0; i &lt; length; i++) {\n                // test if there is a non-letter input (space, @!#$, etc)\n                if (pText.indexOf(sentence.charAt(i)) == -1) {\n                    encrypted += sentence.charAt(i);\n                } else {\n                    // convert the letters into encrypted sentence\n                    char letters = cText.charAt(pText.indexOf(sentence.charAt(i)));\n                    encrypted += letters;\n                }\n            }\n\n            int start = 0;\n            // reverse the words in the code sentence\n            for (int j = 0; j &lt;= length; j++) {\n                // check for space or after sentence has ended\n                if (j == length || encrypted.charAt(j) == ' ') {\n                    String word = encrypted.substring(start, j);\n                    String odd = &quot;&quot;, even = &quot;&quot;;\n                    // placing even indexed letters at the start of the word\n                    for (int k = 0; k &lt; word.length(); k++) {\n                        if (k % 2 == 0) {\n                            even += word.charAt(k);\n                        } else {\n                            odd += word.charAt(k);\n                        }\n                    }\n                    reversed = even + odd + &quot; &quot; + reversed;\n                    start = j + 1;\n                }\n            }\n            System.out.println(&quot;Encrypted sentence: &quot; + encrypted);\n            System.out.println(&quot;\\nThe sentence is further encrypted by: &quot;);\n            System.out.println(&quot;- Reversing the words in the code sentence&quot;);\n            System.out.println(&quot;- Placing even indexed letters at the start of the word&quot;);\n            System.out.println(&quot;As below:&quot;);\n            System.out.println(reversed);\n        }\n\n        // if user wants to decrypt\n        if (ans == 'D') {\n            System.out.print(&quot;Enter a sentence to decrypt: &quot;);\n            sentence = scanner.nextLine();\n            length = sentence.length();\n\n            int start = 0;\n            String newWord = &quot;&quot;;\n            // reverse the words in the code sentence\n            for (int j = 0; j &lt;= length; j++) {\n                // check for space or after sentence has ended\n                if (j == length || sentence.charAt(j) == ' ') {\n                    String word = sentence.substring(start, j);\n                    String odd = &quot;&quot;, even = &quot;&quot;;\n                    // placing even indexed letters at the start of the word\n                    for (int k = 0; k &lt; word.length(); k++) {\n                        if (k == 0) {\n                            // dont change the position of the first letter\n                            newWord += word.charAt(k);\n                        } else if (k % 2 == 0) {\n                            even = word.charAt(k) + even;\n                        } else {\n                            odd = word.charAt(k) + odd;\n                        }\n                    }\n                    newWord += odd + even;\n                    reversed = newWord + &quot; &quot; + reversed;\n                    start = j + 1;\n                    newWord = &quot;&quot;;\n                }\n            }\n\n            for (int i = 0; i &lt; length; i++) {\n                // test if there is a non-letter input (space, @!#$, etc)\n                if (cText.indexOf(reversed.charAt(i)) == -1) {\n                    decrypted += reversed.charAt(i);\n                } else {\n                    // convert the letters into decrypted sentence\n                    char letters = pText.charAt(cText.indexOf(reversed.charAt(i)));\n                    decrypted += letters;\n                }\n            }\n            System.out.println(&quot;Decrypted sentence: &quot; + decrypted);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","vault"],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701795554,"creation_date":1701795554,"question_id":77607974,"body_markdown":"I&#39;m study about Vault. After running vault with docker in dev mode\r\n```\r\ndocker run --name vault -p 8200:8200 --cap-add=IPC_LOCK -e &#39;VAULT_DEV_ROOT_TOKEN_ID=00000000-0000-0000-0000-000000000000&#39; -e &#39;VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200&#39; vault:1.13.3\r\n```\r\n\r\nI access vault gui, create a sample kv like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, I want to connect to Vault from my application (Spring Boot)\r\n\r\nI followed config [here](https://spring.io/guides/gs/vault-config/)\r\n```application.properties\r\nspring.application.name=gs-vault-config\r\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\r\nspring.cloud.vault.scheme=http\r\nspring.cloud.vault.kv.enabled=true\r\nspring.config.import:  vault://\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;vn.com.david&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-vault&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-vault&lt;/name&gt;\r\n    &lt;description&gt;spring-vault&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.30&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nLast, my controller, I want to get data from Vault\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/vault&quot;)\r\npublic class VaultController {\r\n\r\n    @Autowired\r\n    private VaultTemplate vaultTemplate;\r\n\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test() {\r\n        String secret = (String) vaultTemplate.read(&quot;secret/data&quot;).getData().get(&quot;value&quot;);\r\n        return secret;\r\n    }\r\n}\r\n```\r\n\r\nIt raise a error\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.vault.support.VaultResponse.getData()&quot; because the return value of &quot;org.springframework.vault.core.VaultTemplate.read(String)&quot; is null\r\n\tat vn.com.david.springvault.controller.VaultController.test(VaultController.java:46) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nFrom my understanding, I don&#39;t know why, can anyone help me solve this?\r\n\r\nThank you from the bottom of my heart\r\n\r\n  [1]: https://i.stack.imgur.com/c9jHH.png","title":"How to connect Vault with Spring Boot","body":"<p>I'm study about Vault. After running vault with docker in dev mode</p>\n<pre><code>docker run --name vault -p 8200:8200 --cap-add=IPC_LOCK -e 'VAULT_DEV_ROOT_TOKEN_ID=00000000-0000-0000-0000-000000000000' -e 'VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200' vault:1.13.3\n</code></pre>\n<p>I access vault gui, create a sample kv like:</p>\n<p><a href=\"https://i.stack.imgur.com/c9jHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c9jHH.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I want to connect to Vault from my application (Spring Boot)</p>\n<p>I followed config <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>spring.application.name=gs-vault-config\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\nspring.cloud.vault.scheme=http\nspring.cloud.vault.kv.enabled=true\nspring.config.import:  vault://\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;vn.com.david&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-vault&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-vault&lt;/name&gt;\n    &lt;description&gt;spring-vault&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Last, my controller, I want to get data from Vault</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1/vault&quot;)\npublic class VaultController {\n\n    @Autowired\n    private VaultTemplate vaultTemplate;\n\n\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        String secret = (String) vaultTemplate.read(&quot;secret/data&quot;).getData().get(&quot;value&quot;);\n        return secret;\n    }\n}\n</code></pre>\n<p>It raise a error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.vault.support.VaultResponse.getData()&quot; because the return value of &quot;org.springframework.vault.core.VaultTemplate.read(String)&quot; is null\n    at vn.com.david.springvault.controller.VaultController.test(VaultController.java:46) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>From my understanding, I don't know why, can anyone help me solve this?</p>\n<p>Thank you from the bottom of my heart</p>\n"},{"tags":["java","zip","passwords","zip4j"],"owner":{"account_id":27084309,"reputation":1,"user_id":20633049,"display_name":"Axion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701795088,"creation_date":1701795026,"question_id":77607918,"body_markdown":"Writing an archiver in java using zip4j library. (resources: https://github.com/srikanth-lingala/zip4j)  \r\nFilename.zip is an encrypted zip file:  \r\n[files structure](https://i.stack.imgur.com/kfrWa.png)\r\n\r\nWhat happens when I open it and enter the correct password:\r\n\r\n[problem](https://i.stack.imgur.com/LVavY.png)\r\n\r\nThere is no such a problem in windows.\r\n\r\nCode:\r\n\r\n```\r\npublic void create() throws Exception {\r\n        ZipParameters zipParameters = new ZipParameters();\r\n        zipParameters.setEncryptFiles(true);\r\n        zipParameters.setEncryptionMethod(EncryptionMethod.AES);\r\n        // Below line is optional. AES 256 is used by default. You can override it to use AES 128. AES 192 is supported only for extracting.\r\n        zipParameters.setAesKeyStrength(AesKeyStrength.KEY_STRENGTH_256);\r\n        File file1 = new File(&quot;/Users/axionlogvinov/zipper-test/file1.txt&quot;);\r\n        file1.createNewFile();\r\n        File file2 = new File(&quot;/Users/axionlogvinov/zipper-test/file2.txt&quot;);\r\n        file2.createNewFile();\r\n        List&lt;File&gt; filesToAdd = Arrays.asList(file1, file2);\r\n\r\n        ZipFile zipFile = new ZipFile(&quot;/Users/axionlogvinov/zipper-test/filename.zip&quot;, &quot;password&quot;.toCharArray());\r\n        zipFile.addFiles(filesToAdd, zipParameters);\r\n    }\r\n```\r\n\r\nHaven&#39;t tried anything yet","title":"Can&#39;t open an encrypted zip file using zip4j in hava","body":"<p>Writing an archiver in java using zip4j library. (resources: <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">https://github.com/srikanth-lingala/zip4j</a>)<br />\nFilename.zip is an encrypted zip file:<br />\n<a href=\"https://i.stack.imgur.com/kfrWa.png\" rel=\"nofollow noreferrer\">files structure</a></p>\n<p>What happens when I open it and enter the correct password:</p>\n<p><a href=\"https://i.stack.imgur.com/LVavY.png\" rel=\"nofollow noreferrer\">problem</a></p>\n<p>There is no such a problem in windows.</p>\n<p>Code:</p>\n<pre><code>public void create() throws Exception {\n        ZipParameters zipParameters = new ZipParameters();\n        zipParameters.setEncryptFiles(true);\n        zipParameters.setEncryptionMethod(EncryptionMethod.AES);\n        // Below line is optional. AES 256 is used by default. You can override it to use AES 128. AES 192 is supported only for extracting.\n        zipParameters.setAesKeyStrength(AesKeyStrength.KEY_STRENGTH_256);\n        File file1 = new File(&quot;/Users/axionlogvinov/zipper-test/file1.txt&quot;);\n        file1.createNewFile();\n        File file2 = new File(&quot;/Users/axionlogvinov/zipper-test/file2.txt&quot;);\n        file2.createNewFile();\n        List&lt;File&gt; filesToAdd = Arrays.asList(file1, file2);\n\n        ZipFile zipFile = new ZipFile(&quot;/Users/axionlogvinov/zipper-test/filename.zip&quot;, &quot;password&quot;.toCharArray());\n        zipFile.addFiles(filesToAdd, zipParameters);\n    }\n</code></pre>\n<p>Haven't tried anything yet</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1700064137,"post_id":77489193,"comment_id":136609411,"body_markdown":"Does this answer your question? [Define a fixed-size list in Java](https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java\">Define a fixed-size list in Java</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700064469,"post_id":77489193,"comment_id":136609473,"body_markdown":"The `List` interface has an `add` method, you will not get a compile-time error whatever you do. You may get an `UnsupportedOperationException` at runtime if you choose an implementation of `List` that left the method unimplemented.","body":"The <code>List</code> interface has an <code>add</code> method, you will not get a compile-time error whatever you do. You may get an <code>UnsupportedOperationException</code> at runtime if you choose an implementation of <code>List</code> that left the method unimplemented."},{"owner":{"account_id":19896419,"reputation":66,"user_id":14577421,"display_name":"Maxime Pillier"},"score":0,"creation_date":1700064905,"post_id":77489193,"comment_id":136609550,"body_markdown":"I think you&#39;re using the right code to create fixed size List. Maybe the issue is coming from the content you&#39;re trying to add into the List ? I suppose it can be null when you call : board.get[...].get[...]","body":"I think you&#39;re using the right code to create fixed size List. Maybe the issue is coming from the content you&#39;re trying to add into the List ? I suppose it can be null when you call : board.get[...].get[...]"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700070702,"post_id":77489193,"comment_id":136610712,"body_markdown":"This is a great exercise, slightly more challenging than most.","body":"This is a great exercise, slightly more challenging than most."}],"answers":[{"tags":[],"owner":{"account_id":29055881,"reputation":35,"user_id":22257686,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701794693,"creation_date":1700065164,"answer_id":77489350,"question_id":77489193,"body_markdown":"I think you dont need `java.util.List`. You can just use normal arrays!\r\n\r\n```java\r\npublic class Test {\r\n    SudokuField[][] board = new int[size_1][size_2];\r\n    \r\n    public void get() {\r\n        System.out.println(board[x][y]);\r\n    }\r\n    public void set() {\r\n        board[x][y] = value;\r\n    }\r\n}\r\n```\r\n***\r\nOr if you REALY need List you can do something like this:\r\n```java\r\nimport java.util.ArrayList;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Object&gt; board = new ArrayList&lt;&gt;(){\r\n            @Override\r\n            public boolean add(Object o) {\r\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\r\n                    return false; \r\n                }\r\n                return super.add(o);\r\n            }\r\n\r\n            @Override\r\n            public void add(int index, Object element) {\r\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\r\n                    return false;\r\n                }\r\n                super.add(index, element);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd it actually is in apchare commons library.\r\n&gt; The Apache Commons library provides the FixedSizeList class which does not support the add, remove and clear methods (but the set method is allowed because it does not modify the List&#39;s size). Ditto for FixedSizeList in Eclipse Collections. If you try to call one of these methods, your list remains the same size.\r\n\r\nhttps://stackoverflow.com/a/5968535/22257686","title":"Fixed-size List","body":"<p>I think you dont need <code>java.util.List</code>. You can just use normal arrays!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    SudokuField[][] board = new int[size_1][size_2];\n    \n    public void get() {\n        System.out.println(board[x][y]);\n    }\n    public void set() {\n        board[x][y] = value;\n    }\n}\n</code></pre>\n<hr />\n<p>Or if you REALY need List you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Test {\n    public static void main(String[] args) {\n        ArrayList&lt;Object&gt; board = new ArrayList&lt;&gt;(){\n            @Override\n            public boolean add(Object o) {\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\n                    return false; \n                }\n                return super.add(o);\n            }\n\n            @Override\n            public void add(int index, Object element) {\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\n                    return false;\n                }\n                super.add(index, element);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And it actually is in apchare commons library.</p>\n<blockquote>\n<p>The Apache Commons library provides the FixedSizeList class which does not support the add, remove and clear methods (but the set method is allowed because it does not modify the List's size). Ditto for FixedSizeList in Eclipse Collections. If you try to call one of these methods, your list remains the same size.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/5968535/22257686\">https://stackoverflow.com/a/5968535/22257686</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700070902,"creation_date":1700070519,"answer_id":77489904,"question_id":77489193,"body_markdown":"&gt; _&quot;... How to create instances of List with fixed sizes ...&quot;_\r\n\r\nI don&#39;t believe there is anything within the _Java Framework_.\r\n\r\nHere is the _JavaDoc_ for the _Collections Framework_.\\\r\n_[The Collections Framework (Java SE 21 &amp;amp; JDK 21)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading)_.\r\n\r\nSimilar to _@Denis_&#39;s answer, just use an _array_, which are of a fixed-length, by default.\\\r\n_[Arrays (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)_.\r\n\r\n```java\r\nSudokuField[][] board = new SudokuField[9][9];\r\n```\r\n\r\nAlternately, encapsulate the _ArrayList_ class, checking the parameters for each _&quot;add&quot;_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass SudokuFieldList extends ArrayList&lt;List&lt;SudokuField&gt;&gt; {\r\n    @Override\r\n    public boolean add(List&lt;SudokuField&gt; e) {\r\n        if (size() == 9 || e.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.add(e);\r\n    }\r\n\r\n    @Override\r\n    public void add(int index, List&lt;SudokuField&gt; element) {\r\n        if (size() == 9 || index &gt;= 9 || element.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        super.add(index, element);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\r\n        if (size() == 9 || c.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.addAll(c);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(int index, Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\r\n        if (size() == 9 || index &gt;= 9 || c.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.addAll(index, c);\r\n    }\r\n\r\n    static class ListOutOfBoundsException extends RuntimeException { }\r\n}\r\n```\r\n\r\nAnd, here is an example usage; intentionally erroring.\r\n\r\n```java\r\nSudokuFieldList l = new SudokuFieldList();\r\nfor (int i = 0; i &lt; 20; i++) l.add(List.of());\r\n```\r\n\r\n```none\r\nException in thread &quot;main&quot; Example$SudokuFieldList$ListOutOfBoundsException\r\n\tat Example$SudokuFieldList.add(Example.java:17)\r\n\tat Example.main(Example.java:10)\r\n```\r\n\r\nOn a final note, here is a _Wikipedia_ article on solving _Sudoku_ puzzles.\\\r\n_[Wikipedia &amp;ndash; Sudoku solving algorithms](https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force)_.","title":"Fixed-size List","body":"<blockquote>\n<p><em>&quot;... How to create instances of List with fixed sizes ...&quot;</em></p>\n</blockquote>\n<p>I don't believe there is anything within the <em>Java Framework</em>.</p>\n<p>Here is the <em>JavaDoc</em> for the <em>Collections Framework</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading\" rel=\"nofollow noreferrer\">The Collections Framework (Java SE 21 &amp; JDK 21)</a></em>.</p>\n<p>Similar to <em>@Denis</em>'s answer, just use an <em>array</em>, which are of a fixed-length, by default.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SudokuField[][] board = new SudokuField[9][9];\n</code></pre>\n<p>Alternately, encapsulate the <em>ArrayList</em> class, checking the parameters for each <em>&quot;add&quot;</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SudokuFieldList extends ArrayList&lt;List&lt;SudokuField&gt;&gt; {\n    @Override\n    public boolean add(List&lt;SudokuField&gt; e) {\n        if (size() == 9 || e.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.add(e);\n    }\n\n    @Override\n    public void add(int index, List&lt;SudokuField&gt; element) {\n        if (size() == 9 || index &gt;= 9 || element.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        super.add(index, element);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\n        if (size() == 9 || c.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.addAll(c);\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\n        if (size() == 9 || index &gt;= 9 || c.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.addAll(index, c);\n    }\n\n    static class ListOutOfBoundsException extends RuntimeException { }\n}\n</code></pre>\n<p>And, here is an example usage; intentionally erroring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SudokuFieldList l = new SudokuFieldList();\nfor (int i = 0; i &lt; 20; i++) l.add(List.of());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; Example$SudokuFieldList$ListOutOfBoundsException\n    at Example$SudokuFieldList.add(Example.java:17)\n    at Example.main(Example.java:10)\n</code></pre>\n<p>On a final note, here is a <em>Wikipedia</em> article on solving <em>Sudoku</em> puzzles.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force\" rel=\"nofollow noreferrer\">Wikipedia – Sudoku solving algorithms</a></em>.</p>\n"}],"owner":{"account_id":26882599,"reputation":23,"user_id":20462765,"display_name":"jano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701794693,"creation_date":1700063907,"question_id":77489193,"body_markdown":"How to create instances of List with fixed sizes (it is not possible to perform add() operations on them, but it is possible to perform set())? When I try to change `fields.set(i, board.get(i).get(x));` into `fields.add(new SudokuField());` I do not get compiler errors in IntelliJ.\r\n\r\n```package org.sudoku;\r\n\r\nimport java.util.*;\r\n\r\npublic class SudokuBoard {\r\n\r\n    private final List&lt;List&lt;SudokuField&gt;&gt; board = new ArrayList&lt;&gt;();\r\n    private final SudokuSolver solver;\r\n    //private final List&lt;ComponentObserver&gt; observers = Arrays.asList(new ComponentObserver[3]);\r\n    private final ComponentObserver[] observers = new ComponentObserver[3];\r\n    private boolean state = true;\r\n\r\n    public SudokuBoard(SudokuSolver solver) {\r\n        this.solver = Objects.requireNonNull(solver);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            List&lt;SudokuField&gt; row = Arrays.asList(new SudokuField[9]);\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                row.set(j, new SudokuField());\r\n            }\r\n            board.add(row);\r\n        }\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            observers[i] = new ComponentObserver();\r\n        }\r\n    }\r\n\r\n    public void solveGame() {\r\n        solver.solve(this);\r\n    }\r\n\r\n    public boolean isSafe() {\r\n        return checkBoard();\r\n    }\r\n\r\n    public int get(int y, int x) {\r\n        return board.get(y).get(x).getFieldValue();\r\n    }\r\n\r\n    private  void setState() {\r\n        state = observers[0].getCorrectState();\r\n        state &amp;= observers[1].getCorrectState();\r\n        state &amp;= observers[2].getCorrectState();\r\n    }\r\n\r\n    private void update(int y, int x) {\r\n        observers[0].update(getRow(y));\r\n        observers[1].update(getColumn(x));\r\n        observers[2].update(getBox(y, x));\r\n    }\r\n\r\n    public void set(int y, int x, int value) {\r\n        board.get(y).get(x).setFieldValue(value);\r\n        update(y, x);\r\n        setState();\r\n    }\r\n\r\n    public SudokuRow getRow(int y) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            fields.set(i, board.get(y).get(i));\r\n        }\r\n        return new SudokuRow(fields);\r\n    }\r\n\r\n    public SudokuColumn getColumn(int x) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            fields.set(i, board.get(i).get(x));\r\n        }\r\n        return new SudokuColumn(fields);\r\n    }\r\n\r\n    public SudokuBox getBox(int y, int x) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        int row = y / 3 * 3;\r\n        int col = x / 3 * 3;\r\n        int index = 0;\r\n        for (int i = row; i &lt; row + 3; i++) {\r\n            for (int j = col; j &lt; col + 3; j++) {\r\n                fields.set(index, board.get(i).get(j));\r\n                index++;\r\n            }\r\n        }\r\n        return new SudokuBox(fields);\r\n    }\r\n\r\n    private boolean checkBoard() {\r\n        return state;\r\n    }\r\n}\r\n```\r\n","title":"Fixed-size List","body":"<p>How to create instances of List with fixed sizes (it is not possible to perform add() operations on them, but it is possible to perform set())? When I try to change <code>fields.set(i, board.get(i).get(x));</code> into <code>fields.add(new SudokuField());</code> I do not get compiler errors in IntelliJ.</p>\n<pre><code>\nimport java.util.*;\n\npublic class SudokuBoard {\n\n    private final List&lt;List&lt;SudokuField&gt;&gt; board = new ArrayList&lt;&gt;();\n    private final SudokuSolver solver;\n    //private final List&lt;ComponentObserver&gt; observers = Arrays.asList(new ComponentObserver[3]);\n    private final ComponentObserver[] observers = new ComponentObserver[3];\n    private boolean state = true;\n\n    public SudokuBoard(SudokuSolver solver) {\n        this.solver = Objects.requireNonNull(solver);\n        for (int i = 0; i &lt; 9; i++) {\n            List&lt;SudokuField&gt; row = Arrays.asList(new SudokuField[9]);\n            for (int j = 0; j &lt; 9; j++) {\n                row.set(j, new SudokuField());\n            }\n            board.add(row);\n        }\n        for (int i = 0; i &lt; 3; i++) {\n            observers[i] = new ComponentObserver();\n        }\n    }\n\n    public void solveGame() {\n        solver.solve(this);\n    }\n\n    public boolean isSafe() {\n        return checkBoard();\n    }\n\n    public int get(int y, int x) {\n        return board.get(y).get(x).getFieldValue();\n    }\n\n    private  void setState() {\n        state = observers[0].getCorrectState();\n        state &amp;= observers[1].getCorrectState();\n        state &amp;= observers[2].getCorrectState();\n    }\n\n    private void update(int y, int x) {\n        observers[0].update(getRow(y));\n        observers[1].update(getColumn(x));\n        observers[2].update(getBox(y, x));\n    }\n\n    public void set(int y, int x, int value) {\n        board.get(y).get(x).setFieldValue(value);\n        update(y, x);\n        setState();\n    }\n\n    public SudokuRow getRow(int y) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        for (int i = 0; i &lt; 9; i++) {\n            fields.set(i, board.get(y).get(i));\n        }\n        return new SudokuRow(fields);\n    }\n\n    public SudokuColumn getColumn(int x) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        for (int i = 0; i &lt; 9; i++) {\n            fields.set(i, board.get(i).get(x));\n        }\n        return new SudokuColumn(fields);\n    }\n\n    public SudokuBox getBox(int y, int x) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        int row = y / 3 * 3;\n        int col = x / 3 * 3;\n        int index = 0;\n        for (int i = row; i &lt; row + 3; i++) {\n            for (int j = col; j &lt; col + 3; j++) {\n                fields.set(index, board.get(i).get(j));\n                index++;\n            }\n        }\n        return new SudokuBox(fields);\n    }\n\n    private boolean checkBoard() {\n        return state;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","new-operator"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1701791252,"post_id":77607488,"comment_id":136817732,"body_markdown":"You can leave off the `new X[]` part only when assigning a constant expression, where all the values are known at the time of assignment.","body":"You can leave off the <code>new X[]</code> part only when assigning a constant expression, where all the values are known at the time of assignment."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701791334,"post_id":77607488,"comment_id":136817750,"body_markdown":"The explanation you found sounds more like stack vs. heap for allocating arrays in C (or C++). For Java, one is just a literal shorthand for the other, unless you wish to be explicit about the type. For instance, `int[] values = {1,2,3};` is obviously fine, but `int[] values = new float[]{1,2,3};` wouldn&#39;t work. For this same reason, `int[] values = {1.2, 3.4, 5.6}` also would fail (but a little less obviously, the required type in the array is now `int`). You can assign variables using the literal as well: `void foo(int s) { int[] values = {s}; }` is legal.","body":"The explanation you found sounds more like stack vs. heap for allocating arrays in C (or C++). For Java, one is just a literal shorthand for the other, unless you wish to be explicit about the type. For instance, <code>int[] values = {1,2,3};</code> is obviously fine, but <code>int[] values = new float[]{1,2,3};</code> wouldn&#39;t work. For this same reason, <code>int[] values = {1.2, 3.4, 5.6}</code> also would fail (but a little less obviously, the required type in the array is now <code>int</code>). You can assign variables using the literal as well: <code>void foo(int s) { int[] values = {s}; }</code> is legal."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701791559,"post_id":77607488,"comment_id":136817791,"body_markdown":"In short: Do what you feel is correct, and simply be consistent in your usage. It&#39;s best to have as little variation in your notation as possible imo.","body":"In short: Do what you feel is correct, and simply be consistent in your usage. It&#39;s best to have as little variation in your notation as possible imo."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701792886,"creation_date":1701791504,"answer_id":77607538,"question_id":77607488,"body_markdown":"The omittance of `new float[]` is simply a shorthand. As mentioned by Andy Turner, this shorthand syntax is only allowed in a variable *declaration*. That being said, the two lines compile into identical bytecode.\r\n\r\nTake this class for example:\r\n\r\n    public class Test {\r\n    \tfloat[] values = { 10, 20, 30, 40, 50 };\r\n    \tfloat[] values2 = new float[] { 10, 20, 30, 40, 50 };\r\n    }\r\n\r\nThe compiled bytecode is equivalent to:\r\n\r\n    public class Test {\r\n    \tfloat[] values;\r\n    \tfloat[] values2;\r\n    \r\n    \tpublic Test() {\r\n    \t\tsuper();\r\n    \t\tthis.values = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\r\n    \t\tthis.values2 = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\r\n    \t}\r\n    }","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>The omittance of <code>new float[]</code> is simply a shorthand. As mentioned by Andy Turner, this shorthand syntax is only allowed in a variable <em>declaration</em>. That being said, the two lines compile into identical bytecode.</p>\n<p>Take this class for example:</p>\n<pre><code>public class Test {\n    float[] values = { 10, 20, 30, 40, 50 };\n    float[] values2 = new float[] { 10, 20, 30, 40, 50 };\n}\n</code></pre>\n<p>The compiled bytecode is equivalent to:</p>\n<pre><code>public class Test {\n    float[] values;\n    float[] values2;\n\n    public Test() {\n        super();\n        this.values = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\n        this.values2 = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701794589,"creation_date":1701791702,"answer_id":77607562,"question_id":77607488,"body_markdown":"This is known as an &quot;Array Initializer&quot;. It&#39;s a shorthand (syntactic sugar) &lt;strike&gt;introduced in JDK 5&lt;/strike&gt; that has existed since 1.0 (_credit to Andy and Holger_ below). \r\n\r\n```java\r\nfloat[] values = { 10, 20, 30, 40, 50 };\r\n```\r\n\r\nThe latter is the traditional way to assign an array.\r\n\r\n```java\r\nfloat[] values2 = new float[] { 10, 20, 30, 40, 50 };\r\n```\r\n\r\nYou can use whichever makes you feel more comfortable.\r\n\r\n---\r\n\r\nKeep in mind that the shorthand is only allowed during initialization.\r\n\r\n```java\r\npublic class ArrayInitializer {\r\n    public static void main(String[] args) {\r\n        float[] values;\r\n        values = new float[] { 10, 20, 30, 40, 50 }; // Valid\r\n\r\n        float[] values2;\r\n        values2 = { 10, 20, 30, 40, 50 }; // Invalid\r\n    }\r\n}\r\n```","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>This is known as an &quot;Array Initializer&quot;. It's a shorthand (syntactic sugar) <strike>introduced in JDK 5</strike> that has existed since 1.0 (<em>credit to Andy and Holger</em> below).</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] values = { 10, 20, 30, 40, 50 };\n</code></pre>\n<p>The latter is the traditional way to assign an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] values2 = new float[] { 10, 20, 30, 40, 50 };\n</code></pre>\n<p>You can use whichever makes you feel more comfortable.</p>\n<hr />\n<p>Keep in mind that the shorthand is only allowed during initialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayInitializer {\n    public static void main(String[] args) {\n        float[] values;\n        values = new float[] { 10, 20, 30, 40, 50 }; // Valid\n\n        float[] values2;\n        values2 = { 10, 20, 30, 40, 50 }; // Invalid\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29083304,"reputation":19,"user_id":22278821,"display_name":"Wesley Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1701802101,"accepted_answer_id":77607562,"answer_count":2,"score":0,"last_activity_date":1701794589,"creation_date":1701791098,"question_id":77607488,"body_markdown":"I would like to understand the difference the &quot;new&quot; command does in the line 2 in code below. Because when I print the positions, the answer is the same. So I don&#39;t see the necessity to use this &quot;new&quot; command.\r\n\r\n    float[] values = { 10, 20, 30, 40, 50 }; //In my view the easy way to do it\r\n    float[] values2 = new float[] { 10, 20, 30, 40, 50 }; //not understand why more verbose?\r\n\r\nI just made a research and found some explain related to heap memory and pool. However I didn&#39;t understood why and when should use the new and when shouldn&#39;t.","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>I would like to understand the difference the &quot;new&quot; command does in the line 2 in code below. Because when I print the positions, the answer is the same. So I don't see the necessity to use this &quot;new&quot; command.</p>\n<pre><code>float[] values = { 10, 20, 30, 40, 50 }; //In my view the easy way to do it\nfloat[] values2 = new float[] { 10, 20, 30, 40, 50 }; //not understand why more verbose?\n</code></pre>\n<p>I just made a research and found some explain related to heap memory and pool. However I didn't understood why and when should use the new and when shouldn't.</p>\n"},{"tags":["java","memory-leaks","out-of-memory","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1701801595,"post_id":77607856,"comment_id":136819638,"body_markdown":"fyi, this is also being discussed on the [github issue](https://github.com/ben-manes/caffeine/issues/1356).","body":"fyi, this is also being discussed on the <a href=\"https://github.com/ben-manes/caffeine/issues/1356\" rel=\"nofollow noreferrer\">github issue</a>."}],"owner":{"account_id":30073644,"reputation":11,"user_id":23047026,"display_name":"joy kishore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701794505,"creation_date":1701794428,"question_id":77607856,"body_markdown":"I have initialized my cache in the following way:\r\n\r\n```\r\nCache&lt;Key, Entry&gt; sharedCache =Caffeine.newBuilder()\r\n                 .ticker (ticker::read)\r\n                 .expireAfter(new ExpirySetting())\r\n                 .weigher( a weigher logic that calculates the bytes consumed by each entry value)\r\n                 .maximumWeight(maxBytesInMemory) //maxBytesInMemory =242 MB\r\n                 .executor(executor)\r\n                 .scheduler(scheduler)\r\n                 .build();\r\n```\r\nThere is a **weightedSize** variable that keeps track of the total weight consumed at any point of time. When the value of this reaches the **maxWeightedSize** (242 MB as set in the caffeine initialization), eviction start to happen as expected.\r\n\r\nbut the object com.github.benmanes.caffeine.cache.SSLSMWA consumes a lot of memory (way higher than the maxWeightedSize i.e 242 MB), example of such instances are provided below:\r\n\r\n*Unique requests were sent at the rate of 25 per second for 40 mins so that all the requests are getting writen to cache and heap dumps were taken every 3 min. Below are the observations:*\r\n\r\n\r\n```\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 262.4 MB | maxWeightedSize: 242.194645 MB | weightedSize: 198.201916 MB | time elapsed: 18 min\r\n{Retained size of SSLSMWA (262.4 MB) already exceeded the max weight (242 MB) but the weighted size is still below max weight.}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:289.2 MB | maxWeightedSize: 242.194645 MB | weightedSize: 218.480108 MB | time elapsed: 21 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:314.3 MB] maxWeightedSize: 242.194645 MB | weightedSize: 237.563964 MB | time elapsed: 24 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:320.5 MB | maxWeightedSize: MB | weightedSize: 242.193292 MB | time elapsed : 27 min\r\n{weighted size approaches maxweight}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 299.1 MB | maxWeightedSize: 242.194645 MB | weightedSize: 226.00419 MB | time elapsed: 30 min {weighted size starts to reduce, retained size of SSLSMWA also starts to reduce}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 258.8 MB | maxWeightedSize: 242.194645 MB | weightedSize: 195.53424 MB | time elapsed: 33 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 231.9 MB | maxWeightedSize: 242.194645 MB | weightedSize: 175.148864 MB | time elapsed: 36 min\r\n```\r\nCan you please answer the following questions ?\r\n\r\n1.) What is the use of SSLSMWA class?\r\n\r\n2.) Why is the com.github.benmanes.caffeine.cache.SSLSMWA consuming so much memory (causing my application to use 99% of the heap)? Why is it not contained within the maxWeightedSize (i.e. 242 MB)","title":"com.github.benmanes.caffeine.cache.SSLSMWA class of caffeine-cache consuming very high memory","body":"<p>I have initialized my cache in the following way:</p>\n<pre><code>Cache&lt;Key, Entry&gt; sharedCache =Caffeine.newBuilder()\n                 .ticker (ticker::read)\n                 .expireAfter(new ExpirySetting())\n                 .weigher( a weigher logic that calculates the bytes consumed by each entry value)\n                 .maximumWeight(maxBytesInMemory) //maxBytesInMemory =242 MB\n                 .executor(executor)\n                 .scheduler(scheduler)\n                 .build();\n</code></pre>\n<p>There is a <strong>weightedSize</strong> variable that keeps track of the total weight consumed at any point of time. When the value of this reaches the <strong>maxWeightedSize</strong> (242 MB as set in the caffeine initialization), eviction start to happen as expected.</p>\n<p>but the object com.github.benmanes.caffeine.cache.SSLSMWA consumes a lot of memory (way higher than the maxWeightedSize i.e 242 MB), example of such instances are provided below:</p>\n<p><em>Unique requests were sent at the rate of 25 per second for 40 mins so that all the requests are getting writen to cache and heap dumps were taken every 3 min. Below are the observations:</em></p>\n<pre><code>com.github.benmanes.caffeine.cache.SSLSMWA: 262.4 MB | maxWeightedSize: 242.194645 MB | weightedSize: 198.201916 MB | time elapsed: 18 min\n{Retained size of SSLSMWA (262.4 MB) already exceeded the max weight (242 MB) but the weighted size is still below max weight.}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:289.2 MB | maxWeightedSize: 242.194645 MB | weightedSize: 218.480108 MB | time elapsed: 21 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:314.3 MB] maxWeightedSize: 242.194645 MB | weightedSize: 237.563964 MB | time elapsed: 24 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:320.5 MB | maxWeightedSize: MB | weightedSize: 242.193292 MB | time elapsed : 27 min\n{weighted size approaches maxweight}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 299.1 MB | maxWeightedSize: 242.194645 MB | weightedSize: 226.00419 MB | time elapsed: 30 min {weighted size starts to reduce, retained size of SSLSMWA also starts to reduce}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 258.8 MB | maxWeightedSize: 242.194645 MB | weightedSize: 195.53424 MB | time elapsed: 33 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 231.9 MB | maxWeightedSize: 242.194645 MB | weightedSize: 175.148864 MB | time elapsed: 36 min\n</code></pre>\n<p>Can you please answer the following questions ?</p>\n<p>1.) What is the use of SSLSMWA class?</p>\n<p>2.) Why is the com.github.benmanes.caffeine.cache.SSLSMWA consuming so much memory (causing my application to use 99% of the heap)? Why is it not contained within the maxWeightedSize (i.e. 242 MB)</p>\n"},{"tags":["java","rsa","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701794219,"creation_date":1701794219,"answer_id":77607835,"question_id":77586689,"body_markdown":"Thanks to @MartinPrikryl and [this][1] linked thread, I found a solution. Looks like someone forked the original `jsch` library and solved these kind of problems. Swapping the Maven dependency from\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.55&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nto\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwas enough to solve it. Absolutely no need to refactor code.\r\n\r\n## Some considerations\r\nThis library is a thid-party, independent fork from the original `jsch`. This means it may still have some flaws and they could stop supporting it anytime (just like `com.jcraft`). Personally, I would have preferred an actual fix, but solving it was too urgent. Plus, this fork allows me to use an `OPENSSH` key. Using a converted RSA key could have been a problem, since I would avoid touching any of the production environment configurations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72771323/11961036","title":"SFTP Connection through OPENSSH IdentityFile in Java","body":"<p>Thanks to @MartinPrikryl and <a href=\"https://stackoverflow.com/a/72771323/11961036\">this</a> linked thread, I found a solution. Looks like someone forked the original <code>jsch</code> library and solved these kind of problems. Swapping the Maven dependency from</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.55&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.2.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>was enough to solve it. Absolutely no need to refactor code.</p>\n<h2>Some considerations</h2>\n<p>This library is a thid-party, independent fork from the original <code>jsch</code>. This means it may still have some flaws and they could stop supporting it anytime (just like <code>com.jcraft</code>). Personally, I would have preferred an actual fix, but solving it was too urgent. Plus, this fork allows me to use an <code>OPENSSH</code> key. Using a converted RSA key could have been a problem, since I would avoid touching any of the production environment configurations.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1701974164,"accepted_answer_id":77607835,"answer_count":1,"score":2,"last_activity_date":1701794219,"creation_date":1701447844,"question_id":77586689,"body_markdown":"I&#39;m developing a Java application that has to store data inside an SFTP. \r\n\r\nThe test environment has a password authentication, meanwhile the production environment has an authorized OPENSSH key (the standard `id_rsa`) used as `IdentityFile`. This means that I have to keep both authentication methods in the same code.\r\n\r\nThat&#39;s how I handled it. Basically, if the `identityFile` path is not set, it will leverage the password login. Note that all variables come from `application.properties`:\r\n\r\n    JSch jsch = new JSch();\r\n    jsch.setKnownHosts(knownHosts);\r\n\r\n    if (!identityFile.equals(&quot;&quot;)) {\r\n        jsch.addIdentity(identityFile, passphrase);\r\n    }\r\n    Session jschSession = jsch.getSession(user, host, port);\r\n    jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n    if (identityFile.equals(&quot;&quot;)) {\r\n        jschSession.setPassword(pass);\r\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n    } else {\r\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\r\n    }\r\n    jschSession.connect();\r\n    ChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n    channelSftp.connect();\r\n\r\nI can connect to the test environment but cannot connect to the production SFTP, so I instantiated an SFTP on a development server with (hopefully) the same configurations. I followed [this][1] guide. \r\n\r\nConnecting to the development SFTP through shell and FileZilla, specifying the `IdentityFile`, works fine. Connecting to the test SFTP through Java, shell and FileZilla with password, works fine. \r\n\r\nJava won&#39;t connect using `IdentityFile`. All I keep getting is `com.jcraft.jsch.SftpException: Auth fail` on `jschSession.connect()`, if I use an RSA private key. \r\n\r\nProduction environment uses an OPENSSH private key, so I cannot convert it. If I use the OPENSSH key, I get `invalid privatekey: [B@48c76607` error, on `jsch.addIdentity(identityFile)`. As I&#39;ve read [here][2], `JSch` doesn&#39;t like OPENSSH keys.\r\n\r\nThis means that JSch wants an RSA key, but it doesn&#39;t connect either. I will think about converting the OPENSSH to RSA later.\r\n\r\nI tried running the `jar` on both Windows and an Ubuntu dockerized VM. The `id_rsa` file has the right permissions on both systems.\r\n\r\nThe version of `JSch` I&#39;m using is `jsch-0.1.55.jar`. I&#39;m running `Java 8`.\r\n\r\nThese are the JSch logs after connecting with an RSA key.\r\n\r\n\tConnecting to &lt;HOST&gt; port &lt;PORT&gt;\r\n\tConnection established\r\n\tRemote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3ubuntu0.3\r\n\tLocal version string: SSH-2.0-JSCH-0.1.54\r\n\tCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n\tCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n\tCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n\tSSH_MSG_KEXINIT sent\r\n\tSSH_MSG_KEXINIT received\r\n\tkex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n\tkex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\n\tkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tkex: server: none,zlib@openssh.com\r\n\tkex: server: none,zlib@openssh.com\r\n\tkex: server: \r\n\tkex: server: \r\n\tkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n\tkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n\tkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n\tkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n\tkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n\tkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n\tkex: client: none\r\n\tkex: client: none\r\n\tkex: client: \r\n\tkex: client: \r\n\tkex: server-&gt;client aes128-ctr hmac-sha1 none\r\n\tkex: client-&gt;server aes128-ctr hmac-sha1 none\r\n\tSSH_MSG_KEX_ECDH_INIT sent\r\n\texpecting SSH_MSG_KEX_ECDH_REPLY\r\n\tHost &#39;&lt;HOST&gt;&#39; is known and matches the ECDSA host key\r\n\tSSH_MSG_NEWKEYS sent\r\n\tSSH_MSG_NEWKEYS received\r\n\tSSH_MSG_SERVICE_REQUEST sent\r\n\tSSH_MSG_SERVICE_ACCEPT received\r\n\tAuthentications that can continue: publickey\r\n\tNext authentication method: publickey\r\n\tDisconnecting from &lt;HOST&gt; port &lt;PORT&gt;\r\n\r\nRealistically, there is something missing in my SSH/SFTP configuration, since my app can&#39;t connect to SSH on the same server either.\r\n\r\nAny help is highly appreciated!\r\n\r\n\r\n  [1]: https://www.ionos.com/digitalguide/server/configuration/set-up-an-ubuntu-sftp-server/\r\n  [2]: https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch","title":"SFTP Connection through OPENSSH IdentityFile in Java","body":"<p>I'm developing a Java application that has to store data inside an SFTP.</p>\n<p>The test environment has a password authentication, meanwhile the production environment has an authorized OPENSSH key (the standard <code>id_rsa</code>) used as <code>IdentityFile</code>. This means that I have to keep both authentication methods in the same code.</p>\n<p>That's how I handled it. Basically, if the <code>identityFile</code> path is not set, it will leverage the password login. Note that all variables come from <code>application.properties</code>:</p>\n<pre><code>JSch jsch = new JSch();\njsch.setKnownHosts(knownHosts);\n\nif (!identityFile.equals(&quot;&quot;)) {\n    jsch.addIdentity(identityFile, passphrase);\n}\nSession jschSession = jsch.getSession(user, host, port);\njschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\nif (identityFile.equals(&quot;&quot;)) {\n    jschSession.setPassword(pass);\n    jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\n} else {\n    jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\n}\njschSession.connect();\nChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\nchannelSftp.connect();\n</code></pre>\n<p>I can connect to the test environment but cannot connect to the production SFTP, so I instantiated an SFTP on a development server with (hopefully) the same configurations. I followed <a href=\"https://www.ionos.com/digitalguide/server/configuration/set-up-an-ubuntu-sftp-server/\" rel=\"nofollow noreferrer\">this</a> guide.</p>\n<p>Connecting to the development SFTP through shell and FileZilla, specifying the <code>IdentityFile</code>, works fine. Connecting to the test SFTP through Java, shell and FileZilla with password, works fine.</p>\n<p>Java won't connect using <code>IdentityFile</code>. All I keep getting is <code>com.jcraft.jsch.SftpException: Auth fail</code> on <code>jschSession.connect()</code>, if I use an RSA private key.</p>\n<p>Production environment uses an OPENSSH private key, so I cannot convert it. If I use the OPENSSH key, I get <code>invalid privatekey: [B@48c76607</code> error, on <code>jsch.addIdentity(identityFile)</code>. As I've read <a href=\"https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\">here</a>, <code>JSch</code> doesn't like OPENSSH keys.</p>\n<p>This means that JSch wants an RSA key, but it doesn't connect either. I will think about converting the OPENSSH to RSA later.</p>\n<p>I tried running the <code>jar</code> on both Windows and an Ubuntu dockerized VM. The <code>id_rsa</code> file has the right permissions on both systems.</p>\n<p>The version of <code>JSch</code> I'm using is <code>jsch-0.1.55.jar</code>. I'm running <code>Java 8</code>.</p>\n<p>These are the JSch logs after connecting with an RSA key.</p>\n<pre><code>Connecting to &lt;HOST&gt; port &lt;PORT&gt;\nConnection established\nRemote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3ubuntu0.3\nLocal version string: SSH-2.0-JSCH-0.1.54\nCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nSSH_MSG_KEXINIT sent\nSSH_MSG_KEXINIT received\nkex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nkex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nkex: server: none,zlib@openssh.com\nkex: server: none,zlib@openssh.com\nkex: server: \nkex: server: \nkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: none\nkex: client: none\nkex: client: \nkex: client: \nkex: server-&gt;client aes128-ctr hmac-sha1 none\nkex: client-&gt;server aes128-ctr hmac-sha1 none\nSSH_MSG_KEX_ECDH_INIT sent\nexpecting SSH_MSG_KEX_ECDH_REPLY\nHost '&lt;HOST&gt;' is known and matches the ECDSA host key\nSSH_MSG_NEWKEYS sent\nSSH_MSG_NEWKEYS received\nSSH_MSG_SERVICE_REQUEST sent\nSSH_MSG_SERVICE_ACCEPT received\nAuthentications that can continue: publickey\nNext authentication method: publickey\nDisconnecting from &lt;HOST&gt; port &lt;PORT&gt;\n</code></pre>\n<p>Realistically, there is something missing in my SSH/SFTP configuration, since my app can't connect to SSH on the same server either.</p>\n<p>Any help is highly appreciated!</p>\n"},{"tags":["java","spring-boot","swagger","spring-rest","openapi-generator"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690980690,"post_id":76765012,"comment_id":135428182,"body_markdown":"You can try to publish an API-JAR for the generated code in one project and consume it in the other.","body":"You can try to publish an API-JAR for the generated code in one project and consume it in the other."},{"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"score":0,"creation_date":1690983078,"post_id":76765012,"comment_id":135428813,"body_markdown":"@cyberbrain We already have a Jar published, but we also want the models in jar to be referenced to yaml, else we have to create a schema with same fields for request and response in the micro-service. If we could have some thing like\ncreditCard:\n   jarPath: &quot;foo-service.jar:CreditCardModel.java&quot;","body":"@cyberbrain We already have a Jar published, but we also want the models in jar to be referenced to yaml, else we have to create a schema with same fields for request and response in the micro-service. If we could have some thing like creditCard:    jarPath: &quot;foo-service.jar:CreditCardModel.java&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17893364,"reputation":94,"user_id":12999361,"display_name":"Sowik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701793773,"creation_date":1701793773,"answer_id":77607795,"question_id":76765012,"body_markdown":"You can accomplish this with `schemaMappings` \r\n\r\nStep 1: Add `Foo` as dependency in `Bar`\r\n\r\nStep 2: Add \r\n```\r\nschemaMappings = [&quot;FooPojo&quot;: &quot;com.foo.pojo.FooPojo&quot;]\r\n```\r\nto your openApi generator config.\r\n\r\nStep 3:\r\nCreate an empty schema in your yaml file with the same name\r\n```\r\nFooPojo:\r\n   type: object\r\n```\r\n\r\nStep 4:\r\n\r\nReference it in `Bar`\r\n```\r\nBarPojo:\r\n   type: object\r\n   properties:\r\n      fooPojo:\r\n        $ref: &#39;#/components/schemas/FooPojo&#39;\r\n```","title":"How share POJOs created by OpenAPI Generator in spring boot across micro-services?","body":"<p>You can accomplish this with <code>schemaMappings</code></p>\n<p>Step 1: Add <code>Foo</code> as dependency in <code>Bar</code></p>\n<p>Step 2: Add</p>\n<pre><code>schemaMappings = [&quot;FooPojo&quot;: &quot;com.foo.pojo.FooPojo&quot;]\n</code></pre>\n<p>to your openApi generator config.</p>\n<p>Step 3:\nCreate an empty schema in your yaml file with the same name</p>\n<pre><code>FooPojo:\n   type: object\n</code></pre>\n<p>Step 4:</p>\n<p>Reference it in <code>Bar</code></p>\n<pre><code>BarPojo:\n   type: object\n   properties:\n      fooPojo:\n        $ref: '#/components/schemas/FooPojo'\n</code></pre>\n"}],"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701793773,"creation_date":1690304662,"question_id":76765012,"body_markdown":"Suppose I have 2 micro-services `Foo` and `Bar` and generate the POJOs using `gradle openApigenerate\r\n` everything specified in yaml file.\r\n\r\nThe openAPI generator generates POJOs as follows:\r\n\r\n```\r\nFoo:\r\nfooPojo1\r\nfooPojo2\r\nAccessible only to micro-service Foo\r\n```\r\n\r\n\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\nAccessible only to micro-service Bar\r\n```\r\nAlso I&#39;m sharing models across both micro-service. So `barPojo1` and `barPojo2` is available in Foo and `fooPojo1` and `fooPojo2` is available in Bar.\r\n\r\nHowever, if I want to use `fooPojo1` as a schema in `Bar` I need to re-declare `fooPojo1` in Bar micro-service which looks like:\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\nfooPojo1\r\n```\r\n\r\nSo is there anyway I don&#39;t have to create repetitive objects and just reference the existing object from imported library something like:\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\n$ref: foo-service.fooPojo1\r\n```\r\nI need a solution for this because whenever I use `fooPojo1` in Bar service I need to map the `fooPojo1` of Bar service to `fooPojo1` of Foo service and vice-versa for internal comms.\r\n\r\nI tried finding solution in OpenApi docs, stackoverflow and various other places, but not information. Not sure of referencing to external library works.","title":"How share POJOs created by OpenAPI Generator in spring boot across micro-services?","body":"<p>Suppose I have 2 micro-services <code>Foo</code> and <code>Bar</code> and generate the POJOs using <code>gradle openApigenerate </code> everything specified in yaml file.</p>\n<p>The openAPI generator generates POJOs as follows:</p>\n<pre><code>Foo:\nfooPojo1\nfooPojo2\nAccessible only to micro-service Foo\n</code></pre>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\nAccessible only to micro-service Bar\n</code></pre>\n<p>Also I'm sharing models across both micro-service. So <code>barPojo1</code> and <code>barPojo2</code> is available in Foo and <code>fooPojo1</code> and <code>fooPojo2</code> is available in Bar.</p>\n<p>However, if I want to use <code>fooPojo1</code> as a schema in <code>Bar</code> I need to re-declare <code>fooPojo1</code> in Bar micro-service which looks like:</p>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\nfooPojo1\n</code></pre>\n<p>So is there anyway I don't have to create repetitive objects and just reference the existing object from imported library something like:</p>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\n$ref: foo-service.fooPojo1\n</code></pre>\n<p>I need a solution for this because whenever I use <code>fooPojo1</code> in Bar service I need to map the <code>fooPojo1</code> of Bar service to <code>fooPojo1</code> of Foo service and vice-versa for internal comms.</p>\n<p>I tried finding solution in OpenApi docs, stackoverflow and various other places, but not information. Not sure of referencing to external library works.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-el"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701775730,"post_id":77605672,"comment_id":136814791,"body_markdown":"Why not use OOP aproach? Map with data mapper and save. Using a native querry is a very slippery slope, must be a good reason for that; If you will grow them, a project will be very difficult to support in time. But if you still look for a solution in this context, you will have to summon the entity manager and instead of naming static querry use dynamic approach. Take a look https://www.baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-query","body":"Why not use OOP aproach? Map with data mapper and save. Using a native querry is a very slippery slope, must be a good reason for that; If you will grow them, a project will be very difficult to support in time. But if you still look for a solution in this context, you will have to summon the entity manager and instead of naming static querry use dynamic approach. Take a look <a href=\"https://www.baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-query\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-qu&zwnj;&#8203;ery</a>"}],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701793685,"creation_date":1701774024,"question_id":77605672,"body_markdown":"Is it possible to bind parameter from dto in sppring data jpa native sql?\r\n\r\nHere example. I have native sql with a lot of parametr\r\n```\r\n@Entity\r\n@Table(name = &quot;my_very_usefull_field_tbl&quot;)\r\n@NamedNativeQuery(\r\n        name = INSERT_IGNORE_CONFLICT,\r\n        query = &quot;INSERT INTO my_very_usefull_field_tbl\\n&quot; +\r\n                &quot;(\\n&quot; +\r\n                &quot;   field1, \\n&quot; +\r\n                ...\r\n               \t&quot;   field50, \\n&quot; +\r\n                &quot;)\\n&quot; +\r\n                &quot;VALUES(\\n&quot; +\r\n                &quot;  :fieldDto.field1,\\n&quot; +\r\n      \t\t...\r\n         \t&quot;  :fieldDto.field50 -- modify_author\\n&quot; +\r\n                &quot;) on conflict do nothing;&quot;\r\n)\r\npublic class MyVeryUsefullFieldEntity {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(name = &quot;field1&quot;)\r\n    private String field1;\r\n\r\n    @Column(name = &quot;field2&quot;)\r\n    private String field2;\r\n    \r\n    ...\r\n    \r\n    @Column(name = &quot;field50&quot;)\r\n    private String field50;\r\n\r\n}\r\n\r\n\r\n\r\npublic interface MyVeryUsefullFieldRepository extends CrudRepository&lt;MyVeryUsefullFieldEntity, String&gt; {\r\n\r\n    String INSERT_IGNORE_CONFLICT = &quot;INSERT_IGNORE_CONFLICT&quot;;\r\n   \r\n    @Modifying\r\n    @Query(name = INSERT_IGNORE_CONFLICT, nativeQuery = true)\r\n    int insertIgnoreConflict(@Param(&quot;fieldDto&quot;) MyVeryUsefullFieldDto fieldDto);\r\n    \r\n}\r\n```\r\n\r\nEverything work fine when if I specify each flild in `MyVeryUsefullFieldRepository#insertIgnoreConflict` method (50 input parameters). But method with a lot parameter looks terrible. I want to reffer to dto field inside sql and pass dto into `insertIgnoreConflict` method. But nothing worked for me. I try to bind like example above. Not worked. I try to bind throw spell `:#{#fieldDto.field1}`. Application not started with exception: `Space is not allowed after parameter prefix &#39;:&#39;`.\r\n\r\nCan anyone give me some advice on how to do it?","title":"How to bind named parameter from dto in native query in Spring data jpa","body":"<p>Is it possible to bind parameter from dto in sppring data jpa native sql?</p>\n<p>Here example. I have native sql with a lot of parametr</p>\n<pre><code>@Entity\n@Table(name = &quot;my_very_usefull_field_tbl&quot;)\n@NamedNativeQuery(\n        name = INSERT_IGNORE_CONFLICT,\n        query = &quot;INSERT INTO my_very_usefull_field_tbl\\n&quot; +\n                &quot;(\\n&quot; +\n                &quot;   field1, \\n&quot; +\n                ...\n                &quot;   field50, \\n&quot; +\n                &quot;)\\n&quot; +\n                &quot;VALUES(\\n&quot; +\n                &quot;  :fieldDto.field1,\\n&quot; +\n            ...\n            &quot;  :fieldDto.field50 -- modify_author\\n&quot; +\n                &quot;) on conflict do nothing;&quot;\n)\npublic class MyVeryUsefullFieldEntity {\n\n    @Id\n    private String id;\n\n    @Column(name = &quot;field1&quot;)\n    private String field1;\n\n    @Column(name = &quot;field2&quot;)\n    private String field2;\n    \n    ...\n    \n    @Column(name = &quot;field50&quot;)\n    private String field50;\n\n}\n\n\n\npublic interface MyVeryUsefullFieldRepository extends CrudRepository&lt;MyVeryUsefullFieldEntity, String&gt; {\n\n    String INSERT_IGNORE_CONFLICT = &quot;INSERT_IGNORE_CONFLICT&quot;;\n   \n    @Modifying\n    @Query(name = INSERT_IGNORE_CONFLICT, nativeQuery = true)\n    int insertIgnoreConflict(@Param(&quot;fieldDto&quot;) MyVeryUsefullFieldDto fieldDto);\n    \n}\n</code></pre>\n<p>Everything work fine when if I specify each flild in <code>MyVeryUsefullFieldRepository#insertIgnoreConflict</code> method (50 input parameters). But method with a lot parameter looks terrible. I want to reffer to dto field inside sql and pass dto into <code>insertIgnoreConflict</code> method. But nothing worked for me. I try to bind like example above. Not worked. I try to bind throw spell <code>:#{#fieldDto.field1}</code>. Application not started with exception: <code>Space is not allowed after parameter prefix ':'</code>.</p>\n<p>Can anyone give me some advice on how to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1701793180,"post_id":77607702,"comment_id":136818143,"body_markdown":"Of course, you can store the result of `elementAt` in a local variable. Even in cases where it doesn’t improve performance, it will help readability. But in most cases, you want to use `ArrayList` instead of `Vector`.","body":"Of course, you can store the result of <code>elementAt</code> in a local variable. Even in cases where it doesn’t improve performance, it will help readability. But in most cases, you want to use <code>ArrayList</code> instead of <code>Vector</code>."},{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1701794944,"post_id":77607702,"comment_id":136818494,"body_markdown":"Even better, instead of using an indexed for loop, use an enhanced for loop: `for (Produit produit : vProduit) { ... }`.","body":"Even better, instead of using an indexed for loop, use an enhanced for loop: <code>for (Produit produit : vProduit) { ... }</code>."}],"owner":{"account_id":27773718,"reputation":19,"user_id":21203519,"display_name":"sacorman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701793210,"creation_date":1701793039,"question_id":77607702,"body_markdown":"I&#39;m looking for some performances tips about vector usage and the call to elementAt method. \r\n\r\n```\r\nfor (int p = 0; p &lt; vProduit.size(); p++)\r\n  {\r\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **vProduit.elementAt(p)**);\r\n\t\t\t\t\r\n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\r\n    {\r\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **vProduit.elementAt(p)**)))\t\t\t\t\t\t\r\n\t{\r\n\tif(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\r\n\t  {\r\n\t  ...\r\n\t  }\r\n\t}\r\n      }\r\n    }\r\n```\r\nas you can read, I call vProduit.elementAt(p) 2 times, but I wondering if is not better (for performance) to call vProduit.elementAt(p) one time to a variable and test this variable...\r\n\r\n```\r\nfor (int p = 0; p &lt; vProduit.size(); p++)\r\n  {\r\n  produit = **vProduit.elementAt(p);**\r\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **produit**);\r\n\t\t\t\t\r\n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\r\n    {\r\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **produit**)))\t\t\t\t\t\t\r\n\t{\r\n\tif(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\r\n\t  {\r\n\t  ...\r\n\t  }\r\n\t}\r\n      }\r\n    }\r\n```","title":"Using vector.elementAt multiple time or use a variable","body":"<p>I'm looking for some performances tips about vector usage and the call to elementAt method.</p>\n<pre><code>for (int p = 0; p &lt; vProduit.size(); p++)\n  {\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **vProduit.elementAt(p)**);\n                \n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\n    {\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **vProduit.elementAt(p)**)))                     \n    {\n    if(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\n      {\n      ...\n      }\n    }\n      }\n    }\n</code></pre>\n<p>as you can read, I call vProduit.elementAt(p) 2 times, but I wondering if is not better (for performance) to call vProduit.elementAt(p) one time to a variable and test this variable...</p>\n<pre><code>for (int p = 0; p &lt; vProduit.size(); p++)\n  {\n  produit = **vProduit.elementAt(p);**\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **produit**);\n                \n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\n    {\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **produit**)))                       \n    {\n    if(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\n      {\n      ...\n      }\n    }\n      }\n    }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-app-engine","google-cloud-storage","gcs"],"comments":[{"owner":{"account_id":20755806,"reputation":175,"user_id":22852533,"display_name":"PowerCat"},"score":0,"creation_date":1701350795,"post_id":77578549,"comment_id":136766501,"body_markdown":"I&#39;m not a Java expert, but regarding GCP, an effective approach for handling GCS writing is to enumerate all the files that need to be transferred to GCS in a Pub/Sub queue. Then, utilize a Cloud Run Job (not a service) to process each file, limiting the job to `x` number of workers.","body":"I&#39;m not a Java expert, but regarding GCP, an effective approach for handling GCS writing is to enumerate all the files that need to be transferred to GCS in a Pub/Sub queue. Then, utilize a Cloud Run Job (not a service) to process each file, limiting the job to <code>x</code> number of workers."},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1701353301,"post_id":77578549,"comment_id":136767002,"body_markdown":"Why don&#39;t you create your storage service in a singleton? a config.getStorageService() could solve your issue.","body":"Why don&#39;t you create your storage service in a singleton? a config.getStorageService() could solve your issue."},{"owner":{"account_id":10905924,"reputation":76272,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1701367803,"post_id":77578549,"comment_id":136769893,"body_markdown":"There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.","body":"There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner."},{"owner":{"account_id":3011037,"reputation":165,"user_id":2554560,"display_name":"Dhivya Sadasivam"},"score":0,"creation_date":1701429583,"post_id":77578549,"comment_id":136777365,"body_markdown":"@guillaumeblaquiere We tried the singleton approach, but that dint help us either :(","body":"@guillaumeblaquiere We tried the singleton approach, but that dint help us either :("}],"answers":[{"tags":[],"owner":{"account_id":25423833,"reputation":1324,"user_id":19229284,"display_name":"Chanpols"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701793195,"creation_date":1701793195,"answer_id":77607722,"question_id":77578549,"body_markdown":"Posting this as a community for the benefits of others \r\n\r\n&lt;hr&gt;\r\n\r\nAs mentioned by @John Hanley:\r\n\r\n&gt; There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.","title":"Uploading files to GCS using Multithread keeps running","body":"<p>Posting this as a community for the benefits of others</p>\n<hr>\n<p>As mentioned by @John Hanley:</p>\n<blockquote>\n<p>There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.</p>\n</blockquote>\n"}],"owner":{"account_id":3011037,"reputation":165,"user_id":2554560,"display_name":"Dhivya Sadasivam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701793195,"creation_date":1701348350,"question_id":77578549,"body_markdown":"Am trying to upload 36k+ CSV files to GCS from a java application.\r\nThis application is hosted as an appengine in the same GCP.\r\n\r\nAs the number of files are more, am using parallelStream.foreach in java to upload the files.\r\n\r\n```\r\nvoid createFiles()\r\n    {\r\n        try {\r\n            Map&lt;Integer, FileDetail&gt; collection = GetFiles();\r\n            collection.getValue().entrySet().parallelStream().forEach((entry) -&gt; {\r\n                try{\r\n                    createFileInGCS();\r\n                } catch (Exception e) {\r\n                    LOG.error(&quot;Error occurred while creating FilesInGCS : &quot; + e.getMessage());\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n        catch (Exception e) {\r\n            LOG.error(&quot;Error occurred while creating files : &quot;+ e.getMessage());\r\n            throw new CustomException(&quot;Unable to process files&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public void createFileInGCS()\r\n    {\r\n        try {\r\n            String fileName =&quot;file_&quot; + fileId + &quot;.csv&quot;;\r\n            String gcsBucket = config.getGcsBucket();\r\n            var blobId = BlobId.of(gcsBucket, fileName);\r\n            var blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\r\n            var storage = StorageOptions.newBuilder().setProjectId(config.getProject())\r\n                    .build().getService();\r\n            storage.create(blobInfo, csvContent.getBytes());\r\n        }\r\n        catch(Exception e){\r\n            LOG.error(&quot;Storage failed with exception :&quot;+e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nThe application is failing, as the number of files(based on external factor) to be stored has increased recently.The whole process of storing runs for  Following are the logs of appengine\r\n\r\n**ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!**\r\n\r\n**Storage successful for fileId 46010**\r\n\r\n**ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!**\r\n\r\n**Storage successful for fileId 46192**\r\n\r\nNote : **ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!** - This log is observed from the time the appengine start to act on the request\r\n\r\nThese logs are observed for a while and then we start to receive \r\n\r\n**Storage failed with exception :Broken pipe**\r\n\r\n**Storage failed with exception :Remote host terminated the handshake**\r\n\r\nLater which the application stops\r\n\r\nI also tried batching the collection into 10 equal parts, but the strange behaviour is every batch (~3k files) is completing in 4mins except for the last batch, which keeps running for more than an hour and fails with the same error logs.\r\n\r\n**Storage failed with exception :Broken pipe**\r\n\r\n**Storage failed with exception :Remote host terminated the handshake**\r\n\r\nCan someone helps us on, is there a better way to bulk upload these files to GCS. Tried StorageBatch from GCS, but it doesnt have a create option.","title":"Uploading files to GCS using Multithread keeps running","body":"<p>Am trying to upload 36k+ CSV files to GCS from a java application.\nThis application is hosted as an appengine in the same GCP.</p>\n<p>As the number of files are more, am using parallelStream.foreach in java to upload the files.</p>\n<pre><code>void createFiles()\n    {\n        try {\n            Map&lt;Integer, FileDetail&gt; collection = GetFiles();\n            collection.getValue().entrySet().parallelStream().forEach((entry) -&gt; {\n                try{\n                    createFileInGCS();\n                } catch (Exception e) {\n                    LOG.error(&quot;Error occurred while creating FilesInGCS : &quot; + e.getMessage());\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n        catch (Exception e) {\n            LOG.error(&quot;Error occurred while creating files : &quot;+ e.getMessage());\n            throw new CustomException(&quot;Unable to process files&quot;);\n        }\n    }\n\n\n    public void createFileInGCS()\n    {\n        try {\n            String fileName =&quot;file_&quot; + fileId + &quot;.csv&quot;;\n            String gcsBucket = config.getGcsBucket();\n            var blobId = BlobId.of(gcsBucket, fileName);\n            var blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\n            var storage = StorageOptions.newBuilder().setProjectId(config.getProject())\n                    .build().getService();\n            storage.create(blobInfo, csvContent.getBytes());\n        }\n        catch(Exception e){\n            LOG.error(&quot;Storage failed with exception :&quot;+e.getMessage());\n        }\n    }\n</code></pre>\n<p>The application is failing, as the number of files(based on external factor) to be stored has increased recently.The whole process of storing runs for  Following are the logs of appengine</p>\n<p><strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong></p>\n<p><strong>Storage successful for fileId 46010</strong></p>\n<p><strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong></p>\n<p><strong>Storage successful for fileId 46192</strong></p>\n<p>Note : <strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong> - This log is observed from the time the appengine start to act on the request</p>\n<p>These logs are observed for a while and then we start to receive</p>\n<p><strong>Storage failed with exception :Broken pipe</strong></p>\n<p><strong>Storage failed with exception :Remote host terminated the handshake</strong></p>\n<p>Later which the application stops</p>\n<p>I also tried batching the collection into 10 equal parts, but the strange behaviour is every batch (~3k files) is completing in 4mins except for the last batch, which keeps running for more than an hour and fails with the same error logs.</p>\n<p><strong>Storage failed with exception :Broken pipe</strong></p>\n<p><strong>Storage failed with exception :Remote host terminated the handshake</strong></p>\n<p>Can someone helps us on, is there a better way to bulk upload these files to GCS. Tried StorageBatch from GCS, but it doesnt have a create option.</p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698127082,"creation_date":1698126236,"answer_id":77349755,"question_id":77349724,"body_markdown":"Sorting the array first was a good idea. And since you are now working on a sorted array, you only need one loop. Pick a number from index `i` and if number of elements after `i` equals value in `i`, then return `1`. You also need to check if there are identical values in the array, since the rule was &quot;number of integers *greater than* p in the array equals p&quot;. Remember that integers can also be negative or zero.\r\n\r\n    Arrays.sort(a);\r\n\r\n    // If the last value is zero we can stop immediately. This helps\r\n    // remove one array length check from the next loop.\r\n    if (a[a.length - 1] == 0) {\r\n        return 1;\r\n    }\r\n\r\n    // Loop until next-to-last. The last element was checked\r\n    // above.\r\n    for (int i = 0; i &lt; a.length - 1; i++) {\r\n        final int p = a[i];\r\n\r\n        // Ignore value if the next one is not greater.\r\n        if (p == a[i + 1]) {\r\n            continue;\r\n        }\r\n\r\n        if (p == (a.length - i - 1)) {\r\n            return 1;\r\n        }\r\n    }\r\n\r\nFor future reference, it would be helpful in debugging to add the failing test cases. But it didn&#39;t matter here because rewriting your algorithm was easier.","title":"Noble Integers (Java)","body":"<p>Sorting the array first was a good idea. And since you are now working on a sorted array, you only need one loop. Pick a number from index <code>i</code> and if number of elements after <code>i</code> equals value in <code>i</code>, then return <code>1</code>. You also need to check if there are identical values in the array, since the rule was &quot;number of integers <em>greater than</em> p in the array equals p&quot;. Remember that integers can also be negative or zero.</p>\n<pre><code>Arrays.sort(a);\n\n// If the last value is zero we can stop immediately. This helps\n// remove one array length check from the next loop.\nif (a[a.length - 1] == 0) {\n    return 1;\n}\n\n// Loop until next-to-last. The last element was checked\n// above.\nfor (int i = 0; i &lt; a.length - 1; i++) {\n    final int p = a[i];\n\n    // Ignore value if the next one is not greater.\n    if (p == a[i + 1]) {\n        continue;\n    }\n\n    if (p == (a.length - i - 1)) {\n        return 1;\n    }\n}\n</code></pre>\n<p>For future reference, it would be helpful in debugging to add the failing test cases. But it didn't matter here because rewriting your algorithm was easier.</p>\n"},{"tags":[],"owner":{"account_id":169237,"reputation":39160,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698127894,"creation_date":1698127542,"answer_id":77349837,"question_id":77349724,"body_markdown":"If you sort your array in descending order, the index of an element basically tell you there are n-element that is either larger or equals to that element.\r\n\r\ne.g.\r\n```\r\nindex:  0    1    2    3    4    5    6\r\nvalue: 11    9    6    6    6    5    2\r\n```\r\n\r\nindex 0, the value is 11 and there is 0 value that is larger/equals to 11.\r\nindex 5, the value is 5 and there is 5 value that are larger/equals to 5.\r\n\r\nThe tricky part are the duplicated values: index 2,3,4 are all 6, and only the first one (index 2) is telling you that 2 elements are greater than it.\r\n\r\n\r\nSo it is basically sorting the array in descending order, find any index that is the same as the value in array, and make sure that value is the first one in duplicated sequence:\r\n\r\n```\r\nsort array in desc order\r\n\r\nfor (int i = 0; i &lt; array.length; ++i) {\r\n    if (array[i] == i &amp;&amp; (i == 0 || array[i-1] != array[i]) {\r\n        return true;\r\n    }\r\n}\r\nreturn false\r\n```","title":"Noble Integers (Java)","body":"<p>If you sort your array in descending order, the index of an element basically tell you there are n-element that is either larger or equals to that element.</p>\n<p>e.g.</p>\n<pre><code>index:  0    1    2    3    4    5    6\nvalue: 11    9    6    6    6    5    2\n</code></pre>\n<p>index 0, the value is 11 and there is 0 value that is larger/equals to 11.\nindex 5, the value is 5 and there is 5 value that are larger/equals to 5.</p>\n<p>The tricky part are the duplicated values: index 2,3,4 are all 6, and only the first one (index 2) is telling you that 2 elements are greater than it.</p>\n<p>So it is basically sorting the array in descending order, find any index that is the same as the value in array, and make sure that value is the first one in duplicated sequence:</p>\n<pre><code>sort array in desc order\n\nfor (int i = 0; i &lt; array.length; ++i) {\n    if (array[i] == i &amp;&amp; (i == 0 || array[i-1] != array[i]) {\n        return true;\n    }\n}\nreturn false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701793038,"creation_date":1701789773,"answer_id":77607333,"question_id":77349724,"body_markdown":"- first, handle the special cases of empty or null array. Then check for the special case of `[0]` to avoid needless repetitive logic within the main loop.\r\n- sort the array.\r\n- then iterate across the array until you find a value that equals the number left to iterate while making certain that the numbers ahead of it are not equal to the found solution.\r\n\r\nNote that it is not required to iterate across the entire array. If the the current value is greater than the amount of numbers remaining, then no solution can exist so the loop is terminated.\r\n```\r\npublic static int solve(int[] arr) {\r\n    if (arr == null || arr.length == 0) {\r\n        return -1;\r\n    }\r\n    if (arr[arr.length-1] == 0) { \r\n        return 1;\r\n    }\r\n    Arrays.sort(arr);\r\n    for (int i = 0; arr[i] &lt; arr.length-i; i++) {\r\n        if (arr[i] == arr.length - i - 1 &amp;&amp; arr[i] != arr[i+1]) {\r\n            return 1;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n}","title":"Noble Integers (Java)","body":"<ul>\n<li>first, handle the special cases of empty or null array. Then check for the special case of <code>[0]</code> to avoid needless repetitive logic within the main loop.</li>\n<li>sort the array.</li>\n<li>then iterate across the array until you find a value that equals the number left to iterate while making certain that the numbers ahead of it are not equal to the found solution.</li>\n</ul>\n<p>Note that it is not required to iterate across the entire array. If the the current value is greater than the amount of numbers remaining, then no solution can exist so the loop is terminated.</p>\n<pre><code>public static int solve(int[] arr) {\n    if (arr == null || arr.length == 0) {\n        return -1;\n    }\n    if (arr[arr.length-1] == 0) { \n        return 1;\n    }\n    Arrays.sort(arr);\n    for (int i = 0; arr[i] &lt; arr.length-i; i++) {\n        if (arr[i] == arr.length - i - 1 &amp;&amp; arr[i] != arr[i+1]) {\n            return 1;\n        }\n    }\n    return -1;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":29133768,"reputation":1,"user_id":22318407,"display_name":"Swarnim Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77349837,"answer_count":3,"score":-1,"last_activity_date":1701793038,"creation_date":1698125717,"question_id":77349724,"body_markdown":"Given an integer array A, find if an integer p exists in the array such that the number of integers greater than p in the array equals p.Return 1 if any such integer p is present else, return -1.\r\n\r\ni tried this but this only passed some test cases..\r\n\r\n\r\n\r\n\r\n```\r\npublic class Solution {\r\n    public int solve(int[] A) {\r\n        Arrays.sort(A);\r\n        int [] newarr = new int [A.length];\r\n        for (int i = A.length -1 ; i &gt;=0 ; i--){\r\n            newarr[A.length-1-i]=A[i];\r\n        }\r\n        for (int i = 0 ; i &lt; A.length ; i++){\r\n            if (newarr[i]==i){\r\n                return 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Noble Integers (Java)","body":"<p>Given an integer array A, find if an integer p exists in the array such that the number of integers greater than p in the array equals p.Return 1 if any such integer p is present else, return -1.</p>\n<p>i tried this but this only passed some test cases..</p>\n<pre><code>public class Solution {\n    public int solve(int[] A) {\n        Arrays.sort(A);\n        int [] newarr = new int [A.length];\n        for (int i = A.length -1 ; i &gt;=0 ; i--){\n            newarr[A.length-1-i]=A[i];\n        }\n        for (int i = 0 ; i &lt; A.length ; i++){\n            if (newarr[i]==i){\n                return 1;\n            }\n        }\n        return -1;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","geometry","esri"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686885518,"post_id":76485896,"comment_id":134862825,"body_markdown":"You are not using the API and it&#39;s library contains it, https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic8275.html","body":"You are not using the API and it&#39;s library contains it, <a href=\"https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic8275.html\" rel=\"nofollow noreferrer\">pro.arcgis.com/en/pro-app/latest/sdk/api-reference/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686885694,"post_id":76485896,"comment_id":134862833,"body_markdown":"Note: with api&#39;s use documentation &quot;index&quot; link at the top of the javadoc page and press ctrl + F for find on page and enter the method or class name then click your way through to find if it exists.","body":"Note: with api&#39;s use documentation &quot;index&quot; link at the top of the javadoc page and press ctrl + F for find on page and enter the method or class name then click your way through to find if it exists."}],"answers":[{"tags":[],"owner":{"account_id":26013166,"reputation":1,"user_id":19721890,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792488,"creation_date":1701732707,"answer_id":77603088,"question_id":76485896,"body_markdown":"The Project method only takes two parameters: the geometry and the desired spatial reference.  The original spatial reference is stored on the original geometry.  I suspect the examples you are looking at are old and the three parameter version has been deprecated.\r\n\r\nI would also use an Equal-area projection system like Albers (https://en.wikipedia.org/wiki/Equal-area_projection) rather then Web Mercator.  Web Mercator is designed to preserve compass bearings, and it will wildly distort areas the farther away you get from the equator.  It&#39;s really not suitable for anything other than driving directions.","title":"GeometryEngine.project() method of Esri Geometry API for Java not working","body":"<p>The Project method only takes two parameters: the geometry and the desired spatial reference.  The original spatial reference is stored on the original geometry.  I suspect the examples you are looking at are old and the three parameter version has been deprecated.</p>\n<p>I would also use an Equal-area projection system like Albers (<a href=\"https://en.wikipedia.org/wiki/Equal-area_projection\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Equal-area_projection</a>) rather then Web Mercator.  Web Mercator is designed to preserve compass bearings, and it will wildly distort areas the farther away you get from the equator.  It's really not suitable for anything other than driving directions.</p>\n"}],"owner":{"account_id":5858208,"reputation":45,"user_id":5884109,"accept_rate":33,"display_name":"Khoi Boo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701792488,"creation_date":1686868462,"question_id":76485896,"body_markdown":"I am trying to calculate the 2D area of a polygon created from vertices defined by latitude and longitude coordinates using the following dependencies:\r\n\r\n```java\r\nimport com.esri.core.geometry.Geometry;\r\nimport com.esri.core.geometry.GeometryEngine;\r\nimport com.esri.core.geometry.Point;\r\nimport com.esri.core.geometry.Polygon;\r\nimport com.esri.core.geometry.SpatialReference;\r\n```\r\n\r\nI have initialized the vertices using latitude and longitude coordinates and assuming that they are in the wgs84 spatial reference system. In the [documentation](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/Point.html), it is also stated that &quot;In case of Geographic Coordinate Systems, the X coordinate is the longitude and the Y is the latitude.&quot; \r\n\r\n```java\r\nSpatialReference wgs84 = SpatialReference.create(4326);\r\n\r\nPoint kassel = new Point(9.49, 51.29);\r\nPoint bamberg = new Point (10.90, 49.88);\r\nPoint gotha = new Point(10.70,50.93);\r\n```\r\n\r\nNow the polygon is formed without any problems:\r\n\r\n```java\r\nPolygon polygon = new Polygon();\r\npolygon.startPath(kassel);\r\npolygon.lineTo(bamberg);\r\npolygon.lineTo(gotha);\r\npolygon.closePathWithLine();\r\n```\r\n\r\nIf I use the method `polygon.calculateArea2D()`, then the result is negative. It is [explained](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/MultiPath.html#calculateArea2D--) that &quot;If the spatial reference is a Geographic Coordinate System (WGS84) then the 2D area calculation is defined in angular units.&quot;\r\n\r\nAfter some research, it seems to me that the polygon should be projected to another spatial reference system (Web Mercator), so that the measurement can be done in proper units (meters and square meters):\r\n\r\n```java\r\nSpatialReference webMercator= SpatialReference.create(3857);\r\nPolygon newPolygon = GeometryEngine.project(polygon,wgs84,webMercator);\r\n```\r\n\r\nHowever, I receive an error that the method is not found. I have seen several examples use this method to project a geometry from one spatial reference system to another. I also could not find this method in the [documentation](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/GeometryEngine.html) of the `GeometryEngine` class. Does anyone have any ideas what went wrong here? Your help would be much appreciated.","title":"GeometryEngine.project() method of Esri Geometry API for Java not working","body":"<p>I am trying to calculate the 2D area of a polygon created from vertices defined by latitude and longitude coordinates using the following dependencies:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.esri.core.geometry.Geometry;\nimport com.esri.core.geometry.GeometryEngine;\nimport com.esri.core.geometry.Point;\nimport com.esri.core.geometry.Polygon;\nimport com.esri.core.geometry.SpatialReference;\n</code></pre>\n<p>I have initialized the vertices using latitude and longitude coordinates and assuming that they are in the wgs84 spatial reference system. In the <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/Point.html\" rel=\"nofollow noreferrer\">documentation</a>, it is also stated that &quot;In case of Geographic Coordinate Systems, the X coordinate is the longitude and the Y is the latitude.&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpatialReference wgs84 = SpatialReference.create(4326);\n\nPoint kassel = new Point(9.49, 51.29);\nPoint bamberg = new Point (10.90, 49.88);\nPoint gotha = new Point(10.70,50.93);\n</code></pre>\n<p>Now the polygon is formed without any problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Polygon polygon = new Polygon();\npolygon.startPath(kassel);\npolygon.lineTo(bamberg);\npolygon.lineTo(gotha);\npolygon.closePathWithLine();\n</code></pre>\n<p>If I use the method <code>polygon.calculateArea2D()</code>, then the result is negative. It is <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/MultiPath.html#calculateArea2D--\" rel=\"nofollow noreferrer\">explained</a> that &quot;If the spatial reference is a Geographic Coordinate System (WGS84) then the 2D area calculation is defined in angular units.&quot;</p>\n<p>After some research, it seems to me that the polygon should be projected to another spatial reference system (Web Mercator), so that the measurement can be done in proper units (meters and square meters):</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpatialReference webMercator= SpatialReference.create(3857);\nPolygon newPolygon = GeometryEngine.project(polygon,wgs84,webMercator);\n</code></pre>\n<p>However, I receive an error that the method is not found. I have seen several examples use this method to project a geometry from one spatial reference system to another. I also could not find this method in the <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/GeometryEngine.html\" rel=\"nofollow noreferrer\">documentation</a> of the <code>GeometryEngine</code> class. Does anyone have any ideas what went wrong here? Your help would be much appreciated.</p>\n"},{"tags":["java","redis","sdk","lettuce"],"owner":{"account_id":13542899,"reputation":434,"user_id":9770110,"display_name":"Nipuna Ranasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701792201,"creation_date":1701792201,"question_id":77607618,"body_markdown":"I am using the Lettuce Core library, a Java Redis SDK, and noticed the following logs during the client initialization:\r\n\r\n```\r\nDec 05, 2023 3:48:47 PM io.lettuce.core.EpollProvider &lt;clinit&gt;\r\nINFO: Starting without optional epoll library\r\nDec 05, 2023 3:48:47 PM io.lettuce.core.KqueueProvider &lt;clinit&gt;\r\nINFO: Starting without optional kqueue library\r\n```\r\n\r\nWhat&#39;s the significance of these logs, and should I be concerned about not having the optional `epoll` and `kqueue` libraries? I&#39;m particularly interested in understanding any performance considerations or functional differences when these optional libraries are not included.","title":"What does it mean when Lettuce Core logs indicate missing epoll and kqueue libraries during initialization?","body":"<p>I am using the Lettuce Core library, a Java Redis SDK, and noticed the following logs during the client initialization:</p>\n<pre><code>Dec 05, 2023 3:48:47 PM io.lettuce.core.EpollProvider &lt;clinit&gt;\nINFO: Starting without optional epoll library\nDec 05, 2023 3:48:47 PM io.lettuce.core.KqueueProvider &lt;clinit&gt;\nINFO: Starting without optional kqueue library\n</code></pre>\n<p>What's the significance of these logs, and should I be concerned about not having the optional <code>epoll</code> and <code>kqueue</code> libraries? I'm particularly interested in understanding any performance considerations or functional differences when these optional libraries are not included.</p>\n"},{"tags":["java","ssl-certificate","httpurlconnection"],"comments":[{"owner":{"account_id":1093179,"reputation":297,"user_id":1087338,"accept_rate":0,"display_name":"sus007"},"score":11,"creation_date":1417442365,"post_id":21076179,"comment_id":43691559,"body_markdown":"Hello Please check below URL. I am sure these will help you. http://www.java-samples.com/showtutorial.php?tutorialid=210 https://confluence.atlassian.com/display/JIRAKB/Unable+to+Connect+to+SSL+Services+due+to+PKIX+Path+Building+Failed+sun.security.provider.certpath.SunCertPathBuilderException. You have to add your ssl certificate into java truststore certificate (Path: jre/lib/security/cacerts).","body":"Hello Please check below URL. I am sure these will help you. <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=210\" rel=\"nofollow noreferrer\">java-samples.com/showtutorial.php?tutorialid=210</a> <a href=\"https://confluence.atlassian.com/display/JIRAKB/Unable+to+Connect+to+SSL+Services+due+to+PKIX+Path+Building+Failed+sun.security.provider.certpath.SunCertPathBuilderException\" rel=\"nofollow noreferrer\">confluence.atlassian.com/display/JIRAKB/&hellip;</a>. You have to add your ssl certificate into java truststore certificate (Path: jre/lib/security/cacerts)."},{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":0,"creation_date":1478245793,"post_id":21076179,"comment_id":68084371,"body_markdown":"Please refer [this](http://stackoverflow.com/a/40417523/1802348) answer for solution plus do confirm you are packaging your software as bundled jre ? if yes then copy your cacerts file form system and replace that packaged jre cacerts file.","body":"Please refer <a href=\"http://stackoverflow.com/a/40417523/1802348\">this</a> answer for solution plus do confirm you are packaging your software as bundled jre ? if yes then copy your cacerts file form system and replace that packaged jre cacerts file."},{"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"score":0,"creation_date":1478521938,"post_id":21076179,"comment_id":68174751,"body_markdown":"try this http://stackoverflow.com/a/9210661/4741746 may be this is your answer","body":"try this <a href=\"http://stackoverflow.com/a/9210661/4741746\">stackoverflow.com/a/9210661/4741746</a> may be this is your answer"},{"owner":{"account_id":1218424,"reputation":793,"user_id":1185559,"accept_rate":30,"display_name":"Reddymails"},"score":4,"creation_date":1497376314,"post_id":21076179,"comment_id":76048454,"body_markdown":"I just used this java code and for https don&#39;t forget to specify the port as 443.\nJava code at \nhttps://github.com/escline/InstallCert/blob/master/InstallCert.java\n\nIt will take your CACERTS file and will add all those plus the current cert for the URL you give as input.\nIn my case I hardcoded the values to \nhost=&quot;mywebservice.uat.xyz.com&quot;;\nport=443;\npassphrase=&quot;changeit&quot;.toCharArray();\n\nThen the program creates a new file called &quot;jssecacerts&quot; which will have everything. Rename this to &quot;cacerts&quot; and use this . You will be all set.","body":"I just used this java code and for https don&#39;t forget to specify the port as 443. Java code at  <a href=\"https://github.com/escline/InstallCert/blob/master/InstallCert.java\" rel=\"nofollow noreferrer\">github.com/escline/InstallCert/blob/master/InstallCert.java</a>  It will take your CACERTS file and will add all those plus the current cert for the URL you give as input. In my case I hardcoded the values to  host=&quot;mywebservice.uat.xyz.com&quot;; port=443; passphrase=&quot;changeit&quot;.toCharArray();  Then the program creates a new file called &quot;jssecacerts&quot; which will have everything. Rename this to &quot;cacerts&quot; and use this . You will be all set."},{"owner":{"account_id":15387,"reputation":63710,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1614010116,"post_id":21076179,"comment_id":117246835,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"},{"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"score":0,"creation_date":1616497272,"post_id":21076179,"comment_id":118014538,"body_markdown":"I just replace HTTPS to HTTP and it works. Maybe my comment will be useful for someone","body":"I just replace HTTPS to HTTP and it works. Maybe my comment will be useful for someone"},{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":0,"creation_date":1625618203,"post_id":21076179,"comment_id":120672576,"body_markdown":"When running `mvn` adding this argument fixed it for me because it wasn&#39;t using the default java trust store in JAVA_HOME for some reason: `-&quot;Djavax.net.ssl.trustStore&quot;=&quot;C:\\path\\to\\your\\cacerts&quot;`","body":"When running <code>mvn</code> adding this argument fixed it for me because it wasn&#39;t using the default java trust store in JAVA_HOME for some reason: <code>-&quot;Djavax.net.ssl.trustStore&quot;=&quot;C:\\path\\to\\your\\cacerts&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2928224,"reputation":1,"user_id":2509136,"display_name":"ketan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389555173,"creation_date":1389555173,"answer_id":21079274,"question_id":21076179,"body_markdown":"Here normally this kind of exception occurs when there is mismatch in the PATH of trusted certificate. Check the configuration or path where this server certificate is required for secured communication.  ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Here normally this kind of exception occurs when there is mismatch in the PATH of trusted certificate. Check the configuration or path where this server certificate is required for secured communication.  </p>\n"},{"tags":[],"owner":{"account_id":107535,"reputation":18395,"user_id":285878,"accept_rate":94,"display_name":"Jeremy Goodell"},"down_vote_count":1,"up_vote_count":125,"is_accepted":false,"score":124,"last_activity_date":1391321704,"creation_date":1391320514,"answer_id":21507568,"question_id":21076179,"body_markdown":"After many hours trying to build cert files to get my Java 6 installation working with the new twitter cert&#39;s, I finally stumbled onto an incredibly simple solution buried in a comment in one of the message boards. Just copy the cacerts file from a Java 7 installation and overwrite the one in your Java 6 installation. Probably best to make a backup of the cacerts file first, but then you just copy the new one in and BOOM! it just works.\r\n\r\nNote that I actually copied a Windows cacerts file onto a Linux installation and it worked just fine.\r\n\r\nThe file is located in `jre/lib/security/cacerts` in both the old and new Java jdk installations.\r\n\r\nHope this saves someone else hours of aggravation.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>After many hours trying to build cert files to get my Java 6 installation working with the new twitter cert's, I finally stumbled onto an incredibly simple solution buried in a comment in one of the message boards. Just copy the cacerts file from a Java 7 installation and overwrite the one in your Java 6 installation. Probably best to make a backup of the cacerts file first, but then you just copy the new one in and BOOM! it just works.</p>\n\n<p>Note that I actually copied a Windows cacerts file onto a Linux installation and it worked just fine.</p>\n\n<p>The file is located in <code>jre/lib/security/cacerts</code> in both the old and new Java jdk installations.</p>\n\n<p>Hope this saves someone else hours of aggravation.</p>\n"},{"tags":[],"owner":{"account_id":349327,"reputation":2203,"user_id":684549,"accept_rate":100,"display_name":"will824"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1452253154,"creation_date":1432911143,"answer_id":30532709,"question_id":21076179,"body_markdown":"I have stumbled upon this issue which took many hours of research to fix, specially with auto-generated certificates, which unlike Official ones, are quite tricky and Java does not like them that much.\r\n\r\nPlease check the following link: [Solve Problem with certificates in Java][1]\r\n\r\nBasically you have to add the certificate from the server to the Java Home certs. \r\n\r\n 1. Generate or Get your certificate and configure Tomcat to use it in Servers.xml\r\n 2. Download the Java source code of the class `InstallCert` and execute it while the server is running, providing the following arguments `server[:port]`. No password is needed, as the original password works for the Java certs (&quot;changeit&quot;).\r\n 3. The Program will connect to the server and Java will throw an exception, it will analyze the certificate provided by the server and allow you to create a `jssecerts` file inside the directory where you executed the Program (If executed from Eclipse then make sure you configure the Work directory in `Run -&gt; Configurations`).\r\n 4. Manually copy that file to `$JAVA_HOME/jre/lib/security`\r\n\r\nAfter following these steps, the connections with the certificate will not generate exceptions anymore within Java.\r\n\r\nThe following source code is important and it disappeared from (Sun) Oracle blogs, the only page I found it was on the link provided, therefore I am attaching it in the answer for any reference.\r\n\r\n \r\n\r\n    /*\r\n     * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    /**\r\n     * Originally from:\r\n     * http://blogs.sun.com/andreas/resource/InstallCert.java\r\n     * Use:\r\n     * java InstallCert hostname\r\n     * Example:\r\n     *% java InstallCert ecc.fedora.redhat.com\r\n     */\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.io.*;\r\n    import java.security.KeyStore;\r\n    import java.security.MessageDigest;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    /**\r\n     * Class used to add the server&#39;s certificate to the KeyStore\r\n     * with your trusted certificates.\r\n     */\r\n    public class InstallCert {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String host;\r\n            int port;\r\n            char[] passphrase;\r\n            if ((args.length == 1) || (args.length == 2)) {\r\n                String[] c = args[0].split(&quot;:&quot;);\r\n                host = c[0];\r\n                port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\r\n                String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\r\n                passphrase = p.toCharArray();\r\n            } else {\r\n                System.out.println(&quot;Usage: java InstallCert [:port] [passphrase]&quot;);\r\n                return;\r\n            }\r\n    \r\n            File file = new File(&quot;jssecacerts&quot;);\r\n            if (file.isFile() == false) {\r\n                char SEP = File.separatorChar;\r\n                File dir = new File(System.getProperty(&quot;java.home&quot;) + SEP\r\n                        + &quot;lib&quot; + SEP + &quot;security&quot;);\r\n                file = new File(dir, &quot;jssecacerts&quot;);\r\n                if (file.isFile() == false) {\r\n                    file = new File(dir, &quot;cacerts&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\r\n            InputStream in = new FileInputStream(file);\r\n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(in, passphrase);\r\n            in.close();\r\n    \r\n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            TrustManagerFactory tmf =\r\n                    TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n            X509TrustManager defaultTrustManager = (X509TrustManager) tmf.getTrustManagers()[0];\r\n            SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\r\n            context.init(null, new TrustManager[]{tm}, null);\r\n            SSLSocketFactory factory = context.getSocketFactory();\r\n    \r\n            System.out.println(&quot;Opening connection to &quot; + host + &quot;:&quot; + port + &quot;...&quot;);\r\n            SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\r\n            socket.setSoTimeout(10000);\r\n            try {\r\n                System.out.println(&quot;Starting SSL handshake...&quot;);\r\n                socket.startHandshake();\r\n                socket.close();\r\n                System.out.println();\r\n                System.out.println(&quot;No errors, certificate is already trusted&quot;);\r\n            } catch (SSLException e) {\r\n                System.out.println();\r\n                e.printStackTrace(System.out);\r\n            }\r\n    \r\n            X509Certificate[] chain = tm.chain;\r\n            if (chain == null) {\r\n                System.out.println(&quot;Could not obtain server certificate chain&quot;);\r\n                return;\r\n            }\r\n    \r\n            BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\r\n            System.out.println();\r\n            MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n            MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            for (int i = 0; i &lt; chain.length; i++) {\r\n                X509Certificate cert = chain[i];\r\n                System.out.println\r\n                        (&quot; &quot; + (i + 1) + &quot; Subject &quot; + cert.getSubjectDN());\r\n                System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\r\n                sha1.update(cert.getEncoded());\r\n                System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\r\n                md5.update(cert.getEncoded());\r\n                System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\r\n                System.out.println();\r\n            }\r\n    \r\n            System.out.println(&quot;Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]&quot;);\r\n            String line = reader.readLine().trim();\r\n            int k;\r\n            try {\r\n                k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;KeyStore not changed&quot;);\r\n                return;\r\n            }\r\n    \r\n            X509Certificate cert = chain[k];\r\n            String alias = host + &quot;-&quot; + (k + 1);\r\n            ks.setCertificateEntry(alias, cert);\r\n    \r\n            OutputStream out = new FileOutputStream(&quot;jssecacerts&quot;);\r\n            ks.store(out, passphrase);\r\n            out.close();\r\n    \r\n            System.out.println();\r\n            System.out.println(cert);\r\n            System.out.println();\r\n            System.out.println\r\n                    (&quot;Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;&quot;\r\n                            + alias + &quot;&#39;&quot;);\r\n        }\r\n    \r\n        private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n        private static String toHexString(byte[] bytes) {\r\n            StringBuilder sb = new StringBuilder(bytes.length * 3);\r\n            for (int b : bytes) {\r\n                b &amp;= 0xff;\r\n                sb.append(HEXDIGITS[b &gt;&gt; 4]);\r\n                sb.append(HEXDIGITS[b &amp; 15]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static class SavingTrustManager implements X509TrustManager {\r\n    \r\n            private final X509TrustManager tm;\r\n            private X509Certificate[] chain;\r\n    \r\n            SavingTrustManager(X509TrustManager tm) {\r\n                this.tm = tm;\r\n            }\r\n    \r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n    \r\n            public void checkClientTrusted(X509Certificate[] chain, String authType)\r\n                    throws CertificateException {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n    \r\n            public void checkServerTrusted(X509Certificate[] chain, String authType)\r\n                    throws CertificateException {\r\n                this.chain = chain;\r\n                tm.checkServerTrusted(chain, authType);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://nodsw.com/blog/leeland/2006/12/06-no-more-unable-find-valid-certification-path-requested-target","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I have stumbled upon this issue which took many hours of research to fix, specially with auto-generated certificates, which unlike Official ones, are quite tricky and Java does not like them that much.</p>\n\n<p>Please check the following link: <a href=\"http://nodsw.com/blog/leeland/2006/12/06-no-more-unable-find-valid-certification-path-requested-target\">Solve Problem with certificates in Java</a></p>\n\n<p>Basically you have to add the certificate from the server to the Java Home certs. </p>\n\n<ol>\n<li>Generate or Get your certificate and configure Tomcat to use it in Servers.xml</li>\n<li>Download the Java source code of the class <code>InstallCert</code> and execute it while the server is running, providing the following arguments <code>server[:port]</code>. No password is needed, as the original password works for the Java certs (\"changeit\").</li>\n<li>The Program will connect to the server and Java will throw an exception, it will analyze the certificate provided by the server and allow you to create a <code>jssecerts</code> file inside the directory where you executed the Program (If executed from Eclipse then make sure you configure the Work directory in <code>Run -&gt; Configurations</code>).</li>\n<li>Manually copy that file to <code>$JAVA_HOME/jre/lib/security</code></li>\n</ol>\n\n<p>After following these steps, the connections with the certificate will not generate exceptions anymore within Java.</p>\n\n<p>The following source code is important and it disappeared from (Sun) Oracle blogs, the only page I found it was on the link provided, therefore I am attaching it in the answer for any reference.</p>\n\n<pre><code>/*\n * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * Originally from:\n * http://blogs.sun.com/andreas/resource/InstallCert.java\n * Use:\n * java InstallCert hostname\n * Example:\n *% java InstallCert ecc.fedora.redhat.com\n */\n\nimport javax.net.ssl.*;\nimport java.io.*;\nimport java.security.KeyStore;\nimport java.security.MessageDigest;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\n/**\n * Class used to add the server's certificate to the KeyStore\n * with your trusted certificates.\n */\npublic class InstallCert {\n\n    public static void main(String[] args) throws Exception {\n        String host;\n        int port;\n        char[] passphrase;\n        if ((args.length == 1) || (args.length == 2)) {\n            String[] c = args[0].split(\":\");\n            host = c[0];\n            port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\n            String p = (args.length == 1) ? \"changeit\" : args[1];\n            passphrase = p.toCharArray();\n        } else {\n            System.out.println(\"Usage: java InstallCert [:port] [passphrase]\");\n            return;\n        }\n\n        File file = new File(\"jssecacerts\");\n        if (file.isFile() == false) {\n            char SEP = File.separatorChar;\n            File dir = new File(System.getProperty(\"java.home\") + SEP\n                    + \"lib\" + SEP + \"security\");\n            file = new File(dir, \"jssecacerts\");\n            if (file.isFile() == false) {\n                file = new File(dir, \"cacerts\");\n            }\n        }\n        System.out.println(\"Loading KeyStore \" + file + \"...\");\n        InputStream in = new FileInputStream(file);\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(in, passphrase);\n        in.close();\n\n        SSLContext context = SSLContext.getInstance(\"TLS\");\n        TrustManagerFactory tmf =\n                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        X509TrustManager defaultTrustManager = (X509TrustManager) tmf.getTrustManagers()[0];\n        SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\n        context.init(null, new TrustManager[]{tm}, null);\n        SSLSocketFactory factory = context.getSocketFactory();\n\n        System.out.println(\"Opening connection to \" + host + \":\" + port + \"...\");\n        SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\n        socket.setSoTimeout(10000);\n        try {\n            System.out.println(\"Starting SSL handshake...\");\n            socket.startHandshake();\n            socket.close();\n            System.out.println();\n            System.out.println(\"No errors, certificate is already trusted\");\n        } catch (SSLException e) {\n            System.out.println();\n            e.printStackTrace(System.out);\n        }\n\n        X509Certificate[] chain = tm.chain;\n        if (chain == null) {\n            System.out.println(\"Could not obtain server certificate chain\");\n            return;\n        }\n\n        BufferedReader reader =\n                new BufferedReader(new InputStreamReader(System.in));\n\n        System.out.println();\n        System.out.println(\"Server sent \" + chain.length + \" certificate(s):\");\n        System.out.println();\n        MessageDigest sha1 = MessageDigest.getInstance(\"SHA1\");\n        MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n        for (int i = 0; i &lt; chain.length; i++) {\n            X509Certificate cert = chain[i];\n            System.out.println\n                    (\" \" + (i + 1) + \" Subject \" + cert.getSubjectDN());\n            System.out.println(\"   Issuer  \" + cert.getIssuerDN());\n            sha1.update(cert.getEncoded());\n            System.out.println(\"   sha1    \" + toHexString(sha1.digest()));\n            md5.update(cert.getEncoded());\n            System.out.println(\"   md5     \" + toHexString(md5.digest()));\n            System.out.println();\n        }\n\n        System.out.println(\"Enter certificate to add to trusted keystore or 'q' to quit: [1]\");\n        String line = reader.readLine().trim();\n        int k;\n        try {\n            k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\n        } catch (NumberFormatException e) {\n            System.out.println(\"KeyStore not changed\");\n            return;\n        }\n\n        X509Certificate cert = chain[k];\n        String alias = host + \"-\" + (k + 1);\n        ks.setCertificateEntry(alias, cert);\n\n        OutputStream out = new FileOutputStream(\"jssecacerts\");\n        ks.store(out, passphrase);\n        out.close();\n\n        System.out.println();\n        System.out.println(cert);\n        System.out.println();\n        System.out.println\n                (\"Added certificate to keystore 'jssecacerts' using alias '\"\n                        + alias + \"'\");\n    }\n\n    private static final char[] HEXDIGITS = \"0123456789abcdef\".toCharArray();\n\n    private static String toHexString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder(bytes.length * 3);\n        for (int b : bytes) {\n            b &amp;= 0xff;\n            sb.append(HEXDIGITS[b &gt;&gt; 4]);\n            sb.append(HEXDIGITS[b &amp; 15]);\n            sb.append(' ');\n        }\n        return sb.toString();\n    }\n\n    private static class SavingTrustManager implements X509TrustManager {\n\n        private final X509TrustManager tm;\n        private X509Certificate[] chain;\n\n        SavingTrustManager(X509TrustManager tm) {\n            this.tm = tm;\n        }\n\n        public X509Certificate[] getAcceptedIssuers() {\n            throw new UnsupportedOperationException();\n        }\n\n        public void checkClientTrusted(X509Certificate[] chain, String authType)\n                throws CertificateException {\n            throw new UnsupportedOperationException();\n        }\n\n        public void checkServerTrusted(X509Certificate[] chain, String authType)\n                throws CertificateException {\n            this.chain = chain;\n            tm.checkServerTrusted(chain, authType);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398031,"reputation":1577,"user_id":1327403,"display_name":"gorums"},"down_vote_count":30,"up_vote_count":85,"is_accepted":false,"score":55,"last_activity_date":1661335685,"creation_date":1453735724,"answer_id":34996234,"question_id":21076179,"body_markdown":"    -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true\r\n\r\nIt is used for jump the certificate validation.\r\n\r\n**Warning!**\r\n-----------\r\n\r\nOnly use for development purposes for this is unsecure!","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<pre><code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true\n</code></pre>\n<p>It is used for jump the certificate validation.</p>\n<h2><strong>Warning!</strong></h2>\n<p>Only use for development purposes for this is unsecure!</p>\n"},{"tags":[],"owner":{"account_id":1913170,"reputation":19636,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"down_vote_count":2,"up_vote_count":1107,"is_accepted":true,"score":1105,"last_activity_date":1614009279,"creation_date":1459861249,"answer_id":36427118,"question_id":21076179,"body_markdown":"1. Go to URL in your browser:\r\n  * firefox -  click on HTTPS certificate chain (the lock icon right next to URL address). Click `&quot;more info&quot; &gt; &quot;security&quot; &gt; &quot;show certificate&quot; &gt; &quot;details&quot; &gt; &quot;export..&quot;`. Pickup the name and choose file type example.cer\r\n  * chrome - click on site icon left to address in address bar, select &quot;Certificate&quot; -&gt; &quot;Details&quot; -&gt; &quot;Export&quot; and save in format &quot;Der-encoded binary, single certificate&quot;.\r\n2. Now you have file with keystore and you have to add it to your JVM. Determine location of cacerts files, eg. \r\n`C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts. `\r\n\r\n3. Next import the `example.cer` file into cacerts in command line (may need administrator command prompt):\r\n\r\n`keytool -import -alias example -keystore  &quot;C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot; -file example.cer` \r\n\r\nYou will be asked for password which default is `changeit`\r\n\r\nRestart your JVM/PC.\r\n\r\nsource:\r\nhttp://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\r\n    \r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<ol>\n<li>Go to URL in your browser:</li>\n</ol>\n<ul>\n<li>firefox -  click on HTTPS certificate chain (the lock icon right next to URL address). Click <code>&quot;more info&quot; &gt; &quot;security&quot; &gt; &quot;show certificate&quot; &gt; &quot;details&quot; &gt; &quot;export..&quot;</code>. Pickup the name and choose file type example.cer</li>\n<li>chrome - click on site icon left to address in address bar, select &quot;Certificate&quot; -&gt; &quot;Details&quot; -&gt; &quot;Export&quot; and save in format &quot;Der-encoded binary, single certificate&quot;.</li>\n</ul>\n<ol start=\"2\">\n<li><p>Now you have file with keystore and you have to add it to your JVM. Determine location of cacerts files, eg.\n<code>C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts. </code></p>\n</li>\n<li><p>Next import the <code>example.cer</code> file into cacerts in command line (may need administrator command prompt):</p>\n</li>\n</ol>\n<p><code>keytool -import -alias example -keystore  &quot;C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot; -file example.cer</code></p>\n<p>You will be asked for password which default is <code>changeit</code></p>\n<p>Restart your JVM/PC.</p>\n<p>source:\n<a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"noreferrer\">http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html</a></p>\n"},{"tags":[],"owner":{"account_id":1466556,"reputation":9,"user_id":1379218,"display_name":"user1379218"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1465241545,"creation_date":1465241545,"answer_id":37665482,"question_id":21076179,"body_markdown":"i have the same problem on ubuntu 15.10. Please try download plugin locally e.g. https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip and install with this command:\r\n\r\n    sudo /usr/share/elasticsearch/bin/plugin install file:/home/dev/Downloads/elasticsearch-kopf-master.zip\r\n\r\nPath maybe different depending on your environment. \r\n\r\nRegards. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>i have the same problem on ubuntu 15.10. Please try download plugin locally e.g. <a href=\"https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip\" rel=\"nofollow\">https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip</a> and install with this command:</p>\n\n<pre><code>sudo /usr/share/elasticsearch/bin/plugin install file:/home/dev/Downloads/elasticsearch-kopf-master.zip\n</code></pre>\n\n<p>Path maybe different depending on your environment. </p>\n\n<p>Regards. </p>\n"},{"tags":[],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466471399,"creation_date":1466471399,"answer_id":37934102,"question_id":21076179,"body_markdown":"For me, certificate error popped up because I had fiddler running in background and that messes up with certificate. It acts as a proxy so close that and restart eclipse.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>For me, certificate error popped up because I had fiddler running in background and that messes up with certificate. It acts as a proxy so close that and restart eclipse.</p>\n"},{"tags":[],"owner":{"account_id":236595,"reputation":6900,"user_id":504184,"accept_rate":56,"display_name":"Mike Mitterer"},"down_vote_count":1,"up_vote_count":108,"is_accepted":false,"score":107,"last_activity_date":1580269207,"creation_date":1479823583,"answer_id":40743987,"question_id":21076179,"body_markdown":"MY UI approach:\r\n\r\n 1. Download keystore explorer from [here][1] \r\n 2. Open $JAVA_HOME/jre/lib/security/cacerts\r\n 3. enter PW: changeit (Can be changeme on Mac)\r\n 4. Import your .crt file\r\n\r\nCMD-Line:\r\n\r\n  1. `keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts`\r\n  2. enter PW: `changeit` (Can be changeme on Mac)\r\n\r\n\r\n  [1]: https://keystore-explorer.org/","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>MY UI approach:</p>\n\n<ol>\n<li>Download keystore explorer from <a href=\"https://keystore-explorer.org/\" rel=\"noreferrer\">here</a> </li>\n<li>Open $JAVA_HOME/jre/lib/security/cacerts</li>\n<li>enter PW: changeit (Can be changeme on Mac)</li>\n<li>Import your .crt file</li>\n</ol>\n\n<p>CMD-Line:</p>\n\n<ol>\n<li><code>keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts</code></li>\n<li>enter PW: <code>changeit</code> (Can be changeme on Mac)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9880348,"reputation":1704,"user_id":7316656,"display_name":"M. F."},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1482311953,"creation_date":1482311953,"answer_id":41259084,"question_id":21076179,"body_markdown":"I had a slightly different situation, when both JDK and JRE 1.8.0_112 were present on my system. \r\n\r\nI imported the new CA certificates into `[JDK_FOLDER]\\jre\\lib\\security\\cacerts` using the already known command:\r\n\r\n    keytool -import -trustcacerts -keystore cacerts -alias &lt;new_ca_alias&gt; -file &lt;path_to_ca_cert_file&gt;\r\n\r\nStill, I kept getting the same *PKIX path building failed* error. \r\n\r\nI added debug information to the java CLI, by using `java -Djavax.net.debug=all ... &gt; debug.log`. In the debug.log file, the line that begins with *trustStore is:* actually pointed to the cacerts store found in `[JRE_FOLDER]\\lib\\security\\cacerts`. \r\n\r\nIn my case the solution was to copy the cacerts file used by JDK (which had the new CAs added) over the one used by the JRE and that fixed the issue. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I had a slightly different situation, when both JDK and JRE 1.8.0_112 were present on my system. </p>\n\n<p>I imported the new CA certificates into <code>[JDK_FOLDER]\\jre\\lib\\security\\cacerts</code> using the already known command:</p>\n\n<pre><code>keytool -import -trustcacerts -keystore cacerts -alias &lt;new_ca_alias&gt; -file &lt;path_to_ca_cert_file&gt;\n</code></pre>\n\n<p>Still, I kept getting the same <em>PKIX path building failed</em> error. </p>\n\n<p>I added debug information to the java CLI, by using <code>java -Djavax.net.debug=all ... &gt; debug.log</code>. In the debug.log file, the line that begins with <em>trustStore is:</em> actually pointed to the cacerts store found in <code>[JRE_FOLDER]\\lib\\security\\cacerts</code>. </p>\n\n<p>In my case the solution was to copy the cacerts file used by JDK (which had the new CAs added) over the one used by the JRE and that fixed the issue. </p>\n"},{"tags":[],"owner":{"account_id":5004580,"reputation":311,"user_id":4022604,"display_name":"Sneha Shejwal"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1652273140,"creation_date":1485147184,"answer_id":41799444,"question_id":21076179,"body_markdown":"I wanted to import certificate for `smtp.gmail.com`. The only solution that worked for me is\r\n\r\n1. Enter command to view this certificate\r\n\r\n       D:\\openssl\\bin\\openssl.exe s_client -connect smtp.gmail.com:465\r\n\r\n2. Copy and save the lines between `-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----` into a file, `gmail.cer`\r\n\r\n3. Run\r\n\r\n       keytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file C:\\Users\\Admin\\Desktop\\gmail.cer\r\n\r\n4. Enter password: `changeit`\r\n5. Click &quot;Yes&quot; to import the certificate \r\n6. Restart Java\r\n\r\nNow run the command and you are good to go.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I wanted to import certificate for <code>smtp.gmail.com</code>. The only solution that worked for me is</p>\n<ol>\n<li><p>Enter command to view this certificate</p>\n<pre><code>D:\\openssl\\bin\\openssl.exe s_client -connect smtp.gmail.com:465\n</code></pre>\n</li>\n<li><p>Copy and save the lines between <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code> into a file, <code>gmail.cer</code></p>\n</li>\n<li><p>Run</p>\n<pre><code>keytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file C:\\Users\\Admin\\Desktop\\gmail.cer\n</code></pre>\n</li>\n<li><p>Enter password: <code>changeit</code></p>\n</li>\n<li><p>Click &quot;Yes&quot; to import the certificate</p>\n</li>\n<li><p>Restart Java</p>\n</li>\n</ol>\n<p>Now run the command and you are good to go.</p>\n"},{"tags":[],"owner":{"account_id":4578755,"reputation":81,"user_id":3716485,"display_name":"royfripple"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493782579,"creation_date":1493672836,"answer_id":43726527,"question_id":21076179,"body_markdown":"I came across this question while trying to install the Cucumber-Eclipse plugin in Eclipse via their update site.  I received the same SunCertPathBuilderException error:\r\n\r\n    Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\r\n        Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\r\n        sun.security.validator.ValidatorException: PKIX path building failed: \r\n       sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nWhile some of the other answers are appropriate and helpful for this question&#39;s given situation, they were nevertheless unhelpful and misleading for my issue. \r\n\r\nIn my case, the issue was that the URL provided for their update site is:\r\n\r\n&gt; https://cucumber.io/cucumber-eclipse/update-site\r\n\r\nHowever when navigating to it via a browser, it redirected to (note the added &quot;**.github**&quot;):\r\n\r\n&gt; http://cucumber.github.io/cucumber-eclipse/update-site/\r\n\r\n\r\nSo the resolution is to simply use the redirected version of the update site URL when adding the update site in eclipse.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I came across this question while trying to install the Cucumber-Eclipse plugin in Eclipse via their update site.  I received the same SunCertPathBuilderException error:</p>\n\n<pre><code>Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\n    Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\n    sun.security.validator.ValidatorException: PKIX path building failed: \n   sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>While some of the other answers are appropriate and helpful for this question's given situation, they were nevertheless unhelpful and misleading for my issue. </p>\n\n<p>In my case, the issue was that the URL provided for their update site is:</p>\n\n<blockquote>\n  <p><a href=\"https://cucumber.io/cucumber-eclipse/update-site\" rel=\"nofollow noreferrer\">https://cucumber.io/cucumber-eclipse/update-site</a></p>\n</blockquote>\n\n<p>However when navigating to it via a browser, it redirected to (note the added \"<strong>.github</strong>\"):</p>\n\n<blockquote>\n  <p><a href=\"http://cucumber.github.io/cucumber-eclipse/update-site/\" rel=\"nofollow noreferrer\">http://cucumber.github.io/cucumber-eclipse/update-site/</a></p>\n</blockquote>\n\n<p>So the resolution is to simply use the redirected version of the update site URL when adding the update site in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":8755685,"reputation":125,"user_id":6547358,"display_name":"alk453"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500028311,"creation_date":1500028311,"answer_id":45100780,"question_id":21076179,"body_markdown":"Adding `cacerts` did not work for me.\r\nAfter enabling log with flag `-Djavax.net.debug=all`, then came to know java reading from `jssecacerts`.\r\n\r\nImport to `jssecacerts` worked finally.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Adding <code>cacerts</code> did not work for me.\nAfter enabling log with flag <code>-Djavax.net.debug=all</code>, then came to know java reading from <code>jssecacerts</code>.</p>\n\n<p>Import to <code>jssecacerts</code> worked finally.</p>\n"},{"tags":[],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503575760,"creation_date":1503575760,"answer_id":45860983,"question_id":21076179,"body_markdown":"goals:\r\n\r\n1. use https connections\r\n2. verify SSL chains\r\n3. do not deal with cacerts\r\n4. add certificate in runtime\r\n5. do not lose certificates from cacerts\r\n\r\nHow to do it:\r\n\r\n1. define own keystore\r\n2. put certificate into keystore\r\n3. redefine SSL default context with our custom class\r\n4. ???\r\n5. profit\r\n\r\nMy Keystore wrapper file:\r\n\r\n       \r\n    public class CertificateManager {\r\n    \r\n        private final static Logger logger = Logger.getLogger(CertificateManager.class);\r\n    \r\n        private String keyStoreLocation;\r\n        private String keyStorePassword;\r\n        private X509TrustManager myTrustManager;\r\n        private static KeyStore myTrustStore;\r\n    \r\n        public CertificateManager(String keyStoreLocation, String keyStorePassword) throws Exception {\r\n            this.keyStoreLocation = keyStoreLocation;\r\n            this.keyStorePassword = keyStorePassword;\r\n            myTrustStore = createKeyStore(keyStoreLocation, keyStorePassword);\r\n        }\r\n    \r\n        public void addCustomCertificate(String certFileName, String certificateAlias)\r\n                throws Exception {\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init((KeyStore) null);\r\n            Certificate certificate = myTrustStore.getCertificate(certificateAlias);\r\n            if (certificate == null) {\r\n                logger.info(&quot;Certificate not exists&quot;);\r\n                addCertificate(certFileName, certificateAlias);\r\n            } else {\r\n                logger.info(&quot;Certificate exists&quot;);\r\n            }\r\n            tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(myTrustStore);\r\n            for (TrustManager tm : tmf.getTrustManagers()) {\r\n                if (tm instanceof X509TrustManager) {\r\n                    setMytrustManager((X509TrustManager) tm);\r\n                    logger.info(&quot;Trust manager found&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private InputStream fullStream(String fname) throws IOException {\r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n            InputStream resource = classLoader.getResourceAsStream(fname);\r\n            try {\r\n                if (resource != null) {\r\n                    DataInputStream dis = new DataInputStream(resource);\r\n                    byte[] bytes = new byte[dis.available()];\r\n                    dis.readFully(bytes);\r\n                    return new ByteArrayInputStream(bytes);\r\n                } else {\r\n                    logger.info(&quot;resource not found&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;exception in certificate fetching as resource&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static KeyStore createKeyStore(String keystore, String pass) throws Exception {\r\n            try {\r\n                InputStream in = CertificateManager.class.getClass().getResourceAsStream(keystore);\r\n                KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                keyStore.load(in, pass.toCharArray());\r\n                logger.info(&quot;Keystore was created from resource file&quot;);\r\n                return keyStore;\r\n            } catch (Exception e) {\r\n                logger.info(&quot;Fail to create keystore from resource file&quot;);\r\n            }\r\n    \r\n            File file = new File(keystore);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            if (file.exists()) {\r\n                keyStore.load(new FileInputStream(file), pass.toCharArray());\r\n                logger.info(&quot;Default keystore loaded&quot;);\r\n            } else {\r\n                keyStore.load(null, null);\r\n                keyStore.store(new FileOutputStream(file), pass.toCharArray());\r\n                logger.info(&quot;New keystore created&quot;);\r\n            }\r\n            return keyStore;\r\n        }\r\n    \r\n        private void addCertificate(String certFileName, String certificateAlias) throws CertificateException,\r\n                IOException, KeyStoreException, NoSuchAlgorithmException {\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            InputStream certStream = fullStream(certFileName);\r\n            Certificate certs = cf.generateCertificate(certStream);\r\n            myTrustStore.setCertificateEntry(certificateAlias, certs);\r\n            FileOutputStream out = new FileOutputStream(getKeyStoreLocation());\r\n            myTrustStore.store(out, getKeyStorePassword().toCharArray());\r\n            out.close();\r\n            logger.info(&quot;Certificate pushed&quot;);\r\n        }\r\n    \r\n        public String getKeyStoreLocation() {\r\n            return keyStoreLocation;\r\n        }\r\n    \r\n        public String getKeyStorePassword() {\r\n            return keyStorePassword;\r\n        }\r\n        public X509TrustManager getMytrustManager() {\r\n            return myTrustManager;\r\n        }\r\n        public void setMytrustManager(X509TrustManager myTrustManager) {\r\n            this.myTrustManager = myTrustManager;\r\n        }\r\n    }\r\n\r\nThis class will create keystore if necessary, and will be able to manage certificates inside of it. Now class for SSL context:\r\n\r\n   \r\n\r\n     \r\n    public class CustomTrustManager implements X509TrustManager {\r\n    \r\n        private final static Logger logger = Logger.getLogger(CertificateManager.class);\r\n    \r\n        private static SSLSocketFactory socketFactory;\r\n        private static CustomTrustManager instance = new CustomTrustManager();\r\n        private static List&lt;CertificateManager&gt; register = new ArrayList&lt;&gt;();\r\n    \r\n        public static CustomTrustManager getInstance() {\r\n            return instance;\r\n        }\r\n    \r\n        private X509TrustManager defaultTm;\r\n    \r\n        public void register(CertificateManager certificateManager) {\r\n            for(CertificateManager manager : register) {\r\n                if(manager == certificateManager) {\r\n                    logger.info(&quot;Certificate manager already registered&quot;);\r\n                    return;\r\n                }\r\n            }\r\n            register.add(certificateManager);\r\n            logger.info(&quot;New Certificate manager registered&quot;);\r\n        }\r\n    \r\n        private CustomTrustManager() {\r\n            try {\r\n                String algorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\r\n    \r\n                tmf.init((KeyStore) null);\r\n                boolean found = false;\r\n                for (TrustManager tm : tmf.getTrustManagers()) {\r\n                    if (tm instanceof X509TrustManager) {\r\n                        defaultTm = (X509TrustManager) tm;\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(found) {\r\n                    logger.info(&quot;Default trust manager found&quot;);\r\n                } else {\r\n                    logger.warn(&quot;Default trust manager was not found&quot;);\r\n                }\r\n    \r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, new TrustManager[]{this}, null);\r\n                SSLContext.setDefault(sslContext);\r\n                socketFactory = sslContext.getSocketFactory();\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(socketFactory);\r\n    \r\n    \r\n                logger.info(&quot;Custom trust manager was set&quot;);\r\n            } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\r\n                logger.warn(&quot;Custom trust manager can&#39;t be set&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            List&lt;X509Certificate&gt; out = new ArrayList&lt;&gt;();\r\n            if (defaultTm != null) {\r\n                out.addAll(Arrays.asList(defaultTm.getAcceptedIssuers()));\r\n            }\r\n            int defaultCount = out.size();\r\n            logger.info(&quot;Default trust manager contain &quot; + defaultCount + &quot; certficates&quot;);\r\n            for(CertificateManager manager : register) {\r\n                X509TrustManager customTrustManager = manager.getMytrustManager();\r\n                X509Certificate[] issuers = customTrustManager.getAcceptedIssuers();\r\n                out.addAll(Arrays.asList(issuers));\r\n            }\r\n            logger.info(&quot;Custom trust managers contain &quot; + (out.size() - defaultCount) + &quot; certficates&quot;);\r\n            X509Certificate[] arrayOut = new X509Certificate[out.size()];\r\n            return out.toArray(arrayOut);\r\n        }\r\n    \r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] chain,\r\n                                       String authType) throws CertificateException {\r\n            for(CertificateManager certificateManager : register) {\r\n                X509TrustManager customTrustManager = certificateManager.getMytrustManager();\r\n                try {\r\n                    customTrustManager.checkServerTrusted(chain, authType);\r\n                    logger.info(&quot;Certificate chain (server) was aproved by custom trust manager&quot;);\r\n                    return;\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n            if (defaultTm != null) {\r\n                defaultTm.checkServerTrusted(chain, authType);\r\n                logger.info(&quot;Certificate chain (server) was aproved by default trust manager&quot;);\r\n            } else {\r\n                logger.info(&quot;Certificate chain (server) was rejected&quot;);\r\n                throw new CertificateException(&quot;Can&#39;t check server trusted certificate.&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] chain,\r\n                                       String authType) throws CertificateException {\r\n            try {\r\n                if (defaultTm != null) {\r\n                    defaultTm.checkClientTrusted(chain, authType);\r\n                    logger.info(&quot;Certificate chain (client) was aproved by default trust manager&quot;);\r\n                } else {\r\n                    throw new NullPointerException();\r\n                }\r\n            } catch (Exception e) {\r\n                for(CertificateManager certificateManager : register) {\r\n                    X509TrustManager customTrustManager = certificateManager.getMytrustManager();\r\n                    try {\r\n                        customTrustManager.checkClientTrusted(chain, authType);\r\n                        logger.info(&quot;Certificate chain (client) was aproved by custom trust manager&quot;);\r\n                        return;\r\n                    } catch (Exception e1) {\r\n                    }\r\n                }\r\n                logger.info(&quot;Certificate chain (client) was rejected&quot;);\r\n                throw new CertificateException(&quot;Can&#39;t check client trusted certificate.&quot;);\r\n            }\r\n        }\r\n    \r\n        public SSLSocketFactory getSocketFactory() {\r\n            return socketFactory;\r\n        }\r\n    }\r\n\r\nThis class made as singleton, because only one defaultSSL context allowed. So, now usage:\r\n     \r\n\r\n        \r\n                CertificateManager certificateManager = new CertificateManager(&quot;C:\\\\myapplication\\\\mykeystore.jks&quot;, &quot;changeit&quot;);\r\n                String certificatePath = &quot;C:\\\\myapplication\\\\public_key_for_your_ssl_service.crt&quot;;\r\n                try {\r\n                    certificateManager.addCustomCertificate(certificatePath, &quot;alias_for_public_key_for_your_ssl_service&quot;);\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Can&#39;t add custom certificate&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n                CustomTrustManager.getInstance().register(certificateManager);\r\n\r\n\r\nPossibly, it will not work with this settings, because I keep certificate file inside of resource folder, so my path is not absolute. But generally, it work perfectly.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>goals:</p>\n\n<ol>\n<li>use https connections</li>\n<li>verify SSL chains</li>\n<li>do not deal with cacerts</li>\n<li>add certificate in runtime</li>\n<li>do not lose certificates from cacerts</li>\n</ol>\n\n<p>How to do it:</p>\n\n<ol>\n<li>define own keystore</li>\n<li>put certificate into keystore</li>\n<li>redefine SSL default context with our custom class</li>\n<li>???</li>\n<li>profit</li>\n</ol>\n\n<p>My Keystore wrapper file:</p>\n\n<pre><code>public class CertificateManager {\n\n    private final static Logger logger = Logger.getLogger(CertificateManager.class);\n\n    private String keyStoreLocation;\n    private String keyStorePassword;\n    private X509TrustManager myTrustManager;\n    private static KeyStore myTrustStore;\n\n    public CertificateManager(String keyStoreLocation, String keyStorePassword) throws Exception {\n        this.keyStoreLocation = keyStoreLocation;\n        this.keyStorePassword = keyStorePassword;\n        myTrustStore = createKeyStore(keyStoreLocation, keyStorePassword);\n    }\n\n    public void addCustomCertificate(String certFileName, String certificateAlias)\n            throws Exception {\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init((KeyStore) null);\n        Certificate certificate = myTrustStore.getCertificate(certificateAlias);\n        if (certificate == null) {\n            logger.info(\"Certificate not exists\");\n            addCertificate(certFileName, certificateAlias);\n        } else {\n            logger.info(\"Certificate exists\");\n        }\n        tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(myTrustStore);\n        for (TrustManager tm : tmf.getTrustManagers()) {\n            if (tm instanceof X509TrustManager) {\n                setMytrustManager((X509TrustManager) tm);\n                logger.info(\"Trust manager found\");\n                break;\n            }\n        }\n    }\n\n    private InputStream fullStream(String fname) throws IOException {\n        ClassLoader classLoader = getClass().getClassLoader();\n        InputStream resource = classLoader.getResourceAsStream(fname);\n        try {\n            if (resource != null) {\n                DataInputStream dis = new DataInputStream(resource);\n                byte[] bytes = new byte[dis.available()];\n                dis.readFully(bytes);\n                return new ByteArrayInputStream(bytes);\n            } else {\n                logger.info(\"resource not found\");\n            }\n        } catch (Exception e) {\n            logger.error(\"exception in certificate fetching as resource\", e);\n        }\n        return null;\n    }\n\n    public static KeyStore createKeyStore(String keystore, String pass) throws Exception {\n        try {\n            InputStream in = CertificateManager.class.getClass().getResourceAsStream(keystore);\n            KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keyStore.load(in, pass.toCharArray());\n            logger.info(\"Keystore was created from resource file\");\n            return keyStore;\n        } catch (Exception e) {\n            logger.info(\"Fail to create keystore from resource file\");\n        }\n\n        File file = new File(keystore);\n        KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n        if (file.exists()) {\n            keyStore.load(new FileInputStream(file), pass.toCharArray());\n            logger.info(\"Default keystore loaded\");\n        } else {\n            keyStore.load(null, null);\n            keyStore.store(new FileOutputStream(file), pass.toCharArray());\n            logger.info(\"New keystore created\");\n        }\n        return keyStore;\n    }\n\n    private void addCertificate(String certFileName, String certificateAlias) throws CertificateException,\n            IOException, KeyStoreException, NoSuchAlgorithmException {\n        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n        InputStream certStream = fullStream(certFileName);\n        Certificate certs = cf.generateCertificate(certStream);\n        myTrustStore.setCertificateEntry(certificateAlias, certs);\n        FileOutputStream out = new FileOutputStream(getKeyStoreLocation());\n        myTrustStore.store(out, getKeyStorePassword().toCharArray());\n        out.close();\n        logger.info(\"Certificate pushed\");\n    }\n\n    public String getKeyStoreLocation() {\n        return keyStoreLocation;\n    }\n\n    public String getKeyStorePassword() {\n        return keyStorePassword;\n    }\n    public X509TrustManager getMytrustManager() {\n        return myTrustManager;\n    }\n    public void setMytrustManager(X509TrustManager myTrustManager) {\n        this.myTrustManager = myTrustManager;\n    }\n}\n</code></pre>\n\n<p>This class will create keystore if necessary, and will be able to manage certificates inside of it. Now class for SSL context:</p>\n\n<pre><code>public class CustomTrustManager implements X509TrustManager {\n\n    private final static Logger logger = Logger.getLogger(CertificateManager.class);\n\n    private static SSLSocketFactory socketFactory;\n    private static CustomTrustManager instance = new CustomTrustManager();\n    private static List&lt;CertificateManager&gt; register = new ArrayList&lt;&gt;();\n\n    public static CustomTrustManager getInstance() {\n        return instance;\n    }\n\n    private X509TrustManager defaultTm;\n\n    public void register(CertificateManager certificateManager) {\n        for(CertificateManager manager : register) {\n            if(manager == certificateManager) {\n                logger.info(\"Certificate manager already registered\");\n                return;\n            }\n        }\n        register.add(certificateManager);\n        logger.info(\"New Certificate manager registered\");\n    }\n\n    private CustomTrustManager() {\n        try {\n            String algorithm = TrustManagerFactory.getDefaultAlgorithm();\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\n\n            tmf.init((KeyStore) null);\n            boolean found = false;\n            for (TrustManager tm : tmf.getTrustManagers()) {\n                if (tm instanceof X509TrustManager) {\n                    defaultTm = (X509TrustManager) tm;\n                    found = true;\n                    break;\n                }\n            }\n            if(found) {\n                logger.info(\"Default trust manager found\");\n            } else {\n                logger.warn(\"Default trust manager was not found\");\n            }\n\n            SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n            sslContext.init(null, new TrustManager[]{this}, null);\n            SSLContext.setDefault(sslContext);\n            socketFactory = sslContext.getSocketFactory();\n            HttpsURLConnection.setDefaultSSLSocketFactory(socketFactory);\n\n\n            logger.info(\"Custom trust manager was set\");\n        } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\n            logger.warn(\"Custom trust manager can't be set\");\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        List&lt;X509Certificate&gt; out = new ArrayList&lt;&gt;();\n        if (defaultTm != null) {\n            out.addAll(Arrays.asList(defaultTm.getAcceptedIssuers()));\n        }\n        int defaultCount = out.size();\n        logger.info(\"Default trust manager contain \" + defaultCount + \" certficates\");\n        for(CertificateManager manager : register) {\n            X509TrustManager customTrustManager = manager.getMytrustManager();\n            X509Certificate[] issuers = customTrustManager.getAcceptedIssuers();\n            out.addAll(Arrays.asList(issuers));\n        }\n        logger.info(\"Custom trust managers contain \" + (out.size() - defaultCount) + \" certficates\");\n        X509Certificate[] arrayOut = new X509Certificate[out.size()];\n        return out.toArray(arrayOut);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain,\n                                   String authType) throws CertificateException {\n        for(CertificateManager certificateManager : register) {\n            X509TrustManager customTrustManager = certificateManager.getMytrustManager();\n            try {\n                customTrustManager.checkServerTrusted(chain, authType);\n                logger.info(\"Certificate chain (server) was aproved by custom trust manager\");\n                return;\n            } catch (Exception e) {\n            }\n        }\n        if (defaultTm != null) {\n            defaultTm.checkServerTrusted(chain, authType);\n            logger.info(\"Certificate chain (server) was aproved by default trust manager\");\n        } else {\n            logger.info(\"Certificate chain (server) was rejected\");\n            throw new CertificateException(\"Can't check server trusted certificate.\");\n        }\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain,\n                                   String authType) throws CertificateException {\n        try {\n            if (defaultTm != null) {\n                defaultTm.checkClientTrusted(chain, authType);\n                logger.info(\"Certificate chain (client) was aproved by default trust manager\");\n            } else {\n                throw new NullPointerException();\n            }\n        } catch (Exception e) {\n            for(CertificateManager certificateManager : register) {\n                X509TrustManager customTrustManager = certificateManager.getMytrustManager();\n                try {\n                    customTrustManager.checkClientTrusted(chain, authType);\n                    logger.info(\"Certificate chain (client) was aproved by custom trust manager\");\n                    return;\n                } catch (Exception e1) {\n                }\n            }\n            logger.info(\"Certificate chain (client) was rejected\");\n            throw new CertificateException(\"Can't check client trusted certificate.\");\n        }\n    }\n\n    public SSLSocketFactory getSocketFactory() {\n        return socketFactory;\n    }\n}\n</code></pre>\n\n<p>This class made as singleton, because only one defaultSSL context allowed. So, now usage:</p>\n\n<pre><code>            CertificateManager certificateManager = new CertificateManager(\"C:\\\\myapplication\\\\mykeystore.jks\", \"changeit\");\n            String certificatePath = \"C:\\\\myapplication\\\\public_key_for_your_ssl_service.crt\";\n            try {\n                certificateManager.addCustomCertificate(certificatePath, \"alias_for_public_key_for_your_ssl_service\");\n            } catch (Exception e) {\n                log.error(\"Can't add custom certificate\");\n                e.printStackTrace();\n            }\n            CustomTrustManager.getInstance().register(certificateManager);\n</code></pre>\n\n<p>Possibly, it will not work with this settings, because I keep certificate file inside of resource folder, so my path is not absolute. But generally, it work perfectly.</p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1562057205,"creation_date":1505301026,"answer_id":46195965,"question_id":21076179,"body_markdown":"1. Check the certificate\r\n---------------------------------------------------------------\r\n\r\nTry to load the target URL in browser and view the site&#39;s certificate (usually it&#39;s accessible by the icon with the lock sign. It&#39;s on the left or right side of the browser&#39;s address bar) whether it&#39;s expired or untrusted by other reason.\r\n\r\n2. Install latest versions of JRE and JDK\r\n-----------------------------------------\r\nNew versions usually come with the updated set of the trusted certificates.\r\n\r\nAlso if it&#39;s possible, uninstall old versions. This will make misconfiguration errors explicit.\r\n\r\n3. Check your configuration:\r\n---------------------------------------\r\n\r\n* Check where your JAVA_HOME environment variable points to.\r\n* Check which java version you use to run the program. In IntelliJ check:\r\n   * File -&gt; Project Structure... -&gt; Project Settings -&gt; Project -&gt; Project SDK:\r\n   * File -&gt; Project Structure... -&gt; Platform Settings -&gt; SDKs\r\n\r\n4. Copy whole keystore from the new Java version\r\n---------------------------------------------------\r\n\r\nIf you develop under the JDK other than the latest available - try to replace the `%JAVA_HOME%/jre/lib/security/cacerts` file with the new one from the latest installed JRE (make a backup copy first) as @jeremy-goodell suggests in his [answer][1]\r\n\r\n5. Add certificate(s) to your keystore\r\n------------------------------------------\r\n\r\nIf nothing above solves your problem use `keytool` to save certificate(s) to the Java&#39;s keystore:\r\n\r\n    keytool -trustcacerts -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit -importcert -alias &lt;alias_name&gt; -file &lt;path_to_crt_file&gt;\r\n\r\nFile with the certificate can be obtained from the browser as @MagGGG suggests in his [answer][2].\r\n\r\nNote 1: you may need to repeat this for every certificate in the chain to you site&#39;s certificate. Start from the root one.\r\n\r\nNote 2: `&lt;alias_name&gt;` should be unique among the keys in the store or `keytool` will show an error.\r\n\r\nTo get list of all the certificates in the store you may run:\r\n\r\n    keytool -list -trustcacerts -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit\r\n\r\nIn case something goes wrong this will help you to remove certificate from the store:\r\n\r\n    keytool -delete -alias &lt;alias_name&gt; -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit\r\n\r\n  [1]: https://stackoverflow.com/a/21507568/355438\r\n  [2]: https://stackoverflow.com/a/36427118/355438","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>1. Check the certificate</h2>\n\n<p>Try to load the target URL in browser and view the site's certificate (usually it's accessible by the icon with the lock sign. It's on the left or right side of the browser's address bar) whether it's expired or untrusted by other reason.</p>\n\n<h2>2. Install latest versions of JRE and JDK</h2>\n\n<p>New versions usually come with the updated set of the trusted certificates.</p>\n\n<p>Also if it's possible, uninstall old versions. This will make misconfiguration errors explicit.</p>\n\n<h2>3. Check your configuration:</h2>\n\n<ul>\n<li>Check where your JAVA_HOME environment variable points to.</li>\n<li>Check which java version you use to run the program. In IntelliJ check:\n\n<ul>\n<li>File -> Project Structure... -> Project Settings -> Project -> Project SDK:</li>\n<li>File -> Project Structure... -> Platform Settings -> SDKs</li>\n</ul></li>\n</ul>\n\n<h2>4. Copy whole keystore from the new Java version</h2>\n\n<p>If you develop under the JDK other than the latest available - try to replace the <code>%JAVA_HOME%/jre/lib/security/cacerts</code> file with the new one from the latest installed JRE (make a backup copy first) as @jeremy-goodell suggests in his <a href=\"https://stackoverflow.com/a/21507568/355438\">answer</a></p>\n\n<h2>5. Add certificate(s) to your keystore</h2>\n\n<p>If nothing above solves your problem use <code>keytool</code> to save certificate(s) to the Java's keystore:</p>\n\n<pre><code>keytool -trustcacerts -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit -importcert -alias &lt;alias_name&gt; -file &lt;path_to_crt_file&gt;\n</code></pre>\n\n<p>File with the certificate can be obtained from the browser as @MagGGG suggests in his <a href=\"https://stackoverflow.com/a/36427118/355438\">answer</a>.</p>\n\n<p>Note 1: you may need to repeat this for every certificate in the chain to you site's certificate. Start from the root one.</p>\n\n<p>Note 2: <code>&lt;alias_name&gt;</code> should be unique among the keys in the store or <code>keytool</code> will show an error.</p>\n\n<p>To get list of all the certificates in the store you may run:</p>\n\n<pre><code>keytool -list -trustcacerts -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit\n</code></pre>\n\n<p>In case something goes wrong this will help you to remove certificate from the store:</p>\n\n<pre><code>keytool -delete -alias &lt;alias_name&gt; -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321896,"reputation":963,"user_id":641001,"accept_rate":0,"display_name":"Ankur jain"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1542185720,"creation_date":1509985257,"answer_id":47141367,"question_id":21076179,"body_markdown":"I was facing the same issue and get it resolved using the below simple steps:\r\n\r\n1) Download the InstallCert.java from google\r\n\r\n2) Compile it using **javac InstallCert.java**\r\n\r\n3) Run InstallCert.java using **java InstallCert.java**, with the hostname and https port, and press “1” when asking for input. It will add the “localhost” as a trusted keystore, and generate a file named “jssecacerts“ as below:\r\n\r\n**java InstallCert localhost:443**\r\n\r\n4) copy the jssecacerts into $JAVA_HOME/jre/lib/security folder\r\n\r\nMain source to resolve the issue here is:\r\n\r\nhttps://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing the same issue and get it resolved using the below simple steps:</p>\n\n<p>1) Download the InstallCert.java from google</p>\n\n<p>2) Compile it using <strong>javac InstallCert.java</strong></p>\n\n<p>3) Run InstallCert.java using <strong>java InstallCert.java</strong>, with the hostname and https port, and press “1” when asking for input. It will add the “localhost” as a trusted keystore, and generate a file named “jssecacerts“ as below:</p>\n\n<p><strong>java InstallCert localhost:443</strong></p>\n\n<p>4) copy the jssecacerts into $JAVA_HOME/jre/lib/security folder</p>\n\n<p>Main source to resolve the issue here is:</p>\n\n<p><a href=\"https://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html\" rel=\"noreferrer\">https://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html</a></p>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511946088,"creation_date":1511946088,"answer_id":47548746,"question_id":21076179,"body_markdown":"**Issue Background:** \r\n\r\nI was getting following error when i try to run mvn clean install in my project and through Netbeans IDE clean and build option.\r\nThis issue is due to certificate not available when we download through NET beans IDE/through command prompt, but able to download the files through the browser. \r\n\r\n**Error**:\r\n\r\n    Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact com.java.project:product:jar:1.0.32 from/to repo-local (https://url/local-repo): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \r\n\r\n**Resolution:**\r\n \r\n\r\n **1. Download the certificate of the Url in question:**\r\n\r\n - Launch IE by &quot;run as adminstrator&quot; (otherwise, we will not be able to download the certificate)\r\n - Enter the url in IE-&gt; https://url/local-repo\r\n (In my case this url had a untrusted certificate[![enter image description here][1]][1].)\r\n - Download the certificate by clicking on Certificate error -&gt; view certificate\r\n - Select Details tab -&gt; copy to file -&gt; next -&gt; select &quot;DER encoded binary X.509 (.CER) \r\n - save the certificate in some location, example : c:/user/sheldon/desktop/product.cer  \r\n - Congrats! you have successfully downloaded the certificate for the site\r\n\r\n\r\n**2. Now install the key store to fix the issue.**\r\n\r\n - Run the keytool command to append the downloaded keystore into the\r\n       existing certificate file.\r\n - **Command:  Below command in the bin folder of jdk (JAVA_HOME)**.  \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_141\\jre\\bin&gt;keytool -importcert -file\r\n&gt; &quot;C:/user/sheldon/desktop/product.cer&quot; -alias product -keystore\r\n&gt; &quot;C:/Program Files/Java/jdk1.8.0_141/jre/lib/security/cacerts&quot;.\r\n\r\n - You will be prompted to enter password.  Enter keystore password:\r\n   enter &quot;changeit&quot; again for &quot;Trust this certificate? [no]:&quot;, enter \r\n   &quot;yes&quot;\r\n\r\nSample command line commands/output:\r\n\r\n    keytool -importcert -file &quot;C:/Users/sheldon/Desktop/product.cer&quot; -alias product -keystore &quot;C:/Program iles/Java/jdk1.8.0_141/jre/lib/security/cacerts&quot;\r\n    Enter keystore password:\r\n    Trust this certificate? [no]:  yes\r\n    Certificate was added to keystore\r\n\r\n - Contgrats! now you should have got rid of &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException&quot; error in your Netbeans IDE.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dSH2A.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>Issue Background:</strong> </p>\n\n<p>I was getting following error when i try to run mvn clean install in my project and through Netbeans IDE clean and build option.\nThis issue is due to certificate not available when we download through NET beans IDE/through command prompt, but able to download the files through the browser. </p>\n\n<p><strong>Error</strong>:</p>\n\n<pre><code>Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact com.java.project:product:jar:1.0.32 from/to repo-local (https://url/local-repo): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \n</code></pre>\n\n<p><strong>Resolution:</strong></p>\n\n<p><strong>1. Download the certificate of the Url in question:</strong></p>\n\n<ul>\n<li>Launch IE by \"run as adminstrator\" (otherwise, we will not be able to download the certificate)</li>\n<li>Enter the url in IE-> <a href=\"https://url/local-repo\" rel=\"noreferrer\">https://url/local-repo</a>\n(In my case this url had a untrusted certificate<a href=\"https://i.stack.imgur.com/dSH2A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dSH2A.png\" alt=\"enter image description here\"></a>.)</li>\n<li>Download the certificate by clicking on Certificate error -> view certificate</li>\n<li>Select Details tab -> copy to file -> next -> select \"DER encoded binary X.509 (.CER) </li>\n<li>save the certificate in some location, example : c:/user/sheldon/desktop/product.cer  </li>\n<li>Congrats! you have successfully downloaded the certificate for the site</li>\n</ul>\n\n<p><strong>2. Now install the key store to fix the issue.</strong></p>\n\n<ul>\n<li>Run the keytool command to append the downloaded keystore into the\n   existing certificate file.</li>\n<li><strong>Command:  Below command in the bin folder of jdk (JAVA_HOME)</strong>.  </li>\n</ul>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.8.0_141\\jre\\bin>keytool -importcert -file\n  \"C:/user/sheldon/desktop/product.cer\" -alias product -keystore\n  \"C:/Program Files/Java/jdk1.8.0_141/jre/lib/security/cacerts\".</p>\n</blockquote>\n\n<ul>\n<li>You will be prompted to enter password.  Enter keystore password:\nenter \"changeit\" again for \"Trust this certificate? [no]:\", enter \n\"yes\"</li>\n</ul>\n\n<p>Sample command line commands/output:</p>\n\n<pre><code>keytool -importcert -file \"C:/Users/sheldon/Desktop/product.cer\" -alias product -keystore \"C:/Program iles/Java/jdk1.8.0_141/jre/lib/security/cacerts\"\nEnter keystore password:\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n\n<ul>\n<li>Contgrats! now you should have got rid of \"PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException\" error in your Netbeans IDE.  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":84485,"reputation":19109,"user_id":236139,"accept_rate":100,"display_name":"Reid"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1512000825,"creation_date":1512000825,"answer_id":47563948,"question_id":21076179,"body_markdown":"This isn&#39;t a Twitter-specific answer, but this is the question that comes up when you search for this error. If your system is receiving this error when connecting to a website that **appears to have a valid certificate when viewed in a web browser**, that probably means **that website has an incomplete certificate chain**. \r\n\r\nFor a brief summary of the problem: Certificate Authorities don&#39;t use their Root Certificate to sign just any old certificate. Instead, they (usually) sign _intermediate_ certificates that also have the Certificate Authority flag set (that is, are allowed to sign certificates). Then when you purchase a certificate from a CA, they sign your CSR with one of these intermediate certificates.\r\n\r\nYour Java trust store most likely only has the Root Cert, not the intermediate ones. \r\n\r\nA misconfigured site might return _just_ their signed cert. Problem: it was signed with an intermediate cert that&#39;s not in your trust store. Browsers will handle this problem by downloading or using a cached intermediate certificate; this maximizes website compatibility. Java and tools like OpenSSL, however, won&#39;t. And that will cause the error in the question.\r\n\r\nYou can verify this suspicion by using the [Qualys SSL Test](https://www.ssllabs.com/ssltest/index.html). If you run that against a site and it says\r\n\r\n&gt; This server&#39;s certificate chain is incomplete.\r\n\r\nthen that confirms it. You can also see this by looking at the certification paths and seeing the text _Extra Download_.\r\n\r\nHow to fix it: the server administrator needs to configure the web server to return the intermediate certificates as well. For Comodo, for example, this is where the `.ca-bundle` file comes in handy. For example, in an Apache configuration with mod_ssl, you&#39;d use the `SSLCertificateChainFile` configuration setting. For nginx, you need to concatenate the intermediate certificates and the signed certificate and use that in the SSL cert configuration. You can find more by searching for &quot;incomplete certificate chain&quot; online.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This isn't a Twitter-specific answer, but this is the question that comes up when you search for this error. If your system is receiving this error when connecting to a website that <strong>appears to have a valid certificate when viewed in a web browser</strong>, that probably means <strong>that website has an incomplete certificate chain</strong>. </p>\n\n<p>For a brief summary of the problem: Certificate Authorities don't use their Root Certificate to sign just any old certificate. Instead, they (usually) sign <em>intermediate</em> certificates that also have the Certificate Authority flag set (that is, are allowed to sign certificates). Then when you purchase a certificate from a CA, they sign your CSR with one of these intermediate certificates.</p>\n\n<p>Your Java trust store most likely only has the Root Cert, not the intermediate ones. </p>\n\n<p>A misconfigured site might return <em>just</em> their signed cert. Problem: it was signed with an intermediate cert that's not in your trust store. Browsers will handle this problem by downloading or using a cached intermediate certificate; this maximizes website compatibility. Java and tools like OpenSSL, however, won't. And that will cause the error in the question.</p>\n\n<p>You can verify this suspicion by using the <a href=\"https://www.ssllabs.com/ssltest/index.html\" rel=\"noreferrer\">Qualys SSL Test</a>. If you run that against a site and it says</p>\n\n<blockquote>\n  <p>This server's certificate chain is incomplete.</p>\n</blockquote>\n\n<p>then that confirms it. You can also see this by looking at the certification paths and seeing the text <em>Extra Download</em>.</p>\n\n<p>How to fix it: the server administrator needs to configure the web server to return the intermediate certificates as well. For Comodo, for example, this is where the <code>.ca-bundle</code> file comes in handy. For example, in an Apache configuration with mod_ssl, you'd use the <code>SSLCertificateChainFile</code> configuration setting. For nginx, you need to concatenate the intermediate certificates and the signed certificate and use that in the SSL cert configuration. You can find more by searching for \"incomplete certificate chain\" online.</p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1514061132,"creation_date":1514061132,"answer_id":47955799,"question_id":21076179,"body_markdown":"It&#39;s addition to the answer https://stackoverflow.com/a/36427118/1491414. Thanks @MagGGG\r\n\r\n- Please make sure you have administrator permission\r\n- Please use double quotes for the keystore path (-keystore  C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot;) because in Windows OS the default installs location will be Program Files and you will get an error because of space between Program Files. \r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>It's addition to the answer <a href=\"https://stackoverflow.com/a/36427118/1491414\">https://stackoverflow.com/a/36427118/1491414</a>. Thanks @MagGGG</p>\n\n<ul>\n<li>Please make sure you have administrator permission</li>\n<li>Please use double quotes for the keystore path (-keystore  C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts\") because in Windows OS the default installs location will be Program Files and you will get an error because of space between Program Files. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1054183,"reputation":3254,"user_id":1057261,"accept_rate":74,"display_name":"AndroDev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532343083,"creation_date":1532343083,"answer_id":51477089,"question_id":21076179,"body_markdown":"**I fixed this using below method-**\r\n\r\n 1. Copy url which is having connecting issue\r\n 2. Go to Android Studio-&gt;Settings-&gt;Http settings\r\n 3. In &#39;Test Connection&#39;, paste that url and press ok\r\n 4. On Ok click, Android Studio will ask to import certificate of that\r\n    url, import it\r\n 5. That&#39;s it. Nothing else to be done and my issue was gone. No need to\r\n    restart studio as well.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>I fixed this using below method-</strong></p>\n\n<ol>\n<li>Copy url which is having connecting issue</li>\n<li>Go to Android Studio->Settings->Http settings</li>\n<li>In 'Test Connection', paste that url and press ok</li>\n<li>On Ok click, Android Studio will ask to import certificate of that\nurl, import it</li>\n<li>That's it. Nothing else to be done and my issue was gone. No need to\nrestart studio as well.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7020824,"reputation":344,"user_id":5380255,"display_name":"Karol Murawski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534588067,"creation_date":1534588067,"answer_id":51907615,"question_id":21076179,"body_markdown":"When you have above error with atlassian software ex. jira\r\n\r\n    2018-08-18 11:35:00,312 Caesium-1-4 WARN anonymous    Default Mail Handler [c.a.mail.incoming.mailfetcherservice] Default Mail Handler[10001]: javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target while connecting to host &#39;imap.xyz.pl&#39; as user &#39;jira@xyz.pl&#39; via protocol &#39;imaps, caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nyou can add certs to it&#39;s trusted keystore (change missing_ca to proper cert name):\r\n\r\n    keytool -importcert -file missing_ca.crt -alias missing_ca -keystore /opt/atlassian/jira/jre/lib/security/cacerts\r\n\r\nIf asked for password put `` changeit `` and confirm `` y ``\r\n\r\nAfter that simply restart jira.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>When you have above error with atlassian software ex. jira</p>\n\n<pre><code>2018-08-18 11:35:00,312 Caesium-1-4 WARN anonymous    Default Mail Handler [c.a.mail.incoming.mailfetcherservice] Default Mail Handler[10001]: javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target while connecting to host 'imap.xyz.pl' as user 'jira@xyz.pl' via protocol 'imaps, caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>you can add certs to it's trusted keystore (change missing_ca to proper cert name):</p>\n\n<pre><code>keytool -importcert -file missing_ca.crt -alias missing_ca -keystore /opt/atlassian/jira/jre/lib/security/cacerts\n</code></pre>\n\n<p>If asked for password put <code>changeit</code> and confirm <code>y</code></p>\n\n<p>After that simply restart jira.</p>\n"},{"tags":[],"owner":{"account_id":7812311,"reputation":2813,"user_id":5908154,"accept_rate":10,"display_name":"Abhishek Galoda"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1547048917,"creation_date":1538646276,"answer_id":52643649,"question_id":21076179,"body_markdown":"The reason, we get above error is that JDK is bundled with a lot of trusted Certificate Authority(CA) certificates into a file called ‘cacerts’ but this file has no clue of our self-signed certificate. In other words, the cacerts file doesn’t have our self-signed certificate imported and thus doesn’t treat it as a trusted entity and hence it gives the above error.\r\n\r\n\r\n \r\n[How to fix the above error][1]\r\n\r\nTo fix the above error, all we need is to import the self-signed certificate into the cacerts file.\r\n\r\nFirst, locate the cacerts file. We will need to find out the JDK location. If you are running your application through one of the IDE’s like Eclipse or IntelliJ Idea go to project settings and figure out what is the JDK location.\r\nFor e.g on a Mac OS typical location of cacerts file would be at this location /Library/Java/JavaVirtualMachines/ {{JDK_version}}/Contents/Home/jre/lib/security\r\non a Window’s machine it would be under {{Installation_directory}}/{{JDK_version}}/jre/lib/security\r\n\r\nOnce you have located the cacerts file, now we need to import our self-signed certificate to this cacerts file. Check the last article, if you don’t know how to generate the self-signed certificate correctly.\r\n\r\nIf you don’t have a certificate file(.crt) and just have a .jks file you can generate a .crt file by using below command. In case you already have a .crt/.pem file then you can ignore below command\r\n\r\n\r\n ##To generate certificate from keystore(.jks file) ####\r\n\r\n    keytool -export -keystore keystore.jks -alias selfsigned -file selfsigned.crt\r\n \r\nAbove step will generate a file called selfsigned.crt.Now Import the certificate to cacerts\r\n\r\n\r\n#### Now add the certificate to JRE/lib/security/cacerts (trustore) #####\r\n\r\n    keytool -importcert -file selfsigned.crt -alias selfsigned -keystore {{cacerts path}}\r\n\r\n \r\nfor e.g\r\n \r\n\r\n    keytool -importcert -file selfsigned.nextgen.crt -alias selfsigned.nextgen -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\r\n     \r\n\r\n \r\n\r\nThat’s all, restart your application and it should work fine. If it still doesn’t work and get an SSL handshake exception. It probably means you are using different domain then registered in the certificate.\r\n\r\nThe Link [with detailed explanation and  step by step resolution is over here.][1]\r\n\r\n\r\n  [1]: http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The reason, we get above error is that JDK is bundled with a lot of trusted Certificate Authority(CA) certificates into a file called ‘cacerts’ but this file has no clue of our self-signed certificate. In other words, the cacerts file doesn’t have our self-signed certificate imported and thus doesn’t treat it as a trusted entity and hence it gives the above error.</p>\n\n<p><a href=\"http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/\" rel=\"noreferrer\">How to fix the above error</a></p>\n\n<p>To fix the above error, all we need is to import the self-signed certificate into the cacerts file.</p>\n\n<p>First, locate the cacerts file. We will need to find out the JDK location. If you are running your application through one of the IDE’s like Eclipse or IntelliJ Idea go to project settings and figure out what is the JDK location.\nFor e.g on a Mac OS typical location of cacerts file would be at this location /Library/Java/JavaVirtualMachines/ {{JDK_version}}/Contents/Home/jre/lib/security\non a Window’s machine it would be under {{Installation_directory}}/{{JDK_version}}/jre/lib/security</p>\n\n<p>Once you have located the cacerts file, now we need to import our self-signed certificate to this cacerts file. Check the last article, if you don’t know how to generate the self-signed certificate correctly.</p>\n\n<p>If you don’t have a certificate file(.crt) and just have a .jks file you can generate a .crt file by using below command. In case you already have a .crt/.pem file then you can ignore below command</p>\n\n<p>##To generate certificate from keystore(.jks file) ####</p>\n\n<pre><code>keytool -export -keystore keystore.jks -alias selfsigned -file selfsigned.crt\n</code></pre>\n\n<p>Above step will generate a file called selfsigned.crt.Now Import the certificate to cacerts</p>\n\nNow add the certificate to JRE/lib/security/cacerts (trustore)\n\n<pre><code>keytool -importcert -file selfsigned.crt -alias selfsigned -keystore {{cacerts path}}\n</code></pre>\n\n<p>for e.g</p>\n\n<pre><code>keytool -importcert -file selfsigned.nextgen.crt -alias selfsigned.nextgen -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\n</code></pre>\n\n<p>That’s all, restart your application and it should work fine. If it still doesn’t work and get an SSL handshake exception. It probably means you are using different domain then registered in the certificate.</p>\n\n<p>The Link <a href=\"http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/\" rel=\"noreferrer\">with detailed explanation and  step by step resolution is over here.</a></p>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542183816,"creation_date":1542183816,"answer_id":53295765,"question_id":21076179,"body_markdown":"If your repository URL also work on HTTP and the security is not a concern, you can go to **settings.xml** (often, but not always, located in `%USERPROFILE%/.m2`) and **replace HTTPS with HTTP** for `&lt;repository&gt;` and `&lt;pluginRepository&gt;` URLs.\r\n\r\nFor example, this:\r\n\r\n\t&lt;repository&gt;\r\n\t\t&lt;snapshots&gt;\r\n\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t&lt;/snapshots&gt;\r\n\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t&lt;name&gt;libs-release&lt;/name&gt;\r\n\t\t&lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n\r\nshould be replaced by this:\r\n\r\n\t&lt;repository&gt;\r\n\t\t&lt;snapshots&gt;\r\n\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t&lt;/snapshots&gt;\r\n\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t&lt;name&gt;libs-release&lt;/name&gt;\r\n\t\t&lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\r\n\t&lt;/repository&gt;","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If your repository URL also work on HTTP and the security is not a concern, you can go to <strong>settings.xml</strong> (often, but not always, located in <code>%USERPROFILE%/.m2</code>) and <strong>replace HTTPS with HTTP</strong> for <code>&lt;repository&gt;</code> and <code>&lt;pluginRepository&gt;</code> URLs.</p>\n\n<p>For example, this:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;id&gt;central&lt;/id&gt;\n    &lt;name&gt;libs-release&lt;/name&gt;\n    &lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>should be replaced by this:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;id&gt;central&lt;/id&gt;\n    &lt;name&gt;libs-release&lt;/name&gt;\n    &lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2251730,"reputation":883,"user_id":1983825,"display_name":"jasonoriordan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550477810,"creation_date":1550477810,"answer_id":54742944,"question_id":21076179,"body_markdown":"I was using my own trust store rather than JRE one by passing arg `-Djavax.net.ssl.trustStore=`\r\n\r\nI was getting this error regardless of certs in truststore. The issue for me was the ordering of of the properties passed on arg line. \r\nWhen i put `-Djavax.net.ssl.trustStore=`&amp; `-Djavax.net.ssl.trustStorePassword=` **before** ` -Dspring.config.location=` &amp; ` -jar ` args i was able to successfully invoke my rest call over https. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was using my own trust store rather than JRE one by passing arg <code>-Djavax.net.ssl.trustStore=</code></p>\n\n<p>I was getting this error regardless of certs in truststore. The issue for me was the ordering of of the properties passed on arg line. \nWhen i put <code>-Djavax.net.ssl.trustStore=</code>&amp; <code>-Djavax.net.ssl.trustStorePassword=</code> <strong>before</strong> <code>-Dspring.config.location=</code> &amp; <code>-jar</code> args i was able to successfully invoke my rest call over https. </p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551825579,"creation_date":1551825579,"answer_id":55012752,"question_id":21076179,"body_markdown":"If you&#39;re using CloudFoundry and run into certificate issue then you&#39;d have to make sure that you push the jar again with the keystore-service with the certificate in it. Simply unbind, bind and restart won&#39;t work.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you're using CloudFoundry and run into certificate issue then you'd have to make sure that you push the jar again with the keystore-service with the certificate in it. Simply unbind, bind and restart won't work.</p>\n"},{"tags":[],"owner":{"account_id":6844658,"reputation":1061,"user_id":5263842,"display_name":"A W"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557933373,"creation_date":1557933373,"answer_id":56152688,"question_id":21076179,"body_markdown":"In case your **host sits behind firewall/proxy** , use following command in cmd:\r\n\r\n    keytool -J-Dhttps.proxyHost=&lt;proxy_hostname&gt; -J-Dhttps.proxyPort=&lt;proxy_port&gt; -printcert -rfc -sslserver &lt;remote_host_name:remote_ssl_port&gt;\r\n\r\nReplace `&lt;proxy_hostname&gt;` and `&lt;proxy_port&gt;` with the HTTP proxy server that is configured. Replace `&lt;remote_host_name:remote_ssl_port&gt;` with one of the remote host (basically url) and port having the certification problem.\r\n\r\nTake the last certificate content printed and copy it (also copy begin and end certificate). Paste it in text file and give *.crt*  extension to it . Now import this certificate to *cacerts* using java keytool command and it should work .\r\n\r\n    keytool -importcert -file &lt;filename&gt;.crt -alias randomaliasname -keystore %JAVA_HOME%/jre/lib/security/cacerts -storepass changeit","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In case your <strong>host sits behind firewall/proxy</strong> , use following command in cmd:</p>\n\n<pre><code>keytool -J-Dhttps.proxyHost=&lt;proxy_hostname&gt; -J-Dhttps.proxyPort=&lt;proxy_port&gt; -printcert -rfc -sslserver &lt;remote_host_name:remote_ssl_port&gt;\n</code></pre>\n\n<p>Replace <code>&lt;proxy_hostname&gt;</code> and <code>&lt;proxy_port&gt;</code> with the HTTP proxy server that is configured. Replace <code>&lt;remote_host_name:remote_ssl_port&gt;</code> with one of the remote host (basically url) and port having the certification problem.</p>\n\n<p>Take the last certificate content printed and copy it (also copy begin and end certificate). Paste it in text file and give <em>.crt</em>  extension to it . Now import this certificate to <em>cacerts</em> using java keytool command and it should work .</p>\n\n<pre><code>keytool -importcert -file &lt;filename&gt;.crt -alias randomaliasname -keystore %JAVA_HOME%/jre/lib/security/cacerts -storepass changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7513284,"reputation":2260,"user_id":7885903,"display_name":"Lucas Mendes Mota Da Fonseca"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560878547,"creation_date":1560878547,"answer_id":56654175,"question_id":21076179,"body_markdown":"Try copying java cacerts:\r\n\r\n`cp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.172-9.b11.fc28.x86_64/jre/lib/security/cacerts $JAVA_HOME/jre/lib/security/cacerts`","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Try copying java cacerts:</p>\n\n<p><code>cp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.172-9.b11.fc28.x86_64/jre/lib/security/cacerts $JAVA_HOME/jre/lib/security/cacerts</code></p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562184678,"creation_date":1562184678,"answer_id":56877298,"question_id":21076179,"body_markdown":"If you are seeing this issue in a linux container when java application is trying to communicate with another application/site, it is because the certificate have been imported incorrectly into the load balancer. There is sequence of steps to be followed for importing certificates and that if not done correctly, you will see issues like \r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n    certification path to requested target\r\n\r\nOnce the certs are imported correctly, it should be done. No need to tinker with any JDK certs.\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you are seeing this issue in a linux container when java application is trying to communicate with another application/site, it is because the certificate have been imported incorrectly into the load balancer. There is sequence of steps to be followed for importing certificates and that if not done correctly, you will see issues like </p>\n\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \ncertification path to requested target\n</code></pre>\n\n<p>Once the certs are imported correctly, it should be done. No need to tinker with any JDK certs.</p>\n"},{"tags":[],"owner":{"account_id":14472970,"reputation":1136,"user_id":10454340,"display_name":"Vikash Kumar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1661334811,"creation_date":1564560190,"answer_id":57285966,"question_id":21076179,"body_markdown":"**This is a solution but in form of my story with this problem:**\r\n\r\nI was almost dead trying all the solutions given above(for 3 days ) and nothing worked for me.\r\n\r\nI lost all hope.\r\n\r\nI contacted my security team regarding this because I was behind a proxy and they told me that they had recently updated their security policy.\r\n\r\nLater they issued a new &quot;cacerts&quot; file which contains all the certificates.\r\n\r\nI removed the `cacerts` file which is present inside `%JAVA_HOME%/jre/lib/security` and it solved my problem.\r\n\r\nSo if you are facing this issue it might be from your network team also like this.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>This is a solution but in form of my story with this problem:</strong></p>\n<p>I was almost dead trying all the solutions given above(for 3 days ) and nothing worked for me.</p>\n<p>I lost all hope.</p>\n<p>I contacted my security team regarding this because I was behind a proxy and they told me that they had recently updated their security policy.</p>\n<p>Later they issued a new &quot;cacerts&quot; file which contains all the certificates.</p>\n<p>I removed the <code>cacerts</code> file which is present inside <code>%JAVA_HOME%/jre/lib/security</code> and it solved my problem.</p>\n<p>So if you are facing this issue it might be from your network team also like this.</p>\n"},{"tags":[],"owner":{"account_id":7187217,"reputation":261,"user_id":5488802,"accept_rate":50,"display_name":"Sharan"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1589540712,"creation_date":1565358466,"answer_id":57431480,"question_id":21076179,"body_markdown":"download the cert file, and update the keystore with the certificate file as in the below command.\r\n\r\n\r\nsudo keytool -importcert -alias “aws2” -file ~/Desktop/\\*aws.crt -keystore  /Library/java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/security/cacerts","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>download the cert file, and update the keystore with the certificate file as in the below command.</p>\n\n<p>sudo keytool -importcert -alias “aws2” -file ~/Desktop/*aws.crt -keystore  /Library/java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/security/cacerts</p>\n"},{"tags":[],"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576251627,"creation_date":1576250952,"answer_id":59325503,"question_id":21076179,"body_markdown":"I solved it for **Intellij Idea**\r\nI facing this problem  Althouh , I change a lot of place to resolve problem.I found a solution for me .Right click your project ,You will see **Maven** ,after that press **Generate Sources And Update Folders** and **ReImport** [![enter image description here][1]][1]\r\n\r\nIt is done.\r\n\r\n  [1]: https://i.stack.imgur.com/ZwUcv.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I solved it for <strong>Intellij Idea</strong>\nI facing this problem  Althouh , I change a lot of place to resolve problem.I found a solution for me .Right click your project ,You will see <strong>Maven</strong> ,after that press <strong>Generate Sources And Update Folders</strong> and <strong>ReImport</strong> <a href=\"https://i.stack.imgur.com/ZwUcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwUcv.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is done.</p>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576681544,"creation_date":1576681544,"answer_id":59394822,"question_id":21076179,"body_markdown":"I solved this issue on Windows Server 2016 with Java 8, by importing cert from &lt;code&gt;pkcs12&lt;/code&gt; store to &lt;code&gt;cacerts&lt;/code&gt; keystore.\r\n&lt;br /&gt;&lt;br /&gt;\r\nPath to pkcs12 store: \r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Apps\\pkcs12.pfx&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nPath to Java cacerts:\r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts&lt;/code&gt;\r\n&lt;br /&gt;&lt;br &gt;\r\nPath to keytool:\r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Program Files\\Java\\jre1.8.0_151\\bin&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nAfter possitioning to folder with keytool in command prompt (as administrator), command to import cert from &lt;code&gt;pkcs12&lt;/code&gt; to &lt;code&gt;cacerts&lt;/code&gt; is as follows:\r\n&lt;br /&gt;\r\n&lt;code&gt;keytool -v -importkeystore -srckeystore C:\\Apps\\pkcs12.pfx -srcstoretype PKCS12 -destkeystore &quot;C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts&quot; -deststoretype JKS&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nYou will be prompted to:&lt;br /&gt;\r\n 1. enter destination keystore password (cacerts pasword, default is &quot;changeit&quot;)&lt;br /&gt;\r\n 2. enter source keystore password (pkcs12 password)\r\n\r\n&lt;br /&gt;\r\nFor changes to take effect, restart server machine (or just restart JVM). \r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I solved this issue on Windows Server 2016 with Java 8, by importing cert from <code>pkcs12</code> store to <code>cacerts</code> keystore.\n<br /><br />\nPath to pkcs12 store: \n<br />\n<code>C:\\Apps\\pkcs12.pfx</code>\n<br /><br />\nPath to Java cacerts:\n<br />\n<code>C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts</code>\n<br /><br >\nPath to keytool:\n<br />\n<code>C:\\Program Files\\Java\\jre1.8.0_151\\bin</code>\n<br /><br />\nAfter possitioning to folder with keytool in command prompt (as administrator), command to import cert from <code>pkcs12</code> to <code>cacerts</code> is as follows:\n<br />\n<code>keytool -v -importkeystore -srckeystore C:\\Apps\\pkcs12.pfx -srcstoretype PKCS12 -destkeystore \"C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts\" -deststoretype JKS</code>\n<br /><br />\nYou will be prompted to:<br />\n 1. enter destination keystore password (cacerts pasword, default is \"changeit\")<br />\n 2. enter source keystore password (pkcs12 password)</p>\n\n<p><br />\nFor changes to take effect, restart server machine (or just restart JVM). </p>\n"},{"tags":[],"owner":{"account_id":13167435,"reputation":445,"user_id":9511049,"display_name":"Darshil Shah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583995017,"creation_date":1583995017,"answer_id":60648775,"question_id":21076179,"body_markdown":"I was facing the same issue, i was using 8.1.0-3, but later i used 9.2.1-0 and the issue was fixed without any manual steps. The self-signed certificate worked fine.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing the same issue, i was using 8.1.0-3, but later i used 9.2.1-0 and the issue was fixed without any manual steps. The self-signed certificate worked fine.</p>\n"},{"tags":[],"owner":{"account_id":4416215,"reputation":4087,"user_id":3597746,"accept_rate":92,"display_name":"Ammad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606167591,"creation_date":1590023900,"answer_id":61925589,"question_id":21076179,"body_markdown":"I ran into same issue but updating wrong jre on my linux machine. It is highly likely that tomcat is using different jre and your cli prompt is configured to use a different jre.\r\n \r\nMake sure you are picking up the correct jre.\r\n\r\nStep #1:\r\n\r\n    ps -ef | grep tomcat\r\n\r\nYou will see some thing like:\r\n\r\n    root     29855     1  3 17:54 pts/3    00:00:42 /usr/java/jdk1.7.0_79/jre/bin/java \r\n\r\nNow use this:\r\n\r\n    keytool -import -alias example -keystore  /usr/java/jdk1.7.0_79/jre/lib/security/cacerts -file cert.cer\r\n    PWD: changeit\r\n\r\n*.cer file can be geneated as shown below: (or you can use your own)\r\n\r\n    openssl x509 -in cert.pem -outform pem -outform der -out cert.cer","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I ran into same issue but updating wrong jre on my linux machine. It is highly likely that tomcat is using different jre and your cli prompt is configured to use a different jre.</p>\n<p>Make sure you are picking up the correct jre.</p>\n<p>Step #1:</p>\n<pre><code>ps -ef | grep tomcat\n</code></pre>\n<p>You will see some thing like:</p>\n<pre><code>root     29855     1  3 17:54 pts/3    00:00:42 /usr/java/jdk1.7.0_79/jre/bin/java \n</code></pre>\n<p>Now use this:</p>\n<pre><code>keytool -import -alias example -keystore  /usr/java/jdk1.7.0_79/jre/lib/security/cacerts -file cert.cer\nPWD: changeit\n</code></pre>\n<p>*.cer file can be geneated as shown below: (or you can use your own)</p>\n<pre><code>openssl x509 -in cert.pem -outform pem -outform der -out cert.cer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2066910,"reputation":191,"user_id":1842262,"display_name":"Venkatesh"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1676372847,"creation_date":1595595933,"answer_id":63074163,"question_id":21076179,"body_markdown":"After struggling for half-day, found one more way to solve this problem. I was able to solve this in MAC 10.15.5 ( Catalina). Followed the below steps. \r\n\r\n - This problem occurs when we are running behind a company proxy , In my case its Zscaler. \r\n - Open Key chain access, export CA certificate.(Select CA certificate, `File-&gt;export items` and save with the desired name)  \r\n - Copy the path of existing cacerts from java folder(`/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts`\r\n)\r\n - Open terminal and navigate to the Keytool folder (`/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/bin`\r\n)\r\n - Run the below command. \r\n - `Keytool -importcert - file (Path to exported cert from the keychainaccess) -alias (give a name) -keystore (Path of existing cacerts from java folder)`\r\n - `sudo Keytool -importcert -file /Users/Desktop/RootCA.cer -alias demo -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts`\r\n - It will ask for password , give it as : `changeit`\r\n - It asks for confirmation , Say : yes \r\n\r\nAfter all of these steps, Quit eclipse and terminal start fresh session. \r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>After struggling for half-day, found one more way to solve this problem. I was able to solve this in MAC 10.15.5 ( Catalina). Followed the below steps.</p>\n<ul>\n<li>This problem occurs when we are running behind a company proxy , In my case its Zscaler.</li>\n<li>Open Key chain access, export CA certificate.(Select CA certificate, <code>File-&gt;export items</code> and save with the desired name)</li>\n<li>Copy the path of existing cacerts from java folder(<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts</code>\n)</li>\n<li>Open terminal and navigate to the Keytool folder (<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/bin</code>\n)</li>\n<li>Run the below command.</li>\n<li><code>Keytool -importcert - file (Path to exported cert from the keychainaccess) -alias (give a name) -keystore (Path of existing cacerts from java folder)</code></li>\n<li><code>sudo Keytool -importcert -file /Users/Desktop/RootCA.cer -alias demo -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts</code></li>\n<li>It will ask for password , give it as : <code>changeit</code></li>\n<li>It asks for confirmation , Say : yes</li>\n</ul>\n<p>After all of these steps, Quit eclipse and terminal start fresh session.</p>\n"},{"tags":[],"owner":{"account_id":165872,"reputation":12759,"user_id":389649,"display_name":"Cristan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1602062390,"creation_date":1602062390,"answer_id":64240996,"question_id":21076179,"body_markdown":"You&#39;ll get this error when the certificate is newer than your Java version. Using a newer Java version will solve this.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>You'll get this error when the certificate is newer than your Java version. Using a newer Java version will solve this.</p>\n"},{"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1611565420,"creation_date":1611565420,"answer_id":65881701,"question_id":21076179,"body_markdown":"Problem is, your eclipse is not able to connect the site which actually it is trying to.\r\nI have faced similar issue and below given solution worked for me. \r\n\r\n1. Turn off any third party internet security application e.g. Zscaler\r\n2. Sometimes also need to disconnect VPN if you are connected.\r\n\r\nThanks","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Problem is, your eclipse is not able to connect the site which actually it is trying to.\nI have faced similar issue and below given solution worked for me.</p>\n<ol>\n<li>Turn off any third party internet security application e.g. Zscaler</li>\n<li>Sometimes also need to disconnect VPN if you are connected.</li>\n</ol>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612268776,"creation_date":1612268776,"answer_id":66009703,"question_id":21076179,"body_markdown":"1-First of all, import you&#39;r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you&#39;r jdk version. For example from `jdk1.8.0_17` to `jdk1.8.0_231` ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>1-First of all, import you'r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you'r jdk version. For example from <code>jdk1.8.0_17</code> to <code>jdk1.8.0_231</code></p>\n"},{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700977599,"creation_date":1614342164,"answer_id":66385788,"question_id":21076179,"body_markdown":"If you are still getting this error \r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n    certification path to requested target\r\n\r\nafter executing the below command and restarting the java process or restart the system\r\n\r\n    keytool -import -alias certificatealias -keystore C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts -file certificate.cer\r\n\r\n\r\n**If there is some issue in JDK, Try to install JDK from a trusted provider.\r\nOnce you reinstalled it from trusted provider you won&#39;t face this issue.**","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you are still getting this error</p>\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \ncertification path to requested target\n</code></pre>\n<p>after executing the below command and restarting the java process or restart the system</p>\n<pre><code>keytool -import -alias certificatealias -keystore C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts -file certificate.cer\n</code></pre>\n<p><strong>If there is some issue in JDK, Try to install JDK from a trusted provider.\nOnce you reinstalled it from trusted provider you won't face this issue.</strong></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1628871058,"creation_date":1617201553,"answer_id":66889979,"question_id":21076179,"body_markdown":"## Mac\r\n\r\nThe accepted answer does not work for Mac as there is no &lt;kbd&gt;Export&lt;/kbd&gt; button available in Mac (Chrome or Firefox). Please check [this answer](https://stackoverflow.com/a/59466184/10819573) to download the certificate and follow the next steps as mentioned below:\r\n\r\n 1. **List all certificates installed in the keystore**:\r\n\r\n```\r\ncd $JAVA_HOME/lib/security\r\nkeytool -list -keystore cacerts\r\n```\r\n\r\n**Notes:** \r\n\r\n  - The default password of the keystore is: `changeit`.\r\n  - For Java-8 or lower version use the command, `cd $JAVA_HOME/jre/lib/security`\r\n\r\n 2. **Before you import the certificate in the keystore, make a backup of the keystore**:\r\n\r\n```\r\nsudo cp cacerts cacerts.bak\r\n```\r\n\r\n 3. **Import the downloaded certificate in the keystore**:\r\n\r\n```\r\nsudo keytool -importcert -alias youralias -file /path/to/the/downloaded/certificate -keystore cacerts\r\n```\r\n\r\n 4. **Check if the certificate is stored in the keystore**:\r\n\r\n```\r\nsudo keytool -list -keystore cacerts -alias youralias\r\n```\r\n\r\nIf you want to see more detailed information, add the `-v` flag:\r\n\r\n```\r\nsudo keytool -v -list -keystore cacerts -alias youralias\r\n```","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>Mac</h2>\n<p>The accepted answer does not work for Mac as there is no <kbd>Export</kbd> button available in Mac (Chrome or Firefox). Please check <a href=\"https://stackoverflow.com/a/59466184/10819573\">this answer</a> to download the certificate and follow the next steps as mentioned below:</p>\n<ol>\n<li><strong>List all certificates installed in the keystore</strong>:</li>\n</ol>\n<pre><code>cd $JAVA_HOME/lib/security\nkeytool -list -keystore cacerts\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>The default password of the keystore is: <code>changeit</code>.</li>\n<li>For Java-8 or lower version use the command, <code>cd $JAVA_HOME/jre/lib/security</code></li>\n</ul>\n<ol start=\"2\">\n<li><strong>Before you import the certificate in the keystore, make a backup of the keystore</strong>:</li>\n</ol>\n<pre><code>sudo cp cacerts cacerts.bak\n</code></pre>\n<ol start=\"3\">\n<li><strong>Import the downloaded certificate in the keystore</strong>:</li>\n</ol>\n<pre><code>sudo keytool -importcert -alias youralias -file /path/to/the/downloaded/certificate -keystore cacerts\n</code></pre>\n<ol start=\"4\">\n<li><strong>Check if the certificate is stored in the keystore</strong>:</li>\n</ol>\n<pre><code>sudo keytool -list -keystore cacerts -alias youralias\n</code></pre>\n<p>If you want to see more detailed information, add the <code>-v</code> flag:</p>\n<pre><code>sudo keytool -v -list -keystore cacerts -alias youralias\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13954041,"reputation":1443,"user_id":10084851,"display_name":"Makdous"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625564285,"creation_date":1625564285,"answer_id":68268082,"question_id":21076179,"body_markdown":"Although I did copy the Certificates to the `cacerts` file The error did not disappear.\r\n\r\nThe problem was that the **date** on the certificate was **expired**, That&#39;s why it returned the error.\r\n\r\nI requested a new valid Certificates and the error is now gone.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Although I did copy the Certificates to the <code>cacerts</code> file The error did not disappear.</p>\n<p>The problem was that the <strong>date</strong> on the certificate was <strong>expired</strong>, That's why it returned the error.</p>\n<p>I requested a new valid Certificates and the error is now gone.</p>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627491590,"creation_date":1627491590,"answer_id":68564551,"question_id":21076179,"body_markdown":"I leave some tips.\r\n\r\n1) Use -Dssl.debug=true to check SSL.\r\n2) Check if you are creating a tunnel or try to ignore it\r\n \r\n```\r\nSSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(null, (x509CertChain, authType) -&gt; true).build();\r\n            httpClient = HttpClientBuilder.create()\r\n                    .setSSLContext(sslContext)\r\n                    .setConnectionManager(new PoolingHttpClientConnectionManager(RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                            .register(&quot;http&quot;, PlainConnectionSocketFactory.INSTANCE)\r\n                            .register(&quot;https&quot;, new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE))\r\n                            .build()\r\n                    )).build();\r\n\r\nhttpClient.execute(requisicao)\r\n```\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I leave some tips.</p>\n<ol>\n<li>Use -Dssl.debug=true to check SSL.</li>\n<li>Check if you are creating a tunnel or try to ignore it</li>\n</ol>\n<pre><code>SSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(null, (x509CertChain, authType) -&gt; true).build();\n            httpClient = HttpClientBuilder.create()\n                    .setSSLContext(sslContext)\n                    .setConnectionManager(new PoolingHttpClientConnectionManager(RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                            .register(&quot;http&quot;, PlainConnectionSocketFactory.INSTANCE)\n                            .register(&quot;https&quot;, new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE))\n                            .build()\n                    )).build();\n\nhttpClient.execute(requisicao)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3435648,"reputation":109,"user_id":2878837,"display_name":"Wojciech Zawadzki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629109913,"creation_date":1629109913,"answer_id":68801301,"question_id":21076179,"body_markdown":"In my case (Windows 10, IIS, local development environment (self signed SSL certificate), Apache JMeter). I have to import two certificates to cacerts.\r\nOne for my custom host name:\r\nCN = localhostCustom\r\nand second for localhost host name:\r\nCN = localhost\r\n\r\nRegards.\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case (Windows 10, IIS, local development environment (self signed SSL certificate), Apache JMeter). I have to import two certificates to cacerts.\nOne for my custom host name:\nCN = localhostCustom\nand second for localhost host name:\nCN = localhost</p>\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":12444230,"reputation":549,"user_id":9061008,"display_name":"Dmitry Rakovets"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635749219,"creation_date":1635749219,"answer_id":69793427,"question_id":21076179,"body_markdown":"**For Linux**\r\n1. Download certificate:\r\n\r\n```sh\r\necho \\\r\nopenssl s_client -showcerts -servername DOMAIN_NAME -connect DOMAIN_NAME:443 2&gt;/dev/null \\\r\nawk &#39;/-----BEGIN CERTIFICATE-----/, /-----END CERTIFICATE-----/&#39; &gt;&gt; ~/FILENAME.cer\r\n```\r\nPlaceholders:\r\n* `DOMAIN_NAME` - domain name for service\r\n* `FILENAME` - filepath cert\r\n\r\n2. Import cert to Java CA certs (**Java 11**):\r\n\r\n```sh\r\nkeytool -importcert -trustcacerts -file ~/FILENAME.cer -alias ca_alias -keystore $JAVA_HOME/lib/security/cacerts\r\n```\r\n\r\n3. Enter keystore default password `changeit`\r\n4. Trust this certificate: enter `yes`. Output:\r\n\r\n```\r\nCertificate was added to keystore\r\n```\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>For Linux</strong></p>\n<ol>\n<li>Download certificate:</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>echo \\\nopenssl s_client -showcerts -servername DOMAIN_NAME -connect DOMAIN_NAME:443 2&gt;/dev/null \\\nawk '/-----BEGIN CERTIFICATE-----/, /-----END CERTIFICATE-----/' &gt;&gt; ~/FILENAME.cer\n</code></pre>\n<p>Placeholders:</p>\n<ul>\n<li><code>DOMAIN_NAME</code> - domain name for service</li>\n<li><code>FILENAME</code> - filepath cert</li>\n</ul>\n<ol start=\"2\">\n<li>Import cert to Java CA certs (<strong>Java 11</strong>):</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>keytool -importcert -trustcacerts -file ~/FILENAME.cer -alias ca_alias -keystore $JAVA_HOME/lib/security/cacerts\n</code></pre>\n<ol start=\"3\">\n<li>Enter keystore default password <code>changeit</code></li>\n<li>Trust this certificate: enter <code>yes</code>. Output:</li>\n</ol>\n<pre><code>Certificate was added to keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268261,"reputation":117,"user_id":1996331,"display_name":"Shadaksharayya H A"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642851083,"creation_date":1642851083,"answer_id":70812354,"question_id":21076179,"body_markdown":"I was facing this issue with Java 8 but it got solved after upgrading to Java 11","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing this issue with Java 8 but it got solved after upgrading to Java 11</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645215724,"creation_date":1645215356,"answer_id":71179380,"question_id":21076179,"body_markdown":"## Error ##\r\n\r\n    A problem occurred configuring root project &#39;uy-android-pagos&#39;.\r\n    &gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n       &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\r\n         Required by:\r\n             project :\r\n          &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\r\n             &gt; Could not get resource &#39;https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom&#39;.\r\n                &gt; Could not GET &#39;https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom&#39;.\r\n                   &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n___\r\n\r\nSolution\r\n--------\r\n\r\nKeep in mind that there are many possible causes that generate this error, in my case I fixed it in the following way:\r\n\r\n1. Sync Project with Gradle Files\r\n2. Check the error `Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.`\r\n3. Change in `build.gradle (:project)` from `com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0` to `com.google.firebase:firebase-crashlytics-gradle:2.1.0` (note the whitespaces)\r\n\r\nAny errors in the dependency classpaths generate this type of exception. Check the gradle of the commit that generates the issue.\r\n\r\nGL","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>Error</h2>\n<pre><code>A problem occurred configuring root project 'uy-android-pagos'.\n&gt; Could not resolve all artifacts for configuration ':classpath'.\n   &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\n     Required by:\n         project :\n      &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\n         &gt; Could not get resource 'https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom'.\n            &gt; Could not GET 'https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom'.\n               &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>Keep in mind that there are many possible causes that generate this error, in my case I fixed it in the following way:</p>\n<ol>\n<li>Sync Project with Gradle Files</li>\n<li>Check the error <code>Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.</code></li>\n<li>Change in <code>build.gradle (:project)</code> from <code>com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0</code> to <code>com.google.firebase:firebase-crashlytics-gradle:2.1.0</code> (note the whitespaces)</li>\n</ol>\n<p>Any errors in the dependency classpaths generate this type of exception. Check the gradle of the commit that generates the issue.</p>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1305,"user_id":10343888,"display_name":"fatih"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645437567,"creation_date":1645437567,"answer_id":71204298,"question_id":21076179,"body_markdown":"If you encountered this error in an IDE such as `Spring Tools Suite` or `Eclipse`, first try using the `HTTP` version of your **URL** instead of `HTTPS`.\r\n\r\nI was encountering this error when I was trying to add `SonarQube` link to `Spring Tools Suite`. I replaced my **URL** with:\r\n\r\n    http://sonarqube...\r\n\r\ninstead of \r\n\r\n    https://sonarqube...\r\n\r\nI have successfully connected `SonarQube`.\r\n\r\nI hope it will be helpful for those who are looking for an answer to this question like me.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you encountered this error in an IDE such as <code>Spring Tools Suite</code> or <code>Eclipse</code>, first try using the <code>HTTP</code> version of your <strong>URL</strong> instead of <code>HTTPS</code>.</p>\n<p>I was encountering this error when I was trying to add <code>SonarQube</code> link to <code>Spring Tools Suite</code>. I replaced my <strong>URL</strong> with:</p>\n<pre><code>http://sonarqube...\n</code></pre>\n<p>instead of</p>\n<pre><code>https://sonarqube...\n</code></pre>\n<p>I have successfully connected <code>SonarQube</code>.</p>\n<p>I hope it will be helpful for those who are looking for an answer to this question like me.</p>\n"},{"tags":[],"owner":{"account_id":2391396,"reputation":22048,"user_id":2091181,"display_name":"Jorge Casariego"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646257700,"creation_date":1646257700,"answer_id":71329551,"question_id":21076179,"body_markdown":"In my case I solved this problem running from the Android Studio terminal the following command\r\n\r\n`./gradlew assemble`\r\n\r\nAfter that the project ran without problem. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case I solved this problem running from the Android Studio terminal the following command</p>\n<p><code>./gradlew assemble</code></p>\n<p>After that the project ran without problem.</p>\n"},{"tags":[],"owner":{"account_id":306491,"reputation":1448,"user_id":617271,"accept_rate":94,"display_name":"olyanren"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655905806,"creation_date":1655905806,"answer_id":72716758,"question_id":21076179,"body_markdown":"This is for Glassfish Server:\r\n\r\nNormally Glassfish looks at the cacerts.jks certificate file stored in the `GLASSFISH_SERVER\\glassfish\\domains\\domain1\\config` location.You can change this configuration or replace cacerts.jks file with your cacerts file.\r\n\r\nThere are some default JVM Options which Glassfish is used:\r\n\r\n     -XX:+UnlockDiagnosticVMOptions\r\n     -XX:NewRatio=2\r\n     -XX:MaxPermSize=192m\r\n     -Xmx512m\r\n     -client\r\n     -javaagent:C:/glassfish5/glassfish/lib/monitor/flashlight-agent.jar\r\n     -Djavax.xml.accessExternalSchema=all\r\n     -Djavax.net.ssl.trustStore=C:\\glassfish5\\glassfish\\domains\\domain1/config/cacerts.jks\r\n     -Djdk.tls.rejectClientInitiatedRenegotiation=true\r\n     -Djdk.corba.allowOutputStreamSubclass=true","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This is for Glassfish Server:</p>\n<p>Normally Glassfish looks at the cacerts.jks certificate file stored in the <code>GLASSFISH_SERVER\\glassfish\\domains\\domain1\\config</code> location.You can change this configuration or replace cacerts.jks file with your cacerts file.</p>\n<p>There are some default JVM Options which Glassfish is used:</p>\n<pre><code> -XX:+UnlockDiagnosticVMOptions\n -XX:NewRatio=2\n -XX:MaxPermSize=192m\n -Xmx512m\n -client\n -javaagent:C:/glassfish5/glassfish/lib/monitor/flashlight-agent.jar\n -Djavax.xml.accessExternalSchema=all\n -Djavax.net.ssl.trustStore=C:\\glassfish5\\glassfish\\domains\\domain1/config/cacerts.jks\n -Djdk.tls.rejectClientInitiatedRenegotiation=true\n -Djdk.corba.allowOutputStreamSubclass=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13865920,"reputation":19,"user_id":10010425,"display_name":"Kundan Thakur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663858218,"creation_date":1663858218,"answer_id":73816710,"question_id":21076179,"body_markdown":"if you&#39;re using ubuntu/linux system run the below command in terminal.\r\n\r\n**cd /usr/local/share/ca-certificates**\r\n\r\n**cp /location ofthe file/----.crt .** (copy the crt file in this /usr/local/share/ca-certificates)\r\n\r\n**sudo update-ca-certificates**","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>if you're using ubuntu/linux system run the below command in terminal.</p>\n<p><strong>cd /usr/local/share/ca-certificates</strong></p>\n<p><strong>cp /location ofthe file/----.crt .</strong> (copy the crt file in this /usr/local/share/ca-certificates)</p>\n<p><strong>sudo update-ca-certificates</strong></p>\n"},{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664860949,"creation_date":1664860949,"answer_id":73943425,"question_id":21076179,"body_markdown":"The trusted certificate are stored in at key tool . When any website trusted certificates are not added in key tools this error occurs. In addition to above answer please refer\r\n\r\nhttps://stackoverflow.com/questions/72859703/facing-pkix-path-building-failed-exception-in-selenium-broken-link-script/72862934#72862934","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The trusted certificate are stored in at key tool . When any website trusted certificates are not added in key tools this error occurs. In addition to above answer please refer</p>\n<p><a href=\"https://stackoverflow.com/questions/72859703/facing-pkix-path-building-failed-exception-in-selenium-broken-link-script/72862934#72862934\">Facing PKIX path building failed exception in selenium broken link script</a></p>\n"},{"tags":[],"owner":{"account_id":21969128,"reputation":83,"user_id":16245897,"display_name":"Vineeta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666549249,"creation_date":1666549249,"answer_id":74173665,"question_id":21076179,"body_markdown":" -  change JDK version from older jdk1.8.0_90 version to some latest version jdk1.8.0_239\r\n - As mentioned in above answers import certificates to keystore\r\n - Add keystore properties to gradle.properties file in java/react native android based projects\r\n\r\n&gt;  systemProp.javax.net.ssl.trustStore=C://Program\r\n&gt; Files//AdoptOpenJDK//jdk-8.0.282.8-hotspot//jre//lib//security//cacerts\r\n&gt; \r\n&gt; systemProp.javax.net.ssl.trustStorePassword=changeit","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<ul>\n<li>change JDK version from older jdk1.8.0_90 version to some latest version jdk1.8.0_239</li>\n<li>As mentioned in above answers import certificates to keystore</li>\n<li>Add keystore properties to gradle.properties file in java/react native android based projects</li>\n</ul>\n<blockquote>\n<p>systemProp.javax.net.ssl.trustStore=C://Program\nFiles//AdoptOpenJDK//jdk-8.0.282.8-hotspot//jre//lib//security//cacerts</p>\n<p>systemProp.javax.net.ssl.trustStorePassword=changeit</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1669660577,"creation_date":1669660577,"answer_id":74605095,"question_id":21076179,"body_markdown":"Simple Steps to resolve this Exception, (I did it on java 11),\r\n\r\n* First you need to Download the public SSL certificate file of the target domain that you are trying to call,for that\r\n* Open the target domain website in the chrome (Example: https://amazonservice.domain.com)\r\n* Click on the small lock icon before the URL in the browser\r\n* Click View certificates\r\n* Now Click on Certificate is valid as shown below\r\n* [![enter image description here][1]][1]\r\n* Now a new Popup will open as shown below, \r\n[![Go][2]][2]\r\n* Open the details tab\r\n* Select the RootCert at the top\r\n* Click Export and save the .cer file to your system in a directory\r\n\r\nNow you have the public keystore of your target domain which you are trying to call in your java application,now we need to impot that keystore into you jre,for that go to the $JAVA_HOME/bin directory and run the following command\r\n\r\n    ./keytool -importcert -alias someAliasName -keystore {JAVA_HOME}/lib/security/cacerts -file {PathToDownloads}/certificateFileName.cer\r\n\r\nIt will ask you for password, enter the password if you know, the default password for the certificate is `changeit`\r\n\r\nReferences\r\n\r\n 1. https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\r\n 2. https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html\r\n\r\n  [1]: https://i.stack.imgur.com/r9OwI.png\r\n  [2]: https://i.stack.imgur.com/Lbw03.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Simple Steps to resolve this Exception, (I did it on java 11),</p>\n<ul>\n<li>First you need to Download the public SSL certificate file of the target domain that you are trying to call,for that</li>\n<li>Open the target domain website in the chrome (Example: <a href=\"https://amazonservice.domain.com\" rel=\"noreferrer\">https://amazonservice.domain.com</a>)</li>\n<li>Click on the small lock icon before the URL in the browser</li>\n<li>Click View certificates</li>\n<li>Now Click on Certificate is valid as shown below</li>\n<li><a href=\"https://i.stack.imgur.com/r9OwI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r9OwI.png\" alt=\"enter image description here\" /></a></li>\n<li>Now a new Popup will open as shown below,\n<a href=\"https://i.stack.imgur.com/Lbw03.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Lbw03.png\" alt=\"Go\" /></a></li>\n<li>Open the details tab</li>\n<li>Select the RootCert at the top</li>\n<li>Click Export and save the .cer file to your system in a directory</li>\n</ul>\n<p>Now you have the public keystore of your target domain which you are trying to call in your java application,now we need to impot that keystore into you jre,for that go to the $JAVA_HOME/bin directory and run the following command</p>\n<pre><code>./keytool -importcert -alias someAliasName -keystore {JAVA_HOME}/lib/security/cacerts -file {PathToDownloads}/certificateFileName.cer\n</code></pre>\n<p>It will ask you for password, enter the password if you know, the default password for the certificate is <code>changeit</code></p>\n<p>References</p>\n<ol>\n<li><a href=\"https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\" rel=\"noreferrer\">https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html</a></li>\n<li><a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html\" rel=\"noreferrer\">https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":281666,"reputation":3093,"user_id":578098,"accept_rate":25,"display_name":"Khushboo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671040609,"creation_date":1671040609,"answer_id":74802450,"question_id":21076179,"body_markdown":"Please select the root certificate. By default browsers select the child certificate which may not resolve the issue. See this thread for more details: https://stackoverflow.com/questions/74799868/unable-to-find-valid-certification-path-to-requested-target\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Please select the root certificate. By default browsers select the child certificate which may not resolve the issue. See this thread for more details: <a href=\"https://stackoverflow.com/questions/74799868/unable-to-find-valid-certification-path-to-requested-target\">unable to find valid certification path to requested target</a></p>\n"},{"tags":[],"owner":{"account_id":13243884,"reputation":289,"user_id":9563588,"display_name":"Mic&#243; Papp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678787015,"creation_date":1677067379,"answer_id":75532442,"question_id":21076179,"body_markdown":"Above suggestions work however I wanted a more simple and command line only solution as I need it relatively often so I came up with `jssl`.\r\n\r\n**TLDR:**  \r\n`jssl example.com install`  \r\n`jssl example.com ping`  \r\n`jssl example.com uninstall`\r\n\r\nYou can install jssl via homebrew:  \r\n`brew install pmamico/java/jssl`  \r\nor without homebrew:  \r\n`curl -sL https://raw.githubusercontent.com/pmamico/java-ssl-tools/main/install.sh | bash`\r\n\r\nIt works on Windows, macOS and Linux also.   \r\nSee more at https://github.com/pmamico/java-ssl-tools","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Above suggestions work however I wanted a more simple and command line only solution as I need it relatively often so I came up with <code>jssl</code>.</p>\n<p><strong>TLDR:</strong><br />\n<code>jssl example.com install</code><br />\n<code>jssl example.com ping</code><br />\n<code>jssl example.com uninstall</code></p>\n<p>You can install jssl via homebrew:<br />\n<code>brew install pmamico/java/jssl</code><br />\nor without homebrew:<br />\n<code>curl -sL https://raw.githubusercontent.com/pmamico/java-ssl-tools/main/install.sh | bash</code></p>\n<p>It works on Windows, macOS and Linux also.<br />\nSee more at <a href=\"https://github.com/pmamico/java-ssl-tools\" rel=\"nofollow noreferrer\">https://github.com/pmamico/java-ssl-tools</a></p>\n"},{"tags":[],"owner":{"account_id":9252076,"reputation":316,"user_id":6872259,"display_name":"Akhilesh Joshi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679335588,"creation_date":1679335588,"answer_id":75793837,"question_id":21076179,"body_markdown":"**Working steps via Linux terminal ( steps below )**\r\n\r\n 1. download the certs for the URL complaining ( for me `repo.maven.apache.org` was complaining )\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    openssl s_client -showcerts -connect repo.maven.apache.org:443 &lt;/dev/null | sed -n -e &#39;/-.BEGIN/,/-.END/ p&#39; &gt; /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Extract the certificate information to existing keystore file ( let&#39;s say `abc.jks` )\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    sudo $JAVA_HOME/bin/keytool -trustcacerts -keystore /home/akhilesh/abc.jks  -storepass changeit -importcert -alias mavenrepo -file /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. If you do not have existing keystore file then you can add it to `${JAVA_HOME}/lib/security/cacerts`\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    sudo ${JAVA_HOME}/bin/keytool -importcert -alias &quot;MavenCert&quot; -keystore /${JAVA_HOME}/lib/security/cacerts -file /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>Working steps via Linux terminal ( steps below )</strong></p>\n<ol>\n<li>download the certs for the URL complaining ( for me <code>repo.maven.apache.org</code> was complaining )</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>openssl s_client -showcerts -connect repo.maven.apache.org:443 &lt;/dev/null | sed -n -e '/-.BEGIN/,/-.END/ p' &gt; /tmp/maven_repo.pem\n</code></pre>\n\n<ol start=\"2\">\n<li>Extract the certificate information to existing keystore file ( let's say <code>abc.jks</code> )</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>sudo $JAVA_HOME/bin/keytool -trustcacerts -keystore /home/akhilesh/abc.jks  -storepass changeit -importcert -alias mavenrepo -file /tmp/maven_repo.pem\n</code></pre>\n\n<ol start=\"3\">\n<li>If you do not have existing keystore file then you can add it to <code>${JAVA_HOME}/lib/security/cacerts</code></li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>sudo ${JAVA_HOME}/bin/keytool -importcert -alias &quot;MavenCert&quot; -keystore /${JAVA_HOME}/lib/security/cacerts -file /tmp/maven_repo.pem\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680774738,"creation_date":1680774738,"answer_id":75948144,"question_id":21076179,"body_markdown":"In my case a proxy software installed on my mac was the culprit.\r\n\r\n\r\nI faced this when I was trying build project on my Macbook. I tried so many solutions but none worked. Finally saw that the IT team had installed a proxy software and suspected that the proxy software could be blocking gradle to download the dependencies. I connected with IT Team and got the proxy uninstalled and then synced the project and it worked finally.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case a proxy software installed on my mac was the culprit.</p>\n<p>I faced this when I was trying build project on my Macbook. I tried so many solutions but none worked. Finally saw that the IT team had installed a proxy software and suspected that the proxy software could be blocking gradle to download the dependencies. I connected with IT Team and got the proxy uninstalled and then synced the project and it worked finally.</p>\n"},{"tags":[],"owner":{"account_id":16156651,"reputation":381,"user_id":11663756,"display_name":"Rohit Tatiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684236656,"creation_date":1684236656,"answer_id":76262524,"question_id":21076179,"body_markdown":"If you&#39;re facing issues with below exception:\r\n\r\n**Issue:** javax.net.ssl.SSLHandshakeException: PKIX path building failed ..... unable to find valid certification path to requested target.\r\n\r\n**Cause:** SSL Handshake is failing because the require server certificate is not present at client. For JAVA application stack it uses its own certificate store either in JRE or JDK locations:\r\n1) **JRE:** jre/lib/security/cacerts\r\n2) **JDK:** :\\Program Files\\Java\\jdk-11.0.15.1\\lib/security/cacerts\r\n\r\n**Solution:** you need to register the certificate inside cacerts folder of JAVA set up using below command:\r\n\r\n**keytool -import -alias {certificate-name} -keystore  &quot;{absolute-path-of-cacerts-directory}&quot; -file {.cer-file-location}**\r\n\r\nThis utility uses default password as &quot;changeit&quot;. Please enter this password when get prompted.\r\n\r\nIf keytool is not recognized please note that this .exe is part of JRE or JDK bin folder hence adding that path inside local machine environment variable called &quot;Path&quot; should fix this issue.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you're facing issues with below exception:</p>\n<p><strong>Issue:</strong> javax.net.ssl.SSLHandshakeException: PKIX path building failed ..... unable to find valid certification path to requested target.</p>\n<p><strong>Cause:</strong> SSL Handshake is failing because the require server certificate is not present at client. For JAVA application stack it uses its own certificate store either in JRE or JDK locations:</p>\n<ol>\n<li><strong>JRE:</strong> jre/lib/security/cacerts</li>\n<li><strong>JDK:</strong> :\\Program Files\\Java\\jdk-11.0.15.1\\lib/security/cacerts</li>\n</ol>\n<p><strong>Solution:</strong> you need to register the certificate inside cacerts folder of JAVA set up using below command:</p>\n<p><strong>keytool -import -alias {certificate-name} -keystore  &quot;{absolute-path-of-cacerts-directory}&quot; -file {.cer-file-location}</strong></p>\n<p>This utility uses default password as &quot;changeit&quot;. Please enter this password when get prompted.</p>\n<p>If keytool is not recognized please note that this .exe is part of JRE or JDK bin folder hence adding that path inside local machine environment variable called &quot;Path&quot; should fix this issue.</p>\n"},{"tags":[],"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685551185,"creation_date":1685551185,"answer_id":76375673,"question_id":21076179,"body_markdown":"The proposed solutions did not work for me. I ended up using this workaround. Keep in mind, not ideal.\r\n\r\n    -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.resolver.transport=wagon","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The proposed solutions did not work for me. I ended up using this workaround. Keep in mind, not ideal.</p>\n<pre><code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.resolver.transport=wagon\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1693220349,"creation_date":1693220023,"answer_id":76992172,"question_id":21076179,"body_markdown":"This issue is mostly due to the request is being blocked by the application in our system that protect us from the cyberattacks.\r\n\r\nIn my case, I tried accessing a trusted API service so I just resolved it by adding the zscaler certicate to the `lib/security/cacerts` file of my jdk 17, which is being used in the IDE by executing the below keytool command in the cmd.\r\n\r\n    keytool -keystore  &quot;C:\\dev\\java\\jdk-17.0.7\\lib\\security\\cacerts&quot; -import -alias zscalarCert -file &quot;C:\\Users\\theri\\Documents\\zscalar-cert.crt&quot;\r\n    \r\n    password:- changeit\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This issue is mostly due to the request is being blocked by the application in our system that protect us from the cyberattacks.</p>\n<p>In my case, I tried accessing a trusted API service so I just resolved it by adding the zscaler certicate to the <code>lib/security/cacerts</code> file of my jdk 17, which is being used in the IDE by executing the below keytool command in the cmd.</p>\n<pre><code>keytool -keystore  &quot;C:\\dev\\java\\jdk-17.0.7\\lib\\security\\cacerts&quot; -import -alias zscalarCert -file &quot;C:\\Users\\theri\\Documents\\zscalar-cert.crt&quot;\n\npassword:- changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699192501,"creation_date":1697909775,"answer_id":77337117,"question_id":21076179,"body_markdown":"Although alot answers have been provided, I would like to suggest a simple alternative based on [certificate ripper][1] which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.\r\n```\r\ncrip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\r\n```\r\n\r\nIn some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linx. Binaries can be found here: [certificate ripper binaries][2]\r\n\r\n\r\n  [1]: https://github.com/Hakky54/certificate-ripper\r\n  [2]: https://github.com/Hakky54/certificate-ripper/releases","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Although alot answers have been provided, I would like to suggest a simple alternative based on <a href=\"https://github.com/Hakky54/certificate-ripper\" rel=\"nofollow noreferrer\">certificate ripper</a> which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.</p>\n<pre><code>crip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\n</code></pre>\n<p>In some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linx. Binaries can be found here: <a href=\"https://github.com/Hakky54/certificate-ripper/releases\" rel=\"nofollow noreferrer\">certificate ripper binaries</a></p>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792195,"creation_date":1701792195,"answer_id":77607615,"question_id":21076179,"body_markdown":"I was facing this error in Flutter project.\r\n\r\nThe issue was due to the restriction put by the security softwares installed in my company&#39;s laptop.\r\n\r\nThe solution was given by the IT team that connect to the VPN provided by company. Then I was able to download the required files and the project ran successfully.\r\n\r\nNote: I needed to connect only one time to the company&#39;s VPN. Once the project ran successfully, then I didn&#39;t need to connect to VPN.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing this error in Flutter project.</p>\n<p>The issue was due to the restriction put by the security softwares installed in my company's laptop.</p>\n<p>The solution was given by the IT team that connect to the VPN provided by company. Then I was able to download the required files and the project ran successfully.</p>\n<p>Note: I needed to connect only one time to the company's VPN. Once the project ran successfully, then I didn't need to connect to VPN.</p>\n"}],"owner":{"account_id":1148416,"reputation":10826,"user_id":1130672,"accept_rate":74,"display_name":"bofanda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3173290,"favorite_count":0,"down_vote_count":1,"up_vote_count":894,"accepted_answer_id":36427118,"answer_count":61,"score":893,"last_activity_date":1701792195,"creation_date":1389539085,"question_id":21076179,"body_markdown":"I&#39;m trying to get tweets using twitter4j library for my java project which uses under the covers `java.net.HttpURLConnection` (as can be seen in stack trace). On my first run I got an error about certificate `sun.security.validator.ValidatorException` and `sun.security.provider.certpath.SunCertPathBuilderException`. Then I added twitter certificate by:\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security&gt;keytool -importcert -trustcacerts -file PathToCert -alias ca_alias -keystore &quot;C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts&quot;\r\n\r\nBut without success. Here is the procedure to get tweets:\r\n\r\n    public static void main(String[] args) throws TwitterException {\r\n        ConfigurationBuilder cb = new ConfigurationBuilder();\r\n        cb.setDebugEnabled(true)\r\n            .setOAuthConsumerKey(&quot;myConsumerKey&quot;)\r\n            .setOAuthConsumerSecret(&quot;myConsumerSecret&quot;)\r\n            .setOAuthAccessToken(&quot;myAccessToken&quot;)\r\n            .setOAuthAccessTokenSecret(&quot;myAccessTokenSecret&quot;);\r\n        \r\n        TwitterFactory tf = new TwitterFactory(cb.build());\r\n        Twitter twitter = tf.getInstance();\r\n        \r\n        try {\r\n            Query query = new Query(&quot;iphone&quot;);\r\n            QueryResult result;\r\n            result = twitter.search(query);\r\n            System.out.println(&quot;Total amount of tweets: &quot; + result.getTweets().size());\r\n            List&lt;Status&gt; tweets = result.getTweets();\r\n            \r\n            for (Status tweet : tweets) {\r\n                System.out.println(&quot;@&quot; + tweet.getUser().getScreenName() + &quot; : &quot; + tweet.getText());\r\n            }\r\n        } catch (TwitterException te) {\r\n            te.printStackTrace();\r\n            System.out.println(&quot;Failed to search tweets: &quot; + te.getMessage());\r\n        }\r\n\r\nAnd here is the error:\r\n\r\n    sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    Relevant discussions can be found on the Internet at:\r\n        http://www.google.co.jp/search?q=d35baff5 or\r\n        http://www.google.co.jp/search?q=1446302e\r\n    TwitterException{exceptionCode=[d35baff5-1446302e 43208640-747fd158 43208640-747fd158 43208640-747fd158], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=3.0.5}\r\n        at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:177)\r\n        at twitter4j.internal.http.HttpClientWrapper.request(HttpClientWrapper.java:61)\r\n        at twitter4j.internal.http.HttpClientWrapper.get(HttpClientWrapper.java:81)\r\n        at twitter4j.TwitterImpl.get(TwitterImpl.java:1929)\r\n        at twitter4j.TwitterImpl.search(TwitterImpl.java:306)\r\n        at jku.cc.servlets.TweetsAnalyzer.main(TweetsAnalyzer.java:38)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n        at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n        at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n        at sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n        at sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n        at java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n        at twitter4j.internal.http.HttpResponseImpl.&lt;init&gt;(HttpResponseImpl.java:34)\r\n        at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:141)\r\n        ... 5 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n        at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n        at sun.security.validator.Validator.validate(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n        ... 20 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n        at java.security.cert.CertPathBuilder.build(Unknown Source)\r\n        ... 26 more\r\n    Failed to search tweets: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I'm trying to get tweets using twitter4j library for my java project which uses under the covers <code>java.net.HttpURLConnection</code> (as can be seen in stack trace). On my first run I got an error about certificate <code>sun.security.validator.ValidatorException</code> and <code>sun.security.provider.certpath.SunCertPathBuilderException</code>. Then I added twitter certificate by:</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security&gt;keytool -importcert -trustcacerts -file PathToCert -alias ca_alias -keystore &quot;C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts&quot;\n</code></pre>\n<p>But without success. Here is the procedure to get tweets:</p>\n<pre><code>public static void main(String[] args) throws TwitterException {\n    ConfigurationBuilder cb = new ConfigurationBuilder();\n    cb.setDebugEnabled(true)\n        .setOAuthConsumerKey(&quot;myConsumerKey&quot;)\n        .setOAuthConsumerSecret(&quot;myConsumerSecret&quot;)\n        .setOAuthAccessToken(&quot;myAccessToken&quot;)\n        .setOAuthAccessTokenSecret(&quot;myAccessTokenSecret&quot;);\n    \n    TwitterFactory tf = new TwitterFactory(cb.build());\n    Twitter twitter = tf.getInstance();\n    \n    try {\n        Query query = new Query(&quot;iphone&quot;);\n        QueryResult result;\n        result = twitter.search(query);\n        System.out.println(&quot;Total amount of tweets: &quot; + result.getTweets().size());\n        List&lt;Status&gt; tweets = result.getTweets();\n        \n        for (Status tweet : tweets) {\n            System.out.println(&quot;@&quot; + tweet.getUser().getScreenName() + &quot; : &quot; + tweet.getText());\n        }\n    } catch (TwitterException te) {\n        te.printStackTrace();\n        System.out.println(&quot;Failed to search tweets: &quot; + te.getMessage());\n    }\n</code></pre>\n<p>And here is the error:</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nRelevant discussions can be found on the Internet at:\n    http://www.google.co.jp/search?q=d35baff5 or\n    http://www.google.co.jp/search?q=1446302e\nTwitterException{exceptionCode=[d35baff5-1446302e 43208640-747fd158 43208640-747fd158 43208640-747fd158], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=3.0.5}\n    at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:177)\n    at twitter4j.internal.http.HttpClientWrapper.request(HttpClientWrapper.java:61)\n    at twitter4j.internal.http.HttpClientWrapper.get(HttpClientWrapper.java:81)\n    at twitter4j.TwitterImpl.get(TwitterImpl.java:1929)\n    at twitter4j.TwitterImpl.search(TwitterImpl.java:306)\n    at jku.cc.servlets.TweetsAnalyzer.main(TweetsAnalyzer.java:38)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at twitter4j.internal.http.HttpResponseImpl.&lt;init&gt;(HttpResponseImpl.java:34)\n    at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:141)\n    ... 5 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\n    at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n    at sun.security.validator.Validator.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n    ... 20 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\n    at java.security.cert.CertPathBuilder.build(Unknown Source)\n    ... 26 more\nFailed to search tweets: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1701792320,"post_id":77607612,"comment_id":136817958,"body_markdown":"Can you process the records one-by-one, or you need all of them in memory at one time?","body":"Can you process the records one-by-one, or you need all of them in memory at one time?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701800572,"post_id":77607612,"comment_id":136819475,"body_markdown":"Use pagination to pull in batches of a data at at time for processing, then clear the results from memory (EntityManager.clear() and other cache clearing mechanisms exist depending on your level of caching). Building objects is overhead , so if you can use the raw data, just pull it using data queries instead of building entities (&quot;select entity.x, entity.y from Entity entity where ...&quot;) so that the data itself isn&#39;t built into objects and cached. Less you need to pull the better though as you&#39;ll need to balance GC overhead and network traffic.","body":"Use pagination to pull in batches of a data at at time for processing, then clear the results from memory (EntityManager.clear() and other cache clearing mechanisms exist depending on your level of caching). Building objects is overhead , so if you can use the raw data, just pull it using data queries instead of building entities (&quot;select entity.x, entity.y from Entity entity where ...&quot;) so that the data itself isn&#39;t built into objects and cached. Less you need to pull the better though as you&#39;ll need to balance GC overhead and network traffic."},{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":0,"creation_date":1701860693,"post_id":77607612,"comment_id":136826624,"body_markdown":"It depends whats in the columns. 200k records is a small number and should be no problem. You can fetch that into memory and do your computation. Only fetch the columns you really need. Not all 500 columns.","body":"It depends whats in the columns. 200k records is a small number and should be no problem. You can fetch that into memory and do your computation. Only fetch the columns you really need. Not all 500 columns."}],"owner":{"account_id":26421834,"reputation":1,"user_id":20069397,"display_name":"KP_EV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701802990,"answer_count":0,"score":-2,"last_activity_date":1701792182,"creation_date":1701792182,"question_id":77607612,"body_markdown":"for reasons i cannot explain, i have a really big table (500 columns and ~200k rows) and **really** need to call findAll() or something simliar to iterate over the whole table and compute some internal values with java code.\r\n\r\nI am mostly thinking about the memory usage of such big objects and lots of entities.\r\n\r\nIs there a way to keep the memory footprint low/the performance okayish for such a thing?\r\n\r\ni have read that streamAll() still keeps everything in memory because of hibernate caching mechanisms.\r\n\r\n","title":"efficient findAll to iterate over a table in java?","body":"<p>for reasons i cannot explain, i have a really big table (500 columns and ~200k rows) and <strong>really</strong> need to call findAll() or something simliar to iterate over the whole table and compute some internal values with java code.</p>\n<p>I am mostly thinking about the memory usage of such big objects and lots of entities.</p>\n<p>Is there a way to keep the memory footprint low/the performance okayish for such a thing?</p>\n<p>i have read that streamAll() still keeps everything in memory because of hibernate caching mechanisms.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6839005,"reputation":133541,"user_id":5260024,"display_name":"Jonas Wilms"},"score":0,"creation_date":1471268136,"post_id":38956056,"comment_id":65266140,"body_markdown":"Set count to a boolean. Simply set it to true and if it is already true set it back to false and exit the loop","body":"Set count to a boolean. Simply set it to true and if it is already true set it back to false and exit the loop"},{"owner":{"account_id":8720371,"reputation":1009,"user_id":6523710,"accept_rate":100,"display_name":"Javant"},"score":3,"creation_date":1471268177,"post_id":38956056,"comment_id":65266158,"body_markdown":"Well you do have count%2==0 which means there was an even number of times the letter showed up.. if you want exactly two just do count == 2","body":"Well you do have count%2==0 which means there was an even number of times the letter showed up.. if you want exactly two just do count == 2"},{"owner":{"account_id":2721223,"reputation":7815,"user_id":2347483,"display_name":"Phylogenesis"},"score":1,"creation_date":1471268583,"post_id":38956056,"comment_id":65266371,"body_markdown":"You are counting the total number of paired letters in your string and seeing if it&#39;s even. This is not what you say you are trying to do. For instance, the strings `aa` and `abcabc` would both fail your test.","body":"You are counting the total number of paired letters in your string and seeing if it&#39;s even. This is not what you say you are trying to do. For instance, the strings <code>aa</code> and <code>abcabc</code> would both fail your test."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":1,"creation_date":1471268927,"post_id":38956056,"comment_id":65266569,"body_markdown":"You could use a `hashmap` to store each letter and the number of times it occurs in the `string`. Loop through your `hashmap`&#39;s values and if any of them do not equal 2 then it is not a `doubloon`...","body":"You could use a <code>hashmap</code> to store each letter and the number of times it occurs in the <code>string</code>. Loop through your <code>hashmap</code>&#39;s values and if any of them do not equal 2 then it is not a <code>doubloon</code>..."}],"answers":[{"tags":[],"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471269023,"creation_date":1471268405,"answer_id":38956195,"question_id":38956056,"body_markdown":"Your code counts how often each letter occurs (-1) and adds all this values. If the result is even you imply that each letter is exactly twice in the word. That cannot work.\r\n\r\nSimply try the word &quot;aaabbbb&quot;. (your code think it is a doubloon)\r\n\r\nSo you need to check if no character occurs exactly twice and that for each character separately.\r\n\r\nYou could do it this way:\r\n\r\n    public static void main(String[] args) {\r\n      if(isDoubloon(&quot;Shanghaiingss&quot;)){\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n      }else{\r\n        System.err.println(&quot;False, This is not a doubloon&quot;);\r\n      }\r\n    }   \r\n\r\n\r\n    public static boolean isDoubloon(final String s) {\r\n        final String l = s.toLowerCase();\r\n\r\n        for (int i = 0; i &lt; l.length(); i++) {\r\n            int count = 0;\r\n            for (int j = 0; j &lt; l.length(); j++) {\r\n               if (l.charAt(i) == l.charAt(j)) {\r\n                  count++;\r\n                  if (2 &lt; count) {\r\n                    return false; // more than twice\r\n                  } \r\n               }\r\n            }\r\n            if (1 == count) {\r\n                return false; // character occurs only once\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nThis algorithm is similar to yours. But it is far from fast **O(n&#178;)**. Is you need it you can implement it faster **O(n)** but you would need some extra space.","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Your code counts how often each letter occurs (-1) and adds all this values. If the result is even you imply that each letter is exactly twice in the word. That cannot work.</p>\n\n<p>Simply try the word \"aaabbbb\". (your code think it is a doubloon)</p>\n\n<p>So you need to check if no character occurs exactly twice and that for each character separately.</p>\n\n<p>You could do it this way:</p>\n\n<pre><code>public static void main(String[] args) {\n  if(isDoubloon(\"Shanghaiingss\")){\n    System.out.println(\"True, This is a doubloon\");\n  }else{\n    System.err.println(\"False, This is not a doubloon\");\n  }\n}   \n\n\npublic static boolean isDoubloon(final String s) {\n    final String l = s.toLowerCase();\n\n    for (int i = 0; i &lt; l.length(); i++) {\n        int count = 0;\n        for (int j = 0; j &lt; l.length(); j++) {\n           if (l.charAt(i) == l.charAt(j)) {\n              count++;\n              if (2 &lt; count) {\n                return false; // more than twice\n              } \n           }\n        }\n        if (1 == count) {\n            return false; // character occurs only once\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This algorithm is similar to yours. But it is far from fast <strong>O(n²)</strong>. Is you need it you can implement it faster <strong>O(n)</strong> but you would need some extra space.</p>\n"},{"tags":[],"owner":{"account_id":6951436,"reputation":1275,"user_id":5333936,"accept_rate":89,"display_name":"CloudPotato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1471268946,"creation_date":1471268946,"answer_id":38956323,"question_id":38956056,"body_markdown":"Your whole logic is not correct. You have to check for every letter in your text if it occurs twice.\r\n\r\nTry this:\r\n\r\n    String l=s.toLowerCase();\r\n    boolean check = true;\r\n    \r\n    for(int i= 0; i&lt;l.length();i++){\r\n        int count=0;\r\n        for(int j=0;j&lt;l.length();j++){\r\n            if(l.charAt(i)==l.charAt(j)) count++;\r\n         }\r\n         if (count != 2) {\r\n             check = false;\r\n             break;\r\n         }\r\n    }\r\n    if(check==true){\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n    }else\r\n        System.out.println(&quot;False, This is not a doubloon&quot;);\r\n    }","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Your whole logic is not correct. You have to check for every letter in your text if it occurs twice.</p>\n\n<p>Try this:</p>\n\n<pre><code>String l=s.toLowerCase();\nboolean check = true;\n\nfor(int i= 0; i&lt;l.length();i++){\n    int count=0;\n    for(int j=0;j&lt;l.length();j++){\n        if(l.charAt(i)==l.charAt(j)) count++;\n     }\n     if (count != 2) {\n         check = false;\n         break;\n     }\n}\nif(check==true){\n    System.out.println(\"True, This is a doubloon\");\n}else\n    System.out.println(\"False, This is not a doubloon\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471269308,"creation_date":1471269308,"answer_id":38956433,"question_id":38956056,"body_markdown":"The main flaw here is that you are using a single &quot;count&quot; variable when you want to do a count for each letter.\r\n\r\nI would suggest using a map to hold a count for each letter, loop over the list and add each letter to your map and finally iterate over the map and confirm all values are 2.\r\n\r\n    public static void isDoubloon(String s){\r\n        String l=s.toLowerCase();\r\n        Map&lt;Character, Integer&gt; counts = new HashMap();\r\n\r\n        for(int i= 0; i&lt;l.length()-1;i++){\r\n            int prevValue = counts.getOrDefault(l.charAt(i), 0);\r\n            counts.put(l.charAt(i), prevValue + 1);\r\n        }\r\n\r\n        for (Map.Entry&lt;Character, Integer&gt; entry: counts.entrySet()) {\r\n            if (entry.getValue() != 2) {\r\n                System.err.println(&quot;False, This is not a doubloon&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n    }\r\n\r\n\r\n","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>The main flaw here is that you are using a single \"count\" variable when you want to do a count for each letter.</p>\n\n<p>I would suggest using a map to hold a count for each letter, loop over the list and add each letter to your map and finally iterate over the map and confirm all values are 2.</p>\n\n<pre><code>public static void isDoubloon(String s){\n    String l=s.toLowerCase();\n    Map&lt;Character, Integer&gt; counts = new HashMap();\n\n    for(int i= 0; i&lt;l.length()-1;i++){\n        int prevValue = counts.getOrDefault(l.charAt(i), 0);\n        counts.put(l.charAt(i), prevValue + 1);\n    }\n\n    for (Map.Entry&lt;Character, Integer&gt; entry: counts.entrySet()) {\n        if (entry.getValue() != 2) {\n            System.err.println(\"False, This is not a doubloon\");\n        }\n    }\n    System.out.println(\"True, This is a doubloon\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11376787,"reputation":1,"user_id":8340845,"display_name":"Nomad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501864770,"creation_date":1501864770,"answer_id":45511760,"question_id":38956056,"body_markdown":"Other solution\r\n\r\n\tprivate boolean isDoubloon(String s) {\r\n\t\tString convertWord = s.toLowerCase();\r\n\t\tchar[] letter = convertWord.toCharArray();\r\n\t\tint[] count = new int[26];\r\n\t\tfor (int letters = 0; letters &lt; letter.length; letters++) {\r\n\t\t\tchar index = letter[letters];\r\n\t\t\tcount[index - 97]++;\r\n\t\t}\r\n\t\tfor( int i = 0; i &lt; 26; i++ ) {\r\n\t\t\tif (count[i] != 0 &amp;&amp; count[i] != 2) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Other solution</p>\n\n<pre><code>private boolean isDoubloon(String s) {\n    String convertWord = s.toLowerCase();\n    char[] letter = convertWord.toCharArray();\n    int[] count = new int[26];\n    for (int letters = 0; letters &lt; letter.length; letters++) {\n        char index = letter[letters];\n        count[index - 97]++;\n    }\n    for( int i = 0; i &lt; 26; i++ ) {\n        if (count[i] != 0 &amp;&amp; count[i] != 2) return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12755310,"reputation":1,"user_id":11563751,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558985224,"creation_date":1558981758,"answer_id":56330897,"question_id":38956056,"body_markdown":"\tpublic static boolean isDoubloon(String s) {\r\n\t\tif (s.length() %2 != 0)\r\n\t\t\treturn false;\r\n\t\t\r\n\t\tString str = s.toLowerCase();\r\n\t\t\r\n\t\twhile (str.length() &gt; 0) {\r\n\t\t\tint index2 = str.indexOf(str.charAt(0), 1);\r\n\t\t\tif (index2 == -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tint index3 = str.indexOf(str.charAt(0), index2 + 1);\r\n\t\t\tif (index3 != -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tstr = str.substring(1, index2) + str.substring(index2 + 1);\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<pre><code>public static boolean isDoubloon(String s) {\n    if (s.length() %2 != 0)\n        return false;\n\n    String str = s.toLowerCase();\n\n    while (str.length() &gt; 0) {\n        int index2 = str.indexOf(str.charAt(0), 1);\n        if (index2 == -1) {\n            return false;\n        }\n        int index3 = str.indexOf(str.charAt(0), index2 + 1);\n        if (index3 != -1) {\n            return false;\n        }\n\n        str = str.substring(1, index2) + str.substring(index2 + 1);\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558988218,"creation_date":1558986907,"answer_id":56331793,"question_id":38956056,"body_markdown":"Obligatory Java Streams examples:\r\n\r\n### groupingBy() and counting() ###\r\n\r\n    public static boolean isDoubloon(String str) {\r\n        return\r\n            // Stream over chars, and box to Integer\r\n            // These will be the ASCII values of the chars\r\n            !str.chars().boxed() \r\n\r\n            // Group by identity\r\n            .collect(Collectors.groupingBy(Function.identity(),\r\n            // and map each key to the count of characters\r\n                Collectors.counting()))\r\n\r\n            // We now have a Map&lt;Integer, Long&gt;, the Integer being the character\r\n            // value and the Long being the number of occurrences.\r\n            // Stream over the Map&#39;s values\r\n            .values().stream()\r\n\r\n            // Retain all values unequal to 2\r\n            .filter(i -&gt; !Objects.equals(i, 2L))\r\n\r\n            // Shortcut if found and check if a value is present\r\n            .findAny().isPresent();\r\n\r\n            // If a value is present, that means that there are one or more\r\n            // characters with less or more than two occurrences.\r\n\t}\r\n\r\n&lt;sub&gt;https://ideone.com/PT8sQi&lt;/sub&gt;\r\n\r\n### distinct() and count() ###\r\n\r\n    public static boolean isDoubloon(String str) {\r\n        long distinct = str.chars().distinct().count();\r\n        long length = str.length();\r\n\r\n        return (length % 2 == 0 &amp;&amp; length / 2 == distinct);\r\n    }\r\n\r\n&lt;sub&gt;https://ideone.com/UaOKDF&lt;/sub&gt;","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Obligatory Java Streams examples:</p>\n\n<h3>groupingBy() and counting()</h3>\n\n<pre><code>public static boolean isDoubloon(String str) {\n    return\n        // Stream over chars, and box to Integer\n        // These will be the ASCII values of the chars\n        !str.chars().boxed() \n\n        // Group by identity\n        .collect(Collectors.groupingBy(Function.identity(),\n        // and map each key to the count of characters\n            Collectors.counting()))\n\n        // We now have a Map&lt;Integer, Long&gt;, the Integer being the character\n        // value and the Long being the number of occurrences.\n        // Stream over the Map's values\n        .values().stream()\n\n        // Retain all values unequal to 2\n        .filter(i -&gt; !Objects.equals(i, 2L))\n\n        // Shortcut if found and check if a value is present\n        .findAny().isPresent();\n\n        // If a value is present, that means that there are one or more\n        // characters with less or more than two occurrences.\n}\n</code></pre>\n\n<p><sub><a href=\"https://ideone.com/PT8sQi\" rel=\"nofollow noreferrer\">https://ideone.com/PT8sQi</a></sub></p>\n\n<h3>distinct() and count()</h3>\n\n<pre><code>public static boolean isDoubloon(String str) {\n    long distinct = str.chars().distinct().count();\n    long length = str.length();\n\n    return (length % 2 == 0 &amp;&amp; length / 2 == distinct);\n}\n</code></pre>\n\n<p><sub><a href=\"https://ideone.com/UaOKDF\" rel=\"nofollow noreferrer\">https://ideone.com/UaOKDF</a></sub></p>\n"},{"tags":[],"owner":{"account_id":14213549,"reputation":1,"user_id":10268051,"display_name":"steez123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792149,"creation_date":1701792149,"answer_id":77607606,"question_id":38956056,"body_markdown":"    //Using for loop and charAt to check if each letter appears exactly twice in a word\r\n    //This program takes an input\r\n    //validates the input to be sure its a string\r\n    //checks if the input has a letter appeariing twice in it (doubloon)\r\n    //Tells you if its a doubloon or not`enter code here`enter code here`\r\n    //YOU CAN TAKE OUT THE VALIDATION TO MAKE IT WORK WITH STRING OF N`enter code here`UBERS\r\n    //My first push to stackoverflow Dec 5,2023 . Took me 2 days to get this.\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Doubloon{\r\n    \r\n        public static void main(String[] args){\r\n            isDoubloon();\r\n        }\r\n    \r\n        public static void isDoubloon(){\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            String userInput ;\r\n            int i;\r\n            int x;\r\n            boolean isNotDoolean = false;\r\n    \r\n    \r\n            System.out.println(&quot;Enter a word: &quot;);\r\n    \r\n    //Validate user input\r\n            do{\r\n                if(input.hasNextInt()){\r\n                    System.out.println(&quot;Numbers are not allowed&quot;);\r\n                    System.out.println(&quot;Try again: &quot;);\r\n                    input.nextLine();\r\n                    continue;\r\n                }else if(!input.hasNextInt()){\r\n    //userInput = input.nextLine();\r\n                    break;\r\n                }\r\n            }while(input.hasNextInt());\r\n    \r\n    //store validated input\r\n            userInput = input.nextLine();\r\n    \r\n    //parse userinput and confirm if it is a doubloon or not\r\n            for(x = 0; x &lt; userInput.length(); x++){\r\n                for( i = 1; i &lt; userInput.length(); i ++){\r\n                    if(userInput.charAt(x) == userInput.charAt(i) &amp;&amp; x != i){\r\n                        System.out.print(&quot;Yes! this is a doubloon&quot;);\r\n                        return;\r\n                    }else{isNotDoolean = true;}\r\n                    if(x == userInput.length()-1 &amp;&amp; isNotDoolean == true){\r\n                        System.out.print(&quot;Oh no! this is not a doubloon&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                }\r\n    \r\n            } //end of for loop;\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<pre><code>//Using for loop and charAt to check if each letter appears exactly twice in a word\n//This program takes an input\n//validates the input to be sure its a string\n//checks if the input has a letter appeariing twice in it (doubloon)\n//Tells you if its a doubloon or not`enter code here`enter code here`\n//YOU CAN TAKE OUT THE VALIDATION TO MAKE IT WORK WITH STRING OF N`enter code here`UBERS\n//My first push to stackoverflow Dec 5,2023 . Took me 2 days to get this.\n\nimport java.util.Scanner;\n\npublic class Doubloon{\n\n    public static void main(String[] args){\n        isDoubloon();\n    }\n\n    public static void isDoubloon(){\n\n        Scanner input = new Scanner(System.in);\n        String userInput ;\n        int i;\n        int x;\n        boolean isNotDoolean = false;\n\n\n        System.out.println(&quot;Enter a word: &quot;);\n\n//Validate user input\n        do{\n            if(input.hasNextInt()){\n                System.out.println(&quot;Numbers are not allowed&quot;);\n                System.out.println(&quot;Try again: &quot;);\n                input.nextLine();\n                continue;\n            }else if(!input.hasNextInt()){\n//userInput = input.nextLine();\n                break;\n            }\n        }while(input.hasNextInt());\n\n//store validated input\n        userInput = input.nextLine();\n\n//parse userinput and confirm if it is a doubloon or not\n        for(x = 0; x &lt; userInput.length(); x++){\n            for( i = 1; i &lt; userInput.length(); i ++){\n                if(userInput.charAt(x) == userInput.charAt(i) &amp;&amp; x != i){\n                    System.out.print(&quot;Yes! this is a doubloon&quot;);\n                    return;\n                }else{isNotDoolean = true;}\n                if(x == userInput.length()-1 &amp;&amp; isNotDoolean == true){\n                    System.out.print(&quot;Oh no! this is not a doubloon&quot;);\n                    return;\n                }\n\n            }\n\n        } //end of for loop;\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8425242,"reputation":3,"user_id":6322750,"accept_rate":50,"display_name":"JO_VIC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38956323,"answer_count":7,"score":0,"last_activity_date":1701792149,"creation_date":1471267934,"question_id":38956056,"body_markdown":"i&#39;m writing a program in java that checks if a letter appers exactly twice, i was able to write it but my problem is that for some words the code doesn&#39;t check if the letter appear exactly twice.\r\nhere is my code:\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n      isDoubloon(&quot;abba&quot;);\r\n      isDoubloon(&quot;Shanghaiingss&quot;);/*it still prints out true though &#39;s&#39; does appear exactly twice*/}\r\n\r\n\r\n    //checks if every letter appears twice in a word\r\n\tpublic static void isDoubloon(String s){\r\n\t\tString l=s.toLowerCase();\r\n\t\tint count=0;\r\n\t\t\r\n\t\tfor(int i= 0; i&lt;l.length()-1;i++){\r\n\t\t\tfor(int j=i+1;j&lt;l.length();j++){\r\n\t\t\t\t\r\n\t\t\t\tif(l.charAt(i)==l.charAt(j)) count++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif(count%2==0){\r\n\t\t\tSystem.out.println(&quot;True, This is a doubloon&quot;);\r\n\t\t}else\r\n\t\t\tSystem.err.println(&quot;False, This is not a doubloon&quot;);\r\n\t\t\r\n\t\t\r\n\t}}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>i'm writing a program in java that checks if a letter appers exactly twice, i was able to write it but my problem is that for some words the code doesn't check if the letter appear exactly twice.\nhere is my code:</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n  isDoubloon(\"abba\");\n  isDoubloon(\"Shanghaiingss\");/*it still prints out true though 's' does appear exactly twice*/}\n\n\n//checks if every letter appears twice in a word\npublic static void isDoubloon(String s){\n    String l=s.toLowerCase();\n    int count=0;\n\n    for(int i= 0; i&lt;l.length()-1;i++){\n        for(int j=i+1;j&lt;l.length();j++){\n\n            if(l.charAt(i)==l.charAt(j)) count++;\n        }\n\n    }\n    if(count%2==0){\n        System.out.println(\"True, This is a doubloon\");\n    }else\n        System.err.println(\"False, This is not a doubloon\");\n\n\n}}\n</code></pre>\n"},{"tags":["java","gradle","minecraft-forge"],"owner":{"account_id":19852756,"reputation":1,"user_id":14542912,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701791359,"answer_count":0,"score":-3,"last_activity_date":1701792102,"creation_date":1701790774,"question_id":77607449,"body_markdown":"Can someone please help with cleaning up the project from module-info.class otherwise, it throws such exceptions. \r\n1. I&#39;m following this example\r\n```https://github.com/jjohannes/understanding-gradle/blob/groovy-dsl/32_Artifact_Transforms/```\r\nI wanted to use this code to register an artifact transformer\r\n```def javaModuleAttribute = Attribute.of(&quot;javaModule&quot;, Boolean)\r\nconfigurations.compileClasspath {\r\n    attributes.attribute(javaModuleAttribute, true)\r\n}\r\nconfigurations.runtimeClasspath {\r\n    attributes.attribute(javaModuleAttribute, true)\r\n}\r\n\r\ndependencies.artifactTypes.maybeCreate(&quot;jar&quot;).attributes.attribute(javaModuleAttribute, false)\r\n\r\ndependencies.registerTransform(JavaModuleTransform) {\r\n    from.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, false)\r\n    to.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, true)\r\n}\r\n```\r\nbut an error occurs and it cannot find the main class of the net.minecraftforge.legacydev package\r\n\r\n```2. I had to create buildSrc/build.gradle and perform the conversion of the artifact already in build.gradle since the groovy script can only be imported into the main build.gradle. I expect that the conversion of the artifact will be performed, but now it is not being performed since I apparently register it incorrectly. I have a println that should display something when converting an artifact```\r\n\r\n3. I&#39;m sorry that I didn&#39;t describe everything so well, since this is my first question, but the bottom line is that I need to clear all dependencies and the entire project from module-info.class\r\nHere is the error, and below is the code. Could you help fix it so that it does it correctly.\r\n**ERROR:**\r\n\r\nhttps://pastebin.com/pbnBXt0C\r\n\r\n**BUILD.GRADLE(ROOT) and buildSrc/build.gradle**\r\n \r\n\r\nhttps://pastebin.com/TbwXDdT0\r\n \r\n**buildSrc/src/main/groovy/org/example/JavaModuleTransform.groovy**\r\n\r\nhttps://pastebin.com/hFygDi8d\r\n\r\n\r\n","title":"Artifact Transformer. Cleaning up the project from module-info.class","body":"<p>Can someone please help with cleaning up the project from module-info.class otherwise, it throws such exceptions.</p>\n<ol>\n<li>I'm following this example\n<code>https://github.com/jjohannes/understanding-gradle/blob/groovy-dsl/32_Artifact_Transforms/</code>\nI wanted to use this code to register an artifact transformer</li>\n</ol>\n<pre><code>configurations.compileClasspath {\n    attributes.attribute(javaModuleAttribute, true)\n}\nconfigurations.runtimeClasspath {\n    attributes.attribute(javaModuleAttribute, true)\n}\n\ndependencies.artifactTypes.maybeCreate(&quot;jar&quot;).attributes.attribute(javaModuleAttribute, false)\n\ndependencies.registerTransform(JavaModuleTransform) {\n    from.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, false)\n    to.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, true)\n}\n</code></pre>\n<p>but an error occurs and it cannot find the main class of the net.minecraftforge.legacydev package</p>\n<p><code>2. I had to create buildSrc/build.gradle and perform the conversion of the artifact already in build.gradle since the groovy script can only be imported into the main build.gradle. I expect that the conversion of the artifact will be performed, but now it is not being performed since I apparently register it incorrectly. I have a println that should display something when converting an artifact</code></p>\n<ol start=\"3\">\n<li>I'm sorry that I didn't describe everything so well, since this is my first question, but the bottom line is that I need to clear all dependencies and the entire project from module-info.class\nHere is the error, and below is the code. Could you help fix it so that it does it correctly.\n<strong>ERROR:</strong></li>\n</ol>\n<p><a href=\"https://pastebin.com/pbnBXt0C\" rel=\"nofollow noreferrer\">https://pastebin.com/pbnBXt0C</a></p>\n<p><strong>BUILD.GRADLE(ROOT) and buildSrc/build.gradle</strong></p>\n<p><a href=\"https://pastebin.com/TbwXDdT0\" rel=\"nofollow noreferrer\">https://pastebin.com/TbwXDdT0</a></p>\n<p><strong>buildSrc/src/main/groovy/org/example/JavaModuleTransform.groovy</strong></p>\n<p><a href=\"https://pastebin.com/hFygDi8d\" rel=\"nofollow noreferrer\">https://pastebin.com/hFygDi8d</a></p>\n"},{"tags":["java","jetty","slf4j"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701792078,"creation_date":1701792078,"answer_id":77607600,"question_id":77607039,"body_markdown":"The message ...\r\n\r\n`\r\nDetected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError.\r\n`\r\n\r\n... is coming from your `org.slf4j:slf4j-reload4j` dependency.\r\n\r\n[It is simply looking for a class `org.apache.log4j.Log4jLoggerFactory` and if found, reports that message to you.][1]\r\n\r\nFirst step, is to look for the class `org.apache.log4j.Log4jLoggerFactory` in your dependency jar files.\r\n\r\nNext step is to run your application outside of gradle.  It&#39;s not that unusual for various dependencies (esp logging) to come from your build environment itself (or it&#39;s plugins).\r\n\r\nAlternate approach, don&#39;t use the deprecated log4j 1.x APIs.  Upgrade to log4j 2.x.  (the slf4j 2.x bridge for log4j 2 is available from the log4j group itself)\r\n\r\n\r\n  [1]: https://github.com/qos-ch/slf4j/blob/5ccbe20b118828f35fd64a887d77fb9b72ad1a6e/slf4j-reload4j/src/main/java/org/slf4j/reload4j/Reload4jLoggerFactory.java#L46-L59","title":"slf4j and jetty conflict: SLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>The message ...</p>\n<p><code>Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError.</code></p>\n<p>... is coming from your <code>org.slf4j:slf4j-reload4j</code> dependency.</p>\n<p><a href=\"https://github.com/qos-ch/slf4j/blob/5ccbe20b118828f35fd64a887d77fb9b72ad1a6e/slf4j-reload4j/src/main/java/org/slf4j/reload4j/Reload4jLoggerFactory.java#L46-L59\" rel=\"nofollow noreferrer\">It is simply looking for a class <code>org.apache.log4j.Log4jLoggerFactory</code> and if found, reports that message to you.</a></p>\n<p>First step, is to look for the class <code>org.apache.log4j.Log4jLoggerFactory</code> in your dependency jar files.</p>\n<p>Next step is to run your application outside of gradle.  It's not that unusual for various dependencies (esp logging) to come from your build environment itself (or it's plugins).</p>\n<p>Alternate approach, don't use the deprecated log4j 1.x APIs.  Upgrade to log4j 2.x.  (the slf4j 2.x bridge for log4j 2 is available from the log4j group itself)</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701792078,"creation_date":1701787038,"question_id":77607039,"body_markdown":"This error occurred when the slf4j dependency was added:\r\n`implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;)`\r\n\r\nAnd in the line:\r\n`org.eclipse.jetty.server.Server server = new Server(port);`\r\n\r\nI have excluded `slf4j` everywhere where it might be, but the error still reproduces.\r\n\r\n\r\nThe dependencies (gradle.build.kts):\r\n\r\n```kotlin\r\ndependencies {    \r\n    implementation(&quot;org.eclipse.jetty:jetty-server:$jettyVersion&quot;) {\r\n       exclude(group = &quot;org.slf4j&quot;)\r\n    }\r\n    implementation(&quot;org.eclipse.jetty:jetty-servlet:$jettyVersion&quot;) {    \r\n        exclude(group = &quot;org.slf4j&quot;)\r\n    }\r\n...\r\n    implementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    testImplementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-api:2.0.7&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;) {    \r\n        exclude(group = &quot;log4j&quot;)\r\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\r\n    }\r\n    \r\n    configurations.all {        \r\n        resolutionStrategy {            \r\n            eachDependency {\r\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\r\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\r\n                exclude(group = &quot;log4j&quot;, module = &quot;log4j&quot;)\r\n            }        \r\n        }    \r\n    }\r\n}\r\n```\r\n\r\nDependency tree:\r\n`gradlew dependencies --configuration runtimeClasspath `\r\n\r\n```\r\n+--- org.eclipse.jetty:jetty-server:11.0.8  \r\n|    +--- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2  \r\n|    +--- org.eclipse.jetty:jetty-http:11.0.8  \r\n|    |    +--- org.eclipse.jetty:jetty-util:11.0.8  \r\n|    |    \\--- org.eclipse.jetty:jetty-io:11.0.8  \r\n|    |         \\--- org.eclipse.jetty:jetty-util:11.0.8  \r\n|    \\--- org.eclipse.jetty:jetty-io:11.0.8 (*)  \r\n+--- org.eclipse.jetty:jetty-servlet:11.0.8  \r\n|    \\--- org.eclipse.jetty:jetty-security:11.0.8  \r\n|         \\--- org.eclipse.jetty:jetty-server:11.0.8 (*)  \r\n+--- org.projectlombok:lombok:1.18.24  \r\n+--- org.slf4j:slf4j-api:2.0.7  \r\n\\--- org.slf4j:slf4j-log4j12:2.0.7  \r\n     \\--- org.slf4j:slf4j-reload4j:2.0.7  \r\n          +--- org.slf4j:slf4j-api:2.0.7  \r\n          \\--- ch.qos.reload4j:reload4j:1.2.22  \r\n```\r\n# Additional info\r\n\r\nYes, I found several duplicates, but no one of them is the same. All solutions say to exclude `log4j-over-slf4j.jar` - and we can see that this dependency doesn&#39;t exist in my dependency tree and I already excluded all excessive.\r\n\r\nAlso, I made sure that `log4j-over-slf4j.jar` doesn&#39;t exist in the project folder. This jar exists only in the `.m2` folder.\r\n\r\n\r\n","title":"slf4j and jetty conflict: SLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>This error occurred when the slf4j dependency was added:\n<code>implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;)</code></p>\n<p>And in the line:\n<code>org.eclipse.jetty.server.Server server = new Server(port);</code></p>\n<p>I have excluded <code>slf4j</code> everywhere where it might be, but the error still reproduces.</p>\n<p>The dependencies (gradle.build.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {    \n    implementation(&quot;org.eclipse.jetty:jetty-server:$jettyVersion&quot;) {\n       exclude(group = &quot;org.slf4j&quot;)\n    }\n    implementation(&quot;org.eclipse.jetty:jetty-servlet:$jettyVersion&quot;) {    \n        exclude(group = &quot;org.slf4j&quot;)\n    }\n...\n    implementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    testImplementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    implementation(&quot;org.slf4j:slf4j-api:2.0.7&quot;)\n    implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;) {    \n        exclude(group = &quot;log4j&quot;)\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\n    }\n    \n    configurations.all {        \n        resolutionStrategy {            \n            eachDependency {\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\n                exclude(group = &quot;log4j&quot;, module = &quot;log4j&quot;)\n            }        \n        }    \n    }\n}\n</code></pre>\n<p>Dependency tree:\n<code>gradlew dependencies --configuration runtimeClasspath </code></p>\n<pre><code>+--- org.eclipse.jetty:jetty-server:11.0.8  \n|    +--- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2  \n|    +--- org.eclipse.jetty:jetty-http:11.0.8  \n|    |    +--- org.eclipse.jetty:jetty-util:11.0.8  \n|    |    \\--- org.eclipse.jetty:jetty-io:11.0.8  \n|    |         \\--- org.eclipse.jetty:jetty-util:11.0.8  \n|    \\--- org.eclipse.jetty:jetty-io:11.0.8 (*)  \n+--- org.eclipse.jetty:jetty-servlet:11.0.8  \n|    \\--- org.eclipse.jetty:jetty-security:11.0.8  \n|         \\--- org.eclipse.jetty:jetty-server:11.0.8 (*)  \n+--- org.projectlombok:lombok:1.18.24  \n+--- org.slf4j:slf4j-api:2.0.7  \n\\--- org.slf4j:slf4j-log4j12:2.0.7  \n     \\--- org.slf4j:slf4j-reload4j:2.0.7  \n          +--- org.slf4j:slf4j-api:2.0.7  \n          \\--- ch.qos.reload4j:reload4j:1.2.22  \n</code></pre>\n<h1>Additional info</h1>\n<p>Yes, I found several duplicates, but no one of them is the same. All solutions say to exclude <code>log4j-over-slf4j.jar</code> - and we can see that this dependency doesn't exist in my dependency tree and I already excluded all excessive.</p>\n<p>Also, I made sure that <code>log4j-over-slf4j.jar</code> doesn't exist in the project folder. This jar exists only in the <code>.m2</code> folder.</p>\n"},{"tags":["java","if-statement","parsing","antlr","boolean-logic"],"comments":[{"owner":{"account_id":1085259,"reputation":78304,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1701241938,"post_id":77568789,"comment_id":136749834,"body_markdown":"Are you aware that string comparison in Java is done with the `equals` method, not the `==` operator?  I&#39;m not sure from the wording of your question whether this is the difficulty you&#39;re facing or not.","body":"Are you aware that string comparison in Java is done with the <code>equals</code> method, not the <code>==</code> operator?  I&#39;m not sure from the wording of your question whether this is the difficulty you&#39;re facing or not."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1701255179,"post_id":77568789,"comment_id":136752119,"body_markdown":"So, given an &quot;end result&quot;, like `a == &quot;Yes&quot;`, you want all the paths that lead to this result? In the case of `a` equals to `&quot;Yes&quot;`, for example `[b==&quot;foo1&quot;, c==&quot;foo2&quot;, d==&quot;foo3&quot;]`, `[b==&quot;foo1&quot;, c==&quot;foo13&quot;, d!=(&quot;foo11&quot;,&quot;foo12&quot;,&quot;foo8&quot;,&quot;foo9&quot;)]` , `[b==&quot;foo1&quot;, c!=&quot;foo13&quot;]`, etc.","body":"So, given an &quot;end result&quot;, like <code>a == &quot;Yes&quot;</code>, you want all the paths that lead to this result? In the case of <code>a</code> equals to <code>&quot;Yes&quot;</code>, for example <code>[b==&quot;foo1&quot;, c==&quot;foo2&quot;, d==&quot;foo3&quot;]</code>, <code>[b==&quot;foo1&quot;, c==&quot;foo13&quot;, d!=(&quot;foo11&quot;,&quot;foo12&quot;,&quot;foo8&quot;,&quot;foo9&quot;)]</code> , <code>[b==&quot;foo1&quot;, c!=&quot;foo13&quot;]</code>, etc."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1701255214,"post_id":77568789,"comment_id":136752125,"body_markdown":"This is an algebraic rewrite problem. You want to rewrite &quot;if e1 then e2 else e3&quot; as the Boolean expression &quot;(e1 and e2) or (not e1 and not e3)&quot;. You&#39;re stack should be an expression (which you never say), but you don&#39;t need one. You are rewriting if-then-else into an expression of ands, ors, and nots. Proceed recursively, bottom up, returning an expression. You can ignore `a = &quot;No&quot;` if you assume the value is set in the following statement, which it is. For &quot;if e1 then a=yes then a=no&quot;, simply return &quot;e1&quot;. The output expression can probably be simplified, but that is another step.","body":"This is an algebraic rewrite problem. You want to rewrite &quot;if e1 then e2 else e3&quot; as the Boolean expression &quot;(e1 and e2) or (not e1 and not e3)&quot;. You&#39;re stack should be an expression (which you never say), but you don&#39;t need one. You are rewriting if-then-else into an expression of ands, ors, and nots. Proceed recursively, bottom up, returning an expression. You can ignore <code>a = &quot;No&quot;</code> if you assume the value is set in the following statement, which it is. For &quot;if e1 then a=yes then a=no&quot;, simply return &quot;e1&quot;. The output expression can probably be simplified, but that is another step."},{"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"score":0,"creation_date":1701266509,"post_id":77568789,"comment_id":136754296,"body_markdown":"@DawoodibnKareem the pseudocode I provided is not Java, I will be converting the pseudocode to Java. Sorry that was not clear","body":"@DawoodibnKareem the pseudocode I provided is not Java, I will be converting the pseudocode to Java. Sorry that was not clear"},{"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"score":0,"creation_date":1701266531,"post_id":77568789,"comment_id":136754303,"body_markdown":"@BartKiers yes that sounds about right","body":"@BartKiers yes that sounds about right"}],"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701791970,"creation_date":1701236224,"question_id":77568789,"body_markdown":"I have some pseudocode that is in the form: \r\n\r\n```\r\npatch a:\r\n  if b == &quot;foo1&quot;\r\n  then\r\n    a = &quot;No&quot;\r\n    if c == &quot;foo2&quot;\r\n    then\r\n      if d == &quot;foo3&quot; || d == &quot;foo4&quot; || d == &quot;foo5&quot; || d == &quot;foo6&quot;\r\n      then\r\n        a = &quot;Yes&quot;\r\n      else\r\n        a = &quot;No&quot;\r\n    else\r\n      if c == &quot;foo7&quot;\r\n      then\r\n        if d == &quot;foo8&quot; || d == &quot;foo9&quot;\r\n        then\r\n          a = &quot;Yes&quot;\r\n        else\r\n          a = &quot;No&quot;\r\n      else\r\n        if c == &quot;foo10&quot;\r\n        then\r\n          if d == &quot;foo11&quot; || d == &quot;foo12&quot;\r\n          then\r\n            a = &quot;Yes&quot;\r\n          else\r\n            a = &quot;No&quot;\r\n        else\r\n          if c == &quot;foo13&quot;\r\n          then\r\n            if d != &quot;foo11&quot; &amp;&amp; d != &quot;foo12&quot; &amp;&amp; d != &quot;foo8&quot; &amp;&amp; d != &quot;foo9&quot;\r\n            then\r\n              a = &quot;Yes&quot;\r\n            else\r\n              a = &quot;No&quot;\r\n          else\r\n            a = &quot;Yes&quot;\r\n\r\n```\r\nI have an ANTLR file that I am using to parse this pseudocode. I would like to be able to derive a single condition that satisfies each variable assignment I encounter as I parse the pseudocode.\r\nFor the example above a single condition for `a = &quot;yes&quot;` would look like:\r\n```(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND (d == &quot;foo3&quot; OR d == &quot;foo4&quot; OR d == &quot;foo5&quot; OR d == &quot;foo6&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND (d == &quot;foo8&quot; OR d == &quot;foo9&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;)\r\n```\r\nand the single condition for `a = &quot;no&quot;` would look like:\r\n```\r\n(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND d != &quot;foo3&quot; AND d != &quot;foo4&quot; AND d != &quot;foo5&quot; AND d != &quot;foo6&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot; OR d == &quot;foo8&quot; OR d == &quot;foo9&quot;))\r\n```\r\n\r\n\r\n\r\nI am using a stack to maintain my conditions. Everytime, I enter an `if` block I push my condition to the stack and pop it when I leave the `if` block. When I enter a `then` block I push an AND to the stack and when I enter an `else` block I push an `OR` to stack. This works fine for simple patches but I am struggling to figure how to accommodate for line 4 in the example patch.\r\n\r\nWith the my current solution I am getting something like `a = &quot;No&quot;` when `b == &quot;foo1&quot; OR ...` this causing problems since it possible for `a == &quot;Yes&quot;` if a couple of more conditions are met. How do I account for this situation? \r\n\r\n**Update 1**\r\nInstead of trying to do this entirely in pass I decided to build an AST out of ANTLR&#39;s parse tree. It has a couple of node types which just store some data, like conditionNode storing if statements, assignmentNode storing assignments and the main ASTNode which captures scope and has things reference to parent, thenBranch, elseBranch and a root node which can be an assignmentNode or conditionNode. Using this structure it was easy to build out the conditions for leaf node assignments. Still would like help trying to figure out nonleaf node assignments. ","title":"Derive conditions for each variable assignment from pseudocode","body":"<p>I have some pseudocode that is in the form:</p>\n<pre><code>patch a:\n  if b == &quot;foo1&quot;\n  then\n    a = &quot;No&quot;\n    if c == &quot;foo2&quot;\n    then\n      if d == &quot;foo3&quot; || d == &quot;foo4&quot; || d == &quot;foo5&quot; || d == &quot;foo6&quot;\n      then\n        a = &quot;Yes&quot;\n      else\n        a = &quot;No&quot;\n    else\n      if c == &quot;foo7&quot;\n      then\n        if d == &quot;foo8&quot; || d == &quot;foo9&quot;\n        then\n          a = &quot;Yes&quot;\n        else\n          a = &quot;No&quot;\n      else\n        if c == &quot;foo10&quot;\n        then\n          if d == &quot;foo11&quot; || d == &quot;foo12&quot;\n          then\n            a = &quot;Yes&quot;\n          else\n            a = &quot;No&quot;\n        else\n          if c == &quot;foo13&quot;\n          then\n            if d != &quot;foo11&quot; &amp;&amp; d != &quot;foo12&quot; &amp;&amp; d != &quot;foo8&quot; &amp;&amp; d != &quot;foo9&quot;\n            then\n              a = &quot;Yes&quot;\n            else\n              a = &quot;No&quot;\n          else\n            a = &quot;Yes&quot;\n\n</code></pre>\n<p>I have an ANTLR file that I am using to parse this pseudocode. I would like to be able to derive a single condition that satisfies each variable assignment I encounter as I parse the pseudocode.\nFor the example above a single condition for <code>a = &quot;yes&quot;</code> would look like:</p>\n<pre><code>  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND (d == &quot;foo8&quot; OR d == &quot;foo9&quot;)) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot;)) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;)\n</code></pre>\n<p>and the single condition for <code>a = &quot;no&quot;</code> would look like:</p>\n<pre><code>(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND d != &quot;foo3&quot; AND d != &quot;foo4&quot; AND d != &quot;foo5&quot; AND d != &quot;foo6&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot; OR d == &quot;foo8&quot; OR d == &quot;foo9&quot;))\n</code></pre>\n<p>I am using a stack to maintain my conditions. Everytime, I enter an <code>if</code> block I push my condition to the stack and pop it when I leave the <code>if</code> block. When I enter a <code>then</code> block I push an AND to the stack and when I enter an <code>else</code> block I push an <code>OR</code> to stack. This works fine for simple patches but I am struggling to figure how to accommodate for line 4 in the example patch.</p>\n<p>With the my current solution I am getting something like <code>a = &quot;No&quot;</code> when <code>b == &quot;foo1&quot; OR ...</code> this causing problems since it possible for <code>a == &quot;Yes&quot;</code> if a couple of more conditions are met. How do I account for this situation?</p>\n<p><strong>Update 1</strong>\nInstead of trying to do this entirely in pass I decided to build an AST out of ANTLR's parse tree. It has a couple of node types which just store some data, like conditionNode storing if statements, assignmentNode storing assignments and the main ASTNode which captures scope and has things reference to parent, thenBranch, elseBranch and a root node which can be an assignmentNode or conditionNode. Using this structure it was easy to build out the conditions for leaf node assignments. Still would like help trying to figure out nonleaf node assignments.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":3,"creation_date":1701788731,"post_id":77607207,"comment_id":136817238,"body_markdown":"Why can&#39;t you remove the `final` keyword?","body":"Why can&#39;t you remove the <code>final</code> keyword?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701788871,"post_id":77607207,"comment_id":136817261,"body_markdown":"Use a different variable? Don&#39;t use a string, rather a string buffer (or whatever the current string buffer-y hotness is in Java these days)?","body":"Use a different variable? Don&#39;t use a string, rather a string buffer (or whatever the current string buffer-y hotness is in Java these days)?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701788922,"post_id":77607207,"comment_id":136817268,"body_markdown":"I&#39;m struggling to understand the nature of this question: if it&#39;s your code, why can&#39;t you remove it? If it&#39;s not, is it some sort of pop quiz? (Hint: they say it&#39;s always the red wire but it isn&#39;t.)","body":"I&#39;m struggling to understand the nature of this question: if it&#39;s your code, why can&#39;t you remove it? If it&#39;s not, is it some sort of pop quiz? (Hint: they say it&#39;s always the red wire but it isn&#39;t.)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1701789008,"post_id":77607207,"comment_id":136817288,"body_markdown":"Ada and Dave, variables used inside a closure in Java must be effectively `final`. I&#39;m guessing OP tried without the `final` keyword, saw an error that said &quot;This variable must be `final`&quot;, and rolled with it without understanding what the `final` keyword does.","body":"Ada and Dave, variables used inside a closure in Java must be effectively <code>final</code>. I&#39;m guessing OP tried without the <code>final</code> keyword, saw an error that said &quot;This variable must be <code>final</code>&quot;, and rolled with it without understanding what the <code>final</code> keyword does."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701789137,"post_id":77607207,"comment_id":136817304,"body_markdown":"Not exactly a duplicate, but read [Variable used in lambda expression should be final or effectively final](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final). The concept is explained, some answers have workarounds as well.","body":"Not exactly a duplicate, but read <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">Variable used in lambda expression should be final or effectively final</a>. The concept is explained, some answers have workarounds as well."},{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701789374,"post_id":77607207,"comment_id":136817344,"body_markdown":"@Ada if i remove final i will get error categoryCodeProductTypes.add(categoryCodeProductType); asking for initialize the variable.","body":"@Ada if i remove final i will get error categoryCodeProductTypes.add(categoryCodeProductType); asking for initialize the variable."},{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701789447,"post_id":77607207,"comment_id":136817361,"body_markdown":"also i will get error in  categoryCodeProductType.concat(b.getCode()); this line saying the variable must be final","body":"also i will get error in  categoryCodeProductType.concat(b.getCode()); this line saying the variable must be final"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701789679,"post_id":77607207,"comment_id":136817417,"body_markdown":"@SilvioMayolo Ahhh, makes perfect sense &#128077;","body":"@SilvioMayolo Ahhh, makes perfect sense 👍"}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701788933,"creation_date":1701788933,"answer_id":77607247,"question_id":77607207,"body_markdown":"You can&#39;t reassign a `final` variable. And you can only use effectively-`final` variables (that is, `final` variables or those that could&#39;ve been declared as such) inside of closures. So if you want to mutate a string inside of a closure, you&#39;ll need to use a mutable string type like [`StringBuilder`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html).\r\n\r\n    final StringBuilder myStringBuilder = new StringBuilder();\r\n    someStream.forEach(value -&gt; {\r\n        myStringBuilder.append(value.getCode());\r\n    });\r\n    final String result = myStringBuilder.toString();\r\n\r\nWe never actually *reassign* the variable `myStringBuilder`, so it can still be `final`. But we can *mutate* it in-place. This is also more efficient than continually allocating new strings for concatenation, as `StringBuilder` will use a mutable buffer internally and save on copying.","title":"How to use final variable within forEach method","body":"<p>You can't reassign a <code>final</code> variable. And you can only use effectively-<code>final</code> variables (that is, <code>final</code> variables or those that could've been declared as such) inside of closures. So if you want to mutate a string inside of a closure, you'll need to use a mutable string type like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>.</p>\n<pre><code>final StringBuilder myStringBuilder = new StringBuilder();\nsomeStream.forEach(value -&gt; {\n    myStringBuilder.append(value.getCode());\n});\nfinal String result = myStringBuilder.toString();\n</code></pre>\n<p>We never actually <em>reassign</em> the variable <code>myStringBuilder</code>, so it can still be <code>final</code>. But we can <em>mutate</em> it in-place. This is also more efficient than continually allocating new strings for concatenation, as <code>StringBuilder</code> will use a mutable buffer internally and save on copying.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701790817,"creation_date":1701790817,"answer_id":77607456,"question_id":77607207,"body_markdown":"Class `Uda` has method `getReferences` which returns something that can be streamed, for example some kind of collection.\r\n\r\nYou want to concatenate the code of each element (in the collection returned by method `getReferences`) into a single string and then you want to collect all those strings into a `List`.\r\n\r\nIf the above summary is correct, then consider the below [uncompiled and untested] code:\r\n```java\r\nuda4.stream()\r\n    .map(a -&gt; a.getReferences()\r\n               .stream()\r\n               .map(b -&gt; b.getCode())\r\n               .collect(Collectors.joining()))\r\n    .collect(Collectors.toList());\r\n```\r\nBasically, the `map` method returns a stream of strings where each string is the concatenation of all the codes in the collection returned by method `getReferences`. All that remains is to collect all the strings, that the `map` method produces, to a `List`.\r\n\r\nNote that I cannot compile nor test the above code as you did not provide a [reproducible example][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"How to use final variable within forEach method","body":"<p>Class <code>Uda</code> has method <code>getReferences</code> which returns something that can be streamed, for example some kind of collection.</p>\n<p>You want to concatenate the code of each element (in the collection returned by method <code>getReferences</code>) into a single string and then you want to collect all those strings into a <code>List</code>.</p>\n<p>If the above summary is correct, then consider the below [uncompiled and untested] code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>uda4.stream()\n    .map(a -&gt; a.getReferences()\n               .stream()\n               .map(b -&gt; b.getCode())\n               .collect(Collectors.joining()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Basically, the <code>map</code> method returns a stream of strings where each string is the concatenation of all the codes in the collection returned by method <code>getReferences</code>. All that remains is to collect all the strings, that the <code>map</code> method produces, to a <code>List</code>.</p>\n<p>Note that I cannot compile nor test the above code as you did not provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">reproducible example</a>.</p>\n"},{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701791493,"creation_date":1701791250,"answer_id":77607512,"question_id":77607207,"body_markdown":"You adding `categoryCodeProductTypes.add(categoryCodeProductType);`\r\nAnd two lines below you are loosing ability to modify this object by reassigning attempt.\r\nDont use .forEach instead of iterator with no reason. You will see for yourself why this code is inappropriate by results it will produce. \r\nThat&#39;s closest to your approach:\r\n\r\n        class Main {\r\n        \r\n        @Getter\r\n        static class A {\r\n            List&lt;B&gt; references;\r\n        }\r\n    \r\n        @Getter\r\n        static class B {\r\n            String code;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            final List&lt;StringBuilder&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\r\n            var uda4 = List.of(new A());\r\n            uda4.forEach(a -&gt; {\r\n                final StringBuilder builder = new StringBuilder();\r\n                categoryCodeProductTypes.add(builder);\r\n                a.getReferences().forEach(b -&gt; builder.append(b.getCode()));\r\n            });\r\n            List&lt;String&gt; result = categoryCodeProductTypes.stream().map(StringBuilder::toString).toList();\r\n        }\r\n    }\r\n\r\nIt&#39;s not the best way of mapping the data. Converting into intermediate controlled objects piece by piece is much better than trying to do it on the fly at one time.","title":"How to use final variable within forEach method","body":"<p>You adding <code>categoryCodeProductTypes.add(categoryCodeProductType);</code>\nAnd two lines below you are loosing ability to modify this object by reassigning attempt.\nDont use .forEach instead of iterator with no reason. You will see for yourself why this code is inappropriate by results it will produce.\nThat's closest to your approach:</p>\n<pre><code>    class Main {\n    \n    @Getter\n    static class A {\n        List&lt;B&gt; references;\n    }\n\n    @Getter\n    static class B {\n        String code;\n    }\n\n    public static void main(String[] args) {\n        final List&lt;StringBuilder&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\n        var uda4 = List.of(new A());\n        uda4.forEach(a -&gt; {\n            final StringBuilder builder = new StringBuilder();\n            categoryCodeProductTypes.add(builder);\n            a.getReferences().forEach(b -&gt; builder.append(b.getCode()));\n        });\n        List&lt;String&gt; result = categoryCodeProductTypes.stream().map(StringBuilder::toString).toList();\n    }\n}\n</code></pre>\n<p>It's not the best way of mapping the data. Converting into intermediate controlled objects piece by piece is much better than trying to do it on the fly at one time.</p>\n"}],"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1701802128,"answer_count":3,"score":-5,"last_activity_date":1701791493,"creation_date":1701788454,"question_id":77607207,"body_markdown":"```java\r\nfinal List&lt;String&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\r\nList&lt;Uda&gt; uda4 = udas.stream()\r\n                     .filter(a -&gt; a.getCode().equals(Uda_Code))\r\n                     .collect(Collectors.toList());\r\nuda4.stream()\r\n    .forEach(a -&gt; {\r\n                   final String categoryCodeProductType = &quot;&quot;;\r\n                   categoryCodeProductTypes.add(categoryCodeProductType);\r\n                   a.getReferences()\r\n                    .stream()\r\n                    .forEach(b -&gt; {\r\n                                   categoryCodeProductType = categoryCodeProductType.concat(b.getCode());\r\n                                  });\r\n                  });\r\nreturn categoryCodeProductTypes;\r\n```\r\nI get error in `categoryCodeProductType = categoryCodeProductType.concat(b.getCode());` saying remove final keyword but I can&#39;t. Is there any other way we can fix this?","title":"How to use final variable within forEach method","body":"<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\nList&lt;Uda&gt; uda4 = udas.stream()\n                     .filter(a -&gt; a.getCode().equals(Uda_Code))\n                     .collect(Collectors.toList());\nuda4.stream()\n    .forEach(a -&gt; {\n                   final String categoryCodeProductType = &quot;&quot;;\n                   categoryCodeProductTypes.add(categoryCodeProductType);\n                   a.getReferences()\n                    .stream()\n                    .forEach(b -&gt; {\n                                   categoryCodeProductType = categoryCodeProductType.concat(b.getCode());\n                                  });\n                  });\nreturn categoryCodeProductTypes;\n</code></pre>\n<p>I get error in <code>categoryCodeProductType = categoryCodeProductType.concat(b.getCode());</code> saying remove final keyword but I can't. Is there any other way we can fix this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552296340,"post_id":55098507,"comment_id":96940410,"body_markdown":"Why should it. The keys for the cache differ, so the `getText` never sees the cached instance.","body":"Why should it. The keys for the cache differ, so the <code>getText</code> never sees the cached instance."},{"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"score":0,"creation_date":1552296734,"post_id":55098507,"comment_id":96940626,"body_markdown":"Ok, but I followed the tutorial, which I linked. They used key `key = &quot;#newText + 1&quot;`","body":"Ok, but I followed the tutorial, which I linked. They used key <code>key = &quot;#newText + 1&quot;</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552296816,"post_id":55098507,"comment_id":96940661,"body_markdown":"Tutorial is wrong. You cannot have 2 methods, different chache keys and expect it to work. Another problem with this is that the old values never get cleared (unless there is a timeout on the cache time).","body":"Tutorial is wrong. You cannot have 2 methods, different chache keys and expect it to work. Another problem with this is that the old values never get cleared (unless there is a timeout on the cache time)."},{"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"score":0,"creation_date":1552297209,"post_id":55098507,"comment_id":96940879,"body_markdown":"So, how to achieve update logic with one method? For me it seems that I need two methods, am I wrong?","body":"So, how to achieve update logic with one method? For me it seems that I need two methods, am I wrong?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552297275,"post_id":55098507,"comment_id":96940925,"body_markdown":"The only thing you need to do is to make sure the cache key is the same for the `get` and the `set` method. They currently aren&#39;t.","body":"The only thing you need to do is to make sure the cache key is the same for the <code>get</code> and the <code>set</code> method. They currently aren&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":12267209,"reputation":62,"user_id":8953412,"display_name":"Muhammad Inshal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552302493,"creation_date":1552302493,"answer_id":55100490,"question_id":55098507,"body_markdown":"You need to make sure the value that you&#39;re caching in the cache is referenced by the same key as in when you are using the cache put. \r\n\r\nFor example: \r\n\r\nSay you&#39;re caching text &quot;Hello world&quot; with the key &quot;hw&quot;. Your cache would hold a key &quot;hw&quot; with the value &quot;Hello world&quot;. \r\n\r\nNow say you want to update the value with the &quot;hw&quot; key to some other text. For that, you need to make sure the key you pass in is the same as the one you passed it to cache that instance, which would be &quot;hw&quot; in that case.\r\n\r\nThat way, the key &quot;hw&quot; would hold an updated value with it.\r\n\r\n\r\n\r\n\r\n    @Cacheable(value = &quot;text&quot;, key = &quot;hw&quot;)\r\n    public String getText() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(2);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return text;\r\n    }\r\n\r\n    @CachePut(key = &quot;hw&quot;)\r\n    public String setText(String newText) {\r\n        text = newText;\r\n        return text;\r\n    }","title":"@CachePut does not update cache","body":"<p>You need to make sure the value that you're caching in the cache is referenced by the same key as in when you are using the cache put. </p>\n\n<p>For example: </p>\n\n<p>Say you're caching text \"Hello world\" with the key \"hw\". Your cache would hold a key \"hw\" with the value \"Hello world\". </p>\n\n<p>Now say you want to update the value with the \"hw\" key to some other text. For that, you need to make sure the key you pass in is the same as the one you passed it to cache that instance, which would be \"hw\" in that case.</p>\n\n<p>That way, the key \"hw\" would hold an updated value with it.</p>\n\n<pre><code>@Cacheable(value = \"text\", key = \"hw\")\npublic String getText() {\n    try {\n        TimeUnit.SECONDS.sleep(2);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return text;\n}\n\n@CachePut(key = \"hw\")\npublic String setText(String newText) {\n    text = newText;\n    return text;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1552309089,"creation_date":1552309089,"answer_id":55102364,"question_id":55098507,"body_markdown":"The problem was with key naming, string name should be enclosed by `&#39;`, [hint](https://stackoverflow.com/a/47341548/4677807). Below working code.\r\n\r\n    @Service\r\n    public class SlowService {\r\n    \r\n        String text = &quot;Initial value&quot;;\r\n    \r\n        @Cacheable(value = &quot;text&quot;, key = &quot;&#39;someKey&#39;&quot;)\r\n        public String getText() {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(2);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return text;\r\n        }\r\n    \r\n        @CachePut(value = &quot;text&quot;, key = &quot;&#39;someKey&#39;&quot;)\r\n        public String setText(String newText) {\r\n            text = newText;\r\n            return text;\r\n        }\r\n    }","title":"@CachePut does not update cache","body":"<p>The problem was with key naming, string name should be enclosed by <code>'</code>, <a href=\"https://stackoverflow.com/a/47341548/4677807\">hint</a>. Below working code.</p>\n\n<pre><code>@Service\npublic class SlowService {\n\n    String text = \"Initial value\";\n\n    @Cacheable(value = \"text\", key = \"'someKey'\")\n    public String getText() {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return text;\n    }\n\n    @CachePut(value = \"text\", key = \"'someKey'\")\n    public String setText(String newText) {\n        text = newText;\n        return text;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55102364,"answer_count":2,"score":0,"last_activity_date":1701790932,"creation_date":1552295680,"question_id":55098507,"body_markdown":"I would like to cache `getText` method and update cache on `setText`. By now cache on `getText` method works, but I can not update value. Code below is base on tutorial from [Hazelcast](https://hazelcast.com/blog/spring-boot/).\r\n \r\n\r\n    @Service\r\n    public class SlowService {\r\n    \r\n        String text = &quot;Initial value&quot;;\r\n    \r\n        @Cacheable(&quot;text&quot;)\r\n        public String getText() {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(2);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return text;\r\n        }\r\n    \r\n        @CachePut(value = &quot;text&quot;, key = &quot;#newText + 1&quot;)\r\n        public String setText(String newText) {\r\n            text = newText;\r\n            return text;\r\n        }\r\n    }\r\n\r\nHow to improve code above to make `@CachePut` annotation work?\r\n\r\nEDIT:\r\nTried adding same keys:\r\n\r\n    @Cacheable(value = &quot;text&quot;, key = &quot;#someKey&quot;)\r\n    public String getText() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(2);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return text;\r\n    }\r\n    \r\n    @CachePut(key = &quot;#someKey&quot;)\r\n    public String setText(String newText) {\r\n        text = newText;\r\n        return text;\r\n    }\r\n\r\nBut getting:\r\n\r\n&gt; java.lang.IllegalArgumentException: Null key returned for cache\r\n&gt; operation (maybe you are using named params on classes without debug\r\n&gt; info?) Builder[public java.lang.String\r\n&gt; com.example.demo.SlowService.getText()] caches=[text] | key=&#39;#someKey&#39;\r\n&gt; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;\r\n&gt; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n\r\n","title":"@CachePut does not update cache","body":"<p>I would like to cache <code>getText</code> method and update cache on <code>setText</code>. By now cache on <code>getText</code> method works, but I can not update value. Code below is base on tutorial from <a href=\"https://hazelcast.com/blog/spring-boot/\" rel=\"nofollow noreferrer\">Hazelcast</a>.</p>\n<pre><code>@Service\npublic class SlowService {\n\n    String text = &quot;Initial value&quot;;\n\n    @Cacheable(&quot;text&quot;)\n    public String getText() {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return text;\n    }\n\n    @CachePut(value = &quot;text&quot;, key = &quot;#newText + 1&quot;)\n    public String setText(String newText) {\n        text = newText;\n        return text;\n    }\n}\n</code></pre>\n<p>How to improve code above to make <code>@CachePut</code> annotation work?</p>\n<p>EDIT:\nTried adding same keys:</p>\n<pre><code>@Cacheable(value = &quot;text&quot;, key = &quot;#someKey&quot;)\npublic String getText() {\n    try {\n        TimeUnit.SECONDS.sleep(2);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return text;\n}\n\n@CachePut(key = &quot;#someKey&quot;)\npublic String setText(String newText) {\n    text = newText;\n    return text;\n}\n</code></pre>\n<p>But getting:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Null key returned for cache\noperation (maybe you are using named params on classes without debug\ninfo?) Builder[public java.lang.String\ncom.example.demo.SlowService.getText()] caches=[text] | key='#someKey'\n| keyGenerator='' | cacheManager='' | cacheResolver='' | condition=''\n| unless='' | sync='false'</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701787718,"post_id":77606097,"comment_id":136817045,"body_markdown":"This is nonsense. It can’t possibly know that `encoded` is user input, and it can’t be.","body":"This is nonsense. It can’t possibly know that <code>encoded</code> is user input, and it can’t be."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1701781784,"creation_date":1701778512,"answer_id":77606128,"question_id":77606097,"body_markdown":"Just one rule for all streams to **correctly** release all resources is **try-with-resources**:\r\n\r\n```java\r\ntry (InputStream in = new ObjectInputStream()) {\r\n   // TODO\r\n}\r\n```\r\n---\r\n```java\r\npublic Map&lt;?, ?&gt; getMap(String encoded) {\r\n    try (InputStream in = new ObjectInputStream(\r\n            new ByteArrayInputStream(Base64.getDecoder().decode(encoded))) {\r\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\r\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\r\n        return Map.of();\r\n    }\r\n}\r\n```","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>Just one rule for all streams to <strong>correctly</strong> release all resources is <strong>try-with-resources</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream in = new ObjectInputStream()) {\n   // TODO\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;?, ?&gt; getMap(String encoded) {\n    try (InputStream in = new ObjectInputStream(\n            new ByteArrayInputStream(Base64.getDecoder().decode(encoded))) {\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\n        return Map.of();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701790903,"creation_date":1701790903,"answer_id":77607469,"question_id":77606097,"body_markdown":"Oleg is correct;  even though your ObjectInputStream is reading from a ByteArrayStream and it doesn’t technically matter whether it gets closed, it is good practice to put every InputStream and OutputStream in a try-with-resources statement, so it will be closed automatically.  This should also make the code analysis tool stop complaining about an unclosed resource.\r\n\r\nI semi-regularly run into your second problem when code is subject to a code analysis tool.  “Validation” is often given as the cause, without further explanation;  I find this immensely frustrating, especially when the variable is being used in a completely safe manner, like JPA or PreparedStatement, which take care of all sanitizing, making validation irrelevant.\r\n\r\nHowever, in your case, you have a more specific message:\r\n\r\n&gt;This element’s value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log. This may enable Stored Log Forging.\r\n\r\nLog forging refers to strings which might have newline characters in them.  This allows a user to make the log appear to contain something that isn’t a real log entry.  Imagine if this were user input:\r\n\r\n    &quot;John Doe\\nDec 05, 2023 10:41:00 AM com.example.app.Application Everything is fine, no intrusion is taking place.&quot;\r\n\r\nThat would make the log *appear* to contain something that isn’t a real log entry at all.\r\n\r\nSo in this case, the “sanitization” that is required is probably stripping the text of newlines.  If your Map contains strings, you can sanitize them when logging them.  For example:\r\n\r\n    Map&lt;?, ?&gt; map = getMap(encoded);\r\n\r\n    logger.fine(() -&gt; {\r\n        Map&lt;String, String&gt; sanitized = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n            Object key = entry.getKey();\r\n            String loggableKey = (key == null ? null :\r\n                key.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\r\n\r\n            Object value = entry.getValue();\r\n            String loggableValue = (value == null ? null :\r\n                value.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\r\n\r\n            sanitized.put(loggableKey, loggableValue);\r\n        }\r\n\r\n        return &quot;getMap returned &quot; + sanitized;\r\n    });\r\n\r\n`replaceAll(&quot;\\\\R&quot;, &quot; &quot;)` uses a [regular expression](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html) to replace each newline sequence, denoted by `\\R` in a pattern, with a single space.\r\n","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>Oleg is correct;  even though your ObjectInputStream is reading from a ByteArrayStream and it doesn’t technically matter whether it gets closed, it is good practice to put every InputStream and OutputStream in a try-with-resources statement, so it will be closed automatically.  This should also make the code analysis tool stop complaining about an unclosed resource.</p>\n<p>I semi-regularly run into your second problem when code is subject to a code analysis tool.  “Validation” is often given as the cause, without further explanation;  I find this immensely frustrating, especially when the variable is being used in a completely safe manner, like JPA or PreparedStatement, which take care of all sanitizing, making validation irrelevant.</p>\n<p>However, in your case, you have a more specific message:</p>\n<blockquote>\n<p>This element’s value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log. This may enable Stored Log Forging.</p>\n</blockquote>\n<p>Log forging refers to strings which might have newline characters in them.  This allows a user to make the log appear to contain something that isn’t a real log entry.  Imagine if this were user input:</p>\n<pre><code>&quot;John Doe\\nDec 05, 2023 10:41:00 AM com.example.app.Application Everything is fine, no intrusion is taking place.&quot;\n</code></pre>\n<p>That would make the log <em>appear</em> to contain something that isn’t a real log entry at all.</p>\n<p>So in this case, the “sanitization” that is required is probably stripping the text of newlines.  If your Map contains strings, you can sanitize them when logging them.  For example:</p>\n<pre><code>Map&lt;?, ?&gt; map = getMap(encoded);\n\nlogger.fine(() -&gt; {\n    Map&lt;String, String&gt; sanitized = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        Object key = entry.getKey();\n        String loggableKey = (key == null ? null :\n            key.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\n\n        Object value = entry.getValue();\n        String loggableValue = (value == null ? null :\n            value.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\n\n        sanitized.put(loggableKey, loggableValue);\n    }\n\n    return &quot;getMap returned &quot; + sanitized;\n});\n</code></pre>\n<p><code>replaceAll(&quot;\\\\R&quot;, &quot; &quot;)</code> uses a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular expression</a> to replace each newline sequence, denoted by <code>\\R</code> in a pattern, with a single space.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701790903,"creation_date":1701778210,"question_id":77606097,"body_markdown":"I would like to close and release ```new ObjectInputStream()``` while safely use ```objectInputStream.readObject()```.\r\n\r\nLooking at this piece of code:\r\n\r\n```\r\npublic Map&lt;?, ?&gt; getMap(String encoded) {\r\n    try {\r\n        var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)));\r\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\r\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\r\n    \r\n        return Map.of();\r\n    }\r\n}\r\n```\r\n\r\nThe above is being flagged with multiple static analysis tools. The issue reported is:\r\n\r\n&gt; defines and initializes the ObjectInputStream object. This object\r\n&gt; encapsulates a limited computing resource, such as open file streams,\r\n&gt; database connections, or network streams. This resource is not\r\n&gt; properly closed and released in all situations.\r\n\r\nwith\r\n\r\n&gt; gets user input from element readObject. This element’s value flows\r\n&gt; through the code without being properly sanitized or validated, and is\r\n&gt; eventually used in writing an audit log. This may enable Stored Log\r\n&gt; Forging.\r\n\r\nHow to properly use ```new ObjectInputStream()``` and ```objectInputStream.readObject()```?\r\n","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>I would like to close and release <code>new ObjectInputStream()</code> while safely use <code>objectInputStream.readObject()</code>.</p>\n<p>Looking at this piece of code:</p>\n<pre><code>public Map&lt;?, ?&gt; getMap(String encoded) {\n    try {\n        var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)));\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\n    \n        return Map.of();\n    }\n}\n</code></pre>\n<p>The above is being flagged with multiple static analysis tools. The issue reported is:</p>\n<blockquote>\n<p>defines and initializes the ObjectInputStream object. This object\nencapsulates a limited computing resource, such as open file streams,\ndatabase connections, or network streams. This resource is not\nproperly closed and released in all situations.</p>\n</blockquote>\n<p>with</p>\n<blockquote>\n<p>gets user input from element readObject. This element’s value flows\nthrough the code without being properly sanitized or validated, and is\neventually used in writing an audit log. This may enable Stored Log\nForging.</p>\n</blockquote>\n<p>How to properly use <code>new ObjectInputStream()</code> and <code>objectInputStream.readObject()</code>?</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1467619859,"post_id":38179689,"comment_id":63786224,"body_markdown":"Are you saying that you&#39;re providing the path of the tgz file? If so, you&#39;d need to untar/unzip it first.","body":"Are you saying that you&#39;re providing the path of the tgz file? If so, you&#39;d need to untar/unzip it first."},{"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"score":0,"creation_date":1467620426,"post_id":38179689,"comment_id":63786526,"body_markdown":"No, I unzipped it already and provided .pb file as a filename.","body":"No, I unzipped it already and provided .pb file as a filename."}],"answers":[{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701790762,"creation_date":1467667049,"answer_id":38192319,"question_id":38179689,"body_markdown":"Your files are actually in &quot;delimited&quot; format: each one contains multiple messages, each with a length prefix.\r\n\r\n    InputStream stream = new FileInputStream(filename);\r\n    Document document = Document.parseDelimitedFrom(stream);\r\n\r\nKeep calling `parseDelimitedFrom(stream)` to read more messages until it returns `null` (end of file).\r\n\r\nAlso note that the file I looked at -- `testNegative.pb` in `heldout_relations.tgz` -- appeared to contain instances of `Relation`, not `Document`. Make sure you are parsing the correct type, because the protobuf implementation can&#39;t tell the difference -- you&#39;ll get garbage if you parse the wrong type.","title":"java: Protocol message tag had invalid wire type error when reading .pb file","body":"<p>Your files are actually in &quot;delimited&quot; format: each one contains multiple messages, each with a length prefix.</p>\n<pre><code>InputStream stream = new FileInputStream(filename);\nDocument document = Document.parseDelimitedFrom(stream);\n</code></pre>\n<p>Keep calling <code>parseDelimitedFrom(stream)</code> to read more messages until it returns <code>null</code> (end of file).</p>\n<p>Also note that the file I looked at -- <code>testNegative.pb</code> in <code>heldout_relations.tgz</code> -- appeared to contain instances of <code>Relation</code>, not <code>Document</code>. Make sure you are parsing the correct type, because the protobuf implementation can't tell the difference -- you'll get garbage if you parse the wrong type.</p>\n"}],"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9011,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38192319,"answer_count":1,"score":2,"last_activity_date":1701790762,"creation_date":1467619720,"question_id":38179689,"body_markdown":"I try to read .pb extension file. \r\nSpecifically, I would like to read [this dataset][1] (in .tgz). \r\n\r\nI write the following code:\r\n\r\n    Path path = Paths.get(filename);\r\n    byte[] data = Files.readAllBytes(path);\r\n    Document document = Document.parseFrom(data);\r\n\r\nBut then I received the following error.\r\n\r\n    com.google.protobuf.InvalidProtocolBufferException: Protocol message tag had invalid wire type.\r\n\r\nThe last line of the code caused this error, but I do not know how to solve it. \r\n\r\n  [1]: http://iesl.cs.umass.edu/riedel/ecml/","title":"java: Protocol message tag had invalid wire type error when reading .pb file","body":"<p>I try to read .pb extension file. \nSpecifically, I would like to read <a href=\"http://iesl.cs.umass.edu/riedel/ecml/\" rel=\"nofollow\">this dataset</a> (in .tgz). </p>\n\n<p>I write the following code:</p>\n\n<pre><code>Path path = Paths.get(filename);\nbyte[] data = Files.readAllBytes(path);\nDocument document = Document.parseFrom(data);\n</code></pre>\n\n<p>But then I received the following error.</p>\n\n<pre><code>com.google.protobuf.InvalidProtocolBufferException: Protocol message tag had invalid wire type.\n</code></pre>\n\n<p>The last line of the code caused this error, but I do not know how to solve it. </p>\n"},{"tags":["java","multithreading","java-threads","thread-sleep"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701106094,"post_id":77558805,"comment_id":136731289,"body_markdown":"What kind of error were you expecting, and why?","body":"What kind of error were you expecting, and why?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701106221,"post_id":77558805,"comment_id":136731303,"body_markdown":"Tip: Replace `System.currentTimeMillis()` with `java.time.Instant.now()`.","body":"Tip: Replace <code>System.currentTimeMillis()</code> with <code>java.time.Instant.now()</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1701106301,"post_id":77558805,"comment_id":136731315,"body_markdown":"Why would `Thread#sleep` throw an error? A non-daemon `Thread` is allowed to continue running even when the main thread completes, as the jvm will not shutdown until all non-daemon threads complete (Which they are by default, unless you are currently a daemon thread. The main thread is non-daemon). What you&#39;re seeing here is normal, your main thread completes first, then the second thread completes.","body":"Why would <code>Thread#sleep</code> throw an error? A non-daemon <code>Thread</code> is allowed to continue running even when the main thread completes, as the jvm will not shutdown until all non-daemon threads complete (Which they are by default, unless you are currently a daemon thread. The main thread is non-daemon). What you&#39;re seeing here is normal, your main thread completes first, then the second thread completes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1701106320,"post_id":77558805,"comment_id":136731318,"body_markdown":"Does this answer your question? [How can thread run after main method closes?](https://stackoverflow.com/questions/22146899/how-can-thread-run-after-main-method-closes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22146899/how-can-thread-run-after-main-method-closes\">How can thread run after main method closes?</a>"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1701106365,"post_id":77558805,"comment_id":136731330,"body_markdown":"Nothing is calling interrupt on the thread. Here is an answer demonstrating thread interruption https://stackoverflow.com/a/5915306/217324","body":"Nothing is calling interrupt on the thread. Here is an answer demonstrating thread interruption <a href=\"https://stackoverflow.com/a/5915306/217324\">stackoverflow.com/a/5915306/217324</a>"},{"owner":{"account_id":30005843,"reputation":13,"user_id":22994767,"display_name":"Bh_04"},"score":0,"creation_date":1701106939,"post_id":77558805,"comment_id":136731429,"body_markdown":"@BasilBourque My confusion is how thread.sleep() puts main thread to sleep when &#39;thread&#39; here is a reference of user defined thread.","body":"@BasilBourque My confusion is how thread.sleep() puts main thread to sleep when &#39;thread&#39; here is a reference of user defined thread."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":5,"creation_date":1701107131,"post_id":77558805,"comment_id":136731458,"body_markdown":"Sleep is a static method. Java doesnt care what instance you call it on.","body":"Sleep is a static method. Java doesnt care what instance you call it on."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":2,"creation_date":1701107466,"post_id":77558805,"comment_id":136731532,"body_markdown":"You can&#39;t force another thread to sleep.","body":"You can&#39;t force another thread to sleep."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1701118448,"post_id":77558805,"comment_id":136733319,"body_markdown":"Don&#39;t think of `thread.sleep(n)` as putting _any_ thread to sleep. What `thread.sleep(1000)` does in your program is the same as what `Thread.sleep(1000)` would do. And what `Thread.sleep(1000)` does is _nothing._ It does nothing for 1000 milliseconds,\\* and then it returns. \\[* Actually, for _at least_ 1000 milliseconds. It&#39;s allowed to take a tiny bit longer than the time you specify, but it is not allowed to take any less time.]","body":"Don&#39;t think of <code>thread.sleep(n)</code> as putting <i>any</i> thread to sleep. What <code>thread.sleep(1000)</code> does in your program is the same as what <code>Thread.sleep(1000)</code> would do. And what <code>Thread.sleep(1000)</code> does is <i>nothing.</i> It does nothing for 1000 milliseconds,* and then it returns. &#91;* Actually, for <i>at least</i> 1000 milliseconds. It&#39;s allowed to take a tiny bit longer than the time you specify, but it is not allowed to take any less time.]"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701200337,"post_id":77558805,"comment_id":136745211,"body_markdown":"You said it yourself. It puts the thread *that is running it* to sleep.","body":"You said it yourself. It puts the thread <i>that is running it</i> to sleep."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701790285,"creation_date":1701106747,"answer_id":77558906,"question_id":77558805,"body_markdown":"Letting a thread put another thread to sleep would be a security risk so it is not allowed. `Thread.sleep` is a static method that puts the current thread to sleep.  \r\n\r\n\r\nOne of the more confusing features of the Java language is that you&#39;re allowed to call static methods on object instances as if they were instance methods. The actual instance is ignored (it can even be null), the type of the variable is used to figure out what class to call the method on. But that can leave the user thinking they are doing something with a particular instance that they aren&#39;t.\r\n","title":"Looking for clarity on Thread.sleep() method","body":"<p>Letting a thread put another thread to sleep would be a security risk so it is not allowed. <code>Thread.sleep</code> is a static method that puts the current thread to sleep.</p>\n<p>One of the more confusing features of the Java language is that you're allowed to call static methods on object instances as if they were instance methods. The actual instance is ignored (it can even be null), the type of the variable is used to figure out what class to call the method on. But that can leave the user thinking they are doing something with a particular instance that they aren't.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701198603,"creation_date":1701198603,"answer_id":77566548,"question_id":77558805,"body_markdown":"&gt; Why is the main thread is sleeping when called on the reference of user defined thread.\r\n\r\nIf we look at the [`Thread` class source][1] we see:\r\n\r\n&gt;     public static native void sleep(long millis) throws InterruptedException;\r\n\r\nThis is a `static` method so should be called as `Thread.sleep(...)` and not on an instance of `Thread`.  Calling it as `thread.sleep(...)` is a an anti-pattern.  You think you are affecting the `thread` instance but in reality the caller is the one that is sleeping.  Looking at the javadocs of this method it confirms this:\r\n\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.\r\n\r\nIn [Eclipse (a free IDE)][2], when I try to use `sleep()` with an instance variable I get a warning:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nPaying attention to these sorts of warnings will help.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\r\n  [2]: https://www.eclipse.org/\r\n  [3]: https://i.stack.imgur.com/ymdbF.png","title":"Looking for clarity on Thread.sleep() method","body":"<blockquote>\n<p>Why is the main thread is sleeping when called on the reference of user defined thread.</p>\n</blockquote>\n<p>If we look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\"><code>Thread</code> class source</a> we see:</p>\n<blockquote>\n<pre><code>public static native void sleep(long millis) throws InterruptedException;\n</code></pre>\n</blockquote>\n<p>This is a <code>static</code> method so should be called as <code>Thread.sleep(...)</code> and not on an instance of <code>Thread</code>.  Calling it as <code>thread.sleep(...)</code> is a an anti-pattern.  You think you are affecting the <code>thread</code> instance but in reality the caller is the one that is sleeping.  Looking at the javadocs of this method it confirms this:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.</p>\n</blockquote>\n<p>In <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse (a free IDE)</a>, when I try to use <code>sleep()</code> with an instance variable I get a warning:</p>\n<p><a href=\"https://i.stack.imgur.com/ymdbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymdbF.png\" alt=\"enter image description here\" /></a></p>\n<p>Paying attention to these sorts of warnings will help.</p>\n"}],"owner":{"account_id":30005843,"reputation":13,"user_id":22994767,"display_name":"Bh_04"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77558906,"answer_count":2,"score":1,"last_activity_date":1701790285,"creation_date":1701105749,"question_id":77558805,"body_markdown":"Thread.sleep() method puts the thread that is running it to sleep. \r\nthread.sleep() statement in the below code will be run by main thread, &#39;thread&#39; in the below code is an user defined thread. Why is the main thread is sleeping when called on the reference of user defined thread.\r\n\r\n\r\n```\r\npublic class ThreadDemo {\r\n\r\n    public static Thread t1 = null;\r\n    public static Thread t2 = null;\r\n    public static void main(String[] args) throws InterruptedException{\r\n\r\n        System.out.println(&quot;start of main function, Thread : &quot;+Thread.currentThread().getName());\r\n        t1 = Thread.currentThread(); //main thread\r\n        MyThread thread = new MyThread();\r\n        t2 = thread;\r\n        thread.start();\r\n\r\n        System.out.println(&quot;Before sleep in main method : &quot;+System.currentTimeMillis());\r\n        thread.sleep(1000);\r\n        System.out.println(&quot;After sleep in main method : &quot;+System.currentTimeMillis());\r\n\r\n        System.out.println(&quot;In main method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\r\n        System.out.println(&quot;In main method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\r\n\r\n        System.out.println(&quot;Is thread, &quot;+thread.getName() + &quot; alive : &quot;+ thread.isAlive());\r\n\r\n        System.out.println(&quot;end of main function, Thread : &quot;+Thread.currentThread().getName());\r\n    }\r\n\r\n    public static class MyThread extends Thread{\r\n        int sum = 0;\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;In run method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\r\n            System.out.println(&quot;In run method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\r\n            System.out.println(&quot;start of run method, Thread : &quot;+Thread.currentThread().getName());\r\n            for(int i=0; i&lt;10000; i++){\r\n                sum += i;\r\n            }\r\n            try{\r\n                Thread.sleep(10000);\r\n                System.out.println(&quot;After sleep in run method : &quot;+System.currentTimeMillis());\r\n            }catch (InterruptedException e){\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;end of run method, &quot;+ Thread.currentThread().getName() +&quot;, returns : &quot;+sum);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nOutput:\r\n\r\n```\r\nstart of main function, Thread : main\r\nBefore sleep in main method : 1701105524066\r\nIn run method, Thread : main ,In state: TIMED_WAITING\r\nIn run method, Thread : Thread-0 ,In state: RUNNABLE\r\nstart of run method, Thread : Thread-0\r\nAfter sleep in main method : 1701105525070\r\nIn main method, Thread : main ,In state: RUNNABLE\r\nIn main method, Thread : Thread-0 ,In state: TIMED_WAITING\r\nIs thread, Thread-0 alive : true\r\nend of main function, Thread : main\r\nAfter sleep in run method : 1701105534071\r\nend of run method, Thread-0, returns : 49995000\r\n```\r\n\r\n\r\nI don&#39;t understand how main thread is sleeping when called on the reference of user defined thread.","title":"Looking for clarity on Thread.sleep() method","body":"<p>Thread.sleep() method puts the thread that is running it to sleep.\nthread.sleep() statement in the below code will be run by main thread, 'thread' in the below code is an user defined thread. Why is the main thread is sleeping when called on the reference of user defined thread.</p>\n<pre><code>public class ThreadDemo {\n\n    public static Thread t1 = null;\n    public static Thread t2 = null;\n    public static void main(String[] args) throws InterruptedException{\n\n        System.out.println(&quot;start of main function, Thread : &quot;+Thread.currentThread().getName());\n        t1 = Thread.currentThread(); //main thread\n        MyThread thread = new MyThread();\n        t2 = thread;\n        thread.start();\n\n        System.out.println(&quot;Before sleep in main method : &quot;+System.currentTimeMillis());\n        thread.sleep(1000);\n        System.out.println(&quot;After sleep in main method : &quot;+System.currentTimeMillis());\n\n        System.out.println(&quot;In main method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\n        System.out.println(&quot;In main method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\n\n        System.out.println(&quot;Is thread, &quot;+thread.getName() + &quot; alive : &quot;+ thread.isAlive());\n\n        System.out.println(&quot;end of main function, Thread : &quot;+Thread.currentThread().getName());\n    }\n\n    public static class MyThread extends Thread{\n        int sum = 0;\n        @Override\n        public void run() {\n            System.out.println(&quot;In run method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\n            System.out.println(&quot;In run method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\n            System.out.println(&quot;start of run method, Thread : &quot;+Thread.currentThread().getName());\n            for(int i=0; i&lt;10000; i++){\n                sum += i;\n            }\n            try{\n                Thread.sleep(10000);\n                System.out.println(&quot;After sleep in run method : &quot;+System.currentTimeMillis());\n            }catch (InterruptedException e){\n                e.printStackTrace();\n            }\n            System.out.println(&quot;end of run method, &quot;+ Thread.currentThread().getName() +&quot;, returns : &quot;+sum);\n        }\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>start of main function, Thread : main\nBefore sleep in main method : 1701105524066\nIn run method, Thread : main ,In state: TIMED_WAITING\nIn run method, Thread : Thread-0 ,In state: RUNNABLE\nstart of run method, Thread : Thread-0\nAfter sleep in main method : 1701105525070\nIn main method, Thread : main ,In state: RUNNABLE\nIn main method, Thread : Thread-0 ,In state: TIMED_WAITING\nIs thread, Thread-0 alive : true\nend of main function, Thread : main\nAfter sleep in run method : 1701105534071\nend of run method, Thread-0, returns : 49995000\n</code></pre>\n<p>I don't understand how main thread is sleeping when called on the reference of user defined thread.</p>\n"},{"tags":["java","swing","libvlc","vlcj"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1701803269,"post_id":77607354,"comment_id":136819926,"body_markdown":"I can&#39;t analyse what&#39;s wrong with your code, but I would advise starting here https://github.com/caprica/vlcj-player. There are some special requirements when implementing a scrubber, to do with threading of Swing events vs media player events for one thing.","body":"I can&#39;t analyse what&#39;s wrong with your code, but I would advise starting here <a href=\"https://github.com/caprica/vlcj-player\" rel=\"nofollow noreferrer\">github.com/caprica/vlcj-player</a>. There are some special requirements when implementing a scrubber, to do with threading of Swing events vs media player events for one thing."}],"owner":{"account_id":30072790,"reputation":1,"user_id":23046343,"display_name":"Theo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701789891,"creation_date":1701789891,"question_id":77607354,"body_markdown":"I&#39;m trying to make an embedded video player in a program using Java swing and vlcj and would like a video scrubber. I&#39;m coding between MacOS and windows and using vlcj 4.8.2.\r\n\r\nI am currently trying to use a JSlider to create the video scrubber and am struggling with the media event listeners. I have put a test output in an event listener for when the time changes in the video but it never seems to fire even though the video is playing on my screen.\r\n\r\nI have a main class that calls a UI class that calls the initializeMediaPlayer. \r\n\r\nIs there a reason this isnt outputting the time change or an easier way to create a video scrubber? \r\n\r\nI am still quite new to this library so I assume I&#39;m missing a fairly easy thing.\r\n\r\n\r\n\r\nThis is my media player class:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport uk.co.caprica.vlcj.factory.discovery.NativeDiscovery;\r\nimport uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport uk.co.caprica.vlcj.player.base.MediaPlayerEventAdapter;\r\nimport static uk.co.caprica.vlcj.player.base.State.PLAYING;\r\nimport uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\r\n\r\npublic class MediaPlayer {\r\n\r\n    public static void initializeMediaPlayer(JPanel videoPanel) {\r\n        \r\n        JButton uploadFootageButton = new JButton(&quot;&lt;html&gt;Click to Upload Footage&lt;br /&gt;(or drag and drop)&lt;/html&gt;&quot;); //upload footage button\r\n                                                                                                                       //over two lines\r\n        videoPanel.add(uploadFootageButton, BorderLayout.CENTER);\r\n        \r\n        uploadFootageButton.addActionListener(new ActionListener() { //adds the action listener\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                JFileChooser footageUpload = new JFileChooser(); //load file explorer\r\n\r\n                int result = footageUpload.showOpenDialog(null);\r\n\r\n                if (result == JFileChooser.APPROVE_OPTION) { //if a file is selected\r\n                    new NativeDiscovery().discover(); //find the vlc path\r\n\r\n                    String selectedFilePath = footageUpload.getSelectedFile().getAbsolutePath(); //path of video\r\n\r\n                    videoPanel.remove(uploadFootageButton); //remove upload button when video is uploaded\r\n                    \r\n                    JPanel mediaBar = new JPanel();\r\n                    videoPanel.add(mediaBar, BorderLayout.SOUTH);\r\n\r\n                    CallbackMediaPlayerComponent mediaPlayerComponent = new CallbackMediaPlayerComponent();\r\n                    videoPanel.add(mediaPlayerComponent); //add the media player\r\n                 \r\n                    EmbeddedMediaPlayer mediaPlayer = mediaPlayerComponent.mediaPlayer();\r\n\r\n                    mediaPlayer.media().prepare(selectedFilePath); //prepare the video\r\n                    mediaPlayer.controls().play(); //play the video\r\n                    \r\n                    videoPanel.revalidate(); //make sure video panel is correct\r\n                    videoPanel.repaint();\r\n\r\n                    initialiseMediaSettings(mediaBar, mediaPlayer, mediaPlayerComponent); //create video settings and buttons\r\n                }\r\n                \r\n            }\r\n        });\r\n    }\r\n    \r\n    public static void initialiseMediaSettings(JPanel mediaBar, EmbeddedMediaPlayer mediaPlayer, CallbackMediaPlayerComponent mediaPlayerComponent) {\r\n\r\n        //code here that adds:\r\n        //mute audio button\r\n        //play/pause button\r\n        //playback speed options\r\n\r\n        //scrubber\r\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\r\n        JSlider videoScrubber = new JSlider();\r\n\r\n        while (mediaPlayer.status().state() != PLAYING) { //while its not playing\r\n            try {\r\n                Thread.sleep(100); // Sleep for a short interval to avoid busy-waiting\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        videoScrubber.setMinimum(0); //cant have negative time in video\r\n        videoScrubber.setMaximum((int) mediaPlayer.status().length()); //max of slider is video length\r\n\r\n        mediaPlayer.controls().setRepeat(true); \r\n\r\n        videoScrubber.addChangeListener(new ChangeListener() {\r\n            @Override\r\n            public void stateChanged(ChangeEvent e) {\r\n                if (!videoScrubber.getValueIsAdjusting()) { //stops updating whilst scrubber is being moved\r\n                    mediaPlayer.controls().setPosition(((float) videoScrubber.getValue()) / videoScrubber.getMaximum());\r\n                }\r\n            }\r\n        });\r\n        \r\n        mediaPlayerComponent.mediaPlayer().events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n            public void timeChanged(MediaPlayer mediaPlayer, long newTime) {\r\n                System.err.println(&quot;Time changed: &quot; + newTime);\r\n            }\r\n        });\r\n        \r\n        mediaBar.add(videoScrubber);\r\n    }\r\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI have tried just having a reccuring excecute function that updates the scrubber but it just ends up being laggy and not working correctly.","title":"VLCJ Media Event Listener not Firing","body":"<p>I'm trying to make an embedded video player in a program using Java swing and vlcj and would like a video scrubber. I'm coding between MacOS and windows and using vlcj 4.8.2.</p>\n<p>I am currently trying to use a JSlider to create the video scrubber and am struggling with the media event listeners. I have put a test output in an event listener for when the time changes in the video but it never seems to fire even though the video is playing on my screen.</p>\n<p>I have a main class that calls a UI class that calls the initializeMediaPlayer.</p>\n<p>Is there a reason this isnt outputting the time change or an easier way to create a video scrubber?</p>\n<p>I am still quite new to this library so I assume I'm missing a fairly easy thing.</p>\n<p>This is my media player class:</p>\n<pre><code>import java.awt.BorderLayout;\nimport uk.co.caprica.vlcj.factory.discovery.NativeDiscovery;\nimport uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport uk.co.caprica.vlcj.player.base.MediaPlayerEventAdapter;\nimport static uk.co.caprica.vlcj.player.base.State.PLAYING;\nimport uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\n\npublic class MediaPlayer {\n\n    public static void initializeMediaPlayer(JPanel videoPanel) {\n        \n        JButton uploadFootageButton = new JButton(&quot;&lt;html&gt;Click to Upload Footage&lt;br /&gt;(or drag and drop)&lt;/html&gt;&quot;); //upload footage button\n                                                                                                                       //over two lines\n        videoPanel.add(uploadFootageButton, BorderLayout.CENTER);\n        \n        uploadFootageButton.addActionListener(new ActionListener() { //adds the action listener\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFileChooser footageUpload = new JFileChooser(); //load file explorer\n\n                int result = footageUpload.showOpenDialog(null);\n\n                if (result == JFileChooser.APPROVE_OPTION) { //if a file is selected\n                    new NativeDiscovery().discover(); //find the vlc path\n\n                    String selectedFilePath = footageUpload.getSelectedFile().getAbsolutePath(); //path of video\n\n                    videoPanel.remove(uploadFootageButton); //remove upload button when video is uploaded\n                    \n                    JPanel mediaBar = new JPanel();\n                    videoPanel.add(mediaBar, BorderLayout.SOUTH);\n\n                    CallbackMediaPlayerComponent mediaPlayerComponent = new CallbackMediaPlayerComponent();\n                    videoPanel.add(mediaPlayerComponent); //add the media player\n                 \n                    EmbeddedMediaPlayer mediaPlayer = mediaPlayerComponent.mediaPlayer();\n\n                    mediaPlayer.media().prepare(selectedFilePath); //prepare the video\n                    mediaPlayer.controls().play(); //play the video\n                    \n                    videoPanel.revalidate(); //make sure video panel is correct\n                    videoPanel.repaint();\n\n                    initialiseMediaSettings(mediaBar, mediaPlayer, mediaPlayerComponent); //create video settings and buttons\n                }\n                \n            }\n        });\n    }\n    \n    public static void initialiseMediaSettings(JPanel mediaBar, EmbeddedMediaPlayer mediaPlayer, CallbackMediaPlayerComponent mediaPlayerComponent) {\n\n        //code here that adds:\n        //mute audio button\n        //play/pause button\n        //playback speed options\n\n        //scrubber\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\n        JSlider videoScrubber = new JSlider();\n\n        while (mediaPlayer.status().state() != PLAYING) { //while its not playing\n            try {\n                Thread.sleep(100); // Sleep for a short interval to avoid busy-waiting\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        videoScrubber.setMinimum(0); //cant have negative time in video\n        videoScrubber.setMaximum((int) mediaPlayer.status().length()); //max of slider is video length\n\n        mediaPlayer.controls().setRepeat(true); \n\n        videoScrubber.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                if (!videoScrubber.getValueIsAdjusting()) { //stops updating whilst scrubber is being moved\n                    mediaPlayer.controls().setPosition(((float) videoScrubber.getValue()) / videoScrubber.getMaximum());\n                }\n            }\n        });\n        \n        mediaPlayerComponent.mediaPlayer().events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n            public void timeChanged(MediaPlayer mediaPlayer, long newTime) {\n                System.err.println(&quot;Time changed: &quot; + newTime);\n            }\n        });\n        \n        mediaBar.add(videoScrubber);\n    }\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\n}\n\n</code></pre>\n<p>I have tried just having a reccuring excecute function that updates the scrubber but it just ends up being laggy and not working correctly.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701711567,"post_id":77601484,"comment_id":136807076,"body_markdown":"I can provide main file if necessary.","body":"I can provide main file if necessary."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701711908,"post_id":77601484,"comment_id":136807148,"body_markdown":"That parameterized ctor is currently doing nothing with those parameters... How are you calling that code? I would advise you to construct the connection url as a string and assign it to a variable, as part of a proper logging strategy","body":"That parameterized ctor is currently doing nothing with those parameters... How are you calling that code? I would advise you to construct the connection url as a string and assign it to a variable, as part of a proper logging strategy"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712176,"post_id":77601484,"comment_id":136807203,"body_markdown":"@g00se what do you mean by &quot;ctor&quot;? Also I will change the Connection connect to be a variable.","body":"@g00se what do you mean by &quot;ctor&quot;? Also I will change the Connection connect to be a variable."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701712220,"post_id":77601484,"comment_id":136807212,"body_markdown":"The constructor. I&#39;m not saying it&#39;s the reason for your problem, but you need to see to it","body":"The constructor. I&#39;m not saying it&#39;s the reason for your problem, but you need to see to it"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712282,"post_id":77601484,"comment_id":136807229,"body_markdown":"@g00se will do thank you","body":"@g00se will do thank you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701712348,"post_id":77601484,"comment_id":136807242,"body_markdown":"It would be helpful to show your calling code too in the question","body":"It would be helpful to show your calling code too in the question"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712544,"post_id":77601484,"comment_id":136807281,"body_markdown":"@g00se I think you&#39;re correct, I don&#39;t think that constructor is being called anywhere I think it is not being utilized I will make the change (haven&#39;t worked on this in a while, so it&#39;s not all fresh in memory)","body":"@g00se I think you&#39;re correct, I don&#39;t think that constructor is being called anywhere I think it is not being utilized I will make the change (haven&#39;t worked on this in a while, so it&#39;s not all fresh in memory)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701713145,"post_id":77601484,"comment_id":136807380,"body_markdown":"It&#39;s worse than that ;) There&#39;s no sign that *anything* in that class is being used. All that is being used is class `Main` (which you still didn&#39;t post)","body":"It&#39;s worse than that ;) There&#39;s no sign that <i>anything</i> in that class is being used. All that is being used is class <code>Main</code> (which you still didn&#39;t post)"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701714029,"post_id":77601484,"comment_id":136807536,"body_markdown":"@g00se If I remember correctly I had to move quite a bit of my code from MySQLAccess to the main because the MySQLAccess class wasn&#39;t working and I think I ended up changing it to be all in the main file (bad practice I think), so I am not really sure where I&#39;ve gone wrong, it could be everywhere for all I know... (in my defense, it&#39;s for a project where prof isn&#39;t checking code just checking if it works, because she is lazy and has no idea what she is teaching in the first place.. asked why this is happening and she told me to ask another student and offered no help.","body":"@g00se If I remember correctly I had to move quite a bit of my code from MySQLAccess to the main because the MySQLAccess class wasn&#39;t working and I think I ended up changing it to be all in the main file (bad practice I think), so I am not really sure where I&#39;ve gone wrong, it could be everywhere for all I know... (in my defense, it&#39;s for a project where prof isn&#39;t checking code just checking if it works, because she is lazy and has no idea what she is teaching in the first place.. asked why this is happening and she told me to ask another student and offered no help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701714121,"post_id":77601484,"comment_id":136807550,"body_markdown":"We won&#39;t know until you post the right code","body":"We won&#39;t know until you post the right code"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701714625,"post_id":77601484,"comment_id":136807648,"body_markdown":"@g00se the main file is the right code? I don&#39;t have anywhere else where it&#39;s called, maybe that&#39;s my issue, however other students in my class have similar code with the same calls in main and theirs works.","body":"@g00se the main file is the right code? I don&#39;t have anywhere else where it&#39;s called, maybe that&#39;s my issue, however other students in my class have similar code with the same calls in main and theirs works."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701715641,"post_id":77601484,"comment_id":136807822,"body_markdown":"Sorry - didn&#39;t see your edit. Shall look","body":"Sorry - didn&#39;t see your edit. Shall look"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701726865,"post_id":77601484,"comment_id":136809445,"body_markdown":"`System.out.println(System.getProperty(&quot;java.class.path&quot;));` as the first line of `main` would be interesting","body":"<code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code> as the first line of <code>main</code> would be interesting"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701731271,"post_id":77601484,"comment_id":136809915,"body_markdown":"Putting things in the `lib` directory doesn&#39;t magically add them to the CLASSPATH. It does for webapps, but this isn&#39;t a webapp. You need to set it yourself for a console application.","body":"Putting things in the <code>lib</code> directory doesn&#39;t magically add them to the CLASSPATH. It does for webapps, but this isn&#39;t a webapp. You need to set it yourself for a console application."},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701788978,"post_id":77601484,"comment_id":136817283,"body_markdown":"@g00se this was the output of adding that line of code as the first line: &quot;/Users/sean/Java/21.0.1/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=53754:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/sean/IdeaProjects/CS350/out/production/CS350 edu.hydes.mysql.Main\n/Users/sean/IdeaProjects/CS350/out/production/CS350&quot;","body":"@g00se this was the output of adding that line of code as the first line: &quot;/Users/sean/Java/21.0.1/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=53754:/Applications/Intell&zwnj;&#8203;iJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/sean/IdeaProjects/CS350/out/production/CS350 edu.hydes.mysql.Main /Users/sean/IdeaProjects/CS350/out/production/CS350&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701793643,"post_id":77601484,"comment_id":136818242,"body_markdown":"Yes, as you can see, the driver jar is NOT in the classpath","body":"Yes, as you can see, the driver jar is NOT in the classpath"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701807575,"post_id":77601484,"comment_id":136820532,"body_markdown":"@g00se thank you for your help, I appreciate it.","body":"@g00se thank you for your help, I appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701789754,"creation_date":1701789754,"answer_id":77607328,"question_id":77601484,"body_markdown":"It was a pathing error, I had to go into module settings in my IDE and add the .jar file.","title":"JDBC Driver not being Recognized (Seemingly correct file pathing)","body":"<p>It was a pathing error, I had to go into module settings in my IDE and add the .jar file.</p>\n"}],"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701818252,"answer_count":1,"score":0,"last_activity_date":1701789754,"creation_date":1701711428,"question_id":77601484,"body_markdown":"I recently switched laptops from windows to Mac, and I had working Java code which utilized the JDBC driver and now when I try and run my code with the same file pathing and code, with the JDBC driver installed on machine, I get an error in terminal: \r\n\r\n     &quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/infocom?                \r\n        user=root&amp;password=root12345\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\r\n\tat edu.hydes.mysql.Main.main(Main.java:15)&quot;\r\n\r\n\r\n\r\n\r\n\r\n```\r\n     package edu.hydes.mysql;\r\n\r\n     import java.sql.DriverManager;\r\n     import java.sql.ResultSet;\r\n     import java.sql.ResultSetMetaData;\r\n     import java.sql.Statement;\r\n     import java.sql.SQLException;\r\n     import java.sql.Connection;\r\n\r\n     public class MySQLAccess {\r\n\r\n    public MySQLAccess(String username, String password) {\r\n    }\r\n\r\n    public ResultSet executeQuery(String query) throws Exception {\r\n        // Load the SQL JDBC driver\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n\r\n        // Create a connection to the database\r\n        String username = UserCredentials.getUsername();\r\n        String password = UserCredentials.getPassword();\r\n\r\n\r\n\r\n        // Create a connection to the database\r\n        try (Connection connect = DriverManager.getConnection\r\n        (&quot;jdbc:mysql://localhost/infocom?&quot; +                       \r\n                &quot;user=&quot; + username + &quot;&amp;password=&quot; + password);\r\n\r\n             //create statement to execute query\r\n             Statement statement = connect.createStatement();\r\n             ResultSet resultSet = statement.executeQuery(query)) {\r\n\r\n            // Print results\r\n            String resultString = writeResultSet(resultSet);\r\n            System.out.println(&quot;Results:&quot;);\r\n            System.out.println(resultString);\r\n\r\n            return resultSet;\r\n\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n      }\r\n\r\n\r\n        // Print result sets\r\n        public String writeResultSet(ResultSet resultSet) throws SQLException {\r\n        StringBuilder resultStringBuilder = new StringBuilder();\r\n\r\n        ResultSetMetaData metaData = resultSet.getMetaData();\r\n        int columnCount = metaData.getColumnCount();\r\n\r\n        // Print column names\r\n        while (resultSet.next()) {\r\n            for (int i = 1; i &lt;= columnCount; i++) {\r\n                String columnName = metaData.getColumnName(i);\r\n                String columnValue = resultSet.getString(i);\r\n                resultStringBuilder.append(columnName)\r\n                        .append(&quot;: &quot;)\r\n                        .append(columnValue)\r\n                        .append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n\r\n            return resultStringBuilder.toString();\r\n        }\r\n\r\n        // Close the resultSet, statement and connect\r\n        private void close(ResultSet resultSet, Statement statement, Connection connect) {\r\n        try {\r\n            if (resultSet != null)\r\n                resultSet.close();\r\n\r\n            if (statement != null)\r\n                statement.close();\r\n\r\n            if (connect != null)\r\n                connect.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n\r\n        // Retrieve user role\r\n        private String retrieveUserRole(String role) {\r\n        String roleName = UserCredentials.getRole();\r\n        return roleName;\r\n        }\r\n     }\r\n\r\n```\r\n\r\nThis is the code where the JDBC driver is loaded.\r\n\r\n[Image showing file pathing with JDBC](https://i.stack.imgur.com/Ib5j9.jpg)\r\n\r\nThis exact code and file pathing worked on my Windows machine. I downloaded the exact same versions of all MySQL Workbenches and all other required installs.\r\n\r\nMain Code: \r\n\r\n```\r\npackage edu.hydes.mysql;\r\n\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    private static final String databaseURL = &quot;jdbc:mysql://localhost/infocom?&quot;;\r\n    private static final String user = &quot;user=root&amp;&quot;;\r\n    private static final String pass = &quot;password=root12345&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            Connection connection = DriverManager.getConnection(databaseURL + user + pass);\r\n\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            boolean isProgramRunning = true;\r\n\r\n            //ask for what they want to do\r\n            while (true) {\r\n                System.out.println(&quot;(1) Login&quot;);\r\n                System.out.println(&quot;(2) Quit&quot;);\r\n                System.out.println(&quot;Enter Choice: &quot;);\r\n\r\n                int choice = input.nextInt();\r\n\r\n                switch (choice) {\r\n                    case 1:\r\n                        System.out.println(&quot;Enter username: &quot;);\r\n                        String username = input.next();\r\n                        System.out.println(&quot;Enter password: &quot;);\r\n                        String password = input.next();\r\n\r\n                        // Authenticate user\r\n                        UserManagement.User currentUser = authenticateUser(connection, username, password);\r\n\r\n                        // If user is authenticated, do actions\r\n                        if (currentUser != null) {\r\n                            doActions(connection, currentUser);\r\n                        } else {\r\n                            System.out.println(&quot;Invalid username or password&quot;);\r\n                        }\r\n                        break;\r\n                    case 2:\r\n                        System.out.println(&quot;Quitting...&quot;);\r\n                        System.exit(0);\r\n                    default:\r\n                        System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static UserManagement.User authenticateUser(Connection connection, String username, String password) {\r\n        // Authenticate user\r\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM login_credential WHERE username = ? AND password = ?&quot;)) {\r\n            preparedStatement.setString(1, username);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                System.out.println(&quot;Role retrieved from database: &quot; + resultSet.getString(&quot;role&quot;));\r\n\r\n                return new UserManagement.User(username, password, resultSet.getString(&quot;role&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static void doActions(Connection connection, UserManagement.User user) {\r\n        String role = user.getRole();\r\n        switch (role.toLowerCase()) {\r\n            //check for what role to do actions for\r\n            case &quot;admin&quot;:\r\n                adminActions(connection);\r\n                break;\r\n            case &quot;general&quot;:\r\n                generalActions(connection);\r\n                break;\r\n            case &quot;hr&quot;:\r\n                hrActions(connection);\r\n                break;\r\n            case &quot;se&quot;:\r\n                seActions(connection);\r\n                break;\r\n            case &quot;pr&quot;:\r\n                prActions(connection);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid role: &quot; + role);\r\n        }\r\n    }\r\n\r\n    private static void displayTables() {\r\n        //display tables\r\n        System.out.println(&quot;Available Tables:&quot;);\r\n        System.out.println(&quot;(1) Login_Credential&quot;);\r\n        System.out.println(&quot;(2) SE_Data&quot;);\r\n        System.out.println(&quot;(3) Emp_SE&quot;);\r\n        System.out.println(&quot;(4) HR_data&quot;);\r\n        System.out.println(&quot;(5) Emp_HR&quot;);\r\n        System.out.println(&quot;(6) Emp_PR&quot;);\r\n        System.out.println(&quot;(7) PR_Data&quot;);\r\n\r\n        System.out.println(&quot;Enter Number of Table You Wish to View:&quot;);\r\n    }\r\n\r\n    private static void viewSelectedTable(Connection connection, int tableSelected) {\r\n        try {\r\n            //view selected table\r\n            Statement statement = connection.createStatement();\r\n            String tableName = &quot;&quot;;\r\n\r\n            //check for what table to view\r\n            switch (tableSelected) {\r\n                case 1:\r\n                    tableName = &quot;Login_Credential&quot;;\r\n                    break;\r\n                case 2:\r\n                    tableName = &quot;SE_Data&quot;;\r\n                    break;\r\n                case 3:\r\n                    tableName = &quot;Emp_SE&quot;;\r\n                    break;\r\n                case 4:\r\n                    tableName = &quot;HR_data&quot;;\r\n                    break;\r\n                case 5:\r\n                    tableName = &quot;Emp_HR&quot;;\r\n                    break;\r\n                case 6:\r\n                    tableName = &quot;Emp_PR&quot;;\r\n                    break;\r\n                case 7:\r\n                    tableName = &quot;PR_Data&quot;;\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid table number. Please enter a valid number.&quot;);\r\n            }\r\n            //display table\r\n            ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + tableName);\r\n\r\n            //get column names\r\n            ResultSetMetaData metaData = resultSet.getMetaData();\r\n            int colCnt = metaData.getColumnCount();\r\n\r\n            //print column names\r\n            for (int i = 1; i &lt;= colCnt; i++) {\r\n                System.out.print(metaData.getColumnName(i) + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n\r\n            //print table data\r\n            while (resultSet.next()) {\r\n                for (int i = 1; i &lt;= colCnt; i++) {\r\n                    System.out.print(resultSet.getString(i) + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    //create new user\r\n    private static void createUser(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        //ask for new user info\r\n        System.out.println(&quot;Enter username for new user: &quot;);\r\n        String username = input.next();\r\n        System.out.println(&quot;Enter password for new user: &quot;);\r\n        String password = input.next();\r\n        System.out.println(&quot;Enter role for new user: &quot;);\r\n        String role = input.next();\r\n\r\n        //insert new user into database\r\n        insertUser(connection, username, password, role);\r\n        System.out.println(&quot;New user added.&quot;);\r\n\r\n    }\r\n\r\n    private static void insertUser(Connection connection, String username,\r\n                                   String password, String role) {\r\n        try {\r\n            //insert new user into database\r\n            Statement statement = connection.createStatement();\r\n            String sql = &quot;INSERT INTO users (username, password, role) VALUES (?, ?, ?)&quot;;\r\n\r\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n\r\n            //set values for new user\r\n            preparedStatement.setString(1, username);\r\n            preparedStatement.setString(2, password);\r\n            preparedStatement.setString(3, role);\r\n\r\n            //execute update\r\n            preparedStatement.executeUpdate();\r\n            preparedStatement.close();\r\n\r\n            //close the connection\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    private static void adminActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display admin actions\r\n            System.out.println(&quot;\\nWelcome Admin&quot;);\r\n            System.out.println(&quot;(1) View Tables&quot;);\r\n            System.out.println(&quot;(2) Add User&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    displayTables();\r\n                    int tableSelected = input.nextInt();\r\n                    //view selected table\r\n                    viewSelectedTable(connection, tableSelected);\r\n                    break;\r\n                case 2:\r\n                    createUser(connection);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void generalActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display general actions\r\n            System.out.println(&quot;\\nWelcome General&quot;);\r\n            System.out.println(&quot;(1) View Emp_SE&quot;);\r\n            System.out.println(&quot;(2) View Emp_HR&quot;);\r\n            System.out.println(&quot;(3) View Emp_PR&quot;);\r\n            System.out.println(&quot;(4) Quit&quot;);\r\n\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 3);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 5);\r\n                    break;\r\n                case 3:\r\n                    viewSelectedTable(connection, 6);\r\n                    break;\r\n                case 4:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void seActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display se actions\r\n            System.out.println(&quot;\\nWelcome SE&quot;);\r\n            System.out.println(&quot;(1) View SE_Data&quot;);\r\n            System.out.println(&quot;(2) View Emp_SE&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 2);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 3);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void hrActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display hr actions\r\n            System.out.println(&quot;\\nWelcome HR&quot;);\r\n            System.out.println(&quot;(1) View HR_data&quot;);\r\n            System.out.println(&quot;(2) View Emp_HR&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n\r\n            int choice = input.nextInt();\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 4);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 5);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static void prActions(Connection connection){\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while(isProgramRunning){\r\n            //display pr actions\r\n\r\n            System.out.println(&quot;\\nWelcome PR&quot;);\r\n            System.out.println(&quot;(1) View Emp_PR&quot;);\r\n            System.out.println(&quot;(2) View PR_Data&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch(choice){\r\n                case 1:\r\n                    viewSelectedTable(connection, 6);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 7);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n","title":"JDBC Driver not being Recognized (Seemingly correct file pathing)","body":"<p>I recently switched laptops from windows to Mac, and I had working Java code which utilized the JDBC driver and now when I try and run my code with the same file pathing and code, with the JDBC driver installed on machine, I get an error in terminal:</p>\n<pre><code> &quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/infocom?                \n    user=root&amp;password=root12345\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\nat edu.hydes.mysql.Main.main(Main.java:15)&quot;\n</code></pre>\n<pre><code>     package edu.hydes.mysql;\n\n     import java.sql.DriverManager;\n     import java.sql.ResultSet;\n     import java.sql.ResultSetMetaData;\n     import java.sql.Statement;\n     import java.sql.SQLException;\n     import java.sql.Connection;\n\n     public class MySQLAccess {\n\n    public MySQLAccess(String username, String password) {\n    }\n\n    public ResultSet executeQuery(String query) throws Exception {\n        // Load the SQL JDBC driver\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n\n        // Create a connection to the database\n        String username = UserCredentials.getUsername();\n        String password = UserCredentials.getPassword();\n\n\n\n        // Create a connection to the database\n        try (Connection connect = DriverManager.getConnection\n        (&quot;jdbc:mysql://localhost/infocom?&quot; +                       \n                &quot;user=&quot; + username + &quot;&amp;password=&quot; + password);\n\n             //create statement to execute query\n             Statement statement = connect.createStatement();\n             ResultSet resultSet = statement.executeQuery(query)) {\n\n            // Print results\n            String resultString = writeResultSet(resultSet);\n            System.out.println(&quot;Results:&quot;);\n            System.out.println(resultString);\n\n            return resultSet;\n\n        } catch (Exception e) {\n            throw e;\n        }\n      }\n\n\n        // Print result sets\n        public String writeResultSet(ResultSet resultSet) throws SQLException {\n        StringBuilder resultStringBuilder = new StringBuilder();\n\n        ResultSetMetaData metaData = resultSet.getMetaData();\n        int columnCount = metaData.getColumnCount();\n\n        // Print column names\n        while (resultSet.next()) {\n            for (int i = 1; i &lt;= columnCount; i++) {\n                String columnName = metaData.getColumnName(i);\n                String columnValue = resultSet.getString(i);\n                resultStringBuilder.append(columnName)\n                        .append(&quot;: &quot;)\n                        .append(columnValue)\n                        .append(&quot;\\n&quot;);\n            }\n        }\n\n            return resultStringBuilder.toString();\n        }\n\n        // Close the resultSet, statement and connect\n        private void close(ResultSet resultSet, Statement statement, Connection connect) {\n        try {\n            if (resultSet != null)\n                resultSet.close();\n\n            if (statement != null)\n                statement.close();\n\n            if (connect != null)\n                connect.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        }\n\n        // Retrieve user role\n        private String retrieveUserRole(String role) {\n        String roleName = UserCredentials.getRole();\n        return roleName;\n        }\n     }\n\n</code></pre>\n<p>This is the code where the JDBC driver is loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/Ib5j9.jpg\" rel=\"nofollow noreferrer\">Image showing file pathing with JDBC</a></p>\n<p>This exact code and file pathing worked on my Windows machine. I downloaded the exact same versions of all MySQL Workbenches and all other required installs.</p>\n<p>Main Code:</p>\n<pre><code>package edu.hydes.mysql;\n\nimport java.sql.*;\nimport java.util.Scanner;\n\npublic class Main {\n    private static final String databaseURL = &quot;jdbc:mysql://localhost/infocom?&quot;;\n    private static final String user = &quot;user=root&amp;&quot;;\n    private static final String pass = &quot;password=root12345&quot;;\n\n    public static void main(String[] args) {\n        try {\n\n            Connection connection = DriverManager.getConnection(databaseURL + user + pass);\n\n            Scanner input = new Scanner(System.in);\n\n            boolean isProgramRunning = true;\n\n            //ask for what they want to do\n            while (true) {\n                System.out.println(&quot;(1) Login&quot;);\n                System.out.println(&quot;(2) Quit&quot;);\n                System.out.println(&quot;Enter Choice: &quot;);\n\n                int choice = input.nextInt();\n\n                switch (choice) {\n                    case 1:\n                        System.out.println(&quot;Enter username: &quot;);\n                        String username = input.next();\n                        System.out.println(&quot;Enter password: &quot;);\n                        String password = input.next();\n\n                        // Authenticate user\n                        UserManagement.User currentUser = authenticateUser(connection, username, password);\n\n                        // If user is authenticated, do actions\n                        if (currentUser != null) {\n                            doActions(connection, currentUser);\n                        } else {\n                            System.out.println(&quot;Invalid username or password&quot;);\n                        }\n                        break;\n                    case 2:\n                        System.out.println(&quot;Quitting...&quot;);\n                        System.exit(0);\n                    default:\n                        System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n                }\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static UserManagement.User authenticateUser(Connection connection, String username, String password) {\n        // Authenticate user\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM login_credential WHERE username = ? AND password = ?&quot;)) {\n            preparedStatement.setString(1, username);\n            preparedStatement.setString(2, password);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.next()) {\n                System.out.println(&quot;Role retrieved from database: &quot; + resultSet.getString(&quot;role&quot;));\n\n                return new UserManagement.User(username, password, resultSet.getString(&quot;role&quot;));\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private static void doActions(Connection connection, UserManagement.User user) {\n        String role = user.getRole();\n        switch (role.toLowerCase()) {\n            //check for what role to do actions for\n            case &quot;admin&quot;:\n                adminActions(connection);\n                break;\n            case &quot;general&quot;:\n                generalActions(connection);\n                break;\n            case &quot;hr&quot;:\n                hrActions(connection);\n                break;\n            case &quot;se&quot;:\n                seActions(connection);\n                break;\n            case &quot;pr&quot;:\n                prActions(connection);\n                break;\n            default:\n                System.out.println(&quot;Invalid role: &quot; + role);\n        }\n    }\n\n    private static void displayTables() {\n        //display tables\n        System.out.println(&quot;Available Tables:&quot;);\n        System.out.println(&quot;(1) Login_Credential&quot;);\n        System.out.println(&quot;(2) SE_Data&quot;);\n        System.out.println(&quot;(3) Emp_SE&quot;);\n        System.out.println(&quot;(4) HR_data&quot;);\n        System.out.println(&quot;(5) Emp_HR&quot;);\n        System.out.println(&quot;(6) Emp_PR&quot;);\n        System.out.println(&quot;(7) PR_Data&quot;);\n\n        System.out.println(&quot;Enter Number of Table You Wish to View:&quot;);\n    }\n\n    private static void viewSelectedTable(Connection connection, int tableSelected) {\n        try {\n            //view selected table\n            Statement statement = connection.createStatement();\n            String tableName = &quot;&quot;;\n\n            //check for what table to view\n            switch (tableSelected) {\n                case 1:\n                    tableName = &quot;Login_Credential&quot;;\n                    break;\n                case 2:\n                    tableName = &quot;SE_Data&quot;;\n                    break;\n                case 3:\n                    tableName = &quot;Emp_SE&quot;;\n                    break;\n                case 4:\n                    tableName = &quot;HR_data&quot;;\n                    break;\n                case 5:\n                    tableName = &quot;Emp_HR&quot;;\n                    break;\n                case 6:\n                    tableName = &quot;Emp_PR&quot;;\n                    break;\n                case 7:\n                    tableName = &quot;PR_Data&quot;;\n                    break;\n                default:\n                    System.out.println(&quot;Invalid table number. Please enter a valid number.&quot;);\n            }\n            //display table\n            ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + tableName);\n\n            //get column names\n            ResultSetMetaData metaData = resultSet.getMetaData();\n            int colCnt = metaData.getColumnCount();\n\n            //print column names\n            for (int i = 1; i &lt;= colCnt; i++) {\n                System.out.print(metaData.getColumnName(i) + &quot;\\t&quot;);\n            }\n            System.out.println();\n\n            //print table data\n            while (resultSet.next()) {\n                for (int i = 1; i &lt;= colCnt; i++) {\n                    System.out.print(resultSet.getString(i) + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    //create new user\n    private static void createUser(Connection connection) {\n        Scanner input = new Scanner(System.in);\n\n        //ask for new user info\n        System.out.println(&quot;Enter username for new user: &quot;);\n        String username = input.next();\n        System.out.println(&quot;Enter password for new user: &quot;);\n        String password = input.next();\n        System.out.println(&quot;Enter role for new user: &quot;);\n        String role = input.next();\n\n        //insert new user into database\n        insertUser(connection, username, password, role);\n        System.out.println(&quot;New user added.&quot;);\n\n    }\n\n    private static void insertUser(Connection connection, String username,\n                                   String password, String role) {\n        try {\n            //insert new user into database\n            Statement statement = connection.createStatement();\n            String sql = &quot;INSERT INTO users (username, password, role) VALUES (?, ?, ?)&quot;;\n\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\n\n            //set values for new user\n            preparedStatement.setString(1, username);\n            preparedStatement.setString(2, password);\n            preparedStatement.setString(3, role);\n\n            //execute update\n            preparedStatement.executeUpdate();\n            preparedStatement.close();\n\n            //close the connection\n            connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    private static void adminActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display admin actions\n            System.out.println(&quot;\\nWelcome Admin&quot;);\n            System.out.println(&quot;(1) View Tables&quot;);\n            System.out.println(&quot;(2) Add User&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    displayTables();\n                    int tableSelected = input.nextInt();\n                    //view selected table\n                    viewSelectedTable(connection, tableSelected);\n                    break;\n                case 2:\n                    createUser(connection);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void generalActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display general actions\n            System.out.println(&quot;\\nWelcome General&quot;);\n            System.out.println(&quot;(1) View Emp_SE&quot;);\n            System.out.println(&quot;(2) View Emp_HR&quot;);\n            System.out.println(&quot;(3) View Emp_PR&quot;);\n            System.out.println(&quot;(4) Quit&quot;);\n\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 3);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 5);\n                    break;\n                case 3:\n                    viewSelectedTable(connection, 6);\n                    break;\n                case 4:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void seActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display se actions\n            System.out.println(&quot;\\nWelcome SE&quot;);\n            System.out.println(&quot;(1) View SE_Data&quot;);\n            System.out.println(&quot;(2) View Emp_SE&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 2);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 3);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void hrActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display hr actions\n            System.out.println(&quot;\\nWelcome HR&quot;);\n            System.out.println(&quot;(1) View HR_data&quot;);\n            System.out.println(&quot;(2) View Emp_HR&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n\n            int choice = input.nextInt();\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 4);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 5);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n\n    }\n\n    private static void prActions(Connection connection){\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while(isProgramRunning){\n            //display pr actions\n\n            System.out.println(&quot;\\nWelcome PR&quot;);\n            System.out.println(&quot;(1) View Emp_PR&quot;);\n            System.out.println(&quot;(2) View PR_Data&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch(choice){\n                case 1:\n                    viewSelectedTable(connection, 6);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 7);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","generics","data-structures"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":7,"creation_date":1701789472,"post_id":77607281,"comment_id":136817365,"body_markdown":"`int[]` is not a primitive datatype.","body":"<code>int[]</code> is not a primitive datatype."},{"owner":{"account_id":2111403,"reputation":33688,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":7,"creation_date":1701789474,"post_id":77607281,"comment_id":136817366,"body_markdown":"`int` is a primitive data type, `int[]` is not.","body":"<code>int</code> is a primitive data type, <code>int[]</code> is not."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701790621,"post_id":77607281,"comment_id":136817602,"body_markdown":"because you are having a priority queue of int arrays. ie --&gt; `{[...], [...], [...], [...]}` rather than `{...}`","body":"because you are having a priority queue of int arrays. ie --&gt; <code>{[...], [...], [...], [...]}</code> rather than <code>{...}</code>"}],"owner":{"account_id":17032889,"reputation":11,"user_id":12322655,"display_name":"Omar Shawky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701789320,"creation_date":1701789320,"question_id":77607281,"body_markdown":"This could should not compile because of initializing Generic Class using primitive datatype but it does.\r\n\r\n```java\r\npublic int[] topKFrequent(int[] nums, int k) {\r\n    PriorityQueue&lt;int[]&gt; priorityQueue = new PriorityQueue&lt;&gt;(\r\n            (a, b) -&gt; a[1] == b[1] ? b[0] - a[0] : b[1] - a[1]);\r\n    int[] arr = new int[20001];\r\n    for (int num : nums) arr[num + 10000]++;\r\n\r\n    for (int i = 0; i &lt; 20001; i++)\r\n        if (arr[i] != 0) priorityQueue.add(new int[]{i - 10000, arr[i]});\r\n    int length = Math.min(priorityQueue.size(), k);\r\n    int[] result = new int[length];\r\n    for (int i = 0; i &lt; length; i++) result[i] = priorityQueue.poll()[0];\r\n    return result;\r\n}\r\n```\r\n\r\nAs per [Java Documentation on Java Generics Restrictions](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html), you cannot instantiate a Generic Datatype from a primitive datatype.\r\n\r\nSo how come the aforementioned code compiles?\r\n\r\nI am using java 8 (1.8.xx) SDE.","title":"Why is it acceptable to initialize a Priority Queue from primitive Data Structure in Java?","body":"<p>This could should not compile because of initializing Generic Class using primitive datatype but it does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] topKFrequent(int[] nums, int k) {\n    PriorityQueue&lt;int[]&gt; priorityQueue = new PriorityQueue&lt;&gt;(\n            (a, b) -&gt; a[1] == b[1] ? b[0] - a[0] : b[1] - a[1]);\n    int[] arr = new int[20001];\n    for (int num : nums) arr[num + 10000]++;\n\n    for (int i = 0; i &lt; 20001; i++)\n        if (arr[i] != 0) priorityQueue.add(new int[]{i - 10000, arr[i]});\n    int length = Math.min(priorityQueue.size(), k);\n    int[] result = new int[length];\n    for (int i = 0; i &lt; length; i++) result[i] = priorityQueue.poll()[0];\n    return result;\n}\n</code></pre>\n<p>As per <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">Java Documentation on Java Generics Restrictions</a>, you cannot instantiate a Generic Datatype from a primitive datatype.</p>\n<p>So how come the aforementioned code compiles?</p>\n<p>I am using java 8 (1.8.xx) SDE.</p>\n"},{"tags":["java","spring","web-applications","soap","soapui"],"answers":[{"tags":[],"owner":{"account_id":1529019,"reputation":2193,"user_id":1426724,"accept_rate":83,"display_name":"chrismead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348085940,"creation_date":1347992090,"answer_id":12482657,"question_id":12481129,"body_markdown":"When you create the soapui testrequest it should populate the endpoint field for you.\r\n\r\nYou can also run the &#39;sample requests&#39; under the green &#39;I&#39; icon, at least to test your endpoint. I don&#39;t recommend editing these to use as your actual tests, but I think that many people do use SoapUI that way.\r\n\r\nWhat do you mean by &#39;I ask for a request&#39;?  You should be able to right click the test request two levels under the green &#39;I&#39; and select add to testcase.  There are a couple dialogs after that where you can take the defaults.  It will create a Junit type structure: a test suite and a test case.  Under that are test steps which you can execute by themselves or as part of the suite or testcase.\r\n\r\n\r\nEDIT 1:\r\n\r\nTo me that doesn&#39;t sound normal.  Unfortunately, I haven&#39;t written anything but simple demo services, though...","title":"SOAP - don&#39;t know what my endpoint URL is","body":"<p>When you create the soapui testrequest it should populate the endpoint field for you.</p>\n\n<p>You can also run the 'sample requests' under the green 'I' icon, at least to test your endpoint. I don't recommend editing these to use as your actual tests, but I think that many people do use SoapUI that way.</p>\n\n<p>What do you mean by 'I ask for a request'?  You should be able to right click the test request two levels under the green 'I' and select add to testcase.  There are a couple dialogs after that where you can take the defaults.  It will create a Junit type structure: a test suite and a test case.  Under that are test steps which you can execute by themselves or as part of the suite or testcase.</p>\n\n<p>EDIT 1:</p>\n\n<p>To me that doesn't sound normal.  Unfortunately, I haven't written anything but simple demo services, though...</p>\n"}],"owner":{"account_id":76433,"reputation":1907,"user_id":218811,"accept_rate":61,"display_name":"Phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701788685,"creation_date":1347985517,"question_id":12481129,"body_markdown":"I hope this problem is extremely simple and it&#39;s just me being an idiot. I am new to SOAP and am attempting to set up a SOAP WebService (using Java and Spring) and then using the tool SoapUI I attempt to send a SOAP request to my Web service. However I always get 404 Not Found errors when I submit my request. I suspect / hope that I have just set my Endpoint incorrectly in SoapUI, but I don&#39;t know what value I should be putting there. Can anyone help?\r\n\r\nThese are the steps I have taken to setup my WebApp with SOAP support:\r\n\r\n1) I am using an existing WebApp (which has existing REST Web Services) running in Spring Tool Suite (which is based on Eclipse) and using Jetty. In my web.xml file I added a new SOAP Web Service:\r\n\r\n\r\n\r\n\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ws/SOAP/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet&gt;\r\n         &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\r\n         &lt;servlet-class&gt;org.springframework.ws.transport.http.MessageDispatcherServlet&lt;/servlet-class&gt;\r\n         &lt;init-param&gt;\r\n             &lt;param-name&gt;transformWsdlLocations&lt;/param-name&gt;\r\n             &lt;param-value&gt;true&lt;/param-value&gt;\r\n         &lt;/init-param&gt;\r\n         &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n2) I created a new class &quot;ProjectSearchEndpoint&quot; which has an annotation of @Endpoint. The payload root = @PayloadRoot(namespace = &quot;http://FOO.FOO/foo&quot;, localPart = &quot;ProjectRequest&quot;)\r\n   \r\n3) I added the DSD to the WEB-INF of my WebApp: ws-project.xsd\r\n\r\n4) I created a servlet XML file called: SOAPWebService-servlet.xml which references the DSD\r\n\r\n    &lt;bean id=&quot;projectSearch&quot; class=&quot;org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition&quot;&gt;\r\n      &lt;property name=&quot;schema&quot; ref=&quot;schema&quot;/&gt;\r\n      &lt;property name=&quot;portTypeName&quot; value=&quot;ProjectSearch&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;schema&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n        &lt;property name=&quot;xsd&quot; value=&quot;/WEB-INF/ws-project.xsd&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n**NOTE:** the endpoint code and DSD come from the blog:\r\nhttp://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html I edited the namespace to make it &quot;http://FOO.FOO/foo&quot; but apart from that the code is the same although I have added System.out lines to show when the object is constructed (it is) and when the &quot;searchProjects&quot; method is invoked (it never is).\r\n\r\nI can start my webApp successfully and if in my browser I navigate to the URL: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \r\n\r\nI get to see the WSDL. All good so far. \r\n\r\nWhen I use SoapUI I create a new project and pass in the WSDL. SoapUI seems happy. I ask for a request and SoapUI creates a Soap Envelope with my ProjectRequest in it. Everything is going very well! However to submit this request SoapUI wants an Endpoint. I think my endpoint is:\r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/\r\n\r\nbut this just returns a 404 not found. Trying other combinations such as \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch?wsdl\r\n    http://localhost:8080/MyApp/ws/SOAP/ProjectRequest\r\n\r\nall result in 404. What is my endpoint? What value should I be putting into SoapUI?\r\n\r\n**Update 1**\r\n\r\nFor clarity this is what I am doing in soapUI\r\n\r\nHaving started soapUI, I create a &quot;new soapUI Project&quot;. The name is A1. The Initial WSDL is: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \r\n\r\nalso &quot;Create Requests&quot; is ticked in the dialog box.\r\n\r\nI click OK and it creates a ProjectSearchSoap11 (with an icon of a green I next to it) with a single Project underneath it (icon of red arrows) and under that &quot;Request1&quot; (icon the word SOAP). I right-click Request1 and select &quot;Show Request Editor&quot;. This displays a window with a SOAP envelope and my namespace and ProjectRequest. This all looks good. \r\n\r\nI now want to click &quot;Submit request to sepecified Endpoint URL&quot; (green arrow at top-left) but this is greyed-out until I specify an endpoint (to the right). I click on the endpoints drop-down and select &quot;edit-current&quot;. A dialog appears. I enter: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/ \r\n\r\nand click ok. Now the run icon is enabled (green). Clicking this icon then results in a &quot;response&quot; window appearing, which is blank, but the raw data is:\r\n\r\n    HTTP/1.1 404 Not Found\r\n    Content-Length: 0\r\n    Server: Jetty(6.1.26)\r\n\r\nI am guessing that the endpoint I am choosing is wrong. Can you confirm that this is the wrong format or I&#39;m missing a suffix of some kind. If you think it&#39;s correct then it must be my setup on the web application that is at fault.\r\n\r\nThanks,\r\n\r\nPhil\r\n\r\n\r\n","title":"SOAP - don&#39;t know what my endpoint URL is","body":"<p>I hope this problem is extremely simple and it's just me being an idiot. I am new to SOAP and am attempting to set up a SOAP WebService (using Java and Spring) and then using the tool SoapUI I attempt to send a SOAP request to my Web service. However I always get 404 Not Found errors when I submit my request. I suspect / hope that I have just set my Endpoint incorrectly in SoapUI, but I don't know what value I should be putting there. Can anyone help?</p>\n\n<p>These are the steps I have taken to setup my WebApp with SOAP support:</p>\n\n<p>1) I am using an existing WebApp (which has existing REST Web Services) running in Spring Tool Suite (which is based on Eclipse) and using Jetty. In my web.xml file I added a new SOAP Web Service:</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ws/SOAP/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet&gt;\n     &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\n     &lt;servlet-class&gt;org.springframework.ws.transport.http.MessageDispatcherServlet&lt;/servlet-class&gt;\n     &lt;init-param&gt;\n         &lt;param-name&gt;transformWsdlLocations&lt;/param-name&gt;\n         &lt;param-value&gt;true&lt;/param-value&gt;\n     &lt;/init-param&gt;\n     &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>2) I created a new class \"ProjectSearchEndpoint\" which has an annotation of @Endpoint. The payload root = @PayloadRoot(namespace = \"http://FOO.FOO/foo\", localPart = \"ProjectRequest\")</p>\n\n<p>3) I added the DSD to the WEB-INF of my WebApp: ws-project.xsd</p>\n\n<p>4) I created a servlet XML file called: SOAPWebService-servlet.xml which references the DSD</p>\n\n<pre><code>&lt;bean id=\"projectSearch\" class=\"org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition\"&gt;\n  &lt;property name=\"schema\" ref=\"schema\"/&gt;\n  &lt;property name=\"portTypeName\" value=\"ProjectSearch\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"schema\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"/WEB-INF/ws-project.xsd\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> the endpoint code and DSD come from the blog:\n<a href=\"http://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html\" rel=\"nofollow\">http://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html</a> I edited the namespace to make it \"http://FOO.FOO/foo\" but apart from that the code is the same although I have added System.out lines to show when the object is constructed (it is) and when the \"searchProjects\" method is invoked (it never is).</p>\n\n<p>I can start my webApp successfully and if in my browser I navigate to the URL: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \n</code></pre>\n\n<p>I get to see the WSDL. All good so far. </p>\n\n<p>When I use SoapUI I create a new project and pass in the WSDL. SoapUI seems happy. I ask for a request and SoapUI creates a Soap Envelope with my ProjectRequest in it. Everything is going very well! However to submit this request SoapUI wants an Endpoint. I think my endpoint is:</p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/\n</code></pre>\n\n<p>but this just returns a 404 not found. Trying other combinations such as </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch\nhttp://localhost:8080/MyApp/ws/SOAP/projectSearch?wsdl\nhttp://localhost:8080/MyApp/ws/SOAP/ProjectRequest\n</code></pre>\n\n<p>all result in 404. What is my endpoint? What value should I be putting into SoapUI?</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>For clarity this is what I am doing in soapUI</p>\n\n<p>Having started soapUI, I create a \"new soapUI Project\". The name is A1. The Initial WSDL is: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \n</code></pre>\n\n<p>also \"Create Requests\" is ticked in the dialog box.</p>\n\n<p>I click OK and it creates a ProjectSearchSoap11 (with an icon of a green I next to it) with a single Project underneath it (icon of red arrows) and under that \"Request1\" (icon the word SOAP). I right-click Request1 and select \"Show Request Editor\". This displays a window with a SOAP envelope and my namespace and ProjectRequest. This all looks good. </p>\n\n<p>I now want to click \"Submit request to sepecified Endpoint URL\" (green arrow at top-left) but this is greyed-out until I specify an endpoint (to the right). I click on the endpoints drop-down and select \"edit-current\". A dialog appears. I enter: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/ \n</code></pre>\n\n<p>and click ok. Now the run icon is enabled (green). Clicking this icon then results in a \"response\" window appearing, which is blank, but the raw data is:</p>\n\n<pre><code>HTTP/1.1 404 Not Found\nContent-Length: 0\nServer: Jetty(6.1.26)\n</code></pre>\n\n<p>I am guessing that the endpoint I am choosing is wrong. Can you confirm that this is the wrong format or I'm missing a suffix of some kind. If you think it's correct then it must be my setup on the web application that is at fault.</p>\n\n<p>Thanks,</p>\n\n<p>Phil</p>\n"},{"tags":["java","file","udp","p2p","sharing"],"owner":{"account_id":21875876,"reputation":1,"user_id":16164891,"display_name":"Focus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701788626,"creation_date":1701788626,"question_id":77607222,"body_markdown":"I&#39;m making a p2p file transfer but I don&#39;t know how to share my list of file inside folder that I want to share to another client [1 folder is 1 client shared folder for testing](https://i.stack.imgur.com/FcmgB.png)\r\n\r\nI was try to send it with UDP inside a list, but I think it have better way to send. And how to download a file in shared list.","title":"Making a p2p UDP sharing folder java","body":"<p>I'm making a p2p file transfer but I don't know how to share my list of file inside folder that I want to share to another client <a href=\"https://i.stack.imgur.com/FcmgB.png\" rel=\"nofollow noreferrer\">1 folder is 1 client shared folder for testing</a></p>\n<p>I was try to send it with UDP inside a list, but I think it have better way to send. And how to download a file in shared list.</p>\n"},{"tags":["python","java","dataframe","pyspark","dataset"],"comments":[{"owner":{"account_id":3893699,"reputation":1946,"user_id":3238085,"display_name":"user238607"},"score":0,"creation_date":1701796452,"post_id":77607198,"comment_id":136818745,"body_markdown":"If you want to use java udf function in your pyspark code then you can follow this recipe : https://gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cfa  . But if you want to pass your python rdd to a java function which operations on RDD then you need to first convert python rdd into java rdd and then operate as shown in this recipe. https://gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a0","body":"If you want to use java udf function in your pyspark code then you can follow this recipe : <a href=\"https://gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cfa\" rel=\"nofollow noreferrer\">gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cf&zwnj;&#8203;a</a>  . But if you want to pass your python rdd to a java function which operations on RDD then you need to first convert python rdd into java rdd and then operate as shown in this recipe. <a href=\"https://gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a0\" rel=\"nofollow noreferrer\">gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a&zwnj;&#8203;0</a>"}],"owner":{"account_id":3169463,"reputation":21,"user_id":2678793,"display_name":"Vinay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701788364,"creation_date":1701788364,"question_id":77607198,"body_markdown":"I am trying to call java function from python pyspark by passing dataframe as one of the arguments. But I get &quot;&#39;DataFrame&#39; object has no attribute &#39;_get_object_id&#39;&quot; error.\r\n\r\nCan anyone please help me in solving it.\r\n\r\n\r\n\r\nI have tried below code\r\n\r\n```\r\ndef call_java_method(spark, sc, df):\r\n    df = spark.read \\\r\n        .format(&quot;csv&quot;) \\\r\n        .option(&quot;header&quot;, &quot;false&quot;) \\\r\n        .option(&quot;delimiter&quot;, &quot;|&quot;).option(&quot;ignoreLeadingWhiteSpace&quot;, &#39;true&#39;) \\\r\n        .option(&quot;ignoreTrailingWhiteSpace&quot;, &#39;true&#39;).load(&quot;resources/data_success.txt&quot;)\r\n    df1 = df.withColumn(&quot;idx&quot;, monotonically_increasing_id())\r\n    df1.createOrReplaceTempView(&#39;databas&#39;)\r\n    df1.show()\r\n    df1.persist(StorageLevel.MEMORY_AND_DISK)\r\n    \r\n    java_import(sc._jvm, &quot;en.test.data&quot;)\r\n    func = sc._jvm.data()\r\n    func.add(spark._jsparkSession, df1, 1, [2])\r\n```\r\n\r\nResult:\r\n&#39;DataFrame&#39; object has no attribute &#39;_get_object_id&#39;\r\n\r\nExpected:\r\ncall below java function from pyspark python\r\n```\r\npublic void add(SparkSession spark, Dataset&lt;Row&gt; baseDataset, int count, List&lt;Integer&gt; keys) throws InputDataException {...}\r\n```\r\n\r\ndata_success.txt\r\n\r\n374314019059271||||||||||||||||26.666666667|-833.2904092||0|Ineligible for Training\r\n374314019184053||||||||||||||||21.083333333|0.3704427414|10|64|Ineligible for Rev\r\n","title":"How to pass DataFrame of python pyspark to Dataset of Java function","body":"<p>I am trying to call java function from python pyspark by passing dataframe as one of the arguments. But I get &quot;'DataFrame' object has no attribute '_get_object_id'&quot; error.</p>\n<p>Can anyone please help me in solving it.</p>\n<p>I have tried below code</p>\n<pre><code>def call_java_method(spark, sc, df):\n    df = spark.read \\\n        .format(&quot;csv&quot;) \\\n        .option(&quot;header&quot;, &quot;false&quot;) \\\n        .option(&quot;delimiter&quot;, &quot;|&quot;).option(&quot;ignoreLeadingWhiteSpace&quot;, 'true') \\\n        .option(&quot;ignoreTrailingWhiteSpace&quot;, 'true').load(&quot;resources/data_success.txt&quot;)\n    df1 = df.withColumn(&quot;idx&quot;, monotonically_increasing_id())\n    df1.createOrReplaceTempView('databas')\n    df1.show()\n    df1.persist(StorageLevel.MEMORY_AND_DISK)\n    \n    java_import(sc._jvm, &quot;en.test.data&quot;)\n    func = sc._jvm.data()\n    func.add(spark._jsparkSession, df1, 1, [2])\n</code></pre>\n<p>Result:\n'DataFrame' object has no attribute '_get_object_id'</p>\n<p>Expected:\ncall below java function from pyspark python</p>\n<pre><code>public void add(SparkSession spark, Dataset&lt;Row&gt; baseDataset, int count, List&lt;Integer&gt; keys) throws InputDataException {...}\n</code></pre>\n<p>data_success.txt</p>\n<p>374314019059271||||||||||||||||26.666666667|-833.2904092||0|Ineligible for Training\n374314019184053||||||||||||||||21.083333333|0.3704427414|10|64|Ineligible for Rev</p>\n"},{"tags":["java","constructor","annotations","preprocessor"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701788115,"creation_date":1701788115,"answer_id":77607171,"question_id":77603520,"body_markdown":"Your description matches the concept of [service providers]. When you use service providers together with Java modules, you get the compile-time check automatically.\r\n\r\nE.g., a minimal setup for a module would look like:\r\n\r\n###### modulespackage/StaticAPI.java\r\n```java\r\npackage modulespackage;\r\n\r\npublic abstract class StaticAPI\r\n{\r\n}\r\n```\r\n###### modulespackage/DynamicClass1.java\r\n```java\r\npackage modulespackage;\r\n\r\npublic class DynamicClass1 extends StaticAPI\r\n{\r\n  // public DynamicClass1() {}\r\n}\r\n```\r\n###### module-info.java\r\n```java\r\nimport modulespackage.*;\r\n\r\nmodule example {\r\n  provides StaticAPI with DynamicClass1;\r\n  uses StaticAPI;\r\n}\r\n```\r\n\r\nThe `provides StaticAPI with DynamicClass1;` is the declaration mandating that `DynamicClass1` must be a subclass of `StaticAPI` and have a `public` no-arg constructor. Otherwise, a compile-time error occurs.\r\n\r\nThe `uses StaticAPI;` allows the module to write something like\r\n```java\r\nStaticAPI api = ServiceLoader.load(StaticAPI.class).findFirst()\r\n    .orElseThrow(() -&gt; new IllegalStateException(&quot;missing service&quot;));\r\n```\r\nto get hands on a service provider implementation of `StaticAPI` which will be an instance of `DynamicClass1` if that’s the only provider. The [`ServiceLoader`] API allows you to iterate over all implementations if there is more than one and/or select a particular implementation based on your own rules.\r\n\r\nNote that this mechanism allows an alternative implementation, a `public` `static` method `provider()` returning the actual implementation instead of using a no-arg constructor, but you don’t have to worry about it if you’re using [`ServiceLoader`] to acquire the instance, as it will do the right thing for you.\r\n\r\nThe `provides` and `uses` declarations don’t have to be in the same module, even the abstract base class or interface may be in yet another module, but the package containing the API declaration must be exported to the module(s) implementing and/or using the API.\r\n\r\n---\r\nUnfortunately, the non-modular version of the service provider mechanism is as dynamic as in your problem description, not providing you compile-time checks whether the implementation classes are sufficient.\r\n\r\n[service providers]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html#designing-services-heading\r\n[`ServiceLoader`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html","title":"Java: how to let compiler show error when specific classes defined constructors which has any argument?","body":"<p>Your description matches the concept of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html#designing-services-heading\" rel=\"nofollow noreferrer\">service providers</a>. When you use service providers together with Java modules, you get the compile-time check automatically.</p>\n<p>E.g., a minimal setup for a module would look like:</p>\n<h6>modulespackage/StaticAPI.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>package modulespackage;\n\npublic abstract class StaticAPI\n{\n}\n</code></pre>\n<h6>modulespackage/DynamicClass1.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>package modulespackage;\n\npublic class DynamicClass1 extends StaticAPI\n{\n  // public DynamicClass1() {}\n}\n</code></pre>\n<h6>module-info.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>import modulespackage.*;\n\nmodule example {\n  provides StaticAPI with DynamicClass1;\n  uses StaticAPI;\n}\n</code></pre>\n<p>The <code>provides StaticAPI with DynamicClass1;</code> is the declaration mandating that <code>DynamicClass1</code> must be a subclass of <code>StaticAPI</code> and have a <code>public</code> no-arg constructor. Otherwise, a compile-time error occurs.</p>\n<p>The <code>uses StaticAPI;</code> allows the module to write something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>StaticAPI api = ServiceLoader.load(StaticAPI.class).findFirst()\n    .orElseThrow(() -&gt; new IllegalStateException(&quot;missing service&quot;));\n</code></pre>\n<p>to get hands on a service provider implementation of <code>StaticAPI</code> which will be an instance of <code>DynamicClass1</code> if that’s the only provider. The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> API allows you to iterate over all implementations if there is more than one and/or select a particular implementation based on your own rules.</p>\n<p>Note that this mechanism allows an alternative implementation, a <code>public</code> <code>static</code> method <code>provider()</code> returning the actual implementation instead of using a no-arg constructor, but you don’t have to worry about it if you’re using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> to acquire the instance, as it will do the right thing for you.</p>\n<p>The <code>provides</code> and <code>uses</code> declarations don’t have to be in the same module, even the abstract base class or interface may be in yet another module, but the package containing the API declaration must be exported to the module(s) implementing and/or using the API.</p>\n<hr />\n<p>Unfortunately, the non-modular version of the service provider mechanism is as dynamic as in your problem description, not providing you compile-time checks whether the implementation classes are sufficient.</p>\n"}],"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701788115,"creation_date":1701743286,"question_id":77603520,"body_markdown":"Sometimes, some classes will be only dynamically instantiated by Class.newInstance(), such classes should not define any constructor which has any argument because they will not be called anywhere.\r\n\r\ne.g.,\r\n\r\n- Example1 (good):\r\n```\r\npublic class DynamicClass1 {\r\n  // no any constructor defined, this is good for dynamic instantiation, there will be a implicit no-arg constructor created.\r\n}\r\n```\r\n\r\n- Example2 (good):\r\n```\r\npublic class DynamicClass1 {\r\n   public DynamicClass() { ... }\r\n}\r\n```\r\n\r\n- example3 (**BAD**):\r\n```\r\npublic class DynamicClass1 {\r\n  public DynamicClass1(String xxx) { ... }\r\n}\r\n```\r\nprobably the author expect the constructor being called, but actually it is not called from anywhere and will not, so I want the compiler show an error message &quot;the constructor you defined will never be called&quot;.\r\n\r\n\r\nIs there any idea? \r\nMaybe I need create my own annotation processor?\r\n","title":"Java: how to let compiler show error when specific classes defined constructors which has any argument?","body":"<p>Sometimes, some classes will be only dynamically instantiated by Class.newInstance(), such classes should not define any constructor which has any argument because they will not be called anywhere.</p>\n<p>e.g.,</p>\n<ul>\n<li>Example1 (good):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n  // no any constructor defined, this is good for dynamic instantiation, there will be a implicit no-arg constructor created.\n}\n</code></pre>\n<ul>\n<li>Example2 (good):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n   public DynamicClass() { ... }\n}\n</code></pre>\n<ul>\n<li>example3 (<strong>BAD</strong>):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n  public DynamicClass1(String xxx) { ... }\n}\n</code></pre>\n<p>probably the author expect the constructor being called, but actually it is not called from anywhere and will not, so I want the compiler show an error message &quot;the constructor you defined will never be called&quot;.</p>\n<p>Is there any idea?\nMaybe I need create my own annotation processor?</p>\n"},{"tags":["java","gremlin","tinkerpop3"],"comments":[{"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"score":0,"creation_date":1517201818,"post_id":48488142,"comment_id":83982223,"body_markdown":"I search my question with many keywords in google and stackoverflow and try to find a method in gremlin by IDE autocomplete. what effort can I do more? I should emphasis that I try much to find my answer?","body":"I search my question with many keywords in google and stackoverflow and try to find a method in gremlin by IDE autocomplete. what effort can I do more? I should emphasis that I try much to find my answer?"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1517206321,"post_id":48488142,"comment_id":83983660,"body_markdown":"There might be no such thing as a &quot;schema&quot; - each node might have different properties and edges. Otherwise just modify my answer below to printout the keys instead of the values - you also only jave to visit one node (per nodeType) to get the information if your graph is uniform in the sense that a schema makes sense. What kind of &quot;schema&quot; are you interested in - please state your expectations more clearly.","body":"There might be no such thing as a &quot;schema&quot; - each node might have different properties and edges. Otherwise just modify my answer below to printout the keys instead of the values - you also only jave to visit one node (per nodeType) to get the information if your graph is uniform in the sense that a schema makes sense. What kind of &quot;schema&quot; are you interested in - please state your expectations more clearly."},{"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"score":0,"creation_date":1517206967,"post_id":48488142,"comment_id":83983878,"body_markdown":"I don&#39;t understand your question. I wanna to find out which information is in a specific node. i. e. exploratory data analysis.","body":"I don&#39;t understand your question. I wanna to find out which information is in a specific node. i. e. exploratory data analysis."},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1517207645,"post_id":48488142,"comment_id":83984167,"body_markdown":"I assume you are interested in the names and types of the properties as well as the names and &quot;types&quot; of the edges. I modified my answer accordingly. I tried to understand your hint with &quot;exploratory data analysis&quot; looking at https://en.wikipedia.org/wiki/Exploratory_data_analysis and it seems only remotely related to the graph issue. So please explain what your needs are in more detail best with an example.","body":"I assume you are interested in the names and types of the properties as well as the names and &quot;types&quot; of the edges. I modified my answer accordingly. I tried to understand your hint with &quot;exploratory data analysis&quot; looking at <a href=\"https://en.wikipedia.org/wiki/Exploratory_data_analysis\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Exploratory_data_analysis</a> and it seems only remotely related to the graph issue. So please explain what your needs are in more detail best with an example."}],"answers":[{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538035854,"creation_date":1517156467,"answer_id":48488495,"question_id":48488142,"body_markdown":"The last two lines in the JUnit Test Case might be closer to do what you want.\r\nsee also:\r\n\r\nhttps://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java\r\n\r\n    graph.traversal().V().next().properties()\r\n        .forEachRemaining(prop -&gt; System.out.println(String.format(&quot;%s=%s&quot;,\r\n            prop.label(), prop.value().getClass().getSimpleName())));\r\n    graph.traversal().V().next().edges(Direction.OUT)\r\n        .forEachRemaining(edge -&gt; System.out.println(\r\n            String.format(&quot;%s-&gt;%s&quot;, edge.label(), edge.outVertex().label())));\r\n\r\nproducing:\r\n\r\n    name=String\r\n    age=Integer\r\n    created-&gt;person\r\n    knows-&gt;person\r\n\r\n**JUnit Test Case** \r\n\r\n      @Test\r\n      public void testSchema() {\r\n        Graph graph = TinkerFactory.createModern();\r\n        graph.traversal().V().next().properties()\r\n            .forEachRemaining(prop -&gt; System.out.println(String.format(&quot;%s=%s&quot;,\r\n                prop.label(), prop.value().getClass().getSimpleName())));\r\n        graph.traversal().V().next().edges(Direction.OUT)\r\n            .forEachRemaining(edge -&gt; System.out.println(\r\n                String.format(&quot;%s-&gt;%s&quot;, edge.label(), edge.outVertex().label())));\r\n      }","title":"How to find graph schema in Gremlin?","body":"<p>The last two lines in the JUnit Test Case might be closer to do what you want.\nsee also:</p>\n\n<p><a href=\"https://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java\" rel=\"nofollow noreferrer\">https://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java</a></p>\n\n<pre><code>graph.traversal().V().next().properties()\n    .forEachRemaining(prop -&gt; System.out.println(String.format(\"%s=%s\",\n        prop.label(), prop.value().getClass().getSimpleName())));\ngraph.traversal().V().next().edges(Direction.OUT)\n    .forEachRemaining(edge -&gt; System.out.println(\n        String.format(\"%s-&gt;%s\", edge.label(), edge.outVertex().label())));\n</code></pre>\n\n<p>producing:</p>\n\n<pre><code>name=String\nage=Integer\ncreated-&gt;person\nknows-&gt;person\n</code></pre>\n\n<p><strong>JUnit Test Case</strong> </p>\n\n<pre><code>  @Test\n  public void testSchema() {\n    Graph graph = TinkerFactory.createModern();\n    graph.traversal().V().next().properties()\n        .forEachRemaining(prop -&gt; System.out.println(String.format(\"%s=%s\",\n            prop.label(), prop.value().getClass().getSimpleName())));\n    graph.traversal().V().next().edges(Direction.OUT)\n        .forEachRemaining(edge -&gt; System.out.println(\n            String.format(\"%s-&gt;%s\", edge.label(), edge.outVertex().label())));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517213229,"creation_date":1517206257,"answer_id":48495318,"question_id":48488142,"body_markdown":"If all nodes have a same properties. we can find the properties of the first vertex and generalize it to all nodes:\r\n\r\n    TinkerGraph tg = TinkerGraph.open() ;\r\n    tg.io(IoCore.graphml()).readGraph(&quot;src\\\\main\\\\resources\\\\air-routes.graphml&quot;);\r\n    GraphTraversalSource g = tg.traversal();\r\n\r\n    g.V().propertyMap().select(Column.keys).next();\r\n    // result = {LinkedHashSet@1831}  size = 12\r\n    // 0 = &quot;country&quot;\r\n    // 1 = &quot;code&quot;\r\n    // 2 = &quot;longest&quot;\r\n    // 3 = &quot;city&quot;\r\n    // 4 = &quot;elev&quot;\r\n    // 5 = &quot;icao&quot;\r\n    // 6 = &quot;lon&quot;\r\n    // 7 = &quot;type&quot;\r\n    // 8 = &quot;region&quot;\r\n    // 9 = &quot;runways&quot;\r\n    // 10 = &quot;lat&quot;\r\n    // 11 = &quot;desc&quot;\r\n\r\nbut If there is no guaranty to each node has a same set of properties, I don&#39;t find any other solution instead of retrieving all properties in a Map List and find distinct property with java collection methods (outside Gremlin).","title":"How to find graph schema in Gremlin?","body":"<p>If all nodes have a same properties. we can find the properties of the first vertex and generalize it to all nodes:</p>\n\n<pre><code>TinkerGraph tg = TinkerGraph.open() ;\ntg.io(IoCore.graphml()).readGraph(\"src\\\\main\\\\resources\\\\air-routes.graphml\");\nGraphTraversalSource g = tg.traversal();\n\ng.V().propertyMap().select(Column.keys).next();\n// result = {LinkedHashSet@1831}  size = 12\n// 0 = \"country\"\n// 1 = \"code\"\n// 2 = \"longest\"\n// 3 = \"city\"\n// 4 = \"elev\"\n// 5 = \"icao\"\n// 6 = \"lon\"\n// 7 = \"type\"\n// 8 = \"region\"\n// 9 = \"runways\"\n// 10 = \"lat\"\n// 11 = \"desc\"\n</code></pre>\n\n<p>but If there is no guaranty to each node has a same set of properties, I don't find any other solution instead of retrieving all properties in a Map List and find distinct property with java collection methods (outside Gremlin).</p>\n"},{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517231550,"creation_date":1517226841,"answer_id":48500665,"question_id":48488142,"body_markdown":"Gremlin itself has no notion of schema. This was a deliberate design choice as the capabilities and behavior around schema APIs is quite different from one graph system implementation to the next and forming an appropriate abstraction in Apache TinkerPop for that is quite difficult. In this way it is quite akin to TinkerPop 2.x&#39;s attempt to build a general index API, which ended up being too generic to be useful to anyone and had there been more complexity added, more that what was required for most cases. In the end, like indexing APIs, ideas for generalizing schema were left out for TinkerPop 3.x.\r\n\r\nIf you use a graph that allows for schema definition like JanusGraph or DSE Graph you should simply use the underlying Schema API of that graph system to get all of your schema values. If you aren&#39;t using that type of graph then you will need to do something along the lines of what has been offered in the other answers thus far and iterate through all of the vertices (or edges) and get the unique property keys. Here&#39;s my version:\r\n\r\n    gremlin&gt; graph = TinkerFactory.createModern()\r\n    ==&gt;tinkergraph[vertices:6 edges:6]\r\n    gremlin&gt; g = graph.traversal()\r\n    ==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]\r\n    gremlin&gt; g.V().properties().key().dedup()\r\n    ==&gt;name\r\n    ==&gt;age\r\n    ==&gt;lang\r\n\r\nThe problem here is that to do this type of traversal, you will require a full graph scan, which will be problematic if you have a large graph. In those cases you will need to use an OLAP-based traversal with Spark or the like.","title":"How to find graph schema in Gremlin?","body":"<p>Gremlin itself has no notion of schema. This was a deliberate design choice as the capabilities and behavior around schema APIs is quite different from one graph system implementation to the next and forming an appropriate abstraction in Apache TinkerPop for that is quite difficult. In this way it is quite akin to TinkerPop 2.x's attempt to build a general index API, which ended up being too generic to be useful to anyone and had there been more complexity added, more that what was required for most cases. In the end, like indexing APIs, ideas for generalizing schema were left out for TinkerPop 3.x.</p>\n\n<p>If you use a graph that allows for schema definition like JanusGraph or DSE Graph you should simply use the underlying Schema API of that graph system to get all of your schema values. If you aren't using that type of graph then you will need to do something along the lines of what has been offered in the other answers thus far and iterate through all of the vertices (or edges) and get the unique property keys. Here's my version:</p>\n\n<pre><code>gremlin&gt; graph = TinkerFactory.createModern()\n==&gt;tinkergraph[vertices:6 edges:6]\ngremlin&gt; g = graph.traversal()\n==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]\ngremlin&gt; g.V().properties().key().dedup()\n==&gt;name\n==&gt;age\n==&gt;lang\n</code></pre>\n\n<p>The problem here is that to do this type of traversal, you will require a full graph scan, which will be problematic if you have a large graph. In those cases you will need to use an OLAP-based traversal with Spark or the like.</p>\n"},{"tags":[],"owner":{"account_id":979918,"reputation":336,"user_id":999913,"display_name":"winxalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701788029,"creation_date":1701788029,"answer_id":77607163,"question_id":48488142,"body_markdown":"    @app.get(&quot;/schema&quot;)\r\n    async def schema():\r\n        &quot;&quot;&quot;Get Schema manually.&quot;&quot;&quot;\r\n    \r\n        # Fetch edges_raw_dict using gremlin\r\n        edges_raw_dict = tinker.g.E().group().by(T.label).by(\r\n            __.project(&#39;in&#39;, &#39;out&#39;, &#39;properties&#39;)\r\n            .by(__.inV().label())\r\n            .by(__.outV().label())\r\n            .by(__.properties().group().by(T.key).by(__.value().fold()))\r\n            .dedup().fold()\r\n        ).next()\r\n    \r\n        separator = &quot;|&quot;\r\n        edges = []\r\n    \r\n        for edge_label, edge_list in edges_raw_dict.items():\r\n            edge_filtered = edge_list[0] if edge_list else None\r\n            properties_filtered = edge_filtered.get(&#39;properties&#39;, {}) if edge_filtered else None\r\n    \r\n            for edge in edge_list[1:]:\r\n                edge_properties = edge.get(&#39;properties&#39;, {})\r\n                if edge_properties:\r\n                    for prop in edge_properties:\r\n                        properties_filtered[prop].extend(edge_properties[prop])\r\n    \r\n            if not properties_filtered:\r\n                edge_filtered.pop(&quot;properties&quot;)\r\n    \r\n            for prop in properties_filtered:\r\n                properties_filtered[prop] = separator.join(properties_filtered[prop])\r\n    \r\n            edges.append({edge_label: edge_filtered})\r\n    \r\n        # Fetch vertices using gremlin\r\n        vertices = tinker.g.V().group().by(T.label).by(__.properties().label().dedup().fold()).to_list()\r\n\r\n    return {&quot;edges&quot;: edges, &quot;vertices&quot;: vertices}\r\nWith the little help of python i got schema like this:\r\n\r\n   \r\n\r\n    {\r\n        &quot;edges&quot;: [\r\n            {\r\n                &quot;familiar with&quot;: {\r\n                    &quot;in&quot;: &quot;Sector&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;actions&quot;: {\r\n                    &quot;in&quot;: &quot;Action&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;current_goal&quot;: {\r\n                    &quot;in&quot;: &quot;Goal&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;relation&quot;: {\r\n                    &quot;in&quot;: &quot;Character&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: &quot;friend|son&quot;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                &quot;current_action&quot;: {\r\n                    &quot;in&quot;: &quot;Action&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;goals&quot;: {\r\n                    &quot;in&quot;: &quot;Goal&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            }\r\n        ],\r\n        &quot;vertices&quot;: [\r\n            {\r\n                &quot;Goal&quot;: [\r\n                    &quot;duration&quot;,\r\n                    &quot;permanent&quot;,\r\n                    &quot;description&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;time&quot;,\r\n                    &quot;repetition&quot;\r\n                ],\r\n                &quot;Action&quot;: [\r\n                    &quot;duration&quot;,\r\n                    &quot;description&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;time&quot;\r\n                ],\r\n                &quot;Character&quot;: [\r\n                    &quot;evacuation&quot;,\r\n                    &quot;rest&quot;,\r\n                    &quot;traits&quot;,\r\n                    &quot;occupation&quot;,\r\n                    &quot;somnolence&quot;,\r\n                    &quot;health&quot;,\r\n                    &quot;last_name&quot;,\r\n                    &quot;priority&quot;,\r\n                    &quot;nutrition&quot;,\r\n                    &quot;hydration&quot;,\r\n                    &quot;innate_tendency&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;first_name&quot;,\r\n                    &quot;age&quot;\r\n                ],\r\n                &quot;Sector&quot;: [\r\n                    &quot;name&quot;\r\n                ]\r\n            }\r\n        ]\r\n    }","title":"How to find graph schema in Gremlin?","body":"<pre><code>@app.get(&quot;/schema&quot;)\nasync def schema():\n    &quot;&quot;&quot;Get Schema manually.&quot;&quot;&quot;\n\n    # Fetch edges_raw_dict using gremlin\n    edges_raw_dict = tinker.g.E().group().by(T.label).by(\n        __.project('in', 'out', 'properties')\n        .by(__.inV().label())\n        .by(__.outV().label())\n        .by(__.properties().group().by(T.key).by(__.value().fold()))\n        .dedup().fold()\n    ).next()\n\n    separator = &quot;|&quot;\n    edges = []\n\n    for edge_label, edge_list in edges_raw_dict.items():\n        edge_filtered = edge_list[0] if edge_list else None\n        properties_filtered = edge_filtered.get('properties', {}) if edge_filtered else None\n\n        for edge in edge_list[1:]:\n            edge_properties = edge.get('properties', {})\n            if edge_properties:\n                for prop in edge_properties:\n                    properties_filtered[prop].extend(edge_properties[prop])\n\n        if not properties_filtered:\n            edge_filtered.pop(&quot;properties&quot;)\n\n        for prop in properties_filtered:\n            properties_filtered[prop] = separator.join(properties_filtered[prop])\n\n        edges.append({edge_label: edge_filtered})\n\n    # Fetch vertices using gremlin\n    vertices = tinker.g.V().group().by(T.label).by(__.properties().label().dedup().fold()).to_list()\n\nreturn {&quot;edges&quot;: edges, &quot;vertices&quot;: vertices}\n</code></pre>\n<p>With the little help of python i got schema like this:</p>\n<pre><code>{\n    &quot;edges&quot;: [\n        {\n            &quot;familiar with&quot;: {\n                &quot;in&quot;: &quot;Sector&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;actions&quot;: {\n                &quot;in&quot;: &quot;Action&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;current_goal&quot;: {\n                &quot;in&quot;: &quot;Goal&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;relation&quot;: {\n                &quot;in&quot;: &quot;Character&quot;,\n                &quot;out&quot;: &quot;Character&quot;,\n                &quot;properties&quot;: {\n                    &quot;type&quot;: &quot;friend|son&quot;\n                }\n            }\n        },\n        {\n            &quot;current_action&quot;: {\n                &quot;in&quot;: &quot;Action&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;goals&quot;: {\n                &quot;in&quot;: &quot;Goal&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        }\n    ],\n    &quot;vertices&quot;: [\n        {\n            &quot;Goal&quot;: [\n                &quot;duration&quot;,\n                &quot;permanent&quot;,\n                &quot;description&quot;,\n                &quot;location&quot;,\n                &quot;time&quot;,\n                &quot;repetition&quot;\n            ],\n            &quot;Action&quot;: [\n                &quot;duration&quot;,\n                &quot;description&quot;,\n                &quot;location&quot;,\n                &quot;time&quot;\n            ],\n            &quot;Character&quot;: [\n                &quot;evacuation&quot;,\n                &quot;rest&quot;,\n                &quot;traits&quot;,\n                &quot;occupation&quot;,\n                &quot;somnolence&quot;,\n                &quot;health&quot;,\n                &quot;last_name&quot;,\n                &quot;priority&quot;,\n                &quot;nutrition&quot;,\n                &quot;hydration&quot;,\n                &quot;innate_tendency&quot;,\n                &quot;location&quot;,\n                &quot;first_name&quot;,\n                &quot;age&quot;\n            ],\n            &quot;Sector&quot;: [\n                &quot;name&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5153,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":48495318,"answer_count":4,"score":2,"last_activity_date":1701788029,"creation_date":1517154334,"question_id":48488142,"body_markdown":"I wanna to find all node and edge properties in graph. How can I list node (or edge) properties that exist in graph?\r\n\r\nfor example if nodes has 3 non-reserved properties such as NAME, education, gender. I wanna a methods like\r\n\r\n    g.V().schema().toList();\r\n    // result: [ID, LABEL, NAME, GENDER, EDUCATION]","title":"How to find graph schema in Gremlin?","body":"<p>I wanna to find all node and edge properties in graph. How can I list node (or edge) properties that exist in graph?</p>\n\n<p>for example if nodes has 3 non-reserved properties such as NAME, education, gender. I wanna a methods like</p>\n\n<pre><code>g.V().schema().toList();\n// result: [ID, LABEL, NAME, GENDER, EDUCATION]\n</code></pre>\n"},{"tags":["java","spring","http","http2"],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17219,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701787731,"creation_date":1701787731,"answer_id":77607137,"question_id":77597956,"body_markdown":"It is possible, but depends on many things.\r\n\r\nHTTP/1.1 does not have an explicit mechanism to tell the server to interrupt a request processing, other than closing the connection.  \r\nHowever, the server application is typically not reading from the connection to detect the close during the processing, so even if the client closes the server application won&#39;t notice.\r\n\r\nHTTP/2 and HTTP/3 do have an explicit mechanism to tell the server to interrupt a request processing.  \r\nUnfortunately, Servlets (and by extension to JAX-RS) do not have any API that allows applications to be notified of clients sending a &quot;reset stream&quot; frame.  \r\nAs Spring wraps Servlets and JAX-RS, unlikely you will have this API available, unless you want to bind to low-level, container-specific APIs, that allows your application to be notified of the &quot;reset stream&quot; event.\r\n\r\n[Disclaimer, I am a Jetty committer]\r\n\r\nWhen using Jetty you can use the [low-level HTTP/2 APIs][1] and be notified of such event.\r\n\r\nFor example:\r\n\r\n```java\r\nServerSessionListener sessionListener = new ServerSessionListener()\r\n{\r\n    @Override\r\n    public Stream.Listener onNewStream(Stream stream, HeadersFrame frame)\r\n    {\r\n        // Process the request.\r\n        MetaData.Request request = (MetaData.Request)frame.getMetaData();\r\n\r\n        ...\r\n\r\n        // Return a stream listener that can handle stream resets.\r\n        return new Stream.Listener()\r\n        {\r\n            ...\r\n\r\n            @Override\r\n            public void onReset(Stream stream, ResetFrame frame, Callback callback)\r\n            {\r\n                // Handle stream reset from the client.\r\n\r\n                ...\r\n\r\n                callback.succeeded();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-server-http2","title":"Can server know the request cancelled by client and then stop the process?","body":"<p>It is possible, but depends on many things.</p>\n<p>HTTP/1.1 does not have an explicit mechanism to tell the server to interrupt a request processing, other than closing the connection.<br />\nHowever, the server application is typically not reading from the connection to detect the close during the processing, so even if the client closes the server application won't notice.</p>\n<p>HTTP/2 and HTTP/3 do have an explicit mechanism to tell the server to interrupt a request processing.<br />\nUnfortunately, Servlets (and by extension to JAX-RS) do not have any API that allows applications to be notified of clients sending a &quot;reset stream&quot; frame.<br />\nAs Spring wraps Servlets and JAX-RS, unlikely you will have this API available, unless you want to bind to low-level, container-specific APIs, that allows your application to be notified of the &quot;reset stream&quot; event.</p>\n<p>[Disclaimer, I am a Jetty committer]</p>\n<p>When using Jetty you can use the <a href=\"https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-server-http2\" rel=\"nofollow noreferrer\">low-level HTTP/2 APIs</a> and be notified of such event.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServerSessionListener sessionListener = new ServerSessionListener()\n{\n    @Override\n    public Stream.Listener onNewStream(Stream stream, HeadersFrame frame)\n    {\n        // Process the request.\n        MetaData.Request request = (MetaData.Request)frame.getMetaData();\n\n        ...\n\n        // Return a stream listener that can handle stream resets.\n        return new Stream.Listener()\n        {\n            ...\n\n            @Override\n            public void onReset(Stream stream, ResetFrame frame, Callback callback)\n            {\n                // Handle stream reset from the client.\n\n                ...\n\n                callback.succeeded();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8935976,"reputation":690,"user_id":6666797,"display_name":"Cositanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701787731,"creation_date":1701676989,"question_id":77597956,"body_markdown":"For example, my server handle a request cost 5 seconds, but the client stop waiting and cancel this request in 2 seconds, the 3 seconds left would be a waste, how can server know that and stop the handling process?\r\n\r\nAnd I&#39;m using Java Spring, is it possible to do this?\r\n\r\nAnd If not, is there any good way to handle this case of waste caused by client cancelling?","title":"Can server know the request cancelled by client and then stop the process?","body":"<p>For example, my server handle a request cost 5 seconds, but the client stop waiting and cancel this request in 2 seconds, the 3 seconds left would be a waste, how can server know that and stop the handling process?</p>\n<p>And I'm using Java Spring, is it possible to do this?</p>\n<p>And If not, is there any good way to handle this case of waste caused by client cancelling?</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":1,"up_vote_count":805,"is_accepted":true,"score":804,"last_activity_date":1615457886,"creation_date":1317694074,"answer_id":7642607,"question_id":7642456,"body_markdown":"Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n*(This also creates a `pom.xml` for you to modify.)*\r\n\r\nIf you mean adding source repository elements, I think you need to do that manually&amp;ndash;not sure.\r\n\r\nPre-IntelliJ 13 this won&#39;t convert the project to the [Maven Standard Directory Layout][3], 13+ it will.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sC2ix.png\r\n  [2]: https://i.stack.imgur.com/RK3xx.png\r\n  [3]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.</p>\n<p><a href=\"https://i.stack.imgur.com/sC2ix.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sC2ix.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RK3xx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RK3xx.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(This also creates a <code>pom.xml</code> for you to modify.)</em></p>\n<p>If you mean adding source repository elements, I think you need to do that manually–not sure.</p>\n<p>Pre-IntelliJ 13 this won't convert the project to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"noreferrer\">Maven Standard Directory Layout</a>, 13+ it will.</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1479822636,"creation_date":1479822636,"answer_id":40743598,"question_id":7642456,"body_markdown":"1. Open &#39;Maven projects&#39; (tab on the right side).  \r\n2. Use &#39;Add Maven Projects&#39;  \r\n3. Find your pom.xml  ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<ol>\n<li>Open 'Maven projects' (tab on the right side).  </li>\n<li>Use 'Add Maven Projects'  </li>\n<li>Find your pom.xml  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1490645704,"creation_date":1490645704,"answer_id":43055660,"question_id":7642456,"body_markdown":"A visual for those that benefit from it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3GCAR.png\r\n\r\nAfter right-clicking the project name (&quot;test&quot; in this example), select &quot;Add framework support&quot; and check the &quot;Maven&quot; option. ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>A visual for those that benefit from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GCAR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3GCAR.png\" alt=\"enter image description here\"></a></p>\n\n<p>After right-clicking the project name (\"test\" in this example), select \"Add framework support\" and check the \"Maven\" option. </p>\n"},{"tags":[],"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574704015,"creation_date":1491549907,"answer_id":43272100,"question_id":7642456,"body_markdown":"I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:\r\n\r\n1. Annotation settings are changed for the modules\r\n2. Compiler output path is changed for the modules\r\n3. Resources settings are ignored totally and only taken from pom.xml\r\n4. Module dependencies are messed up and have to checked\r\n5. Language/Encoding settings are changed for the modules\r\n\r\nAll these points need review and adjusting but after this it works like charm.\r\n\r\nFurther more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;Name&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;!-- Generic properties --&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!--All dependencies to put here, including module dependencies--&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\r\n        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n        &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessors/&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nEdit 2019: \r\n\r\n - Added recursive resource scan\r\n - Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:</p>\n\n<ol>\n<li>Annotation settings are changed for the modules</li>\n<li>Compiler output path is changed for the modules</li>\n<li>Resources settings are ignored totally and only taken from pom.xml</li>\n<li>Module dependencies are messed up and have to checked</li>\n<li>Language/Encoding settings are changed for the modules</li>\n</ol>\n\n<p>All these points need review and adjusting but after this it works like charm.</p>\n\n<p>Further more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Name&lt;/groupId&gt;\n&lt;artifactId&gt;Artifact&lt;/artifactId&gt;\n&lt;version&gt;4.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;!-- Generic properties --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!--All dependencies to put here, including module dependencies--&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n    &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessors/&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Edit 2019: </p>\n\n<ul>\n<li>Added recursive resource scan</li>\n<li>Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":240605,"reputation":106,"user_id":510944,"display_name":"ZoltanT"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503042873,"creation_date":1503042873,"answer_id":45751385,"question_id":7642456,"body_markdown":"This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.</p>\n"},{"tags":[],"owner":{"account_id":4910831,"reputation":471,"user_id":3956183,"display_name":"LostMage"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520329786,"creation_date":1520329786,"answer_id":49127831,"question_id":7642456,"body_markdown":"I had a different scenario, but still landed on this answer.  \r\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.  \r\nIntelliJ recognised the Java files, but didn&#39;t resolve the Maven dependencies.\r\n\r\nI fixed this by performing a right-click on each pom and then &quot;Add as maven project&quot;\r\n\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I had a different scenario, but still landed on this answer.<br>\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.<br>\nIntelliJ recognised the Java files, but didn't resolve the Maven dependencies.</p>\n\n<p>I fixed this by performing a right-click on each pom and then \"Add as maven project\"</p>\n"},{"tags":[],"owner":{"account_id":2785708,"reputation":390,"user_id":2397177,"accept_rate":40,"display_name":"Walid Ammou"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554320748,"creation_date":1554320273,"answer_id":55503052,"question_id":7642456,"body_markdown":"I have resolved this same issue by doing below steps:\r\n\r\n1. File &gt; Close Project\r\n\r\n2. Import Project\r\n\r\n3. Select you project via the system file popup\r\n\r\n4. Check &quot;Import project from external model&quot; radio button and select Maven entry\r\n\r\n5. And some Next buttons (select JDK, ...)\r\n\r\nThen the project will be imported as Maven module.\r\n\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I have resolved this same issue by doing below steps:</p>\n\n<ol>\n<li><p>File > Close Project</p></li>\n<li><p>Import Project</p></li>\n<li><p>Select you project via the system file popup</p></li>\n<li><p>Check \"Import project from external model\" radio button and select Maven entry</p></li>\n<li><p>And some Next buttons (select JDK, ...)</p></li>\n</ol>\n\n<p>Then the project will be imported as Maven module.</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563440248,"creation_date":1563440248,"answer_id":57090700,"question_id":7642456,"body_markdown":"The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called &#39;Add as Maven Project&#39;, click it. This will automatically convert the project to a Maven project","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called 'Add as Maven Project', click it. This will automatically convert the project to a Maven project</p>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597212549,"creation_date":1597212549,"answer_id":63370753,"question_id":7642456,"body_markdown":"Just follow the steps:\r\n1. Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMMmb.png\r\n  [2]: https://i.stack.imgur.com/MrjeF.png","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Just follow the steps:</p>\n<ol>\n<li>Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PMMmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMMmb.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/MrjeF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MrjeF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12196540,"reputation":119,"user_id":8902000,"display_name":"Alex Yao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626573419,"creation_date":1626573419,"answer_id":68425452,"question_id":7642456,"body_markdown":"Update on version Intellij IDEA 2020.2.3\r\n\r\n`Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing`\r\nand click &quot;**create module groups for multi-module Maven projects**&quot;.\r\n\r\nThen Apply and you can see that option in &quot;Add Framework Support...&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ye4x.png\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Update on version Intellij IDEA 2020.2.3</p>\n<p><code>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing</code>\nand click &quot;<strong>create module groups for multi-module Maven projects</strong>&quot;.</p>\n<p>Then Apply and you can see that option in &quot;Add Framework Support...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/4ye4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ye4x.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650968009,"creation_date":1650968009,"answer_id":72012159,"question_id":7642456,"body_markdown":" 1. Right-click on the module\r\n 2. Select &quot;Add framework support&quot;\r\n 3. Click the &quot;Maven&quot; option.\r\n\r\nNote: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then. \r\n\r\n**Enable Auto Import of Dependencies**\r\n\r\n(`InteliJ IDEA 14.1.1` on `Ubuntu`) \r\n\r\n    Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\r\n\r\n**Run as maven project**\r\n\r\nCreating a new Run/Debug Configuration of type maven and adding the command `clean install` \r\n\r\nFinally clicking the green button to run that Run/Debug Configuration, this will run build the project using `apache maven`. \r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<ol>\n<li>Right-click on the module</li>\n<li>Select &quot;Add framework support&quot;</li>\n<li>Click the &quot;Maven&quot; option.</li>\n</ol>\n<p>Note: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then.</p>\n<p><strong>Enable Auto Import of Dependencies</strong></p>\n<p>(<code>InteliJ IDEA 14.1.1</code> on <code>Ubuntu</code>)</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\n</code></pre>\n<p><strong>Run as maven project</strong></p>\n<p>Creating a new Run/Debug Configuration of type maven and adding the command <code>clean install</code></p>\n<p>Finally clicking the green button to run that Run/Debug Configuration, this will run build the project using <code>apache maven</code>.</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684672180,"creation_date":1684672180,"answer_id":76299911,"question_id":7642456,"body_markdown":"Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:\r\n\r\n- Right click on root of your project in Explorer on the left side.\r\n- Select &quot;Add framework support&quot; (3rd option from the last as shown in image)\r\n- Choose Maven\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlaG7.png","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven\n<a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1047369,"reputation":113,"user_id":1052103,"accept_rate":40,"display_name":"VincentH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701787252,"creation_date":1701787252,"answer_id":77607068,"question_id":7642456,"body_markdown":"I could not find the option &#39;Add Framework Support&#39; at all. I figured out if you click on the project, then press Ctrl+Shift+A, a dialog pops up.\r\n\r\nStart typing &#39;Add Framework Support&#39; and the option will appear in a list. Click that option then you can add Maven support.","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I could not find the option 'Add Framework Support' at all. I figured out if you click on the project, then press Ctrl+Shift+A, a dialog pops up.</p>\n<p>Start typing 'Add Framework Support' and the option will appear in a list. Click that option then you can add Maven support.</p>\n"}],"owner":{"account_id":74278,"reputation":18677,"user_id":213525,"accept_rate":87,"display_name":"Neil Traft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257380,"favorite_count":0,"down_vote_count":0,"up_vote_count":447,"accepted_answer_id":7642607,"answer_count":13,"score":447,"last_activity_date":1701787252,"creation_date":1317692206,"question_id":7642456,"body_markdown":"I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control &gt; Checkout from Version Control from within IntelliJ.\r\n\r\nIt then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.\r\n\r\nHowever, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!\r\n\r\nIs there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control > Checkout from Version Control from within IntelliJ.</p>\n\n<p>It then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.</p>\n\n<p>However, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!</p>\n\n<p>Is there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4042366,"reputation":283,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1701783044,"post_id":77605929,"comment_id":136816049,"body_markdown":"I&#39;m afraid that would be a very niche exception. I&#39;m not sure that it is even possible to archieve that without somehow corrupting the jackson dependencies.\nAll the UnrecognizedPropertyException, JsonParseException and JsonMappingException inherit from JsonProcessingException.\nThe only possible exceptions you have left are: JsonGenerationException, InputCoercionException and StreamConstraintsException.\nPersonally, I don&#39;t know a way to invoke them using the modern version of Jackson and the readValue method that returns a regular POJO.","body":"I&#39;m afraid that would be a very niche exception. I&#39;m not sure that it is even possible to archieve that without somehow corrupting the jackson dependencies. All the UnrecognizedPropertyException, JsonParseException and JsonMappingException inherit from JsonProcessingException. The only possible exceptions you have left are: JsonGenerationException, InputCoercionException and StreamConstraintsException. Personally, I don&#39;t know a way to invoke them using the modern version of Jackson and the readValue method that returns a regular POJO."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1701787321,"post_id":77605929,"comment_id":136816950,"body_markdown":"You are correct, this is why I started the question. Was hoping to bump into someone who knows","body":"You are correct, this is why I started the question. Was hoping to bump into someone who knows"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701787215,"creation_date":1701776776,"question_id":77605929,"body_markdown":"- What I am trying to achieve:\r\n\r\nI want to write a unit test case, hopefully without mocking, which can help test a JsonProcessingException.\r\n\r\nI have this piece of code I would like to test:\r\n\r\n```\r\n    public MyPojo question(String jsonString) {\r\n        try {\r\n            return objectMapper.readValue(jsonString, MyPojo.class);\r\n        } catch (UnrecognizedPropertyException e) {\r\n            LOGGER.error(&quot;Unrecognized property from {}&quot;, jsonString);\r\n            throw new RuntimeException(e);\r\n        } catch (JsonParseException | JsonMappingException e) {\r\n            LOGGER.warn(&quot;Input malformed&quot;);\r\n            throw new RuntimeException(e);\r\n        } catch (JsonProcessingException e) {\r\n            LOGGER.error(&quot;How to get here? ={}&quot;, jsonString);\r\n            throw new CustomRuntimeExeption(e);\r\n        }\r\n    }\r\n```\r\n\r\nThis piece of code is from a third-party code library, I cannot change this piece of code.\r\n\r\n- What did I try\r\n\r\nI want to reach the third branch, the JsonProcessingException.\r\nTherefore, I created a test where the input looks like ```{&quot;unknown_property&quot;: &quot;value&quot;}```\r\nHowever, this would go to UnrecognizedPropertyException.\r\n\r\nThen, I created a test where the input is ```{&quot;unknown_property&quot;: &quot;val```\r\nHowever, this would go to JsonParseException.\r\n\r\n- Question:\r\n\r\nWhat kind of input can I give to this method, which will make it go into the third branch JsonProcessingException?\r\n\r\n#Edit\r\nTo make the question more specific: Here is a list of exceptions that extend class `JsonProcessingException` as of jackson version `2.15.2`:\r\n```\r\nJsonProcessingException\r\n├── StreamWriteException\r\n│   └── JsonGenerationException -\r\n├── StreamReadException\r\n│   ├── JsonParseException +\r\n│   │   └── (...)\r\n│   ├── InputCoercionException -\r\n├── DatabindException\r\n│   └── JsonMappingException +\r\n│       └── (...)\r\n└── StreamConstraintsException -\r\n```\r\n\r\nLegend:\r\n```\r\n+: exceptions that I can trigger\r\n-: exceptions that Im unable to trigger\r\n```\r\n\r\nSo, based on above list, I need to trigger one of the following exceptions: `JsonGenerationException`, `InputCoercionException`, `StreamConstraintsException`.\r\n\r\n","title":"Issue testing JsonProcessingException without mock","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>I want to write a unit test case, hopefully without mocking, which can help test a JsonProcessingException.</p>\n<p>I have this piece of code I would like to test:</p>\n<pre><code>    public MyPojo question(String jsonString) {\n        try {\n            return objectMapper.readValue(jsonString, MyPojo.class);\n        } catch (UnrecognizedPropertyException e) {\n            LOGGER.error(&quot;Unrecognized property from {}&quot;, jsonString);\n            throw new RuntimeException(e);\n        } catch (JsonParseException | JsonMappingException e) {\n            LOGGER.warn(&quot;Input malformed&quot;);\n            throw new RuntimeException(e);\n        } catch (JsonProcessingException e) {\n            LOGGER.error(&quot;How to get here? ={}&quot;, jsonString);\n            throw new CustomRuntimeExeption(e);\n        }\n    }\n</code></pre>\n<p>This piece of code is from a third-party code library, I cannot change this piece of code.</p>\n<ul>\n<li>What did I try</li>\n</ul>\n<p>I want to reach the third branch, the JsonProcessingException.\nTherefore, I created a test where the input looks like <code>{&quot;unknown_property&quot;: &quot;value&quot;}</code>\nHowever, this would go to UnrecognizedPropertyException.</p>\n<p>Then, I created a test where the input is <code>{&quot;unknown_property&quot;: &quot;val</code>\nHowever, this would go to JsonParseException.</p>\n<ul>\n<li>Question:</li>\n</ul>\n<p>What kind of input can I give to this method, which will make it go into the third branch JsonProcessingException?</p>\n<p>#Edit\nTo make the question more specific: Here is a list of exceptions that extend class <code>JsonProcessingException</code> as of jackson version <code>2.15.2</code>:</p>\n<pre><code>JsonProcessingException\n├── StreamWriteException\n│   └── JsonGenerationException -\n├── StreamReadException\n│   ├── JsonParseException +\n│   │   └── (...)\n│   ├── InputCoercionException -\n├── DatabindException\n│   └── JsonMappingException +\n│       └── (...)\n└── StreamConstraintsException -\n</code></pre>\n<p>Legend:</p>\n<pre><code>+: exceptions that I can trigger\n-: exceptions that Im unable to trigger\n</code></pre>\n<p>So, based on above list, I need to trigger one of the following exceptions: <code>JsonGenerationException</code>, <code>InputCoercionException</code>, <code>StreamConstraintsException</code>.</p>\n"},{"tags":["java","selenium-webdriver","javafx","selenium-remotedriver"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1656261667,"post_id":72762315,"comment_id":128523489,"body_markdown":"Format the stack trace as code rather than quote and it will be easier to read.","body":"Format the stack trace as code rather than quote and it will be easier to read."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1656356499,"post_id":72762315,"comment_id":128547520,"body_markdown":"According to `https://www.selenium.dev/documentation/webdriver/getting_started/install_library/`, it looks like you are using the wrong dependency.","body":"According to <code>https:&#47;&#47;www.selenium.dev&#47;documentation&#47;webdriver&#47;getting_sta&zwnj;&#8203;rted&#47;install_library&zwnj;&#8203;&#47;</code>, it looks like you are using the wrong dependency."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1656356589,"post_id":72762315,"comment_id":128547545,"body_markdown":"try `&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;`","body":"try <code>&lt;dependency&gt;     &lt;groupId&gt;org.seleniumhq.selenium&lt;&#47;groupId&gt;     &lt;artifactId&gt;selenium-java&lt;&#47;artifactId&gt;     &lt;version&gt;4.3.0&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":26395165,"reputation":1,"user_id":20046411,"display_name":"ignatius dullfeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701787205,"creation_date":1663706608,"answer_id":73792439,"question_id":72762315,"body_markdown":"I had the same error with the following maven dependency in IntelliJ:\r\n\r\n```xml\r\n&lt;dependency&gt;     \r\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;     \r\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;     \r\n&lt;version&gt;4.4.0&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nI simply followed the answer from https://stackoverflow.com/questions/69474878/java-16-chromedriver-webdriver-cannot-be-resolved-to-a-type-even-after-following and deleted my `module-info.java` file and it worked.","title":"error org.openqa.selenium.devtools.CdpInfo: module org.seleniumhq.selenium.remote_driver does not declare `uses`","body":"<p>I had the same error with the following maven dependency in IntelliJ:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;     \n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;     \n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;     \n&lt;version&gt;4.4.0&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>I simply followed the answer from <a href=\"https://stackoverflow.com/questions/69474878/java-16-chromedriver-webdriver-cannot-be-resolved-to-a-type-even-after-following\">Java 16 ChromeDriver WebDriver cannot be resolved to a type even after following all the necessary steps</a> and deleted my <code>module-info.java</code> file and it worked.</p>\n"}],"owner":{"account_id":25478019,"reputation":1,"user_id":19402848,"display_name":"Ege BULUT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701787205,"creation_date":1656252746,"question_id":72762315,"body_markdown":"I wanted to create a JavaFX application that uses Selenium for web scraping, but it didn&#39;t go well.\r\n\r\nI can&#39;t find how to solve this error:\r\n\r\n```none\r\norg.openqa.selenium.devtools.CdpInfo: module\r\norg.seleniumhq.selenium.remote_driver does not declare `uses`\r\n```\r\n\r\n(Full project: https://github.com/Ege-BULUT/BrokenApp)\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.ege&lt;/groupId&gt;\r\n    &lt;artifactId&gt;instagramtool&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;instagramtool&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;15.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;15.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;15&lt;/source&gt;\r\n                    &lt;target&gt;15&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.ege.instagramtool/com.ege.instagramtool.HelloApplication&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n    package com.ege.instagramtool;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 600, 400);\r\n            stage.setTitle(&quot;Hi stalker!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**HelloController.java**\r\n\r\n    package com.ege.instagramtool;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class HelloController {\r\n    \r\n        private String username = &quot;&quot;, password = &quot;&quot;, url = &quot;&quot;;\r\n        private WebDriver browser;\r\n    \r\n        @FXML\r\n        private TextField in_username, in_password, in_url;\r\n        @FXML\r\n        private Button btn_insta, btn_search;\r\n        @FXML\r\n        private Label welcomeText;\r\n    \r\n        @FXML\r\n        void onInstaBtnClick(ActionEvent event) {\r\n            browser.get(&quot;https://www.instagram.com/&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        void onSearchBtnClick(ActionEvent event) {\r\n    \r\n        }\r\n    \r\n        @FXML\r\n        public void initialize() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/PROJELER/WebScraping/ChromeDrivers/chromedriver_102.exe&quot;);\r\n            browser = new ChromeDriver();\r\n    \r\n            in_url.setDisable(true);\r\n            btn_insta.setDisable(true);\r\n            btn_search.setDisable(true);\r\n    \r\n            in_username.textProperty().addListener((observable, oldText, newText)-&gt;{\r\n                if(in_username.getText().length()&gt;0){\r\n                    username = in_username.getText();\r\n                    if(!password.isBlank()){\r\n                        btn_insta.setDisable(false);\r\n                    }\r\n                }else{\r\n                    username = &quot;&quot;;\r\n                    btn_insta.setDisable(true);\r\n                }\r\n            });\r\n    \r\n            in_password.textProperty().addListener((observable, oldText, newText)-&gt;{\r\n                if(in_password.getText().length()&gt;0){\r\n                    password = in_password.getText();\r\n                    if(!username.isBlank()){\r\n                        btn_insta.setDisable(false);\r\n                    }\r\n                }else{\r\n                    password = &quot;&quot;;\r\n                    btn_insta.setDisable(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n[Error][2]\r\n\r\n```none\r\n&quot;C:\\Program Files\\Java\\jdk-15\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program\r\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\lib\\idea_rt.jar=55468:C:\\Program\r\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\bin&quot; -Dfile.encoding=UTF-8\r\n-classpath C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service-annotations\\1.0.1\\auto-service-annotations-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service\\1.0.1\\auto-service-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\auto-common\\1.2\\auto-common-1.2.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\izcie\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.11.0\\error_prone_annotations-2.11.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec\\4.1.78.Final\\netty-codec-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler\\4.1.78.Final\\netty-handler-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.78.Final\\netty-transport-native-epoll-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.78.Final\\netty-transport-native-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.78.Final\\netty-resolver-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-exporter-logging\\1.15.0\\opentelemetry-exporter-logging-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-metrics\\1.15.0\\opentelemetry-sdk-metrics-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-logs\\1.15.0-alpha\\opentelemetry-sdk-logs-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client-netty-utils\\2.12.3\\async-http-client-netty-utils-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.60.Final\\netty-codec-socks-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.60.Final\\netty-handler-proxy-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.60.Final\\netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.60.Final\\netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.3\\reactive-streams-1.0.3.jar;C:\\Users\\izcie\\.m2\\repository\\com\\typesafe\\netty\\netty-reactive-streams\\2.0.4\\netty-reactive-streams-2.0.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\izcie\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar\r\n-p C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport\\4.1.78.Final\\netty-transport-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\4.3.0\\selenium-remote-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-kqueue\\4.1.78.Final\\netty-transport-classes-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\4.3.0\\selenium-api-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-http\\4.3.0\\selenium-http-4.3.0.jar;F:\\PROJELER\\instagramtool\\target\\classes;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-trace\\1.15.0\\opentelemetry-sdk-trace-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk\\1.15.0\\opentelemetry-sdk-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.78.Final\\netty-transport-native-unix-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.78.Final\\netty-buffer-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\ous\\jtoml\\2.0.0\\jtoml-2.0.0.jar;C:\\Users\\izcie\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.10\\byte-buddy-1.12.10.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-common\\4.1.78.Final\\netty-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chromium-driver\\4.3.0\\selenium-chromium-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-common\\1.15.0\\opentelemetry-sdk-common-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-api\\1.15.0\\opentelemetry-api-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-json\\4.3.0\\selenium-json-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure\\1.15.0-alpha\\opentelemetry-sdk-extension-autoconfigure-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-semconv\\1.15.0-alpha\\opentelemetry-semconv-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\com\\beust\\jcommander\\1.82\\jcommander-1.82.jar;C:\\Users\\izcie\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.78.Final\\netty-codec-http-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\4.3.0\\selenium-chrome-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client\\2.12.3\\async-http-client-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure-spi\\1.15.0\\opentelemetry-sdk-extension-autoconfigure-spi-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\dev\\failsafe\\failsafe\\3.2.4\\failsafe-3.2.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-context\\1.15.0\\opentelemetry-context-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\guava\\31.1-jre\\guava-31.1-jre.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-epoll\\4.1.78.Final\\netty-transport-classes-epoll-4.1.78.Final.jar\r\n-m com.ege.instagramtool/com.ege.instagramtool.HelloApplication Haz 26, 2022 4:46:35 &#214;S javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 18 by JavaFX\r\nruntime of version 15.0.1 SLF4J: Failed to load class\r\n&quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation\r\n(NOP) logger implementation SLF4J: See\r\nhttp://www.slf4j.org/codes.html#StaticLoggerBinder for further\r\ndetails. Starting ChromeDriver 102.0.5005.61\r\n(0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819})\r\non port 59087 Only local connections are allowed. Please see\r\nhttps://chromedriver.chromium.org/security-considerations for\r\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\r\nsuccessfully. Haz 26, 2022 4:46:36 &#214;S\r\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO:\r\nDetected upstream dialect: W3C Exception in Application start method\r\njava.lang.reflect.InvocationTargetException \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start\r\nmethod \tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) Caused by:\r\njavafx.fxml.LoadException: \r\n/F:/PROJELER/instagramtool/target/classes/com/ege/instagramtool/hello-view.fxml\r\n\r\n\tat\r\njavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517) \tat\r\ncom.ege.instagramtool/com.ege.instagramtool.HelloApplication.start(HelloApplication.java:14)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat\r\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat\r\njavafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat\r\njavafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\r\nMethod) \tat\r\njavafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more Caused by: java.lang.reflect.InvocationTargetException \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\ncom.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76) \tat\r\njdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njavafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat\r\njavafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\r\n\t... 12 more Caused by: java.util.ServiceConfigurationError:\r\norg.openqa.selenium.devtools.CdpInfo: module\r\norg.seleniumhq.selenium.remote_driver does not declare `uses` \tat\r\njava.base/java.util.ServiceLoader.fail(ServiceLoader.java:591) \tat\r\njava.base/java.util.ServiceLoader.checkCaller(ServiceLoader.java:577)\r\n\tat java.base/java.util.ServiceLoader.&lt;init&gt;(ServiceLoader.java:506)\r\n\tat java.base/java.util.ServiceLoader.load(ServiceLoader.java:1648)\r\n\tat\r\norg.seleniumhq.selenium.remote_driver/org.openqa.selenium.devtools.CdpVersionFinder.&lt;init&gt;(CdpVersionFinder.java:44)\r\n\tat\r\norg.seleniumhq.selenium.chromium_driver/org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:118)\r\n\tat\r\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat\r\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat\r\ncom.ege.instagramtool/com.ege.instagramtool.HelloController.initialize(HelloController.java:39)\r\n\t... 23 more Exception running application\r\ncom.ege.instagramtool.HelloApplication\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n  [2]: https://i.stack.imgur.com/vbcHr.png","title":"error org.openqa.selenium.devtools.CdpInfo: module org.seleniumhq.selenium.remote_driver does not declare `uses`","body":"<p>I wanted to create a JavaFX application that uses Selenium for web scraping, but it didn't go well.</p>\n<p>I can't find how to solve this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.openqa.selenium.devtools.CdpInfo: module\norg.seleniumhq.selenium.remote_driver does not declare `uses`\n</code></pre>\n<p>(Full project: <a href=\"https://github.com/Ege-BULUT/BrokenApp\" rel=\"nofollow noreferrer\">https://github.com/Ege-BULUT/BrokenApp</a>)</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ege&lt;/groupId&gt;\n    &lt;artifactId&gt;instagramtool&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;instagramtool&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;15.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;15.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;15&lt;/source&gt;\n                    &lt;target&gt;15&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.ege.instagramtool/com.ege.instagramtool.HelloApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package com.ege.instagramtool;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 600, 400);\n        stage.setTitle(&quot;Hi stalker!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>HelloController.java</strong></p>\n<pre><code>package com.ege.instagramtool;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class HelloController {\n\n    private String username = &quot;&quot;, password = &quot;&quot;, url = &quot;&quot;;\n    private WebDriver browser;\n\n    @FXML\n    private TextField in_username, in_password, in_url;\n    @FXML\n    private Button btn_insta, btn_search;\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    void onInstaBtnClick(ActionEvent event) {\n        browser.get(&quot;https://www.instagram.com/&quot;);\n    }\n\n    @FXML\n    void onSearchBtnClick(ActionEvent event) {\n\n    }\n\n    @FXML\n    public void initialize() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/PROJELER/WebScraping/ChromeDrivers/chromedriver_102.exe&quot;);\n        browser = new ChromeDriver();\n\n        in_url.setDisable(true);\n        btn_insta.setDisable(true);\n        btn_search.setDisable(true);\n\n        in_username.textProperty().addListener((observable, oldText, newText)-&gt;{\n            if(in_username.getText().length()&gt;0){\n                username = in_username.getText();\n                if(!password.isBlank()){\n                    btn_insta.setDisable(false);\n                }\n            }else{\n                username = &quot;&quot;;\n                btn_insta.setDisable(true);\n            }\n        });\n\n        in_password.textProperty().addListener((observable, oldText, newText)-&gt;{\n            if(in_password.getText().length()&gt;0){\n                password = in_password.getText();\n                if(!username.isBlank()){\n                    btn_insta.setDisable(false);\n                }\n            }else{\n                password = &quot;&quot;;\n                btn_insta.setDisable(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbcHr.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-15\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\lib\\idea_rt.jar=55468:C:\\Program\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\bin&quot; -Dfile.encoding=UTF-8\n-classpath C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service-annotations\\1.0.1\\auto-service-annotations-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service\\1.0.1\\auto-service-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\auto-common\\1.2\\auto-common-1.2.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\izcie\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.11.0\\error_prone_annotations-2.11.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec\\4.1.78.Final\\netty-codec-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler\\4.1.78.Final\\netty-handler-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.78.Final\\netty-transport-native-epoll-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.78.Final\\netty-transport-native-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.78.Final\\netty-resolver-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-exporter-logging\\1.15.0\\opentelemetry-exporter-logging-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-metrics\\1.15.0\\opentelemetry-sdk-metrics-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-logs\\1.15.0-alpha\\opentelemetry-sdk-logs-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client-netty-utils\\2.12.3\\async-http-client-netty-utils-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.60.Final\\netty-codec-socks-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.60.Final\\netty-handler-proxy-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.60.Final\\netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.60.Final\\netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.3\\reactive-streams-1.0.3.jar;C:\\Users\\izcie\\.m2\\repository\\com\\typesafe\\netty\\netty-reactive-streams\\2.0.4\\netty-reactive-streams-2.0.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\izcie\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar\n-p C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport\\4.1.78.Final\\netty-transport-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\4.3.0\\selenium-remote-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-kqueue\\4.1.78.Final\\netty-transport-classes-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\4.3.0\\selenium-api-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-http\\4.3.0\\selenium-http-4.3.0.jar;F:\\PROJELER\\instagramtool\\target\\classes;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-trace\\1.15.0\\opentelemetry-sdk-trace-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk\\1.15.0\\opentelemetry-sdk-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.78.Final\\netty-transport-native-unix-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.78.Final\\netty-buffer-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\ous\\jtoml\\2.0.0\\jtoml-2.0.0.jar;C:\\Users\\izcie\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.10\\byte-buddy-1.12.10.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-common\\4.1.78.Final\\netty-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chromium-driver\\4.3.0\\selenium-chromium-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-common\\1.15.0\\opentelemetry-sdk-common-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-api\\1.15.0\\opentelemetry-api-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-json\\4.3.0\\selenium-json-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure\\1.15.0-alpha\\opentelemetry-sdk-extension-autoconfigure-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-semconv\\1.15.0-alpha\\opentelemetry-semconv-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\com\\beust\\jcommander\\1.82\\jcommander-1.82.jar;C:\\Users\\izcie\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.78.Final\\netty-codec-http-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\4.3.0\\selenium-chrome-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client\\2.12.3\\async-http-client-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure-spi\\1.15.0\\opentelemetry-sdk-extension-autoconfigure-spi-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\dev\\failsafe\\failsafe\\3.2.4\\failsafe-3.2.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-context\\1.15.0\\opentelemetry-context-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\guava\\31.1-jre\\guava-31.1-jre.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-epoll\\4.1.78.Final\\netty-transport-classes-epoll-4.1.78.Final.jar\n-m com.ege.instagramtool/com.ege.instagramtool.HelloApplication Haz 26, 2022 4:46:35 ÖS javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 18 by JavaFX\nruntime of version 15.0.1 SLF4J: Failed to load class\n&quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation\n(NOP) logger implementation SLF4J: See\nhttp://www.slf4j.org/codes.html#StaticLoggerBinder for further\ndetails. Starting ChromeDriver 102.0.5005.61\n(0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819})\non port 59087 Only local connections are allowed. Please see\nhttps://chromedriver.chromium.org/security-considerations for\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\nsuccessfully. Haz 26, 2022 4:46:36 ÖS\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO:\nDetected upstream dialect: W3C Exception in Application start method\njava.lang.reflect.InvocationTargetException     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start\nmethod  at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:832) Caused by:\njavafx.fxml.LoadException: \n/F:/PROJELER/instagramtool/target/classes/com/ege/instagramtool/hello-view.fxml\n\n    at\njavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517)    at\ncom.ege.instagramtool/com.ege.instagramtool.HelloApplication.start(HelloApplication.java:14)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at\njavafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at\njavafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\nMethod)     at\njavafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more Caused by: java.lang.reflect.InvocationTargetException   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\ncom.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)    at\njdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njavafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at\njavafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\n    ... 12 more Caused by: java.util.ServiceConfigurationError:\norg.openqa.selenium.devtools.CdpInfo: module\norg.seleniumhq.selenium.remote_driver does not declare `uses`   at\njava.base/java.util.ServiceLoader.fail(ServiceLoader.java:591)  at\njava.base/java.util.ServiceLoader.checkCaller(ServiceLoader.java:577)\n    at java.base/java.util.ServiceLoader.&lt;init&gt;(ServiceLoader.java:506)\n    at java.base/java.util.ServiceLoader.load(ServiceLoader.java:1648)\n    at\norg.seleniumhq.selenium.remote_driver/org.openqa.selenium.devtools.CdpVersionFinder.&lt;init&gt;(CdpVersionFinder.java:44)\n    at\norg.seleniumhq.selenium.chromium_driver/org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:118)\n    at\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at\ncom.ege.instagramtool/com.ege.instagramtool.HelloController.initialize(HelloController.java:39)\n    ... 23 more Exception running application\ncom.ege.instagramtool.HelloApplication\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":26379240,"reputation":11,"user_id":22565582,"display_name":"Ludo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701787192,"creation_date":1701787192,"question_id":77607060,"body_markdown":"I am sending my remaining request as follows: \r\n\r\n```\r\nString url = getSendBaseUrl() + &quot;/path1/?jsonFile={jsonFile}&quot;;\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.add(&quot;creationDate&quot;, &quot;05.06.2023&quot;);\r\n\r\n            Map&lt;String, String&gt; urlParameters = new HashMap&lt;&gt;();\r\n            String jsonFileString= JSON.toJSONString(message.getJson());\r\n            urlParameters.put(&quot;jsonFile&quot;, jsonFileString);\r\n\r\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            ResponseEntity&lt;Map&gt; responseEntity = restTemplate.postForEntity(url, requestEntity, Map.class, urlParameters);\r\n```\r\n\r\n\r\nI can display the header and body of the ResponseEntity, but not the query parameters. \r\nHow can I display the entire URL here? ","title":"Java Get URL with Parameters from Springboot RestTemplate","body":"<p>I am sending my remaining request as follows:</p>\n<pre><code>String url = getSendBaseUrl() + &quot;/path1/?jsonFile={jsonFile}&quot;;\n\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_JSON);\n            headers.add(&quot;creationDate&quot;, &quot;05.06.2023&quot;);\n\n            Map&lt;String, String&gt; urlParameters = new HashMap&lt;&gt;();\n            String jsonFileString= JSON.toJSONString(message.getJson());\n            urlParameters.put(&quot;jsonFile&quot;, jsonFileString);\n\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n\n            RestTemplate restTemplate = new RestTemplate();\n\n            ResponseEntity&lt;Map&gt; responseEntity = restTemplate.postForEntity(url, requestEntity, Map.class, urlParameters);\n</code></pre>\n<p>I can display the header and body of the ResponseEntity, but not the query parameters.\nHow can I display the entire URL here?</p>\n"},{"tags":["java","selenium-webdriver","popup"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701802109,"post_id":77607008,"comment_id":136819717,"body_markdown":"You should include the markup (right-click on the popup, and choose, &quot;Inspect&quot;, copy the markup shown there... it&#39;s probably a DIV) and the code you&#39;ve tried.","body":"You should include the markup (right-click on the popup, and choose, &quot;Inspect&quot;, copy the markup shown there... it&#39;s probably a DIV) and the code you&#39;ve tried."},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1701805443,"post_id":77607008,"comment_id":136820227,"body_markdown":"It’s a kind of a windows form, there are many buttons and texts and even a table in the popup. None of them is found on Chrome. On Explorer it works. Even the iframe which wraps the whole popup is not found.","body":"It’s a kind of a windows form, there are many buttons and texts and even a table in the popup. None of them is found on Chrome. On Explorer it works. Even the iframe which wraps the whole popup is not found."}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701786744,"creation_date":1701786744,"question_id":77607008,"body_markdown":"I&#39;m trying to find elements and click on them in my company&#39;s website. It happens while there is an opened popup, and a second popup is opened over the first one.\r\nIt works on Explorer browser, where I implemented a way to identify if there is a new window handle opens and switch to it, and when I&#39;m done with the popup, I switch back to previous window.\r\nHowever, recently we moved to Chrome, and my tests fail when there is a popup within popup.\r\nI also noticed that on Chrome, I don&#39;t need to identify window handles, because when I open popup, I&#39;m able to identify elements, and there is only the main window handle available.\r\nBut on this scenario, where I have a second popup on I can&#39;t reach the elements on it, nor frames.\r\nWhat should I do? Tried everything possible.\r\nAnother thing - the popups can be dragged along the website, except for the first one, when there is a second one on.\r\n\r\n\r\n","title":"Can&#39;t find elements on second popup using Chrome","body":"<p>I'm trying to find elements and click on them in my company's website. It happens while there is an opened popup, and a second popup is opened over the first one.\nIt works on Explorer browser, where I implemented a way to identify if there is a new window handle opens and switch to it, and when I'm done with the popup, I switch back to previous window.\nHowever, recently we moved to Chrome, and my tests fail when there is a popup within popup.\nI also noticed that on Chrome, I don't need to identify window handles, because when I open popup, I'm able to identify elements, and there is only the main window handle available.\nBut on this scenario, where I have a second popup on I can't reach the elements on it, nor frames.\nWhat should I do? Tried everything possible.\nAnother thing - the popups can be dragged along the website, except for the first one, when there is a second one on.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1701101086,"post_id":77557150,"comment_id":136730308,"body_markdown":"1) Don&#39;t use a util.Timer. Instead use javax.swing.Timer. All updates to Swing components should be done on the Event Dispatch Thread (EDT). The Swing Timer invokes code on the EDT. 2) No need for any of the update/validate methods. The setIcon(...) method of the label will automatically invoke revalidate() and repaint().  3) Instead of using a Timer, maybe use a SwingWorker to handle the packet data. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information and examples. 4) Post an [mre] demonstrating the problem.","body":"1) Don&#39;t use a util.Timer. Instead use javax.swing.Timer. All updates to Swing components should be done on the Event Dispatch Thread (EDT). The Swing Timer invokes code on the EDT. 2) No need for any of the update/validate methods. The setIcon(...) method of the label will automatically invoke revalidate() and repaint().  3) Instead of using a Timer, maybe use a SwingWorker to handle the packet data. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information and examples. 4) Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701166053,"post_id":77557150,"comment_id":136738743,"body_markdown":"Thank you for the above comments. Referring to them: 1) I am using javax.swing.Timer. 3) To receive packets, I use a separate UDP listener in a class that extends Thread, and the GUI updating method is called from it (another table with packets is always updated correctly in the GUI). The timer is only used to flash the LED indicator for a DELAY period. 4) The application is very extensive and has many classes, and the GUI implementation is about half a thousand lines long, so I don&#39;t know what part of the code would be useful.","body":"Thank you for the above comments. Referring to them: 1) I am using javax.swing.Timer. 3) To receive packets, I use a separate UDP listener in a class that extends Thread, and the GUI updating method is called from it (another table with packets is always updated correctly in the GUI). The timer is only used to flash the LED indicator for a DELAY period. 4) The application is very extensive and has many classes, and the GUI implementation is about half a thousand lines long, so I don&#39;t know what part of the code would be useful."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701261313,"post_id":77557150,"comment_id":136753292,"body_markdown":"@camickr I have added a small update to the information.","body":"@camickr I have added a small update to the information."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1701261842,"post_id":77557150,"comment_id":136753380,"body_markdown":"When you&#39;re using a swing time you don&#39;t need to `EventQueue.invokeLater` as it&#39;s already on the EventQueue. Although it puts it at the end of the queue if you need something like that. Can you make a single JFrame with a JLabel and ImageIcon and reproduce your example?","body":"When you&#39;re using a swing time you don&#39;t need to <code>EventQueue.invokeLater</code> as it&#39;s already on the EventQueue. Although it puts it at the end of the queue if you need something like that. Can you make a single JFrame with a JLabel and ImageIcon and reproduce your example?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701270566,"post_id":77557150,"comment_id":136755253,"body_markdown":"*The problem with refreshing is therefore when setting ENABLE_LED in the receivedPacket() method.* - because you always restart the Timer in that method so when the Timer fires it will become disabled.","body":"<i>The problem with refreshing is therefore when setting ENABLE_LED in the receivedPacket() method.</i> - because you always restart the Timer in that method so when the Timer fires it will become disabled."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701338785,"post_id":77557150,"comment_id":136764241,"body_markdown":"@camickr Above, I added the missing `setRepeats(false)` command during initialization, that occurs in my application. It seems to me that the Timer mechanism is correct, because if the cursor is within the window, everything works fine.","body":"@camickr Above, I added the missing <code>setRepeats(false)</code> command during initialization, that occurs in my application. It seems to me that the Timer mechanism is correct, because if the cursor is within the window, everything works fine."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701360103,"post_id":77557150,"comment_id":136768399,"body_markdown":"I have never had an issue updating an Icon using a Swing Timer whether the mouse is in the window or not. See: [Animated Icon](https://tips4java.wordpress.com/2009/06/21/animated-icon/) for a working example. I use Windows, don&#39;t know if OS platform causes issues. Once again post an [mre] if you need more help. Your real application logic is irrelevant to the stated problem. You just need a simple way to toggle icons.","body":"I have never had an issue updating an Icon using a Swing Timer whether the mouse is in the window or not. See: <a href=\"https://tips4java.wordpress.com/2009/06/21/animated-icon/\" rel=\"nofollow noreferrer\">Animated Icon</a> for a working example. I use Windows, don&#39;t know if OS platform causes issues. Once again post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help. Your real application logic is irrelevant to the stated problem. You just need a simple way to toggle icons."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701694993,"post_id":77557150,"comment_id":136803681,"body_markdown":"@camickr I have added an update to the information including that there is no problem on Windows.","body":"@camickr I have added an update to the information including that there is no problem on Windows."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701701902,"post_id":77557150,"comment_id":136805115,"body_markdown":"(1-) You still haven&#39;t posted an [mre]. Did you test my code on Linux? How do you know if the problem is Linux or your code?","body":"(1-) You still haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Did you test my code on Linux? How do you know if the problem is Linux or your code?"},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701779362,"post_id":77557150,"comment_id":136815345,"body_markdown":"@camickr Yes, I tested your code on Linux and it works without errors. I&#39;m not sure, the reason for my errors is the Linux system itself, but on Windows there are simply no errors, but on Linux there are - I wrote this as a hint. Maybe Linux has other threading mechanisms, including GUI threading? I have updated the post above.","body":"@camickr Yes, I tested your code on Linux and it works without errors. I&#39;m not sure, the reason for my errors is the Linux system itself, but on Windows there are simply no errors, but on Linux there are - I wrote this as a hint. Maybe Linux has other threading mechanisms, including GUI threading? I have updated the post above."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701781640,"post_id":77557150,"comment_id":136815746,"body_markdown":"Yes, windows and linux handle things differently. If Camickr&#39;s example works fine, but yours fails, then I suspect you could fix your code. The best way would be to post a minimal reproducible example.","body":"Yes, windows and linux handle things differently. If Camickr&#39;s example works fine, but yours fails, then I suspect you could fix your code. The best way would be to post a minimal reproducible example."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701881236,"post_id":77557150,"comment_id":136830549,"body_markdown":"The example you&#39;re suggesting has a complete compilable example. Their example becomes choppy and slow Also, did you try adding `-Dsun.java2d.opengl=True` when you run your program?","body":"The example you&#39;re suggesting has a complete compilable example. Their example becomes choppy and slow Also, did you try adding <code>-Dsun.java2d.opengl=True</code> when you run your program?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701882525,"post_id":77557150,"comment_id":136830776,"body_markdown":"I added an answer to that question, because if I use a JLabel with an ImageIcon it becomes much smoother. Which is odd to say the least.","body":"I added an answer to that question, because if I use a JLabel with an ImageIcon it becomes much smoother. Which is odd to say the least."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701950422,"post_id":77557150,"comment_id":136839597,"body_markdown":"@matt _did you try adding -Dsun.java2d.opengl=True_ - I just tried this (in two ways - when running in the console and as a `setProperty` in the code) and it didn&#39;t help. It doesn&#39;t matter whether I update this LED light or, for example, deactivate/activate another button in the GUI in the place in the code where this LED is enabled - the problem is the same. There is no problem only if I update the table data in its model when receiving the packets. I will try to extract a piece of code from the application that will illustrate this more clearly.","body":"@matt <i>did you try adding -Dsun.java2d.opengl=True</i> - I just tried this (in two ways - when running in the console and as a <code>setProperty</code> in the code) and it didn&#39;t help. It doesn&#39;t matter whether I update this LED light or, for example, deactivate/activate another button in the GUI in the place in the code where this LED is enabled - the problem is the same. There is no problem only if I update the table data in its model when receiving the packets. I will try to extract a piece of code from the application that will illustrate this more clearly."}],"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701786636,"creation_date":1701090551,"question_id":77557150,"body_markdown":"I have an application written in Swing that receives data packets and then in the GUI signals the reception of each packet (e.g. every second) using an indicator (light) that changes its color. The indicator is implemented as a `JLabel`, and its color is changed by replacing the icon with the `setIcon(Icon icon)` method.\r\nPacket reception is done from another thread (I don&#39;t know if it matters) and I use the standard `invokeLater` mechanism to update the GUI.\r\n\r\nIndicator has two states: ENABLE_LED and DISABLE_LED, and the display time of a given state is determined by the DELAY of the timer which is reset after each received packet.\r\n\r\nWhile receiving packets, I noticed a problem with refreshing the indicator in GUI **if I drag the mouse cursor outside the application window area**. In this case, usually there is correct signalling for a few seconds but later the indicator are not refreshing (other GUI components refresh correctly). After moving the mouse over the application window area again (without clicking), the indicator starts refreshing properly.\r\n\r\nI have tried various methods to force a refresh of the `JPanel` object, that contains the modified `JLabel` added to it using `addComponent()`, but none of the methods below fixed the problem.\r\n\r\n```java\r\nprivate void initTimer() {\r\n  receiveTimer = new Timer(DELAY, (ActionEvent ae) -&gt; {\r\n    EventQueue.invokeLater(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        receiveLabel.setIcon(DISABLE_LED);\r\n    \r\n        // Test use of refresh methods (one or several at the same time)\r\n        receivePanel.updateUI();\r\n        receivePanel.validate();\r\n        receivePanel.revalidate();\r\n        receivePanel.repaint();\r\n      }\r\n    });\r\n  });\r\n  receiveTimer.setRepeats(false);\r\n}\r\n```\r\n\r\n```java\r\npublic static void receivedPacket() {\r\n  receiveTimer.restart();\r\n\r\n  EventQueue.invokeLater(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n      receiveLabel.setIcon(ENABLE_LED);\r\n  \r\n      // Test use of refresh methods (one or several at the same time)\r\n      receivePanel.updateUI();\r\n      receivePanel.validate();\r\n      receivePanel.revalidate();\r\n      receivePanel.repaint();\r\n    }\r\n  });\r\n}\r\n```\r\n\r\nPlease give me a hint on how to solve this problem.\r\n\r\nPlease also explain why GUI refreshing may depend in any way on whether the mouse cursor is within the application window or not?\r\n\r\n**UPDATE:**\r\n\r\nWhen refreshing is stopped, the LED is always turned off (DISABLE_LED state set by the Timer). The problem with refreshing is therefore when setting ENABLE_LED in the `receivedPacket()` method.\r\n\r\nSubsequent tests showed that the LED light in the GUI does not refresh not only when the cursor is outside the application window, but also when it is moved into the application area and remains motionless for, for example, 5 seconds. Then, for example, moving the cursor, covering the application window with another window or dragging the application window to another place causes refreshing to resume. The problem occurs when I run the application on Linux (Mint 18 or CentOS), but **on Windows there is no such problem**.\r\n\r\nIt seems to me that Linux may divide thread handling in a different way, and the refreshing of some elements in the GUI sometimes becomes frozen until, for example, the cursor is moved in the application window area. I receive packets in a different thread every second and at the same time the LED light should light up for 0.3 seconds. In turn, the table that displays packets received in the same thread (via updates to its model) always updates correctly.\r\n\r\nI think the problem is similar to: [Why does my custom Swing component repaint faster when I move the mouse? (Java)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java?rq=2","title":"The Swing window stops updating on Linux when there is no user action in GUI","body":"<p>I have an application written in Swing that receives data packets and then in the GUI signals the reception of each packet (e.g. every second) using an indicator (light) that changes its color. The indicator is implemented as a <code>JLabel</code>, and its color is changed by replacing the icon with the <code>setIcon(Icon icon)</code> method.\nPacket reception is done from another thread (I don't know if it matters) and I use the standard <code>invokeLater</code> mechanism to update the GUI.</p>\n<p>Indicator has two states: ENABLE_LED and DISABLE_LED, and the display time of a given state is determined by the DELAY of the timer which is reset after each received packet.</p>\n<p>While receiving packets, I noticed a problem with refreshing the indicator in GUI <strong>if I drag the mouse cursor outside the application window area</strong>. In this case, usually there is correct signalling for a few seconds but later the indicator are not refreshing (other GUI components refresh correctly). After moving the mouse over the application window area again (without clicking), the indicator starts refreshing properly.</p>\n<p>I have tried various methods to force a refresh of the <code>JPanel</code> object, that contains the modified <code>JLabel</code> added to it using <code>addComponent()</code>, but none of the methods below fixed the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initTimer() {\n  receiveTimer = new Timer(DELAY, (ActionEvent ae) -&gt; {\n    EventQueue.invokeLater(new Runnable() {\n      @Override\n      public void run() {\n        receiveLabel.setIcon(DISABLE_LED);\n    \n        // Test use of refresh methods (one or several at the same time)\n        receivePanel.updateUI();\n        receivePanel.validate();\n        receivePanel.revalidate();\n        receivePanel.repaint();\n      }\n    });\n  });\n  receiveTimer.setRepeats(false);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void receivedPacket() {\n  receiveTimer.restart();\n\n  EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n      receiveLabel.setIcon(ENABLE_LED);\n  \n      // Test use of refresh methods (one or several at the same time)\n      receivePanel.updateUI();\n      receivePanel.validate();\n      receivePanel.revalidate();\n      receivePanel.repaint();\n    }\n  });\n}\n</code></pre>\n<p>Please give me a hint on how to solve this problem.</p>\n<p>Please also explain why GUI refreshing may depend in any way on whether the mouse cursor is within the application window or not?</p>\n<p><strong>UPDATE:</strong></p>\n<p>When refreshing is stopped, the LED is always turned off (DISABLE_LED state set by the Timer). The problem with refreshing is therefore when setting ENABLE_LED in the <code>receivedPacket()</code> method.</p>\n<p>Subsequent tests showed that the LED light in the GUI does not refresh not only when the cursor is outside the application window, but also when it is moved into the application area and remains motionless for, for example, 5 seconds. Then, for example, moving the cursor, covering the application window with another window or dragging the application window to another place causes refreshing to resume. The problem occurs when I run the application on Linux (Mint 18 or CentOS), but <strong>on Windows there is no such problem</strong>.</p>\n<p>It seems to me that Linux may divide thread handling in a different way, and the refreshing of some elements in the GUI sometimes becomes frozen until, for example, the cursor is moved in the application window area. I receive packets in a different thread every second and at the same time the LED light should light up for 0.3 seconds. In turn, the table that displays packets received in the same thread (via updates to its model) always updates correctly.</p>\n<p>I think the problem is similar to: <a href=\"https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java?rq=2\">Why does my custom Swing component repaint faster when I move the mouse? (Java)</a></p>\n"},{"tags":["java","aws-lambda","aws-api-gateway","aws-cdk"],"comments":[{"owner":{"account_id":21554489,"reputation":366,"user_id":15890006,"display_name":"Stark"},"score":0,"creation_date":1701438584,"post_id":76583718,"comment_id":136778870,"body_markdown":"Have you managed to improve it?","body":"Have you managed to improve it?"},{"owner":{"account_id":28920753,"reputation":21,"user_id":22151766,"display_name":"cbjork"},"score":0,"creation_date":1701439903,"post_id":76583718,"comment_id":136779123,"body_markdown":"No, SnapStart is for sure enabled and I am still facing 2s-3s cold start times for the function.","body":"No, SnapStart is for sure enabled and I am still facing 2s-3s cold start times for the function."}],"owner":{"account_id":28920753,"reputation":21,"user_id":22151766,"display_name":"cbjork"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701786615,"creation_date":1688062998,"question_id":76583718,"body_markdown":"I am trying to orchestrate Lambda&#39;s using the Java 11 (or 17) AWS CDK. Lambda has serious issues with JVM compilation and cold starts, so I have been looking into using the newer SnapStart feature offered by AWS. The CDK pushes the CloudFormation stack with SnapStart components included, a new version of the Lambda, and an Alias for the version. These are all necessary requirements for SnapStart.\r\n\r\n**CDK Lambda Creation w/ SnapStart Config &amp; Alias**\r\n\r\n```\r\n       //Lambda Function\r\n        String lambdaHandlerName = &quot;com.handlers.lambdaHandler::handleRequest&quot;;\r\n        IRole role5 = Role.fromRoleName(this, &quot;Lambda&quot;, &quot;LambdaRole&quot;);\r\n\r\n        Function lambdaFunction = new Function(this, &quot;lambdaFunction&quot;, getLambdaFunctionProps(lambdaEnvMap, lambdaHandlerName, role5, &quot;lambdaHandler&quot;));\r\n        dynamoTable.grantReadData(lambdaFunction);\r\n\r\n        //SnapStart Config\r\n        lambdaFunction.getCurrentVersion().addAlias(&quot;snap&quot;, AliasOptions.builder()\r\n                .description(&quot;Alias version for snap resources&quot;)\r\n                .build());\r\n        CfnFunction lambdaCfnFunction = (CfnFunction) lambdaCfnFunction.getNode().getDefaultChild();\r\n        lambdaCfnFunction.setSnapStart(CfnFunction.SnapStartProperty.builder()\r\n                .applyOn(&quot;PublishedVersions&quot;)\r\n                .build());\r\n```\r\n\r\nWithin the AWS Console itself, it appears SnapStart is enabled for the base function set to &quot;PublishedVersions&quot;.\r\n\r\n[SnapStart enabled on base function](https://i.stack.imgur.com/S1r0t.png)\r\n\r\n\r\nAnd when I look at my most recently published version, I find that it too has SnapStart enabled.\r\n\r\n[SnapStart enabled on Version](https://i.stack.imgur.com/nU1Ao.png)\r\n\r\nBut when I invoke my Lambda function through API Gateway (which is configured to the correct version of Lambda), SnapStart does not seem to be working for the function and my cold start times are still ~2s.\r\n\r\nI have also tried implementing runtime hooks, suggested by AWS for SnapStart to the Lambda function handler itself:\r\n\r\n**Handler Runtime Hooks for SnapStart**\r\n\r\n```\r\n   public GetAllQuotesHandler() {\r\n        Core.getGlobalContext().register(this);\r\n    }\r\n\r\n    @Override\r\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context) {\r\n      ...\r\n    }\r\n\r\n    \r\n    @Override\r\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        this.dynamoDb.close();\r\n        System.out.println(&quot;Before&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        System.out.println(&quot;After&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am not sure what is wrong with my configuration, any advice?\r\n\r\nI am expecting AWS Lambda to engage SnapStart and invoke my Lambda function without cold starts.","title":"AWS SnapStart For Java Lambda Using AWS CDK","body":"<p>I am trying to orchestrate Lambda's using the Java 11 (or 17) AWS CDK. Lambda has serious issues with JVM compilation and cold starts, so I have been looking into using the newer SnapStart feature offered by AWS. The CDK pushes the CloudFormation stack with SnapStart components included, a new version of the Lambda, and an Alias for the version. These are all necessary requirements for SnapStart.</p>\n<p><strong>CDK Lambda Creation w/ SnapStart Config &amp; Alias</strong></p>\n<pre><code>       //Lambda Function\n        String lambdaHandlerName = &quot;com.handlers.lambdaHandler::handleRequest&quot;;\n        IRole role5 = Role.fromRoleName(this, &quot;Lambda&quot;, &quot;LambdaRole&quot;);\n\n        Function lambdaFunction = new Function(this, &quot;lambdaFunction&quot;, getLambdaFunctionProps(lambdaEnvMap, lambdaHandlerName, role5, &quot;lambdaHandler&quot;));\n        dynamoTable.grantReadData(lambdaFunction);\n\n        //SnapStart Config\n        lambdaFunction.getCurrentVersion().addAlias(&quot;snap&quot;, AliasOptions.builder()\n                .description(&quot;Alias version for snap resources&quot;)\n                .build());\n        CfnFunction lambdaCfnFunction = (CfnFunction) lambdaCfnFunction.getNode().getDefaultChild();\n        lambdaCfnFunction.setSnapStart(CfnFunction.SnapStartProperty.builder()\n                .applyOn(&quot;PublishedVersions&quot;)\n                .build());\n</code></pre>\n<p>Within the AWS Console itself, it appears SnapStart is enabled for the base function set to &quot;PublishedVersions&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/S1r0t.png\" rel=\"nofollow noreferrer\">SnapStart enabled on base function</a></p>\n<p>And when I look at my most recently published version, I find that it too has SnapStart enabled.</p>\n<p><a href=\"https://i.stack.imgur.com/nU1Ao.png\" rel=\"nofollow noreferrer\">SnapStart enabled on Version</a></p>\n<p>But when I invoke my Lambda function through API Gateway (which is configured to the correct version of Lambda), SnapStart does not seem to be working for the function and my cold start times are still ~2s.</p>\n<p>I have also tried implementing runtime hooks, suggested by AWS for SnapStart to the Lambda function handler itself:</p>\n<p><strong>Handler Runtime Hooks for SnapStart</strong></p>\n<pre><code>   public GetAllQuotesHandler() {\n        Core.getGlobalContext().register(this);\n    }\n\n    @Override\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context) {\n      ...\n    }\n\n    \n    @Override\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        this.dynamoDb.close();\n        System.out.println(&quot;Before&quot;);\n    }\n\n    @Override\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        System.out.println(&quot;After&quot;);\n    }\n}\n</code></pre>\n<p>I am not sure what is wrong with my configuration, any advice?</p>\n<p>I am expecting AWS Lambda to engage SnapStart and invoke my Lambda function without cold starts.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":10160160,"reputation":2213,"user_id":7503887,"display_name":"phentnil"},"score":0,"creation_date":1646936773,"post_id":71427323,"comment_id":126253209,"body_markdown":"If you resolved your own problem, please don&#39;t edit your question with the solution. Take the solution information and create an answer so that others may see how they can resolve the same problem. Then mark your answer as accepted.","body":"If you resolved your own problem, please don&#39;t edit your question with the solution. Take the solution information and create an answer so that others may see how they can resolve the same problem. Then mark your answer as accepted."},{"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"score":1,"creation_date":1646981521,"post_id":71427323,"comment_id":126262381,"body_markdown":"@phentnil Thank you for the tip. As you can see, I&#39;m new here and I didn&#39;t no that.","body":"@phentnil Thank you for the tip. As you can see, I&#39;m new here and I didn&#39;t no that."}],"answers":[{"tags":[],"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1646981277,"creation_date":1646981277,"answer_id":71434608,"question_id":71427323,"body_markdown":"**Solved:**\r\n\r\nAfter trying some other solutions I figured out that I didn&#39;t delete proxies in ```gradle-wrapper.properties```. That was preventing my project from downloading dependencies.","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p><strong>Solved:</strong></p>\n<p>After trying some other solutions I figured out that I didn't delete proxies in <code>gradle-wrapper.properties</code>. That was preventing my project from downloading dependencies.</p>\n"},{"tags":[],"owner":{"account_id":23438330,"reputation":1,"user_id":17496148,"display_name":"Bhagyashri Tamrakar "},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1648359111,"creation_date":1648359111,"answer_id":71633928,"question_id":71427323,"body_markdown":"go tp setting -&gt; then Plugins -&gt; in plugins -&gt; then click on three dot -&gt; then Enable all downloaded plugins\r\n\r\nTry this it will definitely work.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bt4kt.jpg","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>go tp setting -&gt; then Plugins -&gt; in plugins -&gt; then click on three dot -&gt; then Enable all downloaded plugins</p>\n<p>Try this it will definitely work.\n<a href=\"https://i.stack.imgur.com/Bt4kt.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"display_name":"user14349738"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649339524,"creation_date":1649339524,"answer_id":71783439,"question_id":71427323,"body_markdown":"I faced the same problem when I intentionally updated to gradle 7.1.3 today, I just restarted the android studio and changed the gradle version to 7.1.2 and it worked. ","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>I faced the same problem when I intentionally updated to gradle 7.1.3 today, I just restarted the android studio and changed the gradle version to 7.1.2 and it worked.</p>\n"},{"tags":[],"owner":{"account_id":26507553,"reputation":29,"user_id":20143467,"display_name":"Yahya Rh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685131963,"creation_date":1664719436,"answer_id":73926446,"question_id":71427323,"body_markdown":"That happen with the newer gradle versions, Go to Settings -&gt; Plugins -&gt; settings -&gt; HTTP proxy settings then switch it to (auto detect proxy settings) then save and sync the project, that will solve the problem.\r\n\r\nCheck the images below for quick help\r\n\r\n\r\n  ![](https://i.stack.imgur.com/BSCHA.jpg)\r\n\r\n  ![](https://i.stack.imgur.com/g4CEO.png)","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>That happen with the newer gradle versions, Go to Settings -&gt; Plugins -&gt; settings -&gt; HTTP proxy settings then switch it to (auto detect proxy settings) then save and sync the project, that will solve the problem.</p>\n<p>Check the images below for quick help</p>\n<p><img src=\"https://i.stack.imgur.com/BSCHA.jpg\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/g4CEO.png\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":6963114,"reputation":151,"user_id":5341991,"display_name":"Ali Najaphi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667372881,"creation_date":1667372881,"answer_id":74285500,"question_id":71427323,"body_markdown":"Disconnect the VPN, close and then open Android Studio\r\nIf you are in Iran or the Netherlands, be sure to use the American or British VPN","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>Disconnect the VPN, close and then open Android Studio\nIf you are in Iran or the Netherlands, be sure to use the American or British VPN</p>\n"},{"tags":[],"owner":{"account_id":5616760,"reputation":421,"user_id":4447803,"accept_rate":67,"display_name":"Android Dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680109067,"creation_date":1680109067,"answer_id":75880086,"question_id":71427323,"body_markdown":"First update the AndroidStudio, SDK and Plugins to latest.\r\n\r\nthen In Gradle.properties(**Global properties**) disable/Comment the below mentioned code. \r\n\r\n    systemProp.http.proxyHost=192.3.2.1\r\n    systemProp.http.proxyPort=8088\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n    }\r\n\r\nfinally sync project with gradle files. Issue will be fixed.\r\n","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>First update the AndroidStudio, SDK and Plugins to latest.</p>\n<p>then In Gradle.properties(<strong>Global properties</strong>) disable/Comment the below mentioned code.</p>\n<pre><code>systemProp.http.proxyHost=192.3.2.1\nsystemProp.http.proxyPort=8088\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n<p>finally sync project with gradle files. Issue will be fixed.</p>\n"},{"tags":[],"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693915138,"creation_date":1693915138,"answer_id":77044314,"question_id":71427323,"body_markdown":"This fixed it for me as my company thinks it&#39;s cute to use their own certificates as a MitM.\r\n\r\nAfter adding the certificate in *File - Settings - Tools - Server Certificates*, add something similar to this in your `gradle.properties`:\r\n\r\n    -Djavax.net.ssl.trustStore=&quot;/path/to/android-studio/jre/lib/security/cacerts&quot; -Djavax.net.ssl.trustStorePassword=&quot;yourPassHere&quot;","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>This fixed it for me as my company thinks it's cute to use their own certificates as a MitM.</p>\n<p>After adding the certificate in <em>File - Settings - Tools - Server Certificates</em>, add something similar to this in your <code>gradle.properties</code>:</p>\n<pre><code>-Djavax.net.ssl.trustStore=&quot;/path/to/android-studio/jre/lib/security/cacerts&quot; -Djavax.net.ssl.trustStorePassword=&quot;yourPassHere&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26502980,"reputation":31,"user_id":20139605,"display_name":"Mahmoud Ibrahim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701786533,"creation_date":1701786533,"answer_id":77606987,"question_id":71427323,"body_markdown":"The problem happens because there&#39;s something wrong with the downloading. You may check your internet connection, your proxy settings, the VPN you&#39;re using, or disable &#39;offline mode&#39; in Gradle -which was the case for me- and that should work for you.\r\n\r\nHere&#39;s the solution for my case:\r\n[![instructions to disable gradle offline mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0XF3s.png\r\n\r\n\r\n\r\n 1. Open the gradle menu at the top right (number 1 in the image).\r\n 2. Disable offline mode (just let the button be the same as the image).\r\n\r\nThis is NOT a step, it&#39;s just to differentiate the enabled button from the disabled one. The button indicated by number 3 in the image is enabled, while the one indicated by number 2 is disabled.\r\n\r\nThis might not be your case, so make sure you have a proper internet connection and there&#39;s nothing blocking it. \r\n\r\nI hope this helps you.","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>The problem happens because there's something wrong with the downloading. You may check your internet connection, your proxy settings, the VPN you're using, or disable 'offline mode' in Gradle -which was the case for me- and that should work for you.</p>\n<p>Here's the solution for my case:\n<a href=\"https://i.stack.imgur.com/0XF3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0XF3s.png\" alt=\"instructions to disable gradle offline mode\" /></a></p>\n<ol>\n<li>Open the gradle menu at the top right (number 1 in the image).</li>\n<li>Disable offline mode (just let the button be the same as the image).</li>\n</ol>\n<p>This is NOT a step, it's just to differentiate the enabled button from the disabled one. The button indicated by number 3 in the image is enabled, while the one indicated by number 2 is disabled.</p>\n<p>This might not be your case, so make sure you have a proper internet connection and there's nothing blocking it.</p>\n<p>I hope this helps you.</p>\n"}],"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24266,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":71434608,"answer_count":8,"score":9,"last_activity_date":1701786533,"creation_date":1646928720,"question_id":71427323,"body_markdown":"I have upgraded my Android Studio and after that I&#39;m facing this error:\r\n```\r\nGradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:\r\n\t\t\t\t- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n\t\t\t\t- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.1.2&#39;)\r\n\t\t\t\tSearched in the following repositories:\r\n\t\t\t\tGradle Central Plugin Repository\r\n\t\t\t\tGoogle\r\n\t\t\t\tMavenRepo (24 s 586 ms)\r\n```\r\n\r\nI have upgraded JDK to 11 but it didn&#39;t fix the error. What else can I do?","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>I have upgraded my Android Studio and after that I'm facing this error:</p>\n<pre><code>Gradle sync failed: Plugin [id: 'com.android.application', version: '7.1.2', apply: false] was not found in any of the following sources:\n                - Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n                - Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.1.2')\n                Searched in the following repositories:\n                Gradle Central Plugin Repository\n                Google\n                MavenRepo (24 s 586 ms)\n</code></pre>\n<p>I have upgraded JDK to 11 but it didn't fix the error. What else can I do?</p>\n"},{"tags":["java","first-class-functions"],"comments":[{"owner":{"account_id":71299,"reputation":50505,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":1,"creation_date":1299139386,"post_id":5178068,"comment_id":5817292,"body_markdown":"http://en.wikipedia.org/wiki/First-class_function","body":"<a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/First-class_function</a>"},{"owner":{"account_id":77937,"reputation":25992,"user_id":222159,"accept_rate":94,"display_name":"Adnan"},"score":0,"creation_date":1299139482,"post_id":5178068,"comment_id":5817314,"body_markdown":"take a look at: http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c","body":"take a look at: <a href=\"http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c\" title=\"what are first class objects in java and c\">stackoverflow.com/questions/1599176/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299139465,"creation_date":1299139465,"answer_id":5178096,"question_id":5178068,"body_markdown":"The [Wikipedia definition][1] is pretty good&amp;mdash;it&#39;s a function that can be passed around like any other piece of data. Java does _not_ support them. The closest it has is `Runnable` and `Callable` objects.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow\">Wikipedia definition</a> is pretty good&mdash;it's a function that can be passed around like any other piece of data. Java does <em>not</em> support them. The closest it has is <code>Runnable</code> and <code>Callable</code> objects.</p>\n"},{"tags":[],"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1492934732,"creation_date":1299139500,"answer_id":5178101,"question_id":5178068,"body_markdown":"A language that considers procedures to be &quot;first-class&quot; ***allows functions to be passed around just like any other value***.\r\n\r\nLanguages like Java 7 (and earlier) and C &quot;kind of&quot; have this capability: C allows function pointers to be passed around, but you can&#39;t dynamically define a function in those languages and suddenly pass that somewhere else. Java before version 8 can *simulate* this to a certain extent with anonymous classes, but it doesn&#39;t technically have first-class functions.\r\n\r\nOn the other hand, C++, D, C#, Visual Basic .NET, Java 8+, and functional languages (like Scheme and Haskell) *do* allow you to pass around functions like variables. For example, the code below *returns* a function that adds `addend` to its input:\r\n\r\nWritten in D:\r\n\r\n    int delegate(int) makeAdder(int addend) //Returns a function\r\n    {\r\n        return delegate int(int x) //Long way\r\n        {\r\n            return x + addend; //Notice that addend came from _outside_ the function\r\n        };\r\n\r\n        return (int x) { return x + addend; }; //Short way\r\n\r\n        return x =&gt; addend + x; //Super-short way, introduced in D 2.058\r\n    }\r\n\r\nWritten in C#:\r\n\r\n    Func&lt;int, int&gt; MakeAdder(int addend) //Returns a function\r\n    {\r\n        return delegate(int x) //The long way. Note: Return type is implicitly &#39;int&#39;\r\n        {\r\n            return x + addend;\r\n        };\r\n\r\n        return x =&gt; x + addend; //Short way: x &quot;goes to&quot; (x + addend); inferred types\r\n    }\r\n\r\nWritten in C++:\r\n\r\n    #include &lt;functional&gt;\r\n    \r\n    std::function&lt;int(int)&gt; make_adder(int addend)\r\n    {\r\n        return [=](int x)\r\n        {\r\n            return addend + x;\r\n        };\r\n    }\r\n\r\nWritten in Scala:\r\n\r\n    def makeAdder(addend: Int) = (x: Int) =&gt; addend + x\r\n\r\nWritten in Python:\r\n\r\n    def make_adder(addend):\r\n        def f(x):\r\n            return addend + x\r\n        return f\r\n        # or...\r\n        return lambda x: addend + x\r\n\r\nWritten in Erlang:\r\n\r\n    make_adder(Addend) -&gt;\r\n        fun(X) -&gt; Addend + X end.\r\n\r\nWritten in JavaScript:\r\n\r\n    function makeAdder(addend) {\r\n        return function(x) {\r\n            return addend + x;\r\n        };\r\n    }\r\n\r\nWritten in JavaScript (ES2015 arrow function syntax):\r\n\r\n    const makeAdder = addend =&gt; x =&gt; addend + x;\r\n\r\nWritten in Scheme:\r\n\r\n    (define (makeAdder addend)\r\n      (lambda (x)\r\n        (+ x addend)))\r\n\r\nWritten in Haskell:\r\n\r\n    makeAdder :: Int -&gt; (Int -&gt; Int)\r\n    makeAdder addend = \\x -&gt; addend + x\r\n\r\nWritten in Visual Basic 2008:\r\n\r\n    Function MakeAdder(addend As Integer) As Func(Of Integer, Integer)\r\n        Return Function(x) (x + addend)\r\n    End Function\r\n\r\nWritten in Swift (both verbose and short-hand implementations):\r\n\r\n    func makeAdder(append: Int) -&gt; (x: Int) -&gt; Int {\r\n    \treturn { (x: Int) -&gt; Int in\r\n    \t\treturn x + append\r\n    \t};\r\n    }\r\n    \r\n    func makeAdder(append: Int) -&gt; (Int) -&gt; Int {\r\n    \treturn {$0 + append};\r\n    }\r\n\r\n(By the way, a &quot;lambda&quot; is just a function without a name. Lambdas are only supported in languages that support first-class functions.)","title":"What is a first-class-citizen function?","body":"<p>A language that considers procedures to be \"first-class\" <strong><em>allows functions to be passed around just like any other value</em></strong>.</p>\n\n<p>Languages like Java 7 (and earlier) and C \"kind of\" have this capability: C allows function pointers to be passed around, but you can't dynamically define a function in those languages and suddenly pass that somewhere else. Java before version 8 can <em>simulate</em> this to a certain extent with anonymous classes, but it doesn't technically have first-class functions.</p>\n\n<p>On the other hand, C++, D, C#, Visual Basic .NET, Java 8+, and functional languages (like Scheme and Haskell) <em>do</em> allow you to pass around functions like variables. For example, the code below <em>returns</em> a function that adds <code>addend</code> to its input:</p>\n\n<p>Written in D:</p>\n\n<pre><code>int delegate(int) makeAdder(int addend) //Returns a function\n{\n    return delegate int(int x) //Long way\n    {\n        return x + addend; //Notice that addend came from _outside_ the function\n    };\n\n    return (int x) { return x + addend; }; //Short way\n\n    return x =&gt; addend + x; //Super-short way, introduced in D 2.058\n}\n</code></pre>\n\n<p>Written in C#:</p>\n\n<pre><code>Func&lt;int, int&gt; MakeAdder(int addend) //Returns a function\n{\n    return delegate(int x) //The long way. Note: Return type is implicitly 'int'\n    {\n        return x + addend;\n    };\n\n    return x =&gt; x + addend; //Short way: x \"goes to\" (x + addend); inferred types\n}\n</code></pre>\n\n<p>Written in C++:</p>\n\n<pre><code>#include &lt;functional&gt;\n\nstd::function&lt;int(int)&gt; make_adder(int addend)\n{\n    return [=](int x)\n    {\n        return addend + x;\n    };\n}\n</code></pre>\n\n<p>Written in Scala:</p>\n\n<pre><code>def makeAdder(addend: Int) = (x: Int) =&gt; addend + x\n</code></pre>\n\n<p>Written in Python:</p>\n\n<pre><code>def make_adder(addend):\n    def f(x):\n        return addend + x\n    return f\n    # or...\n    return lambda x: addend + x\n</code></pre>\n\n<p>Written in Erlang:</p>\n\n<pre><code>make_adder(Addend) -&gt;\n    fun(X) -&gt; Addend + X end.\n</code></pre>\n\n<p>Written in JavaScript:</p>\n\n<pre><code>function makeAdder(addend) {\n    return function(x) {\n        return addend + x;\n    };\n}\n</code></pre>\n\n<p>Written in JavaScript (ES2015 arrow function syntax):</p>\n\n<pre><code>const makeAdder = addend =&gt; x =&gt; addend + x;\n</code></pre>\n\n<p>Written in Scheme:</p>\n\n<pre><code>(define (makeAdder addend)\n  (lambda (x)\n    (+ x addend)))\n</code></pre>\n\n<p>Written in Haskell:</p>\n\n<pre><code>makeAdder :: Int -&gt; (Int -&gt; Int)\nmakeAdder addend = \\x -&gt; addend + x\n</code></pre>\n\n<p>Written in Visual Basic 2008:</p>\n\n<pre><code>Function MakeAdder(addend As Integer) As Func(Of Integer, Integer)\n    Return Function(x) (x + addend)\nEnd Function\n</code></pre>\n\n<p>Written in Swift (both verbose and short-hand implementations):</p>\n\n<pre><code>func makeAdder(append: Int) -&gt; (x: Int) -&gt; Int {\n    return { (x: Int) -&gt; Int in\n        return x + append\n    };\n}\n\nfunc makeAdder(append: Int) -&gt; (Int) -&gt; Int {\n    return {$0 + append};\n}\n</code></pre>\n\n<p>(By the way, a \"lambda\" is just a function without a name. Lambdas are only supported in languages that support first-class functions.)</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54876,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299139902,"creation_date":1299139567,"answer_id":5178108,"question_id":5178068,"body_markdown":"Functions are first class citizen means you can pass function anywhere as if it&#39;s a variable.\r\n\r\nFrom Scala\r\n\r\n\tdef isOdd(in: Int) = in % 2 == 1\r\n\tval n = (1 to 10).toList\r\n\tn.filter(isOdd)\r\n\r\n\tsee here: isOdd is a function. passed as if it&#39;s a variale.\r\n\r\n\r\n`Objects` are first class citizen in Java. _A first class citizen is the one that can be passed anywhere._ The parallel is from a first class citizen of country are allowed _almost_ everywhere.\r\n\r\nRead:\r\n\r\n- [When is a feature considered a “First class citizen” in a programming language/platform?][1]\r\n- [First-class object][2]\r\n- [First-class function][3]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/39742/when-is-a-feature-considered-a-first-class-citizen-in-a-programming-language-pl\r\n  [2]: http://en.wikipedia.org/wiki/First-class_object\r\n  [3]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>Functions are first class citizen means you can pass function anywhere as if it's a variable.</p>\n\n<p>From Scala</p>\n\n<pre><code>def isOdd(in: Int) = in % 2 == 1\nval n = (1 to 10).toList\nn.filter(isOdd)\n\nsee here: isOdd is a function. passed as if it's a variale.\n</code></pre>\n\n<p><code>Objects</code> are first class citizen in Java. <em>A first class citizen is the one that can be passed anywhere.</em> The parallel is from a first class citizen of country are allowed <em>almost</em> everywhere.</p>\n\n<p>Read:</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/39742/when-is-a-feature-considered-a-first-class-citizen-in-a-programming-language-pl\">When is a feature considered a “First class citizen” in a programming language/platform?</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/First-class_object\" rel=\"nofollow noreferrer\">First-class object</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">First-class function</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1299139776,"creation_date":1299139776,"answer_id":5178123,"question_id":5178068,"body_markdown":"No, you cannot assign a method to a variable or pass it as an argument to another method for example.\r\n\r\nInstead you can use interfaces to wrap the intended behaviour, or reflection to reify methods.","title":"What is a first-class-citizen function?","body":"<p>No, you cannot assign a method to a variable or pass it as an argument to another method for example.</p>\n\n<p>Instead you can use interfaces to wrap the intended behaviour, or reflection to reify methods.</p>\n"},{"tags":[],"owner":{"account_id":157346,"reputation":54254,"user_id":375232,"accept_rate":100,"display_name":"Landei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299149485,"creation_date":1299140650,"answer_id":5178217,"question_id":5178068,"body_markdown":"A first class function can be passed around. A typical example is the map function. Here is an example in Scala that squares the elements of a list:\r\n\r\n    val square = (x:Int) =&gt; x*x\r\n   \r\n    val squaredList = List(1,2,3,4).map(square _)\r\n    //--&gt; List(1,4,9,16)\r\n\r\nThe square function is here an argument to the map method, which applies it to every element. If you want to do something like this in Java, you have to use a method wrapped in a class, something like this:\r\n\r\n    interface F&lt;A,B&gt;{ B apply(A a); }\r\n\r\n    static &lt;A,B&gt; List&lt;B&gt; map(List&lt;A&gt; list, F&lt;A,B&gt; f) {\r\n      List&lt;B&gt; result = new ArrayList&lt;B&gt;();\r\n      for(A a:list) result.add(f.apply(a));\r\n      return result;   \r\n    }\r\n\r\n    //we have to &quot;wrap&quot; the squaring operation in a class in order to make it a function\r\n    F&lt;Integer,Integer&gt; square = new F&lt;Integer,Integer&gt;(){ \r\n      Integer apply(Integer a) { return a*a; }\r\n    }\r\n\r\n    List&lt;Integer&gt; ints = Arrays.&lt;Integer&gt;asList(1,2,3,4);\r\n    List&lt;Integer&gt; squares = map(ints, square);\r\n\r\nLooking at this you can see that you can get the same task somehow done in Java, but with more overhead, and without &quot;native&quot; support by the language, but by using a workaround (wrapper classes). So Java doesn&#39;t support first class functions, but can &quot;simulate&quot; them.\r\n\r\nHopefully Java 8 will support first class functions. If you want to have some support for this *now*, look at http://functionaljava.org/ or http://functionalj.sourceforge.net/ , or have a look at the Scala language.","title":"What is a first-class-citizen function?","body":"<p>A first class function can be passed around. A typical example is the map function. Here is an example in Scala that squares the elements of a list:</p>\n\n<pre><code>val square = (x:Int) =&gt; x*x\n\nval squaredList = List(1,2,3,4).map(square _)\n//--&gt; List(1,4,9,16)\n</code></pre>\n\n<p>The square function is here an argument to the map method, which applies it to every element. If you want to do something like this in Java, you have to use a method wrapped in a class, something like this:</p>\n\n<pre><code>interface F&lt;A,B&gt;{ B apply(A a); }\n\nstatic &lt;A,B&gt; List&lt;B&gt; map(List&lt;A&gt; list, F&lt;A,B&gt; f) {\n  List&lt;B&gt; result = new ArrayList&lt;B&gt;();\n  for(A a:list) result.add(f.apply(a));\n  return result;   \n}\n\n//we have to \"wrap\" the squaring operation in a class in order to make it a function\nF&lt;Integer,Integer&gt; square = new F&lt;Integer,Integer&gt;(){ \n  Integer apply(Integer a) { return a*a; }\n}\n\nList&lt;Integer&gt; ints = Arrays.&lt;Integer&gt;asList(1,2,3,4);\nList&lt;Integer&gt; squares = map(ints, square);\n</code></pre>\n\n<p>Looking at this you can see that you can get the same task somehow done in Java, but with more overhead, and without \"native\" support by the language, but by using a workaround (wrapper classes). So Java doesn't support first class functions, but can \"simulate\" them.</p>\n\n<p>Hopefully Java 8 will support first class functions. If you want to have some support for this <em>now</em>, look at <a href=\"http://functionaljava.org/\" rel=\"nofollow\">http://functionaljava.org/</a> or <a href=\"http://functionalj.sourceforge.net/\" rel=\"nofollow\">http://functionalj.sourceforge.net/</a> , or have a look at the Scala language.</p>\n"},{"tags":[],"owner":{"account_id":3074879,"reputation":2637,"user_id":2604532,"display_name":"Nagakishore Sidde"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447426200,"creation_date":1447426200,"answer_id":33695408,"question_id":5178068,"body_markdown":"Let us consider the example of functional programming paradigm in which functions are the first class citizens. When we say functions are the first class citizens, we can do the following things with the function...\r\n\r\n - Function can be assigned to a variable\r\n - Function can be stored in a data structure\r\n - Function can be passed around as an argument to other functions\r\n - Function can be returned from the functions\r\n\r\nIn functional programming languages, it is possible to do the above mentioned things. \r\n\r\nNow, let us try to answer the question, whether java supports first class citizen functions (or) not.\r\n\r\nIn java, methods are equivalent of functions. It is not possible to do any of the above with methods. But all of the above are possible with java objects. So, **objects** are the first class citizens in java. Admittedly, java8 supports passing of methods (method behavior, to be precise) to other methods using functional interfaces and lambda expressions. But that does not mean that java has functions as first class citizens.\r\n\r\nThe ability to do above things such as passing around functions, returning functions from functions is very powerful and useful. This is because, it allows us to pass around the behavior not just the data. ","title":"What is a first-class-citizen function?","body":"<p>Let us consider the example of functional programming paradigm in which functions are the first class citizens. When we say functions are the first class citizens, we can do the following things with the function...</p>\n\n<ul>\n<li>Function can be assigned to a variable</li>\n<li>Function can be stored in a data structure</li>\n<li>Function can be passed around as an argument to other functions</li>\n<li>Function can be returned from the functions</li>\n</ul>\n\n<p>In functional programming languages, it is possible to do the above mentioned things. </p>\n\n<p>Now, let us try to answer the question, whether java supports first class citizen functions (or) not.</p>\n\n<p>In java, methods are equivalent of functions. It is not possible to do any of the above with methods. But all of the above are possible with java objects. So, <strong>objects</strong> are the first class citizens in java. Admittedly, java8 supports passing of methods (method behavior, to be precise) to other methods using functional interfaces and lambda expressions. But that does not mean that java has functions as first class citizens.</p>\n\n<p>The ability to do above things such as passing around functions, returning functions from functions is very powerful and useful. This is because, it allows us to pass around the behavior not just the data. </p>\n"},{"tags":[],"owner":{"account_id":4152468,"reputation":63,"user_id":3404499,"display_name":"Ravi Allishe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594669188,"creation_date":1594668776,"answer_id":62883012,"question_id":5178068,"body_markdown":"The above answers for @Alpine questions are mostly defining what is First Class Functions along with examples. But still, one question remains why to use?\r\n\r\nI&#39;ll try to answer the benefits a little differently in Scala where first-class functions are used further as higher-order functions(map, flatMap), Partially Applied Functions and Currying:\r\n\r\n 1. As we focus on declarative programming, the *how* part of processing the data is left as an implementation detail to *map, flatMap*, and focused more on handling the *what* actual logic flow.\r\nA caller can specify what should be done and leave the higher-order functions to handle the actual logic flow.\r\n\r\n 2. Partially Applied Functions and Currying: What if you wanted to reuse a function invocation and retain some of the parameters to avoid typing them in again?\r\n\r\nPartially Applied Function Example: \r\n\r\n    def factorOf(x: Int, y: Int) = y % x == 0\r\n    val multipleOf3 = factorOf(3, _: Int)\r\n    val y = multipleOf3(78)\r\n\r\nCurrying Example: \r\n\r\n    def factorOf(x: Int)(y: Int) = y % x == 0\r\n    val isEven = factorOf(2) _\r\n    val z = isEven(32)\r\n\r\nThe above examples show you how you can reuse the part of first-class functions by not passing all parameters and keep your code **DRY** principle.\r\nThese are few benefits for using first-class functions\r\n\r\nReference for more details: [https://www.oreilly.com/library/view/learning-scala][1] \r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/learning-scala/9781449368814/ch05.html#:~:text=A%20first%2Dclass%20function%20may,return%20value%20from%20another%20function.","title":"What is a first-class-citizen function?","body":"<p>The above answers for @Alpine questions are mostly defining what is First Class Functions along with examples. But still, one question remains why to use?</p>\n<p>I'll try to answer the benefits a little differently in Scala where first-class functions are used further as higher-order functions(map, flatMap), Partially Applied Functions and Currying:</p>\n<ol>\n<li><p>As we focus on declarative programming, the <em>how</em> part of processing the data is left as an implementation detail to <em>map, flatMap</em>, and focused more on handling the <em>what</em> actual logic flow.\nA caller can specify what should be done and leave the higher-order functions to handle the actual logic flow.</p>\n</li>\n<li><p>Partially Applied Functions and Currying: What if you wanted to reuse a function invocation and retain some of the parameters to avoid typing them in again?</p>\n</li>\n</ol>\n<p>Partially Applied Function Example:</p>\n<pre><code>def factorOf(x: Int, y: Int) = y % x == 0\nval multipleOf3 = factorOf(3, _: Int)\nval y = multipleOf3(78)\n</code></pre>\n<p>Currying Example:</p>\n<pre><code>def factorOf(x: Int)(y: Int) = y % x == 0\nval isEven = factorOf(2) _\nval z = isEven(32)\n</code></pre>\n<p>The above examples show you how you can reuse the part of first-class functions by not passing all parameters and keep your code <strong>DRY</strong> principle.\nThese are few benefits for using first-class functions</p>\n<p>Reference for more details: <a href=\"https://www.oreilly.com/library/view/learning-scala/9781449368814/ch05.html#:%7E:text=A%20first%2Dclass%20function%20may,return%20value%20from%20another%20function.\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/learning-scala</a></p>\n"}],"owner":{"account_id":306792,"reputation":3838,"user_id":617750,"display_name":"Alpine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27242,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":7,"score":54,"last_activity_date":1701786511,"creation_date":1299139250,"question_id":5178068,"body_markdown":"What is a first-class-citizen function?\r\n\r\nDoes Java support first-class-citizen functions?\r\n\r\nAs mentioned on [Wikipedia][1]:\r\n\r\n&gt; First-class functions are a necessity for the functional programming style.\r\n\r\nIs there any other use of first-class functions?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>What is a first-class-citizen function?</p>\n<p>Does Java support first-class-citizen functions?</p>\n<p>As mentioned on <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>First-class functions are a necessity for the functional programming style.</p>\n</blockquote>\n<p>Is there any other use of first-class functions?</p>\n"},{"tags":["java","excel","selenium-webdriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701694953,"post_id":77599276,"comment_id":136803674,"body_markdown":"how would pom.xml file info help to solve parsing issue?","body":"how would pom.xml file info help to solve parsing issue?"},{"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"score":0,"creation_date":1701747205,"post_id":77599276,"comment_id":136811178,"body_markdown":"Then what me bhi the issue ??","body":"Then what me bhi the issue ??"},{"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"score":0,"creation_date":1701747234,"post_id":77599276,"comment_id":136811179,"body_markdown":"I was thinking that may be there is issue with version of dependency","body":"I was thinking that may be there is issue with version of dependency"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701753902,"post_id":77599276,"comment_id":136811727,"body_markdown":"what i ment by that was, that the issue is in the code because it runs. It would not run if it was a lib issue. there is no actual info in the question -1","body":"what i ment by that was, that the issue is in the code because it runs. It would not run if it was a lib issue. there is no actual info in the question -1"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701929810,"post_id":77599276,"comment_id":136836407,"body_markdown":"I understand that your code is **not** producing your desired result. I suggest that you [edit] your question and post your code - preferable a [mcve]. By the way - and not necessarily related to your question - I suggest that you take the tour and also read [ask].","body":"I understand that your code is <b>not</b> producing your desired result. I suggest that you <a href=\"https://stackoverflow.com/posts/77599276/edit\">edit</a> your question and post your code - preferable a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. By the way - and not necessarily related to your question - I suggest that you take the tour and also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701786370,"creation_date":1701691257,"question_id":77599276,"body_markdown":"I am using testng version 7.8.0\r\n\r\nWhile taking data from excel for running test , i am just getting blank input and a dot .\r\n\r\nMy POM.xml goes like this : \r\n\r\n    &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    \r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    \r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;\r\n\r\nSomeone can tell me which version to use ??\r\n\r\nI am using Microsoft Office Professional Plus 2013","title":"Taking test data from Excel","body":"<p>I am using testng version 7.8.0</p>\n<p>While taking data from excel for running test , i am just getting blank input and a dot .</p>\n<p>My POM.xml goes like this :</p>\n<pre><code>&lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n\n    &lt;version&gt;5.2.3&lt;/version&gt;\n\n&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n\n    &lt;version&gt;2.22.0&lt;/version&gt;\n\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n\n    &lt;version&gt;2.22.0&lt;/version&gt;\n\n  &lt;/dependency&gt;\n\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n\n&lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n\n    &lt;version&gt;5.2.3&lt;/version&gt;\n\n&lt;/dependency&gt;\n</code></pre>\n<p>Someone can tell me which version to use ??</p>\n<p>I am using Microsoft Office Professional Plus 2013</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9846,"page":13,"page_size":100}
