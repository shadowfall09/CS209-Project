{"items":[{"tags":["java","scala","apache-kafka","prometheus","apache-kafka-streams"],"comments":[{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1701279459,"post_id":77572953,"comment_id":136757126,"body_markdown":"Does this answer your question? [Kafka CLI: command to list all consumer groups for a topic?](https://stackoverflow.com/questions/63883999/kafka-cli-command-to-list-all-consumer-groups-for-a-topic)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63883999/kafka-cli-command-to-list-all-consumer-groups-for-a-topic\">Kafka CLI: command to list all consumer groups for a topic?</a>"},{"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"score":0,"creation_date":1701279662,"post_id":77572953,"comment_id":136757159,"body_markdown":"@Ga&#235;lJ unfortunately not","body":"@Ga&#235;lJ unfortunately not"},{"owner":{"account_id":7034556,"reputation":12315,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1701282807,"post_id":77572953,"comment_id":136757649,"body_markdown":"What does the command returns when you list all consumer groups of the topic?","body":"What does the command returns when you list all consumer groups of the topic?"},{"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"score":0,"creation_date":1701335246,"post_id":77572953,"comment_id":136763580,"body_markdown":"it returns all the consumer groups in the cluster with their input topics and lag. But nothing regarding the changelog topics.","body":"it returns all the consumer groups in the cluster with their input topics and lag. But nothing regarding the changelog topics."}],"owner":{"account_id":11749531,"reputation":329,"user_id":8599262,"display_name":"Bilal Ennouali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701275368,"creation_date":1701275368,"question_id":77572953,"body_markdown":"I have this `kafka-streams` application which is returning `Prometheus` metrics. If I were to believe these metrics, the application has a lag on most partitions of the changelog topic. \r\n\r\nI wanted to verify these metrics using `kafka-cli`. I first thought the `application.id` would be the consumer group for the changelog topic, but with `kafka-consumer-groups --describe` command, I get information about input topics only.\r\n\r\nSo I have two question:\r\n\r\n - What is the consumer group used to consume records from the changelog topic in `kafka-streams` ?\r\n - How can I get the lag for each changelog partition using `kafka-cli` (or other method other than `Prometheus` metrics) ?","title":"What is the consumer group used to consume from a kafka changelog topic?","body":"<p>I have this <code>kafka-streams</code> application which is returning <code>Prometheus</code> metrics. If I were to believe these metrics, the application has a lag on most partitions of the changelog topic.</p>\n<p>I wanted to verify these metrics using <code>kafka-cli</code>. I first thought the <code>application.id</code> would be the consumer group for the changelog topic, but with <code>kafka-consumer-groups --describe</code> command, I get information about input topics only.</p>\n<p>So I have two question:</p>\n<ul>\n<li>What is the consumer group used to consume records from the changelog topic in <code>kafka-streams</code> ?</li>\n<li>How can I get the lag for each changelog partition using <code>kafka-cli</code> (or other method other than <code>Prometheus</code> metrics) ?</li>\n</ul>\n"},{"tags":["java","xml","camunda","dmn","decision-model-notation"],"owner":{"account_id":16228674,"reputation":13,"user_id":12348407,"display_name":"joniboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701275252,"creation_date":1701273764,"question_id":77572748,"body_markdown":"Given an xml file containing a some DMN decisions, I need to retrieve all of to the variable names process them. If i can&#39;t do this then I can&#39;t know what the name of the variables given by the user are, just the value.\r\nI&#39;ve been using the camunda java library and it doens&#39;t seem very straight forward\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;definitions xmlns=&quot;http://www.omg.org/spec/DMN/20151101/dmn.xsd&quot; id=&quot;definitions&quot; name=&quot;definitions&quot; namespace=&quot;http://camunda.org/schema/1.0/dmn&quot;&gt;\r\n    &lt;decision id=&quot;decision&quot; name=&quot;Dish&quot;&gt;\r\n        &lt;decisionTable id=&quot;decisionTable&quot;&gt;\r\n            &lt;input id=&quot;input1&quot; label=&quot;Season&quot;&gt;\r\n                &lt;inputExpression id=&quot;inputExpression1&quot; typeRef=&quot;string&quot;&gt;\r\n                    &lt;text&gt;season&lt;/text&gt;\r\n                &lt;/inputExpression&gt;\r\n            &lt;/input&gt;\r\n            &lt;input id=&quot;InputClause_0hmkumv&quot; label=&quot;How many guests&quot;&gt;\r\n                &lt;inputExpression id=&quot;LiteralExpression_0m7s53h&quot; typeRef=&quot;integer&quot;&gt;\r\n                    &lt;text&gt;guestCount&lt;/text&gt;\r\n                &lt;/inputExpression&gt;\r\n            &lt;/input&gt;\r\n            &lt;output id=&quot;output1&quot; label=&quot;Dish&quot; name=&quot;desiredDish&quot; typeRef=&quot;string&quot; /&gt;\r\n            &lt;rule id=&quot;row-950612891-1&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c1o054&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1lod0sz&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_065u3ym&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spareribs&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-2&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0u1z4ho&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Winter&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1euytqf&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_198frve&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Roastbeef&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-3&quot;&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1vn9t5c&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1bbbmvu&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&lt;= 4]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_1bewepn&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Dry Aged Gourmet Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-4&quot;&gt;\r\n                &lt;description&gt;Save money&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0ogofox&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c60gjz&quot;&gt;\r\n                    &lt;text&gt;[5..8]&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_1lahvj7&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-5&quot;&gt;\r\n                &lt;description&gt;Less effort&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_1774yme&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;, &quot;Winter&quot;, &quot;Spring&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_01rn17i&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&gt; 8]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_0jpd7hr&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Stew&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n            &lt;rule id=&quot;row-950612891-6&quot;&gt;\r\n                &lt;description&gt;Hey, why not!?&lt;/description&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0ifdx8k&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Summer&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;inputEntry id=&quot;UnaryTests_0c8ym7l&quot;&gt;\r\n                    &lt;text&gt;&lt;/text&gt;\r\n                &lt;/inputEntry&gt;\r\n                &lt;outputEntry id=&quot;LiteralExpression_08d4mb6&quot;&gt;\r\n                    &lt;text&gt;&lt;![CDATA[&quot;Light Salad and a nice Steak&quot;]]&gt;&lt;/text&gt;\r\n                &lt;/outputEntry&gt;\r\n            &lt;/rule&gt;\r\n        &lt;/decisionTable&gt;\r\n    &lt;/decision&gt;\r\n&lt;/definitions&gt;```\r\n\r\n\r\nabove is the following dmn file I took from the internet.\r\nIt contains 2 variables; Season and guestCount\r\nI already knew this so in my java file I simply did \r\n```\r\n\r\n            VariableMap variables = Variables\r\n                    .putValue(&quot;season&quot;, season)\r\n                    .putValue(&quot;guestCount&quot;, guestCount);```\r\n\r\nBut what if I didn&#39;t do this? Every example i come accross on camunda&#39;s github already has the names of the variables hard-coded into the example. No example I saw fetched the number and the name of these variables. Do you know if there is any built-in function for the camunda-engine in java?\r\n\r\nWent online trying to see some examples of people fetching these automatically from a java file. Asked AI to help me only to be given\r\n```List&lt;DecisionInputImpl&gt; decisionInputs = decisionDefinition.getInputs();```\r\nWhere the path of their &quot;DecisionInputImpl&quot; was non-existent\r\n(example of non existent path : ```import org.camunda.bpm.engine.DecisionService;```)\r\nscoured the forums and saw someone advise someone else to do a rest something but I didn&#39;t really understood","title":"Getting DMN decision variable list in java","body":"<p>Given an xml file containing a some DMN decisions, I need to retrieve all of to the variable names process them. If i can't do this then I can't know what the name of the variables given by the user are, just the value.\nI've been using the camunda java library and it doens't seem very straight forward</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;definitions xmlns=&quot;http://www.omg.org/spec/DMN/20151101/dmn.xsd&quot; id=&quot;definitions&quot; name=&quot;definitions&quot; namespace=&quot;http://camunda.org/schema/1.0/dmn&quot;&gt;\n    &lt;decision id=&quot;decision&quot; name=&quot;Dish&quot;&gt;\n        &lt;decisionTable id=&quot;decisionTable&quot;&gt;\n            &lt;input id=&quot;input1&quot; label=&quot;Season&quot;&gt;\n                &lt;inputExpression id=&quot;inputExpression1&quot; typeRef=&quot;string&quot;&gt;\n                    &lt;text&gt;season&lt;/text&gt;\n                &lt;/inputExpression&gt;\n            &lt;/input&gt;\n            &lt;input id=&quot;InputClause_0hmkumv&quot; label=&quot;How many guests&quot;&gt;\n                &lt;inputExpression id=&quot;LiteralExpression_0m7s53h&quot; typeRef=&quot;integer&quot;&gt;\n                    &lt;text&gt;guestCount&lt;/text&gt;\n                &lt;/inputExpression&gt;\n            &lt;/input&gt;\n            &lt;output id=&quot;output1&quot; label=&quot;Dish&quot; name=&quot;desiredDish&quot; typeRef=&quot;string&quot; /&gt;\n            &lt;rule id=&quot;row-950612891-1&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c1o054&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1lod0sz&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_065u3ym&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spareribs&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-2&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0u1z4ho&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Winter&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1euytqf&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_198frve&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Roastbeef&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-3&quot;&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1vn9t5c&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1bbbmvu&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&lt;= 4]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_1bewepn&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Dry Aged Gourmet Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-4&quot;&gt;\n                &lt;description&gt;Save money&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0ogofox&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c60gjz&quot;&gt;\n                    &lt;text&gt;[5..8]&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_1lahvj7&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-5&quot;&gt;\n                &lt;description&gt;Less effort&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_1774yme&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Fall&quot;, &quot;Winter&quot;, &quot;Spring&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_01rn17i&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&gt; 8]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_0jpd7hr&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Stew&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n            &lt;rule id=&quot;row-950612891-6&quot;&gt;\n                &lt;description&gt;Hey, why not!?&lt;/description&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0ifdx8k&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Summer&quot;]]&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;inputEntry id=&quot;UnaryTests_0c8ym7l&quot;&gt;\n                    &lt;text&gt;&lt;/text&gt;\n                &lt;/inputEntry&gt;\n                &lt;outputEntry id=&quot;LiteralExpression_08d4mb6&quot;&gt;\n                    &lt;text&gt;&lt;![CDATA[&quot;Light Salad and a nice Steak&quot;]]&gt;&lt;/text&gt;\n                &lt;/outputEntry&gt;\n            &lt;/rule&gt;\n        &lt;/decisionTable&gt;\n    &lt;/decision&gt;\n&lt;/definitions&gt;```\n\n\nabove is the following dmn file I took from the internet.\nIt contains 2 variables; Season and guestCount\nI already knew this so in my java file I simply did \n</code></pre>\n<pre><code>        VariableMap variables = Variables\n                .putValue(&quot;season&quot;, season)\n                .putValue(&quot;guestCount&quot;, guestCount);```\n</code></pre>\n<p>But what if I didn't do this? Every example i come accross on camunda's github already has the names of the variables hard-coded into the example. No example I saw fetched the number and the name of these variables. Do you know if there is any built-in function for the camunda-engine in java?</p>\n<p>Went online trying to see some examples of people fetching these automatically from a java file. Asked AI to help me only to be given\n<code>List&lt;DecisionInputImpl&gt; decisionInputs = decisionDefinition.getInputs();</code>\nWhere the path of their &quot;DecisionInputImpl&quot; was non-existent\n(example of non existent path : <code>import org.camunda.bpm.engine.DecisionService;</code>)\nscoured the forums and saw someone advise someone else to do a rest something but I didn't really understood</p>\n"},{"tags":["java","list","sorting","java-stream"],"answers":[{"tags":[],"owner":{"account_id":5606689,"reputation":459,"user_id":4441017,"display_name":"Tanmay Baid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500571631,"creation_date":1478738637,"answer_id":40518333,"question_id":40517977,"body_markdown":"It seems to be working fine:\r\n\r\n    List&lt;BigDecimal&gt; list = Arrays.asList(new BigDecimal(&quot;24.455&quot;), new BigDecimal(&quot;23.455&quot;), new BigDecimal(&quot;28.455&quot;), new BigDecimal(&quot;20.455&quot;));\r\n    System.out.println(&quot;Unsorted list: &quot; + list);\r\n    final List&lt;BigDecimal&gt; sortedList = list.stream().sorted((o1, o2) -&gt; o1.compareTo(o2)).collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted list: &quot; + sortedList);\r\n\r\n\r\n\r\n**Example Input/Output**\r\n\r\n    Unsorted list: [24.455, 23.455, 28.455, 20.455]\r\n    Sorted list: [20.455, 23.455, 24.455, 28.455]\r\n\r\nAre you sure you are not verifying list instead of `sortedList` [in above example] i.e. you are storing the result of `stream()` in a new `List` object and verifying that object?\r\n","title":"Sorting a list with stream.sorted() in Java","body":"<p>It seems to be working fine:</p>\n\n<pre><code>List&lt;BigDecimal&gt; list = Arrays.asList(new BigDecimal(\"24.455\"), new BigDecimal(\"23.455\"), new BigDecimal(\"28.455\"), new BigDecimal(\"20.455\"));\nSystem.out.println(\"Unsorted list: \" + list);\nfinal List&lt;BigDecimal&gt; sortedList = list.stream().sorted((o1, o2) -&gt; o1.compareTo(o2)).collect(Collectors.toList());\nSystem.out.println(\"Sorted list: \" + sortedList);\n</code></pre>\n\n<p><strong>Example Input/Output</strong></p>\n\n<pre><code>Unsorted list: [24.455, 23.455, 28.455, 20.455]\nSorted list: [20.455, 23.455, 24.455, 28.455]\n</code></pre>\n\n<p>Are you sure you are not verifying list instead of <code>sortedList</code> [in above example] i.e. you are storing the result of <code>stream()</code> in a new <code>List</code> object and verifying that object?</p>\n"},{"tags":[],"owner":{"account_id":4698323,"reputation":6170,"user_id":3802631,"accept_rate":86,"display_name":"Jan B."},"down_vote_count":2,"up_vote_count":218,"is_accepted":true,"score":216,"last_activity_date":1526529409,"creation_date":1478738679,"answer_id":40518343,"question_id":40517977,"body_markdown":"This is not like `Collections.sort()` where the parameter reference gets sorted. In this case you just get a sorted stream that you need to collect and assign to another variable eventually:\r\n\r\n    List result = list.stream().sorted((o1, o2)-&gt;o1.getItem().getValue().\r\n                                       compareTo(o2.getItem().getValue())).\r\n                                       collect(Collectors.toList());\r\n\r\nYou&#39;ve just missed to assign the result","title":"Sorting a list with stream.sorted() in Java","body":"<p>This is not like <code>Collections.sort()</code> where the parameter reference gets sorted. In this case you just get a sorted stream that you need to collect and assign to another variable eventually:</p>\n\n<pre><code>List result = list.stream().sorted((o1, o2)-&gt;o1.getItem().getValue().\n                                   compareTo(o2.getItem().getValue())).\n                                   collect(Collectors.toList());\n</code></pre>\n\n<p>You've just missed to assign the result</p>\n"},{"tags":[],"owner":{"account_id":4620709,"reputation":8645,"user_id":3745896,"accept_rate":93,"display_name":"River"},"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1526587976,"creation_date":1500571860,"answer_id":45221474,"question_id":40517977,"body_markdown":"Use [`list.sort`][2] instead:\r\n\r\n    list.sort((o1, o2) -&gt; o1.getItem().getValue().compareTo(o2.getItem().getValue()));\r\n\r\nand make it more succinct using [`Comparator.comparing`][3]:\r\n\r\n    list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));\r\n\r\nAfter either of these, `list` itself will be sorted.\r\n\r\nYour issue is that\r\n[`list.stream.sorted`][1] *returns* the sorted data, it doesn&#39;t sort in place as you&#39;re expecting.\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\r\n[3]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Sorting a list with stream.sorted() in Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"noreferrer\"><code>list.sort</code></a> instead:</p>\n\n<pre><code>list.sort((o1, o2) -&gt; o1.getItem().getValue().compareTo(o2.getItem().getValue()));\n</code></pre>\n\n<p>and make it more succinct using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\"><code>Comparator.comparing</code></a>:</p>\n\n<pre><code>list.sort(Comparator.comparing(o -&gt; o.getItem().getValue()));\n</code></pre>\n\n<p>After either of these, <code>list</code> itself will be sorted.</p>\n\n<p>Your issue is that\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"noreferrer\"><code>list.stream.sorted</code></a> <em>returns</em> the sorted data, it doesn't sort in place as you're expecting.</p>\n"},{"tags":[],"owner":{"account_id":13242013,"reputation":159,"user_id":9562196,"display_name":"Venkat IndianEagle"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526966119,"creation_date":1526965809,"answer_id":50460194,"question_id":40517977,"body_markdown":"     \r\n    Collection&lt;Map&lt;Item, Integer&gt;&gt; itemCollection = basket.values();\r\n    Iterator&lt;Map&lt;Item, Integer&gt;&gt; itemIterator =   itemCollection.stream().sorted(new TestComparator()).collect(Collectors.toList()).iterator();\r\n    \r\n    \r\n    \r\n    package com.ie.util;\r\n    \r\n    import com.ie.item.Item;\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class TestComparator implements Comparator&lt;Map&lt;Item, Integer&gt;&gt; {\r\n    \r\n    // comparator is used to sort the Items based on the price\r\n    \r\n    \r\n        @Override\r\n        public int compare(Map&lt;Item, Integer&gt; o1, Map&lt;Item, Integer&gt; o2) {\r\n    \r\n    \r\n          //  System.out.println(&quot;*** compare method will be called *****&quot;);\r\n    \r\n    \r\n            Item item1 = null;\r\n            Item item2 = null;\r\n    \r\n    \r\n            Set&lt;Item&gt; itemSet1 = o1.keySet();\r\n            Iterator&lt;Item&gt; itemIterator1 = itemSet1.iterator();\r\n            if(itemIterator1.hasNext()){\r\n               item1 =   itemIterator1.next();\r\n            }\r\n    \r\n            Set&lt;Item&gt; itemSet2 = o2.keySet();\r\n            Iterator&lt;Item&gt; itemIterator2 = itemSet2.iterator();\r\n            if(itemIterator2.hasNext()){\r\n                item2 =   itemIterator2.next();\r\n            }\r\n    \r\n    \r\n            return -item1.getPrice().compareTo(item2.getPrice());\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**** this is helpful to sort the nested map objects like Map&lt;Integer,Map&lt;Item,Integer&gt;&gt; here i sorted based on the Item object price .","title":"Sorting a list with stream.sorted() in Java","body":"<pre><code>Collection&lt;Map&lt;Item, Integer&gt;&gt; itemCollection = basket.values();\nIterator&lt;Map&lt;Item, Integer&gt;&gt; itemIterator =   itemCollection.stream().sorted(new TestComparator()).collect(Collectors.toList()).iterator();\n\n\n\npackage com.ie.util;\n\nimport com.ie.item.Item;\n\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class TestComparator implements Comparator&lt;Map&lt;Item, Integer&gt;&gt; {\n\n// comparator is used to sort the Items based on the price\n\n\n    @Override\n    public int compare(Map&lt;Item, Integer&gt; o1, Map&lt;Item, Integer&gt; o2) {\n\n\n      //  System.out.println(\"*** compare method will be called *****\");\n\n\n        Item item1 = null;\n        Item item2 = null;\n\n\n        Set&lt;Item&gt; itemSet1 = o1.keySet();\n        Iterator&lt;Item&gt; itemIterator1 = itemSet1.iterator();\n        if(itemIterator1.hasNext()){\n           item1 =   itemIterator1.next();\n        }\n\n        Set&lt;Item&gt; itemSet2 = o2.keySet();\n        Iterator&lt;Item&gt; itemIterator2 = itemSet2.iterator();\n        if(itemIterator2.hasNext()){\n            item2 =   itemIterator2.next();\n        }\n\n\n        return -item1.getPrice().compareTo(item2.getPrice());\n\n\n    }\n}\n</code></pre>\n\n<p>**** this is helpful to sort the nested map objects like Map> here i sorted based on the Item object price .</p>\n"},{"tags":[],"owner":{"account_id":2619102,"reputation":1057,"user_id":2267554,"display_name":"Udaya Shankara Gandhi Thalabat"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1573132592,"creation_date":1541561933,"answer_id":53183266,"question_id":40517977,"body_markdown":"Java 8 provides different utility api methods to help us sort the streams better.\r\n\r\nIf your list is a list of Integers(or Double, Long, String etc.,) then you can simply sort the list with default comparators provided by java.\r\n\r\n    List&lt;Integer&gt; integerList = Arrays.asList(1, 4, 3, 4, 5);\r\n\r\n**Creating comparator on fly:**\r\n\r\n    integerList.stream().sorted((i1, i2) -&gt; i1.compareTo(i2)).forEach(System.out::println);\r\n\r\n**With default comparator provided by java 8 when no argument passed to sorted():**\r\n\r\n    integerList.stream().sorted().forEach(System.out::println); //Natural order\r\n\r\n**If you want to sort the same list in reverse order:**\r\n\r\n     integerList.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println); // Reverse Order\r\n\r\n**If your list is a list of user defined objects, then:**\r\n\r\n    List&lt;Person&gt; personList = Arrays.asList(new Person(1000, &quot;First&quot;, 25, 30000),\r\n            new Person(2000, &quot;Second&quot;, 30, 45000),\r\n            new Person(3000, &quot;Third&quot;, 35, 25000));\r\n\r\n**Creating comparator on fly:**\r\n\r\n    personList.stream().sorted((p1, p2) -&gt; ((Long)p1.getPersonId()).compareTo(p2.getPersonId()))\r\n            .forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**Using Comparator.comparingLong() method(We have comparingDouble(), comparingInt() methods too):**\r\n\r\n    personList.stream().sorted(Comparator.comparingLong(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**Using Comparator.comparing() method(Generic method which compares based on the getter method provided):**\r\n\r\n    personList.stream().sorted(Comparator.comparing(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\r\n\r\n**We can do chaining too using thenComparing() method:**\r\n\r\n    personList.stream().sorted(Comparator.comparing(Person::getPersonId).thenComparing(Person::getAge)).forEach(person -&gt; System.out.println(person.getName())); //Sorting by person id and then by age.\r\n\r\n**Person class**\r\n\r\n    public class Person {\r\n        private long personId;\r\n        private String name;\r\n        private int age;\r\n        private double salary;\r\n    \r\n        public long getPersonId() {\r\n            return personId;\r\n        }\r\n    \r\n        public void setPersonId(long personId) {\r\n            this.personId = personId;\r\n        }\r\n    \r\n        public Person(long personId, String name, int age, double salary) {\r\n            this.personId = personId;\r\n            this.name = name;\r\n            this.age = age;\r\n    \r\n            this.salary = salary;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public double getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setSalary(double salary) {\r\n            this.salary = salary;\r\n        }\r\n    }\r\n","title":"Sorting a list with stream.sorted() in Java","body":"<p>Java 8 provides different utility api methods to help us sort the streams better.</p>\n\n<p>If your list is a list of Integers(or Double, Long, String etc.,) then you can simply sort the list with default comparators provided by java.</p>\n\n<pre><code>List&lt;Integer&gt; integerList = Arrays.asList(1, 4, 3, 4, 5);\n</code></pre>\n\n<p><strong>Creating comparator on fly:</strong></p>\n\n<pre><code>integerList.stream().sorted((i1, i2) -&gt; i1.compareTo(i2)).forEach(System.out::println);\n</code></pre>\n\n<p><strong>With default comparator provided by java 8 when no argument passed to sorted():</strong></p>\n\n<pre><code>integerList.stream().sorted().forEach(System.out::println); //Natural order\n</code></pre>\n\n<p><strong>If you want to sort the same list in reverse order:</strong></p>\n\n<pre><code> integerList.stream().sorted(Comparator.reverseOrder()).forEach(System.out::println); // Reverse Order\n</code></pre>\n\n<p><strong>If your list is a list of user defined objects, then:</strong></p>\n\n<pre><code>List&lt;Person&gt; personList = Arrays.asList(new Person(1000, \"First\", 25, 30000),\n        new Person(2000, \"Second\", 30, 45000),\n        new Person(3000, \"Third\", 35, 25000));\n</code></pre>\n\n<p><strong>Creating comparator on fly:</strong></p>\n\n<pre><code>personList.stream().sorted((p1, p2) -&gt; ((Long)p1.getPersonId()).compareTo(p2.getPersonId()))\n        .forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>Using Comparator.comparingLong() method(We have comparingDouble(), comparingInt() methods too):</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparingLong(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>Using Comparator.comparing() method(Generic method which compares based on the getter method provided):</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparing(Person::getPersonId)).forEach(person -&gt; System.out.println(person.getName()));\n</code></pre>\n\n<p><strong>We can do chaining too using thenComparing() method:</strong></p>\n\n<pre><code>personList.stream().sorted(Comparator.comparing(Person::getPersonId).thenComparing(Person::getAge)).forEach(person -&gt; System.out.println(person.getName())); //Sorting by person id and then by age.\n</code></pre>\n\n<p><strong>Person class</strong></p>\n\n<pre><code>public class Person {\n    private long personId;\n    private String name;\n    private int age;\n    private double salary;\n\n    public long getPersonId() {\n        return personId;\n    }\n\n    public void setPersonId(long personId) {\n        this.personId = personId;\n    }\n\n    public Person(long personId, String name, int age, double salary) {\n        this.personId = personId;\n        this.name = name;\n        this.age = age;\n\n        this.salary = salary;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public double getSalary() {\n        return salary;\n    }\n\n    public void setSalary(double salary) {\n        this.salary = salary;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592210732,"creation_date":1592210732,"answer_id":62384546,"question_id":40517977,"body_markdown":"This is a simple example :\r\n\r\n    List&lt;String&gt; citiesName = Arrays.asList( &quot;Delhi&quot;,&quot;Mumbai&quot;,&quot;Chennai&quot;,&quot;Banglore&quot;,&quot;Kolkata&quot;);\r\n    System.out.println(&quot;Cities : &quot;+citiesName);\r\n    List&lt;String&gt; sortedByName = citiesName.stream()\r\n    \t\t\t\t.sorted((s1,s2)-&gt;s2.compareTo(s1))\r\n    \t\t\t\t\t\t.collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted by Name : &quot;+ sortedByName);\r\n\r\nIt may be possible that your IDE is not getting the jdk 1.8 or upper version to compile the code. \r\n\r\n**Set the Java version 1.8 for Your_Project** &gt; properties &gt; Project Facets &gt; Java version 1.8","title":"Sorting a list with stream.sorted() in Java","body":"<p>This is a simple example :</p>\n\n<pre><code>List&lt;String&gt; citiesName = Arrays.asList( \"Delhi\",\"Mumbai\",\"Chennai\",\"Banglore\",\"Kolkata\");\nSystem.out.println(\"Cities : \"+citiesName);\nList&lt;String&gt; sortedByName = citiesName.stream()\n                .sorted((s1,s2)-&gt;s2.compareTo(s1))\n                        .collect(Collectors.toList());\nSystem.out.println(\"Sorted by Name : \"+ sortedByName);\n</code></pre>\n\n<p>It may be possible that your IDE is not getting the jdk 1.8 or upper version to compile the code. </p>\n\n<p><strong>Set the Java version 1.8 for Your_Project</strong> > properties > Project Facets > Java version 1.8</p>\n"},{"tags":[],"owner":{"account_id":20402209,"reputation":34,"user_id":14967681,"display_name":"Asmin Shrestha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610127450,"creation_date":1610127450,"answer_id":65633783,"question_id":40517977,"body_markdown":"&gt; **This might help for people ending up here searching how to sort list alphabetically.**\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class SortService {\r\n        public static void main(String[] args) {\r\n            List&lt;TestData&gt; test = new ArrayList&lt;&gt;();\r\n            test.add(prepareTestData(&quot;Asmin&quot;,1));\r\n            test.add(prepareTestData(&quot;saurav&quot;,4));\r\n            test.add(prepareTestData(&quot;asmin&quot;,2));\r\n            test.add(prepareTestData(&quot;Saurav&quot;,3));\r\n    \r\n            test.forEach(data-&gt; System.out.println(data));\r\n            /** Output\r\n             *  TestData(name=Asmin, id=1)\r\n             *  TestData(name=saurav, id=4)\r\n             *  TestData(name=asmin, id=2)\r\n             *  TestData(name=Saurav, id=3)\r\n             */\r\n    \r\n            test.sort(Comparator.comparing(TestData::getName,String::compareToIgnoreCase));\r\n            test.forEach(data-&gt; System.out.println(data));\r\n            /**Sorted Output\r\n             * TestData(name=Asmin, id=1)\r\n             * TestData(name=asmin, id=2)\r\n             * TestData(name=saurav, id=4)\r\n             * TestData(name=Saurav, id=3)\r\n             */\r\n        }\r\n        private static TestData prepareTestData(String name, int id){\r\n            TestData testData= new TestData();\r\n            testData.setId(id);\r\n            testData.setName(name);\r\n            return testData;\r\n        }\r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    class TestData{\r\n        private String name;\r\n        private int id;\r\n    }","title":"Sorting a list with stream.sorted() in Java","body":"<blockquote>\n<p><strong>This might help for people ending up here searching how to sort list alphabetically.</strong></p>\n</blockquote>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class SortService {\n    public static void main(String[] args) {\n        List&lt;TestData&gt; test = new ArrayList&lt;&gt;();\n        test.add(prepareTestData(&quot;Asmin&quot;,1));\n        test.add(prepareTestData(&quot;saurav&quot;,4));\n        test.add(prepareTestData(&quot;asmin&quot;,2));\n        test.add(prepareTestData(&quot;Saurav&quot;,3));\n\n        test.forEach(data-&gt; System.out.println(data));\n        /** Output\n         *  TestData(name=Asmin, id=1)\n         *  TestData(name=saurav, id=4)\n         *  TestData(name=asmin, id=2)\n         *  TestData(name=Saurav, id=3)\n         */\n\n        test.sort(Comparator.comparing(TestData::getName,String::compareToIgnoreCase));\n        test.forEach(data-&gt; System.out.println(data));\n        /**Sorted Output\n         * TestData(name=Asmin, id=1)\n         * TestData(name=asmin, id=2)\n         * TestData(name=saurav, id=4)\n         * TestData(name=Saurav, id=3)\n         */\n    }\n    private static TestData prepareTestData(String name, int id){\n        TestData testData= new TestData();\n        testData.setId(id);\n        testData.setName(name);\n        return testData;\n    }\n}\n\n@Getter\n@Setter\n@ToString\nclass TestData{\n    private String name;\n    private int id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17910967,"reputation":19,"user_id":14678037,"display_name":"Степан Терещук"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1617565976,"creation_date":1617565669,"answer_id":66945266,"question_id":40517977,"body_markdown":"## sorting Integer using streamAPI ##\r\n\r\n    arr.stream()\r\n    .sorted((item1,item2)-&gt; Integer.compare(item1.price, item2.price))\r\n    .forEach(item-&gt; item.show());\r\n    //asc\r\n    System.out.println(&quot;--------------------&quot;);\r\n    //desc\r\n    arr.stream()\r\n    .sorted((item1,item2)-&gt; item1.price&lt;item2.price?1:-1)\r\n    .forEach(item-&gt;item.show());","title":"Sorting a list with stream.sorted() in Java","body":"<h2>sorting Integer using streamAPI</h2>\n<pre><code>arr.stream()\n.sorted((item1,item2)-&gt; Integer.compare(item1.price, item2.price))\n.forEach(item-&gt; item.show());\n//asc\nSystem.out.println(&quot;--------------------&quot;);\n//desc\narr.stream()\n.sorted((item1,item2)-&gt; item1.price&lt;item2.price?1:-1)\n.forEach(item-&gt;item.show());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1681804731,"creation_date":1653303094,"answer_id":72347317,"question_id":40517977,"body_markdown":"Using Comparator:\r\n\r\n    List&lt;Type&gt; result = list\r\n                        .stream()\r\n                        .sorted(Comparator.comparing(Type::getValue))\r\n                        .collect(Collectors.toList());\r\nEDIT: JDK 16+\r\n\r\n    List&lt;Type&gt; result = list\r\n                        .stream()\r\n                        .sorted(Comparator.comparing(Type::getValue))\r\n                        .toList();","title":"Sorting a list with stream.sorted() in Java","body":"<p>Using Comparator:</p>\n<pre><code>List&lt;Type&gt; result = list\n                    .stream()\n                    .sorted(Comparator.comparing(Type::getValue))\n                    .collect(Collectors.toList());\n</code></pre>\n<p>EDIT: JDK 16+</p>\n<pre><code>List&lt;Type&gt; result = list\n                    .stream()\n                    .sorted(Comparator.comparing(Type::getValue))\n                    .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701275120,"creation_date":1701259653,"answer_id":77571012,"question_id":40517977,"body_markdown":"Using Java 8 onward, if you want to do sorting based on some field, you can use some of the static methods inside the `Comparator` interface. \r\n\r\nHere is an example of sorting a position(Long field) inside Positon object.\r\n\r\n```\r\nprivate List&lt;Position&gt; sortPosition(List&lt;Position&gt; positions) {\r\n        return positions.stream()\r\n                .sorted(Comparator.comparingLong(Position::getPosition))\r\n                .toList();\r\n    }\r\n```\r\n\r\n\r\nHere is the method implementation &amp; Java Doc in the Comparator Interface\r\n```\r\n    /**\r\n     * Accepts a function that extracts a {@code long} sort key from a type\r\n     * {@code T}, and returns a {@code Comparator&lt;T&gt;} that compares by that\r\n     * sort key.\r\n     *\r\n     * &lt;p&gt;The returned comparator is serializable if the specified function is\r\n     * also serializable.\r\n     *\r\n     * @param  &lt;T&gt; the type of element to be compared\r\n     * @param  keyExtractor the function used to extract the long sort key\r\n     * @return a comparator that compares by an extracted key\r\n     * @see #comparing(Function)\r\n     * @throws NullPointerException if the argument is null\r\n     * @since 1.8\r\n     */\r\n    public static &lt;T&gt; Comparator&lt;T&gt; comparingLong(ToLongFunction&lt;? super T&gt; keyExtractor) {\r\n        Objects.requireNonNull(keyExtractor);\r\n        return (Comparator&lt;T&gt; &amp; Serializable)\r\n            (c1, c2) -&gt; Long.compare(keyExtractor.applyAsLong(c1), keyExtractor.applyAsLong(c2));\r\n    }\r\n```\r\nOracle documentation link:  \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Sorting a list with stream.sorted() in Java","body":"<p>Using Java 8 onward, if you want to do sorting based on some field, you can use some of the static methods inside the <code>Comparator</code> interface.</p>\n<p>Here is an example of sorting a position(Long field) inside Positon object.</p>\n<pre><code>private List&lt;Position&gt; sortPosition(List&lt;Position&gt; positions) {\n        return positions.stream()\n                .sorted(Comparator.comparingLong(Position::getPosition))\n                .toList();\n    }\n</code></pre>\n<p>Here is the method implementation &amp; Java Doc in the Comparator Interface</p>\n<pre><code>    /**\n     * Accepts a function that extracts a {@code long} sort key from a type\n     * {@code T}, and returns a {@code Comparator&lt;T&gt;} that compares by that\n     * sort key.\n     *\n     * &lt;p&gt;The returned comparator is serializable if the specified function is\n     * also serializable.\n     *\n     * @param  &lt;T&gt; the type of element to be compared\n     * @param  keyExtractor the function used to extract the long sort key\n     * @return a comparator that compares by an extracted key\n     * @see #comparing(Function)\n     * @throws NullPointerException if the argument is null\n     * @since 1.8\n     */\n    public static &lt;T&gt; Comparator&lt;T&gt; comparingLong(ToLongFunction&lt;? super T&gt; keyExtractor) {\n        Objects.requireNonNull(keyExtractor);\n        return (Comparator&lt;T&gt; &amp; Serializable)\n            (c1, c2) -&gt; Long.compare(keyExtractor.applyAsLong(c1), keyExtractor.applyAsLong(c2));\n    }\n</code></pre>\n<p>Oracle documentation link:<br />\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a></p>\n"}],"owner":{"account_id":9568710,"reputation":1651,"user_id":7107100,"display_name":"Ivan C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433660,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":40518343,"answer_count":10,"score":161,"last_activity_date":1701275120,"creation_date":1478735780,"question_id":40517977,"body_markdown":"I&#39;m interested in sorting a list from a stream. This is the code I&#39;m using:\r\n\r\n    list.stream()\r\n        .sorted((o1, o2)-&gt;o1.getItem().getValue().compareTo(o2.getItem().getValue()))\r\n        .collect(Collectors.toList());\r\n\r\nAm I missing something? The list is not sorted afterward.\r\n\r\nIt should sort the lists according to the item with the lowest value.\r\n\r\n    for (int i = 0; i &lt; list.size(); i++)\r\n    {\r\n       System.out.println(&quot;list &quot; + (i+1));\r\n       print(list, i);\r\n    }\r\n\r\nAnd the print method:\r\n\r\n\tpublic static void print(List&lt;List&gt; list, int i)\r\n    {\r\n        System.out.println(list.get(i).getItem().getValue());\r\n    }","title":"Sorting a list with stream.sorted() in Java","body":"<p>I'm interested in sorting a list from a stream. This is the code I'm using:</p>\n<pre><code>list.stream()\n    .sorted((o1, o2)-&gt;o1.getItem().getValue().compareTo(o2.getItem().getValue()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Am I missing something? The list is not sorted afterward.</p>\n<p>It should sort the lists according to the item with the lowest value.</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++)\n{\n   System.out.println(&quot;list &quot; + (i+1));\n   print(list, i);\n}\n</code></pre>\n<p>And the print method:</p>\n<pre><code>public static void print(List&lt;List&gt; list, int i)\n{\n    System.out.println(list.get(i).getItem().getValue());\n}\n</code></pre>\n"},{"tags":["java","maven","jar","package","mp3agic"],"comments":[{"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"score":0,"creation_date":1459650018,"post_id":36380323,"comment_id":60379251,"body_markdown":"Do you have an IDE that you are familiar with? (Eclipse, IntelliJ IDEA etc). That would make things a whole lot easier. I was able to clone that git repo and run Example.java very quickly without any issues.","body":"Do you have an IDE that you are familiar with? (Eclipse, IntelliJ IDEA etc). That would make things a whole lot easier. I was able to clone that git repo and run Example.java very quickly without any issues."}],"answers":[{"tags":[],"owner":{"account_id":8802574,"reputation":39,"user_id":6578231,"display_name":"Abhik Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495734926,"creation_date":1495734926,"answer_id":44186903,"question_id":36380323,"body_markdown":"You have to specify the class path during compilation. (I donot use IDE , I use plain CMD + Notepad++) \r\n\r\nwrite something like this :\r\n\r\n    javac -cp mp3agic-0.9.1-SNAPSHOT.jar; Example.java\r\n\r\nprovided both of them are in the same dir. \r\n\r\nWorked for me ","title":"How do you install MP3agic?","body":"<p>You have to specify the class path during compilation. (I donot use IDE , I use plain CMD + Notepad++) </p>\n\n<p>write something like this :</p>\n\n<pre><code>javac -cp mp3agic-0.9.1-SNAPSHOT.jar; Example.java\n</code></pre>\n\n<p>provided both of them are in the same dir. </p>\n\n<p>Worked for me </p>\n"},{"tags":[],"owner":{"account_id":16214096,"reputation":11,"user_id":11707299,"display_name":"ln_x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571756406,"creation_date":1571756406,"answer_id":58507109,"question_id":36380323,"body_markdown":"*For people like me:*\r\n\r\n**Maven Installation:**\r\n\r\n - Download [Maven][1] (Zip File)\r\n - Unzip Maven (anywhere)\r\n - Add Maven to system eviorment variables ([help][2])\r\n\r\n**Get MP3agic.jar**\r\n\r\n - Download Zip\r\n - Unzip MP3agic (anywhere)\r\n - Open cmd in MP3agic path\r\n - run &quot;mvn clean install&quot;\r\n\r\n**Include MP3agic.jar *(IntelliJ)***\r\n\r\n - Open project structor\r\n - Add Library -&gt; Choose MP3agic.jar\r\n\r\n  [1]: https://maven.apache.org/download.cgi\r\n  [2]: https://www.mkyong.com/maven/how-to-install-maven-in-windows/","title":"How do you install MP3agic?","body":"<p><em>For people like me:</em></p>\n\n<p><strong>Maven Installation:</strong></p>\n\n<ul>\n<li>Download <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Maven</a> (Zip File)</li>\n<li>Unzip Maven (anywhere)</li>\n<li>Add Maven to system eviorment variables (<a href=\"https://www.mkyong.com/maven/how-to-install-maven-in-windows/\" rel=\"nofollow noreferrer\">help</a>)</li>\n</ul>\n\n<p><strong>Get MP3agic.jar</strong></p>\n\n<ul>\n<li>Download Zip</li>\n<li>Unzip MP3agic (anywhere)</li>\n<li>Open cmd in MP3agic path</li>\n<li>run \"mvn clean install\"</li>\n</ul>\n\n<p><strong>Include MP3agic.jar <em>(IntelliJ)</em></strong></p>\n\n<ul>\n<li>Open project structor</li>\n<li>Add Library -> Choose MP3agic.jar</li>\n</ul>\n"}],"owner":{"account_id":8169657,"reputation":21,"user_id":6150610,"display_name":"Schemza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701275060,"creation_date":1459643821,"question_id":36380323,"body_markdown":"MP3agic: https://github.com/mpatric/mp3agic\r\n\r\nExample.java: https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java\r\n\r\nI have been programming in java for a few years but have never installed anything extra relating to java (like MP3agic) before, and I have absolutely no idea how to do it. Reading up on websites it seems like it should be as easy as double-clicking on the .jar file, but when I do that with MP3agic I still don&#39;t have any luck.\r\n\r\nListed on the link above are brief instructions on how to install it: download and install maven (which I&#39;ve done correctly), run &quot;mvn lean package&quot; in CMD, then in the newly created &#39;target&#39; folder there are three jars: mp3agic-0.8.5-SNAPSHOT/SNAPSHOT-javadoc/SNAPSHOT-sources.jar. \r\n\r\nAt this point I double clicked on them all and assumed it was installed, but when I tried to run an Example.java file made for MP3agic (link at top), Java couldn&#39;t compile it.\r\n\r\nI have tried added the path of my &#39;target&#39; folder in the Path Environment Variable, but that hasn&#39;t worked. I also don&#39;t use something like Eclipse for programming (just Notepad++ and CMD, although that&#39;s likely to change)","title":"How do you install MP3agic?","body":"<p>MP3agic: <a href=\"https://github.com/mpatric/mp3agic\" rel=\"nofollow\">https://github.com/mpatric/mp3agic</a></p>\n\n<p>Example.java: <a href=\"https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java\" rel=\"nofollow\">https://github.com/mpatric/mp3agic-examples/blob/master/src/main/java/com/mpatric/mp3agic/example/Example.java</a></p>\n\n<p>I have been programming in java for a few years but have never installed anything extra relating to java (like MP3agic) before, and I have absolutely no idea how to do it. Reading up on websites it seems like it should be as easy as double-clicking on the .jar file, but when I do that with MP3agic I still don't have any luck.</p>\n\n<p>Listed on the link above are brief instructions on how to install it: download and install maven (which I've done correctly), run \"mvn lean package\" in CMD, then in the newly created 'target' folder there are three jars: mp3agic-0.8.5-SNAPSHOT/SNAPSHOT-javadoc/SNAPSHOT-sources.jar. </p>\n\n<p>At this point I double clicked on them all and assumed it was installed, but when I tried to run an Example.java file made for MP3agic (link at top), Java couldn't compile it.</p>\n\n<p>I have tried added the path of my 'target' folder in the Path Environment Variable, but that hasn't worked. I also don't use something like Eclipse for programming (just Notepad++ and CMD, although that's likely to change)</p>\n"},{"tags":["java","quarkus","trace","open-telemetry"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1700334173,"post_id":77500688,"comment_id":136642832,"body_markdown":"have you tried https://quarkus.io/guides/opentelemetry#sampler  with **parentbased_always_on** ?","body":"have you tried <a href=\"https://quarkus.io/guides/opentelemetry#sampler\" rel=\"nofollow noreferrer\">quarkus.io/guides/opentelemetry#sampler</a>  with <b>parentbased_always_on</b> ?"},{"owner":{"account_id":2731159,"reputation":598,"user_id":2354928,"accept_rate":83,"display_name":"lummycoder"},"score":0,"creation_date":1700413660,"post_id":77500688,"comment_id":136648631,"body_markdown":"well, it didn&#39;t help. Tried all  of them","body":"well, it didn&#39;t help. Tried all  of them"}],"owner":{"account_id":2731159,"reputation":598,"user_id":2354928,"accept_rate":83,"display_name":"lummycoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701274645,"creation_date":1700214518,"question_id":77500688,"body_markdown":"Here is the problem - I want to see full traces linked for my flow which includes redirects and during this redirect traces lost. \r\n\r\nI use quarkus + opentelemetry.\r\n\r\nIn the middle sometimes I have ui part which is not always mine so I could pass traceparent or any other values with cookies. \r\n\r\nRedirect is made by another service to which we send request and can not control.\r\n\r\n\r\nLibs used inside:\r\n\r\n    implementation &#39;io.opentelemetry:opentelemetry-exporter-otlp-common&#39;\r\n    implementation &#39;io.opentelemetry:opentelemetry-exporter-otlp&#39;\r\n\r\nWhat I&#39;ve tried already is to create @ServerRequestFilter with higher priority and move from cookie to header traceparent -&gt; it didn&#39;t help.\r\n\r\nCouldn&#39;t find how to correctly create parent span from **traceparent**.\r\n\r\nUPDATE:\r\nFound how to link 2 spans but it seems it works not as I expected\r\n\r\n    SpanContext parentContext = SpanContext.create(values[1], values[2], TraceFlags.getSampled(), TraceState.getDefault());\r\n            Span parentSpan = Span.wrap(parentContext);\r\n            Log.infof(&quot;TRACEPARENT DATA: trace is = &quot; + values[1] + &quot; and span is = &quot; + values[2]);\r\n\r\n            Span span = tracer.spanBuilder(&quot;ui-provider-picker&quot;).setParent(Context.current().with(parentSpan)).startSpan();\r\n            try (Scope scope = span.makeCurrent()) {\r\n            } finally {\r\n                span.setAttribute(&quot;test&quot;, &quot;12345&quot;);\r\n                span.end();\r\n            }\r\n\r\nIt creates new span to main trace flow and attaches to it -&gt; and then I have still separate trace which I wanted to link with all needed tags.\r\n\r\nAny suggestions?","title":"Quarkus opentelemetry link to parent span on redirect","body":"<p>Here is the problem - I want to see full traces linked for my flow which includes redirects and during this redirect traces lost.</p>\n<p>I use quarkus + opentelemetry.</p>\n<p>In the middle sometimes I have ui part which is not always mine so I could pass traceparent or any other values with cookies.</p>\n<p>Redirect is made by another service to which we send request and can not control.</p>\n<p>Libs used inside:</p>\n<pre><code>implementation 'io.opentelemetry:opentelemetry-exporter-otlp-common'\nimplementation 'io.opentelemetry:opentelemetry-exporter-otlp'\n</code></pre>\n<p>What I've tried already is to create @ServerRequestFilter with higher priority and move from cookie to header traceparent -&gt; it didn't help.</p>\n<p>Couldn't find how to correctly create parent span from <strong>traceparent</strong>.</p>\n<p>UPDATE:\nFound how to link 2 spans but it seems it works not as I expected</p>\n<pre><code>SpanContext parentContext = SpanContext.create(values[1], values[2], TraceFlags.getSampled(), TraceState.getDefault());\n        Span parentSpan = Span.wrap(parentContext);\n        Log.infof(&quot;TRACEPARENT DATA: trace is = &quot; + values[1] + &quot; and span is = &quot; + values[2]);\n\n        Span span = tracer.spanBuilder(&quot;ui-provider-picker&quot;).setParent(Context.current().with(parentSpan)).startSpan();\n        try (Scope scope = span.makeCurrent()) {\n        } finally {\n            span.setAttribute(&quot;test&quot;, &quot;12345&quot;);\n            span.end();\n        }\n</code></pre>\n<p>It creates new span to main trace flow and attaches to it -&gt; and then I have still separate trace which I wanted to link with all needed tags.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","apache-kafka","interceptor","photon"],"comments":[{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1701256779,"post_id":77569007,"comment_id":136752408,"body_markdown":"what kind of metrics? may be have a look at spring actuator framework once.","body":"what kind of metrics? may be have a look at spring actuator framework once."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1701293283,"post_id":77569007,"comment_id":136759316,"body_markdown":"may be create your own auto-configuration with an interceptor?","body":"may be create your own auto-configuration with an interceptor?"},{"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"score":0,"creation_date":1701359621,"post_id":77569007,"comment_id":136768304,"body_markdown":"I have configured micrometer so that it will fetch default metrics of springboot application. Can I go ahead with interceptors or AOP ? Which one will be the better option ?","body":"I have configured micrometer so that it will fetch default metrics of springboot application. Can I go ahead with interceptors or AOP ? Which one will be the better option ?"},{"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"score":0,"creation_date":1701361961,"post_id":77569007,"comment_id":136768803,"body_markdown":"Without adding logs at the endpoint level, can we capture all the logs from all MVC layers using interceptor ? I mean separating business logic with secondary logic","body":"Without adding logs at the endpoint level, can we capture all the logs from all MVC layers using interceptor ? I mean separating business logic with secondary logic"}],"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701766198,"answer_count":0,"score":0,"last_activity_date":1701274333,"creation_date":1701239522,"question_id":77569007,"body_markdown":"I&#39;m planning to fetch some photon metrics from a spring boot application. This application acts as a Kafka Consumer. Similarly I have multiple spring boot applications. \r\n\r\nI want to make this activity generic for all applications. So thought of creating an utility and just plugin this utility where ever we want to fetch the metrics. \r\n\r\nCan we make use of interceptors to collect all these metrics ? Is it possible to use interceptors in this scenario?\r\n","title":"Can we add interceptors in Kafka Consumers?","body":"<p>I'm planning to fetch some photon metrics from a spring boot application. This application acts as a Kafka Consumer. Similarly I have multiple spring boot applications.</p>\n<p>I want to make this activity generic for all applications. So thought of creating an utility and just plugin this utility where ever we want to fetch the metrics.</p>\n<p>Can we make use of interceptors to collect all these metrics ? Is it possible to use interceptors in this scenario?</p>\n"},{"tags":["java","jacoco"],"answers":[{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273677,"creation_date":1701273677,"answer_id":77572737,"question_id":77571470,"body_markdown":"This, unfortunately, is a known limitation of JaCoCo. JaCoCo works by injecting probes at various places into your code (in your example, before and after the `return`). If the JVM executes a probe, JaCoCo assumes any code before that probe has been covered. However, `return` or `throw` statements exit the function, and the probe right after the `return` or `throw` statement is never reached. JaCoCo therefore assumes that the `return`/`throw` have not been covered. JaCoCo&#39;s [FAQ](https://www.eclemma.org/jacoco/trunk/doc/faq.html) have more info about that.\r\n\r\nOne peculiar thing about your example is though that JaCoCo usually recognizes this condition at least for `return` statements and therefore marks `return` statements as covered even if only the probe before the return statement is reached.","title":"Jacoco report missing branches but tests are existing for those","body":"<p>This, unfortunately, is a known limitation of JaCoCo. JaCoCo works by injecting probes at various places into your code (in your example, before and after the <code>return</code>). If the JVM executes a probe, JaCoCo assumes any code before that probe has been covered. However, <code>return</code> or <code>throw</code> statements exit the function, and the probe right after the <code>return</code> or <code>throw</code> statement is never reached. JaCoCo therefore assumes that the <code>return</code>/<code>throw</code> have not been covered. JaCoCo's <a href=\"https://www.eclemma.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">FAQ</a> have more info about that.</p>\n<p>One peculiar thing about your example is though that JaCoCo usually recognizes this condition at least for <code>return</code> statements and therefore marks <code>return</code> statements as covered even if only the probe before the return statement is reached.</p>\n"}],"owner":{"account_id":11296153,"reputation":166,"user_id":8283622,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701273677,"creation_date":1701263721,"question_id":77571470,"body_markdown":"I have Spring Boot maven multimodule project with java version 21 and for code coverage using Jacoco version 0.8.11. Unit test are written using groovy.\r\n\r\nI have class like this:\r\n\r\n    package ********************;\r\n    \r\n    import lombok.Getter;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    @Getter\r\n    public enum SomeEnum {\r\n        VALUE1(&quot;some-value1&quot;),\r\n    \r\n        VALUE2(&quot;some-value2&quot;),\r\n    \r\n        VALUE3(&quot;some-value3&quot;);\r\n    \r\n        private final String value;\r\n    \r\n    \r\n        private SomeEnum(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public static SomeEnum fromValue(String value) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            return Arrays.stream(values())\r\n                    .filter(someEnum -&gt; someEnum.getValue().equals(value))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid input value&quot;));\r\n        }\r\n    }\r\n\r\n\r\nHere is Groovy test:\r\n\r\n    package *****************************\r\n    \r\n    import *********************.SomeEnum\r\n    import spock.lang.Specification\r\n    \r\n    class SomeEnumTest extends Specification {\r\n    \r\n        def &#39;test1&#39;(String s, SomeEnum expected) {\r\n            when:\r\n            var resp = SomeEnum.fromValue(s)\r\n            then:\r\n            resp == expected\r\n            where:\r\n            s || expected\r\n            &#39;some-value1&#39; || SomeEnum.VALUE1\r\n            &#39;some-value2&#39; || SomeEnum.VALUE2\r\n            &#39;some-value3&#39; || SomeEnum.VALUE3\r\n        }\r\n    \r\n        def &#39;test2&#39;() {\r\n            when:\r\n            SomeEnum.fromValue(&#39;bs&#39;)\r\n            then:\r\n            thrown(IllegalArgumentException)\r\n        }\r\n    }\r\n\r\n\r\nIn the result of jacoco I see this part is not covered but the test for it exists. Constructor and enum values are covered. Test is successfully run. What is the problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44nWf.png","title":"Jacoco report missing branches but tests are existing for those","body":"<p>I have Spring Boot maven multimodule project with java version 21 and for code coverage using Jacoco version 0.8.11. Unit test are written using groovy.</p>\n<p>I have class like this:</p>\n<pre><code>package ********************;\n\nimport lombok.Getter;\n\nimport java.util.Arrays;\n\n@Getter\npublic enum SomeEnum {\n    VALUE1(&quot;some-value1&quot;),\n\n    VALUE2(&quot;some-value2&quot;),\n\n    VALUE3(&quot;some-value3&quot;);\n\n    private final String value;\n\n\n    private SomeEnum(String value) {\n        this.value = value;\n    }\n\n    public static SomeEnum fromValue(String value) {\n        if (value == null) {\n            return null;\n        }\n        return Arrays.stream(values())\n                .filter(someEnum -&gt; someEnum.getValue().equals(value))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid input value&quot;));\n    }\n}\n</code></pre>\n<p>Here is Groovy test:</p>\n<pre><code>package *****************************\n\nimport *********************.SomeEnum\nimport spock.lang.Specification\n\nclass SomeEnumTest extends Specification {\n\n    def 'test1'(String s, SomeEnum expected) {\n        when:\n        var resp = SomeEnum.fromValue(s)\n        then:\n        resp == expected\n        where:\n        s || expected\n        'some-value1' || SomeEnum.VALUE1\n        'some-value2' || SomeEnum.VALUE2\n        'some-value3' || SomeEnum.VALUE3\n    }\n\n    def 'test2'() {\n        when:\n        SomeEnum.fromValue('bs')\n        then:\n        thrown(IllegalArgumentException)\n    }\n}\n</code></pre>\n<p>In the result of jacoco I see this part is not covered but the test for it exists. Constructor and enum values are covered. Test is successfully run. What is the problem?</p>\n<p><a href=\"https://i.stack.imgur.com/44nWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44nWf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","types"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1353075160,"creation_date":1353075160,"answer_id":13418307,"question_id":13418202,"body_markdown":"They are used in reflection.\r\n\r\n    Method round = Math.class.getMethod(&quot;round&quot;, double.class);\r\n    System.out.println(Arrays.toString(round.getParameterTypes()));\r\n    System.out.println(round.getReturnType() == long.class);\r\n\r\n    Method exit = System.class.getMethod(&quot;exit&quot;, int.class);\r\n    System.out.println(Arrays.toString(exit.getParameterTypes()));\r\n    System.out.println(exit.getReturnType() == void.class);\r\n\r\nprints\r\n\r\n    [double]\r\n    true\r\n    [int]\r\n    true\r\n\r\n&gt; how are they implemented?\r\n\r\nThey are builtin to the JVM, there is no class file to define them.\r\n\r\n","title":"Why do primitive types have a &quot;Class&quot; and how is it intended to be used?","body":"<p>They are used in reflection.</p>\n\n<pre><code>Method round = Math.class.getMethod(\"round\", double.class);\nSystem.out.println(Arrays.toString(round.getParameterTypes()));\nSystem.out.println(round.getReturnType() == long.class);\n\nMethod exit = System.class.getMethod(\"exit\", int.class);\nSystem.out.println(Arrays.toString(exit.getParameterTypes()));\nSystem.out.println(exit.getReturnType() == void.class);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>[double]\ntrue\n[int]\ntrue\n</code></pre>\n\n<blockquote>\n  <p>how are they implemented?</p>\n</blockquote>\n\n<p>They are builtin to the JVM, there is no class file to define them.</p>\n"}],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":13418307,"answer_count":1,"score":4,"last_activity_date":1701273414,"creation_date":1353074801,"question_id":13418202,"body_markdown":"Talking about Java (7) you can get a class for a primitive type like this: \r\n\r\n    Class classOfInt = int.class\r\n\r\nFor each one you&#39;ll get a &quot;class&quot; named as the primitive type:\r\n\r\n\r\n    int.class    --&gt; int\r\n    byte.class   --&gt; byte\r\n    double.class --&gt; double\r\n    ...\r\n\r\nHowever you can&#39;t create an instance of those:\r\n\r\n    char.class.newInstance(); // throws &#39;InstantiationException&#39;\r\n\r\nIt seems that their classes are not mapped to corresponding wrapper classes (`Integer`, `Byte`, etc.).\r\n\r\nSo why do they have &quot;classes&quot;, how are they used and how are they implemented?\r\n\r\n\r\n\r\n","title":"Why do primitive types have a &quot;Class&quot; and how is it intended to be used?","body":"<p>Talking about Java (7) you can get a class for a primitive type like this:</p>\n<pre><code>Class classOfInt = int.class\n</code></pre>\n<p>For each one you'll get a &quot;class&quot; named as the primitive type:</p>\n<pre><code>int.class    --&gt; int\nbyte.class   --&gt; byte\ndouble.class --&gt; double\n...\n</code></pre>\n<p>However you can't create an instance of those:</p>\n<pre><code>char.class.newInstance(); // throws 'InstantiationException'\n</code></pre>\n<p>It seems that their classes are not mapped to corresponding wrapper classes (<code>Integer</code>, <code>Byte</code>, etc.).</p>\n<p>So why do they have &quot;classes&quot;, how are they used and how are they implemented?</p>\n"},{"tags":["java","spring-boot","stored-procedures"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701216643,"post_id":77567008,"comment_id":136747516,"body_markdown":"What happens if you execute `runnable.run();` so it executes in the foreground - do you still get the same error?","body":"What happens if you execute <code>runnable.run();</code> so it executes in the foreground - do you still get the same error?"},{"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"score":0,"creation_date":1701257569,"post_id":77567008,"comment_id":136752552,"body_markdown":"@Bohemian No error in that case, but it runs in sequence. I don&#39;t want to have to wait for the SP to be done.","body":"@Bohemian No error in that case, but it runs in sequence. I don&#39;t want to have to wait for the SP to be done."}],"answers":[{"tags":[],"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701273288,"creation_date":1701273288,"answer_id":77572696,"question_id":77567008,"body_markdown":"I got it to run in the end. As I was suspecting, the problem was that the worker thread wasn&#39;t getting a transaction. @Transactional does not support multithreading whatsoever, so if you call a method marked by it from another thread, it&#39;s like there is nothing there. \r\n\r\nI was able to use transaction manager to force a transaction on the worker thread:\r\n\r\n    Runnable runnable = () -&gt; {\r\n        transactionTemplate.execute(new TransactionCallback() {\r\n          // the code in this method runs in a transactional context\r\n          public Object doInTransaction(TransactionStatus status) {\r\n            return runStoredProcedure(finalUploadInstance, fileReport);\r\n          }\r\n        });\r\n\r\n      };\r\n      new Thread(runnable).start();\r\n","title":"Running stored procedure without waiting for it to finish","body":"<p>I got it to run in the end. As I was suspecting, the problem was that the worker thread wasn't getting a transaction. @Transactional does not support multithreading whatsoever, so if you call a method marked by it from another thread, it's like there is nothing there.</p>\n<p>I was able to use transaction manager to force a transaction on the worker thread:</p>\n<pre><code>Runnable runnable = () -&gt; {\n    transactionTemplate.execute(new TransactionCallback() {\n      // the code in this method runs in a transactional context\n      public Object doInTransaction(TransactionStatus status) {\n        return runStoredProcedure(finalUploadInstance, fileReport);\n      }\n    });\n\n  };\n  new Thread(runnable).start();\n</code></pre>\n"}],"owner":{"account_id":20908776,"reputation":175,"user_id":15360108,"display_name":"Lucas Andrade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701273288,"creation_date":1701203748,"question_id":77567008,"body_markdown":"So I have this stored procedure that I run from my Spring boot application. It works and life is good.\r\n\r\nNow I want to run it asynchronously. Just launch the process and not leave the consumer waiting for the response, but so far I haven&#39;t been able to. Both when calling it from a CompletableFuture or from a new Thread, it throws this error:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: p_return_code; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: p_return_code\r\n\r\n\r\np_return_code is the first of the output parameters. This is the code:\r\n\r\n    final UploadInstanceEntity finalUploadInstance = uploadInstance;\r\n      Runnable runnable = () -&gt; {\r\n        System.out.println(&quot;Lambda Runnable running&quot;);\r\n        runStoredProcedure(finalUploadInstance, fileReport);\r\n      };\r\n\r\n      Thread thread = new Thread(runnable);\r\n      thread.start();\r\n\r\nAnd the function:\r\n\r\n    @Transactional\r\n      private void runStoredProcedure(UploadInstanceEntity uploadInstance, FileReport fileReport) {\r\n\r\n    Map&lt;String, Object&gt; result = uploadInstanceRepository.fileUpload(&quot;CPI&quot;, uploadInstance.getId());\r\n\r\n\r\nI added the transactional but that alone didnt fix it.\r\n\r\nI also played around with the @Async annotation (and respective configurations), but it always ran in sync. Never in background.\r\n\r\nAny ideas how to do this? Am I even on the right track?","title":"Running stored procedure without waiting for it to finish","body":"<p>So I have this stored procedure that I run from my Spring boot application. It works and life is good.</p>\n<p>Now I want to run it asynchronously. Just launch the process and not leave the consumer waiting for the response, but so far I haven't been able to. Both when calling it from a CompletableFuture or from a new Thread, it throws this error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: p_return_code; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: p_return_code\n</code></pre>\n<p>p_return_code is the first of the output parameters. This is the code:</p>\n<pre><code>final UploadInstanceEntity finalUploadInstance = uploadInstance;\n  Runnable runnable = () -&gt; {\n    System.out.println(&quot;Lambda Runnable running&quot;);\n    runStoredProcedure(finalUploadInstance, fileReport);\n  };\n\n  Thread thread = new Thread(runnable);\n  thread.start();\n</code></pre>\n<p>And the function:</p>\n<pre><code>@Transactional\n  private void runStoredProcedure(UploadInstanceEntity uploadInstance, FileReport fileReport) {\n\nMap&lt;String, Object&gt; result = uploadInstanceRepository.fileUpload(&quot;CPI&quot;, uploadInstance.getId());\n</code></pre>\n<p>I added the transactional but that alone didnt fix it.</p>\n<p>I also played around with the @Async annotation (and respective configurations), but it always ran in sync. Never in background.</p>\n<p>Any ideas how to do this? Am I even on the right track?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700023183,"post_id":77484991,"comment_id":136602904,"body_markdown":"I wonder if calling `getClass()` on your controller class rather than your `Application` subclass is part of the problem.","body":"I wonder if calling <code>getClass()</code> on your controller class rather than your <code>Application</code> subclass is part of the problem."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700026374,"post_id":77484991,"comment_id":136603131,"body_markdown":"Is Login() executed if you click the button? Can you put a system out in the method to check this? System.out.println(&quot;username=&quot;+username) please, because you don&#39;t see the s.out if username is empty.","body":"Is Login() executed if you click the button? Can you put a system out in the method to check this? System.out.println(&quot;username=&quot;+username) please, because you don&#39;t see the s.out if username is empty."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700026488,"post_id":77484991,"comment_id":136603140,"body_markdown":"And please remove &quot;if (event.getSource()==loginButton)&quot;. This is guaranteed bot good. You could compare with &quot;.equals()&quot;, but just don&#39;t. It is not necessary.","body":"And please remove &quot;if (event.getSource()==loginButton)&quot;. This is guaranteed bot good. You could compare with &quot;.equals()&quot;, but just don&#39;t. It is not necessary."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1700047125,"post_id":77484991,"comment_id":136606094,"body_markdown":"you have `onAction=&quot;#login&quot;` in TextField, PasswordField and Button try to only have it for the button","body":"you have <code>onAction=&quot;#login&quot;</code> in TextField, PasswordField and Button try to only have it for the button"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052614,"post_id":77484991,"comment_id":136607032,"body_markdown":"The code you posted here works as expected for me. I copied and pasted the two classes and FXML verbatim, ran the `UserLogin` application, and when I logged in it output the lines from the `System.out.println(...)` statements and tried to load `ShoppingInterface.fxml`.","body":"The code you posted here works as expected for me. I copied and pasted the two classes and FXML verbatim, ran the <code>UserLogin</code> application, and when I logged in it output the lines from the <code>System.out.println(...)</code> statements and tried to load <code>ShoppingInterface.fxml</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052710,"post_id":77484991,"comment_id":136607051,"body_markdown":"@Anon Why on earth would that make any difference?","body":"@Anon Why on earth would that make any difference?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700052774,"post_id":77484991,"comment_id":136607060,"body_markdown":"@DavidWeber `==` and `.equals(...)` are completely equivalent in this scenario (both are redundant though as they are necessarily true).","body":"@DavidWeber <code>==</code> and <code>.equals(...)</code> are completely equivalent in this scenario (both are redundant though as they are necessarily true)."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700058127,"post_id":77484991,"comment_id":136608156,"body_markdown":"@James_D just as I said: &quot;but just don&#39;t&quot; (compare the button). &quot;It is not necessary&quot;. To the other topic: Comparing references with == is not a good idea IMO, unless you know exactly what you are doing.","body":"@James_D just as I said: &quot;but just don&#39;t&quot; (compare the button). &quot;It is not necessary&quot;. To the other topic: Comparing references with == is not a good idea IMO, unless you know exactly what you are doing."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700062791,"post_id":77484991,"comment_id":136609137,"body_markdown":"@DavidWeber Agreed on &quot;just don&#39;t&quot;. But I disagree completely with &quot;You could compare with `.equals(...)`&quot;. In this case, if `.equals(...)` was overridden so it was different to `==`, then `==` would give the correct logic, and `.equals(...)` would give the incorrect logic. So if you did do a comparison, you should do it with `==`.","body":"@DavidWeber Agreed on &quot;just don&#39;t&quot;. But I disagree completely with &quot;You could compare with <code>.equals(...)</code>&quot;. In this case, if <code>.equals(...)</code> was overridden so it was different to <code>==</code>, then <code>==</code> would give the correct logic, and <code>.equals(...)</code> would give the incorrect logic. So if you did do a comparison, you should do it with <code>==</code>."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700063200,"post_id":77484991,"comment_id":136609213,"body_markdown":"You are right with that, that&#39;s why I said &quot;unless you know exactly what you are doing&quot;. :)","body":"You are right with that, that&#39;s why I said &quot;unless you know exactly what you are doing&quot;. :)"},{"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"score":0,"creation_date":1700098758,"post_id":77484991,"comment_id":136614324,"body_markdown":"@DavidWeber I tried using print statements within the method but nothing prints inside the terminal once the button is pressed","body":"@DavidWeber I tried using print statements within the method but nothing prints inside the terminal once the button is pressed"},{"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"score":0,"creation_date":1700099429,"post_id":77484991,"comment_id":136614393,"body_markdown":"@James_D I just copied everything over into a new project file and it runs fine as you said. Sorry for what seems to be a lack of effort on my part, I&#39;m a student and still learning how to troubleshoot my own errors!","body":"@James_D I just copied everything over into a new project file and it runs fine as you said. Sorry for what seems to be a lack of effort on my part, I&#39;m a student and still learning how to troubleshoot my own errors!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700142917,"post_id":77484991,"comment_id":136620166,"body_markdown":"Do **not** use the `Initializable` interface. It has been superseded by an injection approach, as of JavaFX 2.1. See the [documentation](https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/Initializable.html).","body":"Do <b>not</b> use the <code>Initializable</code> interface. It has been superseded by an injection approach, as of JavaFX 2.1. See the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700143878,"post_id":77484991,"comment_id":136620338,"body_markdown":"@TristanD Actually This is a well-written question, because it contains everything needed to copy, paste, and run the application. That&#39;s how I was able to determine there was nothing wrong with the code you posted (so presumably something was wrong with the configuration, or possibly the original project needed a &quot;clean and rebuild&quot;). I don&#39;t know why so many people posted comments with random, incorrect guesses on here when you provided everything needed to try to reproduce the problem.","body":"@TristanD Actually This is a well-written question, because it contains everything needed to copy, paste, and run the application. That&#39;s how I was able to determine there was nothing wrong with the code you posted (so presumably something was wrong with the configuration, or possibly the original project needed a &quot;clean and rebuild&quot;). I don&#39;t know why so many people posted comments with random, incorrect guesses on here when you provided everything needed to try to reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273246,"creation_date":1701273246,"answer_id":77572693,"question_id":77484991,"body_markdown":"**Solution for future readers:**\r\n\r\nThe solution was to copy everything over into a new project. After that it worked. The mistake was caused by the questioneer himself.\r\n\r\nCredits to @James_D for figuring this out. ","title":"JavaFX login screen will not switch scenes","body":"<p><strong>Solution for future readers:</strong></p>\n<p>The solution was to copy everything over into a new project. After that it worked. The mistake was caused by the questioneer himself.</p>\n<p>Credits to @James_D for figuring this out.</p>\n"}],"owner":{"account_id":29905288,"reputation":11,"user_id":22917964,"display_name":"Tristan D"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701273246,"creation_date":1700017167,"question_id":77484991,"body_markdown":"I hav a JavaFx project that uses a login screen to to switch pages for accredited users. However, when my login button is pressed with the correct credentials in the the textfield and passwordfield, nothing happens, no errors are given either. Can someone help me figure out why there&#39;s not a scene switch occurring?\r\n\r\nHere is my FXML file for my login page:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.PasswordField?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mall.HelloController&quot;&gt;\r\n    &lt;left&gt;\r\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;350.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;92.0&quot; layoutY=&quot;244.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;The Shopping Mall&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font size=&quot;20.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Text&gt;\r\n            &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/left&gt;\r\n    &lt;right&gt;\r\n        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;415.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;TextField id=&quot;username&quot; fx:id=&quot;usernameField&quot; layoutX=&quot;101.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#login&quot; promptText=&quot;Username&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\r\n                &lt;PasswordField id=&quot;password&quot; fx:id=&quot;passwordField&quot; layoutX=&quot;102.0&quot; layoutY=&quot;261.0&quot; onAction=&quot;#login&quot; promptText=&quot;Password&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\r\n                &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;129.0&quot; layoutY=&quot;335.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; /&gt;\r\n                &lt;Text fill=&quot;#6d5090&quot; layoutX=&quot;125.0&quot; layoutY=&quot;129.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;User Login&quot;&gt;\r\n                    &lt;font&gt;\r\n                        &lt;Font size=&quot;22.0&quot; /&gt;\r\n                    &lt;/font&gt;\r\n                &lt;/Text&gt;\r\n                &lt;Button layoutX=&quot;320.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;30.0&quot; style=&quot;-fx-background-color: transparent;&quot;&gt;\r\n                    &lt;graphic&gt;\r\n                        &lt;Text fill=&quot;#6d5090&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;X&quot;&gt;\r\n                            &lt;font&gt;\r\n                                &lt;Font size=&quot;16.0&quot; /&gt;\r\n                            &lt;/font&gt;\r\n                        &lt;/Text&gt;\r\n                    &lt;/graphic&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;106.0&quot; layoutY=&quot;402.0&quot; text=&quot;Incorrect Login. Try Again&quot; textFill=&quot;#ff4d4d&quot; visible=&quot;false&quot; /&gt;\r\n            &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n    &lt;/right&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n```\r\n\r\nHere is my controller class:\r\n\r\n```\r\npackage com.example.mall;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.scene.Parent;\r\nimport java.io.IOException;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\nimport java.util.HashMap;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.control.TextField;\r\n\r\npublic class HelloController {\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n\r\n    @FXML\r\n    private Label errorLabel;\r\n\r\n    @FXML\r\n    private Button loginButton;\r\n\r\n    @FXML\r\n    private PasswordField passwordField;\r\n\r\n    @FXML\r\n    private TextField usernameField;\r\n\r\n    @FXML\r\n    private void exit(ActionEvent event) {\r\n        System.exit(0);\r\n    }\r\n\r\n    \r\n\r\n   @FXML\r\n    public void login(ActionEvent event) throws IOException {\r\n\r\n           HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\r\n\r\n           logininfo.put(&quot;customer&quot;,&quot;customer123&quot;);\r\n           logininfo.put(&quot;staff&quot;,&quot;staff123&quot;);\r\n           logininfo.put(&quot;ceo&quot;,&quot;ceo123&quot;);\r\n           String username;\r\n           username = usernameField.getText();\r\n       System.out.println(username);\r\n           String password;\r\n           password = String.valueOf(passwordField.getText());\r\n\r\n       System.out.println(password);\r\n\r\n         if (event.getSource()==loginButton){\r\n             //if(logininfo.containsKey(username)){\r\n                 System.out.println(&quot;Switching scenesaaaaaaa&quot;);\r\n                    if(logininfo.get(username).equals(password)){\r\n                        System.out.println(&quot;Switching scenes&quot;);\r\n                        switchScene(event, &quot;ShoppingInterface.fxml&quot;);\r\n                    }\r\n\r\n            //}\r\n         }\r\n\r\n    }\r\n\r\n\r\n    public void switchScene(ActionEvent event,String fxmlFileName) throws IOException {\r\n\r\n            System.out.println(&quot;Switching to scene: &quot; + fxmlFileName);\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFileName));\r\n            Scene newScene = new Scene(loader.load());\r\n            Stage primaryStage = (Stage) ((Node)event.getSource()).getScene().getWindow();\r\n\r\n            primaryStage.setScene(newScene);\r\n            primaryStage.show();\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd here is my main file:\r\n\r\n```\r\npackage com.example.mall;\r\n\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\nimport javafx.scene.Parent;\r\nimport java.io.IOException;\r\n\r\npublic class UserLogin extends Application {\r\n\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n\r\n        stage.initStyle(StageStyle.DECORATED.UNDECORATED);\r\n\r\n        root.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event){\r\n                xOffset = event.getScreenX();\r\n                yOffset = event.getScreenY();\r\n            }\r\n\r\n        });\r\n\r\n        root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent event){\r\n                stage.setX(event.getScreenX() - xOffset );\r\n                stage.setY(event.getScreenY() - yOffset );\r\n\r\n            }\r\n        });\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve made sure my onAction is linked to the correct method name, and I even tried using print statements throughout the process of entering the username and password but even those statements don&#39;t print within the terminal.","title":"JavaFX login screen will not switch scenes","body":"<p>I hav a JavaFx project that uses a login screen to to switch pages for accredited users. However, when my login button is pressed with the correct credentials in the the textfield and passwordfield, nothing happens, no errors are given either. Can someone help me figure out why there's not a scene switch occurring?</p>\n<p>Here is my FXML file for my login page:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mall.HelloController&quot;&gt;\n    &lt;left&gt;\n        &lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;350.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;children&gt;\n                &lt;Text fill=&quot;WHITE&quot; layoutX=&quot;92.0&quot; layoutY=&quot;244.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;The Shopping Mall&quot;&gt;\n                    &lt;font&gt;\n                        &lt;Font size=&quot;20.0&quot; /&gt;\n                    &lt;/font&gt;\n                &lt;/Text&gt;\n            &lt;/children&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/left&gt;\n    &lt;right&gt;\n        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;415.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n            &lt;children&gt;\n                &lt;TextField id=&quot;username&quot; fx:id=&quot;usernameField&quot; layoutX=&quot;101.0&quot; layoutY=&quot;208.0&quot; onAction=&quot;#login&quot; promptText=&quot;Username&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\n                &lt;PasswordField id=&quot;password&quot; fx:id=&quot;passwordField&quot; layoutX=&quot;102.0&quot; layoutY=&quot;261.0&quot; onAction=&quot;#login&quot; promptText=&quot;Password&quot; style=&quot;-fx-background-color: transparent; -fx-border-color: #0598ff; -fx-border-width: 0px 0px 2px 0px;&quot; /&gt;\n                &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;129.0&quot; layoutY=&quot;335.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#login&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #6D5090;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; /&gt;\n                &lt;Text fill=&quot;#6d5090&quot; layoutX=&quot;125.0&quot; layoutY=&quot;129.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;User Login&quot;&gt;\n                    &lt;font&gt;\n                        &lt;Font size=&quot;22.0&quot; /&gt;\n                    &lt;/font&gt;\n                &lt;/Text&gt;\n                &lt;Button layoutX=&quot;320.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;30.0&quot; style=&quot;-fx-background-color: transparent;&quot;&gt;\n                    &lt;graphic&gt;\n                        &lt;Text fill=&quot;#6d5090&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;X&quot;&gt;\n                            &lt;font&gt;\n                                &lt;Font size=&quot;16.0&quot; /&gt;\n                            &lt;/font&gt;\n                        &lt;/Text&gt;\n                    &lt;/graphic&gt;\n                &lt;/Button&gt;\n                &lt;Label fx:id=&quot;errorLabel&quot; layoutX=&quot;106.0&quot; layoutY=&quot;402.0&quot; text=&quot;Incorrect Login. Try Again&quot; textFill=&quot;#ff4d4d&quot; visible=&quot;false&quot; /&gt;\n            &lt;/children&gt;\n        &lt;/AnchorPane&gt;\n    &lt;/right&gt;\n&lt;/BorderPane&gt;\n\n</code></pre>\n<p>Here is my controller class:</p>\n<pre><code>package com.example.mall;\n\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.scene.Parent;\nimport java.io.IOException;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\nimport java.util.HashMap;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\n\npublic class HelloController {\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n\n\n    @FXML\n    private Label errorLabel;\n\n    @FXML\n    private Button loginButton;\n\n    @FXML\n    private PasswordField passwordField;\n\n    @FXML\n    private TextField usernameField;\n\n    @FXML\n    private void exit(ActionEvent event) {\n        System.exit(0);\n    }\n\n    \n\n   @FXML\n    public void login(ActionEvent event) throws IOException {\n\n           HashMap&lt;String,String&gt; logininfo = new HashMap&lt;String,String&gt;();\n\n           logininfo.put(&quot;customer&quot;,&quot;customer123&quot;);\n           logininfo.put(&quot;staff&quot;,&quot;staff123&quot;);\n           logininfo.put(&quot;ceo&quot;,&quot;ceo123&quot;);\n           String username;\n           username = usernameField.getText();\n       System.out.println(username);\n           String password;\n           password = String.valueOf(passwordField.getText());\n\n       System.out.println(password);\n\n         if (event.getSource()==loginButton){\n             //if(logininfo.containsKey(username)){\n                 System.out.println(&quot;Switching scenesaaaaaaa&quot;);\n                    if(logininfo.get(username).equals(password)){\n                        System.out.println(&quot;Switching scenes&quot;);\n                        switchScene(event, &quot;ShoppingInterface.fxml&quot;);\n                    }\n\n            //}\n         }\n\n    }\n\n\n    public void switchScene(ActionEvent event,String fxmlFileName) throws IOException {\n\n            System.out.println(&quot;Switching to scene: &quot; + fxmlFileName);\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlFileName));\n            Scene newScene = new Scene(loader.load());\n            Stage primaryStage = (Stage) ((Node)event.getSource()).getScene().getWindow();\n\n            primaryStage.setScene(newScene);\n            primaryStage.show();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\n\n    }\n}\n\n\n</code></pre>\n<p>And here is my main file:</p>\n<pre><code>package com.example.mall;\n\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.scene.Parent;\nimport java.io.IOException;\n\npublic class UserLogin extends Application {\n\n    private double xOffset = 0;\n    private double yOffset = 0;\n\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Login.fxml&quot;));\n        Scene scene = new Scene(root);\n\n        stage.initStyle(StageStyle.DECORATED.UNDECORATED);\n\n        root.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent event){\n                xOffset = event.getScreenX();\n                yOffset = event.getScreenY();\n            }\n\n        });\n\n        root.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent event){\n                stage.setX(event.getScreenX() - xOffset );\n                stage.setY(event.getScreenY() - yOffset );\n\n            }\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I've made sure my onAction is linked to the correct method name, and I even tried using print statements throughout the process of entering the username and password but even those statements don't print within the terminal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701272658,"post_id":77572581,"comment_id":136755742,"body_markdown":"No, primitives are not objects, but sometimes you need a class to represent a primitive type (e.g. when using reflection).","body":"No, primitives are not objects, but sometimes you need a class to represent a primitive type (e.g. when using reflection)."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701272747,"post_id":77572581,"comment_id":136755757,"body_markdown":"That said, `java.lang.Class` does not have a `getPrimitiveClass(String name)` method. Which method are you asking about?","body":"That said, <code>java.lang.Class</code> does not have a <code>getPrimitiveClass(String name)</code> method. Which method are you asking about?"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1701272825,"post_id":77572581,"comment_id":136755774,"body_markdown":"@MarkRotteveel It actually does; it just has package visibility: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Class.java#l2312","body":"@MarkRotteveel It actually does; it just has package visibility: <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/Class.java#l2312\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701272875,"post_id":77572581,"comment_id":136755787,"body_markdown":"@SolomonUcko Ah, thanks, I was just going by the API doc of [`Class`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html)","body":"@SolomonUcko Ah, thanks, I was just going by the API doc of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a>"},{"owner":{"account_id":30023750,"reputation":1,"user_id":23008496,"display_name":"Kas"},"score":1,"creation_date":1701272974,"post_id":77572581,"comment_id":136755808,"body_markdown":"I&#39;ve seen this method in field of Integer class:\npublic static final Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(&quot;int&quot;);","body":"I&#39;ve seen this method in field of Integer class: public static final Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(&quot;int&quot;);"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1701273059,"post_id":77572581,"comment_id":136755821,"body_markdown":"It&#39;s undocumented, so there may not be a reliable description of what it does. One possible non-native implementation here: https://stackoverflow.com/a/25514941/21105992","body":"It&#39;s undocumented, so there may not be a reliable description of what it does. One possible non-native implementation here: <a href=\"https://stackoverflow.com/a/25514941/21105992\">stackoverflow.com/a/25514941/21105992</a>"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1701273660,"post_id":77572581,"comment_id":136755968,"body_markdown":"Here&#39;s the relevant native code, if you&#39;re curious: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/lang/Class.c#l167, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/prims/jvm.cpp#l717, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/utilities/globalDefinitions.cpp#l207, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.hpp#l286, https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.cpp#l439","body":"Here&#39;s the relevant native code, if you&#39;re curious: <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/native/java/lang/Class.c#l167\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/nat&zwnj;&#8203;ive/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/prims/jvm.cpp#l717\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/utilities/globalDefinitions.cpp#l207\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.hpp#l286\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>, <a href=\"https://hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/memory/universe.cpp#l439\" rel=\"nofollow noreferrer\">hg.openjdk.org/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share&zwnj;&#8203;/vm/&hellip;</a>"}],"owner":{"account_id":30023750,"reputation":1,"user_id":23008496,"display_name":"Kas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701273076,"answer_count":0,"score":0,"last_activity_date":1701273236,"creation_date":1701272428,"question_id":77572581,"body_markdown":"There is `getPrimitiveClass(String name)` method of `Class`. Its description is &quot;Return the Virtual Machine&#39;s Class object for the named primitive type&quot;. \r\n\r\nWhat does this mean? Can primitives can considered an object-like structures in JVM?\r\n\r\n\r\n","title":"What&#39;s meant in Virtual Machine&#39;s Class object?","body":"<p>There is <code>getPrimitiveClass(String name)</code> method of <code>Class</code>. Its description is &quot;Return the Virtual Machine's Class object for the named primitive type&quot;.</p>\n<p>What does this mean? Can primitives can considered an object-like structures in JVM?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701222465,"post_id":77568105,"comment_id":136748040,"body_markdown":"`int num = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();`","body":"<code>int num = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n &#47; 100 - n % 10) &gt; 1).findFirst().getAsInt();</code>"}],"answers":[{"tags":[],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":"Фёдор Надуткин"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701224846,"creation_date":1701224001,"answer_id":77568202,"question_id":77568105,"body_markdown":"```Java\r\nRandom random = new Random();\r\n\r\nint first = random.nextInt(1, 10);\r\nint last = random.nextInt(3, 10);\r\nlast = switch (last - first) {\r\n    case 1 -&gt; 0;\r\n    case 0 -&gt; 1;\r\n    case -1 -&gt; 2;\r\n    default -&gt; last;\r\n};\r\nint middle = random.nextInt(0, 10);\r\nSystem.out.println(first * 100 + middle * 10 + last);\r\n```\r\n\r\nI think this variant will be the simplest one for the beginner. It doesn&#39;t use arrays, streams and cycles","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<pre><code>Random random = new Random();\n\nint first = random.nextInt(1, 10);\nint last = random.nextInt(3, 10);\nlast = switch (last - first) {\n    case 1 -&gt; 0;\n    case 0 -&gt; 1;\n    case -1 -&gt; 2;\n    default -&gt; last;\n};\nint middle = random.nextInt(0, 10);\nSystem.out.println(first * 100 + middle * 10 + last);\n</code></pre>\n<p>I think this variant will be the simplest one for the beginner. It doesn't use arrays, streams and cycles</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701273227,"creation_date":1701224689,"answer_id":77568233,"question_id":77568105,"body_markdown":"I would do it as follows.\r\n```\r\n\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    int n = getRandom();\r\n    System.out.printf(&quot;%d &quot;, n);\r\n}\r\n```\r\nprints something like\r\n```\r\n592 842 522 167 760 521 318 178 466 632\r\n```\r\nJust create the `first`, `last`, and middle digits to conform to the required delta. Check out [Random](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#Random()) for details on the available methods.\r\n- generate `first` from `1 to 9` inclusive\r\n- Then generate `last` so it is at least `2` from `first`. This uses the [conditional operator](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1.4) `?:`\r\n- the middle part is just `10 to 90` inclusive. \r\n```\r\nimport java.util.Random;\r\nRandom r = new Random();\r\n  \r\npublic static int getRandom() {\r\n    int first = r.nextInt(1, 10);\r\n    int last = first &lt; 5 ? r.nextInt(6, 9) : r.nextInt(0, 3);\r\n    return (first * 100) + r.nextInt(10)*10 + last;\r\n}\r\n\r\n```\r\nKeep in mind that these may not be purely random numbers from a mathematical perspective.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>I would do it as follows.</p>\n<pre><code>\nfor (int i = 0; i &lt; 10; i++) {\n    int n = getRandom();\n    System.out.printf(&quot;%d &quot;, n);\n}\n</code></pre>\n<p>prints something like</p>\n<pre><code>592 842 522 167 760 521 318 178 466 632\n</code></pre>\n<p>Just create the <code>first</code>, <code>last</code>, and middle digits to conform to the required delta. Check out <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#Random()\" rel=\"nofollow noreferrer\">Random</a> for details on the available methods.</p>\n<ul>\n<li>generate <code>first</code> from <code>1 to 9</code> inclusive</li>\n<li>Then generate <code>last</code> so it is at least <code>2</code> from <code>first</code>. This uses the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.3.1.4\" rel=\"nofollow noreferrer\">conditional operator</a> <code>?:</code></li>\n<li>the middle part is just <code>10 to 90</code> inclusive.</li>\n</ul>\n<pre><code>import java.util.Random;\nRandom r = new Random();\n  \npublic static int getRandom() {\n    int first = r.nextInt(1, 10);\n    int last = first &lt; 5 ? r.nextInt(6, 9) : r.nextInt(0, 3);\n    return (first * 100) + r.nextInt(10)*10 + last;\n}\n\n</code></pre>\n<p>Keep in mind that these may not be purely random numbers from a mathematical perspective.</p>\n"},{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701246144,"creation_date":1701224860,"answer_id":77568242,"question_id":77568105,"body_markdown":"The problem with using a loop (or infinite stream) to get to a result, is that your execution time becomes unpredictable, and that, *theoretically* speaking, your function could run infinitely.\r\n\r\nHere&#39;s a straightforward approach that generates a random&lt;sup&gt;(*)&lt;/sup&gt; number within your constraints on the first try:\r\n\r\n    import java.util.Random;\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Random random = new Random();\r\n            \r\n          int first = random.nextInt(1, 10);\r\n          int middle = random.nextInt(0, 10);\r\n          int last = (first + random.nextInt(2, 9)) % 10;\r\n          int result = first * 100 + middle * 10 + last;\r\n          \r\n          System.out.println(result);\r\n        }\r\n    }\r\n\r\nThis solution relies on the fact that for the last digit, there&#39;s only 7 possible values to choose from. It generates a random value between 2 and 8, adds that to the first digit, and then uses a modulo operation to reduce back to a single digit.\r\n\r\n\r\n----------\r\n\r\n&lt;sup&gt;&lt;sup&gt;(*)&lt;/sup&gt; There are two caveats here: 1) The generated results are random up to the point that the used [pseudo-random number generator](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html) produces random numbers. 2) Your last digit will be biased towards the `9`, `0` and `1` values which are 16.66...% more likely to occur due to the exclusion of the `0` value from the first digit. Other solutions will show the same bias.&lt;/sup&gt;","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>The problem with using a loop (or infinite stream) to get to a result, is that your execution time becomes unpredictable, and that, <em>theoretically</em> speaking, your function could run infinitely.</p>\n<p>Here's a straightforward approach that generates a random<sup>(*)</sup> number within your constraints on the first try:</p>\n<pre><code>import java.util.Random;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Random random = new Random();\n        \n      int first = random.nextInt(1, 10);\n      int middle = random.nextInt(0, 10);\n      int last = (first + random.nextInt(2, 9)) % 10;\n      int result = first * 100 + middle * 10 + last;\n      \n      System.out.println(result);\n    }\n}\n</code></pre>\n<p>This solution relies on the fact that for the last digit, there's only 7 possible values to choose from. It generates a random value between 2 and 8, adds that to the first digit, and then uses a modulo operation to reduce back to a single digit.</p>\n<hr />\n<p><sup><sup>(*)</sup> There are two caveats here: 1) The generated results are random up to the point that the used <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">pseudo-random number generator</a> produces random numbers. 2) Your last digit will be biased towards the <code>9</code>, <code>0</code> and <code>1</code> values which are 16.66...% more likely to occur due to the exclusion of the <code>0</code> value from the first digit. Other solutions will show the same bias.</sup></p>\n"},{"tags":[],"owner":{"account_id":19366045,"reputation":83,"user_id":14160311,"display_name":"Shifu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701225178,"creation_date":1701225178,"answer_id":77568258,"question_id":77568105,"body_markdown":"There are many ways to go about this problem. The way I can think of that would be most similar to your attempt would be this:\r\n```\r\n// first and second digit can be anything\r\nint firstDigit = (int) (Math.random() * 10);\r\nint secondDigit = (int) (Math.random() * 10);\r\nint thirdDigit;\r\n\r\n// generate a random digit until the condition is met\r\ndo {\r\n\tthirdDigit = (int) (Math.random() * 10);\r\n} while (Math.abs(firstDigit - thirdDigit) &lt;= 1);\r\n\r\nint result = firstDigit * 100 + secondDigit * 10 + thirdDigit;\r\n```\r\nThis is a great example of how you would use the [do-while loop][1].\r\n\r\nAnother possible solution is to use Java&#39;s [ThreadLocalRandom][2]. You would first need to include the class:\r\n```\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n```\r\nThen, your solution would be:\r\n```\r\nint result = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();\r\n```\r\n`ThreadLocalRandom.current()` returns the thread&#39;s current instance of this object. `.ints(100, 1000)` returns a stream of random integers in the range [100, 1000), i.e. random 3-digit numbers. `.filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1)` can be confusing for a beginner. Basically, for each number `n` in this (effectively) infinite stream, we only want the numbers that meet the condition `Math.abs(n / 100 - n % 10) &gt; 1`. Notice that `n / 100` rounded down will always be the first digit of a 3-digit, positive, base-10 number, and `n % 10` (n modulus 10) will always be the last digit of a positive, base-10 integer. `.findFirst()` will get the first number in the stream that meets the filter&#39;s condition. This is returned as an [OptionalInt][3], which allows for error handling. In this case, though, we can simply call `.getAsInt()` to obtain the value.\r\n\r\nIf you are able to understand the second option then I would recommend using it, but if the first one makes more sense to you then use that. My advice is to never use code that you can&#39;t explain!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>There are many ways to go about this problem. The way I can think of that would be most similar to your attempt would be this:</p>\n<pre><code>// first and second digit can be anything\nint firstDigit = (int) (Math.random() * 10);\nint secondDigit = (int) (Math.random() * 10);\nint thirdDigit;\n\n// generate a random digit until the condition is met\ndo {\n    thirdDigit = (int) (Math.random() * 10);\n} while (Math.abs(firstDigit - thirdDigit) &lt;= 1);\n\nint result = firstDigit * 100 + secondDigit * 10 + thirdDigit;\n</code></pre>\n<p>This is a great example of how you would use the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">do-while loop</a>.</p>\n<p>Another possible solution is to use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">ThreadLocalRandom</a>. You would first need to include the class:</p>\n<pre><code>import java.util.concurrent.ThreadLocalRandom;\n</code></pre>\n<p>Then, your solution would be:</p>\n<pre><code>int result = ThreadLocalRandom.current().ints(100, 1000).filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1).findFirst().getAsInt();\n</code></pre>\n<p><code>ThreadLocalRandom.current()</code> returns the thread's current instance of this object. <code>.ints(100, 1000)</code> returns a stream of random integers in the range [100, 1000), i.e. random 3-digit numbers. <code>.filter(n -&gt; Math.abs(n / 100 - n % 10) &gt; 1)</code> can be confusing for a beginner. Basically, for each number <code>n</code> in this (effectively) infinite stream, we only want the numbers that meet the condition <code>Math.abs(n / 100 - n % 10) &gt; 1</code>. Notice that <code>n / 100</code> rounded down will always be the first digit of a 3-digit, positive, base-10 number, and <code>n % 10</code> (n modulus 10) will always be the last digit of a positive, base-10 integer. <code>.findFirst()</code> will get the first number in the stream that meets the filter's condition. This is returned as an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\">OptionalInt</a>, which allows for error handling. In this case, though, we can simply call <code>.getAsInt()</code> to obtain the value.</p>\n<p>If you are able to understand the second option then I would recommend using it, but if the first one makes more sense to you then use that. My advice is to never use code that you can't explain!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701225444,"creation_date":1701225444,"answer_id":77568275,"question_id":77568105,"body_markdown":"&gt; _&quot;... I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nRandom r = new Random();\r\nint x, a = r.nextInt(1, 10), b = r.nextInt(1, 10), c;\r\nwhile (Math.abs(a - (c = r.nextInt(1, 10))) &lt;= 1);\r\nx = (a * 100) + (b * 10) + c;\r\n```\r\n\r\nAnd, here are some example outputs.\r\n\r\n```none\r\n684, 874, 114, 512, 459, 267, 451, 779, 751, 691\r\n```","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<blockquote>\n<p><em>&quot;... I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nint x, a = r.nextInt(1, 10), b = r.nextInt(1, 10), c;\nwhile (Math.abs(a - (c = r.nextInt(1, 10))) &lt;= 1);\nx = (a * 100) + (b * 10) + c;\n</code></pre>\n<p>And, here are some example outputs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>684, 874, 114, 512, 459, 267, 451, 779, 751, 691\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14356996,"reputation":358,"user_id":10370570,"display_name":"AkiZukiLenn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701248160,"creation_date":1701229475,"answer_id":77568463,"question_id":77568105,"body_markdown":"    class Simple{  \r\n        public static void main(String args[]){\r\n            boolean noGap = true  ;\r\n            int a = ((int) (Math.random()*10));\r\n            int b = ((int) (Math.random()*10));\r\n            int c = 0 ; \r\n            while(noGap){\r\n                c = ((int) (Math.random()*10));\r\n                if(a&gt;c){\r\n                    noGap = a-c&gt;1 ? false:true ;  \r\n                }\r\n                if(c&gt;a){\r\n                    noGap = c-a&gt;1 ? false:true ; \r\n                }\r\n            }\r\n            System.out.println(Integer.toString(a)+Integer.toString(b)+Integer.toString(c));\r\n        }\r\n    }  \r\n\r\n\r\nNo need for any import.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<pre><code>class Simple{  \n    public static void main(String args[]){\n        boolean noGap = true  ;\n        int a = ((int) (Math.random()*10));\n        int b = ((int) (Math.random()*10));\n        int c = 0 ; \n        while(noGap){\n            c = ((int) (Math.random()*10));\n            if(a&gt;c){\n                noGap = a-c&gt;1 ? false:true ;  \n            }\n            if(c&gt;a){\n                noGap = c-a&gt;1 ? false:true ; \n            }\n        }\n        System.out.println(Integer.toString(a)+Integer.toString(b)+Integer.toString(c));\n    }\n}  \n</code></pre>\n<p>No need for any import.</p>\n"}],"owner":{"account_id":30017825,"reputation":23,"user_id":23003860,"display_name":"luker217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77568242,"answer_count":6,"score":2,"last_activity_date":1701273227,"creation_date":1701221925,"question_id":77568105,"body_markdown":"I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. How would I accomplish this *without arrays*, as simply as possible? I am still a beginner.\r\n\r\n```\r\nint num = 0;\r\n\r\nint firstDigit = 0;\r\nint lastDigit = 0;\r\n\r\n// complete the method\r\n\r\n//while loop\r\nwhile(firstDigit-lastDigit&lt;1)\r\n{\r\n    num = (int)(Math.random() * (999-100) + 100);\r\n    String number = String.valueOf(num);\r\n    String n1 = number.substring(0,1);\r\n    String n2 = number.substring(2,3);\r\n    int a = Integer.parseInt(n1);\r\n    int b = Integer.parseInt(n2);\r\n    \r\n    firstDigit = a;\r\n    lastDigit = b;\r\n    int randNum = Math.abs(a-b);\r\n    System.out.println(a);\r\n    System.out.println(b);   \r\n}\r\n```\r\n\r\nI at first tried this, but soon realized that the while loop was simply always active, because it was getting its initial values from when they were defined earlier in the method.","title":"How would you get a random number where the first and last digits differ by more than one?","body":"<p>I need to generate a random 3-digit number where the first digit and the third digit differ by more than one. How would I accomplish this <em>without arrays</em>, as simply as possible? I am still a beginner.</p>\n<pre><code>int num = 0;\n\nint firstDigit = 0;\nint lastDigit = 0;\n\n// complete the method\n\n//while loop\nwhile(firstDigit-lastDigit&lt;1)\n{\n    num = (int)(Math.random() * (999-100) + 100);\n    String number = String.valueOf(num);\n    String n1 = number.substring(0,1);\n    String n2 = number.substring(2,3);\n    int a = Integer.parseInt(n1);\n    int b = Integer.parseInt(n2);\n    \n    firstDigit = a;\n    lastDigit = b;\n    int randNum = Math.abs(a-b);\n    System.out.println(a);\n    System.out.println(b);   \n}\n</code></pre>\n<p>I at first tried this, but soon realized that the while loop was simply always active, because it was getting its initial values from when they were defined earlier in the method.</p>\n"},{"tags":["java","arrays","string","multidimensional-array"],"comments":[{"owner":{"account_id":15148774,"reputation":67,"user_id":10931623,"display_name":"Akash kunwar"},"score":0,"creation_date":1549802498,"post_id":54616268,"comment_id":96025913,"body_markdown":"I already tried the first approach but can you suggest how to  go ahead with your second case","body":"I already tried the first approach but can you suggest how to  go ahead with your second case"}],"answers":[{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701273124,"creation_date":1549802350,"answer_id":54616470,"question_id":54616268,"body_markdown":"A better strategy for your problem is to use this method:\r\n\r\n    public int[] countChars(String s){\r\n        int[] count = new int[26];\r\n        for(char c: s.toCharArray()){\r\n            count[c-&#39;a&#39;]++;\r\n        }\r\n        return count;\r\n    }\r\n\r\nNow if you have n Strings (String[] strings) just find the min of common chars for each letter:\r\n\r\n    int[][] result = new int[n][26]\r\n    for(int i = 0; i&lt;strings.length;i++){\r\n        result[i] = countChars(s);\r\n    }\r\n    // now if you sum the min common chars for each counter you are ready\r\n    int commonChars = 0; \r\n    for(int i = 0; i&lt; 26;i++){\r\n        int min = result[0][i];\r\n        for(int j = 1; j&lt; n;j++){\r\n            if(min&gt;result[j][i]){\r\n                min = result[j][i];\r\n            }\r\n        }\r\n        commonChars+=min;\r\n    }","title":"Common characters in n strings","body":"<p>A better strategy for your problem is to use this method:</p>\n<pre><code>public int[] countChars(String s){\n    int[] count = new int[26];\n    for(char c: s.toCharArray()){\n        count[c-'a']++;\n    }\n    return count;\n}\n</code></pre>\n<p>Now if you have n Strings (String[] strings) just find the min of common chars for each letter:</p>\n<pre><code>int[][] result = new int[n][26]\nfor(int i = 0; i&lt;strings.length;i++){\n    result[i] = countChars(s);\n}\n// now if you sum the min common chars for each counter you are ready\nint commonChars = 0; \nfor(int i = 0; i&lt; 26;i++){\n    int min = result[0][i];\n    for(int j = 1; j&lt; n;j++){\n        if(min&gt;result[j][i]){\n            min = result[j][i];\n        }\n    }\n    commonChars+=min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549803728,"creation_date":1549803344,"answer_id":54616621,"question_id":54616268,"body_markdown":"Get list of characters for each string:\r\n\r\n    List&lt;Character&gt; chars1 = s1.chars()    // list of chars for first string\r\n                .mapToObj(c -&gt; (char) c)\r\n                .collect(Collectors.toList());\r\n\r\n    List&lt;Character&gt; chars2 = s2.chars()    // list of chars for second string\r\n                .mapToObj(c -&gt; (char) c)\r\n                .collect(Collectors.toList());\r\n\r\nThen use `retainAll` method:\r\n\r\n    chars1.retainAll(chars2);  // retain in chars1 only the chars that are contained in the chars2 also\r\n    System.out.println(chars1.size());\r\n\r\nIf you want to get number of unique chars just use `Collectors.toSet()` instead of `toList()`","title":"Common characters in n strings","body":"<p>Get list of characters for each string:</p>\n\n<pre><code>List&lt;Character&gt; chars1 = s1.chars()    // list of chars for first string\n            .mapToObj(c -&gt; (char) c)\n            .collect(Collectors.toList());\n\nList&lt;Character&gt; chars2 = s2.chars()    // list of chars for second string\n            .mapToObj(c -&gt; (char) c)\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>Then use <code>retainAll</code> method:</p>\n\n<pre><code>chars1.retainAll(chars2);  // retain in chars1 only the chars that are contained in the chars2 also\nSystem.out.println(chars1.size());\n</code></pre>\n\n<p>If you want to get number of unique chars just use <code>Collectors.toSet()</code> instead of <code>toList()</code></p>\n"},{"tags":[],"owner":{"account_id":15148070,"reputation":894,"user_id":10931123,"display_name":"kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549810736,"creation_date":1549805699,"answer_id":54616939,"question_id":54616268,"body_markdown":"Well if one goes for hashing:\r\n\r\n    public static int uniqueChars(String first, String second) {\r\n        boolean[] hash = new boolean[26]; \r\n        int count = 0;\r\n        //reduce first string to unique letters\r\n        for (char c : first.toLowerCase().toCharArray()) {\r\n            hash[c - &#39;a&#39;] = true;\r\n        }\r\n        //reduce to unique letters in both strings\r\n        for(char c : second.toLowerCase().toCharArray()){\r\n            if(hash[c - &#39;a&#39;]){\r\n                count++; \r\n                hash[c - &#39;a&#39;] = false;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nThis is using bucketsort which gives a n+m complexity but needs the 26 buckets(the &quot;hash&quot; array). \r\nImo one can&#39;t do better in regards of complexity as you need to look at every letter at least once which sums up to n+m.\r\n\r\nInsitu the best you can get is imho somewhere in the range of O(n log(n) ) .\r\n\r\nYour aproach is somewhere in the league of O(n&#178;) \r\n\r\n\r\n\r\n\r\nAddon: if you need the characters as a String(in essence the same as above with count is the length of the String returned):\r\n\r\n    public static String uniqueChars(String first, String second) {\r\n        boolean[] hash = new boolean[26]; \r\n        StringBuilder sb = new StringBuilder();\r\n        for (char c : first.toLowerCase().toCharArray()) {\r\n            hash[c - &#39;a&#39;] = true;\r\n        }\r\n        for(char c : second.toLowerCase().toCharArray()){\r\n            if(hash[c - &#39;a&#39;]){\r\n                sb.append(c);\r\n                hash[c - &#39;a&#39;] = false;\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }","title":"Common characters in n strings","body":"<p>Well if one goes for hashing:</p>\n\n<pre><code>public static int uniqueChars(String first, String second) {\n    boolean[] hash = new boolean[26]; \n    int count = 0;\n    //reduce first string to unique letters\n    for (char c : first.toLowerCase().toCharArray()) {\n        hash[c - 'a'] = true;\n    }\n    //reduce to unique letters in both strings\n    for(char c : second.toLowerCase().toCharArray()){\n        if(hash[c - 'a']){\n            count++; \n            hash[c - 'a'] = false;\n        }\n    }\n    return count;\n}\n</code></pre>\n\n<p>This is using bucketsort which gives a n+m complexity but needs the 26 buckets(the \"hash\" array). \nImo one can't do better in regards of complexity as you need to look at every letter at least once which sums up to n+m.</p>\n\n<p>Insitu the best you can get is imho somewhere in the range of O(n log(n) ) .</p>\n\n<p>Your aproach is somewhere in the league of O(n²) </p>\n\n<p>Addon: if you need the characters as a String(in essence the same as above with count is the length of the String returned):</p>\n\n<pre><code>public static String uniqueChars(String first, String second) {\n    boolean[] hash = new boolean[26]; \n    StringBuilder sb = new StringBuilder();\n    for (char c : first.toLowerCase().toCharArray()) {\n        hash[c - 'a'] = true;\n    }\n    for(char c : second.toLowerCase().toCharArray()){\n        if(hash[c - 'a']){\n            sb.append(c);\n            hash[c - 'a'] = false;\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549810751,"creation_date":1549807478,"answer_id":54617161,"question_id":54616268,"body_markdown":"    public static String getCommonCharacters(String... words) {\r\n        if (words == null || words.length == 0)\r\n            return &quot;&quot;;\r\n    \r\n        Set&lt;Character&gt; unique = words[0].chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toCollection(TreeSet::new));\r\n    \r\n        for (String word : words)\r\n            unique.retainAll(word.chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toSet()));\r\n    \r\n        return unique.stream().map(String::valueOf).collect(Collectors.joining());\r\n    }\r\n\r\n---\r\n\r\nAnother variant without creating temporary `Set` and using `Character`.\r\n\r\n    public static String getCommonCharacters(String... words) {\r\n        if (words == null || words.length == 0)\r\n            return &quot;&quot;;\r\n    \r\n        int[] arr = new int[26];\r\n        boolean[] tmp = new boolean[26];\r\n    \r\n        for (String word : words) {\r\n            Arrays.fill(tmp, false);\r\n    \r\n            for (int i = 0; i &lt; word.length(); i++) {\r\n                int pos = Character.toLowerCase(word.charAt(i)) - &#39;a&#39;;\r\n    \r\n                if (tmp[pos])\r\n                    continue;\r\n    \r\n                tmp[pos] = true;\r\n                arr[pos]++;\r\n            }\r\n        }\r\n    \r\n        StringBuilder buf = new StringBuilder(26);\r\n    \r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            if (arr[i] == words.length)\r\n                buf.append((char)(&#39;a&#39; + i));\r\n    \r\n        return buf.toString();\r\n    }\r\n\r\n---\r\n\r\n**Demo**\r\n\r\n    System.out.println(getCommonCharacters(&quot;abcd&quot;, &quot;bcde&quot;));  // bcd","title":"Common characters in n strings","body":"<pre><code>public static String getCommonCharacters(String... words) {\n    if (words == null || words.length == 0)\n        return \"\";\n\n    Set&lt;Character&gt; unique = words[0].chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toCollection(TreeSet::new));\n\n    for (String word : words)\n        unique.retainAll(word.chars().mapToObj(ch -&gt; (char)ch).collect(Collectors.toSet()));\n\n    return unique.stream().map(String::valueOf).collect(Collectors.joining());\n}\n</code></pre>\n\n<hr>\n\n<p>Another variant without creating temporary <code>Set</code> and using <code>Character</code>.</p>\n\n<pre><code>public static String getCommonCharacters(String... words) {\n    if (words == null || words.length == 0)\n        return \"\";\n\n    int[] arr = new int[26];\n    boolean[] tmp = new boolean[26];\n\n    for (String word : words) {\n        Arrays.fill(tmp, false);\n\n        for (int i = 0; i &lt; word.length(); i++) {\n            int pos = Character.toLowerCase(word.charAt(i)) - 'a';\n\n            if (tmp[pos])\n                continue;\n\n            tmp[pos] = true;\n            arr[pos]++;\n        }\n    }\n\n    StringBuilder buf = new StringBuilder(26);\n\n    for (int i = 0; i &lt; arr.length; i++)\n        if (arr[i] == words.length)\n            buf.append((char)('a' + i));\n\n    return buf.toString();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>System.out.println(getCommonCharacters(\"abcd\", \"bcde\"));  // bcd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549807755,"creation_date":1549807755,"answer_id":54617193,"question_id":54616268,"body_markdown":"You have to convert all `String`s to `Set` of `Character`s and retain all from the first one. Below solution has many places which could be optimised but you should understand general idea.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;String&gt; input = Arrays.asList(&quot;jonas&quot;, &quot;ton&quot;, &quot;bonny&quot;);\r\n    \r\n    \t\tSystem.out.println(findCommonCharsFor(input));\r\n    \t}\r\n    \r\n    \tpublic static Collection&lt;Character&gt; findCommonCharsFor(List&lt;String&gt; strings) {\r\n    \t\tif (strings == null || strings.isEmpty()) {\r\n    \t\t\treturn Collections.emptyList();\r\n    \t\t}\r\n    \r\n    \t\tSet&lt;Character&gt; commonChars = convertStringToSetOfChars(strings.get(0));\r\n    \t\tstrings.stream().skip(1).forEach(s -&gt; commonChars.retainAll(convertStringToSetOfChars(s)));\r\n    \r\n    \t\treturn commonChars;\r\n    \t}\r\n    \r\n    \tprivate static Set&lt;Character&gt; convertStringToSetOfChars(String string) {\r\n    \t\tif (string == null || string.isEmpty()) {\r\n    \t\t\treturn Collections.emptySet();\r\n    \t\t}\r\n    \r\n    \t\tSet&lt;Character&gt; set = new HashSet&lt;&gt;(string.length() + 10);\r\n    \t\tfor (char c : string.toCharArray()) {\r\n    \t\t\tset.add(c);\r\n    \t\t}\r\n    \r\n    \t\treturn set;\r\n    \t}\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    [n, o]","title":"Common characters in n strings","body":"<p>You have to convert all <code>String</code>s to <code>Set</code> of <code>Character</code>s and retain all from the first one. Below solution has many places which could be optimised but you should understand general idea.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; input = Arrays.asList(\"jonas\", \"ton\", \"bonny\");\n\n        System.out.println(findCommonCharsFor(input));\n    }\n\n    public static Collection&lt;Character&gt; findCommonCharsFor(List&lt;String&gt; strings) {\n        if (strings == null || strings.isEmpty()) {\n            return Collections.emptyList();\n        }\n\n        Set&lt;Character&gt; commonChars = convertStringToSetOfChars(strings.get(0));\n        strings.stream().skip(1).forEach(s -&gt; commonChars.retainAll(convertStringToSetOfChars(s)));\n\n        return commonChars;\n    }\n\n    private static Set&lt;Character&gt; convertStringToSetOfChars(String string) {\n        if (string == null || string.isEmpty()) {\n            return Collections.emptySet();\n        }\n\n        Set&lt;Character&gt; set = new HashSet&lt;&gt;(string.length() + 10);\n        for (char c : string.toCharArray()) {\n            set.add(c);\n        }\n\n        return set;\n    }\n}\n</code></pre>\n\n<p>Above code prints:</p>\n\n<pre><code>[n, o]\n</code></pre>\n"}],"owner":{"account_id":15148774,"reputation":67,"user_id":10931623,"display_name":"Akash kunwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54617193,"answer_count":5,"score":2,"last_activity_date":1701273124,"creation_date":1549801004,"question_id":54616268,"body_markdown":"I m trying to make a function that prints the number of characters common in given n strings.   (note that characters may be used multiple times)\r\n\r\nI am struggling to perform this operation on n strings However I did it for  2 strings without any characters repeated more than once.\r\n\r\n\r\nI have posted my code.\r\n\r\n\r\n    public class CommonChars {\r\n\r\n        public static void main(String[] args) {\r\n            String str1 = &quot;abcd&quot;;\r\n            String str2 = &quot;bcde&quot;;\r\n            StringBuffer sb = new StringBuffer();\r\n            // get unique chars from both the strings\r\n\r\n            str1 = uniqueChar(str1);\r\n            str2 = uniqueChar(str2);\r\n            int count = 0;\r\n            int str1Len = str1.length();\r\n            int str2Len = str2.length();\r\n\r\n            for (int i = 0; i &lt; str1Len; i++) {\r\n\r\n                for (int j = 0; j &lt; str2Len; j++) {\r\n\r\n                    // found match stop the loop\r\n                    if (str1.charAt(i) == str2.charAt(j)) {\r\n                        count++;\r\n                        sb.append(str1.charAt(i));\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }   \r\n            System.out.println(&quot;Common Chars Count : &quot; + count + &quot;\\nCommon Chars :&quot; + \r\n            sb.toString());\r\n        }\r\n\r\n\r\n        public static String uniqueChar(String inputString) {\r\n            String outputstr=&quot;&quot;,temp=&quot;&quot;;\r\n\t\t    for(int i=0;i&lt;inputstr.length();i++) {\r\n\t\t\t    if(temp.indexOf(inputstr.charAt(i))&lt;0) {\r\n\t\t\t\t    temp+=inputstr.charAt(i);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    System.out.println(&quot;completed&quot;);\r\n\t\t    return temp;\r\n        }\r\n\r\n    }\r\n\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n    3 \r\n    abcaa\r\n    bcbd\r\n    bgc\r\n    3\r\n\r\n their may be chances that a same character can be present multiple times in \r\n a string and you are not supposed to eliminate those characters instead \r\n check the no. of times they are repeated in other strings. for eg\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n     3\r\n     abacd\r\n     aaxyz\r\n     aatre\r\n\r\n output should be 2\r\n\r\n it will be better if i get solution in java\r\n   \r\n","title":"Common characters in n strings","body":"<p>I m trying to make a function that prints the number of characters common in given n strings.   (note that characters may be used multiple times)</p>\n\n<p>I am struggling to perform this operation on n strings However I did it for  2 strings without any characters repeated more than once.</p>\n\n<p>I have posted my code.</p>\n\n<pre><code>public class CommonChars {\n\n    public static void main(String[] args) {\n        String str1 = \"abcd\";\n        String str2 = \"bcde\";\n        StringBuffer sb = new StringBuffer();\n        // get unique chars from both the strings\n\n        str1 = uniqueChar(str1);\n        str2 = uniqueChar(str2);\n        int count = 0;\n        int str1Len = str1.length();\n        int str2Len = str2.length();\n\n        for (int i = 0; i &lt; str1Len; i++) {\n\n            for (int j = 0; j &lt; str2Len; j++) {\n\n                // found match stop the loop\n                if (str1.charAt(i) == str2.charAt(j)) {\n                    count++;\n                    sb.append(str1.charAt(i));\n                    break;\n                }\n            }\n\n        }   \n        System.out.println(\"Common Chars Count : \" + count + \"\\nCommon Chars :\" + \n        sb.toString());\n    }\n\n\n    public static String uniqueChar(String inputString) {\n        String outputstr=\"\",temp=\"\";\n        for(int i=0;i&lt;inputstr.length();i++) {\n            if(temp.indexOf(inputstr.charAt(i))&lt;0) {\n                temp+=inputstr.charAt(i);\n            }\n        }\n        System.out.println(\"completed\");\n        return temp;\n    }\n\n}\n</code></pre>\n\n\n\n<pre><code>3 \nabcaa\nbcbd\nbgc\n3\n</code></pre>\n\n<p>their may be chances that a same character can be present multiple times in \n a string and you are not supposed to eliminate those characters instead \n check the no. of times they are repeated in other strings. for eg</p>\n\n\n\n<pre><code> 3\n abacd\n aaxyz\n aatre\n</code></pre>\n\n<p>output should be 2</p>\n\n<p>it will be better if i get solution in java</p>\n"},{"tags":["java","multithreading","groovy","associative-array","concurrenthashmap"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1625424862,"post_id":68247620,"comment_id":120618477,"body_markdown":"I don&#39;t know about Groovy specifically but in Java if the class isn&#39;t explicitly labeled &quot;thread safe&quot; in some way then it isn&#39;t.  And that *IS* in the docs.","body":"I don&#39;t know about Groovy specifically but in Java if the class isn&#39;t explicitly labeled &quot;thread safe&quot; in some way then it isn&#39;t.  And that <i>IS</i> in the docs."},{"owner":{"account_id":1333316,"reputation":26948,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":3,"creation_date":1625425783,"post_id":68247620,"comment_id":120618670,"body_markdown":"`[:]` is actually a LinkedHashMap. https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html In javadoc you could find thread safe info and recommendations.","body":"<code>[:]</code> is actually a LinkedHashMap. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.ht&zwnj;&#8203;ml</a> In javadoc you could find thread safe info and recommendations."},{"owner":{"account_id":20188977,"reputation":115,"user_id":14807658,"display_name":"stkUser"},"score":0,"creation_date":1625428744,"post_id":68247620,"comment_id":120619349,"body_markdown":"got it.thanks.then i am good to go.","body":"got it.thanks.then i am good to go."}],"answers":[{"tags":[],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701272903,"creation_date":1701272903,"answer_id":77572646,"question_id":68247620,"body_markdown":"As long as they are backed by `LinkedHashMap` and as long as `LinkedHashMap` remains unsynchronized, then, no, it is **not** thread-safe. So you&#39;d need to use some class from `java.util.concurrent`, such as a `ConcurrentLinkedQueue` or a `CopyOnWriteArrayList`, each with advantages and disadvantages.\r\n\r\nIn my case, unfortunately, it seems that our Jenkins admins disallow access to `java.util.concurrent`, maybe out of fear of a badly coded job taking up too many resources from the server. For my use case, I am what you might call SOOL.","title":"Are groovy associative arrays thread safe?","body":"<p>As long as they are backed by <code>LinkedHashMap</code> and as long as <code>LinkedHashMap</code> remains unsynchronized, then, no, it is <strong>not</strong> thread-safe. So you'd need to use some class from <code>java.util.concurrent</code>, such as a <code>ConcurrentLinkedQueue</code> or a <code>CopyOnWriteArrayList</code>, each with advantages and disadvantages.</p>\n<p>In my case, unfortunately, it seems that our Jenkins admins disallow access to <code>java.util.concurrent</code>, maybe out of fear of a badly coded job taking up too many resources from the server. For my use case, I am what you might call SOOL.</p>\n"}],"owner":{"account_id":20188977,"reputation":115,"user_id":14807658,"display_name":"stkUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701272903,"creation_date":1625422764,"question_id":68247620,"body_markdown":"I am having a groovy script in which multiple threads tries to write to same associative map declared as :     def array = [:]. Is put and get a thread safe here?I did not find much info regarding this. If it is not then what can I use?Java concurrentHashMap?","title":"Are groovy associative arrays thread safe?","body":"<p>I am having a groovy script in which multiple threads tries to write to same associative map declared as :     def array = [:]. Is put and get a thread safe here?I did not find much info regarding this. If it is not then what can I use?Java concurrentHashMap?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1701272838,"post_id":77572613,"comment_id":136755778,"body_markdown":"You&#39;re calling `StyleManager.getCurrentStyle()` in one line, and `styleManager.getCurrentStyle()` in the next line. You haven&#39;t shown where the `styleManager` variable is being declared, but I&#39;m pretty sure you just need to change the first call to match the second - so that you&#39;re calling `getCurrentStyle()` on an *instance* of the class instead of on the class itself.","body":"You&#39;re calling <code>StyleManager.getCurrentStyle()</code> in one line, and <code>styleManager.getCurrentStyle()</code> in the next line. You haven&#39;t shown where the <code>styleManager</code> variable is being declared, but I&#39;m pretty sure you just need to change the first call to match the second - so that you&#39;re calling <code>getCurrentStyle()</code> on an <i>instance</i> of the class instead of on the class itself."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701272865,"post_id":77572613,"comment_id":136755784,"body_markdown":"Note that this really doesn&#39;t have anything to do with artificial intelligence. It&#39;s just standard Java static vs instance method handling.","body":"Note that this really doesn&#39;t have anything to do with artificial intelligence. It&#39;s just standard Java static vs instance method handling."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1701274235,"post_id":77572613,"comment_id":136756087,"body_markdown":"You are in the static context thus you can&#39;t call a non-static method of the non-static class. Read above-mentioned question to find a reasons bihind this.","body":"You are in the static context thus you can&#39;t call a non-static method of the non-static class. Read above-mentioned question to find a reasons bihind this."}],"owner":{"account_id":25294494,"reputation":1,"user_id":19119892,"display_name":"Snaks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701273836,"answer_count":0,"score":-1,"last_activity_date":1701272883,"creation_date":1701272679,"question_id":77572613,"body_markdown":"I have a Style manager class and I use it in another file, but when I use the method, it shows an error `Non-static method &#39;getCurrentStyle()&#39; cannot be referenced from a static context`, but in the StyleManager itself, all variables are not static (error when calling StyleManager.getCurrentStyle())\r\n\r\nStyle Manager:\r\n\r\n```\r\npublic class StyleManager {\r\n    public List&lt;Style&gt; styles = new ArrayList&lt;&gt;();\r\n    private Style currentStyle = null;\r\n\r\n    public void init() {\r\n        styles.addAll(Arrays.asList(\r\n                        new Style(&quot;Манго&quot;, HexColor.toColor(&quot;#FCFC36&quot;), HexColor.toColor(&quot;#5D00B2&quot;)),\r\n                        new Style(&quot;Виолет&quot;, HexColor.toColor(&quot;#F4ECFF&quot;), HexColor.toColor(&quot;#765AA5&quot;)),\r\n                        new Style(&quot;Разно цветный&quot;, HexColor.toColor(&quot;#000000&quot;), HexColor.toColor(&quot;#FFFFFF&quot;)),\r\n                        new Style(&quot;Варм&quot;, HexColor.toColor(&quot;#FFC854&quot;), HexColor.toColor(&quot;#4288FF&quot;)),\r\n                        new Style(&quot;Феникс&quot;, HexColor.toColor(&quot;#FFC300&quot;), HexColor.toColor(&quot;#FF5800&quot;)),\r\n                        new Style(&quot;Конфетный&quot;, HexColor.toColor(&quot;#76ACD7&quot;), HexColor.toColor(&quot;#F15FE9&quot;)),\r\n                        new Style(&quot;Кровавый&quot;, HexColor.toColor(&quot;#FD3A3A&quot;), HexColor.toColor(&quot;#3A3A3A&quot;)),\r\n                        new Style(&quot;Полиция&quot;, HexColor.toColor(&quot;#FF6347&quot;), HexColor.toColor(&quot;#0044FF&quot;)),\r\n                        new Style(&quot;Щилд&quot;, HexColor.toColor(&quot;#373b44&quot;), HexColor.toColor(&quot;#4286f4&quot;)),\r\n                        new Style(&quot;Свой&quot;, HexColor.toColor(&quot;#765AA5&quot;), HexColor.toColor(&quot;#F4ECFF&quot;))\r\n                )\r\n        );\r\n        currentStyle = styles.get(0);\r\n    }\r\n\r\n    public static Color astolfo(float yDist, float yTotal, float saturation, float speedt) {\r\n        float speed = 1800f;\r\n        float hue = (System.currentTimeMillis() % (int) speed) + (yTotal - yDist) * speedt;\r\n        while (hue &gt; speed) {\r\n            hue -= speed;\r\n        }\r\n        hue /= speed;\r\n        if (hue &gt; 0.5) {\r\n            hue = 0.5F - (hue - 0.5f);\r\n        }\r\n        hue += 0.5F;\r\n        return Color.getHSBColor(hue, saturation, 1F);\r\n    }\r\n\r\n    public void setCurrentStyle(Style style) {\r\n        currentStyle = style;\r\n    }\r\n\r\n    public Style getCurrentStyle() {\r\n        return currentStyle;\r\n    }\r\n\r\n    public static class HexColor {\r\n        public static int toColor(String hexColor) {\r\n            int argb = Integer.parseInt(hexColor.substring(1), 16);\r\n            return reAlphaInt(argb, 255);\r\n        }\r\n\r\n        public static int reAlphaInt(final int color, final int alpha) {\r\n            return (MathHelper.clamp(alpha, 0, 255) &lt;&lt; 24) | (color &amp; 16777215);\r\n        }\r\n    }\r\n```\r\n\r\nFunction:\r\n\r\n```\r\n List&lt;Function&gt; sortedFunctions = new ArrayList&lt;&gt;();\r\n//        TimerUtil delay = new TimerUtil();\r\n        TimerUtil delay = new TimerUtil();\r\n\r\n        float x = 5;\r\n        float y = 25;\r\n        float height = 10;\r\n        float yOffset = 0;\r\n\r\n        final StyledFont font = Fonts.gilroyBold[fontSize.getValue().intValue()];\r\n        StyleManager styleManager = Managment.STYLE_MANAGER;\r\n\r\n        if (delay.hasTimeElapsed(10000)) {\r\n            sortedFunctions = HudUtil.getSorted(font);\r\n            delay.reset();\r\n        }\r\n\r\n        float gradientForce = 1;\r\n        int fontOffset = (fontSize.getValue().intValue() &gt; 14 ? -14 + fontSize.getValue().intValue()\r\n                - (fontSize.getValue().intValue() &gt; 14 ? 1 : 0) : 0);\r\n        int firstColor;\r\n        int secondColor;\r\n\r\n        if (glowing) {\r\n            for (Function function : sortedFunctions) {\r\n//                if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                    continue;\r\n//                }\r\n\r\n                function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n\r\n                if (function.animation &gt;= 0.01) {\r\n                    float width = font.getWidth(function.name) + 5;\r\n                    firstColor = StyleManager.getCurrentStyle()\r\n                            .getColor((int) ((yOffset + height * function.animation) * gradientForce));\r\n                    secondColor = styleManager.getCurrentStyle()\r\n                            .getColor((int) (yOffset * gradientForce));\r\n\r\n                    RenderSystem.pushMatrix();\r\n                    RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                    RenderSystem.scalef(1, function.animation, 1);\r\n                    RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                    RenderUtil.Render2D.drawShadow(x, y + yOffset, width, height, 10, firstColor, secondColor);\r\n                    RenderSystem.popMatrix();\r\n\r\n                    yOffset += height * function.animation;\r\n                }\r\n            }\r\n            yOffset = 0;\r\n        }\r\n        for (Function function : sortedFunctions) {\r\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                continue;\r\n//            }\r\n\r\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n\r\n            if (function.animation &gt;= 0.01) {\r\n                float width = font.getWidth(function.name) + 5;\r\n                secondColor = styleManager.getCurrentStyle()\r\n                        .getColor((int) (yOffset * gradientForce));\r\n\r\n                RenderSystem.pushMatrix();\r\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                RenderSystem.scalef(1, function.animation, 1);\r\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                RenderUtil.Render2D.drawRect(x, y + yOffset, width, height, ColorUtil.rgba(21, 21, 21, 255));\r\n                font.drawString(matrixStack, function.name, x + 3,\r\n                        y + yOffset + font.getFontHeight() / 2f - fontOffset - 1, secondColor);\r\n                RenderSystem.popMatrix();\r\n\r\n                yOffset += height * function.animation;\r\n            }\r\n        }\r\n\r\n\r\n        yOffset = 0;\r\n        for (Function function : sortedFunctions) {\r\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\r\n//                continue;\r\n//            }\r\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\r\n            if (function.animation &gt;= 0.01) {\r\n                float width = font.getWidth(function.name) + 4;\r\n                firstColor = StyleManager.getCurrentStyle().getColor((int) ((yOffset + height * function.animation) * gradientForce));\r\n                secondColor = styleManager.getCurrentStyle().getColor((int) (yOffset * gradientForce));\r\n                RenderSystem.pushMatrix();\r\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\r\n                RenderSystem.scalef(1, function.animation, 1);\r\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\r\n                RenderUtil.Render2D.drawShadow(x, y + yOffset, 1, height, 8, firstColor, secondColor);\r\n                RenderUtil.Render2D.drawVertical(x, y + yOffset, 1, height, firstColor, secondColor);\r\n                RenderSystem.popMatrix();\r\n\r\n                yOffset += height * function.animation;\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nnone of the methods helped me (I&#39;m a beginner)","title":"Non-static method &#39;getCurrentStyle()&#39; cannot be referenced from a static context (but method is non static :( )","body":"<p>I have a Style manager class and I use it in another file, but when I use the method, it shows an error <code>Non-static method 'getCurrentStyle()' cannot be referenced from a static context</code>, but in the StyleManager itself, all variables are not static (error when calling StyleManager.getCurrentStyle())</p>\n<p>Style Manager:</p>\n<pre><code>public class StyleManager {\n    public List&lt;Style&gt; styles = new ArrayList&lt;&gt;();\n    private Style currentStyle = null;\n\n    public void init() {\n        styles.addAll(Arrays.asList(\n                        new Style(&quot;Манго&quot;, HexColor.toColor(&quot;#FCFC36&quot;), HexColor.toColor(&quot;#5D00B2&quot;)),\n                        new Style(&quot;Виолет&quot;, HexColor.toColor(&quot;#F4ECFF&quot;), HexColor.toColor(&quot;#765AA5&quot;)),\n                        new Style(&quot;Разно цветный&quot;, HexColor.toColor(&quot;#000000&quot;), HexColor.toColor(&quot;#FFFFFF&quot;)),\n                        new Style(&quot;Варм&quot;, HexColor.toColor(&quot;#FFC854&quot;), HexColor.toColor(&quot;#4288FF&quot;)),\n                        new Style(&quot;Феникс&quot;, HexColor.toColor(&quot;#FFC300&quot;), HexColor.toColor(&quot;#FF5800&quot;)),\n                        new Style(&quot;Конфетный&quot;, HexColor.toColor(&quot;#76ACD7&quot;), HexColor.toColor(&quot;#F15FE9&quot;)),\n                        new Style(&quot;Кровавый&quot;, HexColor.toColor(&quot;#FD3A3A&quot;), HexColor.toColor(&quot;#3A3A3A&quot;)),\n                        new Style(&quot;Полиция&quot;, HexColor.toColor(&quot;#FF6347&quot;), HexColor.toColor(&quot;#0044FF&quot;)),\n                        new Style(&quot;Щилд&quot;, HexColor.toColor(&quot;#373b44&quot;), HexColor.toColor(&quot;#4286f4&quot;)),\n                        new Style(&quot;Свой&quot;, HexColor.toColor(&quot;#765AA5&quot;), HexColor.toColor(&quot;#F4ECFF&quot;))\n                )\n        );\n        currentStyle = styles.get(0);\n    }\n\n    public static Color astolfo(float yDist, float yTotal, float saturation, float speedt) {\n        float speed = 1800f;\n        float hue = (System.currentTimeMillis() % (int) speed) + (yTotal - yDist) * speedt;\n        while (hue &gt; speed) {\n            hue -= speed;\n        }\n        hue /= speed;\n        if (hue &gt; 0.5) {\n            hue = 0.5F - (hue - 0.5f);\n        }\n        hue += 0.5F;\n        return Color.getHSBColor(hue, saturation, 1F);\n    }\n\n    public void setCurrentStyle(Style style) {\n        currentStyle = style;\n    }\n\n    public Style getCurrentStyle() {\n        return currentStyle;\n    }\n\n    public static class HexColor {\n        public static int toColor(String hexColor) {\n            int argb = Integer.parseInt(hexColor.substring(1), 16);\n            return reAlphaInt(argb, 255);\n        }\n\n        public static int reAlphaInt(final int color, final int alpha) {\n            return (MathHelper.clamp(alpha, 0, 255) &lt;&lt; 24) | (color &amp; 16777215);\n        }\n    }\n</code></pre>\n<p>Function:</p>\n<pre><code> List&lt;Function&gt; sortedFunctions = new ArrayList&lt;&gt;();\n//        TimerUtil delay = new TimerUtil();\n        TimerUtil delay = new TimerUtil();\n\n        float x = 5;\n        float y = 25;\n        float height = 10;\n        float yOffset = 0;\n\n        final StyledFont font = Fonts.gilroyBold[fontSize.getValue().intValue()];\n        StyleManager styleManager = Managment.STYLE_MANAGER;\n\n        if (delay.hasTimeElapsed(10000)) {\n            sortedFunctions = HudUtil.getSorted(font);\n            delay.reset();\n        }\n\n        float gradientForce = 1;\n        int fontOffset = (fontSize.getValue().intValue() &gt; 14 ? -14 + fontSize.getValue().intValue()\n                - (fontSize.getValue().intValue() &gt; 14 ? 1 : 0) : 0);\n        int firstColor;\n        int secondColor;\n\n        if (glowing) {\n            for (Function function : sortedFunctions) {\n//                if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                    continue;\n//                }\n\n                function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n\n                if (function.animation &gt;= 0.01) {\n                    float width = font.getWidth(function.name) + 5;\n                    firstColor = StyleManager.getCurrentStyle()\n                            .getColor((int) ((yOffset + height * function.animation) * gradientForce));\n                    secondColor = styleManager.getCurrentStyle()\n                            .getColor((int) (yOffset * gradientForce));\n\n                    RenderSystem.pushMatrix();\n                    RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                    RenderSystem.scalef(1, function.animation, 1);\n                    RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                    RenderUtil.Render2D.drawShadow(x, y + yOffset, width, height, 10, firstColor, secondColor);\n                    RenderSystem.popMatrix();\n\n                    yOffset += height * function.animation;\n                }\n            }\n            yOffset = 0;\n        }\n        for (Function function : sortedFunctions) {\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                continue;\n//            }\n\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n\n            if (function.animation &gt;= 0.01) {\n                float width = font.getWidth(function.name) + 5;\n                secondColor = styleManager.getCurrentStyle()\n                        .getColor((int) (yOffset * gradientForce));\n\n                RenderSystem.pushMatrix();\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                RenderSystem.scalef(1, function.animation, 1);\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                RenderUtil.Render2D.drawRect(x, y + yOffset, width, height, ColorUtil.rgba(21, 21, 21, 255));\n                font.drawString(matrixStack, function.name, x + 3,\n                        y + yOffset + font.getFontHeight() / 2f - fontOffset - 1, secondColor);\n                RenderSystem.popMatrix();\n\n                yOffset += height * function.animation;\n            }\n        }\n\n\n        yOffset = 0;\n        for (Function function : sortedFunctions) {\n//            if ((limitations.get(0) &amp;&amp; function.category == Type.Render) || (limitations.get(1) &amp;&amp; function.bind == 0)) {\n//                continue;\n//            }\n            function.animation = AnimationMath.lerp(function.animation, function.state ? 1 : 0, 15);\n            if (function.animation &gt;= 0.01) {\n                float width = font.getWidth(function.name) + 4;\n                firstColor = StyleManager.getCurrentStyle().getColor((int) ((yOffset + height * function.animation) * gradientForce));\n                secondColor = styleManager.getCurrentStyle().getColor((int) (yOffset * gradientForce));\n                RenderSystem.pushMatrix();\n                RenderSystem.translatef(x + width / 2F, y + yOffset, 0);\n                RenderSystem.scalef(1, function.animation, 1);\n                RenderSystem.translatef(-(x + width / 2F), -(y + yOffset), 0);\n                RenderUtil.Render2D.drawShadow(x, y + yOffset, 1, height, 8, firstColor, secondColor);\n                RenderUtil.Render2D.drawVertical(x, y + yOffset, 1, height, firstColor, secondColor);\n                RenderSystem.popMatrix();\n\n                yOffset += height * function.animation;\n            }\n        }\n\n    }\n</code></pre>\n<p>none of the methods helped me (I'm a beginner)</p>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1535143442,"creation_date":1535140688,"answer_id":52010963,"question_id":52010776,"body_markdown":"try this approach\r\n\r\n    @Entity\r\n    public class MyClass{\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator = “UUID”)\r\n    \t@GenericGenerator(\r\n    \t\tname = “UUID”,\r\n    \t\tstrategy = “org.hibernate.id.UUIDGenerator”,\r\n    \t)\r\n    \t@Column(name = “id”, updatable = false, nullable = false)\r\n    \tprivate UUID id;\r\n    \t\r\n    \t…\r\n    }\r\n\r\n\r\n======================================\r\n\r\nI invoke like this and in my envirenment all work fine:\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n    \r\n    @PostMapping(&quot;&quot;)\r\n    @Transactional\r\n    public void add(@RequestBody MyClass myClass){\r\n            entityManager.persist(myClass);\r\n    }\r\n\r\n\r\nand requst send by post with body:\r\n\r\n    {\r\n    \t&quot;myId&quot; : &quot;213b2bbb1&quot;\r\n    }\r\n\r\n","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>try this approach</p>\n\n<pre><code>@Entity\npublic class MyClass{\n\n    @Id\n    @GeneratedValue(generator = “UUID”)\n    @GenericGenerator(\n        name = “UUID”,\n        strategy = “org.hibernate.id.UUIDGenerator”,\n    )\n    @Column(name = “id”, updatable = false, nullable = false)\n    private UUID id;\n\n    …\n}\n</code></pre>\n\n<p>======================================</p>\n\n<p>I invoke like this and in my envirenment all work fine:</p>\n\n<pre><code>@Autowired\nprivate EntityManager entityManager;\n\n@PostMapping(\"\")\n@Transactional\npublic void add(@RequestBody MyClass myClass){\n        entityManager.persist(myClass);\n}\n</code></pre>\n\n<p>and requst send by post with body:</p>\n\n<pre><code>{\n    \"myId\" : \"213b2bbb1\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12611107,"reputation":11,"user_id":9170212,"display_name":"kebrom woldegebriel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641027428,"creation_date":1641027428,"answer_id":70547851,"question_id":52010776,"body_markdown":"I faced this problem, turns out I was missing the setter for the id field. Make sure the setter method for the ID is defined in the entity class. ","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>I faced this problem, turns out I was missing the setter for the id field. Make sure the setter method for the ID is defined in the entity class.</p>\n"},{"tags":[],"owner":{"account_id":20145147,"reputation":302,"user_id":14773854,"display_name":"user14773854"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701271814,"creation_date":1701271814,"answer_id":77572509,"question_id":52010776,"body_markdown":"Based on the helpful answer by @PiotrRogowski, for numeric primary keys, for example those mapped to `java.lang.Long`:\r\n```java\r\n@Entity\r\n@Table(name = &quot;myclass&quot;)\r\npublic class MyClass {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;Incremental&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;Incremental&quot;,\r\n    \tstrategy = &quot;org.hibernate.id.IncrementGenerator&quot;,\r\n    )\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false, insertable = false, unique = true)\r\n    private Long id;\r\n    \t\r\n    …\r\n}\r\n```\r\n&lt;hr&gt;&lt;/hr&gt;\r\nYou can invoke it this way:\r\n\r\n```java\r\n@Autowired\r\nprivate EntityManager entityManager;\r\n    \r\n@PostMapping(&quot;&quot;)\r\n@Transactional\r\npublic void add(@RequestBody MyClass myClass) {\r\n    entityManager.persist(myClass);\r\n}\r\n```","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>Based on the helpful answer by @PiotrRogowski, for numeric primary keys, for example those mapped to <code>java.lang.Long</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;myclass&quot;)\npublic class MyClass {\n    @Id\n    @GeneratedValue(generator = &quot;Incremental&quot;)\n    @GenericGenerator(\n        name = &quot;Incremental&quot;,\n        strategy = &quot;org.hibernate.id.IncrementGenerator&quot;,\n    )\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false, insertable = false, unique = true)\n    private Long id;\n        \n    …\n}\n</code></pre>\n<hr>\nYou can invoke it this way:\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate EntityManager entityManager;\n    \n@PostMapping(&quot;&quot;)\n@Transactional\npublic void add(@RequestBody MyClass myClass) {\n    entityManager.persist(myClass);\n}\n</code></pre>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18069,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52010963,"answer_count":3,"score":7,"last_activity_date":1701271814,"creation_date":1535139627,"question_id":52010776,"body_markdown":"Already read lots of questions about the same issue, but I still not be able to solve this problem.\r\n\r\nI need to have a `String` primary key on my database.\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class MyClass {\r\n    \r\n    \t@Id\r\n    \tprivate String myId;\r\n    \tprivate String name;\r\n    \t\r\n    \t// getters and setters..\r\n    \r\n    }\r\n\r\nThe problem is that, if I use `String` type in a `@Id` annotated field, Hibernate throws an exception when I try to save the object.\r\n\r\n    ids for this class must be manually assigned before calling \r\n\r\nAnd yes, I&#39;m setting a value to the field.\r\n\r\nWorkarounds I found:\r\n\r\n 1. Add `@GeneratedValue` annotation to the field - not worked\r\n 2. Change the field type to `Integer` - it&#39;s not feasible for me\r\n 3. Add a constructor that receives `myId` as parameter `public MyClass(String myId){ ... }` - not worked\r\n 4. Use UUID - i can&#39;t, cause this id is set by a field that comes in with a POST request.\r\n\r\nNone of these workarounds worked for me.\r\n\r\n**UPDATE**\r\n\r\nI&#39;m using Spring Boot and Spring Data JPA.\r\n\r\nHow do I insert:\r\n\r\nI have an `@PostMapping` annotated method which handles POST request and call a service that do some business logic and call my repository for persisting.\r\n\r\nThe request I post:\r\n\r\n    {\r\n    \t&quot;myId&quot;: &quot;myId&quot;,\r\n    \t&quot;name&quot;: &quot;myName&quot;\r\n    }\r\n\r\n**MyService.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class MyService {\r\n    \r\n    \t@Autowired\r\n    \tprivate MyRepository myRepository;\r\n    \r\n    \tpublic MyClass save(MyClass myClass) {\r\n    \t\treturn myRepository.save(myClass); // save() should persist my object into the database\r\n    \t}\r\n    }\r\n\r\n","title":"Ids for this class must be manually assigned before calling save on String ID","body":"<p>Already read lots of questions about the same issue, but I still not be able to solve this problem.</p>\n\n<p>I need to have a <code>String</code> primary key on my database.</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class MyClass {\n\n    @Id\n    private String myId;\n    private String name;\n\n    // getters and setters..\n\n}\n</code></pre>\n\n<p>The problem is that, if I use <code>String</code> type in a <code>@Id</code> annotated field, Hibernate throws an exception when I try to save the object.</p>\n\n<pre><code>ids for this class must be manually assigned before calling \n</code></pre>\n\n<p>And yes, I'm setting a value to the field.</p>\n\n<p>Workarounds I found:</p>\n\n<ol>\n<li>Add <code>@GeneratedValue</code> annotation to the field - not worked</li>\n<li>Change the field type to <code>Integer</code> - it's not feasible for me</li>\n<li>Add a constructor that receives <code>myId</code> as parameter <code>public MyClass(String myId){ ... }</code> - not worked</li>\n<li>Use UUID - i can't, cause this id is set by a field that comes in with a POST request.</li>\n</ol>\n\n<p>None of these workarounds worked for me.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm using Spring Boot and Spring Data JPA.</p>\n\n<p>How do I insert:</p>\n\n<p>I have an <code>@PostMapping</code> annotated method which handles POST request and call a service that do some business logic and call my repository for persisting.</p>\n\n<p>The request I post:</p>\n\n<pre><code>{\n    \"myId\": \"myId\",\n    \"name\": \"myName\"\n}\n</code></pre>\n\n<p><strong>MyService.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    public MyClass save(MyClass myClass) {\n        return myRepository.save(myClass); // save() should persist my object into the database\n    }\n}\n</code></pre>\n"},{"tags":["java","registry","windows-10-desktop"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701268557,"post_id":77572042,"comment_id":136754783,"body_markdown":"Why do you need that registry key? Which installer, provider, architecture, JRE/JDK and version are you using? If it is Java 10, then why are you using an old and end of life version of Java (in September 2018) instead of a current one? Java 10 was one of not Long Term Support releases, it was supported for a few months only.","body":"Why do you need that registry key? Which installer, provider, architecture, JRE/JDK and version are you using? If it is Java 10, then why are you using an old and end of life version of Java (in September 2018) instead of a current one? Java 10 was one of not Long Term Support releases, it was supported for a few months only."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701271712,"post_id":77572042,"comment_id":136755550,"body_markdown":"Which Java installer are you using? For example the Eclipse Adoptium Temurin installer will only create registry keys if you explicitly enable it in the installer (though I&#39;m not sure if it creates _this_ registry key).","body":"Which Java installer are you using? For example the Eclipse Adoptium Temurin installer will only create registry keys if you explicitly enable it in the installer (though I&#39;m not sure if it creates <i>this</i> registry key)."},{"owner":{"account_id":30023163,"reputation":1,"user_id":23008060,"display_name":"orgtr"},"score":0,"creation_date":1701369571,"post_id":77572042,"comment_id":136770237,"body_markdown":"Thank you for the answer, I&#39;ll search for the newest version at first. The key is demanded by an old application I am using, which utilises Java and this application is yelling for the reg key.","body":"Thank you for the answer, I&#39;ll search for the newest version at first. The key is demanded by an old application I am using, which utilises Java and this application is yelling for the reg key."}],"owner":{"account_id":30023163,"reputation":1,"user_id":23008060,"display_name":"orgtr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701271644,"creation_date":1701268095,"question_id":77572042,"body_markdown":"[enter image description here](https://i.stack.imgur.com/G2JcP.jpg)\r\n\r\nThe key is required and the registry does not contain it after the newest Java install. Could anyone advise how to edit the registry to update this path?\r\n\r\nUninstalling and reinstalling Java 10 brought no expected result in registry.","title":"Registry key not found after Java10 installation on Win10","body":"<p><a href=\"https://i.stack.imgur.com/G2JcP.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The key is required and the registry does not contain it after the newest Java install. Could anyone advise how to edit the registry to update this path?</p>\n<p>Uninstalling and reinstalling Java 10 brought no expected result in registry.</p>\n"},{"tags":["java","multithreading","apache-camel"],"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701271611,"creation_date":1701268654,"question_id":77572104,"body_markdown":"I&#39;m having issues migrating to Camel 3.21 from the 3.2 version.\r\n\r\nMy workflow looks like this:\r\n\r\nread an XML file from FS -&gt; parse it and **split** it into pieces -&gt; **aggregate** those pieces into chunks of certain size -&gt; process chunks one by one\r\n\r\nOne of the requirements is that the next file must not be read while the previous one hasn&#39;t been completely processed.\r\n\r\nWith the old Camel version everything worked well, but with 3.21 (I guess the breaking changes were introduced in 3.11) the next file is being read while the previous one is still being processed.\r\n\r\nI found that now there are two different threads, one performs the actual aggregation, and the other one processes the aggregated chunks. That lets the first thread go ahead and read files regardless of what the second thread does.\r\n\r\nI tried to follow the instructions from Camel docs:\r\n&gt; In order to achieve synchronous aggregation, use an instance of **SynchronousExecutorService** for the executorService option. The aggregated output will execute in the same thread that called the aggregator.\r\n\r\nNow I have the only thread gathering the chunks and processing them (bingo!), but the issue is that it doesn&#39;t get back to compiling the second chunk when the processing of the first one is completed. It just hangs and does nothing.\r\n\r\nMy guess is that this change in 3.11 is what causes the issue:\r\n&gt; The aggregate EIP will now always use a worker thread pool for processing outgoing messages. Previously a worker pool was only created when parallelProcessing=true. When having parallelProcessing=false then a single-threaded worker pool is created and used by the aggregator.\r\nCamels routing engine works better when a dedicated worker pool that eliminates a **hack** that otherwise was needed in other EIPs that was affected if using the aggregator in some special configurations.\r\n\r\nAny ideas on how to solve that are highly appreciated!","title":"How to set up a workflow using Split, Aggregate and a single thread (3.11 migration issue)","body":"<p>I'm having issues migrating to Camel 3.21 from the 3.2 version.</p>\n<p>My workflow looks like this:</p>\n<p>read an XML file from FS -&gt; parse it and <strong>split</strong> it into pieces -&gt; <strong>aggregate</strong> those pieces into chunks of certain size -&gt; process chunks one by one</p>\n<p>One of the requirements is that the next file must not be read while the previous one hasn't been completely processed.</p>\n<p>With the old Camel version everything worked well, but with 3.21 (I guess the breaking changes were introduced in 3.11) the next file is being read while the previous one is still being processed.</p>\n<p>I found that now there are two different threads, one performs the actual aggregation, and the other one processes the aggregated chunks. That lets the first thread go ahead and read files regardless of what the second thread does.</p>\n<p>I tried to follow the instructions from Camel docs:</p>\n<blockquote>\n<p>In order to achieve synchronous aggregation, use an instance of <strong>SynchronousExecutorService</strong> for the executorService option. The aggregated output will execute in the same thread that called the aggregator.</p>\n</blockquote>\n<p>Now I have the only thread gathering the chunks and processing them (bingo!), but the issue is that it doesn't get back to compiling the second chunk when the processing of the first one is completed. It just hangs and does nothing.</p>\n<p>My guess is that this change in 3.11 is what causes the issue:</p>\n<blockquote>\n<p>The aggregate EIP will now always use a worker thread pool for processing outgoing messages. Previously a worker pool was only created when parallelProcessing=true. When having parallelProcessing=false then a single-threaded worker pool is created and used by the aggregator.\nCamels routing engine works better when a dedicated worker pool that eliminates a <strong>hack</strong> that otherwise was needed in other EIPs that was affected if using the aggregator in some special configurations.</p>\n</blockquote>\n<p>Any ideas on how to solve that are highly appreciated!</p>\n"},{"tags":["javascript","java","datatables","thymeleaf"],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701271506,"creation_date":1701271506,"question_id":77572474,"body_markdown":"I have a spring boot application and thymeleaf as the fronted engine. I want to render the data with DataTables and not thymeleaf.\r\n\r\nThe problem is the user must have the role of **EDITOR** in order to render the edit/delete form. So if I&#39;m correct I&#39;ll need to pass the authorities of the current user in the response?\r\n\r\nThis code depicts me trying to return the ROLES in the response:\r\n```\r\n@PostMapping(&quot;/data-endpoint&quot;)\r\npublic ResponseEntity&lt;?&gt; getDataForDataTable(\r\n    // ... (existing method parameters)\r\n) {\r\n    // ... (existing method implementation)\r\n\r\n    // Extracting user authorities\r\n    Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\r\n    List&lt;String&gt; authorityStrings = authorities.stream()\r\n        .map(GrantedAuthority::getAuthority)\r\n        .collect(Collectors.toList());\r\n\r\n    // ... (existing code)\r\n\r\n    // Adding authorities to the response\r\n    response.put(&quot;authorities&quot;, authorityStrings);\r\n    response.put(&quot;username&quot;, username);\r\n\r\n    // ... (existing code)\r\n\r\n    return ResponseEntity.ok(response);\r\n}\r\n```\r\nSo in the DataTable initialization this is what I did:\r\n```\r\n{\r\n    &quot;data&quot;: null,\r\n    &quot;render&quot;: function (data, type, row) {\r\n        let authorities = json.authorities || [];\r\n        let hasEditorRole = authorities.includes(&#39;EDITOR&#39;);\r\n        // ... (existing code)\r\n    },\r\n    &quot;orderable&quot;: false\r\n}\r\n```\r\nI&#39;m seeing the error `Uncaught ReferenceError: json is not defined`\r\n\r\nOr is it possible that it would work the same way as in the HTML:\r\n```\r\n&lt;form th:if=&quot;${#lists.contains(roles, &#39;EDITOR&#39;)}&quot;  style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm(&#39;Do you really want to delete this Assignment? This action cannot be reversed.&#39;);&quot;&gt;\r\n                                                            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\r\n                                                            &lt;button  class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot; &gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\r\n                                                        &lt;/form&gt;\r\n```\r\nWould it work the same if I were to render the form above as is in the DataTable column? I have no data in the table so I can&#39;t test","title":"How to conditionally render a form based on the current user&#39;s role with DataTables?","body":"<p>I have a spring boot application and thymeleaf as the fronted engine. I want to render the data with DataTables and not thymeleaf.</p>\n<p>The problem is the user must have the role of <strong>EDITOR</strong> in order to render the edit/delete form. So if I'm correct I'll need to pass the authorities of the current user in the response?</p>\n<p>This code depicts me trying to return the ROLES in the response:</p>\n<pre><code>@PostMapping(&quot;/data-endpoint&quot;)\npublic ResponseEntity&lt;?&gt; getDataForDataTable(\n    // ... (existing method parameters)\n) {\n    // ... (existing method implementation)\n\n    // Extracting user authorities\n    Collection&lt;? extends GrantedAuthority&gt; authorities = authentication.getAuthorities();\n    List&lt;String&gt; authorityStrings = authorities.stream()\n        .map(GrantedAuthority::getAuthority)\n        .collect(Collectors.toList());\n\n    // ... (existing code)\n\n    // Adding authorities to the response\n    response.put(&quot;authorities&quot;, authorityStrings);\n    response.put(&quot;username&quot;, username);\n\n    // ... (existing code)\n\n    return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>So in the DataTable initialization this is what I did:</p>\n<pre><code>{\n    &quot;data&quot;: null,\n    &quot;render&quot;: function (data, type, row) {\n        let authorities = json.authorities || [];\n        let hasEditorRole = authorities.includes('EDITOR');\n        // ... (existing code)\n    },\n    &quot;orderable&quot;: false\n}\n</code></pre>\n<p>I'm seeing the error <code>Uncaught ReferenceError: json is not defined</code></p>\n<p>Or is it possible that it would work the same way as in the HTML:</p>\n<pre><code>&lt;form th:if=&quot;${#lists.contains(roles, 'EDITOR')}&quot;  style=&quot;display:inline !important;&quot; th:action=&quot;@{/touchPoint/delete/}&quot; method=&quot;post&quot; onsubmit=&quot;return confirm('Do you really want to delete this Assignment? This action cannot be reversed.');&quot;&gt;\n                                                            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;*{TouchPointID}&quot;/&gt;\n                                                            &lt;button  class=&quot;form-command btn btn-danger btn-sm&quot; type=&quot;submit&quot; &gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n                                                        &lt;/form&gt;\n</code></pre>\n<p>Would it work the same if I were to render the form above as is in the DataTable column? I have no data in the table so I can't test</p>\n"},{"tags":["java","android","bluetooth","broadcastreceiver"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701271341,"creation_date":1673807844,"question_id":75127500,"body_markdown":"I&#39;m trying to start the bluetooth sco to be able to record a call through bluetooth headset but every tim i execute the code , it returns disconencted even though bluetooth is on and headsets are connected , any reason why Thank you .\r\n\r\n\r\n * Manifest File\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;false&quot; /&gt;\r\n```\r\n\r\n * Registering receiver\r\n\r\n```\r\n // register new receiver for bluetooth headset\r\n        IntentFilter intentFilter =  new IntentFilter();\r\n        intentFilter.addAction(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED); // API 14\r\n        registerReceiver(broadcastReceiver,intentFilter);\r\n\r\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\r\n        audioManager.startBluetoothSco();\r\n\r\n        if(audioManager.isBluetoothScoOn()){\r\n            Log.d(&quot;TAG&quot;,&quot;True&quot;);\r\n        } else  {\r\n            Log.d(&quot;TAG&quot;,&quot;False&quot;);\r\n        }\r\n```\r\n\r\n * Receiver code \r\n\r\n```\r\n  private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\r\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\r\n                // Start recording audio\r\n                isConnected = true;\r\n                Log.d(&quot;TAG&quot;,&quot;audio connected&quot;);\r\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\r\n                Log.d(&quot;TAG&quot;,&quot;audio Disconnected&quot;);\r\n            } else if (state == AudioManager.SCO_AUDIO_STATE_CONNECTING){\r\n                Log.d(&quot;TAG&quot;,&quot;audio Connecting&quot;);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n  * LOGS\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F4r2R.png","title":"startBluetoothSco always return disconnected","body":"<p>I'm trying to start the bluetooth sco to be able to record a call through bluetooth headset but every tim i execute the code , it returns disconencted even though bluetooth is on and headsets are connected , any reason why Thank you .</p>\n<ul>\n<li>Manifest File</li>\n</ul>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; android:required=&quot;false&quot; /&gt;\n</code></pre>\n<ul>\n<li>Registering receiver</li>\n</ul>\n<pre><code> // register new receiver for bluetooth headset\n        IntentFilter intentFilter =  new IntentFilter();\n        intentFilter.addAction(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED); // API 14\n        registerReceiver(broadcastReceiver,intentFilter);\n\n        audioManager.setMode(AudioManager.MODE_IN_CALL);\n        audioManager.startBluetoothSco();\n\n        if(audioManager.isBluetoothScoOn()){\n            Log.d(&quot;TAG&quot;,&quot;True&quot;);\n        } else  {\n            Log.d(&quot;TAG&quot;,&quot;False&quot;);\n        }\n</code></pre>\n<ul>\n<li>Receiver code</li>\n</ul>\n<pre><code>  private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE,-1);\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\n                // Start recording audio\n                isConnected = true;\n                Log.d(&quot;TAG&quot;,&quot;audio connected&quot;);\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\n                Log.d(&quot;TAG&quot;,&quot;audio Disconnected&quot;);\n            } else if (state == AudioManager.SCO_AUDIO_STATE_CONNECTING){\n                Log.d(&quot;TAG&quot;,&quot;audio Connecting&quot;);\n            }\n        }\n    };\n</code></pre>\n<ul>\n<li>LOGS</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/F4r2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F4r2R.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1660840938,"creation_date":1660840938,"answer_id":73406695,"question_id":73401711,"body_markdown":"This is not a field that gets validated but a method which is kind of read as a virtual field from that method. \r\n\r\nI think the method has to be declared as public to become accessible for validation\r\n\r\n     @AssertTrue\r\n     public boolean isValid() {\r\n         return key !=null || val !=null;\r\n     }","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>This is not a field that gets validated but a method which is kind of read as a virtual field from that method.</p>\n<p>I think the method has to be declared as public to become accessible for validation</p>\n<pre><code> @AssertTrue\n public boolean isValid() {\n     return key !=null || val !=null;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12469382,"reputation":1,"user_id":9078111,"display_name":"Unbearables"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701271166,"creation_date":1701271166,"answer_id":77572417,"question_id":73401711,"body_markdown":"Also for others who may be wondering, the method name needs to start with `is...`, `has...` or other variations do not work.","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>Also for others who may be wondering, the method name needs to start with <code>is...</code>, <code>has...</code> or other variations do not work.</p>\n"}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73406695,"answer_count":2,"score":3,"last_activity_date":1701271166,"creation_date":1660819610,"question_id":73401711,"body_markdown":"My Custom DTO class is as follows :\r\n\r\n    public class TestDto1 {\r\n\t\r\n\tprivate String key;\r\n\tprivate String val;\r\n\t\r\n\t@AssertTrue\r\n\tprivate boolean isValid() {\r\n\t\treturn key !=null || val !=null;\r\n\t}public class TestDto1 {\r\n\t\r\n\tprivate String key;\r\n\tprivate String val;\r\n\t\r\n\t@AssertTrue\r\n\tprivate boolean isValid() {\r\n\t\treturn key !=null || val !=null;\r\n\t}\r\n\r\nMy Parent DTO class :\r\n\r\n    public class TestDto {\r\n\t\r\n\t\r\n\tprivate String id;\r\n\t\r\n\t@Valid\r\n\tprivate TestDto1 tes;\r\n\r\n\tpublic TestDto1 getTes() {\r\n\t\treturn tes;\r\n\t}\r\n\r\n\tpublic void setTes(TestDto1 tes) {\r\n\t\tthis.tes = tes;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\r\nWhile running the app and hitting api with following JSON getting following error:\r\n\r\n    {\r\n    &quot;id&quot;:&quot;1234&quot;,\r\n    &quot;tes&quot;:{\r\n        \r\n    }\r\n}\r\n\r\n  \r\n\r\n      JSR-303 validated property &#39;tes.valid&#39; does not have a corresponding accessor for Spring data binding - check your DataBinder&#39;s configuration (bean property versus direct field access)] with root cause\r\n    \r\n    org.springframework.beans.NotReadablePropertyException: Invalid property &#39;tes.valid&#39; of bean class [com.example.thirdparty.controller.TestDto]: Bean property &#39;tes.valid&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\r\nPlease let me know what needs to be done here\r\n\r\n","title":"@AssertTrue giving JSR-303 issue when using inside a nested Object on which @Valid annotation is present","body":"<p>My Custom DTO class is as follows :</p>\n<pre><code>public class TestDto1 {\n\nprivate String key;\nprivate String val;\n\n@AssertTrue\nprivate boolean isValid() {\n    return key !=null || val !=null;\n}public class TestDto1 {\n\nprivate String key;\nprivate String val;\n\n@AssertTrue\nprivate boolean isValid() {\n    return key !=null || val !=null;\n}\n</code></pre>\n<p>My Parent DTO class :</p>\n<pre><code>public class TestDto {\n\n\nprivate String id;\n\n@Valid\nprivate TestDto1 tes;\n\npublic TestDto1 getTes() {\n    return tes;\n}\n\npublic void setTes(TestDto1 tes) {\n    this.tes = tes;\n}\n\npublic String getId() {\n    return id;\n</code></pre>\n<p>While running the app and hitting api with following JSON getting following error:</p>\n<pre><code>{\n&quot;id&quot;:&quot;1234&quot;,\n&quot;tes&quot;:{\n    \n}\n</code></pre>\n<p>}</p>\n<pre><code>  JSR-303 validated property 'tes.valid' does not have a corresponding accessor for Spring data binding - check your DataBinder's configuration (bean property versus direct field access)] with root cause\n\norg.springframework.beans.NotReadablePropertyException: Invalid property 'tes.valid' of bean class [com.example.thirdparty.controller.TestDto]: Bean property 'tes.valid' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n</code></pre>\n<p>Please let me know what needs to be done here</p>\n"},{"tags":["java","spring-boot","swagger","api-gateway"],"comments":[{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":1,"creation_date":1654116422,"post_id":71876501,"comment_id":128017962,"body_markdown":"Hi, I am facing the same issue. Were you able to solve it, and if yes, how? Thnx","body":"Hi, I am facing the same issue. Were you able to solve it, and if yes, how? Thnx"}],"answers":[{"tags":[],"owner":{"account_id":26066994,"reputation":23,"user_id":19767287,"display_name":"Mohamed Osama"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1701271112,"creation_date":1660559142,"answer_id":73359696,"question_id":71876501,"body_markdown":"You can add this config in the yaml file:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        enabled: true\r\n      swagger-ui:\r\n        config-url: v3/api-docs/swagger-config\r\n        url: /v3/api-docs\r\n        urls:\r\n          - name: test\r\n            url: /v3/api-docs/test\r\n\r\n","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>You can add this config in the yaml file:</p>\n<pre><code>springdoc:\n  api-docs:\n    enabled: true\n  swagger-ui:\n    config-url: v3/api-docs/swagger-config\n    url: /v3/api-docs\n    urls:\n      - name: test\n        url: /v3/api-docs/test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672081972,"creation_date":1672081972,"answer_id":74923329,"question_id":71876501,"body_markdown":"I solved with this `application.yml`:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: openapi\r\n          uri: http://localhost:${server.port}\r\n          predicates:\r\n            - Path=/v3/api-docs/**\r\n          filters:\r\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\r\n        - id: characters-service\r\n          uri: lb://characters-service\r\n          predicates:\r\n            - Path=/characters-service/**\r\n          filters:\r\n            - RewritePath=/characters-service/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n\r\nspringdoc:\r\n  enable-native-support: true\r\n  api-docs:\r\n    groups:\r\n      enabled: true\r\n    enabled: true\r\n  group-configs:\r\n    - group: api-gateway\r\n      packages-to-scan:\r\n        - dev.kambei.apigateway\r\n      display-name: API Gateway\r\n    - group: characters-service\r\n      paths-to-match:\r\n        - /characters-service/**\r\n      display-name: Characters Service\r\n  swagger-ui:\r\n    config-url: /v3/api-docs/swagger-config\r\n    url: /v3/api-docs\r\n    urls:\r\n      - url: /v3/api-docs\r\n        name: API Gateway\r\n      - url: /characters-service/v3/api-docs\r\n        name: Characters Service\r\n```","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>I solved with this <code>application.yml</code>:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: openapi\n          uri: http://localhost:${server.port}\n          predicates:\n            - Path=/v3/api-docs/**\n          filters:\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\n        - id: characters-service\n          uri: lb://characters-service\n          predicates:\n            - Path=/characters-service/**\n          filters:\n            - RewritePath=/characters-service/(?&lt;path&gt;.*), /$\\{path}\n\n\nspringdoc:\n  enable-native-support: true\n  api-docs:\n    groups:\n      enabled: true\n    enabled: true\n  group-configs:\n    - group: api-gateway\n      packages-to-scan:\n        - dev.kambei.apigateway\n      display-name: API Gateway\n    - group: characters-service\n      paths-to-match:\n        - /characters-service/**\n      display-name: Characters Service\n  swagger-ui:\n    config-url: /v3/api-docs/swagger-config\n    url: /v3/api-docs\n    urls:\n      - url: /v3/api-docs\n        name: API Gateway\n      - url: /characters-service/v3/api-docs\n        name: Characters Service\n</code></pre>\n"}],"owner":{"account_id":24940076,"reputation":31,"user_id":18806091,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3005,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701271112,"creation_date":1649963088,"question_id":71876501,"body_markdown":"Pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nSwaggerConfig.java:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n\r\n    public class SwaggerConfig {\r\n\r\n    private final RouteDefinitionLocator locator;\r\n\r\n    @Bean\r\n    public List&lt;GroupedOpenApi&gt; apis() {\r\n        List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\r\n        List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\r\n        definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\r\n            String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\r\n            GroupedOpenApi api = GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).group(name).build();\r\n            groups.add(api);\r\n        });\r\n        return groups;\r\n    }\r\n\r\n    }\r\n\r\napplication.yml:\r\n\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          enabled: true\r\n          lower-case-service-id: true\r\n      routes:\r\n        - id: swagger\r\n          uri: http://localhost:${server.port}\r\n          predicates:\r\n            - Path=/v3/api-docs/**\r\n          filters:\r\n            - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\r\n        - id: test-service\r\n          uri: lb://test-service\r\n          predicates:\r\n            - Path=/testservice/**\r\n          filters:\r\n            - RewritePath=/testservice/(?&lt;path&gt;.*), /$\\{path}\r\n\r\n  \r\nApi gateway sees test-service with the help of discovery-server. When I enter swagger-ui of my gateway server,\r\n in the &quot;Select a definition&quot; tab I only see &quot;default&quot; definition but no test-service definition that I really want. I&#39;ve used those tutorials:\r\n1. https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/\r\n2. https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47\r\n\r\n[Screenshot:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEJeO.png","title":"API Gateway doesn&#39;t aggregate microservices swagger docs Spring boot","body":"<p>Pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>SwaggerConfig.java:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n\npublic class SwaggerConfig {\n\nprivate final RouteDefinitionLocator locator;\n\n@Bean\npublic List&lt;GroupedOpenApi&gt; apis() {\n    List&lt;GroupedOpenApi&gt; groups = new ArrayList&lt;&gt;();\n    List&lt;RouteDefinition&gt; definitions = locator.getRouteDefinitions().collectList().block();\n    definitions.stream().filter(routeDefinition -&gt; routeDefinition.getId().matches(&quot;.*-service&quot;)).forEach(routeDefinition -&gt; {\n        String name = routeDefinition.getId().replaceAll(&quot;-service&quot;, &quot;&quot;);\n        GroupedOpenApi api = GroupedOpenApi.builder().pathsToMatch(&quot;/&quot; + name + &quot;/**&quot;).group(name).build();\n        groups.add(api);\n    });\n    return groups;\n}\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>gateway:\n  discovery:\n    locator:\n      enabled: true\n      lower-case-service-id: true\n  routes:\n    - id: swagger\n      uri: http://localhost:${server.port}\n      predicates:\n        - Path=/v3/api-docs/**\n      filters:\n        - RewritePath=/v3/api-docs/(?&lt;path&gt;.*), /$\\{path}/v3/api-docs\n    - id: test-service\n      uri: lb://test-service\n      predicates:\n        - Path=/testservice/**\n      filters:\n        - RewritePath=/testservice/(?&lt;path&gt;.*), /$\\{path}\n</code></pre>\n<p>Api gateway sees test-service with the help of discovery-server. When I enter swagger-ui of my gateway server,\nin the &quot;Select a definition&quot; tab I only see &quot;default&quot; definition but no test-service definition that I really want. I've used those tutorials:</p>\n<ol>\n<li><a href=\"https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/\" rel=\"nofollow noreferrer\">https://piotrminkowski.com/2020/02/20/microservices-api-documentation-with-springdoc-openapi/</a></li>\n<li><a href=\"https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47\" rel=\"nofollow noreferrer\">https://dgempiuc.medium.com/api-gateway-swagger-composition-e9416398ca47</a></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rEJeO.png\" rel=\"nofollow noreferrer\">Screenshot:</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18927467,"reputation":300,"user_id":13810263,"display_name":"millerluki"},"score":1,"creation_date":1701243219,"post_id":77569287,"comment_id":136749992,"body_markdown":"Please share the code you have tried with. Stack Overflow can help you troubleshoot existing code, not write it for you. To learn more about how the community can help you, please take the [tour](https://stackoverflow.com/tour) and read [How to Ask](https://stackoverflow.com/questions/how-to-ask).","body":"Please share the code you have tried with. Stack Overflow can help you troubleshoot existing code, not write it for you. To learn more about how the community can help you, please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":30014419,"reputation":1,"user_id":23001334,"display_name":"Daroosh Sikaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701271093,"creation_date":1701243097,"question_id":77569287,"body_markdown":"I have tried some XML and Java solutions, but they didn&#39;t work. Does anyone have a correct solution to drag a ListView up and down with custom scrollbars with images? ","title":"How to make custom scrollbar for ListView that can scroll the list?","body":"<p>I have tried some XML and Java solutions, but they didn't work. Does anyone have a correct solution to drag a ListView up and down with custom scrollbars with images?</p>\n"},{"tags":["java","json","spring","spring-boot","converters"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1701271524,"post_id":77571753,"comment_id":136755503,"body_markdown":"used jackson and lombok together and fails to find suitable constructor or factory method to deserialize a JSON string into an object.  `@Value\n@Builder\npublic class CountryDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    private String countryName;\n\n    @JsonCreator\n    CountryDTO(\n            @JsonProperty(&quot;id&quot;) final Long id,\n            @JsonProperty(&quot;countryName&quot;) final String countryName) {\n        this.id = id;\n        this.countryName = countryName;\n    }\n}`","body":"used jackson and lombok together and fails to find suitable constructor or factory method to deserialize a JSON string into an object.  <code>@Value @Builder public class CountryDTO {      @JsonIgnore     private Long id;      private String countryName;      @JsonCreator     CountryDTO(             @JsonProperty(&quot;id&quot;) final Long id,             @JsonProperty(&quot;countryName&quot;) final String countryName) {         this.id = id;         this.countryName = countryName;     } }</code>"}],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":271,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701270886,"creation_date":1701269822,"answer_id":77572259,"question_id":77571753,"body_markdown":"Converter interface you implemented from \r\n\r\n&gt; org.springframework.core.convert.converter.Converter\r\n\r\nis primarily used for type conversion in the application layer, like converting between different object types within the service or controller layers. However, it is not directly involved in HTTP message conversion.\r\n\r\nWhen processing JSON data, Spring Boot uses Jackson by default to serialize and deserialize the request and response bodies. Jackson, in this case, does not automatically utilize the Spring Converter interface for JSON deserialization.\r\n\r\nYou have a couple of options:\r\n1) Implement a custom deserializer for Jackson\r\n2) Modify the UserDTO class\r\n\r\nWhen it comes to JSON data handling in @RestController, integration with Jackson is necessary for it to be applicable in JSON deserialization.\r\n\r\nExample:\r\n\r\n       public class CountryDTODeserializer extends JsonDeserializer&lt;CountryDTO&gt; {\r\n    \r\n        private final CountryService countryService;\r\n    \r\n        public CountryDTODeserializer(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n    \r\n        @Override\r\n        public CountryDTO deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n            Long id = node.asLong(); // Something like this\r\n    \r\n            try {\r\n                return countryService.findById(id);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(&quot;Error during deserialization&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAlso don&#39;t forget to put the following annotation:\r\n\r\n     @JsonDeserialize(using = CountryDTODeserializer.class)\r\n     @NotNull(message = &quot;Country is required&quot;)\r\n     private CountryDTO country;","title":"Spring Boot Converter Doesn&#39;t Work in REST Calls","body":"<p>Converter interface you implemented from</p>\n<blockquote>\n<p>org.springframework.core.convert.converter.Converter</p>\n</blockquote>\n<p>is primarily used for type conversion in the application layer, like converting between different object types within the service or controller layers. However, it is not directly involved in HTTP message conversion.</p>\n<p>When processing JSON data, Spring Boot uses Jackson by default to serialize and deserialize the request and response bodies. Jackson, in this case, does not automatically utilize the Spring Converter interface for JSON deserialization.</p>\n<p>You have a couple of options:</p>\n<ol>\n<li>Implement a custom deserializer for Jackson</li>\n<li>Modify the UserDTO class</li>\n</ol>\n<p>When it comes to JSON data handling in @RestController, integration with Jackson is necessary for it to be applicable in JSON deserialization.</p>\n<p>Example:</p>\n<pre><code>   public class CountryDTODeserializer extends JsonDeserializer&lt;CountryDTO&gt; {\n\n    private final CountryService countryService;\n\n    public CountryDTODeserializer(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @Override\n    public CountryDTO deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        Long id = node.asLong(); // Something like this\n\n        try {\n            return countryService.findById(id);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error during deserialization&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Also don't forget to put the following annotation:</p>\n<pre><code> @JsonDeserialize(using = CountryDTODeserializer.class)\n @NotNull(message = &quot;Country is required&quot;)\n private CountryDTO country;\n</code></pre>\n"}],"owner":{"account_id":20516940,"reputation":87,"user_id":15057375,"display_name":"Cundullah Terzioglu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572259,"answer_count":1,"score":0,"last_activity_date":1701270886,"creation_date":1701266013,"question_id":77571753,"body_markdown":"I&#39;m trying to use Converter to convert **String** input coming from POST request **to CountryDTO object**. I have created CountryConverter class and implemented the Converter interface coming from Spring, I also added my converter to FormatterRegistry in my WebConfig class.\r\n\r\nIt works with normal @Controller class methods, if I use some HTML templates and forms, however, it doesn&#39;t work before any @RestController class method gets executed.\r\n\r\nThis is the message I get in the console, and I understand the reason for this message. Since my converter doesn&#39;t work, the application tries to deserialize String to a CountryDTO object, and it fails because it just cannot take String &quot;1&quot; for example, and deserialize it to a whole CountryDTO object.\r\n\r\n**Console Message:**\r\n\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.cydeo.dto.CountryDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.cydeo.dto.CountryDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;1&#39;)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 16] (through reference chain: com.cydeo.dto.UserDTO[&quot;country&quot;])]\r\n\r\nI&#39;m using **Spring Boot version 2.7.7**\r\n\r\nHere is my **JSON Request Body:**\r\n\r\n    {\r\n        &quot;username&quot;: &quot;MikeS&quot;,\r\n        &quot;password&quot;: &quot;Abc1&quot;,\r\n        &quot;country&quot;: &quot;1&quot;\r\n    }\r\n\r\nHere is my code:\r\n\r\n**My CountryConverter class:**\r\n\r\n    import com.cydeo.dto.CountryDTO;\r\n    import com.cydeo.service.CountryService;\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class CountryConverter implements Converter&lt;String, CountryDTO&gt; {\r\n\r\n        private final CountryService countryService;\r\n\r\n        public CountryConverter(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n\r\n        @Override\r\n        public CountryDTO convert(String source) {\r\n\r\n            if (source.isEmpty()) {\r\n                return null;\r\n            }\r\n\r\n            try {\r\n                return countryService.findById(Long.parseLong(source));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n**My WebConfig class:**\r\n\r\n    import com.cydeo.converter.CountryConverter;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.format.FormatterRegistry;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n        private final CountryConverter countryConverter;\r\n    \r\n        public WebConfig(CountryConverter countryConverter) {\r\n            this.countryConverter = countryConverter;\r\n        }\r\n    \r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(countryConverter);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**My UserDTO class:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.validation.constraints.*;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserDTO {\r\n    \r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        @NotBlank(message = &quot;Username is required&quot;)\r\n        @Size(min = 3, max = 16, message = &quot;Username length should be min 2, max 16&quot;)\r\n        private String username;\r\n\r\n        @NotBlank(message = &quot;Password is required&quot;)\r\n        @Pattern(regexp = &quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{4,}&quot;, message = &quot;The password should be at least 4 characters long and include at least 1 capital letter, 1 small letter and 1 digit&quot;)\r\n        private String password;\r\n\r\n        @NotNull(message = &quot;Country is required&quot;)\r\n        private CountryDTO country;\r\n    \r\n    }\r\n\r\n**My CountryDTO class:**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class CountryDTO {\r\n    \r\n        @JsonIgnore\r\n        private Long id;\r\n    \r\n        private String countryName;\r\n    \r\n    }\r\n\r\n\r\n**My UserController class:**\r\n    \r\n    import com.cydeo.dto.ResponseWrapper;\r\n    import com.cydeo.dto.UserDTO;\r\n    import com.cydeo.service.UserService;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.FieldError;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserRestController {\r\n    \r\n        private final UserService userService;\r\n    \r\n        public UserRestController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n\r\n        @PostMapping(&quot;/create&quot;)\r\n        public ResponseEntity&lt;ResponseWrapper&gt; createUser(@Valid @RequestBody UserDTO userDTO, BindingResult bindingResult) throws Exception {\r\n    \r\n            if (bindingResult.hasErrors()) {\r\n    \r\n                List&lt;FieldError&gt; fieldErrors = bindingResult.getFieldErrors();\r\n                Map&lt;String, Map&lt;String, String&gt;&gt; response = new HashMap&lt;&gt;();\r\n    \r\n                for (FieldError fieldError : fieldErrors) {\r\n    \r\n                    if (response.containsKey(fieldError.getField())) {\r\n                        response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\r\n                    } else {\r\n                        response.put(fieldError.getField(), new HashMap&lt;&gt;());\r\n                        response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\r\n                    }\r\n    \r\n                }\r\n    \r\n                return ResponseEntity.badRequest().body(new ResponseWrapper(false, &quot;Please check the information.&quot;, HttpStatus.BAD_REQUEST, response));\r\n    \r\n            }\r\n    \r\n            return ResponseEntity.status(HttpStatus.CREATED).body(new ResponseWrapper(&quot;User is created.&quot;, userService.create(userDTO), HttpStatus.CREATED));\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring Boot Converter Doesn&#39;t Work in REST Calls","body":"<p>I'm trying to use Converter to convert <strong>String</strong> input coming from POST request <strong>to CountryDTO object</strong>. I have created CountryConverter class and implemented the Converter interface coming from Spring, I also added my converter to FormatterRegistry in my WebConfig class.</p>\n<p>It works with normal @Controller class methods, if I use some HTML templates and forms, however, it doesn't work before any @RestController class method gets executed.</p>\n<p>This is the message I get in the console, and I understand the reason for this message. Since my converter doesn't work, the application tries to deserialize String to a CountryDTO object, and it fails because it just cannot take String &quot;1&quot; for example, and deserialize it to a whole CountryDTO object.</p>\n<p><strong>Console Message:</strong></p>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of <code>com.cydeo.dto.CountryDTO</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.cydeo.dto.CountryDTO</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('1') at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 5, column: 16] (through reference chain: com.cydeo.dto.UserDTO[&quot;country&quot;])]</p>\n<p>I'm using <strong>Spring Boot version 2.7.7</strong></p>\n<p>Here is my <strong>JSON Request Body:</strong></p>\n<pre><code>{\n    &quot;username&quot;: &quot;MikeS&quot;,\n    &quot;password&quot;: &quot;Abc1&quot;,\n    &quot;country&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>Here is my code:</p>\n<p><strong>My CountryConverter class:</strong></p>\n<pre><code>import com.cydeo.dto.CountryDTO;\nimport com.cydeo.service.CountryService;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CountryConverter implements Converter&lt;String, CountryDTO&gt; {\n\n    private final CountryService countryService;\n\n    public CountryConverter(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @Override\n    public CountryDTO convert(String source) {\n\n        if (source.isEmpty()) {\n            return null;\n        }\n\n        try {\n            return countryService.findById(Long.parseLong(source));\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>My WebConfig class:</strong></p>\n<pre><code>import com.cydeo.converter.CountryConverter;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    private final CountryConverter countryConverter;\n\n    public WebConfig(CountryConverter countryConverter) {\n        this.countryConverter = countryConverter;\n    }\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(countryConverter);\n    }\n\n}\n</code></pre>\n<p><strong>My UserDTO class:</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.validation.constraints.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    @NotBlank(message = &quot;Username is required&quot;)\n    @Size(min = 3, max = 16, message = &quot;Username length should be min 2, max 16&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;Password is required&quot;)\n    @Pattern(regexp = &quot;(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{4,}&quot;, message = &quot;The password should be at least 4 characters long and include at least 1 capital letter, 1 small letter and 1 digit&quot;)\n    private String password;\n\n    @NotNull(message = &quot;Country is required&quot;)\n    private CountryDTO country;\n\n}\n</code></pre>\n<p><strong>My CountryDTO class:</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CountryDTO {\n\n    @JsonIgnore\n    private Long id;\n\n    private String countryName;\n\n}\n</code></pre>\n<p><strong>My UserController class:</strong></p>\n<pre><code>import com.cydeo.dto.ResponseWrapper;\nimport com.cydeo.dto.UserDTO;\nimport com.cydeo.service.UserService;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.*;\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserRestController {\n\n    private final UserService userService;\n\n    public UserRestController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;ResponseWrapper&gt; createUser(@Valid @RequestBody UserDTO userDTO, BindingResult bindingResult) throws Exception {\n\n        if (bindingResult.hasErrors()) {\n\n            List&lt;FieldError&gt; fieldErrors = bindingResult.getFieldErrors();\n            Map&lt;String, Map&lt;String, String&gt;&gt; response = new HashMap&lt;&gt;();\n\n            for (FieldError fieldError : fieldErrors) {\n\n                if (response.containsKey(fieldError.getField())) {\n                    response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\n                } else {\n                    response.put(fieldError.getField(), new HashMap&lt;&gt;());\n                    response.get(fieldError.getField()).put(fieldError.getCode(), fieldError.getDefaultMessage());\n                }\n\n            }\n\n            return ResponseEntity.badRequest().body(new ResponseWrapper(false, &quot;Please check the information.&quot;, HttpStatus.BAD_REQUEST, response));\n\n        }\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(new ResponseWrapper(&quot;User is created.&quot;, userService.create(userDTO), HttpStatus.CREATED));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","minio"],"owner":{"account_id":5064494,"reputation":63,"user_id":4094887,"display_name":"Chetan Badgujar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701270513,"creation_date":1701270513,"question_id":77572337,"body_markdown":"I am trying to upgrade my spring boot application to the spring boot 3 and I am getting error regrading minio. Below you can find find files from my project.\r\n\r\nbuild.gradle.kts\r\n\r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-cache&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.azure.spring:spring-cloud-azure-starter-active-directory&quot;)\r\n    \timplementation(&quot;com.azure.spring:spring-cloud-azure-starter-actuator&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&quot;)\r\n    \timplementation(&quot;org.hibernate.orm:hibernate-core:6.4.0.Final&quot;)\r\n    \timplementation(&quot;org.apache.httpcomponents.client5:httpclient5:5.2.2&quot;)\r\n    \tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    \truntimeOnly(&quot;com.h2database:h2&quot;)\r\n    \truntimeOnly(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \ttestImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n    \r\n    \r\n    \t//implementation(&quot;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect&quot;)\r\n    \timplementation(files(&quot;libs/jconn4.jar&quot;))\r\n    \t//implementation(&quot;org.springframework.security:spring-security-oauth2-jose&quot;)\r\n    \timplementation(&quot;com.jlefebure:spring-boot-starter-minio:1.1&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \ttestImplementation(&quot;de.cronn:test-utils:0.9.0&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-csv&quot;)\r\n    \timplementation(&quot;org.webjars:bootstrap:5.3.0&quot;)\r\n    \timplementation(&quot;org.webjars:jquery:3.6.0&quot;)\r\n    \timplementation(&quot;org.webjars:jquery-validation:1.19.3&quot;)\r\n    \timplementation(&quot;org.webjars.npm:swiper:8.3.2&quot;)\r\n    \timplementation(&quot;org.webjars.npm:panzoom__panzoom:4.5.1&quot;)\r\n    \timplementation(&quot;org.webjars.npm:notiflix:3.2.5&quot;)\r\n    \timplementation(&quot;org.webjars:selectize.js:0.12.4&quot;)\r\n    \timplementation(&quot;org.webjars:select2:4.0.13&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\r\n    \timplementation(&quot;org.apache.logging.log4j:log4j-to-slf4j:2.14.1&quot;)\r\n    \timplementation(&quot;org.apache.logging.log4j:log4j-api:2.14.1&quot;)\r\n    \timplementation(&quot;org.apache.poi:poi-ooxml:5.1.0&quot;)\r\n    \timplementation(&quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;)\r\n    \timplementation(&quot;org.apache.poi:poi:5.2.3&quot;)\r\n    }\r\n\r\nconfig.kt\r\n\r\n    package se.astrego.centralDatabase\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.context.annotation.Configuration\r\n    import org.springframework.scheduling.annotation.EnableScheduling\r\n    import org.springframework.scheduling.annotation.Scheduled\r\n    import org.springframework.transaction.annotation.Transactional\r\n    import se.astrego.centralDatabase.repositories.AssayRepository\r\n    import se.astrego.centralDatabase.repositories.enteties.Assay\r\n    import se.astrego.centralDatabase.repositories.enteties.FinalQcAssayRepo\r\n    import se.astrego.centralDatabase.services.AssayService\r\n    import java.io.File\r\n    import java.nio.file.Paths\r\n    import java.util.*\r\n    \r\n    \r\n    @Configuration\r\n    @EnableScheduling\r\n    class Config @Autowired constructor(\r\n        val repository: AssayRepository,\r\n        val assayService: AssayService,\r\n        val finalQcAssayRepo: FinalQcAssayRepo\r\n    ) {\r\n    \r\n        //my code\r\n    }\r\n\r\nCentralDatabaseApplication.kt\r\n\r\n    package se.astrego.centralDatabase\r\n    \r\n    import org.apache.catalina.Context\r\n    import org.apache.catalina.connector.Connector\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesScan\r\n    import org.springframework.boot.runApplication\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\r\n    import org.springframework.boot.web.servlet.server.ServletWebServerFactory\r\n    import org.springframework.cache.annotation.EnableCaching\r\n    import org.springframework.context.annotation.Bean\r\n    import org.springframework.stereotype.Component\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    @ConfigurationPropertiesScan(&quot;se.astrego.centralDatabase.services.monitor&quot;)\r\n    class CentralDatabaseApplication\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n    \trunApplication&lt;CentralDatabaseApplication&gt;(*args)\r\n    }\r\n    \r\n    @Component\r\n    class ServletConfig(){\r\n    \t@Bean\r\n    \tfun servletContainer(): ServletWebServerFactory? {\r\n    \t\tval tomcat: TomcatServletWebServerFactory = object : TomcatServletWebServerFactory() {\r\n    \t\t\toverride fun postProcessContext(context: Context) {\r\n    \t\t\t\tval securityConstraint = SecurityConstraint()\r\n    \t\t\t\tsecurityConstraint.userConstraint = &quot;CONFIDENTIAL&quot;\r\n    \t\t\t\tval collection = SecurityCollection()\r\n    \t\t\t\tcollection.addPattern(&quot;/*&quot;)\r\n    \t\t\t\tsecurityConstraint.addCollection(collection)\r\n    \t\t\t\tcontext.addConstraint(securityConstraint)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\ttomcat.addAdditionalTomcatConnectors(redirectConnector())\r\n    \t\treturn tomcat\r\n    \t}\r\n    \r\n    \tfun redirectConnector(): Connector {\r\n    \t\tval connector = Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;)\r\n    \t\tconnector.scheme = &quot;http&quot;\r\n    \t\tconnector.port = 8080\r\n    \t\tconnector.secure = false\r\n    \t\tconnector.redirectPort = 8443\r\n    \t\treturn connector\r\n    \t}\r\n    }\r\n\r\nFileApiController.kt\r\n\r\n    package se.astrego.centralDatabase.apiControllers\r\n    \r\n    \r\n    import com.jlefebure.spring.boot.minio.MinioService\r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.http.HttpStatus\r\n    import org.springframework.web.bind.annotation.*\r\n    import org.springframework.web.multipart.MultipartFile\r\n    import se.astrego.centralDatabase.apiControllers.DTOs.FileMetadata\r\n    import se.astrego.centralDatabase.services.LocalFilesService\r\n    import java.io.ByteArrayInputStream\r\n    import java.io.ByteArrayOutputStream\r\n    import java.io.FileNotFoundException\r\n    import java.io.InputStream\r\n    import java.nio.file.Path\r\n    import java.nio.file.Paths\r\n    import javax.imageio.ImageIO\r\n    \r\n    val NOT_CHIP_ID_ERROR_MESSAGE = &quot;Expected full chip id and NOT with sputter-tray-position: %s&quot;;\r\n    \r\n    \r\n    @RestController\r\n    \r\n    class FileApiController {\r\n    \r\n        @Autowired\r\n        private lateinit var minioService: MinioService\r\n        @Autowired\r\n        private lateinit var localFilesService: LocalFilesService\r\n    \r\n    \r\n        @GetMapping(&quot;/api/files&quot;)\r\n        fun getAllFiles(): List&lt;FileMetadata&gt; {\r\n            return minioService.list().map {\r\n                FileMetadata(it,&quot;/api/file/&quot; + it.objectName())\r\n            }\r\n        }\r\n    \r\n        // other code\r\n    }\r\n\r\nWhile running project I am getting \r\n\r\n    Field minioService in se.astrego.centralDatabase.apiControllers.FileApiController required a bean of type &#39;com.jlefebure.spring.boot.minio.MinioService&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n            - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.jlefebure.spring.boot.minio.MinioService&#39; in your configuration.\r\n\r\nhow to resolve it. any help appreciated","title":"Spring boot starter minio gives error &quot;bean of type that could not be found &quot; for spring boot 3","body":"<p>I am trying to upgrade my spring boot application to the spring boot 3 and I am getting error regrading minio. Below you can find find files from my project.</p>\n<p>build.gradle.kts</p>\n<pre><code>dependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-cache&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.azure.spring:spring-cloud-azure-starter-active-directory&quot;)\n    implementation(&quot;com.azure.spring:spring-cloud-azure-starter-actuator&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&quot;)\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.4.0.Final&quot;)\n    implementation(&quot;org.apache.httpcomponents.client5:httpclient5:5.2.2&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    runtimeOnly(&quot;com.h2database:h2&quot;)\n    runtimeOnly(&quot;io.micrometer:micrometer-registry-prometheus&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n\n\n    //implementation(&quot;nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect&quot;)\n    implementation(files(&quot;libs/jconn4.jar&quot;))\n    //implementation(&quot;org.springframework.security:spring-security-oauth2-jose&quot;)\n    implementation(&quot;com.jlefebure:spring-boot-starter-minio:1.1&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    testImplementation(&quot;de.cronn:test-utils:0.9.0&quot;)\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-csv&quot;)\n    implementation(&quot;org.webjars:bootstrap:5.3.0&quot;)\n    implementation(&quot;org.webjars:jquery:3.6.0&quot;)\n    implementation(&quot;org.webjars:jquery-validation:1.19.3&quot;)\n    implementation(&quot;org.webjars.npm:swiper:8.3.2&quot;)\n    implementation(&quot;org.webjars.npm:panzoom__panzoom:4.5.1&quot;)\n    implementation(&quot;org.webjars.npm:notiflix:3.2.5&quot;)\n    implementation(&quot;org.webjars:selectize.js:0.12.4&quot;)\n    implementation(&quot;org.webjars:select2:4.0.13&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\n    implementation(&quot;org.apache.logging.log4j:log4j-to-slf4j:2.14.1&quot;)\n    implementation(&quot;org.apache.logging.log4j:log4j-api:2.14.1&quot;)\n    implementation(&quot;org.apache.poi:poi-ooxml:5.1.0&quot;)\n    implementation(&quot;org.springdoc:springdoc-openapi-ui:1.7.0&quot;)\n    implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\n}\n</code></pre>\n<p>config.kt</p>\n<pre><code>package se.astrego.centralDatabase\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.scheduling.annotation.EnableScheduling\nimport org.springframework.scheduling.annotation.Scheduled\nimport org.springframework.transaction.annotation.Transactional\nimport se.astrego.centralDatabase.repositories.AssayRepository\nimport se.astrego.centralDatabase.repositories.enteties.Assay\nimport se.astrego.centralDatabase.repositories.enteties.FinalQcAssayRepo\nimport se.astrego.centralDatabase.services.AssayService\nimport java.io.File\nimport java.nio.file.Paths\nimport java.util.*\n\n\n@Configuration\n@EnableScheduling\nclass Config @Autowired constructor(\n    val repository: AssayRepository,\n    val assayService: AssayService,\n    val finalQcAssayRepo: FinalQcAssayRepo\n) {\n\n    //my code\n}\n</code></pre>\n<p>CentralDatabaseApplication.kt</p>\n<pre><code>package se.astrego.centralDatabase\n\nimport org.apache.catalina.Context\nimport org.apache.catalina.connector.Connector\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.context.properties.ConfigurationPropertiesScan\nimport org.springframework.boot.runApplication\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory\nimport org.springframework.cache.annotation.EnableCaching\nimport org.springframework.context.annotation.Bean\nimport org.springframework.stereotype.Component\n\n\n@SpringBootApplication\n@EnableCaching\n@ConfigurationPropertiesScan(&quot;se.astrego.centralDatabase.services.monitor&quot;)\nclass CentralDatabaseApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;CentralDatabaseApplication&gt;(*args)\n}\n\n@Component\nclass ServletConfig(){\n    @Bean\n    fun servletContainer(): ServletWebServerFactory? {\n        val tomcat: TomcatServletWebServerFactory = object : TomcatServletWebServerFactory() {\n            override fun postProcessContext(context: Context) {\n                val securityConstraint = SecurityConstraint()\n                securityConstraint.userConstraint = &quot;CONFIDENTIAL&quot;\n                val collection = SecurityCollection()\n                collection.addPattern(&quot;/*&quot;)\n                securityConstraint.addCollection(collection)\n                context.addConstraint(securityConstraint)\n            }\n        }\n        tomcat.addAdditionalTomcatConnectors(redirectConnector())\n        return tomcat\n    }\n\n    fun redirectConnector(): Connector {\n        val connector = Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;)\n        connector.scheme = &quot;http&quot;\n        connector.port = 8080\n        connector.secure = false\n        connector.redirectPort = 8443\n        return connector\n    }\n}\n</code></pre>\n<p>FileApiController.kt</p>\n<pre><code>package se.astrego.centralDatabase.apiControllers\n\n\nimport com.jlefebure.spring.boot.minio.MinioService\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.http.HttpStatus\nimport org.springframework.web.bind.annotation.*\nimport org.springframework.web.multipart.MultipartFile\nimport se.astrego.centralDatabase.apiControllers.DTOs.FileMetadata\nimport se.astrego.centralDatabase.services.LocalFilesService\nimport java.io.ByteArrayInputStream\nimport java.io.ByteArrayOutputStream\nimport java.io.FileNotFoundException\nimport java.io.InputStream\nimport java.nio.file.Path\nimport java.nio.file.Paths\nimport javax.imageio.ImageIO\n\nval NOT_CHIP_ID_ERROR_MESSAGE = &quot;Expected full chip id and NOT with sputter-tray-position: %s&quot;;\n\n\n@RestController\n\nclass FileApiController {\n\n    @Autowired\n    private lateinit var minioService: MinioService\n    @Autowired\n    private lateinit var localFilesService: LocalFilesService\n\n\n    @GetMapping(&quot;/api/files&quot;)\n    fun getAllFiles(): List&lt;FileMetadata&gt; {\n        return minioService.list().map {\n            FileMetadata(it,&quot;/api/file/&quot; + it.objectName())\n        }\n    }\n\n    // other code\n}\n</code></pre>\n<p>While running project I am getting</p>\n<pre><code>Field minioService in se.astrego.centralDatabase.apiControllers.FileApiController required a bean of type 'com.jlefebure.spring.boot.minio.MinioService' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.jlefebure.spring.boot.minio.MinioService' in your configuration.\n</code></pre>\n<p>how to resolve it. any help appreciated</p>\n"},{"tags":["java","spring-boot","redis"],"owner":{"account_id":6509302,"reputation":49,"user_id":5037166,"display_name":"Japheth Waswa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701270502,"creation_date":1701267371,"question_id":77571924,"body_markdown":"When the subscriber/listener completes execution, i wish to publish a new event to redis within the ***onMessage*** method in the subscriber.\r\n\r\n***RedisLettuceConfiguration***\r\n\r\n```\r\n@Configuration\r\npublic class RedisLettuceConfiguration {\r\n\r\n    @Bean\r\n    LettuceConnectionFactory lettuceConnectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_HOST&quot;) : &quot;127.0.0.1&quot;);\r\n        configuration.setPassword(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_PASSWORD&quot;) : &quot;&quot;);\r\n        configuration.setPort(OcrService.dotenv != null ? (OcrService.dotenv.get(&quot;REDIS_PORT&quot;) != null ? Integer.parseInt(OcrService.dotenv.get(&quot;REDIS_PORT&quot;)) : 6379) : 6379);\r\n        return new LettuceConnectionFactory(configuration);\r\n    }\r\n\r\n    @Bean\r\n     RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\r\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n        return redisTemplate;\r\n    }\r\n\r\n    //init listeners\r\n    @Bean\r\n    RedisMessageListenerContainer container() {\r\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\r\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\r\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber()), new ChannelTopic(&quot;OCR-TOPIC&quot;));\r\n        return redisMessageListenerContainer;\r\n    }\r\n    //end listeners\r\n\r\n\r\n    //start publisher\r\n    @Bean\r\n      ChannelTopic topic() {\r\n        return new ChannelTopic(&quot;OCR-TOPIC&quot;);\r\n    }\r\n\r\n    @Bean\r\n    IMessagePublisher messagePublisher() {\r\n        return new OcrSuccessPublisher(redisTemplate(), topic());\r\n    }\r\n    //end publisher\r\n\r\n}\r\n```\r\n\r\n***OcrSuccessPublisher***\r\n\r\n```\r\n@Component\r\npublic class OcrSuccessPublisher implements IMessagePublisher {\r\n    @Autowired\r\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\r\n\r\n    @Autowired\r\n    private ChannelTopic topic;\r\n\r\n    public OcrSuccessPublisher(RedisTemplate&lt;String, Object&gt; redisTemplate, ChannelTopic topic) {\r\n        this.redisTemplate = redisTemplate;\r\n        this.topic = topic;\r\n    }\r\n\r\n    @Override\r\n    public void publish(String message) {\r\n        redisTemplate.convertAndSend(topic.getTopic(),message);\r\n    }\r\n}\r\n```\r\n\r\nObjective of the method below is to publish a new event after listener completes successfuly\r\n\r\n**OcrProcessorSubscriber***\r\n\r\n```\r\npublic class OcrProcessorSubscriber implements MessageListener {\r\n    private final List&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\r\n\r\n//how to publish message here e.g ocrSuccessPublisher.publish(&quot;new payload to redis&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n **SOLVED BY**\r\n1. Adding to RedisTemplate field type **OcrProcessorSubscriber** \r\n\r\n```\r\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n\r\n    public OcrProcessorSubscriber(RedisTemplate&lt;String, Object&gt; redisTemplate){\r\n        this.redisTemplate=redisTemplate;\r\n    }\r\n\r\n@Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n\r\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\r\n\r\n        // Publish a message to another Redis channel\r\n       new OcrSuccessPublisher(redisTemplate, new ChannelTopic(&quot;OCR-TOPIC-PROCESSED&quot;)).publish(&quot;{\\&quot;fileId\\&quot;:\\&quot;yyy\\&quot;,\\&quot;ocrStatus\\&quot;:\\&quot;PENDING\\&quot;,\\&quot;fileName\\&quot;:\\&quot;xx\\&quot;}&quot;); \r\n   }\r\n\r\n```\r\n\r\n2. Updating **RedisLettuceConfiguration** \r\n\r\n```\r\n@Bean\r\n    RedisMessageListenerContainer container() {\r\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\r\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\r\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber(redisTemplate())), new ChannelTopic(&quot;OCR-TOPIC&quot;));\r\n        return redisMessageListenerContainer;\r\n    }\r\n```\r\n","title":"Java spring boot redis, publish within the subscriber&#39;s onMessage method","body":"<p>When the subscriber/listener completes execution, i wish to publish a new event to redis within the <em><strong>onMessage</strong></em> method in the subscriber.</p>\n<p><em><strong>RedisLettuceConfiguration</strong></em></p>\n<pre><code>@Configuration\npublic class RedisLettuceConfiguration {\n\n    @Bean\n    LettuceConnectionFactory lettuceConnectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_HOST&quot;) : &quot;127.0.0.1&quot;);\n        configuration.setPassword(OcrService.dotenv != null ? OcrService.dotenv.get(&quot;REDIS_PASSWORD&quot;) : &quot;&quot;);\n        configuration.setPort(OcrService.dotenv != null ? (OcrService.dotenv.get(&quot;REDIS_PORT&quot;) != null ? Integer.parseInt(OcrService.dotenv.get(&quot;REDIS_PORT&quot;)) : 6379) : 6379);\n        return new LettuceConnectionFactory(configuration);\n    }\n\n    @Bean\n     RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(lettuceConnectionFactory());\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        return redisTemplate;\n    }\n\n    //init listeners\n    @Bean\n    RedisMessageListenerContainer container() {\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber()), new ChannelTopic(&quot;OCR-TOPIC&quot;));\n        return redisMessageListenerContainer;\n    }\n    //end listeners\n\n\n    //start publisher\n    @Bean\n      ChannelTopic topic() {\n        return new ChannelTopic(&quot;OCR-TOPIC&quot;);\n    }\n\n    @Bean\n    IMessagePublisher messagePublisher() {\n        return new OcrSuccessPublisher(redisTemplate(), topic());\n    }\n    //end publisher\n\n}\n</code></pre>\n<p><em><strong>OcrSuccessPublisher</strong></em></p>\n<pre><code>@Component\npublic class OcrSuccessPublisher implements IMessagePublisher {\n    @Autowired\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\n\n    @Autowired\n    private ChannelTopic topic;\n\n    public OcrSuccessPublisher(RedisTemplate&lt;String, Object&gt; redisTemplate, ChannelTopic topic) {\n        this.redisTemplate = redisTemplate;\n        this.topic = topic;\n    }\n\n    @Override\n    public void publish(String message) {\n        redisTemplate.convertAndSend(topic.getTopic(),message);\n    }\n}\n</code></pre>\n<p>Objective of the method below is to publish a new event after listener completes successfuly</p>\n<p><strong>OcrProcessorSubscriber</strong>*</p>\n<pre><code>public class OcrProcessorSubscriber implements MessageListener {\n    private final List&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\n\n//how to publish message here e.g ocrSuccessPublisher.publish(&quot;new payload to redis&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>SOLVED BY</strong></p>\n<ol>\n<li>Adding to RedisTemplate field type <strong>OcrProcessorSubscriber</strong></li>\n</ol>\n<pre><code>    private RedisTemplate&lt;String, Object&gt; redisTemplate;\n\n    public OcrProcessorSubscriber(RedisTemplate&lt;String, Object&gt; redisTemplate){\n        this.redisTemplate=redisTemplate;\n    }\n\n@Override\n    public void onMessage(Message message, byte[] pattern) {\n\n        System.out.println(&quot;Message Received:- &quot; + message.toString());\n\n        // Publish a message to another Redis channel\n       new OcrSuccessPublisher(redisTemplate, new ChannelTopic(&quot;OCR-TOPIC-PROCESSED&quot;)).publish(&quot;{\\&quot;fileId\\&quot;:\\&quot;yyy\\&quot;,\\&quot;ocrStatus\\&quot;:\\&quot;PENDING\\&quot;,\\&quot;fileName\\&quot;:\\&quot;xx\\&quot;}&quot;); \n   }\n\n</code></pre>\n<ol start=\"2\">\n<li>Updating <strong>RedisLettuceConfiguration</strong></li>\n</ol>\n<pre><code>@Bean\n    RedisMessageListenerContainer container() {\n        final RedisMessageListenerContainer redisMessageListenerContainer = new RedisMessageListenerContainer();\n        redisMessageListenerContainer.setConnectionFactory(lettuceConnectionFactory());\n        redisMessageListenerContainer.addMessageListener(new MessageListenerAdapter(new OcrProcessorSubscriber(redisTemplate())), new ChannelTopic(&quot;OCR-TOPIC&quot;));\n        return redisMessageListenerContainer;\n    }\n</code></pre>\n"},{"tags":["java","derby","javadb"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721998,"creation_date":1647721658,"answer_id":71541791,"question_id":71541745,"body_markdown":"The method `System.setSecurityManager` was deprecated in [Java 17][1], as noted in its [Javadoc][2]. \r\n\r\n&gt;**Deprecated, for removal: This API element is subject to removal in a future version.**\r\n&gt;\r\n&gt;This method is only useful in conjunction with the [Security Manager][3], which is deprecated and subject to removal in a future release. Consequently, this method is also deprecated and subject to removal. There is no replacement for the Security Manager or this method.\r\n\r\nI suggest you try the [latest version of Derby][4] to see if the problem is still there. Currently that would be 10.15.2.0 versus your 10.14.2.0. If still there, file an issue if not already filed.\r\n\r\n&#128073; **Not a pressing problem for you** while using Java 17. But in a future version of Java, removal of that feature will presumably break a calling app like Derby.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#setSecurityManager(java.lang.SecurityManager)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\r\n  [4]: https://db.apache.org/derby/","title":"I keep getting this error messages when try to use javadb","body":"<p>The method <code>System.setSecurityManager</code> was deprecated in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a>, as noted in its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#setSecurityManager(java.lang.SecurityManager)\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n<blockquote>\n<p><strong>Deprecated, for removal: This API element is subject to removal in a future version.</strong></p>\n<p>This method is only useful in conjunction with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">Security Manager</a>, which is deprecated and subject to removal in a future release. Consequently, this method is also deprecated and subject to removal. There is no replacement for the Security Manager or this method.</p>\n</blockquote>\n<p>I suggest you try the <a href=\"https://db.apache.org/derby/\" rel=\"nofollow noreferrer\">latest version of Derby</a> to see if the problem is still there. Currently that would be 10.15.2.0 versus your 10.14.2.0. If still there, file an issue if not already filed.</p>\n<p>👉 <strong>Not a pressing problem for you</strong> while using Java 17. But in a future version of Java, removal of that feature will presumably break a calling app like Derby.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647721660,"creation_date":1647721660,"answer_id":71541792,"question_id":71541745,"body_markdown":"For now, you can ignore it.\r\n\r\nBut for the future, you should look to get an updated version of JavaDB/Derby that is explicitly compatible with the newer Java versions.\r\n\r\n`SecurityManager` is deprecated since Java 17 and will be removed in one of the next versions. Obviously, this will affect also all methods that deal with instances of that class, like `System.setSecurityManager()`.","title":"I keep getting this error messages when try to use javadb","body":"<p>For now, you can ignore it.</p>\n<p>But for the future, you should look to get an updated version of JavaDB/Derby that is explicitly compatible with the newer Java versions.</p>\n<p><code>SecurityManager</code> is deprecated since Java 17 and will be removed in one of the next versions. Obviously, this will affect also all methods that deal with instances of that class, like <code>System.setSecurityManager()</code>.</p>\n"}],"owner":{"account_id":24255954,"reputation":1,"user_id":18206346,"display_name":"Gustavo Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701270436,"creation_date":1647721229,"question_id":71541745,"body_markdown":"i keep getting this error when i click to start. how to solve it?\r\n\r\nSat Mar 19 17:09:43 BRT 2022 : Security manager installed using the Basic server security policy.\r\n\r\n***WARNING: A terminally deprecated method in java.lang.System has been called***\r\n\r\n***WARNING: System::setSecurityManager has been called by org.apache.derby.drda.NetworkServerControl (file:/C:/Program%20Files/Java/jdk1.8.0_321/db-derby-10.14.2.0-bin/lib/derbynet.jar)***\r\n\r\n***WARNING: Please consider reporting this to the maintainers of org.apache.derby.drda.NetworkServerControl***\r\n\r\n***WARNING: System::setSecurityManager will be removed in a future release***\r\n\r\nSat Mar 19 17:09:43 BRT 2022 : Apache Derby Servidor de Rede - 10.14.2.0 - (1828579) iniciado e pronto para aceitar conex&#245;es na porta 1527 em {3}\r\n","title":"I keep getting this error messages when try to use javadb","body":"<p>i keep getting this error when i click to start. how to solve it?</p>\n<p>Sat Mar 19 17:09:43 BRT 2022 : Security manager installed using the Basic server security policy.</p>\n<p><em><strong>WARNING: A terminally deprecated method in java.lang.System has been called</strong></em></p>\n<p><em><strong>WARNING: System::setSecurityManager has been called by org.apache.derby.drda.NetworkServerControl (file:/C:/Program%20Files/Java/jdk1.8.0_321/db-derby-10.14.2.0-bin/lib/derbynet.jar)</strong></em></p>\n<p><em><strong>WARNING: Please consider reporting this to the maintainers of org.apache.derby.drda.NetworkServerControl</strong></em></p>\n<p><em><strong>WARNING: System::setSecurityManager will be removed in a future release</strong></em></p>\n<p>Sat Mar 19 17:09:43 BRT 2022 : Apache Derby Servidor de Rede - 10.14.2.0 - (1828579) iniciado e pronto para aceitar conexões na porta 1527 em {3}</p>\n"},{"tags":["java","jsp","servlets","import"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700564337,"creation_date":1700308330,"answer_id":77506767,"question_id":77506567,"body_markdown":"Unfortunately the `import` that you tried does not solve the problem that you describe/that is visible by looking at your code. You better remove these unnecessary reports.\r\n\r\nThe GameServlet is accessing the data from the HttpSession, but the data was never stored there.\r\n\r\nLook at how a user would go through the application. Initially he is on index.jsp which makes the browser display a form. The user fills in his username, then upon submit that username is sent to the next url: GameServlet\r\n\r\nThe GameServlet can now read the submitted username as `request.getParameter(&quot;playerName&quot;)` and store it as `getHttpSession().setAttribute(&quot;playerName&quot;, request.getParameter(&quot;playerName&quot;))`\r\n\r\nOnly after storing the attribute in the session subsequent pages/servlets will be able to read it again. So you either have to change your GameServlet, or create another servlet/JSP that stores the playername in the session.","title":"Can&#39;t access variables in imported .java classes in .jsp file","body":"<p>Unfortunately the <code>import</code> that you tried does not solve the problem that you describe/that is visible by looking at your code. You better remove these unnecessary reports.</p>\n<p>The GameServlet is accessing the data from the HttpSession, but the data was never stored there.</p>\n<p>Look at how a user would go through the application. Initially he is on index.jsp which makes the browser display a form. The user fills in his username, then upon submit that username is sent to the next url: GameServlet</p>\n<p>The GameServlet can now read the submitted username as <code>request.getParameter(&quot;playerName&quot;)</code> and store it as <code>getHttpSession().setAttribute(&quot;playerName&quot;, request.getParameter(&quot;playerName&quot;))</code></p>\n<p>Only after storing the attribute in the session subsequent pages/servlets will be able to read it again. So you either have to change your GameServlet, or create another servlet/JSP that stores the playername in the session.</p>\n"}],"owner":{"account_id":25480408,"reputation":1,"user_id":19276873,"display_name":"guralover36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702147758,"answer_count":1,"score":-1,"last_activity_date":1701270104,"creation_date":1700304634,"question_id":77506567,"body_markdown":"I have a problem with importing a class into a .jsp file. When I try to import the program keeps working, but I can&#39;t access the variables. I am trying to import the GameServlet.java class into game.jsp.\r\n\r\nimport like:\r\n\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \r\n```\r\n\r\nfor some reason it doesn&#39;t work\r\n\r\nThe structure of the project is:\r\n\r\n- demo\r\n  - src\r\n    - main\r\n      - java\r\n        - com.example\r\n          - GameServlet.java\r\n          - TextGame.java\r\n      - resources\r\n      - webapp\r\n        - WEB-INF\r\n          - web.xml\r\n        - game.jsp\r\n        - index.jsp\r\n  - target\r\n  - pom.xml\r\n\r\nMy .xml look like this:\r\n\r\n**xml file**\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n\r\n    &lt;!-- Servlet Mapping --&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.example.MyServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myservlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**java** classes:\r\n\r\n**GameServlet.java**\r\n\r\n```lang-java\r\npackage com.example;\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\n@WebServlet(&quot;/GameServlet&quot;)\r\npublic class GameServlet extends HttpServlet {\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        HttpSession session = request.getSession();\r\n        String playerName = (String) session.getAttribute(&quot;playerName&quot;);\r\n\r\n        session.setAttribute(&quot;game&quot;, new TextGame());\r\n\r\n        response.sendRedirect(&quot;game.jsp&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**TextGame.java**\r\n\r\n```lang-java\r\npackage com.example;\r\n\r\npublic class TextGame {\r\n    private String currentLocation;\r\n\r\n    public TextGame() {\r\n        this.currentLocation = &quot;start&quot;;\r\n    }\r\n\r\n    public String getCurrentLocation() {\r\n        return currentLocation;\r\n    }\r\n\r\n    public void handlePlayerInput(String input) {\r\n        if (input.equalsIgnoreCase(&quot;go north&quot;)) {\r\n            currentLocation = &quot;north_location&quot;;\r\n        } else if (input.equalsIgnoreCase(&quot;go south&quot;)) {\r\n            currentLocation = &quot;south_location&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**jsp** files:\r\n\r\n**game.jsp**\r\n\r\n```lang-jsp\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Текстова гра - Гравець: ${sessionScope.playerName}&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Вітаємо, ${sessionScope.playerName}!&lt;/h1&gt;\r\n\r\n    &lt;p&gt;Ви знаходитесь в ${sessionScope.game.currentLocation}.&lt;/p&gt;\r\n\r\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;playerInput&quot;&gt;Введіть команду:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;playerInput&quot; name=&quot;playerInput&quot; required&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Виконати&quot;&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**index.jsp**\r\n\r\n```lang-xhtml\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Текстова гра&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\r\n        &lt;label for=&quot;playerName&quot;&gt;Введіть ваше ім&#39;я:&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;playerName&quot; name=&quot;playerName&quot; required&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Почати гру&quot;&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI&#39;ve trying import like:\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \r\n```\r\nor:\r\n```lang-jsp\r\n&lt;%@ page import=&quot;com.example.TextGame&quot; %&gt;\r\n&lt;%@ page import=&quot;com.example.GameServlet&quot; %&gt;\r\n&lt;%@ page import=&quot;java.util.Scanner&quot; %&gt;\r\n```\r\nbut it doesn&#39;t work ","title":"Can&#39;t access variables in imported .java classes in .jsp file","body":"<p>I have a problem with importing a class into a .jsp file. When I try to import the program keeps working, but I can't access the variables. I am trying to import the GameServlet.java class into game.jsp.</p>\n<p>import like:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \n</code></pre>\n<p>for some reason it doesn't work</p>\n<p>The structure of the project is:</p>\n<ul>\n<li>demo\n<ul>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java\n<ul>\n<li>com.example\n<ul>\n<li>GameServlet.java</li>\n<li>TextGame.java</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>resources</li>\n<li>webapp\n<ul>\n<li>WEB-INF\n<ul>\n<li>web.xml</li>\n</ul>\n</li>\n<li>game.jsp</li>\n<li>index.jsp</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>target</li>\n<li>pom.xml</li>\n</ul>\n</li>\n</ul>\n<p>My .xml look like this:</p>\n<p><strong>xml file</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;!-- Servlet Mapping --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.example.MyServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/myservlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>java</strong> classes:</p>\n<p><strong>GameServlet.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n@WebServlet(&quot;/GameServlet&quot;)\npublic class GameServlet extends HttpServlet {\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        HttpSession session = request.getSession();\n        String playerName = (String) session.getAttribute(&quot;playerName&quot;);\n\n        session.setAttribute(&quot;game&quot;, new TextGame());\n\n        response.sendRedirect(&quot;game.jsp&quot;);\n    }\n}\n</code></pre>\n<p><strong>TextGame.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\npublic class TextGame {\n    private String currentLocation;\n\n    public TextGame() {\n        this.currentLocation = &quot;start&quot;;\n    }\n\n    public String getCurrentLocation() {\n        return currentLocation;\n    }\n\n    public void handlePlayerInput(String input) {\n        if (input.equalsIgnoreCase(&quot;go north&quot;)) {\n            currentLocation = &quot;north_location&quot;;\n        } else if (input.equalsIgnoreCase(&quot;go south&quot;)) {\n            currentLocation = &quot;south_location&quot;;\n        }\n    }\n}\n</code></pre>\n<p><strong>jsp</strong> files:</p>\n<p><strong>game.jsp</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Текстова гра - Гравець: ${sessionScope.playerName}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Вітаємо, ${sessionScope.playerName}!&lt;/h1&gt;\n\n    &lt;p&gt;Ви знаходитесь в ${sessionScope.game.currentLocation}.&lt;/p&gt;\n\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\n        &lt;label for=&quot;playerInput&quot;&gt;Введіть команду:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;playerInput&quot; name=&quot;playerInput&quot; required&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Виконати&quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>index.jsp</strong></p>\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Текстова гра&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;GameServlet&quot; method=&quot;post&quot;&gt;\n        &lt;label for=&quot;playerName&quot;&gt;Введіть ваше ім'я:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;playerName&quot; name=&quot;playerName&quot; required&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Почати гру&quot;&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've trying import like:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame, com.example.GameServlet, java.util.Scanner&quot; %&gt; \n</code></pre>\n<p>or:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page import=&quot;com.example.TextGame&quot; %&gt;\n&lt;%@ page import=&quot;com.example.GameServlet&quot; %&gt;\n&lt;%@ page import=&quot;java.util.Scanner&quot; %&gt;\n</code></pre>\n<p>but it doesn't work</p>\n"},{"tags":["java","android","kotlin","xiaomi"],"owner":{"account_id":6322843,"reputation":1192,"user_id":4910203,"accept_rate":71,"display_name":"QuarK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701270079,"creation_date":1701270079,"question_id":77572286,"body_markdown":"I have a problem with getting `WindowManager` inside some service on some phone models.\r\n\r\nI have written service that inherits `CallScreeningService`, I use it to handle incoming calls and draw views on locked screen. On most devices my service works fine, but I found it doesn&#39;t work on some Xiaomi devices (for instance Redmi Note 7, Xiaomi MI MAX 3).\r\n\r\nService has problems with getting `WindowManager`:\r\n\r\n    @RequiresApi(Build.VERSION_CODES.Q)\r\n    class MyCallScreeningService : CallScreeningService() {\r\n\r\n        private var windowManager: WindowManager? = null\r\n\r\n        override fun onScreenCall(details: Call.Details) {\r\n            if (details.callDirection == Call.Details.DIRECTION_INCOMING) {\r\n                details.handle?.schemeSpecificPart?.onlyDigits()?.let { phoneNumber -&gt;\r\n                    if (phoneNumber.isNotEmpty()) {\r\n                        CoroutineScope(Dispatchers.IO).launch {\r\n                            requestPhoneInfoFromDb(phoneNumber)?.let { phonebookEntry -&gt;\r\n                                CoroutineScope(Dispatchers.Main).launch {\r\n                                    showCallInfoView(phoneNumber, phonebookEntry)\r\n                                    respondToCall(details, CallResponse.Builder().build())\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private fun showCallInfoView(number: String, phonebookEntry: PhonebookEntity) {\r\n            windowManager = getSystemService(Service.WINDOW_SERVICE) as WindowManager\r\n\r\n            //building view...\r\n        }\r\n    }\r\n\r\nError happens when I call `getSystemService(Service.WINDOW_SERVICE) as WindowManager`, on Xiaomi I get an exception:\r\n\r\n&gt; Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\r\n&gt; WindowManager should be accessed from Activity or other visual Context. Use an Activity or a Context created with Context#createWindowContext(int, Bundle), which are adjusted to the configuration and visual bounds of an area on screen.  \r\n&gt; java.lang.IllegalAccessException: Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\r\n&gt; at android.app.ContextImpl.getSystemService(ContextImpl.java:2125)  \r\n&gt; at android.content.ContextWrapper.getSystemService(ContextWrapper.java:910)  \r\n&gt; at MyCallScreeningService.x(MyCallScreeningService.kt:3)  \r\n&gt; at MyCallScreeningService.h(MyCallScreeningService.kt:1)  \r\n&gt; at MyCallScreeningService$g.invokeSuspend(MyCallScreeningService.kt:52)  \r\n&gt; at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:12) \r\n\r\nI have tried many ways to use services&#39;s `Context` here or pass it to the service, but I always got the same exception. Hope someone has any ideas about this problem. I can add more details if it will be needed.","title":"Getting WindowManager in CallScreeningService on Xiaomi","body":"<p>I have a problem with getting <code>WindowManager</code> inside some service on some phone models.</p>\n<p>I have written service that inherits <code>CallScreeningService</code>, I use it to handle incoming calls and draw views on locked screen. On most devices my service works fine, but I found it doesn't work on some Xiaomi devices (for instance Redmi Note 7, Xiaomi MI MAX 3).</p>\n<p>Service has problems with getting <code>WindowManager</code>:</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.Q)\nclass MyCallScreeningService : CallScreeningService() {\n\n    private var windowManager: WindowManager? = null\n\n    override fun onScreenCall(details: Call.Details) {\n        if (details.callDirection == Call.Details.DIRECTION_INCOMING) {\n            details.handle?.schemeSpecificPart?.onlyDigits()?.let { phoneNumber -&gt;\n                if (phoneNumber.isNotEmpty()) {\n                    CoroutineScope(Dispatchers.IO).launch {\n                        requestPhoneInfoFromDb(phoneNumber)?.let { phonebookEntry -&gt;\n                            CoroutineScope(Dispatchers.Main).launch {\n                                showCallInfoView(phoneNumber, phonebookEntry)\n                                respondToCall(details, CallResponse.Builder().build())\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private fun showCallInfoView(number: String, phonebookEntry: PhonebookEntity) {\n        windowManager = getSystemService(Service.WINDOW_SERVICE) as WindowManager\n\n        //building view...\n    }\n}\n</code></pre>\n<p>Error happens when I call <code>getSystemService(Service.WINDOW_SERVICE) as WindowManager</code>, on Xiaomi I get an exception:</p>\n<blockquote>\n<p>Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\nWindowManager should be accessed from Activity or other visual Context. Use an Activity or a Context created with Context#createWindowContext(int, Bundle), which are adjusted to the configuration and visual bounds of an area on screen.<br />\njava.lang.IllegalAccessException: Tried to access visual service WindowManager from a non-visual Context:MyCallScreeningService@ecb7385\nat android.app.ContextImpl.getSystemService(ContextImpl.java:2125)<br />\nat android.content.ContextWrapper.getSystemService(ContextWrapper.java:910)<br />\nat MyCallScreeningService.x(MyCallScreeningService.kt:3)<br />\nat MyCallScreeningService.h(MyCallScreeningService.kt:1)<br />\nat MyCallScreeningService$g.invokeSuspend(MyCallScreeningService.kt:52)<br />\nat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:12)</p>\n</blockquote>\n<p>I have tried many ways to use services's <code>Context</code> here or pass it to the service, but I always got the same exception. Hope someone has any ideas about this problem. I can add more details if it will be needed.</p>\n"},{"tags":["java","spring","http2","undertow"],"answers":[{"tags":[],"owner":{"account_id":15341301,"reputation":33,"user_id":12106667,"display_name":"Oleksii Dobroshtan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696944963,"creation_date":1696944963,"answer_id":77266281,"question_id":77264692,"body_markdown":"Ohhh... this tricky issue with Underthow... When I used Tomcat as an application server - there were no problems, however there was a necessity to change it to Underthow...\r\n\r\nHope, you will find a solution!\r\n","title":"Undertow HTTP2: request threads exhausted with threads stuck in org.xnio.conduits...awaitReadable/Writable operations","body":"<p>Ohhh... this tricky issue with Underthow... When I used Tomcat as an application server - there were no problems, however there was a necessity to change it to Underthow...</p>\n<p>Hope, you will find a solution!</p>\n"}],"owner":{"account_id":7491103,"reputation":171,"user_id":5710331,"display_name":"Andriy Yarish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701269752,"creation_date":1696931584,"question_id":77264692,"body_markdown":"Something occasionally happened for one random instance of 5 available instances few times in a day. Worker threads get stucked, after exhausting all the worker threads service fail to respond a health check and get restarted.\r\nWe observe that problem occurs with POST/PUT/PATCH requests.\r\nThose stucked requests runs for tens of minutes and then are reported as failed with status code 400 || 500.\r\nBlocked threads grows quickly and in few minutes could exhauste all pool, and they grow only on a single instance other 4 works fine.\r\n\r\n\r\nSpring boot version 3.1.4 / 3.0.11\r\n**Spring Cloud Gateway.(Netty) &lt;-&gt;(http2 SSL) Spring based service with REST endpoint(Undertow).**\r\n\r\nWe add an Undertow StuckThreadDetector and it reports a stacktrace like:\r\n\r\n\r\n```\r\njava.lang.Throwable: null\r\n    at java.base@17.0.2/java.lang.Object.wait(Native Method)\r\n    at java.base@17.0.2/java.lang.Object.wait(Object.java:338)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSourceChannel.awaitReadable(AbstractFramedStreamSourceChannel.java:354)\r\n    at org.xnio.conduits.StreamSourceChannelWrappingConduit.awaitReadable(StreamSourceChannelWrappingConduit.java:71)\r\n    at org.xnio.conduits.ConduitStreamSourceChannel.awaitReadable(ConduitStreamSourceChannel.java:151)\r\n    at io.undertow.channels.DetachableStreamSourceChannel.awaitReadable(DetachableStreamSourceChannel.java:77)\r\n    at io.undertow.server.HttpServerExchange$ReadDispatchChannel.awaitReadable(HttpServerExchange.java:2305)\r\n    at org.xnio.channels.Channels.readBlocking(Channels.java:345)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.readIntoBuffer(ServletInputStreamImpl.java:201)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:176)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:162)\r\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:153)\r\n    at java.base@17.0.2/java.io.FilterInputStream.read(FilterInputStream.java:82)\r\n    at java.base@17.0.2/java.io.PushbackInputStream.read(PushbackInputStream.java:135)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver$EmptyBodyCheckingHttpInputMessage.&lt;init&gt;(AbstractMessageConverterMethodArgumentResolver.java:331)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:172)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\r\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\r\n```\r\n\r\n\r\n```\r\njava.lang.Throwable: null\r\n    at java.lang.Object.wait(Object.java)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:329)\r\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:313)\r\n    at org.xnio.conduits.StreamSinkChannelWrappingConduit.awaitWritable(StreamSinkChannelWrappingConduit.java:99)\r\n    at org.xnio.conduits.ConduitStreamSinkChannel.awaitWritable(ConduitStreamSinkChannel.java:134)\r\n    at io.undertow.channels.DetachableStreamSinkChannel.awaitWritable(DetachableStreamSinkChannel.java:87)\r\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.awaitWritable(HttpServerExchange.java:2141)\r\n    // ... 183 frames truncated\r\n\r\n```\r\n\r\n\r\nThis guys mention similar issue https://access.redhat.com/solutions/6988036. - but there are no info how they fix it.\r\n\r\nWe add an Undertow StuckThreadDetector to catch the thread&#39;s stacktrace.\r\nWe are going to try to BlockingReadTimeoutHandler BlockingWriteTimeoutHandler to fail fast when there are a problems in undertow awaitReadable/awaitWritable, but we are still looking for a root cause of such a random issue.","title":"Undertow HTTP2: request threads exhausted with threads stuck in org.xnio.conduits...awaitReadable/Writable operations","body":"<p>Something occasionally happened for one random instance of 5 available instances few times in a day. Worker threads get stucked, after exhausting all the worker threads service fail to respond a health check and get restarted.\nWe observe that problem occurs with POST/PUT/PATCH requests.\nThose stucked requests runs for tens of minutes and then are reported as failed with status code 400 || 500.\nBlocked threads grows quickly and in few minutes could exhauste all pool, and they grow only on a single instance other 4 works fine.</p>\n<p>Spring boot version 3.1.4 / 3.0.11\n<strong>Spring Cloud Gateway.(Netty) &lt;-&gt;(http2 SSL) Spring based service with REST endpoint(Undertow).</strong></p>\n<p>We add an Undertow StuckThreadDetector and it reports a stacktrace like:</p>\n<pre><code>java.lang.Throwable: null\n    at java.base@17.0.2/java.lang.Object.wait(Native Method)\n    at java.base@17.0.2/java.lang.Object.wait(Object.java:338)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSourceChannel.awaitReadable(AbstractFramedStreamSourceChannel.java:354)\n    at org.xnio.conduits.StreamSourceChannelWrappingConduit.awaitReadable(StreamSourceChannelWrappingConduit.java:71)\n    at org.xnio.conduits.ConduitStreamSourceChannel.awaitReadable(ConduitStreamSourceChannel.java:151)\n    at io.undertow.channels.DetachableStreamSourceChannel.awaitReadable(DetachableStreamSourceChannel.java:77)\n    at io.undertow.server.HttpServerExchange$ReadDispatchChannel.awaitReadable(HttpServerExchange.java:2305)\n    at org.xnio.channels.Channels.readBlocking(Channels.java:345)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.readIntoBuffer(ServletInputStreamImpl.java:201)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:176)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:162)\n    at io.undertow.servlet.spec.ServletInputStreamImpl.read(ServletInputStreamImpl.java:153)\n    at java.base@17.0.2/java.io.FilterInputStream.read(FilterInputStream.java:82)\n    at java.base@17.0.2/java.io.PushbackInputStream.read(PushbackInputStream.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver$EmptyBodyCheckingHttpInputMessage.&lt;init&gt;(AbstractMessageConverterMethodArgumentResolver.java:331)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:172)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n\n</code></pre>\n<pre><code>java.lang.Throwable: null\n    at java.lang.Object.wait(Object.java)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:329)\n    at io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel.awaitWritable(AbstractFramedStreamSinkChannel.java:313)\n    at org.xnio.conduits.StreamSinkChannelWrappingConduit.awaitWritable(StreamSinkChannelWrappingConduit.java:99)\n    at org.xnio.conduits.ConduitStreamSinkChannel.awaitWritable(ConduitStreamSinkChannel.java:134)\n    at io.undertow.channels.DetachableStreamSinkChannel.awaitWritable(DetachableStreamSinkChannel.java:87)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.awaitWritable(HttpServerExchange.java:2141)\n    // ... 183 frames truncated\n\n</code></pre>\n<p>This guys mention similar issue <a href=\"https://access.redhat.com/solutions/6988036\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/6988036</a>. - but there are no info how they fix it.</p>\n<p>We add an Undertow StuckThreadDetector to catch the thread's stacktrace.\nWe are going to try to BlockingReadTimeoutHandler BlockingWriteTimeoutHandler to fail fast when there are a problems in undertow awaitReadable/awaitWritable, but we are still looking for a root cause of such a random issue.</p>\n"},{"tags":["java","android","android-camera","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1702270649,"post_id":77572197,"comment_id":136871570,"body_markdown":"What&#39;s your device model? CameraX only works with CTS compatible devices. From your description, it might not be one.","body":"What&#39;s your device model? CameraX only works with CTS compatible devices. From your description, it might not be one."}],"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701269470,"creation_date":1701269470,"question_id":77572197,"body_markdown":"My app shows preview of the camera and saves pics to files. Both the preview and the saved pics only show part of the what the camera can see. The image is clearly cropped/clipped. How do I configure image capture to show the entire field of view of the camera?\r\n\r\nThe target app is an embedded system using a USB cam, but the problem happens in the emulator when configured for webcam0 -- the web cam I have connected to may laptop via USB. So, it&#39;s a similar setup. And the problematic behavior occurs in both this test/emulator setup as well as my embedded production setup. So, I think the issue is android -- not my embedded system configuration.\r\n\r\nI have tried using both Camera2 and CameraX and I get the same behavior.\r\n\r\nIn an effort to share here I did follow this guide to create a simple camera app: https://developer.android.com/codelabs/camerax-getting-started. I know it&#39;s not a small code example, but it&#39;s the best I could think of since I don&#39;t know what part of the code is relevant. \r\n\r\nThe resulting app has the problem -- at least for me it does. Here&#39;s a snap of the app. It shows 1/2 of me when I know the camera is centered on me.\r\n\r\n[![enter image description here][1]][1] \r\n\r\nSomewhat oddly but maybe there&#39;s a clue here, if I rotate the emulated device, I then see a fuller view of the camera:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is not even the complete view. Here&#39;s a snap from webcamtest:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI added this to the activity in hopes it would force the view to show the full view:\r\n\r\n        viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\r\n\r\nBut it has no effect :(\r\n\r\nMy app is in Java, but the getting-started app is Kotlin. The problem happens in either language so I&#39;m open to talk about the issue and solutions in either language. I&#39;ll translate to Java if need be.\r\n\r\nHere&#39;s the activity code:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var viewBinding: ActivityMainBinding\r\n    \r\n        private var imageCapture: ImageCapture? = null\r\n    \r\n        private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\r\n        private var recording: Recording? = null\r\n    \r\n        private lateinit var cameraExecutor: ExecutorService\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            viewBinding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(viewBinding.root)\r\n    \r\n            // Request camera permissions\r\n            if (allPermissionsGranted()) {\r\n                startCamera()\r\n            } else {\r\n                requestPermissions()\r\n            }\r\n    \r\n            // Set up the listeners for take photo and video capture buttons\r\n            viewBinding.imageCaptureButton.setOnClickListener { takePhoto() }\r\n            viewBinding.videoCaptureButton.setOnClickListener { captureVideo() }\r\n    \r\n            var scaleType = viewBinding.viewFinder.getScaleType();\r\n            viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\r\n            scaleType = viewBinding.viewFinder.getScaleType();\r\n    \r\n            cameraExecutor = Executors.newSingleThreadExecutor()\r\n        }\r\n    \r\n        private fun takePhoto() {\r\n            // Get a stable reference of the modifiable image capture use case\r\n            val imageCapture = imageCapture ?: return\r\n    \r\n            // Create time stamped name and MediaStore entry.\r\n            val name = SimpleDateFormat(FILENAME_FORMAT, Locale.US)\r\n                .format(System.currentTimeMillis())\r\n            val contentValues = ContentValues().apply {\r\n                put(MediaStore.MediaColumns.DISPLAY_NAME, name)\r\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\r\n                if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\r\n                    put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;)\r\n                }\r\n            }\r\n    \r\n            // Create output options object which contains file + metadata\r\n            val outputOptions = ImageCapture.OutputFileOptions\r\n                .Builder(contentResolver,\r\n                    MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                    contentValues)\r\n                .build()\r\n    \r\n            // Set up image capture listener, which is triggered after photo has\r\n            // been taken\r\n            imageCapture.takePicture(\r\n                outputOptions,\r\n                ContextCompat.getMainExecutor(this),\r\n                object : ImageCapture.OnImageSavedCallback {\r\n                    override fun onError(exc: ImageCaptureException) {\r\n                        Log.e(TAG, &quot;Photo capture failed: ${exc.message}&quot;, exc)\r\n                    }\r\n    \r\n                    override fun\r\n                            onImageSaved(output: ImageCapture.OutputFileResults){\r\n                        val msg = &quot;Photo capture succeeded: ${output.savedUri}&quot;\r\n                        Toast.makeText(baseContext, msg, Toast.LENGTH_SHORT).show()\r\n                        Log.d(TAG, msg)\r\n                    }\r\n                }\r\n            )}\r\n    \r\n        private fun captureVideo() {}\r\n    \r\n        private fun startCamera() {\r\n            val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\r\n    \r\n            cameraProviderFuture.addListener({\r\n                // Used to bind the lifecycle of cameras to the lifecycle owner\r\n                val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()\r\n    \r\n                // Preview\r\n                val preview = Preview.Builder()\r\n                    .build()\r\n                    .also {\r\n                        it.setSurfaceProvider(viewBinding.viewFinder.surfaceProvider)\r\n                    }\r\n                imageCapture = ImageCapture.Builder().build()\r\n    \r\n                // Select back camera as a default\r\n                val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA\r\n    \r\n                try {\r\n                    // Unbind use cases before rebinding\r\n                    cameraProvider.unbindAll()\r\n    \r\n                    // Bind use cases to camera\r\n                    cameraProvider.bindToLifecycle(\r\n                        this, cameraSelector, preview, imageCapture)\r\n    \r\n                } catch(exc: Exception) {\r\n                    Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n                }\r\n    \r\n            }, ContextCompat.getMainExecutor(this))\r\n        }\r\n    \r\n        private fun requestPermissions() {\r\n            activityResultLauncher.launch(REQUIRED_PERMISSIONS)\r\n        }\r\n    \r\n        private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\r\n            ContextCompat.checkSelfPermission(\r\n                baseContext, it) == PackageManager.PERMISSION_GRANTED\r\n        }\r\n    \r\n        override fun onDestroy() {\r\n            super.onDestroy()\r\n            cameraExecutor.shutdown()\r\n        }\r\n    \r\n        companion object {\r\n            private const val TAG = &quot;CameraXApp&quot;\r\n            private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\r\n            private val REQUIRED_PERMISSIONS =\r\n                mutableListOf (\r\n                    Manifest.permission.CAMERA,\r\n                    Manifest.permission.RECORD_AUDIO\r\n                ).apply {\r\n                    if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P) {\r\n                        add(Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                    }\r\n                }.toTypedArray()\r\n        }\r\n    \r\n        private val activityResultLauncher =\r\n            registerForActivityResult(\r\n                ActivityResultContracts.RequestMultiplePermissions())\r\n            { permissions -&gt;\r\n                // Handle Permission granted/rejected\r\n                var permissionGranted = true\r\n                permissions.entries.forEach {\r\n                    if (it.key in REQUIRED_PERMISSIONS &amp;&amp; it.value == false)\r\n                        permissionGranted = false\r\n                }\r\n                if (!permissionGranted) {\r\n                    Toast.makeText(baseContext,\r\n                        &quot;Permission request denied&quot;,\r\n                        Toast.LENGTH_SHORT).show()\r\n                } else {\r\n                    startCamera()\r\n                }\r\n            }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Cn4o5.png\r\n  [2]: https://i.stack.imgur.com/A5A4m.png\r\n  [3]: https://i.stack.imgur.com/XDfoB.png\r\n","title":"Camera output is always cropped via Android Camera2/CameraX. How to show full view?","body":"<p>My app shows preview of the camera and saves pics to files. Both the preview and the saved pics only show part of the what the camera can see. The image is clearly cropped/clipped. How do I configure image capture to show the entire field of view of the camera?</p>\n<p>The target app is an embedded system using a USB cam, but the problem happens in the emulator when configured for webcam0 -- the web cam I have connected to may laptop via USB. So, it's a similar setup. And the problematic behavior occurs in both this test/emulator setup as well as my embedded production setup. So, I think the issue is android -- not my embedded system configuration.</p>\n<p>I have tried using both Camera2 and CameraX and I get the same behavior.</p>\n<p>In an effort to share here I did follow this guide to create a simple camera app: <a href=\"https://developer.android.com/codelabs/camerax-getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/camerax-getting-started</a>. I know it's not a small code example, but it's the best I could think of since I don't know what part of the code is relevant.</p>\n<p>The resulting app has the problem -- at least for me it does. Here's a snap of the app. It shows 1/2 of me when I know the camera is centered on me.</p>\n<p><a href=\"https://i.stack.imgur.com/Cn4o5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cn4o5.png\" alt=\"enter image description here\" /></a></p>\n<p>Somewhat oddly but maybe there's a clue here, if I rotate the emulated device, I then see a fuller view of the camera:</p>\n<p><a href=\"https://i.stack.imgur.com/A5A4m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5A4m.png\" alt=\"enter image description here\" /></a></p>\n<p>This is not even the complete view. Here's a snap from webcamtest:</p>\n<p><a href=\"https://i.stack.imgur.com/XDfoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDfoB.png\" alt=\"enter image description here\" /></a></p>\n<p>I added this to the activity in hopes it would force the view to show the full view:</p>\n<pre><code>    viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\n</code></pre>\n<p>But it has no effect :(</p>\n<p>My app is in Java, but the getting-started app is Kotlin. The problem happens in either language so I'm open to talk about the issue and solutions in either language. I'll translate to Java if need be.</p>\n<p>Here's the activity code:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var viewBinding: ActivityMainBinding\n\n    private var imageCapture: ImageCapture? = null\n\n    private var videoCapture: VideoCapture&lt;Recorder&gt;? = null\n    private var recording: Recording? = null\n\n    private lateinit var cameraExecutor: ExecutorService\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        viewBinding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(viewBinding.root)\n\n        // Request camera permissions\n        if (allPermissionsGranted()) {\n            startCamera()\n        } else {\n            requestPermissions()\n        }\n\n        // Set up the listeners for take photo and video capture buttons\n        viewBinding.imageCaptureButton.setOnClickListener { takePhoto() }\n        viewBinding.videoCaptureButton.setOnClickListener { captureVideo() }\n\n        var scaleType = viewBinding.viewFinder.getScaleType();\n        viewBinding.viewFinder.setScaleType(PreviewView.ScaleType.FIT_CENTER)\n        scaleType = viewBinding.viewFinder.getScaleType();\n\n        cameraExecutor = Executors.newSingleThreadExecutor()\n    }\n\n    private fun takePhoto() {\n        // Get a stable reference of the modifiable image capture use case\n        val imageCapture = imageCapture ?: return\n\n        // Create time stamped name and MediaStore entry.\n        val name = SimpleDateFormat(FILENAME_FORMAT, Locale.US)\n            .format(System.currentTimeMillis())\n        val contentValues = ContentValues().apply {\n            put(MediaStore.MediaColumns.DISPLAY_NAME, name)\n            put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\n            if(Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\n                put(MediaStore.Images.Media.RELATIVE_PATH, &quot;Pictures/CameraX-Image&quot;)\n            }\n        }\n\n        // Create output options object which contains file + metadata\n        val outputOptions = ImageCapture.OutputFileOptions\n            .Builder(contentResolver,\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n                contentValues)\n            .build()\n\n        // Set up image capture listener, which is triggered after photo has\n        // been taken\n        imageCapture.takePicture(\n            outputOptions,\n            ContextCompat.getMainExecutor(this),\n            object : ImageCapture.OnImageSavedCallback {\n                override fun onError(exc: ImageCaptureException) {\n                    Log.e(TAG, &quot;Photo capture failed: ${exc.message}&quot;, exc)\n                }\n\n                override fun\n                        onImageSaved(output: ImageCapture.OutputFileResults){\n                    val msg = &quot;Photo capture succeeded: ${output.savedUri}&quot;\n                    Toast.makeText(baseContext, msg, Toast.LENGTH_SHORT).show()\n                    Log.d(TAG, msg)\n                }\n            }\n        )}\n\n    private fun captureVideo() {}\n\n    private fun startCamera() {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(this)\n\n        cameraProviderFuture.addListener({\n            // Used to bind the lifecycle of cameras to the lifecycle owner\n            val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()\n\n            // Preview\n            val preview = Preview.Builder()\n                .build()\n                .also {\n                    it.setSurfaceProvider(viewBinding.viewFinder.surfaceProvider)\n                }\n            imageCapture = ImageCapture.Builder().build()\n\n            // Select back camera as a default\n            val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA\n\n            try {\n                // Unbind use cases before rebinding\n                cameraProvider.unbindAll()\n\n                // Bind use cases to camera\n                cameraProvider.bindToLifecycle(\n                    this, cameraSelector, preview, imageCapture)\n\n            } catch(exc: Exception) {\n                Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n            }\n\n        }, ContextCompat.getMainExecutor(this))\n    }\n\n    private fun requestPermissions() {\n        activityResultLauncher.launch(REQUIRED_PERMISSIONS)\n    }\n\n    private fun allPermissionsGranted() = REQUIRED_PERMISSIONS.all {\n        ContextCompat.checkSelfPermission(\n            baseContext, it) == PackageManager.PERMISSION_GRANTED\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        cameraExecutor.shutdown()\n    }\n\n    companion object {\n        private const val TAG = &quot;CameraXApp&quot;\n        private const val FILENAME_FORMAT = &quot;yyyy-MM-dd-HH-mm-ss-SSS&quot;\n        private val REQUIRED_PERMISSIONS =\n            mutableListOf (\n                Manifest.permission.CAMERA,\n                Manifest.permission.RECORD_AUDIO\n            ).apply {\n                if (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P) {\n                    add(Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                }\n            }.toTypedArray()\n    }\n\n    private val activityResultLauncher =\n        registerForActivityResult(\n            ActivityResultContracts.RequestMultiplePermissions())\n        { permissions -&gt;\n            // Handle Permission granted/rejected\n            var permissionGranted = true\n            permissions.entries.forEach {\n                if (it.key in REQUIRED_PERMISSIONS &amp;&amp; it.value == false)\n                    permissionGranted = false\n            }\n            if (!permissionGranted) {\n                Toast.makeText(baseContext,\n                    &quot;Permission request denied&quot;,\n                    Toast.LENGTH_SHORT).show()\n            } else {\n                startCamera()\n            }\n        }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1913807,"reputation":391,"user_id":1726894,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461422214,"creation_date":1461422214,"answer_id":36812162,"question_id":36811719,"body_markdown":"I guess two problems,\r\n1. makelist call is made on new instance of fragment which is not attached to UI.\r\n2. notifydatasetchagned is not called in makelist, once the data is modified.\r\n\r\nCan you try with below changes:\r\n1. In Activity, use the same fragment instance instead of creating new Fragment instance\r\n\r\n                        \r\n                //GlimpseListFragment glimpse = new GlimpseListFragment();\r\n             // use the previously created instance, which is attached to UI\r\n                glimpse.makeList(s);\r\n\r\nDont create new, better put this code after committing the fragment.\r\n\r\n2. call adapter.notifyDataSetChanged() in the makeList() function.","title":"ListFragment not displaying data","body":"<p>I guess two problems,\n1. makelist call is made on new instance of fragment which is not attached to UI.\n2. notifydatasetchagned is not called in makelist, once the data is modified.</p>\n\n<p>Can you try with below changes:\n1. In Activity, use the same fragment instance instead of creating new Fragment instance</p>\n\n<pre><code>            //GlimpseListFragment glimpse = new GlimpseListFragment();\n         // use the previously created instance, which is attached to UI\n            glimpse.makeList(s);\n</code></pre>\n\n<p>Dont create new, better put this code after committing the fragment.</p>\n\n<ol start=\"2\">\n<li>call adapter.notifyDataSetChanged() in the makeList() function.</li>\n</ol>\n"}],"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36812162,"answer_count":1,"score":0,"last_activity_date":1701269285,"creation_date":1461419767,"question_id":36811719,"body_markdown":"I can&#39;t figure out why the data is not being shown in the list view. It is storing it to the Array list, because when I check to see if it is null, it returns false (meaning that it has information).\r\n\r\nMain Activity:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.design.widget.NavigationView;\r\n    import android.support.v4.view.GravityCompat;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.support.v7.app.ActionBarDrawerToggle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.MenuItem;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.genasync12.AsyncResponse;\r\n    import com.kosalgeek.genasync12.PostResponseAsyncTask;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\r\n        ListView lvGlimpse;\r\n        public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n    \r\n        NavigationView navigationView;\r\n        Toolbar toolbar;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\r\n            PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\r\n                @Override\r\n                public void processFinish(String s) {\r\n                    Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\r\n                    GlimpseListFragment glimpse = new GlimpseListFragment();\r\n                    glimpse.makeList(s);\r\n                }\r\n            });\r\n            task.execute(url);\r\n    \r\n            GlimpseListFragment fragment = new GlimpseListFragment();\r\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n            fragmentTransaction.commit();\r\n    \r\n            toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            getSupportActionBar().setTitle(&quot;Goldleaf Comics!&quot;);\r\n            \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.setDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n        }\r\n        \r\n        @Override\r\n        public void onBackPressed() {\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\r\n        @Override\r\n        public boolean onNavigationItemSelected(MenuItem item) {\r\n            // Handle navigation view item clicks here.\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.nav_news) {\r\n                getSupportActionBar().setTitle(&quot;G.C. News&quot;);\r\n            } else if (id == R.id.nav_team) {\r\n                TeamFeedFragment fragment = new TeamFeedFragment();\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n                getSupportActionBar().setTitle(&quot;Team Feed&quot;);\r\n                fragmentTransaction.commit();\r\n            }else if(id == R.id.nav_notifications){\r\n                getSupportActionBar().setTitle(&quot;Notifications&quot;);\r\n            }else if(id == R.id.nav_comics){\r\n                getSupportActionBar().setTitle(&quot;Comics&quot;);\r\n            }else if(id == R.id.nav_glimpse){\r\n                GlimpseListFragment fragment = new GlimpseListFragment();\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n                getSupportActionBar().setTitle(&quot;Glimpse&quot;);\r\n                fragmentTransaction.commit();\r\n            }\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            drawer.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    }\r\n\r\nThe fragment that is not showing the list:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.app.ListFragment;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.android.json.JsonConverter;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class GlimpseListFragment extends ListFragment {\r\n        List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n        List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n    \r\n        public GlimpseListFragment() {\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                titles.add(value.universeId);\r\n            }\r\n    \r\n            ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                glimpse.add(value.universeGlimpse);\r\n            }\r\n    \r\n            ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, glimpse);\r\n            setListAdapter(adapter);\r\n            setRetainInstance(true);\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        public void onListItemClick(ListView l, View view, int position, long id){\r\n            String item = ((TextView)view).getText().toString();\r\n            Toast.makeText(getActivity(), glimpse.indexOf(id), Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        public void makeList(String r){\r\n            ArrayList&lt;UniverseListing&gt; universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(r, UniverseListing.class);\r\n            if(universalListings == null){\r\n                Log.w(&quot;Glimpse&quot;, &quot;no information&quot;);\r\n            }else{\r\n                Log.w(&quot;Glimpse&quot;, &quot;information stored&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nUniverseListing:\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class UniverseListing {\r\n        @SerializedName(&quot;universe_id&quot;)\r\n        public String universeId;\r\n    \r\n        @SerializedName(&quot;universe_glimpse&quot;)\r\n        public String universeGlimpse;\r\n    \r\n        @SerializedName(&quot;universe_url&quot;)\r\n        public String universeuRL;\r\n    }","title":"ListFragment not displaying data","body":"<p>I can't figure out why the data is not being shown in the list view. It is storing it to the Array list, because when I check to see if it is null, it returns false (meaning that it has information).</p>\n<p>Main Activity:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.design.widget.NavigationView;\nimport android.support.v4.view.GravityCompat;\nimport android.support.v4.widget.DrawerLayout;\nimport android.support.v7.app.ActionBarDrawerToggle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.MenuItem;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.genasync12.AsyncResponse;\nimport com.kosalgeek.genasync12.PostResponseAsyncTask;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\n    ListView lvGlimpse;\n    public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\n\n    NavigationView navigationView;\n    Toolbar toolbar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\n        PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\n            @Override\n            public void processFinish(String s) {\n                Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\n                GlimpseListFragment glimpse = new GlimpseListFragment();\n                glimpse.makeList(s);\n            }\n        });\n        task.execute(url);\n\n        GlimpseListFragment fragment = new GlimpseListFragment();\n        android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fragment_container, fragment);\n        fragmentTransaction.commit();\n\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setTitle(&quot;Goldleaf Comics!&quot;);\n        \n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.setDrawerListener(toggle);\n        toggle.syncState();\n\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n    }\n    \n    @Override\n    public void onBackPressed() {\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        // Handle navigation view item clicks here.\n        int id = item.getItemId();\n\n        if (id == R.id.nav_news) {\n            getSupportActionBar().setTitle(&quot;G.C. News&quot;);\n        } else if (id == R.id.nav_team) {\n            TeamFeedFragment fragment = new TeamFeedFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\n            getSupportActionBar().setTitle(&quot;Team Feed&quot;);\n            fragmentTransaction.commit();\n        }else if(id == R.id.nav_notifications){\n            getSupportActionBar().setTitle(&quot;Notifications&quot;);\n        }else if(id == R.id.nav_comics){\n            getSupportActionBar().setTitle(&quot;Comics&quot;);\n        }else if(id == R.id.nav_glimpse){\n            GlimpseListFragment fragment = new GlimpseListFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\n            getSupportActionBar().setTitle(&quot;Glimpse&quot;);\n            fragmentTransaction.commit();\n        }\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n}\n</code></pre>\n<p>The fragment that is not showing the list:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.ListFragment;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.android.json.JsonConverter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GlimpseListFragment extends ListFragment {\n    List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n    List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\n\n    public GlimpseListFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            titles.add(value.universeId);\n        }\n\n        ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            glimpse.add(value.universeGlimpse);\n        }\n\n        ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, glimpse);\n        setListAdapter(adapter);\n        setRetainInstance(true);\n\n        return rootView;\n    }\n\n    public void onListItemClick(ListView l, View view, int position, long id){\n        String item = ((TextView)view).getText().toString();\n        Toast.makeText(getActivity(), glimpse.indexOf(id), Toast.LENGTH_SHORT).show();\n    }\n\n    public void makeList(String r){\n        ArrayList&lt;UniverseListing&gt; universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(r, UniverseListing.class);\n        if(universalListings == null){\n            Log.w(&quot;Glimpse&quot;, &quot;no information&quot;);\n        }else{\n            Log.w(&quot;Glimpse&quot;, &quot;information stored&quot;);\n        }\n    }\n}\n</code></pre>\n<p>UniverseListing:</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class UniverseListing {\n    @SerializedName(&quot;universe_id&quot;)\n    public String universeId;\n\n    @SerializedName(&quot;universe_glimpse&quot;)\n    public String universeGlimpse;\n\n    @SerializedName(&quot;universe_url&quot;)\n    public String universeuRL;\n}\n</code></pre>\n"},{"tags":["java","jpa","lombok"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701270042,"post_id":77565491,"comment_id":136755118,"body_markdown":"Could you define &quot;it didn&#39;t seem to function&quot; as you expected? If you are looking for 1 of three properties that are required to uniquely identify a row/entity, I hope you are not trying to populate a key class and leave the other attributes as null and rely on &#39;find&#39; logic. You&#39;ll need a special query that returns a list to search on that 1 attribute, as multiple rows could share that value.","body":"Could you define &quot;it didn&#39;t seem to function&quot; as you expected? If you are looking for 1 of three properties that are required to uniquely identify a row/entity, I hope you are not trying to populate a key class and leave the other attributes as null and rely on &#39;find&#39; logic. You&#39;ll need a special query that returns a list to search on that 1 attribute, as multiple rows could share that value."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701271812,"post_id":77565491,"comment_id":136755568,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26511134,"reputation":1,"user_id":20146358,"display_name":"Hyesong Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701268948,"creation_date":1701268948,"answer_id":77572138,"question_id":77565491,"body_markdown":"**No.**\r\n\r\nI&#39;m not sure why `@EmbeddedId` isn&#39;t working for you, but I would suggest trying the `@IdClass` annotation.\r\n`@IdClass` is similar to `@EmbeddedId`, but it aligns more closely with the RDB schema. It doesn&#39;t require a second depth of access like `entity.getId().getField()` to reach the fields of the primary key class.\r\n\r\nIf you want more info about difference of each annotation look [this page][1].\r\n\r\nHere&#39;s sample code:\r\n\r\n- Entity\r\n```java\r\n@Entity\r\n@IdClass(SampleEntityId.class)\r\npublic class SampleEntity {\r\n\r\n @Id\r\n private Integer id1;\r\n\r\n @Id\r\n private Integer id2;\r\n\r\n @Id\r\n private Integer id3;\r\n}\r\n```\r\n\r\n- SampleEntityId\r\n```java\r\npublic class SampleEntityId implements Serializable {\r\n  private Integer id1;\r\n  private Integer id2;\r\n  private Integer id3;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid","title":"java : should data of @Id field in entity be unique to one another?","body":"<p><strong>No.</strong></p>\n<p>I'm not sure why <code>@EmbeddedId</code> isn't working for you, but I would suggest trying the <code>@IdClass</code> annotation.\n<code>@IdClass</code> is similar to <code>@EmbeddedId</code>, but it aligns more closely with the RDB schema. It doesn't require a second depth of access like <code>entity.getId().getField()</code> to reach the fields of the primary key class.</p>\n<p>If you want more info about difference of each annotation look <a href=\"https://stackoverflow.com/questions/212350/which-annotation-should-i-use-idclass-or-embeddedid\">this page</a>.</p>\n<p>Here's sample code:</p>\n<ul>\n<li>Entity</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@IdClass(SampleEntityId.class)\npublic class SampleEntity {\n\n @Id\n private Integer id1;\n\n @Id\n private Integer id2;\n\n @Id\n private Integer id3;\n}\n</code></pre>\n<ul>\n<li>SampleEntityId</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleEntityId implements Serializable {\n  private Integer id1;\n  private Integer id2;\n  private Integer id3;\n}\n</code></pre>\n"}],"owner":{"account_id":29861476,"reputation":3,"user_id":22885030,"display_name":"ChangshinKang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701268948,"creation_date":1701188366,"question_id":77565491,"body_markdown":"I&#39;m curious whether should the field with @Id annotation be unique to one another or not.\r\n\r\nThe reason why i&#39;m asking this is that I&#39;m creating an entity with three fields to act as a \r\nprimary key (but declaring them as EmbeddedId hasn&#39;t been done), and I need to make a logic\r\nwhen I want to search a set of rows from database with just one @Id field.\r\n\r\nSo I will not declare primary key in the table which is mapped to that entity, and I want to use\r\njust one field so that I can read a list of data that matches with it. \r\n\r\n\r\n\r\nI&#39;ve tried @EmbeddedId, but it didn&#39;t seem to function as I expected.  ","title":"java : should data of @Id field in entity be unique to one another?","body":"<p>I'm curious whether should the field with @Id annotation be unique to one another or not.</p>\n<p>The reason why i'm asking this is that I'm creating an entity with three fields to act as a\nprimary key (but declaring them as EmbeddedId hasn't been done), and I need to make a logic\nwhen I want to search a set of rows from database with just one @Id field.</p>\n<p>So I will not declare primary key in the table which is mapped to that entity, and I want to use\njust one field so that I can read a list of data that matches with it.</p>\n<p>I've tried @EmbeddedId, but it didn't seem to function as I expected.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22445574,"reputation":10709,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":7,"creation_date":1701263895,"post_id":77571441,"comment_id":136753771,"body_markdown":"There is a language independent design pattern for this. Lookup dependency injection and null strategy pattern. You define an interface with report methods (this interface is totally unaware of logging, debug or release builds). Call it DebugReportingForClassXItf or something. Then you make two implementations one that actually logs (or writes to debug terminal) and one that does absolutely nothing. The first one you instantiatie in debug builds the other one in release builds and then inject the interface into the class that should generate info.","body":"There is a language independent design pattern for this. Lookup dependency injection and null strategy pattern. You define an interface with report methods (this interface is totally unaware of logging, debug or release builds). Call it DebugReportingForClassXItf or something. Then you make two implementations one that actually logs (or writes to debug terminal) and one that does absolutely nothing. The first one you instantiatie in debug builds the other one in release builds and then inject the interface into the class that should generate info."},{"owner":{"account_id":22445574,"reputation":10709,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":3,"creation_date":1701263953,"post_id":77571441,"comment_id":136753774,"body_markdown":"This pattern extends well to all kind of infrastructure code, and even allows you to completely change infrastructure (e.g. start logging to a log server i.o. std::cerr). And your code will have no if/then/else checks just sometimes a virtual call that returns immediately and this perfectly predictable by the CPU pipeline. So yes there is some performance loss but it should be minimal (better then a missed branch prediction)","body":"This pattern extends well to all kind of infrastructure code, and even allows you to completely change infrastructure (e.g. start logging to a log server i.o. std::cerr). And your code will have no if/then/else checks just sometimes a virtual call that returns immediately and this perfectly predictable by the CPU pipeline. So yes there is some performance loss but it should be minimal (better then a missed branch prediction)"},{"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"score":0,"creation_date":1701264303,"post_id":77571441,"comment_id":136753838,"body_markdown":"I have seen dependency injection in Spring but that seems like a much bigger overhead compared to either method. Is dependency injection possible in vanilla Java or did you mean I should just replace every instance of `Logger` with `LoggerNOP` in the release build?","body":"I have seen dependency injection in Spring but that seems like a much bigger overhead compared to either method. Is dependency injection possible in vanilla Java or did you mean I should just replace every instance of <code>Logger</code> with <code>LoggerNOP</code> in the release build?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1701264352,"post_id":77571441,"comment_id":136753848,"body_markdown":"For logging, you&#39;d generally **configure** the logger per environment, e.g to disable a certain log-level or logging root, not replace the logger implementation (though that is also possible, for example if you use SLF4J, it is a matter of replacing the SLF4J implementation). Most logging implementations are very efficient when asked to log something on a level that is disabled, or if the logger itself is disabled.","body":"For logging, you&#39;d generally <b>configure</b> the logger per environment, e.g to disable a certain log-level or logging root, not replace the logger implementation (though that is also possible, for example if you use SLF4J, it is a matter of replacing the SLF4J implementation). Most logging implementations are very efficient when asked to log something on a level that is disabled, or if the logger itself is disabled."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1701264532,"post_id":77571441,"comment_id":136753881,"body_markdown":"As an aside, using `System.out` for logging directly is generally a bad idea, as its methods are (internally) synchronized, which will introduce a contention bottleneck in highly concurrent applications.","body":"As an aside, using <code>System.out</code> for logging directly is generally a bad idea, as its methods are (internally) synchronized, which will introduce a contention bottleneck in highly concurrent applications."},{"owner":{"account_id":251380,"reputation":10845,"user_id":528720,"display_name":"&#214;&#246; Tiib"},"score":0,"creation_date":1701264575,"post_id":77571441,"comment_id":136753892,"body_markdown":"Java does not have compile-time constexprs, preprocessors or templates (the generics are run-time). So if you really want something gone from built product totally then you probably need to build debug and production from configuration-selected or tool-generated different java files/packages.","body":"Java does not have compile-time constexprs, preprocessors or templates (the generics are run-time). So if you really want something gone from built product totally then you probably need to build debug and production from configuration-selected or tool-generated different java files/packages."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701264718,"post_id":77571441,"comment_id":136753928,"body_markdown":"Also, bytecode is hardly optimized, most optimization, including eliminating codepaths not run, or inlining methods is done at runtime by the JIT.","body":"Also, bytecode is hardly optimized, most optimization, including eliminating codepaths not run, or inlining methods is done at runtime by the JIT."},{"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"score":0,"creation_date":1701264889,"post_id":77571441,"comment_id":136753960,"body_markdown":"@MarkRotteveel check the updated question, I didn&#39;t mean logging specifically, although that is the example I used. Do you have any suggestions on how to see the Jit compiled code?","body":"@MarkRotteveel check the updated question, I didn&#39;t mean logging specifically, although that is the example I used. Do you have any suggestions on how to see the Jit compiled code?"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701265144,"post_id":77571441,"comment_id":136754012,"body_markdown":"Similar solutions would also apply for other things than logging, as Pepijn already says have two (or more) implementations, and decide at runtime through configuration/dependency injection which is used, or by including (or excluding) an implementation on a specific environment. You can configure the JVM to print out JIT information, but keep in mind, JIT will generally only kick in when specific code/methods are run enough times. For example, see [How to see JIT-compiled code in JVM?](https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm).","body":"Similar solutions would also apply for other things than logging, as Pepijn already says have two (or more) implementations, and decide at runtime through configuration/dependency injection which is used, or by including (or excluding) an implementation on a specific environment. You can configure the JVM to print out JIT information, but keep in mind, JIT will generally only kick in when specific code/methods are run enough times. For example, see <a href=\"https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\">How to see JIT-compiled code in JVM?</a>."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701265356,"post_id":77571441,"comment_id":136754069,"body_markdown":"@&#214;&#246;Tiib Java actually does have a limited form of compile-time constant expressions. For example, calculations with primitive or string literals, or final fields or variables that are assigned another constant expressions will be evaluated and inlined at compile-time.","body":"@&#214;&#246;Tiib Java actually does have a limited form of compile-time constant expressions. For example, calculations with primitive or string literals, or final fields or variables that are assigned another constant expressions will be evaluated and inlined at compile-time."},{"owner":{"account_id":22445574,"reputation":10709,"user_id":16649550,"display_name":"Pepijn Kramer"},"score":2,"creation_date":1701265437,"post_id":77571441,"comment_id":136754085,"body_markdown":"As with any perceived performance issue it is not an issue until you&#39;ve measured that it is an issue. The things @MarkRotteveel points out are probably much more likely a bottleneck (and so is string formatting). Ideally a logger only quickly queues some data and returns to the caller then asynchronously writes it). So my summary, measure the perfomance (dependency injected or not) and address your bottlenck","body":"As with any perceived performance issue it is not an issue until you&#39;ve measured that it is an issue. The things @MarkRotteveel points out are probably much more likely a bottleneck (and so is string formatting). Ideally a logger only quickly queues some data and returns to the caller then asynchronously writes it). So my summary, measure the perfomance (dependency injected or not) and address your bottlenck"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701268810,"creation_date":1701268006,"answer_id":77572030,"question_id":77571441,"body_markdown":"Your title is about _classes_ to be removed from production code, but your question is about _lines of code_ to be removed. I&#39;ll therefore take your question as being in two parts.\r\n\r\nFirst part: classes that are in the `test` directory tree do not go into production; only classes in the `main` tree do. This is the convention used by Maven and Gradle.\r\n\r\nSecond: if you do something like\r\n\r\n    private static final boolean DEBUG = false;\r\n\r\n    void foo() {\r\n        if (DEBUG) {\r\n            //...\r\n        }\r\n\r\nthen the JIT will remove the condition check, as if the code didn&#39;t exist. See towards the end of [Java Language Specification, &#167; 14.22](https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.22).\r\n","title":"Java best practices for writing code that needs to be removed for a release","body":"<p>Your title is about <em>classes</em> to be removed from production code, but your question is about <em>lines of code</em> to be removed. I'll therefore take your question as being in two parts.</p>\n<p>First part: classes that are in the <code>test</code> directory tree do not go into production; only classes in the <code>main</code> tree do. This is the convention used by Maven and Gradle.</p>\n<p>Second: if you do something like</p>\n<pre><code>private static final boolean DEBUG = false;\n\nvoid foo() {\n    if (DEBUG) {\n        //...\n    }\n</code></pre>\n<p>then the JIT will remove the condition check, as if the code didn't exist. See towards the end of <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">Java Language Specification, § 14.22</a>.</p>\n"}],"owner":{"account_id":9580682,"reputation":887,"user_id":7121783,"display_name":"OM222O"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77572030,"answer_count":1,"score":0,"last_activity_date":1701268810,"creation_date":1701263428,"question_id":77571441,"body_markdown":"In C++ if you want to create debugging utilities or other code that you don&#39;t want to make it to production, you can use the pre-processor, for example:\r\n\r\n    #include&lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    #define debug\r\n    \r\n    class Logger{\r\n        public:\r\n         void log(const char* message){\r\n            #ifdef debug\r\n                cout &lt;&lt; message;\r\n            #endif\r\n        }\r\n    };\r\n    \r\n    int main(){\r\n        Logger logger;\r\n        logger.log(&quot;Hello world&quot;);\r\n        return 1;\r\n    }\r\n\r\nwill result in the following assembly code (generated via https://godbolt.org/ `x86-64 clang 17.0.1`, `-O1`):\r\n\r\n    main:                                   # @main\r\n            push    rax\r\n            mov     rdi, qword ptr [rip + std::cout@GOTPCREL]\r\n            lea     rsi, [rip + .L.str]\r\n            mov     edx, 11\r\n            call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*, long)@PLT\r\n            mov     eax, 1\r\n            pop     rcx\r\n            ret\r\n    .L.str:\r\n            .asciz  &quot;Hello world&quot;\r\n\r\nremoving the `#define` results in the following assembly code:\r\n\r\n    main:                                   # @main\r\n            mov     eax, 1\r\n            ret\r\n\r\nAs you can clearly see, the entire logger code has been removed during compilation. Since Java doesn&#39;t support things like `const` or pre-processor arguments (`#define`, `#if`, etc.), I wrote the following code:\r\n\r\n    public class Main {\r\n        public static class Logger {\r\n            private final boolean debug = false;\r\n    \r\n            public void log(String msg) {\r\n                if (debug) {\r\n                    System.out.println(msg);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var logger = new Logger();\r\n            logger.log(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThis is also how I&#39;ve usually seen logging implemented in other codebases, however running `javap -c` reveals that the code isn&#39;t optimized out, despite the `debug` being declared as final:\r\n\r\n    Compiled from &quot;main.java&quot;\r\n      public Main();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: new           #7                  // class Main$Logger\r\n           3: dup\r\n           4: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:()V\r\n           7: astore_1\r\n           8: aload_1\r\n           9: ldc           #10                 // String Hello world\r\n          11: invokevirtual #12                 // Method Main$Logger.log:(Ljava/lang/String;)V\r\n          14: return\r\n    }\r\n\r\n\r\nI know that java uses a Jit compiler but I couldn&#39;t get the output of the Jit compiler after following this tutorial: https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\r\n\r\nAnother method I considered was something like function pointers in C++:\r\n\r\n    import java.util.function.Consumer;\r\n    \r\n    public class Main {\r\n        public static class Logger {\r\n            public final Consumer&lt;Object&gt; log;\r\n    \r\n            public Logger(boolean debug) {\r\n                log = debug? System.out::println : x -&gt; {};\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var logger = new Logger(false);\r\n            logger.log.accept(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\nbut this results in the following bytecode:\r\n\r\n    public class Main {      \r\n      public Main();         \r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: new           #7                  // class Main$Logger\r\n           3: dup\r\n           4: iconst_0\r\n           5: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:(Z)V\r\n           8: astore_1\r\n           9: aload_1\r\n          10: getfield      #12                 // Field Main$Logger.log:Ljava/util/function/Consumer;\r\n          13: ldc           #16                 // String Hello world\r\n          15: invokeinterface #18,  2           // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V\r\n          20: return\r\n    }\r\n\r\n (Note: if I create a wrapper method around the consumer that just calls `consumer.accept(msg)`, the bytecode is basically identical to the first case, I&#39;m not sure why)\r\n\r\nEdit: I have used logging as an example, but I meant in more general terms (for example debugging), so unfortunately suggestions that are logging specific can&#39;t be used.\r\n\r\n1) I&#39;m not sure if I&#39;m doing something wrong or if the debugging code can&#39;t be optimized out, even though the values are known at compile time. (the question is if this is even possible)\r\n\r\n2) What are the best practices for creating code that needs to be removed for a release build?\r\n\r\n3) If it&#39;s not possible to write such code, which version will have the least performance impact? Calling the method that has an if statement or using function pointers?","title":"Java best practices for writing code that needs to be removed for a release","body":"<p>In C++ if you want to create debugging utilities or other code that you don't want to make it to production, you can use the pre-processor, for example:</p>\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\n#define debug\n\nclass Logger{\n    public:\n     void log(const char* message){\n        #ifdef debug\n            cout &lt;&lt; message;\n        #endif\n    }\n};\n\nint main(){\n    Logger logger;\n    logger.log(&quot;Hello world&quot;);\n    return 1;\n}\n</code></pre>\n<p>will result in the following assembly code (generated via <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">https://godbolt.org/</a> <code>x86-64 clang 17.0.1</code>, <code>-O1</code>):</p>\n<pre><code>main:                                   # @main\n        push    rax\n        mov     rdi, qword ptr [rip + std::cout@GOTPCREL]\n        lea     rsi, [rip + .L.str]\n        mov     edx, 11\n        call    std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::__ostream_insert&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*, long)@PLT\n        mov     eax, 1\n        pop     rcx\n        ret\n.L.str:\n        .asciz  &quot;Hello world&quot;\n</code></pre>\n<p>removing the <code>#define</code> results in the following assembly code:</p>\n<pre><code>main:                                   # @main\n        mov     eax, 1\n        ret\n</code></pre>\n<p>As you can clearly see, the entire logger code has been removed during compilation. Since Java doesn't support things like <code>const</code> or pre-processor arguments (<code>#define</code>, <code>#if</code>, etc.), I wrote the following code:</p>\n<pre><code>public class Main {\n    public static class Logger {\n        private final boolean debug = false;\n\n        public void log(String msg) {\n            if (debug) {\n                System.out.println(msg);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        var logger = new Logger();\n        logger.log(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>This is also how I've usually seen logging implemented in other codebases, however running <code>javap -c</code> reveals that the code isn't optimized out, despite the <code>debug</code> being declared as final:</p>\n<pre><code>Compiled from &quot;main.java&quot;\n  public Main();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: new           #7                  // class Main$Logger\n       3: dup\n       4: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:()V\n       7: astore_1\n       8: aload_1\n       9: ldc           #10                 // String Hello world\n      11: invokevirtual #12                 // Method Main$Logger.log:(Ljava/lang/String;)V\n      14: return\n}\n</code></pre>\n<p>I know that java uses a Jit compiler but I couldn't get the output of the Jit compiler after following this tutorial: <a href=\"https://stackoverflow.com/questions/1503479/how-to-see-jit-compiled-code-in-jvm\">How to see JIT-compiled code in JVM?</a></p>\n<p>Another method I considered was something like function pointers in C++:</p>\n<pre><code>import java.util.function.Consumer;\n\npublic class Main {\n    public static class Logger {\n        public final Consumer&lt;Object&gt; log;\n\n        public Logger(boolean debug) {\n            log = debug? System.out::println : x -&gt; {};\n        }\n    }\n\n    public static void main(String[] args) {\n        var logger = new Logger(false);\n        logger.log.accept(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>but this results in the following bytecode:</p>\n<pre><code>public class Main {      \n  public Main();         \n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: new           #7                  // class Main$Logger\n       3: dup\n       4: iconst_0\n       5: invokespecial #9                  // Method Main$Logger.&quot;&lt;init&gt;&quot;:(Z)V\n       8: astore_1\n       9: aload_1\n      10: getfield      #12                 // Field Main$Logger.log:Ljava/util/function/Consumer;\n      13: ldc           #16                 // String Hello world\n      15: invokeinterface #18,  2           // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V\n      20: return\n}\n</code></pre>\n<p>(Note: if I create a wrapper method around the consumer that just calls <code>consumer.accept(msg)</code>, the bytecode is basically identical to the first case, I'm not sure why)</p>\n<p>Edit: I have used logging as an example, but I meant in more general terms (for example debugging), so unfortunately suggestions that are logging specific can't be used.</p>\n<ol>\n<li><p>I'm not sure if I'm doing something wrong or if the debugging code can't be optimized out, even though the values are known at compile time. (the question is if this is even possible)</p>\n</li>\n<li><p>What are the best practices for creating code that needs to be removed for a release build?</p>\n</li>\n<li><p>If it's not possible to write such code, which version will have the least performance impact? Calling the method that has an if statement or using function pointers?</p>\n</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1701235808,"post_id":77568640,"comment_id":136749154,"body_markdown":"[Related](https://stackoverflow.com/questions/55970149/how-does-the-reduce-method-work-in-java-8)","body":"<a href=\"https://stackoverflow.com/questions/55970149/how-does-the-reduce-method-work-in-java-8\">Related</a>"}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701235670,"creation_date":1701234409,"answer_id":77568706,"question_id":77568640,"body_markdown":"The below functional code:\r\n```java\r\nmyList.stream().reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), (a,b) -&gt; a * b);\r\n```\r\n\r\nis conceptually equivalent to:\r\n\r\n```java\r\ndouble sum = 1.0;\r\n    for (Double value: myList){\r\n        sum= sum * Math.sqrt(value);\r\n}\r\n```\r\n\r\nHere, \r\n\r\nThe `U identity` is basically the initial value.\r\n\r\n`BiFunction&lt;U,? super T,U&gt; accumulator` is a BiFunction for incorporating an additional element into a result.\r\n\r\n`BinaryOperator&lt;U&gt; combiner` for combining two values, which must be compatible with the accumulator function. The combiner function is used in parallel stream processing to combine the results of different substreams. \r\n\r\n\r\n---\r\n&lt;h2&gt;What is Combiner Function used for?&lt;/h2&gt;\r\n\r\n&gt; When a stream executes in parallel, the Java runtime splits the stream\r\n&gt; into multiple substreams. In such cases, we need to use a function to\r\n&gt; combine the results of the substreams into a single one. This is the\r\n&gt; role of the combiner.\r\n\r\n\r\n&lt;h2&gt;Why my Combiner Function Gets Ignored?&lt;/h2&gt;\r\n\r\nSince you are using **a sequential stream**, the combiner function is not actually used in this case.\r\n\r\n&lt;h2&gt;How can I Use Combiner Function Then?&lt;/h2&gt;\r\n\r\nIf you change the combiner function in action, you can change combiner function to something like `Double:Sum` and use `parallel` stream rather than sequential stream.\r\n\r\nExample:\r\n\r\n```java\r\nmyList.stream().parallel.reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), Double::sum );\r\n```","title":"Streams reduce question on partial results","body":"<p>The below functional code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myList.stream().reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), (a,b) -&gt; a * b);\n</code></pre>\n<p>is conceptually equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double sum = 1.0;\n    for (Double value: myList){\n        sum= sum * Math.sqrt(value);\n}\n</code></pre>\n<p>Here,</p>\n<p>The <code>U identity</code> is basically the initial value.</p>\n<p><code>BiFunction&lt;U,? super T,U&gt; accumulator</code> is a BiFunction for incorporating an additional element into a result.</p>\n<p><code>BinaryOperator&lt;U&gt; combiner</code> for combining two values, which must be compatible with the accumulator function. The combiner function is used in parallel stream processing to combine the results of different substreams.</p>\n<hr />\n<h2>What is Combiner Function used for?</h2>\n<blockquote>\n<p>When a stream executes in parallel, the Java runtime splits the stream\ninto multiple substreams. In such cases, we need to use a function to\ncombine the results of the substreams into a single one. This is the\nrole of the combiner.</p>\n</blockquote>\n<h2>Why my Combiner Function Gets Ignored?</h2>\n<p>Since you are using <strong>a sequential stream</strong>, the combiner function is not actually used in this case.</p>\n<h2>How can I Use Combiner Function Then?</h2>\n<p>If you change the combiner function in action, you can change combiner function to something like <code>Double:Sum</code> and use <code>parallel</code> stream rather than sequential stream.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myList.stream().parallel.reduce( 1.0, (a,b) -&gt; a * Math.sqrt(b), Double::sum );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701235768,"creation_date":1701235768,"answer_id":77568766,"question_id":77568640,"body_markdown":"Let&#39;s start at the top. According to [`java.util.stream.Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html), there are three overloads of `reduce` to consider.\r\n\r\n* `T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)`\r\n* `Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)`\r\n* `&lt;U&gt; U reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)`\r\n\r\n# Two-argument reduce\r\n\r\nThe first one is arguably the simplest, and it&#39;s the one that a functional programmer would be most familiar with. This function would be called `foldl` in Haskell, `reduce` in Python, `inject` in Ruby, etc.\r\n\r\nLet&#39;s assume that `myStream` contains the numbers `1, 2, 3, 4`. Then `myStream.reduce(e, (x, y) -&gt; x # y)` (where `#` is some arbitrary binary operation and `e` is our identity value) would perform\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nThat is, we start with the identity, and then we apply the binary operator to the accumulated value so far and the next element of the stream, for each element, until the stream is exhausted. This is a typical functional-programming fold/reduce operation.\r\n\r\n# One-argument reduce\r\n\r\nThe second form of `reduce` eschews the `identity` argument in favor of just bailing out and returning an `Optional&lt;T&gt;`. So if our stream consisted of the same `1, 2, 3, 4`, then `myStream.reduce((x, y) -&gt; x # y)` would give\r\n\r\n    Optional.of(((1 # 2) # 3) # 4)\r\n\r\nWe don&#39;t have an identity `0` in there. Instead, we got an `Optional` that contained a value. Empty streams would simply give `Optional.empty()`, rather than producing the `identity` as the two-argument form would.\r\n\r\n# Three-argument reduce\r\n\r\nEverything so far has been fairly typical functional programming fare. But here&#39;s where Java&#39;s implementation differs. Java&#39;s `reduce` is built with concurrency in mind, and the three-argument reduce is where this shows.\r\n\r\nAs a reminder, `myStream.reduce(e, (x, y) -&gt; x # y)` (where, again, `#` is some arbitrary binary operator), looks like\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nThen, in turn, `myStream.reduce(e, (x, y) -&gt; x # y, (x, y) -&gt; x $ y)` looks like\r\n\r\n    (((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\r\n\r\nThat looks... complicated, needless to say. The `reduce` function requires that, if `e` is our identity, then `$` satisfies\r\n\r\n    x $ (e # y) == x # y\r\n\r\nfor all `x` and `y` in our domain. That is, putting the `e` bit on the left of `$` doesn&#39;t actually do anything. If we follow this rule, then the above complicated expression is just the same as applying 2-argument `reduce`. So why would we ever do this? Well, Java is permitted to run the `$` bits in parallel. Back when we had\r\n\r\n    (((e # 1) # 2) # 3) # 4\r\n\r\nAll of the `#` operations depended on the results of the previous `#` operations. There was no room for parallelism.\r\n\r\n    (((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\r\n\r\nHere, on the other hand, each of the `#` operations is independent and doesn&#39;t depend on *any* of the other calls. So we could parallelize all of the `#` calls and then combine the results with the combiner `$` in one thread. If `#` is expensive but `$` is cheap, this is a huge gain.\r\n\r\nAnd in your example, `#` is a multiplication-and-square-root, which is probably more expensive than `$`, which is just a multiplication. So if we can come up with a `$` for our `#` which satisfies\r\n\r\n    x $ (e # y) == x # y\r\n\r\nthen we get parallelism gains. That is, this form of `reduce` is just forcing us to split our reduction calculation out into two parts: the &quot;expensive&quot; parallelizable bit and the actual combining bit which might be cheaper.\r\n\r\nNow, all of that being said, the documentation has this to say.\r\n\r\n&gt; Many reductions using this form can be represented more simply by an explicit combination of map and reduce operations. The accumulator function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.\r\n\r\nAnd this is true. In your case, using three-argument reduce is just goofy, because what we&#39;re really doing is mapping and then reducing. So your example should really be written as\r\n\r\n    myList.stream().map((a) -&gt; Math.sqrt(a)).reduce(1, (a, b) -&gt; a * b)\r\n\r\nThis is what we&#39;re actually trying to say: square-root each value and *then* multiply them. Streams are lazy, so doing this in two steps doesn&#39;t create an intermediate list. It just remembers what needs to be done and then does it when forced by the reduction.\r\n\r\nSo three-argument reduce is for cases where we really can exploit known information about the partial results. Maybe our reduction operation is short-circuiting, and if the left-hand side has a certain value then we don&#39;t even need to *do* the mapping operation. Maybe there&#39;s a caching argument, and knowing previous results allows us to save some processing time in the future. Maybe there&#39;s some clever mathematical reduction not listed here.\r\n\r\nFusing the map and reduce operations like this is, at best, very situational. So generally you should prefer to use `map` followed by an associative `reduce` whenever you can.","title":"Streams reduce question on partial results","body":"<p>Let's start at the top. According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>java.util.stream.Stream</code></a>, there are three overloads of <code>reduce</code> to consider.</p>\n<ul>\n<li><code>T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)</code></li>\n<li><code>Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)</code></li>\n<li><code>&lt;U&gt; U reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code></li>\n</ul>\n<h1>Two-argument reduce</h1>\n<p>The first one is arguably the simplest, and it's the one that a functional programmer would be most familiar with. This function would be called <code>foldl</code> in Haskell, <code>reduce</code> in Python, <code>inject</code> in Ruby, etc.</p>\n<p>Let's assume that <code>myStream</code> contains the numbers <code>1, 2, 3, 4</code>. Then <code>myStream.reduce(e, (x, y) -&gt; x # y)</code> (where <code>#</code> is some arbitrary binary operation and <code>e</code> is our identity value) would perform</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>That is, we start with the identity, and then we apply the binary operator to the accumulated value so far and the next element of the stream, for each element, until the stream is exhausted. This is a typical functional-programming fold/reduce operation.</p>\n<h1>One-argument reduce</h1>\n<p>The second form of <code>reduce</code> eschews the <code>identity</code> argument in favor of just bailing out and returning an <code>Optional&lt;T&gt;</code>. So if our stream consisted of the same <code>1, 2, 3, 4</code>, then <code>myStream.reduce((x, y) -&gt; x # y)</code> would give</p>\n<pre><code>Optional.of(((1 # 2) # 3) # 4)\n</code></pre>\n<p>We don't have an identity <code>0</code> in there. Instead, we got an <code>Optional</code> that contained a value. Empty streams would simply give <code>Optional.empty()</code>, rather than producing the <code>identity</code> as the two-argument form would.</p>\n<h1>Three-argument reduce</h1>\n<p>Everything so far has been fairly typical functional programming fare. But here's where Java's implementation differs. Java's <code>reduce</code> is built with concurrency in mind, and the three-argument reduce is where this shows.</p>\n<p>As a reminder, <code>myStream.reduce(e, (x, y) -&gt; x # y)</code> (where, again, <code>#</code> is some arbitrary binary operator), looks like</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>Then, in turn, <code>myStream.reduce(e, (x, y) -&gt; x # y, (x, y) -&gt; x $ y)</code> looks like</p>\n<pre><code>(((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\n</code></pre>\n<p>That looks... complicated, needless to say. The <code>reduce</code> function requires that, if <code>e</code> is our identity, then <code>$</code> satisfies</p>\n<pre><code>x $ (e # y) == x # y\n</code></pre>\n<p>for all <code>x</code> and <code>y</code> in our domain. That is, putting the <code>e</code> bit on the left of <code>$</code> doesn't actually do anything. If we follow this rule, then the above complicated expression is just the same as applying 2-argument <code>reduce</code>. So why would we ever do this? Well, Java is permitted to run the <code>$</code> bits in parallel. Back when we had</p>\n<pre><code>(((e # 1) # 2) # 3) # 4\n</code></pre>\n<p>All of the <code>#</code> operations depended on the results of the previous <code>#</code> operations. There was no room for parallelism.</p>\n<pre><code>(((e $ (e # 1)) $ (e # 2)) $ (e # 3)) $ (e # 4)\n</code></pre>\n<p>Here, on the other hand, each of the <code>#</code> operations is independent and doesn't depend on <em>any</em> of the other calls. So we could parallelize all of the <code>#</code> calls and then combine the results with the combiner <code>$</code> in one thread. If <code>#</code> is expensive but <code>$</code> is cheap, this is a huge gain.</p>\n<p>And in your example, <code>#</code> is a multiplication-and-square-root, which is probably more expensive than <code>$</code>, which is just a multiplication. So if we can come up with a <code>$</code> for our <code>#</code> which satisfies</p>\n<pre><code>x $ (e # y) == x # y\n</code></pre>\n<p>then we get parallelism gains. That is, this form of <code>reduce</code> is just forcing us to split our reduction calculation out into two parts: the &quot;expensive&quot; parallelizable bit and the actual combining bit which might be cheaper.</p>\n<p>Now, all of that being said, the documentation has this to say.</p>\n<blockquote>\n<p>Many reductions using this form can be represented more simply by an explicit combination of map and reduce operations. The accumulator function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.</p>\n</blockquote>\n<p>And this is true. In your case, using three-argument reduce is just goofy, because what we're really doing is mapping and then reducing. So your example should really be written as</p>\n<pre><code>myList.stream().map((a) -&gt; Math.sqrt(a)).reduce(1, (a, b) -&gt; a * b)\n</code></pre>\n<p>This is what we're actually trying to say: square-root each value and <em>then</em> multiply them. Streams are lazy, so doing this in two steps doesn't create an intermediate list. It just remembers what needs to be done and then does it when forced by the reduction.</p>\n<p>So three-argument reduce is for cases where we really can exploit known information about the partial results. Maybe our reduction operation is short-circuiting, and if the left-hand side has a certain value then we don't even need to <em>do</em> the mapping operation. Maybe there's a caching argument, and knowing previous results allows us to save some processing time in the future. Maybe there's some clever mathematical reduction not listed here.</p>\n<p>Fusing the map and reduce operations like this is, at best, very situational. So generally you should prefer to use <code>map</code> followed by an associative <code>reduce</code> whenever you can.</p>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77568766,"answer_count":2,"score":1,"last_activity_date":1701268754,"creation_date":1701233289,"question_id":77568640,"body_markdown":"I understand function (b) below, however am having confusion with (a).  Can anyone explain what the accumulator or second argument to `reduce` or accumulator is doing vs the combiner parameter?\r\n\r\na:\r\n\r\n       reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\r\n\r\n    double productOfSqrRoots = myList.stream().reduce(\r\n        1.0,\r\n        (a,b) -&gt; a * Math.sqrt(b),\r\n        (a,b) -&gt; a * b\r\n        );\r\n\r\nb:\r\n\r\n    double productOfSqrRoots = myList.stream().reduce(\r\n        (a,b) -&gt; a * b);","title":"Streams reduce question on partial results","body":"<p>I understand function (b) below, however am having confusion with (a).  Can anyone explain what the accumulator or second argument to <code>reduce</code> or accumulator is doing vs the combiner parameter?</p>\n<p>a:</p>\n<pre><code>   reduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\n\ndouble productOfSqrRoots = myList.stream().reduce(\n    1.0,\n    (a,b) -&gt; a * Math.sqrt(b),\n    (a,b) -&gt; a * b\n    );\n</code></pre>\n<p>b:</p>\n<pre><code>double productOfSqrRoots = myList.stream().reduce(\n    (a,b) -&gt; a * b);\n</code></pre>\n"},{"tags":["java","boolean","boolean-expression"],"comments":[{"owner":{"account_id":29937151,"reputation":1,"user_id":22942604,"display_name":"theking41"},"score":0,"creation_date":1701234774,"post_id":77568500,"comment_id":136749078,"body_markdown":"Thank you for reaching out! I am working in Java. I apologize, I can see how that is important. I am supposed to write a program that says if someone is sitting in a chair or not using the functions that I listed above. I have some basic knowledge of Boolean expressions but I am not that familiar with them. I guess my question would be, how do I use the sitDown() and standUp() functions to have the boolean expression return true or false? I apologize if this is unclear, I am trying my best.","body":"Thank you for reaching out! I am working in Java. I apologize, I can see how that is important. I am supposed to write a program that says if someone is sitting in a chair or not using the functions that I listed above. I have some basic knowledge of Boolean expressions but I am not that familiar with them. I guess my question would be, how do I use the sitDown() and standUp() functions to have the boolean expression return true or false? I apologize if this is unclear, I am trying my best."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1701271142,"post_id":77568500,"comment_id":136755398,"body_markdown":"Include your implementation of Chair in the question.  It sounds like you should have a boolean property to indicate whether someone is seated in the chair.  The various method would interact with that property.","body":"Include your implementation of Chair in the question.  It sounds like you should have a boolean property to indicate whether someone is seated in the chair.  The various method would interact with that property."}],"owner":{"account_id":29937151,"reputation":1,"user_id":22942604,"display_name":"theking41"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701517944,"answer_count":0,"score":-1,"last_activity_date":1701268689,"creation_date":1701230222,"question_id":77568500,"body_markdown":"For a test review, I am asked to write some code that determines if someone is sitting or standing using a boolean expression. The following is what I&#39;m supposed to do:\r\n\r\n&gt; * `isSitting()` will return true if someone is sitting on the chair, if no one is sitting on the chair then it will return false.\r\n&gt;\r\n&gt; * If `sitDown()` is called on a chair object then someone is sitting in the chair.\r\n&gt;\r\n&gt; * If `standUp()` is called on a chair object then no one is sitting in the chair.\r\n\r\nI created an interface, `Seat`, with the functions:\r\n\r\n```\r\nvoid sitDown();\r\nvoid getUp();\r\nboolean isSitting();\r\n```\r\n\r\nI implemented this interface on another class, `Chair`.\r\n\r\nI have some basic knowledge of boolean expressions but I am not that familiar with them. How do I use the `sitDown()` and `standUp()` functions to have the boolean expression return true or false? I feel that this question is simple but I am stuck on where to begin.","title":"Sitting or standing using a boolean expression","body":"<p>For a test review, I am asked to write some code that determines if someone is sitting or standing using a boolean expression. The following is what I'm supposed to do:</p>\n<blockquote>\n<ul>\n<li><p><code>isSitting()</code> will return true if someone is sitting on the chair, if no one is sitting on the chair then it will return false.</p>\n</li>\n<li><p>If <code>sitDown()</code> is called on a chair object then someone is sitting in the chair.</p>\n</li>\n<li><p>If <code>standUp()</code> is called on a chair object then no one is sitting in the chair.</p>\n</li>\n</ul>\n</blockquote>\n<p>I created an interface, <code>Seat</code>, with the functions:</p>\n<pre><code>void sitDown();\nvoid getUp();\nboolean isSitting();\n</code></pre>\n<p>I implemented this interface on another class, <code>Chair</code>.</p>\n<p>I have some basic knowledge of boolean expressions but I am not that familiar with them. How do I use the <code>sitDown()</code> and <code>standUp()</code> functions to have the boolean expression return true or false? I feel that this question is simple but I am stuck on where to begin.</p>\n"},{"tags":["java","unit-testing","junit","mockito","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701268352,"creation_date":1701268352,"answer_id":77572069,"question_id":77570477,"body_markdown":"The `spy` call doesn&#39;t change the `Scanner` object, it creates a wrapper. That wrapper exists only in your test. You need to replace the `Scanner` in class `Inputter` instead. It&#39;s easiest to do that in `@BeforeEach`, so you can restore it in `@AfterEach`.\r\n\r\n```java\r\nprivate Scanner originalScanner;\r\nprivate Scanner mockScanner;\r\n\r\n@BeforeEach\r\nvoid mockScanner() {\r\n    originalScanner = Inputter.scanner;\r\n    mockScanner = spy(originalScanner);\r\n    Inputter.scanner = mockScanner;\r\n}\r\n\r\n@AfterEach\r\nvoid resetScanner() {\r\n    Input.scanner = originalScanner;\r\n}\r\n\r\n@Test\r\nvoid registerAccountTest() {\r\n   ...\r\n    System.setIn(inputStream);\r\n\r\n    System.out.println(&quot;Before when statement&quot;);\r\n    when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\r\n    System.out.println(&quot;After when statement&quot;);\r\n    ...\r\n}\r\n```\r\n\r\n---\r\n\r\nAs an alternative you can use [JUnit Pioneer][1]. It allows you to easily replace the results of `System.in` without any manual setup. It also allows you to read what&#39;s been written to `System.out` and `System.err`.\r\n\r\n\r\n  [1]: https://junit-pioneer.org/docs/standard-input-output/","title":"Problems when using Mockito and JUnit for testing in Java Project","body":"<p>The <code>spy</code> call doesn't change the <code>Scanner</code> object, it creates a wrapper. That wrapper exists only in your test. You need to replace the <code>Scanner</code> in class <code>Inputter</code> instead. It's easiest to do that in <code>@BeforeEach</code>, so you can restore it in <code>@AfterEach</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Scanner originalScanner;\nprivate Scanner mockScanner;\n\n@BeforeEach\nvoid mockScanner() {\n    originalScanner = Inputter.scanner;\n    mockScanner = spy(originalScanner);\n    Inputter.scanner = mockScanner;\n}\n\n@AfterEach\nvoid resetScanner() {\n    Input.scanner = originalScanner;\n}\n\n@Test\nvoid registerAccountTest() {\n   ...\n    System.setIn(inputStream);\n\n    System.out.println(&quot;Before when statement&quot;);\n    when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\n    System.out.println(&quot;After when statement&quot;);\n    ...\n}\n</code></pre>\n<hr />\n<p>As an alternative you can use <a href=\"https://junit-pioneer.org/docs/standard-input-output/\" rel=\"nofollow noreferrer\">JUnit Pioneer</a>. It allows you to easily replace the results of <code>System.in</code> without any manual setup. It also allows you to read what's been written to <code>System.out</code> and <code>System.err</code>.</p>\n"}],"owner":{"account_id":26038302,"reputation":35,"user_id":19743481,"display_name":"twentyfourk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701268352,"creation_date":1701254906,"question_id":77570477,"body_markdown":"I have some problems when testing with mockito and JUnit, I want to test a method that take data from user input. When I use `String id = &quot;E833462&quot;`, the test function work correctly, but when I replace it with my generate function, the registerAccountTest() will be blocked at line `when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);` And I don&#39;t know why. Although both ways are a String with an ID. I tested my generate function, and it still can create a random unique ID. Can someone help me to solve this? Thank you for reading my problem and trying to figure it out to help me.\r\n\r\nHere is my test method\r\n```\r\n@Test\r\n    void registerAccountTest() {\r\n        Employee em = employees.searchById(&quot;E160052&quot;);\r\n\r\n//        String id = &quot;E833462&quot;;\r\n        String id = Inputter.generateUniqueId(&quot;E&quot;, 6, employees);\r\n        String name = &quot;Test&quot;;\r\n        String role = &quot;MA&quot;;\r\n        String sex = &quot;Male&quot;;\r\n        String bd = &quot;08/03/2000&quot;;\r\n        String password = &quot;123456&quot;;\r\n\r\n        String combinedUserInput =\r\n                id + System.lineSeparator() + name + System.lineSeparator() + role + System.lineSeparator() + sex + System.lineSeparator() + bd + System.lineSeparator() + password;\r\n        System.out.println(combinedUserInput);\r\n        InputStream inputStream = new ByteArrayInputStream(combinedUserInput.getBytes());\r\n        System.setIn(inputStream);\r\n\r\n        Scanner mockScanner = spy(Inputter.scanner);\r\n        System.out.println(&quot;Before when statement&quot;);\r\n        when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\r\n        System.out.println(&quot;After when statement&quot;);\r\n\r\n        Executor.registerAccount(employees, em);\r\n\r\n        Employee emTest = employees.searchById(id);\r\n        assertNotEquals(null, emTest);\r\n        assertEquals(name, emTest.getName());\r\n        assertEquals(bd, emTest.getBirthdate().format(Inputter.formatterHalf));\r\n        assertEquals(role, emTest.getRole());\r\n        assertEquals(sex, emTest.getSex());\r\n\r\n        employees.deleteOne(emTest);\r\n    }\r\n```\r\nHere is my generate Id function in Inputter class\r\n```\r\npublic class Inputter {\r\n    public static Scanner scanner = new Scanner(System.in);\r\n    public static String generateUniqueId(String prefix, int len, ObjectList ol) {\r\n        String id;\r\n\r\n        do {\r\n            int num = (int) random.nextDouble(Math.pow(10, len));\r\n            id = prefix + String.format(&quot;%03d&quot;, num);\r\n        } while (!Objects.isNull(ol.searchById(id)));\r\n\r\n        return id.trim();\r\n    }\r\n}\r\n```","title":"Problems when using Mockito and JUnit for testing in Java Project","body":"<p>I have some problems when testing with mockito and JUnit, I want to test a method that take data from user input. When I use <code>String id = &quot;E833462&quot;</code>, the test function work correctly, but when I replace it with my generate function, the registerAccountTest() will be blocked at line <code>when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);</code> And I don't know why. Although both ways are a String with an ID. I tested my generate function, and it still can create a random unique ID. Can someone help me to solve this? Thank you for reading my problem and trying to figure it out to help me.</p>\n<p>Here is my test method</p>\n<pre><code>@Test\n    void registerAccountTest() {\n        Employee em = employees.searchById(&quot;E160052&quot;);\n\n//        String id = &quot;E833462&quot;;\n        String id = Inputter.generateUniqueId(&quot;E&quot;, 6, employees);\n        String name = &quot;Test&quot;;\n        String role = &quot;MA&quot;;\n        String sex = &quot;Male&quot;;\n        String bd = &quot;08/03/2000&quot;;\n        String password = &quot;123456&quot;;\n\n        String combinedUserInput =\n                id + System.lineSeparator() + name + System.lineSeparator() + role + System.lineSeparator() + sex + System.lineSeparator() + bd + System.lineSeparator() + password;\n        System.out.println(combinedUserInput);\n        InputStream inputStream = new ByteArrayInputStream(combinedUserInput.getBytes());\n        System.setIn(inputStream);\n\n        Scanner mockScanner = spy(Inputter.scanner);\n        System.out.println(&quot;Before when statement&quot;);\n        when(mockScanner.nextLine()).thenReturn(id, name, bd, role, sex, password);\n        System.out.println(&quot;After when statement&quot;);\n\n        Executor.registerAccount(employees, em);\n\n        Employee emTest = employees.searchById(id);\n        assertNotEquals(null, emTest);\n        assertEquals(name, emTest.getName());\n        assertEquals(bd, emTest.getBirthdate().format(Inputter.formatterHalf));\n        assertEquals(role, emTest.getRole());\n        assertEquals(sex, emTest.getSex());\n\n        employees.deleteOne(emTest);\n    }\n</code></pre>\n<p>Here is my generate Id function in Inputter class</p>\n<pre><code>public class Inputter {\n    public static Scanner scanner = new Scanner(System.in);\n    public static String generateUniqueId(String prefix, int len, ObjectList ol) {\n        String id;\n\n        do {\n            int num = (int) random.nextDouble(Math.pow(10, len));\n            id = prefix + String.format(&quot;%03d&quot;, num);\n        } while (!Objects.isNull(ol.searchById(id)));\n\n        return id.trim();\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","http","jax-rs","http-patch"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1701268178,"creation_date":1557285098,"answer_id":56032996,"question_id":56030328,"body_markdown":"From the perspective of REST, the important thing to keep in mind is the uniform interface -- you have some resource with an `application/json` representation.  I can `GET` your representation, and make local edits to it using whatever my favorite tool might be.  \r\n\r\nIf I then want to propose that the resource should be changed to match my representation, we choose the appropriate method from the HTTP protocol.  In other words, the methods in HTTP are all part of the &quot;transport this document over a network&quot; domain.  (Ref: [Jim Webber, 2011][1]).\r\n\r\nSo realistically, supporting &quot;all of them&quot; is the way to ensure the widest number of generic clients can be used to interact with your resources.\r\n\r\n    PUT /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json\r\n\r\nPerfectly reasonable starting point; it has a couple of advantages - the semantics are [idempotent][2], so clients know that a lost request can be repeated, and HTTP [PUT][3] includes semantics for important use cases like &quot;we accepted your representation as is&quot; that allow you to reduce network pressure.\r\n\r\nPUT may be an unfortunate choice when the representation is much larger than the changes.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: ????\r\n\r\nThis is a perfectly reasonable way to deal with small changes to large representations.  You give up some of the advantages of PUT - lost messages are now more complicated to deal with.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json\r\n\r\nNot at any odds.  `application/json` is not a [patch document][4] format -- you have no way of knowing what changes are being described by such a representation without some sort of out-of-band agreement.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/vnd.example.patch+json\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/prs.example.patch+json\r\n\r\nThis is the &quot;REST&quot; way to do the previous bit; you define a custom media type, and document the semantics, and then any client that implements your media type can use it.  The [vendor tree][5] and [vanity tree][6] are available.  The `+json` bit is the [structured syntax name suffix][7], which offers a structure hint for consumers that don&#39;t recognize the base subtype.\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/json-patch+json\r\n\r\n    PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\r\n    Content-Type: application/merge-patch+json\r\n\r\nAlso excellent choices, because these two types have been standardized in [RFC 6902][8] and [RFC 7936][9]; you have a much better chance that a client will already know these types.\r\n\r\nA client that knows about HTTP [PATCH][10] will presumably also know how to use the OPTIONS method to discover what methods and [patch document formats][11] the server is prepared to handle.\r\n\r\n    OPTIONS /31E772D3-0157-4B52-8243-75EEAB946E65\r\n\r\n    HTTP/1.1 204 No Content\r\n    Allow: OPTIONS, GET, HEAD, PUT, PATCH\r\n    Accept-Patch: application/prs.example.patch+json, application/json-patch+json, application/merge-patch+json\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m8s\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7231#section-4.2.2\r\n  [3]: https://www.rfc-editor.org/rfc/rfc7231#section-4.3.4\r\n  [4]: https://www.rfc-editor.org/rfc/rfc5789#section-2\r\n  [5]: https://www.rfc-editor.org/rfc/rfc6838#section-3.2\r\n  [6]: https://www.rfc-editor.org/rfc/rfc6838#section-3.3\r\n  [7]: https://www.rfc-editor.org/rfc/rfc6838#section-4.2.8\r\n  [8]: https://www.rfc-editor.org/rfc/rfc6902\r\n  [9]: https://www.rfc-editor.org/rfc/rfc7386\r\n  [10]: https://www.rfc-editor.org/rfc/rfc5789\r\n  [11]: https://www.rfc-editor.org/rfc/rfc5789#section-3.7","title":"Patch vs merge-patch which is appropriate?","body":"<p>From the perspective of REST, the important thing to keep in mind is the uniform interface -- you have some resource with an <code>application/json</code> representation.  I can <code>GET</code> your representation, and make local edits to it using whatever my favorite tool might be.</p>\n<p>If I then want to propose that the resource should be changed to match my representation, we choose the appropriate method from the HTTP protocol.  In other words, the methods in HTTP are all part of the &quot;transport this document over a network&quot; domain.  (Ref: <a href=\"https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m8s\" rel=\"nofollow noreferrer\">Jim Webber, 2011</a>).</p>\n<p>So realistically, supporting &quot;all of them&quot; is the way to ensure the widest number of generic clients can be used to interact with your resources.</p>\n<pre><code>PUT /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json\n</code></pre>\n<p>Perfectly reasonable starting point; it has a couple of advantages - the semantics are <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.2.2\" rel=\"nofollow noreferrer\">idempotent</a>, so clients know that a lost request can be repeated, and HTTP <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.3.4\" rel=\"nofollow noreferrer\">PUT</a> includes semantics for important use cases like &quot;we accepted your representation as is&quot; that allow you to reduce network pressure.</p>\n<p>PUT may be an unfortunate choice when the representation is much larger than the changes.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: ????\n</code></pre>\n<p>This is a perfectly reasonable way to deal with small changes to large representations.  You give up some of the advantages of PUT - lost messages are now more complicated to deal with.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json\n</code></pre>\n<p>Not at any odds.  <code>application/json</code> is not a <a href=\"https://www.rfc-editor.org/rfc/rfc5789#section-2\" rel=\"nofollow noreferrer\">patch document</a> format -- you have no way of knowing what changes are being described by such a representation without some sort of out-of-band agreement.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/vnd.example.patch+json\n\nPATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/prs.example.patch+json\n</code></pre>\n<p>This is the &quot;REST&quot; way to do the previous bit; you define a custom media type, and document the semantics, and then any client that implements your media type can use it.  The <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-3.2\" rel=\"nofollow noreferrer\">vendor tree</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-3.3\" rel=\"nofollow noreferrer\">vanity tree</a> are available.  The <code>+json</code> bit is the <a href=\"https://www.rfc-editor.org/rfc/rfc6838#section-4.2.8\" rel=\"nofollow noreferrer\">structured syntax name suffix</a>, which offers a structure hint for consumers that don't recognize the base subtype.</p>\n<pre><code>PATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/json-patch+json\n\nPATCH /31E772D3-0157-4B52-8243-75EEAB946E65\nContent-Type: application/merge-patch+json\n</code></pre>\n<p>Also excellent choices, because these two types have been standardized in <a href=\"https://www.rfc-editor.org/rfc/rfc6902\" rel=\"nofollow noreferrer\">RFC 6902</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc7386\" rel=\"nofollow noreferrer\">RFC 7936</a>; you have a much better chance that a client will already know these types.</p>\n<p>A client that knows about HTTP <a href=\"https://www.rfc-editor.org/rfc/rfc5789\" rel=\"nofollow noreferrer\">PATCH</a> will presumably also know how to use the OPTIONS method to discover what methods and <a href=\"https://www.rfc-editor.org/rfc/rfc5789#section-3.7\" rel=\"nofollow noreferrer\">patch document formats</a> the server is prepared to handle.</p>\n<pre><code>OPTIONS /31E772D3-0157-4B52-8243-75EEAB946E65\n\nHTTP/1.1 204 No Content\nAllow: OPTIONS, GET, HEAD, PUT, PATCH\nAccept-Patch: application/prs.example.patch+json, application/json-patch+json, application/merge-patch+json\n</code></pre>\n"}],"owner":{"account_id":447109,"reputation":2439,"user_id":840546,"accept_rate":66,"display_name":"Dexters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14313,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":56032996,"answer_count":1,"score":7,"last_activity_date":1701268178,"creation_date":1557262342,"question_id":56030328,"body_markdown":"trying to see which models are best suited for `api` (low updates, but object structure could change often, high read application)\r\n\r\n   I have a resource like this\r\n\r\n 1. **Epic** (id, name, description, start date, close date, status,\r\n    **stories**)\r\n 2. **Story** (id, name, description, start date, close date, status, **tasks**)\r\n 3. **Task** (id, name, description, start date, resolution date,\r\n    resolution)\r\n\r\n\r\nIf I need to support just update of these , \r\n\r\n 1. update **Epic** name or description or dates or status\r\n 1. update **Story** name or description or dates or status\r\n 1. update **Task** name or description or dates or status\r\n\r\nwhich makes sense?\r\n\r\n**`PATCH` with `application/merge-patch+json` `RFC 7396`**\r\n\r\nthe resource should match target object structure\r\n\r\n1. epics/{id}  \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n**`PATCH` with `application/json`** - **I am inclined to choose this** as there is no need so strictly enforce `RFC 7396` and flexibility to update the rules of updates.\r\n\r\nyour custom rules to update (but technically - I could just send the resource attributes that needs updates similar to `application/merge-patch+json`)\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n\r\n**`PUT` with `application/json`**\r\n\r\nthe resource should match all fields and create new object and replace (or cheat and just update only like in patch)\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on\r\n\r\n**`PUT` with `application/json`**\r\n\r\nor cheat and just update only like in patch but use put\r\n\r\n1. epics/{id} \r\n2. epics/{id1}/stories/{id2} .. and so on","title":"Patch vs merge-patch which is appropriate?","body":"<p>trying to see which models are best suited for <code>api</code> (low updates, but object structure could change often, high read application)</p>\n\n<p>I have a resource like this</p>\n\n<ol>\n<li><strong>Epic</strong> (id, name, description, start date, close date, status,\n<strong>stories</strong>)</li>\n<li><strong>Story</strong> (id, name, description, start date, close date, status, <strong>tasks</strong>)</li>\n<li><strong>Task</strong> (id, name, description, start date, resolution date,\nresolution)</li>\n</ol>\n\n<p>If I need to support just update of these , </p>\n\n<ol>\n<li>update <strong>Epic</strong> name or description or dates or status</li>\n<li>update <strong>Story</strong> name or description or dates or status</li>\n<li>update <strong>Task</strong> name or description or dates or status</li>\n</ol>\n\n<p>which makes sense?</p>\n\n<p><strong><code>PATCH</code> with <code>application/merge-patch+json</code> <code>RFC 7396</code></strong></p>\n\n<p>the resource should match target object structure</p>\n\n<ol>\n<li>epics/{id}  </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PATCH</code> with <code>application/json</code></strong> - <strong>I am inclined to choose this</strong> as there is no need so strictly enforce <code>RFC 7396</code> and flexibility to update the rules of updates.</p>\n\n<p>your custom rules to update (but technically - I could just send the resource attributes that needs updates similar to <code>application/merge-patch+json</code>)</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PUT</code> with <code>application/json</code></strong></p>\n\n<p>the resource should match all fields and create new object and replace (or cheat and just update only like in patch)</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n\n<p><strong><code>PUT</code> with <code>application/json</code></strong></p>\n\n<p>or cheat and just update only like in patch but use put</p>\n\n<ol>\n<li>epics/{id} </li>\n<li>epics/{id1}/stories/{id2} .. and so on</li>\n</ol>\n"},{"tags":["java",".net","jvm","handle"],"owner":{"account_id":30019862,"reputation":1,"user_id":23005471,"display_name":"DebrumJab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701267896,"creation_date":1701245717,"question_id":77569489,"body_markdown":"I&#39;m trying to control a calculator interface which based on Java Oracle. My problem is the memory leakage. \r\n\r\nLet me explain what is happening. With 2 class,`JabApi` and `JabHelpers`, I&#39;m making an object of `AccessibleTreeItem` class which is located in JabHelpers. \r\n\r\nThen doing some operations such as click to a button on the calculator in a for loop. After that, I&#39;m trying to release memory using `MyDispose() ` method that use the `releaseJavaObject()` method is located in JabHelpers but I could not observe a decrement in memory.\r\n\r\nI am not sure the `releaseJavaObject()` is working fine because after the javaTree.`MyDispose()` method, when try to click another button (button3) but it does not any changes on the calculator. \r\n\r\nWhat is my main problem in the JabApi and JabHelpers class? I don&#39;t know may be problem is related with the `releaseJavaObject()` importing parameters? Could it be? May be it is related with the `GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)` method is located in JapHelper, I have no idea. \r\n\r\nPlease, support me. Thank you!\r\n\r\nMain code below:\r\n```\r\nnamespace JabApiCsharpSample\r\n{\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            //JabApi.Windows_run();\r\n            JabHelpers.Init();\r\n            int vmID = 0;\r\n            IntPtr hwnd = (IntPtr)3346002;//that is the handleWindow number given by Windows\r\n            JabHelpers.AccessibleTreeItem javaTree = null;\r\n            JabHelpers.AccessibleTreeItem button1 = null;\r\n            JabHelpers.AccessibleTreeItem button2 = null;\r\n            JabHelpers.AccessibleTreeItem button = null;\r\n            JabHelpers.AccessibleTreeItem button3 = null;\r\n\r\n         \r\n            //javaTree = JabHelpers.GetComponentTreeByTitle(&quot;ELİNT&quot;, out vmID);\r\n\r\n\r\n\r\n            int index = 50;\r\n\r\n            javaTree = JabHelpers.GetComponentTree(hwnd, out vmID);\r\n\r\n            button1 = javaTree.children[0].children[1];\r\n            button2 = button1.children[1].children[2];\r\n            button = button2.children[1].children[3];\r\n            button3 = button2.children[1].children[4];\r\n\r\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\r\n            for (int i = 0; i &lt; index; i++)\r\n            {              \r\n\r\n                JabHelpers.DoAccessibleActions(vmID, button.acPtr, &quot;click&quot;);\r\n                            }\r\n\r\n            javaTree.MyDispose(javaTree, vmID);\r\n            \r\n         \r\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\r\n         \r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is a part of JabHelper class:\r\n\r\n\r\n```\r\npublic static AccessibleTreeItem GetComponentTreeByTitle(String title, out Int32 vmID)\r\n        {\r\n            IntPtr hwnd = FindWindowByCaption(IntPtr.Zero, title);\r\n            return GetComponentTree(hwnd, out vmID);\r\n        }\r\n\r\n        public static AccessibleTreeItem GetComponentTree(IntPtr hWnd, out Int32 vmID)\r\n        {\r\n            screenContents.Clear();\r\n            screenContentsString = string.Empty;\r\n\r\n            AccessibleTreeItem accessibleTreeItem = new AccessibleTreeItem();\r\n            vmID = 0;\r\n            if (JabApi.isJavaWindow(hWnd) == 1)\r\n            {\r\n                unsafe\r\n                {\r\n                    IntPtr acPtr;\r\n\r\n                    if (JabApi.getAccessibleContextFromHWND(hWnd, out vmID, out acPtr))\r\n                    {\r\n\r\n                        AccessibleContextInfo ac = new AccessibleContextInfo();\r\n                        accessibleTreeItem = GetAccessibleContextInfo(vmID, acPtr, out ac, null, 0, string.Empty); // RECURSION SEED\r\n\r\n                        return accessibleTreeItem;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n private static AccessibleTreeItem GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)\r\n        {\r\n            unsafe\r\n            {\r\n                // Allocate global memory space for the size of AccessibleContextInfo and store the address in acPtr\r\n                IntPtr acPtr = Marshal.AllocHGlobal(Marshal.SizeOf(new AccessibleContextInfo()));\r\n                try\r\n                {\r\n\r\n                    Marshal.StructureToPtr(new AccessibleContextInfo(), acPtr, true);\r\n                    if (JabApi.getAccessibleContextInfo(vmID, currentPtr, acPtr))\r\n                    {\r\n                        currentContext = (AccessibleContextInfo)Marshal.PtrToStructure(acPtr, typeof(AccessibleContextInfo));\r\n                        if (!ReferenceEquals(currentContext, null))\r\n                        {\r\n                            AccessibleTreeItem newItem = BuildAccessibleTree(currentPtr, currentContext, parentItem);\r\n\r\n                            if (!ReferenceEquals(newItem, null))\r\n                            {\r\n                                //Checks to see if current object has any text items.\r\n                                if (currentContext.accessibleText == true)\r\n                                {\r\n                                    AccessibleTextItemsInfo textItem;\r\n                                    //Gets text items.\r\n                                    textItem = GetAccessibleTextInfo(vmID, currentPtr);\r\n                                    newItem.textValue = textItem.sentence;\r\n\r\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name + &quot; = \\&quot;&quot; + textItem.sentence + &quot;\\&quot;&quot;;\r\n                                    screenContentsString += treeInfo + Environment.NewLine;\r\n                                    Debug.Print(treeInfo);\r\n                                }\r\n                                else\r\n                                {\r\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name;\r\n                                    screenContentsString += treeInfo + Environment.NewLine;\r\n                                    Debug.Print(treeInfo);\r\n                                }\r\n\r\n\r\n                                //Start collecting children\r\n                                int nextLevel = level + 1;\r\n                                for (int i = 0; i &lt; currentContext.childrenCount; i++)\r\n                                {\r\n                                    string lineageInfo = Repeat(&quot;\\t&quot;, level) + level.ToString() + &quot; Child &quot; + i.ToString() + &quot; Lineage = {&quot; + lineage + &quot;}&quot;;\r\n                                    screenContentsString += lineageInfo + Environment.NewLine;\r\n                                    Debug.Print(lineageInfo);\r\n\r\n                                    string currentlineage;\r\n                                    if (lineage == string.Empty)\r\n                                        currentlineage = i.ToString();\r\n                                    else\r\n                                        currentlineage = lineage + &quot;, &quot; + i.ToString();\r\n\r\n                                    if (currentContext.role_en_US != &quot;unknown&quot; &amp;&amp; currentContext.states_en_US.Contains(&quot;visible&quot;)) // Note the optomization here, I found this get me to an acceptable speed\r\n                                    {\r\n                                        AccessibleContextInfo childContext = new AccessibleContextInfo();\r\n                                        IntPtr childPtr = JabApi.getAccessibleChildFromContext(vmID, currentPtr, i);\r\n\r\n                                        GetAccessibleContextInfo(vmID, childPtr, out childContext, newItem, nextLevel, currentlineage);\r\n\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n\r\n                            return newItem;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        currentContext = new AccessibleContextInfo();\r\n                    }\r\n                }\r\n                finally\r\n                {\r\n                    if (acPtr != IntPtr.Zero)\r\n                        Marshal.FreeHGlobal(acPtr);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\npublic void MyDispose(AccessibleTreeItem parent, int vmID)\r\n            {\r\n                if (parent.children.Count == 0)\r\n                {\r\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\r\n                }\r\n                else\r\n                {\r\n                    for (int i = 0; i &lt; parent.childrenCount; i++)\r\n                    {\r\n                        parent.children[i].MyDispose(parent.children[i], vmID);\r\n                    }\r\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\r\n                }\r\n            }\r\n\r\n```\r\n\r\n\r\nHere is a part of JabApi code :\r\n\r\nYou can see the releaseJavaObject() metod is imported in there.\r\n```\r\n public static class JabApi\r\n    {\r\n\r\n        public const String WinAccessBridgeDll = @&quot;WindowsAccessBridge-64.dll&quot;;\r\n        public const Int32 MAX_STRING_SIZE = 1024;\r\n        public const Int32 SHORT_STRING_SIZE = 256;\r\n\r\n        #region Event Handlers\r\n        #region EventDLLImport\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseClickedFP(MouseClickedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseEnteredFP(MouseEnteredDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseExitedFP(MouseExitedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMousePressedFP(MousePressedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMouseReleasedFP(MouseReleasedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setFocusGainedFP(FocusGainedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setFocusLostFP(FocusLostDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setCaretUpdateFP(CaretUpdateDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setJavaShutdownFP(JavaShutDownDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuCanceledFP(MenuCanceledDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuDeselectedFP(MenuDeselectedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setMenuSelectedFP(MenuSelectedDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuCanceledFP(PopupMenuCanceledDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuWillBecomeInvisibleFP(PopupMenuWillBecomeInvisibleDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPopupMenuWillBecomeVisibleFP(PopupMenuWillBecomeVisibleDelegate fp);\r\n        \r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyActiveDescendentChangeFP(PropertyActiveDescendentChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyCaretChangeFP(PropertyCaretChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyChangeFP(PropertyChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyChildChangeFP(PropertyChildChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyDescriptionChangeFP(PropertyDescriptionChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyNameChangeFP(PropertyNameChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertySelectionChangeFP(PropertySelectionChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyStateChangeFP(PropertyStateChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyTableModelChangeFP(PropertyTableModelChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyTextChangeFP(PropertyTextChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyValueChangeFP(PropertyValueChangeDelegate fp);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setPropertyVisibleDataChangeFP(PropertyVisibleDataChangeDelegate fp);\r\n        #endregion EventDLLImport\r\n        #region Event Delegates\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string property, [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void JavaShutDownDelegate(System.Int32 vmID);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void FocusGainedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void FocusLostDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void CaretUpdateDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseClickedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseEnteredDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseExitedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MousePressedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MouseReleasedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuDeselectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void MenuSelectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuWillBecomeInvisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PopupMenuWillBecomeVisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyNameChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldName, [MarshalAs(UnmanagedType.LPWStr)] string newName);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyDescriptionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldDescription, [MarshalAs(UnmanagedType.LPWStr)] string newDescription);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyStateChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldState, [MarshalAs(UnmanagedType.LPWStr)] string newState);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyValueChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n            [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertySelectionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyTextChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyCaretChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        Int32 oldPosition, Int32 newPosition);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyVisibleDataChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyChildChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldChild, IntPtr newChild);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyActiveDescendentChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldActiveDescendent, IntPtr newActiveDescendent);\r\n\r\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\r\n        public delegate void PropertyTableModelChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\r\n        IntPtr oldValue, IntPtr newValue);\r\n\r\n        #endregion Event Delegates\r\n\r\n        #endregion DLLImport - Functions\r\n\r\n        //Inits the JAB.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void Windows_run();\r\n\r\n        //Checks if window is JavaWindow.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Int32 isJavaWindow(IntPtr hwnd);\r\n\r\n        //Releases the specified java object.\r\n        //[DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        [DllImport(WinAccessBridgeDll, EntryPoint = &quot;releaseJavaObject&quot;, CallingConvention = CallingConvention.Cdecl)]\r\n        public extern static void releaseJavaObject(Int32 vmID, IntPtr javaObject);\r\n\r\n        //Sets the text of the given accessible context.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void setTextContents(Int32 vmID, IntPtr ac, [MarshalAs(UnmanagedType.LPWStr)] string text);\r\n\r\n        //Gets basic version info about JVM/JAB\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static void getVersionInfo(Int32 vmID, IntPtr versionInfo);\r\n\r\n        //Gets the next java window, where the hwnd passed is the previous window.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getNextJavaWindow(IntPtr hwnd);\r\n\r\n        //Returns ac from window handle.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextFromHWND(IntPtr hwnd, out Int32 vmID, out IntPtr ac);\r\n\r\n        //Returns handle from ac\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getHWNDFromAccessibleContext(Int32 vmID, IntPtr ac);\r\n\r\n        //Compares two objects\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean isSameObject(Int32 vmID, IntPtr ac1, IntPtr ac2);\r\n\r\n        //Returns an AccessibleContext object that represents the point given, offset by window coordinates.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextAt(Int32 vmID, IntPtr acparent, Int32 x, Int32 y, out IntPtr ac);\r\n\r\n        //Returns an AccessibleContext object that represents the nth child of the object ac, where n is specified by the value index.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getAccessibleChildFromContext(Int32 vmID, IntPtr ac, Int32 index);\r\n\r\n        //Returns an AccessibleContext object that represents the window with focus.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextWithFocus(void* window, out Int32 vmID, out IntPtr ac);\r\n\r\n        //Returns an AccessibleContext object that represents the parent of the specified object.\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe IntPtr getAccessibleParentFromContext(Int32 vmID, IntPtr ac);\r\n\r\n        //Returns detailed information about an AccessibleContext object belonging to the JVM\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleContextInfo(Int32 vmID, IntPtr accessibleContext, IntPtr acInfo);\r\n\r\n        //**ACCESSIBLE TEXT FUNCTIONS\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextInfo(Int32 vmID, IntPtr AccessibleContext, IntPtr textInfo, Int32 x, Int32 y);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextItems(Int32 vmID, IntPtr AccessibleContext, IntPtr textItems, Int32 index);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean getAccessibleTextAttributes(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr attributes);\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static unsafe Boolean GetAccessibleTextSelectionInfo(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr textSelection);\r\n\r\n\r\n        //\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static Boolean getAccessibleActions(Int32 vmID, IntPtr AccessibleContext,  IntPtr ptrAccessibleActions);\r\n\r\n\r\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\r\n        public extern static Boolean doAccessibleActions(Int32 vmID, IntPtr AccessibleContext, IntPtr actionsToDo, ref Int32 failure);\r\n\r\n\r\n    }\r\n}\r\n```\r\n","title":"How to release java objects from memory using releaseJavaObject() function","body":"<p>I'm trying to control a calculator interface which based on Java Oracle. My problem is the memory leakage.</p>\n<p>Let me explain what is happening. With 2 class,<code>JabApi</code> and <code>JabHelpers</code>, I'm making an object of <code>AccessibleTreeItem</code> class which is located in JabHelpers.</p>\n<p>Then doing some operations such as click to a button on the calculator in a for loop. After that, I'm trying to release memory using <code>MyDispose() </code> method that use the <code>releaseJavaObject()</code> method is located in JabHelpers but I could not observe a decrement in memory.</p>\n<p>I am not sure the <code>releaseJavaObject()</code> is working fine because after the javaTree.<code>MyDispose()</code> method, when try to click another button (button3) but it does not any changes on the calculator.</p>\n<p>What is my main problem in the JabApi and JabHelpers class? I don't know may be problem is related with the <code>releaseJavaObject()</code> importing parameters? Could it be? May be it is related with the <code>GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)</code> method is located in JapHelper, I have no idea.</p>\n<p>Please, support me. Thank you!</p>\n<p>Main code below:</p>\n<pre><code>namespace JabApiCsharpSample\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //JabApi.Windows_run();\n            JabHelpers.Init();\n            int vmID = 0;\n            IntPtr hwnd = (IntPtr)3346002;//that is the handleWindow number given by Windows\n            JabHelpers.AccessibleTreeItem javaTree = null;\n            JabHelpers.AccessibleTreeItem button1 = null;\n            JabHelpers.AccessibleTreeItem button2 = null;\n            JabHelpers.AccessibleTreeItem button = null;\n            JabHelpers.AccessibleTreeItem button3 = null;\n\n         \n            //javaTree = JabHelpers.GetComponentTreeByTitle(&quot;ELİNT&quot;, out vmID);\n\n\n\n            int index = 50;\n\n            javaTree = JabHelpers.GetComponentTree(hwnd, out vmID);\n\n            button1 = javaTree.children[0].children[1];\n            button2 = button1.children[1].children[2];\n            button = button2.children[1].children[3];\n            button3 = button2.children[1].children[4];\n\n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\n            for (int i = 0; i &lt; index; i++)\n            {              \n\n                JabHelpers.DoAccessibleActions(vmID, button.acPtr, &quot;click&quot;);\n                            }\n\n            javaTree.MyDispose(javaTree, vmID);\n            \n         \n            JabHelpers.DoAccessibleActions(vmID, button3.acPtr, &quot;click&quot;);\n         \n        }\n\n\n    }\n}\n</code></pre>\n<p>Here is a part of JabHelper class:</p>\n<pre><code>public static AccessibleTreeItem GetComponentTreeByTitle(String title, out Int32 vmID)\n        {\n            IntPtr hwnd = FindWindowByCaption(IntPtr.Zero, title);\n            return GetComponentTree(hwnd, out vmID);\n        }\n\n        public static AccessibleTreeItem GetComponentTree(IntPtr hWnd, out Int32 vmID)\n        {\n            screenContents.Clear();\n            screenContentsString = string.Empty;\n\n            AccessibleTreeItem accessibleTreeItem = new AccessibleTreeItem();\n            vmID = 0;\n            if (JabApi.isJavaWindow(hWnd) == 1)\n            {\n                unsafe\n                {\n                    IntPtr acPtr;\n\n                    if (JabApi.getAccessibleContextFromHWND(hWnd, out vmID, out acPtr))\n                    {\n\n                        AccessibleContextInfo ac = new AccessibleContextInfo();\n                        accessibleTreeItem = GetAccessibleContextInfo(vmID, acPtr, out ac, null, 0, string.Empty); // RECURSION SEED\n\n                        return accessibleTreeItem;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n private static AccessibleTreeItem GetAccessibleContextInfo(Int32 vmID, IntPtr currentPtr, out AccessibleContextInfo currentContext, AccessibleTreeItem parentItem, int level, string lineage)\n        {\n            unsafe\n            {\n                // Allocate global memory space for the size of AccessibleContextInfo and store the address in acPtr\n                IntPtr acPtr = Marshal.AllocHGlobal(Marshal.SizeOf(new AccessibleContextInfo()));\n                try\n                {\n\n                    Marshal.StructureToPtr(new AccessibleContextInfo(), acPtr, true);\n                    if (JabApi.getAccessibleContextInfo(vmID, currentPtr, acPtr))\n                    {\n                        currentContext = (AccessibleContextInfo)Marshal.PtrToStructure(acPtr, typeof(AccessibleContextInfo));\n                        if (!ReferenceEquals(currentContext, null))\n                        {\n                            AccessibleTreeItem newItem = BuildAccessibleTree(currentPtr, currentContext, parentItem);\n\n                            if (!ReferenceEquals(newItem, null))\n                            {\n                                //Checks to see if current object has any text items.\n                                if (currentContext.accessibleText == true)\n                                {\n                                    AccessibleTextItemsInfo textItem;\n                                    //Gets text items.\n                                    textItem = GetAccessibleTextInfo(vmID, currentPtr);\n                                    newItem.textValue = textItem.sentence;\n\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name + &quot; = \\&quot;&quot; + textItem.sentence + &quot;\\&quot;&quot;;\n                                    screenContentsString += treeInfo + Environment.NewLine;\n                                    Debug.Print(treeInfo);\n                                }\n                                else\n                                {\n                                    string treeInfo = Repeat(&quot;\\t&quot;, level) + currentContext.name;\n                                    screenContentsString += treeInfo + Environment.NewLine;\n                                    Debug.Print(treeInfo);\n                                }\n\n\n                                //Start collecting children\n                                int nextLevel = level + 1;\n                                for (int i = 0; i &lt; currentContext.childrenCount; i++)\n                                {\n                                    string lineageInfo = Repeat(&quot;\\t&quot;, level) + level.ToString() + &quot; Child &quot; + i.ToString() + &quot; Lineage = {&quot; + lineage + &quot;}&quot;;\n                                    screenContentsString += lineageInfo + Environment.NewLine;\n                                    Debug.Print(lineageInfo);\n\n                                    string currentlineage;\n                                    if (lineage == string.Empty)\n                                        currentlineage = i.ToString();\n                                    else\n                                        currentlineage = lineage + &quot;, &quot; + i.ToString();\n\n                                    if (currentContext.role_en_US != &quot;unknown&quot; &amp;&amp; currentContext.states_en_US.Contains(&quot;visible&quot;)) // Note the optomization here, I found this get me to an acceptable speed\n                                    {\n                                        AccessibleContextInfo childContext = new AccessibleContextInfo();\n                                        IntPtr childPtr = JabApi.getAccessibleChildFromContext(vmID, currentPtr, i);\n\n                                        GetAccessibleContextInfo(vmID, childPtr, out childContext, newItem, nextLevel, currentlineage);\n\n                                    }\n\n                                }\n                            }\n\n                            return newItem;\n                        }\n                    }\n                    else\n                    {\n                        currentContext = new AccessibleContextInfo();\n                    }\n                }\n                finally\n                {\n                    if (acPtr != IntPtr.Zero)\n                        Marshal.FreeHGlobal(acPtr);\n                }\n            }\n            return null;\n        }\n\npublic void MyDispose(AccessibleTreeItem parent, int vmID)\n            {\n                if (parent.children.Count == 0)\n                {\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\n                }\n                else\n                {\n                    for (int i = 0; i &lt; parent.childrenCount; i++)\n                    {\n                        parent.children[i].MyDispose(parent.children[i], vmID);\n                    }\n                    JabApi.releaseJavaObject(vmID, parent.acPtr);\n                }\n            }\n\n</code></pre>\n<p>Here is a part of JabApi code :</p>\n<p>You can see the releaseJavaObject() metod is imported in there.</p>\n<pre><code> public static class JabApi\n    {\n\n        public const String WinAccessBridgeDll = @&quot;WindowsAccessBridge-64.dll&quot;;\n        public const Int32 MAX_STRING_SIZE = 1024;\n        public const Int32 SHORT_STRING_SIZE = 256;\n\n        #region Event Handlers\n        #region EventDLLImport\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseClickedFP(MouseClickedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseEnteredFP(MouseEnteredDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseExitedFP(MouseExitedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMousePressedFP(MousePressedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMouseReleasedFP(MouseReleasedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setFocusGainedFP(FocusGainedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setFocusLostFP(FocusLostDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setCaretUpdateFP(CaretUpdateDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setJavaShutdownFP(JavaShutDownDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuCanceledFP(MenuCanceledDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuDeselectedFP(MenuDeselectedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setMenuSelectedFP(MenuSelectedDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuCanceledFP(PopupMenuCanceledDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuWillBecomeInvisibleFP(PopupMenuWillBecomeInvisibleDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPopupMenuWillBecomeVisibleFP(PopupMenuWillBecomeVisibleDelegate fp);\n        \n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyActiveDescendentChangeFP(PropertyActiveDescendentChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyCaretChangeFP(PropertyCaretChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyChangeFP(PropertyChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyChildChangeFP(PropertyChildChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyDescriptionChangeFP(PropertyDescriptionChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyNameChangeFP(PropertyNameChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertySelectionChangeFP(PropertySelectionChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyStateChangeFP(PropertyStateChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyTableModelChangeFP(PropertyTableModelChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyTextChangeFP(PropertyTextChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyValueChangeFP(PropertyValueChangeDelegate fp);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setPropertyVisibleDataChangeFP(PropertyVisibleDataChangeDelegate fp);\n        #endregion EventDLLImport\n        #region Event Delegates\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string property, [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void JavaShutDownDelegate(System.Int32 vmID);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void FocusGainedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void FocusLostDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void CaretUpdateDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseClickedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseEnteredDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseExitedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MousePressedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MouseReleasedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuDeselectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void MenuSelectedDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuCanceledDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuWillBecomeInvisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PopupMenuWillBecomeVisibleDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyNameChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldName, [MarshalAs(UnmanagedType.LPWStr)] string newName);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyDescriptionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldDescription, [MarshalAs(UnmanagedType.LPWStr)] string newDescription);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyStateChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldState, [MarshalAs(UnmanagedType.LPWStr)] string newState);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyValueChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n            [MarshalAs(UnmanagedType.LPWStr)] string oldValue, [MarshalAs(UnmanagedType.LPWStr)] string newValue);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertySelectionChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyTextChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyCaretChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        Int32 oldPosition, Int32 newPosition);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyVisibleDataChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyChildChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldChild, IntPtr newChild);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyActiveDescendentChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldActiveDescendent, IntPtr newActiveDescendent);\n\n        [UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate void PropertyTableModelChangeDelegate(System.Int32 vmID, IntPtr jevent, IntPtr ac,\n        IntPtr oldValue, IntPtr newValue);\n\n        #endregion Event Delegates\n\n        #endregion DLLImport - Functions\n\n        //Inits the JAB.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void Windows_run();\n\n        //Checks if window is JavaWindow.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Int32 isJavaWindow(IntPtr hwnd);\n\n        //Releases the specified java object.\n        //[DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        [DllImport(WinAccessBridgeDll, EntryPoint = &quot;releaseJavaObject&quot;, CallingConvention = CallingConvention.Cdecl)]\n        public extern static void releaseJavaObject(Int32 vmID, IntPtr javaObject);\n\n        //Sets the text of the given accessible context.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void setTextContents(Int32 vmID, IntPtr ac, [MarshalAs(UnmanagedType.LPWStr)] string text);\n\n        //Gets basic version info about JVM/JAB\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static void getVersionInfo(Int32 vmID, IntPtr versionInfo);\n\n        //Gets the next java window, where the hwnd passed is the previous window.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getNextJavaWindow(IntPtr hwnd);\n\n        //Returns ac from window handle.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextFromHWND(IntPtr hwnd, out Int32 vmID, out IntPtr ac);\n\n        //Returns handle from ac\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getHWNDFromAccessibleContext(Int32 vmID, IntPtr ac);\n\n        //Compares two objects\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean isSameObject(Int32 vmID, IntPtr ac1, IntPtr ac2);\n\n        //Returns an AccessibleContext object that represents the point given, offset by window coordinates.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextAt(Int32 vmID, IntPtr acparent, Int32 x, Int32 y, out IntPtr ac);\n\n        //Returns an AccessibleContext object that represents the nth child of the object ac, where n is specified by the value index.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getAccessibleChildFromContext(Int32 vmID, IntPtr ac, Int32 index);\n\n        //Returns an AccessibleContext object that represents the window with focus.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextWithFocus(void* window, out Int32 vmID, out IntPtr ac);\n\n        //Returns an AccessibleContext object that represents the parent of the specified object.\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe IntPtr getAccessibleParentFromContext(Int32 vmID, IntPtr ac);\n\n        //Returns detailed information about an AccessibleContext object belonging to the JVM\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleContextInfo(Int32 vmID, IntPtr accessibleContext, IntPtr acInfo);\n\n        //**ACCESSIBLE TEXT FUNCTIONS\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextInfo(Int32 vmID, IntPtr AccessibleContext, IntPtr textInfo, Int32 x, Int32 y);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextItems(Int32 vmID, IntPtr AccessibleContext, IntPtr textItems, Int32 index);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean getAccessibleTextAttributes(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr attributes);\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static unsafe Boolean GetAccessibleTextSelectionInfo(Int32 vmID, IntPtr AccessibleContext, Int32 index, IntPtr textSelection);\n\n\n        //\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static Boolean getAccessibleActions(Int32 vmID, IntPtr AccessibleContext,  IntPtr ptrAccessibleActions);\n\n\n        [DllImport(WinAccessBridgeDll, SetLastError = true, ThrowOnUnmappableChar = true, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Auto)]\n        public extern static Boolean doAccessibleActions(Int32 vmID, IntPtr AccessibleContext, IntPtr actionsToDo, ref Int32 failure);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":24901858,"reputation":1,"user_id":18772447,"display_name":"MANAR DAWOD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701276766,"answer_count":0,"score":-1,"last_activity_date":1701267840,"creation_date":1701267840,"question_id":77571993,"body_markdown":"i want to pass Arraylist from Activity to another Activity, but i have a problem, here is my code: \r\n\r\n```\r\nif (list != null) {\r\n            Intent intent = new Intent(DueViewActivity.this, DoneViewActivity.class);\r\n            intent.putStringArrayListExtra(&quot;lista&quot;,list);\r\n            startActivity(intent);\r\n            Log.d(&quot;Due Act&quot;, &quot;listDue: &quot; + list);\r\n        } list in first Activity,,it prints listDue: [homework1, homework4, homework6, homework2]\r\n```\r\n   \r\n  \r\nin second Activity i made:\r\n\r\n```\r\nIntent intent = getIntent();\r\n        ArrayList&lt;String&gt; list2 = intent.getStringArrayListExtra(&quot;lista&quot;);\r\n        Log.d(&quot;Done Activity list2&quot;, &quot;list2: &quot; + list2);\r\nbut it prints list2:null\r\n```\r\n\r\nhow can solve  this?\r\n\r\n","title":"How can i pass Arraylist from Activity to another?","body":"<p>i want to pass Arraylist from Activity to another Activity, but i have a problem, here is my code:</p>\n<pre><code>if (list != null) {\n            Intent intent = new Intent(DueViewActivity.this, DoneViewActivity.class);\n            intent.putStringArrayListExtra(&quot;lista&quot;,list);\n            startActivity(intent);\n            Log.d(&quot;Due Act&quot;, &quot;listDue: &quot; + list);\n        } list in first Activity,,it prints listDue: [homework1, homework4, homework6, homework2]\n</code></pre>\n<p>in second Activity i made:</p>\n<pre><code>Intent intent = getIntent();\n        ArrayList&lt;String&gt; list2 = intent.getStringArrayListExtra(&quot;lista&quot;);\n        Log.d(&quot;Done Activity list2&quot;, &quot;list2: &quot; + list2);\nbut it prints list2:null\n</code></pre>\n<p>how can solve  this?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701267559,"creation_date":1701267559,"question_id":77571954,"body_markdown":"Given this JSON documents:\r\n\r\n```json\r\n{\r\n  &quot;first-name&quot;: &quot;John&quot;,\r\n  &quot;last-name&quot;: &quot;Smith&quot;,\r\n  &quot;children&quot;: [&quot;Sam&quot;, &quot;Joe&quot;]\r\n}\r\n```\r\n\r\nor:\r\n\r\n```json\r\n{\r\n  &quot;first-name&quot;: &quot;John&quot;,\r\n  &quot;last-name&quot;: &quot;Smith&quot;,\r\n  &quot;children&quot;: [{\r\n    &quot;first-name&quot;: &quot;Sam&quot;,\r\n    &quot;last-name&quot;: &quot;Smith&quot;\r\n  }, {\r\n    &quot;first-name&quot; : &quot;Joe&quot;,\r\n    &quot;last-name&quot;: &quot;Smith&quot;\r\n  }]\r\n}\r\n```\r\n\r\nWhere for the `children` attribute the value can be either a JSON-String or a JSON-Object.\r\nWe can assume that when a String is provided, this correspond to the first name.\r\n\r\nMany stack-overflow answers point to the fact that this can be solved with a custom `JsonDeserializer` class:\r\n\r\nJava code:\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n\r\npublic class Main {\r\n\r\n    public static class Person {\r\n        @JsonProperty(&quot;first-name&quot;)\r\n        private String firstName;\r\n\r\n        @JsonProperty(&quot;last-name&quot;)\r\n        private String lastName;\r\n\r\n        @JsonProperty(&quot;children&quot;)\r\n        private List&lt;Child&gt; children;\r\n\r\n        public Person() {\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public List&lt;Child&gt; getChildren() {\r\n            return children;\r\n        }\r\n\r\n        public void setChildren(List&lt;Child&gt; children) {\r\n            this.children = children;\r\n        }\r\n    }\r\n\r\n    @JsonDeserialize(using = ChildDeserializer.class)\r\n    public static class Child {\r\n        @JsonProperty(&quot;first-name&quot;)\r\n        private String firstName;\r\n\r\n        @JsonProperty(&quot;last-name&quot;)\r\n        private String lastName;\r\n\r\n        public Child() {\r\n        }\r\n\r\n        public Child(String firstName, String lastName) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n\r\n    public static class ChildDeserializer extends JsonDeserializer&lt;Child&gt; {\r\n        @Override\r\n        public Child deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            JsonNode node = jsonParser.getCodec()\r\n                    .readTree(jsonParser);\r\n\r\n            if (node.isObject()) {\r\n                String firstName = node.has(&quot;first-name&quot;) ? node.get(&quot;first-name&quot;)\r\n                        .textValue() : null;\r\n                String lastName = node.has(&quot;last-name&quot;) ? node.get(&quot;last-name&quot;)\r\n                        .textValue() : null;\r\n                return new Child(firstName, lastName);\r\n            } else if (node.isTextual()) {\r\n                return new Child(node.asText(), null);\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [\\&quot;Sam\\&quot;, \\&quot;Joe\\&quot;] }&quot;);\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [{\\&quot;first-name\\&quot;: \\&quot;Sam\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}, {\\&quot;first-name\\&quot;: \\&quot;Joe\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\r\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;Bob\\&quot;, \\&quot;children\\&quot;: [{\\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\r\n    }\r\n\r\n    private static void parseAndPrint(String json1) throws JsonProcessingException, JsonMappingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        Person person = objectMapper.readValue(json1, Person.class);\r\n        System.out.println(&quot;Person: &quot; + person.getFirstName() + &quot; &quot; + person.getLastName());\r\n        System.out.println(&quot;Children:&quot;);\r\n        for (Child child : person.getChildren()) {\r\n            System.out.println(child.getFirstName() + &quot; &quot; + child.getLastName());\r\n        }\r\n        System.out.println(&quot;---&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am wondering if there is a better way, since with this approach the custom `JsonDeserializer` is handling all the attributes of the `Child` entity one by one.\r\n\r\nWhen a new attribute is added to the Child entity, there is the need add it both in the Java Object (new filed with the `@JsonProperty` annotation) and new case in the `JsonDeserializer`\r\n\r\n","title":"How to write a custom Deserialiser for Jackson to parse of a value that is either a String or an Object into a Java Class (oneOf)","body":"<p>Given this JSON documents:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;first-name&quot;: &quot;John&quot;,\n  &quot;last-name&quot;: &quot;Smith&quot;,\n  &quot;children&quot;: [&quot;Sam&quot;, &quot;Joe&quot;]\n}\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;first-name&quot;: &quot;John&quot;,\n  &quot;last-name&quot;: &quot;Smith&quot;,\n  &quot;children&quot;: [{\n    &quot;first-name&quot;: &quot;Sam&quot;,\n    &quot;last-name&quot;: &quot;Smith&quot;\n  }, {\n    &quot;first-name&quot; : &quot;Joe&quot;,\n    &quot;last-name&quot;: &quot;Smith&quot;\n  }]\n}\n</code></pre>\n<p>Where for the <code>children</code> attribute the value can be either a JSON-String or a JSON-Object.\nWe can assume that when a String is provided, this correspond to the first name.</p>\n<p>Many stack-overflow answers point to the fact that this can be solved with a custom <code>JsonDeserializer</code> class:</p>\n<p>Java code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\npublic class Main {\n\n    public static class Person {\n        @JsonProperty(&quot;first-name&quot;)\n        private String firstName;\n\n        @JsonProperty(&quot;last-name&quot;)\n        private String lastName;\n\n        @JsonProperty(&quot;children&quot;)\n        private List&lt;Child&gt; children;\n\n        public Person() {\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n\n        public List&lt;Child&gt; getChildren() {\n            return children;\n        }\n\n        public void setChildren(List&lt;Child&gt; children) {\n            this.children = children;\n        }\n    }\n\n    @JsonDeserialize(using = ChildDeserializer.class)\n    public static class Child {\n        @JsonProperty(&quot;first-name&quot;)\n        private String firstName;\n\n        @JsonProperty(&quot;last-name&quot;)\n        private String lastName;\n\n        public Child() {\n        }\n\n        public Child(String firstName, String lastName) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName = firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n    }\n\n    public static class ChildDeserializer extends JsonDeserializer&lt;Child&gt; {\n        @Override\n        public Child deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            JsonNode node = jsonParser.getCodec()\n                    .readTree(jsonParser);\n\n            if (node.isObject()) {\n                String firstName = node.has(&quot;first-name&quot;) ? node.get(&quot;first-name&quot;)\n                        .textValue() : null;\n                String lastName = node.has(&quot;last-name&quot;) ? node.get(&quot;last-name&quot;)\n                        .textValue() : null;\n                return new Child(firstName, lastName);\n            } else if (node.isTextual()) {\n                return new Child(node.asText(), null);\n            }\n\n            return null;\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [\\&quot;Sam\\&quot;, \\&quot;Joe\\&quot;] }&quot;);\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;John\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;, \\&quot;children\\&quot;: [{\\&quot;first-name\\&quot;: \\&quot;Sam\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}, {\\&quot;first-name\\&quot;: \\&quot;Joe\\&quot;, \\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\n        parseAndPrint(&quot;{ \\&quot;first-name\\&quot;: \\&quot;Bob\\&quot;, \\&quot;children\\&quot;: [{\\&quot;last-name\\&quot;: \\&quot;Smith\\&quot;}] }&quot;);\n    }\n\n    private static void parseAndPrint(String json1) throws JsonProcessingException, JsonMappingException {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        Person person = objectMapper.readValue(json1, Person.class);\n        System.out.println(&quot;Person: &quot; + person.getFirstName() + &quot; &quot; + person.getLastName());\n        System.out.println(&quot;Children:&quot;);\n        for (Child child : person.getChildren()) {\n            System.out.println(child.getFirstName() + &quot; &quot; + child.getLastName());\n        }\n        System.out.println(&quot;---&quot;);\n    }\n}\n</code></pre>\n<p>I am wondering if there is a better way, since with this approach the custom <code>JsonDeserializer</code> is handling all the attributes of the <code>Child</code> entity one by one.</p>\n<p>When a new attribute is added to the Child entity, there is the need add it both in the Java Object (new filed with the <code>@JsonProperty</code> annotation) and new case in the <code>JsonDeserializer</code></p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1701267139,"post_id":77571851,"comment_id":136754409,"body_markdown":"`UserResult` has an id property?","body":"<code>UserResult</code> has an id property?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1701267227,"post_id":77571851,"comment_id":136754428,"body_markdown":"Could you share `@Entity` class that you have in java code ?","body":"Could you share <code>@Entity</code> class that you have in java code ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701269850,"post_id":77571851,"comment_id":136755071,"body_markdown":"Your entity isn&#39;t mapped to the data correctly. This is a native query that is only returning 2 fields (name and score) while your entity requires an ID column as well. If you use JPQL query, maybe something like Query(value = &quot;select resultfrom UserResult result where result.quizId = :quizId&quot;), just be sure you have a java &#39;quizId&#39; property","body":"Your entity isn&#39;t mapped to the data correctly. This is a native query that is only returning 2 fields (name and score) while your entity requires an ID column as well. If you use JPQL query, maybe something like Query(value = &quot;select resultfrom UserResult result where result.quizId = :quizId&quot;), just be sure you have a java &#39;quizId&#39; property"},{"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"score":0,"creation_date":1701285627,"post_id":77571851,"comment_id":136758115,"body_markdown":"I&#39;ve tried using as you said @Chris and it worked, thanks in advance to everyone that answered too.","body":"I&#39;ve tried using as you said @Chris and it worked, thanks in advance to everyone that answered too."}],"answers":[{"tags":[],"owner":{"account_id":9640310,"reputation":1,"user_id":7154796,"display_name":"K.Mouad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701267553,"creation_date":1701267509,"answer_id":77571946,"question_id":77571851,"body_markdown":"Make sure UserResult entity has an attribute named id, like this : \r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private String id;","title":"Trying to retrieve data using JPA Query Annotation","body":"<p>Make sure UserResult entity has an attribute named id, like this :</p>\n<pre><code>@Id\n@Column(name = &quot;ID&quot;)\nprivate String id;\n</code></pre>\n"}],"owner":{"account_id":19251599,"reputation":1,"user_id":14069424,"display_name":"Pedro Hugo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701267553,"creation_date":1701266875,"question_id":77571851,"body_markdown":"I&#39;m trying to execute a query using the @Query annotation from JPA, like this:\r\n\r\n\r\n    public interface UserResultRepository extends CrudRepository&lt;UserResult, String&gt; {\r\n\r\n    @Query(value = &quot;SELECT name, score FROM quizzapp.user_result result WHERE result.quiz_id = :quizId&quot;, nativeQuery = true)\r\n    List&lt;UserResult&gt; listResultsForExport(@Param(&quot;quizId&quot;) String quizId); \r\n\r\n    }\r\n\r\nBut i&#39;m getting the following message from the console:\r\n\r\n`java.sql.SQLException: Column &#39;id&#39; not found.`\r\n\r\nHere&#39;s the entity structure inside the database:\r\n\r\n[Entity in database](https://i.stack.imgur.com/ELcrr.png)\r\n\r\nI first tried to use without the `nativeQuery`, but i got a different error saying that i should have a converter to the data that was being retrieved from the database, and then i did it again using the `nativeQuery`, and now i&#39;m facing this different error.","title":"Trying to retrieve data using JPA Query Annotation","body":"<p>I'm trying to execute a query using the @Query annotation from JPA, like this:</p>\n<pre><code>public interface UserResultRepository extends CrudRepository&lt;UserResult, String&gt; {\n\n@Query(value = &quot;SELECT name, score FROM quizzapp.user_result result WHERE result.quiz_id = :quizId&quot;, nativeQuery = true)\nList&lt;UserResult&gt; listResultsForExport(@Param(&quot;quizId&quot;) String quizId); \n\n}\n</code></pre>\n<p>But i'm getting the following message from the console:</p>\n<p><code>java.sql.SQLException: Column 'id' not found.</code></p>\n<p>Here's the entity structure inside the database:</p>\n<p><a href=\"https://i.stack.imgur.com/ELcrr.png\" rel=\"nofollow noreferrer\">Entity in database</a></p>\n<p>I first tried to use without the <code>nativeQuery</code>, but i got a different error saying that i should have a converter to the data that was being retrieved from the database, and then i did it again using the <code>nativeQuery</code>, and now i'm facing this different error.</p>\n"},{"tags":["java","xml","jackson","deserialization","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701267361,"creation_date":1701267361,"answer_id":77571922,"question_id":77571733,"body_markdown":"Ok, it is actually easier than I thought, Jackson is awesome.\r\n\r\nJust need to change type from `String` for `value` to type `Object` like below:\r\n\r\n```\r\nprivate Map&lt;String, Object&gt; localMetadataAttributesMap;\r\n    \r\n    private BoundedBy boundedBy;\r\n\r\n    @JsonAnySetter\r\n    // NOTE: To map an unknown list of properties, must use this annotation\r\n    public void addKeyValue(String key, Object value) {\r\n        this.localMetadataAttributesMap.put(key, value);\r\n    }\r\n\r\n    public LocalMetadataChild() {\r\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\r\n        this.boundedBy = new BoundedBy();\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\r\n    public Map&lt;String, Object&gt; getLocalMetadataAttributesMap() {\r\n        return localMetadataAttributesMap;\r\n    }\r\n```\r\n\r\nThen, serialize the `value` to `String` afterwards.\r\n\r\n```\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        Object obj = value of the map above\r\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        String xml = xmlMapper.writer().writeValueAsString(obj);\r\n```\r\n\r\n","title":"How to map a nested XML element content as a string of a map?","body":"<p>Ok, it is actually easier than I thought, Jackson is awesome.</p>\n<p>Just need to change type from <code>String</code> for <code>value</code> to type <code>Object</code> like below:</p>\n<pre><code>private Map&lt;String, Object&gt; localMetadataAttributesMap;\n    \n    private BoundedBy boundedBy;\n\n    @JsonAnySetter\n    // NOTE: To map an unknown list of properties, must use this annotation\n    public void addKeyValue(String key, Object value) {\n        this.localMetadataAttributesMap.put(key, value);\n    }\n\n    public LocalMetadataChild() {\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\n        this.boundedBy = new BoundedBy();\n    }\n\n    @JsonAnyGetter\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\n    public Map&lt;String, Object&gt; getLocalMetadataAttributesMap() {\n        return localMetadataAttributesMap;\n    }\n</code></pre>\n<p>Then, serialize the <code>value</code> to <code>String</code> afterwards.</p>\n<pre><code>        XmlMapper xmlMapper = new XmlMapper();\n        Object obj = value of the map above\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n        String xml = xmlMapper.writer().writeValueAsString(obj);\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701267361,"creation_date":1701265883,"question_id":77571733,"body_markdown":"I&#39;m using Java and Jackson:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have this XML and want to deserialize the element name: `&lt;RandomName&gt;` (note that this element name can be anything and the content of it is random as well) as the key and any XML content under it as the string value of a map, so it would be like: `RandomName` -&gt; `&lt;metadaten&gt; ... &lt;/metadaten&gt;`.\r\n\r\n```xml\r\n&lt;slices&gt;\r\n    &lt;slice&gt;\r\n        &lt;boundedBy&gt;\r\n            &lt;Envelope&gt;\r\n                &lt;axisLabels&gt;Lat Long&lt;/axisLabels&gt;\r\n                &lt;srsDimension&gt;2&lt;/srsDimension&gt;\r\n                &lt;lowerCorner&gt;-44.975 111.975&lt;/lowerCorner&gt;\r\n                &lt;upperCorner&gt;-8.975 130.975&lt;/upperCorner&gt;\r\n            &lt;/Envelope&gt;\r\n        &lt;/boundedBy&gt;\r\n        &lt;local_metadata_key&gt;test123&lt;/local_metadata_key&gt;\r\n        &lt;RandomName&gt;\r\n            &lt;metadaten&gt;\r\n                &lt;Kompression&gt;0&lt;/Kompression&gt;\r\n                &lt;Komprimierung&gt;0&lt;/Komprimierung&gt;\r\n                &lt;Belaubungszustand&gt;3&lt;/Belaubungszustand&gt;\r\n                &lt;Bemerkungen&gt;keine&lt;/Bemerkungen&gt;\r\n            &lt;/metadaten&gt;\r\n        &lt;/RandomName&gt;\r\n        &lt;fileReferenceHistory&gt;testfile&lt;/fileReferenceHistory&gt;   \r\n    &lt;/slice&gt;\r\n&lt;/slices&gt;\r\n```\r\n\r\nI have this class to deserialize the XML to it, but in the method `addKeyValue()`, it always sees `key` = `RandomName` and `value` = empty string, here I wanted, `value` = `&lt;metadaten&gt; ... &lt;/metadaten&gt;` instead.\r\n\r\n```java\r\npublic class LocalMetadataChild {\r\n    \r\n    public static final String LOCAL_METADATA_TAG = &quot;slice&quot;;\r\n\r\n    private Map&lt;String, String&gt; localMetadataAttributesMap;\r\n    \r\n    private BoundedBy boundedBy;\r\n\r\n    @JsonAnySetter\r\n    // NOTE: To map an unknown list of properties, must use this annotation\r\n    public void addKeyValue(String key, String value) {\r\n        this.localMetadataAttributesMap.put(key, value);\r\n    }\r\n\r\n    public LocalMetadataChild() {\r\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\r\n        this.boundedBy = new BoundedBy();\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\r\n    public Map&lt;String, String&gt; getLocalMetadataAttributesMap() {\r\n        return localMetadataAttributesMap;\r\n    }\r\n    \r\n    public BoundedBy getBoundedBy() {\r\n        return this.boundedBy;\r\n    }\r\n\r\n    public void setBoundedBy(BoundedBy boundedBy) {\r\n        this.boundedBy = boundedBy;\r\n    }\r\n\r\n    public LocalMetadataChild(Map&lt;String, String&gt; localMetadataAttributesMap, BoundedBy boundedBy) {\r\n        this.localMetadataAttributesMap = localMetadataAttributesMap;\r\n        this.boundedBy = boundedBy;\r\n    }\r\n}\r\n```","title":"How to map a nested XML element content as a string of a map?","body":"<p>I'm using Java and Jackson:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.8.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have this XML and want to deserialize the element name: <code>&lt;RandomName&gt;</code> (note that this element name can be anything and the content of it is random as well) as the key and any XML content under it as the string value of a map, so it would be like: <code>RandomName</code> -&gt; <code>&lt;metadaten&gt; ... &lt;/metadaten&gt;</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;slices&gt;\n    &lt;slice&gt;\n        &lt;boundedBy&gt;\n            &lt;Envelope&gt;\n                &lt;axisLabels&gt;Lat Long&lt;/axisLabels&gt;\n                &lt;srsDimension&gt;2&lt;/srsDimension&gt;\n                &lt;lowerCorner&gt;-44.975 111.975&lt;/lowerCorner&gt;\n                &lt;upperCorner&gt;-8.975 130.975&lt;/upperCorner&gt;\n            &lt;/Envelope&gt;\n        &lt;/boundedBy&gt;\n        &lt;local_metadata_key&gt;test123&lt;/local_metadata_key&gt;\n        &lt;RandomName&gt;\n            &lt;metadaten&gt;\n                &lt;Kompression&gt;0&lt;/Kompression&gt;\n                &lt;Komprimierung&gt;0&lt;/Komprimierung&gt;\n                &lt;Belaubungszustand&gt;3&lt;/Belaubungszustand&gt;\n                &lt;Bemerkungen&gt;keine&lt;/Bemerkungen&gt;\n            &lt;/metadaten&gt;\n        &lt;/RandomName&gt;\n        &lt;fileReferenceHistory&gt;testfile&lt;/fileReferenceHistory&gt;   \n    &lt;/slice&gt;\n&lt;/slices&gt;\n</code></pre>\n<p>I have this class to deserialize the XML to it, but in the method <code>addKeyValue()</code>, it always sees <code>key</code> = <code>RandomName</code> and <code>value</code> = empty string, here I wanted, <code>value</code> = <code>&lt;metadaten&gt; ... &lt;/metadaten&gt;</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalMetadataChild {\n    \n    public static final String LOCAL_METADATA_TAG = &quot;slice&quot;;\n\n    private Map&lt;String, String&gt; localMetadataAttributesMap;\n    \n    private BoundedBy boundedBy;\n\n    @JsonAnySetter\n    // NOTE: To map an unknown list of properties, must use this annotation\n    public void addKeyValue(String key, String value) {\n        this.localMetadataAttributesMap.put(key, value);\n    }\n\n    public LocalMetadataChild() {\n        this.localMetadataAttributesMap = new LinkedHashMap&lt;&gt;();\n        this.boundedBy = new BoundedBy();\n    }\n\n    @JsonAnyGetter\n    // NOTE: to unwrap the &quot;map&quot; from { &quot;map&quot;: { &quot;key&quot;: &quot;value&quot; } }, only keep { &quot;key&quot;: &quot;value&quot; }\n    public Map&lt;String, String&gt; getLocalMetadataAttributesMap() {\n        return localMetadataAttributesMap;\n    }\n    \n    public BoundedBy getBoundedBy() {\n        return this.boundedBy;\n    }\n\n    public void setBoundedBy(BoundedBy boundedBy) {\n        this.boundedBy = boundedBy;\n    }\n\n    public LocalMetadataChild(Map&lt;String, String&gt; localMetadataAttributesMap, BoundedBy boundedBy) {\n        this.localMetadataAttributesMap = localMetadataAttributesMap;\n        this.boundedBy = boundedBy;\n    }\n}\n</code></pre>\n"},{"tags":["java","time-complexity","series","space-complexity","revel"],"comments":[{"owner":{"account_id":22343813,"reputation":889,"user_id":16563198,"display_name":"sbridewell"},"score":0,"creation_date":1701273304,"post_id":77567934,"comment_id":136755884,"body_markdown":"Please edit your question to [include code, data and error messages as text, not images](https://meta.stackoverflow.com/a/285557/16563198).","body":"Please edit your question to <a href=\"https://meta.stackoverflow.com/a/285557/16563198\">include code, data and error messages as text, not images</a>."},{"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"score":0,"creation_date":1701359357,"post_id":77567934,"comment_id":136768254,"body_markdown":"I can&#39;t for the last image because it is an Exercise Checker. But I can edit the code and put the output for the code I tried.","body":"I can&#39;t for the last image because it is an Exercise Checker. But I can edit the code and put the output for the code I tried."}],"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701267218,"creation_date":1701218215,"question_id":77567934,"body_markdown":"I&#39;m trying to solve this problem, Exercise22_05.java, and to make it work.\r\n\r\nThis is the image of the exercise that I&#39;m trying to solve: [![Please click here to see the image and the problem of the exercise][1]][1]\r\n\r\nI tried this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.*;\r\n    public class Exercise22_05 {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a series of numbers ending with 0: &quot;);\r\n            int number = scanner.nextInt();\r\n            int count = 1;\r\n            int maxCount = 1;\r\n            int maxNumber = number;\r\n            int index = 0;\r\n            int i = 1;\r\n            while (number != 0) {\r\n                number = scanner.nextInt();\r\n                if (number == i) {\r\n                  count++;\r\n                } else {\r\n                    if (count &gt; maxCount) {\r\n                       maxCount = count;\r\n                       maxNumber = i;\r\n                       index = i - count + 1;\r\n                    }\r\n                        count = 1;\r\n                        i = number;\r\n                }\r\n            }\r\n            if (count &gt; maxCount) {\r\n               maxCount = count;\r\n               maxNumber = i;\r\n               index = i - count + 1;\r\n            }\r\n            System.out.print(&quot;The longest same number sequence starts at index &quot; + index + &quot; with &quot; + maxCount + &quot; values of &quot; + maxNumber);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut it didn&#39;t work because here: [![Please Click Here To See The Output That&#39;s Supposed To Work][2]][2]\r\n\r\n\r\nIs there anyway to solve this problem? I will really if someone actually does help, so can anyone please help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IubBO.png\r\n  [2]: https://i.stack.imgur.com/mYsGD.png","title":"Is there a way to fix this Exercise22_05 for REVEL?","body":"<p>I'm trying to solve this problem, Exercise22_05.java, and to make it work.</p>\n<p>This is the image of the exercise that I'm trying to solve: <a href=\"https://i.stack.imgur.com/IubBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IubBO.png\" alt=\"Please click here to see the image and the problem of the exercise\" /></a></p>\n<p>I tried this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.*;\npublic class Exercise22_05 {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(\"Enter a series of numbers ending with 0: \");\n        int number = scanner.nextInt();\n        int count = 1;\n        int maxCount = 1;\n        int maxNumber = number;\n        int index = 0;\n        int i = 1;\n        while (number != 0) {\n            number = scanner.nextInt();\n            if (number == i) {\n              count++;\n            } else {\n                if (count &gt; maxCount) {\n                   maxCount = count;\n                   maxNumber = i;\n                   index = i - count + 1;\n                }\n                    count = 1;\n                    i = number;\n            }\n        }\n        if (count &gt; maxCount) {\n           maxCount = count;\n           maxNumber = i;\n           index = i - count + 1;\n        }\n        System.out.print(\"The longest same number sequence starts at index \" + index + \" with \" + maxCount + \" values of \" + maxNumber);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But it didn't work because here: <a href=\"https://i.stack.imgur.com/mYsGD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mYsGD.png\" alt=\"Please Click Here To See The Output That's Supposed To Work\" /></a></p>\n<p>Is there anyway to solve this problem? I will really if someone actually does help, so can anyone please help me?</p>\n"},{"tags":["java","simulation","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1701260159,"post_id":77570077,"comment_id":136753077,"body_markdown":"well, does it work before exporting from the AL IDE?","body":"well, does it work before exporting from the AL IDE?"},{"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"score":0,"creation_date":1701266850,"post_id":77570077,"comment_id":136754359,"body_markdown":"Yes, it works in the IDE, every experiments I tested.","body":"Yes, it works in the IDE, every experiments I tested."},{"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"score":0,"creation_date":1701267408,"post_id":77570077,"comment_id":136754492,"body_markdown":"I now decomplled the class Simulation.class to look into it, I posted the beginning of this class if this is allowed here.","body":"I now decomplled the class Simulation.class to look into it, I posted the beginning of this class if this is allowed here."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1701280473,"post_id":77570077,"comment_id":136757300,"body_markdown":"this won&#39;t help, tbh. Try compiling from a different machine or try running the compiled model on a different machine","body":"this won&#39;t help, tbh. Try compiling from a different machine or try running the compiled model on a different machine"}],"owner":{"account_id":30020657,"reputation":1,"user_id":23006107,"display_name":"Lemmy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701267102,"creation_date":1701251507,"question_id":77570077,"body_markdown":"I did an export from an AnyLogic project from Anylogic 8.8.5 to a standalone Java application. When I try to run this experiment standalone with the provided batch file to start on Windows, I get the error\r\n\r\n```none\r\nMain method not found in class wandering_elephants.Simulation, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n```\r\nThe batch file call is:\r\n\r\n```none\r\njava -cp model.jar;(and lot of more classpathes, see details attached) wandering_elephants.Simulation %*\r\n```\r\n\r\nmodel.jar contains subdirectory wandering_elephants and in this subdirectory Simulation.class\r\n\r\nI tried all different kinds of Java runtime versions and some different projects, but it is the same error.\r\n\r\nWhat could be the problem?\r\n\r\nAttachment:\r\n\r\nDetailed call\r\n```batch\r\n===================================================\r\n@echo off\r\nrem \r\nrem Run AnyLogic Experiment\r\nrem \r\nsetlocal enabledelayedexpansion\r\nchcp 1252 &gt;nul \r\nset DIR_BACKUP_XJAL=%cd%\r\ncd /D &quot;%~dp0&quot;\r\n\r\nrem ----------------------------------\r\n\r\nrem echo 1.Check JAVA_HOME\r\n\r\nif exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_HOME!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 2.Check PATH\r\n\r\nfor /f %%j in (&quot;java.exe&quot;) do (\r\n\tset JAVA_EXE=%%~$PATH:j\r\n)\r\n\r\nif defined JAVA_EXE (\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 3.Check AnyLogic registry\r\n\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\AnyLogic North America\r\n\r\nFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; 2^&gt;nul`) DO (\r\n\tset ANYLOGIC_KEY=%%A\r\n)\r\n\r\nif defined ANYLOGIC_KEY (\r\n\tFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_KEY%&quot; 2^&gt;nul`) DO (\r\n\t\tset ANYLOGIC_VERSION_KEY=%%A\r\n\t)\t\r\n)\r\n\r\nif defined ANYLOGIC_VERSION_KEY (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_VERSION_KEY%&quot; /v Location 2^&gt;nul`) DO (\r\n\t\tset ANYLOGIC_LOCATION=%%A %%B\r\n\t)\t\r\n)\r\n\r\nif exist &quot;%ANYLOGIC_LOCATION%\\jre\\bin\\java.exe&quot; (\r\n\tset PATH=!ANYLOGIC_LOCATION!\\jre\\bin;!PATH!\r\n\tgoto javafound \r\n)\r\n\r\nrem echo 4.Check java registry\r\n\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\r\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\r\n    set JAVA_CURRENT_VERSION=%%A\r\n)\r\n\r\nif defined JAVA_CURRENT_VERSION (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\r\n\t\tset JAVA_PATH=%%A %%B\r\n\t)\r\n)\r\n\r\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_PATH!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem 32 bit\r\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\r\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\r\n    set JAVA_CURRENT_VERSION=%%A\r\n)\r\n\r\nif defined JAVA_CURRENT_VERSION (\r\n\tFOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\r\n\t\tset JAVA_PATH=%%A %%B\r\n\t)\r\n)\r\n\r\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\r\n\tset PATH=!JAVA_PATH!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\nrem echo 5.Check Program Files\r\nfor /f &quot;delims=&quot; %%a in (&#39;dir &quot;%ProgramFiles%\\Java\\j*&quot; /o-d /ad /b&#39;) do (\r\n\tset JAVA_PROGRAM_FILES=&quot;%ProgramFiles%\\Java\\%%a&quot;\r\n\tif exist &quot;%ProgramFiles%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\r\n)\r\nfor /f &quot;delims=&quot; %%a in (&#39;dir &quot;%ProgramFiles(x86)%\\Java\\j*&quot; /o-d /ad /b&#39;) do (\r\n\tset JAVA_PROGRAM_FILES=&quot;%ProgramFiles(x86)%\\Java\\%%a&quot;\r\n\tif exist &quot;%ProgramFiles(x86)%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\r\n)\r\n\r\n:exitloop\r\n\r\nif defined JAVA_PROGRAM_FILES (\r\n\tset PATH=!JAVA_PROGRAM_FILES!\\bin;!PATH!\r\n\tgoto javafound\r\n)\r\n\r\necho  Error: Java not found\r\npause \r\ngoto end\r\n\r\n:javafound\r\n\r\nFOR /F &quot;usebackq tokens=4&quot; %%A IN (`java -fullversion 2^&gt;^&amp;1`) DO (\r\n\tset VERSION=%%~A\r\n)\r\n\r\necho Java version: %VERSION%\r\n\r\nset OPTIONS_XJAL=--illegal-access=deny\r\nIF &quot;%VERSION:~0,2%&quot;==&quot;1.&quot; set OPTIONS_XJAL=\r\n\r\nrem ---------------------------\r\n\r\necho on\r\n\r\njava %OPTIONS_XJAL% -cp model.jar;lib/MarkupDescriptors.jar;lib/com.anylogic.engine.jar;lib/com.anylogic.engine.datautil.jar;lib/com.anylogic.engine.editorapi.jar;lib/com.anylogic.engine.generalization.jar;lib/com.anylogic.engine.sa.jar;lib/sa/com.anylogic.engine.sa.web.jar;lib/sa/executor-basic-8.3.jar;lib/sa/ioutil-8.3.jar;lib/sa/jackson/jackson-annotations-2.14.3.jar;lib/sa/jackson/jackson-core-2.14.3.jar;lib/sa/jackson/jackson-databind-2.14.3.jar;lib/sa/spark/javax.servlet-api-3.1.0.jar;lib/sa/spark/jetty-client-9.4.51.v20230217.jar;lib/sa/spark/jetty-http-9.4.51.v20230217.jar;lib/sa/spark/jetty-io-9.4.51.v20230217.jar;lib/sa/spark/jetty-security-9.4.51.v20230217.jar;lib/sa/spark/jetty-server-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlet-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlets-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-ajax-9.4.51.v20230217.jar;lib/sa/spark/jetty-webapp-9.4.51.v20230217.jar;lib/sa/spark/jetty-xml-9.4.51.v20230217.jar;lib/sa/spark/slf4j-api-1.7.25.jar;lib/sa/spark/spark-core-2.9.4-AL.jar;lib/sa/spark/websocket-api-9.4.51.v20230217.jar;lib/sa/spark/websocket-client-9.4.51.v20230217.jar;lib/sa/spark/websocket-common-9.4.51.v20230217.jar;lib/sa/spark/websocket-server-9.4.51.v20230217.jar;lib/sa/spark/websocket-servlet-9.4.51.v20230217.jar;lib/sa/util-8.3.jar;lib/database/querydsl/querydsl-core-5.0.0.jar;lib/database/querydsl/querydsl-sql-5.0.0.jar;lib/database/querydsl/querydsl-sql-codegen-5.0.0.jar;lib/commons-lang3-3.9.jar;lib/commons-io-2.11.0.jar;lib/poi/commons-collections4-4.4.jar;lib/poi/poi-3.17.jar;lib/poi/poi-examples-3.17.jar;lib/poi/poi-excelant-3.17.jar;lib/poi/poi-ooxml-3.17.jar;lib/poi/poi-ooxml-schemas-3.17.jar;lib/poi/poi-scratchpad-5.2.1.jar;lib/poi/xmlbeans-2.6.0.jar -Xmx64m wandering_elephants.Simulation %*\r\n\r\n@echo off\r\nif %ERRORLEVEL% neq 0 pause\r\n:end\r\necho on\r\n@cd /D &quot;%DIR_BACKUP_XJAL%&quot;\r\n```\r\n\r\nAtachment 2\r\ndecompile of Simulation.class\r\n\r\n    // \r\n    // Decompiled by Procyon v0.6.0\r\n    // \r\n    \r\n    package wandering_elephants;\r\n    \r\n    import com.anylogic.engine.presentation.ModelElementDescriptorUtils;\r\n    import com.anylogic.engine.gui.IExperimentHost;\r\n    import com.anylogic.engine.AgentList;\r\n    import com.anylogic.engine.Agent;\r\n    import java.util.Random;\r\n    import com.anylogic.engine.Engine;\r\n    import com.anylogic.engine.Presentable;\r\n    import java.awt.Paint;\r\n    import com.anylogic.engine.presentation.ColorConstants;\r\n    import com.anylogic.engine.presentation.ShapeModelElementsGroup;\r\n    import com.anylogic.engine.presentation.ShapeTopLevelPresentationGroup;\r\n    import com.anylogic.engine.presentation.ShapeImage;\r\n    import com.anylogic.engine.presentation.ShapeOval;\r\n    import com.anylogic.engine.presentation.ShapePolyLine;\r\n    import com.anylogic.engine.presentation.ShapeText;\r\n    import com.anylogic.engine.presentation.ShapeRectangle;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import com.anylogic.engine.elements.IElementDescriptor;\r\n    import java.util.Map;\r\n    import com.anylogic.engine.AnyLogicInternalCodegenAPI;\r\n    import com.anylogic.engine.ExperimentSimulation;\r\n    \r\n    public class Simulation extends ExperimentSimulation&lt;Main&gt;\r\n    {\r\n        @AnyLogicInternalCodegenAPI\r\n        public static String[] COMMAND_LINE_ARGUMENTS_xjal;\r\n        @AnyLogicInternalCodegenAPI\r\n        private static Map&lt;String, IElementDescriptor&gt; elementDesciptors_xjal;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text1_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text3_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Font _text4_Font;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Color _text_Color;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final Color _text4_Color;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _rect = 1;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text = 2;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text1 = 3;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text3 = 4;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline = 5;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _oval = 6;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline1 = 7;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _polyline2 = 8;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _text4 = 9;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _image1 = 10;\r\n        @AnyLogicInternalCodegenAPI\r\n        protected static final int _SHAPE_NEXT_ID_xjal = 11;\r\n        protected ShapeRectangle rect;\r\n        protected ShapeText text;\r\n        protected ShapeText text1;\r\n        protected ShapeText text3;\r\n        protected ShapePolyLine polyline;\r\n        protected ShapeOval oval;\r\n        protected ShapePolyLine polyline1;\r\n        protected ShapePolyLine polyline2;\r\n        protected ShapeText text4;\r\n        protected ShapeImage image1;\r\n        protected ShapeTopLevelPresentationGroup presentation;\r\n        protected ShapeModelElementsGroup icon;\r\n        @AnyLogicInternalCodegenAPI\r\n        private static final long serialVersionUID = 38284644110508400L;\r\n        \r\n        static {\r\n            Simulation.COMMAND_LINE_ARGUMENTS_xjal = new String[0];\r\n            Simulation.elementDesciptors_xjal = createElementDescriptors((Class)Simulation.class);\r\n            _text_Font = new Font(&quot;SansSerif&quot;, 1, 48);\r\n            _text1_Font = Simulation._text_Font;\r\n            _text3_Font = new Font(&quot;SansSerif&quot;, 0, 11);\r\n            _text4_Font = Simulation._text3_Font;\r\n            _text_Color = new Color(-7765933, true);\r\n            _text4_Color = new Color(-16751872, true);\r\n        }\r\n        \r\n        public Simulation() {\r\n            this.setCommandLineArguments_xjal(Simulation.COMMAND_LINE_ARGUMENTS_xjal);\r\n        }\r\n    ...\r\n\r\n    \r\n","title":"Error when trying to run exported standalone java application","body":"<p>I did an export from an AnyLogic project from Anylogic 8.8.5 to a standalone Java application. When I try to run this experiment standalone with the provided batch file to start on Windows, I get the error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main method not found in class wandering_elephants.Simulation, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n<p>The batch file call is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp model.jar;(and lot of more classpathes, see details attached) wandering_elephants.Simulation %*\n</code></pre>\n<p>model.jar contains subdirectory wandering_elephants and in this subdirectory Simulation.class</p>\n<p>I tried all different kinds of Java runtime versions and some different projects, but it is the same error.</p>\n<p>What could be the problem?</p>\n<p>Attachment:</p>\n<p>Detailed call</p>\n<pre><code>===================================================\n@echo off\nrem \nrem Run AnyLogic Experiment\nrem \nsetlocal enabledelayedexpansion\nchcp 1252 &gt;nul \nset DIR_BACKUP_XJAL=%cd%\ncd /D &quot;%~dp0&quot;\n\nrem ----------------------------------\n\nrem echo 1.Check JAVA_HOME\n\nif exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_HOME!\\bin;!PATH!\n    goto javafound\n)\n\nrem echo 2.Check PATH\n\nfor /f %%j in (&quot;java.exe&quot;) do (\n    set JAVA_EXE=%%~$PATH:j\n)\n\nif defined JAVA_EXE (\n    goto javafound\n)\n\nrem echo 3.Check AnyLogic registry\n\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\AnyLogic North America\n\nFOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; 2^&gt;nul`) DO (\n    set ANYLOGIC_KEY=%%A\n)\n\nif defined ANYLOGIC_KEY (\n    FOR /F &quot;usebackq delims=&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_KEY%&quot; 2^&gt;nul`) DO (\n        set ANYLOGIC_VERSION_KEY=%%A\n    )   \n)\n\nif defined ANYLOGIC_VERSION_KEY (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%ANYLOGIC_VERSION_KEY%&quot; /v Location 2^&gt;nul`) DO (\n        set ANYLOGIC_LOCATION=%%A %%B\n    )   \n)\n\nif exist &quot;%ANYLOGIC_LOCATION%\\jre\\bin\\java.exe&quot; (\n    set PATH=!ANYLOGIC_LOCATION!\\jre\\bin;!PATH!\n    goto javafound \n)\n\nrem echo 4.Check java registry\n\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\n    set JAVA_CURRENT_VERSION=%%A\n)\n\nif defined JAVA_CURRENT_VERSION (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\n        set JAVA_PATH=%%A %%B\n    )\n)\n\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_PATH!\\bin;!PATH!\n    goto javafound\n)\n\nrem 32 bit\nset KEY_NAME=HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\nFOR /F &quot;usebackq skip=2 tokens=3&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%&quot; /v CurrentVersion 2^&gt;nul`) DO (\n    set JAVA_CURRENT_VERSION=%%A\n)\n\nif defined JAVA_CURRENT_VERSION (\n    FOR /F &quot;usebackq skip=2 tokens=3*&quot; %%A IN (`REG QUERY &quot;%KEY_NAME%\\%JAVA_CURRENT_VERSION%&quot; /v JavaHome 2^&gt;nul`) DO (\n        set JAVA_PATH=%%A %%B\n    )\n)\n\nif exist &quot;%JAVA_PATH%\\bin\\java.exe&quot; (\n    set PATH=!JAVA_PATH!\\bin;!PATH!\n    goto javafound\n)\n\nrem echo 5.Check Program Files\nfor /f &quot;delims=&quot; %%a in ('dir &quot;%ProgramFiles%\\Java\\j*&quot; /o-d /ad /b') do (\n    set JAVA_PROGRAM_FILES=&quot;%ProgramFiles%\\Java\\%%a&quot;\n    if exist &quot;%ProgramFiles%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\n)\nfor /f &quot;delims=&quot; %%a in ('dir &quot;%ProgramFiles(x86)%\\Java\\j*&quot; /o-d /ad /b') do (\n    set JAVA_PROGRAM_FILES=&quot;%ProgramFiles(x86)%\\Java\\%%a&quot;\n    if exist &quot;%ProgramFiles(x86)%\\Java\\%%a\\bin\\java.exe&quot; goto exitloop\n)\n\n:exitloop\n\nif defined JAVA_PROGRAM_FILES (\n    set PATH=!JAVA_PROGRAM_FILES!\\bin;!PATH!\n    goto javafound\n)\n\necho  Error: Java not found\npause \ngoto end\n\n:javafound\n\nFOR /F &quot;usebackq tokens=4&quot; %%A IN (`java -fullversion 2^&gt;^&amp;1`) DO (\n    set VERSION=%%~A\n)\n\necho Java version: %VERSION%\n\nset OPTIONS_XJAL=--illegal-access=deny\nIF &quot;%VERSION:~0,2%&quot;==&quot;1.&quot; set OPTIONS_XJAL=\n\nrem ---------------------------\n\necho on\n\njava %OPTIONS_XJAL% -cp model.jar;lib/MarkupDescriptors.jar;lib/com.anylogic.engine.jar;lib/com.anylogic.engine.datautil.jar;lib/com.anylogic.engine.editorapi.jar;lib/com.anylogic.engine.generalization.jar;lib/com.anylogic.engine.sa.jar;lib/sa/com.anylogic.engine.sa.web.jar;lib/sa/executor-basic-8.3.jar;lib/sa/ioutil-8.3.jar;lib/sa/jackson/jackson-annotations-2.14.3.jar;lib/sa/jackson/jackson-core-2.14.3.jar;lib/sa/jackson/jackson-databind-2.14.3.jar;lib/sa/spark/javax.servlet-api-3.1.0.jar;lib/sa/spark/jetty-client-9.4.51.v20230217.jar;lib/sa/spark/jetty-http-9.4.51.v20230217.jar;lib/sa/spark/jetty-io-9.4.51.v20230217.jar;lib/sa/spark/jetty-security-9.4.51.v20230217.jar;lib/sa/spark/jetty-server-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlet-9.4.51.v20230217.jar;lib/sa/spark/jetty-servlets-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-9.4.51.v20230217.jar;lib/sa/spark/jetty-util-ajax-9.4.51.v20230217.jar;lib/sa/spark/jetty-webapp-9.4.51.v20230217.jar;lib/sa/spark/jetty-xml-9.4.51.v20230217.jar;lib/sa/spark/slf4j-api-1.7.25.jar;lib/sa/spark/spark-core-2.9.4-AL.jar;lib/sa/spark/websocket-api-9.4.51.v20230217.jar;lib/sa/spark/websocket-client-9.4.51.v20230217.jar;lib/sa/spark/websocket-common-9.4.51.v20230217.jar;lib/sa/spark/websocket-server-9.4.51.v20230217.jar;lib/sa/spark/websocket-servlet-9.4.51.v20230217.jar;lib/sa/util-8.3.jar;lib/database/querydsl/querydsl-core-5.0.0.jar;lib/database/querydsl/querydsl-sql-5.0.0.jar;lib/database/querydsl/querydsl-sql-codegen-5.0.0.jar;lib/commons-lang3-3.9.jar;lib/commons-io-2.11.0.jar;lib/poi/commons-collections4-4.4.jar;lib/poi/poi-3.17.jar;lib/poi/poi-examples-3.17.jar;lib/poi/poi-excelant-3.17.jar;lib/poi/poi-ooxml-3.17.jar;lib/poi/poi-ooxml-schemas-3.17.jar;lib/poi/poi-scratchpad-5.2.1.jar;lib/poi/xmlbeans-2.6.0.jar -Xmx64m wandering_elephants.Simulation %*\n\n@echo off\nif %ERRORLEVEL% neq 0 pause\n:end\necho on\n@cd /D &quot;%DIR_BACKUP_XJAL%&quot;\n</code></pre>\n<p>Atachment 2\ndecompile of Simulation.class</p>\n<pre><code>// \n// Decompiled by Procyon v0.6.0\n// \n\npackage wandering_elephants;\n\nimport com.anylogic.engine.presentation.ModelElementDescriptorUtils;\nimport com.anylogic.engine.gui.IExperimentHost;\nimport com.anylogic.engine.AgentList;\nimport com.anylogic.engine.Agent;\nimport java.util.Random;\nimport com.anylogic.engine.Engine;\nimport com.anylogic.engine.Presentable;\nimport java.awt.Paint;\nimport com.anylogic.engine.presentation.ColorConstants;\nimport com.anylogic.engine.presentation.ShapeModelElementsGroup;\nimport com.anylogic.engine.presentation.ShapeTopLevelPresentationGroup;\nimport com.anylogic.engine.presentation.ShapeImage;\nimport com.anylogic.engine.presentation.ShapeOval;\nimport com.anylogic.engine.presentation.ShapePolyLine;\nimport com.anylogic.engine.presentation.ShapeText;\nimport com.anylogic.engine.presentation.ShapeRectangle;\nimport java.awt.Color;\nimport java.awt.Font;\nimport com.anylogic.engine.elements.IElementDescriptor;\nimport java.util.Map;\nimport com.anylogic.engine.AnyLogicInternalCodegenAPI;\nimport com.anylogic.engine.ExperimentSimulation;\n\npublic class Simulation extends ExperimentSimulation&lt;Main&gt;\n{\n    @AnyLogicInternalCodegenAPI\n    public static String[] COMMAND_LINE_ARGUMENTS_xjal;\n    @AnyLogicInternalCodegenAPI\n    private static Map&lt;String, IElementDescriptor&gt; elementDesciptors_xjal;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text1_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text3_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Font _text4_Font;\n    @AnyLogicInternalCodegenAPI\n    protected static final Color _text_Color;\n    @AnyLogicInternalCodegenAPI\n    protected static final Color _text4_Color;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _rect = 1;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text = 2;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text1 = 3;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text3 = 4;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline = 5;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _oval = 6;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline1 = 7;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _polyline2 = 8;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _text4 = 9;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _image1 = 10;\n    @AnyLogicInternalCodegenAPI\n    protected static final int _SHAPE_NEXT_ID_xjal = 11;\n    protected ShapeRectangle rect;\n    protected ShapeText text;\n    protected ShapeText text1;\n    protected ShapeText text3;\n    protected ShapePolyLine polyline;\n    protected ShapeOval oval;\n    protected ShapePolyLine polyline1;\n    protected ShapePolyLine polyline2;\n    protected ShapeText text4;\n    protected ShapeImage image1;\n    protected ShapeTopLevelPresentationGroup presentation;\n    protected ShapeModelElementsGroup icon;\n    @AnyLogicInternalCodegenAPI\n    private static final long serialVersionUID = 38284644110508400L;\n    \n    static {\n        Simulation.COMMAND_LINE_ARGUMENTS_xjal = new String[0];\n        Simulation.elementDesciptors_xjal = createElementDescriptors((Class)Simulation.class);\n        _text_Font = new Font(&quot;SansSerif&quot;, 1, 48);\n        _text1_Font = Simulation._text_Font;\n        _text3_Font = new Font(&quot;SansSerif&quot;, 0, 11);\n        _text4_Font = Simulation._text3_Font;\n        _text_Color = new Color(-7765933, true);\n        _text4_Color = new Color(-16751872, true);\n    }\n    \n    public Simulation() {\n        this.setCommandLineArguments_xjal(Simulation.COMMAND_LINE_ARGUMENTS_xjal);\n    }\n...\n</code></pre>\n"},{"tags":["java","csrf","csrf-token"],"owner":{"account_id":24241250,"reputation":1,"user_id":18193586,"display_name":"Melia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701266762,"creation_date":1701266762,"question_id":77571838,"body_markdown":"How can I generate a single csrf token per session and it does not change by request with google as the login in java?\r\n\r\nI enable csrf token\r\n```\r\nhttp.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n```\r\nI made a controller so that the front receives the token\r\n\r\n\r\n```\r\n @GetMapping(&quot;/csrf&quot;)\r\n public CsrfToken csrf(CsrfToken token) {\r\n     return token;\r\n }\r\n```\r\n","title":"CSRF TOKEN per session","body":"<p>How can I generate a single csrf token per session and it does not change by request with google as the login in java?</p>\n<p>I enable csrf token</p>\n<pre><code>http.csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n</code></pre>\n<p>I made a controller so that the front receives the token</p>\n<pre><code> @GetMapping(&quot;/csrf&quot;)\n public CsrfToken csrf(CsrfToken token) {\n     return token;\n }\n</code></pre>\n"},{"tags":["java","ssl","keystore"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1549919306,"post_id":54634060,"comment_id":96070198,"body_markdown":"Hi &amp; welcome to [so]! Interesting question! would you also share/tell us your java version?","body":"Hi &amp; welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! Interesting question! would you also share/tell us your java version?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549919953,"post_id":54634060,"comment_id":96070483,"body_markdown":"and `java.security.cert.CertPathValidatorException` .... &quot;try also&quot; `jdk.certpath.disabledAlgorithms` (...additionally to `jdk.tls...` and `jdk.jar...`)","body":"and <code>java.security.cert.CertPathValidatorException</code> .... &quot;try also&quot; <code>jdk.certpath.disabledAlgorithms</code> (...additionally to <code>jdk.tls...</code> and <code>jdk.jar...</code>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549925465,"post_id":54634060,"comment_id":96072587,"body_markdown":"..as i understand problem/question: the *2048* key fails., @user207421 . And confusing 1: &quot;As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…&quot; ..and 2. confusing: &quot;Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of **1024bits**&quot;","body":"..as i understand problem/question: the <i>2048</i> key fails., @user207421 . And confusing 1: &quot;As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…&quot; ..and 2. confusing: &quot;Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of <b>1024bits</b>&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549925583,"post_id":54634060,"comment_id":96072623,"body_markdown":"you *think*, you have a 2048 key, @SUP3RS3T, but &quot;confusing 1. + 2.&quot;(my previous comment)  match the fact, that &quot;spring boot uses another key with 1024b&quot;!","body":"you <i>think</i>, you have a 2048 key, @SUP3RS3T, but &quot;confusing 1. + 2.&quot;(my previous comment)  match the fact, that &quot;spring boot uses another key with 1024b&quot;!"},{"owner":{"account_id":1460069,"reputation":139,"user_id":1374630,"display_name":"Aleksei Kurepin"},"score":0,"creation_date":1550240233,"post_id":54634060,"comment_id":96207811,"body_markdown":"Which version on JDK do you use? do you have JSSE?","body":"Which version on JDK do you use? do you have JSSE?"}],"answers":[{"tags":[],"owner":{"account_id":15310457,"reputation":179,"user_id":11045909,"display_name":"SUP3RS3T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550201906,"creation_date":1550201906,"answer_id":54702360,"question_id":54634060,"body_markdown":"Just wanted to add to this. After enabling cert debugging via adding\r\n\r\n    -Djava.security.debug=certpath\r\n\r\nSo, as an example:\r\n\r\n    java -Xms64m -Xmx512m -Djava.security.debug=certpath -Dspring.config.location=config.file -jar appname.jar &amp;&gt;&gt; logfile.log &amp;\r\n\r\nI&#39;m finally able to see why is Java complaining.\r\nApparently encrypted AWS RDS Instances use SSL cert that&#39;s 1024 bit. When my java applications call it, they fail because their policy is set to only accept RSA &lt; 2048 keySize.\r\n\r\nI contacted AWS for further guidance.\r\n\r\nIf anyone is struggling to troubleshoot Java cert issues, make use of:\r\n\r\n    -Djava.security.debug=certpath\r\n\r\nIt&#39;s extremely helpful.\r\n\r\nThank you.\r\n\r\n","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>Just wanted to add to this. After enabling cert debugging via adding</p>\n\n<pre><code>-Djava.security.debug=certpath\n</code></pre>\n\n<p>So, as an example:</p>\n\n<pre><code>java -Xms64m -Xmx512m -Djava.security.debug=certpath -Dspring.config.location=config.file -jar appname.jar &amp;&gt;&gt; logfile.log &amp;\n</code></pre>\n\n<p>I'm finally able to see why is Java complaining.\nApparently encrypted AWS RDS Instances use SSL cert that's 1024 bit. When my java applications call it, they fail because their policy is set to only accept RSA &lt; 2048 keySize.</p>\n\n<p>I contacted AWS for further guidance.</p>\n\n<p>If anyone is struggling to troubleshoot Java cert issues, make use of:</p>\n\n<pre><code>-Djava.security.debug=certpath\n</code></pre>\n\n<p>It's extremely helpful.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":3406565,"reputation":3857,"user_id":2857477,"accept_rate":50,"display_name":"akelec"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634047349,"creation_date":1634047349,"answer_id":69541972,"question_id":54634060,"body_markdown":"I was stuck with that for a long time, and finally, I have found the solution.\r\n\r\nSo whenever I modified the file `java.security`, it would have no effect, because there is a second file `java.config` (on Linux it is located: `/etc/crypto-policies/back-ends/java.config`) that overrides the params in `java.security`. \r\n\r\nThis is controlled by the property (in `java.security`):  \r\n\r\n`security.useSystemPropertiesFile=true`\r\n\r\nSo, either change that property to `false`, or modify params directly in `java.config`.\r\n\r\nThis has worked for me!","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>I was stuck with that for a long time, and finally, I have found the solution.</p>\n<p>So whenever I modified the file <code>java.security</code>, it would have no effect, because there is a second file <code>java.config</code> (on Linux it is located: <code>/etc/crypto-policies/back-ends/java.config</code>) that overrides the params in <code>java.security</code>.</p>\n<p>This is controlled by the property (in <code>java.security</code>):</p>\n<p><code>security.useSystemPropertiesFile=true</code></p>\n<p>So, either change that property to <code>false</code>, or modify params directly in <code>java.config</code>.</p>\n<p>This has worked for me!</p>\n"},{"tags":[],"owner":{"account_id":4922134,"reputation":499,"user_id":3964446,"display_name":"Pedro Alvares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701266715,"creation_date":1701266715,"answer_id":77571835,"question_id":54634060,"body_markdown":"I&#39;ve successfully handled those errors about RSA key sizes by changing the Java configuration to allow the key size used by the destination server I was trying to communicate.\r\nIt&#39;s pretty much what was covered by the other answers here, but this way you&#39;ll be sure all bases are covered.\r\n\r\n1) Find all java.config and java.security files on your OS file system:\r\n\r\n&gt; find / -iname java.config\r\n\r\n&gt; find / -iname java.security\r\n\r\n2) Access every one of those (vi/nano) and find configurations regarding RSA key size (RSA keySize &lt; X or RSA keySize &gt;= Y). On each one, change the operator and value that follows to suit your needs, and then save the file. For example, if your error message complains about a RSA 1024 bit key, you should have the following:\r\n\r\n&gt; RSA keySize &lt; 1024 (which means you&#39;re not allowing keys lesser than 1024 bits, so 1024 or above will be fine)\r\n\r\n3) Restart your service.\r\n\r\nThat&#39;s it. In my case I&#39;ve had to change 4 files to be sure.\r\nThe guide above assumes you&#39;re using Linux, but if you&#39;re not, you can adjust the commands to your OS.","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>I've successfully handled those errors about RSA key sizes by changing the Java configuration to allow the key size used by the destination server I was trying to communicate.\nIt's pretty much what was covered by the other answers here, but this way you'll be sure all bases are covered.</p>\n<ol>\n<li>Find all java.config and java.security files on your OS file system:</li>\n</ol>\n<blockquote>\n<p>find / -iname java.config</p>\n</blockquote>\n<blockquote>\n<p>find / -iname java.security</p>\n</blockquote>\n<ol start=\"2\">\n<li>Access every one of those (vi/nano) and find configurations regarding RSA key size (RSA keySize &lt; X or RSA keySize &gt;= Y). On each one, change the operator and value that follows to suit your needs, and then save the file. For example, if your error message complains about a RSA 1024 bit key, you should have the following:</li>\n</ol>\n<blockquote>\n<p>RSA keySize &lt; 1024 (which means you're not allowing keys lesser than 1024 bits, so 1024 or above will be fine)</p>\n</blockquote>\n<ol start=\"3\">\n<li>Restart your service.</li>\n</ol>\n<p>That's it. In my case I've had to change 4 files to be sure.\nThe guide above assumes you're using Linux, but if you're not, you can adjust the commands to your OS.</p>\n"}],"owner":{"account_id":15310457,"reputation":179,"user_id":11045909,"display_name":"SUP3RS3T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14344,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1701266715,"creation_date":1549899539,"question_id":54634060,"body_markdown":"After generating java keystore with: -keyalg RSA -keysize 2048\r\nand configuring the java.security policy with:\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, RSA keySize &lt; 2048\r\n\r\nI keep getting errors:\r\n\r\n&gt;java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits\r\n\r\nI’m using the following command to generate a 2048bit RSA key:\r\n \r\n\r\n    keytool -genkey -alias tomcat -keyalg RSA -keysize 2048 -keystore star_domain_name.jks -storetype PKCS12 -dname &quot;CN=*.domain_name.com,OU=Engineering, O=Company Name., L=City Name, ST=State, C=US&quot; &amp;&amp; keytool -certreq -alias server -file star_domain_name.com.csr -keystore star_domain_name_io.jks\r\n\r\nI then verify the above with:\r\n\r\n    openssl s_client -showcerts -connect localhost:443\r\n\r\nThat shows:\r\n\r\n    New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n    Server public key is 2048 bit\r\n    Secure Renegotiation IS supported\r\n    Compression: NONE\r\n    Expansion: NONE\r\n    No ALPN negotiated\r\n    SSL-Session:\r\n        Protocol  : TLSv1.2\r\n\r\nI also view the keystore with:\r\n\r\n    keytool -list -v -keystore star_domain_name.com.jks\r\n\r\nWhich shows:\r\n\r\n    Certificate fingerprints:\r\n             MD5:  67:4C:04:90:35:etc...etc...\r\n             SHA1: AD:C8:06:74:3A:F1:72:etc...etc...\r\n             SHA256: C5:D6:81:3B:C1:F7:CE:2D:43:91:06:E9:9etc...etc...\r\n    Signature algorithm name: SHA256withRSA\r\n    Subject Public Key Algorithm: 2048-bit RSA key\r\n\r\nEverywhere I look I see 2048-bit RSA key.\r\nHowever, when I want to use the java keystore in my java spring boot application, it keeps complaining:\r\n\r\n&gt; - Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits\r\n- Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n\r\nAs soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…\r\n\r\nIs this because I did not import a signed domain cert?\r\nWhy does the application complain although I clearly configured the policy and the java keystore for 2048 bits?\r\n\r\nMy java application configuration contains:\r\n\r\n    ssl.key-store: /opt/cert_path/star_domain_name.com.jks\r\n    ssl.enabled: true\r\n    ssl.key-store-password: the_password_etc...\r\n    ssl.key-store-type: PKCS12\r\n    ssl.key-alias: tomcat\r\n\r\nAs soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…\r\n\r\nIs this because I did not import a signed domain cert and the keystore is empty? I doubt it.\r\n\r\nWhy does the application complain although I clearly configured the policy file and the java keystore for 2048 bits?\r\n\r\nThe java.security file also contains:\r\n\r\n    jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, DSA keySize &lt; 1024\r\n\r\nShould that also be adjusted?\r\n\r\nI&#39;ve actually tried to adjust that, but that had no effect...\r\n\r\n\r\n","title":"Java Algorithm constraints check failed on key RSA with size of 1024bits","body":"<p>After generating java keystore with: -keyalg RSA -keysize 2048\nand configuring the java.security policy with:</p>\n\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, RSA keySize &lt; 2048\n</code></pre>\n\n<p>I keep getting errors:</p>\n\n<blockquote>\n  <p>java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits</p>\n</blockquote>\n\n<p>I’m using the following command to generate a 2048bit RSA key:</p>\n\n<pre><code>keytool -genkey -alias tomcat -keyalg RSA -keysize 2048 -keystore star_domain_name.jks -storetype PKCS12 -dname \"CN=*.domain_name.com,OU=Engineering, O=Company Name., L=City Name, ST=State, C=US\" &amp;&amp; keytool -certreq -alias server -file star_domain_name.com.csr -keystore star_domain_name_io.jks\n</code></pre>\n\n<p>I then verify the above with:</p>\n\n<pre><code>openssl s_client -showcerts -connect localhost:443\n</code></pre>\n\n<p>That shows:</p>\n\n<pre><code>New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n</code></pre>\n\n<p>I also view the keystore with:</p>\n\n<pre><code>keytool -list -v -keystore star_domain_name.com.jks\n</code></pre>\n\n<p>Which shows:</p>\n\n<pre><code>Certificate fingerprints:\n         MD5:  67:4C:04:90:35:etc...etc...\n         SHA1: AD:C8:06:74:3A:F1:72:etc...etc...\n         SHA256: C5:D6:81:3B:C1:F7:CE:2D:43:91:06:E9:9etc...etc...\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\n</code></pre>\n\n<p>Everywhere I look I see 2048-bit RSA key.\nHowever, when I want to use the java keystore in my java spring boot application, it keeps complaining:</p>\n\n<blockquote>\n  <ul>\n  <li>Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on key RSA with size of 1024bits</li>\n  <li>Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints</li>\n  </ul>\n</blockquote>\n\n<p>As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…</p>\n\n<p>Is this because I did not import a signed domain cert?\nWhy does the application complain although I clearly configured the policy and the java keystore for 2048 bits?</p>\n\n<p>My java application configuration contains:</p>\n\n<pre><code>ssl.key-store: /opt/cert_path/star_domain_name.com.jks\nssl.enabled: true\nssl.key-store-password: the_password_etc...\nssl.key-store-type: PKCS12\nssl.key-alias: tomcat\n</code></pre>\n\n<p>As soon as I edit the java.security file, and remove RSA keySize &lt; 2048 from it, and restart the application, everything works…</p>\n\n<p>Is this because I did not import a signed domain cert and the keystore is empty? I doubt it.</p>\n\n<p>Why does the application complain although I clearly configured the policy file and the java keystore for 2048 bits?</p>\n\n<p>The java.security file also contains:</p>\n\n<pre><code>jdk.jar.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024, DSA keySize &lt; 1024\n</code></pre>\n\n<p>Should that also be adjusted?</p>\n\n<p>I've actually tried to adjust that, but that had no effect...</p>\n"},{"tags":["java","spring","spring-boot","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"score":0,"creation_date":1700935889,"post_id":77548921,"comment_id":136714000,"body_markdown":"@Toerktumlare Sorry, I&#39;ve added the requested Class and added the schema. Now the browser console doesn&#39;t display the 403 for the request anymore, however the credentials still aren&#39;t passed.","body":"@Toerktumlare Sorry, I&#39;ve added the requested Class and added the schema. Now the browser console doesn&#39;t display the 403 for the request anymore, however the credentials still aren&#39;t passed."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700953817,"post_id":77548921,"comment_id":136715608,"body_markdown":"have you defined the templating engine and defined how your viewes are served etc?","body":"have you defined the templating engine and defined how your viewes are served etc?"},{"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"score":0,"creation_date":1701260050,"post_id":77548921,"comment_id":136753046,"body_markdown":"Found the mistake, there was just the @Setter in RegistrationRequest missing, I&#39;ll post an answer around your comment. Thanks for your help!","body":"Found the mistake, there was just the @Setter in RegistrationRequest missing, I&#39;ll post an answer around your comment. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701266588,"creation_date":1701260406,"answer_id":77571105,"question_id":77548921,"body_markdown":"It turns out that there were 2 problems in my code;\r\n\r\n 1. Based on the comment of @Toerktumlare; To resolve the 403 Error I needed to add `.formLogin(Customizer.withDefaults())` to the SecurityFilterChain.\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n\thttp.authorizeHttpRequests((authorize) -&gt; authorize\r\n\t\t\t.requestMatchers(&quot;/&quot;,&quot;/register&quot;,&quot;/login&quot;,&quot;/css/style.css&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated())\r\n\t\t\t.formLogin(Customizer.withDefaults())\r\n\t\t\t.csrf(AbstractHttpConfigurer::disable)\r\n\t\t\t.cors(AbstractHttpConfigurer::disable);\r\n\r\n\treturn http.build();\r\n}\r\n```\r\n\r\n 2. The `@Setter` annotation in RegistrationRequest was missing, hence the values for the attributes couldn&#39;t be set.\r\n\r\n```\r\nimport lombok.*;\r\n    \r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\n    \r\npublic class RegistrationRequest {\r\n\tprivate String email;\r\n\tprivate String name;\r\n\tprivate String password;\r\n\tprivate String passwordRepeat;\r\n}\r\n```","title":"trying to process a Thymeleaf registration form with Spring Security 6 -&gt; 403 on POST request","body":"<p>It turns out that there were 2 problems in my code;</p>\n<ol>\n<li>Based on the comment of @Toerktumlare; To resolve the 403 Error I needed to add <code>.formLogin(Customizer.withDefaults())</code> to the SecurityFilterChain.</li>\n</ol>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((authorize) -&gt; authorize\n            .requestMatchers(&quot;/&quot;,&quot;/register&quot;,&quot;/login&quot;,&quot;/css/style.css&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated())\n            .formLogin(Customizer.withDefaults())\n            .csrf(AbstractHttpConfigurer::disable)\n            .cors(AbstractHttpConfigurer::disable);\n\n    return http.build();\n}\n</code></pre>\n<ol start=\"2\">\n<li>The <code>@Setter</code> annotation in RegistrationRequest was missing, hence the values for the attributes couldn't be set.</li>\n</ol>\n<pre><code>import lombok.*;\n    \n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n    \npublic class RegistrationRequest {\n    private String email;\n    private String name;\n    private String password;\n    private String passwordRepeat;\n}\n</code></pre>\n"}],"owner":{"account_id":18211954,"reputation":21,"user_id":13254304,"display_name":"sirmeowsalot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571105,"answer_count":1,"score":0,"last_activity_date":1701266588,"creation_date":1700933790,"question_id":77548921,"body_markdown":"I&#39;m new to Spring Boot and am trying to create a simple registration + login. However whenever I try to submit data with a POST request, the request gets blocked (403) and I&#39;m not getting redirected to the success page. Since the request gets blocked, this results later on in a Null pointer Exception when I try to validate the submitted input.\r\n\r\nLooking through other posts a common problem seemed to be csrf protection, which I explicitly disabled. Another common issue among other posts was that the correct authorization wasn&#39;t granted, I tried to do so with `.permitAll().anyRequest().authenticated()`. Since to my understanding I explicitly enabled all requests for &quot;/register&quot;, I expected to at least get the credentials as output at the debug messages in the Controller.\r\n\r\nThe registration form;\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;form th:action=&quot;@{register}&quot; method=&quot;post&quot; th:object=&quot;${registrationRequest}&quot;&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;emailInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{email}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;email&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;emailInput&quot; placeholder=&quot;Email&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;usernameInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{name}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;name&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usernameInput&quot; placeholder=&quot;Username&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;passwordInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{password}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;password&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;passwordInput&quot; placeholder=&quot;Password&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label for=&quot;passwordRepeatInput&quot; class=&quot;form-label&quot;&gt;&lt;/label&gt;\r\n                    &lt;input th:field=&quot;*{passwordRepeat}&quot; th:classappend=&quot;${#fields.hasErrors(&#39;passwordRepeat&#39;)} ? &#39;is-invalid&#39;&quot; type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;passwordRepeatInput&quot; placeholder=&quot;Password confirmation&quot;&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-outline-dark btn-custom&quot;&gt;Sign up!&lt;/button&gt;\r\n            &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe routing in the Controller;\r\n```\r\n    @RequestMapping(value=&quot;register&quot;)\r\n    public String showRegisterPage(Model model) {\r\n        model.addAttribute(&quot;registrationRequest&quot;, new RegistrationRequest());\r\n        return &quot;user/user-add&quot;;\r\n    }\r\n    \r\n    @PostMapping(value=&quot;register&quot;)\r\n    public String processRegisterRequest(@ModelAttribute RegistrationRequest registrationRequest, BindingResult result) {\r\n    \r\n        System.out.println(&quot;DEBUG: &quot; + registrationRequest.getName() + registrationRequest.getEmail() + registrationRequest.getPassword());\r\n        System.out.println(result.getAllErrors());\r\n    \r\n        userService.register(registrationRequest);\r\n        return &quot;user/registration-success&quot;;\r\n    }\r\n```\r\nThe likely misconfigured SecurityFilterChain;\r\n```\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(\r\n                        &quot;/&quot;,\r\n                        &quot;/register&quot;,\r\n                        &quot;/login&quot;,\r\n                        &quot;/css/style.css&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nThe console error output;\r\n```\r\n2023-11-25T17:50:38.436+01:00 DEBUG 11889 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-11-25T17:50:47.352+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /register\r\n2023-11-25T17:50:47.354+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /register\r\nDEBUG: nullnullnull\r\n[]\r\nDEBUG: nullnull\r\n2023-11-25T17:50:47.360+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-11-25T17:50:47.361+01:00 ERROR 11889 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null\r\n```\r\nEDIT\r\n\r\nadded class RegistrationRequest;\r\n```\r\nimport lombok.*;\r\n\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@ToString\r\n\r\npublic class RegistrationRequest {\r\n    private String email;\r\n    private String name;\r\n    private String password;\r\n    private String passwordRepeat;\r\n}\r\n```","title":"trying to process a Thymeleaf registration form with Spring Security 6 -&gt; 403 on POST request","body":"<p>I'm new to Spring Boot and am trying to create a simple registration + login. However whenever I try to submit data with a POST request, the request gets blocked (403) and I'm not getting redirected to the success page. Since the request gets blocked, this results later on in a Null pointer Exception when I try to validate the submitted input.</p>\n<p>Looking through other posts a common problem seemed to be csrf protection, which I explicitly disabled. Another common issue among other posts was that the correct authorization wasn't granted, I tried to do so with <code>.permitAll().anyRequest().authenticated()</code>. Since to my understanding I explicitly enabled all requests for &quot;/register&quot;, I expected to at least get the credentials as output at the debug messages in the Controller.</p>\n<p>The registration form;\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;form th:action=\"@{register}\" method=\"post\" th:object=\"${registrationRequest}\"&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"emailInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{email}\" th:classappend=\"${#fields.hasErrors('email')} ? 'is-invalid'\" type=\"email\" class=\"form-control\" id=\"emailInput\" placeholder=\"Email\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"usernameInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{name}\" th:classappend=\"${#fields.hasErrors('name')} ? 'is-invalid'\" type=\"text\" class=\"form-control\" id=\"usernameInput\" placeholder=\"Username\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"passwordInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{password}\" th:classappend=\"${#fields.hasErrors('password')} ? 'is-invalid'\" type=\"password\" class=\"form-control\" id=\"passwordInput\" placeholder=\"Password\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;label for=\"passwordRepeatInput\" class=\"form-label\"&gt;&lt;/label&gt;\n                &lt;input th:field=\"*{passwordRepeat}\" th:classappend=\"${#fields.hasErrors('passwordRepeat')} ? 'is-invalid'\" type=\"password\" class=\"form-control\" id=\"passwordRepeatInput\" placeholder=\"Password confirmation\"&gt;\n            &lt;/div&gt;\n\n            &lt;button type=\"submit\" class=\"btn btn-outline-dark btn-custom\"&gt;Sign up!&lt;/button&gt;\n        &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The routing in the Controller;</p>\n<pre><code>    @RequestMapping(value=&quot;register&quot;)\n    public String showRegisterPage(Model model) {\n        model.addAttribute(&quot;registrationRequest&quot;, new RegistrationRequest());\n        return &quot;user/user-add&quot;;\n    }\n    \n    @PostMapping(value=&quot;register&quot;)\n    public String processRegisterRequest(@ModelAttribute RegistrationRequest registrationRequest, BindingResult result) {\n    \n        System.out.println(&quot;DEBUG: &quot; + registrationRequest.getName() + registrationRequest.getEmail() + registrationRequest.getPassword());\n        System.out.println(result.getAllErrors());\n    \n        userService.register(registrationRequest);\n        return &quot;user/registration-success&quot;;\n    }\n</code></pre>\n<p>The likely misconfigured SecurityFilterChain;</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(\n                        &quot;/&quot;,\n                        &quot;/register&quot;,\n                        &quot;/login&quot;,\n                        &quot;/css/style.css&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated())\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n</code></pre>\n<p>The console error output;</p>\n<pre><code>2023-11-25T17:50:38.436+01:00 DEBUG 11889 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-25T17:50:47.352+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /register\n2023-11-25T17:50:47.354+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /register\nDEBUG: nullnullnull\n[]\nDEBUG: nullnull\n2023-11-25T17:50:47.360+01:00 DEBUG 11889 --- [nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-11-25T17:50:47.361+01:00 ERROR 11889 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;password&quot; is null\n</code></pre>\n<p>EDIT</p>\n<p>added class RegistrationRequest;</p>\n<pre><code>import lombok.*;\n\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n\npublic class RegistrationRequest {\n    private String email;\n    private String name;\n    private String password;\n    private String passwordRepeat;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","jackson"],"comments":[{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":0,"creation_date":1623153698,"post_id":67886252,"comment_id":119991224,"body_markdown":"If you don&#39;t have a use case where you need to get all the teams that use the rooms (fetch the teams via the rooms variable) you don&#39;t need the many-to-many but one-to-many relationship. Before proceeding with a comment regarding your problem, have you considered that approach?","body":"If you don&#39;t have a use case where you need to get all the teams that use the rooms (fetch the teams via the rooms variable) you don&#39;t need the many-to-many but one-to-many relationship. Before proceeding with a comment regarding your problem, have you considered that approach?"},{"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"score":1,"creation_date":1623153898,"post_id":67886252,"comment_id":119991328,"body_markdown":"You could check [this](https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion) baeldung article as well.","body":"You could check <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">this</a> baeldung article as well."},{"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"score":0,"creation_date":1623157375,"post_id":67886252,"comment_id":119992945,"body_markdown":"@Aethernite i&#39;ve considered this approach. However, i need to fetch both ways, which means i need a bidirectional many to many relationship.\nI&#39;ve already read this article, but it is about **one to many** relationships with a back reference, which i have too (but they are working fine after i followed these steps).","body":"@Aethernite i&#39;ve considered this approach. However, i need to fetch both ways, which means i need a bidirectional many to many relationship. I&#39;ve already read this article, but it is about <b>one to many</b> relationships with a back reference, which i have too (but they are working fine after i followed these steps)."},{"owner":{"account_id":12316624,"reputation":1,"user_id":8986786,"display_name":"Muhyidean Tarawneh"},"score":0,"creation_date":1638241304,"post_id":67886252,"comment_id":124030360,"body_markdown":"You can find the solution at this link\nhttps://stackoverflow.com/a/47118424/8986786","body":"You can find the solution at this link <a href=\"https://stackoverflow.com/a/47118424/8986786\">stackoverflow.com/a/47118424/8986786</a>"}],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623220040,"creation_date":1623157386,"answer_id":67887529,"question_id":67886252,"body_markdown":"Currently, there is cyclic dependency in your classes which is causing issues while converting objects to ```JSON```. Please add ```@JsonIgnore``` annotation on ```rooms``` variable in your ```Team``` class as shown in below example:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n@Entity\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Room&gt; rooms;\r\n\r\n}\r\n```\r\n---\r\nIf you need a solution for bidirectional conversion then you can use ```JsonView``` annotation.\r\n\r\nFirst of all you need to create JSON view profiles for ```Team``` and ```Room``` as shown in below example:\r\n\r\n```\r\npublic class JsonViewProfiles\r\n{\r\n    /**\r\n     * This profile will be used while converting Team object to JSON\r\n     */\r\n    public static class Team {}\r\n\r\n    /**\r\n     * This profile will be used while converting Room object to JSON\r\n     */\r\n    public static class Room {}\r\n}\r\n```\r\n\r\nUse above created JSON view profiles in your entities as shown in below example:\r\n\r\n```\r\npublic class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonView({ JsonViewProfiles.Team.class, JsonViewProfiles.Room.class })\r\n    private long id;\r\n\r\n    @JsonView(JsonViewProfiles.Room.class)\r\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\r\n    private Set&lt;Team&gt; teams;\r\n}\r\n```\r\n\r\n```\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonView({JsonViewProfiles.Team.class, JsonViewProfiles.Room.class})\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    @JsonView(JsonViewProfiles.Team.class)\r\n    private Set&lt;Room&gt; rooms;\r\n}\r\n```\r\n\r\nWhile converting your object to JSON please use these profiles as shown in below example:\r\n\r\n```\r\n@GetMapping\r\npublic String getAllRoomsOfTeam() {\r\n    final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\r\n\r\n    final Team team = teamRepository.findById(exampleId);\r\n\r\n    String result = new ObjectMapper().writerWithView(JsonViewProfiles.Team.class)\r\n                .writeValueAsString(team);\r\n\r\n    return result;\r\n}\r\n```","title":"Spring-boot JPA infinite loop many to many","body":"<p>Currently, there is cyclic dependency in your classes which is causing issues while converting objects to <code>JSON</code>. Please add <code>@JsonIgnore</code> annotation on <code>rooms</code> variable in your <code>Team</code> class as shown in below example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@Entity\npublic class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    @JsonIgnore\n    private Set&lt;Room&gt; rooms;\n\n}\n</code></pre>\n<hr />\n<p>If you need a solution for bidirectional conversion then you can use <code>JsonView</code> annotation.</p>\n<p>First of all you need to create JSON view profiles for <code>Team</code> and <code>Room</code> as shown in below example:</p>\n<pre><code>public class JsonViewProfiles\n{\n    /**\n     * This profile will be used while converting Team object to JSON\n     */\n    public static class Team {}\n\n    /**\n     * This profile will be used while converting Room object to JSON\n     */\n    public static class Room {}\n}\n</code></pre>\n<p>Use above created JSON view profiles in your entities as shown in below example:</p>\n<pre><code>public class Room {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonView({ JsonViewProfiles.Team.class, JsonViewProfiles.Room.class })\n    private long id;\n\n    @JsonView(JsonViewProfiles.Room.class)\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\n    private Set&lt;Team&gt; teams;\n}\n</code></pre>\n<pre><code>public class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonView({JsonViewProfiles.Team.class, JsonViewProfiles.Room.class})\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    @JsonView(JsonViewProfiles.Team.class)\n    private Set&lt;Room&gt; rooms;\n}\n</code></pre>\n<p>While converting your object to JSON please use these profiles as shown in below example:</p>\n<pre><code>@GetMapping\npublic String getAllRoomsOfTeam() {\n    final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\n\n    final Team team = teamRepository.findById(exampleId);\n\n    String result = new ObjectMapper().writerWithView(JsonViewProfiles.Team.class)\n                .writeValueAsString(team);\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623162975,"creation_date":1623158490,"answer_id":67887829,"question_id":67886252,"body_markdown":"Your controller shoud not return **entities** ( classes with the annotation @Entity). As a best practice is to create another separate class with same attributes. This code has a little dupplication but it keeps all the layers clean. I also suggest to use @Service. \r\n\r\n\r\n\r\n       public class RoomDTO { \r\n           private String name;\r\n           private List&lt;TeamDTO&gt; teams = new ArrayList&lt;&gt;();   \r\n\r\n           public RoomDTO() { \r\n           }\r\n            \r\n           public RoomDTO(Room room) {\r\n                this.name = room.name;\r\n                for(Team team : room.getTeams()) {\r\n                     TeamDTO teamDTO = new TeamDTO();\r\n                     teamDTO.setName(team.getName);\r\n                     teams.add(teamDTO);\r\n                }\r\n            }\r\n       }\r\n\r\n\r\n\r\n       public class TeamDTO { \r\n           List&lt;RoomDTO&gt; rooms = new ArrayList();\r\n\r\n           public TeamDTO() {\r\n           }\r\n\r\n           public TeamDTO(Team team) {\r\n                this.name = team.name;\r\n                for(Room room : team.getRooms()) {\r\n                     RoomDTO roomDTO = new RoomDTO();\r\n                     roomDTO.setName(team.getName);\r\n                     rooms.add(roomDTO);\r\n                }\r\n            }\r\n            \r\n       }\r\n\r\n\r\n\r\n\r\nThe controller should return this \r\n\r\n    @GetMapping\r\n    public Iterable&lt;TeamDTO&gt; getAllRoomsOfTeam() {\r\n    final long exampleId = 1;\r\n    final var team = teamRepository.findById(exampleId);\r\n\r\n    TeamDTO teamDTO = new TeamDTO(team);\r\n\r\n    return ResponseEntity.ok(teamDTO);\r\n}\r\n\r\nhttps://stackoverflow.com/questions/61303236/how-to-use-dtos-in-the-controller-service-and-repository-pattern","title":"Spring-boot JPA infinite loop many to many","body":"<p>Your controller shoud not return <strong>entities</strong> ( classes with the annotation @Entity). As a best practice is to create another separate class with same attributes. This code has a little dupplication but it keeps all the layers clean. I also suggest to use @Service.</p>\n<pre><code>   public class RoomDTO { \n       private String name;\n       private List&lt;TeamDTO&gt; teams = new ArrayList&lt;&gt;();   \n\n       public RoomDTO() { \n       }\n        \n       public RoomDTO(Room room) {\n            this.name = room.name;\n            for(Team team : room.getTeams()) {\n                 TeamDTO teamDTO = new TeamDTO();\n                 teamDTO.setName(team.getName);\n                 teams.add(teamDTO);\n            }\n        }\n   }\n\n\n\n   public class TeamDTO { \n       List&lt;RoomDTO&gt; rooms = new ArrayList();\n\n       public TeamDTO() {\n       }\n\n       public TeamDTO(Team team) {\n            this.name = team.name;\n            for(Room room : team.getRooms()) {\n                 RoomDTO roomDTO = new RoomDTO();\n                 roomDTO.setName(team.getName);\n                 rooms.add(roomDTO);\n            }\n        }\n        \n   }\n</code></pre>\n<p>The controller should return this</p>\n<pre><code>@GetMapping\npublic Iterable&lt;TeamDTO&gt; getAllRoomsOfTeam() {\nfinal long exampleId = 1;\nfinal var team = teamRepository.findById(exampleId);\n\nTeamDTO teamDTO = new TeamDTO(team);\n\nreturn ResponseEntity.ok(teamDTO);\n</code></pre>\n<p>}</p>\n<p><a href=\"https://stackoverflow.com/questions/61303236/how-to-use-dtos-in-the-controller-service-and-repository-pattern\">How to use DTOs in the Controller, Service and Repository pattern</a></p>\n"}],"owner":{"account_id":20776293,"reputation":188,"user_id":15257712,"display_name":"Manuel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4049,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67887829,"answer_count":2,"score":3,"last_activity_date":1701266465,"creation_date":1623152666,"question_id":67886252,"body_markdown":"I have two entities, which are in a many to many relationship.\r\n\r\n\r\n```java\r\n@Entity\r\npublic class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\r\n    private Set&lt;Team&gt; teams;\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class Team {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;teams_rooms&quot;,\r\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\r\n    private Set&lt;Room&gt; rooms;\r\n\r\n}\r\n```\r\n\r\nTo yield data, i have a repository for &quot;Room&quot; and &quot;Team&quot;:\r\n```java\r\npublic interface RoomRepository extends CrudRepository&lt;Room, Long&gt; {\r\n}\r\n```\r\n```java\r\npublic interface TeamRepository extends CrudRepository&lt;Team, Long&gt; {\r\n}\r\n```\r\n\r\nMy goal is to request all rooms of a team, but prevent JPA from looping infinitely.\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;....&quot;)\r\npublic class RoomController {\r\n    @Autowired\r\n    private RoomRepository roomRepository;\r\n    \r\n    @GetMapping\r\n    public Iterable&lt;Room&gt; getAllRoomsOfTeam() {\r\n        final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\r\n        \r\n        final var team = teamRepository.findById(exampleId);\r\n\r\n        return ResponseEntity.ok(team);\r\n    }\r\n}\r\n```\r\n\r\nThis is the result:\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Team1&quot;,\r\n    &quot;rooms&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Room 1&quot;,\r\n            &quot;teams&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;name&quot;: &quot;Team 1&quot;,\r\n                    &quot;rooms&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;Room 1&quot;,\r\n                            &quot;teams&quot;: [\r\n```\r\n\r\nJackson will loop forever, until an exception occurs (Since the back reference also references the parent element, which will create a loop).\r\nI already tried ``@JsonManagedReference`` and ``@JsonBackReference``, but they are used for many to one relationships.\r\n\r\nHow do i stop Jackson from looping infinitely? I want to affect other repositories and queries as little as possible.","title":"Spring-boot JPA infinite loop many to many","body":"<p>I have two entities, which are in a many to many relationship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Room {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany(mappedBy = &quot;rooms&quot;)\n    private Set&lt;Team&gt; teams;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Team {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @ManyToMany\n    @JoinTable(name = &quot;teams_rooms&quot;,\n        joinColumns = @JoinColumn(name= &quot;team_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;room_id&quot;))\n    private Set&lt;Room&gt; rooms;\n\n}\n</code></pre>\n<p>To yield data, i have a repository for &quot;Room&quot; and &quot;Team&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RoomRepository extends CrudRepository&lt;Room, Long&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TeamRepository extends CrudRepository&lt;Team, Long&gt; {\n}\n</code></pre>\n<p>My goal is to request all rooms of a team, but prevent JPA from looping infinitely.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;....&quot;)\npublic class RoomController {\n    @Autowired\n    private RoomRepository roomRepository;\n    \n    @GetMapping\n    public Iterable&lt;Room&gt; getAllRoomsOfTeam() {\n        final long exampleId = 1; //This is just a placeholder. The id will be passed as a parameter.\n        \n        final var team = teamRepository.findById(exampleId);\n\n        return ResponseEntity.ok(team);\n    }\n}\n</code></pre>\n<p>This is the result:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Team1&quot;,\n    &quot;rooms&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Room 1&quot;,\n            &quot;teams&quot;: [\n                {\n                    &quot;id&quot;: 1,\n                    &quot;name&quot;: &quot;Team 1&quot;,\n                    &quot;rooms&quot;: [\n                        {\n                            &quot;id&quot;: 1,\n                            &quot;name&quot;: &quot;Room 1&quot;,\n                            &quot;teams&quot;: [\n</code></pre>\n<p>Jackson will loop forever, until an exception occurs (Since the back reference also references the parent element, which will create a loop).\nI already tried <code>@JsonManagedReference</code> and <code>@JsonBackReference</code>, but they are used for many to one relationships.</p>\n<p>How do i stop Jackson from looping infinitely? I want to affect other repositories and queries as little as possible.</p>\n"},{"tags":["java","spring-boot","jaxb","xsd-validation"],"comments":[{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":1,"creation_date":1701171612,"post_id":77558325,"comment_id":136739703,"body_markdown":"Did you try profiling your code to see where the load time goes ? You can use Java Flight Recorder in order to do it (see well documented [here](https://www.baeldung.com/java-flight-recorder-monitoring)) : it may help you get what&#39;s wrong in your actual config (even if I&#39;m pretty sure that the /real/ problem is the XSD size)","body":"Did you try profiling your code to see where the load time goes ? You can use Java Flight Recorder in order to do it (see well documented <a href=\"https://www.baeldung.com/java-flight-recorder-monitoring\" rel=\"nofollow noreferrer\">here</a>) : it may help you get what&#39;s wrong in your actual config (even if I&#39;m pretty sure that the /real/ problem is the XSD size)"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":0,"creation_date":1701174356,"post_id":77558325,"comment_id":136740185,"body_markdown":"@LaurentSchoelens yes, I profilied this code, and factory.newSchema(schemaFile); is taking the most execution time (15+ secs)","body":"@LaurentSchoelens yes, I profilied this code, and factory.newSchema(schemaFile); is taking the most execution time (15+ secs)"},{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701175466,"post_id":77558325,"comment_id":136740373,"body_markdown":"Could you share you profile result ? :)","body":"Could you share you profile result ? :)"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":2,"creation_date":1701211846,"post_id":77558325,"comment_id":136746999,"body_markdown":"@LaurentSchoelens [link](https://drive.google.com/file/d/18x_velwIv2JQQ23u98ig8Er-Rwzn-YgP/view?usp=sharing)","body":"@LaurentSchoelens <a href=\"https://drive.google.com/file/d/18x_velwIv2JQQ23u98ig8Er-Rwzn-YgP/view?usp=sharing\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701250640,"post_id":77558325,"comment_id":136751260,"body_markdown":"I&#39;ve seen your jfr file and from what I see, most of the method and memory came from parsing your XSD to get the schema info. Couldn&#39;t you cache the `Validator validator = schema.newValidator();` instance to validate your XML ? You said that caching was not an option because of memory overhead... since your actual code generate more than 24GiB memory, what is this memory overhead to keep (only) the Validator instance ?","body":"I&#39;ve seen your jfr file and from what I see, most of the method and memory came from parsing your XSD to get the schema info. Couldn&#39;t you cache the <code>Validator validator = schema.newValidator();</code> instance to validate your XML ? You said that caching was not an option because of memory overhead... since your actual code generate more than 24GiB memory, what is this memory overhead to keep (only) the Validator instance ?"},{"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"score":0,"creation_date":1701264703,"post_id":77558325,"comment_id":136753926,"body_markdown":"@LaurentSchoelens yes it&#39;s truly genius, how I didn&#39;t think of that before. I just checked and it takes a lot less memory than caching schema. Thank you! I think that&#39;s enough","body":"@LaurentSchoelens yes it&#39;s truly genius, how I didn&#39;t think of that before. I just checked and it takes a lot less memory than caching schema. Thank you! I think that&#39;s enough"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":463,"user_id":22894892,"display_name":"Laurent Schoelens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701266282,"creation_date":1701266282,"answer_id":77571784,"question_id":77558325,"body_markdown":"As discussed in comments and after analysis of JFR provided, the best solution would be to cache only the `Validator` instance obtained after parsing the schema\r\n\r\nHope it&#39;ll solve your need.\r\n\r\nBeware of maybe threading issue (didnt find out if Validator instance are thread-safe or not)","title":"Validate XML against XSD which imports big enum XSD","body":"<p>As discussed in comments and after analysis of JFR provided, the best solution would be to cache only the <code>Validator</code> instance obtained after parsing the schema</p>\n<p>Hope it'll solve your need.</p>\n<p>Beware of maybe threading issue (didnt find out if Validator instance are thread-safe or not)</p>\n"}],"owner":{"account_id":30005380,"reputation":13,"user_id":22994414,"display_name":"qweqewtwerb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571784,"answer_count":1,"score":1,"last_activity_date":1701266282,"creation_date":1701101257,"question_id":77558325,"body_markdown":"I have an XSD which imports big XSD with more than 200k \\&lt;enumeration\\&gt; elements, I need to validate incoming XML against root xsd:\r\n```xsd\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http www(dot)w3(dot)org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;\r\n    targetNamespace=&quot;http example(dot)com/test/test/types/2.0.0&quot;\r\n    xmlns:tns=&quot;http example(dot)com/test/test/types/2.0.0&quot;\r\n    xmlns:mun=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;&gt;\r\n    &lt;xs:import namespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n        schemaLocation=&quot;common/enumXsd.xsd&quot;/&gt;\r\n    &lt;xs:element name=&quot;test&quot; type=&quot;tns:test&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;test&quot;&gt;\r\n         &lt;xs:element name=&quot;abc&quot; type=&quot;mun:EnumEType&quot;/&gt;\r\n    &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\nenumXsd.xsd:\r\n```xsd\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;schema xmlns:tns=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n    elementFormDefault=&quot;qualified&quot;\r\n    targetNamespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\r\n    xmlns=&quot;http www w3 org/2001/XMLSchema&quot;&gt;\r\n    &lt;simpleType name=&quot;EnumEType&quot;&gt;\r\n        &lt;restriction base=&quot;string&quot;&gt;\r\n            &lt;enumeration value=&quot;w1&quot; /&gt;\r\n            &lt;enumeration value=&quot;2wr&quot; /&gt;\r\n            &lt;enumeration value=&quot;3erwer&quot; /&gt;\r\n            &lt;enumeration value=&quot;5rtete&quot; /&gt;\r\n             ...e.t.c...\r\n        &lt;/restriction&gt;\r\n    &lt;/simpleType&gt;\r\n&lt;/schema&gt;\r\n```\r\nMethod getSchema() takes too long (more than 15 secs) to retrieve schema (`factory.newSchema(schemaFile);`).\r\nIs there any ways to improve logic? Caching is not solve cause it takes a lot of memory.\r\n```java\r\n    private void validate(Source source) throws SAXException, IOException {\r\n        Schema schema = getSchema();\r\n        if (schema != null) {\r\n            Validator validator = schema.newValidator();\r\n            validator.validate(source);\r\n        }\r\n    }\r\n    public Schema getSchema() {\r\n        String path = getSchemaPath();\r\n        if (path == null) {\r\n            return null;\r\n        }\r\n        ClassLoader loader = getClass().getClassLoader();\r\n        try (BufferedInputStream xsdStream = new BufferedInputStream(loader.getResourceAsStream(path))) {\r\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n            StreamSource schemaFile = new StreamSource(xsdStream);\r\n            schemaFile.setSystemId(loader.getResource(path).toString());\r\n            cachedSchema = factory.newSchema(schemaFile);\r\n            return cachedSchema;\r\n        } catch (SAXException | IOException e) {\r\n            throw new RuntimeException(&quot;Error loading schema &quot; + path, e);\r\n        }\r\n    }\r\n```","title":"Validate XML against XSD which imports big enum XSD","body":"<p>I have an XSD which imports big XSD with more than 200k &lt;enumeration&gt; elements, I need to validate incoming XML against root xsd:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http www(dot)w3(dot)org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;\n    targetNamespace=&quot;http example(dot)com/test/test/types/2.0.0&quot;\n    xmlns:tns=&quot;http example(dot)com/test/test/types/2.0.0&quot;\n    xmlns:mun=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;&gt;\n    &lt;xs:import namespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n        schemaLocation=&quot;common/enumXsd.xsd&quot;/&gt;\n    &lt;xs:element name=&quot;test&quot; type=&quot;tns:test&quot;/&gt;\n    &lt;xs:complexType name=&quot;test&quot;&gt;\n         &lt;xs:element name=&quot;abc&quot; type=&quot;mun:EnumEType&quot;/&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>enumXsd.xsd:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;schema xmlns:tns=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n    elementFormDefault=&quot;qualified&quot;\n    targetNamespace=&quot;http example(dot)com/test/test/enumXsd/types/2.0&quot;\n    xmlns=&quot;http www w3 org/2001/XMLSchema&quot;&gt;\n    &lt;simpleType name=&quot;EnumEType&quot;&gt;\n        &lt;restriction base=&quot;string&quot;&gt;\n            &lt;enumeration value=&quot;w1&quot; /&gt;\n            &lt;enumeration value=&quot;2wr&quot; /&gt;\n            &lt;enumeration value=&quot;3erwer&quot; /&gt;\n            &lt;enumeration value=&quot;5rtete&quot; /&gt;\n             ...e.t.c...\n        &lt;/restriction&gt;\n    &lt;/simpleType&gt;\n&lt;/schema&gt;\n</code></pre>\n<p>Method getSchema() takes too long (more than 15 secs) to retrieve schema (<code>factory.newSchema(schemaFile);</code>).\nIs there any ways to improve logic? Caching is not solve cause it takes a lot of memory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void validate(Source source) throws SAXException, IOException {\n        Schema schema = getSchema();\n        if (schema != null) {\n            Validator validator = schema.newValidator();\n            validator.validate(source);\n        }\n    }\n    public Schema getSchema() {\n        String path = getSchemaPath();\n        if (path == null) {\n            return null;\n        }\n        ClassLoader loader = getClass().getClassLoader();\n        try (BufferedInputStream xsdStream = new BufferedInputStream(loader.getResourceAsStream(path))) {\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            StreamSource schemaFile = new StreamSource(xsdStream);\n            schemaFile.setSystemId(loader.getResource(path).toString());\n            cachedSchema = factory.newSchema(schemaFile);\n            return cachedSchema;\n        } catch (SAXException | IOException e) {\n            throw new RuntimeException(&quot;Error loading schema &quot; + path, e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","nativequery"],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668702831,"creation_date":1668702831,"answer_id":74479020,"question_id":74478796,"body_markdown":"Parameters can be exposed via the name declared using `@Param`. You should rename `ingredient` by `ingredientFilter`. You can find more about the subject [here](https://www.logicbig.com/tutorials/spring-framework/spring-data/query-named-parameters.html)","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<p>Parameters can be exposed via the name declared using <code>@Param</code>. You should rename <code>ingredient</code> by <code>ingredientFilter</code>. You can find more about the subject <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-data/query-named-parameters.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12422497,"reputation":1,"user_id":9048694,"display_name":"Jairo Ceron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701266129,"creation_date":1701189306,"answer_id":77565622,"question_id":74478796,"body_markdown":"```\r\n@Query(value = &quot;select q.* from sde.pqrs q where q.fecha_radicado between :fechaInicial and :fechaFinal and q.radicado in (:radicados)&quot;, nativeQuery = true)\r\n\tList&lt;Pqrs&gt; consultaRadicadoDeVisita(@Param(&quot;fechaInicial&quot;) java.sql.Timestamp fechaInicial,\r\n\t\t\t@Param(&quot;fechaFinal&quot;) java.sql.Timestamp fechaFinal,\r\n\t\t\t@Param(value = &quot;radicados&quot;) List&lt;String&gt; radicados);\r\n```","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<pre><code>@Query(value = &quot;select q.* from sde.pqrs q where q.fecha_radicado between :fechaInicial and :fechaFinal and q.radicado in (:radicados)&quot;, nativeQuery = true)\n    List&lt;Pqrs&gt; consultaRadicadoDeVisita(@Param(&quot;fechaInicial&quot;) java.sql.Timestamp fechaInicial,\n            @Param(&quot;fechaFinal&quot;) java.sql.Timestamp fechaFinal,\n            @Param(value = &quot;radicados&quot;) List&lt;String&gt; radicados);\n</code></pre>\n"}],"owner":{"account_id":24839053,"reputation":9,"user_id":18717311,"display_name":"778899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701266129,"creation_date":1668701920,"question_id":74478796,"body_markdown":"I am trying to pass a list of Strings in to IN clause in a native query using citext for a case insensitive search. Everytime I try to test this query out using postman I get the following error:\r\norg.hibernate.QueryException: Named parameter not bound : ingredientFilter\r\n\r\nBelow is the query I am trying to test:\r\n\r\n\r\n```\r\n@Query(value = &quot;select personal_recipes.name, personal_recipes.type, personal_recipes.comments, &quot; +\r\n        &quot;personal_recipes.instructions, personal_recipes.rating, ingredients.name, ingredients.quantity &quot; +\r\n        &quot;from personal_recipes &quot; +\r\n        &quot;inner join ingredients on personal_recipes.name = ingredients.recipe_name &quot; +\r\n        &quot;where (ingredients.name::citext in (:ingredientFilter))&quot; , nativeQuery = true)\r\nList&lt;PersonalRecipesEntity&gt; getPersonalRecipesByIngredient(@Param(value = &quot;ingredient&quot;) List&lt;String&gt; ingredientFilter);\r\n```\r\n\r\n\r\n\r\nI am confused as this query works when I test it out in Dbeaver. \r\n\r\nI tried removing the brackets around :ingredientFilter. It did not change anything. I am new to Spring boot and havent been able to find anything online. ","title":"JPA Passing a list of Strings in to IN clause in a native query (using citext)","body":"<p>I am trying to pass a list of Strings in to IN clause in a native query using citext for a case insensitive search. Everytime I try to test this query out using postman I get the following error:\norg.hibernate.QueryException: Named parameter not bound : ingredientFilter</p>\n<p>Below is the query I am trying to test:</p>\n<pre><code>@Query(value = &quot;select personal_recipes.name, personal_recipes.type, personal_recipes.comments, &quot; +\n        &quot;personal_recipes.instructions, personal_recipes.rating, ingredients.name, ingredients.quantity &quot; +\n        &quot;from personal_recipes &quot; +\n        &quot;inner join ingredients on personal_recipes.name = ingredients.recipe_name &quot; +\n        &quot;where (ingredients.name::citext in (:ingredientFilter))&quot; , nativeQuery = true)\nList&lt;PersonalRecipesEntity&gt; getPersonalRecipesByIngredient(@Param(value = &quot;ingredient&quot;) List&lt;String&gt; ingredientFilter);\n</code></pre>\n<p>I am confused as this query works when I test it out in Dbeaver.</p>\n<p>I tried removing the brackets around :ingredientFilter. It did not change anything. I am new to Spring boot and havent been able to find anything online.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":6084726,"reputation":1,"user_id":4749213,"display_name":"amerty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701265957,"creation_date":1701242556,"answer_id":77569239,"question_id":77542500,"body_markdown":"I needed to enable metrics in `ConnectionProvider`\r\n\r\n```\r\nConnectionProvider provider = ConnectionProvider.builder(&quot;custom&quot;)\r\n\t\t\t\t.maxConnections(maxConnTotal)\r\n\t\t\t\t.metrics(true)\r\n\t\t\t\t.maxLifeTime(Duration.ofSeconds(5))\r\n\t\t\t\t.build();\r\n```\r\n\r\nThen I was able to see logs from MeterRegistry object (repo) \r\n\r\n```\r\nObject[] meters = repo.getMeters().stream().filter(meter -&gt; meter.getId().getName().contains(&quot;reactor&quot;)).toArray();\r\n```\r\n\r\nReference:\r\nhttps://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5\r\n\r\n","title":"How to get PoolStats for WebClient for logging in Spring Boot 3","body":"<p>I needed to enable metrics in <code>ConnectionProvider</code></p>\n<pre><code>ConnectionProvider provider = ConnectionProvider.builder(&quot;custom&quot;)\n                .maxConnections(maxConnTotal)\n                .metrics(true)\n                .maxLifeTime(Duration.ofSeconds(5))\n                .build();\n</code></pre>\n<p>Then I was able to see logs from MeterRegistry object (repo)</p>\n<pre><code>Object[] meters = repo.getMeters().stream().filter(meter -&gt; meter.getId().getName().contains(&quot;reactor&quot;)).toArray();\n</code></pre>\n<p>Reference:\n<a href=\"https://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/netty/release/reference/index.html#_metrics_5</a></p>\n"}],"owner":{"account_id":6084726,"reputation":1,"user_id":4749213,"display_name":"amerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77569239,"answer_count":1,"score":-1,"last_activity_date":1701265957,"creation_date":1700822486,"question_id":77542500,"body_markdown":"I converted the RestTemplate to WebClient in my Spring Boot 3 project. In RestTemplate we were using PoolStats for logging metrics of leased, pending, available, max stats. (Code below)\r\n\r\n```\r\n    private void printHttpClientStats(String qualifier, PoolingHttpClientConnectionManager httpClientConnectionManager) {\r\n\r\n        final PoolStats totalStats = httpClientConnectionManager.getTotalStats();\r\n        log.info(&quot;HttpClient - {}: {}&quot;, qualifier, totalStats);\r\n    }\r\n```\r\nHowever after switching to WebClient I couldn&#39;t be able to find how to get these info and log it the same way. How can I do this in WebClient?\r\n\r\n\r\n\r\n\r\nI find this similar question but there are no answers to this one:\r\nhttps://stackoverflow.com/questions/55113790/how-to-log-thread-pool-metrics-for-spring-webclient","title":"How to get PoolStats for WebClient for logging in Spring Boot 3","body":"<p>I converted the RestTemplate to WebClient in my Spring Boot 3 project. In RestTemplate we were using PoolStats for logging metrics of leased, pending, available, max stats. (Code below)</p>\n<pre><code>    private void printHttpClientStats(String qualifier, PoolingHttpClientConnectionManager httpClientConnectionManager) {\n\n        final PoolStats totalStats = httpClientConnectionManager.getTotalStats();\n        log.info(&quot;HttpClient - {}: {}&quot;, qualifier, totalStats);\n    }\n</code></pre>\n<p>However after switching to WebClient I couldn't be able to find how to get these info and log it the same way. How can I do this in WebClient?</p>\n<p>I find this similar question but there are no answers to this one:\n<a href=\"https://stackoverflow.com/questions/55113790/how-to-log-thread-pool-metrics-for-spring-webclient\">How to log thread pool metrics for Spring WebClient?</a></p>\n"},{"tags":["java","multithreading","concurrency","ticket-system"],"owner":{"account_id":30022757,"reputation":1,"user_id":23007741,"display_name":"Envytee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701265642,"creation_date":1701265642,"question_id":77571706,"body_markdown":"i&#39;m reading an article about ticket allocation system that deals with concurrency (of course)\r\nHere is the link :[ticket](https://medium.com/@nicholasgcc/the-taylor-swift-algorithm-a-fairness-based-ticketing-allocation-protocol-6510f66db19e)\r\nI find one part that&#39;s difficult to comprehend.\r\nIn the QueueService class, the method &quot;attemptPurchase&quot; is sequential, not concurrent.\r\nmeaning that only when a user finishes purchasing a ticket that the next can.\r\nSo, my question is why the need for the &quot;lock&quot; in the Ticket class and the tryLock method, because after each execution of the method &quot;attemptPurchase&quot; the ticket is removed from the list which means the next user will only interact on the list without removing tickets.\r\nHere is the Ticket class :\r\n\r\n```\r\npublic class Ticket {\r\n    private final int id;\r\n    private AtomicBoolean locked = new AtomicBoolean(false);\r\n\r\n    public Ticket(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public boolean isLocked() {\r\n        return locked.get();\r\n    }\r\n\r\n    public boolean tryLock() {\r\n        return locked.compareAndSet(false, true);\r\n    }\r\n}\r\n```\r\nHere is the QueueService class :\r\n\r\n```\r\npublic class QueueService {\r\n    private final WaitingRoomService waitingRoomService;\r\n    private final List&lt;Ticket&gt; tickets;\r\n\r\n    /**\r\n     * Initializes a new QueueService instance.\r\n     *\r\n     * @param waitingRoomService the service to manage the waiting room\r\n     * @param tickets the list of tickets available for sale\r\n     */\r\n    public QueueService(WaitingRoomService waitingRoomService, List&lt;Ticket&gt; tickets) {\r\n        this.waitingRoomService = waitingRoomService;\r\n        this.tickets = new CopyOnWriteArrayList&lt;&gt;(tickets);\r\n    }\r\n\r\n    /**\r\n     * Processes the users in the waiting room, allowing them to attempt to purchase tickets.\r\n     */\r\n    public void processQueue() {\r\n        waitingRoomService.getWaitingRoom().stream()\r\n                .sorted(Comparator.comparing(User::getQueuePosition))\r\n                .forEach(this::attemptPurchase);\r\n    }\r\n\r\n    /**\r\n     * Allows the given user to attempt to purchase a ticket.\r\n     *\r\n     * @param user the user who will attempt to purchase a ticket\r\n     */\r\n    private void attemptPurchase(User user) {\r\n        for (Ticket ticket : tickets) {\r\n            if (ticket.tryLock()) {\r\n                System.out.println(&quot;User &quot; + user.getId() + &quot; arriving at time &quot; + user.getArrivalTime() + &quot; purchased ticket &quot; + ticket.getId());\r\n                waitingRoomService.getWaitingRoom().remove(user);  // Remove user from waiting room after purchase\r\n                tickets.remove(ticket);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Returns the list of tickets.\r\n     *\r\n     * @return the list of tickets\r\n     */\r\n    public List&lt;Ticket&gt; getTickets() {\r\n        return tickets;\r\n    }\r\n```\r\n\r\n\r\n\r\nI try to create thread so that many users can concurrently call the &quot;attemptPuschase&quot; method but that would go against the algorithm of the article that &quot;User are put into a queue and a random queue position then when the sale is started, each user in the queue is put into the holding queue for payment&quot;\r\nIf I create many threads and the number of users &gt;&gt; numbers of tickets (much greater than) then it may happen that the first user in the queue or second, third, ... those who put first cannot purchase tickets due to the undetermined behaviors of thread.\r\nCan anyone help me with a solution.","title":"Ticket allocation system","body":"<p>i'm reading an article about ticket allocation system that deals with concurrency (of course)\nHere is the link :<a href=\"https://medium.com/@nicholasgcc/the-taylor-swift-algorithm-a-fairness-based-ticketing-allocation-protocol-6510f66db19e\" rel=\"nofollow noreferrer\">ticket</a>\nI find one part that's difficult to comprehend.\nIn the QueueService class, the method &quot;attemptPurchase&quot; is sequential, not concurrent.\nmeaning that only when a user finishes purchasing a ticket that the next can.\nSo, my question is why the need for the &quot;lock&quot; in the Ticket class and the tryLock method, because after each execution of the method &quot;attemptPurchase&quot; the ticket is removed from the list which means the next user will only interact on the list without removing tickets.\nHere is the Ticket class :</p>\n<pre><code>public class Ticket {\n    private final int id;\n    private AtomicBoolean locked = new AtomicBoolean(false);\n\n    public Ticket(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public boolean isLocked() {\n        return locked.get();\n    }\n\n    public boolean tryLock() {\n        return locked.compareAndSet(false, true);\n    }\n}\n</code></pre>\n<p>Here is the QueueService class :</p>\n<pre><code>public class QueueService {\n    private final WaitingRoomService waitingRoomService;\n    private final List&lt;Ticket&gt; tickets;\n\n    /**\n     * Initializes a new QueueService instance.\n     *\n     * @param waitingRoomService the service to manage the waiting room\n     * @param tickets the list of tickets available for sale\n     */\n    public QueueService(WaitingRoomService waitingRoomService, List&lt;Ticket&gt; tickets) {\n        this.waitingRoomService = waitingRoomService;\n        this.tickets = new CopyOnWriteArrayList&lt;&gt;(tickets);\n    }\n\n    /**\n     * Processes the users in the waiting room, allowing them to attempt to purchase tickets.\n     */\n    public void processQueue() {\n        waitingRoomService.getWaitingRoom().stream()\n                .sorted(Comparator.comparing(User::getQueuePosition))\n                .forEach(this::attemptPurchase);\n    }\n\n    /**\n     * Allows the given user to attempt to purchase a ticket.\n     *\n     * @param user the user who will attempt to purchase a ticket\n     */\n    private void attemptPurchase(User user) {\n        for (Ticket ticket : tickets) {\n            if (ticket.tryLock()) {\n                System.out.println(&quot;User &quot; + user.getId() + &quot; arriving at time &quot; + user.getArrivalTime() + &quot; purchased ticket &quot; + ticket.getId());\n                waitingRoomService.getWaitingRoom().remove(user);  // Remove user from waiting room after purchase\n                tickets.remove(ticket);\n                break;\n            }\n        }\n    }\n    /**\n     * Returns the list of tickets.\n     *\n     * @return the list of tickets\n     */\n    public List&lt;Ticket&gt; getTickets() {\n        return tickets;\n    }\n</code></pre>\n<p>I try to create thread so that many users can concurrently call the &quot;attemptPuschase&quot; method but that would go against the algorithm of the article that &quot;User are put into a queue and a random queue position then when the sale is started, each user in the queue is put into the holding queue for payment&quot;\nIf I create many threads and the number of users &gt;&gt; numbers of tickets (much greater than) then it may happen that the first user in the queue or second, third, ... those who put first cannot purchase tickets due to the undetermined behaviors of thread.\nCan anyone help me with a solution.</p>\n"},{"tags":["java",".net","spring-boot","rest","soap"],"owner":{"account_id":2319359,"reputation":27,"user_id":9318280,"display_name":"Mohit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701265172,"creation_date":1701265172,"question_id":77571649,"body_markdown":"I m trying to solutions a SOAP based solution with following things\r\n1. The old SOAP services are written in .Net with SOAP - WSDL and XSD already generated and shared with consumers.\r\n2. The consumers have been using those contracts for years and they don&#39;t want to upgrade to REST or  any other new platforms.\r\n3. For them they want to use the Same WSDL/XSD basically contracts and dont care for anything else.\r\n4. But as from the Publisher side, I m rewriting the solution in Spring Boot service, hence I can still use the structure of classes, variables and so on. \r\n5. So the WSDL and XSD will definitely change because I will be generating them again with new Spring Boot Service.\r\n\r\n1. Is it possible to have an adapter solution to serve the clients, without impacting them.\r\n2. Can we reuse the WSDL/XSD from .net application receive the request to my new Spring boot service ?\r\n3. Basically the backend becomes flexible and consumers wont even know, that we have shifted from .net to Java.\r\n4. I do understand we have WSDL/ XSD as tight contract, where its part of validation to have it to the specific of service, ports and bindings.\r\n5. But again has any one faced this situation.","title":"SOAP Services from WCF migration to SOAP in Spring Boot","body":"<p>I m trying to solutions a SOAP based solution with following things</p>\n<ol>\n<li><p>The old SOAP services are written in .Net with SOAP - WSDL and XSD already generated and shared with consumers.</p>\n</li>\n<li><p>The consumers have been using those contracts for years and they don't want to upgrade to REST or  any other new platforms.</p>\n</li>\n<li><p>For them they want to use the Same WSDL/XSD basically contracts and dont care for anything else.</p>\n</li>\n<li><p>But as from the Publisher side, I m rewriting the solution in Spring Boot service, hence I can still use the structure of classes, variables and so on.</p>\n</li>\n<li><p>So the WSDL and XSD will definitely change because I will be generating them again with new Spring Boot Service.</p>\n</li>\n<li><p>Is it possible to have an adapter solution to serve the clients, without impacting them.</p>\n</li>\n<li><p>Can we reuse the WSDL/XSD from .net application receive the request to my new Spring boot service ?</p>\n</li>\n<li><p>Basically the backend becomes flexible and consumers wont even know, that we have shifted from .net to Java.</p>\n</li>\n<li><p>I do understand we have WSDL/ XSD as tight contract, where its part of validation to have it to the specific of service, ports and bindings.</p>\n</li>\n<li><p>But again has any one faced this situation.</p>\n</li>\n</ol>\n"},{"tags":["java","list","search","arraylist"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1701263073,"post_id":77571333,"comment_id":136753604,"body_markdown":"Can you share some input/output examples please","body":"Can you share some input/output examples please"},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701263189,"post_id":77571333,"comment_id":136753623,"body_markdown":"You have to write code to search a list for an element that matches your search criteria.  Probably the easiest approach is to write a comparator (or similar) for each distinct set of search criteria, and then iterate through the list using the specific comparator.","body":"You have to write code to search a list for an element that matches your search criteria.  Probably the easiest approach is to write a comparator (or similar) for each distinct set of search criteria, and then iterate through the list using the specific comparator."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701263339,"creation_date":1701263339,"answer_id":77571429,"question_id":77571333,"body_markdown":"If I understand your question, you need something like this:\r\n\r\n    public Identity findIdentity(List&lt;Identity&gt; identities, String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles) {\r\n        return identities.stream()\r\n                .filter(identity -&gt; isCorrectIdentity(type, id, services, roles, identity))\r\n                .findFirst()\r\n                .orElse(null);\r\n    }\r\n    \r\n    private boolean isCorrectIdentity(String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles, Identity identity) {\r\n        return identity.getType().equals(type) &amp;&amp; identity.getId().equals(id) &amp;&amp;\r\n                (services == null || new HashSet&lt;&gt;(identity.getServices()).containsAll(services)) &amp;&amp;\r\n                (roles == null || new HashSet&lt;&gt;(identity.getRoles()).containsAll(roles));\r\n    }\r\n\r\nThis will loop over your list, check element by element the type and id and if the services are defined it will check also with services and in the end if the roles are defined it will search by roles.\r\n\r\nNote: you can simplify the `isCorrectIdentity` by using multiple `if elses` or multiples `methods`.","title":"Search value in a java list by some of its fields","body":"<p>If I understand your question, you need something like this:</p>\n<pre><code>public Identity findIdentity(List&lt;Identity&gt; identities, String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles) {\n    return identities.stream()\n            .filter(identity -&gt; isCorrectIdentity(type, id, services, roles, identity))\n            .findFirst()\n            .orElse(null);\n}\n\nprivate boolean isCorrectIdentity(String type, String id, List&lt;String&gt; services, List&lt;String&gt; roles, Identity identity) {\n    return identity.getType().equals(type) &amp;&amp; identity.getId().equals(id) &amp;&amp;\n            (services == null || new HashSet&lt;&gt;(identity.getServices()).containsAll(services)) &amp;&amp;\n            (roles == null || new HashSet&lt;&gt;(identity.getRoles()).containsAll(roles));\n}\n</code></pre>\n<p>This will loop over your list, check element by element the type and id and if the services are defined it will check also with services and in the end if the roles are defined it will search by roles.</p>\n<p>Note: you can simplify the <code>isCorrectIdentity</code> by using multiple <code>if elses</code> or multiples <code>methods</code>.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701264306,"creation_date":1701263452,"answer_id":77571442,"question_id":77571333,"body_markdown":"You can achieve this with the [Java Stream API][1].\r\n\r\nFor example, given a `List&lt;Identity&gt;` called `identities` you can do:\r\n\r\n    identities.stream()\r\n      .filter(identity -&gt; identity.getType().equals(type) &amp;&amp; identity.getId().equals(id))\r\n      .findFirst();\r\n\r\nI&#39;d be tempted to move the predicate logic to the `Identity` class, so you&#39;d have something like:\r\n\r\n    public class Identity {\r\n\r\n      private String type;\r\n      private String id;\r\n      private String account;\r\n      private List&lt;String&gt; services;\r\n      private List&lt;String&gt; roles;\r\n    \r\n      public boolean matches(string type, string id, string service, string role) {\r\n         return (type == null || this.type.equals(type)) &amp;&amp; \r\n           (id == null || this.id.equals(id)) &amp;&amp; \r\n           (service == null || this.services.contains(service)) &amp;&amp;\r\n           (role == null || this.roles.contains(role));  \r\n      }\r\n    }\r\n\r\nWhich would then be used like this:\r\n\r\n    identities.stream()\r\n      .filter(identity -&gt; identity.matches(type, id, service, role))\r\n      .findFirst();\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Search value in a java list by some of its fields","body":"<p>You can achieve this with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java Stream API</a>.</p>\n<p>For example, given a <code>List&lt;Identity&gt;</code> called <code>identities</code> you can do:</p>\n<pre><code>identities.stream()\n  .filter(identity -&gt; identity.getType().equals(type) &amp;&amp; identity.getId().equals(id))\n  .findFirst();\n</code></pre>\n<p>I'd be tempted to move the predicate logic to the <code>Identity</code> class, so you'd have something like:</p>\n<pre><code>public class Identity {\n\n  private String type;\n  private String id;\n  private String account;\n  private List&lt;String&gt; services;\n  private List&lt;String&gt; roles;\n\n  public boolean matches(string type, string id, string service, string role) {\n     return (type == null || this.type.equals(type)) &amp;&amp; \n       (id == null || this.id.equals(id)) &amp;&amp; \n       (service == null || this.services.contains(service)) &amp;&amp;\n       (role == null || this.roles.contains(role));  \n  }\n}\n</code></pre>\n<p>Which would then be used like this:</p>\n<pre><code>identities.stream()\n  .filter(identity -&gt; identity.matches(type, id, service, role))\n  .findFirst();\n</code></pre>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571429,"answer_count":2,"score":1,"last_activity_date":1701264306,"creation_date":1701262556,"question_id":77571333,"body_markdown":"Good morning. Currently I have the following java class of which I have a list of identities:\r\n  \r\n    @Getter\r\n    @AllArgsConstructor\r\n    @RegisterForReflection\r\n    @NoArgsConstructor\r\n    @Setter\r\n    public class Identity {\r\n    \r\n        private String type;\r\n        private String id;\r\n        @JsonIgnore\r\n        private String account;\r\n        private List&lt;String&gt; services;\r\n        private List&lt;String&gt; roles;\r\n    }\r\n\r\nCurrently I have a List of Identity (**`List &lt;Identity&gt;`**) and I need to search within this list for some or all of its parameters, that is, I can have the following use cases for searching for an identity within the list:\r\n\r\n     1. type &amp;&amp; id;\r\n     2. type &amp;&amp; id &amp;&amp; services; \r\n     3. type &amp;&amp; id &amp;&amp; services &amp;&amp; roles;\r\n\r\nHow can I do in this case? I know that lists have methods like contains, but I don&#39;t know if they apply to partial searches like I want, what I want is that if it makes a match it returns the element","title":"Search value in a java list by some of its fields","body":"<p>Good morning. Currently I have the following java class of which I have a list of identities:</p>\n<pre><code>@Getter\n@AllArgsConstructor\n@RegisterForReflection\n@NoArgsConstructor\n@Setter\npublic class Identity {\n\n    private String type;\n    private String id;\n    @JsonIgnore\n    private String account;\n    private List&lt;String&gt; services;\n    private List&lt;String&gt; roles;\n}\n</code></pre>\n<p>Currently I have a List of Identity (<strong><code>List &lt;Identity&gt;</code></strong>) and I need to search within this list for some or all of its parameters, that is, I can have the following use cases for searching for an identity within the list:</p>\n<pre><code> 1. type &amp;&amp; id;\n 2. type &amp;&amp; id &amp;&amp; services; \n 3. type &amp;&amp; id &amp;&amp; services &amp;&amp; roles;\n</code></pre>\n<p>How can I do in this case? I know that lists have methods like contains, but I don't know if they apply to partial searches like I want, what I want is that if it makes a match it returns the element</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1701259514,"post_id":77570882,"comment_id":136752946,"body_markdown":"Try something first and get back with a precise question and the code.","body":"Try something first and get back with a precise question and the code."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51034,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701264247,"creation_date":1701262598,"answer_id":77571342,"question_id":77570882,"body_markdown":"You&#39;re on the right track. You can check if the object is over a rectangle in the [`mouseClicked()`][1] even handler to increment your counter.\r\n\r\nYou *should* be able to override the [`exit()`][2] sketch function, however I noticed that it doesn&#39;t trigger when you use the stop button in the Processing IDE. It *does work* when you use the `ESCAPE` key to close the sketch. This might actual work better if you plan to export the sketch as an application (via File &gt; Export Application).\r\n\r\nHere&#39;s a super basic sketch to illustrated the above ideas:\r\n\r\n```java\r\n// dummy coin data\r\nint[][] coinBoundingBoxes = {\r\n  {30, 30, 30, 30},\r\n  {135, 30, 30, 30},\r\n  {250, 30, 30, 30},\r\n  {30, 150, 30, 30},\r\n  {135, 150, 30, 30},\r\n  {250, 150, 30, 30},\r\n  {30, 250, 30, 30},\r\n  {135, 250, 30, 30},\r\n  {250, 250, 30, 30},\r\n};\r\n// total number of coins clicked\r\nint numClicks = 0;\r\n\r\nvoid setup(){\r\n  size(300, 300);\r\n}\r\n\r\nvoid draw(){\r\n  background(0);\r\n  // draw coins\r\n  fill(255, 192, 0);\r\n  for(int[] bbox : coinBoundingBoxes)\r\n    ellipse(bbox[0] + bbox[2] * 0.5, bbox[1] + bbox[3] * 0.5, bbox[2], bbox[3]);\r\n  // draw text\r\n  fill(255);\r\n  text(numClicks, 10, 15);\r\n}\r\n\r\nvoid mouseClicked(){\r\n  // check if any coin is clicked to increment\r\n  for(int[] bbox : coinBoundingBoxes){\r\n    if(isInRect(mouseX, mouseY, bbox)){\r\n      numClicks++;\r\n    }\r\n  }\r\n}\r\n\r\n// check is x,y are within bbox x,y,w,h (0, 1, 2, 3)\r\nboolean isInRect(int x, int y, int[] r){\r\n  return (x &gt;= r[0] &amp;&amp; x &lt;= r[0] + r[2]) &amp;&amp;\r\n         (y &gt;= r[1] &amp;&amp; y &lt;= r[1] + r[3]);\r\n}\r\n\r\n// override exit to print clicks first\r\nvoid exit(){\r\n  println(&quot;total clicks: &quot;, numClicks);\r\n  super.exit();\r\n}\r\n```\r\n\r\n  [1]: https://processing.org/reference/mouseClicked_.html\r\n  [2]: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#exit--","title":"Is there a way to keep track of objects clicked and display them as a message when the program ends in processing java?","body":"<p>You're on the right track. You can check if the object is over a rectangle in the <a href=\"https://processing.org/reference/mouseClicked_.html\" rel=\"nofollow noreferrer\"><code>mouseClicked()</code></a> even handler to increment your counter.</p>\n<p>You <em>should</em> be able to override the <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html#exit--\" rel=\"nofollow noreferrer\"><code>exit()</code></a> sketch function, however I noticed that it doesn't trigger when you use the stop button in the Processing IDE. It <em>does work</em> when you use the <code>ESCAPE</code> key to close the sketch. This might actual work better if you plan to export the sketch as an application (via File &gt; Export Application).</p>\n<p>Here's a super basic sketch to illustrated the above ideas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// dummy coin data\nint[][] coinBoundingBoxes = {\n  {30, 30, 30, 30},\n  {135, 30, 30, 30},\n  {250, 30, 30, 30},\n  {30, 150, 30, 30},\n  {135, 150, 30, 30},\n  {250, 150, 30, 30},\n  {30, 250, 30, 30},\n  {135, 250, 30, 30},\n  {250, 250, 30, 30},\n};\n// total number of coins clicked\nint numClicks = 0;\n\nvoid setup(){\n  size(300, 300);\n}\n\nvoid draw(){\n  background(0);\n  // draw coins\n  fill(255, 192, 0);\n  for(int[] bbox : coinBoundingBoxes)\n    ellipse(bbox[0] + bbox[2] * 0.5, bbox[1] + bbox[3] * 0.5, bbox[2], bbox[3]);\n  // draw text\n  fill(255);\n  text(numClicks, 10, 15);\n}\n\nvoid mouseClicked(){\n  // check if any coin is clicked to increment\n  for(int[] bbox : coinBoundingBoxes){\n    if(isInRect(mouseX, mouseY, bbox)){\n      numClicks++;\n    }\n  }\n}\n\n// check is x,y are within bbox x,y,w,h (0, 1, 2, 3)\nboolean isInRect(int x, int y, int[] r){\n  return (x &gt;= r[0] &amp;&amp; x &lt;= r[0] + r[2]) &amp;&amp;\n         (y &gt;= r[1] &amp;&amp; y &lt;= r[1] + r[3]);\n}\n\n// override exit to print clicks first\nvoid exit(){\n  println(&quot;total clicks: &quot;, numClicks);\n  super.exit();\n}\n</code></pre>\n"}],"owner":{"account_id":30021847,"reputation":13,"user_id":23007046,"display_name":"Np3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701266217,"accepted_answer_id":77571342,"answer_count":1,"score":1,"last_activity_date":1701264247,"creation_date":1701258408,"question_id":77570882,"body_markdown":"Im trying to create a small game where the user clicks randomly generated coins and I want it to keep track of how many they click. Also, I want this message to print out when I click the stop button on the processing window.\r\n\r\nI tried using the exit() command as a public void, but that did not work.","title":"Is there a way to keep track of objects clicked and display them as a message when the program ends in processing java?","body":"<p>Im trying to create a small game where the user clicks randomly generated coins and I want it to keep track of how many they click. Also, I want this message to print out when I click the stop button on the processing window.</p>\n<p>I tried using the exit() command as a public void, but that did not work.</p>\n"},{"tags":["java","queue","priority-queue"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1701264225,"post_id":77571509,"comment_id":136753826,"body_markdown":"Keep track of where in the list the first (or last) of each color is.  Or, more accurately, where you would want to add an item of each color.","body":"Keep track of where in the list the first (or last) of each color is.  Or, more accurately, where you would want to add an item of each color."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1701275971,"post_id":77571509,"comment_id":136756470,"body_markdown":"Use a `priorityQueue` with a custom comparator based on color. Queues are FIFO, so they won’t provide the ordering you want.","body":"Use a <code>priorityQueue</code> with a custom comparator based on color. Queues are FIFO, so they won’t provide the ordering you want."}],"owner":{"account_id":30022543,"reputation":1,"user_id":23007575,"display_name":"Henrique de Liz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701264054,"creation_date":1701264054,"question_id":77571509,"body_markdown":"```\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\nimport java.util.Random;\r\n\r\npublic class TestQueueTwo {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random random = new Random();\r\n        int counter = 0;\r\n        String color = &quot; &quot;;\r\n        String ticket;\r\n        int listSize = 5;\r\n        int attendants = 2;\r\n\r\n        String[] colors = {&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;};\r\n\r\n        Queue&lt;String&gt; tickets = new LinkedList&lt;&gt;();\r\n\r\n       while(tickets.size() &lt; listSize)\r\n       {\r\n        \r\n        color = colors[random.nextInt(3)];\r\n        ticket = color + (random.nextInt(listSize) + 1);\r\n        tickets.add(ticket);\r\n       \r\n       }\r\n       \r\n    }   \r\n}\r\n```\r\n\r\n\r\nI am working on a college exercise in Java, and after generating these random passwords, I need to put them in a queue list, and the exercise requires using only one list.\r\n\r\nI need to organize it so that the red passwords come first, the blue ones second, and the yellow ones third.\r\n\r\nExample: (red1, red5, blue3, blue7, yellow8)\r\n\r\nWhich method can I use to organize this using only one list?","title":"Exercise on queue in java","body":"<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Random;\n\npublic class TestQueueTwo {\n\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        int counter = 0;\n        String color = &quot; &quot;;\n        String ticket;\n        int listSize = 5;\n        int attendants = 2;\n\n        String[] colors = {&quot;red&quot;, &quot;blue&quot;, &quot;yellow&quot;};\n\n        Queue&lt;String&gt; tickets = new LinkedList&lt;&gt;();\n\n       while(tickets.size() &lt; listSize)\n       {\n        \n        color = colors[random.nextInt(3)];\n        ticket = color + (random.nextInt(listSize) + 1);\n        tickets.add(ticket);\n       \n       }\n       \n    }   \n}\n</code></pre>\n<p>I am working on a college exercise in Java, and after generating these random passwords, I need to put them in a queue list, and the exercise requires using only one list.</p>\n<p>I need to organize it so that the red passwords come first, the blue ones second, and the yellow ones third.</p>\n<p>Example: (red1, red5, blue3, blue7, yellow8)</p>\n<p>Which method can I use to organize this using only one list?</p>\n"},{"tags":["java","graph","hashmap","shortest-path"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1701264120,"post_id":77571505,"comment_id":136753807,"body_markdown":"What,if anything, have you done to try and fix these &quot;many bugs&quot;?","body":"What,if anything, have you done to try and fix these &quot;many bugs&quot;?"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1701267264,"post_id":77571505,"comment_id":136754441,"body_markdown":"I still do not understand how the &#39;lines&#39; work.  You say they are defined by edges with -1 weight.  You also say the vertex 1 is part of a line with many stations.  However the input file contains no edge with weight -1 that connects station 1.","body":"I still do not understand how the &#39;lines&#39; work.  You say they are defined by edges with -1 weight.  You also say the vertex 1 is part of a line with many stations.  However the input file contains no edge with weight -1 that connects station 1."},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1701272070,"post_id":77571505,"comment_id":136755623,"body_markdown":"The 3rd link on your input file is `1 12 36`.  This would indicate that stations 1 and 12 are directly linked by a trip of 36 secs - faster than any &#39;line&#39; link of 90 secs.","body":"The 3rd link on your input file is <code>1 12 36</code>.  This would indicate that stations 1 and 12 are directly linked by a trip of 36 secs - faster than any &#39;line&#39; link of 90 secs."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701274364,"post_id":77571505,"comment_id":136756114,"body_markdown":"*&quot;However I am getting many bugs.&quot;* That might make your question unsuitable for Stack Overflow. Questions here are expected to be narrowly focused -- That is, about one issue only. If a question is about a bug, in effect, that would be one bug per question.","body":"<i>&quot;However I am getting many bugs.&quot;</i> That might make your question unsuitable for Stack Overflow. Questions here are expected to be narrowly focused -- That is, about one issue only. If a question is about a bug, in effect, that would be one bug per question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701274675,"post_id":77571505,"comment_id":136756177,"body_markdown":"Have you tried running the code in a debugger? The debugger allows you to set breakpoints -- lines at which execution will pause. You can then run the program one-step-at-a-time while monitoring variables. Instead of or in addition to, it may help to add `System.out.println (` lines to the code to help monitor flow and variable values.  You might be interested in https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"Have you tried running the code in a debugger? The debugger allows you to set breakpoints -- lines at which execution will pause. You can then run the program one-step-at-a-time while monitoring variables. Instead of or in addition to, it may help to add <code>System.out.println (</code> lines to the code to help monitor flow and variable values.  You might be interested in <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}],"owner":{"account_id":23416475,"reputation":3,"user_id":17477358,"display_name":"metsys"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701264008,"creation_date":1701264008,"question_id":77571505,"body_markdown":"I am working on this program that reads a file of metro stations and converts it into a graph. Then it does the following tasks:\r\n\r\n• It identifies all the stations belonging on the same line of a given station with the given station as input.\r\n\r\n• It finds the shortest path between two stations with the given 2 stations\r\n\r\n• In the original the data file metro.txt (The vertices starts after the $. Left integer is starting vertex, middle int is ending vertex, and right integer is weight/Time(s)):\r\n\r\nhttps://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing\r\n\r\n• The txt file contains different vertices that can be followed by the same station name when several subway lines pass by the same &quot;physical station&quot; (e.g. Bastille). For each vertex corresponds to a station, and stations with different numbers and the same name are considered as different &quot;stations&quot;\r\n\r\n• The line refers to all connected vertices with edges that connects them in cases of -1 weight it is considered as 90 secs constant\r\n\r\nHowever I am getting many bugs. Ex: when 1 is entered for N1:\r\noutput: \r\n\r\nLine: 1 12 \r\n\r\nCorrect output\r\n\r\nLine: 1 12 213 235 284 211 86 21 75 142 339 151 13 5 239 27 246 302 366 204 85 351 56 362 256\r\n\r\nHere is my code:\r\n\r\n    import net.datastructures.AdjacencyMapGraph;\r\n    import net.datastructures.Edge;\r\n    import net.datastructures.Graph;\r\n    import net.datastructures.Vertex;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.*;\r\n    \r\n    public class ParisMetro {\r\n        Graph&lt;String, Integer&gt; sGraph;\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; lines;\r\n        Map&lt;Vertex&lt;String&gt;, Boolean&gt; visited; // Declaration of visited map\r\n    \r\n        public ParisMetro(String fileName) throws IOException {\r\n          sGraph = new AdjacencyMapGraph&lt;&gt;(false);\r\n          lines = new HashMap&lt;&gt;();\r\n          read(fileName);\r\n        }\r\n    \r\n        protected void read(String fileName) throws IOException {\r\n          BufferedReader graphFile = new BufferedReader(new FileReader(fileName));\r\n          String line;\r\n          boolean isWeightSection = false;\r\n    \r\n          while ((line = graphFile.readLine()) != null) {\r\n            if (line.equals(&quot;$&quot;)) {\r\n              isWeightSection = true;\r\n              continue;\r\n            }\r\n    \r\n            StringTokenizer st = new StringTokenizer(line);\r\n            if (isWeightSection &amp;&amp; st.countTokens() == 3) {\r\n              String source = st.nextToken();\r\n              String dest = st.nextToken();\r\n              int weight = Integer.parseInt(st.nextToken());\r\n              Vertex&lt;String&gt; sv = sGraph.insertVertex(source);\r\n              Vertex&lt;String&gt; dv = sGraph.insertVertex(dest);\r\n              sGraph.insertEdge(sv, dv, weight);\r\n            } else {\r\n              while (st.hasMoreTokens()) {\r\n                String stationName = st.nextToken();\r\n                if (!stationName.equals(&quot;$&quot;)) {\r\n                  sGraph.insertVertex(stationName);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          graphFile.close();\r\n        }\r\n    \r\n    \r\n        public List&lt;String&gt; findShortestPath(String sourceStation, String destinationStation) {\r\n          Map&lt;Vertex&lt;String&gt;, Vertex&lt;String&gt;&gt; previous = new HashMap&lt;&gt;();\r\n          Vertex&lt;String&gt; source = null;\r\n          Vertex&lt;String&gt; destination = null;\r\n    \r\n          for (Vertex&lt;String&gt; v : sGraph.vertices()) {\r\n            if (v.getElement().equals(sourceStation)) {\r\n              source = v;\r\n            }\r\n            if (v.getElement().equals(destinationStation)) {\r\n              destination = v;\r\n            }\r\n          }\r\n    \r\n          if (source == null || destination == null) {\r\n            return Collections.emptyList();\r\n          }\r\n    \r\n          Map&lt;Vertex&lt;String&gt;, Integer&gt; distance = new HashMap&lt;&gt;();\r\n          PriorityQueue&lt;Vertex&lt;String&gt;&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(distance::get));\r\n    \r\n          distance.put(source, 0);\r\n          queue.add(source);\r\n    \r\n          for (Vertex&lt;String&gt; vertex : sGraph.vertices()) {\r\n            if (!vertex.equals(source)) {\r\n              distance.put(vertex, Integer.MAX_VALUE);\r\n              previous.put(vertex, null);\r\n            }\r\n          }\r\n    \r\n          while (!queue.isEmpty()) {\r\n            Vertex&lt;String&gt; current = queue.poll();\r\n    \r\n            for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(current)) {\r\n              Vertex&lt;String&gt; neighbor = sGraph.opposite(current, edge);\r\n              int newDistance = distance.get(current) + edge.getElement();\r\n              if (newDistance &lt; distance.get(neighbor)) {\r\n                distance.put(neighbor, newDistance);\r\n                previous.put(neighbor, current);\r\n                queue.add(neighbor);\r\n              }\r\n            }\r\n          }\r\n    \r\n          List&lt;String&gt; shortestPath = new ArrayList&lt;&gt;();\r\n          Vertex&lt;String&gt; current = destination;\r\n          while (current != null) {\r\n            shortestPath.add(current.getElement());\r\n            current = previous.get(current);\r\n          }\r\n          Collections.reverse(shortestPath);\r\n    \r\n          return shortestPath;\r\n        }\r\n    \r\n        public void printDFS(String vert) {\r\n          Vertex&lt;String&gt; vt = getVertex(vert);\r\n          boolean[] visited = new boolean[sGraph.numVertices() + 1]; // Assuming station numbering starts from 1\r\n          List&lt;String&gt; stationsInSameLine = new ArrayList&lt;&gt;();\r\n    \r\n          if (vt != null) {\r\n            DFS(vt, visited, stationsInSameLine);\r\n          }\r\n    \r\n          System.out.println(&quot;Line: &quot; + String.join(&quot; &quot;, stationsInSameLine));\r\n        }\r\n    \r\n        private void DFS(Vertex&lt;String&gt; vt, boolean[] visited, List&lt;String&gt; stationsInSameLine) {\r\n          int stationNumber = Integer.parseInt(vt.getElement());\r\n          visited[stationNumber] = true;\r\n          stationsInSameLine.add(vt.getElement());\r\n    \r\n          for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(vt)) {\r\n            Vertex&lt;String&gt; neighbor = sGraph.opposite(vt, edge);\r\n            int neighborStationNumber = Integer.parseInt(neighbor.getElement());\r\n            if (!visited[neighborStationNumber]) {\r\n              DFS(neighbor, visited, stationsInSameLine);\r\n            }\r\n          }\r\n        }\r\n    \r\n        private Vertex&lt;String&gt; getVertex(String vert) {\r\n          for (Vertex&lt;String&gt; v : sGraph.vertices()) {\r\n            if (v.getElement().equals(vert)) {\r\n              return v;\r\n            }\r\n          }\r\n          return null;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n          if (args.length &lt; 1) {\r\n            System.err.println(&quot;Usage: java ParisMetro fileName&quot;);\r\n            System.exit(-1);\r\n          }\r\n    \r\n          try {\r\n            ParisMetro sGraph = new ParisMetro(args[0]);\r\n    \r\n            // Ask for type of query\r\n            System.out.println(&quot;Choose Query Type:&quot;);\r\n            System.out.println(&quot;1. List stations in the same line (N1)&quot;);\r\n            System.out.println(&quot;2. Find shortest path between stations (N1, N2)&quot;);\r\n    \r\n            // Read query type\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            int queryType = Integer.parseInt(reader.readLine());\r\n    \r\n            if (queryType == 1) {\r\n              // Query type 1: List stations in the same line for a given station ID (N1)\r\n              System.out.println(&quot;Enter Station ID (N1):&quot;);\r\n              String stationID = reader.readLine();\r\n              sGraph.printDFS(stationID);\r\n            } else if (queryType == 2) {\r\n              // Query type 2: Find shortest path between stations (N1, N2)\r\n              System.out.println(&quot;Enter Start Station ID (N1):&quot;);\r\n              String startStationID = reader.readLine();\r\n              System.out.println(&quot;Enter Destination Station ID (N2):&quot;);\r\n              String destinationStationID = reader.readLine();\r\n    \r\n              List&lt;String&gt; shortestPath = sGraph.findShortestPath(startStationID, destinationStationID);\r\n    \r\n              if (shortestPath.isEmpty()) {\r\n                System.out.println(&quot;No path found between the stations.&quot;);\r\n              } else {\r\n                System.out.println(&quot;Shortest Path: &quot; + String.join(&quot; -&gt; &quot;, shortestPath));\r\n              }\r\n    \r\n              // Update the code based on the algorithm used (e.g., Dijkstra&#39;s algorithm)\r\n              System.out.println(sGraph.findShortestPath(startStationID, destinationStationID));\r\n              // The shortestPath method should print the path and time taken\r\n            } else {\r\n              System.out.println(&quot;Invalid Query Type&quot;);\r\n            }\r\n          } catch (Exception except) {\r\n            System.err.println(except);\r\n            except.printStackTrace();\r\n          }\r\n        }\r\n      }","title":"Finding paths and shortest paths in a map","body":"<p>I am working on this program that reads a file of metro stations and converts it into a graph. Then it does the following tasks:</p>\n<p>• It identifies all the stations belonging on the same line of a given station with the given station as input.</p>\n<p>• It finds the shortest path between two stations with the given 2 stations</p>\n<p>• In the original the data file metro.txt (The vertices starts after the $. Left integer is starting vertex, middle int is ending vertex, and right integer is weight/Time(s)):</p>\n<p><a href=\"https://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1ePOoCHmFMi6TNTRPviIucwwUF7gGXy--/view?usp=sharing</a></p>\n<p>• The txt file contains different vertices that can be followed by the same station name when several subway lines pass by the same &quot;physical station&quot; (e.g. Bastille). For each vertex corresponds to a station, and stations with different numbers and the same name are considered as different &quot;stations&quot;</p>\n<p>• The line refers to all connected vertices with edges that connects them in cases of -1 weight it is considered as 90 secs constant</p>\n<p>However I am getting many bugs. Ex: when 1 is entered for N1:\noutput:</p>\n<p>Line: 1 12</p>\n<p>Correct output</p>\n<p>Line: 1 12 213 235 284 211 86 21 75 142 339 151 13 5 239 27 246 302 366 204 85 351 56 362 256</p>\n<p>Here is my code:</p>\n<pre><code>import net.datastructures.AdjacencyMapGraph;\nimport net.datastructures.Edge;\nimport net.datastructures.Graph;\nimport net.datastructures.Vertex;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.*;\n\npublic class ParisMetro {\n    Graph&lt;String, Integer&gt; sGraph;\n    Map&lt;Integer, List&lt;Integer&gt;&gt; lines;\n    Map&lt;Vertex&lt;String&gt;, Boolean&gt; visited; // Declaration of visited map\n\n    public ParisMetro(String fileName) throws IOException {\n      sGraph = new AdjacencyMapGraph&lt;&gt;(false);\n      lines = new HashMap&lt;&gt;();\n      read(fileName);\n    }\n\n    protected void read(String fileName) throws IOException {\n      BufferedReader graphFile = new BufferedReader(new FileReader(fileName));\n      String line;\n      boolean isWeightSection = false;\n\n      while ((line = graphFile.readLine()) != null) {\n        if (line.equals(&quot;$&quot;)) {\n          isWeightSection = true;\n          continue;\n        }\n\n        StringTokenizer st = new StringTokenizer(line);\n        if (isWeightSection &amp;&amp; st.countTokens() == 3) {\n          String source = st.nextToken();\n          String dest = st.nextToken();\n          int weight = Integer.parseInt(st.nextToken());\n          Vertex&lt;String&gt; sv = sGraph.insertVertex(source);\n          Vertex&lt;String&gt; dv = sGraph.insertVertex(dest);\n          sGraph.insertEdge(sv, dv, weight);\n        } else {\n          while (st.hasMoreTokens()) {\n            String stationName = st.nextToken();\n            if (!stationName.equals(&quot;$&quot;)) {\n              sGraph.insertVertex(stationName);\n            }\n          }\n        }\n      }\n      graphFile.close();\n    }\n\n\n    public List&lt;String&gt; findShortestPath(String sourceStation, String destinationStation) {\n      Map&lt;Vertex&lt;String&gt;, Vertex&lt;String&gt;&gt; previous = new HashMap&lt;&gt;();\n      Vertex&lt;String&gt; source = null;\n      Vertex&lt;String&gt; destination = null;\n\n      for (Vertex&lt;String&gt; v : sGraph.vertices()) {\n        if (v.getElement().equals(sourceStation)) {\n          source = v;\n        }\n        if (v.getElement().equals(destinationStation)) {\n          destination = v;\n        }\n      }\n\n      if (source == null || destination == null) {\n        return Collections.emptyList();\n      }\n\n      Map&lt;Vertex&lt;String&gt;, Integer&gt; distance = new HashMap&lt;&gt;();\n      PriorityQueue&lt;Vertex&lt;String&gt;&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(distance::get));\n\n      distance.put(source, 0);\n      queue.add(source);\n\n      for (Vertex&lt;String&gt; vertex : sGraph.vertices()) {\n        if (!vertex.equals(source)) {\n          distance.put(vertex, Integer.MAX_VALUE);\n          previous.put(vertex, null);\n        }\n      }\n\n      while (!queue.isEmpty()) {\n        Vertex&lt;String&gt; current = queue.poll();\n\n        for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(current)) {\n          Vertex&lt;String&gt; neighbor = sGraph.opposite(current, edge);\n          int newDistance = distance.get(current) + edge.getElement();\n          if (newDistance &lt; distance.get(neighbor)) {\n            distance.put(neighbor, newDistance);\n            previous.put(neighbor, current);\n            queue.add(neighbor);\n          }\n        }\n      }\n\n      List&lt;String&gt; shortestPath = new ArrayList&lt;&gt;();\n      Vertex&lt;String&gt; current = destination;\n      while (current != null) {\n        shortestPath.add(current.getElement());\n        current = previous.get(current);\n      }\n      Collections.reverse(shortestPath);\n\n      return shortestPath;\n    }\n\n    public void printDFS(String vert) {\n      Vertex&lt;String&gt; vt = getVertex(vert);\n      boolean[] visited = new boolean[sGraph.numVertices() + 1]; // Assuming station numbering starts from 1\n      List&lt;String&gt; stationsInSameLine = new ArrayList&lt;&gt;();\n\n      if (vt != null) {\n        DFS(vt, visited, stationsInSameLine);\n      }\n\n      System.out.println(&quot;Line: &quot; + String.join(&quot; &quot;, stationsInSameLine));\n    }\n\n    private void DFS(Vertex&lt;String&gt; vt, boolean[] visited, List&lt;String&gt; stationsInSameLine) {\n      int stationNumber = Integer.parseInt(vt.getElement());\n      visited[stationNumber] = true;\n      stationsInSameLine.add(vt.getElement());\n\n      for (Edge&lt;Integer&gt; edge : sGraph.outgoingEdges(vt)) {\n        Vertex&lt;String&gt; neighbor = sGraph.opposite(vt, edge);\n        int neighborStationNumber = Integer.parseInt(neighbor.getElement());\n        if (!visited[neighborStationNumber]) {\n          DFS(neighbor, visited, stationsInSameLine);\n        }\n      }\n    }\n\n    private Vertex&lt;String&gt; getVertex(String vert) {\n      for (Vertex&lt;String&gt; v : sGraph.vertices()) {\n        if (v.getElement().equals(vert)) {\n          return v;\n        }\n      }\n      return null;\n    }\n\n    public static void main(String[] args) {\n      if (args.length &lt; 1) {\n        System.err.println(&quot;Usage: java ParisMetro fileName&quot;);\n        System.exit(-1);\n      }\n\n      try {\n        ParisMetro sGraph = new ParisMetro(args[0]);\n\n        // Ask for type of query\n        System.out.println(&quot;Choose Query Type:&quot;);\n        System.out.println(&quot;1. List stations in the same line (N1)&quot;);\n        System.out.println(&quot;2. Find shortest path between stations (N1, N2)&quot;);\n\n        // Read query type\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        int queryType = Integer.parseInt(reader.readLine());\n\n        if (queryType == 1) {\n          // Query type 1: List stations in the same line for a given station ID (N1)\n          System.out.println(&quot;Enter Station ID (N1):&quot;);\n          String stationID = reader.readLine();\n          sGraph.printDFS(stationID);\n        } else if (queryType == 2) {\n          // Query type 2: Find shortest path between stations (N1, N2)\n          System.out.println(&quot;Enter Start Station ID (N1):&quot;);\n          String startStationID = reader.readLine();\n          System.out.println(&quot;Enter Destination Station ID (N2):&quot;);\n          String destinationStationID = reader.readLine();\n\n          List&lt;String&gt; shortestPath = sGraph.findShortestPath(startStationID, destinationStationID);\n\n          if (shortestPath.isEmpty()) {\n            System.out.println(&quot;No path found between the stations.&quot;);\n          } else {\n            System.out.println(&quot;Shortest Path: &quot; + String.join(&quot; -&gt; &quot;, shortestPath));\n          }\n\n          // Update the code based on the algorithm used (e.g., Dijkstra's algorithm)\n          System.out.println(sGraph.findShortestPath(startStationID, destinationStationID));\n          // The shortestPath method should print the path and time taken\n        } else {\n          System.out.println(&quot;Invalid Query Type&quot;);\n        }\n      } catch (Exception except) {\n        System.err.println(except);\n        except.printStackTrace();\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701263549,"post_id":77571302,"comment_id":136753687,"body_markdown":"The error makes clear that you do not have the SQLite JDBC driver on your classpath (or it is the wrong driver class name), and if this is a JDBC 4 or higher JDBC driver, you don&#39;t even need to explicitly load the JDBC driver, automatic driver loading will take care of it (and calling `newInstance()` has never been necessary).","body":"The error makes clear that you do not have the SQLite JDBC driver on your classpath (or it is the wrong driver class name), and if this is a JDBC 4 or higher JDBC driver, you don&#39;t even need to explicitly load the JDBC driver, automatic driver loading will take care of it (and calling <code>newInstance()</code> has never been necessary)."},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701320283,"post_id":77571302,"comment_id":136761910,"body_markdown":"Hello, what&#39;s the project type of it? Does it is an IDEA build project or Gradle/Maven? Please share the project structure/screenshot.","body":"Hello, what&#39;s the project type of it? Does it is an IDEA build project or Gradle/Maven? Please share the project structure/screenshot."}],"owner":{"account_id":30022330,"reputation":1,"user_id":23007415,"display_name":"thomasAnderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701263598,"answer_count":0,"score":0,"last_activity_date":1701263612,"creation_date":1701262278,"question_id":77571302,"body_markdown":"I&#39;m using IntelliJ IDEA Ultimate. I try to connect to an existing db that I created by using creator. \r\n\r\nI have installed driver and I get these errors:\r\n\r\n```none\r\njava.lang.ClassNotFoundException: org.sqlite.JDBC\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:421)\r\n\tat java.base/java.lang.Class.forName(Class.java:412)\r\n\tat Main.main(Main.java:8)\r\nNo suitable driver found for jdbc:sqlite:identifier.sqlite\r\n```\r\n\r\nAs for code I tried to compile:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        try { Class.forName(&quot;org.sqlite.JDBC&quot;).newInstance(); } catch(Exception e) {e.printStackTrace();};\r\n        Connection connection = null;\r\n        try\r\n        {\r\n            // create a database connection\r\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:identifier.sqlite&quot;);\r\n            Statement statement = connection.createStatement();\r\n            statement.setQueryTimeout(30);  // set timeout to 30 sec.\r\n\r\n        }\r\n        catch(SQLException e)\r\n        {\r\n            // if the error message is &quot;out of memory&quot;,\r\n            // it probably means no database file is found\r\n            System.err.println(e.getMessage());\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                if(connection != null)\r\n                    connection.close();\r\n            }\r\n            catch(SQLException e)\r\n            {\r\n                // connection close failed.\r\n                System.err.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"No suitable driver found sqllite. IntelIj ultimate drivers","body":"<p>I'm using IntelliJ IDEA Ultimate. I try to connect to an existing db that I created by using creator.</p>\n<p>I have installed driver and I get these errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: org.sqlite.JDBC\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:421)\n    at java.base/java.lang.Class.forName(Class.java:412)\n    at Main.main(Main.java:8)\nNo suitable driver found for jdbc:sqlite:identifier.sqlite\n</code></pre>\n<p>As for code I tried to compile:</p>\n<pre><code>public class Main {\n    public static void main(String[] args)\n    {\n        try { Class.forName(&quot;org.sqlite.JDBC&quot;).newInstance(); } catch(Exception e) {e.printStackTrace();};\n        Connection connection = null;\n        try\n        {\n            // create a database connection\n            connection = DriverManager.getConnection(&quot;jdbc:sqlite:identifier.sqlite&quot;);\n            Statement statement = connection.createStatement();\n            statement.setQueryTimeout(30);  // set timeout to 30 sec.\n\n        }\n        catch(SQLException e)\n        {\n            // if the error message is &quot;out of memory&quot;,\n            // it probably means no database file is found\n            System.err.println(e.getMessage());\n        }\n        finally\n        {\n            try\n            {\n                if(connection != null)\n                    connection.close();\n            }\n            catch(SQLException e)\n            {\n                // connection close failed.\n                System.err.println(e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":4,"creation_date":1701252237,"post_id":77570156,"comment_id":136751542,"body_markdown":"I&#39;m not sure you understand what `if then else` does. Nothing can be both true and false. It will only ever execute one of the blocks.","body":"I&#39;m not sure you understand what <code>if then else</code> does. Nothing can be both true and false. It will only ever execute one of the blocks."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701252285,"post_id":77570156,"comment_id":136751556,"body_markdown":"it should be impossible; as you wrote, or `condition` is `true`, or it is `false`; only option to this, is its evaluation throwing some exception, nothing being printed in that case - unless some compiler/virtual machine bug (ignoring bytecode manipulation frameworks or similar)","body":"it should be impossible; as you wrote, or <code>condition</code> is <code>true</code>, or it is <code>false</code>; only option to this, is its evaluation throwing some exception, nothing being printed in that case - unless some compiler/virtual machine bug (ignoring bytecode manipulation frameworks or similar)"},{"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"score":0,"creation_date":1701252549,"post_id":77570156,"comment_id":136751602,"body_markdown":"the &quot;condition&quot; you want is probably removing the if/else statement","body":"the &quot;condition&quot; you want is probably removing the if/else statement"}],"answers":[{"tags":[],"owner":{"account_id":20063026,"reputation":71,"user_id":14709345,"display_name":"Amer Al  Munajjed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701252751,"creation_date":1701252751,"answer_id":77570223,"question_id":77570156,"body_markdown":"In Java, it is not possible for both the if and else blocks to be executed at the same time. The if-else statement is designed to be mutually exclusive, meaning that only one of the blocks will be executed based on the condition specified in the if statement.\r\nIf you want both blocks to be executed, you may need to reevaluate the logic of your program. You can consider using two separate if statements without an else or using a different logical structure depending on your specific requirements.","title":"Which condition print both if and else block same time in java?","body":"<p>In Java, it is not possible for both the if and else blocks to be executed at the same time. The if-else statement is designed to be mutually exclusive, meaning that only one of the blocks will be executed based on the condition specified in the if statement.\nIf you want both blocks to be executed, you may need to reevaluate the logic of your program. You can consider using two separate if statements without an else or using a different logical structure depending on your specific requirements.</p>\n"},{"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701263577,"creation_date":1701254319,"answer_id":77570403,"question_id":77570156,"body_markdown":"Here&#39;s basic answer to your question\r\n=\r\n\r\nAn `if-else` statement is like this\r\n\r\n```\r\nif thirsty\r\n    drink water\r\nelse\r\n    dont drink water\r\n```\r\nWell when do you drink water? only when your thirsty, if you are not thirsty **you do not go to drink water**. In what you&#39;re asking it&#39;s like saying -&gt; *&quot;I wasn&#39;t thirsty yet I drank water&quot;*\r\n\r\nThe same applies for Java and probably *every other programming language*.\r\n-\r\n\r\n```\r\nif(condition) {\r\n    // Do something...\r\n}\r\nelse {\r\n    // Do something else...\r\n}\r\n```\r\n\r\nA few more useful things to know\r\n=\r\n\r\nUse of an `if-else` statement\r\n-\r\n\r\nThe use of an `if-else` statement is to execute code if only the previous `if` or `else if` condition was false.\r\nThat also is the difference between an `else if` statement and adding another `if statement`.\r\n***\r\n`else if` statements\r\n-\r\n\r\nIn some conditions you would not need an `else if` statement. **For example** using booleans, they only have 2 values- true or false.\r\nOn the other hand when it comes to data values such as integers you would find an `else if` statement useful.\r\n```\r\nif(value == 0) {\r\n    // Do something if value is 0\r\n}\r\nelse if(value == 1) {\r\n    // Do something if value is 1\r\n}\r\nelse if(value == 2) {\r\n    // Do something if value is 2\r\n}\r\nelse {\r\n    // Do something if value is neither 0 nor 1\r\n}\r\n```\r\nRemember that `else if` statements can continue as long as there is a `if` or `else if` statement above them. This means you can check for as many conditions as you want.\r\n","title":"Which condition print both if and else block same time in java?","body":"<h1>Here's basic answer to your question</h1>\n<p>An <code>if-else</code> statement is like this</p>\n<pre><code>if thirsty\n    drink water\nelse\n    dont drink water\n</code></pre>\n<p>Well when do you drink water? only when your thirsty, if you are not thirsty <strong>you do not go to drink water</strong>. In what you're asking it's like saying -&gt; <em>&quot;I wasn't thirsty yet I drank water&quot;</em></p>\n<h2>The same applies for Java and probably <em>every other programming language</em>.</h2>\n<pre><code>if(condition) {\n    // Do something...\n}\nelse {\n    // Do something else...\n}\n</code></pre>\n<h1>A few more useful things to know</h1>\n<h2>Use of an <code>if-else</code> statement</h2>\n<p>The use of an <code>if-else</code> statement is to execute code if only the previous <code>if</code> or <code>else if</code> condition was false.\nThat also is the difference between an <code>else if</code> statement and adding another <code>if statement</code>.</p>\n<hr />\n<h2><code>else if</code> statements</h2>\n<p>In some conditions you would not need an <code>else if</code> statement. <strong>For example</strong> using booleans, they only have 2 values- true or false.\nOn the other hand when it comes to data values such as integers you would find an <code>else if</code> statement useful.</p>\n<pre><code>if(value == 0) {\n    // Do something if value is 0\n}\nelse if(value == 1) {\n    // Do something if value is 1\n}\nelse if(value == 2) {\n    // Do something if value is 2\n}\nelse {\n    // Do something if value is neither 0 nor 1\n}\n</code></pre>\n<p>Remember that <code>else if</code> statements can continue as long as there is a <code>if</code> or <code>else if</code> statement above them. This means you can check for as many conditions as you want.</p>\n"}],"owner":{"account_id":25123513,"reputation":1,"user_id":23006349,"display_name":"Akoram M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701268310,"answer_count":2,"score":-4,"last_activity_date":1701263577,"creation_date":1701252146,"question_id":77570156,"body_markdown":"```\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n        if (condition) {\r\n            System.out.printf(&quot;If block executed&quot;);\r\n        } else {\r\n            System.out.printf(&quot;Else block executed&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere my expected output is \r\n\r\n    `If block executed`\r\n    `Else block executed`\r\n\r\nWhich condition will help to achieve this?\r\n\r\nif condition == true it will print `If block executed`\r\nif condition == false it will print `Else block executed`\r\n\r\nBut i need to print both blocks in a single execution is it possible? and how ? please explain me thank you:)\r\n","title":"Which condition print both if and else block same time in java?","body":"<pre><code>public class Example {\n\n    public static void main(String[] args) {\n        if (condition) {\n            System.out.printf(&quot;If block executed&quot;);\n        } else {\n            System.out.printf(&quot;Else block executed&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here my expected output is</p>\n<pre><code>`If block executed`\n`Else block executed`\n</code></pre>\n<p>Which condition will help to achieve this?</p>\n<p>if condition == true it will print <code>If block executed</code>\nif condition == false it will print <code>Else block executed</code></p>\n<p>But i need to print both blocks in a single execution is it possible? and how ? please explain me thank you:)</p>\n"},{"tags":["java","spring","spring-mvc","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":6371426,"reputation":470,"user_id":4943720,"display_name":"Johannes Becker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701263424,"creation_date":1701263424,"answer_id":77571440,"question_id":77571207,"body_markdown":"I am sitting in the train and have no PC with me, so I can just point you in a direction.\r\n\r\nWhat happens in Spring internally, is that a `ConstraintViolationException` is thrown. This exception contains all violations found by the validator. This information can be used to calculate the information you need.\r\n\r\nSecond thing that happens when an exception is thrown by a `RestController` it is handled by an exception handler which maps it to an appropiate http response. If no handler is defined a default handler is used.\r\n\r\nThere are multiple ways to define such a handler, this is best explained in the official [documentation](https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc). \r\n\r\nThere you can define a handler for the `ConstraintViolationException` where you create your desired response.\r\n\r\n","title":"How split collection of validated objects in Spring and bean validation?","body":"<p>I am sitting in the train and have no PC with me, so I can just point you in a direction.</p>\n<p>What happens in Spring internally, is that a <code>ConstraintViolationException</code> is thrown. This exception contains all violations found by the validator. This information can be used to calculate the information you need.</p>\n<p>Second thing that happens when an exception is thrown by a <code>RestController</code> it is handled by an exception handler which maps it to an appropiate http response. If no handler is defined a default handler is used.</p>\n<p>There are multiple ways to define such a handler, this is best explained in the official <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>There you can define a handler for the <code>ConstraintViolationException</code> where you create your desired response.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701263424,"creation_date":1701261302,"question_id":77571207,"body_markdown":"Consider:\r\n\r\n    @PostMapping(&quot;/track&quot;)\r\n    public void sendTopicCallback(@RequestBody @Validated Request request): CompletableFuture&lt;ResponseEntity&lt;Void&gt;&gt;\r\n\r\nAnd `Request` is:\r\n\r\n    public class Request {\r\n        @Valid\r\n        private List&lt;MyObjects&gt; objects;\r\n    }\r\n    \r\nHow to validate request but instead of returning 400 error code get valid object `List` and `List` of errors mapped with raw data?","title":"How split collection of validated objects in Spring and bean validation?","body":"<p>Consider:</p>\n<pre><code>@PostMapping(&quot;/track&quot;)\npublic void sendTopicCallback(@RequestBody @Validated Request request): CompletableFuture&lt;ResponseEntity&lt;Void&gt;&gt;\n</code></pre>\n<p>And <code>Request</code> is:</p>\n<pre><code>public class Request {\n    @Valid\n    private List&lt;MyObjects&gt; objects;\n}\n</code></pre>\n<p>How to validate request but instead of returning 400 error code get valid object <code>List</code> and <code>List</code> of errors mapped with raw data?</p>\n"},{"tags":["java","android","multiple-monitors"],"answers":[{"tags":[],"owner":{"account_id":15389411,"reputation":324,"user_id":11102588,"display_name":"Antony Aiwin K X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701263396,"creation_date":1701263006,"answer_id":77571394,"question_id":77571167,"body_markdown":"I think its not working because you defined &#39;android:colorBackground&#39; in a different style named &#39;Theme.MyApp.CFS&#39;. Just define it in the theme itself and it should work fine.\r\n    \r\n\r\n        &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n            &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n            &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\ninstead of :\r\n\r\n       &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n       &lt;/style&gt;\r\n    \r\n       &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n            &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n            &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n       &lt;/style&gt;\r\n\r\n**Method 2 :**\r\n\r\nYou can achieve this with another method. You have defined the attribute in a separate style named &#39;Theme.MyApp.CFS&#39;. You can add the style attribute instead of background attribute to LinearLayout.\r\n\r\n \r\n\r\n       &lt;LinearLayout \r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/second_screen_theme_wrapper&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            style=&quot;@style/Theme.MyApp.CFS&quot;&gt;\r\n       ...","title":"DayNight mode not working for Presentation dialog on second screen","body":"<p>I think its not working because you defined 'android:colorBackground' in a different style named 'Theme.MyApp.CFS'. Just define it in the theme itself and it should work fine.</p>\n<pre><code>    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>instead of :</p>\n<pre><code>   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n   &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n   &lt;/style&gt;\n</code></pre>\n<p><strong>Method 2 :</strong></p>\n<p>You can achieve this with another method. You have defined the attribute in a separate style named 'Theme.MyApp.CFS'. You can add the style attribute instead of background attribute to LinearLayout.</p>\n<pre><code>   &lt;LinearLayout \n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:id=&quot;@+id/second_screen_theme_wrapper&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        style=&quot;@style/Theme.MyApp.CFS&quot;&gt;\n   ...\n</code></pre>\n"}],"owner":{"account_id":3928971,"reputation":421,"user_id":6251097,"display_name":"LoyalPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701263396,"creation_date":1701260960,"question_id":77571167,"body_markdown":"I&#39;ve got a small test app to test day/night themes in a device with two screens.\r\n\r\nI&#39;ve got a `themes.xml`\r\n```xml\r\n    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n\r\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nAnd the same `theme.xml` in `values-night` folder, with a different color\r\n```xml\r\n   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n\r\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\r\n        &lt;!-- NOTE: The theme is loading the dark mode...--&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/malibu_2&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nMy `MainActivity` extends `AppCompatActivity` and has this code on the `onCreate`\r\n```java\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        @SuppressLint(&quot;WrongConstant&quot;) DisplayManager displayManager = (DisplayManager) getApplicationContext().getSystemService(Context.DISPLAY_SERVICE);\r\n        var presentationDisplays = displayManager.getDisplays(DisplayManager.DISPLAY_CATEGORY_PRESENTATION);\r\n        var pres = new Pres(this, presentationDisplays[0], R.style.Theme_MyApp_CFS);\r\n        pres.show();\r\n    }\r\n```\r\nThe theme defined for it is the `Theme.MyApp`, set in the manifest file.\r\n\r\nThis `Pres` class is just a class that extends `Presentation` and sets the content view to a layout that&#39;s using the `colorBackground` attribute and showing on the secondary display.\r\n```xml\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/second_screen_theme_wrapper&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?android:attr/colorBackground&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n...\r\n```\r\n\r\nThe problem is that the presentation doesn&#39;t respect the night mode toggle and shows the theme as if it were the light mode.\r\nThe main activity screen shows the theme with the correct night mode applied (shows the according bg color) but the presentation/dialog doesn&#39;t.\r\n\r\nIs there a way to pass the theme file that&#39;s in night mode specifically or something else? Or do I need to create two themes on `values/theme.xml` for day and night mode and pass one to the constructor of the presentation accordingly?\r\n\r\nThe `minSdk` is set to 21 and `targetSdk` to 33, in case that&#39;s relevant.","title":"DayNight mode not working for Presentation dialog on second screen","body":"<p>I've got a small test app to test day/night themes in a device with two screens.</p>\n<p>I've got a <code>themes.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the light mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/vivid_tangerine&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>And the same <code>theme.xml</code> in <code>values-night</code> folder, with a different color</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;/style&gt;\n\n   &lt;style name=&quot;Theme.MyApp.CFS&quot;&gt;\n        &lt;!-- NOTE: The theme is loading the dark mode...--&gt;\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/malibu_2&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>My <code>MainActivity</code> extends <code>AppCompatActivity</code> and has this code on the <code>onCreate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void onCreate(Bundle savedInstanceState) {\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        @SuppressLint(&quot;WrongConstant&quot;) DisplayManager displayManager = (DisplayManager) getApplicationContext().getSystemService(Context.DISPLAY_SERVICE);\n        var presentationDisplays = displayManager.getDisplays(DisplayManager.DISPLAY_CATEGORY_PRESENTATION);\n        var pres = new Pres(this, presentationDisplays[0], R.style.Theme_MyApp_CFS);\n        pres.show();\n    }\n</code></pre>\n<p>The theme defined for it is the <code>Theme.MyApp</code>, set in the manifest file.</p>\n<p>This <code>Pres</code> class is just a class that extends <code>Presentation</code> and sets the content view to a layout that's using the <code>colorBackground</code> attribute and showing on the secondary display.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/second_screen_theme_wrapper&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;?android:attr/colorBackground&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n...\n</code></pre>\n<p>The problem is that the presentation doesn't respect the night mode toggle and shows the theme as if it were the light mode.\nThe main activity screen shows the theme with the correct night mode applied (shows the according bg color) but the presentation/dialog doesn't.</p>\n<p>Is there a way to pass the theme file that's in night mode specifically or something else? Or do I need to create two themes on <code>values/theme.xml</code> for day and night mode and pass one to the constructor of the presentation accordingly?</p>\n<p>The <code>minSdk</code> is set to 21 and <code>targetSdk</code> to 33, in case that's relevant.</p>\n"},{"tags":["java","algorithm","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700743958,"creation_date":1700743213,"answer_id":77536958,"question_id":77536766,"body_markdown":"Where did you get `O(n*m&#178;)` for yours? I see a `O(n*m*log(m))`\r\n\r\n    n-times O(n*...)\r\n      sort-by-m O(mlog(m))\r\n      iterate-over-m //O(m), irrelevant, dominated by previous\r\n\r\nCould be brought down to `O(n*m+m*log(m))`\r\n\r\n    sort trucks by cost ascending O(m*log(m))\r\n    make a int hauled[n] table initialized to zero\r\n    int cost=0\r\n    for each truck: O(m*...)\r\n      for i from left to right: O(n)\r\n        if hauled[i] &lt; k:\r\n          cost+=truck cost\r\n          hauled[i]+=truck capacity\r\n    return cost","title":"Find min cost to carry load","body":"<p>Where did you get <code>O(n*m²)</code> for yours? I see a <code>O(n*m*log(m))</code></p>\n<pre><code>n-times O(n*...)\n  sort-by-m O(mlog(m))\n  iterate-over-m //O(m), irrelevant, dominated by previous\n</code></pre>\n<p>Could be brought down to <code>O(n*m+m*log(m))</code></p>\n<pre><code>sort trucks by cost ascending O(m*log(m))\nmake a int hauled[n] table initialized to zero\nint cost=0\nfor each truck: O(m*...)\n  for i from left to right: O(n)\n    if hauled[i] &lt; k:\n      cost+=truck cost\n      hauled[i]+=truck capacity\nreturn cost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700748314,"creation_date":1700748314,"answer_id":77537524,"question_id":77536766,"body_markdown":"You can solve this in O(m log m) time.\r\n\r\nFirst create two sorted lists of trucks:\r\n - a &quot;left list&quot; of trucks ordered by the day they become available; and\r\n - a &quot;right list&#39; of trucks ordered by the day they become unavailable;\r\n\r\nThen, create an empty [order statistic tree][1] of trucks, ordered by cost.  In each node of the tree, we will record the total capacity of its subtree and the total cost to carry that full capacity for a day.  We will store available trucks in here.\r\n\r\nNow, process all the &quot;important&quot; days, which are the days on which any truck becomes available or unavailable, in order.\r\n\r\nOn each important day:\r\n   - determine the number of preceding days, since the last important day, that you had to carry freight.\r\n   - If that number is not zero, then do a search in the order statistic tree of available trucks to find most expensive truck that you must use, and the total cost and capacity of all the cheaper trucks.  From the result you can calculate the cost per day in the preceding period to carry the required freight.\r\n   - Add all the trucks that become available on the current important day to the tree\r\n   - Remove all the trucks that become unavailable on the current important day from the tree.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Order_statistic_tree","title":"Find min cost to carry load","body":"<p>You can solve this in O(m log m) time.</p>\n<p>First create two sorted lists of trucks:</p>\n<ul>\n<li>a &quot;left list&quot; of trucks ordered by the day they become available; and</li>\n<li>a &quot;right list' of trucks ordered by the day they become unavailable;</li>\n</ul>\n<p>Then, create an empty <a href=\"https://en.wikipedia.org/wiki/Order_statistic_tree\" rel=\"nofollow noreferrer\">order statistic tree</a> of trucks, ordered by cost.  In each node of the tree, we will record the total capacity of its subtree and the total cost to carry that full capacity for a day.  We will store available trucks in here.</p>\n<p>Now, process all the &quot;important&quot; days, which are the days on which any truck becomes available or unavailable, in order.</p>\n<p>On each important day:</p>\n<ul>\n<li>determine the number of preceding days, since the last important day, that you had to carry freight.</li>\n<li>If that number is not zero, then do a search in the order statistic tree of available trucks to find most expensive truck that you must use, and the total cost and capacity of all the cheaper trucks.  From the result you can calculate the cost per day in the preceding period to carry the required freight.</li>\n<li>Add all the trucks that become available on the current important day to the tree</li>\n<li>Remove all the trucks that become unavailable on the current important day from the tree.</li>\n</ul>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77536958,"answer_count":2,"score":3,"last_activity_date":1701263075,"creation_date":1700741441,"question_id":77536766,"body_markdown":"I have `m` trucks to carry load, a given truck is available only on mentioned days from `Left[i] to Right[i]`, the truck capacity is represented as `Capacity[i]` and charges some amount represented as `Cost[i]`\r\n\r\nSo every truck has 4 parameters, day numbers represented as `Left[i] to Right[i] with Capacity[i] and Cost[i]`\r\n\r\nFor given `n` days as input and I need to carry a load of capacity `k` on each day, find the minimum cost to transport the load using the trucks.\r\n\r\n**Example:**\r\n\r\n    n = 5 days\r\n    k = 7 capacity per day\r\n    trucks = [[1,3,5,2], [1,4,5,3], [2,5,10,1]], each item in the array represents Left, Right, Capacity and Cost\r\n\r\n**Answer:**\r\n\r\n    44\r\n\r\n**Explanation:**\r\n\r\n    for trucks[0] = [1,3,5,2] , it is available on days 1 to 3, with truck capacity as 5 and charges 2\r\n    \r\n    I have a task to carry a capacity of k=7 for each day, with number of days as n=5\r\n    \r\n    a) Day 1\r\n    \r\n    Day 1, we have trucks[0] and trucks[1] but lowest cost is for trucks[0] as 2 but it has only capactity as 5\r\n    \r\n    So Day 1, transport 5 items using trucks[0] and 2 items using trucks[1], so cost is 5*2 + 2*3 = 16\r\n    \r\n    b) Day 2, we can pick trucks[2]=[2,5,10,1] because left=2 matches with the day we are looking for also it can carry a capacity of 10 load.\r\n    \r\n    Cost for Day 2 is 7*1 = 7\r\n    \r\n    c) Day 3, pick trucks[2]=[2,5,10,1] because 3 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    d) Day 4, pick trucks[2]=[2,5,10,1] because 4 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    e) Day 5, pick trucks[2]=[2,5,10,1] because 5 falls in range [2,5], cost for Day 3 is 7*1 = 7\r\n    \r\n    Total cost for all days is = 16+7+7+7+7 = 44\r\n\r\n**Constraints:**\r\n\r\n    n and m range is 1 to 10^4\r\n    Also we always have enough trucks to carry the load for a particular day\r\n\r\nThis is my approach:\r\n\r\n    Use for loop from 1 to number of days\r\n    \tLoop through all the trucks and select the trucks that can carry load in the required days and put them in PriorityQueue that is sorted by cost in descending order.\r\n    \tNext using a loop, poll items from queue, and calculate cost for given day.\r\n\r\nMy code has time complexity of `O(n*m*m)`, how to solve this in less time?\r\n\r\n\r\n\r\n\r\n","title":"Find min cost to carry load","body":"<p>I have <code>m</code> trucks to carry load, a given truck is available only on mentioned days from <code>Left[i] to Right[i]</code>, the truck capacity is represented as <code>Capacity[i]</code> and charges some amount represented as <code>Cost[i]</code></p>\n<p>So every truck has 4 parameters, day numbers represented as <code>Left[i] to Right[i] with Capacity[i] and Cost[i]</code></p>\n<p>For given <code>n</code> days as input and I need to carry a load of capacity <code>k</code> on each day, find the minimum cost to transport the load using the trucks.</p>\n<p><strong>Example:</strong></p>\n<pre><code>n = 5 days\nk = 7 capacity per day\ntrucks = [[1,3,5,2], [1,4,5,3], [2,5,10,1]], each item in the array represents Left, Right, Capacity and Cost\n</code></pre>\n<p><strong>Answer:</strong></p>\n<pre><code>44\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>for trucks[0] = [1,3,5,2] , it is available on days 1 to 3, with truck capacity as 5 and charges 2\n\nI have a task to carry a capacity of k=7 for each day, with number of days as n=5\n\na) Day 1\n\nDay 1, we have trucks[0] and trucks[1] but lowest cost is for trucks[0] as 2 but it has only capactity as 5\n\nSo Day 1, transport 5 items using trucks[0] and 2 items using trucks[1], so cost is 5*2 + 2*3 = 16\n\nb) Day 2, we can pick trucks[2]=[2,5,10,1] because left=2 matches with the day we are looking for also it can carry a capacity of 10 load.\n\nCost for Day 2 is 7*1 = 7\n\nc) Day 3, pick trucks[2]=[2,5,10,1] because 3 falls in range [2,5], cost for Day 3 is 7*1 = 7\nd) Day 4, pick trucks[2]=[2,5,10,1] because 4 falls in range [2,5], cost for Day 3 is 7*1 = 7\ne) Day 5, pick trucks[2]=[2,5,10,1] because 5 falls in range [2,5], cost for Day 3 is 7*1 = 7\n\nTotal cost for all days is = 16+7+7+7+7 = 44\n</code></pre>\n<p><strong>Constraints:</strong></p>\n<pre><code>n and m range is 1 to 10^4\nAlso we always have enough trucks to carry the load for a particular day\n</code></pre>\n<p>This is my approach:</p>\n<pre><code>Use for loop from 1 to number of days\n    Loop through all the trucks and select the trucks that can carry load in the required days and put them in PriorityQueue that is sorted by cost in descending order.\n    Next using a loop, poll items from queue, and calculate cost for given day.\n</code></pre>\n<p>My code has time complexity of <code>O(n*m*m)</code>, how to solve this in less time?</p>\n"},{"tags":["java","sdkman"],"comments":[{"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"score":0,"creation_date":1691347247,"post_id":56479242,"comment_id":135476208,"body_markdown":"If you create symlink manually, would the installation or update process override it?","body":"If you create symlink manually, would the installation or update process override it?"}],"answers":[{"tags":[],"owner":{"account_id":1172012,"reputation":11,"user_id":1148977,"display_name":"PeterMue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701262972,"creation_date":1701262972,"answer_id":77571391,"question_id":56479242,"body_markdown":"I solves this with a custom zsh function so I just have to run `sdkman cacerts ~/.cacerts` to symlink all cacerts for all sdkman installed jdks.\r\n\r\n```zsh\r\n# sdkman\r\nsdkman() {\r\n    case $1 in\r\n        --help)\r\n            cat &lt;&lt;EOF\r\nAlias for sdk with additional custom functions.\r\n\r\nUsage: $0 &lt;subcommand&gt; [candidate] [version]\r\n\r\nAdditional Commands\r\n\r\n    $0 --help               Print this help message\r\n    $0 cacerts [cacerts]    Symlink all java cacerts to a custom location (default: ~/.cacerts)\r\n\r\nEOF\r\n            ;;\r\n        cacerts)\r\n            cacerts=&quot;${2:-$HOME/.cacerts}&quot;\r\n            if [[ -f &quot;$cacerts&quot; ]]; then\r\n                for jdk in $(sdk list java | grep installed | sed &#39;s/^.*\\| \\(.*\\)$/\\1/g&#39;); do\r\n                    jdkHome=$(sdk home java $jdk)\r\n                    pushd &quot;$jdkHome/lib/security&quot;\r\n                    mv cacerts cacerts.orginal\r\n                    ln -s &quot;$cacerts&quot; &quot;cacerts&quot;\r\n                    popd\r\n                done\r\n            else\r\n                echo &quot;Abort: file $cacerts not found.&quot;\r\n            fi\r\n            ;;\r\n        *)\r\n            sdk &quot;$@&quot;\r\n    esac\r\n}\r\n```","title":"sdkman hook to link /etc/ssl/java/cacerts to the currently used Java SDK","body":"<p>I solves this with a custom zsh function so I just have to run <code>sdkman cacerts ~/.cacerts</code> to symlink all cacerts for all sdkman installed jdks.</p>\n<pre><code># sdkman\nsdkman() {\n    case $1 in\n        --help)\n            cat &lt;&lt;EOF\nAlias for sdk with additional custom functions.\n\nUsage: $0 &lt;subcommand&gt; [candidate] [version]\n\nAdditional Commands\n\n    $0 --help               Print this help message\n    $0 cacerts [cacerts]    Symlink all java cacerts to a custom location (default: ~/.cacerts)\n\nEOF\n            ;;\n        cacerts)\n            cacerts=&quot;${2:-$HOME/.cacerts}&quot;\n            if [[ -f &quot;$cacerts&quot; ]]; then\n                for jdk in $(sdk list java | grep installed | sed 's/^.*\\| \\(.*\\)$/\\1/g'); do\n                    jdkHome=$(sdk home java $jdk)\n                    pushd &quot;$jdkHome/lib/security&quot;\n                    mv cacerts cacerts.orginal\n                    ln -s &quot;$cacerts&quot; &quot;cacerts&quot;\n                    popd\n                done\n            else\n                echo &quot;Abort: file $cacerts not found.&quot;\n            fi\n            ;;\n        *)\n            sdk &quot;$@&quot;\n    esac\n}\n</code></pre>\n"}],"owner":{"account_id":1280178,"reputation":3130,"user_id":2356160,"accept_rate":55,"display_name":"lathspell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3773,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":1,"score":20,"last_activity_date":1701262972,"creation_date":1559829766,"question_id":56479242,"body_markdown":"Debian has a great mechanism to compile all commonly used CA certificates from Thawte, Let&#39;s Encrypt etc. as well as locally installed ones from `/usr/local/share/ssl` into one `/etc/ssl/certs/java/cacerts` JKS file. That is usually symlinked to `$JAVA_HOME/lib/security/cacerts`.\r\n\r\nWith sdkman I switch between different non-Debian Java versions in `~/.sdkman/candidates/java/current/` which use the *cacerts* provided by the SDK creator.\r\n\r\nIs there some kind of post-inst hook mechanism where I could automatically create a symlink to the Debian *cacerts* file whenever I switch sdkman Java versions?","title":"sdkman hook to link /etc/ssl/java/cacerts to the currently used Java SDK","body":"<p>Debian has a great mechanism to compile all commonly used CA certificates from Thawte, Let's Encrypt etc. as well as locally installed ones from <code>/usr/local/share/ssl</code> into one <code>/etc/ssl/certs/java/cacerts</code> JKS file. That is usually symlinked to <code>$JAVA_HOME/lib/security/cacerts</code>.</p>\n\n<p>With sdkman I switch between different non-Debian Java versions in <code>~/.sdkman/candidates/java/current/</code> which use the <em>cacerts</em> provided by the SDK creator.</p>\n\n<p>Is there some kind of post-inst hook mechanism where I could automatically create a symlink to the Debian <em>cacerts</em> file whenever I switch sdkman Java versions?</p>\n"},{"tags":["java","java-stream","stringbuilder"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1701262271,"post_id":77571274,"comment_id":136753471,"body_markdown":"Can you gives as an input/output example please","body":"Can you gives as an input/output example please"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701262314,"creation_date":1701262314,"answer_id":77571307,"question_id":77571274,"body_markdown":"You don&#39;t need a StringBuilder at all in your example, you can simply use `.collect(Collectors.joining(&quot;\\n&quot;))` to join your strings, your can can be like this:\r\n\r\n    public String question(List&lt;MyPojo&gt; myPojos) {\r\n        return myPojos.stream()\r\n            .map(this::convertToJson) // Convert the object to json string\r\n            .filter(json -&gt; json != null &amp;&amp; !json.isEmpty()) // retrieve non null or empty jsons\r\n            .collect(Collectors.joining(&quot;\\n&quot;)); // combine the result with backline separator\r\n    }\r\n    \r\n    private String convertToJson(MyPojo myPojo) {\r\n        try {\r\n            return objectMapper.writeValueAsString(myPojo);\r\n        } catch (JsonProcessingException e) {\r\n            LOGGER.warn(&quot;bad&quot;);\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"Issue converting stringBuilder + forloop to stream + map","body":"<p>You don't need a StringBuilder at all in your example, you can simply use <code>.collect(Collectors.joining(&quot;\\n&quot;))</code> to join your strings, your can can be like this:</p>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    return myPojos.stream()\n        .map(this::convertToJson) // Convert the object to json string\n        .filter(json -&gt; json != null &amp;&amp; !json.isEmpty()) // retrieve non null or empty jsons\n        .collect(Collectors.joining(&quot;\\n&quot;)); // combine the result with backline separator\n}\n\nprivate String convertToJson(MyPojo myPojo) {\n    try {\n        return objectMapper.writeValueAsString(myPojo);\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701262889,"creation_date":1701262889,"answer_id":77571380,"question_id":77571274,"body_markdown":"First, calling `Stream.toString` will not give you anything meaningful. It is very unlikely that the `Stream` implementation actually overrides `toString` to give you the elements of the stream all concatenated as strings. You should use `.collectCollectors.joining(&quot;\\n&quot;))` to join everything together.\r\n\r\nSecond, the function you passed to `map` modifies the existing `stringBuilder`. While you will probably get the expected result in `stringBuilder` if the whole stream is consumed, this is not how `map` is designed to be used. You are supposed to return the element that a given element should be transformed into, but the `StringBuilder` you are returning here contains all the results from the previous elements.\r\n\r\nThird, the loop does not append anything to the string builder when an exception occurs, but `Stream.map` transforms every element. To implement this behaviour, you would need `delegate` to return a special value (like an empty string), and `filter` out that value after `map`. Alternatively, use `flatMap(x -&gt; delegate(x).stream())`, where `delegate` returns an `Optional&lt;String&gt;`.\r\n\r\n```\r\npublic String delegate(MyPojo oneMyPojo) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n        return json;\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return &quot;&quot;;\r\n}\r\n\r\n// ...\r\n\r\nmyPojos.stream()\r\n    .map(onePojo -&gt; delegate(onePojo)) // you can also use a method reference here\r\n    .filter(json -&gt; !json.isEmpty())\r\n    .collect(Collectors.joining(&quot;\\n&quot;));\r\n```\r\n\r\nor\r\n\r\n```\r\npublic Optional&lt;String&gt; delegate(MyPojo oneMyPojo) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n        return Optional.of(json);\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return Optional.empty();\r\n}\r\n\r\n// ...\r\n\r\nmyPojos.stream()\r\n    .flatMap(onePojo -&gt; delegate(onePojo).stream())\r\n    .collect(Collectors.joining(&quot;\\n&quot;));\r\n```","title":"Issue converting stringBuilder + forloop to stream + map","body":"<p>First, calling <code>Stream.toString</code> will not give you anything meaningful. It is very unlikely that the <code>Stream</code> implementation actually overrides <code>toString</code> to give you the elements of the stream all concatenated as strings. You should use <code>.collectCollectors.joining(&quot;\\n&quot;))</code> to join everything together.</p>\n<p>Second, the function you passed to <code>map</code> modifies the existing <code>stringBuilder</code>. While you will probably get the expected result in <code>stringBuilder</code> if the whole stream is consumed, this is not how <code>map</code> is designed to be used. You are supposed to return the element that a given element should be transformed into, but the <code>StringBuilder</code> you are returning here contains all the results from the previous elements.</p>\n<p>Third, the loop does not append anything to the string builder when an exception occurs, but <code>Stream.map</code> transforms every element. To implement this behaviour, you would need <code>delegate</code> to return a special value (like an empty string), and <code>filter</code> out that value after <code>map</code>. Alternatively, use <code>flatMap(x -&gt; delegate(x).stream())</code>, where <code>delegate</code> returns an <code>Optional&lt;String&gt;</code>.</p>\n<pre><code>public String delegate(MyPojo oneMyPojo) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n        return json;\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n    }\n    return &quot;&quot;;\n}\n\n// ...\n\nmyPojos.stream()\n    .map(onePojo -&gt; delegate(onePojo)) // you can also use a method reference here\n    .filter(json -&gt; !json.isEmpty())\n    .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>public Optional&lt;String&gt; delegate(MyPojo oneMyPojo) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n        return Optional.of(json);\n    } catch (JsonProcessingException e) {\n        LOGGER.warn(&quot;bad&quot;);\n    }\n    return Optional.empty();\n}\n\n// ...\n\nmyPojos.stream()\n    .flatMap(onePojo -&gt; delegate(onePojo).stream())\n    .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571307,"answer_count":2,"score":1,"last_activity_date":1701262889,"creation_date":1701261913,"question_id":77571274,"body_markdown":"- What I am trying to achieve:\r\n\r\nI would like to convert a StringBuilder + forloop, like this:\r\n\r\n```\r\npublic String question(List&lt;MyPojo&gt; myPojos) {\r\n    final StringBuilder stringBuilder = new StringBuilder();\r\n    for (MyPojo myPojo : myPojos) {\r\n        try {\r\n            String json = objectMapper.writeValueAsString(myPojo);\r\n            stringBuilder.append(json).append(&quot;\\n&quot;);\r\n        } catch (JsonProcessingException e) {\r\n                LOGGER.warn(&quot;bad&quot;);\r\n        }\r\n    }\r\n    return stringBuilder.toString();\r\n}\r\n```\r\n\r\nInto a stream() structure. This is not for performance, readability, or anything, I just want to try the conversion.\r\n\r\n- What did I try:\r\n\r\n```\r\npublic String question(List&lt;MyPojo&gt; myPojos) {\r\n    var stringBuilder = new StringBuilder();\r\n    return myPojos.stream().map(onePojo -&gt; delegate(onePojo, stringBuilder)).toString();\r\n}\r\n\r\npublic StringBuilder delegate(MyPojo oneMyPojo, StringBuilder stringBuilder) {\r\n    try {\r\n        var json = objectMapper.writeValueAsString(oneMyPojo);\r\n         stringBuilder.append(json).append(&quot;\\n&quot;);\r\n        } catch (JsonProcessingException e) {\r\n                LOGGER.warn(&quot;bad&quot;);\r\n    }\r\n    return stringBuilder;\r\n}\r\n```\r\n\r\n- Issue\r\n\r\nUnfortunately, the result string is not at all the same as the one provided by the for loop.\r\n\r\n- Question\r\n\r\nWhat did I miss in my code?","title":"Issue converting stringBuilder + forloop to stream + map","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>I would like to convert a StringBuilder + forloop, like this:</p>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    final StringBuilder stringBuilder = new StringBuilder();\n    for (MyPojo myPojo : myPojos) {\n        try {\n            String json = objectMapper.writeValueAsString(myPojo);\n            stringBuilder.append(json).append(&quot;\\n&quot;);\n        } catch (JsonProcessingException e) {\n                LOGGER.warn(&quot;bad&quot;);\n        }\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n<p>Into a stream() structure. This is not for performance, readability, or anything, I just want to try the conversion.</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<pre><code>public String question(List&lt;MyPojo&gt; myPojos) {\n    var stringBuilder = new StringBuilder();\n    return myPojos.stream().map(onePojo -&gt; delegate(onePojo, stringBuilder)).toString();\n}\n\npublic StringBuilder delegate(MyPojo oneMyPojo, StringBuilder stringBuilder) {\n    try {\n        var json = objectMapper.writeValueAsString(oneMyPojo);\n         stringBuilder.append(json).append(&quot;\\n&quot;);\n        } catch (JsonProcessingException e) {\n                LOGGER.warn(&quot;bad&quot;);\n    }\n    return stringBuilder;\n}\n</code></pre>\n<ul>\n<li>Issue</li>\n</ul>\n<p>Unfortunately, the result string is not at all the same as the one provided by the for loop.</p>\n<ul>\n<li>Question</li>\n</ul>\n<p>What did I miss in my code?</p>\n"},{"tags":["java","el","el-processor"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088960,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701262674,"creation_date":1701260472,"answer_id":77571111,"question_id":77570558,"body_markdown":"You&#39;ve undoubtedly seen this in Maven / Spring / Log4j related XML configuration files. Unfortunately, they don&#39;t use Jakarta EL to resolve them. They use under the covers [Apache Commons Text `StringSubstitutor`][1] for this. And, Jakarta EL doesn&#39;t support this [syntax][2] in first place. It would already die with a syntax error before even having the chance to hit any custom EL listener or EL resolver.\r\n\r\nWith Jakarta EL, your best bet is to change the syntax to `${sys[&#39;com.foo.bar&#39;]}` and add a custom [`ELResolver`][3] which recognizes `${sys}` as a special kind of base and then resolves the rest via [`System#getProperty()`][4].\r\n\r\nHere&#39;s a kickoff working example of such EL resolver:\r\n\r\n```java\r\npublic class SystemPropertyELResolver extends ELResolver {\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getCommonPropertyType(ELContext context, Object base) {\r\n        return (base == this) ? String.class : null;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getType(ELContext context, Object base, Object property) {\r\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\r\n            context.setPropertyResolved(true);\r\n            return getClass();\r\n        }\r\n        else if (base == this &amp;&amp; property != null) {\r\n            context.setPropertyResolved(true);\r\n            return getCommonPropertyType(context, base);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Object getValue(ELContext context, Object base, Object property) {\r\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\r\n            context.setPropertyResolved(true);\r\n            return this;\r\n        }\r\n        else if (base == this &amp;&amp; property != null) {\r\n            context.setPropertyResolved(true);\r\n            return System.getProperty(property.toString());\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void setValue(ELContext context, Object base, Object property, Object val) {\r\n        // NOOP.\r\n    }\r\n\r\n    @Override\r\n    public boolean isReadOnly(ELContext context, Object base, Object property) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;FeatureDescriptor&gt; getFeatureDescriptors(ELContext context, Object base) {\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn order to get it to run, register it as follows:\r\n\r\n```java\r\nelProcessor.getELManager().addELResolver(new SystemPropertyELResolver());\r\n```\r\n\r\n---\r\n\r\nHowever, in the *specific* case of `System#getProperty()`, there&#39;s another, yet simpler, way to &quot;define a variable with namespace&quot;. As [`System#getProperties()`][5] already returns an instance of  `java.util.Map`, the built-in [`jakarta.el.MapELResolver`][6] could be used to take care of it while using the same syntax of `${sys[&#39;com.foo.bar&#39;]}`. \r\n\r\n```java\r\nelProcessor.defineBean(&quot;sys&quot;, System.getProperties());\r\n```\r\n\r\nThis only doesn&#39;t offer you the opportunity to further customize the EL resolving.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\r\n  [2]: https://jakarta.ee/specifications/expression-language/5.0/jakarta-expression-language-spec-5.0#syntax-restrictions\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/elresolver\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperties()\r\n  [6]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/mapelresolver","title":"How to define variable with namespace in EL processor?","body":"<p>You've undoubtedly seen this in Maven / Spring / Log4j related XML configuration files. Unfortunately, they don't use Jakarta EL to resolve them. They use under the covers <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">Apache Commons Text <code>StringSubstitutor</code></a> for this. And, Jakarta EL doesn't support this <a href=\"https://jakarta.ee/specifications/expression-language/5.0/jakarta-expression-language-spec-5.0#syntax-restrictions\" rel=\"nofollow noreferrer\">syntax</a> in first place. It would already die with a syntax error before even having the chance to hit any custom EL listener or EL resolver.</p>\n<p>With Jakarta EL, your best bet is to change the syntax to <code>${sys['com.foo.bar']}</code> and add a custom <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/elresolver\" rel=\"nofollow noreferrer\"><code>ELResolver</code></a> which recognizes <code>${sys}</code> as a special kind of base and then resolves the rest via <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System#getProperty()</code></a>.</p>\n<p>Here's a kickoff working example of such EL resolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SystemPropertyELResolver extends ELResolver {\n\n    @Override\n    public Class&lt;?&gt; getCommonPropertyType(ELContext context, Object base) {\n        return (base == this) ? String.class : null;\n    }\n\n    @Override\n    public Class&lt;?&gt; getType(ELContext context, Object base, Object property) {\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\n            context.setPropertyResolved(true);\n            return getClass();\n        }\n        else if (base == this &amp;&amp; property != null) {\n            context.setPropertyResolved(true);\n            return getCommonPropertyType(context, base);\n        }\n\n        return null;\n    }\n\n    @Override\n    public Object getValue(ELContext context, Object base, Object property) {\n        if (base == null &amp;&amp; &quot;sys&quot;.equals(property)) {\n            context.setPropertyResolved(true);\n            return this;\n        }\n        else if (base == this &amp;&amp; property != null) {\n            context.setPropertyResolved(true);\n            return System.getProperty(property.toString());\n        }\n\n        return null;\n    }\n\n    @Override\n    public void setValue(ELContext context, Object base, Object property, Object val) {\n        // NOOP.\n    }\n\n    @Override\n    public boolean isReadOnly(ELContext context, Object base, Object property) {\n        return true;\n    }\n\n    @Override\n    public Iterator&lt;FeatureDescriptor&gt; getFeatureDescriptors(ELContext context, Object base) {\n        return null;\n    }\n\n}\n</code></pre>\n<p>In order to get it to run, register it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>elProcessor.getELManager().addELResolver(new SystemPropertyELResolver());\n</code></pre>\n<hr />\n<p>However, in the <em>specific</em> case of <code>System#getProperty()</code>, there's another, yet simpler, way to &quot;define a variable with namespace&quot;. As <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\"><code>System#getProperties()</code></a> already returns an instance of  <code>java.util.Map</code>, the built-in <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/el/mapelresolver\" rel=\"nofollow noreferrer\"><code>jakarta.el.MapELResolver</code></a> could be used to take care of it while using the same syntax of <code>${sys['com.foo.bar']}</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>elProcessor.defineBean(&quot;sys&quot;, System.getProperties());\n</code></pre>\n<p>This only doesn't offer you the opportunity to further customize the EL resolving.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77571111,"answer_count":1,"score":1,"last_activity_date":1701262674,"creation_date":1701255667,"question_id":77570558,"body_markdown":"In some XML files I saw something like this `&lt;tag attr=&quot;${sys:com.foo.bar}&quot;/&gt;` where it is meant that `${sys:com.foo.bar}` will be replaced to `System.getProperty(&quot;com.foo.bar&quot;)`.\r\n\r\nI want my EL processor to support such feature. However, I can&#39;t find how to do it.\r\n\r\n    ELProcessor elProcessor = new ELProcessor();\r\n    elProcessor. ???\r\n\r\nThe only method that has prefix is `defineFunction`, but as I understand this is not what I need:\r\n\r\n    this.elProcessor.defineFunction(prefix, function, method);\r\n    this.elProcessor.defineFunction(prefix, function, className, method);\r\n\r\nCould anyone say how to make my EL processor to work with variables with namespaces?","title":"How to define variable with namespace in EL processor?","body":"<p>In some XML files I saw something like this <code>&lt;tag attr=&quot;${sys:com.foo.bar}&quot;/&gt;</code> where it is meant that <code>${sys:com.foo.bar}</code> will be replaced to <code>System.getProperty(&quot;com.foo.bar&quot;)</code>.</p>\n<p>I want my EL processor to support such feature. However, I can't find how to do it.</p>\n<pre><code>ELProcessor elProcessor = new ELProcessor();\nelProcessor. ???\n</code></pre>\n<p>The only method that has prefix is <code>defineFunction</code>, but as I understand this is not what I need:</p>\n<pre><code>this.elProcessor.defineFunction(prefix, function, method);\nthis.elProcessor.defineFunction(prefix, function, className, method);\n</code></pre>\n<p>Could anyone say how to make my EL processor to work with variables with namespaces?</p>\n"},{"tags":["java","command-line","command-line-arguments"],"comments":[{"owner":{"account_id":38310,"reputation":165,"user_id":109882,"display_name":"Jakub"},"score":0,"creation_date":1346234198,"post_id":367706,"comment_id":112599480,"body_markdown":"I wouldn&#39;t recommend using `Apache Common CLI` library, as it is non-threadsafe. It uses stateful classes with static variables and methods to do internal work (e.g. `OptionBuilder`) and should only be used in single-threaded strongly controlled situations.","body":"I wouldn&#39;t recommend using <code>Apache Common CLI</code> library, as it is non-threadsafe. It uses stateful classes with static variables and methods to do internal work (e.g. <code>OptionBuilder</code>) and should only be used in single-threaded strongly controlled situations."},{"owner":{"account_id":278315,"reputation":11579,"user_id":572834,"display_name":"Alexey Ivanov"},"score":17,"creation_date":1346309377,"post_id":367706,"comment_id":112599481,"body_markdown":"It&#39;s good to keep in mind CLI library is not thread-safe. However, I would assume command-line parsing is usually done in a single thread during application startup, and then, depending on parameters, other threads may be started.","body":"It&#39;s good to keep in mind CLI library is not thread-safe. However, I would assume command-line parsing is usually done in a single thread during application startup, and then, depending on parameters, other threads may be started."},{"owner":{"account_id":271958,"reputation":127827,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"score":6,"creation_date":1360846016,"post_id":367706,"comment_id":20854917,"body_markdown":"See args4j and a detailed example how to use it: http://martin-thoma.com/how-to-parse-command-line-arguments-in-java/","body":"See args4j and a detailed example how to use it: <a href=\"http://martin-thoma.com/how-to-parse-command-line-arguments-in-java/\" rel=\"nofollow noreferrer\">martin-thoma.com/how-to-parse-command-line-arguments-in-java</a>"},{"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"score":0,"creation_date":1407075859,"post_id":367706,"comment_id":39068600,"body_markdown":"Looks like I&#39;m pretty late to this party, but I wrote a command-line argument handler for Java and put it on GitHub: [MainArgsHandler](https://github.com/Bobulous/uk.org.bobulous.java.startup). As for the thread being closed, I think this is a very helpful thread, but it should possibly be migrated to the Stack Exchange Programmers site for general programming discussion.","body":"Looks like I&#39;m pretty late to this party, but I wrote a command-line argument handler for Java and put it on GitHub: <a href=\"https://github.com/Bobulous/uk.org.bobulous.java.startup\" rel=\"nofollow noreferrer\">MainArgsHandler</a>. As for the thread being closed, I think this is a very helpful thread, but it should possibly be migrated to the Stack Exchange Programmers site for general programming discussion."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1430802547,"post_id":367706,"comment_id":48204690,"body_markdown":"@RedGlyph - It looks like SO/SE need to simplify their rules. The question should have been: `How to parse java command line arguments?`.\nBut no one really want to write code to do this but rather use a tool. But searching for tools and the likes isn&#39;t constructive :(","body":"@RedGlyph - It looks like SO/SE need to simplify their rules. The question should have been: <code>How to parse java command line arguments?</code>. But no one really want to write code to do this but rather use a tool. But searching for tools and the likes isn&#39;t constructive :("},{"owner":{"account_id":61628,"reputation":11365,"user_id":183575,"accept_rate":50,"display_name":"RedGlyph"},"score":14,"creation_date":1436115608,"post_id":367706,"comment_id":50464250,"body_markdown":"Voted for reopening. @AlikElzin: Indeed, they do need to review their moderating process. I suspect there&#39;s a badge for closing so many questions, and that it&#39;s luring want-to-be-moderators to be overzealous.","body":"Voted for reopening. @AlikElzin: Indeed, they do need to review their moderating process. I suspect there&#39;s a badge for closing so many questions, and that it&#39;s luring want-to-be-moderators to be overzealous."},{"owner":{"account_id":2809239,"reputation":41961,"user_id":2415822,"accept_rate":94,"display_name":"JAL"},"score":9,"creation_date":1436208387,"post_id":367706,"comment_id":50503589,"body_markdown":"This question is a honeypot for bad/one-line answers and tool recommendations.  It should remain closed.","body":"This question is a honeypot for bad/one-line answers and tool recommendations.  It should remain closed."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1447078149,"post_id":367706,"comment_id":54996146,"body_markdown":"You can also find libraries tagged with &quot;Command Line Parsers&quot; in [mvnrepository.com](http://mvnrepository.com/open-source/command-line-parsers)","body":"You can also find libraries tagged with &quot;Command Line Parsers&quot; in <a href=\"http://mvnrepository.com/open-source/command-line-parsers\" rel=\"nofollow noreferrer\">mvnrepository.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":3591,"reputation":332917,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":4,"up_vote_count":517,"is_accepted":true,"score":513,"last_activity_date":1624481730,"creation_date":1229327355,"answer_id":367714,"question_id":367706,"body_markdown":"Check these out:\r\n\r\n - http://commons.apache.org/cli/\r\n - http://www.martiansoftware.com/jsap/\r\n\r\n\r\nOr roll your own:\r\n\r\n - http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n\r\n----\r\n\r\n**For instance,** this is how you use [`commons-cli`][1] to parse 2 string arguments:\r\n\r\n\r\n    import org.apache.commons.cli.*;\r\n    \r\n    public class Main {\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            Options options = new Options();\r\n    \r\n            Option input = new Option(&quot;i&quot;, &quot;input&quot;, true, &quot;input file path&quot;);\r\n            input.setRequired(true);\r\n            options.addOption(input);\r\n    \r\n            Option output = new Option(&quot;o&quot;, &quot;output&quot;, true, &quot;output file&quot;);\r\n            output.setRequired(true);\r\n            options.addOption(output);\r\n    \r\n            CommandLineParser parser = new DefaultParser();\r\n            HelpFormatter formatter = new HelpFormatter();\r\n            CommandLine cmd = null;//not a good practice, it serves it purpose \r\n    \r\n            try {\r\n                cmd = parser.parse(options, args);\r\n            } catch (ParseException e) {\r\n                System.out.println(e.getMessage());\r\n                formatter.printHelp(&quot;utility-name&quot;, options);\r\n    \r\n                System.exit(1);\r\n            }\r\n    \r\n            String inputFilePath = cmd.getOptionValue(&quot;input&quot;);\r\n            String outputFilePath = cmd.getOptionValue(&quot;output&quot;);\r\n    \r\n            System.out.println(inputFilePath);\r\n            System.out.println(outputFilePath);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nusage from command line:\r\n\r\n    $&gt; java -jar target/my-utility.jar -i asd                                                                                       \r\n    Missing required option: o\r\n    \r\n    usage: utility-name\r\n     -i,--input &lt;arg&gt;    input file path\r\n     -o,--output &lt;arg&gt;   output file\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/commons-cli/commons-cli/1.3.1","title":"How do I parse command line arguments in Java?","body":"<p>Check these out:</p>\n<ul>\n<li><a href=\"http://commons.apache.org/cli/\" rel=\"noreferrer\">http://commons.apache.org/cli/</a></li>\n<li><a href=\"http://www.martiansoftware.com/jsap/\" rel=\"noreferrer\">http://www.martiansoftware.com/jsap/</a></li>\n</ul>\n<p>Or roll your own:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></li>\n</ul>\n<hr />\n<p><strong>For instance,</strong> this is how you use <a href=\"https://mvnrepository.com/artifact/commons-cli/commons-cli/1.3.1\" rel=\"noreferrer\"><code>commons-cli</code></a> to parse 2 string arguments:</p>\n<pre><code>import org.apache.commons.cli.*;\n\npublic class Main {\n\n\n    public static void main(String[] args) throws Exception {\n\n        Options options = new Options();\n\n        Option input = new Option(&quot;i&quot;, &quot;input&quot;, true, &quot;input file path&quot;);\n        input.setRequired(true);\n        options.addOption(input);\n\n        Option output = new Option(&quot;o&quot;, &quot;output&quot;, true, &quot;output file&quot;);\n        output.setRequired(true);\n        options.addOption(output);\n\n        CommandLineParser parser = new DefaultParser();\n        HelpFormatter formatter = new HelpFormatter();\n        CommandLine cmd = null;//not a good practice, it serves it purpose \n\n        try {\n            cmd = parser.parse(options, args);\n        } catch (ParseException e) {\n            System.out.println(e.getMessage());\n            formatter.printHelp(&quot;utility-name&quot;, options);\n\n            System.exit(1);\n        }\n\n        String inputFilePath = cmd.getOptionValue(&quot;input&quot;);\n        String outputFilePath = cmd.getOptionValue(&quot;output&quot;);\n\n        System.out.println(inputFilePath);\n        System.out.println(outputFilePath);\n\n    }\n\n}\n</code></pre>\n<p>usage from command line:</p>\n<pre><code>$&gt; java -jar target/my-utility.jar -i asd                                                                                       \nMissing required option: o\n\nusage: utility-name\n -i,--input &lt;arg&gt;    input file path\n -o,--output &lt;arg&gt;   output file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1229327400,"creation_date":1229327400,"answer_id":367716,"question_id":367706,"body_markdown":"Take a look at the [Commons CLI][1] project, lots of good stuff in there.\r\n\r\n\r\n  [1]: http://commons.apache.org/cli/","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at the <a href=\"http://commons.apache.org/cli/\" rel=\"noreferrer\">Commons CLI</a> project, lots of good stuff in there.</p>\n"},{"tags":[],"owner":{"account_id":18760,"reputation":2690,"user_id":43312,"accept_rate":60,"display_name":"mepcotterell"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1555025001,"creation_date":1229327403,"answer_id":367717,"question_id":367706,"body_markdown":"Maybe these\r\n\r\n  - [JArgs command line option parsing\r\n    suite for Java][2] - this tiny project provides a convenient, compact, pre-packaged and comprehensively documented suite of command line option parsers for the use of Java programmers. Initially, parsing compatible with GNU-style &#39;getopt&#39; is provided. \r\n\r\n  - [ritopt, The Ultimate Options Parser for Java][3] - Although, several command line option standards have been preposed, ritopt follows the conventions prescribed in the opt package.\r\n\r\n\r\n  [1]: http://picocli.info/\r\n  [2]: http://jargs.sourceforge.net/\r\n  [3]: http://ritopt.sourceforge.net/","title":"How do I parse command line arguments in Java?","body":"<p>Maybe these</p>\n\n<ul>\n<li><p><a href=\"http://jargs.sourceforge.net/\" rel=\"nofollow noreferrer\">JArgs command line option parsing\nsuite for Java</a> - this tiny project provides a convenient, compact, pre-packaged and comprehensively documented suite of command line option parsers for the use of Java programmers. Initially, parsing compatible with GNU-style 'getopt' is provided. </p></li>\n<li><p><a href=\"http://ritopt.sourceforge.net/\" rel=\"nofollow noreferrer\">ritopt, The Ultimate Options Parser for Java</a> - Although, several command line option standards have been preposed, ritopt follows the conventions prescribed in the opt package.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1229327456,"creation_date":1229327456,"answer_id":367718,"question_id":367706,"body_markdown":"I&#39;ve used JOpt and found it quite handy: http://jopt-simple.sourceforge.net/\r\n\r\nThe front page also provides a list of about 8 alternative libraries, check them out and pick the one that most suits your needs.","title":"How do I parse command line arguments in Java?","body":"<p>I've used JOpt and found it quite handy: <a href=\"http://jopt-simple.sourceforge.net/\" rel=\"noreferrer\">http://jopt-simple.sourceforge.net/</a></p>\n\n<p>The front page also provides a list of about 8 alternative libraries, check them out and pick the one that most suits your needs.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1229327498,"creation_date":1229327498,"answer_id":367719,"question_id":367706,"body_markdown":"Yeap.\r\n\r\nI think you&#39;re looking for something like this:\r\n&lt;http://commons.apache.org/cli&gt;\r\n\r\n&gt;*The Apache Commons CLI library provides an API for processing command line interfaces.*","title":"How do I parse command line arguments in Java?","body":"<p>Yeap.</p>\n\n<p>I think you're looking for something like this:\n<a href=\"http://commons.apache.org/cli\" rel=\"noreferrer\">http://commons.apache.org/cli</a></p>\n\n<blockquote>\n  <p><em>The Apache Commons CLI library provides an API for processing command line interfaces.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1518134859,"creation_date":1229328241,"answer_id":367734,"question_id":367706,"body_markdown":"If you are familiar with gnu getopt, there is a Java port at: http://www.urbanophile.com/arenn/hacking/download.htm.\r\n\r\nThere appears to be a some classes that do this: \r\n\r\n * *http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html*\r\n * *http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html*\r\n","title":"How do I parse command line arguments in Java?","body":"<p>If you are familiar with gnu getopt, there is a Java port at: <a href=\"http://www.urbanophile.com/arenn/hacking/download.htm\" rel=\"nofollow noreferrer\">http://www.urbanophile.com/arenn/hacking/download.htm</a>.</p>\n\n<p>There appears to be a some classes that do this: </p>\n\n<ul>\n<li><em><a href=\"http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html\" rel=\"nofollow noreferrer\">http://docs.sun.com/source/816-5618-10/netscape/ldap/util/GetOpt.html</a></em></li>\n<li><em><a href=\"http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html\" rel=\"nofollow noreferrer\">http://xml.apache.org/xalan-j/apidocs/org/apache/xalan/xsltc/cmdline/getopt/GetOpt.html</a></em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5888,"reputation":13051,"user_id":9683,"accept_rate":75,"display_name":"Andr&#233;"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1366288784,"creation_date":1229364478,"answer_id":369212,"question_id":367706,"body_markdown":"Someone pointed me to [args4j][1] lately which is annotation based. I really like it!\r\n\r\n\r\n  [1]: http://github.com/kohsuke/args4j","title":"How do I parse command line arguments in Java?","body":"<p>Someone pointed me to <a href=\"http://github.com/kohsuke/args4j\" rel=\"noreferrer\">args4j</a> lately which is annotation based. I really like it!</p>\n"},{"tags":[],"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"down_vote_count":4,"up_vote_count":330,"is_accepted":false,"score":326,"last_activity_date":1412017297,"creation_date":1280163178,"answer_id":3337023,"question_id":367706,"body_markdown":"Take a look at the more recent [JCommander](http://jcommander.org/).\r\n\r\nI created it. I’m happy to receive questions or feature requests.","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at the more recent <a href=\"http://jcommander.org/\" rel=\"noreferrer\">JCommander</a>.</p>\n\n<p>I created it. I’m happy to receive questions or feature requests.</p>\n"},{"tags":[],"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"down_vote_count":0,"up_vote_count":260,"is_accepted":false,"score":260,"last_activity_date":1625999407,"creation_date":1319070096,"answer_id":7829772,"question_id":367706,"body_markdown":"I have been trying to maintain a [list of Java CLI parsers][1].\r\n\r\n - [**Airline**](https://github.com/airlift/airline)\r\n   - Active Fork: https://github.com/rvesse/airline\r\n - [**argparse4j**](https://github.com/tatsuhiro-t/argparse4j)\r\n - [**argparser**](http://www.cs.ubc.ca/spider/lloyd/java/argparser.html)\r\n - [**args4j**](http://args4j.kohsuke.org/)\r\n - [**clajr**](http://clajr.sourceforge.net/)\r\n - [**cli-parser**](http://code.google.com/p/cli-parser/)\r\n - [**CmdLn**](http://ostermiller.org/utils/CmdLn.html)\r\n - [**Commandline**](https://github.com/jankroken/commandline)\r\n - [**DocOpt.java**](https://github.com/docopt/docopt.java)\r\n - [**dolphin getopt**](http://dolphin.sourceforge.net/getopt/)\r\n - [**DPML CLI (Jakarta Commons CLI2 fork)**](http://www.dpml.net/util/cli/index.html)\r\n - [**Dr. Matthias Laux**](http://www.javaworld.com/javaworld/jw-08-2004/jw-0816-command.html)\r\n - [**Jakarta Commons CLI**](http://jakarta.apache.org/commons/cli/)\r\n - [**jargo**](https://github.com/Softhouse/jargo)\r\n - [**jargp**](http://jargp.sourceforge.net/)\r\n - [**jargs**](http://jargs.sourceforge.net/)\r\n - [**java-getopt**](http://www.urbanophile.com/arenn/hacking/download.html)\r\n - [**jbock**](https://github.com/jbock-java/jbock)\r\n - [**JCLAP**](http://www.snaq.net/java/JCLAP/)\r\n - [**jcmdline**](http://jcmdline.sourceforge.net/)\r\n - [**jcommander**](http://jcommander.org/)\r\n - [**jcommando**](http://jcommando.sourceforge.net/)\r\n - [**jewelcli (written by me)**](http://jewelcli.lexicalscope.com/)\r\n - [**JOpt simple**](http://jopt-simple.sourceforge.net)\r\n - [**jsap**](http://www.martiansoftware.com/jsap/)\r\n - [**naturalcli**](http://naturalcli.sourceforge.net/)\r\n - [**Object Mentor CLI article (more about refactoring and TDD)**](http://www.objectmentor.com/resources/articles/Clean_Code_Args.pdf)\r\n - [**parse-cmd**](http://code.google.com/p/parse-cmd/)\r\n - [**ritopt**](http://ritopt.sourceforge.net/)\r\n - [**Rop**](http://ryenus.github.io/rop/)\r\n - [**TE-Code Command**](http://te-code.sourceforge.net/)\r\n - [**picocli**](http://picocli.info) has ANSI colorized usage help and autocomplete\r\n\r\n  [1]: http://jewelcli.lexicalscope.com/related.html\r\n","title":"How do I parse command line arguments in Java?","body":"<p>I have been trying to maintain a <a href=\"http://jewelcli.lexicalscope.com/related.html\" rel=\"noreferrer\">list of Java CLI parsers</a>.</p>\n<ul>\n<li><a href=\"https://github.com/airlift/airline\" rel=\"noreferrer\"><strong>Airline</strong></a>\n<ul>\n<li>Active Fork: <a href=\"https://github.com/rvesse/airline\" rel=\"noreferrer\">https://github.com/rvesse/airline</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/tatsuhiro-t/argparse4j\" rel=\"noreferrer\"><strong>argparse4j</strong></a></li>\n<li><a href=\"http://www.cs.ubc.ca/spider/lloyd/java/argparser.html\" rel=\"noreferrer\"><strong>argparser</strong></a></li>\n<li><a href=\"http://args4j.kohsuke.org/\" rel=\"noreferrer\"><strong>args4j</strong></a></li>\n<li><a href=\"http://clajr.sourceforge.net/\" rel=\"noreferrer\"><strong>clajr</strong></a></li>\n<li><a href=\"http://code.google.com/p/cli-parser/\" rel=\"noreferrer\"><strong>cli-parser</strong></a></li>\n<li><a href=\"http://ostermiller.org/utils/CmdLn.html\" rel=\"noreferrer\"><strong>CmdLn</strong></a></li>\n<li><a href=\"https://github.com/jankroken/commandline\" rel=\"noreferrer\"><strong>Commandline</strong></a></li>\n<li><a href=\"https://github.com/docopt/docopt.java\" rel=\"noreferrer\"><strong>DocOpt.java</strong></a></li>\n<li><a href=\"http://dolphin.sourceforge.net/getopt/\" rel=\"noreferrer\"><strong>dolphin getopt</strong></a></li>\n<li><a href=\"http://www.dpml.net/util/cli/index.html\" rel=\"noreferrer\"><strong>DPML CLI (Jakarta Commons CLI2 fork)</strong></a></li>\n<li><a href=\"http://www.javaworld.com/javaworld/jw-08-2004/jw-0816-command.html\" rel=\"noreferrer\"><strong>Dr. Matthias Laux</strong></a></li>\n<li><a href=\"http://jakarta.apache.org/commons/cli/\" rel=\"noreferrer\"><strong>Jakarta Commons CLI</strong></a></li>\n<li><a href=\"https://github.com/Softhouse/jargo\" rel=\"noreferrer\"><strong>jargo</strong></a></li>\n<li><a href=\"http://jargp.sourceforge.net/\" rel=\"noreferrer\"><strong>jargp</strong></a></li>\n<li><a href=\"http://jargs.sourceforge.net/\" rel=\"noreferrer\"><strong>jargs</strong></a></li>\n<li><a href=\"http://www.urbanophile.com/arenn/hacking/download.html\" rel=\"noreferrer\"><strong>java-getopt</strong></a></li>\n<li><a href=\"https://github.com/jbock-java/jbock\" rel=\"noreferrer\"><strong>jbock</strong></a></li>\n<li><a href=\"http://www.snaq.net/java/JCLAP/\" rel=\"noreferrer\"><strong>JCLAP</strong></a></li>\n<li><a href=\"http://jcmdline.sourceforge.net/\" rel=\"noreferrer\"><strong>jcmdline</strong></a></li>\n<li><a href=\"http://jcommander.org/\" rel=\"noreferrer\"><strong>jcommander</strong></a></li>\n<li><a href=\"http://jcommando.sourceforge.net/\" rel=\"noreferrer\"><strong>jcommando</strong></a></li>\n<li><a href=\"http://jewelcli.lexicalscope.com/\" rel=\"noreferrer\"><strong>jewelcli (written by me)</strong></a></li>\n<li><a href=\"http://jopt-simple.sourceforge.net\" rel=\"noreferrer\"><strong>JOpt simple</strong></a></li>\n<li><a href=\"http://www.martiansoftware.com/jsap/\" rel=\"noreferrer\"><strong>jsap</strong></a></li>\n<li><a href=\"http://naturalcli.sourceforge.net/\" rel=\"noreferrer\"><strong>naturalcli</strong></a></li>\n<li><a href=\"http://www.objectmentor.com/resources/articles/Clean_Code_Args.pdf\" rel=\"noreferrer\"><strong>Object Mentor CLI article (more about refactoring and TDD)</strong></a></li>\n<li><a href=\"http://code.google.com/p/parse-cmd/\" rel=\"noreferrer\"><strong>parse-cmd</strong></a></li>\n<li><a href=\"http://ritopt.sourceforge.net/\" rel=\"noreferrer\"><strong>ritopt</strong></a></li>\n<li><a href=\"http://ryenus.github.io/rop/\" rel=\"noreferrer\"><strong>Rop</strong></a></li>\n<li><a href=\"http://te-code.sourceforge.net/\" rel=\"noreferrer\"><strong>TE-Code Command</strong></a></li>\n<li><a href=\"http://picocli.info\" rel=\"noreferrer\"><strong>picocli</strong></a> has ANSI colorized usage help and autocomplete</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1810165,"reputation":404,"user_id":1646411,"display_name":"Tatsuhiro Tsujikawa"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1346768673,"creation_date":1346768673,"answer_id":12265563,"question_id":367706,"body_markdown":"I wrote another one: http://argparse4j.sourceforge.net/\r\n\r\nArgparse4j is a command line argument parser library for Java, based on Python&#39;s argparse.","title":"How do I parse command line arguments in Java?","body":"<p>I wrote another one: <a href=\"http://argparse4j.sourceforge.net/\" rel=\"noreferrer\">http://argparse4j.sourceforge.net/</a></p>\n\n<p>Argparse4j is a command line argument parser library for Java, based on Python's argparse.</p>\n"},{"tags":[],"owner":{"account_id":1070899,"reputation":4967,"user_id":1070215,"display_name":"cthiebaud"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518134936,"creation_date":1365494252,"answer_id":15896393,"question_id":367706,"body_markdown":"[airline @ Github][1] looks good. It is based on annotation and is trying to emulate Git command line structures.\r\n\r\n  [1]: https://github.com/airlift/airline &quot;Airline is a Java annotation-based framework for parsing Git like command line structures.&quot;\r\n","title":"How do I parse command line arguments in Java?","body":"<p><a href=\"https://github.com/airlift/airline\" rel=\"nofollow noreferrer\" title=\"Airline is a Java annotation-based framework for parsing Git like command line structures.\">airline @ Github</a> looks good. It is based on annotation and is trying to emulate Git command line structures.</p>\n"},{"tags":[],"owner":{"account_id":746324,"reputation":595,"user_id":735217,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1518134998,"creation_date":1481127223,"answer_id":41022241,"question_id":367706,"body_markdown":"This is Google&#39;s command line parsing library open-sourced as part of the Bazel project. Personally I think it&#39;s the best one out there, and far easier than Apache CLI.\r\n\r\n&lt;https://github.com/pcj/google-options&gt;\r\n\r\n# Installation\r\n\r\n### Bazel\r\n\r\n    maven_jar(\r\n        name = &quot;com_github_pcj_google_options&quot;,\r\n        artifact = &quot;com.github.pcj:google-options:jar:1.0.0&quot;,\r\n        sha1 = &quot;85d54fe6771e5ff0d54827b0a3315c3e12fdd0c7&quot;,\r\n    )\r\n\r\n### Gradle\r\n\r\n    dependencies {\r\n      compile &#39;com.github.pcj:google-options:1.0.0&#39;\r\n    }\r\n\r\n### Maven\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.pcj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-options&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n# Usage\r\n\r\nCreate a class that extends `OptionsBase` and defines your `@Option`(s).\r\n\r\n    package example;\r\n    \r\n    import com.google.devtools.common.options.Option;\r\n    import com.google.devtools.common.options.OptionsBase;\r\n    \r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Command-line options definition for example server.\r\n     */\r\n    public class ServerOptions extends OptionsBase {\r\n    \r\n      @Option(\r\n          name = &quot;help&quot;,\r\n          abbrev = &#39;h&#39;,\r\n          help = &quot;Prints usage info.&quot;,\r\n          defaultValue = &quot;true&quot;\r\n        )\r\n      public boolean help;\r\n    \r\n      @Option(\r\n          name = &quot;host&quot;,\r\n          abbrev = &#39;o&#39;,\r\n          help = &quot;The server host.&quot;,\r\n          category = &quot;startup&quot;,\r\n          defaultValue = &quot;&quot;\r\n      )\r\n      public String host;\r\n    \r\n      @Option(\r\n        name = &quot;port&quot;,\r\n        abbrev = &#39;p&#39;,\r\n        help = &quot;The server port.&quot;,\r\n        category = &quot;startup&quot;,\r\n        defaultValue = &quot;8080&quot;\r\n        )\r\n        public int port;\r\n    \r\n      @Option(\r\n        name = &quot;dir&quot;,\r\n        abbrev = &#39;d&#39;,\r\n        help = &quot;Name of directory to serve static files.&quot;,\r\n        category = &quot;startup&quot;,\r\n        allowMultiple = true,\r\n        defaultValue = &quot;&quot;\r\n        )\r\n        public List&lt;String&gt; dirs;\r\n    \r\n    }\r\n\r\nParse the arguments and use them.\r\n\r\n    package example;\r\n    \r\n    import com.google.devtools.common.options.OptionsParser;\r\n    import java.util.Collections;\r\n    \r\n    public class Server {\r\n    \r\n      public static void main(String[] args) {\r\n        OptionsParser parser = OptionsParser.newOptionsParser(ServerOptions.class);\r\n        parser.parseAndExitUponError(args);\r\n        ServerOptions options = parser.getOptions(ServerOptions.class);\r\n        if (options.host.isEmpty() || options.port &lt; 0 || options.dirs.isEmpty()) {\r\n          printUsage(parser);\r\n          return;\r\n        }\r\n    \r\n        System.out.format(&quot;Starting server at %s:%d...\\n&quot;, options.host, options.port);\r\n        for (String dirname : options.dirs) {\r\n          System.out.format(&quot;\\\\--&gt; Serving static files at &lt;%s&gt;\\n&quot;, dirname);\r\n        }\r\n      }\r\n    \r\n      private static void printUsage(OptionsParser parser) {\r\n        System.out.println(&quot;Usage: java -jar server.jar OPTIONS&quot;);\r\n        System.out.println(parser.describeOptions(Collections.&lt;String, String&gt;emptyMap(),\r\n                                                  OptionsParser.HelpVerbosity.LONG));\r\n      }\r\n    \r\n    }\r\n\r\n&lt;https://github.com/pcj/google-options&gt;\r\n","title":"How do I parse command line arguments in Java?","body":"<p>This is Google's command line parsing library open-sourced as part of the Bazel project. Personally I think it's the best one out there, and far easier than Apache CLI.</p>\n\n<p><a href=\"https://github.com/pcj/google-options\" rel=\"noreferrer\">https://github.com/pcj/google-options</a></p>\n\n<h1>Installation</h1>\n\n<h3>Bazel</h3>\n\n<pre><code>maven_jar(\n    name = \"com_github_pcj_google_options\",\n    artifact = \"com.github.pcj:google-options:jar:1.0.0\",\n    sha1 = \"85d54fe6771e5ff0d54827b0a3315c3e12fdd0c7\",\n)\n</code></pre>\n\n<h3>Gradle</h3>\n\n<pre><code>dependencies {\n  compile 'com.github.pcj:google-options:1.0.0'\n}\n</code></pre>\n\n<h3>Maven</h3>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.pcj&lt;/groupId&gt;\n  &lt;artifactId&gt;google-options&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h1>Usage</h1>\n\n<p>Create a class that extends <code>OptionsBase</code> and defines your <code>@Option</code>(s).</p>\n\n<pre><code>package example;\n\nimport com.google.devtools.common.options.Option;\nimport com.google.devtools.common.options.OptionsBase;\n\nimport java.util.List;\n\n/**\n * Command-line options definition for example server.\n */\npublic class ServerOptions extends OptionsBase {\n\n  @Option(\n      name = \"help\",\n      abbrev = 'h',\n      help = \"Prints usage info.\",\n      defaultValue = \"true\"\n    )\n  public boolean help;\n\n  @Option(\n      name = \"host\",\n      abbrev = 'o',\n      help = \"The server host.\",\n      category = \"startup\",\n      defaultValue = \"\"\n  )\n  public String host;\n\n  @Option(\n    name = \"port\",\n    abbrev = 'p',\n    help = \"The server port.\",\n    category = \"startup\",\n    defaultValue = \"8080\"\n    )\n    public int port;\n\n  @Option(\n    name = \"dir\",\n    abbrev = 'd',\n    help = \"Name of directory to serve static files.\",\n    category = \"startup\",\n    allowMultiple = true,\n    defaultValue = \"\"\n    )\n    public List&lt;String&gt; dirs;\n\n}\n</code></pre>\n\n<p>Parse the arguments and use them.</p>\n\n<pre><code>package example;\n\nimport com.google.devtools.common.options.OptionsParser;\nimport java.util.Collections;\n\npublic class Server {\n\n  public static void main(String[] args) {\n    OptionsParser parser = OptionsParser.newOptionsParser(ServerOptions.class);\n    parser.parseAndExitUponError(args);\n    ServerOptions options = parser.getOptions(ServerOptions.class);\n    if (options.host.isEmpty() || options.port &lt; 0 || options.dirs.isEmpty()) {\n      printUsage(parser);\n      return;\n    }\n\n    System.out.format(\"Starting server at %s:%d...\\n\", options.host, options.port);\n    for (String dirname : options.dirs) {\n      System.out.format(\"\\\\--&gt; Serving static files at &lt;%s&gt;\\n\", dirname);\n    }\n  }\n\n  private static void printUsage(OptionsParser parser) {\n    System.out.println(\"Usage: java -jar server.jar OPTIONS\");\n    System.out.println(parser.describeOptions(Collections.&lt;String, String&gt;emptyMap(),\n                                              OptionsParser.HelpVerbosity.LONG));\n  }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/pcj/google-options\" rel=\"noreferrer\">https://github.com/pcj/google-options</a></p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1646385285,"creation_date":1493893904,"answer_id":43780433,"question_id":367706,"body_markdown":"&gt; *It is 2022, time to do better than Commons CLI... :-)*\r\n\r\nShould you build your own Java command line parser, or use a library?\r\n\r\nMany small utility-like applications probably roll their own command line parsing to avoid the additional external dependency. [picocli][1] may be an interesting alternative.\r\n\r\nPicocli is a modern library and framework for building powerful, user-friendly, GraalVM-enabled command line apps with ease. It lives in 1 source file so apps can include it as source to avoid adding a dependency.\r\n\r\nIt supports colors, autocompletion, subcommands, and more. Written in Java, usable from Groovy, Kotlin, Scala, etc.\r\n\r\n[![Minimal usage help with ANSI colors][2]][2]\r\n\r\nFeatures:\r\n\r\n* Annotation based: **declarative**, **avoids duplication** and **expresses** programmer **intent**\r\n* Convenient: parse user input and run your business logic with **one line of code**\r\n* **Strongly typed** everything - command line options as well as positional parameters\r\n* POSIX clustered short options (`&lt;command&gt; -xvfInputFile` as well as `&lt;command&gt; -x -v -f InputFile`)\r\n* **Fine-grained control**: an arity model that allows a minimum, maximum and variable number of parameters, e.g, `&quot;1..*&quot;`, `&quot;3..5&quot;`\r\n* **Subcommands** (can be nested to arbitrary depth)\r\n* **Feature-rich**: composable arg groups, splitting quoted args, repeatable subcommands, and many more\r\n* **User-friendly**: usage help message uses **colors** to contrast important elements like option names from the rest of the usage help to **reduce the cognitive load** on the user\r\n* Distribute your app as a **[GraalVM native image][3]**\r\n* Works with **Java 5** and higher\r\n* Extensive and meticulous [**documentation**][4]\r\n\r\nThe usage help message is easy to customize with annotations (without programming). For example:\r\n\r\n[![Extended usage help message][5]][5] ([source][6])\r\n\r\nI couldn&#39;t resist adding one more screenshot to show what usage help messages are possible. Usage help is the face of your application, so be creative and have fun!\r\n\r\n[![picocli demo][7]][7]\r\n\r\nDisclaimer: I created picocli. Feedback or questions very welcome.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://picocli.info/\r\n  [2]: https://i.stack.imgur.com/UqZmi.png\r\n  [3]: https://picocli.info/#_graalvm_native_image\r\n  [4]: https://picocli.info/\r\n  [5]: https://i.stack.imgur.com/hLO1d.png\r\n  [6]: https://github.com/remkop/picocli/blob/v0.9.4/src/test/java/picocli/Demo.java#L337\r\n  [7]: https://i.stack.imgur.com/yLsst.png","title":"How do I parse command line arguments in Java?","body":"<blockquote>\n<p><em>It is 2022, time to do better than Commons CLI... :-)</em></p>\n</blockquote>\n<p>Should you build your own Java command line parser, or use a library?</p>\n<p>Many small utility-like applications probably roll their own command line parsing to avoid the additional external dependency. <a href=\"http://picocli.info/\" rel=\"noreferrer\">picocli</a> may be an interesting alternative.</p>\n<p>Picocli is a modern library and framework for building powerful, user-friendly, GraalVM-enabled command line apps with ease. It lives in 1 source file so apps can include it as source to avoid adding a dependency.</p>\n<p>It supports colors, autocompletion, subcommands, and more. Written in Java, usable from Groovy, Kotlin, Scala, etc.</p>\n<p><a href=\"https://i.stack.imgur.com/UqZmi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UqZmi.png\" alt=\"Minimal usage help with ANSI colors\" /></a></p>\n<p>Features:</p>\n<ul>\n<li>Annotation based: <strong>declarative</strong>, <strong>avoids duplication</strong> and <strong>expresses</strong> programmer <strong>intent</strong></li>\n<li>Convenient: parse user input and run your business logic with <strong>one line of code</strong></li>\n<li><strong>Strongly typed</strong> everything - command line options as well as positional parameters</li>\n<li>POSIX clustered short options (<code>&lt;command&gt; -xvfInputFile</code> as well as <code>&lt;command&gt; -x -v -f InputFile</code>)</li>\n<li><strong>Fine-grained control</strong>: an arity model that allows a minimum, maximum and variable number of parameters, e.g, <code>&quot;1..*&quot;</code>, <code>&quot;3..5&quot;</code></li>\n<li><strong>Subcommands</strong> (can be nested to arbitrary depth)</li>\n<li><strong>Feature-rich</strong>: composable arg groups, splitting quoted args, repeatable subcommands, and many more</li>\n<li><strong>User-friendly</strong>: usage help message uses <strong>colors</strong> to contrast important elements like option names from the rest of the usage help to <strong>reduce the cognitive load</strong> on the user</li>\n<li>Distribute your app as a <strong><a href=\"https://picocli.info/#_graalvm_native_image\" rel=\"noreferrer\">GraalVM native image</a></strong></li>\n<li>Works with <strong>Java 5</strong> and higher</li>\n<li>Extensive and meticulous <a href=\"https://picocli.info/\" rel=\"noreferrer\"><strong>documentation</strong></a></li>\n</ul>\n<p>The usage help message is easy to customize with annotations (without programming). For example:</p>\n<p><a href=\"https://i.stack.imgur.com/hLO1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hLO1d.png\" alt=\"Extended usage help message\" /></a> (<a href=\"https://github.com/remkop/picocli/blob/v0.9.4/src/test/java/picocli/Demo.java#L337\" rel=\"noreferrer\">source</a>)</p>\n<p>I couldn't resist adding one more screenshot to show what usage help messages are possible. Usage help is the face of your application, so be creative and have fun!</p>\n<p><a href=\"https://i.stack.imgur.com/yLsst.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yLsst.png\" alt=\"picocli demo\" /></a></p>\n<p>Disclaimer: I created picocli. Feedback or questions very welcome.</p>\n"},{"tags":[],"owner":{"account_id":8929891,"reputation":21,"user_id":6662856,"display_name":"Himanshu Shekhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505476331,"creation_date":1503773252,"answer_id":45898630,"question_id":367706,"body_markdown":"If you want something lightweight (jar size ~ 20 kb) and simple to use, you can try [argument-parser][1]. It can be used in most of the use cases, supports specifying arrays in the argument and has no dependency on any other library. It works for Java 1.5 or above. Below excerpt shows an example on how to use it:\r\n\r\n    public static void main(String[] args) {\r\n    \tString usage = &quot;--day|-d day --mon|-m month [--year|-y year][--dir|-ds directoriesToSearch]&quot;;\r\n        ArgumentParser argParser = new ArgumentParser(usage, InputData.class);\r\n        InputData inputData = (InputData) argParser.parse(args);\r\n        showData(inputData);\r\n        \r\n        new StatsGenerator().generateStats(inputData);\r\n    }\r\nMore examples can be found [here][2]\r\n  [1]: https://github.com/shekhar-himanshu/argument-parser\r\n  [2]: https://easy-develop.github.io/argument-parser/1.0.0/examples\r\n","title":"How do I parse command line arguments in Java?","body":"<p>If you want something lightweight (jar size ~ 20 kb) and simple to use, you can try <a href=\"https://github.com/shekhar-himanshu/argument-parser\" rel=\"nofollow noreferrer\">argument-parser</a>. It can be used in most of the use cases, supports specifying arrays in the argument and has no dependency on any other library. It works for Java 1.5 or above. Below excerpt shows an example on how to use it:</p>\n\n<pre><code>public static void main(String[] args) {\n    String usage = \"--day|-d day --mon|-m month [--year|-y year][--dir|-ds directoriesToSearch]\";\n    ArgumentParser argParser = new ArgumentParser(usage, InputData.class);\n    InputData inputData = (InputData) argParser.parse(args);\n    showData(inputData);\n\n    new StatsGenerator().generateStats(inputData);\n}\n</code></pre>\n\n<p>More examples can be found <a href=\"https://easy-develop.github.io/argument-parser/1.0.0/examples\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518135052,"creation_date":1508336427,"answer_id":46812436,"question_id":367706,"body_markdown":"Argparse4j is best I have found. It mimics Python&#39;s argparse libary which is very convenient and powerful.\r\n","title":"How do I parse command line arguments in Java?","body":"<p>Argparse4j is best I have found. It mimics Python's argparse libary which is very convenient and powerful.</p>\n"},{"tags":[],"owner":{"account_id":1911497,"reputation":342,"user_id":1725202,"display_name":"Ioannis Koumarelas"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1532001618,"creation_date":1531999748,"answer_id":51421535,"question_id":367706,"body_markdown":"I know most people here are going to find 10 million reasons why they dislike my way, but nevermind. I like to keep things simple, so I just separate the key from the value using a &#39;=&#39; and store them in a HashMap like this:\r\n\r\n    Map&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\r\n    for (String arg: args) {\r\n        String[] parts = arg.split(&quot;=&quot;);\r\n        argsMap.put(parts[0], parts[1]);\r\n    } \r\n\r\nYou could always maintain a list with the arguments you are expecting, to help the user in case he forgot an argument or used a wrong one... However, if you want too many features this solution is not for you anyway.","title":"How do I parse command line arguments in Java?","body":"<p>I know most people here are going to find 10 million reasons why they dislike my way, but nevermind. I like to keep things simple, so I just separate the key from the value using a '=' and store them in a HashMap like this:</p>\n\n<pre><code>Map&lt;String, String&gt; argsMap = new HashMap&lt;&gt;();\nfor (String arg: args) {\n    String[] parts = arg.split(\"=\");\n    argsMap.put(parts[0], parts[1]);\n} \n</code></pre>\n\n<p>You could always maintain a list with the arguments you are expecting, to help the user in case he forgot an argument or used a wrong one... However, if you want too many features this solution is not for you anyway.</p>\n"},{"tags":[],"owner":{"account_id":4349656,"reputation":21,"user_id":3550482,"display_name":"stevens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535272158,"creation_date":1535272158,"answer_id":52024523,"question_id":367706,"body_markdown":"As one of the comments mentioned earlier (https://github.com/pcj/google-options) would be a good choice to start with.  \r\n\r\nOne thing I want to add-on is:\r\n\r\n1) If you run into some parser reflection error, please try use a newer version of the guava. in my case:\r\n\r\n    maven_jar(\r\n        name = &quot;com_google_guava_guava&quot;,\r\n        artifact = &quot;com.google.guava:guava:19.0&quot;,\r\n        server = &quot;maven2_server&quot;,\r\n    )\r\n    \r\n    maven_jar(\r\n        name = &quot;com_github_pcj_google_options&quot;,\r\n        artifact = &quot;com.github.pcj:google-options:jar:1.0.0&quot;,\r\n        server = &quot;maven2_server&quot;,\r\n    )\r\n    \r\n    maven_server(\r\n        name = &quot;maven2_server&quot;,\r\n        url = &quot;http://central.maven.org/maven2/&quot;,\r\n    )\r\n\r\n2) When running the commandline:\r\n\r\n    bazel run path/to/your:project -- --var1 something --var2 something -v something\r\n\r\n3) When you need the usage help, just type:\r\n\r\n    bazel run path/to/your:project -- --help\r\n","title":"How do I parse command line arguments in Java?","body":"<p>As one of the comments mentioned earlier (<a href=\"https://github.com/pcj/google-options\" rel=\"nofollow noreferrer\">https://github.com/pcj/google-options</a>) would be a good choice to start with.  </p>\n\n<p>One thing I want to add-on is:</p>\n\n<p>1) If you run into some parser reflection error, please try use a newer version of the guava. in my case:</p>\n\n<pre><code>maven_jar(\n    name = \"com_google_guava_guava\",\n    artifact = \"com.google.guava:guava:19.0\",\n    server = \"maven2_server\",\n)\n\nmaven_jar(\n    name = \"com_github_pcj_google_options\",\n    artifact = \"com.github.pcj:google-options:jar:1.0.0\",\n    server = \"maven2_server\",\n)\n\nmaven_server(\n    name = \"maven2_server\",\n    url = \"http://central.maven.org/maven2/\",\n)\n</code></pre>\n\n<p>2) When running the commandline:</p>\n\n<pre><code>bazel run path/to/your:project -- --var1 something --var2 something -v something\n</code></pre>\n\n<p>3) When you need the usage help, just type:</p>\n\n<pre><code>bazel run path/to/your:project -- --help\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537490108,"creation_date":1537488666,"answer_id":52434900,"question_id":367706,"body_markdown":"For Spring users, we should mention also https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html  and his twin brother https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html (JOpt implementation of the same functionality). \r\nThe advantage in Spring is that you can directly bind the command line arguments to attributes, there is an example here https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html","title":"How do I parse command line arguments in Java?","body":"<p>For Spring users, we should mention also <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/SimpleCommandLinePropertySource.html</a>  and his twin brother <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/JOptCommandLinePropertySource.html</a> (JOpt implementation of the same functionality). \nThe advantage in Spring is that you can directly bind the command line arguments to attributes, there is an example here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html</a></p>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1562924701,"creation_date":1562923581,"answer_id":57004094,"question_id":367706,"body_markdown":"If you are already using Spring Boot, argument parsing comes out of the box. \r\n\r\nIf you want to run something after startup, implement the `ApplicationRunner` interface:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements ApplicationRunner {\r\n\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n      @Override\r\n      public void run(ApplicationArguments args) {\r\n        args.containsOption(&quot;my-flag-option&quot;); // test if --my-flag-option was set\r\n        args.getOptionValues(&quot;my-option&quot;);     // returns values of --my-option=value1 --my-option=value2 \r\n        args.getOptionNames();                 // returns a list of all available options\r\n        // do something with your args\r\n      }\r\n    }\r\n\r\nYour `run` method will be invoked after the context has started up successfully. \r\n\r\nIf you need access to the arguments _before_ you fire up your application context, you can just simply parse the application arguments manually:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements ApplicationRunner {\r\n\r\n      public static void main(String[] args) {\r\n        ApplicationArguments arguments = new DefaultApplicationArguments(args);\r\n        // do whatever you like with your arguments\r\n        // see above ...\r\n        SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n    }\r\n\r\nAnd finally, if you need access to your arguments in a bean, just inject the `ApplicationArguments`:\r\n\r\n    @Component\r\n    public class MyBean {\r\n\r\n       @Autowired\r\n       private ApplicationArguments arguments;\r\n\r\n       // ...\r\n    }","title":"How do I parse command line arguments in Java?","body":"<p>If you are already using Spring Boot, argument parsing comes out of the box. </p>\n\n<p>If you want to run something after startup, implement the <code>ApplicationRunner</code> interface:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements ApplicationRunner {\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  public void run(ApplicationArguments args) {\n    args.containsOption(\"my-flag-option\"); // test if --my-flag-option was set\n    args.getOptionValues(\"my-option\");     // returns values of --my-option=value1 --my-option=value2 \n    args.getOptionNames();                 // returns a list of all available options\n    // do something with your args\n  }\n}\n</code></pre>\n\n<p>Your <code>run</code> method will be invoked after the context has started up successfully. </p>\n\n<p>If you need access to the arguments <em>before</em> you fire up your application context, you can just simply parse the application arguments manually:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements ApplicationRunner {\n\n  public static void main(String[] args) {\n    ApplicationArguments arguments = new DefaultApplicationArguments(args);\n    // do whatever you like with your arguments\n    // see above ...\n    SpringApplication.run(Application.class, args);\n  }\n\n}\n</code></pre>\n\n<p>And finally, if you need access to your arguments in a bean, just inject the <code>ApplicationArguments</code>:</p>\n\n<pre><code>@Component\npublic class MyBean {\n\n   @Autowired\n   private ApplicationArguments arguments;\n\n   // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17447314,"reputation":72,"user_id":12648074,"display_name":"Salvatore Giamp&#224;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609260897,"creation_date":1609260897,"answer_id":65495766,"question_id":367706,"body_markdown":"I want to show you my implementation: [ReadyCLI][1]\r\n\r\nAdvantages:\r\n - **for lazy programmers**: a very small number of classes to learn, just see the two small examples on the README in the repository and you are already at 90% of learning; just start coding your CLI/Parser without any other knowledge;\r\nReadyCLI allows coding CLIs in the most natural way;\r\n - it is designed with **Developer Experience** in mind; it largely uses the Builder design pattern and functional interfaces for Lambda Expressions, to allow a very quick coding;\r\n - it supports **Options**, **Flags** and **Sub-Commands**;\r\n - it allows to parse arguments from command-line and to build more complex and interactive CLIs;\r\n - a CLI can be started on Standard I/O just as easily as on any other I/O interface, such as sockets;\r\n - it gives great support for documentation of commands.\r\n\r\nI developed this project as I needed new features (options, flag, sub-commands) and that could be used in the simplest possible way in my projects.\r\n\r\n  [1]: https://github.com/sv-giampa/ReadyCLI","title":"How do I parse command line arguments in Java?","body":"<p>I want to show you my implementation: <a href=\"https://github.com/sv-giampa/ReadyCLI\" rel=\"nofollow noreferrer\">ReadyCLI</a></p>\n<p>Advantages:</p>\n<ul>\n<li><strong>for lazy programmers</strong>: a very small number of classes to learn, just see the two small examples on the README in the repository and you are already at 90% of learning; just start coding your CLI/Parser without any other knowledge;\nReadyCLI allows coding CLIs in the most natural way;</li>\n<li>it is designed with <strong>Developer Experience</strong> in mind; it largely uses the Builder design pattern and functional interfaces for Lambda Expressions, to allow a very quick coding;</li>\n<li>it supports <strong>Options</strong>, <strong>Flags</strong> and <strong>Sub-Commands</strong>;</li>\n<li>it allows to parse arguments from command-line and to build more complex and interactive CLIs;</li>\n<li>a CLI can be started on Standard I/O just as easily as on any other I/O interface, such as sockets;</li>\n<li>it gives great support for documentation of commands.</li>\n</ul>\n<p>I developed this project as I needed new features (options, flag, sub-commands) and that could be used in the simplest possible way in my projects.</p>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701262028,"creation_date":1665617447,"answer_id":74048983,"question_id":367706,"body_markdown":"Take a look at [Spring Shell][1]\r\n\r\n&gt; Spring Shell’s features include\r\n&gt; \r\n&gt;  - A simple, annotation driven, programming model to contribute custom    commands\r\n&gt;  - Use of Spring Boot auto-configuration functionality as the basis for    a command plugin strategy\r\n&gt;  - Tab completion, colorization, and script execution\r\n&gt;  - Customization of command prompt, shell history file name, handling of    results and errors\r\n&gt;  - Dynamic enablement of commands based on domain specific criteria\r\n&gt;  - Integration with the bean validation API\r\n&gt;  - Already built-in commands, such as clear screen, gorgeous help, exit\r\n&gt;  - ASCII art Tables, with formatting, alignment, fancy borders, etc.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-shell/docs/current/docs/index.html","title":"How do I parse command line arguments in Java?","body":"<p>Take a look at <a href=\"https://docs.spring.io/spring-shell/docs/current/docs/index.html\" rel=\"nofollow noreferrer\">Spring Shell</a></p>\n<blockquote>\n<p>Spring Shell’s features include</p>\n<ul>\n<li>A simple, annotation driven, programming model to contribute custom    commands</li>\n<li>Use of Spring Boot auto-configuration functionality as the basis for    a command plugin strategy</li>\n<li>Tab completion, colorization, and script execution</li>\n<li>Customization of command prompt, shell history file name, handling of    results and errors</li>\n<li>Dynamic enablement of commands based on domain specific criteria</li>\n<li>Integration with the bean validation API</li>\n<li>Already built-in commands, such as clear screen, gorgeous help, exit</li>\n<li>ASCII art Tables, with formatting, alignment, fancy borders, etc.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":1075,"reputation":34774,"user_id":1428,"accept_rate":64,"display_name":"lindelof"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478965,"favorite_count":0,"down_vote_count":6,"up_vote_count":689,"accepted_answer_id":367714,"answer_count":21,"score":683,"last_activity_date":1701262028,"creation_date":1229327170,"question_id":367706,"body_markdown":"What is a good way of parsing command line arguments in Java?\r\n","title":"How do I parse command line arguments in Java?","body":"<p>What is a good way of parsing command line arguments in Java?</p>\n"},{"tags":["java","unit-testing","mockito","junit5","java-17"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1701262343,"post_id":77571282,"comment_id":136753476,"body_markdown":"You create new instances of `DataA` and `DataB` in your method under test. Thus, the mocks are not used at all.","body":"You create new instances of <code>DataA</code> and <code>DataB</code> in your method under test. Thus, the mocks are not used at all."},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701264407,"post_id":77571282,"comment_id":136753865,"body_markdown":"Ok, so how should I do?","body":"Ok, so how should I do?"},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701266176,"post_id":77571282,"comment_id":136754232,"body_markdown":"Is it not possible to test?\nShould I redesign the classes and use them some other way?","body":"Is it not possible to test? Should I redesign the classes and use them some other way?"},{"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701267382,"post_id":77571282,"comment_id":136754480,"body_markdown":"Your test only contains mocks, no real classes. Your production code is not tested. At the same time, your production code is creating new instances and doesn&#39;t use the mocks available in the test. Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/q/74027324/112968)","body":"Your test only contains mocks, no real classes. Your production code is not tested. At the same time, your production code is creating new instances and doesn&#39;t use the mocks available in the test. Does this answer your question? <a href=\"https://stackoverflow.com/q/74027324/112968\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"score":0,"creation_date":1701277092,"post_id":77571282,"comment_id":136756698,"body_markdown":"So it is not possible to mock?","body":"So it is not possible to mock?"}],"owner":{"account_id":24503923,"reputation":47,"user_id":18419195,"display_name":"StarMcSnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701262019,"creation_date":1701262019,"question_id":77571282,"body_markdown":"I have a method that I want to test. I don&#39;t get the mocking to work.\r\n\r\nThe method looks like this:\r\n```\r\npublic TypeA collectData(Connection dbCon, String id){\r\n   TypeA a = new TypeA();\r\n   a.setTime(LocalDateTime.now());\r\n   a.setId(id);\r\n   \r\n   DataB dataB = new DataB(dbCon);\r\n   TypeB b = dataB.getData(id);\r\n   a.setB(b);\r\n\r\n   DataC dataC = new DataC(dbCon);\r\n   List&lt;TypeC&gt; c = dataC.getDataList(id);\r\n   a.getC().addAll(c);\r\n   \r\n   return a;\r\n}\r\n```\r\nDataB &amp; DataC both extends abstract class DataDb and looks like:\r\n```\r\nclass DataB exstends DataDb&lt;DataB&gt;{\r\n   public PreparedStatment getSqlStatement(){\r\n      return ...\r\n   }\r\n   public List&lt;TypeB&gt; transformToObject(){\r\n      return ...\r\n   }\r\n}\r\n```\r\nClass DataDb looks like:\r\n```\r\npublic abstact class DbData&lt;T&gt;{\r\n   public T getData(String id){\r\n      List&lt;T&gt; obj = collectData(id);\r\n      return obj.isEmpty() ? null : obj.get(0);\r\n   }\r\n   public List&lt;T&gt; getDataList(String id){\r\n      return collectData(id);\r\n   }\r\n   public List&lt;T&gt; collectData(String id){\r\n      ...\r\n      stmt = getSqlStatment();\r\n      ...\r\n      return transformToObject();\r\n   }\r\n  abstract PreparedStatemnet getSqlStatement();\r\n  abstract List&lt;T&gt; transformToObject();\r\n}\r\n```\r\nI have tried to do the test and mock but get an Exception. \r\nIt looks like my mocking of getData() and getDataList() does not work, and the actual methods in DataDb is called.\r\n\r\nMy test\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass DataTest {\r\n   @Mock private Connection c;\r\n   @Mock private DataB dataB;\r\n   @Mock private DataC dataC;\r\n\r\n   @Test\r\n   void TestTypeA(){\r\n      when(dataB.getData(&quot;123&quot;)).thenReturn(new TypeB());\r\n      List&lt;TypeC&gt; cL = new ArrayList&lt;&gt;();\r\n      cL.add(new TypeC);\r\n      when(dataC.getDataList(&quot;123&quot;)).thenReturn(cL);\r\n\r\n      TypeA a = collectData(c, &quot;123&quot;);\r\n      assertThat(a.getId(), is(equlaTo(&quot;123&quot;)));\r\n      ...\r\n   }\r\n```\r\nI have also unsuccessfully tried to mock DataDb:\r\n```\r\n@Mock private DataDb dataDb;\r\n...\r\nwhen(dataDb.getData(&quot;123&quot;)).thenReturn(new TypeB());\r\n```\r\nI have found some examples that mock explicit calls to super-methods, by using **spy** but I dont get that to work either. Gets the same exception when the &quot;real&quot; code calls the DB. \r\n```\r\nDataDb spy = Mockito.spy(new DataDb(){@Override PreparedStatement getSqlStatment(){ return null; } @Override List transformToObject(){ return null; } });\r\nMockito.doReturn(new TypeB()).when(spy).getData(&quot;123&quot;);\r\n```","title":"How to mock calls to inherited methods","body":"<p>I have a method that I want to test. I don't get the mocking to work.</p>\n<p>The method looks like this:</p>\n<pre><code>public TypeA collectData(Connection dbCon, String id){\n   TypeA a = new TypeA();\n   a.setTime(LocalDateTime.now());\n   a.setId(id);\n   \n   DataB dataB = new DataB(dbCon);\n   TypeB b = dataB.getData(id);\n   a.setB(b);\n\n   DataC dataC = new DataC(dbCon);\n   List&lt;TypeC&gt; c = dataC.getDataList(id);\n   a.getC().addAll(c);\n   \n   return a;\n}\n</code></pre>\n<p>DataB &amp; DataC both extends abstract class DataDb and looks like:</p>\n<pre><code>class DataB exstends DataDb&lt;DataB&gt;{\n   public PreparedStatment getSqlStatement(){\n      return ...\n   }\n   public List&lt;TypeB&gt; transformToObject(){\n      return ...\n   }\n}\n</code></pre>\n<p>Class DataDb looks like:</p>\n<pre><code>public abstact class DbData&lt;T&gt;{\n   public T getData(String id){\n      List&lt;T&gt; obj = collectData(id);\n      return obj.isEmpty() ? null : obj.get(0);\n   }\n   public List&lt;T&gt; getDataList(String id){\n      return collectData(id);\n   }\n   public List&lt;T&gt; collectData(String id){\n      ...\n      stmt = getSqlStatment();\n      ...\n      return transformToObject();\n   }\n  abstract PreparedStatemnet getSqlStatement();\n  abstract List&lt;T&gt; transformToObject();\n}\n</code></pre>\n<p>I have tried to do the test and mock but get an Exception.\nIt looks like my mocking of getData() and getDataList() does not work, and the actual methods in DataDb is called.</p>\n<p>My test</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass DataTest {\n   @Mock private Connection c;\n   @Mock private DataB dataB;\n   @Mock private DataC dataC;\n\n   @Test\n   void TestTypeA(){\n      when(dataB.getData(&quot;123&quot;)).thenReturn(new TypeB());\n      List&lt;TypeC&gt; cL = new ArrayList&lt;&gt;();\n      cL.add(new TypeC);\n      when(dataC.getDataList(&quot;123&quot;)).thenReturn(cL);\n\n      TypeA a = collectData(c, &quot;123&quot;);\n      assertThat(a.getId(), is(equlaTo(&quot;123&quot;)));\n      ...\n   }\n</code></pre>\n<p>I have also unsuccessfully tried to mock DataDb:</p>\n<pre><code>@Mock private DataDb dataDb;\n...\nwhen(dataDb.getData(&quot;123&quot;)).thenReturn(new TypeB());\n</code></pre>\n<p>I have found some examples that mock explicit calls to super-methods, by using <strong>spy</strong> but I dont get that to work either. Gets the same exception when the &quot;real&quot; code calls the DB.</p>\n<pre><code>DataDb spy = Mockito.spy(new DataDb(){@Override PreparedStatement getSqlStatment(){ return null; } @Override List transformToObject(){ return null; } });\nMockito.doReturn(new TypeB()).when(spy).getData(&quot;123&quot;);\n</code></pre>\n"},{"tags":["java","hibernate","db2"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1701185693,"post_id":77564715,"comment_id":136742448,"body_markdown":"You are sleeping 5 seconds between each row (because your trigger is defined at row level).  Did you mean to instead defined the trigger at statement level (if the om is performing a block insert, as distinct from a row insert ) ??.  Otherwise you cannot use a DEFAULT value for the creation_date column and the application has to preset it to same value for all rows.","body":"You are sleeping 5 seconds between each row (because your trigger is defined at row level).  Did you mean to instead defined the trigger at statement level (if the om is performing a block insert, as distinct from a row insert ) ??.  Otherwise you cannot use a DEFAULT value for the creation_date column and the application has to preset it to same value for all rows."},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1701255621,"post_id":77564715,"comment_id":136752197,"body_markdown":"By presetting the date, it will have almost the same creation date. But it still takes 50s as without batching, why? I expect that it will be handled much more faster.","body":"By presetting the date, it will have almost the same creation date. But it still takes 50s as without batching, why? I expect that it will be handled much more faster."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1701257251,"post_id":77564715,"comment_id":136752494,"body_markdown":"It seems you have not understood my previous comment concerning the granularity of the trigger (per row, or per statement), and whether or not your OM is using single-statement-multi-row insert versus row-by-row insert.","body":"It seems you have not understood my previous comment concerning the granularity of the trigger (per row, or per statement), and whether or not your OM is using single-statement-multi-row insert versus row-by-row insert."},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1701263990,"post_id":77564715,"comment_id":136753783,"body_markdown":"This trigger can also be defined on statement level. But I have some implemented triggers which made some checks on the inserted row which takes a few time. That&#39;s why I want to use batching here. So is it not possible to use batch insert with trigger definition at row level?","body":"This trigger can also be defined on statement level. But I have some implemented triggers which made some checks on the inserted row which takes a few time. That&#39;s why I want to use batching here. So is it not possible to use batch insert with trigger definition at row level?"}],"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701261278,"creation_date":1701182050,"question_id":77564715,"body_markdown":"I am using hibernate batch insert in for DB2, but not get it worked properly.\r\n\r\nThis is my table definition:\r\n\r\n    CREATE TABLE MY_TABLE (IDENTIFIER VARCHAR(64) NOT NULL, MESSAGE VARCHAR(10), CREATION_DATE TIMESTAMP DEFAULT CURRENT TIMESTAMP, CONSTRAINT MY__PRIMARY_KEY PRIMARY KEY (IDENTIFIER));\r\n\r\nI also have installed a trigger to test batching...\r\n\r\n    CREATE OR REPLACE TRIGGER &quot;NEW_ENTRY&quot; \r\n    BEFORE INSERT ON MY_TABLE \r\n    REFERENCING NEW AS NEW\r\n    \tFOR EACH ROW\r\n    \t\tBEGIN ATOMIC\r\n    \t\t\tCALL dbms_alert.sleep(5);\r\n    \t\tEND\r\n\t\t\r\n\r\n\r\nThis is my implemenatation...\r\n\r\n    @Stateless\r\n    @Local\r\n    public class MyEntityImpl{\r\n    \r\n    \t@PersistenceContext(unitName = &quot;MyEm&quot;)\r\n    \tprotected EntityManager em;\r\n    \r\n    \tpublic void batch() {\r\n    \t\tfor (int a = 0; a &lt; 10; a++) {\r\n    \t\t\tMyEntity newEntity = new MyEntity(UUID.randomUUID().toString());\r\n    \t\t\tnewEntity.setMessage(Integer.toString(a));\r\n    \t\t\tem.persist(newEntity);\r\n    \t\t}\r\n    \t\tem.flush();\r\n    \t\tem.clear();\r\n    \t}\r\n    }\r\n\r\nThis is my configuration in my persistence.xml...\r\n\r\n\t\t&lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value = &quot;20&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.order_inserts&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.order_updates&quot; value = &quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;hibernate.current_session_context_class&quot; value = &quot;thread&quot;/&gt;\r\n\r\nSo what I expect is nearly same creation dates, but got\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gYtK9.png\r\n\r\nThis is my log output\r\n\r\n    batching 10 statements: 1: insert into MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) \r\n    values (&#39;11/29/2023 13:32:20.652&#39;, &#39;0&#39;, &#39;6cbda799-8c09-47d2-9b54-818ecc5963d9&#39;) 2: insert into \r\n    MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) values (&#39;11/29/2023 13:32:20.655&#39;, &#39;1&#39;, \r\n    &#39;87332578-7ce3-4d7f-9e7f-adf761f07e35&#39;) 3: insert into MY_TABLE (CREATION_DATE, MESSAGE, \r\n    IDENTIFIER) values (&#39;11/29/2023 13:32:20.656&#39;, &#39;2&#39;, &#39;27e8612c-1db1-4832-b312-6b5b292441c6&#39;) ","title":"Hibernate batch insert not working as expected","body":"<p>I am using hibernate batch insert in for DB2, but not get it worked properly.</p>\n<p>This is my table definition:</p>\n<pre><code>CREATE TABLE MY_TABLE (IDENTIFIER VARCHAR(64) NOT NULL, MESSAGE VARCHAR(10), CREATION_DATE TIMESTAMP DEFAULT CURRENT TIMESTAMP, CONSTRAINT MY__PRIMARY_KEY PRIMARY KEY (IDENTIFIER));\n</code></pre>\n<p>I also have installed a trigger to test batching...</p>\n<pre><code>CREATE OR REPLACE TRIGGER &quot;NEW_ENTRY&quot; \nBEFORE INSERT ON MY_TABLE \nREFERENCING NEW AS NEW\n    FOR EACH ROW\n        BEGIN ATOMIC\n            CALL dbms_alert.sleep(5);\n        END\n    \n</code></pre>\n<p>This is my implemenatation...</p>\n<pre><code>@Stateless\n@Local\npublic class MyEntityImpl{\n\n    @PersistenceContext(unitName = &quot;MyEm&quot;)\n    protected EntityManager em;\n\n    public void batch() {\n        for (int a = 0; a &lt; 10; a++) {\n            MyEntity newEntity = new MyEntity(UUID.randomUUID().toString());\n            newEntity.setMessage(Integer.toString(a));\n            em.persist(newEntity);\n        }\n        em.flush();\n        em.clear();\n    }\n}\n</code></pre>\n<p>This is my configuration in my persistence.xml...</p>\n<pre><code>    &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value = &quot;20&quot;/&gt;\n    &lt;property name=&quot;hibernate.order_inserts&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.order_updates&quot; value = &quot;true&quot;/&gt;\n    &lt;property name=&quot;hibernate.current_session_context_class&quot; value = &quot;thread&quot;/&gt;\n</code></pre>\n<p>So what I expect is nearly same creation dates, but got\n<a href=\"https://i.stack.imgur.com/gYtK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gYtK9.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my log output</p>\n<pre><code>batching 10 statements: 1: insert into MY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) \nvalues ('11/29/2023 13:32:20.652', '0', '6cbda799-8c09-47d2-9b54-818ecc5963d9') 2: insert into \nMY_TABLE (CREATION_DATE, MESSAGE, IDENTIFIER) values ('11/29/2023 13:32:20.655', '1', \n'87332578-7ce3-4d7f-9e7f-adf761f07e35') 3: insert into MY_TABLE (CREATION_DATE, MESSAGE, \nIDENTIFIER) values ('11/29/2023 13:32:20.656', '2', '27e8612c-1db1-4832-b312-6b5b292441c6') \n</code></pre>\n"},{"tags":["java","wildfly","wildfly-28"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701249423,"creation_date":1701249423,"answer_id":77569847,"question_id":77569645,"body_markdown":"There is no issue: those services will start when required","title":"How to find the reason for not started services","body":"<p>There is no issue: those services will start when required</p>\n"}],"owner":{"account_id":15084460,"reputation":195,"user_id":13209041,"display_name":"OhJohnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77569847,"answer_count":1,"score":0,"last_activity_date":1701261152,"creation_date":1701247163,"question_id":77569645,"body_markdown":"I am a WildFly rookie and I have the problem that when WildFly is packaged (Maven) and the bootable.jar file is started, then the logs say the following:\r\n\r\n&gt; WildFly Full 28.0.1.Final (WildFly Core 20.0.2.Final) started in\r\n&gt; 41627ms - Started 2270 of 2397 services (248 services are lazy,\r\n&gt; passive or on-demand)\r\n\r\nWhen I search for errors, there are none, but it seems odd to me that services are lazy/passive/on-demand and not started. \r\n\r\nIs that an issue I should be worried about?\r\n\r\nIf yes, how can I resolve this problem?\r\n\r\nAnd is there a way to identify the lazy/passive/on-demand services?\r\n\r\nI simply don&#39;t know what to try because I don&#39;t know where to start. Looking up this problem gives no clue about how to resolve it in general.","title":"How to find the reason for not started services","body":"<p>I am a WildFly rookie and I have the problem that when WildFly is packaged (Maven) and the bootable.jar file is started, then the logs say the following:</p>\n<blockquote>\n<p>WildFly Full 28.0.1.Final (WildFly Core 20.0.2.Final) started in\n41627ms - Started 2270 of 2397 services (248 services are lazy,\npassive or on-demand)</p>\n</blockquote>\n<p>When I search for errors, there are none, but it seems odd to me that services are lazy/passive/on-demand and not started.</p>\n<p>Is that an issue I should be worried about?</p>\n<p>If yes, how can I resolve this problem?</p>\n<p>And is there a way to identify the lazy/passive/on-demand services?</p>\n<p>I simply don't know what to try because I don't know where to start. Looking up this problem gives no clue about how to resolve it in general.</p>\n"},{"tags":["java","gremlin","graph-databases","traversal"],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701261107,"creation_date":1701261107,"answer_id":77571179,"question_id":77524984,"body_markdown":"I assume this is just an issue with getting the generics right. You&#39;ve created `nodeTraversal` with `&lt;Vertex, Vertex&gt;` but that&#39;s technically not what you&#39;re returning. the outgoing object from `nodeTraversal` (i.e. the second `Vertex` generic definition) is not a `Vertex` but the data type of whatever the property given to `values()` is. Let&#39;s assume it was a `String`. Your code would look like:\r\n\r\n    GraphTraversal&lt;Vertex, String&gt; nodeTraversal = g.V().has(&quot;x&quot;).in(&quot;node&quot;).values(&quot;y&quot;);\r\n    Set&lt;String&gt; ids = nodeTraversal.toSet();","title":"Node Traversal to Java String Set?","body":"<p>I assume this is just an issue with getting the generics right. You've created <code>nodeTraversal</code> with <code>&lt;Vertex, Vertex&gt;</code> but that's technically not what you're returning. the outgoing object from <code>nodeTraversal</code> (i.e. the second <code>Vertex</code> generic definition) is not a <code>Vertex</code> but the data type of whatever the property given to <code>values()</code> is. Let's assume it was a <code>String</code>. Your code would look like:</p>\n<pre><code>GraphTraversal&lt;Vertex, String&gt; nodeTraversal = g.V().has(&quot;x&quot;).in(&quot;node&quot;).values(&quot;y&quot;);\nSet&lt;String&gt; ids = nodeTraversal.toSet();\n</code></pre>\n"}],"owner":{"account_id":29841401,"reputation":3,"user_id":22869523,"display_name":"e_wards"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77571179,"answer_count":1,"score":0,"last_activity_date":1701261107,"creation_date":1700589544,"question_id":77524984,"body_markdown":"So I am having trouble how I would convert a nodeTraversal into Hashset.\r\n\r\n`GraphTraversal&lt;vertex, vertex&gt;nodeTraversal = this.central.V().has(nodeid).in(&quot;node&quot;).values(nodeId);`\r\n\r\nSo far I have: `GraphTraverl&lt;vertex, vertex&gt;nodeTraversal` that returns the values of ids. I want to then convert that to a set by doing `.toSet()`, but get a `cannot convert set&lt;Object&gt; to set&lt;String&gt;`. I try to add a `.join(&#39;,&#39;)` like the tinkerpop docs but not luck.\r\n\r\nAnyone know why?\r\n","title":"Node Traversal to Java String Set?","body":"<p>So I am having trouble how I would convert a nodeTraversal into Hashset.</p>\n<p><code>GraphTraversal&lt;vertex, vertex&gt;nodeTraversal = this.central.V().has(nodeid).in(&quot;node&quot;).values(nodeId);</code></p>\n<p>So far I have: <code>GraphTraverl&lt;vertex, vertex&gt;nodeTraversal</code> that returns the values of ids. I want to then convert that to a set by doing <code>.toSet()</code>, but get a <code>cannot convert set&lt;Object&gt; to set&lt;String&gt;</code>. I try to add a <code>.join(',')</code> like the tinkerpop docs but not luck.</p>\n<p>Anyone know why?</p>\n"},{"tags":["java","mockito","junit4","pitest"],"answers":[{"tags":[],"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701260586,"creation_date":1701260586,"answer_id":77571125,"question_id":77173506,"body_markdown":"You don&#39;t have to test `BufferedReader` and you can&#39;t use `Mockito` here because you manually instantiate objects in code.\r\nJust split up your code: move out reading logic into new method (`readCsvFile()` for example) and write tests for it.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import org.springframework.beans.factory.InitializingBean;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Cache implements InitializingBean {\r\n        private static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            map.putAll(readCsvFile(&quot;file.csv&quot;));\r\n        }\r\n    \r\n        // readCsvFile can be easily tested\r\n        static Map&lt;String, String&gt; readCsvFile(final String fileName) {\r\n            final Map&lt;String, String&gt; buffer = new HashMap&lt;&gt;();\r\n            try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\r\n                String details;\r\n                while ((details = reader.readLine()) != null) {\r\n                    String[] values = details.split(&quot;,&quot;, 2);\r\n    \r\n                    String firstString = values[0];\r\n                    String secondString = values[1];\r\n                    buffer.put(firstString, secondString);\r\n                }\r\n            } catch (IOException ex) {\r\n                //ex.printStackTrace();\r\n                // TODO better log exception here\r\n            }\r\n            return buffer;\r\n        }\r\n    }\r\n\r\nThen you can write a test for the Cache bean so that it isn&#39;t empty after startup","title":"How to test BufferedReader using Junit and Mockito","body":"<p>You don't have to test <code>BufferedReader</code> and you can't use <code>Mockito</code> here because you manually instantiate objects in code.\nJust split up your code: move out reading logic into new method (<code>readCsvFile()</code> for example) and write tests for it.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Cache implements InitializingBean {\n    private static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n    @Override\n    public void afterPropertiesSet() {\n        map.putAll(readCsvFile(&quot;file.csv&quot;));\n    }\n\n    // readCsvFile can be easily tested\n    static Map&lt;String, String&gt; readCsvFile(final String fileName) {\n        final Map&lt;String, String&gt; buffer = new HashMap&lt;&gt;();\n        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {\n            String details;\n            while ((details = reader.readLine()) != null) {\n                String[] values = details.split(&quot;,&quot;, 2);\n\n                String firstString = values[0];\n                String secondString = values[1];\n                buffer.put(firstString, secondString);\n            }\n        } catch (IOException ex) {\n            //ex.printStackTrace();\n            // TODO better log exception here\n        }\n        return buffer;\n    }\n}\n</code></pre>\n<p>Then you can write a test for the Cache bean so that it isn't empty after startup</p>\n"}],"owner":{"account_id":29530134,"reputation":11,"user_id":22630921,"display_name":"Vinutha Vinu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701260586,"creation_date":1695651965,"question_id":77173506,"body_markdown":"I have below code which reads CSV file and puts the values into HashMap on application startup. I am new to Junit, please suggest how to test below class.\r\n\r\n\r\n```lang-java\r\n@Component\r\npublic class Cache implements InitializingBean {\r\nprivate static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n@Override\r\npublic void afterPropertiesSet() throws Exception {\r\n\r\ntry {\r\n  BufferedReader reader = new BufferedReader(new FileReader(&quot;file.csv&quot;));\r\n  String details = null;\r\n  while ((details = reader.readLine()) != null) {\r\n    String[] values = details.split(&quot;,&quot;, 2);\r\n\r\n    String firstString = values[0];\r\n    String secondString = values[1];\r\n    map.put(firstString, secondString);\r\n  }\r\n} catch (Exception ex) {\r\n  ex.printStackTrace();\r\n}\r\n}\r\n}\r\n```\r\n","title":"How to test BufferedReader using Junit and Mockito","body":"<p>I have below code which reads CSV file and puts the values into HashMap on application startup. I am new to Junit, please suggest how to test below class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Cache implements InitializingBean {\nprivate static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n@Override\npublic void afterPropertiesSet() throws Exception {\n\ntry {\n  BufferedReader reader = new BufferedReader(new FileReader(&quot;file.csv&quot;));\n  String details = null;\n  while ((details = reader.readLine()) != null) {\n    String[] values = details.split(&quot;,&quot;, 2);\n\n    String firstString = values[0];\n    String secondString = values[1];\n    map.put(firstString, secondString);\n  }\n} catch (Exception ex) {\n  ex.printStackTrace();\n}\n}\n}\n</code></pre>\n"},{"tags":["java","java-21"],"answers":[{"tags":[],"owner":{"account_id":15917148,"reputation":11,"user_id":11485383,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701260445,"creation_date":1701260445,"answer_id":77571109,"question_id":77569272,"body_markdown":"Well, I figured out the following works as expected but I have no idea why I have to pass the additional `-quiet` flag. \r\n\r\n     tasks.withType(Javadoc).configureEach {\r\n        options.addStringOption(&#39;Xdoclint:-missing&#39;, &#39;-quiet&#39;)\r\n    }\r\n\r\n","title":"How to suppress Javadoc Warnings in Gradle Build?","body":"<p>Well, I figured out the following works as expected but I have no idea why I have to pass the additional <code>-quiet</code> flag.</p>\n<pre><code> tasks.withType(Javadoc).configureEach {\n    options.addStringOption('Xdoclint:-missing', '-quiet')\n}\n</code></pre>\n"}],"owner":{"account_id":15917148,"reputation":11,"user_id":11485383,"display_name":"Manohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701260445,"creation_date":1701242930,"question_id":77569272,"body_markdown":"Context:\r\nI recently upgraded my Java project to Java 21 and accordingly updated Gradle to version 8.2. Post-update, I&#39;m consistently encountering warnings in my console regarding missing Javadocs.\r\n\r\nProblem:\r\nI&#39;m attempting to suppress these Javadoc warnings through my Gradle build script, but despite my efforts, the warnings persist. This is cluttering my build output and obscuring real issues.\r\n\r\n\r\nFirst Attempt - Suppressing Specific Warnings:\r\nI added the following to my Gradle build script to suppress warnings for missing Javadocs:\r\n```\r\ntasks.withType(Javadoc) {\r\n    options.addStringOption(&#39;Xdoclint:-missing&#39;, null)\r\n}\r\n\r\n```\r\n\r\nExpected Outcome: No warnings for missing Javadoc comments.\r\nActual Outcome: The warnings remained.(`warning: no comment`)\r\n\r\n\r\nSecond Attempt - Disabling All Javadoc Warnings:\r\nNext, I tried to disable all Javadoc-related warnings:\r\n```\r\ntasks.withType(Javadoc) {\r\n    options.addStringOption(&#39;Xdoclint:none&#39;, null)\r\n}\r\n\r\n```\r\nExpected Outcome: Complete suppression of Javadoc warnings and errors.\r\nActual Outcome: Warnings continued to appear as before.(`warning: no comment`)\r\n\r\nInvestigation:\r\nRan ./gradlew clean javadoc --info to check if the flags were being applied.\r\nDiscovered that options should be sourced from sample-project-gradle-docs/build/tmp/javadoc/javadoc.options.\r\n\r\nObservation: This file did not include my specified options.\r\nTesting Across Different JDKs:\r\nConducted tests with both OpenJDK 21.0.1 and Amazon Corretto 21.0.1.\r\nResult: No change; the issue persists across both JDK versions.\r\n\r\nQuestion:\r\nHow can I effectively pass these flags (-Xdoclint:-missing or -Xdoclint:none) to the Javadoc command in a Gradle build script for suppressing these warnings? Are there specific considerations for Gradle 8.2 or Java 21 that I might be overlooking?","title":"How to suppress Javadoc Warnings in Gradle Build?","body":"<p>Context:\nI recently upgraded my Java project to Java 21 and accordingly updated Gradle to version 8.2. Post-update, I'm consistently encountering warnings in my console regarding missing Javadocs.</p>\n<p>Problem:\nI'm attempting to suppress these Javadoc warnings through my Gradle build script, but despite my efforts, the warnings persist. This is cluttering my build output and obscuring real issues.</p>\n<p>First Attempt - Suppressing Specific Warnings:\nI added the following to my Gradle build script to suppress warnings for missing Javadocs:</p>\n<pre><code>tasks.withType(Javadoc) {\n    options.addStringOption('Xdoclint:-missing', null)\n}\n\n</code></pre>\n<p>Expected Outcome: No warnings for missing Javadoc comments.\nActual Outcome: The warnings remained.(<code>warning: no comment</code>)</p>\n<p>Second Attempt - Disabling All Javadoc Warnings:\nNext, I tried to disable all Javadoc-related warnings:</p>\n<pre><code>tasks.withType(Javadoc) {\n    options.addStringOption('Xdoclint:none', null)\n}\n\n</code></pre>\n<p>Expected Outcome: Complete suppression of Javadoc warnings and errors.\nActual Outcome: Warnings continued to appear as before.(<code>warning: no comment</code>)</p>\n<p>Investigation:\nRan ./gradlew clean javadoc --info to check if the flags were being applied.\nDiscovered that options should be sourced from sample-project-gradle-docs/build/tmp/javadoc/javadoc.options.</p>\n<p>Observation: This file did not include my specified options.\nTesting Across Different JDKs:\nConducted tests with both OpenJDK 21.0.1 and Amazon Corretto 21.0.1.\nResult: No change; the issue persists across both JDK versions.</p>\n<p>Question:\nHow can I effectively pass these flags (-Xdoclint:-missing or -Xdoclint:none) to the Javadoc command in a Gradle build script for suppressing these warnings? Are there specific considerations for Gradle 8.2 or Java 21 that I might be overlooking?</p>\n"},{"tags":["java","spring","inversion-of-control","stateless4j"],"comments":[{"owner":{"account_id":25202094,"reputation":1,"user_id":19040856,"display_name":"DC_pig"},"score":0,"creation_date":1701311153,"post_id":77571009,"comment_id":136761162,"body_markdown":"I find a the question is @Async. The annotation will go to AsyncAnnotationBeanPostProcessor, and execute the postProcessAfterInitialization method, then the method return a object with &quot;null&quot; toString().","body":"I find a the question is @Async. The annotation will go to AsyncAnnotationBeanPostProcessor, and execute the postProcessAfterInitialization method, then the method return a object with &quot;null&quot; toString()."},{"owner":{"account_id":25202094,"reputation":1,"user_id":19040856,"display_name":"DC_pig"},"score":0,"creation_date":1701311314,"post_id":77571009,"comment_id":136761177,"body_markdown":"After I del Async, it works well, I&#39;m confused about this? How can I use @Async with CTU1?","body":"After I del Async, it works well, I&#39;m confused about this? How can I use @Async with CTU1?"}],"owner":{"account_id":25202094,"reputation":1,"user_id":19040856,"display_name":"DC_pig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701259608,"creation_date":1701259608,"question_id":77571009,"body_markdown":"Dirs tree is as follow:[enter image description here](https://i.stack.imgur.com/wBul8.png)\r\n\r\nI coding a statemachine with stateless4j in CTU.java of ConditionTest module, this module is used to store types.And create a springboot demo called demo. In the fb package of demo, I coding CTU1 extends the CTU with @Component.\r\n\r\nhere are my code:\r\n\r\nCTU1.java\r\n\r\n```\r\n@Component\r\n@Async(&quot;myExecutor&quot;)\r\npublic class CTU1 extends CTU {\r\n    public CTU1() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void pubCUO() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pubRO() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nDemoApplication.java\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n@Component\r\n@Async(&quot;myExecutor&quot;)\r\n@Slf4j\r\nclass Commandline implements CommandLineRunner{\r\n\r\n    @Autowired\r\n    private CTU1 ctu1;\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n//        var context = ApplicationContextHolder.getContext();\r\n        StateMachine ctu1_sm = ctu1.getMachine();\r\n        log.info(ctu1_sm.getState().toString());\r\n    }\r\n}\r\n```\r\n\r\nThe problem is when I run the demo, I get the autowired ctu1 as null. What&#39;s the problem?\r\nlog:\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.example.demo.Commandline.run(DemoApplication.java:35) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_372]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_372]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_372]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_372]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_372]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_372]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_372]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_372]\r\n```\r\n\r\nI hope the ctu1 can be autowired as expected.","title":"Springboot integrates stateless4j: Autowire get null","body":"<p>Dirs tree is as follow:<a href=\"https://i.stack.imgur.com/wBul8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I coding a statemachine with stateless4j in CTU.java of ConditionTest module, this module is used to store types.And create a springboot demo called demo. In the fb package of demo, I coding CTU1 extends the CTU with @Component.</p>\n<p>here are my code:</p>\n<p>CTU1.java</p>\n<pre><code>@Component\n@Async(&quot;myExecutor&quot;)\npublic class CTU1 extends CTU {\n    public CTU1() {\n        super();\n    }\n\n    @Override\n    public void pubCUO() {\n\n    }\n\n    @Override\n    public void pubRO() {\n\n    }\n}\n</code></pre>\n<p>DemoApplication.java</p>\n<pre><code>\n@SpringBootApplication\n@EnableAsync\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n@Component\n@Async(&quot;myExecutor&quot;)\n@Slf4j\nclass Commandline implements CommandLineRunner{\n\n    @Autowired\n    private CTU1 ctu1;\n\n    @Override\n    public void run(String... args) throws Exception {\n//        var context = ApplicationContextHolder.getContext();\n        StateMachine ctu1_sm = ctu1.getMachine();\n        log.info(ctu1_sm.getState().toString());\n    }\n}\n</code></pre>\n<p>The problem is when I run the demo, I get the autowired ctu1 as null. What's the problem?\nlog:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.example.demo.Commandline.run(DemoApplication.java:35) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_372]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_372]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_372]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_372]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.23.jar:5.3.23]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_372]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_372]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_372]\n    at java.lang.Thread.run(Thread.java:750) ~[na:1.8.0_372]\n</code></pre>\n<p>I hope the ctu1 can be autowired as expected.</p>\n"},{"tags":["java","maven","artifactory","maven-plugin","artifacts"],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701259521,"creation_date":1641488691,"answer_id":70610822,"question_id":70609803,"body_markdown":"You can use [deploy:deploy-file](https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html) goal from [Apache Maven Deploy Plugin](https://maven.apache.org/plugins/maven-deploy-plugin/index.html)\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n  &lt;!-- other plugins ...--&gt;\r\n  &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;deploy-file&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n\r\n        &lt;phase&gt;deploy&lt;/phase&gt; &lt;!-- change this if you need another phase --&gt;\r\n\r\n        &lt;configuration&gt;\r\n          &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;&lt;!-- same groupId as the project, you can choose another one--&gt;\r\n          &lt;artifactId&gt;${project.artifactId}-script&lt;/artifactId&gt;&lt;!-- whatever you want --&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;&lt;!-- same version as the project, but you can choose another one --&gt;\r\n\r\n\r\n          &lt;file&gt;&lt;!-- path to your script --&gt;&lt;/file&gt;\r\n          &lt;pomFile&gt; &lt;!-- path to the pom file of the script --&gt;&lt;/pomFile&gt;\r\n          &lt;generatePom&gt;&lt;!-- but maybe you don&#39;t want a pom file for the script, so set this to false--&gt;&lt;/generatePom&gt;\r\n          &lt;repositoryId&gt;&lt;!-- the one configured in your settings.xml and distributionManagement  --&gt;&lt;/repositoryId&gt;\r\n          &lt;url&gt;&lt;!-- the one configured in your settings.xml and distributionManagement --&gt;&lt;/url&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```","title":"How do I deploy files to Artifactory in Maven?","body":"<p>You can use <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html\" rel=\"nofollow noreferrer\">deploy:deploy-file</a> goal from <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven Deploy Plugin</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  &lt;!-- other plugins ...--&gt;\n  &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M1&lt;/version&gt;\n\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;deploy-file&lt;/goal&gt;\n        &lt;/goals&gt;\n\n        &lt;phase&gt;deploy&lt;/phase&gt; &lt;!-- change this if you need another phase --&gt;\n\n        &lt;configuration&gt;\n          &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;&lt;!-- same groupId as the project, you can choose another one--&gt;\n          &lt;artifactId&gt;${project.artifactId}-script&lt;/artifactId&gt;&lt;!-- whatever you want --&gt;\n          &lt;version&gt;${project.version}&lt;/version&gt;&lt;!-- same version as the project, but you can choose another one --&gt;\n\n\n          &lt;file&gt;&lt;!-- path to your script --&gt;&lt;/file&gt;\n          &lt;pomFile&gt; &lt;!-- path to the pom file of the script --&gt;&lt;/pomFile&gt;\n          &lt;generatePom&gt;&lt;!-- but maybe you don't want a pom file for the script, so set this to false--&gt;&lt;/generatePom&gt;\n          &lt;repositoryId&gt;&lt;!-- the one configured in your settings.xml and distributionManagement  --&gt;&lt;/repositoryId&gt;\n          &lt;url&gt;&lt;!-- the one configured in your settings.xml and distributionManagement --&gt;&lt;/url&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70610822,"answer_count":1,"score":0,"last_activity_date":1701259521,"creation_date":1641484344,"question_id":70609803,"body_markdown":"My current pom is configured to deploy a jar to my artifactory.\r\nIn addition, there is a bash script that runs the jar and I keep it in my project as well.\r\nI would like to deploy this script as well (separately from the jar) to my artifactory under the same version.\r\n\r\nis it possible? and if so what should I add to the pom in order to do this?","title":"How do I deploy files to Artifactory in Maven?","body":"<p>My current pom is configured to deploy a jar to my artifactory.\nIn addition, there is a bash script that runs the jar and I keep it in my project as well.\nI would like to deploy this script as well (separately from the jar) to my artifactory under the same version.</p>\n<p>is it possible? and if so what should I add to the pom in order to do this?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","autowired"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1561582252,"post_id":56780484,"comment_id":100116414,"body_markdown":"Works for me (spring boot 2.1.6.RELEASE), are you sure you don&#39;t have any other important parts that could cause the error? Possibly starting a new thread manually somewhere? Or maybe hystrix commands?","body":"Works for me (spring boot 2.1.6.RELEASE), are you sure you don&#39;t have any other important parts that could cause the error? Possibly starting a new thread manually somewhere? Or maybe hystrix commands?"},{"owner":{"account_id":7392755,"reputation":637,"user_id":5625689,"display_name":"Andy Jenkins"},"score":0,"creation_date":1561582782,"post_id":56780484,"comment_id":100116604,"body_markdown":"@Shadov I am on `2.1.4.RELEASE`. I&#39;m not messing with threads and have no `hystrix` commands. I am looking around to see if there is something that may be affecting the DI but nothing jumps out.","body":"@Shadov I am on <code>2.1.4.RELEASE</code>. I&#39;m not messing with threads and have no <code>hystrix</code> commands. I am looking around to see if there is something that may be affecting the DI but nothing jumps out."},{"owner":{"account_id":7392755,"reputation":637,"user_id":5625689,"display_name":"Andy Jenkins"},"score":0,"creation_date":1561583104,"post_id":56780484,"comment_id":100116722,"body_markdown":"@Shadov I have found a security config, I will add it to my question.","body":"@Shadov I have found a security config, I will add it to my question."},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1561583823,"post_id":56780484,"comment_id":100117006,"body_markdown":"Lot of things that could potentially go wrong, hard to say without seeing everything. Comment out two annotations on SecurityConfig and see if your filter works, it will be clear if this class is at fault. And search your project for `new JwtAuthenticationFilter()` and `@Async`, make sure no one does that.","body":"Lot of things that could potentially go wrong, hard to say without seeing everything. Comment out two annotations on SecurityConfig and see if your filter works, it will be clear if this class is at fault. And search your project for <code>new JwtAuthenticationFilter()</code> and <code>@Async</code>, make sure no one does that."},{"owner":{"account_id":7392755,"reputation":637,"user_id":5625689,"display_name":"Andy Jenkins"},"score":0,"creation_date":1561584269,"post_id":56780484,"comment_id":100117149,"body_markdown":"@Shadov I know :( but definitely no `new JwtAuthenticationFilter()` anywhere. When I remove those annotations, my Authentication Filter doesn&#39;t get hit at all. Don&#39;t know if that helps?","body":"@Shadov I know :( but definitely no <code>new JwtAuthenticationFilter()</code> anywhere. When I remove those annotations, my Authentication Filter doesn&#39;t get hit at all. Don&#39;t know if that helps?"},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1561585951,"post_id":56780484,"comment_id":100117652,"body_markdown":"Go to class `RequestContextHolder`, setup a breakpoint and debug it. Focus on `resetRequestAttributes` method, and look for any usages of this class in your code. The only thing that comes to my mind is that some filter before your filter is resetting the request holder, causing your filter to fail.","body":"Go to class <code>RequestContextHolder</code>, setup a breakpoint and debug it. Focus on <code>resetRequestAttributes</code> method, and look for any usages of this class in your code. The only thing that comes to my mind is that some filter before your filter is resetting the request holder, causing your filter to fail."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1561594862,"post_id":56780484,"comment_id":100119619,"body_markdown":"is there any reason as to why you are writing a custom jwt filter instead of using the built in one? https://docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/htmlsingle/#oauth2resourceserver-sansboot","body":"is there any reason as to why you are writing a custom jwt filter instead of using the built in one? <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/htmlsingle/#oauth2resourceserver-sansboot\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.0.M3/reference/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1561618853,"post_id":56780484,"comment_id":100125271,"body_markdown":"Remove `@Component` from your filter and the `@Autowired`. Create an `@Bean`  annotated method to construct your filter AND create another `@Bean` to register a `FilterRegistrationBean` which you configure so Spring Boot will ignore this filter. Else it will be registered before the spring Security chain and before the setup of the request context needed for scoped beans.","body":"Remove <code>@Component</code> from your filter and the <code>@Autowired</code>. Create an <code>@Bean</code>  annotated method to construct your filter AND create another <code>@Bean</code> to register a <code>FilterRegistrationBean</code> which you configure so Spring Boot will ignore this filter. Else it will be registered before the spring Security chain and before the setup of the request context needed for scoped beans."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561619189,"creation_date":1561619189,"answer_id":56785720,"question_id":56780484,"body_markdown":"When Spring Boot detects a `Filter` in the `ApplicationContext` it will automatically register it in the chain of filters for the servlet container. However you don&#39;t want this to happen in this case as the filter is part of the Spring Security filter chain. \r\n\r\nTo fix do the following:\r\n\r\n1. Remove `@Component` from your filter\r\n2. Don&#39;t `@Autowire` the `JwtAuthenticationFilter`\r\n2. Create an `@Bean` method for the `JwtAuthenticationFilter`\r\n3. Create an `@Bean` method for a `FilterRegistrationBean` to disable the registration process. \r\n\r\n```\r\n\r\n@Bean\r\npublic JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n  return new JwtAuthenticationFilter();\r\n}\r\n\r\n@Bean\r\npublic FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; jwtAuthenticationFilterRegistrationBean() {\r\n  FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; frb = new JwtAuthenticationFilter(jwtAuthenticationFilter());\r\n  frb.setEnabled(false);\r\n  return frb;\r\n}\r\n```\r\n\r\nThen in your code instead of the `getFilter`  just reference the `jwtAuthenticationFilter()` method. ","title":"Unable to Autowire Component with Request Scope in Servlet Filter","body":"<p>When Spring Boot detects a <code>Filter</code> in the <code>ApplicationContext</code> it will automatically register it in the chain of filters for the servlet container. However you don't want this to happen in this case as the filter is part of the Spring Security filter chain. </p>\n\n<p>To fix do the following:</p>\n\n<ol>\n<li>Remove <code>@Component</code> from your filter</li>\n<li>Don't <code>@Autowire</code> the <code>JwtAuthenticationFilter</code></li>\n<li>Create an <code>@Bean</code> method for the <code>JwtAuthenticationFilter</code></li>\n<li>Create an <code>@Bean</code> method for a <code>FilterRegistrationBean</code> to disable the registration process. </li>\n</ol>\n\n<pre><code>\n@Bean\npublic JwtAuthenticationFilter jwtAuthenticationFilter() {\n  return new JwtAuthenticationFilter();\n}\n\n@Bean\npublic FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; jwtAuthenticationFilterRegistrationBean() {\n  FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; frb = new JwtAuthenticationFilter(jwtAuthenticationFilter());\n  frb.setEnabled(false);\n  return frb;\n}\n</code></pre>\n\n<p>Then in your code instead of the <code>getFilter</code>  just reference the <code>jwtAuthenticationFilter()</code> method. </p>\n"},{"tags":[],"owner":{"account_id":672129,"reputation":781,"user_id":506069,"accept_rate":100,"display_name":"user506069"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562347224,"creation_date":1561657780,"answer_id":56796322,"question_id":56780484,"body_markdown":"I believe the issue may be that you are attempting to inject a request-scoped bean (smaller scope) into a singleton-scoped bean (larger scope). There are a couple of reasons why this won&#39;t work:\r\n\r\n - No request scope is active when the singleton is instantiated\r\n - For the second request, the singleton would be working with the same stale bean that was injected for the first request.\r\n\r\nYou can get around this using a javax.inject.Provider to lazily inject the request-scoped bean on demand.\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\r\n    \r\n        @Autowired\r\n        public Provider&lt;UserProfile&gt; userProfileProvider;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\r\n    \r\n            ....\r\n    \r\n            userProfileProvider.get()\r\n                .username(authorizedUser.username())\r\n                .email(authorizedUser.email())\r\n                .firstName(authorizedUser.firstName())\r\n                .lastName(authorizedUser.lastName());\r\n        }\r\n    }\r\n\r\nSpring has a similar interface `org.springframework.beans.factory.ObjectFactory` you can use if you are having trouble getting Provider&#39;s dependencies set up.\r\n\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\r\n    \r\n        @Autowired\r\n        public ObjectFactory&lt;UserProfile&gt; userProfileFactory;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\r\n    \r\n            ....\r\n    \r\n            userProfileFactory.getObject()\r\n                .username(authorizedUser.username())\r\n                .email(authorizedUser.email())\r\n                .firstName(authorizedUser.firstName())\r\n                .lastName(authorizedUser.lastName());\r\n        }\r\n    }","title":"Unable to Autowire Component with Request Scope in Servlet Filter","body":"<p>I believe the issue may be that you are attempting to inject a request-scoped bean (smaller scope) into a singleton-scoped bean (larger scope). There are a couple of reasons why this won't work:</p>\n\n<ul>\n<li>No request scope is active when the singleton is instantiated</li>\n<li>For the second request, the singleton would be working with the same stale bean that was injected for the first request.</li>\n</ul>\n\n<p>You can get around this using a javax.inject.Provider to lazily inject the request-scoped bean on demand.</p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public Provider&lt;UserProfile&gt; userProfileProvider;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfileProvider.get()\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n\n<p>Spring has a similar interface <code>org.springframework.beans.factory.ObjectFactory</code> you can use if you are having trouble getting Provider's dependencies set up.</p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public ObjectFactory&lt;UserProfile&gt; userProfileFactory;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfileFactory.getObject()\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137849,"reputation":172,"user_id":1897168,"accept_rate":57,"display_name":"Rory G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701258393,"creation_date":1701258393,"answer_id":77570880,"question_id":56780484,"body_markdown":"try this\r\nUserProfile userService = (UserProfile) req.getAttribute(&quot;scopedTarget.userProfile&quot;);","title":"Unable to Autowire Component with Request Scope in Servlet Filter","body":"<p>try this\nUserProfile userService = (UserProfile) req.getAttribute(&quot;scopedTarget.userProfile&quot;);</p>\n"}],"owner":{"account_id":7392755,"reputation":637,"user_id":5625689,"display_name":"Andy Jenkins"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701258393,"creation_date":1561581206,"question_id":56780484,"body_markdown":"I have a request filter that sits in front of a controller. This filter retrieves a user profile and sets the properties on a `userProfile` Component with Request Scope and then passes on to the next filter.\r\n\r\nWhen trying to access the `userProfile` from inside the filter, the property has not been successfully autowired.\r\n\r\nI see the following exception when trying to autowire the `userProfile` from inside the filter:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.userProfile&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\nWhen trying to access the `userProfile` from inside the controller however, the property has been successfully autowired.\r\n\r\nHow can I successfully autowire the `userProfile` Component inside the filter?\r\n\r\n**Request filter:**\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\r\n    \r\n    \t@Autowired\r\n    \tpublic UserProfile userProfile;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\r\n\r\n            ....\r\n\r\n\t\t    userProfile\r\n\t\t\t\t.username(authorizedUser.username())\r\n\t\t\t\t.email(authorizedUser.email())\r\n\t\t\t\t.firstName(authorizedUser.firstName())\r\n\t\t\t\t.lastName(authorizedUser.lastName());\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UsersController {\r\n    \r\n        @Autowired\r\n        public UserProfile userProfile;\r\n\r\n        @GetMapping(\r\n            path = &quot;/current&quot;,\r\n            produces = MediaType.APPLICATION_JSON_VALUE\r\n        )\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public String currentUser() throws ResponseFormatterException {\r\n    \r\n            System.out.println(userProfile.email());\r\n        }\r\n    }\r\n\r\n**User Profile:**\r\n\r\n    @Component\r\n    @RequestScope\r\n    public class UserProfile {\r\n    \r\n        @Getter @Setter\r\n        @Accessors(fluent = true)\r\n        @JsonProperty(&quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Getter @Setter\r\n        @Accessors(fluent = true)\r\n        @JsonProperty(&quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Getter @Setter\r\n        @Accessors(fluent = true)\r\n        @JsonProperty(&quot;firstName&quot;)\r\n        private String firstName;\r\n    \r\n        @Getter @Setter\r\n        @Accessors(fluent = true)\r\n        @JsonProperty(&quot;lastName&quot;)\r\n        private String lastName;\r\n    }\r\n\r\n**Security Config:**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfigurator extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private JwtAuthenticatingFilter jwtAuthenticatingFilter;\r\n     \r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        \tauth.authenticationProvider(getAuthenticator());\r\n        }\r\n     \r\n        public void configure(WebSecurity web) throws Exception {\r\n          web\r\n            .ignoring()\r\n               .antMatchers(&quot;/actuator/**&quot;)\r\n               .antMatchers(&quot;/favicon.ico&quot;);\r\n        }\r\n        \r\n        protected void configure(HttpSecurity http) throws Exception { \r\n          http\r\n            .csrf()\r\n              .disable()\r\n            .sessionManagement()\r\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n              .and()\r\n            .authorizeRequests()\r\n              .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n              .antMatchers(&quot;/favicon.ico&quot;).permitAll()\r\n              .and()\r\n            .authorizeRequests()\r\n              .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n              .addFilterBefore(getFilter(), SessionManagementFilter.class)\r\n                .authenticationProvider(getAuthenticator())\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(new HttpAuthenticationEntryPoint());\r\n        }\r\n    \r\n        protected AbstractAuthenticator getAuthenticator() {\r\n            return new JwtAuthenticator();\r\n        }\r\n    \r\n        protected AuthenticatingFilter getFilter() {\r\n            return jwtAuthenticatingFilter;\r\n        }\r\n    }","title":"Unable to Autowire Component with Request Scope in Servlet Filter","body":"<p>I have a request filter that sits in front of a controller. This filter retrieves a user profile and sets the properties on a <code>userProfile</code> Component with Request Scope and then passes on to the next filter.</p>\n\n<p>When trying to access the <code>userProfile</code> from inside the filter, the property has not been successfully autowired.</p>\n\n<p>I see the following exception when trying to autowire the <code>userProfile</code> from inside the filter:</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.userProfile': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n</blockquote>\n\n<p>When trying to access the <code>userProfile</code> from inside the controller however, the property has been successfully autowired.</p>\n\n<p>How can I successfully autowire the <code>userProfile</code> Component inside the filter?</p>\n\n<p><strong>Request filter:</strong></p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    public UserProfile userProfile;\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain next) throws IOException, ServletException {\n\n        ....\n\n        userProfile\n            .username(authorizedUser.username())\n            .email(authorizedUser.email())\n            .firstName(authorizedUser.firstName())\n            .lastName(authorizedUser.lastName());\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@CrossOrigin\n@RestController\n@RequestMapping(\"/users\")\npublic class UsersController {\n\n    @Autowired\n    public UserProfile userProfile;\n\n    @GetMapping(\n        path = \"/current\",\n        produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    @ResponseStatus(HttpStatus.OK)\n    public String currentUser() throws ResponseFormatterException {\n\n        System.out.println(userProfile.email());\n    }\n}\n</code></pre>\n\n<p><strong>User Profile:</strong></p>\n\n<pre><code>@Component\n@RequestScope\npublic class UserProfile {\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"username\")\n    private String username;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"email\")\n    private String email;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"firstName\")\n    private String firstName;\n\n    @Getter @Setter\n    @Accessors(fluent = true)\n    @JsonProperty(\"lastName\")\n    private String lastName;\n}\n</code></pre>\n\n<p><strong>Security Config:</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfigurator extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticatingFilter jwtAuthenticatingFilter;\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(getAuthenticator());\n    }\n\n    public void configure(WebSecurity web) throws Exception {\n      web\n        .ignoring()\n           .antMatchers(\"/actuator/**\")\n           .antMatchers(\"/favicon.ico\");\n    }\n\n    protected void configure(HttpSecurity http) throws Exception { \n      http\n        .csrf()\n          .disable()\n        .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n          .and()\n        .authorizeRequests()\n          .antMatchers(\"/actuator/**\").permitAll()\n          .antMatchers(\"/favicon.ico\").permitAll()\n          .and()\n        .authorizeRequests()\n          .anyRequest()\n            .authenticated()\n            .and()\n          .addFilterBefore(getFilter(), SessionManagementFilter.class)\n            .authenticationProvider(getAuthenticator())\n            .exceptionHandling()\n            .authenticationEntryPoint(new HttpAuthenticationEntryPoint());\n    }\n\n    protected AbstractAuthenticator getAuthenticator() {\n        return new JwtAuthenticator();\n    }\n\n    protected AuthenticatingFilter getFilter() {\n        return jwtAuthenticatingFilter;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","postman","h2"],"answers":[{"tags":[],"owner":{"account_id":21862527,"reputation":11,"user_id":16153165,"display_name":"bardelorean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701257574,"creation_date":1701257574,"answer_id":77570784,"question_id":77570672,"body_markdown":"You are using `@RequestBody` in controller with String, in this case whole your input becomes just a string. Try to replace like this:\r\n\r\n    @PostMapping(path = &quot;/add&quot;)\r\n    public @ResponseBody String addNewEmployee(@RequestBody Employee employee){\r\n       employeeRepository.save(employee);\r\n       return &quot;Employee Saved!&quot;;\r\n    }\r\n\r\nGood luck!","title":"POST request saving all values to one column","body":"<p>You are using <code>@RequestBody</code> in controller with String, in this case whole your input becomes just a string. Try to replace like this:</p>\n<pre><code>@PostMapping(path = &quot;/add&quot;)\npublic @ResponseBody String addNewEmployee(@RequestBody Employee employee){\n   employeeRepository.save(employee);\n   return &quot;Employee Saved!&quot;;\n}\n</code></pre>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701257834,"creation_date":1701257834,"answer_id":77570819,"question_id":77570672,"body_markdown":"The problem in your code is when passing the request body as a method parameter. With this code:\r\n```\r\npublic @ResponseBody String addNewEmployee (@RequestBody String username, String mail)\r\n```\r\nthe whole JSON body goes as a String to the variable `username`. You should pass an object with fields `username` and `mail` instead. This can be the entity or - even better - a dedicated POJO aka as DTO. Something like this:\r\n```\r\npublic @ResponseBody String addNewEmployee (@RequestBody EmployeeDTO data) {\r\n    Employee employee = new Employee();\r\n    employee.setUsername(data.getUsername());\r\n    employee.setMail(data.getMail());\r\n    employeeRepository.save(employee);\r\n    return &quot;Employee Saved!&quot;;\r\n}\r\n```","title":"POST request saving all values to one column","body":"<p>The problem in your code is when passing the request body as a method parameter. With this code:</p>\n<pre><code>public @ResponseBody String addNewEmployee (@RequestBody String username, String mail)\n</code></pre>\n<p>the whole JSON body goes as a String to the variable <code>username</code>. You should pass an object with fields <code>username</code> and <code>mail</code> instead. This can be the entity or - even better - a dedicated POJO aka as DTO. Something like this:</p>\n<pre><code>public @ResponseBody String addNewEmployee (@RequestBody EmployeeDTO data) {\n    Employee employee = new Employee();\n    employee.setUsername(data.getUsername());\n    employee.setMail(data.getMail());\n    employeeRepository.save(employee);\n    return &quot;Employee Saved!&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25491255,"reputation":13,"user_id":19285992,"display_name":"mario miletic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77570819,"answer_count":2,"score":0,"last_activity_date":1701257834,"creation_date":1701256622,"question_id":77570672,"body_markdown":"I&#39;m using Postman to send a POST request with some values(I put two strings, one is for username and the other is for mail), but all data gets saved to first column (&quot;username&quot;).\r\nWhat am I doing wrong?[![enter image description here](https://i.stack.imgur.com/duifL.png)](https://i.stack.imgur.com/duifL.png)\r\n\r\n\r\nThis is what I&#39;ve tried.\r\n\r\n    {\r\n        &quot;username&quot;: &quot;mm46676&quot;,\r\n        &quot;mail&quot;: &quot;mm46676@gmail.com&quot;\r\n    }\r\n\r\nI expected mm46676 is going to be saved in username column and mm46676@gmail.com to be saved in mail column.\r\nI&#39;m using H2 console to see how it was saved in db.\r\n[![enter image description here](https://i.stack.imgur.com/9fr39.png)](https://i.stack.imgur.com/9fr39.png)\r\n\r\nEmployeeController.java\r\n\r\n\r\n    import com.incompatibleTypes.plancation.plancationapp.model.Employee;\r\n    import com.incompatibleTypes.plancation.plancationapp.repository.EmployeeRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @Controller\r\n    @RequestMapping(path = &quot;/employee&quot;)\r\n    public class EmployeeController {\r\n    \r\n        private final EmployeeRepository employeeRepository;\r\n    \r\n        public EmployeeController(EmployeeRepository employeeRepository) {\r\n            this.employeeRepository = employeeRepository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public @ResponseBody Iterable&lt;Employee&gt; showAllEmployees(){\r\n            return employeeRepository.findAll();\r\n        }\r\n    \r\n        @PostMapping(path = &quot;/add&quot;)\r\n        public @ResponseBody String addNewEmployee (@RequestBody String username, String mail){\r\n            Employee employee = new Employee();\r\n            employee.setUsername(username);\r\n            employee.setMail(mail);\r\n            employeeRepository.save(employee);\r\n            return &quot;Employee Saved!&quot;;\r\n        }\r\n    }\r\n\r\nEmployee model(if it can help in any way)\r\n\r\n    package com.incompatibleTypes.plancation.plancationapp.model;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Data;\r\n    \r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.UUID;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n        private UUID id;\r\n    \r\n        private Role role;\r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n        @Column(name = &quot;mail&quot;)\r\n        private String mail;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;department_id&quot;)\r\n        private Department department;\r\n    \r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;minimal_vacation_day_id&quot;) \r\n        private VacationDay minimalVacationDay;\r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;employee_bonusvacdays&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;bonus_vacation_day_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;)\r\n        )\r\n        private Set&lt;BonusVacationDay&gt; bonusVacationDays = new HashSet&lt;&gt;();\r\n        private LocalDateTime dateEmployed;\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"POST request saving all values to one column","body":"<p>I'm using Postman to send a POST request with some values(I put two strings, one is for username and the other is for mail), but all data gets saved to first column (&quot;username&quot;).\nWhat am I doing wrong?<a href=\"https://i.stack.imgur.com/duifL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/duifL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what I've tried.</p>\n<pre><code>{\n    &quot;username&quot;: &quot;mm46676&quot;,\n    &quot;mail&quot;: &quot;mm46676@gmail.com&quot;\n}\n</code></pre>\n<p>I expected mm46676 is going to be saved in username column and mm46676@gmail.com to be saved in mail column.\nI'm using H2 console to see how it was saved in db.\n<a href=\"https://i.stack.imgur.com/9fr39.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fr39.png\" alt=\"enter image description here\" /></a></p>\n<p>EmployeeController.java</p>\n<pre><code>import com.incompatibleTypes.plancation.plancationapp.model.Employee;\nimport com.incompatibleTypes.plancation.plancationapp.repository.EmployeeRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n@RequestMapping(path = &quot;/employee&quot;)\npublic class EmployeeController {\n\n    private final EmployeeRepository employeeRepository;\n\n    public EmployeeController(EmployeeRepository employeeRepository) {\n        this.employeeRepository = employeeRepository;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public @ResponseBody Iterable&lt;Employee&gt; showAllEmployees(){\n        return employeeRepository.findAll();\n    }\n\n    @PostMapping(path = &quot;/add&quot;)\n    public @ResponseBody String addNewEmployee (@RequestBody String username, String mail){\n        Employee employee = new Employee();\n        employee.setUsername(username);\n        employee.setMail(mail);\n        employeeRepository.save(employee);\n        return &quot;Employee Saved!&quot;;\n    }\n}\n</code></pre>\n<p>Employee model(if it can help in any way)</p>\n<pre><code>package com.incompatibleTypes.plancation.plancationapp.model;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\n\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.UUID;\n\n@Data\n@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    private Role role;\n    @Column(name = &quot;username&quot;)\n    private String username;\n    @Column(name = &quot;mail&quot;)\n    private String mail;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;minimal_vacation_day_id&quot;) \n    private VacationDay minimalVacationDay;\n    @ManyToMany\n    @JoinTable(\n            name = &quot;employee_bonusvacdays&quot;,\n            joinColumns = @JoinColumn(name = &quot;bonus_vacation_day_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;)\n    )\n    private Set&lt;BonusVacationDay&gt; bonusVacationDays = new HashSet&lt;&gt;();\n    private LocalDateTime dateEmployed;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27294741,"reputation":71,"user_id":20812561,"display_name":"Moeen Ahmmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701255113,"creation_date":1701254383,"answer_id":77570413,"question_id":77570199,"body_markdown":"This issue may happen because of bottleneck either on application or external service or network or limitation of resource. \r\n    \r\n- Asynchronous upload: you can use `ExecutorService` and `CompletableFuture` upload file Asynchronous without affecting main thread.\r\n- You can increase your `RestTemplate` connection timeout.\r\n\r\n```java\r\nint time = 120;\r\n// time is modify as your need\r\nRestTemplate restTemplate = new RestTemplateBuilder()\r\n                           .setConnectTimeout(Duration.ofSeconds(time))\r\n                           .setReadTimeout(Duration.ofSeconds(time))\r\n                           .build();\r\n```\r\n\r\n\r\n\r\n","title":"Resolve connection timeout exception","body":"<p>This issue may happen because of bottleneck either on application or external service or network or limitation of resource.</p>\n<ul>\n<li>Asynchronous upload: you can use <code>ExecutorService</code> and <code>CompletableFuture</code> upload file Asynchronous without affecting main thread.</li>\n<li>You can increase your <code>RestTemplate</code> connection timeout.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int time = 120;\n// time is modify as your need\nRestTemplate restTemplate = new RestTemplateBuilder()\n                           .setConnectTimeout(Duration.ofSeconds(time))\n                           .setReadTimeout(Duration.ofSeconds(time))\n                           .build();\n</code></pre>\n"}],"owner":{"account_id":29949908,"reputation":13,"user_id":22952272,"display_name":"Queen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77570413,"answer_count":1,"score":-1,"last_activity_date":1701257641,"creation_date":1701252556,"question_id":77570199,"body_markdown":"Requirement:\r\nThe API should allow multiple files to be uploaded to the repository.\r\n\r\nWhat have I done?\r\nI am iterating the files using parallelstream, encoding the content, and sending it as a requestbody in the rest template. I am sending the files one by one.\r\n\r\nIssue:\r\nIf I upload large files, like 7 MB, then it takes around 6 seconds to get a response from the external service. If I upload 4 files with a size of 7 MB, then it&#39;s taking around 30 seconds. Response timing is increasing as the number of files increases. If I increase the number of files to 6, then I am getting a connection timeout exception.\r\n\r\n\r\n1. I want to know if anything can be done from my end to get the response faster.\r\n2. How do I avoid this connection timeout exception?\r\n3. Even though I am using parallelstream, why is response timing increasing when the number of files is increasing?","title":"Resolve connection timeout exception","body":"<p>Requirement:\nThe API should allow multiple files to be uploaded to the repository.</p>\n<p>What have I done?\nI am iterating the files using parallelstream, encoding the content, and sending it as a requestbody in the rest template. I am sending the files one by one.</p>\n<p>Issue:\nIf I upload large files, like 7 MB, then it takes around 6 seconds to get a response from the external service. If I upload 4 files with a size of 7 MB, then it's taking around 30 seconds. Response timing is increasing as the number of files increases. If I increase the number of files to 6, then I am getting a connection timeout exception.</p>\n<ol>\n<li>I want to know if anything can be done from my end to get the response faster.</li>\n<li>How do I avoid this connection timeout exception?</li>\n<li>Even though I am using parallelstream, why is response timing increasing when the number of files is increasing?</li>\n</ol>\n"},{"tags":["java","mysql","hibernate","group-by","hibernate-criteria"],"comments":[{"owner":{"account_id":1723325,"reputation":2701,"user_id":1578559,"display_name":"maxhuang"},"score":0,"creation_date":1356666141,"post_id":13997675,"comment_id":19439883,"body_markdown":"Check out this link: http://stackoverflow.com/questions/6678216/hibernate-select-all-projections-group-by","body":"Check out this link: <a href=\"http://stackoverflow.com/questions/6678216/hibernate-select-all-projections-group-by\" title=\"hibernate select all projections group by\">stackoverflow.com/questions/6678216/&hellip;</a>"},{"owner":{"account_id":15991378,"reputation":1,"user_id":11540486,"display_name":"Erick Mejias Alvarez"},"score":0,"creation_date":1652381224,"post_id":13997675,"comment_id":127598824,"body_markdown":"in mysql is not permitted, click here for explanation\nhttps://es.stackoverflow.com/questions/243344/group-by-de-mysql-obliga-a-meter-todos-los-campos-del-select","body":"in mysql is not permitted, click here for explanation <a href=\"https://es.stackoverflow.com/questions/243344/group-by-de-mysql-obliga-a-meter-todos-los-campos-del-select\" title=\"group by de mysql obliga a meter todos los campos del select\">es.stackoverflow.com/questions/243344/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":268547,"reputation":9159,"user_id":557363,"display_name":"atrain"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1356274847,"creation_date":1356274847,"answer_id":14011959,"question_id":13997675,"body_markdown":"I think you&#39;re misunderstanding something.  If you `GROUP BY` in SQL, then you need to group by all selected columns.  The same applies to Hibernate - if you `groupProperty` in a `Projection`, you&#39;re telling Hibernate that that column is a group column.  If no other columns/fields are referenced, Hibernate will assume you don&#39;t want them, as they would also need to be grouped.\r\n\r\nTo take a step back: what are you trying to do?  If you have duplicate data across *all* columns in a table, you might have bad data, or be persisting data incorrectly.  At the very least, your key would be messed up.","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>I think you're misunderstanding something.  If you <code>GROUP BY</code> in SQL, then you need to group by all selected columns.  The same applies to Hibernate - if you <code>groupProperty</code> in a <code>Projection</code>, you're telling Hibernate that that column is a group column.  If no other columns/fields are referenced, Hibernate will assume you don't want them, as they would also need to be grouped.</p>\n\n<p>To take a step back: what are you trying to do?  If you have duplicate data across <em>all</em> columns in a table, you might have bad data, or be persisting data incorrectly.  At the very least, your key would be messed up.</p>\n"},{"tags":[],"owner":{"account_id":5778939,"reputation":454,"user_id":4560215,"display_name":"madhu pathy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429195421,"creation_date":1429195421,"answer_id":29678205,"question_id":13997675,"body_markdown":"In hibernate for projections, all columns required needs to be added to projection list. To get the result in entity we have to use setResultTransformer. Check below example to get group by in hibernate:\r\n\r\n     ProjectionList projectionList = Projections.projectionList();\r\n        projectionList.add(Projections.groupProperty(&quot;column1&quot;));\r\n        projectionList.add(Projections.property(&quot;column2&quot;));\r\n        projectionList.add(Projections.property(&quot;column3&quot;));\r\n        criteria.setProjection(projectionList);\r\n        criteria.setResultTransformer(Transformers.aliasToBean(Table.class));","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>In hibernate for projections, all columns required needs to be added to projection list. To get the result in entity we have to use setResultTransformer. Check below example to get group by in hibernate:</p>\n\n<pre><code> ProjectionList projectionList = Projections.projectionList();\n    projectionList.add(Projections.groupProperty(\"column1\"));\n    projectionList.add(Projections.property(\"column2\"));\n    projectionList.add(Projections.property(\"column3\"));\n    criteria.setProjection(projectionList);\n    criteria.setResultTransformer(Transformers.aliasToBean(Table.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260128,"reputation":22,"user_id":2745855,"display_name":"Dulip Chandana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429245653,"creation_date":1429245653,"answer_id":29690462,"question_id":13997675,"body_markdown":"when using hibernate projection you should add all columns which are needed in projection list. you have only used Projections.projectionList().add(Projections.groupProperty(&quot;client_name&quot;))\r\n\r\nthis . so it is clear that return only client_name.","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>when using hibernate projection you should add all columns which are needed in projection list. you have only used Projections.projectionList().add(Projections.groupProperty(\"client_name\"))</p>\n\n<p>this . so it is clear that return only client_name.</p>\n"},{"tags":[],"owner":{"account_id":12992978,"reputation":1,"user_id":9391627,"display_name":"abubakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591105457,"creation_date":1591105457,"answer_id":62153471,"question_id":13997675,"body_markdown":"It is not possible to get all columns of the database by using a group based on a single column. Instead, you can use all columns in the **group by clause** and in the **select** as well which you want. To get the result in hibernate like below\r\n\r\n        Criteria criteria = getSession(requestType).createCriteria(Tab.class);\r\n        ProjectionList projectionList = Projections.projectionList();\r\n        projectionList.add(Projections.property(&quot;client_name&quot;));\r\n        projectionList.add(Projections.property(&quot;column2&quot;));\r\n        projectionList.add(Projections.property(&quot;column3&quot;));\r\n        projectionList.add(Projections.groupProperty(&quot;client_name&quot;));\r\n        projectionList.add(Projections.groupProperty(&quot;column2&quot;));\r\n        projectionList.add(Projections.groupProperty(&quot;column3&quot;));\r\n        criteria.setProjection(projectionList);\r\n        criteria.addOrder(Order.asc(&quot;creationTime&quot;));","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>It is not possible to get all columns of the database by using a group based on a single column. Instead, you can use all columns in the <strong>group by clause</strong> and in the <strong>select</strong> as well which you want. To get the result in hibernate like below</p>\n\n<pre><code>    Criteria criteria = getSession(requestType).createCriteria(Tab.class);\n    ProjectionList projectionList = Projections.projectionList();\n    projectionList.add(Projections.property(\"client_name\"));\n    projectionList.add(Projections.property(\"column2\"));\n    projectionList.add(Projections.property(\"column3\"));\n    projectionList.add(Projections.groupProperty(\"client_name\"));\n    projectionList.add(Projections.groupProperty(\"column2\"));\n    projectionList.add(Projections.groupProperty(\"column3\"));\n    criteria.setProjection(projectionList);\n    criteria.addOrder(Order.asc(\"creationTime\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25721951,"reputation":11,"user_id":19478851,"display_name":"Ashish Makhija"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701257385,"creation_date":1701252059,"answer_id":77570145,"question_id":13997675,"body_markdown":"You can achieve this by assigning the entity class and property names after which filtering them dynamically as done below : \r\n\r\n    Criteria criteria = getSession(requestType).createCriteria(Tab.class);\r\n        \r\n        Class&lt;?&gt; entityClass = Tab.class;\r\n        String[] propertyNames = sessionFactory.getClassMetadata(entityClass).getPropertyNames();\r\n        \r\n        criteria.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;client_name&quot;)));\r\n        \r\n        //skipping client_name as already added first\r\n        for (String propertyName : propertyNames) {\r\n            if (!&quot;client_name&quot;.equals(propertyName)) {\r\n                criteria.add(Projections.groupProperty(propertyName));\r\n            }\r\n        }\r\n        \r\n        // Add order by if needed\r\n        criteria.addOrder(Order.asc(&quot;creationTime&quot;));\r\n        \r\n        List&lt;Object[]&gt; result = criteria.list();","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>You can achieve this by assigning the entity class and property names after which filtering them dynamically as done below :</p>\n<pre><code>Criteria criteria = getSession(requestType).createCriteria(Tab.class);\n    \n    Class&lt;?&gt; entityClass = Tab.class;\n    String[] propertyNames = sessionFactory.getClassMetadata(entityClass).getPropertyNames();\n    \n    criteria.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;client_name&quot;)));\n    \n    //skipping client_name as already added first\n    for (String propertyName : propertyNames) {\n        if (!&quot;client_name&quot;.equals(propertyName)) {\n            criteria.add(Projections.groupProperty(propertyName));\n        }\n    }\n    \n    // Add order by if needed\n    criteria.addOrder(Order.asc(&quot;creationTime&quot;));\n    \n    List&lt;Object[]&gt; result = criteria.list();\n</code></pre>\n"}],"owner":{"account_id":897936,"reputation":2966,"user_id":934796,"accept_rate":71,"display_name":"instanceOfObject"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9947,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1701257385,"creation_date":1356126751,"question_id":13997675,"body_markdown":"I want to write a criteria query using &quot;group by&quot; and want to return all the columns.\r\n\r\nPlane sql is like this:\r\n\r\n    select * from Tab group by client_name order by creation_time;\r\n\r\nI understand that it will have `count(distinct client_name)` number of rows.\r\n\r\nMy current query which doesn&#39;t seem to give proper result is as follows:\r\n\r\n    Criteria criteria = getSession(requestType).createCriteria(Tab.class);\r\n            criteria.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;client_name&quot;)));\r\n            criteria.addOrder(Order.asc(&quot;creationTime&quot;));\r\n\r\nThis query returns `&quot;client_name&quot;` only. I don&#39;t want to manually put all column names. There must be some way, what could be done?","title":"select &quot;all columns&quot; with &quot;group by&quot; in hibernate criteria queries","body":"<p>I want to write a criteria query using \"group by\" and want to return all the columns.</p>\n\n<p>Plane sql is like this:</p>\n\n<pre><code>select * from Tab group by client_name order by creation_time;\n</code></pre>\n\n<p>I understand that it will have <code>count(distinct client_name)</code> number of rows.</p>\n\n<p>My current query which doesn't seem to give proper result is as follows:</p>\n\n<pre><code>Criteria criteria = getSession(requestType).createCriteria(Tab.class);\n        criteria.setProjection(Projections.projectionList().add(Projections.groupProperty(\"client_name\")));\n        criteria.addOrder(Order.asc(\"creationTime\"));\n</code></pre>\n\n<p>This query returns <code>\"client_name\"</code> only. I don't want to manually put all column names. There must be some way, what could be done?</p>\n"},{"tags":["java","ftp","iostream","guava","java-io"],"comments":[{"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1296136883,"post_id":4817189,"comment_id":5341730,"body_markdown":"If you want an InputStream, why not use a ByteArrayOutputStream and a ByteArrayInputStream? Its likely to be simpler and more efficient.","body":"If you want an InputStream, why not use a ByteArrayOutputStream and a ByteArrayInputStream? Its likely to be simpler and more efficient."},{"owner":{"account_id":97884,"reputation":13378,"user_id":265289,"accept_rate":98,"display_name":"John Manak"},"score":0,"creation_date":1296137515,"post_id":4817189,"comment_id":5341881,"body_markdown":"Is that also suitable for data of the size I mentioned, i.e. tens of thousands of lines (strings), each about 100 characters long?","body":"Is that also suitable for data of the size I mentioned, i.e. tens of thousands of lines (strings), each about 100 characters long?"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1296137625,"post_id":4817189,"comment_id":5341914,"body_markdown":"It&#39;s thread safe which is important when I/O resources are used. Give it a try","body":"It&#39;s thread safe which is important when I/O resources are used. Give it a try"},{"owner":{"account_id":97884,"reputation":13378,"user_id":265289,"accept_rate":98,"display_name":"John Manak"},"score":0,"creation_date":1296137836,"post_id":4817189,"comment_id":5341960,"body_markdown":"Give a try to ByteArrayOutputStream or FileBackedOutputStream?","body":"Give a try to ByteArrayOutputStream or FileBackedOutputStream?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1296201928,"post_id":4817189,"comment_id":5353680,"body_markdown":"Peter: BAOS is slightly more efficient, but FileBackedOutputStream was designed for efficiency: [it] starts buffering to a byte array, but switches to file buffering once the data reaches a configurable size. So you get most of both: in-memory speed for small data and huge capacity.","body":"Peter: BAOS is slightly more efficient, but FileBackedOutputStream was designed for efficiency: [it] starts buffering to a byte array, but switches to file buffering once the data reaches a configurable size. So you get most of both: in-memory speed for small data and huge capacity."}],"answers":[{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1296140803,"creation_date":1296140803,"answer_id":4818030,"question_id":4817189,"body_markdown":"Yes, I think that would be an acceptable use case for `FileBackedOutputStream`. However, I think `FileBackedOutputStream` is best when you&#39;re using it with data that may vary in size considerably... for small amounts of data that can fit in memory without a problem you want to just buffer them in memory but for large amounts of data that might give you an `OutOfMemoryError` if you try to read it all in to memory, you want to switch to buffering to a file. This is where `FileBackedOutputStream` really shines I think. I&#39;ve used it for buffering uploaded files that I need to do several things with.","title":"FileBackedOutputStream use case (Guava)","body":"<p>Yes, I think that would be an acceptable use case for <code>FileBackedOutputStream</code>. However, I think <code>FileBackedOutputStream</code> is best when you're using it with data that may vary in size considerably... for small amounts of data that can fit in memory without a problem you want to just buffer them in memory but for large amounts of data that might give you an <code>OutOfMemoryError</code> if you try to read it all in to memory, you want to switch to buffering to a file. This is where <code>FileBackedOutputStream</code> really shines I think. I've used it for buffering uploaded files that I need to do several things with.</p>\n"},{"tags":[],"owner":{"account_id":215680,"reputation":189,"user_id":470459,"display_name":"Hrvoje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701257382,"creation_date":1701257382,"answer_id":77570759,"question_id":4817189,"body_markdown":"I know this is a rather old post, but just in case you are still using the above mentioned class, just be aware of this vulnerability, https://nvd.nist.gov/vuln/detail/CVE-2023-2976, where files created by using the older versions might be vulnerable to attack, namely files and/or directories may be accessible to other parties (improper authorization)","title":"FileBackedOutputStream use case (Guava)","body":"<p>I know this is a rather old post, but just in case you are still using the above mentioned class, just be aware of this vulnerability, <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2023-2976\" rel=\"nofollow noreferrer\">https://nvd.nist.gov/vuln/detail/CVE-2023-2976</a>, where files created by using the older versions might be vulnerable to attack, namely files and/or directories may be accessible to other parties (improper authorization)</p>\n"}],"owner":{"account_id":97884,"reputation":13378,"user_id":265289,"accept_rate":98,"display_name":"John Manak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4818030,"answer_count":2,"score":3,"last_activity_date":1701257382,"creation_date":1296136566,"question_id":4817189,"body_markdown":"I came across `FileBackedOutputStream` class from `Google Guava` library and was wondering if it&#39;s suitable to be used as a kind of a buffer: once every day, a process in my webapp generates tens of thousands of lines (each containing about 100characters) which are then uploaded to a file on an FTP server. I was thinking of using a `FileBackedOutputStream` object to first write all these strings to and then give access to them to my FTP client by using `FileBackedOutputStream.getSupplier().getInput()`, which returns an `InputStream`. Would this be a correct use case for `FileBackedOutputStream`?","title":"FileBackedOutputStream use case (Guava)","body":"<p>I came across <code>FileBackedOutputStream</code> class from <code>Google Guava</code> library and was wondering if it's suitable to be used as a kind of a buffer: once every day, a process in my webapp generates tens of thousands of lines (each containing about 100characters) which are then uploaded to a file on an FTP server. I was thinking of using a <code>FileBackedOutputStream</code> object to first write all these strings to and then give access to them to my FTP client by using <code>FileBackedOutputStream.getSupplier().getInput()</code>, which returns an <code>InputStream</code>. Would this be a correct use case for <code>FileBackedOutputStream</code>?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701257379,"post_id":77570739,"comment_id":136752518,"body_markdown":"Stop using entity class in your REST- API. Learn about 3tier architecture","body":"Stop using entity class in your REST- API. Learn about 3tier architecture"},{"owner":{"account_id":23331009,"reputation":11,"user_id":17407393,"display_name":"chinmay"},"score":0,"creation_date":1701257634,"post_id":77570739,"comment_id":136752561,"body_markdown":"@Jens i have just started learning about spring boot, rest and microservices, so dont have a lot of idea","body":"@Jens i have just started learning about spring boot, rest and microservices, so dont have a lot of idea"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1701258017,"post_id":77570739,"comment_id":136752650,"body_markdown":"You donot have any getter and setter on your entity object. Try to add them","body":"You donot have any getter and setter on your entity object. Try to add them"},{"owner":{"account_id":23331009,"reputation":11,"user_id":17407393,"display_name":"chinmay"},"score":0,"creation_date":1701258443,"post_id":77570739,"comment_id":136752734,"body_markdown":"@Jens thank you so much, i dont know how i missed that, i generally use the Data annotation from lombok so i thought i had added it","body":"@Jens thank you so much, i dont know how i missed that, i generally use the Data annotation from lombok so i thought i had added it"},{"owner":{"account_id":23331009,"reputation":11,"user_id":17407393,"display_name":"chinmay"},"score":0,"creation_date":1701258489,"post_id":77570739,"comment_id":136752745,"body_markdown":"should i delete my question? or let it be?","body":"should i delete my question? or let it be?"}],"owner":{"account_id":23331009,"reputation":11,"user_id":17407393,"display_name":"chinmay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701257195,"creation_date":1701257195,"question_id":77570739,"body_markdown":"i am trying to insert data into my postgre table called question. I am trying to insert the data using post method through postman but only the id value gets inserted as it is autogenerated, other values in the table are being shown as null\r\nmy main class\r\n```\r\npackage com.infosys;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class QuesMicroApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(QuesMicroApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nmy controller class\r\n\r\n```\r\npackage com.infosys.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.infosys.entity.Question;\r\nimport com.infosys.service.QuestionService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/question&quot;)\r\npublic class QuestionController {\r\n\t\r\n\t@Autowired\r\n\tprivate QuestionService qService;\r\n\t\r\n\t@PostMapping\r\n\tprivate Question create(@RequestBody Question question) {\r\n\t\treturn qService.add(question);\r\n\t}\r\n\t\r\n\t@GetMapping\r\n\tprivate List&lt;Question&gt; get() {\r\n\t\treturn qService.get();\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tprivate Question getOne(@PathVariable Long id) {\r\n\t\treturn qService.get(id);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nmy entity class\r\n\r\n```\r\npackage com.infosys.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;question_id&quot;)\r\n\tprivate Long questionId;\r\n\t@Column(name = &quot;question&quot;)\r\n\tprivate String question;\r\n\t@Column(name = &quot;quiz_id&quot;)\r\n\tprivate Long quizId;\r\n\r\n}\r\n\r\n```\r\nrepository interface\r\n\r\n```\r\npackage com.infosys.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.infosys.entity.Question;\r\n\r\npublic interface QuestionRepository extends JpaRepository&lt;Question, Long&gt;{\r\n\r\n}\r\n\r\n```\r\nservice interface\r\n\r\n```\r\npackage com.infosys.service;\r\n\r\nimport java.util.List;\r\n\r\nimport com.infosys.entity.Question;\r\n\r\npublic interface QuestionService {\r\n\tQuestion add(Question question);\r\n\tList&lt;Question&gt; get();\r\n\tQuestion get(Long id);\r\n\r\n}\r\n\r\n```\r\nservice impl class\r\n\r\n```\r\npackage com.infosys.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.infosys.entity.Question;\r\nimport com.infosys.repository.QuestionRepository;\r\n\r\n@Service\r\npublic class QuestionServiceImpl implements QuestionService{\r\n\r\n\t@Autowired\r\n\tQuestionRepository qRepository;\r\n\t\r\n\t@Override\r\n\tpublic Question add(Question question) {\r\n\t\t\r\n\t\treturn qRepository.save(question);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Question&gt; get() {\r\n\t\treturn qRepository.findAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Question get(Long id) {\r\n\t\treturn qRepository.findById(id).orElseThrow(()-&gt;new RuntimeException(&quot;Question not found&quot;));\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/micro_zt\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.jpa.generate-ddl=true\r\n\r\nserver.port = 8080\r\n\r\n```\r\ni have also added the necessary dependencies in pom.xml\r\n\r\n\r\n\r\n\r\ni have also added the necessary dependencies in pom.xml","title":"Not able to insert data into postgre using spring boot","body":"<p>i am trying to insert data into my postgre table called question. I am trying to insert the data using post method through postman but only the id value gets inserted as it is autogenerated, other values in the table are being shown as null\nmy main class</p>\n<pre><code>package com.infosys;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class QuesMicroApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QuesMicroApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>my controller class</p>\n<pre><code>package com.infosys.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.infosys.entity.Question;\nimport com.infosys.service.QuestionService;\n\n@RestController\n@RequestMapping(&quot;/question&quot;)\npublic class QuestionController {\n    \n    @Autowired\n    private QuestionService qService;\n    \n    @PostMapping\n    private Question create(@RequestBody Question question) {\n        return qService.add(question);\n    }\n    \n    @GetMapping\n    private List&lt;Question&gt; get() {\n        return qService.get();\n    }\n    \n    @GetMapping(&quot;/{id}&quot;)\n    private Question getOne(@PathVariable Long id) {\n        return qService.get(id);\n    }\n\n}\n\n</code></pre>\n<p>my entity class</p>\n<pre><code>package com.infosys.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;questions&quot;)\npublic class Question {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;question_id&quot;)\n    private Long questionId;\n    @Column(name = &quot;question&quot;)\n    private String question;\n    @Column(name = &quot;quiz_id&quot;)\n    private Long quizId;\n\n}\n\n</code></pre>\n<p>repository interface</p>\n<pre><code>package com.infosys.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.infosys.entity.Question;\n\npublic interface QuestionRepository extends JpaRepository&lt;Question, Long&gt;{\n\n}\n\n</code></pre>\n<p>service interface</p>\n<pre><code>package com.infosys.service;\n\nimport java.util.List;\n\nimport com.infosys.entity.Question;\n\npublic interface QuestionService {\n    Question add(Question question);\n    List&lt;Question&gt; get();\n    Question get(Long id);\n\n}\n\n</code></pre>\n<p>service impl class</p>\n<pre><code>package com.infosys.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.infosys.entity.Question;\nimport com.infosys.repository.QuestionRepository;\n\n@Service\npublic class QuestionServiceImpl implements QuestionService{\n\n    @Autowired\n    QuestionRepository qRepository;\n    \n    @Override\n    public Question add(Question question) {\n        \n        return qRepository.save(question);\n    }\n\n    @Override\n    public List&lt;Question&gt; get() {\n        return qRepository.findAll();\n    }\n\n    @Override\n    public Question get(Long id) {\n        return qRepository.findById(id).orElseThrow(()-&gt;new RuntimeException(&quot;Question not found&quot;));\n    }\n\n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\nspring.datasource.url=jdbc:postgresql://localhost:5432/micro_zt\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.generate-ddl=true\n\nserver.port = 8080\n\n</code></pre>\n<p>i have also added the necessary dependencies in pom.xml</p>\n<p>i have also added the necessary dependencies in pom.xml</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701197056,"post_id":77565902,"comment_id":136744664,"body_markdown":"If you did, you&#39;d be starting with the &quot;Java Edition&quot; productization included as well.","body":"If you did, you&#39;d be starting with the &quot;Java Edition&quot; productization included as well."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701197971,"post_id":77565902,"comment_id":136744824,"body_markdown":"I don&#39;t know what you mean by &quot;manually select the features or the plugins of the Java edition&quot;. Could you please give an example what you mean by that? With [Eclipse JustJ](https://eclipse.dev/justj/) you can include a Java VM as a feature in your RCP application.","body":"I don&#39;t know what you mean by &quot;manually select the features or the plugins of the Java edition&quot;. Could you please give an example what you mean by that? With <a href=\"https://eclipse.dev/justj/\" rel=\"nofollow noreferrer\">Eclipse JustJ</a> you can include a Java VM as a feature in your RCP application."},{"owner":{"account_id":355904,"reputation":541,"user_id":695107,"display_name":"Thomas"},"score":0,"creation_date":1701241403,"post_id":77565902,"comment_id":136749770,"body_markdown":"@howlger I mean the &quot;Eclipse IDE for Java Developers&quot; available here: https://www.eclipse.org/downloads/packages/release/2023-09/r/eclipse-ide-java-developers. I&#39;d like to create a product which contains all the &quot;Eclipse IDE for Java Developers&quot; features and brand it (splash screen, ...). I tried to add all the features listed in this page and I wanted to know of there is a way to just say &quot;Use the feature &#39;xxx&#39; which contains all the features of this edition&quot;. It would make it easier to configure, and make upgrade easier too (no need to check if the list of features have changed for example).","body":"@howlger I mean the &quot;Eclipse IDE for Java Developers&quot; available here: <a href=\"https://www.eclipse.org/downloads/packages/release/2023-09/r/eclipse-ide-java-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2023-09/r/&hellip;</a>. I&#39;d like to create a product which contains all the &quot;Eclipse IDE for Java Developers&quot; features and brand it (splash screen, ...). I tried to add all the features listed in this page and I wanted to know of there is a way to just say &quot;Use the feature &#39;xxx&#39; which contains all the features of this edition&quot;. It would make it easier to configure, and make upgrade easier too (no need to check if the list of features have changed for example)."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701256847,"creation_date":1701256847,"answer_id":77570704,"question_id":77565902,"body_markdown":"The [Eclipse Packaging Project][1] provides all needed to build the the *Eclipse IDE for Java Developers* and other IDE packages in the following GitHub repository (see e.g. [the product definition file of the *Eclipse IDE for Java Developers*][2]):\r\n**https://github.com/eclipse-packaging/packages**\r\n\r\nYou might also have a look at my custom Eclipse Java IDE, called [***IDEalized***][3].\r\n\r\nYou can use one of them as a starting point to build your own customized Eclipse IDE.\r\n\r\n\r\n  [1]: https://eclipse.org/epp\r\n  [2]: https://github.com/eclipse-packaging/packages/blob/master/packages/org.eclipse.epp.package.java.product/epp.product\r\n  [3]: https://github.com/howlger/IDEalized","title":"How to create a Eclipse Product based on the Eclipse Java Edition?","body":"<p>The <a href=\"https://eclipse.org/epp\" rel=\"nofollow noreferrer\">Eclipse Packaging Project</a> provides all needed to build the the <em>Eclipse IDE for Java Developers</em> and other IDE packages in the following GitHub repository (see e.g. <a href=\"https://github.com/eclipse-packaging/packages/blob/master/packages/org.eclipse.epp.package.java.product/epp.product\" rel=\"nofollow noreferrer\">the product definition file of the <em>Eclipse IDE for Java Developers</em></a>):\n<strong><a href=\"https://github.com/eclipse-packaging/packages\" rel=\"nofollow noreferrer\">https://github.com/eclipse-packaging/packages</a></strong></p>\n<p>You might also have a look at my custom Eclipse Java IDE, called <a href=\"https://github.com/howlger/IDEalized\" rel=\"nofollow noreferrer\"><em><strong>IDEalized</strong></em></a>.</p>\n<p>You can use one of them as a starting point to build your own customized Eclipse IDE.</p>\n"}],"owner":{"account_id":355904,"reputation":541,"user_id":695107,"display_name":"Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77570704,"answer_count":1,"score":-1,"last_activity_date":1701256847,"creation_date":1701192087,"question_id":77565902,"body_markdown":"I would like to create an Eclipse Product based on the [&quot;Eclipse IDE for Java Developers&quot;][1], to create a branded version (custom splash screen, icons, ...). My goal is to have the same features than this Edition, and add some customization.\r\nI was able to create my Eclipse Product, mainly with the help of [this tutorial][2], but this requires to manually select the features\r\nor the plugins of the Eclipse IDE for Java Developers. This is quite error-prone and requires to check for each Edition upgrade if the list of features has changed.\r\n\r\nIs there a way to configure the Eclipse Product project to start from the Eclipse IDE for Java Developers explicitly?\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/release/2023-09/r/eclipse-ide-java-developers\r\n  [2]: https://www.vogella.com/tutorials/EclipseProductDeployment/article.html","title":"How to create a Eclipse Product based on the Eclipse Java Edition?","body":"<p>I would like to create an Eclipse Product based on the <a href=\"https://www.eclipse.org/downloads/packages/release/2023-09/r/eclipse-ide-java-developers\" rel=\"nofollow noreferrer\">&quot;Eclipse IDE for Java Developers&quot;</a>, to create a branded version (custom splash screen, icons, ...). My goal is to have the same features than this Edition, and add some customization.\nI was able to create my Eclipse Product, mainly with the help of <a href=\"https://www.vogella.com/tutorials/EclipseProductDeployment/article.html\" rel=\"nofollow noreferrer\">this tutorial</a>, but this requires to manually select the features\nor the plugins of the Eclipse IDE for Java Developers. This is quite error-prone and requires to check for each Edition upgrade if the list of features has changed.</p>\n<p>Is there a way to configure the Eclipse Product project to start from the Eclipse IDE for Java Developers explicitly?</p>\n"},{"tags":["java","hibernate","garbage-collection","heap-memory"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700932642,"post_id":77548788,"comment_id":136713686,"body_markdown":"The one that performs better in real conditions for your application . Do performance testing and find out. No one else can tell you.","body":"The one that performs better in real conditions for your application . Do performance testing and find out. No one else can tell you."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700935000,"post_id":77548788,"comment_id":136713924,"body_markdown":"And if possible, you could try updating to a newer Java version which might have performance improvements or different GCs available.","body":"And if possible, you could try updating to a newer Java version which might have performance improvements or different GCs available."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701082286,"post_id":77548788,"comment_id":136726608,"body_markdown":"Don’t ask two entirely different questions at once. The answer to your first question is, yes, it is normal that a *concurrent* garbage collector starts long before the heap is full, as otherwise, the application had to stop and wait for the garbage collector at the next allocation attempt, which would defeat the idea of performing a concurrent garbage collection.","body":"Don’t ask two entirely different questions at once. The answer to your first question is, yes, it is normal that a <i>concurrent</i> garbage collector starts long before the heap is full, as otherwise, the application had to stop and wait for the garbage collector at the next allocation attempt, which would defeat the idea of performing a concurrent garbage collection."}],"answers":[{"tags":[],"owner":{"account_id":27259982,"reputation":36,"user_id":20782957,"display_name":"bunicu2k4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700940663,"creation_date":1700940663,"answer_id":77549332,"question_id":77548788,"body_markdown":"It is normal that your app does not use all the 24GB that you allocated, don&#39;t worry about it.\r\n\r\nThe moment when the garbage collector kicks in is also the concern of java and you should not worry about it. Actually, the best you can do is to suggest that garbage collector should start, but you [cannot force it][1].\r\n\r\nIf you want to further improve the performance then focus on your code and try to find out what can be done to make it more efficient.\r\n\r\nYou could try to upgrade to the latest version of your Hibernate provider, or even try to change it with another [JPA provider][2] that might perform better in your particular scenario.\r\n\r\nAlso an upgrade to the latest java could help with performance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1481178/how-to-force-garbage-collection-in-java\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_Persistence","title":"Java Garbage Collector - CMS vs G1","body":"<p>It is normal that your app does not use all the 24GB that you allocated, don't worry about it.</p>\n<p>The moment when the garbage collector kicks in is also the concern of java and you should not worry about it. Actually, the best you can do is to suggest that garbage collector should start, but you <a href=\"https://stackoverflow.com/questions/1481178/how-to-force-garbage-collection-in-java\">cannot force it</a>.</p>\n<p>If you want to further improve the performance then focus on your code and try to find out what can be done to make it more efficient.</p>\n<p>You could try to upgrade to the latest version of your Hibernate provider, or even try to change it with another <a href=\"https://en.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\">JPA provider</a> that might perform better in your particular scenario.</p>\n<p>Also an upgrade to the latest java could help with performance.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701256745,"creation_date":1701256745,"answer_id":77570692,"question_id":77548788,"body_markdown":"`CMS` is deprecated and [removed](https://openjdk.org/jeps/363) from the source code of jdk, there is zero support for it. Simply forget about it. `G1` is the one you want to use, but bare in mind that it is _not_ the default in jdk-8. `ParallelGC` is the default one in java-8. \r\n\r\nAs to your question, yes, that is normal. Operation systems rarely trust user programs that say : &quot;I will need that much memory to run my app&quot;, they will allocate memory to the process in a lazy fashion. There are cases where you actually want to allocate all that memory to that process though (we do that) and there is a flag for that `-XX:+AlwaysPreTouch`.\r\n\r\nWhen a _concurrent_ GC cycle starts in `G1` (concurrent meaning _while your app threads are still running_) is decided mainly by `IHOP` (`InitiatingHeapOccupancyPercent`), but that is not the only one. ","title":"Java Garbage Collector - CMS vs G1","body":"<p><code>CMS</code> is deprecated and <a href=\"https://openjdk.org/jeps/363\" rel=\"nofollow noreferrer\">removed</a> from the source code of jdk, there is zero support for it. Simply forget about it. <code>G1</code> is the one you want to use, but bare in mind that it is <em>not</em> the default in jdk-8. <code>ParallelGC</code> is the default one in java-8.</p>\n<p>As to your question, yes, that is normal. Operation systems rarely trust user programs that say : &quot;I will need that much memory to run my app&quot;, they will allocate memory to the process in a lazy fashion. There are cases where you actually want to allocate all that memory to that process though (we do that) and there is a flag for that <code>-XX:+AlwaysPreTouch</code>.</p>\n<p>When a <em>concurrent</em> GC cycle starts in <code>G1</code> (concurrent meaning <em>while your app threads are still running</em>) is decided mainly by <code>IHOP</code> (<code>InitiatingHeapOccupancyPercent</code>), but that is not the only one.</p>\n"}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701256745,"creation_date":1700931939,"question_id":77548788,"body_markdown":"I have a question about a garbage collector.\r\nI have set 24GB for my Xms and Xmx, but the problem I&#39;m facing is that I see that the full heap size is never used - the garbage collector seems to run whenever I reach 8GB of heap memory. Is it normal and I should not care much about it, or I can make it work in any other way?\r\n\r\nI&#39;m facing some performance issues when proceeding with 32000 of records in Hibernate/Spring and what improved the performance from 40 seconds to 6 seconds was changing the heap size from.... 512MB to 8GB and higher, but I would still want to improve the performance even further.\r\n\r\nI saw some articles about the CMS vs G1 collectors - which of them should I use? \r\nMy app is running Java 8, if it adds any important information.\r\n","title":"Java Garbage Collector - CMS vs G1","body":"<p>I have a question about a garbage collector.\nI have set 24GB for my Xms and Xmx, but the problem I'm facing is that I see that the full heap size is never used - the garbage collector seems to run whenever I reach 8GB of heap memory. Is it normal and I should not care much about it, or I can make it work in any other way?</p>\n<p>I'm facing some performance issues when proceeding with 32000 of records in Hibernate/Spring and what improved the performance from 40 seconds to 6 seconds was changing the heap size from.... 512MB to 8GB and higher, but I would still want to improve the performance even further.</p>\n<p>I saw some articles about the CMS vs G1 collectors - which of them should I use?\nMy app is running Java 8, if it adds any important information.</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701254220,"creation_date":1701254220,"answer_id":77570390,"question_id":77570275,"body_markdown":"Your junit test stops at the very first assertion error by default.\r\n\r\nYou might want to use `assertAll()` as its described in [Assertions][1].\r\n```java\r\n@Test\r\nvoid testSoftAssertions() {\r\n    assertAll(IntStream.range(1, 4).mapToObj(\r\n        element -&gt; () -&gt;\r\n            SoftAssertions.assertSoftly(softAssertions -&gt;\r\n                softAssertions.fail(&quot;Ka-boom! Index: &quot; + element)))\r\n    );\r\n}\r\n```\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.9.1/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html","title":"AssertJ&#39;s &quot;soft&quot; assertions assert hard on fail() invocations","body":"<p>Your junit test stops at the very first assertion error by default.</p>\n<p>You might want to use <code>assertAll()</code> as its described in <a href=\"https://junit.org/junit5/docs/5.9.1/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\">Assertions</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testSoftAssertions() {\n    assertAll(IntStream.range(1, 4).mapToObj(\n        element -&gt; () -&gt;\n            SoftAssertions.assertSoftly(softAssertions -&gt;\n                softAssertions.fail(&quot;Ka-boom! Index: &quot; + element)))\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251211,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701256715,"creation_date":1701256346,"answer_id":77570635,"question_id":77570275,"body_markdown":"`SoftAssertions.assertSoftly` fails if any of the inner assertions failed (the assertions inside the lambda). You are calling `assertSoftly` 3 times with only a single inner assertion.\r\n\r\nYour code is equivalent to:\r\n\r\n```\r\n@Test\r\nvoid testSoftAssertions() {\r\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 1&quot;));\r\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 2&quot;));\r\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 3&quot;));\r\n}\r\n```\r\n\r\nBut you want:\r\n\r\n```\r\n@Test\r\nvoid testSoftAssertions() {\r\n  SoftAssertions.assertSoftly(soft -&gt; {\r\n      soft.fail(&quot;Ka-boom! Index: 1&quot;);\r\n      soft.fail(&quot;Ka-boom! Index: 2&quot;);\r\n      soft.fail(&quot;Ka-boom! Index: 3&quot;);\r\n  });\r\n}\r\n```\r\n\r\nThus, you need to move the loop into your `assertSoftly` call:\r\n\r\n```\r\n@Test\r\nvoid testSoftAssertions() {\r\n  SoftAssertions.assertSoftly(softAssertions -&gt; {\r\n      List.of(1, 2, 3).forEach(element -&gt;\r\n          softAssertions.fail(&quot;Ka-boom! Index: &quot; + element));\r\n  });\r\n}\r\n```","title":"AssertJ&#39;s &quot;soft&quot; assertions assert hard on fail() invocations","body":"<p><code>SoftAssertions.assertSoftly</code> fails if any of the inner assertions failed (the assertions inside the lambda). You are calling <code>assertSoftly</code> 3 times with only a single inner assertion.</p>\n<p>Your code is equivalent to:</p>\n<pre><code>@Test\nvoid testSoftAssertions() {\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 1&quot;));\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 2&quot;));\n  SoftAssertions.assertSoftly(soft -&gt; soft.fail(&quot;Ka-boom! Index: 3&quot;));\n}\n</code></pre>\n<p>But you want:</p>\n<pre><code>@Test\nvoid testSoftAssertions() {\n  SoftAssertions.assertSoftly(soft -&gt; {\n      soft.fail(&quot;Ka-boom! Index: 1&quot;);\n      soft.fail(&quot;Ka-boom! Index: 2&quot;);\n      soft.fail(&quot;Ka-boom! Index: 3&quot;);\n  });\n}\n</code></pre>\n<p>Thus, you need to move the loop into your <code>assertSoftly</code> call:</p>\n<pre><code>@Test\nvoid testSoftAssertions() {\n  SoftAssertions.assertSoftly(softAssertions -&gt; {\n      List.of(1, 2, 3).forEach(element -&gt;\n          softAssertions.fail(&quot;Ka-boom! Index: &quot; + element));\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77570635,"answer_count":2,"score":0,"last_activity_date":1701256715,"creation_date":1701253269,"question_id":77570275,"body_markdown":"Here&#39;s a code:\r\n```java\r\npackage com.example;\r\n\r\nimport org.assertj.core.api.SoftAssertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\npublic class SoftAssertionsTest {\r\n    @Test\r\n    void testSoftAssertions() {\r\n        List.of(1, 2, 3).forEach(element -&gt;\r\n                SoftAssertions.assertSoftly(softAssertions -&gt;\r\n                        softAssertions.fail(&quot;Ka-boom! Index: &quot; + element)));\r\n    }\r\n}\r\n```\r\nI expected something along the lines of:\r\n```\r\nKa-boom! Index: 1\r\nKa-boom! Index: 2\r\nKa-boom! Index: 3\r\n```\r\nInstead, AssertJ quit after the very first assertion error:\r\n```\r\norg.assertj.core.error.AssertJMultipleFailuresError: \r\nMultiple Failures (1 failure)\r\n-- failure 1 --Ka-boom! Index: 1\r\nat SoftAssertionsTest.lambda$testSoftAssertions$0(SoftAssertionsTest.java:13)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat by.afinny.credit.unit.repository.SoftAssertionsTest.lambda$testSoftAssertions$1(SoftAssertionsTest.java:12)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n```\r\nWhy? Is there some way to manually trigger soft assertion errors in AssertJ?\r\n\r\nIn case you&#39;re wondering why I need that, imagine I have a list that expect to be empty, but if it&#39;s not, I want to assert on each element with dynamic fail messages (real case)","title":"AssertJ&#39;s &quot;soft&quot; assertions assert hard on fail() invocations","body":"<p>Here's a code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.assertj.core.api.SoftAssertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\npublic class SoftAssertionsTest {\n    @Test\n    void testSoftAssertions() {\n        List.of(1, 2, 3).forEach(element -&gt;\n                SoftAssertions.assertSoftly(softAssertions -&gt;\n                        softAssertions.fail(&quot;Ka-boom! Index: &quot; + element)));\n    }\n}\n</code></pre>\n<p>I expected something along the lines of:</p>\n<pre><code>Ka-boom! Index: 1\nKa-boom! Index: 2\nKa-boom! Index: 3\n</code></pre>\n<p>Instead, AssertJ quit after the very first assertion error:</p>\n<pre><code>org.assertj.core.error.AssertJMultipleFailuresError: \nMultiple Failures (1 failure)\n-- failure 1 --Ka-boom! Index: 1\nat SoftAssertionsTest.lambda$testSoftAssertions$0(SoftAssertionsTest.java:13)\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at by.afinny.credit.unit.repository.SoftAssertionsTest.lambda$testSoftAssertions$1(SoftAssertionsTest.java:12)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n</code></pre>\n<p>Why? Is there some way to manually trigger soft assertion errors in AssertJ?</p>\n<p>In case you're wondering why I need that, imagine I have a list that expect to be empty, but if it's not, I want to assert on each element with dynamic fail messages (real case)</p>\n"},{"tags":["java","swing","paintcomponent","repaint"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1701253681,"post_id":77570315,"comment_id":136751865,"body_markdown":"The delta gameloop works, but I recommend using a [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) instead. The delta game loop can be really CPU intensive.","body":"The delta gameloop works, but I recommend using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> instead. The delta game loop can be really CPU intensive."},{"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"score":0,"creation_date":1701254168,"post_id":77570315,"comment_id":136751964,"body_markdown":"I just tried using a Timer, but repaint is still not getting called","body":"I just tried using a Timer, but repaint is still not getting called"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1701254270,"post_id":77570315,"comment_id":136751981,"body_markdown":"Invoke `super.paintComponent(g)` at the top of your `paintComponent` method","body":"Invoke <code>super.paintComponent(g)</code> at the top of your <code>paintComponent</code> method"},{"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"score":0,"creation_date":1701255282,"post_id":77570315,"comment_id":136752142,"body_markdown":"Doesn&#39;t fix it either :(\nBut I will keep it in","body":"Doesn&#39;t fix it either :( But I will keep it in"},{"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"score":0,"creation_date":1701255417,"post_id":77570315,"comment_id":136752161,"body_markdown":"I added the main class to the question, maybe the error is somewhere there","body":"I added the main class to the question, maybe the error is somewhere there"},{"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"score":0,"creation_date":1701255538,"post_id":77570315,"comment_id":136752176,"body_markdown":"I changed setPreferredSize to setBounds(0,0,width,height) and not it works. But someone said some time ago, that i shouldn&#39;t use setBounds","body":"I changed setPreferredSize to setBounds(0,0,width,height) and not it works. But someone said some time ago, that i shouldn&#39;t use setBounds"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1701255567,"post_id":77570315,"comment_id":136752183,"body_markdown":"Hmm running this code by adding the panel to a JFrame then starting its thread seems to work fine for me","body":"Hmm running this code by adding the panel to a JFrame then starting its thread seems to work fine for me"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1701255645,"post_id":77570315,"comment_id":136752201,"body_markdown":"You havent replaced your code to include the timer btw ;)","body":"You havent replaced your code to include the timer btw ;)"},{"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"score":0,"creation_date":1701256557,"post_id":77570315,"comment_id":136752377,"body_markdown":"My code works fine now. I changed some things in the Main Class that were different to my other projects. I will upload the solution now. Maybe you see the problem from before.","body":"My code works fine now. I changed some things in the Main Class that were different to my other projects. I will upload the solution now. Maybe you see the problem from before."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701262023,"post_id":77570315,"comment_id":136753423,"body_markdown":"`setLayout(null);` is most often a secure sign that something is wrong... Without a `LayoutManager` you must write code to set the correct location and **size** of the component(s) (not the preferred size, which would be used by the `LayoutManager`). Since no size is set, the default is 0x0, that is, nothing is being displayed, so there is no need to call any painting method. || posted code is not a [mre], not complete, I could not test it, but try changing `setPreferredSize` to `setSize` - and then, instead of that, consider using a `LayoutManager`","body":"<code>setLayout(null);</code> is most often a secure sign that something is wrong... Without a <code>LayoutManager</code> you must write code to set the correct location and <b>size</b> of the component(s) (not the preferred size, which would be used by the <code>LayoutManager</code>). Since no size is set, the default is 0x0, that is, nothing is being displayed, so there is no need to call any painting method. || posted code is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not complete, I could not test it, but try changing <code>setPreferredSize</code> to <code>setSize</code> - and then, instead of that, consider using a <code>LayoutManager</code>"}],"answers":[{"tags":[],"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701256696,"creation_date":1701256696,"answer_id":77570686,"question_id":77570315,"body_markdown":"I changed some things in the Main method and now it works. But I didnt found the problem from before.\r\n\r\n```\r\npackage de.luiskun;\r\n\r\nimport de.luiskun.handling.PixelArtCreator;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n\r\n    public Main() {\r\n\r\n        JFrame window = new JFrame();\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n        PixelArtCreator pac = new PixelArtCreator();\r\n        window.add(pac);\r\n\r\n        window.pack();\r\n\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        pac.startTimer();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage de.luiskun.handling;\r\n\r\nimport de.luiskun.UtilityTool;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class PixelArtCreator extends JPanel {\r\n\r\n    BufferedImage imgBefore;\r\n    Thread gameThread;\r\n    Timer timer;\r\n\r\n    public static final int width = 900, height = 532;\r\n\r\n    int fps = 60;\r\n\r\n    public PixelArtCreator() {\r\n        this.setPreferredSize(new Dimension(width, height));\r\n        // this.setBounds(0,0,width,height);\r\n        this.setLayout(null);\r\n        this.setDoubleBuffered(true);\r\n        this.setFocusable(true);\r\n\r\n        imgBefore = UtilityTool.SetupImage(&quot;res/preparation/00001&quot;, 512, 512);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        if(imgBefore != null) {\r\n            g2.drawImage(imgBefore, 10, 10, 512, 512, null);\r\n        }\r\n    }\r\n\r\n    public void startTimer() {\r\n        timer = new Timer(10,new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                repaint();\r\n            }\r\n        });\r\n        timer.start();\r\n    }\r\n}\r\n```","title":"Java Swing JPanel rapaint doesn&#39;t call paintcomponent","body":"<p>I changed some things in the Main method and now it works. But I didnt found the problem from before.</p>\n<pre><code>package de.luiskun;\n\nimport de.luiskun.handling.PixelArtCreator;\n\nimport javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n        PixelArtCreator pac = new PixelArtCreator();\n        window.add(pac);\n\n        window.pack();\n\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        pac.startTimer();\n    }\n\n}\n</code></pre>\n<pre><code>package de.luiskun.handling;\n\nimport de.luiskun.UtilityTool;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class PixelArtCreator extends JPanel {\n\n    BufferedImage imgBefore;\n    Thread gameThread;\n    Timer timer;\n\n    public static final int width = 900, height = 532;\n\n    int fps = 60;\n\n    public PixelArtCreator() {\n        this.setPreferredSize(new Dimension(width, height));\n        // this.setBounds(0,0,width,height);\n        this.setLayout(null);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n\n        imgBefore = UtilityTool.SetupImage(&quot;res/preparation/00001&quot;, 512, 512);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        if(imgBefore != null) {\n            g2.drawImage(imgBefore, 10, 10, 512, 512, null);\n        }\n    }\n\n    public void startTimer() {\n        timer = new Timer(10,new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                repaint();\n            }\n        });\n        timer.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29332895,"reputation":1,"user_id":22473952,"display_name":"burprinz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701256696,"creation_date":1701253581,"question_id":77570315,"body_markdown":"I have the following code:\r\n\r\n```\r\npackage de.luiskun.handling;\r\n\r\nimport de.luiskun.UtilityTool;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class PixelArtCreator extends JPanel implements Runnable{\r\n\r\n    BufferedImage imgBefore;\r\n    Thread gameThread;\r\n\r\n    public static final int width = 900, height = 500;\r\n\r\n    int fps = 60;\r\n\r\n    public PixelArtCreator() {\r\n        this.setPreferredSize(new Dimension(width, height));\r\n        this.setDoubleBuffered(true);\r\n        this.setLayout(null);\r\n        this.setDoubleBuffered(true);\r\n        this.setFocusable(true);\r\n\r\n        imgBefore = UtilityTool.SetupImage(&quot;res/preparation/00001&quot;, 512, 512);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        System.out.println(1);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        if(imgBefore != null) {\r\n            g2.drawImage(imgBefore, 10, 10, 512, 512, null);\r\n        }\r\n    }\r\n\r\n    public void startGameThread() {\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        double drawInterval = 1000000000 / fps; // 0.0166s\r\n        double delta = 0;\r\n        double lastTime = System.nanoTime();\r\n        double currentTime;\r\n        while (gameThread != null) {\r\n            currentTime = System.nanoTime();\r\n            delta += (currentTime - lastTime) / drawInterval;\r\n            lastTime = currentTime;\r\n            if (delta &gt;= 1) {\r\n                System.out.println(2);\r\n                //update();\r\n                this.repaint();\r\n                delta--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe main class:\r\n\r\n```\r\npackage de.luiskun;\r\n\r\nimport de.luiskun.handling.PixelArtCreator;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n\r\n    public Main() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(PixelArtCreator.width+14, PixelArtCreator.height+38);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setLayout(null);\r\n        frame.setResizable(false);\r\n\r\n        PixelArtCreator s = new PixelArtCreator();\r\n        frame.add(s);\r\n        frame.setVisible(true);\r\n\r\n        s.setUpTimer();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nIn the main method I create a JFrame and thenn add the PixelArtCreator. Then i call startGameThread.\r\n\r\nThe console only prints out &#39;2&#39;, but not &#39;1&#39;. I dont know why repaint doesnt call paintcomponent.\r\n\r\nI used this code in many projects, but now it strangely doesnt work anymore.","title":"Java Swing JPanel rapaint doesn&#39;t call paintcomponent","body":"<p>I have the following code:</p>\n<pre><code>package de.luiskun.handling;\n\nimport de.luiskun.UtilityTool;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\n\npublic class PixelArtCreator extends JPanel implements Runnable{\n\n    BufferedImage imgBefore;\n    Thread gameThread;\n\n    public static final int width = 900, height = 500;\n\n    int fps = 60;\n\n    public PixelArtCreator() {\n        this.setPreferredSize(new Dimension(width, height));\n        this.setDoubleBuffered(true);\n        this.setLayout(null);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n\n        imgBefore = UtilityTool.SetupImage(&quot;res/preparation/00001&quot;, 512, 512);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        System.out.println(1);\n        Graphics2D g2 = (Graphics2D) g;\n        if(imgBefore != null) {\n            g2.drawImage(imgBefore, 10, 10, 512, 512, null);\n        }\n    }\n\n    public void startGameThread() {\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    @Override\n    public void run() {\n        double drawInterval = 1000000000 / fps; // 0.0166s\n        double delta = 0;\n        double lastTime = System.nanoTime();\n        double currentTime;\n        while (gameThread != null) {\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime) / drawInterval;\n            lastTime = currentTime;\n            if (delta &gt;= 1) {\n                System.out.println(2);\n                //update();\n                this.repaint();\n                delta--;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The main class:</p>\n<pre><code>package de.luiskun;\n\nimport de.luiskun.handling.PixelArtCreator;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(PixelArtCreator.width+14, PixelArtCreator.height+38);\n        frame.setLocationRelativeTo(null);\n        frame.setLayout(null);\n        frame.setResizable(false);\n\n        PixelArtCreator s = new PixelArtCreator();\n        frame.add(s);\n        frame.setVisible(true);\n\n        s.setUpTimer();\n    }\n\n}\n\n</code></pre>\n<p>In the main method I create a JFrame and thenn add the PixelArtCreator. Then i call startGameThread.</p>\n<p>The console only prints out '2', but not '1'. I dont know why repaint doesnt call paintcomponent.</p>\n<p>I used this code in many projects, but now it strangely doesnt work anymore.</p>\n"},{"tags":["java","apache-nifi"],"owner":{"account_id":26959270,"reputation":61,"user_id":20527175,"display_name":"Swathi DA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701256251,"creation_date":1701256029,"question_id":77570609,"body_markdown":"I used this to [download Nifi][1]\r\n\r\nI am getting the below error while setting up ``Nifi Local``.\r\n\r\nAlso, can someone give the link or steps to **``set up Nifi``** on the **Kubernetes cluster** that would be helpful.\r\n\r\ncommands used \r\n\r\n```\r\nswathida@swathida bin % ./nifi.sh start                                                             \r\n\r\nJava home: /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home\r\nNiFi home: /Users/swathida/Desktop/nifi-2.0.0-M1\r\n\r\nBootstrap Config File: /Users/swathida/Desktop/nifi-2.0.0-M1/conf/bootstrap.conf\r\n\r\n\r\nswathida@swathida bin % tail -f ../logs/nifi-app.log\r\n2023-11-29 13:19:35,083 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Successfully deleted 0 files (0 bytes) from archive\r\n2023-11-29 13:19:35,085 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Archive cleanup completed for container default; will now allow writing to this container. Bytes used = 460.43 GB, bytes free = 0 bytes, capacity = 460.43 GB\r\n2023-11-29 13:19:35,627 WARN [Timer-Driven Process Thread-1] o.a.n.d.SystemDiagnosticsFactory Unable to determine FlowFile Repository usage due to java.nio.file.FileSystemException: ./flowfile_repository: Operation not permitted\r\n2023-11-29 13:19:35,628 WARN [Timer-Driven Process Thread-1] o.a.n.d.SystemDiagnosticsFactory Unable to determine Content Repository usage for container default due to java.io.IOException: System returned total space of the partition for default is zero byte. Nifi can not create a zero sized FileSystemRepository.\r\n2023-11-29 13:19:36,671 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2023-11-29 13:19:36,672 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\r\n2023-11-29 13:19:56,675 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2023-11-29 13:19:56,677 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\r\n2023-11-29 13:20:16,680 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2023-11-29 13:20:16,681 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\r\n2023-11-29 13:20:35,091 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Successfully deleted 0 files (0 bytes) from archive\r\n2023-11-29 13:20:35,091 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Archive cleanup completed for container default; will now allow writing to this container. Bytes used = 460.43 GB, bytes free = 0 bytes, capacity = 460.43 GB\r\n2023-11-29 13:20:35,640 WARN [Timer-Driven Process Thread-4] o.a.n.d.SystemDiagnosticsFactory Unable to determine FlowFile Repository usage due to java.nio.file.FileSystemException: ./flowfile_repository: Operation not permitted\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.apache.org/dyn/closer.lua?path=/nifi/2.0.0-M1/nifi-2.0.0-M1-bin.zip","title":"Unable to determine FlowFile Repository usage due to java.nio.file.FileSystemException: error while setting up nifi","body":"<p>I used this to <a href=\"https://www.apache.org/dyn/closer.lua?path=/nifi/2.0.0-M1/nifi-2.0.0-M1-bin.zip\" rel=\"nofollow noreferrer\">download Nifi</a></p>\n<p>I am getting the below error while setting up <code>Nifi Local</code>.</p>\n<p>Also, can someone give the link or steps to <strong><code>set up Nifi</code></strong> on the <strong>Kubernetes cluster</strong> that would be helpful.</p>\n<p>commands used</p>\n<pre><code>swathida@swathida bin % ./nifi.sh start                                                             \n\nJava home: /Library/Java/JavaVirtualMachines/jdk-21.jdk/Contents/Home\nNiFi home: /Users/swathida/Desktop/nifi-2.0.0-M1\n\nBootstrap Config File: /Users/swathida/Desktop/nifi-2.0.0-M1/conf/bootstrap.conf\n\n\nswathida@swathida bin % tail -f ../logs/nifi-app.log\n2023-11-29 13:19:35,083 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Successfully deleted 0 files (0 bytes) from archive\n2023-11-29 13:19:35,085 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Archive cleanup completed for container default; will now allow writing to this container. Bytes used = 460.43 GB, bytes free = 0 bytes, capacity = 460.43 GB\n2023-11-29 13:19:35,627 WARN [Timer-Driven Process Thread-1] o.a.n.d.SystemDiagnosticsFactory Unable to determine FlowFile Repository usage due to java.nio.file.FileSystemException: ./flowfile_repository: Operation not permitted\n2023-11-29 13:19:35,628 WARN [Timer-Driven Process Thread-1] o.a.n.d.SystemDiagnosticsFactory Unable to determine Content Repository usage for container default due to java.io.IOException: System returned total space of the partition for default is zero byte. Nifi can not create a zero sized FileSystemRepository.\n2023-11-29 13:19:36,671 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2023-11-29 13:19:36,672 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\n2023-11-29 13:19:56,675 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2023-11-29 13:19:56,677 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\n2023-11-29 13:20:16,680 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2023-11-29 13:20:16,681 INFO [Checkpoint FlowFile Repository] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 0 records in 0 milliseconds\n2023-11-29 13:20:35,091 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Successfully deleted 0 files (0 bytes) from archive\n2023-11-29 13:20:35,091 INFO [Cleanup Archive for default] o.a.n.c.repository.FileSystemRepository Archive cleanup completed for container default; will now allow writing to this container. Bytes used = 460.43 GB, bytes free = 0 bytes, capacity = 460.43 GB\n2023-11-29 13:20:35,640 WARN [Timer-Driven Process Thread-4] o.a.n.d.SystemDiagnosticsFactory Unable to determine FlowFile Repository usage due to java.nio.file.FileSystemException: ./flowfile_repository: Operation not permitted\n\n</code></pre>\n"},{"tags":["java","jshell","java-10"],"answers":[{"tags":[],"owner":{"account_id":3465289,"reputation":378,"user_id":2901031,"display_name":"Dwight J. Browne"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1522084894,"creation_date":1522084800,"answer_id":49497125,"question_id":49496977,"body_markdown":"1. check if jshell is installed with your Java environment.  `ls [JAVA-INSTALLEDPATH]/bin`\r\n2. if jshell does not exist download appropriate JDK\r\n3. if jshell is present append path in your environment profile or use full path.\r\n","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<ol>\n<li>check if jshell is installed with your Java environment.  <code>ls [JAVA-INSTALLEDPATH]/bin</code></li>\n<li>if jshell does not exist download appropriate JDK</li>\n<li>if jshell is present append path in your environment profile or use full path.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522085353,"creation_date":1522085005,"answer_id":49497170,"question_id":49496977,"body_markdown":"You need to add the `bin` folder of your Java Development Kit (JDK) installation to the `PATH` environment variable. The `java` command works, because the JRE installs a copy of the `java.exe` executable in `C:\\ProgramData\\Oracle\\Java\\javapath\\` and adds it to the `PATH`.\r\n\r\nFor editing the `PATH`, see [How do I set system environment variables in Windows 10?][1] on superuser\r\n\r\n\r\n  [1]: https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>You need to add the <code>bin</code> folder of your Java Development Kit (JDK) installation to the <code>PATH</code> environment variable. The <code>java</code> command works, because the JRE installs a copy of the <code>java.exe</code> executable in <code>C:\\ProgramData\\Oracle\\Java\\javapath\\</code> and adds it to the <code>PATH</code>.</p>\n\n<p>For editing the <code>PATH</code>, see <a href=\"https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10\">How do I set system environment variables in Windows 10?</a> on superuser</p>\n"},{"tags":[],"owner":{"account_id":2493093,"reputation":26482,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522085053,"creation_date":1522085053,"answer_id":49497184,"question_id":49496977,"body_markdown":"`jshell` is a part of JDK 10 and it&#39;s located in the `%JAVA_HOME%\\bin` folder on Windows. \r\n\r\nPossible problems: \r\n\r\n1. You installed JRE 10 only (instead of JDK 10). `jshell` is NOT part of the JRE. \r\n\r\n2. `%JAVA_HOME%\\bin` is not part of the `PATH` system variable.\r\n\r\nSee also: https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p><code>jshell</code> is a part of JDK 10 and it's located in the <code>%JAVA_HOME%\\bin</code> folder on Windows. </p>\n\n<p>Possible problems: </p>\n\n<ol>\n<li><p>You installed JRE 10 only (instead of JDK 10). <code>jshell</code> is NOT part of the JRE. </p></li>\n<li><p><code>%JAVA_HOME%\\bin</code> is not part of the <code>PATH</code> system variable.</p></li>\n</ol>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation\">Environment variables for java installation</a></p>\n"},{"tags":[],"owner":{"account_id":10647346,"reputation":5549,"user_id":7839518,"display_name":"Tonnie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525724907,"creation_date":1525723637,"answer_id":50221688,"question_id":49496977,"body_markdown":"Had the same problem. I set `JAVA_HOME` and wrapped it with double quotes (`&quot;&quot;`). \r\n\r\n    JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk1.8.0_144&quot;","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>Had the same problem. I set <code>JAVA_HOME</code> and wrapped it with double quotes (<code>\"\"</code>). </p>\n\n<pre><code>JAVA_HOME=\"C:\\Program Files\\Java\\jdk1.8.0_144\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4373618,"reputation":441,"user_id":3567195,"accept_rate":89,"display_name":"user3567195"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526380365,"creation_date":1526380266,"answer_id":50347991,"question_id":49496977,"body_markdown":"What you have is a JRE. You should install JDK and set `JAVA_HOME`. Then jshell will start working properly.","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>What you have is a JRE. You should install JDK and set <code>JAVA_HOME</code>. Then jshell will start working properly.</p>\n"},{"tags":[],"owner":{"account_id":7463194,"reputation":61,"user_id":5673784,"display_name":"trupthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530515821,"creation_date":1529924172,"answer_id":51021829,"question_id":49496977,"body_markdown":"The same problem has happened to me.\r\nUninstall and Install the right JDK from Oracle website.\r\n\r\nsteps:\r\n1. Control Panel &gt; System &amp; Security &gt; System &gt; Change Setting &gt; Advance &gt; Change Environment Variable &gt; System Variable &gt; New &gt; Variable Name:&quot;Path&quot; &amp; Variable Value: &quot;C:\\Program Files\\Java\\jdk-10.0.1\\bin&quot; (address of the bin)&gt; ok\r\n\r\nYou are good to go.\r\nHere&#39;s the link to the video that helped me.\r\n\r\nhttps://www.youtube.com/watch?v=UokTaTwckDw","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>The same problem has happened to me.\nUninstall and Install the right JDK from Oracle website.</p>\n\n<p>steps:\n1. Control Panel > System &amp; Security > System > Change Setting > Advance > Change Environment Variable > System Variable > New > Variable Name:\"Path\" &amp; Variable Value: \"C:\\Program Files\\Java\\jdk-10.0.1\\bin\" (address of the bin)> ok</p>\n\n<p>You are good to go.\nHere's the link to the video that helped me.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=UokTaTwckDw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=UokTaTwckDw</a></p>\n"},{"tags":[],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540393330,"creation_date":1540393330,"answer_id":52972246,"question_id":49496977,"body_markdown":"Run you command prompt as Administrator. **window -&gt; cmd -&gt; Run as Administrator** then type jshell.","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>Run you command prompt as Administrator. <strong>window -> cmd -> Run as Administrator</strong> then type jshell.</p>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549278241,"creation_date":1549278241,"answer_id":54514772,"question_id":49496977,"body_markdown":"Remove any default path variable that is set in envirnoment variables when you install JDK apart from JAVA_HOME.Then update your JAVA_HOME to /path of JDK 9 OR Above/","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>Remove any default path variable that is set in envirnoment variables when you install JDK apart from JAVA_HOME.Then update your JAVA_HOME to /path of JDK 9 OR Above/</p>\n"},{"tags":[],"owner":{"account_id":16531035,"reputation":371,"user_id":15721897,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701256179,"creation_date":1701256179,"answer_id":77570625,"question_id":49496977,"body_markdown":"**Two things to consider here:**\r\n\r\n1. jshell is only incldued with jdk &gt;9.0 so better to install latest LTS version of jdk (not same as JRE)\r\n\r\n2. Need to have two environment variables set **JAVA_HOME** and **Path**\r\n\r\n**JAVA_HOME** should point to where jdk is installed on your machine without bin folder \r\n\r\n**Path** should point to bin folder of the installed jdk ( since jshell is present in the bin folder ) \r\n\r\nHope this helps...","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p><strong>Two things to consider here:</strong></p>\n<ol>\n<li><p>jshell is only incldued with jdk &gt;9.0 so better to install latest LTS version of jdk (not same as JRE)</p>\n</li>\n<li><p>Need to have two environment variables set <strong>JAVA_HOME</strong> and <strong>Path</strong></p>\n</li>\n</ol>\n<p><strong>JAVA_HOME</strong> should point to where jdk is installed on your machine without bin folder</p>\n<p><strong>Path</strong> should point to bin folder of the installed jdk ( since jshell is present in the bin folder )</p>\n<p>Hope this helps...</p>\n"}],"owner":{"account_id":1120990,"reputation":1117,"user_id":1109301,"accept_rate":88,"display_name":"Kannan Thangadurai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15987,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":49497125,"answer_count":9,"score":7,"last_activity_date":1701256179,"creation_date":1522084235,"question_id":49496977,"body_markdown":"I am using the &#39;`jshell` command in my machine it is not recognised. But java command is working fine. is there any environment setup for `jshell` in jdk 10\r\n\r\n    C:\\Users\\Kannan\r\n    λ jshell\r\n    &#39;jshell&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    \r\n    C:\\Users\\Kannan\r\n    λ java -version\r\n    java version &quot;10&quot; 2018-03-20\r\n    Java(TM) SE Runtime Environment 18.3 (build 10+46)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)","title":"&#39;jshell&#39; is not recognized as an internal or external command","body":"<p>I am using the '<code>jshell</code> command in my machine it is not recognised. But java command is working fine. is there any environment setup for <code>jshell</code> in jdk 10</p>\n\n<pre><code>C:\\Users\\Kannan\nλ jshell\n'jshell' is not recognized as an internal or external command,\noperable program or batch file.\n\nC:\\Users\\Kannan\nλ java -version\njava version \"10\" 2018-03-20\nJava(TM) SE Runtime Environment 18.3 (build 10+46)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701255368,"creation_date":1701255368,"answer_id":77570530,"question_id":75492940,"body_markdown":"A mixin class for every subtype is required:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;_type&quot;)\r\n@JsonSubTypes({ @Type(value = HasPropertyWithValue.class, name = &quot;hasPropertyWithValue&quot;),\r\n        @Type(value = IsEqual.class, name = &quot;equalTo&quot;)})\r\npublic class HamcrestMixIn {\r\n\r\n    public abstract static class HasPropertyWithValueMixIn&lt;T&gt; {\r\n        @JsonCreator\r\n        public HasPropertyWithValueMixIn(@JsonProperty(&quot;property&quot;) String property,\r\n                @JsonProperty(&quot;valueMatcher&quot;) Matcher&lt;T&gt; valueMatcher) {\r\n        }\r\n    }\r\n\r\n    public abstract static class IsEqualMixIn&lt;T&gt; {\r\n        @JsonCreator\r\n        public IsEqualMixIn(@JsonProperty(&quot;value&quot;) T value) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAll of those need to be registered separately in the jackson module:\r\n\r\n```\r\nmodule.setMixInAnnotation(IsEqual.class, IsEqualMixIn.class);\r\nmodule.setMixInAnnotation(HasPropertyWithValue.class, HasPropertyWithValueMixIn.class);\r\nmodule.setMixInAnnotation(Matcher.class, HamcrestMixIn.class);\r\n```","title":"How to define a mixin with multiple json creators for a type hierachy in jackson?","body":"<p>A mixin class for every subtype is required:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;_type&quot;)\n@JsonSubTypes({ @Type(value = HasPropertyWithValue.class, name = &quot;hasPropertyWithValue&quot;),\n        @Type(value = IsEqual.class, name = &quot;equalTo&quot;)})\npublic class HamcrestMixIn {\n\n    public abstract static class HasPropertyWithValueMixIn&lt;T&gt; {\n        @JsonCreator\n        public HasPropertyWithValueMixIn(@JsonProperty(&quot;property&quot;) String property,\n                @JsonProperty(&quot;valueMatcher&quot;) Matcher&lt;T&gt; valueMatcher) {\n        }\n    }\n\n    public abstract static class IsEqualMixIn&lt;T&gt; {\n        @JsonCreator\n        public IsEqualMixIn(@JsonProperty(&quot;value&quot;) T value) {\n        }\n    }\n}\n</code></pre>\n<p>All of those need to be registered separately in the jackson module:</p>\n<pre><code>module.setMixInAnnotation(IsEqual.class, IsEqualMixIn.class);\nmodule.setMixInAnnotation(HasPropertyWithValue.class, HasPropertyWithValueMixIn.class);\nmodule.setMixInAnnotation(Matcher.class, HamcrestMixIn.class);\n</code></pre>\n"}],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77570530,"answer_count":1,"score":0,"last_activity_date":1701255368,"creation_date":1676718757,"question_id":75492940,"body_markdown":"I would like to derserialize some hamcrest matchers using jackson. Therefore I have created the following mixin:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;_type&quot;)\r\n@JsonSubTypes({ @Type(value = HasPropertyWithValue.class, name = &quot;hasPropertyWithValue&quot;),\r\n        @Type(value = IsEqual.class, name = &quot;equalTo&quot;) })\r\npublic class HamcrestMixIn {\r\n\r\n    @JsonCreator\r\n    public static &lt;T&gt; HasPropertyWithValue&lt;T&gt; hasPropertyWithValue(@JsonProperty(&quot;property&quot;) String property,\r\n            @JsonProperty(&quot;valueMatcher&quot;) Matcher&lt;T&gt; valueMatcher) {\r\n        return new HasPropertyWithValue&lt;&gt;(property, valueMatcher);\r\n    }\r\n\r\n    @JsonCreator\r\n    public static &lt;T&gt; IsEqual&lt;T&gt; isEqualTo(@JsonProperty(&quot;value&quot;) T value) {\r\n        return new IsEqual&lt;&gt;(value);\r\n    }\r\n}\r\n```\r\n\r\nand registered this mixin in my spring boot app via declaring a bean with a `SimpleModule` containing this mixin only.\r\n\r\nHowever when trying to deserialize this json:\r\n\r\n```\r\n{\r\n\t&quot;_type&quot;: &quot;hasPropertyWithValue&quot;,\r\n\t&quot;property&quot;: &quot;foo&quot;,\r\n\t&quot;valueMatcher&quot;: {\r\n\t\t&quot;_type&quot;: &quot;equalTo&quot;,\r\n\t\t&quot;value&quot;: &quot;bar&quot;\r\n\t}\r\n}\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.hamcrest.beans.HasPropertyWithValue` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (BufferedInputStream); line: 3, column: 2]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1354)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1420)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:220)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\r\n\tat com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\r\n\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3714)\r\n```\r\n\r\nHow do I need to change the mix in to construct\r\n\r\n```\r\nHamcrestMixIn.hasPropertyWithValue(&quot;foo&quot;, HamcrestMixIn.isEqualTo(&quot;bar&quot;))\r\n```\r\n\r\nbased on the above json?","title":"How to define a mixin with multiple json creators for a type hierachy in jackson?","body":"<p>I would like to derserialize some hamcrest matchers using jackson. Therefore I have created the following mixin:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;_type&quot;)\n@JsonSubTypes({ @Type(value = HasPropertyWithValue.class, name = &quot;hasPropertyWithValue&quot;),\n        @Type(value = IsEqual.class, name = &quot;equalTo&quot;) })\npublic class HamcrestMixIn {\n\n    @JsonCreator\n    public static &lt;T&gt; HasPropertyWithValue&lt;T&gt; hasPropertyWithValue(@JsonProperty(&quot;property&quot;) String property,\n            @JsonProperty(&quot;valueMatcher&quot;) Matcher&lt;T&gt; valueMatcher) {\n        return new HasPropertyWithValue&lt;&gt;(property, valueMatcher);\n    }\n\n    @JsonCreator\n    public static &lt;T&gt; IsEqual&lt;T&gt; isEqualTo(@JsonProperty(&quot;value&quot;) T value) {\n        return new IsEqual&lt;&gt;(value);\n    }\n}\n</code></pre>\n<p>and registered this mixin in my spring boot app via declaring a bean with a <code>SimpleModule</code> containing this mixin only.</p>\n<p>However when trying to deserialize this json:</p>\n<pre><code>{\n    &quot;_type&quot;: &quot;hasPropertyWithValue&quot;,\n    &quot;property&quot;: &quot;foo&quot;,\n    &quot;valueMatcher&quot;: {\n        &quot;_type&quot;: &quot;equalTo&quot;,\n        &quot;value&quot;: &quot;bar&quot;\n    }\n}\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.hamcrest.beans.HasPropertyWithValue` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (BufferedInputStream); line: 3, column: 2]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1354)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1420)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:220)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\n    at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3714)\n</code></pre>\n<p>How do I need to change the mix in to construct</p>\n<pre><code>HamcrestMixIn.hasPropertyWithValue(&quot;foo&quot;, HamcrestMixIn.isEqualTo(&quot;bar&quot;))\n</code></pre>\n<p>based on the above json?</p>\n"},{"tags":["java","android","kotlin","date"],"comments":[{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701092147,"post_id":77557244,"comment_id":136728274,"body_markdown":"I&#39;m confused. Why did you think that format could possibly work? It doesn&#39;t describe your input and doesn&#39;t describe your output. You need to [A] ditch the old and broken API and use `java.time` instead, then [B] make a `DateTimeFormatter` (the non-broken equivalent of SimpleDateFormat) for the input format, and _another_ one for the output format, then it&#39;s a simple task from there.","body":"I&#39;m confused. Why did you think that format could possibly work? It doesn&#39;t describe your input and doesn&#39;t describe your output. You need to [A] ditch the old and broken API and use <code>java.time</code> instead, then [B] make a <code>DateTimeFormatter</code> (the non-broken equivalent of SimpleDateFormat) for the input format, and <i>another</i> one for the output format, then it&#39;s a simple task from there."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701255332,"creation_date":1701093003,"answer_id":77557407,"question_id":77557244,"body_markdown":"There is. As rzwitserloot already [said][1], immediately ditch the obsolete `SimplateDateFormat`. Use classes from the `java.time` package instead.\r\n\r\nThen you need to do the following:\r\n\r\n#### 1. Parse the string\r\n\r\nto a proper date and time model. I picked `OffsetDateTime` here, as your input string contains a date component, a time component and a time zone thingy (the `Z`).\r\n\r\n```java\r\nOffsetDateTime dateTime = OffsetDateTime.parse(input);\r\n```\r\n\r\nSince the *input* format is conform to the ISO 8601 standard, you don&#39;t have to specify a format; it will parse the string out-of-the-box.\r\n\r\n#### 2. Define the right output format\r\n\r\nand you can use `format` to form the desired text. This looks like it:\r\n\r\n```java\r\nString output = dateTime.format(DateTimeFormatter.ofPattern(&quot;h:mm a, d MMMM uuuu&quot;, Locale.UK));\r\n```\r\n\r\n#### Ordinal suffix\r\n\r\nBut then there is a small problem. You are using an English *ordinal suffix* (st, nd, rd, th), and there is no such formatting pattern to output such. Fortunately, you can use a `DateTimeFormatterBuilder` to have a more fine-grained control over the output. We can use `appendText(Map&lt;Long, String&gt;)` to look up a value mapped to a certain comnponent field.\r\n\r\n```java\r\nfinal DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;h:mm a, d&quot;)\r\n    .appendText(ChronoField.DAY_OF_MONTH, ordinalSuffixes)\r\n    .appendPattern(&quot; MMMM uuuu&quot;)\r\n    .toFormatter(Locale.UK);\r\n```\r\n\r\nThis will use the day of the month as a long to lookup *that* specific value in the given map. So we will need to make sure that we have a map which returns the correct values for the correct keys.\r\n\r\n```java\r\nMap&lt;Long, String&gt; ordinalSuffixes = IntStream.rangeClosed(1, 31)\r\n    .mapToObj(n -&gt; Map.entry((long) n, switch (n) {\r\n        case 1, 21, 31 -&gt; &quot;st&quot;;\r\n        case 2, 22 -&gt; &quot;nd&quot;;\r\n        case 3, 23 -&gt; &quot;rd&quot;;\r\n        default -&gt; &quot;th&quot;;\r\n    }))\r\n    .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77557244/how-to-convert-the-input-format-of-date-to-a-specific-new-format-in-android/77557407#comment136728274_77557244","title":"How to convert the input format of date to a specific new format in android","body":"<p>There is. As rzwitserloot already <a href=\"https://stackoverflow.com/questions/77557244/how-to-convert-the-input-format-of-date-to-a-specific-new-format-in-android/77557407#comment136728274_77557244\">said</a>, immediately ditch the obsolete <code>SimplateDateFormat</code>. Use classes from the <code>java.time</code> package instead.</p>\n<p>Then you need to do the following:</p>\n<h4>1. Parse the string</h4>\n<p>to a proper date and time model. I picked <code>OffsetDateTime</code> here, as your input string contains a date component, a time component and a time zone thingy (the <code>Z</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime dateTime = OffsetDateTime.parse(input);\n</code></pre>\n<p>Since the <em>input</em> format is conform to the ISO 8601 standard, you don't have to specify a format; it will parse the string out-of-the-box.</p>\n<h4>2. Define the right output format</h4>\n<p>and you can use <code>format</code> to form the desired text. This looks like it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = dateTime.format(DateTimeFormatter.ofPattern(&quot;h:mm a, d MMMM uuuu&quot;, Locale.UK));\n</code></pre>\n<h4>Ordinal suffix</h4>\n<p>But then there is a small problem. You are using an English <em>ordinal suffix</em> (st, nd, rd, th), and there is no such formatting pattern to output such. Fortunately, you can use a <code>DateTimeFormatterBuilder</code> to have a more fine-grained control over the output. We can use <code>appendText(Map&lt;Long, String&gt;)</code> to look up a value mapped to a certain comnponent field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;h:mm a, d&quot;)\n    .appendText(ChronoField.DAY_OF_MONTH, ordinalSuffixes)\n    .appendPattern(&quot; MMMM uuuu&quot;)\n    .toFormatter(Locale.UK);\n</code></pre>\n<p>This will use the day of the month as a long to lookup <em>that</em> specific value in the given map. So we will need to make sure that we have a map which returns the correct values for the correct keys.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Long, String&gt; ordinalSuffixes = IntStream.rangeClosed(1, 31)\n    .mapToObj(n -&gt; Map.entry((long) n, switch (n) {\n        case 1, 21, 31 -&gt; &quot;st&quot;;\n        case 2, 22 -&gt; &quot;nd&quot;;\n        case 3, 23 -&gt; &quot;rd&quot;;\n        default -&gt; &quot;th&quot;;\n    }))\n    .collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701105781,"creation_date":1701105781,"answer_id":77558810,"question_id":77557244,"body_markdown":"Try this way:\r\n\r\n\r\n    String inputDate = &quot;2023-11-20T17:09:08.000Z&quot;;\r\n            \r\n            Instant instant = Instant.parse(inputDate);\r\n            LocalDateTime dateTime = LocalDateTime.ofInstant(instant, java.time.ZoneId.of(&quot;UTC&quot;));\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm a, d MMMM yyyy&quot;, Locale.ENGLISH);\r\n            String outputDate = dateTime.format(formatter);\r\n    \r\n            System.out.println(outputDate);","title":"How to convert the input format of date to a specific new format in android","body":"<p>Try this way:</p>\n<pre><code>String inputDate = &quot;2023-11-20T17:09:08.000Z&quot;;\n        \n        Instant instant = Instant.parse(inputDate);\n        LocalDateTime dateTime = LocalDateTime.ofInstant(instant, java.time.ZoneId.of(&quot;UTC&quot;));\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm a, d MMMM yyyy&quot;, Locale.ENGLISH);\n        String outputDate = dateTime.format(formatter);\n\n        System.out.println(outputDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701107687,"creation_date":1701107687,"answer_id":77559005,"question_id":77557244,"body_markdown":"&gt; _&quot;... I tried to use SimpleDateFormat, But I couldn&#39;t get the appropriate format ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nString s = &quot;2023-11-20T17:09:08.000Z&quot;;\r\nSimpleDateFormat f;\r\nlong t;\r\nf = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\nt = f.parse(s).getTime();\r\ns = &quot;%tl:%&lt;tM %&lt;tp, %&lt;te %&lt;tb %&lt;tY&quot;.formatted(t);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5:09 pm, 20 Nov 2023\r\n```\r\n\r\nApplying the _[ordinal](https://en.wikipedia.org/wiki/Ordinal_numeral)_  suffix takes slightly more effort.\r\n\r\n```java\r\nString a, b, c, s = &quot;2023-11-20T17:09:08.000Z&quot;;\r\nSimpleDateFormat f;\r\nlong t;\r\nint v;\r\nf = new SimpleDateFormat(&quot;yyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\nt = f.parse(s).getTime();\r\na = &quot;%tl:%&lt;tM %&lt;tp, &quot;.formatted(t);\r\nb = &quot;%te&quot;.formatted(t);\r\nc = &quot; %tb %&lt;tY&quot;.formatted(t);\r\nb += switch (v = Integer.parseInt(b)) {\r\n    case 11, 12, 13 -&gt; &quot;th&quot;;\r\n    default -&gt; switch (v % 10) {\r\n        case 1 -&gt; &quot;st&quot;;\r\n        case 2 -&gt; &quot;nd&quot;;\r\n        case 3 -&gt; &quot;rd&quot;;\r\n        default -&gt; &quot;th&quot;;\r\n    };\r\n};\r\ns = a + b + c;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5:09 pm, 20th Nov 2023\r\n```","title":"How to convert the input format of date to a specific new format in android","body":"<blockquote>\n<p><em>&quot;... I tried to use SimpleDateFormat, But I couldn't get the appropriate format ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;2023-11-20T17:09:08.000Z&quot;;\nSimpleDateFormat f;\nlong t;\nf = new SimpleDateFormat(&quot;yyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\nt = f.parse(s).getTime();\ns = &quot;%tl:%&lt;tM %&lt;tp, %&lt;te %&lt;tb %&lt;tY&quot;.formatted(t);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5:09 pm, 20 Nov 2023\n</code></pre>\n<p>Applying the <em><a href=\"https://en.wikipedia.org/wiki/Ordinal_numeral\" rel=\"nofollow noreferrer\">ordinal</a></em>  suffix takes slightly more effort.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a, b, c, s = &quot;2023-11-20T17:09:08.000Z&quot;;\nSimpleDateFormat f;\nlong t;\nint v;\nf = new SimpleDateFormat(&quot;yyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;);\nt = f.parse(s).getTime();\na = &quot;%tl:%&lt;tM %&lt;tp, &quot;.formatted(t);\nb = &quot;%te&quot;.formatted(t);\nc = &quot; %tb %&lt;tY&quot;.formatted(t);\nb += switch (v = Integer.parseInt(b)) {\n    case 11, 12, 13 -&gt; &quot;th&quot;;\n    default -&gt; switch (v % 10) {\n        case 1 -&gt; &quot;st&quot;;\n        case 2 -&gt; &quot;nd&quot;;\n        case 3 -&gt; &quot;rd&quot;;\n        default -&gt; &quot;th&quot;;\n    };\n};\ns = a + b + c;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5:09 pm, 20th Nov 2023\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701109086,"creation_date":1701109086,"answer_id":77559107,"question_id":77557244,"body_markdown":"You should use new java.time api, it fixes lots of deficiencies from the older standard api. Since you are using android, you may worry if java.time is available. According to:\r\n\r\nhttps://developer.android.com/reference/java/time/OffsetDateTime\r\n\r\nOffsetDateTime was added in api level 26, but with desugaring enabled you can use it on every platform - read here more on that: https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\r\n\r\nBelow I include code for parsing string using java.api and legacy api. I include legacy api code more to present how much its complicated.\r\n\r\n    package org.example;\r\n    \r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.TimeZone;\r\n    \r\n    public class MyClass {\r\n        public static void main(String[] args) throws ParseException {\r\n            String input = &quot;2023-11-20T17:09:08.000Z&quot;;\r\n            //String input = &quot;2023-11-20T12:09:08.000-05:00&quot;;\r\n    \r\n            // Using Java 8 time api\r\n            String formattedString = convertTimeStringUsingJavaTime(input);\r\n            System.out.println(formattedString); //5:09 PM, 20th November 2023\r\n    \r\n            // Legacy api, not recommended\r\n            formattedString = convertTimeStringUsingLegacyApi(input);\r\n            System.out.println(formattedString); //5:09 PM, 20th November 2023\r\n        }\r\n    \r\n        private static String convertTimeStringUsingJavaTime(String input) {\r\n            OffsetDateTime odt = OffsetDateTime.parse(input);\r\n            String dayOfMonthSuffix = getDayOfMonthSuffix(odt.getDayOfMonth());\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm a, d&#39;&quot; + dayOfMonthSuffix + &quot;&#39; MMMM yyyy&quot;, Locale.ENGLISH);\r\n            return odt.format(formatter);\r\n        }\r\n    \r\n        private static String convertTimeStringUsingLegacyApi(String input) throws ParseException {\r\n            TimeZone timeZone;\r\n            SimpleDateFormat inputFormat;\r\n    \r\n            if(input.endsWith(&quot;Z&quot;)) {\r\n                inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.ENGLISH);\r\n                timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n                inputFormat.setTimeZone(timeZone);\r\n            } else {\r\n                inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\r\n                String timeZoneString = input.substring(input.length() - 6);\r\n                timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timeZoneString);\r\n            }\r\n    \r\n            Date date = inputFormat.parse(input);\r\n            SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;h:mm a, &#39;d&#39; MMMM yyyy&quot;, Locale.ENGLISH);\r\n            outputFormat.setTimeZone(timeZone);\r\n    \r\n            //get sufix for day of month\r\n            int dayOfMonth = Integer.parseInt(new SimpleDateFormat(&quot;d&quot;).format(date));\r\n            String dayOfMonthSuffix = getDayOfMonthSuffix(dayOfMonth);\r\n    \r\n            String formattedDate = outputFormat.format(date);\r\n            //insert sufix after day of month\r\n            formattedDate = formattedDate.replaceAll(&quot; d &quot;, &quot; &quot; + dayOfMonth + dayOfMonthSuffix + &quot; &quot;);\r\n            return formattedDate;\r\n        }\r\n    \r\n        private static String getDayOfMonthSuffix(final int day) {\r\n            if (day &gt;= 11 &amp;&amp; day &lt;= 13) {\r\n                return &quot;th&quot;;\r\n            }\r\n            switch (day % 10) {\r\n                case 1:  return &quot;st&quot;;\r\n                case 2:  return &quot;nd&quot;;\r\n                case 3:  return &quot;rd&quot;;\r\n                default: return &quot;th&quot;;\r\n            }\r\n        }\r\n    }","title":"How to convert the input format of date to a specific new format in android","body":"<p>You should use new java.time api, it fixes lots of deficiencies from the older standard api. Since you are using android, you may worry if java.time is available. According to:</p>\n<p><a href=\"https://developer.android.com/reference/java/time/OffsetDateTime\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/time/OffsetDateTime</a></p>\n<p>OffsetDateTime was added in api level 26, but with desugaring enabled you can use it on every platform - read here more on that: <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a></p>\n<p>Below I include code for parsing string using java.api and legacy api. I include legacy api code more to present how much its complicated.</p>\n<pre><code>package org.example;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\npublic class MyClass {\n    public static void main(String[] args) throws ParseException {\n        String input = &quot;2023-11-20T17:09:08.000Z&quot;;\n        //String input = &quot;2023-11-20T12:09:08.000-05:00&quot;;\n\n        // Using Java 8 time api\n        String formattedString = convertTimeStringUsingJavaTime(input);\n        System.out.println(formattedString); //5:09 PM, 20th November 2023\n\n        // Legacy api, not recommended\n        formattedString = convertTimeStringUsingLegacyApi(input);\n        System.out.println(formattedString); //5:09 PM, 20th November 2023\n    }\n\n    private static String convertTimeStringUsingJavaTime(String input) {\n        OffsetDateTime odt = OffsetDateTime.parse(input);\n        String dayOfMonthSuffix = getDayOfMonthSuffix(odt.getDayOfMonth());\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm a, d'&quot; + dayOfMonthSuffix + &quot;' MMMM yyyy&quot;, Locale.ENGLISH);\n        return odt.format(formatter);\n    }\n\n    private static String convertTimeStringUsingLegacyApi(String input) throws ParseException {\n        TimeZone timeZone;\n        SimpleDateFormat inputFormat;\n\n        if(input.endsWith(&quot;Z&quot;)) {\n            inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.ENGLISH);\n            timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\n            inputFormat.setTimeZone(timeZone);\n        } else {\n            inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, Locale.ENGLISH);\n            String timeZoneString = input.substring(input.length() - 6);\n            timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timeZoneString);\n        }\n\n        Date date = inputFormat.parse(input);\n        SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;h:mm a, 'd' MMMM yyyy&quot;, Locale.ENGLISH);\n        outputFormat.setTimeZone(timeZone);\n\n        //get sufix for day of month\n        int dayOfMonth = Integer.parseInt(new SimpleDateFormat(&quot;d&quot;).format(date));\n        String dayOfMonthSuffix = getDayOfMonthSuffix(dayOfMonth);\n\n        String formattedDate = outputFormat.format(date);\n        //insert sufix after day of month\n        formattedDate = formattedDate.replaceAll(&quot; d &quot;, &quot; &quot; + dayOfMonth + dayOfMonthSuffix + &quot; &quot;);\n        return formattedDate;\n    }\n\n    private static String getDayOfMonthSuffix(final int day) {\n        if (day &gt;= 11 &amp;&amp; day &lt;= 13) {\n            return &quot;th&quot;;\n        }\n        switch (day % 10) {\n            case 1:  return &quot;st&quot;;\n            case 2:  return &quot;nd&quot;;\n            case 3:  return &quot;rd&quot;;\n            default: return &quot;th&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77557407,"answer_count":4,"score":0,"last_activity_date":1701255332,"creation_date":1701091338,"question_id":77557244,"body_markdown":"**How to convert the value in the below input to the format of** `9:15 pm, 2nd May 2023`\r\n\r\n**Input**: `2023-11-20T17:09:08.000Z`\r\n\r\n----\r\n**What I tried**:  I tried to use SimpleDateFormat, But I couldn&#39;t get the appropriate format\r\n\r\n```val curFormater = SimpleDateFormat(&quot;dd-MM-yyyy&quot;)```\r\n\r\nAny other attempts result in a parse error ... Is there a proper standard way to achieve this? \r\n\r\n","title":"How to convert the input format of date to a specific new format in android","body":"<p><strong>How to convert the value in the below input to the format of</strong> <code>9:15 pm, 2nd May 2023</code></p>\n<p><strong>Input</strong>: <code>2023-11-20T17:09:08.000Z</code></p>\n<hr />\n<p><strong>What I tried</strong>:  I tried to use SimpleDateFormat, But I couldn't get the appropriate format</p>\n<p><code>val curFormater = SimpleDateFormat(&quot;dd-MM-yyyy&quot;)</code></p>\n<p>Any other attempts result in a parse error ... Is there a proper standard way to achieve this?</p>\n"},{"tags":["java","automation","ibm-pcomm","hacl"],"answers":[{"tags":[],"owner":{"account_id":8458331,"reputation":11,"user_id":6344868,"display_name":"Matej Šimonč&#237;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701255095,"creation_date":1701255095,"answer_id":77570500,"question_id":75618508,"body_markdown":"if you have Personal Communications installed on your machine, you can find under the root folder pcseclj.jar file if I recall correctly and you&#39;re good to go","title":"Where to find the Java PComm HACL library","body":"<p>if you have Personal Communications installed on your machine, you can find under the root folder pcseclj.jar file if I recall correctly and you're good to go</p>\n"}],"owner":{"account_id":27917218,"reputation":1,"user_id":21318123,"display_name":"lpepin-oney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701255095,"creation_date":1677775877,"question_id":75618508,"body_markdown":"I&#39;ve developped for my company multiple VB macro interacting with IBM Personnal Communication but I&#39;d like to switch all those macro to Java for various reasons (mostly because I really hate working with VB and it is extremely slow)\r\n\r\n\r\n\r\nWhile searching for solutions I&#39;ve found many : JACOB.dll, x3270, f3270 and HACL. I haven&#39;t been able to found a way to make the first three work for me but I haven&#39;t been able to try HACL because I didn&#39;t found it\r\n\r\nThere is nothing on repos (maven, etc...), the documentation on ibm website is either missing, not existing or incomplete on the HACL subject...\r\n\r\n\r\nDo you guys have any idea where I could find the libraries used by the OP of below link ?\r\nhttps://stackoverflow.com/questions/43893312/ibm-pcomm-automation-using-java","title":"Where to find the Java PComm HACL library","body":"<p>I've developped for my company multiple VB macro interacting with IBM Personnal Communication but I'd like to switch all those macro to Java for various reasons (mostly because I really hate working with VB and it is extremely slow)</p>\n<p>While searching for solutions I've found many : JACOB.dll, x3270, f3270 and HACL. I haven't been able to found a way to make the first three work for me but I haven't been able to try HACL because I didn't found it</p>\n<p>There is nothing on repos (maven, etc...), the documentation on ibm website is either missing, not existing or incomplete on the HACL subject...</p>\n<p>Do you guys have any idea where I could find the libraries used by the OP of below link ?\n<a href=\"https://stackoverflow.com/questions/43893312/ibm-pcomm-automation-using-java\">IBM PCOMM Automation using Java</a></p>\n"},{"tags":["java","spring","postgresql","docker","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701243728,"post_id":77568165,"comment_id":136750073,"body_markdown":"**check for oracle library file** You are using Postgresql **not** Oracle. Including the oracle drivers and expect that to work with Postgresql is wrong. The sample you link to doesn&#39;t have any JDBC driver included. Next to that it is wrong, Tomcat 8.x won&#39;t even work with Spring Boot 3.x next to that don&#39;t deploy to tomcat just run the application (tomcat is included already).","body":"<b>check for oracle library file</b> You are using Postgresql <b>not</b> Oracle. Including the oracle drivers and expect that to work with Postgresql is wrong. The sample you link to doesn&#39;t have any JDBC driver included. Next to that it is wrong, Tomcat 8.x won&#39;t even work with Spring Boot 3.x next to that don&#39;t deploy to tomcat just run the application (tomcat is included already)."},{"owner":{"account_id":16828818,"reputation":113,"user_id":12167345,"display_name":"uranium235"},"score":0,"creation_date":1701245791,"post_id":77568165,"comment_id":136750405,"body_markdown":"It was typo error I forgot to change the name. Currently I&#39;m testing only with Postgres to simply things in my test repo.  The repo uses Spring Boot 1.5.  I just updated the pom.xml file. Maybe you didn&#39;t look carefully.","body":"It was typo error I forgot to change the name. Currently I&#39;m testing only with Postgres to simply things in my test repo.  The repo uses Spring Boot 1.5.  I just updated the pom.xml file. Maybe you didn&#39;t look carefully."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701246111,"post_id":77568165,"comment_id":136750453,"body_markdown":"Trust me I did, it extended the parent 3.1 and used Tomcat 8.5 in the dockerfile. At least the gradle file did. What you also didn&#39;t tell is that you are totally not using Spring Boot when doing JDBC stuff. It will **not** load the driver automatically you need first to do `Class.forName(&lt;driver class here&gt;)`. You are making things very complicated in your sample and have more work working around and not using the frameworks you choose then when you would just use them.","body":"Trust me I did, it extended the parent 3.1 and used Tomcat 8.5 in the dockerfile. At least the gradle file did. What you also didn&#39;t tell is that you are totally not using Spring Boot when doing JDBC stuff. It will <b>not</b> load the driver automatically you need first to do <code>Class.forName(&lt;driver class here&gt;)</code>. You are making things very complicated in your sample and have more work working around and not using the frameworks you choose then when you would just use them."},{"owner":{"account_id":16828818,"reputation":113,"user_id":12167345,"display_name":"uranium235"},"score":0,"creation_date":1701246266,"post_id":77568165,"comment_id":136750486,"body_markdown":"Sorry about the confusion. I&#39;m using the ``mvn`` to build the project. Thank you for your answer.","body":"Sorry about the confusion. I&#39;m using the <code>mvn</code> to build the project. Thank you for your answer."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701253928,"post_id":77568165,"comment_id":136751920,"body_markdown":"What you also didn&#39;t tell is that you are totally not using Spring Boot when doing JDBC stuff. It will not load the driver automatically you need first to do `Class.forName(&lt;driver class here&gt;)`. You are making things very complicated in your sample and have more work working around and not using the frameworks you choose then when you would just use them. (I added that to my previous comment while you were commenting as well).","body":"What you also didn&#39;t tell is that you are totally not using Spring Boot when doing JDBC stuff. It will not load the driver automatically you need first to do <code>Class.forName(&lt;driver class here&gt;)</code>. You are making things very complicated in your sample and have more work working around and not using the frameworks you choose then when you would just use them. (I added that to my previous comment while you were commenting as well)."}],"answers":[{"tags":[],"owner":{"account_id":18989040,"reputation":9,"user_id":13858712,"display_name":"Minsu Kim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701234242,"creation_date":1701234242,"answer_id":77568694,"question_id":77568165,"body_markdown":"The current issue you&#39;re encountering may be attributed to either the absence of JDBC drivers or misconfigurations in your Spring Boot application or Tomcat Docker image. Here are a few steps you can follow to address and potentially resolve the problem:\r\n\r\n **1. Verify Dependency Management.**\r\n\r\nConfirm that the PostgreSQL JDBC driver is included in your pom.xml file as a dependency. If it&#39;s not already there, add the following lines\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;your_postgresql_version&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n **2. Check the Classpath in Spring Boot.**\r\n\r\nWhile Spring Boot should automatically load the JDBC driver into the classpath, you can explicitly specify the driver class in either the application.properties or application.yml file\r\n```\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n```\r\n**3. Verify Database Connection URL**\r\n\r\nEnsure that the database connection URL is correct. If the database is on a different server, use the appropriate hostname or IP address. Also, confirm that Tomcat can resolve &quot;localhost&quot; if that&#39;s part of the URL.\r\n\r\n**4. Docker Image Build**\r\n\r\nWhen creating the Docker image, make sure to copy the PostgreSQL JDBC driver to the correct location within the image. For instance, you can copy it to a &quot;lib&quot; folder. Modify your Dockerfile as follows:\r\n```\r\nFROM tomcat:latest\r\nCOPY target/spring-boot.war /usr/local/tomcat/webapps/\r\nCOPY target/dependency/*.jar /usr/local/tomcat/lib/\r\n```\r\n\r\nBy following these steps, you should be able to address potential issues related to JDBC drivers and configurations in your Spring Boot application and Tomcat Docker image.","title":"JDBC driver not found inside tomcat docker image","body":"<p>The current issue you're encountering may be attributed to either the absence of JDBC drivers or misconfigurations in your Spring Boot application or Tomcat Docker image. Here are a few steps you can follow to address and potentially resolve the problem:</p>\n<p><strong>1. Verify Dependency Management.</strong></p>\n<p>Confirm that the PostgreSQL JDBC driver is included in your pom.xml file as a dependency. If it's not already there, add the following lines</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;your_postgresql_version&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>2. Check the Classpath in Spring Boot.</strong></p>\n<p>While Spring Boot should automatically load the JDBC driver into the classpath, you can explicitly specify the driver class in either the application.properties or application.yml file</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p><strong>3. Verify Database Connection URL</strong></p>\n<p>Ensure that the database connection URL is correct. If the database is on a different server, use the appropriate hostname or IP address. Also, confirm that Tomcat can resolve &quot;localhost&quot; if that's part of the URL.</p>\n<p><strong>4. Docker Image Build</strong></p>\n<p>When creating the Docker image, make sure to copy the PostgreSQL JDBC driver to the correct location within the image. For instance, you can copy it to a &quot;lib&quot; folder. Modify your Dockerfile as follows:</p>\n<pre><code>FROM tomcat:latest\nCOPY target/spring-boot.war /usr/local/tomcat/webapps/\nCOPY target/dependency/*.jar /usr/local/tomcat/lib/\n</code></pre>\n<p>By following these steps, you should be able to address potential issues related to JDBC drivers and configurations in your Spring Boot application and Tomcat Docker image.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701254747,"creation_date":1701254747,"answer_id":77570459,"question_id":77568165,"body_markdown":"The problem is that you are trying very hard to work around all the things that Spring Boot offers. \r\n\r\n1. You don&#39;t use the auto-configured `DataSource` but try to do things yourself. \r\n2. You aren&#39;t using the embedded Tomcat but instead try to deploy the application. \r\n\r\nUse the frameworks and tools you have to there advantage instead of working around things. \r\n\r\nUse the Spring Boot `DataSource`\r\n===\r\n\r\nIn your `application.properties` (should be in `src/main/resources`) add the following\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres?currentSchema=volga&amp;stringtype=unspecified\r\nspring.datasource.username=ni\r\nspring.datasource.password=ni\r\n```\r\n\r\nNext modify your `HelloController` to use a `DataSource` or even better a `JdbcTemplate`. \r\n\r\n```java\r\n@RestController\r\npublic class HelloController {\r\n\r\n  private final JdbcTemplate jdbc;\r\n\r\n  public HelloController(JdbcTemplate jdbc) {\r\n    this.jdbc=jdbc;\r\n  }\r\n\r\n  @GetMapping(&quot;/&quot;)\r\n  public String index() {\r\n  \r\n    try {\r\n      String hello = jdbc.queryForObject(&quot;select &#39;hello&#39;&quot;, String.class);\r\n      return &quot;UP&quot;;\r\n\t} catch (DataAccessException dae) {\r\n\t  return &quot;DOWN&quot;;\r\n\t}\r\n  }\r\n}\r\n```\r\n\r\nNow you are properly using the Spring Boot configured `DataSource` and Spring Boot will load the correct driver (if it is on the classpath).\r\n\r\nThe application will probably fail to start as I doubt that in the container you are building for this application there is a PostgreSQL database available. \r\n\r\nUse embedded tomcat\r\n===\r\nSpring Boot already provides Tomcat as the default provider and should be used to run it. Change your applicatation to a `jar` and not a `war`. And modify your `Dockerfile` to launch the application instead of using Tomcat and deploy the application. \r\n\r\n```dockerfile\r\nFROM eclipse-temurin:8-jre-alpine\r\nADD target/*.jar /app.jar\r\n\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nThis will just launch the application you have created and utilize the embedded tomcat instance. \r\n\r\n**NOTE:** This is not the best Dockerfile for a Spring Boot application, you want to use more layers so you can enable reuse. See the [Spring Boot Docker Guide][1]. \r\n\r\n[1]: https://spring.io/guides/topicals/spring-boot-docker/","title":"JDBC driver not found inside tomcat docker image","body":"<p>The problem is that you are trying very hard to work around all the things that Spring Boot offers.</p>\n<ol>\n<li>You don't use the auto-configured <code>DataSource</code> but try to do things yourself.</li>\n<li>You aren't using the embedded Tomcat but instead try to deploy the application.</li>\n</ol>\n<p>Use the frameworks and tools you have to there advantage instead of working around things.</p>\n<h1>Use the Spring Boot <code>DataSource</code></h1>\n<p>In your <code>application.properties</code> (should be in <code>src/main/resources</code>) add the following</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres?currentSchema=volga&amp;stringtype=unspecified\nspring.datasource.username=ni\nspring.datasource.password=ni\n</code></pre>\n<p>Next modify your <code>HelloController</code> to use a <code>DataSource</code> or even better a <code>JdbcTemplate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class HelloController {\n\n  private final JdbcTemplate jdbc;\n\n  public HelloController(JdbcTemplate jdbc) {\n    this.jdbc=jdbc;\n  }\n\n  @GetMapping(&quot;/&quot;)\n  public String index() {\n  \n    try {\n      String hello = jdbc.queryForObject(&quot;select 'hello'&quot;, String.class);\n      return &quot;UP&quot;;\n    } catch (DataAccessException dae) {\n      return &quot;DOWN&quot;;\n    }\n  }\n}\n</code></pre>\n<p>Now you are properly using the Spring Boot configured <code>DataSource</code> and Spring Boot will load the correct driver (if it is on the classpath).</p>\n<p>The application will probably fail to start as I doubt that in the container you are building for this application there is a PostgreSQL database available.</p>\n<h1>Use embedded tomcat</h1>\n<p>Spring Boot already provides Tomcat as the default provider and should be used to run it. Change your applicatation to a <code>jar</code> and not a <code>war</code>. And modify your <code>Dockerfile</code> to launch the application instead of using Tomcat and deploy the application.</p>\n<pre><code>FROM eclipse-temurin:8-jre-alpine\nADD target/*.jar /app.jar\n\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>This will just launch the application you have created and utilize the embedded tomcat instance.</p>\n<p><strong>NOTE:</strong> This is not the best Dockerfile for a Spring Boot application, you want to use more layers so you can enable reuse. See the <a href=\"https://spring.io/guides/topicals/spring-boot-docker/\" rel=\"nofollow noreferrer\">Spring Boot Docker Guide</a>.</p>\n"}],"owner":{"account_id":16828818,"reputation":113,"user_id":12167345,"display_name":"uranium235"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701254747,"creation_date":1701223305,"question_id":77568165,"body_markdown":"I have a spring framework web application and I&#39;m trying to deploy it into production using tomcat with docker image. \r\n\r\nI searched about this error and found out there are two possible errors. The first one is incorrect database url format and I check mine and it&#39;s correct. The database url is like this \r\n```\r\njdbc:postgresql://localhost:5432/postgres?currentSchema=volga&amp;stringtype=unspecified\r\n```\r\nThe second possible problem is the Postgres db library file is not included in war file. So I run bash command inside the running tomcat container and check for Postgres library file and it exists in the war file. I also tried to copy the Postgres library into tomcat lib folder and it&#39;s not working.\r\n\r\nI create a repo with minimum code to reproduce the error.\r\n[https://github.com/ap30422/spring-boot.git][1]\r\n\r\nPlease clone the repo and change directory to ``compete`` directory.\r\nRun ``mvn clean install package`` to build the app.\r\nThen run ``Docker build .`` to build the image.\r\nRun Docker image with ``docker run #insert_image_id. -p 8080:8080``\r\n\r\nIf you check http://localhost:8080, you will see the ``Down`` text and the error log in the docker container log.\r\n\r\n\r\n  [1]: https://github.com/ap30422/spring-boot.git","title":"JDBC driver not found inside tomcat docker image","body":"<p>I have a spring framework web application and I'm trying to deploy it into production using tomcat with docker image.</p>\n<p>I searched about this error and found out there are two possible errors. The first one is incorrect database url format and I check mine and it's correct. The database url is like this</p>\n<pre><code>jdbc:postgresql://localhost:5432/postgres?currentSchema=volga&amp;stringtype=unspecified\n</code></pre>\n<p>The second possible problem is the Postgres db library file is not included in war file. So I run bash command inside the running tomcat container and check for Postgres library file and it exists in the war file. I also tried to copy the Postgres library into tomcat lib folder and it's not working.</p>\n<p>I create a repo with minimum code to reproduce the error.\n<a href=\"https://github.com/ap30422/spring-boot.git\" rel=\"nofollow noreferrer\">https://github.com/ap30422/spring-boot.git</a></p>\n<p>Please clone the repo and change directory to <code>compete</code> directory.\nRun <code>mvn clean install package</code> to build the app.\nThen run <code>Docker build .</code> to build the image.\nRun Docker image with <code>docker run #insert_image_id. -p 8080:8080</code></p>\n<p>If you check http://localhost:8080, you will see the <code>Down</code> text and the error log in the docker container log.</p>\n"},{"tags":["java","maven","visual-studio-code","javafx","compilation"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1701198420,"post_id":77565946,"comment_id":136744893,"body_markdown":"Instructions on getting started with JavaFX are are [openjfx.io](https://openjfx.io/openjfx-docs/), including setups for VSCode and other IDEs.  Follow those instructions.","body":"Instructions on getting started with JavaFX are are <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>, including setups for VSCode and other IDEs.  Follow those instructions."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701242393,"creation_date":1701242393,"answer_id":77569225,"question_id":77565946,"body_markdown":"Try the following command and rebuild:\r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Java: Clean Java Language Server Workspace`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZHeD.png","title":"Problem compiling javafx project with maven on Vscode","body":"<p>Try the following command and rebuild:</p>\n<p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Java: Clean Java Language Server Workspace</code></p>\n<p><a href=\"https://i.stack.imgur.com/QZHeD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZHeD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":30015209,"reputation":1,"user_id":23001946,"display_name":"Tao Mouysset"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701254578,"creation_date":1701192395,"question_id":77565946,"body_markdown":"I have a javafx project that I want to compile. Its source code is composed of two classes &#39;App.java&#39; and &#39;Main.java&#39; located in the same package name &#39;app&#39;. \r\n\r\n\r\nMain.java code: \r\n\r\n```\r\npackage h4131.app;\r\n\r\npublic class Main {\r\n    public static void main(String [] args){\r\n        App.main(args);\r\n    }\r\n}\r\n```\r\n\r\nApp.java code:\r\n```\r\n\r\npackage h4131.app;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\nimport h4131.view.WindowBuilder;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        // WindowBuilder windowBuilder = new WindowBuilder(stage);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nBasically, when the Main.java class is compiled, it should calls the main function of the App class and should then produce an executable named &#39;agile.jar&#39;. \r\n\r\nBut when compiling Main.java, I get the following error:\r\n\r\nMain.java:5: error: cannot find symbol\r\n        App.main(args);\r\n        ^\r\n  symbol:   variable App\r\n  location: class Main\r\n1 error\r\nerror: compilation failed\r\n\r\nIt seems that it can&#39;t find the App.java class located in the same package and I don&#39;t understand why. \r\n\r\n\r\n \r\n\r\nThe tricky part is that I can launch the executable with a shell outside of Vscode with this command : java -jar agile.jar \r\n\r\nSo the problem might be with vscode. \r\n\r\nI tried to delete and reinstall the JPK, Java, I changed the path variable to the right location, I restarted my computer, rebuilt the project in vscode but none of that seems to work.","title":"Problem compiling javafx project with maven on Vscode","body":"<p>I have a javafx project that I want to compile. Its source code is composed of two classes 'App.java' and 'Main.java' located in the same package name 'app'.</p>\n<p>Main.java code:</p>\n<pre><code>package h4131.app;\n\npublic class Main {\n    public static void main(String [] args){\n        App.main(args);\n    }\n}\n</code></pre>\n<p>App.java code:</p>\n<pre><code>\npackage h4131.app;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\nimport h4131.view.WindowBuilder;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        // WindowBuilder windowBuilder = new WindowBuilder(stage);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p>Basically, when the Main.java class is compiled, it should calls the main function of the App class and should then produce an executable named 'agile.jar'.</p>\n<p>But when compiling Main.java, I get the following error:</p>\n<p>Main.java:5: error: cannot find symbol\nApp.main(args);\n^\nsymbol:   variable App\nlocation: class Main\n1 error\nerror: compilation failed</p>\n<p>It seems that it can't find the App.java class located in the same package and I don't understand why.</p>\n<p>The tricky part is that I can launch the executable with a shell outside of Vscode with this command : java -jar agile.jar</p>\n<p>So the problem might be with vscode.</p>\n<p>I tried to delete and reinstall the JPK, Java, I changed the path variable to the right location, I restarted my computer, rebuilt the project in vscode but none of that seems to work.</p>\n"},{"tags":["java","maven","plugins","maven-plugin","mojo"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701246008,"post_id":77569277,"comment_id":136750441,"body_markdown":"What is the idea behind this? How could a dependency be either on the disk or remote? Could you give us more background?","body":"What is the idea behind this? How could a dependency be either on the disk or remote? Could you give us more background?"},{"owner":{"account_id":29664334,"reputation":11,"user_id":22735242,"display_name":"Kevin Nammour"},"score":0,"creation_date":1701246244,"post_id":77569277,"comment_id":136750479,"body_markdown":"Sorry [J Fabian Meier](https://stackoverflow.com/users/927493/j-fabian-meier), I fixed my question. The dependencies I need to resolve are not known at first, so I need a way to resolve dependencies at runtime during the plugin execution given the artifactId and the groupId.","body":"Sorry <a href=\"https://stackoverflow.com/users/927493/j-fabian-meier\">J Fabian Meier</a>, I fixed my question. The dependencies I need to resolve are not known at first, so I need a way to resolve dependencies at runtime during the plugin execution given the artifactId and the groupId."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701253620,"post_id":77569277,"comment_id":136751849,"body_markdown":"Where do these dependencies come from, if they are not know before?","body":"Where do these dependencies come from, if they are not know before?"},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1701253644,"post_id":77569277,"comment_id":136751857,"body_markdown":"I suspect you have a main program which calls interfaces and want to provide various implementations during runtime. There are two way to achieve this. The manual approach is to copy the runtime dependencies to your disk and pass them to the class path. The automatic approach would be to create Maven projects for each of your implementations bundling your main JAR alongside with a single implementation.","body":"I suspect you have a main program which calls interfaces and want to provide various implementations during runtime. There are two way to achieve this. The manual approach is to copy the runtime dependencies to your disk and pass them to the class path. The automatic approach would be to create Maven projects for each of your implementations bundling your main JAR alongside with a single implementation."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701256245,"post_id":77569277,"comment_id":136752324,"body_markdown":"@Karsten In the context of Maven plugins, you would ask the user to add the appropriate dependencies to the plugin in the plugin declaration (in the POM).","body":"@Karsten In the context of Maven plugins, you would ask the user to add the appropriate dependencies to the plugin in the plugin declaration (in the POM)."},{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1701342117,"post_id":77569277,"comment_id":136764839,"body_markdown":"@J Fabian Meier Then I didn&#39;t understand the question correctly.","body":"@J Fabian Meier Then I didn&#39;t understand the question correctly."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701254244,"creation_date":1701254244,"answer_id":77570391,"question_id":77569277,"body_markdown":"You can use Maven resolver API.\r\n\r\nExample code of maven plugin in Resolver project:\r\n\r\nhttps://github.com/apache/maven-resolver/blob/master/maven-resolver-demos/maven-resolver-demo-maven-plugin/src/main/java/org/apache/maven/resolver/examples/maven/ResolveArtifactMojo.java","title":"Resolving maven dependencies at runtime during plugin execution","body":"<p>You can use Maven resolver API.</p>\n<p>Example code of maven plugin in Resolver project:</p>\n<p><a href=\"https://github.com/apache/maven-resolver/blob/master/maven-resolver-demos/maven-resolver-demo-maven-plugin/src/main/java/org/apache/maven/resolver/examples/maven/ResolveArtifactMojo.java\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-resolver/blob/master/maven-resolver-demos/maven-resolver-demo-maven-plugin/src/main/java/org/apache/maven/resolver/examples/maven/ResolveArtifactMojo.java</a></p>\n"}],"owner":{"account_id":29664334,"reputation":11,"user_id":22735242,"display_name":"Kevin Nammour"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701254244,"creation_date":1701242972,"question_id":77569277,"body_markdown":"I have a maven plugin that checks some dependencies. Those dependencies at unknown at first, so I can&#39;t add them to the pom file. Thus, I need a way to resolve dependencies at runtime during the plugin execution given the artifactId and the groupId.\r\n\r\nThere&#39;s a lack of proper documentation on the goal we are trying to achieve.","title":"Resolving maven dependencies at runtime during plugin execution","body":"<p>I have a maven plugin that checks some dependencies. Those dependencies at unknown at first, so I can't add them to the pom file. Thus, I need a way to resolve dependencies at runtime during the plugin execution given the artifactId and the groupId.</p>\n<p>There's a lack of proper documentation on the goal we are trying to achieve.</p>\n"},{"tags":["java","jpa","datamapper","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554872983,"creation_date":1554872983,"answer_id":55605091,"question_id":55602919,"body_markdown":"Add the &#39;@NoArgConstructor&#39; as well. MapStruct cannot (yet) deal with constructing objects via constructor.  Another option would be using &#39;@Builder&#39; in stead if your objects are truly immutable","title":"Can&#39;t generate mapping method with no input arguments with Mapstruct","body":"<p>Add the '@NoArgConstructor' as well. MapStruct cannot (yet) deal with constructing objects via constructor.  Another option would be using '@Builder' in stead if your objects are truly immutable</p>\n"},{"tags":[],"owner":{"account_id":22293591,"reputation":1,"user_id":16519995,"display_name":"rlagoue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627183033,"creation_date":1627183033,"answer_id":68515270,"question_id":55602919,"body_markdown":"You should not extend the annotation Mapper. It is enough when you just use it at the type declaration level of your interface","title":"Can&#39;t generate mapping method with no input arguments with Mapstruct","body":"<p>You should not extend the annotation Mapper. It is enough when you just use it at the type declaration level of your interface</p>\n"},{"tags":[],"owner":{"account_id":6419592,"reputation":313,"user_id":4976651,"display_name":"Mr.Ko&#231;ak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701253654,"creation_date":1701253654,"answer_id":77570329,"question_id":55602919,"body_markdown":"Had the same issue recently with springboot\r\nMy solution was:\r\n\r\nCreate a mapper config\r\n\r\n    @org.mapstruct.MapperConfig(\r\n            unmappedTargetPolicy = ReportingPolicy.IGNORE,\r\n            componentModel = &quot;spring&quot;\r\n    )\r\n    public interface MapperConfig {\r\n    }\r\n\r\nThen use it like this in one of your mapper classes.\r\n\r\n    @Mapper(\r\n            config = MapperConfig.class\r\n    )\r\n    public abstract class MyClassMapper...\r\n\r\nHope it helps someone.","title":"Can&#39;t generate mapping method with no input arguments with Mapstruct","body":"<p>Had the same issue recently with springboot\nMy solution was:</p>\n<p>Create a mapper config</p>\n<pre><code>@org.mapstruct.MapperConfig(\n        unmappedTargetPolicy = ReportingPolicy.IGNORE,\n        componentModel = &quot;spring&quot;\n)\npublic interface MapperConfig {\n}\n</code></pre>\n<p>Then use it like this in one of your mapper classes.</p>\n<pre><code>@Mapper(\n        config = MapperConfig.class\n)\npublic abstract class MyClassMapper...\n</code></pre>\n<p>Hope it helps someone.</p>\n"}],"owner":{"account_id":3429571,"reputation":1922,"user_id":2874409,"accept_rate":48,"display_name":"Andiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8963,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1701253654,"creation_date":1554854754,"question_id":55602919,"body_markdown":"I’m starting my very first steps with Mapstruct mapper. I want to map a JPA data entity class to a DTO class. This is my source class:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;projects&quot;)\r\n    public class Project {\r\n        @Id\r\n        private Long Id;\r\n        private String projectName;\r\n        private String description;\r\n    \r\n        @OneToMany(mappedBy = &quot;project&quot;)\r\n        List&lt;Sprint&gt; sprints;\r\n    \r\n        @OneToMany(mappedBy = &quot;project&quot;)\r\n        List&lt;Epic&gt; epics;\r\n    \r\n        @OneToMany(mappedBy = &quot;project&quot;)\r\n        List&lt;Story&gt; stories;\r\n    \r\n        public Project(Long id, String projectName, String description) {\r\n            Id = id;\r\n            this.projectName = projectName;\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\nThis is my target class:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class ProjectDTO {\r\n        private Long Id;\r\n        private String projectName;\r\n        private String description;\r\n    }\r\n\r\nThe @Data annotation is from Lombok.\r\nI want to make a mapper to map the Project to ProjectDTO, the attributes like sprints, epics, stories SHOULD NOT be included in ProjectDTO. This is my mapper interface:\r\n\r\n    @Mapper\r\n    public interface ProjectMapper extends Mapper {\r\n    \r\n        ProjectMapper INSTANCE = Mappers.getMapper(ProjectMapper.class)\r\n    \r\n        ProjectDTO projectToProjectDTO(Project project);\r\n    }\r\n\r\nWhen I try to build it, this  is the error message I got:\r\n\r\n&gt; [ERROR] Can&#39;t generate mapping method with no input arguments.\r\n\r\nI guess it’s related to the missing properties in ProjectDTO, but don’t know to solve it. With the @Mapping, I cannot do it like:\r\n\r\n    @Mapping(source=“sprints”, target= null)\r\n\r\nAny help would be appreciated!\r\n","title":"Can&#39;t generate mapping method with no input arguments with Mapstruct","body":"<p>I’m starting my very first steps with Mapstruct mapper. I want to map a JPA data entity class to a DTO class. This is my source class:</p>\n\n<pre><code>@Entity\n@Data\n@Table(name = \"projects\")\npublic class Project {\n    @Id\n    private Long Id;\n    private String projectName;\n    private String description;\n\n    @OneToMany(mappedBy = \"project\")\n    List&lt;Sprint&gt; sprints;\n\n    @OneToMany(mappedBy = \"project\")\n    List&lt;Epic&gt; epics;\n\n    @OneToMany(mappedBy = \"project\")\n    List&lt;Story&gt; stories;\n\n    public Project(Long id, String projectName, String description) {\n        Id = id;\n        this.projectName = projectName;\n        this.description = description;\n    }\n}\n</code></pre>\n\n<p>This is my target class:</p>\n\n<pre><code>@Data\n@AllArgsConstructor\npublic class ProjectDTO {\n    private Long Id;\n    private String projectName;\n    private String description;\n}\n</code></pre>\n\n<p>The @Data annotation is from Lombok.\nI want to make a mapper to map the Project to ProjectDTO, the attributes like sprints, epics, stories SHOULD NOT be included in ProjectDTO. This is my mapper interface:</p>\n\n<pre><code>@Mapper\npublic interface ProjectMapper extends Mapper {\n\n    ProjectMapper INSTANCE = Mappers.getMapper(ProjectMapper.class)\n\n    ProjectDTO projectToProjectDTO(Project project);\n}\n</code></pre>\n\n<p>When I try to build it, this  is the error message I got:</p>\n\n<blockquote>\n  <p>[ERROR] Can't generate mapping method with no input arguments.</p>\n</blockquote>\n\n<p>I guess it’s related to the missing properties in ProjectDTO, but don’t know to solve it. With the @Mapping, I cannot do it like:</p>\n\n<pre><code>@Mapping(source=“sprints”, target= null)\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":2154438,"reputation":181,"user_id":1909995,"display_name":"Ghost93"},"score":0,"creation_date":1701252899,"post_id":77570089,"comment_id":136751683,"body_markdown":"Can you confirm your application is the process that takes the high cpu? Maybe it&#39;s another process in your ec2 instance?\nDo you run your app using some java flags, e.g. `-Xms` and such?","body":"Can you confirm your application is the process that takes the high cpu? Maybe it&#39;s another process in your ec2 instance? Do you run your app using some java flags, e.g. <code>-Xms</code> and such?"},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1701253291,"post_id":77570089,"comment_id":136751768,"body_markdown":"I am using this command : nohup java -jar application.jar --spring.profiles.active=prod &gt;&gt; output.log 2&gt;&amp;1 &amp;. If i monitor in the EC2 terminal using top -h there is not even a procces that uses more than 1%. If i monitor only the threads of the runnin applications (top -H -p (PID of application) ) still every thread is at 0.0 ~ 0.5 %.","body":"I am using this command : nohup java -jar application.jar --spring.profiles.active=prod &gt;&gt; output.log 2&gt;&amp;1 &amp;. If i monitor in the EC2 terminal using top -h there is not even a procces that uses more than 1%. If i monitor only the threads of the runnin applications (top -H -p (PID of application) ) still every thread is at 0.0 ~ 0.5 %."},{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1701263841,"post_id":77570089,"comment_id":136753755,"body_markdown":"That CloudWatch screenshot shows CPU usage going from about 1% to 1.76%. That is not &quot;very high&quot; CPU usage. That is a tiny blip. Very high usage would be over 80% or 90%. I don&#39;t think the CPU usage is the issue, it is just an indication that a tiny increase in CPU usage occurs just before the crash. Your Spring Boot logs probably have more relevant information into what the issue is. The logs should either say why it crashed, or what exit signal it received. If you aren&#39;t seeing that, turn up your Spring logging level.","body":"That CloudWatch screenshot shows CPU usage going from about 1% to 1.76%. That is not &quot;very high&quot; CPU usage. That is a tiny blip. Very high usage would be over 80% or 90%. I don&#39;t think the CPU usage is the issue, it is just an indication that a tiny increase in CPU usage occurs just before the crash. Your Spring Boot logs probably have more relevant information into what the issue is. The logs should either say why it crashed, or what exit signal it received. If you aren&#39;t seeing that, turn up your Spring logging level."},{"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"score":0,"creation_date":1701280879,"post_id":77570089,"comment_id":136757378,"body_markdown":"Then maybe I misunderstood the metric system. They suggested that 1.00 is equal to 100%, and it just upscales itself somehow. Never mind. I checked the log file, but there is nothing about the crash. What should be the best way to log these crashes?","body":"Then maybe I misunderstood the metric system. They suggested that 1.00 is equal to 100%, and it just upscales itself somehow. Never mind. I checked the log file, but there is nothing about the crash. What should be the best way to log these crashes?"}],"owner":{"account_id":28717387,"reputation":11,"user_id":21991741,"display_name":"Andor P&#225;l"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701253376,"creation_date":1701251596,"question_id":77570089,"body_markdown":"I&#39;m uncertain if I&#39;m overlooking something.\r\n\r\nMy application randomly stops on AWS, and I can&#39;t find any relevant information in the logs. When I inspect the running threads in the terminal of the EC2 instance, it shows almost 0 percentage, and at that moment, there&#39;s no active usage. However, CloudWatch indicates very high CPU usage.\r\n\r\nEven if i monitor it localy in the intellij shows 0 %. Heap memory usage is close to zero too.\r\n\r\nAm I misunderstanding something? Do you have any insights into what might be causing these random stops or issues with the CloudWatch metrics?\r\n[![][1]][1]\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KifV8.png\r\n  [2]: https://i.stack.imgur.com/kFvc4.png","title":"Spring boot application crashes on AWS randomly","body":"<p>I'm uncertain if I'm overlooking something.</p>\n<p>My application randomly stops on AWS, and I can't find any relevant information in the logs. When I inspect the running threads in the terminal of the EC2 instance, it shows almost 0 percentage, and at that moment, there's no active usage. However, CloudWatch indicates very high CPU usage.</p>\n<p>Even if i monitor it localy in the intellij shows 0 %. Heap memory usage is close to zero too.</p>\n<p>Am I misunderstanding something? Do you have any insights into what might be causing these random stops or issues with the CloudWatch metrics?\n<a href=\"https://i.stack.imgur.com/KifV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KifV8.png\" alt=\"\" /></a>\n<a href=\"https://i.stack.imgur.com/kFvc4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kFvc4.png\" alt=\"\" /></a></p>\n"},{"tags":["java","json","spring"],"answers":[{"tags":[],"owner":{"account_id":7021940,"reputation":2155,"user_id":5380897,"accept_rate":62,"display_name":"Uladzislau Kaminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654812365,"creation_date":1654812365,"answer_id":72567138,"question_id":72565197,"body_markdown":"I believe the best way is to rewrite this JSON to YML format and inject your configuration as Map with `@ConfigurationProperties`. \r\n\r\nHere you can find some examples of how to use properties with Map:\r\nhttps://www.baeldung.com/spring-yaml-inject-map\r\n\r\nThe other way is to store it as a String and Inject it as a String with @Value annotation. After that, you will be able to use Jackson to convert your String to Map:\r\n\r\nhttps://www.baeldung.com/jackson-map","title":"Map string with json to map of maps in Spring Configuration","body":"<p>I believe the best way is to rewrite this JSON to YML format and inject your configuration as Map with <code>@ConfigurationProperties</code>.</p>\n<p>Here you can find some examples of how to use properties with Map:\n<a href=\"https://www.baeldung.com/spring-yaml-inject-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-yaml-inject-map</a></p>\n<p>The other way is to store it as a String and Inject it as a String with @Value annotation. After that, you will be able to use Jackson to convert your String to Map:</p>\n<p><a href=\"https://www.baeldung.com/jackson-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-map</a></p>\n"}],"owner":{"account_id":8586534,"reputation":431,"user_id":7101708,"display_name":"Grigory Skvortsov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701253198,"creation_date":1654800290,"question_id":72565197,"body_markdown":"I try to use String with json like this \r\n```json\r\n{ \r\n  &quot;group1&quot;: { \r\n    &quot;group11&quot;: { \r\n      &quot;name&quot;: &quot;element1&quot;, \r\n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot; \r\n    }, \r\n    &quot;group12&quot;: {\r\n      &quot;name&quot;: &quot;element2&quot;, \r\n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot;\r\n    }\r\n  },\r\n  &quot;group2&quot;: {\r\n    &quot;group21&quot;: {\r\n      &quot;name&quot;: &quot;element3&quot;,\r\n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nas configuration in my Spring application.\r\n\r\nI added configuration like this in my application.yaml file:\r\n\r\n```\r\nmy-config:\r\n  string-with-json: ${STRING_JSON}\r\n  other-option: string\r\n```\r\n\r\nand wrote property class:\r\n\r\n```{java}\r\n@Data\r\n@Configuration\r\n@ConfigurationProperties(&quot;my-config&quot;)\r\npublic class BaseImagesProperties {\r\n\r\n    public Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; stringWithJson;\r\n    public String otherOption;\r\n\r\n    public String getLink(String group, String element) {\r\n        return stringWithJson.get(group).get(element).get(&quot;link&quot;);   \r\n    }\r\n}\r\n```\r\n\r\nWhen I started my app, it swears that he can&#39;t convert a string to Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt;\r\n\r\n\r\nHow can I properly convert it to this?\r\n","title":"Map string with json to map of maps in Spring Configuration","body":"<p>I try to use String with json like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;group1&quot;: { \n    &quot;group11&quot;: { \n      &quot;name&quot;: &quot;element1&quot;, \n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot; \n    }, \n    &quot;group12&quot;: {\n      &quot;name&quot;: &quot;element2&quot;, \n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot;\n    }\n  },\n  &quot;group2&quot;: {\n    &quot;group21&quot;: {\n      &quot;name&quot;: &quot;element3&quot;,\n      &quot;link&quot;: &quot;&lt;LINK&gt;&quot;\n    }\n  }\n}\n</code></pre>\n<p>as configuration in my Spring application.</p>\n<p>I added configuration like this in my application.yaml file:</p>\n<pre><code>my-config:\n  string-with-json: ${STRING_JSON}\n  other-option: string\n</code></pre>\n<p>and wrote property class:</p>\n<pre><code>@Data\n@Configuration\n@ConfigurationProperties(&quot;my-config&quot;)\npublic class BaseImagesProperties {\n\n    public Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; stringWithJson;\n    public String otherOption;\n\n    public String getLink(String group, String element) {\n        return stringWithJson.get(group).get(element).get(&quot;link&quot;);   \n    }\n}\n</code></pre>\n<p>When I started my app, it swears that he can't convert a string to Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt;</p>\n<p>How can I properly convert it to this?</p>\n"},{"tags":["java","excel","apache","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435657141,"creation_date":1435657141,"answer_id":31134710,"question_id":31134641,"body_markdown":"This may help you:--\r\n\r\n    file = new File(&quot;/yourFile.xlsx&quot;);\r\n\tworkBook = WorkbookFactory.create(file);\t\r\n\tsheet  = workBook.getSheetAt(sheetNumber);","title":"Cannot read from Excel file using apache poi","body":"<p>This may help you:--</p>\n\n<pre><code>file = new File(\"/yourFile.xlsx\");\nworkBook = WorkbookFactory.create(file);    \nsheet  = workBook.getSheetAt(sheetNumber);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6481982,"reputation":1513,"user_id":5018690,"display_name":"Rahul Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435658014,"creation_date":1435658014,"answer_id":31135035,"question_id":31134641,"body_markdown":"You are trying to access .xlsx file with HSSFWorkbook, you will need to use XSSFWorkbook instead of HSSFWorkbook. With HSSFWorkbook  we can access .xls files.\r\n\r\nFor reference you can read [POI][1]\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/index.html &quot;POI&quot;","title":"Cannot read from Excel file using apache poi","body":"<p>You are trying to access .xlsx file with HSSFWorkbook, you will need to use XSSFWorkbook instead of HSSFWorkbook. With HSSFWorkbook  we can access .xls files.</p>\n\n<p>For reference you can read <a href=\"http://poi.apache.org/spreadsheet/index.html\" rel=\"nofollow\" title=\"POI\">POI</a></p>\n"},{"tags":[],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435659218,"creation_date":1435659218,"answer_id":31135514,"question_id":31134641,"body_markdown":"As Rahul said, you are using HSSF part which is used to fetch info from old excel i.e. .xls (before 2007) format.\r\n\r\n    Workbook wb = WorkbookFactory.create(new File(&quot;/path/to/your/excel/file&quot;));\r\n        Sheet mySheet = wb.getSheetAt(0);\r\n        Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\r\n        System.out.println(mySheet.getRow(1).getCell(0));\r\n\r\nPlease try to convert to above, it will work for both .xls and .xlsx","title":"Cannot read from Excel file using apache poi","body":"<p>As Rahul said, you are using HSSF part which is used to fetch info from old excel i.e. .xls (before 2007) format.</p>\n\n<pre><code>Workbook wb = WorkbookFactory.create(new File(\"/path/to/your/excel/file\"));\n    Sheet mySheet = wb.getSheetAt(0);\n    Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\n    System.out.println(mySheet.getRow(1).getCell(0));\n</code></pre>\n\n<p>Please try to convert to above, it will work for both .xls and .xlsx</p>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701253069,"creation_date":1701253069,"answer_id":77570247,"question_id":31134641,"body_markdown":"File Reading any excel extension\r\n\r\n    try\r\n            {\r\n    \t// Getting file from local directory\r\n    \tstatic final String FILE_NAME\r\n    \t    = &quot;C:\\\\projects\\\\sprint124\\\\LMRiskOfficeService\\\\src\\\\main\\\\java\\\\com\\\\hsbc\\\\gbm\\\\amg\\\\util\\\\ExcelWorkbook.xlsx&quot;;\r\n    \t\t\t//Create Workbook instance holding reference to .xlsx or .xls or .xlsm file\r\n                Workbook wb = WorkbookFactory.create(new File(FILE_NAME));\r\n                \r\n                //Get first/desired sheet from the workbook\r\n                Sheet ws = wb.getSheetAt(0);\r\n     \r\n                //Iterate through each rows one by one\r\n                Iterator&lt;Row&gt; rowIterator = ws.iterator();\r\n                while (rowIterator.hasNext()) \r\n                {\r\n                    Row row = rowIterator.next();\r\n                    //For each row, iterate through all the columns\r\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                    while (cellIterator.hasNext()) \r\n                    {\r\n                        Cell cell = cellIterator.next();\r\n    \r\n                        switch (cell.getCellType().toString()) \r\n                        {\r\n                            case &quot;NUMERIC&quot;:\r\n                                System.out.print(cell.getNumericCellValue()+&quot; &quot;);\r\n                                break;\r\n                            case &quot;STRING&quot;:\r\n                                System.out.print(cell.getStringCellValue()+&quot; &quot;);\r\n                                break;\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            } ","title":"Cannot read from Excel file using apache poi","body":"<p>File Reading any excel extension</p>\n<pre><code>try\n        {\n    // Getting file from local directory\n    static final String FILE_NAME\n        = &quot;C:\\\\projects\\\\sprint124\\\\LMRiskOfficeService\\\\src\\\\main\\\\java\\\\com\\\\hsbc\\\\gbm\\\\amg\\\\util\\\\ExcelWorkbook.xlsx&quot;;\n            //Create Workbook instance holding reference to .xlsx or .xls or .xlsm file\n            Workbook wb = WorkbookFactory.create(new File(FILE_NAME));\n            \n            //Get first/desired sheet from the workbook\n            Sheet ws = wb.getSheetAt(0);\n \n            //Iterate through each rows one by one\n            Iterator&lt;Row&gt; rowIterator = ws.iterator();\n            while (rowIterator.hasNext()) \n            {\n                Row row = rowIterator.next();\n                //For each row, iterate through all the columns\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                while (cellIterator.hasNext()) \n                {\n                    Cell cell = cellIterator.next();\n\n                    switch (cell.getCellType().toString()) \n                    {\n                        case &quot;NUMERIC&quot;:\n                            System.out.print(cell.getNumericCellValue()+&quot; &quot;);\n                            break;\n                        case &quot;STRING&quot;:\n                            System.out.print(cell.getStringCellValue()+&quot; &quot;);\n                            break;\n                    }\n                }\n\n            }\n        } \n</code></pre>\n"}],"owner":{"account_id":1468419,"reputation":5954,"user_id":1380626,"accept_rate":69,"display_name":"odbhut.shei.chhele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31134710,"answer_count":4,"score":1,"last_activity_date":1701253069,"creation_date":1435656956,"question_id":31134641,"body_markdown":"This is the code that I a have written.\r\n\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tFile inputFile = new File(&quot;./test.xlsx&quot;);\r\n    \t\tHSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\r\n    \t\tHSSFSheet sheet = workbook.getSheetAt(0);\r\n    \t\tCell cell;\r\n    \t\tRow row;\r\n    \t\tIterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    \t\twhile (rowIterator.hasNext()){\r\n    \t\t\trow = rowIterator.next();\r\n    \t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n    \t\t\twhile (cellIterator.hasNext()){\r\n    \t\t\t\tcell = cellIterator.next();\r\n    \t\t\t\tSystem.out.println(cell.getStringCellValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is the error that I am getting.\r\n\r\n&gt; The supplied data appears to be in the Office 2007+ XML. You are\r\n&gt; calling the part of POI that deals with OLE2 Office Documents. You\r\n&gt; need to call a different part of POI to process this data (eg XSSF\r\n&gt; instead of HSSF)\r\n\r\n*Question:* What am I doing wrong?","title":"Cannot read from Excel file using apache poi","body":"<p>This is the code that I a have written.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        File inputFile = new File(\"./test.xlsx\");\n        HSSFWorkbook workbook = new HSSFWorkbook(new FileInputStream(inputFile));\n        HSSFSheet sheet = workbook.getSheetAt(0);\n        Cell cell;\n        Row row;\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n        while (rowIterator.hasNext()){\n            row = rowIterator.next();\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n            while (cellIterator.hasNext()){\n                cell = cellIterator.next();\n                System.out.println(cell.getStringCellValue());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the error that I am getting.</p>\n\n<blockquote>\n  <p>The supplied data appears to be in the Office 2007+ XML. You are\n  calling the part of POI that deals with OLE2 Office Documents. You\n  need to call a different part of POI to process this data (eg XSSF\n  instead of HSSF)</p>\n</blockquote>\n\n<p><em>Question:</em> What am I doing wrong?</p>\n"},{"tags":["java","character","constants"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1445063802,"post_id":33183525,"comment_id":54173776,"body_markdown":"I think this will exaplain: http://stackoverflow.com/a/21437830/460557","body":"I think this will exaplain: <a href=\"http://stackoverflow.com/a/21437830/460557\">stackoverflow.com/a/21437830/460557</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1447526780,"post_id":33183525,"comment_id":55195255,"body_markdown":"Someone did this: http://blog.code-cop.org/2007/08/java-unicode-constants.html Not sure how useful it is to have **every** Unicode character named like that. I&#39;d suggest you just name the few *special* ones you need (and no, space is not special).","body":"Someone did this: <a href=\"http://blog.code-cop.org/2007/08/java-unicode-constants.html\" rel=\"nofollow noreferrer\">blog.code-cop.org/2007/08/java-unicode-constants.html</a> Not sure how useful it is to have <b>every</b> Unicode character named like that. I&#39;d suggest you just name the few <i>special</i> ones you need (and no, space is not special)."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1696721165,"post_id":33183525,"comment_id":136189901,"body_markdown":"Why?  Literals are literally more explanatory. But if you must, why not CAPITAL_L + LOWERCASE_I + LOWERCASE_S + LOWERCASE+A + SPACE ... ?","body":"Why?  Literals are literally more explanatory. But if you must, why not CAPITAL_L + LOWERCASE_I + LOWERCASE_S + LOWERCASE+A + SPACE ... ?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1445064008,"creation_date":1445064008,"answer_id":33183659,"question_id":33183525,"body_markdown":"There is no such constant, and for good reasons, IMO.\r\n\r\nWhy use a constant in the first place in your example?\r\n\r\n    String musician = &quot;Lisa&quot; + Character.SPACE + &quot;Coleman&quot; ;\r\n\r\nis less readable than\r\n\r\n    String musician = &quot;Lisa Coleman&quot;;\r\n\r\nor even than\r\n\r\n    String musician = &quot;Lisa&quot; + &#39; &#39; + &quot;Coleman&quot;;\r\n\r\n\r\nSo I guess it&#39;s not for readability reasons.\r\n\r\nI thus guess that you want a constant to avoid repeating yourself in several portions of code. But using `Character.SPACE` instead of `&#39; &#39;` everywhere doesn&#39;t lead to less repetitions. Only to more verbose and less readable code.\r\n\r\nI thus guess that you want to be able to change the constant value in one place, and have it changed everywhere it&#39;s used. But then using a built-in `Character.SPACE` constant wouldn&#39;t allow you achieveing that goal. You would still need your own constant, and its name shouldn&#39;t be what the value is, but what the value is **for**:\r\n\r\n    private static final char FIRST_NAME_LAST_NAME_SEPARATOR = &#39; &#39;;\r\n\r\nNow, there is a good reason to use that constant: if you later decide to use a tab instead of a space, you can change the value of the constant and recompile all your code.","title":"Does Java define constants for any characters such as SPACE?","body":"<p>There is no such constant, and for good reasons, IMO.</p>\n\n<p>Why use a constant in the first place in your example?</p>\n\n<pre><code>String musician = \"Lisa\" + Character.SPACE + \"Coleman\" ;\n</code></pre>\n\n<p>is less readable than</p>\n\n<pre><code>String musician = \"Lisa Coleman\";\n</code></pre>\n\n<p>or even than</p>\n\n<pre><code>String musician = \"Lisa\" + ' ' + \"Coleman\";\n</code></pre>\n\n<p>So I guess it's not for readability reasons.</p>\n\n<p>I thus guess that you want a constant to avoid repeating yourself in several portions of code. But using <code>Character.SPACE</code> instead of <code>' '</code> everywhere doesn't lead to less repetitions. Only to more verbose and less readable code.</p>\n\n<p>I thus guess that you want to be able to change the constant value in one place, and have it changed everywhere it's used. But then using a built-in <code>Character.SPACE</code> constant wouldn't allow you achieveing that goal. You would still need your own constant, and its name shouldn't be what the value is, but what the value is <strong>for</strong>:</p>\n\n<pre><code>private static final char FIRST_NAME_LAST_NAME_SEPARATOR = ' ';\n</code></pre>\n\n<p>Now, there is a good reason to use that constant: if you later decide to use a tab instead of a space, you can change the value of the constant and recompile all your code.</p>\n"},{"tags":[],"owner":{"account_id":8706437,"reputation":304,"user_id":6514262,"accept_rate":83,"display_name":"Samuel Newport"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496058158,"creation_date":1496057528,"answer_id":44241494,"question_id":33183525,"body_markdown":"Java does have a list of character constants used to substitute &quot;untypeable&quot; characters such as a backspace (represented by \\r). the full list can be found at https://docstore.mik.ua/orelly/java-ent/jenut/ch10_05.htm\r\nHowever here is a few examples:\r\n\r\n    \\\\      Backslash\r\n    \\r      Carriage Return\r\n    \\&quot;      Double Quote (same for single Quote)\r\n    \\n      Newline\r\nYou get the idea. Hope this is what you were looking for since you did mention character constants in your title.\r\n\r\nEdit: When using character constants as characters surround them with single quotes rather than double quotes. Despite being two (or more) characters long they denote a single character or a single binary digit rather than a string.\r\n\r\nNote: When attempting to compare the &#39;enter&#39; character in the `java.awt.event.KeyListener` keyTyped function the `\\n` character constant should be user rather than the `\\r` character constant.\r\n\r\n ","title":"Does Java define constants for any characters such as SPACE?","body":"<p>Java does have a list of character constants used to substitute \"untypeable\" characters such as a backspace (represented by \\r). the full list can be found at <a href=\"https://docstore.mik.ua/orelly/java-ent/jenut/ch10_05.htm\" rel=\"nofollow noreferrer\">https://docstore.mik.ua/orelly/java-ent/jenut/ch10_05.htm</a>\nHowever here is a few examples:</p>\n\n<pre><code>\\\\      Backslash\n\\r      Carriage Return\n\\\"      Double Quote (same for single Quote)\n\\n      Newline\n</code></pre>\n\n<p>You get the idea. Hope this is what you were looking for since you did mention character constants in your title.</p>\n\n<p>Edit: When using character constants as characters surround them with single quotes rather than double quotes. Despite being two (or more) characters long they denote a single character or a single binary digit rather than a string.</p>\n\n<p>Note: When attempting to compare the 'enter' character in the <code>java.awt.event.KeyListener</code> keyTyped function the <code>\\n</code> character constant should be user rather than the <code>\\r</code> character constant.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1701252846,"creation_date":1517315208,"answer_id":48521472,"question_id":33183525,"body_markdown":"There are constants in [*Apache Commons Lang*][1]. \r\n\r\n - [`org.apache.commons.lang3.StringUtils.SPACE`][2]\r\n - [`org.apache.commons.lang3.StringUtils.CR`][3]\r\n - [`org.apache.commons.lang3.StringUtils.LF`][4]\r\n\r\n\r\n[more](https://commons.apache.org/proper/commons-lang/apidocs/constant-values.html)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#SPACE\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#CR\r\n  [4]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#LF","title":"Does Java define constants for any characters such as SPACE?","body":"<p>There are constants in <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\"><em>Apache Commons Lang</em></a>.</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#SPACE\" rel=\"nofollow noreferrer\"><code>org.apache.commons.lang3.StringUtils.SPACE</code></a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#CR\" rel=\"nofollow noreferrer\"><code>org.apache.commons.lang3.StringUtils.CR</code></a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#LF\" rel=\"nofollow noreferrer\"><code>org.apache.commons.lang3.StringUtils.LF</code></a></li>\n</ul>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/constant-values.html\" rel=\"nofollow noreferrer\">more</a></p>\n"},{"tags":[],"owner":{"account_id":16724199,"reputation":62,"user_id":12088191,"display_name":"A1 paper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696714319,"creation_date":1662621636,"answer_id":73645122,"question_id":33183525,"body_markdown":"For control characters, you can use the constants defined in [`com.google.common.base.Ascii`][1] in the [Google Guava][2] library. Those constants are `byte`, so you will need to make your own `String`.\r\n\r\n    String LINE_SEPARATOR = Character.toString((char) Ascii.LF);\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Ascii.html\r\n  [2]: https://github.com/google/guava","title":"Does Java define constants for any characters such as SPACE?","body":"<p>For control characters, you can use the constants defined in <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Ascii.html\" rel=\"nofollow noreferrer\"><code>com.google.common.base.Ascii</code></a> in the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> library. Those constants are <code>byte</code>, so you will need to make your own <code>String</code>.</p>\n<pre><code>String LINE_SEPARATOR = Character.toString((char) Ascii.LF);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696714518,"creation_date":1696650093,"answer_id":77248280,"question_id":33183525,"body_markdown":"# Constants for ASCII\r\n\r\n## Code with nested classes containing constants\r\n\r\nHere is source code that defines a constant name for each of the 128 [US-ASCII][1] characters that make up the [beginning][2] of [Unicode][3]. \r\n\r\nThe approach here uses nested `static` classes containing `static` string constants, 128 constants for the 128 US-ASCII characters. By nesting the classes, we enable the intelligent type-ahead fill-in suggestion feature of modern [code-editors][4].\r\n\r\nNested interfaces could be used instead of classes, but I do not know of any benefits in terms of memory or speed. \r\n\r\nOf course you can modify this code. For example, if you only want names of [control characters][5], excerpt that nested class.\r\n\r\n```java\r\npackage work.basil.unicode;\r\n\r\n@SuppressWarnings ( &quot;unused&quot; )\r\npublic final class Ascii\r\n{\r\n    // -----------|  US-ASCII character constants grouped via nested classes  |--------------\r\n    public static final class Control\r\n    {\r\n        public static final String NULL = Character.toString ( 0 );\r\n        public static final String START_OF_HEADING = Character.toString ( 1 );\r\n        public static final String START_OF_TEXT = Character.toString ( 2 );\r\n        public static final String END_OF_TEXT = Character.toString ( 3 );\r\n        public static final String END_OF_TRANSMISSION = Character.toString ( 4 );\r\n        public static final String ENQUIRY = Character.toString ( 5 );\r\n        public static final String ACKNOWLEDGE = Character.toString ( 6 );\r\n        public static final String BEL = Character.toString ( 7 );\r\n        public static final String BACKSPACE = Character.toString ( 8 );\r\n        public static final String CHARACTER_TABULATION = Character.toString ( 9 );\r\n        public static final String LINE_FEED_LF = Character.toString ( 10 );\r\n        public static final String LINE_TABULATION = Character.toString ( 11 );\r\n        public static final String FORM_FEED_FF = Character.toString ( 12 );\r\n        public static final String CARRIAGE_RETURN_CR = Character.toString ( 13 );\r\n        public static final String SHIFT_OUT = Character.toString ( 14 );\r\n        public static final String SHIFT_IN = Character.toString ( 15 );\r\n        public static final String DATA_LINK_ESCAPE = Character.toString ( 16 );\r\n        public static final String DEVICE_CONTROL_ONE = Character.toString ( 17 );\r\n        public static final String DEVICE_CONTROL_TWO = Character.toString ( 18 );\r\n        public static final String DEVICE_CONTROL_THREE = Character.toString ( 19 );\r\n        public static final String DEVICE_CONTROL_FOUR = Character.toString ( 20 );\r\n        public static final String NEGATIVE_ACKNOWLEDGE = Character.toString ( 21 );\r\n        public static final String SYNCHRONOUS_IDLE = Character.toString ( 22 );\r\n        public static final String END_OF_TRANSMISSION_BLOCK = Character.toString ( 23 );\r\n        public static final String CANCEL = Character.toString ( 24 );\r\n        public static final String END_OF_MEDIUM = Character.toString ( 25 );\r\n        public static final String SUBSTITUTE = Character.toString ( 26 );\r\n        public static final String ESCAPE = Character.toString ( 27 );\r\n        public static final String INFORMATION_SEPARATOR_FOUR = Character.toString ( 28 );\r\n        public static final String INFORMATION_SEPARATOR_THREE = Character.toString ( 29 );\r\n        public static final String INFORMATION_SEPARATOR_TWO = Character.toString ( 30 );\r\n        public static final String INFORMATION_SEPARATOR_ONE = Character.toString ( 31 );\r\n        public static final String DELETE = Character.toString ( 127 );\r\n    }\r\n    public static final class Punctuation\r\n    {\r\n        public static final String SPACE = Character.toString ( 32 );\r\n        public static final String EXCLAMATION_MARK = Character.toString ( 33 );\r\n        public static final String QUOTATION_MARK = Character.toString ( 34 );\r\n        public static final String NUMBER_SIGN = Character.toString ( 35 );\r\n        public static final String PERCENT_SIGN = Character.toString ( 37 );\r\n        public static final String AMPERSAND = Character.toString ( 38 );\r\n        public static final String APOSTROPHE = Character.toString ( 39 );\r\n        public static final String LEFT_PARENTHESIS = Character.toString ( 40 );\r\n        public static final String RIGHT_PARENTHESIS = Character.toString ( 41 );\r\n        public static final String ASTERISK = Character.toString ( 42 );\r\n        public static final String COMMA = Character.toString ( 44 );\r\n        public static final String HYPHEN_MINUS = Character.toString ( 45 );\r\n        public static final String FULL_STOP = Character.toString ( 46 );\r\n        public static final String SOLIDUS = Character.toString ( 47 );\r\n        public static final String COLON = Character.toString ( 58 );\r\n        public static final String SEMICOLON = Character.toString ( 59 );\r\n        public static final String QUESTION_MARK = Character.toString ( 63 );\r\n        public static final String COMMERCIAL_AT = Character.toString ( 64 );\r\n        public static final String LEFT_SQUARE_BRACKET = Character.toString ( 91 );\r\n        public static final String REVERSE_SOLIDUS = Character.toString ( 92 );\r\n        public static final String RIGHT_SQUARE_BRACKET = Character.toString ( 93 );\r\n        public static final String LOW_LINE = Character.toString ( 95 );\r\n        public static final String LEFT_CURLY_BRACKET = Character.toString ( 123 );\r\n        public static final String RIGHT_CURLY_BRACKET = Character.toString ( 125 );\r\n    }\r\n    public static final class Symbol\r\n    {\r\n        public static final String DOLLAR_SIGN = Character.toString ( 36 );\r\n        public static final String PLUS_SIGN = Character.toString ( 43 );\r\n        public static final String LESS_THAN_SIGN = Character.toString ( 60 );\r\n        public static final String EQUALS_SIGN = Character.toString ( 61 );\r\n        public static final String GREATER_THAN_SIGN = Character.toString ( 62 );\r\n        public static final String CIRCUMFLEX_ACCENT = Character.toString ( 94 );\r\n        public static final String GRAVE_ACCENT = Character.toString ( 96 );\r\n        public static final String VERTICAL_LINE = Character.toString ( 124 );\r\n        public static final String TILDE = Character.toString ( 126 );\r\n    }\r\n    public static final class Digit\r\n    {\r\n        public static final String DIGIT_ZERO = Character.toString ( 48 );\r\n        public static final String DIGIT_ONE = Character.toString ( 49 );\r\n        public static final String DIGIT_TWO = Character.toString ( 50 );\r\n        public static final String DIGIT_THREE = Character.toString ( 51 );\r\n        public static final String DIGIT_FOUR = Character.toString ( 52 );\r\n        public static final String DIGIT_FIVE = Character.toString ( 53 );\r\n        public static final String DIGIT_SIX = Character.toString ( 54 );\r\n        public static final String DIGIT_SEVEN = Character.toString ( 55 );\r\n        public static final String DIGIT_EIGHT = Character.toString ( 56 );\r\n        public static final String DIGIT_NINE = Character.toString ( 57 );\r\n    }\r\n    public static final class Uppercase\r\n    {\r\n        public static final String LATIN_CAPITAL_LETTER_A = Character.toString ( 65 );\r\n        public static final String LATIN_CAPITAL_LETTER_B = Character.toString ( 66 );\r\n        public static final String LATIN_CAPITAL_LETTER_C = Character.toString ( 67 );\r\n        public static final String LATIN_CAPITAL_LETTER_D = Character.toString ( 68 );\r\n        public static final String LATIN_CAPITAL_LETTER_E = Character.toString ( 69 );\r\n        public static final String LATIN_CAPITAL_LETTER_F = Character.toString ( 70 );\r\n        public static final String LATIN_CAPITAL_LETTER_G = Character.toString ( 71 );\r\n        public static final String LATIN_CAPITAL_LETTER_H = Character.toString ( 72 );\r\n        public static final String LATIN_CAPITAL_LETTER_I = Character.toString ( 73 );\r\n        public static final String LATIN_CAPITAL_LETTER_J = Character.toString ( 74 );\r\n        public static final String LATIN_CAPITAL_LETTER_K = Character.toString ( 75 );\r\n        public static final String LATIN_CAPITAL_LETTER_L = Character.toString ( 76 );\r\n        public static final String LATIN_CAPITAL_LETTER_M = Character.toString ( 77 );\r\n        public static final String LATIN_CAPITAL_LETTER_N = Character.toString ( 78 );\r\n        public static final String LATIN_CAPITAL_LETTER_O = Character.toString ( 79 );\r\n        public static final String LATIN_CAPITAL_LETTER_P = Character.toString ( 80 );\r\n        public static final String LATIN_CAPITAL_LETTER_Q = Character.toString ( 81 );\r\n        public static final String LATIN_CAPITAL_LETTER_R = Character.toString ( 82 );\r\n        public static final String LATIN_CAPITAL_LETTER_S = Character.toString ( 83 );\r\n        public static final String LATIN_CAPITAL_LETTER_T = Character.toString ( 84 );\r\n        public static final String LATIN_CAPITAL_LETTER_U = Character.toString ( 85 );\r\n        public static final String LATIN_CAPITAL_LETTER_V = Character.toString ( 86 );\r\n        public static final String LATIN_CAPITAL_LETTER_W = Character.toString ( 87 );\r\n        public static final String LATIN_CAPITAL_LETTER_X = Character.toString ( 88 );\r\n        public static final String LATIN_CAPITAL_LETTER_Y = Character.toString ( 89 );\r\n        public static final String LATIN_CAPITAL_LETTER_Z = Character.toString ( 90 );\r\n    }\r\n    public static final class Lowercase\r\n    {\r\n        public static final String LATIN_SMALL_LETTER_A = Character.toString ( 97 );\r\n        public static final String LATIN_SMALL_LETTER_B = Character.toString ( 98 );\r\n        public static final String LATIN_SMALL_LETTER_C = Character.toString ( 99 );\r\n        public static final String LATIN_SMALL_LETTER_D = Character.toString ( 100 );\r\n        public static final String LATIN_SMALL_LETTER_E = Character.toString ( 101 );\r\n        public static final String LATIN_SMALL_LETTER_F = Character.toString ( 102 );\r\n        public static final String LATIN_SMALL_LETTER_G = Character.toString ( 103 );\r\n        public static final String LATIN_SMALL_LETTER_H = Character.toString ( 104 );\r\n        public static final String LATIN_SMALL_LETTER_I = Character.toString ( 105 );\r\n        public static final String LATIN_SMALL_LETTER_J = Character.toString ( 106 );\r\n        public static final String LATIN_SMALL_LETTER_K = Character.toString ( 107 );\r\n        public static final String LATIN_SMALL_LETTER_L = Character.toString ( 108 );\r\n        public static final String LATIN_SMALL_LETTER_M = Character.toString ( 109 );\r\n        public static final String LATIN_SMALL_LETTER_N = Character.toString ( 110 );\r\n        public static final String LATIN_SMALL_LETTER_O = Character.toString ( 111 );\r\n        public static final String LATIN_SMALL_LETTER_P = Character.toString ( 112 );\r\n        public static final String LATIN_SMALL_LETTER_Q = Character.toString ( 113 );\r\n        public static final String LATIN_SMALL_LETTER_R = Character.toString ( 114 );\r\n        public static final String LATIN_SMALL_LETTER_S = Character.toString ( 115 );\r\n        public static final String LATIN_SMALL_LETTER_T = Character.toString ( 116 );\r\n        public static final String LATIN_SMALL_LETTER_U = Character.toString ( 117 );\r\n        public static final String LATIN_SMALL_LETTER_V = Character.toString ( 118 );\r\n        public static final String LATIN_SMALL_LETTER_W = Character.toString ( 119 );\r\n        public static final String LATIN_SMALL_LETTER_X = Character.toString ( 120 );\r\n        public static final String LATIN_SMALL_LETTER_Y = Character.toString ( 121 );\r\n        public static final String LATIN_SMALL_LETTER_Z = Character.toString ( 122 );\r\n    }\r\n\r\n    // Convenience method to return the code point integer number for the first and only character in the submitted string.\r\n    public static int codePoint ( final String s )\r\n    {\r\n        Objects.requireNonNull ( s );\r\n        if ( s.codePoints ( ).count ( ) != 1 )\r\n        {\r\n            throw new IllegalArgumentException ( &quot;String must contain a single character, able to be represented by a single code point.&quot; );\r\n        }\r\n        return s.codePointAt ( 0 );\r\n    }\r\n}\r\n```\r\n\r\nExample usage, producing &quot;Hello World!&quot;. \r\n\r\n```java\r\nString helloWorld =\r\n        Ascii.Uppercase.LATIN_CAPITAL_LETTER_H +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_E +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_O +\r\n                Ascii.Punctuation.SPACE +\r\n                Ascii.Uppercase.LATIN_CAPITAL_LETTER_W +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_O +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_R +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\r\n                Ascii.Lowercase.LATIN_SMALL_LETTER_D +\r\n                Ascii.Punctuation.EXCLAMATION_MARK +\r\n                Ascii.Control.LINE_FEED_LF +\r\n                Ascii.Symbol.DOLLAR_SIGN +\r\n                Ascii.Digit.DIGIT_ONE +\r\n                Ascii.Digit.DIGIT_TWO +\r\n                Ascii.Punctuation.FULL_STOP +\r\n                Ascii.Digit.DIGIT_SEVEN +\r\n                Ascii.Digit.DIGIT_ZERO +\r\n                Ascii.Control.LINE_FEED_LF +\r\n                Ascii.Symbol.GREATER_THAN_SIGN +\r\n                Ascii.Control.LINE_FEED_LF +\r\n                Ascii.Digit.DIGIT_ZERO;\r\n\r\nSystem.out.println ( helloWorld );\r\n```\r\n\r\nRun.\r\n\r\n```none\r\nHello World!\r\n$12.70\r\n&gt;\r\n0\r\n```\r\n\r\nYou can access the code point for any of these characters using the provided `codePoint` method. This method expects a `String` that contains exactly one single character. This method is merely a convenience in place of `&quot;A&quot;.codePointAt ( 0 )`.\r\n\r\n    Ascii.codePoint ( Ascii.Uppercase.LATIN_CAPITAL_LETTER_A )\r\n\r\n&gt;65\r\n\r\n\r\n## Generator code\r\n\r\nHere is the code I wrote to generate the source code seen above. \r\n\r\nYou may find this useful if you want to tweak the results to your own preferences for delimiters, names, grouping, etc.\r\n\r\n```java\r\npackage work.basil.unicode;\r\n\r\nimport java.util.*;\r\n\r\n/*\r\n Generates source code for a .java class filled with constants naming each of the 128 US-ASCII\r\n characters that make up beginning of Unicode.\r\n These constant names may be helpful to the developer seeking to avoid &quot;magic numbers&quot;\r\n in their code when working with individual code points.\r\n Tip: You can get the code point integer number for any of these constant strings:\r\n Ascii.Uppercase.LATIN_CAPITAL_LETTER_A.codePointAt ( 0 ) -&gt; 65\r\n\r\n For reference, see Unicode Consortium document &quot;C0 Controls and Basic Latin Range: 0000–007F&quot;\r\n https://unicode.org/charts/PDF/U0000.pdf\r\n\r\n By Basil Bourque.\r\n*/\r\npublic class AsciiGenerator\r\n{\r\n    // Fields\r\n    private final SequencedCollection &lt; Integer &gt; control = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; Integer &gt; punctuation = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; Integer &gt; symbol = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; Integer &gt; digit = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; Integer &gt; uppercase = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; Integer &gt; lowercase = new ArrayList &lt;&gt; ( );\r\n    private final SequencedCollection &lt; SequencedCollection &lt; Integer &gt; &gt; codePointGroups =\r\n            List.of (\r\n                    this.control ,\r\n                    this.punctuation ,\r\n                    this.symbol ,\r\n                    this.digit ,\r\n                    this.uppercase ,\r\n                    this.lowercase\r\n            );\r\n    private final Map &lt; SequencedCollection &lt; Integer &gt;, String &gt; mapCodePointGroupToMethodName;\r\n\r\n    // Constructor\r\n    public AsciiGenerator ( )\r\n    {\r\n        this.populate ( );\r\n        mapCodePointGroupToMethodName =\r\n                Map.of (\r\n                        this.control , &quot;Control&quot; ,\r\n                        this.punctuation , &quot;Punctuation&quot; ,\r\n                        this.symbol , &quot;Symbol&quot; ,\r\n                        this.digit , &quot;Digit&quot; ,\r\n                        this.uppercase , &quot;Uppercase&quot; ,\r\n                        this.lowercase , &quot;Lowercase&quot;\r\n                );\r\n    }\r\n\r\n    private void populate ( )\r\n    {\r\n        List &lt; Byte &gt; punctuationTypes = List.of (\r\n                Character.CONNECTOR_PUNCTUATION ,\r\n                Character.DASH_PUNCTUATION ,\r\n                Character.END_PUNCTUATION ,\r\n                Character.FINAL_QUOTE_PUNCTUATION ,\r\n                Character.INITIAL_QUOTE_PUNCTUATION ,\r\n                Character.OTHER_PUNCTUATION ,\r\n                Character.START_PUNCTUATION );\r\n\r\n        final int COUNT_OF_ASCII_CHARACTERS = 128;\r\n        for ( int codePoint = 0 ; codePoint &lt; COUNT_OF_ASCII_CHARACTERS ; codePoint++ )\r\n        {\r\n            switch ( Character.getType ( codePoint ) )\r\n            {\r\n                case Character.CONTROL -&gt; this.control.add ( codePoint );\r\n                case Character.CONNECTOR_PUNCTUATION ,\r\n                        Character.DASH_PUNCTUATION ,\r\n                        Character.END_PUNCTUATION ,\r\n                        Character.FINAL_QUOTE_PUNCTUATION ,\r\n                        Character.INITIAL_QUOTE_PUNCTUATION ,\r\n                        Character.OTHER_PUNCTUATION ,\r\n                        Character.START_PUNCTUATION ,\r\n                        Character.SPACE_SEPARATOR -&gt; this.punctuation.add ( codePoint );\r\n                case Character.CURRENCY_SYMBOL ,\r\n                        Character.MATH_SYMBOL ,\r\n                        Character.MODIFIER_SYMBOL -&gt; this.symbol.add ( codePoint );\r\n                case Character.DECIMAL_DIGIT_NUMBER -&gt; this.digit.add ( codePoint );\r\n                case Character.LOWERCASE_LETTER -&gt; this.lowercase.add ( codePoint );\r\n                case Character.UPPERCASE_LETTER -&gt; this.uppercase.add ( codePoint );\r\n                default -&gt; System.out.println ( &quot;ERROR Unexpected codePoint = &quot; + codePoint + &quot; | type = &quot; + Character.getType ( codePoint ) );\r\n            }\r\n        }\r\n    }\r\n\r\n    public void dump ( )\r\n    {\r\n        this.codePointGroups.forEach ( System.out :: println ); // Dump each collection of code points.\r\n        int total = this.codePointGroups.stream ( ).mapToInt ( Collection :: size ).sum ( ); // Count all the code points across all the collecions. Should be 128.\r\n        System.out.println ( &quot;Total number of code points: &quot; + total );\r\n    }\r\n\r\n    public String generateSourceCodeForClassOfConstants ( )\r\n    {\r\n        final String INDENT = &quot; &quot;.repeat ( 4 );  // Indent four SPACE characters. Or perhaps one TAB character, if you like.\r\n        final String EOL = &quot;\\n&quot;;  // End-of-line terminator: LINE FEED. Or perhaps CR-LF, if you like.\r\n        final StringBuilder sourceCode = new StringBuilder ( );\r\n        sourceCode.append ( &quot;&quot;&quot;\r\n                package work.basil.unicode;\r\n                          \r\n                @SuppressWarnings ( &quot;unused&quot; )\r\n                public final class Ascii\r\n                {\r\n                &quot;&quot;&quot; );\r\n        sourceCode.append ( &quot;&quot;&quot;\r\n                    // -----------|  US-ASCII character constants grouped via nested classes  |--------------\r\n                &quot;&quot;&quot; );\r\n\r\n        for ( SequencedCollection &lt; Integer &gt; codePointGroup : codePointGroups )\r\n        {\r\n            String nestedClassName = mapCodePointGroupToMethodName.get ( codePointGroup );\r\n            sourceCode\r\n                    .append ( INDENT )\r\n                    .append ( &quot;public static final class &quot; )\r\n                    .append ( nestedClassName )\r\n                    .append ( EOL )\r\n                    .append ( INDENT )\r\n                    .append ( &quot;{&quot; )\r\n                    .append ( EOL );\r\n            for ( Integer codePoint : codePointGroup )\r\n            {\r\n                String name =\r\n                        Character\r\n                                .getName ( codePoint )\r\n                                .replace ( &quot; &quot; , &quot;_&quot; )\r\n                                .replace ( &quot;(&quot; , &quot;&quot; )  // Delete parens from &quot;LINE FEED (LF)&quot;, &quot;FORM FEED (FF)&quot;, &quot;CARRIAGE RETURN (CR).\r\n                                .replace ( &quot;)&quot; , &quot;&quot; )\r\n                                .replace ( &quot;-&quot; , &quot;_&quot; );  // Replace &quot;-&quot; in &quot;HYPHEN-MINUS&quot; with &quot;_&quot; (LOW LINE).;\r\n                sourceCode\r\n                        .append ( INDENT.repeat ( 2 ) )\r\n                        .append ( &quot;public static final String &quot; )\r\n                        .append ( name )\r\n                        .append ( &quot; = Character.toString ( &quot; )\r\n                        .append ( codePoint )\r\n                        .append ( &quot; );&quot; )\r\n                        .append ( EOL );\r\n            }\r\n            sourceCode\r\n                    .append ( INDENT )\r\n                    .append ( &quot;}&quot; )\r\n                    .append ( EOL );\r\n        }\r\n\r\n        sourceCode.append ( &quot;&quot;&quot;\r\n                    \r\n                    // Convenience method to return the code point integer number for the first and only character in the submitted string.\r\n                    public static int codePoint ( final String s )\r\n                    {\r\n                        Objects.requireNonNull ( s );\r\n                        if ( s.codePoints ( ).count ( ) != 1 )\r\n                        {\r\n                            throw new IllegalArgumentException ( &quot;String must contain a single character, able to be represented by a single code point.&quot; );\r\n                        }\r\n                        return s.codePointAt ( 0 );\r\n                    }\r\n                &quot;&quot;&quot; );\r\n\r\n        sourceCode\r\n                .append ( &quot;}&quot; );\r\n        return sourceCode.toString ( );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        AsciiGenerator asciiGenerator = new AsciiGenerator ( );\r\n        asciiGenerator.dump ( );\r\n        System.out.println ( &quot;-----------|  Class Source Code  |-----------------&quot; );\r\n        System.out.println ( asciiGenerator.generateSourceCodeForClassOfConstants ( ) );\r\n        System.out.println ( &quot;-----------|  end  |-----------------&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ASCII\r\n  [2]: https://en.wikipedia.org/wiki/List_of_Unicode_characters#Basic_Latin\r\n  [3]: https://en.wikipedia.org/wiki/Unicode\r\n  [4]: https://en.wikipedia.org/wiki/Source-code_editor\r\n  [5]: https://en.wikipedia.org/wiki/Control_character","title":"Does Java define constants for any characters such as SPACE?","body":"<h1>Constants for ASCII</h1>\n<h2>Code with nested classes containing constants</h2>\n<p>Here is source code that defines a constant name for each of the 128 <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">US-ASCII</a> characters that make up the <a href=\"https://en.wikipedia.org/wiki/List_of_Unicode_characters#Basic_Latin\" rel=\"nofollow noreferrer\">beginning</a> of <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>The approach here uses nested <code>static</code> classes containing <code>static</code> string constants, 128 constants for the 128 US-ASCII characters. By nesting the classes, we enable the intelligent type-ahead fill-in suggestion feature of modern <a href=\"https://en.wikipedia.org/wiki/Source-code_editor\" rel=\"nofollow noreferrer\">code-editors</a>.</p>\n<p>Nested interfaces could be used instead of classes, but I do not know of any benefits in terms of memory or speed.</p>\n<p>Of course you can modify this code. For example, if you only want names of <a href=\"https://en.wikipedia.org/wiki/Control_character\" rel=\"nofollow noreferrer\">control characters</a>, excerpt that nested class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.unicode;\n\n@SuppressWarnings ( &quot;unused&quot; )\npublic final class Ascii\n{\n    // -----------|  US-ASCII character constants grouped via nested classes  |--------------\n    public static final class Control\n    {\n        public static final String NULL = Character.toString ( 0 );\n        public static final String START_OF_HEADING = Character.toString ( 1 );\n        public static final String START_OF_TEXT = Character.toString ( 2 );\n        public static final String END_OF_TEXT = Character.toString ( 3 );\n        public static final String END_OF_TRANSMISSION = Character.toString ( 4 );\n        public static final String ENQUIRY = Character.toString ( 5 );\n        public static final String ACKNOWLEDGE = Character.toString ( 6 );\n        public static final String BEL = Character.toString ( 7 );\n        public static final String BACKSPACE = Character.toString ( 8 );\n        public static final String CHARACTER_TABULATION = Character.toString ( 9 );\n        public static final String LINE_FEED_LF = Character.toString ( 10 );\n        public static final String LINE_TABULATION = Character.toString ( 11 );\n        public static final String FORM_FEED_FF = Character.toString ( 12 );\n        public static final String CARRIAGE_RETURN_CR = Character.toString ( 13 );\n        public static final String SHIFT_OUT = Character.toString ( 14 );\n        public static final String SHIFT_IN = Character.toString ( 15 );\n        public static final String DATA_LINK_ESCAPE = Character.toString ( 16 );\n        public static final String DEVICE_CONTROL_ONE = Character.toString ( 17 );\n        public static final String DEVICE_CONTROL_TWO = Character.toString ( 18 );\n        public static final String DEVICE_CONTROL_THREE = Character.toString ( 19 );\n        public static final String DEVICE_CONTROL_FOUR = Character.toString ( 20 );\n        public static final String NEGATIVE_ACKNOWLEDGE = Character.toString ( 21 );\n        public static final String SYNCHRONOUS_IDLE = Character.toString ( 22 );\n        public static final String END_OF_TRANSMISSION_BLOCK = Character.toString ( 23 );\n        public static final String CANCEL = Character.toString ( 24 );\n        public static final String END_OF_MEDIUM = Character.toString ( 25 );\n        public static final String SUBSTITUTE = Character.toString ( 26 );\n        public static final String ESCAPE = Character.toString ( 27 );\n        public static final String INFORMATION_SEPARATOR_FOUR = Character.toString ( 28 );\n        public static final String INFORMATION_SEPARATOR_THREE = Character.toString ( 29 );\n        public static final String INFORMATION_SEPARATOR_TWO = Character.toString ( 30 );\n        public static final String INFORMATION_SEPARATOR_ONE = Character.toString ( 31 );\n        public static final String DELETE = Character.toString ( 127 );\n    }\n    public static final class Punctuation\n    {\n        public static final String SPACE = Character.toString ( 32 );\n        public static final String EXCLAMATION_MARK = Character.toString ( 33 );\n        public static final String QUOTATION_MARK = Character.toString ( 34 );\n        public static final String NUMBER_SIGN = Character.toString ( 35 );\n        public static final String PERCENT_SIGN = Character.toString ( 37 );\n        public static final String AMPERSAND = Character.toString ( 38 );\n        public static final String APOSTROPHE = Character.toString ( 39 );\n        public static final String LEFT_PARENTHESIS = Character.toString ( 40 );\n        public static final String RIGHT_PARENTHESIS = Character.toString ( 41 );\n        public static final String ASTERISK = Character.toString ( 42 );\n        public static final String COMMA = Character.toString ( 44 );\n        public static final String HYPHEN_MINUS = Character.toString ( 45 );\n        public static final String FULL_STOP = Character.toString ( 46 );\n        public static final String SOLIDUS = Character.toString ( 47 );\n        public static final String COLON = Character.toString ( 58 );\n        public static final String SEMICOLON = Character.toString ( 59 );\n        public static final String QUESTION_MARK = Character.toString ( 63 );\n        public static final String COMMERCIAL_AT = Character.toString ( 64 );\n        public static final String LEFT_SQUARE_BRACKET = Character.toString ( 91 );\n        public static final String REVERSE_SOLIDUS = Character.toString ( 92 );\n        public static final String RIGHT_SQUARE_BRACKET = Character.toString ( 93 );\n        public static final String LOW_LINE = Character.toString ( 95 );\n        public static final String LEFT_CURLY_BRACKET = Character.toString ( 123 );\n        public static final String RIGHT_CURLY_BRACKET = Character.toString ( 125 );\n    }\n    public static final class Symbol\n    {\n        public static final String DOLLAR_SIGN = Character.toString ( 36 );\n        public static final String PLUS_SIGN = Character.toString ( 43 );\n        public static final String LESS_THAN_SIGN = Character.toString ( 60 );\n        public static final String EQUALS_SIGN = Character.toString ( 61 );\n        public static final String GREATER_THAN_SIGN = Character.toString ( 62 );\n        public static final String CIRCUMFLEX_ACCENT = Character.toString ( 94 );\n        public static final String GRAVE_ACCENT = Character.toString ( 96 );\n        public static final String VERTICAL_LINE = Character.toString ( 124 );\n        public static final String TILDE = Character.toString ( 126 );\n    }\n    public static final class Digit\n    {\n        public static final String DIGIT_ZERO = Character.toString ( 48 );\n        public static final String DIGIT_ONE = Character.toString ( 49 );\n        public static final String DIGIT_TWO = Character.toString ( 50 );\n        public static final String DIGIT_THREE = Character.toString ( 51 );\n        public static final String DIGIT_FOUR = Character.toString ( 52 );\n        public static final String DIGIT_FIVE = Character.toString ( 53 );\n        public static final String DIGIT_SIX = Character.toString ( 54 );\n        public static final String DIGIT_SEVEN = Character.toString ( 55 );\n        public static final String DIGIT_EIGHT = Character.toString ( 56 );\n        public static final String DIGIT_NINE = Character.toString ( 57 );\n    }\n    public static final class Uppercase\n    {\n        public static final String LATIN_CAPITAL_LETTER_A = Character.toString ( 65 );\n        public static final String LATIN_CAPITAL_LETTER_B = Character.toString ( 66 );\n        public static final String LATIN_CAPITAL_LETTER_C = Character.toString ( 67 );\n        public static final String LATIN_CAPITAL_LETTER_D = Character.toString ( 68 );\n        public static final String LATIN_CAPITAL_LETTER_E = Character.toString ( 69 );\n        public static final String LATIN_CAPITAL_LETTER_F = Character.toString ( 70 );\n        public static final String LATIN_CAPITAL_LETTER_G = Character.toString ( 71 );\n        public static final String LATIN_CAPITAL_LETTER_H = Character.toString ( 72 );\n        public static final String LATIN_CAPITAL_LETTER_I = Character.toString ( 73 );\n        public static final String LATIN_CAPITAL_LETTER_J = Character.toString ( 74 );\n        public static final String LATIN_CAPITAL_LETTER_K = Character.toString ( 75 );\n        public static final String LATIN_CAPITAL_LETTER_L = Character.toString ( 76 );\n        public static final String LATIN_CAPITAL_LETTER_M = Character.toString ( 77 );\n        public static final String LATIN_CAPITAL_LETTER_N = Character.toString ( 78 );\n        public static final String LATIN_CAPITAL_LETTER_O = Character.toString ( 79 );\n        public static final String LATIN_CAPITAL_LETTER_P = Character.toString ( 80 );\n        public static final String LATIN_CAPITAL_LETTER_Q = Character.toString ( 81 );\n        public static final String LATIN_CAPITAL_LETTER_R = Character.toString ( 82 );\n        public static final String LATIN_CAPITAL_LETTER_S = Character.toString ( 83 );\n        public static final String LATIN_CAPITAL_LETTER_T = Character.toString ( 84 );\n        public static final String LATIN_CAPITAL_LETTER_U = Character.toString ( 85 );\n        public static final String LATIN_CAPITAL_LETTER_V = Character.toString ( 86 );\n        public static final String LATIN_CAPITAL_LETTER_W = Character.toString ( 87 );\n        public static final String LATIN_CAPITAL_LETTER_X = Character.toString ( 88 );\n        public static final String LATIN_CAPITAL_LETTER_Y = Character.toString ( 89 );\n        public static final String LATIN_CAPITAL_LETTER_Z = Character.toString ( 90 );\n    }\n    public static final class Lowercase\n    {\n        public static final String LATIN_SMALL_LETTER_A = Character.toString ( 97 );\n        public static final String LATIN_SMALL_LETTER_B = Character.toString ( 98 );\n        public static final String LATIN_SMALL_LETTER_C = Character.toString ( 99 );\n        public static final String LATIN_SMALL_LETTER_D = Character.toString ( 100 );\n        public static final String LATIN_SMALL_LETTER_E = Character.toString ( 101 );\n        public static final String LATIN_SMALL_LETTER_F = Character.toString ( 102 );\n        public static final String LATIN_SMALL_LETTER_G = Character.toString ( 103 );\n        public static final String LATIN_SMALL_LETTER_H = Character.toString ( 104 );\n        public static final String LATIN_SMALL_LETTER_I = Character.toString ( 105 );\n        public static final String LATIN_SMALL_LETTER_J = Character.toString ( 106 );\n        public static final String LATIN_SMALL_LETTER_K = Character.toString ( 107 );\n        public static final String LATIN_SMALL_LETTER_L = Character.toString ( 108 );\n        public static final String LATIN_SMALL_LETTER_M = Character.toString ( 109 );\n        public static final String LATIN_SMALL_LETTER_N = Character.toString ( 110 );\n        public static final String LATIN_SMALL_LETTER_O = Character.toString ( 111 );\n        public static final String LATIN_SMALL_LETTER_P = Character.toString ( 112 );\n        public static final String LATIN_SMALL_LETTER_Q = Character.toString ( 113 );\n        public static final String LATIN_SMALL_LETTER_R = Character.toString ( 114 );\n        public static final String LATIN_SMALL_LETTER_S = Character.toString ( 115 );\n        public static final String LATIN_SMALL_LETTER_T = Character.toString ( 116 );\n        public static final String LATIN_SMALL_LETTER_U = Character.toString ( 117 );\n        public static final String LATIN_SMALL_LETTER_V = Character.toString ( 118 );\n        public static final String LATIN_SMALL_LETTER_W = Character.toString ( 119 );\n        public static final String LATIN_SMALL_LETTER_X = Character.toString ( 120 );\n        public static final String LATIN_SMALL_LETTER_Y = Character.toString ( 121 );\n        public static final String LATIN_SMALL_LETTER_Z = Character.toString ( 122 );\n    }\n\n    // Convenience method to return the code point integer number for the first and only character in the submitted string.\n    public static int codePoint ( final String s )\n    {\n        Objects.requireNonNull ( s );\n        if ( s.codePoints ( ).count ( ) != 1 )\n        {\n            throw new IllegalArgumentException ( &quot;String must contain a single character, able to be represented by a single code point.&quot; );\n        }\n        return s.codePointAt ( 0 );\n    }\n}\n</code></pre>\n<p>Example usage, producing &quot;Hello World!&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String helloWorld =\n        Ascii.Uppercase.LATIN_CAPITAL_LETTER_H +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_E +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_O +\n                Ascii.Punctuation.SPACE +\n                Ascii.Uppercase.LATIN_CAPITAL_LETTER_W +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_O +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_R +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_L +\n                Ascii.Lowercase.LATIN_SMALL_LETTER_D +\n                Ascii.Punctuation.EXCLAMATION_MARK +\n                Ascii.Control.LINE_FEED_LF +\n                Ascii.Symbol.DOLLAR_SIGN +\n                Ascii.Digit.DIGIT_ONE +\n                Ascii.Digit.DIGIT_TWO +\n                Ascii.Punctuation.FULL_STOP +\n                Ascii.Digit.DIGIT_SEVEN +\n                Ascii.Digit.DIGIT_ZERO +\n                Ascii.Control.LINE_FEED_LF +\n                Ascii.Symbol.GREATER_THAN_SIGN +\n                Ascii.Control.LINE_FEED_LF +\n                Ascii.Digit.DIGIT_ZERO;\n\nSystem.out.println ( helloWorld );\n</code></pre>\n<p>Run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World!\n$12.70\n&gt;\n0\n</code></pre>\n<p>You can access the code point for any of these characters using the provided <code>codePoint</code> method. This method expects a <code>String</code> that contains exactly one single character. This method is merely a convenience in place of <code>&quot;A&quot;.codePointAt ( 0 )</code>.</p>\n<pre><code>Ascii.codePoint ( Ascii.Uppercase.LATIN_CAPITAL_LETTER_A )\n</code></pre>\n<blockquote>\n<p>65</p>\n</blockquote>\n<h2>Generator code</h2>\n<p>Here is the code I wrote to generate the source code seen above.</p>\n<p>You may find this useful if you want to tweak the results to your own preferences for delimiters, names, grouping, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.unicode;\n\nimport java.util.*;\n\n/*\n Generates source code for a .java class filled with constants naming each of the 128 US-ASCII\n characters that make up beginning of Unicode.\n These constant names may be helpful to the developer seeking to avoid &quot;magic numbers&quot;\n in their code when working with individual code points.\n Tip: You can get the code point integer number for any of these constant strings:\n Ascii.Uppercase.LATIN_CAPITAL_LETTER_A.codePointAt ( 0 ) -&gt; 65\n\n For reference, see Unicode Consortium document &quot;C0 Controls and Basic Latin Range: 0000–007F&quot;\n https://unicode.org/charts/PDF/U0000.pdf\n\n By Basil Bourque.\n*/\npublic class AsciiGenerator\n{\n    // Fields\n    private final SequencedCollection &lt; Integer &gt; control = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; Integer &gt; punctuation = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; Integer &gt; symbol = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; Integer &gt; digit = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; Integer &gt; uppercase = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; Integer &gt; lowercase = new ArrayList &lt;&gt; ( );\n    private final SequencedCollection &lt; SequencedCollection &lt; Integer &gt; &gt; codePointGroups =\n            List.of (\n                    this.control ,\n                    this.punctuation ,\n                    this.symbol ,\n                    this.digit ,\n                    this.uppercase ,\n                    this.lowercase\n            );\n    private final Map &lt; SequencedCollection &lt; Integer &gt;, String &gt; mapCodePointGroupToMethodName;\n\n    // Constructor\n    public AsciiGenerator ( )\n    {\n        this.populate ( );\n        mapCodePointGroupToMethodName =\n                Map.of (\n                        this.control , &quot;Control&quot; ,\n                        this.punctuation , &quot;Punctuation&quot; ,\n                        this.symbol , &quot;Symbol&quot; ,\n                        this.digit , &quot;Digit&quot; ,\n                        this.uppercase , &quot;Uppercase&quot; ,\n                        this.lowercase , &quot;Lowercase&quot;\n                );\n    }\n\n    private void populate ( )\n    {\n        List &lt; Byte &gt; punctuationTypes = List.of (\n                Character.CONNECTOR_PUNCTUATION ,\n                Character.DASH_PUNCTUATION ,\n                Character.END_PUNCTUATION ,\n                Character.FINAL_QUOTE_PUNCTUATION ,\n                Character.INITIAL_QUOTE_PUNCTUATION ,\n                Character.OTHER_PUNCTUATION ,\n                Character.START_PUNCTUATION );\n\n        final int COUNT_OF_ASCII_CHARACTERS = 128;\n        for ( int codePoint = 0 ; codePoint &lt; COUNT_OF_ASCII_CHARACTERS ; codePoint++ )\n        {\n            switch ( Character.getType ( codePoint ) )\n            {\n                case Character.CONTROL -&gt; this.control.add ( codePoint );\n                case Character.CONNECTOR_PUNCTUATION ,\n                        Character.DASH_PUNCTUATION ,\n                        Character.END_PUNCTUATION ,\n                        Character.FINAL_QUOTE_PUNCTUATION ,\n                        Character.INITIAL_QUOTE_PUNCTUATION ,\n                        Character.OTHER_PUNCTUATION ,\n                        Character.START_PUNCTUATION ,\n                        Character.SPACE_SEPARATOR -&gt; this.punctuation.add ( codePoint );\n                case Character.CURRENCY_SYMBOL ,\n                        Character.MATH_SYMBOL ,\n                        Character.MODIFIER_SYMBOL -&gt; this.symbol.add ( codePoint );\n                case Character.DECIMAL_DIGIT_NUMBER -&gt; this.digit.add ( codePoint );\n                case Character.LOWERCASE_LETTER -&gt; this.lowercase.add ( codePoint );\n                case Character.UPPERCASE_LETTER -&gt; this.uppercase.add ( codePoint );\n                default -&gt; System.out.println ( &quot;ERROR Unexpected codePoint = &quot; + codePoint + &quot; | type = &quot; + Character.getType ( codePoint ) );\n            }\n        }\n    }\n\n    public void dump ( )\n    {\n        this.codePointGroups.forEach ( System.out :: println ); // Dump each collection of code points.\n        int total = this.codePointGroups.stream ( ).mapToInt ( Collection :: size ).sum ( ); // Count all the code points across all the collecions. Should be 128.\n        System.out.println ( &quot;Total number of code points: &quot; + total );\n    }\n\n    public String generateSourceCodeForClassOfConstants ( )\n    {\n        final String INDENT = &quot; &quot;.repeat ( 4 );  // Indent four SPACE characters. Or perhaps one TAB character, if you like.\n        final String EOL = &quot;\\n&quot;;  // End-of-line terminator: LINE FEED. Or perhaps CR-LF, if you like.\n        final StringBuilder sourceCode = new StringBuilder ( );\n        sourceCode.append ( &quot;&quot;&quot;\n                package work.basil.unicode;\n                          \n                @SuppressWarnings ( &quot;unused&quot; )\n                public final class Ascii\n                {\n                &quot;&quot;&quot; );\n        sourceCode.append ( &quot;&quot;&quot;\n                    // -----------|  US-ASCII character constants grouped via nested classes  |--------------\n                &quot;&quot;&quot; );\n\n        for ( SequencedCollection &lt; Integer &gt; codePointGroup : codePointGroups )\n        {\n            String nestedClassName = mapCodePointGroupToMethodName.get ( codePointGroup );\n            sourceCode\n                    .append ( INDENT )\n                    .append ( &quot;public static final class &quot; )\n                    .append ( nestedClassName )\n                    .append ( EOL )\n                    .append ( INDENT )\n                    .append ( &quot;{&quot; )\n                    .append ( EOL );\n            for ( Integer codePoint : codePointGroup )\n            {\n                String name =\n                        Character\n                                .getName ( codePoint )\n                                .replace ( &quot; &quot; , &quot;_&quot; )\n                                .replace ( &quot;(&quot; , &quot;&quot; )  // Delete parens from &quot;LINE FEED (LF)&quot;, &quot;FORM FEED (FF)&quot;, &quot;CARRIAGE RETURN (CR).\n                                .replace ( &quot;)&quot; , &quot;&quot; )\n                                .replace ( &quot;-&quot; , &quot;_&quot; );  // Replace &quot;-&quot; in &quot;HYPHEN-MINUS&quot; with &quot;_&quot; (LOW LINE).;\n                sourceCode\n                        .append ( INDENT.repeat ( 2 ) )\n                        .append ( &quot;public static final String &quot; )\n                        .append ( name )\n                        .append ( &quot; = Character.toString ( &quot; )\n                        .append ( codePoint )\n                        .append ( &quot; );&quot; )\n                        .append ( EOL );\n            }\n            sourceCode\n                    .append ( INDENT )\n                    .append ( &quot;}&quot; )\n                    .append ( EOL );\n        }\n\n        sourceCode.append ( &quot;&quot;&quot;\n                    \n                    // Convenience method to return the code point integer number for the first and only character in the submitted string.\n                    public static int codePoint ( final String s )\n                    {\n                        Objects.requireNonNull ( s );\n                        if ( s.codePoints ( ).count ( ) != 1 )\n                        {\n                            throw new IllegalArgumentException ( &quot;String must contain a single character, able to be represented by a single code point.&quot; );\n                        }\n                        return s.codePointAt ( 0 );\n                    }\n                &quot;&quot;&quot; );\n\n        sourceCode\n                .append ( &quot;}&quot; );\n        return sourceCode.toString ( );\n    }\n\n    public static void main ( String[] args )\n    {\n        AsciiGenerator asciiGenerator = new AsciiGenerator ( );\n        asciiGenerator.dump ( );\n        System.out.println ( &quot;-----------|  Class Source Code  |-----------------&quot; );\n        System.out.println ( asciiGenerator.generateSourceCodeForClassOfConstants ( ) );\n        System.out.println ( &quot;-----------|  end  |-----------------&quot; );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44444,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":77248280,"answer_count":5,"score":25,"last_activity_date":1701252846,"creation_date":1445062937,"question_id":33183525,"body_markdown":"Does Java include any constants for single characters such as [SPACE][1]? \r\n\r\nHaving names taken from Unicode would be handy when doing string manipulations.\r\n\r\nI want this:\r\n\r\n    String musician = &quot;Lisa&quot; + Character.SPACE + &quot;Coleman&quot; ;\r\n\r\n…rather than this:\r\n\r\n    String musician = &quot;Lisa&quot; + &quot; &quot; + &quot;Coleman&quot; ;\r\n\r\n(not to be confused with the [java.lang.Character][2] class)\r\n\r\nIf nothing bundled with Java, alternatives?\r\n\r\n\r\n  [1]: http://www.fileformat.info/info/unicode/char/20/index.htm\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html","title":"Does Java define constants for any characters such as SPACE?","body":"<p>Does Java include any constants for single characters such as <a href=\"http://www.fileformat.info/info/unicode/char/20/index.htm\" rel=\"noreferrer\">SPACE</a>? </p>\n\n<p>Having names taken from Unicode would be handy when doing string manipulations.</p>\n\n<p>I want this:</p>\n\n<pre><code>String musician = \"Lisa\" + Character.SPACE + \"Coleman\" ;\n</code></pre>\n\n<p>…rather than this:</p>\n\n<pre><code>String musician = \"Lisa\" + \" \" + \"Coleman\" ;\n</code></pre>\n\n<p>(not to be confused with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html\" rel=\"noreferrer\">java.lang.Character</a> class)</p>\n\n<p>If nothing bundled with Java, alternatives?</p>\n"},{"tags":["java","kotlin","concurrency","kotlin-coroutines","virtual-threads"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1694020260,"post_id":77053797,"comment_id":135837556,"body_markdown":"They&#39;re not mutually exclusive. Coroutines can execute on virtual threads or platform threads.","body":"They&#39;re not mutually exclusive. Coroutines can execute on virtual threads or platform threads."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1694024643,"post_id":77053797,"comment_id":135838320,"body_markdown":"@Slaw Sure, but I think the spirit of the question is - If we made a Venn Diagram about what each one is good for, what would be the XOR value? Or are you implying that because Coroutines can run on VT, that all benefits of VT are a subset of the benefits Coroutine offers?","body":"@Slaw Sure, but I think the spirit of the question is - If we made a Venn Diagram about what each one is good for, what would be the XOR value? Or are you implying that because Coroutines can run on VT, that all benefits of VT are a subset of the benefits Coroutine offers?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1694024745,"post_id":77053797,"comment_id":135838345,"body_markdown":"I think there is no clear answer. If you use Kotlin as a syntactic sugar over JVM environment and java libraries, maybe coroutines are not adapted, but if you use multiplatform or Kotlin libraries, then coroutines will be a better fit. You can watch [this comparison from Kotlin conf](https://www.youtube.com/watch?v=zluKcazgkV4) (it might be biased toward coroutines, though)","body":"I think there is no clear answer. If you use Kotlin as a syntactic sugar over JVM environment and java libraries, maybe coroutines are not adapted, but if you use multiplatform or Kotlin libraries, then coroutines will be a better fit. You can watch <a href=\"https://www.youtube.com/watch?v=zluKcazgkV4\" rel=\"nofollow noreferrer\">this comparison from Kotlin conf</a> (it might be biased toward coroutines, though)"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694024962,"post_id":77053797,"comment_id":135838394,"body_markdown":"@amanin I saw that video too. I hesitated from posting it because I too am concerned about bias. Not to mention, they themselves admitted that they were comparing coroutines against a beta version of VT.","body":"@amanin I saw that video too. I hesitated from posting it because I too am concerned about bias. Not to mention, they themselves admitted that they were comparing coroutines against a beta version of VT."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1694025518,"post_id":77053797,"comment_id":135838499,"body_markdown":"@davidalayachew Yes, but I&#39;ve found it informative nonetheless. Another possible comparison : not so long ago, I&#39;ve read a good article [reproducing Go concurrency tour with java Loom](https://mccue.dev/pages/5-2-22-go-concurrency-in-java). I then tried to [reproduce it with Kotlin coroutines](https://github.com/alexismanin/concurrency-examples-kt) instead. I&#39;ve found it to be a very good experiment, but maybe more thanks to Kotlin language itself than to coroutines. But at least it allow to compare both technologies on the exact same jobs.","body":"@davidalayachew Yes, but I&#39;ve found it informative nonetheless. Another possible comparison : not so long ago, I&#39;ve read a good article <a href=\"https://mccue.dev/pages/5-2-22-go-concurrency-in-java\" rel=\"nofollow noreferrer\">reproducing Go concurrency tour with java Loom</a>. I then tried to <a href=\"https://github.com/alexismanin/concurrency-examples-kt\" rel=\"nofollow noreferrer\">reproduce it with Kotlin coroutines</a> instead. I&#39;ve found it to be a very good experiment, but maybe more thanks to Kotlin language itself than to coroutines. But at least it allow to compare both technologies on the exact same jobs."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1694025564,"post_id":77053797,"comment_id":135838505,"body_markdown":"@davidalayachew Yes, that&#39;s basically what I&#39;m saying (for the JVM anyway). Coroutines are a concurrency model/paradigm/implementation &quot;above&quot; threads. At least, that&#39;s how I understand it. You tell the code which context to run under and call suspending functions. Then the &quot;framework&quot; handles executing the code on the right threads at the right time. So, for example, they could have `Dispatchers.IO` use virtual threads while `Dispatchers.Default` uses platform threads.","body":"@davidalayachew Yes, that&#39;s basically what I&#39;m saying (for the JVM anyway). Coroutines are a concurrency model/paradigm/implementation &quot;above&quot; threads. At least, that&#39;s how I understand it. You tell the code which context to run under and call suspending functions. Then the &quot;framework&quot; handles executing the code on the right threads at the right time. So, for example, they could have <code>Dispatchers.IO</code> use virtual threads while <code>Dispatchers.Default</code> uses platform threads."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694025820,"post_id":77053797,"comment_id":135838555,"body_markdown":"@amanin Indeed, very informative. Ultimately, regardless of which tool *alone* can perform a certain task faster, the fact is, Loom improves much of the ecosystem -- ***including Coroutines***. Whether or not naked Loom solves our problems *alone* better than Coroutines is irrelevant.","body":"@amanin Indeed, very informative. Ultimately, regardless of which tool <i>alone</i> can perform a certain task faster, the fact is, Loom improves much of the ecosystem -- <b><i>including Coroutines</i></b>. Whether or not naked Loom solves our problems <i>alone</i> better than Coroutines is irrelevant."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1694027319,"post_id":77053797,"comment_id":135838841,"body_markdown":"Virtual threads and Coroutines are syntactic sugar for event based processing in a shared thread pool (like async/await in JS), so neither is great for CPU intensive tasks that run without pause because you can only share threads in the pool if you pause and wait for e.g. IO. Whether one implementation / style has benefits over the other remains to be seen.","body":"Virtual threads and Coroutines are syntactic sugar for event based processing in a shared thread pool (like async/await in JS), so neither is great for CPU intensive tasks that run without pause because you can only share threads in the pool if you pause and wait for e.g. IO. Whether one implementation / style has benefits over the other remains to be seen."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694028873,"post_id":77053797,"comment_id":135839115,"body_markdown":"Regarding &quot;virtual threads for non-IO or non-blocking tasks&quot;… Yes, tasks that are entirely CPU-bound are not appropriate for virtual threads which assume switching while blocked. But I suspect truly CPU-bound tasks would be rather rare in most Java apps as that would mean no network calls, no database calls, no calls to storage, and no logging. In those cases of truly being CPU-bound, such as video codec processing or scientific data analysis, use the old-fashioned platform threads in classic Java style. The old style remains intact and unchanged by the arrival of virtual threads.","body":"Regarding &quot;virtual threads for non-IO or non-blocking tasks&quot;… Yes, tasks that are entirely CPU-bound are not appropriate for virtual threads which assume switching while blocked. But I suspect truly CPU-bound tasks would be rather rare in most Java apps as that would mean no network calls, no database calls, no calls to storage, and no logging. In those cases of truly being CPU-bound, such as video codec processing or scientific data analysis, use the old-fashioned platform threads in classic Java style. The old style remains intact and unchanged by the arrival of virtual threads."}],"answers":[{"tags":[],"owner":{"account_id":4448774,"reputation":3273,"user_id":3621353,"accept_rate":50,"display_name":"Kiryl Tkach"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694026274,"creation_date":1694026274,"answer_id":77054564,"question_id":77053797,"body_markdown":"&gt; Is this not alright anymore?\r\nIt is alright, Java virtual threads **won&#39;t** replace Kotlin coroutines.\r\n\r\nThere is a [presentation][1] by Roman Elizarov that covers the difference.\r\n\r\nShort Recap from presentation\r\n\r\nVirtual Threads (Project Loom) are good for\r\n\r\n - Virtual Thread per request\r\n - Updating existing code\r\n\r\nKotlin Coroutines are good for\r\n\r\n - Highly-concurrent code\r\n - Event-based systems\r\n - Structured concurrency and cancellations\r\n\r\nAnd, as mentioned by @Slaw in the comment, coroutines can be executed on virtual threads too. Also coroutines can be used with Kotlin/JS and Kotlin/Native.\r\n\r\n  [1]: https://www.youtube.com/watch?v=zluKcazgkV4","title":"Java virtual threads vs Kotlin coroutines","body":"<blockquote>\n<p>Is this not alright anymore?\nIt is alright, Java virtual threads <strong>won't</strong> replace Kotlin coroutines.</p>\n</blockquote>\n<p>There is a <a href=\"https://www.youtube.com/watch?v=zluKcazgkV4\" rel=\"nofollow noreferrer\">presentation</a> by Roman Elizarov that covers the difference.</p>\n<p>Short Recap from presentation</p>\n<p>Virtual Threads (Project Loom) are good for</p>\n<ul>\n<li>Virtual Thread per request</li>\n<li>Updating existing code</li>\n</ul>\n<p>Kotlin Coroutines are good for</p>\n<ul>\n<li>Highly-concurrent code</li>\n<li>Event-based systems</li>\n<li>Structured concurrency and cancellations</li>\n</ul>\n<p>And, as mentioned by @Slaw in the comment, coroutines can be executed on virtual threads too. Also coroutines can be used with Kotlin/JS and Kotlin/Native.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86127,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695213669,"creation_date":1694091925,"answer_id":77059883,"question_id":77053797,"body_markdown":"It is slightly like comparing apples to oranges since the goals are different. Maybe more like comparing peaches to nectarines, because there&#39;s a little bit of overlap.\r\n\r\nVirtual threads solve the problem of blocking IO tasks taking up an OS thread for their duration. Basically, they reduce the resources necessary to do blocking, synchronous tasks at scale. \r\n\r\nCoroutines solve the problems of:\r\n 1) Easily writing concurrent, asynchronous code without bugs (structured concurrency)\r\n 2) Having to nest callbacks to switch back and forth between threads -- code that switches threads can be written synchronously, which makes it much easier to read, write, and reason about. A common case is code that has to transition back and forth between UI work on a main thread that cannot be blocked and IO threads for the blocking work.\r\n\r\nPoint 1 is eventually coming to Java as well. You can read about it in [JEP 453](https://openjdk.org/jeps/453). I haven&#39;t studied it in detail, but I kind of assume that in Kotlin, coroutines will still be the preferred way to write concurrent code, because of point 2 and because it can be used in Kotlin multiplatform.\r\n\r\nBut basically, as it stands, we are comparing things that solve two different problems. But there&#39;s no reason you can&#39;t use both:\r\n\r\n```\r\nval virtualThreadDispatcher = ExecutorService.newVirtualThreadPerTaskExecutor()\r\n    .asCoroutineDispatcher()\r\n\r\nsuspend fun foo() = withContext(virtualThreadDispatcher) {\r\n    someBlockingIOCode()\r\n}\r\n```\r\nNow you have a dispatcher that doesn&#39;t have to allocate whole platform threads to run blocking IO code, but at the expense of virtual threads&#39; more expensive task switching. This is kind of a tricky tradeoff to have to think about and balance, but the Kotlin designers&#39; plan is to update `Dispatchers.IO` to take the best of both worlds once the Java API advances to the point to allow enough customization to achieve it.\r\n    \r\n\r\n","title":"Java virtual threads vs Kotlin coroutines","body":"<p>It is slightly like comparing apples to oranges since the goals are different. Maybe more like comparing peaches to nectarines, because there's a little bit of overlap.</p>\n<p>Virtual threads solve the problem of blocking IO tasks taking up an OS thread for their duration. Basically, they reduce the resources necessary to do blocking, synchronous tasks at scale.</p>\n<p>Coroutines solve the problems of:</p>\n<ol>\n<li>Easily writing concurrent, asynchronous code without bugs (structured concurrency)</li>\n<li>Having to nest callbacks to switch back and forth between threads -- code that switches threads can be written synchronously, which makes it much easier to read, write, and reason about. A common case is code that has to transition back and forth between UI work on a main thread that cannot be blocked and IO threads for the blocking work.</li>\n</ol>\n<p>Point 1 is eventually coming to Java as well. You can read about it in <a href=\"https://openjdk.org/jeps/453\" rel=\"nofollow noreferrer\">JEP 453</a>. I haven't studied it in detail, but I kind of assume that in Kotlin, coroutines will still be the preferred way to write concurrent code, because of point 2 and because it can be used in Kotlin multiplatform.</p>\n<p>But basically, as it stands, we are comparing things that solve two different problems. But there's no reason you can't use both:</p>\n<pre><code>val virtualThreadDispatcher = ExecutorService.newVirtualThreadPerTaskExecutor()\n    .asCoroutineDispatcher()\n\nsuspend fun foo() = withContext(virtualThreadDispatcher) {\n    someBlockingIOCode()\n}\n</code></pre>\n<p>Now you have a dispatcher that doesn't have to allocate whole platform threads to run blocking IO code, but at the expense of virtual threads' more expensive task switching. This is kind of a tricky tradeoff to have to think about and balance, but the Kotlin designers' plan is to update <code>Dispatchers.IO</code> to take the best of both worlds once the Java API advances to the point to allow enough customization to achieve it.</p>\n"},{"tags":[],"owner":{"account_id":22973229,"reputation":107,"user_id":17101249,"display_name":"kamdaou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701252720,"creation_date":1701252720,"answer_id":77570218,"question_id":77053797,"body_markdown":"From [this video][1], we can say that Loom is great. But it&#39;s not a replacement for kotlin coroutines. Coroutines are still the recommended thing to use when dealing with concurrent processes in Kotlin. \r\nTo compare them,\r\n\r\n - Loom can improve the performance applications: it can run multiple virtual threads and it costs less to have blocked virtual threads than to have a regular threads blocked.\r\n-Kotlin coroutines are intrusive because we cannot call suspend functions in normal function, which is not the case of Loom\r\n - Structured concurrency is much more easier with Kotlin coroutines than Loom.\r\n - Interoperability between Kotlin coroutines and reactive programming are more simpler as we can just use flows than the one between loom and reactive programming.\r\n\r\nTo wrap up, we can say that the best thing Loom has to propose is the virtual threads which can inprove performance, while Kotlin coroutines has more to offer. Why not using both of the features together?\r\n\r\nWell, there is a concept introduced by Moskala in his &quot;**Kotlin Coroutines: Deep dive**&quot; book which is interesting. We can use Loom directly in Kotlin coroutines code and have a better performance while keeping structured concurrency and all the cool stuff we get in coroutines. To do that, we use virtual threads to replace `Dispatchers.IO`. Below is an example of code that uses virtual thread.\r\n```\r\nval LoomDispatcher = Executors\r\n  .newVirtualThreadPerTaskExecutor()\r\n  .asCoroutineDispatcher()\r\nval Dispatchers.Loom: CoroutineDispatcher\r\n  get() = LoomDispatcher\r\n\r\nsuspend fun main() = measureTimeMillis {\r\n  coroutineScope {\r\n    repeat(100_000) {\r\n      launch(Dispatchers.Loom) {\r\n        Thread.sleep(1000)\r\n      }\r\n    }\r\n  }\r\n}.let(::println)\r\n```\r\nBecause `Dispatchers.IO` has just 64 threads, the code above will take over 26 minutes, but we can make use of `limitedParallelism` to increase the number of thread and get the chance to execute the code fastly. The code using `Dispatchers.IO` is as follow:\r\n\r\n```\r\nsuspend fun main() = measureTimeMillis {\r\n  val dispatcher = Dispatchers.IO\r\n    .limitedParallelism(100_000)\r\n  coroutineScope {\r\n    repeat(100_000) {\r\n      launch(dispatcher) {\r\n        Thread.sleep(1000)\r\n      }\r\n    }\r\n  }\r\n}.let(::println)\r\n```\r\nI didn&#39;t personnally run the code with virtual threads but it&#39;s said in the book that it took a bit more than two seconds to execute (This is amzing knowing that we block each of the 100 000 threads for 1 second), but the second code took around 30s to finish executing. \r\n\r\nI would say the best way to make the code performant and use some cool stuff that coroutines offer, we can use Loom as a substutition for `Dispatchers.IO` but keep using coroutines, though there is no any kind of recommendations in the documentations.\r\n\r\n  [1]: https://www.youtube.com/watch?v=bOLChQ3fFQo&amp;t=1784s","title":"Java virtual threads vs Kotlin coroutines","body":"<p>From <a href=\"https://www.youtube.com/watch?v=bOLChQ3fFQo&amp;t=1784s\" rel=\"nofollow noreferrer\">this video</a>, we can say that Loom is great. But it's not a replacement for kotlin coroutines. Coroutines are still the recommended thing to use when dealing with concurrent processes in Kotlin.\nTo compare them,</p>\n<ul>\n<li>Loom can improve the performance applications: it can run multiple virtual threads and it costs less to have blocked virtual threads than to have a regular threads blocked.\n-Kotlin coroutines are intrusive because we cannot call suspend functions in normal function, which is not the case of Loom</li>\n<li>Structured concurrency is much more easier with Kotlin coroutines than Loom.</li>\n<li>Interoperability between Kotlin coroutines and reactive programming are more simpler as we can just use flows than the one between loom and reactive programming.</li>\n</ul>\n<p>To wrap up, we can say that the best thing Loom has to propose is the virtual threads which can inprove performance, while Kotlin coroutines has more to offer. Why not using both of the features together?</p>\n<p>Well, there is a concept introduced by Moskala in his &quot;<strong>Kotlin Coroutines: Deep dive</strong>&quot; book which is interesting. We can use Loom directly in Kotlin coroutines code and have a better performance while keeping structured concurrency and all the cool stuff we get in coroutines. To do that, we use virtual threads to replace <code>Dispatchers.IO</code>. Below is an example of code that uses virtual thread.</p>\n<pre><code>val LoomDispatcher = Executors\n  .newVirtualThreadPerTaskExecutor()\n  .asCoroutineDispatcher()\nval Dispatchers.Loom: CoroutineDispatcher\n  get() = LoomDispatcher\n\nsuspend fun main() = measureTimeMillis {\n  coroutineScope {\n    repeat(100_000) {\n      launch(Dispatchers.Loom) {\n        Thread.sleep(1000)\n      }\n    }\n  }\n}.let(::println)\n</code></pre>\n<p>Because <code>Dispatchers.IO</code> has just 64 threads, the code above will take over 26 minutes, but we can make use of <code>limitedParallelism</code> to increase the number of thread and get the chance to execute the code fastly. The code using <code>Dispatchers.IO</code> is as follow:</p>\n<pre><code>suspend fun main() = measureTimeMillis {\n  val dispatcher = Dispatchers.IO\n    .limitedParallelism(100_000)\n  coroutineScope {\n    repeat(100_000) {\n      launch(dispatcher) {\n        Thread.sleep(1000)\n      }\n    }\n  }\n}.let(::println)\n</code></pre>\n<p>I didn't personnally run the code with virtual threads but it's said in the book that it took a bit more than two seconds to execute (This is amzing knowing that we block each of the 100 000 threads for 1 second), but the second code took around 30s to finish executing.</p>\n<p>I would say the best way to make the code performant and use some cool stuff that coroutines offer, we can use Loom as a substutition for <code>Dispatchers.IO</code> but keep using coroutines, though there is no any kind of recommendations in the documentations.</p>\n"}],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3034,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1701252720,"creation_date":1694017779,"question_id":77053797,"body_markdown":"How do Java 21 [virtual threads][1] will compare to Kotlin [coroutines][2]?\r\n\r\nWhen coding in Kotlin, is it better to prefer one over the other?\r\n\r\nThis video: [Java 21 new feature: Virtual Threads #RoadTo21](https://youtu.be/5E0LU85EnTI?si=n-OborGbWY4mpZOR) seems to frown upon using virtual threads for non-IO or non-blocking tasks.\r\n\r\nI create coroutines right and left even for CPU-intensive tasks in my Kotlin code.\r\nIs this not alright anymore?\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://kotlinlang.org/docs/coroutines-overview.html","title":"Java virtual threads vs Kotlin coroutines","body":"<p>How do Java 21 <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> will compare to Kotlin <a href=\"https://kotlinlang.org/docs/coroutines-overview.html\" rel=\"nofollow noreferrer\">coroutines</a>?</p>\n<p>When coding in Kotlin, is it better to prefer one over the other?</p>\n<p>This video: <a href=\"https://youtu.be/5E0LU85EnTI?si=n-OborGbWY4mpZOR\" rel=\"nofollow noreferrer\">Java 21 new feature: Virtual Threads #RoadTo21</a> seems to frown upon using virtual threads for non-IO or non-blocking tasks.</p>\n<p>I create coroutines right and left even for CPU-intensive tasks in my Kotlin code.\nIs this not alright anymore?</p>\n"},{"tags":["java","sql","hibernate","join","orm"],"comments":[{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430678008,"post_id":30016379,"comment_id":48152864,"body_markdown":"You must use hibernate criteria and I can not see orderitem quantity property.","body":"You must use hibernate criteria and I can not see orderitem quantity property."},{"owner":{"display_name":"user4832640"},"score":0,"creation_date":1430678548,"post_id":30016379,"comment_id":48153063,"body_markdown":"@AfsunKhammadli `quantity ` is the same as `QTY` , i correct it.","body":"@AfsunKhammadli <code>quantity </code> is the same as <code>QTY</code> , i correct it."},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430678723,"post_id":30016379,"comment_id":48153154,"body_markdown":"Your table has no column with named by quantity","body":"Your table has no column with named by quantity"},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430679022,"post_id":30016379,"comment_id":48153267,"body_markdown":"You did not understood me.Your OrderItem table has no column named by quantity.But in your select statement your wrote orderitem.quantity","body":"You did not understood me.Your OrderItem table has no column named by quantity.But in your select statement your wrote orderitem.quantity"},{"owner":{"display_name":"user4832640"},"score":0,"creation_date":1430679249,"post_id":30016379,"comment_id":48153349,"body_markdown":"@AfsunKhammadli Sorry, i correct it.I forgot it.","body":"@AfsunKhammadli Sorry, i correct it.I forgot it."},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430679438,"post_id":30016379,"comment_id":48153427,"body_markdown":"Please correct your question. Where is user_id?","body":"Please correct your question. Where is user_id?"},{"owner":{"display_name":"user4832640"},"score":0,"creation_date":1430679625,"post_id":30016379,"comment_id":48153500,"body_markdown":"@AfsunKhammadli `user_id` is the foreign key of `User` in `Orders` table.","body":"@AfsunKhammadli <code>user_id</code> is the foreign key of <code>User</code> in <code>Orders</code> table."},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430679737,"post_id":30016379,"comment_id":48153553,"body_markdown":"Please,explain your question clearly. You did not wrote about user_id.","body":"Please,explain your question clearly. You did not wrote about user_id."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1430719136,"creation_date":1430719136,"answer_id":30023463,"question_id":30016379,"body_markdown":"You need to execute an Entity query instead. Assuming you already mapped the entities properly, this is how the HQL query would look like:\r\n\r\n    SELECT o\r\n    FROM orderitem oi\r\n    JOIN FETCH oi.book\r\n    JOIN FETCH oi.orders \r\n    JOIN FETCH oi.user u \r\n    WHERE u.id = 1;","title":"How to get multiple entities from a Hibernate SQL join","body":"<p>You need to execute an Entity query instead. Assuming you already mapped the entities properly, this is how the HQL query would look like:</p>\n\n<pre><code>SELECT o\nFROM orderitem oi\nJOIN FETCH oi.book\nJOIN FETCH oi.orders \nJOIN FETCH oi.user u \nWHERE u.id = 1;\n</code></pre>\n"}],"owner":{"display_name":"user4832640"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30023463,"answer_count":1,"score":1,"last_activity_date":1701252582,"creation_date":1430670806,"question_id":30016379,"body_markdown":"I have 4 table:\r\n\r\n`Orders(orderID, orderDate, orderItem (OneToMany))`\r\n\r\n`OrderItem(id, order(manyToOne), book (manyToOne), quantity)`\r\n\r\n`Book (id, title, cost)`\r\n\r\n`User(id, username, password)`\r\n\r\nHere is my query in `SQL`:\r\n\r\n    String sql = &quot;SELECT orders.id, book.title, orderitem.quantity\r\n        FROM orderitem INNER JOIN book ON book.id = orderitem.book_id INNER JOIN orders ON orders.id = orderitem.orders_id WHERE user_id = 1;\r\n\r\n`(user_id is the foreign key of User in Orders table)`\r\n\r\n`(orders_id is the foreign key of Orders in OrderItem table)`\r\n\r\n    List&lt;OrderItem&gt; orderBookInfo = (List&lt;OrderItem&gt;) session.createSQLQuery(sql); // returns List&lt;Object[]&gt; why?!\r\n\r\nThis query result comes from joining of 3 tables (`Book`, `Order`, `OderItem`)\r\n\r\nAnd this is the result in table:\r\n\r\n![enter image description here][1]\r\n\r\nQuestion is how can i assign each result&#39;s column to it&#39;s corresponding properties?\r\n\r\nFor example:\r\n\r\n    orderBookInfo.order.id = (first location of orderBookInfo)\r\n    \r\n    orderBookInfo.book.title = (second location of orderBookInfo)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ak9os.png","title":"How to get multiple entities from a Hibernate SQL join","body":"<p>I have 4 table:</p>\n\n<p><code>Orders(orderID, orderDate, orderItem (OneToMany))</code></p>\n\n<p><code>OrderItem(id, order(manyToOne), book (manyToOne), quantity)</code></p>\n\n<p><code>Book (id, title, cost)</code></p>\n\n<p><code>User(id, username, password)</code></p>\n\n<p>Here is my query in <code>SQL</code>:</p>\n\n<pre><code>String sql = \"SELECT orders.id, book.title, orderitem.quantity\n    FROM orderitem INNER JOIN book ON book.id = orderitem.book_id INNER JOIN orders ON orders.id = orderitem.orders_id WHERE user_id = 1;\n</code></pre>\n\n<p><code>(user_id is the foreign key of User in Orders table)</code></p>\n\n<p><code>(orders_id is the foreign key of Orders in OrderItem table)</code></p>\n\n<pre><code>List&lt;OrderItem&gt; orderBookInfo = (List&lt;OrderItem&gt;) session.createSQLQuery(sql); // returns List&lt;Object[]&gt; why?!\n</code></pre>\n\n<p>This query result comes from joining of 3 tables (<code>Book</code>, <code>Order</code>, <code>OderItem</code>)</p>\n\n<p>And this is the result in table:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ak9os.png\" alt=\"enter image description here\"></p>\n\n<p>Question is how can i assign each result's column to it's corresponding properties?</p>\n\n<p>For example:</p>\n\n<pre><code>orderBookInfo.order.id = (first location of orderBookInfo)\n\norderBookInfo.book.title = (second location of orderBookInfo)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9832,"page":27,"page_size":100}
