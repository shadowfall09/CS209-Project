{"items":[{"tags":["java","nio","file-copying"],"answers":[{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1315757541,"creation_date":1315757541,"answer_id":7379513,"question_id":7379469,"body_markdown":"There appears to be anecdotal evidence that attempts to transfer more than 64MB at a time on certain Windows versions results in a slow copy. Hence the check: this appears to be the result of some detail of the underlying native code that implements the `transferTo` operation on Windows.","title":"FileChannel.transferTo for large file in windows","body":"<p>There appears to be anecdotal evidence that attempts to transfer more than 64MB at a time on certain Windows versions results in a slow copy. Hence the check: this appears to be the result of some detail of the underlying native code that implements the <code>transferTo</code> operation on Windows.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1638941441,"creation_date":1315901131,"answer_id":7398636,"question_id":7379469,"body_markdown":"Windows has a hard limit on the maximum transfer size, and if you exceed it you get a runtime exception. So you need to tune. The second version you give is superior because it doesn&#39;t assume the file was transferred completely with one `transferTo()` call, which agrees with the Javadoc.\r\n\r\nSetting the transfer size more than about 1MB is pretty pointless anyway.\r\n\r\n**EDIT** Your second version has a flaw. You should decrement `size` by the amount transferred each time. It should be more like:\r\n\r\n    while (size &gt; 0) { // we still have bytes to transfer\r\n        long count = inChannel.transferTo(position, size, outChannel);\r\n        if (count &gt; 0)\r\n        {\r\n            position += count; // seeking position to last byte transferred\r\n            size-= count; // {count} bytes have been transferred, remaining {size}\r\n        }\r\n    }","title":"FileChannel.transferTo for large file in windows","body":"<p>Windows has a hard limit on the maximum transfer size, and if you exceed it you get a runtime exception. So you need to tune. The second version you give is superior because it doesn't assume the file was transferred completely with one <code>transferTo()</code> call, which agrees with the Javadoc.</p>\n<p>Setting the transfer size more than about 1MB is pretty pointless anyway.</p>\n<p><strong>EDIT</strong> Your second version has a flaw. You should decrement <code>size</code> by the amount transferred each time. It should be more like:</p>\n<pre><code>while (size &gt; 0) { // we still have bytes to transfer\n    long count = inChannel.transferTo(position, size, outChannel);\n    if (count &gt; 0)\n    {\n        position += count; // seeking position to last byte transferred\n        size-= count; // {count} bytes have been transferred, remaining {size}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1401030,"reputation":1933,"user_id":1329812,"accept_rate":43,"display_name":"Danny Rancher"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388806001,"creation_date":1388806001,"answer_id":20916464,"question_id":7379469,"body_markdown":"I have read that it is for compatibility with the Windows 2000 operating system.\r\n\r\nSource: http://www.rgagnon.com/javadetails/java-0064.html\r\n\r\nQuote: In win2000, the transferTo() does not transfer files &gt; than 2^31-1 bytes. it throws an exception of &quot;java.io.IOException: Insufficient system resources exist to complete the requested service is thrown.&quot; The workaround is to copy in a loop 64Mb each time until there is no more data.\r\n\r\n","title":"FileChannel.transferTo for large file in windows","body":"<p>I have read that it is for compatibility with the Windows 2000 operating system.</p>\n\n<p>Source: <a href=\"http://www.rgagnon.com/javadetails/java-0064.html\" rel=\"nofollow\">http://www.rgagnon.com/javadetails/java-0064.html</a></p>\n\n<p>Quote: In win2000, the transferTo() does not transfer files > than 2^31-1 bytes. it throws an exception of \"java.io.IOException: Insufficient system resources exist to complete the requested service is thrown.\" The workaround is to copy in a loop 64Mb each time until there is no more data.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15034,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7398636,"answer_count":3,"score":10,"last_activity_date":1638941441,"creation_date":1315757099,"question_id":7379469,"body_markdown":"Using Java NIO use can copy file faster. I found two kind of method mainly over internet to do this job. \n\n    public static void copyFile(File sourceFile, File destinationFile) throws IOException {\n        if (!destinationFile.exists()) {\n            destinationFile.createNewFile();\n        }\n\n        FileChannel source = null;\n        FileChannel destination = null;\n        try {\n            source = new FileInputStream(sourceFile).getChannel();\n            destination = new FileOutputStream(destinationFile).getChannel();\n            destination.transferFrom(source, 0, source.size());\n        } finally {\n            if (source != null) {\n                source.close();\n            }\n            if (destination != null) {\n                destination.close();\n            }\n        }\n    }\n\nIn [20 very useful Java code snippets for Java Developers][1] I found a different comment and trick:\n\n    public static void fileCopy(File in, File out) throws IOException {\n        FileChannel inChannel = new FileInputStream(in).getChannel();\n        FileChannel outChannel = new FileOutputStream(out).getChannel();\n        try {\n            // inChannel.transferTo(0, inChannel.size(), outChannel); // original -- apparently has trouble copying large files on Windows\n            // magic number for Windows, (64Mb - 32Kb)\n            int maxCount = (64 * 1024 * 1024) - (32 * 1024);\n            long size = inChannel.size();\n            long position = 0;\n            while (position &lt; size) {\n                position += inChannel.transferTo(position, maxCount, outChannel);\n            }\n        } finally {\n            if (inChannel != null) {\n                inChannel.close();\n            }\n            if (outChannel != null) {\n                outChannel.close();\n            }\n        }\n    }\n\nBut I didn&#39;t find or understand what is meaning of \n\n&gt; &quot;magic number for Windows, (64Mb - 32Kb)&quot;\n\nIt says that `inChannel.transferTo(0, inChannel.size(), outChannel)` has problem in windows, is 32768 (= (64 * 1024 * 1024) - (32 * 1024)) byte is optimum for this method.\n\n  [1]: http://viralpatel.net/blogs/2009/05/20-useful-java-code-snippets-for-java-developers.html","title":"FileChannel.transferTo for large file in windows","body":"<p>Using Java NIO use can copy file faster. I found two kind of method mainly over internet to do this job.</p>\n<pre><code>public static void copyFile(File sourceFile, File destinationFile) throws IOException {\n    if (!destinationFile.exists()) {\n        destinationFile.createNewFile();\n    }\n\n    FileChannel source = null;\n    FileChannel destination = null;\n    try {\n        source = new FileInputStream(sourceFile).getChannel();\n        destination = new FileOutputStream(destinationFile).getChannel();\n        destination.transferFrom(source, 0, source.size());\n    } finally {\n        if (source != null) {\n            source.close();\n        }\n        if (destination != null) {\n            destination.close();\n        }\n    }\n}\n</code></pre>\n<p>In <a href=\"http://viralpatel.net/blogs/2009/05/20-useful-java-code-snippets-for-java-developers.html\" rel=\"noreferrer\">20 very useful Java code snippets for Java Developers</a> I found a different comment and trick:</p>\n<pre><code>public static void fileCopy(File in, File out) throws IOException {\n    FileChannel inChannel = new FileInputStream(in).getChannel();\n    FileChannel outChannel = new FileOutputStream(out).getChannel();\n    try {\n        // inChannel.transferTo(0, inChannel.size(), outChannel); // original -- apparently has trouble copying large files on Windows\n        // magic number for Windows, (64Mb - 32Kb)\n        int maxCount = (64 * 1024 * 1024) - (32 * 1024);\n        long size = inChannel.size();\n        long position = 0;\n        while (position &lt; size) {\n            position += inChannel.transferTo(position, maxCount, outChannel);\n        }\n    } finally {\n        if (inChannel != null) {\n            inChannel.close();\n        }\n        if (outChannel != null) {\n            outChannel.close();\n        }\n    }\n}\n</code></pre>\n<p>But I didn't find or understand what is meaning of</p>\n<blockquote>\n<p>&quot;magic number for Windows, (64Mb - 32Kb)&quot;</p>\n</blockquote>\n<p>It says that <code>inChannel.transferTo(0, inChannel.size(), outChannel)</code> has problem in windows, is 32768 (= (64 * 1024 * 1024) - (32 * 1024)) byte is optimum for this method.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638939318,"creation_date":1638939318,"answer_id":70270137,"question_id":70270085,"body_markdown":"Add a second constructor that accepts parameters:\r\n\r\n```\r\npublic ApiKeyHandler(SecretsManagerClient client) {\r\n  secretsManagerClient = client;\r\n}\r\n\r\npublic ApiKeyHandler() {\r\n  this(DependencyFactory.secretsManagerClient());\r\n}\r\n```\r\n","title":"Mock new objects in empty constructor","body":"<p>Add a second constructor that accepts parameters:</p>\n<pre><code>public ApiKeyHandler(SecretsManagerClient client) {\n  secretsManagerClient = client;\n}\n\npublic ApiKeyHandler() {\n  this(DependencyFactory.secretsManagerClient());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638941291,"creation_date":1638941291,"answer_id":70270370,"question_id":70270085,"body_markdown":"It looks like you have a couple of options:\r\n1. You can add another constructor with the parameters to inject. This is easy and clean from the test perspective, but after all you&#39;ll have the code in production (this constructor in this case) that is used only for tests.\r\nIn generally I don&#39;t advocate this approach, although I understand that there are technology limitations here.\r\n2. You can Mock the Dependency Factory. Since the call is static, you might end up using PowerMock / PowerMockito that can actually mock static calls. This is something that can turn to be really painful to maintain, in general this approach is discouraged these days.\r\n3. You can Rewrite the DependencyFactory so that it could be configured with some kind of mock implementation (that will allow to specify mock dependencies):\r\n\r\n~~~\r\npublic interface DependencyFactoryMode {\r\n   SecretsManagerClient secretsManagerClient();  \r\n}\r\n\r\npublic class RealDependencyFactoryMode implements DependencyFactoryMode {\r\n    public SecretsManagerClient secretsManagerClient() {\r\n        return SecretsManagerClient.builder()\r\n            .region(/**/)\r\n            .build();\r\n  \r\n    }\r\n}\r\n// in src/test/java - test code in short\r\npublic class DependencyFactoryTestMode implements DependencyFactoryMode {\r\n    private SecretsManagerClient smc = Mockito.mock(SecretsManagerClient.class);\r\n    public SecretsManagerClient secretsManagerClient() {\r\n       return smc;\r\n    }\r\n    // this will be used in tests\r\n    public SecretsManagerClient getSmcMock() {return smc;}\r\n}\r\n\r\npublic class DependencyFactory {\r\n   private static DependencyFactoryMode mode;\r\n\r\n   static {\r\n      // depending on the configuration, external properties or whatever \r\n      // initialize in production mode or test mode\r\n      // of course this is the most &quot;primitive&quot; implementation you can probably\r\n      // do better\r\n      if(isTest) {\r\n         mode = new TestDependencyFactoryTestMode();\r\n      } else {\r\n         // this is a default behavior\r\n         mode = new RealDependencyFactoryMode();\r\n      }\r\n   }\r\n\r\n   private DependencyFactory() {}\r\n   public static DependencyFactoryMode getMode() {\r\n      return mode;\r\n   }\r\n   public static SecretsManagerClient secretsManagerClient() {\r\n      return mode.secretsManagerClient();\r\n   }\r\n\r\n}\r\n~~~\r\nWith this approach you&#39;ll have to pre-configure the dependency factory so that while running in the test it will &quot;know&quot; that it should run in the test mode.\r\n\r\n~~~\r\npublic class Test {\r\n    @Test\r\n    public void test() {\r\n      // DependencyFactoryMode will be used in the test mode\r\n      DependecyFactoryMode testMode = DependencyFactory.getMode(); \r\n      var smc = testMode.secretsManagerClient();\r\n      Mockito.when(smc.foo()).thenReturn(...);\r\n    }\r\n} \r\n~~~\r\n\r\nNow this approach suffers from the same drawback as &quot;1&quot; but at least you have a code &quot;only for tests&quot; only in the factory, rather than in all lambda functions (I assume you have many of them, otherwise probably the first approach will be the least of all evils).\r\n\r\nAnother possible drawback is that the same instance of `DependencyFactory` (with the shared static mocking mode) will be shared between the tests, so you might end up &quot;reseting&quot; all the relevant mocks after the test. \r\n\r\nAgain, these all are complications because in the form that you&#39;ve presented there is no way to provide a dependency injection in constructor because of the technology limitation.\r\n\r\n\r\n\r\n","title":"Mock new objects in empty constructor","body":"<p>It looks like you have a couple of options:</p>\n<ol>\n<li>You can add another constructor with the parameters to inject. This is easy and clean from the test perspective, but after all you'll have the code in production (this constructor in this case) that is used only for tests.\nIn generally I don't advocate this approach, although I understand that there are technology limitations here.</li>\n<li>You can Mock the Dependency Factory. Since the call is static, you might end up using PowerMock / PowerMockito that can actually mock static calls. This is something that can turn to be really painful to maintain, in general this approach is discouraged these days.</li>\n<li>You can Rewrite the DependencyFactory so that it could be configured with some kind of mock implementation (that will allow to specify mock dependencies):</li>\n</ol>\n<pre><code>public interface DependencyFactoryMode {\n   SecretsManagerClient secretsManagerClient();  \n}\n\npublic class RealDependencyFactoryMode implements DependencyFactoryMode {\n    public SecretsManagerClient secretsManagerClient() {\n        return SecretsManagerClient.builder()\n            .region(/**/)\n            .build();\n  \n    }\n}\n// in src/test/java - test code in short\npublic class DependencyFactoryTestMode implements DependencyFactoryMode {\n    private SecretsManagerClient smc = Mockito.mock(SecretsManagerClient.class);\n    public SecretsManagerClient secretsManagerClient() {\n       return smc;\n    }\n    // this will be used in tests\n    public SecretsManagerClient getSmcMock() {return smc;}\n}\n\npublic class DependencyFactory {\n   private static DependencyFactoryMode mode;\n\n   static {\n      // depending on the configuration, external properties or whatever \n      // initialize in production mode or test mode\n      // of course this is the most &quot;primitive&quot; implementation you can probably\n      // do better\n      if(isTest) {\n         mode = new TestDependencyFactoryTestMode();\n      } else {\n         // this is a default behavior\n         mode = new RealDependencyFactoryMode();\n      }\n   }\n\n   private DependencyFactory() {}\n   public static DependencyFactoryMode getMode() {\n      return mode;\n   }\n   public static SecretsManagerClient secretsManagerClient() {\n      return mode.secretsManagerClient();\n   }\n\n}\n</code></pre>\n<p>With this approach you'll have to pre-configure the dependency factory so that while running in the test it will &quot;know&quot; that it should run in the test mode.</p>\n<pre><code>public class Test {\n    @Test\n    public void test() {\n      // DependencyFactoryMode will be used in the test mode\n      DependecyFactoryMode testMode = DependencyFactory.getMode(); \n      var smc = testMode.secretsManagerClient();\n      Mockito.when(smc.foo()).thenReturn(...);\n    }\n} \n</code></pre>\n<p>Now this approach suffers from the same drawback as &quot;1&quot; but at least you have a code &quot;only for tests&quot; only in the factory, rather than in all lambda functions (I assume you have many of them, otherwise probably the first approach will be the least of all evils).</p>\n<p>Another possible drawback is that the same instance of <code>DependencyFactory</code> (with the shared static mocking mode) will be shared between the tests, so you might end up &quot;reseting&quot; all the relevant mocks after the test.</p>\n<p>Again, these all are complications because in the form that you've presented there is no way to provide a dependency injection in constructor because of the technology limitation.</p>\n"}],"owner":{"account_id":9998716,"reputation":163,"user_id":7395483,"accept_rate":20,"display_name":"jawsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70270370,"answer_count":2,"score":1,"last_activity_date":1638941291,"creation_date":1638938859,"question_id":70270085,"body_markdown":"I am currently working on a AWS Lambda using Java 11. It is requiring me for an implementation of the handler to have an empty constructor. My handler looks like this\r\n\r\n```\r\npublic class ApiKeyHandler {\r\n\r\n  private final SecretsManagerClient secretsManagerClient;\r\n\r\n  public ApiKeyHandler() {\r\n    secretsManagerClient = DependencyFactory.secretsManagerClient();\r\n  }\r\n\r\n  public void handleRequest(Object event, Context context) {\r\n    //Other codes here\r\n    secretsManagerClient.getSecret(/../);\r\n  }\r\n}\r\n```\r\n\r\nAnd Dependency Factory class\r\n```\r\npublic class DependencyFactory {\r\n\r\n    private DependencyFactory() {}\r\n\r\n    /**\r\n     * @return an instance of SecretsManagerClient\r\n     */\r\n    public static SecretsManagerClient secretsManagerClient() {\r\n        return SecretsManagerClient.builder()\r\n            .region(/**/)\r\n            .build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nNow, when I am trying to write unit test for this I cant mock objects in constructor. Is there a way I can mock it? \r\n\r\nI tried \r\n\r\n```\r\n@Mock SecretsManagerClient secretsManagerClient;\r\n@InjectMocks ApiKeyHandler handler;\r\n```\r\n\r\nbut no luck. Thank you","title":"Mock new objects in empty constructor","body":"<p>I am currently working on a AWS Lambda using Java 11. It is requiring me for an implementation of the handler to have an empty constructor. My handler looks like this</p>\n<pre><code>public class ApiKeyHandler {\n\n  private final SecretsManagerClient secretsManagerClient;\n\n  public ApiKeyHandler() {\n    secretsManagerClient = DependencyFactory.secretsManagerClient();\n  }\n\n  public void handleRequest(Object event, Context context) {\n    //Other codes here\n    secretsManagerClient.getSecret(/../);\n  }\n}\n</code></pre>\n<p>And Dependency Factory class</p>\n<pre><code>public class DependencyFactory {\n\n    private DependencyFactory() {}\n\n    /**\n     * @return an instance of SecretsManagerClient\n     */\n    public static SecretsManagerClient secretsManagerClient() {\n        return SecretsManagerClient.builder()\n            .region(/**/)\n            .build();\n    }\n\n\n}\n</code></pre>\n<p>Now, when I am trying to write unit test for this I cant mock objects in constructor. Is there a way I can mock it?</p>\n<p>I tried</p>\n<pre><code>@Mock SecretsManagerClient secretsManagerClient;\n@InjectMocks ApiKeyHandler handler;\n</code></pre>\n<p>but no luck. Thank you</p>\n"},{"tags":["java","eclipse","awt","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":163065,"reputation":8295,"user_id":384943,"accept_rate":100,"display_name":"Andy Zhang"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1329872873,"creation_date":1329872873,"answer_id":9387800,"question_id":9387483,"body_markdown":"To start off, let&#39;s just write out an empty method where the parameters are as you defined in your question.\r\n\r\n    public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n    \r\n    }\r\n\r\nNext, let&#39;s create a Robot object and also calculate 3 pieces of information that&#39;ll help your future calculations. Don&#39;t forget to catch the exception from instantiating Robot.\r\n\r\n    Robot r = new Robot();\r\n    double dx = (x2 - x1) / ((double) n);\r\n    double dy = (y2 - y1) / ((double) n);\r\n    double dt = t / ((double) n);\r\n\r\n`dx` represents the difference in your mouse&#39;s x coordinate everytime it moves while gliding. Basically it&#39;s the total move distance divided into `n` steps. Same thing with `dy` except with the y coordinate. `dt` is the total glide time divided into `n` steps.\r\n\r\nFinally, construct a loop that executes `n` times, each time moving the mouse closer to the final location (taking steps of (dx, dy)). Make the thread sleep for `dt` milliseconds during each execution. The larger your `n` is, the smoother the glide will look.\r\n\r\n----------\r\n\r\nFinal result:\r\n\r\n    public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n    \ttry {\r\n    \t\tRobot r = new Robot();\r\n    \t\tdouble dx = (x2 - x1) / ((double) n);\r\n    \t\tdouble dy = (y2 - y1) / ((double) n);\r\n    \t\tdouble dt = t / ((double) n);\r\n    \t\tfor (int step = 1; step &lt;= n; step++) {\r\n    \t\t\tThread.sleep((int) dt);\r\n    \t\t\tr.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\r\n    \t\t}\r\n    \t} catch (AWTException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>To start off, let's just write out an empty method where the parameters are as you defined in your question.</p>\n\n<pre><code>public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n\n}\n</code></pre>\n\n<p>Next, let's create a Robot object and also calculate 3 pieces of information that'll help your future calculations. Don't forget to catch the exception from instantiating Robot.</p>\n\n<pre><code>Robot r = new Robot();\ndouble dx = (x2 - x1) / ((double) n);\ndouble dy = (y2 - y1) / ((double) n);\ndouble dt = t / ((double) n);\n</code></pre>\n\n<p><code>dx</code> represents the difference in your mouse's x coordinate everytime it moves while gliding. Basically it's the total move distance divided into <code>n</code> steps. Same thing with <code>dy</code> except with the y coordinate. <code>dt</code> is the total glide time divided into <code>n</code> steps.</p>\n\n<p>Finally, construct a loop that executes <code>n</code> times, each time moving the mouse closer to the final location (taking steps of (dx, dy)). Make the thread sleep for <code>dt</code> milliseconds during each execution. The larger your <code>n</code> is, the smoother the glide will look.</p>\n\n<hr>\n\n<p>Final result:</p>\n\n<pre><code>public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n    try {\n        Robot r = new Robot();\n        double dx = (x2 - x1) / ((double) n);\n        double dy = (y2 - y1) / ((double) n);\n        double dt = t / ((double) n);\n        for (int step = 1; step &lt;= n; step++) {\n            Thread.sleep((int) dt);\n            r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\n        }\n    } catch (AWTException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15100066,"reputation":66,"user_id":10897346,"display_name":"Albert Lipaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595954441,"creation_date":1547233408,"answer_id":54152550,"question_id":9387483,"body_markdown":"For all those who have been struggling with the programming as I did before, this is how you implement this method and use it correctly: \r\n\r\n```java\r\n    public class gliding_the_mouse {\r\n\r\n        public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n            try {\r\n                Robot r = new Robot();\r\n                double dx = (x2 - x1) / ((double) n);\r\n                double dy = (y2 - y1) / ((double) n);\r\n                double dt = t / ((double) n);\r\n                for (int step = 1; step &lt;= n; step++) {\r\n                    Thread.sleep((int) dt);\r\n                    r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\r\n                }\r\n            } catch (AWTException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } \r\n        }    \r\n        public static void main (String[] args) { // program initialization\r\n            gliding_the_mouse x = new gliding_the_mouse(); // we declare what are we are going to use\r\n    \r\n            x.mouseGlide(400,500,700,700,5000,10000); // the smaller the time value, the faster the mouse glides. \r\n\r\n        } \r\n    } \r\n```","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>For all those who have been struggling with the programming as I did before, this is how you implement this method and use it correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class gliding_the_mouse {\n\n        public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n            try {\n                Robot r = new Robot();\n                double dx = (x2 - x1) / ((double) n);\n                double dy = (y2 - y1) / ((double) n);\n                double dt = t / ((double) n);\n                for (int step = 1; step &lt;= n; step++) {\n                    Thread.sleep((int) dt);\n                    r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\n                }\n            } catch (AWTException e) {\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } \n        }    \n        public static void main (String[] args) { // program initialization\n            gliding_the_mouse x = new gliding_the_mouse(); // we declare what are we are going to use\n    \n            x.mouseGlide(400,500,700,700,5000,10000); // the smaller the time value, the faster the mouse glides. \n\n        } \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638940544,"creation_date":1638940544,"answer_id":70270279,"question_id":9387483,"body_markdown":"Using no. of steps may not be ideal in every situation. Below is the code which moves the mouse by some given pixel amount.\r\n\r\nThe idea of this logic, is we provide the start point and end point and:\r\n- we get the straight line equation for the two points\r\n- we identify the points (pixel jump) along the line\r\n- we move the mouse to each idenfied point on the line using a very minimal delay to replicate the general mouse movement.\r\n\r\n```\r\n/**\r\n * Moves mouse from (x1,y1) to (x2, y2).\r\n *\r\n * @param x1 initial x\r\n * @param y1 initial y\r\n * @param x2 x\r\n * @param y2 y\r\n */\r\nprivate static void moveTo(final int x1, final int y1, final int x2, final int y2) {\r\n    int pixelJump = 10;\r\n    final double xSqu = (x2 - x1) * (x2 - x1);\r\n    final double ySqu = (y2 - y1) * (y2 - y1);\r\n    final double lineLength = Math.sqrt(xSqu + ySqu);\r\n    double dt = 0;\r\n    while (dt &lt; lineLength) {\r\n        dt += pixelJump;\r\n        final double t = dt / lineLength;\r\n        final int dx = (int) ((1 - t) * x1 + t * x2);\r\n        final int dy = (int) ((1 - t) * y1 + t * y2);\r\n        r.mouseMove(dx, dy);\r\n        r.delay(1); // Increase this number if you need to delay the mouse movement\r\n    }\r\n    r.mouseMove(x2, y2);\r\n}\r\n```","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>Using no. of steps may not be ideal in every situation. Below is the code which moves the mouse by some given pixel amount.</p>\n<p>The idea of this logic, is we provide the start point and end point and:</p>\n<ul>\n<li>we get the straight line equation for the two points</li>\n<li>we identify the points (pixel jump) along the line</li>\n<li>we move the mouse to each idenfied point on the line using a very minimal delay to replicate the general mouse movement.</li>\n</ul>\n<pre><code>/**\n * Moves mouse from (x1,y1) to (x2, y2).\n *\n * @param x1 initial x\n * @param y1 initial y\n * @param x2 x\n * @param y2 y\n */\nprivate static void moveTo(final int x1, final int y1, final int x2, final int y2) {\n    int pixelJump = 10;\n    final double xSqu = (x2 - x1) * (x2 - x1);\n    final double ySqu = (y2 - y1) * (y2 - y1);\n    final double lineLength = Math.sqrt(xSqu + ySqu);\n    double dt = 0;\n    while (dt &lt; lineLength) {\n        dt += pixelJump;\n        final double t = dt / lineLength;\n        final int dx = (int) ((1 - t) * x1 + t * x2);\n        final int dy = (int) ((1 - t) * y1 + t * y2);\n        r.mouseMove(dx, dy);\n        r.delay(1); // Increase this number if you need to delay the mouse movement\n    }\n    r.mouseMove(x2, y2);\n}\n</code></pre>\n"}],"owner":{"account_id":1244157,"reputation":75,"user_id":1205958,"accept_rate":0,"display_name":"user1205958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15017,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1638940544,"creation_date":1329870648,"question_id":9387483,"body_markdown":"\r\nThere is a mouseMove()method that makes the pointer jump to that location. I want to be able to make the mouse move smoothly throughout the screen. I need to write a method named mouseGLide() which takes a start x, start y, end x, end y, the total time the gliding should take, and the number of steps to make during the glide. It should animate the mouse pointer by moving from (start x, start y) to (end x, start y) in n steps. The total glide should take t milliseconds.\r\n\r\nI don&#39;t  know how to get started can anyone help me get started on this? Can anyone just tell me what steps I need to do in order to make this problem work.","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>There is a mouseMove()method that makes the pointer jump to that location. I want to be able to make the mouse move smoothly throughout the screen. I need to write a method named mouseGLide() which takes a start x, start y, end x, end y, the total time the gliding should take, and the number of steps to make during the glide. It should animate the mouse pointer by moving from (start x, start y) to (end x, start y) in n steps. The total glide should take t milliseconds.</p>\n\n<p>I don't  know how to get started can anyone help me get started on this? Can anyone just tell me what steps I need to do in order to make this problem work.</p>\n"},{"tags":["java","loops","nested-loops"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1638934006,"post_id":70269531,"comment_id":124217598,"body_markdown":"This is one of those times when a piece of paper and pen is going to be of more help. You start in a room (entrance), it has a 1 or more exits.  You need to ascertain if you&#39;ve previously visited any of the rooms, if not, just pick one and jump in one and basically repeat until you get to a dead end.  If you can&#39;t go any further, back track until you can find another room to visit, always avoiding the &quot;visited&quot; rooms","body":"This is one of those times when a piece of paper and pen is going to be of more help. You start in a room (entrance), it has a 1 or more exits.  You need to ascertain if you&#39;ve previously visited any of the rooms, if not, just pick one and jump in one and basically repeat until you get to a dead end.  If you can&#39;t go any further, back track until you can find another room to visit, always avoiding the &quot;visited&quot; rooms"},{"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"score":0,"creation_date":1638934228,"post_id":70269531,"comment_id":124217638,"body_markdown":"Thanks, I am just not sure how I an supposed to implement it.","body":"Thanks, I am just not sure how I an supposed to implement it."},{"owner":{"account_id":48169,"reputation":1080,"user_id":142979,"accept_rate":93,"display_name":"Brian Stinar"},"score":0,"creation_date":1638934307,"post_id":70269531,"comment_id":124217653,"body_markdown":"AFTER you run through this with a pen and paper (like suggested above) I think you&#39;ll want to represent this as a graph, and then run graph algorithms on this graph, like Dijkstra&#39;s shortest path algorithm. There might not always be a solution. But look for &quot;Dijkstra&#39;s Java&quot; and &quot;Dijkstra&#39;s Graph Java&quot; on Google to find a solution you understand.","body":"AFTER you run through this with a pen and paper (like suggested above) I think you&#39;ll want to represent this as a graph, and then run graph algorithms on this graph, like Dijkstra&#39;s shortest path algorithm. There might not always be a solution. But look for &quot;Dijkstra&#39;s Java&quot; and &quot;Dijkstra&#39;s Graph Java&quot; on Google to find a solution you understand."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638935633,"post_id":70269531,"comment_id":124217888,"body_markdown":"You might also consider making use of something like [GeeksForGeeks, backtacking](https://www.geeksforgeeks.org/the-knights-tour-problem-backtracking-1/) examples.  I implemented a variation of the &quot;rat maze&quot; recently and based on your example, it would appear to be a good match.  Although it does make use of recursion, I was able to generate a basic result of your problem without it","body":"You might also consider making use of something like <a href=\"https://www.geeksforgeeks.org/the-knights-tour-problem-backtracking-1/\" rel=\"nofollow noreferrer\">GeeksForGeeks, backtacking</a> examples.  I implemented a variation of the &quot;rat maze&quot; recently and based on your example, it would appear to be a good match.  Although it does make use of recursion, I was able to generate a basic result of your problem without it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638935811,"post_id":70269531,"comment_id":124217915,"body_markdown":"We can&#39;t solve this problem for you.  The struggle (as painful as it is) will help you better understand how to solve other problems in the future.  For example, in my test, I made use of a `LinkedList` to keep track of the &quot;good&quot; path, as it allowed me use it effectively use it as LIFO queue, as well as a `List` to keep track of all the rooms I&#39;d visited.  These are critical decision points you need to be able to make and understand","body":"We can&#39;t solve this problem for you.  The struggle (as painful as it is) will help you better understand how to solve other problems in the future.  For example, in my test, I made use of a <code>LinkedList</code> to keep track of the &quot;good&quot; path, as it allowed me use it effectively use it as LIFO queue, as well as a <code>List</code> to keep track of all the rooms I&#39;d visited.  These are critical decision points you need to be able to make and understand"},{"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"score":0,"creation_date":1638936780,"post_id":70269531,"comment_id":124218082,"body_markdown":"Thanks, It is just that I don&#39;t have much time to do it.  Am I correct in my code above  just needs to be added to, or will I have to start over.","body":"Thanks, It is just that I don&#39;t have much time to do it.  Am I correct in my code above  just needs to be added to, or will I have to start over."}],"answers":[{"tags":[],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934491,"creation_date":1638934491,"answer_id":70269621,"question_id":70269531,"body_markdown":"You need to implement an algorithm to find the path. There are a number of choices of algorithms that work for this kind of problem. \r\n\r\nIf you don&#39;t care about the efficiency then a breadth first search is probably the easiest to implement. There are good examples already on stack overflow:\r\n\r\nhttps://stackoverflow.com/questions/41789767/finding-the-shortest-path-nodes-with-breadth-first-search/48260217\r\n\r\nhttps://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\r\n\r\nIf you care about efficiency of your algorithm (e.g. you want it to work with progressively larger graphs) you&#39;ll want to use a graph algorithm such as [Dijkstra&#39;s shortest path][1]. \r\n\r\nThere are many tutorials on using this algorithm, here is one such Java based tutorial.\r\n\r\nhttps://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Solving a maze with HashMap","body":"<p>You need to implement an algorithm to find the path. There are a number of choices of algorithms that work for this kind of problem.</p>\n<p>If you don't care about the efficiency then a breadth first search is probably the easiest to implement. There are good examples already on stack overflow:</p>\n<p><a href=\"https://stackoverflow.com/questions/41789767/finding-the-shortest-path-nodes-with-breadth-first-search/48260217\">Finding the shortest path nodes with breadth first search</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\">Breadth First Search and Depth First Search</a></p>\n<p>If you care about efficiency of your algorithm (e.g. you want it to work with progressively larger graphs) you'll want to use a graph algorithm such as <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra's shortest path</a>.</p>\n<p>There are many tutorials on using this algorithm, here is one such Java based tutorial.</p>\n<p><a href=\"https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/</a></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638940178,"creation_date":1638940178,"answer_id":70270241,"question_id":70269531,"body_markdown":"So what you, basically, have is something like...\r\n\r\n                +----+----+\r\n    Entrance -&gt; | R1 | R4 |\r\n                +----+----+\r\n                | R2 | R3 | -&gt; Exit\r\n                +----+----+\r\n\r\nYou need to find your way to `R3` (where the exit is)\r\n\r\nSo, we can look at the problem, something like this.\r\n\r\nWe start at the `entrance`\r\n\r\n    +--------------+-----------------+------+---------+\r\n    | Current Room | Available Exits | Path | History |\r\n    +--------------+-----------------+------+---------+\r\n    | Entrance     | R1              |      |         |\r\n    +--------------+-----------------+------+---------+\r\n\r\nAdd the current room to the history\r\n\r\n    +--------------+-----------------+------+----------+\r\n    | Current Room | Available Exits | Path | History  |\r\n    +--------------+-----------------+------+----------+\r\n    | Entrance     | R1              |      | Entrance |\r\n    +--------------+-----------------+------+----------+\r\n\r\nDoes it contain `Exit`?  No, then let&#39;s find a room to goto, in this case, `R1` is our only choice, let&#39;s got to `R1`.  Add `Entrance` to our path\r\n\r\n    +--------------+------------------+----------+----------+\r\n    | Current Room | Available Exits  |   Path   | History  |\r\n    +--------------+------------------+----------+----------+\r\n    | R1           | Entrance, R2, R4 | Entrance | Entrance |\r\n    +--------------+------------------+----------+----------+\r\n\r\nDoes it contain `Exit`?  No.  Okay, we need to remove all rooms we&#39;ve already visited.  That leaves us with `R2` and `R4`, doesn&#39;t matter which we pick.  \r\n\r\nAdd the current room to the history and the path\r\n\r\n    +--------------+------------------+-------------+-------------+\r\n    | Current Room | Available Exits  |    Path     |   History   |\r\n    +--------------+------------------+-------------+-------------+\r\n    | R1           | Entrance, R2, R4 | Entrance,R1 | Entrance,R1 |\r\n    +--------------+------------------+-------------+-------------+\r\n\r\nAnd let&#39;s go to `R4`\r\n\r\n    +--------------+-----------------+-------------+-------------+\r\n    | Current Room | Available Exits |    Path     |   History   |\r\n    +--------------+-----------------+-------------+-------------+\r\n    | R4           | R1, R3          | Entrance,R1 | Entrance,R1 |\r\n    +--------------+-----------------+-------------+-------------+\r\n\r\nDoes it contain `Exit`?  No.  We&#39;ve already been too `R1`, so that leaves us with `R3`.  \r\n\r\nAdd `R4` to our path and history\r\n\r\n    +--------------+-----------------+----------------+----------------+\r\n    | Current Room | Available Exits |      Path      |    History     |\r\n    +--------------+-----------------+----------------+----------------+\r\n    | R4           | R1, R3          | Entrance,R1,R4 | Entrance,R1,R4 |\r\n    +--------------+-----------------+----------------+----------------+\r\n\r\nAnd let&#39;s go to `R3`\r\n\r\n    +--------------+-----------------+----------------+----------------+\r\n    | Current Room | Available Exits |      Path      |    History     |\r\n    +--------------+-----------------+----------------+----------------+\r\n    | R3           | R2, R4, Exit    | Entrance,R2,R4 | Entrance,R2,R4 |\r\n    +--------------+-----------------+----------------+----------------+\r\n\r\nDoes it contain `Exit`?  YES!!! \r\n\r\nAdd it to our path and lets scamper!!\r\n\r\n    +--------------+-----------------+---------------------+---------------------+\r\n    | Current Room | Available Exits |        Path         |       History       |\r\n    +--------------+-----------------+---------------------+---------------------+\r\n    | R3           | R2, R4, Exit    | Entrance,R2,R4,Exit | Entrance,R2,R4,Exit |\r\n    +--------------+-----------------+---------------------+---------------------+\r\n\r\nSo, your path through the &quot;maze&quot; went `Entrance -&gt; R2 -&gt; R4 -&gt; Exit` and we didn&#39;t even need to backtrace!\r\n\r\nNow, there is a pattern to the above workflow, see if you can pick out.  Try choosing a different room each time and see where it takes you.\r\n\r\nTechnically, you don&#39;t need the history, as you are unlikely to ever back track, but if the maze becomes more complex, it will come in handy, because if you do backtrace, you&#39;d pop the last element off the path, but the history will remind you not to go that way again ;)\r\n\r\nHonestly, I think desk checking is so underrated as a concept, my wife gets furious with me because I have dozens of notes books laying around, all with different scribblings of different ideas in them, all unrelated, so I need a note book for each separate idea &#128521;&#129315;","title":"Solving a maze with HashMap","body":"<p>So what you, basically, have is something like...</p>\n<pre><code>            +----+----+\nEntrance -&gt; | R1 | R4 |\n            +----+----+\n            | R2 | R3 | -&gt; Exit\n            +----+----+\n</code></pre>\n<p>You need to find your way to <code>R3</code> (where the exit is)</p>\n<p>So, we can look at the problem, something like this.</p>\n<p>We start at the <code>entrance</code></p>\n<pre><code>+--------------+-----------------+------+---------+\n| Current Room | Available Exits | Path | History |\n+--------------+-----------------+------+---------+\n| Entrance     | R1              |      |         |\n+--------------+-----------------+------+---------+\n</code></pre>\n<p>Add the current room to the history</p>\n<pre><code>+--------------+-----------------+------+----------+\n| Current Room | Available Exits | Path | History  |\n+--------------+-----------------+------+----------+\n| Entrance     | R1              |      | Entrance |\n+--------------+-----------------+------+----------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No, then let's find a room to goto, in this case, <code>R1</code> is our only choice, let's got to <code>R1</code>.  Add <code>Entrance</code> to our path</p>\n<pre><code>+--------------+------------------+----------+----------+\n| Current Room | Available Exits  |   Path   | History  |\n+--------------+------------------+----------+----------+\n| R1           | Entrance, R2, R4 | Entrance | Entrance |\n+--------------+------------------+----------+----------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No.  Okay, we need to remove all rooms we've already visited.  That leaves us with <code>R2</code> and <code>R4</code>, doesn't matter which we pick.</p>\n<p>Add the current room to the history and the path</p>\n<pre><code>+--------------+------------------+-------------+-------------+\n| Current Room | Available Exits  |    Path     |   History   |\n+--------------+------------------+-------------+-------------+\n| R1           | Entrance, R2, R4 | Entrance,R1 | Entrance,R1 |\n+--------------+------------------+-------------+-------------+\n</code></pre>\n<p>And let's go to <code>R4</code></p>\n<pre><code>+--------------+-----------------+-------------+-------------+\n| Current Room | Available Exits |    Path     |   History   |\n+--------------+-----------------+-------------+-------------+\n| R4           | R1, R3          | Entrance,R1 | Entrance,R1 |\n+--------------+-----------------+-------------+-------------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No.  We've already been too <code>R1</code>, so that leaves us with <code>R3</code>.</p>\n<p>Add <code>R4</code> to our path and history</p>\n<pre><code>+--------------+-----------------+----------------+----------------+\n| Current Room | Available Exits |      Path      |    History     |\n+--------------+-----------------+----------------+----------------+\n| R4           | R1, R3          | Entrance,R1,R4 | Entrance,R1,R4 |\n+--------------+-----------------+----------------+----------------+\n</code></pre>\n<p>And let's go to <code>R3</code></p>\n<pre><code>+--------------+-----------------+----------------+----------------+\n| Current Room | Available Exits |      Path      |    History     |\n+--------------+-----------------+----------------+----------------+\n| R3           | R2, R4, Exit    | Entrance,R2,R4 | Entrance,R2,R4 |\n+--------------+-----------------+----------------+----------------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  YES!!!</p>\n<p>Add it to our path and lets scamper!!</p>\n<pre><code>+--------------+-----------------+---------------------+---------------------+\n| Current Room | Available Exits |        Path         |       History       |\n+--------------+-----------------+---------------------+---------------------+\n| R3           | R2, R4, Exit    | Entrance,R2,R4,Exit | Entrance,R2,R4,Exit |\n+--------------+-----------------+---------------------+---------------------+\n</code></pre>\n<p>So, your path through the &quot;maze&quot; went <code>Entrance -&gt; R2 -&gt; R4 -&gt; Exit</code> and we didn't even need to backtrace!</p>\n<p>Now, there is a pattern to the above workflow, see if you can pick out.  Try choosing a different room each time and see where it takes you.</p>\n<p>Technically, you don't need the history, as you are unlikely to ever back track, but if the maze becomes more complex, it will come in handy, because if you do backtrace, you'd pop the last element off the path, but the history will remind you not to go that way again ;)</p>\n<p>Honestly, I think desk checking is so underrated as a concept, my wife gets furious with me because I have dozens of notes books laying around, all with different scribblings of different ideas in them, all unrelated, so I need a note book for each separate idea 😉🤣</p>\n"}],"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638940178,"creation_date":1638933654,"question_id":70269531,"body_markdown":"I am struggling to find a way to solve a maze. The key for the HashMap is a room and the value is a list of rooms you can access from it.\r\n```\r\nMap&lt;String, String&gt; map ={Entrance=[R1], Room1=[R2,R4], R2=[R1,R3], R3=[R2,R4,Exit], R4=[R1,R3]}\r\n```\r\n each Rn is a room.\r\n```\r\nList&lt;String&gt; key = map.get(&quot;Entrance&quot;);\r\nList&lt;String&gt; path = new List&lt;&gt;();\r\nStack&lt;String&gt; visited = new Stack&lt;&gt;();\r\nvisited.add(&quot;Entrance&quot;);\r\nfor (String x : key){\r\n   if (!visited.contains(x))\r\n      path.add(x);\r\n   else\r\n      return path;\r\n}\r\n```\r\nI know I should be doing some sort of backtracking, but don&#39;t know where to go from here. I am not sure how to get it to return a list of rooms so it is a path to the exit.","title":"Solving a maze with HashMap","body":"<p>I am struggling to find a way to solve a maze. The key for the HashMap is a room and the value is a list of rooms you can access from it.</p>\n<pre><code>Map&lt;String, String&gt; map ={Entrance=[R1], Room1=[R2,R4], R2=[R1,R3], R3=[R2,R4,Exit], R4=[R1,R3]}\n</code></pre>\n<p>each Rn is a room.</p>\n<pre><code>List&lt;String&gt; key = map.get(&quot;Entrance&quot;);\nList&lt;String&gt; path = new List&lt;&gt;();\nStack&lt;String&gt; visited = new Stack&lt;&gt;();\nvisited.add(&quot;Entrance&quot;);\nfor (String x : key){\n   if (!visited.contains(x))\n      path.add(x);\n   else\n      return path;\n}\n</code></pre>\n<p>I know I should be doing some sort of backtracking, but don't know where to go from here. I am not sure how to get it to return a list of rooms so it is a path to the exit.</p>\n"},{"tags":["java","javafx","textfield"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612823895,"creation_date":1612823895,"answer_id":66110393,"question_id":66109380,"body_markdown":"One issue i can clearly notice is with the binding of contentDisplayProperty. Is it that you want the textField only when you edit? if that is the case you need to bind with the readonly editing property instead of editable property.\r\n\r\n    contentDisplayProperty().bind(Bindings\r\n                        .when(editingProperty())\r\n                        .then(ContentDisplay.GRAPHIC_ONLY)\r\n                        .otherwise(ContentDisplay.TEXT_ONLY)\r\n                );\r\n\r\nBelow is the modified cell implementation that can work. (atleast it works for me :-))\r\n\r\n    class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\r\n            private TextField textField;\r\n            private final int maxLen;\r\n    \r\n            public CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {\r\n                this.maxLen = maxLen;\r\n                editableProperty().bind(stringCol.editableProperty());\r\n                contentDisplayProperty().bind(Bindings\r\n                        .when(editingProperty())\r\n                        .then(ContentDisplay.GRAPHIC_ONLY)\r\n                        .otherwise(ContentDisplay.TEXT_ONLY)\r\n                );\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(String strInput, boolean empty) {\r\n                System.out.println(&quot;updateItem&quot;);\r\n                super.updateItem(strInput, empty);\r\n                if (empty) {\r\n                    setText(null);\r\n                    setGraphic(null);\r\n                } else {\r\n                    if (isEditing()) {\r\n                        if (textField != null) {\r\n                            textField.setText(getItem());\r\n                        }\r\n                        setGraphic(textField);\r\n                    } else {\r\n                        setText(getItem());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public final void cancelEdit() {\r\n                super.cancelEdit();\r\n                setText(getItem());\r\n            }\r\n    \r\n            @Override\r\n            public final void commitEdit(final String newValue) {\r\n                super.commitEdit(newValue);\r\n            }\r\n    \r\n             @Override\r\n            public final void startEdit() {\r\n                 super.startEdit();\r\n                 if (textField == null) {\r\n                     createTextField();\r\n                 }\r\n                 setGraphic(textField);\r\n                 textField.setText(getItem());\r\n                 textField.selectAll();\r\n                 textField.requestFocus();\r\n            }\r\n    \r\n            private void createTextField() {\r\n                this.textField = new TextField();\r\n                this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\r\n                    @Override\r\n                    public String toString(String object) {\r\n                        if (object == null) return &quot;&quot;;\r\n    \r\n                        if (object.length() &gt; maxLen) {\r\n                            return object.substring(0, maxLen);\r\n                        } else {\r\n                            return object;\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public String fromString(String string) {\r\n                        if (string == null) {\r\n                            return &quot;&quot;;\r\n                        } else {\r\n                            if (string.length() &gt; maxLen) {\r\n                                return string.substring(0, maxLen);\r\n                            } else {\r\n                                return string;\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n    \r\n                this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    if (!newValue) {\r\n                        System.out.println(&quot;lost focus&quot;);\r\n                        commitEdit(textField.getText());\r\n                    }\r\n                });\r\n    \r\n                this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    if (newValue.length() &gt; maxLen) {\r\n                        textField.setText(oldValue);\r\n                    }\r\n                });\r\n    \r\n                this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n                    @Override\r\n                    public void handle(KeyEvent evt) {\r\n                        if (KeyCode.ESCAPE == evt.getCode()) {\r\n                            System.out.println(&quot;cancel edit&quot;);\r\n                            cancelEdit();\r\n                        }\r\n                        if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode()) {\r\n                            System.out.println(&quot;commit edit&quot;);\r\n                            commitEdit(textField.getText());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nAnd you can update your data as below:\r\n\r\n    columnCourse.setOnEditCommit(e -&gt; {\r\n                System.out.println(&quot;Commit in Controller &quot;);\r\n                ( e.getTableView().getItems().get(\r\n                        e.getTablePosition().getRow())\r\n                ).set&lt;Name&gt;(e.getNewValue());\r\n            });","title":"Universal TextField for TableView","body":"<p>One issue i can clearly notice is with the binding of contentDisplayProperty. Is it that you want the textField only when you edit? if that is the case you need to bind with the readonly editing property instead of editable property.</p>\n<pre><code>contentDisplayProperty().bind(Bindings\n                    .when(editingProperty())\n                    .then(ContentDisplay.GRAPHIC_ONLY)\n                    .otherwise(ContentDisplay.TEXT_ONLY)\n            );\n</code></pre>\n<p>Below is the modified cell implementation that can work. (atleast it works for me :-))</p>\n<pre><code>class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\n        private TextField textField;\n        private final int maxLen;\n\n        public CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {\n            this.maxLen = maxLen;\n            editableProperty().bind(stringCol.editableProperty());\n            contentDisplayProperty().bind(Bindings\n                    .when(editingProperty())\n                    .then(ContentDisplay.GRAPHIC_ONLY)\n                    .otherwise(ContentDisplay.TEXT_ONLY)\n            );\n        }\n\n        @Override\n        protected void updateItem(String strInput, boolean empty) {\n            System.out.println(&quot;updateItem&quot;);\n            super.updateItem(strInput, empty);\n            if (empty) {\n                setText(null);\n                setGraphic(null);\n            } else {\n                if (isEditing()) {\n                    if (textField != null) {\n                        textField.setText(getItem());\n                    }\n                    setGraphic(textField);\n                } else {\n                    setText(getItem());\n                }\n            }\n        }\n\n        @Override\n        public final void cancelEdit() {\n            super.cancelEdit();\n            setText(getItem());\n        }\n\n        @Override\n        public final void commitEdit(final String newValue) {\n            super.commitEdit(newValue);\n        }\n\n         @Override\n        public final void startEdit() {\n             super.startEdit();\n             if (textField == null) {\n                 createTextField();\n             }\n             setGraphic(textField);\n             textField.setText(getItem());\n             textField.selectAll();\n             textField.requestFocus();\n        }\n\n        private void createTextField() {\n            this.textField = new TextField();\n            this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\n                @Override\n                public String toString(String object) {\n                    if (object == null) return &quot;&quot;;\n\n                    if (object.length() &gt; maxLen) {\n                        return object.substring(0, maxLen);\n                    } else {\n                        return object;\n                    }\n                }\n\n                @Override\n                public String fromString(String string) {\n                    if (string == null) {\n                        return &quot;&quot;;\n                    } else {\n                        if (string.length() &gt; maxLen) {\n                            return string.substring(0, maxLen);\n                        } else {\n                            return string;\n                        }\n                    }\n                }\n            }));\n\n            this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n                if (!newValue) {\n                    System.out.println(&quot;lost focus&quot;);\n                    commitEdit(textField.getText());\n                }\n            });\n\n            this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n                if (newValue.length() &gt; maxLen) {\n                    textField.setText(oldValue);\n                }\n            });\n\n            this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n                @Override\n                public void handle(KeyEvent evt) {\n                    if (KeyCode.ESCAPE == evt.getCode()) {\n                        System.out.println(&quot;cancel edit&quot;);\n                        cancelEdit();\n                    }\n                    if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode()) {\n                        System.out.println(&quot;commit edit&quot;);\n                        commitEdit(textField.getText());\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>And you can update your data as below:</p>\n<pre><code>columnCourse.setOnEditCommit(e -&gt; {\n            System.out.println(&quot;Commit in Controller &quot;);\n            ( e.getTableView().getItems().get(\n                    e.getTablePosition().getRow())\n            ).set&lt;Name&gt;(e.getNewValue());\n        });\n</code></pre>\n"}],"owner":{"account_id":20664657,"reputation":1,"user_id":15171813,"display_name":"Josef Oberstadt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638939775,"creation_date":1612818442,"question_id":66109380,"body_markdown":"I want to use a class `TextField` for a `TableCell` in JavaFX, which should be used universally.\r\n\r\nI can display the data in TableView, however, the changes do not arrive in the controller and are not being saved in the data class.\r\n\r\nI want to be able to control the behavior from the TableView while interfacing with my class correctly and storing the data.\r\n\r\nAt the moment I can see the values from the data class in TableView and edit them according to the setting in the class, however, I can&#39;t get the data into the data class in the controller.\r\n\r\nHere is my approach so far:\r\n\r\nController\r\n\r\n```java\r\ncolumnCourse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;CourseName&quot;));\r\ncolumnCourse.setCellFactory(i -&gt; new CellClassTextFieldString(columnCourse, 20));\r\ncolumnCourse.setOnEditCommit(e -&gt; { System.out.println(&quot;Commit in Controller &quot;);; });\r\n```\r\n\r\n\r\nTextFieldClass\r\n\r\n```java\r\npublic class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\r\n    \r\n    private final TextField textField;\r\n    private final int maxLen;\r\n    \r\n    public  CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {   \r\n\r\n        this.textField = new TextField();\r\n        this.maxLen = maxLen;\r\n        \r\n        \r\n        this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\r\n            \r\n            @Override\r\n            public String toString(String object) {\r\n                if(object == null) return &quot;&quot;;\r\n                \r\n                if (object.length() &gt; maxLen) {\r\n                    return object.substring(0, maxLen);\r\n                } else {\r\n                    return object;\r\n                }\r\n                \r\n            }\r\n\r\n            @Override\r\n            public String fromString(String string) {\r\n               if(string == null) {\r\n                    return &quot;&quot;;\r\n                } else {\r\n                    if (string.length() &gt; maxLen) {\r\n                        return string.substring(0,maxLen);\r\n                    } else {\r\n                        return string;\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }));\r\n        \r\n        \r\n       \r\n    editableProperty().bind(stringCol.editableProperty());\r\n    \r\n        \r\n        \r\n    contentDisplayProperty().bind(Bindings\r\n        .when(editableProperty())\r\n                .then(ContentDisplay.GRAPHIC_ONLY)\r\n                .otherwise(ContentDisplay.TEXT_ONLY)\r\n    );           \r\n        \r\n        setListener () ;\r\n\r\n    }   \r\n    \r\n    \r\n    @Override\r\n    protected void updateItem(String strInput, boolean empty) {\r\n        System.out.println(&quot;updateItem&quot;);\r\n    super.updateItem(strInput, empty);\r\n        \r\n    if(empty) {\r\n            \r\n        setText(null);\r\n        setGraphic(null);\r\n            \r\n    } else {\r\n            \r\n        \r\n        this.textField.setText(strInput);       \r\n        setGraphic(this.textField);\r\n            \r\n        if(strInput == null) {\r\n        setText(&quot;&quot;);\r\n        } else {\r\n        setText(strInput);\r\n        }\r\n    }   \r\n    } \r\n \r\n    \r\n    private void setListener () {\r\n\r\n        this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {       \r\n        if(newValue) {\r\n                System.out.println(&quot;get focus&quot;);       \r\n        } else {\r\n                System.out.println(&quot;lost focus&quot;);\r\n                commitEdit(textField.getText());\r\n                \r\n            }\r\n    });\r\n        \r\n        this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        \r\n\r\n                System.out.println(&quot;comit : &quot; + newValue + &quot;isEditing : &quot; + isEditing());\r\n                if (newValue.length() &gt; maxLen) {\r\n                    textField.setText(oldValue);\r\n                }\r\n    });   \r\n        \r\n        \r\n        this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            \r\n            @Override public void handle(KeyEvent evt) {\r\n                \r\n                if (KeyCode.ESCAPE == evt.getCode()) {\r\n                    System.out.println(&quot;cancel edit&quot;);\r\n                    cancelEdit();\r\n                }\r\n                \r\n                if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode() ) {\r\n                    System.out.println(&quot;commit edit&quot;);\r\n                    commitEdit(textField.getText());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Universal TextField for TableView","body":"<p>I want to use a class <code>TextField</code> for a <code>TableCell</code> in JavaFX, which should be used universally.</p>\n<p>I can display the data in TableView, however, the changes do not arrive in the controller and are not being saved in the data class.</p>\n<p>I want to be able to control the behavior from the TableView while interfacing with my class correctly and storing the data.</p>\n<p>At the moment I can see the values from the data class in TableView and edit them according to the setting in the class, however, I can't get the data into the data class in the controller.</p>\n<p>Here is my approach so far:</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>columnCourse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;CourseName&quot;));\ncolumnCourse.setCellFactory(i -&gt; new CellClassTextFieldString(columnCourse, 20));\ncolumnCourse.setOnEditCommit(e -&gt; { System.out.println(&quot;Commit in Controller &quot;);; });\n</code></pre>\n<p>TextFieldClass</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\n    \n    private final TextField textField;\n    private final int maxLen;\n    \n    public  CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {   \n\n        this.textField = new TextField();\n        this.maxLen = maxLen;\n        \n        \n        this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\n            \n            @Override\n            public String toString(String object) {\n                if(object == null) return &quot;&quot;;\n                \n                if (object.length() &gt; maxLen) {\n                    return object.substring(0, maxLen);\n                } else {\n                    return object;\n                }\n                \n            }\n\n            @Override\n            public String fromString(String string) {\n               if(string == null) {\n                    return &quot;&quot;;\n                } else {\n                    if (string.length() &gt; maxLen) {\n                        return string.substring(0,maxLen);\n                    } else {\n                        return string;\n                    }\n                }\n            }\n            \n        }));\n        \n        \n       \n    editableProperty().bind(stringCol.editableProperty());\n    \n        \n        \n    contentDisplayProperty().bind(Bindings\n        .when(editableProperty())\n                .then(ContentDisplay.GRAPHIC_ONLY)\n                .otherwise(ContentDisplay.TEXT_ONLY)\n    );           \n        \n        setListener () ;\n\n    }   \n    \n    \n    @Override\n    protected void updateItem(String strInput, boolean empty) {\n        System.out.println(&quot;updateItem&quot;);\n    super.updateItem(strInput, empty);\n        \n    if(empty) {\n            \n        setText(null);\n        setGraphic(null);\n            \n    } else {\n            \n        \n        this.textField.setText(strInput);       \n        setGraphic(this.textField);\n            \n        if(strInput == null) {\n        setText(&quot;&quot;);\n        } else {\n        setText(strInput);\n        }\n    }   \n    } \n \n    \n    private void setListener () {\n\n        this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {       \n        if(newValue) {\n                System.out.println(&quot;get focus&quot;);       \n        } else {\n                System.out.println(&quot;lost focus&quot;);\n                commitEdit(textField.getText());\n                \n            }\n    });\n        \n        this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n        \n\n                System.out.println(&quot;comit : &quot; + newValue + &quot;isEditing : &quot; + isEditing());\n                if (newValue.length() &gt; maxLen) {\n                    textField.setText(oldValue);\n                }\n    });   \n        \n        \n        this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            \n            @Override public void handle(KeyEvent evt) {\n                \n                if (KeyCode.ESCAPE == evt.getCode()) {\n                    System.out.println(&quot;cancel edit&quot;);\n                    cancelEdit();\n                }\n                \n                if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode() ) {\n                    System.out.println(&quot;commit edit&quot;);\n                    commitEdit(textField.getText());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","asn.1"],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638939120,"creation_date":1638939120,"answer_id":70270115,"question_id":70263987,"body_markdown":"You can nest sequences, i.e. you can build one DERSequence for each entry as you are doing and then add each of them to an outer ASN1EncodableVector and make a final sequence from that. The inner sequences could contain key/val/val if the number of values is fixed at 2 as in your example. Or you could have yet another sequence to hold the values e.g.:\r\n\r\n    SEQUENCE {\r\n      SEQUENCE {\r\n        &quot;p_table&quot;,\r\n        SEQUENCE {\r\n          &quot;p_event/Name&quot;,\r\n          &quot;p_fault/Name&quot;,\r\n        }\r\n      },\r\n      SEQUENCE {\r\n        &quot;s_table&quot;,\r\n        SEQUENCE {\r\n          &quot;s_event/Name&quot;,\r\n          &quot;s_fault/Name&quot;,\r\n          &quot;s_other/Name&quot;,\r\n        }\r\n      },\r\n      // and so on\r\n    }\r\n\r\n","title":"How to add specific &quot;key&quot; to an ASN1EncodableVector in BouncyCastle?","body":"<p>You can nest sequences, i.e. you can build one DERSequence for each entry as you are doing and then add each of them to an outer ASN1EncodableVector and make a final sequence from that. The inner sequences could contain key/val/val if the number of values is fixed at 2 as in your example. Or you could have yet another sequence to hold the values e.g.:</p>\n<pre><code>SEQUENCE {\n  SEQUENCE {\n    &quot;p_table&quot;,\n    SEQUENCE {\n      &quot;p_event/Name&quot;,\n      &quot;p_fault/Name&quot;,\n    }\n  },\n  SEQUENCE {\n    &quot;s_table&quot;,\n    SEQUENCE {\n      &quot;s_event/Name&quot;,\n      &quot;s_fault/Name&quot;,\n      &quot;s_other/Name&quot;,\n    }\n  },\n  // and so on\n}\n</code></pre>\n"}],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70270115,"answer_count":1,"score":0,"last_activity_date":1638939120,"creation_date":1638895934,"question_id":70263987,"body_markdown":"So, I asked a similar question [before](https://stackoverflow.com/questions/69977176/how-to-add-asn-1-extensions-before-signing-with-bouncycastle) but the issue has since evolved. So, I&#39;ll give you a whole overview and then I&#39;ll ask the question.\r\n\r\nCurrently, I am reading from a .yml file and parsing through it. I then store the data in a HashMap&lt;String, ArrayList &lt;String&gt; &gt; that looks something like this:\r\n```\r\n[{p_table=[p_event/Name, p_fault/Name]}, \r\n{s_table=[s_event/Name, s_fault/Name]}, \r\n{r_table=[r_event/Name, r_fault/Name]}]\r\n```\r\n\r\nNow, I understand that if I want to create an extension with bouncycastle I first have to add all of my data into an ASN1EncodableVector. What I&#39;m doing is using certificates to tell my IoT things what topics they can subscribe/publish/receive from. Hence, I can do something like this:\r\n\r\n```\r\nwhile(iterator.hasNext()) {\r\n\t\t\tEntry&lt;String, ArrayList&lt;String&gt;&gt; entry = iterator.next();\r\n\t\t\tASN1EncodableVector vector = new ASN1EncodableVector\r\n\r\n\t\t\tfor(String val : entry.getValue()) {\t\t\t\t\r\n\t\t\t\t(vector).add(new DERUTF8String(val));\r\n\t\t\t}\r\n\t\t\tallowedTables.add(new DERSequence(vector));\r\n\t\t}\r\n```\r\nThis will only add the values from the arraylist eg p_event/Name or p_fault/Name, is there a way for me to specify that those two DERUTF8String(s) belong to the p_table? Or is there some sort of identifier I can use when using the .add method?\r\n\r\nSo could the code change from something like this:\r\n``` \r\n(vector).add(new DERUTF8String(val));\r\n```\r\nto:\r\n```\r\n(vector).add(new aConstructorToIdentifyWhatTheUTF8BelongsTo(entry.getKey()), new DERUTF8String(val));\r\n```","title":"How to add specific &quot;key&quot; to an ASN1EncodableVector in BouncyCastle?","body":"<p>So, I asked a similar question <a href=\"https://stackoverflow.com/questions/69977176/how-to-add-asn-1-extensions-before-signing-with-bouncycastle\">before</a> but the issue has since evolved. So, I'll give you a whole overview and then I'll ask the question.</p>\n<p>Currently, I am reading from a .yml file and parsing through it. I then store the data in a HashMap&lt;String, ArrayList  &gt; that looks something like this:</p>\n<pre><code>[{p_table=[p_event/Name, p_fault/Name]}, \n{s_table=[s_event/Name, s_fault/Name]}, \n{r_table=[r_event/Name, r_fault/Name]}]\n</code></pre>\n<p>Now, I understand that if I want to create an extension with bouncycastle I first have to add all of my data into an ASN1EncodableVector. What I'm doing is using certificates to tell my IoT things what topics they can subscribe/publish/receive from. Hence, I can do something like this:</p>\n<pre><code>while(iterator.hasNext()) {\n            Entry&lt;String, ArrayList&lt;String&gt;&gt; entry = iterator.next();\n            ASN1EncodableVector vector = new ASN1EncodableVector\n\n            for(String val : entry.getValue()) {                \n                (vector).add(new DERUTF8String(val));\n            }\n            allowedTables.add(new DERSequence(vector));\n        }\n</code></pre>\n<p>This will only add the values from the arraylist eg p_event/Name or p_fault/Name, is there a way for me to specify that those two DERUTF8String(s) belong to the p_table? Or is there some sort of identifier I can use when using the .add method?</p>\n<p>So could the code change from something like this:</p>\n<pre><code>(vector).add(new DERUTF8String(val));\n</code></pre>\n<p>to:</p>\n<pre><code>(vector).add(new aConstructorToIdentifyWhatTheUTF8BelongsTo(entry.getKey()), new DERUTF8String(val));\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user15256253"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638938286,"creation_date":1638938286,"answer_id":70270023,"question_id":70270009,"body_markdown":"\r\n\r\nIt&#39;s redundant because `import java.util.*;` imports everything inside util, including `Scanner`.","title":"import java.util.*; import java.util.Scanner; I want the meaning of above statements, I am unaware about this statement in java","body":"<p>It's redundant because <code>import java.util.*;</code> imports everything inside util, including <code>Scanner</code>.</p>\n"}],"owner":{"account_id":23583231,"reputation":1,"user_id":17621994,"display_name":"Ajay Sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1638938452,"creation_date":1638938183,"question_id":70270009,"body_markdown":"```\r\nimport java.util.*;\r\n\r\nimport java.util.Scanner;\r\n```\r\nI want the meaning of above  statements, I am unaware about this statement in java.","title":"import java.util.*; import java.util.Scanner; I want the meaning of above statements, I am unaware about this statement in java","body":"<pre><code>import java.util.*;\n\nimport java.util.Scanner;\n</code></pre>\n<p>I want the meaning of above  statements, I am unaware about this statement in java.</p>\n"},{"tags":["java","unit-testing","resttemplate","mockrestserviceserver"],"comments":[{"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"score":0,"creation_date":1588883330,"post_id":61045521,"comment_id":109080368,"body_markdown":"`MockRestServiceServer` is used to test a REST client. I believe you want to test your REST service, `DalaLakeRealController`. Take a look at Spring&#39;s `MockMvc`. I think this is what you are looking for.","body":"<code>MockRestServiceServer</code> is used to test a REST client. I believe you want to test your REST service, <code>DalaLakeRealController</code>. Take a look at Spring&#39;s <code>MockMvc</code>. I think this is what you are looking for."},{"owner":{"account_id":10342618,"reputation":1519,"user_id":7628491,"display_name":"Ida Amit"},"score":0,"creation_date":1589178540,"post_id":61045521,"comment_id":109178596,"body_markdown":"Wtih MockMvc you test your controller.  The Stream controller doesn&#39;t belong to my micro-service, In my production code I initiate request to controller which returns Stream. I would like to test my request","body":"Wtih MockMvc you test your controller.  The Stream controller doesn&#39;t belong to my micro-service, In my production code I initiate request to controller which returns Stream. I would like to test my request"}],"answers":[{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589184196,"creation_date":1589184196,"answer_id":61724916,"question_id":61045521,"body_markdown":"I hope this will guide you...\r\n\r\n    @Test\r\n    public void whenTopicNotExistsThenTopicNotFound() throws IOException, NakadiException {\r\n        when(eventTypeRepository.findByName(TEST_EVENT_TYPE_NAME)).thenThrow(NoSuchEventTypeException.class);\r\n\r\n        final StreamingResponseBody responseBody = createStreamingResponseBody();\r\n\r\n        final Problem expectedProblem = Problem.valueOf(NOT_FOUND, &quot;topic not found&quot;);\r\n        assertThat(responseToString(responseBody), TestUtils.JSON_TEST_HELPER.matchesObject(expectedProblem));\r\n    }\r\n\r\nGot the above code from: https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody\r\n\r\nThe idea is to convert the `StreamingResponseBody` into a `String`. Then you can do something like:\r\n\r\n    mockServer.expect(once(), requestTo(&quot;http://localhost:8080/api/downloaddbcsv&quot;))\r\n    .andRespond(withSuccess(responseToString(responseBody), MediaType.APPLICATION_JSON));\r\n\r\nFurthermore, take a look here: https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java\r\n\r\nThe `streamingResponseBody()` and `responseEntity()` test methods convert the response to a`String`.","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>I hope this will guide you...</p>\n\n<pre><code>@Test\npublic void whenTopicNotExistsThenTopicNotFound() throws IOException, NakadiException {\n    when(eventTypeRepository.findByName(TEST_EVENT_TYPE_NAME)).thenThrow(NoSuchEventTypeException.class);\n\n    final StreamingResponseBody responseBody = createStreamingResponseBody();\n\n    final Problem expectedProblem = Problem.valueOf(NOT_FOUND, \"topic not found\");\n    assertThat(responseToString(responseBody), TestUtils.JSON_TEST_HELPER.matchesObject(expectedProblem));\n}\n</code></pre>\n\n<p>Got the above code from: <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody</a></p>\n\n<p>The idea is to convert the <code>StreamingResponseBody</code> into a <code>String</code>. Then you can do something like:</p>\n\n<pre><code>mockServer.expect(once(), requestTo(\"http://localhost:8080/api/downloaddbcsv\"))\n.andRespond(withSuccess(responseToString(responseBody), MediaType.APPLICATION_JSON));\n</code></pre>\n\n<p>Furthermore, take a look here: <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java</a></p>\n\n<p>The <code>streamingResponseBody()</code> and <code>responseEntity()</code> test methods convert the response to a<code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":7583299,"reputation":21,"user_id":5753314,"display_name":"Eli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638938452,"creation_date":1638938452,"answer_id":70270039,"question_id":61045521,"body_markdown":"Although this post is old, this answer might help someone looking for this nowdays.\r\n\r\nThe answer for the question is the Functional Interface (streamingResponseBody) shown in the code below combined with the mock return of the download in the cloudStorageService. \r\n\r\n```\r\n    @Test\r\n    @WithUserDetailsMock(\r\n        email = &quot;participant@localhost&quot;,\r\n        authorities = AuthoritiesConstants.USER,\r\n        cashflowAuthorities = CashflowAuthoritiesConstants.PARTICIPANT\r\n    )\r\n    void testDownloadFileThenSuccess() throws Exception {\r\n        Member loggedMember = memberService.getLoggedMember();\r\n        File file = EntityBuilder.file(loggedMember.getGroup()).build(fileRepository::save);\r\n        SubmittedPayment submittedPayment = EntityBuilder\r\n            .submittedPayment(loggedMember)\r\n            .with(SubmittedPayment::setFile, file)\r\n            .build(submittedPaymentRepository::save);\r\n\r\n        String endpoint = String.format(&quot;/api/payment/submit/%d/file&quot;, submittedPayment.getId());\r\n        byte[] fileBytes = &quot;some content&quot;.getBytes();\r\n        StreamingResponseBody streamingResponseBody = objectStream -&gt; {\r\n            var mockInputStream = new ByteArrayInputStream(fileBytes);\r\n            try (mockInputStream) {\r\n                byte[] bytes = mockInputStream.readAllBytes();\r\n                objectStream.write(bytes, 0, bytes.length);\r\n            }\r\n        };\r\n        doReturn(streamingResponseBody).when(cloudStorageService).download(fileArgumentCaptor.capture());\r\n\r\n        MvcResult response = restTransactionMockMvc.perform(get(endpoint)).andExpect(status().isOk()).andReturn();\r\n\r\n        assertThat(file).isEqualTo(fileArgumentCaptor.getValue());\r\n        assertThat(Arrays.equals(fileBytes, response.getResponse().getContentAsByteArray())).isTrue();\r\n    }\r\n```\r\n","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>Although this post is old, this answer might help someone looking for this nowdays.</p>\n<p>The answer for the question is the Functional Interface (streamingResponseBody) shown in the code below combined with the mock return of the download in the cloudStorageService.</p>\n<pre><code>    @Test\n    @WithUserDetailsMock(\n        email = &quot;participant@localhost&quot;,\n        authorities = AuthoritiesConstants.USER,\n        cashflowAuthorities = CashflowAuthoritiesConstants.PARTICIPANT\n    )\n    void testDownloadFileThenSuccess() throws Exception {\n        Member loggedMember = memberService.getLoggedMember();\n        File file = EntityBuilder.file(loggedMember.getGroup()).build(fileRepository::save);\n        SubmittedPayment submittedPayment = EntityBuilder\n            .submittedPayment(loggedMember)\n            .with(SubmittedPayment::setFile, file)\n            .build(submittedPaymentRepository::save);\n\n        String endpoint = String.format(&quot;/api/payment/submit/%d/file&quot;, submittedPayment.getId());\n        byte[] fileBytes = &quot;some content&quot;.getBytes();\n        StreamingResponseBody streamingResponseBody = objectStream -&gt; {\n            var mockInputStream = new ByteArrayInputStream(fileBytes);\n            try (mockInputStream) {\n                byte[] bytes = mockInputStream.readAllBytes();\n                objectStream.write(bytes, 0, bytes.length);\n            }\n        };\n        doReturn(streamingResponseBody).when(cloudStorageService).download(fileArgumentCaptor.capture());\n\n        MvcResult response = restTransactionMockMvc.perform(get(endpoint)).andExpect(status().isOk()).andReturn();\n\n        assertThat(file).isEqualTo(fileArgumentCaptor.getValue());\n        assertThat(Arrays.equals(fileBytes, response.getResponse().getContentAsByteArray())).isTrue();\n    }\n</code></pre>\n"}],"owner":{"account_id":10342618,"reputation":1519,"user_id":7628491,"display_name":"Ida Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638938452,"creation_date":1586102968,"question_id":61045521,"body_markdown":"In my production code I need to execute POST command to a controller which response ***StreamingResponseBody***.\r\nA short example of such code is : \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class DalaLakeRealController {\r\n    \r\n        @PostMapping(value = &quot;/downloaddbcsv&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;StreamingResponseBody&gt; downloadDBcsv(@Valid @RequestBody SearchQuery searchRequest) {\r\n            return ResponseEntity.ok()\r\n                    .header(HttpHeaders.CONTENT_TYPE, &quot;application/csv&quot;)\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=demoStream.csv&quot;)\r\n                    .body(\r\n                            get3Lines()\r\n                    );\r\n        }\r\n    \r\n        public StreamingResponseBody get3Lines() {\r\n            StreamingResponseBody streamingResponseBody = new StreamingResponseBody() {\r\n                @Override\r\n                public void writeTo(OutputStream outputStream) throws IOException {\r\n                    outputStream.write(&quot;LineNumber111111111\\n&quot;.getBytes());\r\n                    outputStream.write(&quot;LineNumber222222222\\n&quot;.getBytes());\r\n                    outputStream.write(&quot;LineNumber333333333\\n&quot;.getBytes());\r\n                }\r\n            };\r\n            return streamingResponseBody;\r\n        }\r\n    }\r\n\r\nIn the testing I would like to mock the response from this controller. I have read the following link :\r\n[Using MockRestServiceServer to Test a REST Client][1]   to mock external controllers.\r\n&lt;BR/&gt;But in andRespond of ***mockServer*** it expects ***ClientHttpResponse*** or  ***ResponseCreator*** \r\n\r\n    mockServer.expect(once(), requestTo(&quot;http://localhost:8080/api/downloaddbcsv&quot;))\r\n        .andRespond(withSuccess(&quot;{message : &#39;under construction&#39;}&quot;, MediaType.APPLICATION_JSON));\r\n\r\n\r\nHow do I respond with ***StreamingResponseBody*** in ***MockRestServiceServer***?\r\n\r\n  [1]: https://examples.javacodegeeks.com/enterprise-java/spring/using-mockrestserviceserver-test-rest-client/\r\n","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>In my production code I need to execute POST command to a controller which response <strong><em>StreamingResponseBody</em></strong>.\nA short example of such code is : </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class DalaLakeRealController {\n\n    @PostMapping(value = \"/downloaddbcsv\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;StreamingResponseBody&gt; downloadDBcsv(@Valid @RequestBody SearchQuery searchRequest) {\n        return ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_TYPE, \"application/csv\")\n                .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=demoStream.csv\")\n                .body(\n                        get3Lines()\n                );\n    }\n\n    public StreamingResponseBody get3Lines() {\n        StreamingResponseBody streamingResponseBody = new StreamingResponseBody() {\n            @Override\n            public void writeTo(OutputStream outputStream) throws IOException {\n                outputStream.write(\"LineNumber111111111\\n\".getBytes());\n                outputStream.write(\"LineNumber222222222\\n\".getBytes());\n                outputStream.write(\"LineNumber333333333\\n\".getBytes());\n            }\n        };\n        return streamingResponseBody;\n    }\n}\n</code></pre>\n\n<p>In the testing I would like to mock the response from this controller. I have read the following link :\n<a href=\"https://examples.javacodegeeks.com/enterprise-java/spring/using-mockrestserviceserver-test-rest-client/\" rel=\"nofollow noreferrer\">Using MockRestServiceServer to Test a REST Client</a>   to mock external controllers.\n<BR/>But in andRespond of <strong><em>mockServer</em></strong> it expects <strong><em>ClientHttpResponse</em></strong> or  <strong><em>ResponseCreator</em></strong> </p>\n\n<pre><code>mockServer.expect(once(), requestTo(\"http://localhost:8080/api/downloaddbcsv\"))\n    .andRespond(withSuccess(\"{message : 'under construction'}\", MediaType.APPLICATION_JSON));\n</code></pre>\n\n<p>How do I respond with <strong><em>StreamingResponseBody</em></strong> in <strong><em>MockRestServiceServer</em></strong>?</p>\n"},{"tags":["java","excel","csv","office365","dspace"],"comments":[{"owner":{"account_id":9533520,"reputation":4461,"user_id":11573842,"display_name":"Sabito stands with Ukraine"},"score":0,"creation_date":1612370865,"post_id":66030919,"comment_id":116747834,"body_markdown":"Please consider answering your own question on how you solved it... it will be useful to future visitors... also please restore the question to its previous form.","body":"Please consider answering your own question on how you solved it... it will be useful to future visitors... also please restore the question to its previous form."}],"answers":[{"tags":[],"owner":{"account_id":17909620,"reputation":47,"user_id":13012011,"display_name":"Billu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638938199,"creation_date":1612523342,"answer_id":66062175,"question_id":66030919,"body_markdown":"This is only for Window based user.\r\n\r\nPrepared the excel sheet with all the Dublin-core metadata field. then save that excel sheet as CSV UTF-8 (Comma Delimited ad Closed it. Now, Open the same file that you save as CSV UTF-8 with **Open with** Option notepad, not Notepad ++. After Opening that again go to save as option choose **File name** type like yourfilename.csv and **Save as type** option choose all Files then encoding as UTF-8 not UTF-8 with DOM, and save it. Now, Go to you Safbuilder software and run the cmd command script like software path is C:\\Users\\xyz\\SAFBuilder-master\r\nopen the CMD in same software path and run the bat file with use of -c CSVfilepath\\CSVFileName.csv -z\r\n\r\nIt will convert and create a SAF file folder Simple Archive Folder with thumbnail and pdf.\r\nHow to import thumbnail and pdf same with bundle name.\r\nIn first column give the file name and bundle name that separeted by double underscore\r\nblandino.pdf__bundle:ORIGINAL||blandino.jpg__bundle:THUMBNAIL\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qI5yr.png","title":"Why DSpace SAFBuilder import not working for vernacular language like spanish, Urdu, Hindi etc?","body":"<p>This is only for Window based user.</p>\n<p>Prepared the excel sheet with all the Dublin-core metadata field. then save that excel sheet as CSV UTF-8 (Comma Delimited ad Closed it. Now, Open the same file that you save as CSV UTF-8 with <strong>Open with</strong> Option notepad, not Notepad ++. After Opening that again go to save as option choose <strong>File name</strong> type like yourfilename.csv and <strong>Save as type</strong> option choose all Files then encoding as UTF-8 not UTF-8 with DOM, and save it. Now, Go to you Safbuilder software and run the cmd command script like software path is C:\\Users\\xyz\\SAFBuilder-master\nopen the CMD in same software path and run the bat file with use of -c CSVfilepath\\CSVFileName.csv -z</p>\n<p>It will convert and create a SAF file folder Simple Archive Folder with thumbnail and pdf.\nHow to import thumbnail and pdf same with bundle name.\nIn first column give the file name and bundle name that separeted by double underscore\nblandino.pdf__bundle:ORIGINAL||blandino.jpg__bundle:THUMBNAIL</p>\n<p><a href=\"https://i.stack.imgur.com/qI5yr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qI5yr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20509315,"reputation":1,"user_id":15051439,"display_name":"Sonu Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638938199,"creation_date":1612367228,"question_id":66030919,"body_markdown":"while working on vernacular language in CSV files after importing the file into DSpace using SAF Builder it shows symbols character. My CSV file is UTF-8 Unicode while I open it, there it shows symbol intent of showing in vernacular language.","title":"Why DSpace SAFBuilder import not working for vernacular language like spanish, Urdu, Hindi etc?","body":"<p>while working on vernacular language in CSV files after importing the file into DSpace using SAF Builder it shows symbols character. My CSV file is UTF-8 Unicode while I open it, there it shows symbol intent of showing in vernacular language.</p>\n"},{"tags":["java","git","jenkins","gradle","gradlew"],"answers":[{"tags":[],"owner":{"account_id":20291956,"reputation":199,"user_id":14883431,"display_name":"mAsK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638935366,"creation_date":1638935366,"answer_id":70269709,"question_id":70269582,"body_markdown":"Solved this by commenting the *.jar in gitignore file and added the specific gradle-wrapper.jar to repo","title":"How to add back missing gradle-wrapper.jar to Git repo for Jenkins to do its job","body":"<p>Solved this by commenting the *.jar in gitignore file and added the specific gradle-wrapper.jar to repo</p>\n"}],"owner":{"account_id":20291956,"reputation":199,"user_id":14883431,"display_name":"mAsK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638935366,"creation_date":1638934099,"question_id":70269582,"body_markdown":"Whenever my Jenkins job clones my project from GitHub, it is not able to run gradlew command due to missing gradle-wrapper.jar under myproject/gradle/wrapper folder. I have to manually copy paste from another source and re-run the Jenkins job. \r\n\r\nSomehow I erroneously had deleted this jar file. The .gitignore file does not detect the newly added jar file either. Due to which I am not able to commit the missing jar to repo. Any suggestion on how to solve this issue.\r\nI am very specific about using gradlew and not gradle\r\nBelow is the .gitignore file\r\n\r\n    HELP.md\r\n    .gradle\r\n    build/\r\n    !gradle/wrapper/gradle-wrapper.jar\r\n    !**/src/main/**/build/\r\n    !**/src/test/**/build/\r\n    \r\n    ### Gradle ###\r\n    .gradle\r\n    build/\r\n    \r\n    # Ignore Gradle GUI config\r\n    gradle-app.setting\r\n    \r\n    # Avoid ignoring Gradle wrapper jar file (.jar files are usually ignored)\r\n    !gradle-wrapper.jar\r\n    \r\n    # Cache of project\r\n    .gradletasknamecache\r\n    \r\n    ### Gradle Patch ###\r\n    **/build/\r\n    \r\n    ### Java ###\r\n    # Compiled class file\r\n    *.class\r\n    \r\n    # Log file\r\n    *.log\r\n    \r\n    \r\n    # Package Files #\r\n    *.jar\r\n    *.war\r\n    *.nar\r\n    *.ear\r\n    *.zip\r\n    *.tar.gz\r\n    *.rar","title":"How to add back missing gradle-wrapper.jar to Git repo for Jenkins to do its job","body":"<p>Whenever my Jenkins job clones my project from GitHub, it is not able to run gradlew command due to missing gradle-wrapper.jar under myproject/gradle/wrapper folder. I have to manually copy paste from another source and re-run the Jenkins job.</p>\n<p>Somehow I erroneously had deleted this jar file. The .gitignore file does not detect the newly added jar file either. Due to which I am not able to commit the missing jar to repo. Any suggestion on how to solve this issue.\nI am very specific about using gradlew and not gradle\nBelow is the .gitignore file</p>\n<pre><code>HELP.md\n.gradle\nbuild/\n!gradle/wrapper/gradle-wrapper.jar\n!**/src/main/**/build/\n!**/src/test/**/build/\n\n### Gradle ###\n.gradle\nbuild/\n\n# Ignore Gradle GUI config\ngradle-app.setting\n\n# Avoid ignoring Gradle wrapper jar file (.jar files are usually ignored)\n!gradle-wrapper.jar\n\n# Cache of project\n.gradletasknamecache\n\n### Gradle Patch ###\n**/build/\n\n### Java ###\n# Compiled class file\n*.class\n\n# Log file\n*.log\n\n\n# Package Files #\n*.jar\n*.war\n*.nar\n*.ear\n*.zip\n*.tar.gz\n*.rar\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1638878280,"post_id":70259599,"comment_id":124199519,"body_markdown":"I don&#39;t know about this, but is tag `model.version` right? is open with `[` and close with `)`","body":"I don&#39;t know about this, but is tag <code>model.version</code> right? is open with <code>[</code> and close with <code>)</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638878747,"post_id":70259599,"comment_id":124199721,"body_markdown":"Why using version ranges? And why using that in compiler args?","body":"Why using version ranges? And why using that in compiler args?"},{"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"score":0,"creation_date":1638879089,"post_id":70259599,"comment_id":124199842,"body_markdown":"Yes. Above one is right. While giving [{model.version}) like this, gives error &quot;Only fullly-qualified sets allowed in multiple set scenario&quot;","body":"Yes. Above one is right. While giving [{model.version}) like this, gives error &quot;Only fullly-qualified sets allowed in multiple set scenario&quot;"},{"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"score":0,"creation_date":1638879768,"post_id":70259599,"comment_id":124200086,"body_markdown":"Hi khmarbaise, It&#39;s because I will be selecting specific range in different child POM&#39;s. I tried using compiler args in parent to pass value to child POM(Because, properties not working). Working when I pass value in Goals.","body":"Hi khmarbaise, It&#39;s because I will be selecting specific range in different child POM&#39;s. I tried using compiler args in parent to pass value to child POM(Because, properties not working). Working when I pass value in Goals."}],"answers":[{"tags":[],"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638934822,"creation_date":1638934822,"answer_id":70269656,"question_id":70259599,"body_markdown":"Have to give dependency inside dependency management in Parent.\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n        &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n        &lt;version&gt;${model.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nBy giving so, child POM Built successfully. \r\nCan anyone explain pls!","title":"Failing to collect dependencies maven","body":"<p>Have to give dependency inside dependency management in Parent.</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;    \n&lt;dependency&gt;\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n    &lt;artifactId&gt;model&lt;/artifactId&gt; \n    &lt;version&gt;${model.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>By giving so, child POM Built successfully.\nCan anyone explain pls!</p>\n"}],"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269656,"answer_count":1,"score":0,"last_activity_date":1638934822,"creation_date":1638877720,"question_id":70259599,"body_markdown":"I am trying to download files of versions within range start.version and end.version in parent pom.\r\nAnd, choosing specific version in child pom.\r\n\r\nParent POM\r\n\r\n    &lt;properties&gt;\r\n    &lt;start.version&gt;1.1.0&lt;/start.version&gt;\r\n    &lt;end.version&gt;2.1.0&lt;/end.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n     &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;properties&gt;\r\n            &lt;model.version&gt;[${start.version},${end.version}) &lt;/model.version&gt; \r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n\r\n**EDIT: In parent POM I have also added model dependency**\r\n\r\n    &lt;dependencies&gt;    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n        &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n        &lt;version&gt;${model.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nChild POM\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n    &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n    &lt;version&gt;${model.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAll versions within range are downloaded but failing to collect dependencies.\r\nWhen pass these arguments in goals **-Dstart.version=1.1.0 -Dend.version=2.1.0**. It is working fine.\r\n\r\nBut, not collecting when I give in properties.\r\nI tried adding plugins in parent POM\r\n \r\n\r\n        &lt;argLine&gt;${start.version}&lt;argLine&gt;\r\n    \r\n        &lt;compilerArgs&gt;\r\n          &lt;arg&gt;${start.version}&lt;/arg&gt;\r\n          &lt;arg&gt;${end.version}&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n\r\nAnd, copied these in CHILD POM. But, not working.\r\n","title":"Failing to collect dependencies maven","body":"<p>I am trying to download files of versions within range start.version and end.version in parent pom.\nAnd, choosing specific version in child pom.</p>\n<p>Parent POM</p>\n<pre><code>&lt;properties&gt;\n&lt;start.version&gt;1.1.0&lt;/start.version&gt;\n&lt;end.version&gt;2.1.0&lt;/end.version&gt;\n&lt;/properties&gt;\n\n &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;release&lt;/id&gt;\n        &lt;properties&gt;\n        &lt;model.version&gt;[${start.version},${end.version}) &lt;/model.version&gt; \n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p><strong>EDIT: In parent POM I have also added model dependency</strong></p>\n<pre><code>&lt;dependencies&gt;    \n&lt;dependency&gt;\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n    &lt;artifactId&gt;model&lt;/artifactId&gt; \n    &lt;version&gt;${model.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Child POM</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n&lt;artifactId&gt;model&lt;/artifactId&gt; \n&lt;version&gt;${model.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>All versions within range are downloaded but failing to collect dependencies.\nWhen pass these arguments in goals <strong>-Dstart.version=1.1.0 -Dend.version=2.1.0</strong>. It is working fine.</p>\n<p>But, not collecting when I give in properties.\nI tried adding plugins in parent POM</p>\n<pre><code>    &lt;argLine&gt;${start.version}&lt;argLine&gt;\n\n    &lt;compilerArgs&gt;\n      &lt;arg&gt;${start.version}&lt;/arg&gt;\n      &lt;arg&gt;${end.version}&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n</code></pre>\n<p>And, copied these in CHILD POM. But, not working.</p>\n"},{"tags":["java","swagger","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1467113535,"post_id":38074936,"comment_id":63586579,"body_markdown":"Which Version do you refer to?","body":"Which Version do you refer to?"},{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1467113568,"post_id":38074936,"comment_id":63586604,"body_markdown":"https://github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X or maybe http://docs.swagger.io/swagger-core/current/apidocs/index.html?io/swagger/annotations/Api.html might help","body":"<a href=\"https://github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X</a> or maybe <a href=\"http://docs.swagger.io/swagger-core/current/apidocs/index.html?io/swagger/annotations/Api.html\" rel=\"nofollow noreferrer\">docs.swagger.io/swagger-core/current/apidocs/index.html?io/&hellip;</a> might help"},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467113643,"post_id":38074936,"comment_id":63586669,"body_markdown":"@Jens I am using 2.4.0 version (springfox)","body":"@Jens I am using 2.4.0 version (springfox)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1467113854,"post_id":38074936,"comment_id":63586824,"body_markdown":"As i can see, only three attibutes are deprecated","body":"As i can see, only three attibutes are deprecated"},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467113908,"post_id":38074936,"comment_id":63586856,"body_markdown":"@Jens, if it is deprecated, it means that there is a newer alternative, what is that?","body":"@Jens, if it is deprecated, it means that there is a newer alternative, what is that?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":4,"creation_date":1467115589,"post_id":38074936,"comment_id":63588046,"body_markdown":"Deprecated means, that it won&#39;t be used any more in a later version. It doesn&#39;t necessarily mean, that there is a newer alternative.","body":"Deprecated means, that it won&#39;t be used any more in a later version. It doesn&#39;t necessarily mean, that there is a newer alternative."},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467125506,"post_id":38074936,"comment_id":63595547,"body_markdown":"@dunni ohh I see, Thanks :)","body":"@dunni ohh I see, Thanks :)"},{"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"score":0,"creation_date":1554385732,"post_id":38074936,"comment_id":97739896,"body_markdown":"@SoumitriPattnaik you found any solution ?","body":"@SoumitriPattnaik you found any solution ?"}],"answers":[{"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467255168,"creation_date":1467255168,"answer_id":38113193,"question_id":38074936,"body_markdown":"The reason why it&#39;s deprecated is that previous Swagger versions (1.x) used the `@Api` description annotation to group operations.\r\n\r\nIn the Swagger 2.0 specification, the notion of `tags` was created and made a more flexible grouping mechanism.  To be API compliant, the `description` field was retained so upgrades would be easy, but the correct way to add a description is though the `tags` attribute, which should reference a `@Tag` annotation.  The `@Tag` allows you to provide a description and also external links, etc.","title":"Api annotation&#39;s description is deprecated","body":"<p>The reason why it's deprecated is that previous Swagger versions (1.x) used the <code>@Api</code> description annotation to group operations.</p>\n\n<p>In the Swagger 2.0 specification, the notion of <code>tags</code> was created and made a more flexible grouping mechanism.  To be API compliant, the <code>description</code> field was retained so upgrades would be easy, but the correct way to add a description is though the <code>tags</code> attribute, which should reference a <code>@Tag</code> annotation.  The <code>@Tag</code> allows you to provide a description and also external links, etc.</p>\n"},{"tags":[],"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1600465185,"creation_date":1519821295,"answer_id":49029740,"question_id":38074936,"body_markdown":"I found two solutions for Spring Boot application: \r\n\r\n***1. [Swagger 2][1] based:***\r\n\r\nFirstly, use the `tags` method for specify the tags definitions in your `Docket` bean:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class Swagger2Config {\r\n        \r\n        public static final String TAG_1 = &quot;tag1&quot;;\r\n\r\n    \t@Bean\r\n    \tpublic Docket productApi() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n    \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;my.package&quot;)).build()\r\n    \t\t\t\t.tags(new Tag(TAG_1, &quot;Tag 1 description.&quot;))\r\n    \t\t\t\t// Other tags here...\r\n    \t\t\t\t.apiInfo(apiInfo());\r\n    \t}\r\n    \r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\treturn new ApiInfoBuilder().title(&quot;My API&quot;).version(&quot;1.0.0&quot;).build();\r\n    \t}\r\n    }\r\n\r\nAfter, in `RestController` just add the `@Api` annotation with one (or more) of the your tags:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Api(tags = { SwaggerConfig.TAG_1 })\r\n    @RestController\r\n    @RequestMapping(&quot;tag1-domain&quot;)\r\n    public class Tag1RestController { ... }\r\n\r\n***2. [Swagger 3][2] based (OpenAPI):***\r\n\r\nSimilarly, use the `addTagsItem` method for specify the tags definitions in your `OpenAPI` bean:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        public static final String TAG_1 = &quot;tag1&quot;;\r\n    \r\n    \t@Bean\r\n    \tpublic OpenAPI customOpenAPI() {\r\n    \t\tfinal Info info = new Info()\r\n    \t\t\t\t.title(&quot;My API&quot;)\r\n    \t\t\t\t.description(&quot;My API description.&quot;)\r\n    \t\t\t\t.version(&quot;1.0.0&quot;);\r\n    \r\n    \t\treturn new OpenAPI().components(new Components())\r\n    \t\t\t\t.addTagsItem(createTag(TAG_1, &quot;Tag 1 description.&quot;))\r\n    \t\t\t\t// Other tags here...\r\n    \t\t\t\t.info(info);\r\n    \t}\r\n    \r\n    \tprivate Tag createTag(String name, String description) {\r\n    \t\tfinal Tag tag = new Tag();\r\n    \t\ttag.setName(name);\r\n    \t\ttag.setDescription(description);\r\n    \t\treturn tag;\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, in `RestController` just add the `@Tag` annotation:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Tag(name = OpenApiConfig.TAG_1)\r\n    @RestController\r\n    @RequestMapping(&quot;tag1-domain&quot;)\r\n    public class Tag1RestController { ... }\r\n\r\n  [1]: https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n  [2]: https://www.baeldung.com/spring-rest-openapi-documentation","title":"Api annotation&#39;s description is deprecated","body":"<p>I found two solutions for Spring Boot application:</p>\n<p><em><strong>1. <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"noreferrer\">Swagger 2</a> based:</strong></em></p>\n<p>Firstly, use the <code>tags</code> method for specify the tags definitions in your <code>Docket</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSwagger2\npublic class Swagger2Config {\n    \n    public static final String TAG_1 = &quot;tag1&quot;;\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;my.package&quot;)).build()\n                .tags(new Tag(TAG_1, &quot;Tag 1 description.&quot;))\n                // Other tags here...\n                .apiInfo(apiInfo());\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;My API&quot;).version(&quot;1.0.0&quot;).build();\n    }\n}\n</code></pre>\n<p>After, in <code>RestController</code> just add the <code>@Api</code> annotation with one (or more) of the your tags:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Api(tags = { SwaggerConfig.TAG_1 })\n@RestController\n@RequestMapping(&quot;tag1-domain&quot;)\npublic class Tag1RestController { ... }\n</code></pre>\n<p><em><strong>2. <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"noreferrer\">Swagger 3</a> based (OpenAPI):</strong></em></p>\n<p>Similarly, use the <code>addTagsItem</code> method for specify the tags definitions in your <code>OpenAPI</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class OpenApiConfig {\n\n    public static final String TAG_1 = &quot;tag1&quot;;\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        final Info info = new Info()\n                .title(&quot;My API&quot;)\n                .description(&quot;My API description.&quot;)\n                .version(&quot;1.0.0&quot;);\n\n        return new OpenAPI().components(new Components())\n                .addTagsItem(createTag(TAG_1, &quot;Tag 1 description.&quot;))\n                // Other tags here...\n                .info(info);\n    }\n\n    private Tag createTag(String name, String description) {\n        final Tag tag = new Tag();\n        tag.setName(name);\n        tag.setDescription(description);\n        return tag;\n    }\n\n}\n</code></pre>\n<p>Finally, in <code>RestController</code> just add the <code>@Tag</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Tag(name = OpenApiConfig.TAG_1)\n@RestController\n@RequestMapping(&quot;tag1-domain&quot;)\npublic class Tag1RestController { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1606252034,"creation_date":1525693743,"answer_id":50213515,"question_id":38074936,"body_markdown":"This is the correct way to add description to your Swagger API documentation for Swagger v1.5:\r\n\r\n```java\r\n@Api(tags = {&quot;Swagger Resource&quot;})\r\n@SwaggerDefinition(tags = {\r\n    @Tag(name = &quot;Swagger Resource&quot;, description = &quot;Write description here&quot;)\r\n})\r\npublic class ... {\r\n}\r\n```\r\n\r\n","title":"Api annotation&#39;s description is deprecated","body":"<p>This is the correct way to add description to your Swagger API documentation for Swagger v1.5:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Api(tags = {&quot;Swagger Resource&quot;})\n@SwaggerDefinition(tags = {\n    @Tag(name = &quot;Swagger Resource&quot;, description = &quot;Write description here&quot;)\n})\npublic class ... {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540543784,"creation_date":1540543784,"answer_id":53004941,"question_id":38074936,"body_markdown":"I too wondered what to do about uses of the deprecated `description` (showing up as warnings in my IDE). \r\n\r\nWell, on closer inspection it turned out that `description` **is not used anywhere in Swagger UI**. After that the solution (in our case*) became clear: simply remove those descriptions. \r\n\r\n(*In our codebase, with clean class and method names etc, there was certainly no need for such &quot;API descriptions&quot; for the reader of the code. I would have tolerated having these bits of Swagger-related noise in the codebase if they added some value in Swagger UI, but since they didn&#39;t, the only sensible thing was to throw them away.) ","title":"Api annotation&#39;s description is deprecated","body":"<p>I too wondered what to do about uses of the deprecated <code>description</code> (showing up as warnings in my IDE). </p>\n\n<p>Well, on closer inspection it turned out that <code>description</code> <strong>is not used anywhere in Swagger UI</strong>. After that the solution (in our case*) became clear: simply remove those descriptions. </p>\n\n<p>(*In our codebase, with clean class and method names etc, there was certainly no need for such \"API descriptions\" for the reader of the code. I would have tolerated having these bits of Swagger-related noise in the codebase if they added some value in Swagger UI, but since they didn't, the only sensible thing was to throw them away.) </p>\n"},{"tags":[],"owner":{"account_id":5765913,"reputation":91,"user_id":4550884,"display_name":"davrog10"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571128340,"creation_date":1558602018,"answer_id":56271587,"question_id":38074936,"body_markdown":"I tried above solutions but they didn&#39;t work for me.\r\n\r\nTo add a title and description to the documentation you create **ApiInfo** and **Contact** objects like in example below.\r\nThen you simply add **apiInfo** object to your Swagger Docket.\r\n\r\n```\r\nimport springfox.documentation.service.ApiInfo;\r\nimport springfox.documentation.service.Contact;\r\n\r\n@EnableSwagger2\r\n@Configuration\r\npublic class SwaggerConfig {\r\n    \r\n  private Contact contact = new Contact(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n  private ApiInfo apiInfo = new ApiInfo(\r\n      &quot;Backoffice API documentation&quot;,\r\n      &quot;This page documents Backoffice RESTful Web Service Endpoints&quot;,\r\n      &quot;1.0&quot;,\r\n      &quot;&quot;,\r\n      contact,\r\n      &quot;&quot;,\r\n      &quot;&quot;);\r\n\r\n  @Bean\r\n  public Docket api() {\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        .apiInfo(apiInfo)\r\n        .select()\r\n        .apis(RequestHandlerSelectors.basePackage(\r\n            PaymentsController.class.getPackage().getName()\r\n        ))\r\n        .paths(PathSelectors.ant(&quot;/api/v1/payments&quot; + &quot;/**&quot;))\r\n        .build()\r\n        .useDefaultResponseMessages(false)\r\n        .globalOperationParameters(\r\n            newArrayList(new ParameterBuilder()\r\n                .name(&quot;x-authorization&quot;)\r\n                .description(&quot;X-Authorization&quot;)\r\n                .modelRef(new ModelRef(&quot;string&quot;))\r\n                .parameterType(&quot;header&quot;)\r\n                .required(false)\r\n                .build()));\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nAbove code produces a description like in a screenshot below.\r\n\r\n[![screenshot of swagger-ui page produced by code above][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/AiWvv.png","title":"Api annotation&#39;s description is deprecated","body":"<p>I tried above solutions but they didn't work for me.</p>\n\n<p>To add a title and description to the documentation you create <strong>ApiInfo</strong> and <strong>Contact</strong> objects like in example below.\nThen you simply add <strong>apiInfo</strong> object to your Swagger Docket.</p>\n\n<pre><code>import springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\n\n@EnableSwagger2\n@Configuration\npublic class SwaggerConfig {\n\n  private Contact contact = new Contact(\"\", \"\", \"\");\n  private ApiInfo apiInfo = new ApiInfo(\n      \"Backoffice API documentation\",\n      \"This page documents Backoffice RESTful Web Service Endpoints\",\n      \"1.0\",\n      \"\",\n      contact,\n      \"\",\n      \"\");\n\n  @Bean\n  public Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .apiInfo(apiInfo)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(\n            PaymentsController.class.getPackage().getName()\n        ))\n        .paths(PathSelectors.ant(\"/api/v1/payments\" + \"/**\"))\n        .build()\n        .useDefaultResponseMessages(false)\n        .globalOperationParameters(\n            newArrayList(new ParameterBuilder()\n                .name(\"x-authorization\")\n                .description(\"X-Authorization\")\n                .modelRef(new ModelRef(\"string\"))\n                .parameterType(\"header\")\n                .required(false)\n                .build()));\n  }\n}\n\n</code></pre>\n\n<p>Above code produces a description like in a screenshot below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AiWvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiWvv.png\" alt=\"screenshot of swagger-ui page produced by code above\"></a></p>\n"},{"tags":[],"owner":{"account_id":2359757,"reputation":178,"user_id":2066723,"accept_rate":83,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634868590,"creation_date":1634868590,"answer_id":69670657,"question_id":38074936,"body_markdown":"I found that the following works by combining both the `@Api` and `@Tag` annotations building off of [this answer](https://stackoverflow.com/a/38113193/2066723). \r\n\r\nThe value within the tags field of the `@Api` annotation needs to match the value within the name field of the `@Tag` annotation. \r\n\r\n``` java\r\n\r\n@Api(tags = &quot;Controller API&quot;)\r\n@Tag(name = &quot;Controller API&quot;, description = &quot;This controller performs API operations&quot;)\r\npublic class ReportStatusConsumerController {\r\n\r\n}\r\n```","title":"Api annotation&#39;s description is deprecated","body":"<p>I found that the following works by combining both the <code>@Api</code> and <code>@Tag</code> annotations building off of <a href=\"https://stackoverflow.com/a/38113193/2066723\">this answer</a>.</p>\n<p>The value within the tags field of the <code>@Api</code> annotation needs to match the value within the name field of the <code>@Tag</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Api(tags = &quot;Controller API&quot;)\n@Tag(name = &quot;Controller API&quot;, description = &quot;This controller performs API operations&quot;)\npublic class ReportStatusConsumerController {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6478598,"reputation":51,"user_id":5016427,"display_name":"Maximiliano Sibert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934373,"creation_date":1638934373,"answer_id":70269606,"question_id":38074936,"body_markdown":"An old question but may help using swagger 3\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n        // Swagger configuration\r\n        @Bean\r\n        public Docket api() {\r\n    \r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .apiInfo( this.apiInfo())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return new ApiInfoBuilder().title(&quot;API Reference&quot;).version(&quot;1.0.0&quot;)\r\n                    .description(&quot;something&quot;)\r\n                    .license(&quot;Apache 2.0&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        public void addResouceHandler(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n            registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    }","title":"Api annotation&#39;s description is deprecated","body":"<p>An old question but may help using swagger 3</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    // Swagger configuration\n    @Bean\n    public Docket api() {\n\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo( this.apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;API Reference&quot;).version(&quot;1.0.0&quot;)\n                .description(&quot;something&quot;)\n                .license(&quot;Apache 2.0&quot;)\n                .build();\n    }\n\n    public void addResouceHandler(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56609,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"answer_count":7,"score":78,"last_activity_date":1638934373,"creation_date":1467113126,"question_id":38074936,"body_markdown":"In Swagger, the [`@Api`](https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html) annotation&#39;s [`description`](https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html#description--) element is deprecated.\r\n\r\n&gt; **Deprecated.**\r\n&gt; Not used in 1.5.X, kept for legacy support.\r\n\r\nIs there a newer way of providing the description?","title":"Api annotation&#39;s description is deprecated","body":"<p>In Swagger, the <a href=\"https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html\" rel=\"noreferrer\"><code>@Api</code></a> annotation's <a href=\"https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html#description--\" rel=\"noreferrer\"><code>description</code></a> element is deprecated.</p>\n<blockquote>\n<p><strong>Deprecated.</strong>\nNot used in 1.5.X, kept for legacy support.</p>\n</blockquote>\n<p>Is there a newer way of providing the description?</p>\n"},{"tags":["java","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":19961426,"reputation":124,"user_id":14628929,"display_name":"sourheart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638916803,"creation_date":1638916803,"answer_id":70267804,"question_id":70267416,"body_markdown":"Yes is possible, you need to create an interceptor and in that method do the mapping.\r\nThis topic may be for you.\r\n\r\n&gt; https://stackoverflow.com/questions/54364438/spring-execute-code-before-controllers-method-is-invoked","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>Yes is possible, you need to create an interceptor and in that method do the mapping.\nThis topic may be for you.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/54364438/spring-execute-code-before-controllers-method-is-invoked\">Spring - Execute code before controller&#39;s method is invoked</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934101,"creation_date":1638934101,"answer_id":70269583,"question_id":70267416,"body_markdown":"So turns out @JsonSerialize was not working with @SpringQueryMap\r\nSo I did have to add an interceptor.\r\n\r\nLike so:\r\n\r\n    public class MyInterceptor implements RequestInterceptor {\r\n        @Override\r\n        public void apply(RequestTemplate requestTemplate) {\r\n            if(requestTemplate.queries().containsKey(&quot;param1&quot;)) {\r\n                requestTemplate.query(&quot;param1&quot;, convert(requestTemplate.queries().get(&quot;param1&quot;)));\r\n            }\r\n        }\r\n        //convert list to a string\r\n        public String convert(Collection&lt;String&gt; values) {\r\n           final String s = String.join(&quot;,&quot;, values.stream().map(Object::toString).collect(Collectors.toList()));\r\n           return s;\r\n        }\r\n    }\r\n\r\nAnd then in my Feign config class added this:\r\n\r\n    @Bean\r\n    public MyInterceptor myInterceptor() {\r\n        return new MyInterceptor();\r\n    }\r\n\r\n","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>So turns out @JsonSerialize was not working with @SpringQueryMap\nSo I did have to add an interceptor.</p>\n<p>Like so:</p>\n<pre><code>public class MyInterceptor implements RequestInterceptor {\n    @Override\n    public void apply(RequestTemplate requestTemplate) {\n        if(requestTemplate.queries().containsKey(&quot;param1&quot;)) {\n            requestTemplate.query(&quot;param1&quot;, convert(requestTemplate.queries().get(&quot;param1&quot;)));\n        }\n    }\n    //convert list to a string\n    public String convert(Collection&lt;String&gt; values) {\n       final String s = String.join(&quot;,&quot;, values.stream().map(Object::toString).collect(Collectors.toList()));\n       return s;\n    }\n}\n</code></pre>\n<p>And then in my Feign config class added this:</p>\n<pre><code>@Bean\npublic MyInterceptor myInterceptor() {\n    return new MyInterceptor();\n}\n</code></pre>\n"}],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638934101,"creation_date":1638914236,"question_id":70267416,"body_markdown":"I have an enum class as such:\r\n```java\r\nONE(&quot;1&quot;, &quot;Description1&quot;),\r\nTWO(&quot;2&quot;, &quot;Description2&quot;);\r\n\r\nString value;\r\nString description;\r\nMyEnum(String value, String description) {\r\n    this.value  = value;\r\n    this.description = description;\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\n    return this.value;\r\n}\r\n    \r\n@JsonValue\r\npublic String value() {\r\n    return this.value;\r\n}\r\n```\r\n\r\nThe API I am interacting with is expecting a param with type String and the values can be comma separated.\r\n\r\nFor example: `api.com/test?param1=1,2`\r\nI configured a feign client with the url `api.com/test`\r\nAnd then created a POJO like so\r\n```java\r\npublic class POJO {\r\n    private List&lt;MyEnum&gt; param1;\r\n}\r\n```\r\nAnd in my feign client I have:\r\n```java\r\n@RequestMapping(method = RequestMethod.GET)\r\nMyResponse getResponse(@SpringQueryMap POJO request);\r\n```\r\nIs it possible to somehow turn the List of Enums to a List of String before the API call is made via some Spring approach? \r\n\r\nAs of right now, when I pass a List of Enums, it is only taking into account the last Enum within this list.\r\n\r\n**UPDATE**: I annotated the property I want to convert to a list using @JsonSerialize(converter=abc.class). However @SpringQueryMap doesn&#39;t seem to honor that serialization..","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>I have an enum class as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ONE(&quot;1&quot;, &quot;Description1&quot;),\nTWO(&quot;2&quot;, &quot;Description2&quot;);\n\nString value;\nString description;\nMyEnum(String value, String description) {\n    this.value  = value;\n    this.description = description;\n}\n\n@Override\npublic String toString() {\n    return this.value;\n}\n    \n@JsonValue\npublic String value() {\n    return this.value;\n}\n</code></pre>\n<p>The API I am interacting with is expecting a param with type String and the values can be comma separated.</p>\n<p>For example: <code>api.com/test?param1=1,2</code>\nI configured a feign client with the url <code>api.com/test</code>\nAnd then created a POJO like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class POJO {\n    private List&lt;MyEnum&gt; param1;\n}\n</code></pre>\n<p>And in my feign client I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(method = RequestMethod.GET)\nMyResponse getResponse(@SpringQueryMap POJO request);\n</code></pre>\n<p>Is it possible to somehow turn the List of Enums to a List of String before the API call is made via some Spring approach?</p>\n<p>As of right now, when I pass a List of Enums, it is only taking into account the last Enum within this list.</p>\n<p><strong>UPDATE</strong>: I annotated the property I want to convert to a list using @JsonSerialize(converter=abc.class). However @SpringQueryMap doesn't seem to honor that serialization..</p>\n"},{"tags":["java","android","ios","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":15629832,"reputation":7148,"user_id":11276416,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638934056,"creation_date":1638934056,"answer_id":70269576,"question_id":70265202,"body_markdown":"This package may help, [ffmpeg_kit_flutter][1]:\r\n\r\n     import &#39;package:ffmpeg_kit_flutter/ffmpeg_kit.dart&#39;;\r\n    \r\n     FFmpegKit.executeAsync(&#39;-i file1.mp4 -c:v mpeg4 file2.mp4&#39;, (session) async {\r\n       final returnCode = await session.getReturnCode();\r\n    \r\n       if (ReturnCode.isSuccess(returnCode)) {\r\n    \r\n         // SUCCESS\r\n    \r\n       } else if (ReturnCode.isCancel(returnCode)) {\r\n    \r\n         // CANCEL\r\n    \r\n       } else {\r\n    \r\n         // ERROR\r\n    \r\n       }\r\n     });\r\n\r\nfor splitting video, FFmpeg command examples:\r\n\r\n&gt; &quot;-i source-file.foo -ss 0 -t 600 first-10-min.m4v&quot; \r\n&gt;\r\n&gt; &quot;-i source-file.foo -ss 600 -t 600 second-10-min.m4v&quot;\r\n&gt;\r\n&gt; &quot;-i source-file.foo -ss 1200 -t 600 third-10-min.m4v&quot;\r\n\r\n  [1]: https://pub.dev/packages/ffmpeg_kit_flutter","title":"How to split a video file in small pieces in Dart/flutter?","body":"<p>This package may help, <a href=\"https://pub.dev/packages/ffmpeg_kit_flutter\" rel=\"nofollow noreferrer\">ffmpeg_kit_flutter</a>:</p>\n<pre><code> import 'package:ffmpeg_kit_flutter/ffmpeg_kit.dart';\n\n FFmpegKit.executeAsync('-i file1.mp4 -c:v mpeg4 file2.mp4', (session) async {\n   final returnCode = await session.getReturnCode();\n\n   if (ReturnCode.isSuccess(returnCode)) {\n\n     // SUCCESS\n\n   } else if (ReturnCode.isCancel(returnCode)) {\n\n     // CANCEL\n\n   } else {\n\n     // ERROR\n\n   }\n });\n</code></pre>\n<p>for splitting video, FFmpeg command examples:</p>\n<blockquote>\n<p>&quot;-i source-file.foo -ss 0 -t 600 first-10-min.m4v&quot;</p>\n<p>&quot;-i source-file.foo -ss 600 -t 600 second-10-min.m4v&quot;</p>\n<p>&quot;-i source-file.foo -ss 1200 -t 600 third-10-min.m4v&quot;</p>\n</blockquote>\n"}],"owner":{"display_name":"user17617805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1278,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1638934056,"creation_date":1638901572,"question_id":70265202,"body_markdown":"I picked a video file from local storage, i want the video file to be split into desired small parts(video files) programmatically. Can i do it in dart or i have to write code for java and swift ?","title":"How to split a video file in small pieces in Dart/flutter?","body":"<p>I picked a video file from local storage, i want the video file to be split into desired small parts(video files) programmatically. Can i do it in dart or i have to write code for java and swift ?</p>\n"},{"tags":["java","angular","rest"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638934057,"post_id":70269048,"comment_id":124217611,"body_markdown":"Please add the console log of response","body":"Please add the console log of response"},{"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"score":0,"creation_date":1638936080,"post_id":70269048,"comment_id":124217952,"body_markdown":"person-data.service.ts:1 Call through Http client personservice data service\nperson-list.component.ts:60 Backend service response1 undefined\nperson-list.component.ts:61 Backend service response[object Object]\nperson-list.component.ts:62 Backend service response1 200\nperson-list.component.ts:63 Backend service response1 Successfull\nperson-list.component.ts:64 Backend service response1 [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\nperson-list.component.ts:65 Backend service response1 undefined","body":"person-data.service.ts:1 Call through Http client personservice data service person-list.component.ts:60 Backend service response1 undefined person-list.component.ts:61 Backend service response[object Object] person-list.component.ts:62 Backend service response1 200 person-list.component.ts:63 Backend service response1 Successfull person-list.component.ts:64 Backend service response1 [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object] person-list.component.ts:65 Backend service response1 undefined"},{"owner":{"account_id":12471848,"reputation":63,"user_id":9079690,"display_name":"Mlayel Rami"},"score":0,"creation_date":1640044177,"post_id":70269048,"comment_id":124497680,"body_markdown":"could you provide the function retrieveAllPersons in the component person-data.service.ts","body":"could you provide the function retrieveAllPersons in the component person-data.service.ts"}],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934047,"creation_date":1638934047,"answer_id":70269575,"question_id":70269048,"body_markdown":"you are assinging wrongly from the response first.`data` keyword is needed for accessing the response data. \r\ntry this: `this.persons = this.finalResponse.data.objects`\r\n\r\nHere it is: \r\n```\r\nthis.personsDataService.retrieveAllPersons().subscribe(\r\n      response =&gt;{\r\n        console.log(&quot;Backend service response&quot;+response)\r\n        this.finalResponse =response;\r\n        this.persons = this.finalResponse.data.objects\r\n        console.log(&quot;Backend service response1 &quot;+this.persons)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\r\n      }\r\n    ); \r\n```","title":"How to parse a Java object which contains a list of a custom java POJO from REST Api call in component.ts file in angularJs","body":"<p>you are assinging wrongly from the response first.<code>data</code> keyword is needed for accessing the response data.\ntry this: <code>this.persons = this.finalResponse.data.objects</code></p>\n<p>Here it is:</p>\n<pre><code>this.personsDataService.retrieveAllPersons().subscribe(\n      response =&gt;{\n        console.log(&quot;Backend service response&quot;+response)\n        this.finalResponse =response;\n        this.persons = this.finalResponse.data.objects\n        console.log(&quot;Backend service response1 &quot;+this.persons)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\n      }\n    ); \n</code></pre>\n"}],"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638934047,"creation_date":1638928828,"question_id":70269048,"body_markdown":"I am new to angular. I stuck to parse the response from the Java REST service to my angular UI.  I can see the expected list came from REST API call in Network tab of inspector but not able to parse it to my respective component.ts file in angular. I am getting Response is undefined in console log of UI. Below are the details \r\nREST API Response Object\r\n\r\n    public FinalResponse(int statusCode, String statusMessage, Object objects) {\r\n    \t\tsuper();\r\n    \t\tthis.statusCode = statusCode;\r\n    \t\tthis.statusMessage = statusMessage;\r\n    \t\tthis.objects = objects; // This Object holds the Array List of Persons Object \r\n    \t}\r\n\r\nIn My componet.ts file, I used below code\r\n\r\n    export class Person {\r\n      constructor( public personId: number, public personName: string,){\r\n      }\r\n    }\r\n    \r\n    export class FinalResponse {\r\n     \r\n      constructor( public statusCode: number, public statusMessage: string, \r\n          public objects:any){\r\n    \r\n      }\r\n    }\r\n\r\n    export class PersonListComponent implements OnInit {\r\n      \r\n      persons: Person[]\r\n      message: string\r\n      finalResponse: FinalResponse\r\n    \r\n    \r\n      constructor(private personDataService: PersonDataService, private router: Router,\r\n        private route: ActivatedRoute) { \r\n        }\r\n    \r\n      ngOnInit() {\r\n        this.refreshPersonList();\r\n      }\r\n    \r\n      refreshPersonList(){\r\n        this.personsDataService.retrieveAllPersons().subscribe(\r\n          response =&gt;{\r\n            console.log(&quot;Backend service response&quot;+response)\r\n            this.finalResponse =response;\r\n            this.persons = this.finalResponse.objects\r\n            console.log(&quot;Backend service response1 &quot;+this.persons)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\r\n          }\r\n        ); \r\n      } \r\n    }\r\n\r\nHere I can see the status code &amp; status message perfectly but am not able to see the List of Person object. In the UI console log, I can see it is undefined.\r\nCan anyone please help me with this?\r\nThanks in advance, any advice is highly appreciated.","title":"How to parse a Java object which contains a list of a custom java POJO from REST Api call in component.ts file in angularJs","body":"<p>I am new to angular. I stuck to parse the response from the Java REST service to my angular UI.  I can see the expected list came from REST API call in Network tab of inspector but not able to parse it to my respective component.ts file in angular. I am getting Response is undefined in console log of UI. Below are the details\nREST API Response Object</p>\n<pre><code>public FinalResponse(int statusCode, String statusMessage, Object objects) {\n        super();\n        this.statusCode = statusCode;\n        this.statusMessage = statusMessage;\n        this.objects = objects; // This Object holds the Array List of Persons Object \n    }\n</code></pre>\n<p>In My componet.ts file, I used below code</p>\n<pre><code>export class Person {\n  constructor( public personId: number, public personName: string,){\n  }\n}\n\nexport class FinalResponse {\n \n  constructor( public statusCode: number, public statusMessage: string, \n      public objects:any){\n\n  }\n}\n\nexport class PersonListComponent implements OnInit {\n  \n  persons: Person[]\n  message: string\n  finalResponse: FinalResponse\n\n\n  constructor(private personDataService: PersonDataService, private router: Router,\n    private route: ActivatedRoute) { \n    }\n\n  ngOnInit() {\n    this.refreshPersonList();\n  }\n\n  refreshPersonList(){\n    this.personsDataService.retrieveAllPersons().subscribe(\n      response =&gt;{\n        console.log(&quot;Backend service response&quot;+response)\n        this.finalResponse =response;\n        this.persons = this.finalResponse.objects\n        console.log(&quot;Backend service response1 &quot;+this.persons)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\n      }\n    ); \n  } \n}\n</code></pre>\n<p>Here I can see the status code &amp; status message perfectly but am not able to see the List of Person object. In the UI console log, I can see it is undefined.\nCan anyone please help me with this?\nThanks in advance, any advice is highly appreciated.</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":23205194,"reputation":269,"user_id":17299518,"display_name":"Eko Muhammad Rilo Pembudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933451,"creation_date":1638933451,"answer_id":70269509,"question_id":68182272,"body_markdown":"You can try to set some tag in your list view like this:\r\n```\r\n&lt;ListView android:id=&quot;@+id/listView&quot;\r\n  android:layout_height=&quot;match_parent&quot;\r\n  android:layout_width=&quot;match_parent&quot;\r\n  android:divider=&quot;@android:color/transparent&quot;\r\n  android:dividerHeight=&quot;10.0sp&quot;/&gt;\r\n```\r\nor set this one by programmatically\r\n```\r\nlistView().setDividerHeight(10)\r\n```","title":"Specify distance between listview items","body":"<p>You can try to set some tag in your list view like this:</p>\n<pre><code>&lt;ListView android:id=&quot;@+id/listView&quot;\n  android:layout_height=&quot;match_parent&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:divider=&quot;@android:color/transparent&quot;\n  android:dividerHeight=&quot;10.0sp&quot;/&gt;\n</code></pre>\n<p>or set this one by programmatically</p>\n<pre><code>listView().setDividerHeight(10)\n</code></pre>\n"}],"owner":{"account_id":13063592,"reputation":1,"user_id":9439849,"display_name":"SaMim Danish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638933451,"creation_date":1624982947,"question_id":68182272,"body_markdown":"Is there a way to remove destance between listview items?\r\n\r\nIf yes please tell me the way\r\n\r\nI want to creat a custom listview and remove space between items like this below image.\r\n\r\nItem 1 goes into item 2 and so on...\r\n\r\nExample &#128071;&#127995;&#128071;&#127995;&#128071;&#127995;\r\n\r\n[HUD design image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OQciR.jpg","title":"Specify distance between listview items","body":"<p>Is there a way to remove destance between listview items?</p>\n<p>If yes please tell me the way</p>\n<p>I want to creat a custom listview and remove space between items like this below image.</p>\n<p>Item 1 goes into item 2 and so on...</p>\n<p>Example 👇🏻👇🏻👇🏻</p>\n<p><a href=\"https://i.stack.imgur.com/OQciR.jpg\" rel=\"nofollow noreferrer\">HUD design image</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638933403,"creation_date":1638933403,"answer_id":70269502,"question_id":70269364,"body_markdown":"You&#39;ve made things _far_ too complicated.\r\n\r\nThere is __no point__ in lambdas if you want to &#39;execute them immediately&#39;.\r\n\r\nHere is how you run your my test code &#39;immediately&#39;:\r\n\r\n```\r\nSystem.out.println(number &gt; 4);\r\n```\r\n\r\nWhy mess with lambdas? They just make matters confusing here.\r\n\r\nThe very _point_ of a lambda is two-fold:\r\n\r\n1. A way to transmit code itself to other contexts.\r\n2. Control flow abstraction.\r\n\r\nIn java in particular, option 2 is __an evil__ - it makes code ugly, harder to reason about, introduces pointless distractions, and in general should be avoided... unless you&#39;re employing it to avoid an even greater evil. That happens plenty - for example, a reasonable &#39;stream chain&#39; is generally better even though its control flow abstraction. I&#39;d say this:\r\n\r\n```\r\nint total = list.stream()\r\n  .filter(x -&gt; x.length() &lt; 5)\r\n  .mapToInt(Integer::valueOf)\r\n  .sum();\r\n```\r\n\r\nis the lesser evil compared to:\r\n\r\n```\r\nint total = 0;\r\nfor (var x : list) {\r\n  if (x.length() &lt; 5) continue;\r\n  total += Integer.parseInt(x);\r\n}\r\n```\r\n\r\nbut it is a pretty close call.\r\n\r\nWhy is it &#39;evil&#39;? Because lambdas in java are __non transparent__ in 3 important ways, and this non-transparency is __a good thing__ in the first case, but a __bad thing__ in the second. Specifically, lambdas are not transparent in these ways:\r\n\r\n1. Lambdas cannot change or even read local variables from outer scope unless they are (effectively) final.\r\n2. Lambdas cannot throw checked exceptions even if the outer scope would handle them (because they catch them or the method you&#39;re in declared `throws ThatException`).\r\n3. Lambdas cannot do control flow. You can&#39;t `break`, `continue`, or `return` from within a lambda to outside of it.\r\n\r\nThese 3 things are all useful and important things to be doing when you&#39;re dealing with basic control flow. Therefore, lambdas __should be avoided__ as you create a bunch of problems and inflexibility by using them... unless you&#39;ve avoided _more_ complexity and inflexibility of course. It&#39;s programming: Nothing is ever easy.\r\n\r\nThe notion of bundling up code is therefore much more useful, because those non-transparencies turn into upside:\r\n\r\n1. If you take the lambda code and export it to someplace that runs that code much later and in another thread, what does it even mean to modify a local variable at that point? The local variable is long gone (local vars are ordinarily declared on stack and disappear when the method that made them ends. That method has ended; your lambda survived this, and is now running in another context). Do we now start marking local vars as `volatile` to avoid thead issues? Oof.\r\n\r\n2. The fact that the outer code deals with a checked exception is irrelevant: The lexical scope that was available when you declared the lambda is no longer there, we&#39;ve long ago moved past it.\r\n\r\n3. Control flow - breaking out of or restarting a loop, or returning from a method. What loop? What method? They have already ended. The code makes no sense.\r\n\r\nSee? Lambda lack of transparency is __in all ways__ great (because they make no sense), __if__ your lambda is &#39;travelling&#39;. Hence, lambdas are best used for this, they have no downsides at that point.\r\n\r\nThus, let&#39;s talk about travelling lambdas: The very notion is to take code and __not__ execute it. Instead, you hand it off to other code that does whatever it wants. It may run it 2 days from now when someone connects to your web server, using path `/foobar`. It may run every time someone adds a new entry to a TreeSet in order to figure out where in the tree the item should be placed (that&#39;s precisely the fate of the lambda you pass to `new TreeSet&lt;X&gt;((a, b) -&gt; compare-a-and-b-here)`.\r\n\r\nEven in control flow situations (which are to be avoided if possible), your lambda still travels, it just travels to place that does immediately ends up using it, but the point of the lambda remains control flow abstraction: __You__ don&#39;t run the code in it, you hand your lambda off to something else which will then immediately run that 0 to many times. That&#39;s exactly what is happening here:\r\n\r\n```\r\nlist.forEach(System.out::println);\r\n```\r\n\r\nI&#39;m taking the code notion of `System.out.println(someString)`, and I don&#39;t run it - no, I bundle up that idea in a lambda and then pass this notion to list&#39;s forEach method which will then invoke it for me, on every item in the list. As mentioned, __this is bad code__, because it needlessly uses lambdas in control flow abstraction mdoe which is inferior to just `for (var item : list) System.out.println(item);`, but it gets the point across.\r\n\r\nIt just doesn&#39;t make sense to want to write a lambda and immediately execute it. Why not just... execute it?\r\n\r\nIn your example from the book, you don&#39;t actually execute the lambda as you make it. You just.. make it, and hand it off to the `runTest` method, and _it_ runs it. The clue is, `runTest` is a method (vs your attempts - `Predicate` is not a method), it&#39;s not magical or weird, just.. a method, that so happens to take a `Function&lt;A, B&gt;` as argument, and the lambda you write so happens to &#39;fit&#39; - it can be interpreted as an implementation of `Function&lt;A, B&gt;`, and thus that code compiles and does what it does.\r\n\r\nYou&#39;d have to do the same thing.\r\n\r\nBut, if that code is a single-use helper method, then there&#39;s no point to the lambda in the first place.\r\n","title":"Correct syntax for making a functional interface instance automatically call its method","body":"<p>You've made things <em>far</em> too complicated.</p>\n<p>There is <strong>no point</strong> in lambdas if you want to 'execute them immediately'.</p>\n<p>Here is how you run your my test code 'immediately':</p>\n<pre><code>System.out.println(number &gt; 4);\n</code></pre>\n<p>Why mess with lambdas? They just make matters confusing here.</p>\n<p>The very <em>point</em> of a lambda is two-fold:</p>\n<ol>\n<li>A way to transmit code itself to other contexts.</li>\n<li>Control flow abstraction.</li>\n</ol>\n<p>In java in particular, option 2 is <strong>an evil</strong> - it makes code ugly, harder to reason about, introduces pointless distractions, and in general should be avoided... unless you're employing it to avoid an even greater evil. That happens plenty - for example, a reasonable 'stream chain' is generally better even though its control flow abstraction. I'd say this:</p>\n<pre><code>int total = list.stream()\n  .filter(x -&gt; x.length() &lt; 5)\n  .mapToInt(Integer::valueOf)\n  .sum();\n</code></pre>\n<p>is the lesser evil compared to:</p>\n<pre><code>int total = 0;\nfor (var x : list) {\n  if (x.length() &lt; 5) continue;\n  total += Integer.parseInt(x);\n}\n</code></pre>\n<p>but it is a pretty close call.</p>\n<p>Why is it 'evil'? Because lambdas in java are <strong>non transparent</strong> in 3 important ways, and this non-transparency is <strong>a good thing</strong> in the first case, but a <strong>bad thing</strong> in the second. Specifically, lambdas are not transparent in these ways:</p>\n<ol>\n<li>Lambdas cannot change or even read local variables from outer scope unless they are (effectively) final.</li>\n<li>Lambdas cannot throw checked exceptions even if the outer scope would handle them (because they catch them or the method you're in declared <code>throws ThatException</code>).</li>\n<li>Lambdas cannot do control flow. You can't <code>break</code>, <code>continue</code>, or <code>return</code> from within a lambda to outside of it.</li>\n</ol>\n<p>These 3 things are all useful and important things to be doing when you're dealing with basic control flow. Therefore, lambdas <strong>should be avoided</strong> as you create a bunch of problems and inflexibility by using them... unless you've avoided <em>more</em> complexity and inflexibility of course. It's programming: Nothing is ever easy.</p>\n<p>The notion of bundling up code is therefore much more useful, because those non-transparencies turn into upside:</p>\n<ol>\n<li><p>If you take the lambda code and export it to someplace that runs that code much later and in another thread, what does it even mean to modify a local variable at that point? The local variable is long gone (local vars are ordinarily declared on stack and disappear when the method that made them ends. That method has ended; your lambda survived this, and is now running in another context). Do we now start marking local vars as <code>volatile</code> to avoid thead issues? Oof.</p>\n</li>\n<li><p>The fact that the outer code deals with a checked exception is irrelevant: The lexical scope that was available when you declared the lambda is no longer there, we've long ago moved past it.</p>\n</li>\n<li><p>Control flow - breaking out of or restarting a loop, or returning from a method. What loop? What method? They have already ended. The code makes no sense.</p>\n</li>\n</ol>\n<p>See? Lambda lack of transparency is <strong>in all ways</strong> great (because they make no sense), <strong>if</strong> your lambda is 'travelling'. Hence, lambdas are best used for this, they have no downsides at that point.</p>\n<p>Thus, let's talk about travelling lambdas: The very notion is to take code and <strong>not</strong> execute it. Instead, you hand it off to other code that does whatever it wants. It may run it 2 days from now when someone connects to your web server, using path <code>/foobar</code>. It may run every time someone adds a new entry to a TreeSet in order to figure out where in the tree the item should be placed (that's precisely the fate of the lambda you pass to <code>new TreeSet&lt;X&gt;((a, b) -&gt; compare-a-and-b-here)</code>.</p>\n<p>Even in control flow situations (which are to be avoided if possible), your lambda still travels, it just travels to place that does immediately ends up using it, but the point of the lambda remains control flow abstraction: <strong>You</strong> don't run the code in it, you hand your lambda off to something else which will then immediately run that 0 to many times. That's exactly what is happening here:</p>\n<pre><code>list.forEach(System.out::println);\n</code></pre>\n<p>I'm taking the code notion of <code>System.out.println(someString)</code>, and I don't run it - no, I bundle up that idea in a lambda and then pass this notion to list's forEach method which will then invoke it for me, on every item in the list. As mentioned, <strong>this is bad code</strong>, because it needlessly uses lambdas in control flow abstraction mdoe which is inferior to just <code>for (var item : list) System.out.println(item);</code>, but it gets the point across.</p>\n<p>It just doesn't make sense to want to write a lambda and immediately execute it. Why not just... execute it?</p>\n<p>In your example from the book, you don't actually execute the lambda as you make it. You just.. make it, and hand it off to the <code>runTest</code> method, and <em>it</em> runs it. The clue is, <code>runTest</code> is a method (vs your attempts - <code>Predicate</code> is not a method), it's not magical or weird, just.. a method, that so happens to take a <code>Function&lt;A, B&gt;</code> as argument, and the lambda you write so happens to 'fit' - it can be interpreted as an implementation of <code>Function&lt;A, B&gt;</code>, and thus that code compiles and does what it does.</p>\n<p>You'd have to do the same thing.</p>\n<p>But, if that code is a single-use helper method, then there's no point to the lambda in the first place.</p>\n"}],"owner":{"account_id":19142454,"reputation":355,"user_id":13982165,"display_name":"nluizsoliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269502,"answer_count":1,"score":0,"last_activity_date":1638933403,"creation_date":1638932126,"question_id":70269364,"body_markdown":"I&#39;ve been watching Douglas Schmidt classes on Parallel Java. He introduces Lambda x method referencing syntax discussion, highlighting how the last one is preferable, as it makes clearer what the code is actually doing, not what the programmer is trying to do with the code, even more than `forEach` approach.  \r\n\r\n```java\r\nString[] names = {&quot;first&quot;, &quot;Second&quot;, &quot;third&quot;};\r\nArrays.sort(names, (n1,n2) -&gt; n1.compareToIgnoreCase(n2));\r\nArrays.sort(names, String::compareToIgnoreCase); //preferable\r\n``` \r\nFor example, that approach mitigates the chances of programmer making mistakes inside lambda function: passing the wrong argument, inverting arguments order, adding collateral effects, etc.\r\n\r\nThen he introduces Functional interfaces, an interface that contains only an abstract method, implementing its own interface `runTest` with an abstract method `factorial()`: \r\n```java\r\nprivate static &lt;T&gt; void runTest(Function&lt;T,T&gt; factorial, T n) {\r\n\t\tSystem.out.println(n+ &quot; factorial = &quot; + factorial.apply(n));\r\n\t}\r\n\t\r\n\tprivate static class ParallelStreamFactorial{\r\n\t\tstatic BigInteger factorial(BigInteger n) {\r\n\t\t\treturn LongStream\r\n\t\t\t\t\t.rangeClosed(1, n.longValue())\r\n\t\t\t\t\t.parallel()\r\n\t\t\t\t\t.mapToObj(BigInteger::valueOf)\r\n\t\t\t\t\t.reduce(BigInteger.ONE, BigInteger::multiply);\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nCalling it with the following syntax: \r\n\r\n```java\r\nimport java.math.BigInteger;\r\nimport java.util.function.Function;\r\nimport java.util.stream.LongStream;\r\n\r\npublic static void main(String[] args) {\r\n\t\tBigInteger n = BigInteger.valueOf(3);\r\n\t\trunTest(ParallelStreamFactorial::factorial, n);\t\t\r\n\t}\r\n```\r\n\r\nThe code works and prints\r\n\r\n```\r\n3 factorial = 6\r\n```\r\n\r\nAs I&#39;m studying lambdas, I tried to interchange method reference syntax for lambda syntax, and managed to using: \r\n\r\n``` java\r\npublic static void main(String[] args) {\r\n\t\tBigInteger n = BigInteger.valueOf(3);\r\n\t\trunTest((number)-&gt;ParallelStreamFactorial.factorial(number), n);\r\n\t}\r\n```\r\nWhich also worked. \r\n\r\nThen he proceeds to explain built-in interfaces, such as `Predicate&lt;T&gt;{boolean test(T t);}`, and that&#39;s where I got stuck.  \r\n\r\nI managed to implement a `Predicate&lt;Integer&gt;` that tests if the integer is bigger than 0 using the three syntaxes:\r\n1. Instantiating an object `myPredicate` from a class that implements `Predicate&lt;Integer&gt;`\r\n2. Instantiating an object `lambdaPredicate` from a lambda\r\n3. Instantiating an object `methodReferencePredicate`from a method reference:\r\n\r\n```java\r\nimport java.util.function.Function;\r\nimport java.util.function.Predicate;\r\n\r\npublic class MyPredicates {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; constructorPredicate = new  myPredicate();\r\n\t\tSystem.out.println(constructorPredicate.test(4));\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; lambdaPredicate = (number)-&gt; number &gt; 0;\r\n\t\tSystem.out.println(lambdaPredicate.test(4));\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; methodReferencePredicate = myMethodReference::myTest;\r\n\t\tSystem.out.println(methodReferencePredicate.test(4));\r\n\r\n\t}\r\n\t\r\n\tprivate static class myPredicate implements Predicate&lt;Integer&gt;{\r\n\t\tpublic boolean test(Integer t) {\r\n\t\t\treturn t&gt;0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class myMethodReference{\r\n\t\tpublic static boolean myTest(Integer t) {\r\n\t\t\treturn t&gt;0;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd then calling their `.test()` methods. They&#39;re all three working and printing `true`. \r\n\r\nHowever I would like to &quot;instantiate and call&quot; everything in a single line, as he did in his example. It seems like his code is inferring the type of the argument passed (I may be wrong) but it&#39;s definitely running automatically. \r\n\r\nI tried different things: \r\n\r\n```\r\nPredicate&lt;Integer&gt;(myMethodReference::myTest, 4);\r\nPredicate(myMethodReference::myTest, 4);\r\nPredicate&lt;Integer&gt;((number) -&gt; myMethodReference.myTest(number), 4);\r\nPredicate((number) -&gt; myMethodReference.myTest(number), 4);\r\n```\r\n\r\nBut none of them work. \r\n\r\nThey throw: \r\n\r\n```\r\nSyntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement\r\n```\r\nand\r\n\r\n```\r\nThe method Predicate(myMethodReference::myTest, int) is undefined for the type MyPredicates\r\n```\r\n\r\nErrors. I also don&#39;t even know the name of what he&#39;s doing in that single line to properly search better on internet for references. \r\n\r\nWhat&#39;s the correct syntax for that, whether by method reference or lambdas? ","title":"Correct syntax for making a functional interface instance automatically call its method","body":"<p>I've been watching Douglas Schmidt classes on Parallel Java. He introduces Lambda x method referencing syntax discussion, highlighting how the last one is preferable, as it makes clearer what the code is actually doing, not what the programmer is trying to do with the code, even more than <code>forEach</code> approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] names = {&quot;first&quot;, &quot;Second&quot;, &quot;third&quot;};\nArrays.sort(names, (n1,n2) -&gt; n1.compareToIgnoreCase(n2));\nArrays.sort(names, String::compareToIgnoreCase); //preferable\n</code></pre>\n<p>For example, that approach mitigates the chances of programmer making mistakes inside lambda function: passing the wrong argument, inverting arguments order, adding collateral effects, etc.</p>\n<p>Then he introduces Functional interfaces, an interface that contains only an abstract method, implementing its own interface <code>runTest</code> with an abstract method <code>factorial()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; void runTest(Function&lt;T,T&gt; factorial, T n) {\n        System.out.println(n+ &quot; factorial = &quot; + factorial.apply(n));\n    }\n    \n    private static class ParallelStreamFactorial{\n        static BigInteger factorial(BigInteger n) {\n            return LongStream\n                    .rangeClosed(1, n.longValue())\n                    .parallel()\n                    .mapToObj(BigInteger::valueOf)\n                    .reduce(BigInteger.ONE, BigInteger::multiply);\n        }\n    }\n</code></pre>\n<p>Calling it with the following syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\nimport java.util.function.Function;\nimport java.util.stream.LongStream;\n\npublic static void main(String[] args) {\n        BigInteger n = BigInteger.valueOf(3);\n        runTest(ParallelStreamFactorial::factorial, n);     \n    }\n</code></pre>\n<p>The code works and prints</p>\n<pre><code>3 factorial = 6\n</code></pre>\n<p>As I'm studying lambdas, I tried to interchange method reference syntax for lambda syntax, and managed to using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        BigInteger n = BigInteger.valueOf(3);\n        runTest((number)-&gt;ParallelStreamFactorial.factorial(number), n);\n    }\n</code></pre>\n<p>Which also worked.</p>\n<p>Then he proceeds to explain built-in interfaces, such as <code>Predicate&lt;T&gt;{boolean test(T t);}</code>, and that's where I got stuck.</p>\n<p>I managed to implement a <code>Predicate&lt;Integer&gt;</code> that tests if the integer is bigger than 0 using the three syntaxes:</p>\n<ol>\n<li>Instantiating an object <code>myPredicate</code> from a class that implements <code>Predicate&lt;Integer&gt;</code></li>\n<li>Instantiating an object <code>lambdaPredicate</code> from a lambda</li>\n<li>Instantiating an object <code>methodReferencePredicate</code>from a method reference:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\nimport java.util.function.Predicate;\n\npublic class MyPredicates {\n    \n    public static void main(String[] args) {\n        \n        Predicate&lt;Integer&gt; constructorPredicate = new  myPredicate();\n        System.out.println(constructorPredicate.test(4));\n        \n        Predicate&lt;Integer&gt; lambdaPredicate = (number)-&gt; number &gt; 0;\n        System.out.println(lambdaPredicate.test(4));\n        \n        Predicate&lt;Integer&gt; methodReferencePredicate = myMethodReference::myTest;\n        System.out.println(methodReferencePredicate.test(4));\n\n    }\n    \n    private static class myPredicate implements Predicate&lt;Integer&gt;{\n        public boolean test(Integer t) {\n            return t&gt;0;\n        }\n    }\n    \n    private static class myMethodReference{\n        public static boolean myTest(Integer t) {\n            return t&gt;0;\n        }\n    }\n}\n</code></pre>\n<p>And then calling their <code>.test()</code> methods. They're all three working and printing <code>true</code>.</p>\n<p>However I would like to &quot;instantiate and call&quot; everything in a single line, as he did in his example. It seems like his code is inferring the type of the argument passed (I may be wrong) but it's definitely running automatically.</p>\n<p>I tried different things:</p>\n<pre><code>Predicate&lt;Integer&gt;(myMethodReference::myTest, 4);\nPredicate(myMethodReference::myTest, 4);\nPredicate&lt;Integer&gt;((number) -&gt; myMethodReference.myTest(number), 4);\nPredicate((number) -&gt; myMethodReference.myTest(number), 4);\n</code></pre>\n<p>But none of them work.</p>\n<p>They throw:</p>\n<pre><code>Syntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement\n</code></pre>\n<p>and</p>\n<pre><code>The method Predicate(myMethodReference::myTest, int) is undefined for the type MyPredicates\n</code></pre>\n<p>Errors. I also don't even know the name of what he's doing in that single line to properly search better on internet for references.</p>\n<p>What's the correct syntax for that, whether by method reference or lambdas?</p>\n"},{"tags":["java","upgrade","apache-axis","rampart"],"owner":{"account_id":7014050,"reputation":11,"user_id":5375990,"display_name":"Joey J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638933380,"creation_date":1614275351,"question_id":66373832,"body_markdown":"I am using legacy Axis2 web services. So, far it was running fine and now we are planning to upgrade Axis2 version from 1.6.1 to 1.7.6 and rampart lib version from 1.6.1 to 1.7.1. Any suggestion as what is best approach to do it, since this is legacy system so we dont have lot of information. I have been trying to copy all the jar and mar but doesnt seem to be working.\r\n\r\nIs there any steps that needs to be followed to do it the right way.","title":"Axis2 and Rampart lib from ver 1.6.1 to 1.7.6/1.7.1 respectively","body":"<p>I am using legacy Axis2 web services. So, far it was running fine and now we are planning to upgrade Axis2 version from 1.6.1 to 1.7.6 and rampart lib version from 1.6.1 to 1.7.1. Any suggestion as what is best approach to do it, since this is legacy system so we dont have lot of information. I have been trying to copy all the jar and mar but doesnt seem to be working.</p>\n<p>Is there any steps that needs to be followed to do it the right way.</p>\n"},{"tags":["java","annotations","equals"],"comments":[{"owner":{"account_id":1244205,"reputation":1566,"user_id":1205997,"display_name":"rees"},"score":2,"creation_date":1382902100,"post_id":6826014,"comment_id":29130184,"body_markdown":"`a1.equals(a2);` will work.  This is the default behavior for annotations -  it checks that the annotations are of the same type and that each of the annotation fields are equal.  No special work arounds required.","body":"<code>a1.equals(a2);</code> will work.  This is the default behavior for annotations -  it checks that the annotations are of the same type and that each of the annotation fields are equal.  No special work arounds required."}],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311661082,"creation_date":1311661082,"answer_id":6826058,"question_id":6826014,"body_markdown":"Doesn&#39;t the [overriden equals][1] for `Annotation` work? Maybe I don&#39;t understand your question.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/annotation/Annotation.html#equals%28java.lang.Object%29","title":"How to check equality of annotations?","body":"<p>Doesn't the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/annotation/Annotation.html#equals%28java.lang.Object%29\" rel=\"nofollow\">overriden equals</a> for <code>Annotation</code> work? Maybe I don't understand your question.</p>\n"},{"tags":[],"owner":{"account_id":8129777,"reputation":21,"user_id":6123428,"display_name":"Guitar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459489204,"creation_date":1459489204,"answer_id":36348849,"question_id":6826014,"body_markdown":"If you want to check whether a1 and a2 are the same annotation. Try this:\r\na1.annotationType().equals(a2.annotationType())","title":"How to check equality of annotations?","body":"<p>If you want to check whether a1 and a2 are the same annotation. Try this:\na1.annotationType().equals(a2.annotationType())</p>\n"},{"tags":[],"owner":{"account_id":2397230,"reputation":11,"user_id":2095815,"display_name":"JET"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933321,"creation_date":1638932933,"answer_id":70269443,"question_id":6826014,"body_markdown":"The annoying part of my answer is I can not extend a custom annotation (in the sense of inheritance). That would have simplified the equals method.\r\n\r\nFirst.java\r\n````\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD})\r\npublic @interface First  {\r\n  String name() default &quot;&quot;;\r\n  String value() default &quot;&quot;;\r\n}\r\n`````\r\nSecond.java\r\n````\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD})\r\npublic @interface Second {\r\n    String name() default &quot;&quot;;\r\n    String value() default &quot;&quot;;\r\n}\r\n````\r\nThing1.java\r\n````\r\npublic class Thing1 {\r\n     @First(name = &quot;1&quot;, value =&quot;1&quot;)\r\n     Object leftSideCase1;\r\n     @Second(name = &quot;1&quot;, value =&quot;1&quot;)\r\n     Object rightSideCase1;\r\n\r\n     @First(value =&quot;2&quot;)\r\n     Object leftSideCase2;\r\n     @First(name = &quot;2&quot;)\r\n     Object rightSideCase2;\r\n\r\n     @First(value =&quot;3&quot;)\r\n     Object leftSideCase3;\r\n     @First(value =&quot;3&quot;)\r\n     Object rightSideCase3;\r\n\r\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\r\n     Object leftSideCase4;\r\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\r\n     Object rightSideCase4;\r\n}\r\n````\r\n\r\nExample.java\r\n````\r\npublic class Example {\r\n\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException {\r\n        String [][] fieldNameOfCases = {\r\n                {&quot;leftSideCase1&quot;,&quot;rightSideCase1&quot;},\r\n                {&quot;leftSideCase2&quot;,&quot;rightSideCase2&quot;},\r\n                {&quot;leftSideCase3&quot;,&quot;rightSideCase3&quot;},\r\n                {&quot;leftSideCase4&quot;,&quot;rightSideCase4&quot;},\r\n        };\r\n\r\n        // Loop through the list of field names, paired up by test case\r\n        // Note: It&#39;s the construction of Thing1 that matches your question&#39;s\r\n        // &quot;sample input():&quot;\r\n        for(int index=0; index &lt; fieldNameOfCases.length; index++) {\r\n            Annotation leftSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][0]);\r\n            Annotation rightSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][1]);\r\n            System.out.println(equal(leftSideAnnotation, rightSideAnnotation));\r\n        }\r\n    }\r\n\r\n    private static Annotation getAnnotation(Class&lt;Thing1&gt; thing1Class, String fieldName) throws NoSuchFieldException {\r\n        Field classMemberField = Thing1.class.getDeclaredField(fieldName);\r\n        Annotation[] annotations = classMemberField.getAnnotations();\r\n        // ASSUME ONE ANNOTATION PER FIELD\r\n        return annotations[0];\r\n    }\r\n\r\n    // This is my solution to the question\r\n    public static boolean equal(Annotation a1, Annotation a2) {\r\n       if(a1.getClass() != a2.getClass()) {\r\n           return false;\r\n       }\r\n       if(a1 instanceof First) {\r\n           if( ((First)a1).name().equals(((First)a2).name())  &amp;&amp;\r\n               ((First)a1).value().equals(((First)a2).value()) ) {\r\n               return true;\r\n           }\r\n           return false;\r\n       }\r\n       // Its annoying we can&#39;t leverage inheritance with the custom annotation\r\n       // to remove duplicate code!! \r\n       if(a1 instanceof Second) {\r\n            if( ((Second)a1).name().equals(((Second)a2).name())  &amp;&amp;\r\n                ((Second)a1).value().equals(((Second)a2).value()) ) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n````\r\n\r\n**Note:** I did not introduce a NamePairValue holder to use within First, and Second (custom annotation) because this didn&#39;t match the &quot;sample input():&quot; **exactly**!\r\n\r\nSee this Stack Trace for details for this style / solution.\r\nhttps://stackoverflow.com/questions/22126851/how-to-extend-java-annotation\r\n\r\nThis question is 10 years old but the question was not answered as asked by Roman. With **4k views, I hope this helps someone**!!","title":"How to check equality of annotations?","body":"<p>The annoying part of my answer is I can not extend a custom annotation (in the sense of inheritance). That would have simplified the equals method.</p>\n<p>First.java</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD})\npublic @interface First  {\n  String name() default &quot;&quot;;\n  String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Second.java</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD})\npublic @interface Second {\n    String name() default &quot;&quot;;\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Thing1.java</p>\n<pre><code>public class Thing1 {\n     @First(name = &quot;1&quot;, value =&quot;1&quot;)\n     Object leftSideCase1;\n     @Second(name = &quot;1&quot;, value =&quot;1&quot;)\n     Object rightSideCase1;\n\n     @First(value =&quot;2&quot;)\n     Object leftSideCase2;\n     @First(name = &quot;2&quot;)\n     Object rightSideCase2;\n\n     @First(value =&quot;3&quot;)\n     Object leftSideCase3;\n     @First(value =&quot;3&quot;)\n     Object rightSideCase3;\n\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\n     Object leftSideCase4;\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\n     Object rightSideCase4;\n}\n</code></pre>\n<p>Example.java</p>\n<pre><code>public class Example {\n\n\n    public static void main(String[] args) throws NoSuchFieldException {\n        String [][] fieldNameOfCases = {\n                {&quot;leftSideCase1&quot;,&quot;rightSideCase1&quot;},\n                {&quot;leftSideCase2&quot;,&quot;rightSideCase2&quot;},\n                {&quot;leftSideCase3&quot;,&quot;rightSideCase3&quot;},\n                {&quot;leftSideCase4&quot;,&quot;rightSideCase4&quot;},\n        };\n\n        // Loop through the list of field names, paired up by test case\n        // Note: It's the construction of Thing1 that matches your question's\n        // &quot;sample input():&quot;\n        for(int index=0; index &lt; fieldNameOfCases.length; index++) {\n            Annotation leftSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][0]);\n            Annotation rightSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][1]);\n            System.out.println(equal(leftSideAnnotation, rightSideAnnotation));\n        }\n    }\n\n    private static Annotation getAnnotation(Class&lt;Thing1&gt; thing1Class, String fieldName) throws NoSuchFieldException {\n        Field classMemberField = Thing1.class.getDeclaredField(fieldName);\n        Annotation[] annotations = classMemberField.getAnnotations();\n        // ASSUME ONE ANNOTATION PER FIELD\n        return annotations[0];\n    }\n\n    // This is my solution to the question\n    public static boolean equal(Annotation a1, Annotation a2) {\n       if(a1.getClass() != a2.getClass()) {\n           return false;\n       }\n       if(a1 instanceof First) {\n           if( ((First)a1).name().equals(((First)a2).name())  &amp;&amp;\n               ((First)a1).value().equals(((First)a2).value()) ) {\n               return true;\n           }\n           return false;\n       }\n       // Its annoying we can't leverage inheritance with the custom annotation\n       // to remove duplicate code!! \n       if(a1 instanceof Second) {\n            if( ((Second)a1).name().equals(((Second)a2).name())  &amp;&amp;\n                ((Second)a1).value().equals(((Second)a2).value()) ) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> I did not introduce a NamePairValue holder to use within First, and Second (custom annotation) because this didn't match the &quot;sample input():&quot; <strong>exactly</strong>!</p>\n<p>See this Stack Trace for details for this style / solution.\n<a href=\"https://stackoverflow.com/questions/22126851/how-to-extend-java-annotation\">How to extend Java annotation?</a></p>\n<p>This question is 10 years old but the question was not answered as asked by Roman. With <strong>4k views, I hope this helps someone</strong>!!</p>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1638933321,"creation_date":1311660772,"question_id":6826014,"body_markdown":"How would you implement this method:\r\n\r\n    public boolean equal(Annotation a1, Annotation a2) {\r\n       ...\r\n    }\r\n\r\nSample input ():\r\n\r\n    @First(name=&quot;1&quot;, value=&quot;1&quot;), @Second(name=&quot;1&quot;, value=&quot;1&quot;)\r\n    @First(value=&quot;2&quot;),           @First(name=&quot;2&quot;)\r\n    @First(value=&quot;3&quot;),           @First(value=&quot;3&quot;)\r\n    @Second(name=&quot;4&quot;, value=&quot;4), @Second(name=&quot;4&quot;, value=&quot;4&quot;)\r\n\r\nSample output:\r\n\r\n    false\r\n    false\r\n    true\r\n    true\r\n\r\nAs you can see, the expected behavior of `equal` is clear and similar to expected behavior of standard `equals` method of regular objects in java (the problem is that we cannot override `equals` for annotations).\r\n\r\nAre there any libs or standard implementations?","title":"How to check equality of annotations?","body":"<p>How would you implement this method:</p>\n\n<pre><code>public boolean equal(Annotation a1, Annotation a2) {\n   ...\n}\n</code></pre>\n\n<p>Sample input ():</p>\n\n<pre><code>@First(name=\"1\", value=\"1\"), @Second(name=\"1\", value=\"1\")\n@First(value=\"2\"),           @First(name=\"2\")\n@First(value=\"3\"),           @First(value=\"3\")\n@Second(name=\"4\", value=\"4), @Second(name=\"4\", value=\"4\")\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>false\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>As you can see, the expected behavior of <code>equal</code> is clear and similar to expected behavior of standard <code>equals</code> method of regular objects in java (the problem is that we cannot override <code>equals</code> for annotations).</p>\n\n<p>Are there any libs or standard implementations?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1638864585,"post_id":70256734,"comment_id":124194623,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"score":0,"creation_date":1638867607,"post_id":70256734,"comment_id":124195590,"body_markdown":"What should I do when the data in memory is empty after changing permissions","body":"What should I do when the data in memory is empty after changing permissions"}],"answers":[{"tags":[],"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933127,"creation_date":1638933127,"answer_id":70269467,"question_id":70256734,"body_markdown":"  Check whether it is empty in advance in my base class, and then to startPage(SplashActivity)\r\n\r\n\r\n    if (!(this instanceof SplashActivity)){\r\n            if (Constants.LanguageInitCache.languageInitBean==null){\r\n                startActivity(new Intent(getBaseContext(),SplashActivity.class));\r\n                finish();\r\n                return;\r\n            }\r\n        }","title":"When I change the storage permission, I can&#39;t read the data stored in memory","body":"<p>Check whether it is empty in advance in my base class, and then to startPage(SplashActivity)</p>\n<pre><code>if (!(this instanceof SplashActivity)){\n        if (Constants.LanguageInitCache.languageInitBean==null){\n            startActivity(new Intent(getBaseContext(),SplashActivity.class));\n            finish();\n            return;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638933127,"creation_date":1638864362,"question_id":70256734,"body_markdown":"When I change the storage permission, I can&#39;t read the data stored in the memory\r\n\r\nNullPointerException: Attempt to read from field&#39;LanguageInitBean$Data LanguageInitBean.data&#39; on a null object reference\r\n\r\nChange permissions in settings at app runtime\r\n\r\nAsk for help\r\n------------\r\n\r\n    public static class LanguageInitCache{\r\n        public static LanguageInitBean languageInitBean;\r\n    }\r\n    private void startToNext(String response) {\r\n        languageInitBean = GsonUtils.json2Bean(response, LanguageInitBean.class);\r\n    }","title":"When I change the storage permission, I can&#39;t read the data stored in memory","body":"<p>When I change the storage permission, I can't read the data stored in the memory</p>\n<p>NullPointerException: Attempt to read from field'LanguageInitBean$Data LanguageInitBean.data' on a null object reference</p>\n<p>Change permissions in settings at app runtime</p>\n<h2>Ask for help</h2>\n<pre><code>public static class LanguageInitCache{\n    public static LanguageInitBean languageInitBean;\n}\nprivate void startToNext(String response) {\n    languageInitBean = GsonUtils.json2Bean(response, LanguageInitBean.class);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638932337,"creation_date":1638932337,"answer_id":70269387,"question_id":70206251,"body_markdown":"Just adding my solution here.\r\n\r\nBy default spring was adding my listeners into an exchange `jms.durable.queues` on queues with `non-ampq`\r\n\r\nBecause this when publishing by application was working but when adding TextMessage on console was throwing error. All messages published on console was a non-ampq message getting conflict on spring-jms-client lib for invalid headers.\r\n\r\n\r\n### Solution:\r\nI added a destination resolver that connects to my queues on amqp without creating default exchange `jms.durable.queues`\r\nMore details of solution here: https://stackoverflow.com/a/70269301/7505687\r\n","title":"invalid stream header - when publishing message manually on rabbitmq console","body":"<p>Just adding my solution here.</p>\n<p>By default spring was adding my listeners into an exchange <code>jms.durable.queues</code> on queues with <code>non-ampq</code></p>\n<p>Because this when publishing by application was working but when adding TextMessage on console was throwing error. All messages published on console was a non-ampq message getting conflict on spring-jms-client lib for invalid headers.</p>\n<h3>Solution:</h3>\n<p>I added a destination resolver that connects to my queues on amqp without creating default exchange <code>jms.durable.queues</code>\nMore details of solution here: <a href=\"https://stackoverflow.com/a/70269301/7505687\">https://stackoverflow.com/a/70269301/7505687</a></p>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269387,"answer_count":1,"score":0,"last_activity_date":1638932337,"creation_date":1638478046,"question_id":70206251,"body_markdown":"I have an application with spring-jms, spring-boot and rabbitmq-jms.\r\n\r\n\r\nWhen I try send a message and recieve by application runs successfully.\r\nBut when I publish message manually on rabbitmq console I got error bellow on application listening:\r\n```log\r\ncom.rabbitmq.jms.util.RMQJMSException: invalid stream header: 61736466\r\n\tat com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1140) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.convertJmsMessage(RMQMessage.java:913) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.convertMessage(RMQMessage.java:907) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:356) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:269) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: java.io.StreamCorruptedException: invalid stream header: 61736466\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940) ~[na:na]\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379) ~[na:na]\r\n\tat com.rabbitmq.jms.util.WhiteListObjectInputStream.&lt;init&gt;(WhiteListObjectInputStream.java:90) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1114) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\t... 12 common frames omitted\r\n\r\n```\r\nThis is my JMS configuration\r\n```java\r\n\r\n@EnableJms\r\n@Configuration\r\npublic class ConnectionRabbitConfig {\r\n\r\n    @Autowired RabbitProperties rabbitProperties;\r\n\r\n    @Bean\r\n    public ConnectionFactory jmsConnectionFactory() {\r\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\r\n        connectionFactory.setUsername(rabbitProperties.getUser());\r\n        connectionFactory.setPassword(rabbitProperties.getPass());\r\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\r\n        connectionFactory.setHost(rabbitProperties.getHost());\r\n        connectionFactory.setPort(rabbitProperties.getPort());\r\n        return connectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(@Autowired ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setAutoStartup(rabbitProperties.getListenerEnabled());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n}\r\n\r\n```\r\nPublishing message\r\n```java\r\n\r\n@Autowired\r\nprivate JmsTemplate jmsTemplate;\r\n\r\npublic void publish(String queueName, String message, Map&lt;String, Object&gt; headers) {\r\n    jmsTemplate.convertAndSend(queueName, message );\r\n}\r\n\r\n```\r\nConsuming message\r\n```java\r\n@JmsListener(destination = &quot;queue-1&quot;)\r\npublic void consume(@Payload Message message,  @Headers MessageHeaders headers) {\r\n        // runs successfully if I listen message added by same application\r\n        // but if I try to add manualy on rabbit console I got error.\r\n}\r\n```\r\nlibs \r\n```\r\n  implementation &#39;org.springframework:spring-jms:5.3.13&#39;\r\n  implementation &#39;com.rabbitmq.jms:rabbitmq-jms:2.3.0&#39;\r\n```\r\n\r\nWhy do I need add on properties or headers on rabbit console for listening on application successfully? Or Do I need change something on configuration code?\r\n\r\n\r\n","title":"invalid stream header - when publishing message manually on rabbitmq console","body":"<p>I have an application with spring-jms, spring-boot and rabbitmq-jms.</p>\n<p>When I try send a message and recieve by application runs successfully.\nBut when I publish message manually on rabbitmq console I got error bellow on application listening:</p>\n<pre><code>com.rabbitmq.jms.util.RMQJMSException: invalid stream header: 61736466\n    at com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1140) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.convertJmsMessage(RMQMessage.java:913) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.convertMessage(RMQMessage.java:907) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:356) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:269) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.13.jar:5.3.13]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.io.StreamCorruptedException: invalid stream header: 61736466\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940) ~[na:na]\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379) ~[na:na]\n    at com.rabbitmq.jms.util.WhiteListObjectInputStream.&lt;init&gt;(WhiteListObjectInputStream.java:90) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1114) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    ... 12 common frames omitted\n\n</code></pre>\n<p>This is my JMS configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableJms\n@Configuration\npublic class ConnectionRabbitConfig {\n\n    @Autowired RabbitProperties rabbitProperties;\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\n        connectionFactory.setUsername(rabbitProperties.getUser());\n        connectionFactory.setPassword(rabbitProperties.getPass());\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\n        connectionFactory.setHost(rabbitProperties.getHost());\n        connectionFactory.setPort(rabbitProperties.getPort());\n        return connectionFactory;\n    }\n\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(@Autowired ConnectionFactory connectionFactory) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setAutoStartup(rabbitProperties.getListenerEnabled());\n        return factory;\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\n        return new JmsTemplate(connectionFactory);\n    }\n\n}\n\n</code></pre>\n<p>Publishing message</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Autowired\nprivate JmsTemplate jmsTemplate;\n\npublic void publish(String queueName, String message, Map&lt;String, Object&gt; headers) {\n    jmsTemplate.convertAndSend(queueName, message );\n}\n\n</code></pre>\n<p>Consuming message</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;queue-1&quot;)\npublic void consume(@Payload Message message,  @Headers MessageHeaders headers) {\n        // runs successfully if I listen message added by same application\n        // but if I try to add manualy on rabbit console I got error.\n}\n</code></pre>\n<p>libs</p>\n<pre><code>  implementation 'org.springframework:spring-jms:5.3.13'\n  implementation 'com.rabbitmq.jms:rabbitmq-jms:2.3.0'\n</code></pre>\n<p>Why do I need add on properties or headers on rabbit console for listening on application successfully? Or Do I need change something on configuration code?</p>\n"},{"tags":["java","spring-boot","spring-jms","spring-rabbit","rabbitmq-exchange"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638892400,"creation_date":1638848960,"answer_id":70254724,"question_id":70253351,"body_markdown":"See source code of this class in RabbitMQ JMS Client: https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java.\r\n\r\nSince you don’t provide an exchange explicitly that queue name is really bound to that default exchange.\r\n\r\n\r\nSee more docs about this JMS client and how to declare destinations manually for specific exchange and binding : https://www.rabbitmq.com/jms-client.html. \r\n\r\n\r\n**UPDATE**\r\n\r\nSee that documentation closer: https://www.rabbitmq.com/jms-client.html#destination-interoperability\r\n\r\n    @Bean\r\n    public Destination jmsDestination() {\r\n        RMQDestination jmsDestination = new RMQDestination();\r\n        jmsDestination.setDestinationName(&quot;myQueue&quot;);\r\n        jmsDestination.setAmqp(true);\r\n        jmsDestination.setAmqpQueueName(&quot;rabbitQueueName&quot;);\r\n        return jmsDestination;\r\n    }\r\n\r\nThen look into `@JmsListener` JavaDocs:\r\n\r\n\t/**\r\n\t * The destination name for this listener, resolved through the container-wide\r\n\t * {@link org.springframework.jms.support.destination.DestinationResolver} strategy.\r\n\t */\r\n\tString destination();\r\n\r\nThe `JmsDestinationAccessor` uses a `DynamicDestinationResolver` by default, which, probably, is not going to work over here for us since it is going to do whatever you have so far with that `jms.durable.queues` exchange.\r\n\r\nSo, another option to consider for your solution is the custom:\r\n\r\n\t/**\r\n\t * The bean name of the {@link org.springframework.jms.config.JmsListenerContainerFactory}\r\n\t * to use to create the message listener container responsible for serving this endpoint.\r\n\t * &lt;p&gt;If not specified, the default container factory is used, if any.\r\n\t */\r\n\tString containerFactory() default &quot;&quot;;\r\n\r\n\r\nSo, you need to add a bean for the `DefaultJmsListenerContainerFactory` and inject into its `setDestinationResolver(DestinationResolver)` a `BeanFactoryDestinationResolver`. Then you provide a `RMQDestination` bean name into that `destination` option of your `@JmsListener` method and `BeanFactory` is going to give you a proper `RMQDestination` with desired exchange and binding.","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>See source code of this class in RabbitMQ JMS Client: <a href=\"https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java</a>.</p>\n<p>Since you don’t provide an exchange explicitly that queue name is really bound to that default exchange.</p>\n<p>See more docs about this JMS client and how to declare destinations manually for specific exchange and binding : <a href=\"https://www.rabbitmq.com/jms-client.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/jms-client.html</a>.</p>\n<p><strong>UPDATE</strong></p>\n<p>See that documentation closer: <a href=\"https://www.rabbitmq.com/jms-client.html#destination-interoperability\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/jms-client.html#destination-interoperability</a></p>\n<pre><code>@Bean\npublic Destination jmsDestination() {\n    RMQDestination jmsDestination = new RMQDestination();\n    jmsDestination.setDestinationName(&quot;myQueue&quot;);\n    jmsDestination.setAmqp(true);\n    jmsDestination.setAmqpQueueName(&quot;rabbitQueueName&quot;);\n    return jmsDestination;\n}\n</code></pre>\n<p>Then look into <code>@JmsListener</code> JavaDocs:</p>\n<pre><code>/**\n * The destination name for this listener, resolved through the container-wide\n * {@link org.springframework.jms.support.destination.DestinationResolver} strategy.\n */\nString destination();\n</code></pre>\n<p>The <code>JmsDestinationAccessor</code> uses a <code>DynamicDestinationResolver</code> by default, which, probably, is not going to work over here for us since it is going to do whatever you have so far with that <code>jms.durable.queues</code> exchange.</p>\n<p>So, another option to consider for your solution is the custom:</p>\n<pre><code>/**\n * The bean name of the {@link org.springframework.jms.config.JmsListenerContainerFactory}\n * to use to create the message listener container responsible for serving this endpoint.\n * &lt;p&gt;If not specified, the default container factory is used, if any.\n */\nString containerFactory() default &quot;&quot;;\n</code></pre>\n<p>So, you need to add a bean for the <code>DefaultJmsListenerContainerFactory</code> and inject into its <code>setDestinationResolver(DestinationResolver)</code> a <code>BeanFactoryDestinationResolver</code>. Then you provide a <code>RMQDestination</code> bean name into that <code>destination</code> option of your <code>@JmsListener</code> method and <code>BeanFactory</code> is going to give you a proper <code>RMQDestination</code> with desired exchange and binding.</p>\n"},{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638931441,"creation_date":1638931441,"answer_id":70269301,"question_id":70253351,"body_markdown":"Just posting the solution ( as @Artem Bilan has helped me )\r\n\r\nI added a `DestinationResolver()` for connnecting listener to my queues, and worked.\r\n\r\n```java\r\n\r\n@Bean\r\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setConnectionFactory(connectionFactory);\r\n\r\n    factory.setDestinationResolver(new DestinationResolver() {\r\n        @Override\r\n        public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain)  throws JMSException {\r\n            RMQDestination jmsDestination = new RMQDestination();\r\n            jmsDestination.setDestinationName(destinationName);\r\n            jmsDestination.setAmqpQueueName(destinationName);\r\n            jmsDestination.setAmqp(true);\r\n            return jmsDestination;\r\n        }\r\n    });\r\n    \r\n    factory.setAutoStartup(true);\r\n    return factory;\r\n}\r\n\r\n\r\n```\r\n\r\n","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>Just posting the solution ( as @Artem Bilan has helped me )</p>\n<p>I added a <code>DestinationResolver()</code> for connnecting listener to my queues, and worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n\n    factory.setDestinationResolver(new DestinationResolver() {\n        @Override\n        public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain)  throws JMSException {\n            RMQDestination jmsDestination = new RMQDestination();\n            jmsDestination.setDestinationName(destinationName);\n            jmsDestination.setAmqpQueueName(destinationName);\n            jmsDestination.setAmqp(true);\n            return jmsDestination;\n        }\n    });\n    \n    factory.setAutoStartup(true);\n    return factory;\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70254724,"answer_count":2,"score":0,"last_activity_date":1638931441,"creation_date":1638834661,"question_id":70253351,"body_markdown":"I have a project with spring-jms\r\n\r\nI&#39;m trying work with exchanges. I created 4 listeners and all of them are been bound into exchange named &#39;jms.durable.queues&#39; by default. Even thought I create my own exchanges and binding my queues manually on rabbit console, spring is creating a default exchange.\r\n\r\nHow could I create my own queues and bind into my exchanges or disable spring to create queues and bind into default exchange &#39;jms.durable.queues&#39;?\r\n\r\nMy configuration class\r\n```java\r\n\r\nimport javax.jms.ConnectionFactory;\r\n\r\nimport com.rabbitmq.jms.admin.RMQConnectionFactory;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.jms.annotation.EnableJms;\r\nimport org.springframework.jms.config.DefaultJmsListenerContainerFactory;\r\nimport org.springframework.jms.core.JmsTemplate;\r\n\r\n@EnableJms\r\n@Configuration\r\npublic class ConnectionQueueConfig {\r\n\r\n    @Bean\r\n    public ConnectionFactory jmsConnectionRabbitFactory(@Autowired RabbitProperties rabbitProperties) {\r\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\r\n        connectionFactory.setUsername(rabbitProperties.getUser());\r\n        connectionFactory.setPassword(rabbitProperties.getPass());\r\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\r\n        connectionFactory.setHost(rabbitProperties.getHost());\r\n        connectionFactory.setPort(rabbitProperties.getPort());\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setAutoStartup(true);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nMy listeners\r\n```java\r\n\r\n    @JmsListener(destination = &quot;queue-1-from-exchange-A&quot; )\r\n    public void messageConsumer1(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-2-from-exchange-A&quot; )\r\n    public void messageConsumer2(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-1-from-exchange-B&quot; )\r\n    public void messageConsumer3(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-2-from-exchange-B&quot; )\r\n    public void messageConsumer4(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n```\r\ndependencies\r\n```bash\r\n\timplementation &#39;org.springframework:spring-jms:5.3.13&#39;\r\n\timplementation &#39;com.rabbitmq.jms:rabbitmq-jms:2.3.0&#39;\r\n```\r\n\r\nI have seen about `RMQDestination.class`, can I use it to create my two exchange and queues?\r\nIs there any spring resolver to manager destination programatically on spring-jms configuration?\r\n\r\nexample as pseudo-code\r\n```java\r\nsomeSpringResolverDestination.setDestination(new RMQDestination());\r\nsomeSpringResolverDestination.setDestination(new RMQDestination());\r\n```","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>I have a project with spring-jms</p>\n<p>I'm trying work with exchanges. I created 4 listeners and all of them are been bound into exchange named 'jms.durable.queues' by default. Even thought I create my own exchanges and binding my queues manually on rabbit console, spring is creating a default exchange.</p>\n<p>How could I create my own queues and bind into my exchanges or disable spring to create queues and bind into default exchange 'jms.durable.queues'?</p>\n<p>My configuration class</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport javax.jms.ConnectionFactory;\n\nimport com.rabbitmq.jms.admin.RMQConnectionFactory;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.config.DefaultJmsListenerContainerFactory;\nimport org.springframework.jms.core.JmsTemplate;\n\n@EnableJms\n@Configuration\npublic class ConnectionQueueConfig {\n\n    @Bean\n    public ConnectionFactory jmsConnectionRabbitFactory(@Autowired RabbitProperties rabbitProperties) {\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\n        connectionFactory.setUsername(rabbitProperties.getUser());\n        connectionFactory.setPassword(rabbitProperties.getPass());\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\n        connectionFactory.setHost(rabbitProperties.getHost());\n        connectionFactory.setPort(rabbitProperties.getPort());\n        return connectionFactory;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setAutoStartup(true);\n        return factory;\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\n        return new JmsTemplate(connectionFactory);\n    }\n\n\n}\n\n</code></pre>\n<p>My listeners</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JmsListener(destination = &quot;queue-1-from-exchange-A&quot; )\n    public void messageConsumer1(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-2-from-exchange-A&quot; )\n    public void messageConsumer2(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-1-from-exchange-B&quot; )\n    public void messageConsumer3(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-2-from-exchange-B&quot; )\n    public void messageConsumer4(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n</code></pre>\n<p>dependencies</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    implementation 'org.springframework:spring-jms:5.3.13'\n    implementation 'com.rabbitmq.jms:rabbitmq-jms:2.3.0'\n</code></pre>\n<p>I have seen about <code>RMQDestination.class</code>, can I use it to create my two exchange and queues?\nIs there any spring resolver to manager destination programatically on spring-jms configuration?</p>\n<p>example as pseudo-code</p>\n<pre class=\"lang-java prettyprint-override\"><code>someSpringResolverDestination.setDestination(new RMQDestination());\nsomeSpringResolverDestination.setDestination(new RMQDestination());\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","docker","mariadb"],"comments":[{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":0,"creation_date":1577554283,"post_id":59513259,"comment_id":105198252,"body_markdown":"Appreciate the down-vote, may i get a reason why? - Updated the title, to suit the scenario here.","body":"Appreciate the down-vote, may i get a reason why? - Updated the title, to suit the scenario here."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1577554514,"post_id":59513259,"comment_id":105198313,"body_markdown":"First of all you miss to show the connection parameter for your application,","body":"First of all you miss to show the connection parameter for your application,"},{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":0,"creation_date":1577554727,"post_id":59513259,"comment_id":105198363,"body_markdown":"I have updated the answer. Exactly I am unable to find out the reason.","body":"I have updated the answer. Exactly I am unable to find out the reason."}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638931297,"creation_date":1638931297,"answer_id":70269285,"question_id":59513259,"body_markdown":"Because of your exception message : \r\n\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nIt means you must to add the database dialect inside your Spring Boot `application.properties` file :    \r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MariaDB106Dialect\r\n\r\nI think you have found it since 2 years :P \r\nI added the response because some people are searching that stuff too.\r\n","title":"Spring boot application unable to connect to mariadb (in Docker)","body":"<p>Because of your exception message :</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>It means you must to add the database dialect inside your Spring Boot <code>application.properties</code> file :</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MariaDB106Dialect\n</code></pre>\n<p>I think you have found it since 2 years :P\nI added the response because some people are searching that stuff too.</p>\n"}],"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638931297,"creation_date":1577554162,"question_id":59513259,"body_markdown":"I am following below instructions:\r\n\r\nDownloading MariaDB container and running it in a port 3306:\r\n\r\n`docker run -p 6033:3306 --name mariadb-container -e MYSQL_ROOT_PASSWORD=root -d mariadb:latest`\r\n\r\nBuilding Spring Boot Application using the [DockerFile][1]:\r\n\r\n```\r\nFROM openjdk:8-jdk-alpine\r\nVOLUME /tmp\r\nARG DEPENDENCY=target/dependency\r\nCOPY ${DEPENDENCY}/BOOT-INF/lib /app/lib\r\nCOPY ${DEPENDENCY}/META-INF /app/META-INF\r\nCOPY ${DEPENDENCY}/BOOT-INF/classes /app\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;{Package}.AuditApplication&quot;]\r\n```\r\nFYI: `{Package}.AuditApplication` is actual package, hidden for some privacy reason.\r\n\r\nExecuting the below command, for creating the image\r\n\r\n`docker build -t foosball/foosball-audit-docker .`\r\n\r\nLinking the mariadb and my application (image) via the below command:\r\n\r\n`docker run -t --link mariadb-container -p 60026:60026 foosball/foosball-audit-docker`\r\n\r\nError:\r\n```\r\n ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=hostvalue)(port=3306)(type=master) : Socket fail to connect to host:hostvalue, port:3306. connect timed out\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1192) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:620) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:175) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.Driver.connect(Driver.java:92) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:353) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:562) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.1.jar:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) ~[app/:na]\r\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:192.168.1.2, port:3306. connect timed out\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:101) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:468) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:358) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1187) ~[mariadb-java-client-2.4.4.jar:na]\r\n        ... 49 common frames omitted\r\nCaused by: java.net.SocketTimeoutException: connect timed out\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:463) ~[mariadb-java-client-2.4.4.jar:na]\r\n        ... 51 common frames omitted\r\n\r\n... \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-12-28 17:21:08.581 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) [app/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        ... 16 common frames omitted\r\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        ... 33 common frames omitted\r\n```\r\n\r\n\r\n**Update:**\r\n\r\n```\r\npublic DataSource getDataSource() {\r\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        dataSourceBuilder.url(&quot;jdbc:mariadb://localhost:6033/audit&quot;);\r\n        dataSourceBuilder.username(&quot;root&quot;);\r\n        dataSourceBuilder.password(&quot;root&quot;);\r\n        return dataSourceBuilder.build();\r\n    }\r\n```\r\n\r\nAdded application.properties:\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nserver.servlet.context-path=/api\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nlogging.level.org.hibernate.type=TRACE\r\nserver.port=60026\r\n```\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot-docker/","title":"Spring boot application unable to connect to mariadb (in Docker)","body":"<p>I am following below instructions:</p>\n\n<p>Downloading MariaDB container and running it in a port 3306:</p>\n\n<p><code>docker run -p 6033:3306 --name mariadb-container -e MYSQL_ROOT_PASSWORD=root -d mariadb:latest</code></p>\n\n<p>Building Spring Boot Application using the <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">DockerFile</a>:</p>\n\n<pre><code>FROM openjdk:8-jdk-alpine\nVOLUME /tmp\nARG DEPENDENCY=target/dependency\nCOPY ${DEPENDENCY}/BOOT-INF/lib /app/lib\nCOPY ${DEPENDENCY}/META-INF /app/META-INF\nCOPY ${DEPENDENCY}/BOOT-INF/classes /app\nENTRYPOINT [\"java\",\"-cp\",\"app:app/lib/*\",\"{Package}.AuditApplication\"]\n</code></pre>\n\n<p>FYI: <code>{Package}.AuditApplication</code> is actual package, hidden for some privacy reason.</p>\n\n<p>Executing the below command, for creating the image</p>\n\n<p><code>docker build -t foosball/foosball-audit-docker .</code></p>\n\n<p>Linking the mariadb and my application (image) via the below command:</p>\n\n<p><code>docker run -t --link mariadb-container -p 60026:60026 foosball/foosball-audit-docker</code></p>\n\n<p>Error:</p>\n\n<pre><code> ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=hostvalue)(port=3306)(type=master) : Socket fail to connect to host:hostvalue, port:3306. connect timed out\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1192) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:620) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:175) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.Driver.connect(Driver.java:92) ~[mariadb-java-client-2.4.4.jar:na]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:353) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:562) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.1.jar:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) ~[app/:na]\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:192.168.1.2, port:3306. connect timed out\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:101) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:468) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:358) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1187) ~[mariadb-java-client-2.4.4.jar:na]\n        ... 49 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:463) ~[mariadb-java-client-2.4.4.jar:na]\n        ... 51 common frames omitted\n\n... \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-12-28 17:21:08.581 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) [app/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        ... 16 common frames omitted\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        ... 33 common frames omitted\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>public DataSource getDataSource() {\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n        dataSourceBuilder.driverClassName(\"org.mariadb.jdbc.Driver\");\n        dataSourceBuilder.url(\"jdbc:mariadb://localhost:6033/audit\");\n        dataSourceBuilder.username(\"root\");\n        dataSourceBuilder.password(\"root\");\n        return dataSourceBuilder.build();\n    }\n</code></pre>\n\n<p>Added application.properties:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nserver.servlet.context-path=/api\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.org.hibernate.type=TRACE\nserver.port=60026\n</code></pre>\n"},{"tags":["java","intellij-idea","memory","garbage-collection"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1600703801,"post_id":63995656,"comment_id":113164492,"body_markdown":"In IDEA while debugging you can right-click any object and push &quot;Show referring objects&quot;, that shows you the tree down to (usually) the GC root that keeps an object alive.","body":"In IDEA while debugging you can right-click any object and push &quot;Show referring objects&quot;, that shows you the tree down to (usually) the GC root that keeps an object alive."},{"owner":{"account_id":19563001,"reputation":53,"user_id":14315850,"display_name":"Jake"},"score":0,"creation_date":1600704072,"post_id":63995656,"comment_id":113164630,"body_markdown":"I&#39;ve tried that, but I have yet to find something going up the chain that seems to be the &quot;GC root&quot;. Will there literally be something in the reference chain called like root or something?","body":"I&#39;ve tried that, but I have yet to find something going up the chain that seems to be the &quot;GC root&quot;. Will there literally be something in the reference chain called like root or something?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1600704704,"post_id":63995656,"comment_id":113164903,"body_markdown":"It seems I misremembered. While IntelliJ will show you references, it doesn&#39;t do the whole &quot;trace to garbage collection root&quot; outside of [analyzing a memory snapshot](https://www.jetbrains.com/help/idea/analyze-hprof-memory-snapshots.html).","body":"It seems I misremembered. While IntelliJ will show you references, it doesn&#39;t do the whole &quot;trace to garbage collection root&quot; outside of <a href=\"https://www.jetbrains.com/help/idea/analyze-hprof-memory-snapshots.html\" rel=\"nofollow noreferrer\">analyzing a memory snapshot</a>."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600705639,"creation_date":1600705639,"answer_id":63996360,"question_id":63995656,"body_markdown":"JProfiler has such a view: You can follow the referring objects up till the root.\r\n\r\nAnd it has a lot of other useful debugging views, so I&#39;ve always considered it worth the price tag.","title":"In java, is there a way to examine how an object is still reachable from garbage collection root?","body":"<p>JProfiler has such a view: You can follow the referring objects up till the root.</p>\n<p>And it has a lot of other useful debugging views, so I've always considered it worth the price tag.</p>\n"}],"owner":{"account_id":19563001,"reputation":53,"user_id":14315850,"display_name":"Jake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63996360,"answer_count":1,"score":2,"last_activity_date":1638930924,"creation_date":1600703120,"question_id":63995656,"body_markdown":"The codebase is somewhat complex, so I was wondering if there was a tool to examine an object at runtime and determine how the JVM still sees this object as reachable.\r\n\r\nIn particular, there&#39;s one object type that I would only expect to be one instance of at a time throughout the life of the app (new ones can be created, but the old instance should be garbage collected when this happens). However, when I examine the heap, I see that multiple instances of this object type are accumulating. The class is pretty complex, so it&#39;d be fairly time-consuming to track down what is still referencing the old object instances. Anyone know of a tool, or a way in java, to figure out why these objects can&#39;t be collected?","title":"In java, is there a way to examine how an object is still reachable from garbage collection root?","body":"<p>The codebase is somewhat complex, so I was wondering if there was a tool to examine an object at runtime and determine how the JVM still sees this object as reachable.</p>\n<p>In particular, there's one object type that I would only expect to be one instance of at a time throughout the life of the app (new ones can be created, but the old instance should be garbage collected when this happens). However, when I examine the heap, I see that multiple instances of this object type are accumulating. The class is pretty complex, so it'd be fairly time-consuming to track down what is still referencing the old object instances. Anyone know of a tool, or a way in java, to figure out why these objects can't be collected?</p>\n"},{"tags":["java","amazon-web-services","aws-cdk","aws-codepipeline"],"comments":[{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":0,"creation_date":1638953619,"post_id":70269240,"comment_id":124222068,"body_markdown":"The `ref` property of a connection contains the ARN. Just pass that.\nhttps://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_codestarconnections.CfnConnection.html#ref","body":"The <code>ref</code> property of a connection contains the ARN. Just pass that. <a href=\"https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_codestarconnections.CfnConnection.html#ref\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cdk/api/v2/docs/&hellip;</a>"},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639539669,"post_id":70269240,"comment_id":124372244,"body_markdown":"Thanks @gshpychka, appreciate your response.","body":"Thanks @gshpychka, appreciate your response."}],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638930799,"creation_date":1638930799,"question_id":70269240,"body_markdown":"I&#39;ve just started exploring the AWS-CDK to generate resources and create pipeline (CI/CD).\r\nI was trying to hook the existing pipeline to an external github, but ran into an issue where I need to use the **connection** method.\r\nHere I need to provide an arn for **codestar-connections**, I want to create this resource in the same *xxxStack.java* file. I&#39;ll then use this arn to be dynamically added to the **connection** method, how can I achieve this ?\r\n\r\nSample code:\r\n```.input(CodePipelineSource.connection(&quot;my-org/my-app&quot;, &quot;main&quot;, ConnectionSourceOptions.builder().connectionArn(&quot;&lt;get-dynamically-generated-arn&gt;&quot;).build()))```","title":"Use ARN for dynamically generated resources in Java CDK","body":"<p>I've just started exploring the AWS-CDK to generate resources and create pipeline (CI/CD).\nI was trying to hook the existing pipeline to an external github, but ran into an issue where I need to use the <strong>connection</strong> method.\nHere I need to provide an arn for <strong>codestar-connections</strong>, I want to create this resource in the same <em>xxxStack.java</em> file. I'll then use this arn to be dynamically added to the <strong>connection</strong> method, how can I achieve this ?</p>\n<p>Sample code:\n<code>.input(CodePipelineSource.connection(&quot;my-org/my-app&quot;, &quot;main&quot;, ConnectionSourceOptions.builder().connectionArn(&quot;&lt;get-dynamically-generated-arn&gt;&quot;).build()))</code></p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","aws-secrets-manager"],"comments":[{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1638930652,"post_id":70269146,"comment_id":124217044,"body_markdown":"I&#39;ve noticed that all almost your questions got answered yet not a single answer was [accepted](https://meta.stackexchange.com/a/86979). Accepting useful answers is not only a good practice, but reduces duplicates and increases chances of your questions being actually answered.","body":"I&#39;ve noticed that all almost your questions got answered yet not a single answer was <a href=\"https://meta.stackexchange.com/a/86979\">accepted</a>. Accepting useful answers is not only a good practice, but reduces duplicates and increases chances of your questions being actually answered."},{"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"score":1,"creation_date":1638931802,"post_id":70269146,"comment_id":124217229,"body_markdown":"apologies, will do this in the future","body":"apologies, will do this in the future"}],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1638930096,"creation_date":1638930096,"answer_id":70269160,"question_id":70269146,"body_markdown":"Normally, you would use [EC2 instance role](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html) with permissions to access your secret manager. This way there is no need to hard-code any access and secret keys in your application nor store them on the instance. ","title":"Where to store the accessKey and secretKey for AWS Secrets Manager in Spring Boot","body":"<p>Normally, you would use <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html\" rel=\"nofollow noreferrer\">EC2 instance role</a> with permissions to access your secret manager. This way there is no need to hard-code any access and secret keys in your application nor store them on the instance.</p>\n"}],"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70269160,"answer_count":1,"score":2,"last_activity_date":1638930096,"creation_date":1638929951,"question_id":70269146,"body_markdown":"I am trying to make my application secure, so instead of storing all of my AWS IAM credentials for different service users, I started to use AWS secrets manager. The part that is confusing me is in order to get a connection to the AWS secrets manager to retrieve all of the secrets for my other IAM service connections, I need an access key and secret key. Storing these in application.properties on the application on an EC2 instance seems like working back words, since if someone gets access to these two keys, they can get access to all of the secrets and then secrets manager isn&#39;t really providing any value. How can I create a connection to secrets manager without storing the keys at all in my code? Thanks in advance. ","title":"Where to store the accessKey and secretKey for AWS Secrets Manager in Spring Boot","body":"<p>I am trying to make my application secure, so instead of storing all of my AWS IAM credentials for different service users, I started to use AWS secrets manager. The part that is confusing me is in order to get a connection to the AWS secrets manager to retrieve all of the secrets for my other IAM service connections, I need an access key and secret key. Storing these in application.properties on the application on an EC2 instance seems like working back words, since if someone gets access to these two keys, they can get access to all of the secrets and then secrets manager isn't really providing any value. How can I create a connection to secrets manager without storing the keys at all in my code? Thanks in advance.</p>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1626359416,"post_id":68395648,"comment_id":120876920,"body_markdown":"You are prolly using WebView ... maybe some version of it is FUp as it happend [many times before](https://www.engadget.com/android-gmail-stop-running-webview-234125352.html)","body":"You are prolly using WebView ... maybe some version of it is FUp as it happend <a href=\"https://www.engadget.com/android-gmail-stop-running-webview-234125352.html\" rel=\"nofollow noreferrer\">many times before</a>"},{"owner":{"account_id":2902162,"reputation":887,"user_id":2488539,"accept_rate":60,"display_name":"Saikumar"},"score":0,"creation_date":1626409190,"post_id":68395648,"comment_id":120890004,"body_markdown":"Thanks. So we have to raise the notification to members and ask to member and upgrade their webview version right?. that only way to reduce the ANR right?.","body":"Thanks. So we have to raise the notification to members and ask to member and upgrade their webview version right?. that only way to reduce the ANR right?."}],"owner":{"account_id":2902162,"reputation":887,"user_id":2488539,"accept_rate":60,"display_name":"Saikumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638929735,"creation_date":1626359013,"question_id":68395648,"body_markdown":"Recently my app getting more ANR and its shown playstore console and customer also saying i am getting the error like app not getting response.\r\n\r\nAnyone faced this issue recently. I searched and reviewed the code. I am not getting any idea to reduce the count in ANR section in playstore.\r\n\r\nLast 60 days: 60.3K\r\nImpact Users : 7.37K\r\nANR Rate reached : 1.27 ( Bad Behaviour threshold Reached) \r\n\r\nANR captured details below.\r\n\r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 0000000003bb31fc  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:335)\r\n      at android.os.Looper.loop (Looper.java:195)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8004)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\r\n    \r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 00000000000803bc  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\r\n      #00  pc 000000000014c094  /apex/com.android.runtime/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+148)\r\n      #00  pc 0000000000388a0c  /apex/com.android.runtime/lib64/libart.so (art::JNI::NewLocalRef(_JNIEnv*, _jobject*)+436)\r\n      #00  pc 00000000031258a8  /data/app/com.google.android.trichromelibrary_447212034-yXeNAnqAC86BvP9Y0cSclQ==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:336)\r\n      at android.os.Looper.loop (Looper.java:182)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7822)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:492)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1026)\r\n    \r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 000000000004b48c  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\r\n      #00  pc 00000000001af9e0  /apex/com.android.art/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+164)\r\n      #00  pc 000000000039ad1c  /apex/com.android.art/lib64/libart.so (art::JNI&lt;false&gt;::NewLocalRef(_JNIEnv*, _jobject*)+492)\r\n      #00  pc 00000000031258a8  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:335)\r\n      at android.os.Looper.loop (Looper.java:195)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8004)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)","title":"ANR increased in Playstore Console - base.apk!libmonochrome.so","body":"<p>Recently my app getting more ANR and its shown playstore console and customer also saying i am getting the error like app not getting response.</p>\n<p>Anyone faced this issue recently. I searched and reviewed the code. I am not getting any idea to reduce the count in ANR section in playstore.</p>\n<p>Last 60 days: 60.3K\nImpact Users : 7.37K\nANR Rate reached : 1.27 ( Bad Behaviour threshold Reached)</p>\n<p>ANR captured details below.</p>\n<pre><code>&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 0000000003bb31fc  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:335)\n  at android.os.Looper.loop (Looper.java:195)\n  at android.app.ActivityThread.main (ActivityThread.java:8004)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\n\n&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 00000000000803bc  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\n  #00  pc 000000000014c094  /apex/com.android.runtime/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+148)\n  #00  pc 0000000000388a0c  /apex/com.android.runtime/lib64/libart.so (art::JNI::NewLocalRef(_JNIEnv*, _jobject*)+436)\n  #00  pc 00000000031258a8  /data/app/com.google.android.trichromelibrary_447212034-yXeNAnqAC86BvP9Y0cSclQ==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:336)\n  at android.os.Looper.loop (Looper.java:182)\n  at android.app.ActivityThread.main (ActivityThread.java:7822)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:492)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1026)\n\n&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 000000000004b48c  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\n  #00  pc 00000000001af9e0  /apex/com.android.art/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+164)\n  #00  pc 000000000039ad1c  /apex/com.android.art/lib64/libart.so (art::JNI&lt;false&gt;::NewLocalRef(_JNIEnv*, _jobject*)+492)\n  #00  pc 00000000031258a8  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:335)\n  at android.os.Looper.loop (Looper.java:195)\n  at android.app.ActivityThread.main (ActivityThread.java:8004)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\n</code></pre>\n"},{"tags":["java","android","android-fragments","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638929677,"creation_date":1638929677,"answer_id":70269121,"question_id":70268813,"body_markdown":"`Fragment`s aren&#39;t `serializable`, meaning they can&#39;t be broken down into pure data ie `JSON`, much less `deserializable`.\r\n\r\nLooking at your code there is no good way to just make it work either.\r\n\r\nYou need to follow separation of concerns, `Fragment`s are glorified views. They shouldn&#39;t be holding information to any great extent, so they shouldn&#39;t be passed around as if they did.\r\n\r\nWhat you could do is have a `CardModel` that contains all information needed for a `Card` `Fragment`.\r\n\r\nThe `CardModel` can contain simple data that you would find in `JSON` like `Integer`,`String`, etc...\r\n\r\nA `List&lt;CardModel&gt;` can be `deserialized` from `JSON`. And then when you&#39;re in the `MainActivity` you could create as many `Card` `Fragment`s as needed to represent the `List&lt;CardModel&gt;` with a simple `list.size()`\r\n\r\n\r\n\r\n\r\n","title":"how to store list of fragments using SharedPreferences","body":"<p><code>Fragment</code>s aren't <code>serializable</code>, meaning they can't be broken down into pure data ie <code>JSON</code>, much less <code>deserializable</code>.</p>\n<p>Looking at your code there is no good way to just make it work either.</p>\n<p>You need to follow separation of concerns, <code>Fragment</code>s are glorified views. They shouldn't be holding information to any great extent, so they shouldn't be passed around as if they did.</p>\n<p>What you could do is have a <code>CardModel</code> that contains all information needed for a <code>Card</code> <code>Fragment</code>.</p>\n<p>The <code>CardModel</code> can contain simple data that you would find in <code>JSON</code> like <code>Integer</code>,<code>String</code>, etc...</p>\n<p>A <code>List&lt;CardModel&gt;</code> can be <code>deserialized</code> from <code>JSON</code>. And then when you're in the <code>MainActivity</code> you could create as many <code>Card</code> <code>Fragment</code>s as needed to represent the <code>List&lt;CardModel&gt;</code> with a simple <code>list.size()</code></p>\n"}],"owner":{"account_id":20370681,"reputation":83,"user_id":14942949,"display_name":"xxddd_69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70269121,"answer_count":1,"score":1,"last_activity_date":1638929677,"creation_date":1638926275,"question_id":70268813,"body_markdown":"I&#39;m using SharedPreferences to store a list of fragments of my android, however it gave me thousands lines of error which make non-sense:\r\n\r\n2021-12-07 17:09:13.228 14833-14833/? E/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n        at com.google.gson.Gson$FutureTypeAdapter.write(Gson.java:1058)\r\n        at .......\r\n\r\n(just small parts of error messages)\r\nI tried to store a list of strings it works fine, but if I switch to an object with list of fragments it fails.\r\n\r\nHere is my object.java:\r\n```\r\npublic class CardList {\r\n    ArrayList&lt;Card&gt; list;  //Card is my fragments\r\n    public CardList(ArrayList&lt;Card&gt; list) {\r\n        this.list = list;\r\n    }\r\n    public void updateList(Card c) {\r\n        list.add(c);\r\n    }\r\n\r\n    public int getListSize() {\r\n        return list.size();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nhere is my MainActivity.java, the new intent here was just to test if I can get my data back when I&#39;m back to MainActivity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static final String WEATHER_PREFS = &quot;weatherPrefs&quot;;\r\n    public CardList cardList;\r\n    public ArrayList&lt;Card&gt; cards;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n       \r\n        cards = new ArrayList&lt;&gt;();\r\n        cardList = new CardList(cards);\r\n\r\n        SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String savedList = setting.getString(&quot;cardList&quot;,&quot;&quot;);\r\n\r\n        if (!savedList.equals(&quot;&quot;)) {\r\n            cardList = gson.fromJson(savedList,CardList.class);\r\n        }\r\n\r\n\r\n        Button btn= findViewById(R.id.switchActtivity);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this,SecondActivity.class);\r\n                Gson gson = new Gson();\r\n\r\n                String savedInstanceString = gson.toJson(cardList);\r\n                SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = setting.edit();\r\n                editor.putString(&quot;cardList&quot;,savedInstanceString);\r\n                editor.apply();\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        Button increase = findViewById(R.id.increase);\r\n        increase.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                cardList.updateList(Card.newInstance(&quot;hello&quot;,&quot;world&quot;));\r\n                Log.i(&quot;Array List Size After Click&quot;,String.valueOf(cardList.getListSize()));\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nCan someone teach me how to store custom object with an arraylist attribute in Android? Thanks in advance!","title":"how to store list of fragments using SharedPreferences","body":"<p>I'm using SharedPreferences to store a list of fragments of my android, however it gave me thousands lines of error which make non-sense:</p>\n<p>2021-12-07 17:09:13.228 14833-14833/? E/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\nat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\nat com.google.gson.Gson$FutureTypeAdapter.write(Gson.java:1058)\nat .......</p>\n<p>(just small parts of error messages)\nI tried to store a list of strings it works fine, but if I switch to an object with list of fragments it fails.</p>\n<p>Here is my object.java:</p>\n<pre><code>public class CardList {\n    ArrayList&lt;Card&gt; list;  //Card is my fragments\n    public CardList(ArrayList&lt;Card&gt; list) {\n        this.list = list;\n    }\n    public void updateList(Card c) {\n        list.add(c);\n    }\n\n    public int getListSize() {\n        return list.size();\n    }\n\n\n}\n\n</code></pre>\n<p>here is my MainActivity.java, the new intent here was just to test if I can get my data back when I'm back to MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static final String WEATHER_PREFS = &quot;weatherPrefs&quot;;\n    public CardList cardList;\n    public ArrayList&lt;Card&gt; cards;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       \n        cards = new ArrayList&lt;&gt;();\n        cardList = new CardList(cards);\n\n        SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\n        Gson gson = new Gson();\n        String savedList = setting.getString(&quot;cardList&quot;,&quot;&quot;);\n\n        if (!savedList.equals(&quot;&quot;)) {\n            cardList = gson.fromJson(savedList,CardList.class);\n        }\n\n\n        Button btn= findViewById(R.id.switchActtivity);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this,SecondActivity.class);\n                Gson gson = new Gson();\n\n                String savedInstanceString = gson.toJson(cardList);\n                SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\n                SharedPreferences.Editor editor = setting.edit();\n                editor.putString(&quot;cardList&quot;,savedInstanceString);\n                editor.apply();\n                startActivity(intent);\n            }\n        });\n        Button increase = findViewById(R.id.increase);\n        increase.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cardList.updateList(Card.newInstance(&quot;hello&quot;,&quot;world&quot;));\n                Log.i(&quot;Array List Size After Click&quot;,String.valueOf(cardList.getListSize()));\n            }\n        });\n\n\n    }\n    \n}\n\n</code></pre>\n<p>Can someone teach me how to store custom object with an arraylist attribute in Android? Thanks in advance!</p>\n"},{"tags":["java","maven","security","jar","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638901342,"post_id":70263042,"comment_id":124209285,"body_markdown":"First you can&#39;t update a dependency of use tool/library ...that must be done by the library/tool maintainers... Apart from that I&#39;m not really astonished about that because maven-core-2.0.9 is of 2008!...","body":"First you can&#39;t update a dependency of use tool/library ...that must be done by the library/tool maintainers... Apart from that I&#39;m not really astonished about that because maven-core-2.0.9 is of 2008!..."},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638929986,"post_id":70263042,"comment_id":124216945,"body_markdown":"Hi Khamarbaise, Thank you for your response. I have updated pom.xml that we are using. Can you check if we modify pom.xml latest libraries will be used? maven-core-.2.0.0.jar has security vulnerability so we want to use latest library","body":"Hi Khamarbaise, Thank you for your response. I have updated pom.xml that we are using. Can you check if we modify pom.xml latest libraries will be used? maven-core-.2.0.0.jar has security vulnerability so we want to use latest library"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638949546,"post_id":70263042,"comment_id":124220794,"body_markdown":"I can only see that you are using maven plugins (as usual). I would use version 3.0.0 of maven-enforce-plugin and maybe a most recent version of maven-compiler-plugin (3.8.1 https://maven.apache.org/plugins/)...I&#39;m not sure if your scanner does only scan the dependencies of your application?","body":"I can only see that you are using maven plugins (as usual). I would use version 3.0.0 of maven-enforce-plugin and maybe a most recent version of maven-compiler-plugin (3.8.1 <a href=\"https://maven.apache.org/plugins/)...I&#39;m\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/)...I&#39;m</a> not sure if your scanner does only scan the dependencies of your application?"},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638963085,"post_id":70263042,"comment_id":124225453,"body_markdown":"HI Khmarbaise, Thanks again for your response. I upgraded all plugins to latest version but still maven-core-2.0.9.jar is used for building !!","body":"HI Khmarbaise, Thanks again for your response. I upgraded all plugins to latest version but still maven-core-2.0.9.jar is used for building !!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638975751,"post_id":70263042,"comment_id":124230635,"body_markdown":"Have you specified all plugins you are using because in the post there are only a limited number. For example maven-resources-plugin, maven-install-plugin is missing?","body":"Have you specified all plugins you are using because in the post there are only a limited number. For example maven-resources-plugin, maven-install-plugin is missing?"},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638978834,"post_id":70263042,"comment_id":124232090,"body_markdown":"Yes I have mentioned all plugins. Only missing in the POM which I have pasted are dependencies used in project","body":"Yes I have mentioned all plugins. Only missing in the POM which I have pasted are dependencies used in project"}],"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638929612,"creation_date":1638891786,"question_id":70263042,"body_markdown":"We are building our Kafka streaming application written in java using maven.\r\nIt is observed that while building application maven-core-2.0.9.jar is downloaded.\r\n\r\nWe are using **Black Duck** to analyze libraries for security vulnerabilities and maven-core-2.0.9.jar is marked as high vulnerable jar. Black Duck is suggesting us to upgrade this jar to higher version maven-core-3.8.4.jar. How do I do this as this is not part of dependency tree of the application.\r\n\r\nBelow is the pom.xml that we are using. Do I have to do any changes so that we use latest version of maven/maven libraries/ plugins.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.sampleproject.&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven-compiler-plugin.version&gt;3.6.1&lt;/maven-compiler-plugin.version&gt;\r\n            &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n            &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n            &lt;jacoco.version&gt;0.8.5&lt;/jacoco.version&gt;\r\n            &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n            &lt;jackson.version&gt;2.10.1&lt;/jackson.version&gt;\r\n            &lt;sonar.coverage.exclusions&gt;\r\n                **/*.xml,\r\n                **/*.properties,\r\n                build.properties,\r\n                package/**,\r\n                config/**\r\n            &lt;/sonar.coverage.exclusions&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n               &lt;!-- Dependancies of project --&gt; \r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;com.dell.sadatahub.azure.SACCollectionProcessorTopology&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;rules&gt;\r\n                            &lt;dependencyConvergence /&gt;\r\n                        &lt;/rules&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;releases&lt;/id&gt;\r\n                &lt;name&gt;libs-release-local&lt;/name&gt;\r\n                &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-release-local&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    \r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;snapshots&lt;/id&gt;\r\n                &lt;name&gt;libs-snapshot-local&lt;/name&gt;\r\n                &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-snapshot-local&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"upgrading maven-core-2.0.9.jar to maven-core-3.8.4.jar while building java application using maven to fix Black Duck vulnerability","body":"<p>We are building our Kafka streaming application written in java using maven.\nIt is observed that while building application maven-core-2.0.9.jar is downloaded.</p>\n<p>We are using <strong>Black Duck</strong> to analyze libraries for security vulnerabilities and maven-core-2.0.9.jar is marked as high vulnerable jar. Black Duck is suggesting us to upgrade this jar to higher version maven-core-3.8.4.jar. How do I do this as this is not part of dependency tree of the application.</p>\n<p>Below is the pom.xml that we are using. Do I have to do any changes so that we use latest version of maven/maven libraries/ plugins.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.sampleproject.&lt;/groupId&gt;\n    &lt;artifactId&gt;testproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.6.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n        &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n        &lt;jacoco.version&gt;0.8.5&lt;/jacoco.version&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n        &lt;jackson.version&gt;2.10.1&lt;/jackson.version&gt;\n        &lt;sonar.coverage.exclusions&gt;\n            **/*.xml,\n            **/*.properties,\n            build.properties,\n            package/**,\n            config/**\n        &lt;/sonar.coverage.exclusions&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n           &lt;!-- Dependancies of project --&gt; \n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.dell.sadatahub.azure.SACCollectionProcessorTopology&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                        &lt;dependencyConvergence /&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;releases&lt;/id&gt;\n            &lt;name&gt;libs-release-local&lt;/name&gt;\n            &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-release-local&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\n            &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-snapshot-local&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-gridlayout","column-count"],"answers":[{"tags":[],"owner":{"display_name":"user15230333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638928684,"creation_date":1638928684,"answer_id":70269036,"question_id":69213928,"body_markdown":"Your columnCount is 2 but you have 3 children. Change the columnCount to 3 and see.\r\n\r\n```\r\n&lt;GridLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:columnCount=&quot;3&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n\r\n&lt;/GridLayout&gt;\r\n```","title":"3 and higher columnCount cause bug Android Studio","body":"<p>Your columnCount is 2 but you have 3 children. Change the columnCount to 3 and see.</p>\n<pre><code>&lt;GridLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:columnCount=&quot;3&quot;&gt;\n\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n\n&lt;/GridLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638928684,"creation_date":1631819492,"question_id":69213928,"body_markdown":"When objects do not fit in three lines, they go beyond, and I need that if there are too many of them they passed to the next row. Is it possible way to fix it? Thanks.&lt;br&gt;\r\n[columnCount is 2][1]&lt;br&gt;\r\n[columnCount is 3 and higher][2]\r\n```\r\n&lt;GridLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:columnCount=&quot;2&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n\r\n&lt;/GridLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5REr.jpg\r\n  [2]: https://i.stack.imgur.com/sLUZ1.jpg","title":"3 and higher columnCount cause bug Android Studio","body":"<p>When objects do not fit in three lines, they go beyond, and I need that if there are too many of them they passed to the next row. Is it possible way to fix it? Thanks.<br>\n<a href=\"https://i.stack.imgur.com/N5REr.jpg\" rel=\"nofollow noreferrer\">columnCount is 2</a><br>\n<a href=\"https://i.stack.imgur.com/sLUZ1.jpg\" rel=\"nofollow noreferrer\">columnCount is 3 and higher</a></p>\n<pre><code>&lt;GridLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:columnCount=&quot;2&quot;&gt;\n\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n\n&lt;/GridLayout&gt;\n</code></pre>\n"},{"tags":["python","java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1638904161,"post_id":70265683,"comment_id":124210341,"body_markdown":"What version of Spark and what version of Java?","body":"What version of Spark and what version of Java?"},{"owner":{"account_id":10371252,"reputation":2891,"user_id":7648881,"accept_rate":40,"display_name":"zar3bski"},"score":0,"creation_date":1638928496,"post_id":70265683,"comment_id":124216708,"body_markdown":"&quot;everything works fine in the terminal&quot;  = you are able to have a spark session? If so, is your jupyter server using the same execution environment (`PATH` ` PYTHONPATH` etc) as your terminal and not some kind of virtual environment?","body":"&quot;everything works fine in the terminal&quot;  = you are able to have a spark session? If so, is your jupyter server using the same execution environment (<code>PATH</code> ` PYTHONPATH` etc) as your terminal and not some kind of virtual environment?"}],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638928013,"creation_date":1638928013,"answer_id":70268972,"question_id":70265683,"body_markdown":"Unless you have a reason to build the system, you could use Docker with a ready-to-go image like https://hub.docker.com/r/jupyter/pyspark-notebook. \r\n\r\nIf you really want to build it from scratch, on Windows, make sure your versions match the requirements. ","title":"Pyspark Session Builder","body":"<p>Unless you have a reason to build the system, you could use Docker with a ready-to-go image like <a href=\"https://hub.docker.com/r/jupyter/pyspark-notebook\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/jupyter/pyspark-notebook</a>.</p>\n<p>If you really want to build it from scratch, on Windows, make sure your versions match the requirements.</p>\n"}],"owner":{"account_id":13766694,"reputation":1,"user_id":9935117,"display_name":"Binay Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638928013,"creation_date":1638903996,"question_id":70265683,"body_markdown":"I have installed python and java, also have installed pyspark and the everything works fine in the terminal. I am trying to build a pyspark session using python on jupyter notebook \r\n\r\nThe code I am using is \r\n\r\n    import pyspark\r\n    from pyspark.sql import SparkSession\r\n    from pyspark.sql import SparkSession\r\n    spark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n\r\nBut I am Getting the following error:\r\n\r\n    Py4JJavaError                             Traceback (most recent call last) C:\\Users\\BINAYA~1\\AppData\\Local\\Temp/ipykernel_8296/4002136008.py in &lt;module&gt;\r\n    ----&gt; 1 spark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\sql\\session.py in getOrCreate(self)\r\n        226                             sparkConf.set(key, value)\r\n        227                         # This SparkContext may be an existing one.\r\n    --&gt; 228                         sc = SparkContext.getOrCreate(sparkConf)\r\n        229                     # Do not update `SparkConf` for existing `SparkContext`, as it&#39;s shared\r\n        230                     # by all sessions.\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in getOrCreate(cls, conf)\r\n        390         with SparkContext._lock:\r\n        391             if SparkContext._active_spark_context is None:\r\n    --&gt; 392                 SparkContext(conf=conf or SparkConf())\r\n        393             return SparkContext._active_spark_context\r\n        394 \r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    __init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls)\r\n        144         SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n        145         try:\r\n    --&gt; 146             self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\r\n        147                           conf, jsc, profiler_cls)\r\n        148         except:\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    _do_init(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, jsc, profiler_cls)\r\n        207 \r\n        208         # Create the Java SparkContext through Py4J\r\n    --&gt; 209         self._jsc = jsc or self._initialize_context(self._conf._jconf)\r\n        210         # Reset the SparkConf to the one actually used by the SparkContext in JVM.\r\n        211         self._conf = SparkConf(_jconf=self._jsc.sc().conf())\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    _initialize_context(self, jconf)\r\n        327         Initialize SparkContext in function to allow subclass specific initialization\r\n        328         &quot;&quot;&quot;\r\n    --&gt; 329         return self._jvm.JavaSparkContext(jconf)\r\n        330 \r\n        331     @classmethod\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\java_gateway.py in __call__(self, *args)    1571     1572         answer = self._gateway_client.send_command(command)\r\n    -&gt; 1573         return_value = get_return_value(    1574             answer, self._gateway_client, None, self._fqn)    1575 \r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n        324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n        325             if answer[1] == REFERENCE_TYPE:\r\n    --&gt; 326                 raise Py4JJavaError(\r\n        327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n        328                     format(target_id, &quot;.&quot;, name), value)\r\n    \r\n    Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext. : java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x2e55dd0c) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x2e55dd0c \tat org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213) \tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala) \tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110) \tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348) \tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287) \tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:336) \tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191) \tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277) \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460) \tat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58) \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247) \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357) \tat py4j.Gateway.invoke(Gateway.java:238) \tat py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80) \tat py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69) \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182) \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106) \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nCan someone please help me with it ?\r\n\r\n","title":"Pyspark Session Builder","body":"<p>I have installed python and java, also have installed pyspark and the everything works fine in the terminal. I am trying to build a pyspark session using python on jupyter notebook</p>\n<p>The code I am using is</p>\n<pre><code>import pyspark\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<p>But I am Getting the following error:</p>\n<pre><code>Py4JJavaError                             Traceback (most recent call last) C:\\Users\\BINAYA~1\\AppData\\Local\\Temp/ipykernel_8296/4002136008.py in &lt;module&gt;\n----&gt; 1 spark=SparkSession.builder.appName('Practise').getOrCreate()    \n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\sql\\session.py in getOrCreate(self)\n    226                             sparkConf.set(key, value)\n    227                         # This SparkContext may be an existing one.\n--&gt; 228                         sc = SparkContext.getOrCreate(sparkConf)\n    229                     # Do not update `SparkConf` for existing `SparkContext`, as it's shared\n    230                     # by all sessions.\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in getOrCreate(cls, conf)\n    390         with SparkContext._lock:\n    391             if SparkContext._active_spark_context is None:\n--&gt; 392                 SparkContext(conf=conf or SparkConf())\n    393             return SparkContext._active_spark_context\n    394 \n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n__init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls)\n    144         SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n    145         try:\n--&gt; 146             self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\n    147                           conf, jsc, profiler_cls)\n    148         except:\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n_do_init(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, jsc, profiler_cls)\n    207 \n    208         # Create the Java SparkContext through Py4J\n--&gt; 209         self._jsc = jsc or self._initialize_context(self._conf._jconf)\n    210         # Reset the SparkConf to the one actually used by the SparkContext in JVM.\n    211         self._conf = SparkConf(_jconf=self._jsc.sc().conf())\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n_initialize_context(self, jconf)\n    327         Initialize SparkContext in function to allow subclass specific initialization\n    328         &quot;&quot;&quot;\n--&gt; 329         return self._jvm.JavaSparkContext(jconf)\n    330 \n    331     @classmethod\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\java_gateway.py in __call__(self, *args)    1571     1572         answer = self._gateway_client.send_command(command)\n-&gt; 1573         return_value = get_return_value(    1574             answer, self._gateway_client, None, self._fqn)    1575 \n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n    325             if answer[1] == REFERENCE_TYPE:\n--&gt; 326                 raise Py4JJavaError(\n    327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n    328                     format(target_id, &quot;.&quot;, name), value)\n\nPy4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext. : java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x2e55dd0c) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x2e55dd0c    at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)    at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)     at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)     at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)   at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)     at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)     at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)  at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)     at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)   at py4j.Gateway.invoke(Gateway.java:238)    at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)   at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)     at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)     at py4j.ClientServerConnection.run(ClientServerConnection.java:106)     at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can someone please help me with it ?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638876935,"post_id":70259408,"comment_id":124199018,"body_markdown":"might be that demoRepository is null. might be the method call throws the exception. have you debugged your code?","body":"might be that demoRepository is null. might be the method call throws the exception. have you debugged your code?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1638877185,"post_id":70259408,"comment_id":124199105,"body_markdown":"Where do you use and how do you instantiate the class `SampleMarksValues`?","body":"Where do you use and how do you instantiate the class <code>SampleMarksValues</code>?"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1638877187,"post_id":70259408,"comment_id":124199107,"body_markdown":"You are probably missing @Repository annotation in your repository class that&#39;s why spring does not create bean","body":"You are probably missing @Repository annotation in your repository class that&#39;s why spring does not create bean"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1638877214,"post_id":70259408,"comment_id":124199115,"body_markdown":"@RafałSokalski It&#39;s a Spring Data interface, `@Repository` is not necessary on those.","body":"@RafałSokalski It&#39;s a Spring Data interface, <code>@Repository</code> is not necessary on those."},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638877231,"post_id":70259408,"comment_id":124199123,"body_markdown":"@Stultuske. how can i verify if demoRepository is null or not. If it is null then why i am getting the correct value when i call that value in GET API","body":"@Stultuske. how can i verify if demoRepository is null or not. If it is null then why i am getting the correct value when i call that value in GET API"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638877299,"post_id":70259408,"comment_id":124199151,"body_markdown":"@Kumar_Maddy because it is instantiated in one class/flow, doesn&#39;t mean it is in another. you can add a print statement, you can debug your code, there are several ways, all of which you should have known about before trying to write more &#39;complex&#39; code","body":"@Kumar_Maddy because it is instantiated in one class/flow, doesn&#39;t mean it is in another. you can add a print statement, you can debug your code, there are several ways, all of which you should have known about before trying to write more &#39;complex&#39; code"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638877480,"post_id":70259408,"comment_id":124199226,"body_markdown":"@Stultuske i tried using print statement in service class method and i was getting null. I want to know how can i get rid of it. Is there any way to instaniate it within service class??","body":"@Stultuske i tried using print statement in service class method and i was getting null. I want to know how can i get rid of it. Is there any way to instaniate it within service class??"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638877588,"post_id":70259408,"comment_id":124199264,"body_markdown":"make sure that service class is itself instantiated in the Spring context, or the Autowired won&#39;t take","body":"make sure that service class is itself instantiated in the Spring context, or the Autowired won&#39;t take"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1638877656,"post_id":70259408,"comment_id":124199297,"body_markdown":"What is showing null? demoRepository or demoRepository.totalMarks() ?","body":"What is showing null? demoRepository or demoRepository.totalMarks() ?"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638878384,"post_id":70259408,"comment_id":124199569,"body_markdown":"@RafałSokalski i also checked demorepository in print statement.```            System.out.println(&quot;total marks &quot;+demoRepository)```\n it is also showing null. here is output ```total marks null```","body":"@RafałSokalski i also checked demorepository in print statement.```            System.out.println(&quot;total marks &quot;+demoRepository)```  it is also showing null. here is output <code>total marks null</code>"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638878564,"post_id":70259408,"comment_id":124199644,"body_markdown":"@Stultuske can you please provide any reference for instantiating service class in Spring??","body":"@Stultuske can you please provide any reference for instantiating service class in Spring??"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638881751,"post_id":70259408,"comment_id":124200836,"body_markdown":"by Autowiring it, just like you try with your repository, but you have to autowire the entire flow","body":"by Autowiring it, just like you try with your repository, but you have to autowire the entire flow"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638882614,"post_id":70259408,"comment_id":124201185,"body_markdown":"@Stultuske entire flow??","body":"@Stultuske entire flow??"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638884016,"post_id":70259408,"comment_id":124201807,"body_markdown":"@Stultuske i used @autowire annotaion within controller class  to instaniate it. still its not working.  What am i missing here now?? ```\n@Autowired\nprivate SampleMarksValues sampleMarksValues;```","body":"@Stultuske i used @autowire annotaion within controller class  to instaniate it. still its not working.  What am i missing here now?? ``` @Autowired private SampleMarksValues sampleMarksValues;```"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1638887270,"post_id":70259408,"comment_id":124203367,"body_markdown":"that is not what I was talking about. You should read up on it works. If you add @Autowired on that variable, for instance, but instantiate the Controller by &quot; = new Controller&quot;, that Autowired won&#39;t do anything","body":"that is not what I was talking about. You should read up on it works. If you add @Autowired on that variable, for instance, but instantiate the Controller by &quot; = new Controller&quot;, that Autowired won&#39;t do anything"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":1,"creation_date":1638894545,"post_id":70259408,"comment_id":124206592,"body_markdown":"@Stultuske Thanks mate. The issue is resolved now. I have been able to figure out the autowirig and instanitaing thing. As i instantiated using autowiring and called the method within controllr, it worked","body":"@Stultuske Thanks mate. The issue is resolved now. I have been able to figure out the autowirig and instanitaing thing. As i instantiated using autowiring and called the method within controllr, it worked"}],"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638926693,"creation_date":1638876873,"question_id":70259408,"body_markdown":"I am trying to get all the data from my SQL table. I am trying to use @Query in the repository.\r\n\r\nWhen I try to get these within my controller class as shown below using API I am getting it fine and it give me the correct value.\r\n\r\nHowever issue arises when I am trying to use the same value within my service class it is showing me null .However I need to use these values in service class for further purposes but I am unable to use it because of this error.\r\n\r\nBelow is my repository:\r\n\r\n```java\r\npublic interface DemoRepository extends JpaRepository&lt;DemoStudentData, Integer&gt; {\r\n\r\n    @Query(&quot;SELECT SUM(dt.demo_marks) FROM DemoStudentData dt&quot;)\r\n    Double totalMarks();\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nhere is the API which is giving me correct value when I try to test.(I only used it to check if I get correct value in GET request).\r\n\r\n```java\r\n@GetMapping(value=&quot;/totalMarks&quot;, produces = &quot;application/json&quot;)\r\n     public double getTotalMarks(){\r\n\r\n\r\n     return demoRepository.totalMarks();\r\n        }\r\n```\r\n\r\nBelow is my service class where I need to get the value.\r\n  \r\n```java\r\n   @Service\r\n   public class SampleMarksValues {\r\n\r\n\r\n    @Autowired\r\n    private DemoRepository demoRepository;\r\n\r\n    @PreUpdate\r\n    @PrePersist\r\n    public void useTotalMarks(DemoStudentData demo) {\r\n        Double Marks = demoRepository.totalMarks(); //showing null here.\r\n\r\n        demo.setTotal_Marks(Marks);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am unable to figure out why I am getting such an issue. Can anyone help me with this?.","title":"Getting Null Pointer Exception when try to fetch the query result in springboot","body":"<p>I am trying to get all the data from my SQL table. I am trying to use @Query in the repository.</p>\n<p>When I try to get these within my controller class as shown below using API I am getting it fine and it give me the correct value.</p>\n<p>However issue arises when I am trying to use the same value within my service class it is showing me null .However I need to use these values in service class for further purposes but I am unable to use it because of this error.</p>\n<p>Below is my repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DemoRepository extends JpaRepository&lt;DemoStudentData, Integer&gt; {\n\n    @Query(&quot;SELECT SUM(dt.demo_marks) FROM DemoStudentData dt&quot;)\n    Double totalMarks();\n\n}\n\n</code></pre>\n<p>here is the API which is giving me correct value when I try to test.(I only used it to check if I get correct value in GET request).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value=&quot;/totalMarks&quot;, produces = &quot;application/json&quot;)\n     public double getTotalMarks(){\n\n\n     return demoRepository.totalMarks();\n        }\n</code></pre>\n<p>Below is my service class where I need to get the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Service\n   public class SampleMarksValues {\n\n\n    @Autowired\n    private DemoRepository demoRepository;\n\n    @PreUpdate\n    @PrePersist\n    public void useTotalMarks(DemoStudentData demo) {\n        Double Marks = demoRepository.totalMarks(); //showing null here.\n\n        demo.setTotal_Marks(Marks);\n\n    }\n\n}\n</code></pre>\n<p>I am unable to figure out why I am getting such an issue. Can anyone help me with this?.</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1638924601,"post_id":70268679,"comment_id":124216093,"body_markdown":"Java is not interpreted. You need to compile the code first.","body":"Java is not interpreted. You need to compile the code first."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638924621,"post_id":70268679,"comment_id":124216098,"body_markdown":"Java is a compiled language.  See [this post](https://stackoverflow.com/questions/17667549/using-terminal-to-run-java-files) for some more details.","body":"Java is a compiled language.  See <a href=\"https://stackoverflow.com/questions/17667549/using-terminal-to-run-java-files\">this post</a> for some more details."},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638924728,"post_id":70268679,"comment_id":124216118,"body_markdown":"isn&#39;t already compiled in the &quot;out&quot; folder though ?","body":"isn&#39;t already compiled in the &quot;out&quot; folder though ?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638924774,"post_id":70268679,"comment_id":124216132,"body_markdown":"We don&#39;t know - images are impossible to search and guess at.","body":"We don&#39;t know - images are impossible to search and guess at."},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925002,"post_id":70268679,"comment_id":124216166,"body_markdown":"@stdunbar you&#39;re right let me share that","body":"@stdunbar you&#39;re right let me share that"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1638925286,"post_id":70268679,"comment_id":124216207,"body_markdown":"`java InnerFolder.Main` should be run at inside `out/production/untitled`.","body":"<code>java InnerFolder.Main</code> should be run at inside <code>out&#47;production&#47;untitled</code>."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1638925304,"post_id":70268679,"comment_id":124216211,"body_markdown":"Do your Main class and Node class have `package` statements? You&#39;ll need to mention the package with `java -cp yourpackage etc`","body":"Do your Main class and Node class have <code>package</code> statements? You&#39;ll need to mention the package with <code>java -cp yourpackage etc</code>"},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925785,"post_id":70268679,"comment_id":124216280,"body_markdown":"@StephenP yes there is package InnerFolder","body":"@StephenP yes there is package InnerFolder"},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925833,"post_id":70268679,"comment_id":124216288,"body_markdown":"@GenoChen seemed to work but im getting an error that I don&#39;t ahve when I run the program in intelliJ Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/pdfbox/pdmodel/PDDocument\n\tat InnerFolder.Main.main(Main.java:38)","body":"@GenoChen seemed to work but im getting an error that I don&#39;t ahve when I run the program in intelliJ Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/pdfbox/pdmodel/PDDocument \tat InnerFolder.Main.main(Main.java:38)"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638928097,"post_id":70268679,"comment_id":124216644,"body_markdown":"Based on what you&#39;ve shown, I believe that you want to `cd Code` and `java -cp pdfbox-app-2.0.24.jar:out`.  But it&#39;s not clear if your `.java` files are in the correct package without seeing the code.","body":"Based on what you&#39;ve shown, I believe that you want to <code>cd Code</code> and <code>java -cp pdfbox-app-2.0.24.jar:out</code>.  But it&#39;s not clear if your <code>.java</code> files are in the correct package without seeing the code."},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1638931060,"post_id":70268679,"comment_id":124217125,"body_markdown":"@RogerSteinberg This is because, your code `import`s org.apache.pdfbox..., so you are expected to add the `pdfbox` jar into classpath","body":"@RogerSteinberg This is because, your code <code>import</code>s org.apache.pdfbox..., so you are expected to add the <code>pdfbox</code> jar into classpath"}],"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638925195,"creation_date":1638924500,"question_id":70268679,"body_markdown":"Im extremely new to Java so please bear with me.\r\n\r\nI would like to run a java project from the terminal.\r\n\r\nThe directory looks like this :\r\n\r\n[![Code &gt;][1]][1]\r\n   \r\n  \r\nI went on the terminal inside the &quot;src&quot; folder and tried `java InnerFolder.Main` but got the following error msg: \r\n\r\n&gt; Error: Could not find or load main class \r\n\r\n**How can I run my project?**\r\n\r\n**edit:**\r\n\r\ncompiled files  \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7NZQ.png\r\n  [2]: https://i.stack.imgur.com/ZWgH6.png","title":"Running Java files inside a package with a jar library","body":"<p>Im extremely new to Java so please bear with me.</p>\n<p>I would like to run a java project from the terminal.</p>\n<p>The directory looks like this :</p>\n<p><a href=\"https://i.stack.imgur.com/Q7NZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7NZQ.png\" alt=\"Code &gt;\" /></a></p>\n<p>I went on the terminal inside the &quot;src&quot; folder and tried <code>java InnerFolder.Main</code> but got the following error msg:</p>\n<blockquote>\n<p>Error: Could not find or load main class</p>\n</blockquote>\n<p><strong>How can I run my project?</strong></p>\n<p><strong>edit:</strong></p>\n<p>compiled files<br />\n<a href=\"https://i.stack.imgur.com/ZWgH6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWgH6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","thymeleaf"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":2,"creation_date":1638866463,"post_id":70256596,"comment_id":124195197,"body_markdown":"have you considered to use any calendar library?","body":"have you considered to use any calendar library?"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1638867066,"post_id":70256596,"comment_id":124195417,"body_markdown":"Sorry, just realised not everything I had in my question was posted. A calendar library would prob be the best option but I&#39;m just trying to do what&#39;s been requested of me.","body":"Sorry, just realised not everything I had in my question was posted. A calendar library would prob be the best option but I&#39;m just trying to do what&#39;s been requested of me."}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638924888,"creation_date":1638863576,"question_id":70256596,"body_markdown":"I have this code for date entry in a Thymeleaf template:\r\n\r\n```\r\n&lt;div class=&quot;m-form-row__content&quot;&gt;\r\n\t&lt;ul class=&quot;m-textbox-group&quot; data-module=&quot;a-autojump&quot;&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobDay&quot;&gt;Day&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobMonth&quot;&gt;Month&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobMonth&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobMonth}&quot; placeholder=&quot;MM&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobYear&quot;&gt;Year&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobYear&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobYear}&quot; placeholder=&quot;YYYY&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--4-character&quot; maxlength=&quot;4&quot; /&gt;&lt;/li&gt;\r\n\t&lt;/ul&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThe date format should be DD/MM/YYYY but currently if something like D/M/YYYY is entered no validation catches this and it causes an error in a downstream application. I&#39;d like to add some functionality where a leading zero is added if the length of D or M are 1.\r\n\r\nAn example of what I&#39;m trying to do but done with JSP and JavaScript are as follows:\r\n\r\n```JSP\r\n&lt;div class=&quot;input&quot;&gt;\r\n    &lt;div class=&quot;textfield inputGroup&quot;&gt;\r\n    &lt;form:input path=&quot;proposer.dobDay&quot; id=&quot;proposer.dobDay&quot;\r\n    cssClass=&quot;input-text small dayfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\r\n    onkeyup=&quot;moveOnMaxDob(this,&#39;proposer.dobMonth&#39;)&quot; onchange=&quot;joinDOBVal()&quot; /&gt;\r\n    &lt;form:input path=&quot;proposer.dobMonth&quot; id=&quot;proposer.dobMonth&quot;\r\n    cssClass=&quot;input-text small monthfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\r\n    onkeyup=&quot;moveOnMaxDob(this,&#39;proposer.dobYear&#39;)&quot; onchange=&quot;joinDOBVal()&quot;/&gt;\r\n    &lt;form:input path=&quot;proposer.dobYear&quot; id=&quot;proposer.dobYear&quot;\r\n    cssClass=&quot;input-text small yearfield only-digits validateFrontend&quot; size=&quot;5&quot; maxlength=&quot;4&quot;\r\n    onchange=&quot;joinDOBVal()&quot;/&gt;\r\n    &lt;span class=&quot;validIcon&quot;&gt;&lt;/span&gt;\r\n    &lt;div class=&quot;errorContainerContact&quot;&gt;&lt;/div&gt;\r\n    &lt;!-- hidden fields for full dob --&gt;\r\n    &lt;form:hidden path=&quot;proposer.dob&quot; id=&quot;proposer.dob&quot;/&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;errorContainer dob&quot;&gt;\r\n        &lt;form:errors path=&quot;proposer.dob&quot; cssClass=&quot;field-validation-error&quot; htmlEscape=&quot;false&quot; /&gt;\r\n   &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n```JavaScript\r\nfunction joinDOBVal() {\r\n\tvar day = document.getElementById(&quot;proposer.dobDay&quot;).value;\r\n\tvar month = document.getElementById(&quot;proposer.dobMonth&quot;).value;\r\n\tvar year = document.getElementById(&quot;proposer.dobMonth&quot;).value;\r\n\tif (IsNumeric(day) == true &amp;&amp; IsNumeric(month) == true\r\n\t\t\t&amp;&amp; IsNumeric(year) == true) {\r\n\r\n\t\tif(day != &quot;&quot; &amp;&amp; day.length == 1 &amp;&amp; day != &quot;0&quot;) {\r\n\t\t\tday = &quot;0&quot;+day;\r\n\t\t\tdocument.getElementById(&quot;proposer.dobDay&quot;).value = day;\r\n\t\t}\r\n\t\tif(month != &quot;&quot; &amp;&amp; month.length == 1 &amp;&amp; month != &quot;0&quot;) {\r\n\t\t\tmonth = &quot;0&quot;+month;\r\n\t\t\tdocument.getElementById(&quot;proposer.dobMonth&quot;).value = month;\r\n\t\t}\r\n\t\tif ((year != &quot;&quot;) &amp;&amp; (year.length == 4)) {\r\n\t\t\tvar fullDob = day + &quot;/&quot; + month + &quot;/&quot; + year;\r\n\t\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = fullDob;\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\r\n\t\t}\r\n\t} else {\r\n\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nThink maybe I could do something along the lines of but not quite this:\r\n\r\n```\r\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;gt; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\r\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;eq; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;0*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\r\n```\r\n\r\n**Update**\r\n\r\nMy understanding is that the `label` passes the value to `input` e.g. `for=&quot;policyHolder.dobDay&quot;` and `id=&quot;policyHolder.dobDay&quot;`. Is it possible to do some sort of `th:if` in the `label` so the desired value is passed to be input?","title":"Thymeleaf - Add leading zero to date field if day or month is entered as D/M instead of DD/MM","body":"<p>I have this code for date entry in a Thymeleaf template:</p>\n<pre><code>&lt;div class=&quot;m-form-row__content&quot;&gt;\n    &lt;ul class=&quot;m-textbox-group&quot; data-module=&quot;a-autojump&quot;&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobDay&quot;&gt;Day&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobMonth&quot;&gt;Month&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobMonth&quot;\n            th:field=&quot;*{pHolder.dobMonth}&quot; placeholder=&quot;MM&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobYear&quot;&gt;Year&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobYear&quot;\n            th:field=&quot;*{pHolder.dobYear}&quot; placeholder=&quot;YYYY&quot;\n            class=&quot;a-textbox a-textbox--4-character&quot; maxlength=&quot;4&quot; /&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The date format should be DD/MM/YYYY but currently if something like D/M/YYYY is entered no validation catches this and it causes an error in a downstream application. I'd like to add some functionality where a leading zero is added if the length of D or M are 1.</p>\n<p>An example of what I'm trying to do but done with JSP and JavaScript are as follows:</p>\n<pre><code>&lt;div class=&quot;input&quot;&gt;\n    &lt;div class=&quot;textfield inputGroup&quot;&gt;\n    &lt;form:input path=&quot;proposer.dobDay&quot; id=&quot;proposer.dobDay&quot;\n    cssClass=&quot;input-text small dayfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\n    onkeyup=&quot;moveOnMaxDob(this,'proposer.dobMonth')&quot; onchange=&quot;joinDOBVal()&quot; /&gt;\n    &lt;form:input path=&quot;proposer.dobMonth&quot; id=&quot;proposer.dobMonth&quot;\n    cssClass=&quot;input-text small monthfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\n    onkeyup=&quot;moveOnMaxDob(this,'proposer.dobYear')&quot; onchange=&quot;joinDOBVal()&quot;/&gt;\n    &lt;form:input path=&quot;proposer.dobYear&quot; id=&quot;proposer.dobYear&quot;\n    cssClass=&quot;input-text small yearfield only-digits validateFrontend&quot; size=&quot;5&quot; maxlength=&quot;4&quot;\n    onchange=&quot;joinDOBVal()&quot;/&gt;\n    &lt;span class=&quot;validIcon&quot;&gt;&lt;/span&gt;\n    &lt;div class=&quot;errorContainerContact&quot;&gt;&lt;/div&gt;\n    &lt;!-- hidden fields for full dob --&gt;\n    &lt;form:hidden path=&quot;proposer.dob&quot; id=&quot;proposer.dob&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;errorContainer dob&quot;&gt;\n        &lt;form:errors path=&quot;proposer.dob&quot; cssClass=&quot;field-validation-error&quot; htmlEscape=&quot;false&quot; /&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<pre><code>function joinDOBVal() {\n    var day = document.getElementById(&quot;proposer.dobDay&quot;).value;\n    var month = document.getElementById(&quot;proposer.dobMonth&quot;).value;\n    var year = document.getElementById(&quot;proposer.dobMonth&quot;).value;\n    if (IsNumeric(day) == true &amp;&amp; IsNumeric(month) == true\n            &amp;&amp; IsNumeric(year) == true) {\n\n        if(day != &quot;&quot; &amp;&amp; day.length == 1 &amp;&amp; day != &quot;0&quot;) {\n            day = &quot;0&quot;+day;\n            document.getElementById(&quot;proposer.dobDay&quot;).value = day;\n        }\n        if(month != &quot;&quot; &amp;&amp; month.length == 1 &amp;&amp; month != &quot;0&quot;) {\n            month = &quot;0&quot;+month;\n            document.getElementById(&quot;proposer.dobMonth&quot;).value = month;\n        }\n        if ((year != &quot;&quot;) &amp;&amp; (year.length == 4)) {\n            var fullDob = day + &quot;/&quot; + month + &quot;/&quot; + year;\n            document.getElementById(&quot;proposer.dob&quot;).value = fullDob;\n        } else {\n            document.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\n        }\n    } else {\n        document.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Think maybe I could do something along the lines of but not quite this:</p>\n<pre><code>&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;gt; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;eq; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;0*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\n</code></pre>\n<p><strong>Update</strong></p>\n<p>My understanding is that the <code>label</code> passes the value to <code>input</code> e.g. <code>for=&quot;policyHolder.dobDay&quot;</code> and <code>id=&quot;policyHolder.dobDay&quot;</code>. Is it possible to do some sort of <code>th:if</code> in the <code>label</code> so the desired value is passed to be input?</p>\n"},{"tags":["java","maven","tesseract"],"owner":{"account_id":23580180,"reputation":11,"user_id":17619307,"display_name":"Nanthno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638922839,"creation_date":1638913148,"question_id":70267252,"body_markdown":"I&#39;m developing an application in Java using Maven. It works on my development computer (Windows) but when I try to run it on a different computer (mac), I get \r\n\r\n    NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\r\n\r\nI&#39;m new to Maven so I don&#39;t know much about how it works but I&#39;ve tried building with shade and with maven-assembly-plugin but neither worked.\r\n\r\nHere is the build section of my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!--            The following two plugins were not both run. I had one or the other commented out--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Main-Class&gt;com.nanthno.Main&lt;/Main-Class&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.nanthno.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI&#39;ve tried solutions on other forum posts but nothing is working. Any and all help is greatly appreciated.\r\n(Also this is my first post on StackOverflow so if I should be formatting things differently or anything, let me know and I&#39;ll edit the post)\r\n\r\nEdit: I tried running the build on a different windows and it worked so it is a mac specific issue.","title":"NoClassDefFoundError: could not initialize class when running on another computer","body":"<p>I'm developing an application in Java using Maven. It works on my development computer (Windows) but when I try to run it on a different computer (mac), I get</p>\n<pre><code>NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\n</code></pre>\n<p>I'm new to Maven so I don't know much about how it works but I've tried building with shade and with maven-assembly-plugin but neither worked.</p>\n<p>Here is the build section of my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;!--            The following two plugins were not both run. I had one or the other commented out--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Main-Class&gt;com.nanthno.Main&lt;/Main-Class&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.nanthno.Main&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I've tried solutions on other forum posts but nothing is working. Any and all help is greatly appreciated.\n(Also this is my first post on StackOverflow so if I should be formatting things differently or anything, let me know and I'll edit the post)</p>\n<p>Edit: I tried running the build on a different windows and it worked so it is a mac specific issue.</p>\n"},{"tags":["java","pdf","servlets","merge","itext"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1638907811,"post_id":70266260,"comment_id":124211634,"body_markdown":"So you are trying two concatenate two PDF documents? E.g. the first document has 3 pages, the second as 5 pages and the concatenated document thus has 8 pages?","body":"So you are trying two concatenate two PDF documents? E.g. the first document has 3 pages, the second as 5 pages and the concatenated document thus has 8 pages?"},{"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"score":0,"creation_date":1638908408,"post_id":70266260,"comment_id":124211855,"body_markdown":"The document that needs to display first is a cover page, only one page. The second to display consists of an invoice that may be many, up to 10 pages. Therefore, I need the cover page PDF first and then the invoice PDF. Yes, 1 page + 10, 11 pages total.","body":"The document that needs to display first is a cover page, only one page. The second to display consists of an invoice that may be many, up to 10 pages. Therefore, I need the cover page PDF first and then the invoice PDF. Yes, 1 page + 10, 11 pages total."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1638911592,"post_id":70266260,"comment_id":124213002,"body_markdown":"PDF documents have a complex structure incl. an index of all pages and shared resources. So concatenating two documents isn&#39;t trivial. However, iText 5 can do the heavy lifting for you. Search for &quot;itext 5 pdfcopy example&quot;.","body":"PDF documents have a complex structure incl. an index of all pages and shared resources. So concatenating two documents isn&#39;t trivial. However, iText 5 can do the heavy lifting for you. Search for &quot;itext 5 pdfcopy example&quot;."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1638913285,"post_id":70266260,"comment_id":124213529,"body_markdown":"You want to merge two documents. Have you considered looking for answers on merging PDFs with iText?","body":"You want to merge two documents. Have you considered looking for answers on merging PDFs with iText?"},{"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"score":0,"creation_date":1638915637,"post_id":70266260,"comment_id":124214160,"body_markdown":"I have searched for that exact phrase. The issue becomes that the Java servlet class has no knowledge of iText or the PDF documents that were created in its calls to the classes that use iText to make the returned output streams. It only knows about &quot;ByteArrayOutputStream&quot; streams. In the servlet, can it be possible to create iText documents from the two returned &quot;ByteArrayOutputStream,&quot; streams, merge the documents, and convert that document back to a&quot;ByteArrayOutputStream&quot; to write to the &quot;ServletOutputStream &quot;?","body":"I have searched for that exact phrase. The issue becomes that the Java servlet class has no knowledge of iText or the PDF documents that were created in its calls to the classes that use iText to make the returned output streams. It only knows about &quot;ByteArrayOutputStream&quot; streams. In the servlet, can it be possible to create iText documents from the two returned &quot;ByteArrayOutputStream,&quot; streams, merge the documents, and convert that document back to a&quot;ByteArrayOutputStream&quot; to write to the &quot;ServletOutputStream &quot;?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1638958647,"post_id":70266260,"comment_id":124223868,"body_markdown":"Your solution in your answer is approximately what I had in mind when asking you to look for *merging PDFs with iText*.","body":"Your solution in your answer is approximately what I had in mind when asking you to look for <i>merging PDFs with iText</i>."}],"answers":[{"tags":[],"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638922651,"creation_date":1638922651,"answer_id":70268501,"question_id":70266260,"body_markdown":"I was able to get it to work inside the Java servlet with the following code.\r\n\r\n    Document pdfDocument = new Document();\r\n    ByteArrayOutputStream pdfOutputStream = new ByteArrayOutputStream();\r\n    PdfCopy copy = new PdfCopy(pdfDocument, pdfOutputStream);\r\n    \r\n    pdfDocument.open();\r\n    \r\n    baosCoverPDF = new coverPDF();\r\n    \r\n    PdfReader coverPageReader = new PdfReader(baosCoverPDF.toByteArray());\r\n    \r\n    for (int i = 1; i &lt;= coverPageReader.getNumberOfPages(); i++) {\r\n       copy.addPage(copy.getImportedPage(coverPageReader, i));\r\n    }\r\n    \r\n    baosInvoice = new InvoicePDF(); \r\n    \r\n    PdfReader invoiceReader = new PdfReader(baosInvoice.toByteArray());\r\n    \r\n    for (int i = 1; i &lt;= invoiceReader.getNumberOfPages(); i++) {\r\n       copy.addPage(copy.getImportedPage(invoiceReader, i));\r\n    }\r\n    \r\n    pdfDocument.close();\r\n    \r\n    baosPDF.write(pdfOutputStream.toByteArray());\r\n    \r\n    copy.close();\r\n    coverPageReader.close();\r\n    invoiceReader.close();\r\n\r\nI then perform the rest as before to output to the browser window.\r\n\r\n    // Set up the return HTTP header.\r\n    \r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\r\n                                + \r\n    request.getParameter(&quot;invoiceNumber&quot;).toString()\r\n                                + &quot;.pdf&quot;);\r\n\r\n    // Set length HTTP header value.\r\n    \r\n    response.setContentLength(baosPDF.size());\r\n    \r\n    // Write all data to the browser.\r\n    \r\n    ServletOutputStream sos = response.getOutputStream();\r\n    \r\n    baosPDF.writeTo(sos);\r\n               \r\n    sos.flush();\r\n\r\n","title":"iText 5: Create a single PDF &quot;ByteArrayOutputStream()&quot; from two streams in a Java &quot;HttpServlet&quot; servlet to display in browser window","body":"<p>I was able to get it to work inside the Java servlet with the following code.</p>\n<pre><code>Document pdfDocument = new Document();\nByteArrayOutputStream pdfOutputStream = new ByteArrayOutputStream();\nPdfCopy copy = new PdfCopy(pdfDocument, pdfOutputStream);\n\npdfDocument.open();\n\nbaosCoverPDF = new coverPDF();\n\nPdfReader coverPageReader = new PdfReader(baosCoverPDF.toByteArray());\n\nfor (int i = 1; i &lt;= coverPageReader.getNumberOfPages(); i++) {\n   copy.addPage(copy.getImportedPage(coverPageReader, i));\n}\n\nbaosInvoice = new InvoicePDF(); \n\nPdfReader invoiceReader = new PdfReader(baosInvoice.toByteArray());\n\nfor (int i = 1; i &lt;= invoiceReader.getNumberOfPages(); i++) {\n   copy.addPage(copy.getImportedPage(invoiceReader, i));\n}\n\npdfDocument.close();\n\nbaosPDF.write(pdfOutputStream.toByteArray());\n\ncopy.close();\ncoverPageReader.close();\ninvoiceReader.close();\n</code></pre>\n<p>I then perform the rest as before to output to the browser window.</p>\n<pre><code>// Set up the return HTTP header.\n\nresponse.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\nresponse.setContentType(&quot;application/pdf&quot;);\nresponse.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\n                            + \nrequest.getParameter(&quot;invoiceNumber&quot;).toString()\n                            + &quot;.pdf&quot;);\n\n// Set length HTTP header value.\n\nresponse.setContentLength(baosPDF.size());\n\n// Write all data to the browser.\n\nServletOutputStream sos = response.getOutputStream();\n\nbaosPDF.writeTo(sos);\n           \nsos.flush();\n</code></pre>\n"}],"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638922651,"creation_date":1638907281,"question_id":70266260,"body_markdown":"I have a Java &quot;HttpServlet&quot; class that creates an iText 5 PDF document by calling a Java class that returns the PDF document as a &quot;ByteArrayOuputStream.&quot; The stream gets written to the &quot;HttpServletResponse&quot; of the servlet and displayed in the browser window.\r\n\r\nIn the Java servlet:\r\n\r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response) \r\n    throws ServletException, IOException{\r\n\r\n    // Other code.\r\n    \r\n    ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\r\n    \r\n    // Java class call to create PDF document.\r\n    \r\n    baosPDF = new InvoicePDF();\r\n    \r\n    // Set up the return HTTP header.\r\n    \r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\r\n                                + request.getParameter(&quot;invoiceNumber&quot;).toString()\r\n                                + &quot;.pdf&quot;);\r\n    \r\n    // Set length HTTP header value.\r\n    \r\n    response.setContentLength(baosPDF.size());\r\n    \r\n    // Write all data to the browser.\r\n    \r\n    ServletOutputStream sos = response.getOutputStream();\r\n    \r\n    baosPDF.writeTo(sos);\r\n               \r\n    sos.flush();\r\n     \r\n    // Other code.\r\n    \r\n    }\r\n\r\nThe above code works well.\r\n\r\nIn certain circumstances, I need to create another &quot;ByteArrayOuputStream&quot; PDF document in the servlet using another Java class and have that PDF document displayed first and then the other PDF document next in the browser window.\r\n\r\nI tried concatenating the two &quot;ByteArrayOutputStream&quot; (write method) into one and writing to the &quot;ServletOutputStream,&quot; but only the stream written on the end of the &quot;ByteArrayOuputStream&quot; displays in the browser window.\r\n\r\nIn the servlet, I need to create a single PDF &quot;ByteArrayOuputStream,&quot; somehow merging the two PDF documents.\r\n\r\n    ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\r\n    \r\n    ByteArrayOutputStream baosCoverPDF = new ByteArrayOutputStream();\r\n    \r\n    //Java class call to create PDF document\r\n    \r\n    baosCoverPDF = new coverPDF();\r\n\r\n    baosPDF = new InvoicePDF(hosturl, invoiceNumber);  \r\n\r\nI need a single &quot;ByteArrayOuputStream&quot; that contains both &quot;baoCoverPDF&quot; and &quot;baosPDF&quot; streams as a single PDF that will display both PDF streams in the browser? Any help on a direction such as a combination of a &quot;PdfReader&quot; and &quot;PdfCopy&quot;?\r\n\r\n\r\n\r\n\r\n","title":"iText 5: Create a single PDF &quot;ByteArrayOutputStream()&quot; from two streams in a Java &quot;HttpServlet&quot; servlet to display in browser window","body":"<p>I have a Java &quot;HttpServlet&quot; class that creates an iText 5 PDF document by calling a Java class that returns the PDF document as a &quot;ByteArrayOuputStream.&quot; The stream gets written to the &quot;HttpServletResponse&quot; of the servlet and displayed in the browser window.</p>\n<p>In the Java servlet:</p>\n<pre><code>    protected void processRequest(HttpServletRequest request, HttpServletResponse response) \nthrows ServletException, IOException{\n\n// Other code.\n\nByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\n\n// Java class call to create PDF document.\n\nbaosPDF = new InvoicePDF();\n\n// Set up the return HTTP header.\n\nresponse.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\nresponse.setContentType(&quot;application/pdf&quot;);\nresponse.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\n                            + request.getParameter(&quot;invoiceNumber&quot;).toString()\n                            + &quot;.pdf&quot;);\n\n// Set length HTTP header value.\n\nresponse.setContentLength(baosPDF.size());\n\n// Write all data to the browser.\n\nServletOutputStream sos = response.getOutputStream();\n\nbaosPDF.writeTo(sos);\n           \nsos.flush();\n \n// Other code.\n\n}\n</code></pre>\n<p>The above code works well.</p>\n<p>In certain circumstances, I need to create another &quot;ByteArrayOuputStream&quot; PDF document in the servlet using another Java class and have that PDF document displayed first and then the other PDF document next in the browser window.</p>\n<p>I tried concatenating the two &quot;ByteArrayOutputStream&quot; (write method) into one and writing to the &quot;ServletOutputStream,&quot; but only the stream written on the end of the &quot;ByteArrayOuputStream&quot; displays in the browser window.</p>\n<p>In the servlet, I need to create a single PDF &quot;ByteArrayOuputStream,&quot; somehow merging the two PDF documents.</p>\n<pre><code>ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\n\nByteArrayOutputStream baosCoverPDF = new ByteArrayOutputStream();\n\n//Java class call to create PDF document\n\nbaosCoverPDF = new coverPDF();\n\nbaosPDF = new InvoicePDF(hosturl, invoiceNumber);  \n</code></pre>\n<p>I need a single &quot;ByteArrayOuputStream&quot; that contains both &quot;baoCoverPDF&quot; and &quot;baosPDF&quot; streams as a single PDF that will display both PDF streams in the browser? Any help on a direction such as a combination of a &quot;PdfReader&quot; and &quot;PdfCopy&quot;?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1638939309,"post_id":70268224,"comment_id":124218544,"body_markdown":"but, you can break loop with `break;` statement when  `if(ID == CurrentUserId) break;` or you can continue looping with `continue;` statement when  `if(ID == CurrentUserId) continue;`.","body":"but, you can break loop with <code>break;</code> statement when  <code>if(ID == CurrentUserId) break;</code> or you can continue looping with <code>continue;</code> statement when  <code>if(ID == CurrentUserId) continue;</code>."},{"owner":{"account_id":20654189,"reputation":31,"user_id":15163720,"display_name":"Achisyg"},"score":0,"creation_date":1638958198,"post_id":70268224,"comment_id":124223694,"body_markdown":"@EAS Nice!! Thank you very much, you solved my problem!","body":"@EAS Nice!! Thank you very much, you solved my problem!"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638958733,"post_id":70268224,"comment_id":124223906,"body_markdown":"Glad to hear this!","body":"Glad to hear this!"}],"owner":{"account_id":20654189,"reputation":31,"user_id":15163720,"display_name":"Achisyg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638920021,"creation_date":1638920021,"question_id":70268224,"body_markdown":"I am using volley library and I want to pass data from a JSON API url with the GET method. What exactly I need is to get the user ```ID == CurrentUserId```. Here is my full code:\r\n\r\n    RequestQueue queue = Volley.newRequestQueue(getContext());\r\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n                    for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        JSONObject usersObject = response.getJSONObject(i);\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+usersObject, Toast.LENGTH_LONG).show();\r\n    \r\n                        String ID = usersObject.getString(&quot;ID&quot;);\r\n                        if (ID.equalsIgnoreCase(CurrentUser)) {\r\n                            String fullName = usersObject.getString(&quot;fullName&quot;);\r\n                            String userName = usersObject.getString(&quot;username&quot;);\r\n    \r\n                            fullname.setText(fullName);\r\n                            username.setText(userName);\r\n                        } else {\r\n                            fullname.setText(&quot;No Name&quot;);\r\n                        }\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+CurrentUser, Toast.LENGTH_SHORT).show();\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+ID, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        Log.d(&quot;CATCH&quot;, e.getMessage());\r\n                    }\r\n                }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            queue.add(jsonArrayRequest);\r\n\r\nThe downside is that when I use the for loop the code continues to read every item of the JSON. On the other hand when I don&#39;t use the for loop I have to set an array index here ```JSONObject usersObject = response.getJSONObject(i);```. So, what index should I set in order to make the code read every item and stop to what is ID == CurrentUserId?","title":"How to add JSONArrayRequest without the use of for loop?","body":"<p>I am using volley library and I want to pass data from a JSON API url with the GET method. What exactly I need is to get the user <code>ID == CurrentUserId</code>. Here is my full code:</p>\n<pre><code>RequestQueue queue = Volley.newRequestQueue(getContext());\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray response) {\n                for (int i = 0; i &lt; response.length(); i++) {\n                try {\n                    JSONObject usersObject = response.getJSONObject(i);\n                    Toast.makeText(getContext(), &quot;Name: &quot;+usersObject, Toast.LENGTH_LONG).show();\n\n                    String ID = usersObject.getString(&quot;ID&quot;);\n                    if (ID.equalsIgnoreCase(CurrentUser)) {\n                        String fullName = usersObject.getString(&quot;fullName&quot;);\n                        String userName = usersObject.getString(&quot;username&quot;);\n\n                        fullname.setText(fullName);\n                        username.setText(userName);\n                    } else {\n                        fullname.setText(&quot;No Name&quot;);\n                    }\n                    Toast.makeText(getContext(), &quot;Name: &quot;+CurrentUser, Toast.LENGTH_SHORT).show();\n                    Toast.makeText(getContext(), &quot;Name: &quot;+ID, Toast.LENGTH_SHORT).show();\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                    Log.d(&quot;CATCH&quot;, e.getMessage());\n                }\n            }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n\n            }\n        });\n\n\n        queue.add(jsonArrayRequest);\n</code></pre>\n<p>The downside is that when I use the for loop the code continues to read every item of the JSON. On the other hand when I don't use the for loop I have to set an array index here <code>JSONObject usersObject = response.getJSONObject(i);</code>. So, what index should I set in order to make the code read every item and stop to what is ID == CurrentUserId?</p>\n"},{"tags":["java","sql","orientdb","graph-databases","a-star"],"answers":[{"tags":[],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638919980,"creation_date":1638919980,"answer_id":70268219,"question_id":70255040,"body_markdown":"Turns out the error had nothing to do with the bracket itself. Passing the `&quot;direction=&#39;OUT&#39;&quot;` and `&quot;customHeuristicFormula=&#39;EUCLIDEAN&#39;&quot;` parameters in as part of the string was the problem. The below block did the trick. \r\n\r\n        String sql = &quot;SELECT ASTAR(&quot; + getNode(from).getProperty(&quot;@rid&quot;) + &quot;, &quot; + getNode(to).getProperty(&quot;@rid&quot;) + &quot;, time) FROM V&quot;;\r\n        try(OResultSet set = db.query(sql, &quot;direction=&#39;OUT&#39;&quot;, &quot;customHeuristicFormula=&#39;EUCLIDEAN&#39;&quot;)) {\r\n             // some code...\r\n        }","title":"Using the &#39;astar&#39; function of OrientDB: an SQL call in Java","body":"<p>Turns out the error had nothing to do with the bracket itself. Passing the <code>&quot;direction='OUT'&quot;</code> and <code>&quot;customHeuristicFormula='EUCLIDEAN'&quot;</code> parameters in as part of the string was the problem. The below block did the trick.</p>\n<pre><code>    String sql = &quot;SELECT ASTAR(&quot; + getNode(from).getProperty(&quot;@rid&quot;) + &quot;, &quot; + getNode(to).getProperty(&quot;@rid&quot;) + &quot;, time) FROM V&quot;;\n    try(OResultSet set = db.query(sql, &quot;direction='OUT'&quot;, &quot;customHeuristicFormula='EUCLIDEAN'&quot;)) {\n         // some code...\n    }\n</code></pre>\n"}],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70268219,"answer_count":1,"score":0,"last_activity_date":1638919980,"creation_date":1638852167,"question_id":70255040,"body_markdown":"I&#39;m using OrientDB to represent large city maps and calculate the shortest traversal times between a pair of nodes when the need arises. I have the following method: \r\n\r\n    public void getShortestPath(int from, int to){\r\n        String query = &quot;SELECT astar(?, ?, time, direction=OUT, customHeuristicFormula=EUCLIDEAN) FROM V&quot;;\r\n        OResultSet set = db.query(query, getNode(from).getProperty(&quot;@rid&quot;), getNode(to).getProperty(&quot;@rid&quot;));\r\n    }\r\n\r\nThe `getNode(nodeID)` method returns the OVertex object present in the database, hence we can identify the `@rid`. Clearly, this method serves no purpose as is.\r\n\r\nMy issue comes when trying to call the `astar` query on the database (i.e. line two of the method). I&#39;m getting the following error: `OCommandSQLParsingException: Error parsing query` upon reaching the first `(` (i.e. error encountering the open bracket). Removing the brackets entirely simply resulted in the same error occurring on the `#` in front of the first `@rid` value. \r\n\r\nI can&#39;t seem to find any example of using this function in practice, and (at least I think) I&#39;m using the function call as suggested by [the documentation][1]. Look forward to hearing your thoughts. \r\n\r\nI&#39;m using the most recent version of OrientDB: 3.2.3\r\n\r\n  [1]: http://orientdb.com/docs/3.1.x/sql/SQL-Functions.html#astar","title":"Using the &#39;astar&#39; function of OrientDB: an SQL call in Java","body":"<p>I'm using OrientDB to represent large city maps and calculate the shortest traversal times between a pair of nodes when the need arises. I have the following method:</p>\n<pre><code>public void getShortestPath(int from, int to){\n    String query = &quot;SELECT astar(?, ?, time, direction=OUT, customHeuristicFormula=EUCLIDEAN) FROM V&quot;;\n    OResultSet set = db.query(query, getNode(from).getProperty(&quot;@rid&quot;), getNode(to).getProperty(&quot;@rid&quot;));\n}\n</code></pre>\n<p>The <code>getNode(nodeID)</code> method returns the OVertex object present in the database, hence we can identify the <code>@rid</code>. Clearly, this method serves no purpose as is.</p>\n<p>My issue comes when trying to call the <code>astar</code> query on the database (i.e. line two of the method). I'm getting the following error: <code>OCommandSQLParsingException: Error parsing query</code> upon reaching the first <code>(</code> (i.e. error encountering the open bracket). Removing the brackets entirely simply resulted in the same error occurring on the <code>#</code> in front of the first <code>@rid</code> value.</p>\n<p>I can't seem to find any example of using this function in practice, and (at least I think) I'm using the function call as suggested by <a href=\"http://orientdb.com/docs/3.1.x/sql/SQL-Functions.html#astar\" rel=\"nofollow noreferrer\">the documentation</a>. Look forward to hearing your thoughts.</p>\n<p>I'm using the most recent version of OrientDB: 3.2.3</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1543854545,"post_id":33192723,"comment_id":94058326,"body_markdown":"Your not swapping anything, because in your first loop you overwrite a[I] then use a[I] to assign to the element you copied to a[I], you need a temporary variable to store the contents of a[I] before the assignment then use the temporary variable to assign to a[I+1].","body":"Your not swapping anything, because in your first loop you overwrite a[I] then use a[I] to assign to the element you copied to a[I], you need a temporary variable to store the contents of a[I] before the assignment then use the temporary variable to assign to a[I+1]."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1638918788,"post_id":33192723,"comment_id":124215001,"body_markdown":"At first you write `if(len%2 ==0)`. Later you write `if (len%2 !=0)`. Why not only write `else` there?","body":"At first you write <code>if(len%2 ==0)</code>. Later you write <code>if (len%2 !=0)</code>. Why not only write <code>else</code> there?"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445124956,"creation_date":1445124956,"answer_id":33192735,"question_id":33192723,"body_markdown":"What you need to print is `Arrays.toString(a)`\r\n\r\nNow, you are just printing the Hashcode of your Array object","title":"Swapping adjacent numbers in arrays","body":"<p>What you need to print is <code>Arrays.toString(a)</code></p>\n\n<p>Now, you are just printing the Hashcode of your Array object</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445125653,"creation_date":1445125653,"answer_id":33192800,"question_id":33192723,"body_markdown":"First, your swap method could be simplified. Add both numbers together, and then subtract each from the sum (to get the other number). Something like,\r\n\r\n\tpublic static void swapPairs(int[] a) {\r\n\t\tfor (int i = 0; i &lt; a.length - 1; i += 2) {\r\n\t\t\tint c = a[i] + a[i + 1];\r\n\t\t\ta[i] = c - a[i];\r\n\t\t\ta[i + 1] = c - a[i + 1];\r\n\t\t}\r\n\t}\r\n\r\nThen you could use [`Arrays.toString(int[])`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-int:A-) to get a `String`. Like,\r\n\r\n\tpublic static void printArray(int[] a) {\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}\r\n\r\nI tested the above like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] t = { 1, 2, 3, 4 };\r\n\t\tprintArray(t);\r\n\t\tswapPairs(t);\r\n\t\tprintArray(t);\r\n\t}\r\n\r\nAnd I got\r\n\r\n    [1, 2, 3, 4]\r\n    [2, 1, 4, 3]\r\n\r\n","title":"Swapping adjacent numbers in arrays","body":"<p>First, your swap method could be simplified. Add both numbers together, and then subtract each from the sum (to get the other number). Something like,</p>\n\n<pre><code>public static void swapPairs(int[] a) {\n    for (int i = 0; i &lt; a.length - 1; i += 2) {\n        int c = a[i] + a[i + 1];\n        a[i] = c - a[i];\n        a[i + 1] = c - a[i + 1];\n    }\n}\n</code></pre>\n\n<p>Then you could use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-int:A-\" rel=\"nofollow\"><code>Arrays.toString(int[])</code></a> to get a <code>String</code>. Like,</p>\n\n<pre><code>public static void printArray(int[] a) {\n    System.out.println(Arrays.toString(a));\n}\n</code></pre>\n\n<p>I tested the above like</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] t = { 1, 2, 3, 4 };\n    printArray(t);\n    swapPairs(t);\n    printArray(t);\n}\n</code></pre>\n\n<p>And I got</p>\n\n<pre><code>[1, 2, 3, 4]\n[2, 1, 4, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6903944,"reputation":383,"user_id":5302568,"accept_rate":86,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445190784,"creation_date":1445190784,"answer_id":33201270,"question_id":33192723,"body_markdown":"After almost breaking my computer several times, here&#39;s the actual working code:\r\n\r\n    public static void swapPairs(int[] a){\r\n\t\tint len=a.length;\r\n\t\t\tif(len%2 ==0){\r\n\t\t\t\tfor(int i=0; i&lt;len; i=i+2){\r\n\t\t\t\t\tint c=a[i]+a[i+1];\r\n\t\t\t\t\ta[i]=c-a[i];\r\n\t\t\t\t\ta[i+1]=c-a[i+1];\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(len%2 !=0){\r\n\t\t\t\tfor(int j=0; j&lt;len-1; j=j+2){\r\n\t\t\t\t\tint c=a[j]+a[j+1];\r\n\t\t\t\t\ta[j]=c-a[j];\r\n\t\t\t\t\ta[j+1]=c-a[j+1];\r\n\t\t\t\t}\t\r\n\t\t\t\ta[len-1]=a[len-1];\r\n\t\t\t}\t\r\n\t}\r\n\tpublic static void printArray(int[] a){\r\n\t\tint len=a.length;\r\n\t\tfor(int i=0;i&lt;len;i++)\r\n\t\t\tSystem.out.print(a[i]+&quot; &quot;);\r\n\t}","title":"Swapping adjacent numbers in arrays","body":"<p>After almost breaking my computer several times, here's the actual working code:</p>\n\n<pre><code>public static void swapPairs(int[] a){\n    int len=a.length;\n        if(len%2 ==0){\n            for(int i=0; i&lt;len; i=i+2){\n                int c=a[i]+a[i+1];\n                a[i]=c-a[i];\n                a[i+1]=c-a[i+1];\n            }   \n        }\n        if(len%2 !=0){\n            for(int j=0; j&lt;len-1; j=j+2){\n                int c=a[j]+a[j+1];\n                a[j]=c-a[j];\n                a[j+1]=c-a[j+1];\n            }   \n            a[len-1]=a[len-1];\n        }   \n}\npublic static void printArray(int[] a){\n    int len=a.length;\n    for(int i=0;i&lt;len;i++)\n        System.out.print(a[i]+\" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219160,"reputation":1,"user_id":2716994,"display_name":"Debi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523036900,"creation_date":1523034480,"answer_id":49697855,"question_id":33192723,"body_markdown":"    public static void swapPairs(int[] arr){\r\n    \tint length = arr.length%2 == 0? arr.length : arr.length-1;\r\n    \r\n    \tfor(int i=0; i&lt;length; i=i+2) {\r\n    \t\tint temp = arr[i];\r\n    \t\tarr[i] =\t arr[i+1];\r\n    \t\tarr[i+1] = temp;\r\n    \t}\r\n    \t// print the array\r\n    \tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\tSystem.out.print(arr[i]+&quot; &quot;);\r\n    \t}\r\n    }","title":"Swapping adjacent numbers in arrays","body":"<pre><code>public static void swapPairs(int[] arr){\n    int length = arr.length%2 == 0? arr.length : arr.length-1;\n\n    for(int i=0; i&lt;length; i=i+2) {\n        int temp = arr[i];\n        arr[i] =     arr[i+1];\n        arr[i+1] = temp;\n    }\n    // print the array\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.print(arr[i]+\" \");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070471,"reputation":70,"user_id":10164086,"display_name":"Aditi Paliwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543853788,"creation_date":1543853788,"answer_id":53597673,"question_id":33192723,"body_markdown":"    final int[] number = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\t\tint temp;\r\n\t\tfor (int i = 0; i &lt; number.length; i = i + 2) {\r\n\t\t\tif (i &gt; number.length - 2) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttemp = number[i];\r\n\t\t\tnumber[i] = number[i + 1];\r\n\t\t\tnumber[i + 1] = temp;\r\n\t\t}\r\n\t\tfor (int j = 0; j &lt; number.length; j++) {\r\n\t\t\tSystem.out.print(number[j]);\r\n\t\t}","title":"Swapping adjacent numbers in arrays","body":"<pre><code>final int[] number = new int[] { 1, 2, 3, 4, 5, 6, 7 };\n    int temp;\n    for (int i = 0; i &lt; number.length; i = i + 2) {\n        if (i &gt; number.length - 2) {\n            break;\n        }\n        temp = number[i];\n        number[i] = number[i + 1];\n        number[i + 1] = temp;\n    }\n    for (int j = 0; j &lt; number.length; j++) {\n        System.out.print(number[j]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15346408,"reputation":1,"user_id":11071673,"display_name":"Sumit Sinha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1563004639,"creation_date":1563004639,"answer_id":57017250,"question_id":33192723,"body_markdown":"I think this should work,\r\n\r\n   \r\n\r\n\r\n    public static void swapAlternate(int[] input){\r\n     for(int i=0;i&lt;input.length - 1; i+=2){\r\n            int temp = input[i];\r\n            input[i] = input[i+1];\r\n            input[i+1] = temp;\r\n        }\r\n\t}","title":"Swapping adjacent numbers in arrays","body":"<p>I think this should work,</p>\n\n<pre><code>public static void swapAlternate(int[] input){\n for(int i=0;i&lt;input.length - 1; i+=2){\n        int temp = input[i];\n        input[i] = input[i+1];\n        input[i+1] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18204062,"reputation":1,"user_id":13247722,"display_name":"Himanshu Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618833089,"creation_date":1618833089,"answer_id":67161466,"question_id":33192723,"body_markdown":"import java.util.Scanner;\r\npublic class SwapEveryPair {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scn = new Scanner(System.in);\r\n        int n = scn.nextInt();\r\n        int[] arr = new int[n];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = scn.nextInt();\r\n\r\n        }\r\n        for (int i = 0; i &lt; (arr.length - 1); i += 2) {\r\n            int temp = arr[i];\r\n            arr[i] = arr[i + 1];\r\n            arr[i + 1] = temp;\r\n        }\r\n        for(int i=0; i&lt; arr.length; i++){\r\n            System.out.println(&quot; &quot; + arr[i]);\r\n        }\r\n    }\r\n    }``","title":"Swapping adjacent numbers in arrays","body":"<p>import java.util.Scanner;\npublic class SwapEveryPair {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scn = new Scanner(System.in);\n    int n = scn.nextInt();\n    int[] arr = new int[n];\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = scn.nextInt();\n\n    }\n    for (int i = 0; i &lt; (arr.length - 1); i += 2) {\n        int temp = arr[i];\n        arr[i] = arr[i + 1];\n        arr[i + 1] = temp;\n    }\n    for(int i=0; i&lt; arr.length; i++){\n        System.out.println(&quot; &quot; + arr[i]);\n    }\n}\n}``\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638919634,"creation_date":1638919634,"answer_id":70268180,"question_id":33192723,"body_markdown":"```\r\n\tpublic static void swapPairs(int[] a){\r\n\t    int len = a.length - a.length % 2; // if len is odd, remove 1\r\n        for(int i = 0; i &lt; len; i += 2) {\r\n        \tint temp = a[i];\r\n            a[i] = a[i + 1];\r\n            a[i + 1] = temp;\r\n        }\r\n    }\r\n\t\r\n\tpublic static void printArray(int[] a){\r\n\t    System.out.println(Arrays.toString(a));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] iArr1 = {10, 20, 30, 40, 50};\r\n\t\tint[] iArr2 = {10, 20, 30, 40, 50, 60};\r\n\t\tswapPairs(iArr1);\r\n\t\tswapPairs(iArr2);\r\n\t\tprintArray(iArr1); // [20, 10, 40, 30, 50]\r\n\t\tprintArray(iArr2); // [20, 10, 40, 30, 60, 50]\r\n\t}\r\n```","title":"Swapping adjacent numbers in arrays","body":"<pre><code>    public static void swapPairs(int[] a){\n        int len = a.length - a.length % 2; // if len is odd, remove 1\n        for(int i = 0; i &lt; len; i += 2) {\n            int temp = a[i];\n            a[i] = a[i + 1];\n            a[i + 1] = temp;\n        }\n    }\n    \n    public static void printArray(int[] a){\n        System.out.println(Arrays.toString(a));\n    }\n\n    public static void main(String[] args) {\n        int[] iArr1 = {10, 20, 30, 40, 50};\n        int[] iArr2 = {10, 20, 30, 40, 50, 60};\n        swapPairs(iArr1);\n        swapPairs(iArr2);\n        printArray(iArr1); // [20, 10, 40, 30, 50]\n        printArray(iArr2); // [20, 10, 40, 30, 60, 50]\n    }\n</code></pre>\n"}],"owner":{"account_id":6903944,"reputation":383,"user_id":5302568,"accept_rate":86,"display_name":"Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33201270,"answer_count":8,"score":2,"last_activity_date":1638919634,"creation_date":1445124831,"question_id":33192723,"body_markdown":"Here&#39;s the problem: Write a method called swapPairs that accepts an array of integers and swaps the elements at adjacent indexes.  That is, elements 0 and 1 are swapped, elements 2 and 3 are swapped, and so on.  If the array has an odd length, the final element should be left unmodified.  For example, the list {10,20,30,40,50} should become {20,10,40,30,50} after a call to your method. \r\n\r\nWrite method printArray that is passed an array and will print out each element.  \r\nUse this method to print the array modified by swapPairs.\r\n\r\nThis is my code:\r\n\r\n    public static void swapPairs(int[] a){\r\n\t\tint len=a.length;\r\n\t\t\tif(len%2 ==0){\r\n\t\t\t\tfor(int i=0; i&lt;len; i=i+2){\r\n\t\t\t\t\ta[i]=a[i+1];\r\n\t\t\t\t\ta[i+1]=a[i];\r\n\t\t\t\t\tint[] b={a[i]+a[i+1]};\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(len%2 !=0){\r\n\t\t\t\tfor(int j=0; j&lt;len; j=j+2){\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=a[j];\r\n\t\t\t\t\ta[len-1]=a[len-1];\r\n\t\t\t\t\tint[] b={a[j]+a[j+1]+a[len-1]};\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t}\r\n\tpublic static void printArray(int[] a){\r\n\t\tSystem.out.println(a);\r\n\t}\r\nHowever, what it returns is [I@2a139a55","title":"Swapping adjacent numbers in arrays","body":"<p>Here's the problem: Write a method called swapPairs that accepts an array of integers and swaps the elements at adjacent indexes.  That is, elements 0 and 1 are swapped, elements 2 and 3 are swapped, and so on.  If the array has an odd length, the final element should be left unmodified.  For example, the list {10,20,30,40,50} should become {20,10,40,30,50} after a call to your method. </p>\n\n<p>Write method printArray that is passed an array and will print out each element.<br>\nUse this method to print the array modified by swapPairs.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public static void swapPairs(int[] a){\n    int len=a.length;\n        if(len%2 ==0){\n            for(int i=0; i&lt;len; i=i+2){\n                a[i]=a[i+1];\n                a[i+1]=a[i];\n                int[] b={a[i]+a[i+1]};\n            }   \n        }\n        if(len%2 !=0){\n            for(int j=0; j&lt;len; j=j+2){\n                a[j]=a[j+1];\n                a[j+1]=a[j];\n                a[len-1]=a[len-1];\n                int[] b={a[j]+a[j+1]+a[len-1]};\n            }\n        }   \n}\npublic static void printArray(int[] a){\n    System.out.println(a);\n}\n</code></pre>\n\n<p>However, what it returns is [I@2a139a55</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":14286471,"reputation":141,"user_id":10319718,"display_name":"Vincent Lochen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1573061701,"creation_date":1573061701,"answer_id":58735679,"question_id":58734954,"body_markdown":"You can dot it using a specific Deserializer as follow for example with Mixin.\r\n\r\nAn example of the deserializer:\r\n    \r\n    class UnmodifiableSetDeserializer extends JsonDeserializer&lt;Set&gt; {\r\n\t\r\n    @Override\r\n\tpublic Set deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\tObjectMapper mapper = (ObjectMapper) jp.getCodec();\r\n\t\tJsonNode node = mapper.readTree(jp);\r\n\t\tSet&lt;Object&gt; resultSet = new HashSet&lt;Object&gt;();\r\n\t\tif (node != null) {\r\n\t\t\tif (node instanceof ArrayNode) {\r\n\t\t\t\tArrayNode arrayNode = (ArrayNode) node;\r\n\t\t\t\tIterator&lt;JsonNode&gt; nodeIterator = arrayNode.iterator();\r\n\t\t\t\twhile (nodeIterator.hasNext()) {\r\n\t\t\t\t\tJsonNode elementNode = nodeIterator.next();\r\n\t\t\t\t\tresultSet.add(mapper.readValue(elementNode.traverse(mapper), Object.class));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresultSet.add(mapper.readValue(node.traverse(mapper), Object.class));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Collections.unmodifiableSet(resultSet);\r\n\t}\r\n    }\r\n\r\nYou can find a complete example in the CoreJacksont2Module of Spring security [here](https://github.com/spring-projects/spring-security/tree/master/core/src/main/java/org/springframework/security/jackson2)","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p>You can dot it using a specific Deserializer as follow for example with Mixin.</p>\n\n<p>An example of the deserializer:</p>\n\n<pre><code>class UnmodifiableSetDeserializer extends JsonDeserializer&lt;Set&gt; {\n\n@Override\npublic Set deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n    ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n    JsonNode node = mapper.readTree(jp);\n    Set&lt;Object&gt; resultSet = new HashSet&lt;Object&gt;();\n    if (node != null) {\n        if (node instanceof ArrayNode) {\n            ArrayNode arrayNode = (ArrayNode) node;\n            Iterator&lt;JsonNode&gt; nodeIterator = arrayNode.iterator();\n            while (nodeIterator.hasNext()) {\n                JsonNode elementNode = nodeIterator.next();\n                resultSet.add(mapper.readValue(elementNode.traverse(mapper), Object.class));\n            }\n        } else {\n            resultSet.add(mapper.readValue(node.traverse(mapper), Object.class));\n        }\n    }\n    return Collections.unmodifiableSet(resultSet);\n}\n}\n</code></pre>\n\n<p>You can find a complete example in the CoreJacksont2Module of Spring security <a href=\"https://github.com/spring-projects/spring-security/tree/master/core/src/main/java/org/springframework/security/jackson2\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8192858,"reputation":1882,"user_id":6166627,"accept_rate":86,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638919612,"creation_date":1638919612,"answer_id":70268176,"question_id":58734954,"body_markdown":"`2.13.0` [fixes it][1] ([except `Set.of()` apparently?][2]):\r\n```java\r\npublic static class Sink {\r\n    private List&lt;Integer&gt; items;\r\n\r\n    public Sink setItems(final List&lt;Integer&gt; items) {\r\n        this.items = items;\r\n        return this;\r\n    }\r\n\r\n    public List&lt;Integer&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) throws Exception {\r\n    ObjectMapper mapper = JsonMapper.builder()\r\n            .findAndAddModules()\r\n            .activateDefaultTyping(LaissezFaireSubTypeValidator.instance, EVERYTHING, JsonTypeInfo.As.PROPERTY)\r\n            .build();\r\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of(1)));\r\n    System.out.println(content);\r\n    Sink result = mapper.readValue(content, Sink.class);\r\n}\r\n```\r\n\r\nOutput:\r\n```json\r\n{\r\n  &quot;@class&quot; : &quot;api.Sink&quot;,\r\n  &quot;items&quot; : [ &quot;java.util.ImmutableCollections$List12&quot;, [ ] ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/2900\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/2900#issuecomment-988333797","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p><code>2.13.0</code> <a href=\"https://github.com/FasterXML/jackson-databind/issues/2900\" rel=\"nofollow noreferrer\">fixes it</a> (<a href=\"https://github.com/FasterXML/jackson-databind/issues/2900#issuecomment-988333797\" rel=\"nofollow noreferrer\">except <code>Set.of()</code> apparently?</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Sink {\n    private List&lt;Integer&gt; items;\n\n    public Sink setItems(final List&lt;Integer&gt; items) {\n        this.items = items;\n        return this;\n    }\n\n    public List&lt;Integer&gt; getItems() {\n        return this.items;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    ObjectMapper mapper = JsonMapper.builder()\n            .findAndAddModules()\n            .activateDefaultTyping(LaissezFaireSubTypeValidator.instance, EVERYTHING, JsonTypeInfo.As.PROPERTY)\n            .build();\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of(1)));\n    System.out.println(content);\n    Sink result = mapper.readValue(content, Sink.class);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;@class&quot; : &quot;api.Sink&quot;,\n  &quot;items&quot; : [ &quot;java.util.ImmutableCollections$List12&quot;, [ ] ]\n}\n</code></pre>\n"}],"owner":{"account_id":1646329,"reputation":7093,"user_id":1517816,"accept_rate":57,"display_name":"poussma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58735679,"answer_count":2,"score":3,"last_activity_date":1638919612,"creation_date":1573058971,"question_id":58734954,"body_markdown":"I am wondering how to configure Jackson to deserialize a serialized list of objects that were contained in &#39;special&#39; collections (immutable, or the result of collected stream).\r\n\r\nHere is my problem, for certain reasons, I need to declare de typing in jackson because I need to be able to deserialize everything and get back all my types.\r\n\r\n```java\r\n\r\npublic static class Sink {\r\n    private List items;\r\n\r\n    public Sink setItems(final List items) {\r\n        this.items = items;\r\n        return this;\r\n    }\r\n\r\n    public List getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) throws Exception {\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.registerModule(new Jdk8Module());\r\n    mapper.registerModule(new AfterburnerModule());\r\n    mapper.enableDefaultTyping(NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n\r\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of()));\r\n    System.out.println(content);\r\n    Sink result = mapper.readValue(content, Sink.class);\r\n}\r\n```\r\nBut this has a nasty side effect with collections.\r\nThe `content` value is: \r\n\r\n```json\r\n{\r\n\t&quot;@class&quot;: &quot;api.Sink&quot;,\r\n\t&quot;items&quot;: [&quot;java.util.ImmutableCollections$ListN&quot;, []]\r\n}\r\n```\r\n\r\nAnd unfortunately, the `java.util.ImmutableCollections.*` do not have default constructors (which make sense).\r\n\r\n`Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.util.ImmutableCollections$ListN` (no Creators, like default construct, exist): no default no-arguments constructor found`\r\n\r\nI am wondering how to force jackson to deserialize those kind of object as `ArrayList` or whatever type of list.\r\n\r\nI&#39;d like to configure it to deserialize all sub types of list as `ArrayList` / `LinkedList` or when serializing to change the type of a collection\r\n\r\n(java 12 / jackson 2.9.7)","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p>I am wondering how to configure Jackson to deserialize a serialized list of objects that were contained in 'special' collections (immutable, or the result of collected stream).</p>\n\n<p>Here is my problem, for certain reasons, I need to declare de typing in jackson because I need to be able to deserialize everything and get back all my types.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static class Sink {\n    private List items;\n\n    public Sink setItems(final List items) {\n        this.items = items;\n        return this;\n    }\n\n    public List getItems() {\n        return this.items;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.registerModule(new Jdk8Module());\n    mapper.registerModule(new AfterburnerModule());\n    mapper.enableDefaultTyping(NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of()));\n    System.out.println(content);\n    Sink result = mapper.readValue(content, Sink.class);\n}\n</code></pre>\n\n<p>But this has a nasty side effect with collections.\nThe <code>content</code> value is: </p>\n\n<pre><code>{\n    \"@class\": \"api.Sink\",\n    \"items\": [\"java.util.ImmutableCollections$ListN\", []]\n}\n</code></pre>\n\n<p>And unfortunately, the <code>java.util.ImmutableCollections.*</code> do not have default constructors (which make sense).</p>\n\n<p><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of</code>java.util.ImmutableCollections$ListN<code>(no Creators, like default construct, exist): no default no-arguments constructor found</code></p>\n\n<p>I am wondering how to force jackson to deserialize those kind of object as <code>ArrayList</code> or whatever type of list.</p>\n\n<p>I'd like to configure it to deserialize all sub types of list as <code>ArrayList</code> / <code>LinkedList</code> or when serializing to change the type of a collection</p>\n\n<p>(java 12 / jackson 2.9.7)</p>\n"},{"tags":["java","selenium-webdriver","testng","assertion"],"owner":{"account_id":23580076,"reputation":11,"user_id":17619217,"display_name":"raicham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638919510,"creation_date":1638912626,"question_id":70267184,"body_markdown":"The Assertion results are not so good. They are getting appended for each assertions followed after the 1st Assertion statement. \r\nThe sa.assertAll should fail the test method as ONLY Test2 &amp; Test5 assertions should pass and rest all should fail with correct print statements in console. But with my code, the statements are getting appended.\r\n\r\nAssertionDemo Image:  \r\n[![AssertionDemo Image][1]][1]\r\n\r\nPrint Statements in Console:  \r\n[![Print Statements in Console][2]][2]\r\n    \r\n    \r\n     package com.roughwork;\r\n    \r\n    import org.testng.asserts.SoftAssert;\r\n    \r\n    public class AssertionDemo {\r\n    \t\r\n    \t\r\n    \tSoftAssert sa;\r\n    \t\r\n    \tpublic AssertionDemo(SoftAssert sa) {\r\n    \t\tthis.sa = sa;\r\n    \t}\r\n    \t\r\n    \tpublic void assertTrue(boolean condition, String msg) {\r\n    \t\t//sa = new SoftAssert();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tsa.assertTrue(condition);\r\n    \t\t\tsa.assertAll();\r\n    \t\t\tSystem.out.println(msg);\r\n    \t\t\t\r\n    \t\t}catch(AssertionError ae) {\r\n    \t\t\tSystem.out.println(&quot;Assertion Failed: &quot;+msg+ &quot;\\n&quot; +ae.getLocalizedMessage());\r\n    \t\t\t\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \tpublic void assertEquals(Object actual, Object expected, String msg) {\r\n    \t\t//sa = new SoftAssert();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tsa.assertEquals(actual, expected);\r\n    \t\t\tsa.assertAll();\r\n    \t\t\tSystem.out.println(msg);\t\r\n    \t\t}catch(AssertionError ae) {\r\n    \t\t\tSystem.out.println(&quot;Assertion Failed: &quot;+msg+ &quot;\\n&quot; +ae.getLocalizedMessage());\t\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \tpublic SoftAssert getTheAssertObj() {\r\n    \t\treturn sa;\r\n    \t}\r\n    \r\n    }\r\n    \r\n--------------------   \r\n    \r\n    AssertionExample.java \r\n    \r\n    package com.roughwork;\r\n    \r\n    import org.testng.annotations.Test;\r\n    import org.testng.asserts.SoftAssert;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.AfterClass;\r\n    \r\n    public class AssertionExample {\r\n    \t\r\n    \tAssertionDemo ademo;\r\n    \t\r\n    \t\r\n    \t@BeforeClass\r\n    \tpublic void beforeClass() {\r\n    \t\tSystem.out.println(&quot;Before Class Method is executed&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void f() {\r\n    \t\tSoftAssert sa = new SoftAssert();\r\n    \t\tademo = new AssertionDemo(sa);\r\n    \t\t\r\n    \t\tademo.assertEquals(true, false, &quot;Test1&quot;);\r\n    \t\tademo.assertEquals(false, false, &quot;Test2&quot;);\r\n    \t\tademo.assertTrue(&#39;a&#39;==&#39;b&#39;, &quot;Test3&quot;);\r\n    \t\tademo.assertEquals(5, 6, &quot;Test4&quot;);\r\n    \t\tademo.assertEquals(&quot;Mayank&quot;, &quot;Mayank&quot;, &quot;Test5&quot;);\r\n    \t\t\r\n    \t\tademo.getTheAssertObj().assertAll();\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@AfterClass\r\n    \tpublic void afterClass() {\r\n    \t\tSystem.out.println(&quot;After Class Method is executed&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/3QjFZ.png\r\n  [2]: https://i.stack.imgur.com/1HmID.png","title":"SoftAssert assertion Statements getting appended and few assertions are giving wrong results","body":"<p>The Assertion results are not so good. They are getting appended for each assertions followed after the 1st Assertion statement.\nThe sa.assertAll should fail the test method as ONLY Test2 &amp; Test5 assertions should pass and rest all should fail with correct print statements in console. But with my code, the statements are getting appended.</p>\n<p>AssertionDemo Image:<br />\n<a href=\"https://i.stack.imgur.com/3QjFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3QjFZ.png\" alt=\"AssertionDemo Image\" /></a></p>\n<p>Print Statements in Console:<br />\n<a href=\"https://i.stack.imgur.com/1HmID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HmID.png\" alt=\"Print Statements in Console\" /></a></p>\n<pre><code> package com.roughwork;\n\nimport org.testng.asserts.SoftAssert;\n\npublic class AssertionDemo {\n    \n    \n    SoftAssert sa;\n    \n    public AssertionDemo(SoftAssert sa) {\n        this.sa = sa;\n    }\n    \n    public void assertTrue(boolean condition, String msg) {\n        //sa = new SoftAssert();\n        \n        try {\n            sa.assertTrue(condition);\n            sa.assertAll();\n            System.out.println(msg);\n            \n        }catch(AssertionError ae) {\n            System.out.println(&quot;Assertion Failed: &quot;+msg+ &quot;\\n&quot; +ae.getLocalizedMessage());\n            \n        }   \n    }\n    \n    public void assertEquals(Object actual, Object expected, String msg) {\n        //sa = new SoftAssert();\n        \n        try {\n            sa.assertEquals(actual, expected);\n            sa.assertAll();\n            System.out.println(msg);    \n        }catch(AssertionError ae) {\n            System.out.println(&quot;Assertion Failed: &quot;+msg+ &quot;\\n&quot; +ae.getLocalizedMessage());   \n        }   \n    }\n    \n    public SoftAssert getTheAssertObj() {\n        return sa;\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>AssertionExample.java \n\npackage com.roughwork;\n\nimport org.testng.annotations.Test;\nimport org.testng.asserts.SoftAssert;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.AfterClass;\n\npublic class AssertionExample {\n    \n    AssertionDemo ademo;\n    \n    \n    @BeforeClass\n    public void beforeClass() {\n        System.out.println(&quot;Before Class Method is executed&quot;);\n    }\n\n    @Test\n    public void f() {\n        SoftAssert sa = new SoftAssert();\n        ademo = new AssertionDemo(sa);\n        \n        ademo.assertEquals(true, false, &quot;Test1&quot;);\n        ademo.assertEquals(false, false, &quot;Test2&quot;);\n        ademo.assertTrue('a'=='b', &quot;Test3&quot;);\n        ademo.assertEquals(5, 6, &quot;Test4&quot;);\n        ademo.assertEquals(&quot;Mayank&quot;, &quot;Mayank&quot;, &quot;Test5&quot;);\n        \n        ademo.getTheAssertObj().assertAll();\n        \n    }\n\n    @AfterClass\n    public void afterClass() {\n        System.out.println(&quot;After Class Method is executed&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638919069,"creation_date":1638919069,"answer_id":70268116,"question_id":70268049,"body_markdown":"I&#39;m pretty sure that instead of nesting streaming of both lists you should just group the second one by first letter and filter values by testing whether the first letter is in the first list\r\n\r\n    final Map&lt;String, List&lt;String&gt;&gt; result = secondList.stream()\r\n        .filter(s -&gt; firstList.contains(s.substring(0, 1)))\r\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 1)));\r\n\r\nYou can also extract `s.substring(0, 1)` to some\r\n\r\n    String firstLetter(String string)\r\n\r\nmethod to make code a little bit more readable","title":"Elements in second list matched with elements in first list","body":"<p>I'm pretty sure that instead of nesting streaming of both lists you should just group the second one by first letter and filter values by testing whether the first letter is in the first list</p>\n<pre><code>final Map&lt;String, List&lt;String&gt;&gt; result = secondList.stream()\n    .filter(s -&gt; firstList.contains(s.substring(0, 1)))\n    .collect(Collectors.groupingBy(s -&gt; s.substring(0, 1)));\n</code></pre>\n<p>You can also extract <code>s.substring(0, 1)</code> to some</p>\n<pre><code>String firstLetter(String string)\n</code></pre>\n<p>method to make code a little bit more readable</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638919197,"creation_date":1638919079,"answer_id":70268117,"question_id":70268049,"body_markdown":"Just move that filter to a `toMap()` collector:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; grouped = firstList.stream()\r\n            .collect(Collectors.toMap(first -&gt; first, first -&gt; secondList.stream()\r\n                    .filter(second -&gt; second.startsWith(first))\r\n                    .collect(Collectors.toList())));\r\n\r\nIf you want only keys that have matching names, you can\r\n\r\n    .filter(first -&gt; secondList.stream().anyMatch(second -&gt; second.startsWith(first)))","title":"Elements in second list matched with elements in first list","body":"<p>Just move that filter to a <code>toMap()</code> collector:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; grouped = firstList.stream()\n        .collect(Collectors.toMap(first -&gt; first, first -&gt; secondList.stream()\n                .filter(second -&gt; second.startsWith(first))\n                .collect(Collectors.toList())));\n</code></pre>\n<p>If you want only keys that have matching names, you can</p>\n<pre><code>.filter(first -&gt; secondList.stream().anyMatch(second -&gt; second.startsWith(first)))\n</code></pre>\n"}],"owner":{"account_id":19170500,"reputation":165,"user_id":14004337,"display_name":"Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70268116,"answer_count":2,"score":1,"last_activity_date":1638919197,"creation_date":1638918508,"question_id":70268049,"body_markdown":" I have 2 lists as the following\r\n\r\n    List&lt;String&gt; firstList = Arrays.asList(&quot;E&quot;,&quot;B&quot;,&quot;A&quot;,&quot;C&quot;);\r\n    List&lt;String&gt; secondList = Arrays.asList(&quot;Alex&quot;,&quot;Bob&quot;,&quot;Chris&quot;,&quot;Antony&quot;,&quot;Ram&quot;,&quot;Shyam&quot;);\r\n\r\nI want the output in the form of a map having values in the second list mapped to elements in the first list based on first character.\r\n\r\nFor example I want the output as \r\n\r\n    Map&lt;String,List&lt;String&gt;&gt; outputMap;\r\n\r\nand it has the following content\r\n\r\n    key -&gt; B, value -&gt; a list having single element Bob\r\n    key -&gt; A, value -&gt; a list having elements Alex and Antony\r\n    key -&gt; C, value -&gt; a list having single element Chris\r\n\r\nI did something like this\r\n\r\n        firstList.stream()\r\n        .map(first-&gt; \r\n    \t          secondList.stream().filter(second-&gt; second.startsWith(first))\r\n    \t         .collect(Collectors.toList())\r\n        );\r\n\r\nand can see the elements of the second list group by first character. However I am unsure as to how to store the same in a map .\r\nPlease note that my question is more from the perspective of using the streaming API to get the job done.\r\n","title":"Elements in second list matched with elements in first list","body":"<p>I have 2 lists as the following</p>\n<pre><code>List&lt;String&gt; firstList = Arrays.asList(&quot;E&quot;,&quot;B&quot;,&quot;A&quot;,&quot;C&quot;);\nList&lt;String&gt; secondList = Arrays.asList(&quot;Alex&quot;,&quot;Bob&quot;,&quot;Chris&quot;,&quot;Antony&quot;,&quot;Ram&quot;,&quot;Shyam&quot;);\n</code></pre>\n<p>I want the output in the form of a map having values in the second list mapped to elements in the first list based on first character.</p>\n<p>For example I want the output as</p>\n<pre><code>Map&lt;String,List&lt;String&gt;&gt; outputMap;\n</code></pre>\n<p>and it has the following content</p>\n<pre><code>key -&gt; B, value -&gt; a list having single element Bob\nkey -&gt; A, value -&gt; a list having elements Alex and Antony\nkey -&gt; C, value -&gt; a list having single element Chris\n</code></pre>\n<p>I did something like this</p>\n<pre><code>    firstList.stream()\n    .map(first-&gt; \n              secondList.stream().filter(second-&gt; second.startsWith(first))\n             .collect(Collectors.toList())\n    );\n</code></pre>\n<p>and can see the elements of the second list group by first character. However I am unsure as to how to store the same in a map .\nPlease note that my question is more from the perspective of using the streaming API to get the job done.</p>\n"},{"tags":["java","mongodb","pojo"],"comments":[{"owner":{"account_id":6665836,"reputation":396,"user_id":5143500,"accept_rate":60,"display_name":"Seeschorle"},"score":0,"creation_date":1593074959,"post_id":59881360,"comment_id":110653953,"body_markdown":"You just new your ChildCodec and use it in ParentCodec. That&#39;s how it works for me.","body":"You just new your ChildCodec and use it in ParentCodec. That&#39;s how it works for me."}],"answers":[{"tags":[],"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638918749,"creation_date":1638918749,"answer_id":70268078,"question_id":59881360,"body_markdown":"Pass the CodecRegistry to your codecs. Then in the codecs, get the DocumentCodec from the registry (using `registry.get(Document.class)`) instead of calling `new`. \r\n\r\nThe DocumentCodec will then be aware of all of the other Codecs in the registry.\r\n\r\n#### ParentCodec\r\n\r\n    public class ParentCodec implements Codec&lt;Parent&gt; {\r\n        private final CodecRegistry registry;\r\n        private final Codec&lt;Document&gt; documentCodec;\r\n\r\n        /**\r\n         * Registry constructor.\r\n         *\r\n         * @param registry The CodecRegistry to use.\r\n         */\r\n        public ParentCodec(CodecRegistry registry) {\r\n            this.registry = registry;\r\n            this.documentCodec = this.registry.get(Document.class);\r\n        }\r\n        // ...\r\n    }\r\n\r\n#### Main\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // ...\r\n            CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\r\n            codecRegistry = CodecRegistries.fromRegistries(\r\n                CodecRegistries.fromCodecs(new ParentCodec(codecRegistry), new ChildCodec(codecRegistry)),\r\n                codecRegistry\r\n            );\r\n            // ...\r\n        }\r\n    }\r\n","title":"MongoDB POJO custom Codecs for nested Classes","body":"<p>Pass the CodecRegistry to your codecs. Then in the codecs, get the DocumentCodec from the registry (using <code>registry.get(Document.class)</code>) instead of calling <code>new</code>.</p>\n<p>The DocumentCodec will then be aware of all of the other Codecs in the registry.</p>\n<h4>ParentCodec</h4>\n<pre><code>public class ParentCodec implements Codec&lt;Parent&gt; {\n    private final CodecRegistry registry;\n    private final Codec&lt;Document&gt; documentCodec;\n\n    /**\n     * Registry constructor.\n     *\n     * @param registry The CodecRegistry to use.\n     */\n    public ParentCodec(CodecRegistry registry) {\n        this.registry = registry;\n        this.documentCodec = this.registry.get(Document.class);\n    }\n    // ...\n}\n</code></pre>\n<h4>Main</h4>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // ...\n        CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\n        codecRegistry = CodecRegistries.fromRegistries(\n            CodecRegistries.fromCodecs(new ParentCodec(codecRegistry), new ChildCodec(codecRegistry)),\n            codecRegistry\n        );\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13493285,"reputation":67,"user_id":9734835,"display_name":"KeTr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70268078,"answer_count":1,"score":2,"last_activity_date":1638918749,"creation_date":1579791397,"question_id":59881360,"body_markdown":"mongodb-driver-sync version 3.8.2\r\n\r\nI&#39;m trying to write a Class `Parent` into the MongoDB database. \r\n\r\n```\r\nclass Parent {\r\n\r\n  private Child child;\r\n\r\n}\r\n\r\nclass Child {\r\n\r\n  private int a;\r\n  private String b;\r\n\r\n}\r\n```\r\n\r\nI want to have custom codecs for both Classes and register them in a central location:\r\n\r\n```\r\n\r\n ConnectionString connString = new ConnectionString(connectionString);\r\n\r\n MongoClientSettings settings = MongoClientSettings.builder()\r\n        .applyConnectionString(connString)\r\n        .codecRegistry(\r\n            CodecRegistries.fromRegistries(\r\n                MongoClientSettings.getDefaultCodecRegistry(),\r\n                CodecRegistries.fromCodecs(\r\n                        ////////////////////\r\n                        //// HERE///////////\r\n                        ////////////////////\r\n                     new ParentCodec(), new ChildCodec()\r\n                ))\r\n        ).build();\r\n    \r\nMongoClient client = MongoClients.create(settings);\r\n........\r\n```\r\n\r\nHowever I&#39;m unable to find out how to implement `ParentCodec` correctly. Any examples I find are newing a DocumentCodec inside their custom Codec, which they then use to encode the document they generate, like so:\r\n\r\n```\r\npublic class ParentCodec implements Codec&lt;Parent&gt; {\r\n\r\n  private Codec&lt;Document&gt; documentCodec = new DocumentCodec();\r\n\r\n  @Override\r\n  public void encode(BsonWriter bsonWriter,\r\n                     Parent parent,\r\n                     EncoderContext encoderContext)\r\n  {\r\n    Document doc = new Document();\r\n\r\n    doc.put(&quot;child&quot;, parent.getChild());\r\n\r\n    documentCodec.encode(bsonWriter, doc, encoderContext);\r\n  }\r\n}\r\n```\r\n\r\nThis fails, because the newed DocumentCodec only knows the codecs in the DefaultCodecRegistry: \r\n\r\n```\r\norg.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class package.Child.\r\n\tat org.bson.codecs.configuration.CodecCache.getOrThrow(CodecCache.java:46)\r\n\tat org.bson.codecs.configuration.ProvidersCodecRegistry.get(ProvidersCodecRegistry.java:63)\r\n\tat org.bson.codecs.configuration.ProvidersCodecRegistry.get(ProvidersCodecRegistry.java:37)\r\n\tat org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:184)\r\n\tat org.bson.codecs.DocumentCodec.writeIterable(DocumentCodec.java:207)\r\n\tat org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:180)\r\n\tat org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:199)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\r\n```\r\n\r\nIs there any way around this? I mean, I could obviously do something like this:\r\n\r\n```\r\npublic class ParentCodec implements Codec&lt;Parent&gt; {\r\n\r\n  private Codec&lt;Document&gt; documentCodec = new DocumentCodec(\r\n      CodecRegistries.fromRegistries(\r\n          MongoClientSettings.getDefaultCodecRegistry(),\r\n          CodecRegistries.fromCodecs(\r\n              new ChildCodec()\r\n          )));\r\n```\r\n\r\nBut this is ugly and I lose out on being able to register all my codecs in one central location. Anything else, that I missed?\r\n\r\n\r\n\r\n","title":"MongoDB POJO custom Codecs for nested Classes","body":"<p>mongodb-driver-sync version 3.8.2</p>\n\n<p>I'm trying to write a Class <code>Parent</code> into the MongoDB database. </p>\n\n<pre><code>class Parent {\n\n  private Child child;\n\n}\n\nclass Child {\n\n  private int a;\n  private String b;\n\n}\n</code></pre>\n\n<p>I want to have custom codecs for both Classes and register them in a central location:</p>\n\n<pre><code>\n ConnectionString connString = new ConnectionString(connectionString);\n\n MongoClientSettings settings = MongoClientSettings.builder()\n        .applyConnectionString(connString)\n        .codecRegistry(\n            CodecRegistries.fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                CodecRegistries.fromCodecs(\n                        ////////////////////\n                        //// HERE///////////\n                        ////////////////////\n                     new ParentCodec(), new ChildCodec()\n                ))\n        ).build();\n\nMongoClient client = MongoClients.create(settings);\n........\n</code></pre>\n\n<p>However I'm unable to find out how to implement <code>ParentCodec</code> correctly. Any examples I find are newing a DocumentCodec inside their custom Codec, which they then use to encode the document they generate, like so:</p>\n\n<pre><code>public class ParentCodec implements Codec&lt;Parent&gt; {\n\n  private Codec&lt;Document&gt; documentCodec = new DocumentCodec();\n\n  @Override\n  public void encode(BsonWriter bsonWriter,\n                     Parent parent,\n                     EncoderContext encoderContext)\n  {\n    Document doc = new Document();\n\n    doc.put(\"child\", parent.getChild());\n\n    documentCodec.encode(bsonWriter, doc, encoderContext);\n  }\n}\n</code></pre>\n\n<p>This fails, because the newed DocumentCodec only knows the codecs in the DefaultCodecRegistry: </p>\n\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class package.Child.\n    at org.bson.codecs.configuration.CodecCache.getOrThrow(CodecCache.java:46)\n    at org.bson.codecs.configuration.ProvidersCodecRegistry.get(ProvidersCodecRegistry.java:63)\n    at org.bson.codecs.configuration.ProvidersCodecRegistry.get(ProvidersCodecRegistry.java:37)\n    at org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:184)\n    at org.bson.codecs.DocumentCodec.writeIterable(DocumentCodec.java:207)\n    at org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:180)\n    at org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:199)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\n</code></pre>\n\n<p>Is there any way around this? I mean, I could obviously do something like this:</p>\n\n<pre><code>public class ParentCodec implements Codec&lt;Parent&gt; {\n\n  private Codec&lt;Document&gt; documentCodec = new DocumentCodec(\n      CodecRegistries.fromRegistries(\n          MongoClientSettings.getDefaultCodecRegistry(),\n          CodecRegistries.fromCodecs(\n              new ChildCodec()\n          )));\n</code></pre>\n\n<p>But this is ugly and I lose out on being able to register all my codecs in one central location. Anything else, that I missed?</p>\n"},{"tags":["java","magic-square"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638918284,"creation_date":1638916827,"answer_id":70267808,"question_id":70267623,"body_markdown":"Trying with random numbers to coincidentally find a solution is deadly slow.\r\n\r\nIf you have the numbers 1 to 9, its entire sum 1+2+3+...+8+9 is 9*(1+9)/2 = 45.\r\nAs you have 3 rows and 3 colums, a row and column must sum upto 45/3 = 15.\r\n\r\nNow that should restrict the number of possibilities.\r\n\r\nSo you must build in some intelligence in the code. Avoid random numbers as they do not even guarantee you&#39;ll find a solution in hundred years.\r\n\r\nIf you already treated recursion, that would be the easiest way to try all possibly valid combinations.\r\n\r\nIf you already treated Set, a BitSet maybe might be useful for a row, column or diagonal.\r\n\r\nIf you find it hard to code walking through all possibilities, you might hold the 2 dimensional matrix in a 1 dimensional array `int[N*N]`, and have N (rows) + N (columns) + 2 (diagonals) arrays of N indices.\r\n\r\nAnd of course I will not spoil your fun and satisfaction finding a smart solution.\r\n\r\nWork it out on paper first.","title":"Is there something wrong with my Magic Square Code?","body":"<p>Trying with random numbers to coincidentally find a solution is deadly slow.</p>\n<p>If you have the numbers 1 to 9, its entire sum 1+2+3+...+8+9 is 9*(1+9)/2 = 45.\nAs you have 3 rows and 3 colums, a row and column must sum upto 45/3 = 15.</p>\n<p>Now that should restrict the number of possibilities.</p>\n<p>So you must build in some intelligence in the code. Avoid random numbers as they do not even guarantee you'll find a solution in hundred years.</p>\n<p>If you already treated recursion, that would be the easiest way to try all possibly valid combinations.</p>\n<p>If you already treated Set, a BitSet maybe might be useful for a row, column or diagonal.</p>\n<p>If you find it hard to code walking through all possibilities, you might hold the 2 dimensional matrix in a 1 dimensional array <code>int[N*N]</code>, and have N (rows) + N (columns) + 2 (diagonals) arrays of N indices.</p>\n<p>And of course I will not spoil your fun and satisfaction finding a smart solution.</p>\n<p>Work it out on paper first.</p>\n"}],"owner":{"account_id":22915427,"reputation":1,"user_id":17052093,"display_name":"PG915"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638918284,"creation_date":1638915538,"question_id":70267623,"body_markdown":"A brief explanation: With the code below it will make a randomly generated Square and some code below would make sure that it was a Magic Square, in which the sum of the elements in each row, column, and the two diagonals are the same value. \r\nMy teacher said at maximum it should take three minutes to generate a magic square. So all I ask is there anything that can be done to improve or fix this code, please?\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            int size = 9;\r\n            int N = 3;\r\n            boolean result = true;\r\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(size);\r\n            int[][] mat = new int[N][N];\r\n\r\n            while (result) {    \r\n                for (int i = 1; i &lt;= size; i++) {\r\n                    list.add(i);\r\n                }\r\n          \r\n                Random rand = new Random();\r\n\r\n                for (int i = 0; i &lt; N; i++) {\r\n                    for (int j = 0; j &lt; N; j++) {\r\n                        int index = rand.nextInt(list.size());\r\n                        System.out.print(list.remove(index)+&quot; &quot;);\r\n                    }\r\n\r\n                    System.out.println();\r\n                }\r\n          \r\n                System.out.println();\r\n                // Checking process  \r\n                // sumd1 and sumd2 are the sum of the two diagonals\r\n                int sumd1 = 0, sumd2 = 0;\r\n\r\n                for (int i = 0; i &lt; N; i++) {\r\n                    // (i, i) is the diagonal from top-left -&gt; bottom-right\r\n                    // (i, N - i - 1) is the diagonal from top-right -&gt; bottom-left\r\n                    sumd1 += mat[i][i];\r\n                    sumd2 += mat[i][N - 1 - i];\r\n                }\r\n\r\n                // if the two diagonal sums are unequal then it is not a magic square\r\n                if (sumd1 != sumd2)\r\n                    result = false;\r\n     \r\n                // calculating sums of Rows and columns and checking if they are equal to each other,as well as equal to diagonal sum or not\r\n                for (int i = 0; i &lt; N; i++) {\r\n                    int rowSum = 0, colSum = 0;\r\n                \r\n                    for (int j = 0; j &lt; N; j++) {\r\n                        rowSum += mat[i][j];\r\n                        colSum += mat[j][i];\r\n                    }\r\n\r\n                    if (rowSum != colSum || colSum != sumd1)\r\n                        result=false;\r\n                }\r\n\r\n                result = true; \r\n            }\r\n        }\r\n    }","title":"Is there something wrong with my Magic Square Code?","body":"<p>A brief explanation: With the code below it will make a randomly generated Square and some code below would make sure that it was a Magic Square, in which the sum of the elements in each row, column, and the two diagonals are the same value.\nMy teacher said at maximum it should take three minutes to generate a magic square. So all I ask is there anything that can be done to improve or fix this code, please?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\nclass Main {\n    public static void main(String[] args) {\n        int size = 9;\n        int N = 3;\n        boolean result = true;\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(size);\n        int[][] mat = new int[N][N];\n\n        while (result) {    \n            for (int i = 1; i &lt;= size; i++) {\n                list.add(i);\n            }\n      \n            Random rand = new Random();\n\n            for (int i = 0; i &lt; N; i++) {\n                for (int j = 0; j &lt; N; j++) {\n                    int index = rand.nextInt(list.size());\n                    System.out.print(list.remove(index)+&quot; &quot;);\n                }\n\n                System.out.println();\n            }\n      \n            System.out.println();\n            // Checking process  \n            // sumd1 and sumd2 are the sum of the two diagonals\n            int sumd1 = 0, sumd2 = 0;\n\n            for (int i = 0; i &lt; N; i++) {\n                // (i, i) is the diagonal from top-left -&gt; bottom-right\n                // (i, N - i - 1) is the diagonal from top-right -&gt; bottom-left\n                sumd1 += mat[i][i];\n                sumd2 += mat[i][N - 1 - i];\n            }\n\n            // if the two diagonal sums are unequal then it is not a magic square\n            if (sumd1 != sumd2)\n                result = false;\n \n            // calculating sums of Rows and columns and checking if they are equal to each other,as well as equal to diagonal sum or not\n            for (int i = 0; i &lt; N; i++) {\n                int rowSum = 0, colSum = 0;\n            \n                for (int j = 0; j &lt; N; j++) {\n                    rowSum += mat[i][j];\n                    colSum += mat[j][i];\n                }\n\n                if (rowSum != colSum || colSum != sumd1)\n                    result=false;\n            }\n\n            result = true; \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":244375,"reputation":4195,"user_id":517134,"accept_rate":100,"display_name":"Yusuf K."},"score":0,"creation_date":1459249342,"post_id":36282248,"comment_id":60190740,"body_markdown":"İt is not clear what your actual and expected result is?","body":"İt is not clear what your actual and expected result is?"},{"owner":{"account_id":2273228,"reputation":143,"user_id":2000129,"accept_rate":25,"display_name":"bin"},"score":0,"creation_date":1459249442,"post_id":36282248,"comment_id":60190805,"body_markdown":"@YusufK. I would like to map the first json to Class A and the second json to Class B.","body":"@YusufK. I would like to map the first json to Class A and the second json to Class B."},{"owner":{"account_id":244375,"reputation":4195,"user_id":517134,"accept_rate":100,"display_name":"Yusuf K."},"score":0,"creation_date":1459252957,"post_id":36282248,"comment_id":60193203,"body_markdown":"I think you want to create objects from each given json?","body":"I think you want to create objects from each given json?"},{"owner":{"account_id":2273228,"reputation":143,"user_id":2000129,"accept_rate":25,"display_name":"bin"},"score":0,"creation_date":1459278601,"post_id":36282248,"comment_id":60211276,"body_markdown":"Yes @YusufK. I want to create the object from the given json.","body":"Yes @YusufK. I want to create the object from the given json."}],"answers":[{"tags":[],"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459251045,"creation_date":1459251045,"answer_id":36283040,"question_id":36282248,"body_markdown":"If I understoon correctly, simply passing the values will work, without any config. I believe this is what you are looking for:\r\n\r\n    public class Test {\r\n    \r\n    \tprivate static final String JSON = &quot;{\\&quot;keys\\&quot;:{\\&quot;primary_key\\&quot;:\\&quot;abc\\&quot;,\\&quot;secondary_key\\&quot;:\\&quot;xyz\\&quot;}}&quot;;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tX x = mapper.readValue(JSON, X.class);\r\n    \t\tSystem.out.println(mapper.writeValueAsString(x));\r\n    \r\n    \t}\r\n    }\r\n    \r\n    class A {\r\n    \tprivate String primary_key;\r\n    \r\n    \tpublic String getPrimary_key() {\r\n    \t\treturn primary_key;\r\n    \t}\r\n    \r\n    \tpublic void setPrimary_key(String primary_key) {\r\n    \t\tthis.primary_key = primary_key;\r\n    \t}\r\n    }\r\n    \r\n    class B extends A {\r\n    \r\n    \tprivate String secondary_key;\r\n    \r\n    \tpublic String getSecondary_key() {\r\n    \t\treturn secondary_key;\r\n    \t}\r\n    \r\n    \tpublic void setSecondary_key(String secondary_key) {\r\n    \t\tthis.secondary_key = secondary_key;\r\n    \t}\r\n    }\r\n    \r\n    class X {\r\n    \r\n    \tprivate B keys;\r\n    \r\n    \tpublic B getKeys() {\r\n    \t\treturn keys;\r\n    \t}\r\n    \r\n    \tpublic void setKeys(B keys) {\r\n    \t\tthis.keys = keys;\r\n    \t}\r\n    }\r\n\r\nOutput will be:\r\n\r\n    {&quot;keys&quot;:{&quot;primary_key&quot;:&quot;abc&quot;,&quot;secondary_key&quot;:&quot;xyz&quot;}}\r\n\r\nIn case this is not what you expect, please provide another explanation and I will edit the answer as needed.","title":"Jackson Serialization for subclasses","body":"<p>If I understoon correctly, simply passing the values will work, without any config. I believe this is what you are looking for:</p>\n\n<pre><code>public class Test {\n\n    private static final String JSON = \"{\\\"keys\\\":{\\\"primary_key\\\":\\\"abc\\\",\\\"secondary_key\\\":\\\"xyz\\\"}}\";\n\n    public static void main(String[] args) throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n        X x = mapper.readValue(JSON, X.class);\n        System.out.println(mapper.writeValueAsString(x));\n\n    }\n}\n\nclass A {\n    private String primary_key;\n\n    public String getPrimary_key() {\n        return primary_key;\n    }\n\n    public void setPrimary_key(String primary_key) {\n        this.primary_key = primary_key;\n    }\n}\n\nclass B extends A {\n\n    private String secondary_key;\n\n    public String getSecondary_key() {\n        return secondary_key;\n    }\n\n    public void setSecondary_key(String secondary_key) {\n        this.secondary_key = secondary_key;\n    }\n}\n\nclass X {\n\n    private B keys;\n\n    public B getKeys() {\n        return keys;\n    }\n\n    public void setKeys(B keys) {\n        this.keys = keys;\n    }\n}\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>{\"keys\":{\"primary_key\":\"abc\",\"secondary_key\":\"xyz\"}}\n</code></pre>\n\n<p>In case this is not what you expect, please provide another explanation and I will edit the answer as needed.</p>\n"},{"tags":[],"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459286574,"creation_date":1459286574,"answer_id":36295331,"question_id":36282248,"body_markdown":"It feels like a pretty common problem and there is no easy annotations way to solve it (Or maybe i just cant find one):\r\n\r\nhttps://stackoverflow.com/q/16488951/1032167\r\n\r\nhttps://stackoverflow.com/q/24263904/1032167\r\n\r\nOne thing you can do is to add custom deserializer to your object mapper. Here is nice demo of this approach: https://stackoverflow.com/a/19464580/1032167\r\n\r\n\r\n**Here is demo related to your example:**\r\n\r\n    import com.fasterxml.jackson.annotation.*;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.ObjectCodec;\r\n    import com.fasterxml.jackson.databind.*;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Main4 {\r\n\r\n \r\n    private static final String jsonA = &quot;{ \\&quot;keys\\&quot; : { \\&quot;primary_key\\&quot; : \\&quot;abc\\&quot; } }&quot;;\r\n    private static final String jsonB = \r\n            &quot;{ \\&quot;keys\\&quot; : { \\&quot;primary_key\\&quot; : \\&quot;abc\\&quot;, \\&quot;secondary_key\\&quot; : \\&quot;xyz\\&quot; } }&quot;;\r\n  \r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        SimpleModule idAsRefModule = new SimpleModule(&quot;ID-to-ref&quot;);\r\n        idAsRefModule.addDeserializer(A.class, new AJsonDeserializer());\r\n        mapper.registerModule(idAsRefModule);\r\n        \r\n        X tl = mapper.readValue(jsonA, X.class);\r\n        System.out.println(tl);\r\n\r\n        X t2 = mapper.readValue(jsonB, X.class);\r\n        System.out.println(t2);\r\n    }\r\n\r\n    public static class AJsonDeserializer  extends JsonDeserializer&lt;A&gt;{\r\n\r\n        @Override\r\n        public A deserialize(JsonParser jp, DeserializationContext dc)\r\n        throws IOException {\r\n\r\n            ObjectCodec codec = jp.getCodec();\r\n            JsonNode node = codec.readTree(jp);\r\n\r\n            if (node.has(&quot;secondary_key&quot;)) {\r\n                return codec.treeToValue(node, B.class);\r\n            }\r\n            return new A(node.findValue(&quot;primary_key&quot;).asText());\r\n        }\r\n    }\r\n\r\n    public static class A\r\n    {\r\n        @JsonProperty(&quot;primary_key&quot;)\r\n        public final String primaryKey;\r\n\r\n        @JsonCreator\r\n        A(@JsonProperty(&quot;primary_key&quot;) String primaryKey)\r\n        {\r\n            this.primaryKey = primaryKey;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;A{&quot; +\r\n                    &quot;primaryKey=&#39;&quot; + primaryKey + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class B extends A\r\n    {\r\n        @JsonProperty(&quot;secondary_key&quot;)\r\n        public final String secondaryKey;\r\n\r\n        @JsonCreator\r\n        B(@JsonProperty(&quot;primary_key&quot;) String primaryKey, \r\n          @JsonProperty(&quot;secondary_key&quot;) String secondaryKey)\r\n        {\r\n            super(primaryKey);\r\n            this.secondaryKey = secondaryKey;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;B{&quot; +\r\n                    &quot;primaryKey=&#39;&quot; + primaryKey + &#39;\\&#39;&#39; +\r\n                    &quot;secondaryKey=&#39;&quot; + secondaryKey + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    public static class X\r\n    {\r\n        @JsonProperty(&quot;keys&quot;)\r\n        public final A keys;\r\n\r\n        @JsonCreator\r\n        X(@JsonProperty(&quot;keys&quot;) A keys)\r\n        {\r\n            this.keys = keys;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;X{&quot; +\r\n                    &quot;keys=&quot; + keys +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    }\r\n\r\nBut you will have to create one more super class if you want to use default A deserializer or look here how you can solve this: https://stackoverflow.com/a/18405958/1032167","title":"Jackson Serialization for subclasses","body":"<p>It feels like a pretty common problem and there is no easy annotations way to solve it (Or maybe i just cant find one):</p>\n\n<p><a href=\"https://stackoverflow.com/q/16488951/1032167\">Jackson Polymorphic Deserialization - Can you require the existence of a field instead of a specific value?</a></p>\n\n<p><a href=\"https://stackoverflow.com/q/24263904/1032167\">Deserializing polymorphic types with Jackson</a></p>\n\n<p>One thing you can do is to add custom deserializer to your object mapper. Here is nice demo of this approach: <a href=\"https://stackoverflow.com/a/19464580/1032167\">https://stackoverflow.com/a/19464580/1032167</a></p>\n\n<p><strong>Here is demo related to your example:</strong></p>\n\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.ObjectCodec;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\nimport java.io.IOException;\n\npublic class Main4 {\n\n\nprivate static final String jsonA = \"{ \\\"keys\\\" : { \\\"primary_key\\\" : \\\"abc\\\" } }\";\nprivate static final String jsonB = \n        \"{ \\\"keys\\\" : { \\\"primary_key\\\" : \\\"abc\\\", \\\"secondary_key\\\" : \\\"xyz\\\" } }\";\n\npublic static void main(String[] args) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n\n    SimpleModule idAsRefModule = new SimpleModule(\"ID-to-ref\");\n    idAsRefModule.addDeserializer(A.class, new AJsonDeserializer());\n    mapper.registerModule(idAsRefModule);\n\n    X tl = mapper.readValue(jsonA, X.class);\n    System.out.println(tl);\n\n    X t2 = mapper.readValue(jsonB, X.class);\n    System.out.println(t2);\n}\n\npublic static class AJsonDeserializer  extends JsonDeserializer&lt;A&gt;{\n\n    @Override\n    public A deserialize(JsonParser jp, DeserializationContext dc)\n    throws IOException {\n\n        ObjectCodec codec = jp.getCodec();\n        JsonNode node = codec.readTree(jp);\n\n        if (node.has(\"secondary_key\")) {\n            return codec.treeToValue(node, B.class);\n        }\n        return new A(node.findValue(\"primary_key\").asText());\n    }\n}\n\npublic static class A\n{\n    @JsonProperty(\"primary_key\")\n    public final String primaryKey;\n\n    @JsonCreator\n    A(@JsonProperty(\"primary_key\") String primaryKey)\n    {\n        this.primaryKey = primaryKey;\n    }\n\n    @Override\n    public String toString() {\n        return \"A{\" +\n                \"primaryKey='\" + primaryKey + '\\'' +\n                '}';\n    }\n}\n\npublic static class B extends A\n{\n    @JsonProperty(\"secondary_key\")\n    public final String secondaryKey;\n\n    @JsonCreator\n    B(@JsonProperty(\"primary_key\") String primaryKey, \n      @JsonProperty(\"secondary_key\") String secondaryKey)\n    {\n        super(primaryKey);\n        this.secondaryKey = secondaryKey;\n    }\n\n    @Override\n    public String toString() {\n        return \"B{\" +\n                \"primaryKey='\" + primaryKey + '\\'' +\n                \"secondaryKey='\" + secondaryKey + '\\'' +\n                '}';\n    }\n}\n\npublic static class X\n{\n    @JsonProperty(\"keys\")\n    public final A keys;\n\n    @JsonCreator\n    X(@JsonProperty(\"keys\") A keys)\n    {\n        this.keys = keys;\n    }\n\n    @Override\n    public String toString() {\n        return \"X{\" +\n                \"keys=\" + keys +\n                '}';\n    }\n}\n}\n</code></pre>\n\n<p>But you will have to create one more super class if you want to use default A deserializer or look here how you can solve this: <a href=\"https://stackoverflow.com/a/18405958/1032167\">https://stackoverflow.com/a/18405958/1032167</a></p>\n"}],"owner":{"account_id":2273228,"reputation":143,"user_id":2000129,"accept_rate":25,"display_name":"bin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12465,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638918215,"creation_date":1459248715,"question_id":36282248,"body_markdown":"In the below example, I have a primary class - A and its subclass - B. Both can be used as a property in the general class X.\r\n\r\n    public class A\r\n    {\r\n       @JsonProperty(&quot;primary_key&quot;)\r\n       public final String primaryKey;\r\n\r\n       @JsonCreator\r\n       A(@JsonProperty(&quot;primary_key&quot;) String primaryKey)\r\n       {\r\n            this.primaryKey = primaryKey;\r\n       }\r\n    }\r\n    public class B extends A\r\n    {\r\n       @JsonProperty(&quot;secondary_key&quot;)\r\n       public final String secondaryKey;\r\n\r\n       @JsonCreator\r\n       B(@JsonProperty(&quot;primary_key&quot;) String primaryKey, @JsonProperty(&quot;secondary_key&quot;) String secondaryKey)\r\n       {\r\n            super(primaryKey);\r\n            this.secondaryKey = secondaryKey;\r\n       }\r\n    }\r\n  \r\n    public class X\r\n    {\r\n        @JsonProperty(&quot;keys&quot;)\r\n        public final A keys;\r\n       \r\n        @JsonCreator\r\n        X(@JsonProperty(&quot;keys&quot;) A keys)\r\n        {\r\n             this.keys = keys;\r\n        }\r\n    }\r\n\r\n\r\nHow can I use Jackson Polymorphic feature in order to correctly deserialize the below given json into their respective classes:\r\n\r\n  \r\nJSON A : \r\n\r\n\r\n     { &quot;keys&quot; :{\r\n                  &quot;primary_key&quot; : &quot;abc&quot;\r\n              }\r\n     }\r\n\r\n\r\nJSON B : \r\n   \r\n\r\n \r\n\r\n     { &quot;keys&quot; : {\r\n                  &quot;primary_key&quot; : &quot;abc&quot;,\r\n                  &quot;secondary_key&quot; : &quot;xyz&quot;\r\n             }\r\n        }\r\n\r\n\r\nExpected Result: Map keys object to Class A for JSON A and Class B for JSON B.\r\n\r\nPlease suggest alternative suggestions too.","title":"Jackson Serialization for subclasses","body":"<p>In the below example, I have a primary class - A and its subclass - B. Both can be used as a property in the general class X.</p>\n\n<pre><code>public class A\n{\n   @JsonProperty(\"primary_key\")\n   public final String primaryKey;\n\n   @JsonCreator\n   A(@JsonProperty(\"primary_key\") String primaryKey)\n   {\n        this.primaryKey = primaryKey;\n   }\n}\npublic class B extends A\n{\n   @JsonProperty(\"secondary_key\")\n   public final String secondaryKey;\n\n   @JsonCreator\n   B(@JsonProperty(\"primary_key\") String primaryKey, @JsonProperty(\"secondary_key\") String secondaryKey)\n   {\n        super(primaryKey);\n        this.secondaryKey = secondaryKey;\n   }\n}\n\npublic class X\n{\n    @JsonProperty(\"keys\")\n    public final A keys;\n\n    @JsonCreator\n    X(@JsonProperty(\"keys\") A keys)\n    {\n         this.keys = keys;\n    }\n}\n</code></pre>\n\n<p>How can I use Jackson Polymorphic feature in order to correctly deserialize the below given json into their respective classes:</p>\n\n<p>JSON A : </p>\n\n<pre><code> { \"keys\" :{\n              \"primary_key\" : \"abc\"\n          }\n }\n</code></pre>\n\n<p>JSON B : </p>\n\n<pre><code> { \"keys\" : {\n              \"primary_key\" : \"abc\",\n              \"secondary_key\" : \"xyz\"\n         }\n    }\n</code></pre>\n\n<p>Expected Result: Map keys object to Class A for JSON A and Class B for JSON B.</p>\n\n<p>Please suggest alternative suggestions too.</p>\n"},{"tags":["java","azure","jwt","azure-functions","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637892789,"creation_date":1637858434,"answer_id":70114619,"question_id":70114501,"body_markdown":"Try using HttpRequestInitializer. This is my example code to work with Google Drive API in Java.\r\n\r\n    import com.google.api.client.http.HttpRequestInitializer;\r\n    import com.google.api.services.drive.Drive;\r\n    import com.google.auth.http.HttpCredentialsAdapter;\r\n\r\n    // file 1 is the JSON credential file\r\n    // GoogleCredential have been deprecated so instead I use HttpRequestInitializer \r\n    HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(ServiceAccountCredentials.fromStream(new FileInputStream(file1))\r\n            .createScoped(DriveScopes.all()));\r\n    Drive drive = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\r\n            .setApplicationName(ApplicationName).build();\r\n\r\nThis is the code from Google doc instruction:\r\n\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    GoogleCredential credential = GoogleCredential\r\n            .fromStream(new FileInputStream(KEY_FILE_LOCATION))\r\n            .createScoped(DriveScopes.all());\r\n    \r\n    // Construct the drive service object.\r\n    return new Drive.Builder(httpTransport, JSON_FACTORY, credential)\r\n            .setApplicationName(APPLICATION_NAME).build();","title":"class Google.Apis.Auth.OAuth2.GoogleCredential.UnderlyingCredential.GetAccessTokenForRequestAsync() equivalent in Java?","body":"<p>Try using HttpRequestInitializer. This is my example code to work with Google Drive API in Java.</p>\n<pre><code>import com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.services.drive.Drive;\nimport com.google.auth.http.HttpCredentialsAdapter;\n\n// file 1 is the JSON credential file\n// GoogleCredential have been deprecated so instead I use HttpRequestInitializer \nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(ServiceAccountCredentials.fromStream(new FileInputStream(file1))\n        .createScoped(DriveScopes.all()));\nDrive drive = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\n        .setApplicationName(ApplicationName).build();\n</code></pre>\n<p>This is the code from Google doc instruction:</p>\n<pre><code>HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\nGoogleCredential credential = GoogleCredential\n        .fromStream(new FileInputStream(KEY_FILE_LOCATION))\n        .createScoped(DriveScopes.all());\n\n// Construct the drive service object.\nreturn new Drive.Builder(httpTransport, JSON_FACTORY, credential)\n        .setApplicationName(APPLICATION_NAME).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638917567,"creation_date":1638917567,"answer_id":70267916,"question_id":70114501,"body_markdown":"As you guessed, the [Google Auth Library](https://github.com/googleapis/google-auth-library-java) contains the necessary classes required to authenticate against Google services.\r\n\r\nPlease, consider read the documentation of the API when describing [Explicit credential loading](https://github.com/googleapis/google-auth-library-java#explicit-credential-loading):\r\n\r\n&gt; To get Credentials from a Service Account JSON key use \r\n&gt; `GoogleCredentials.fromStream(InputStream)` or \r\n&gt; `GoogleCredentials.fromStream(InputStream, HttpTransportFactory)`. Note \r\n&gt; that the credentials must be refreshed before the access token is \r\n&gt; available.\r\n&gt;\r\n&gt; ```java\r\n&gt; GoogleCredentials credentials = GoogleCredentials.fromStream(new \r\n&gt; FileInputStream(&quot;/path/to/credentials.json&quot;));\r\n&gt; credentials.refreshIfExpired();\r\n&gt; AccessToken token = credentials.getAccessToken();\r\n&gt; // OR\r\n&gt; AccessToken token = credentials.refreshAccessToken();\r\n&gt; ```\r\n\r\nIn your code, assuming your Azure Key Vault contains the service account credentials in JSON format, you could try something like the following:\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStream;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.util.*;\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\nimport com.azure.security.keyvault.secrets.SecretClient;\r\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\r\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\r\nimport com.azure.identity.DefaultAzureCredentialBuilder;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.gson.*;\r\n\r\n/**\r\n * Azure Functions with HTTP Trigger, getting value from Key Vault, returning Google Analytics Access Token in get request return body\r\n */\r\npublic class HttpKeyVaultFunc {\r\n    @FunctionName(&quot;GetGoogleAnalyticsOAuthToken&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(\r\n                name = &quot;req&quot;, \r\n                methods = {HttpMethod.GET}, \r\n                authLevel = AuthorizationLevel.ANONYMOUS) \r\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) {\r\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n\r\n        String secret = System.getenv(&quot;KEY_VAULT_URL&quot;);\r\n        SecretClient secretClient = new SecretClientBuilder()\r\n        .vaultUrl(secret)\r\n        .credential(new DefaultAzureCredentialBuilder().build())\r\n        .buildClient();\r\n        \r\n        KeyVaultSecret retrievedSecret = secretClient.getSecret(&quot;clientsecret&quot;);\r\n        \r\n        String clientSecretValue = retrievedSecret.getValue();\r\n        byte[] clientSecretValueBytes = null;\r\n        \r\n        try {\r\n            clientSecretValueBytes = clientSecretValue.getBytes(&quot;UTF-8&quot;);\r\n        } catch (UnsupportedEncodingException use) {\r\n            clientSecretValueBytes = clientSecretValue.getBytes();   \r\n        }\r\n\r\n        InputStream clientSecretValueStream = new ByteArrayInputStream(clientSecretValueBytes);\r\n\r\n        GoogleCredentials credentials =  GoogleCredentials.fromStream(clientSecretValueStream)\r\n            .createScoped(&quot;https://www.googleapis.com/auth/analytics.readonly&quot;) ;\r\n        credentials.refreshIfExpired();\r\n        AccessToken accessToken = credentials.getAccessToken();\r\n \r\n        return request.createResponseBuilder(HttpStatusOK)\r\n          .body(&quot;Access Token: &quot; + accessToken.getTokenValue())\r\n          .build();\r\n    }\r\n}\r\n```","title":"class Google.Apis.Auth.OAuth2.GoogleCredential.UnderlyingCredential.GetAccessTokenForRequestAsync() equivalent in Java?","body":"<p>As you guessed, the <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">Google Auth Library</a> contains the necessary classes required to authenticate against Google services.</p>\n<p>Please, consider read the documentation of the API when describing <a href=\"https://github.com/googleapis/google-auth-library-java#explicit-credential-loading\" rel=\"nofollow noreferrer\">Explicit credential loading</a>:</p>\n<blockquote>\n<p>To get Credentials from a Service Account JSON key use\n<code>GoogleCredentials.fromStream(InputStream)</code> or\n<code>GoogleCredentials.fromStream(InputStream, HttpTransportFactory)</code>. Note\nthat the credentials must be refreshed before the access token is\navailable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredentials credentials = GoogleCredentials.fromStream(new \nFileInputStream(&quot;/path/to/credentials.json&quot;));\ncredentials.refreshIfExpired();\nAccessToken token = credentials.getAccessToken();\n// OR\nAccessToken token = credentials.refreshAccessToken();\n</code></pre>\n</blockquote>\n<p>In your code, assuming your Azure Key Vault contains the service account credentials in JSON format, you could try something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.*;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\nimport com.azure.security.keyvault.secrets.SecretClient;\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\nimport com.azure.identity.DefaultAzureCredentialBuilder;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.gson.*;\n\n/**\n * Azure Functions with HTTP Trigger, getting value from Key Vault, returning Google Analytics Access Token in get request return body\n */\npublic class HttpKeyVaultFunc {\n    @FunctionName(&quot;GetGoogleAnalyticsOAuthToken&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;, \n                methods = {HttpMethod.GET}, \n                authLevel = AuthorizationLevel.ANONYMOUS) \n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n        String secret = System.getenv(&quot;KEY_VAULT_URL&quot;);\n        SecretClient secretClient = new SecretClientBuilder()\n        .vaultUrl(secret)\n        .credential(new DefaultAzureCredentialBuilder().build())\n        .buildClient();\n        \n        KeyVaultSecret retrievedSecret = secretClient.getSecret(&quot;clientsecret&quot;);\n        \n        String clientSecretValue = retrievedSecret.getValue();\n        byte[] clientSecretValueBytes = null;\n        \n        try {\n            clientSecretValueBytes = clientSecretValue.getBytes(&quot;UTF-8&quot;);\n        } catch (UnsupportedEncodingException use) {\n            clientSecretValueBytes = clientSecretValue.getBytes();   \n        }\n\n        InputStream clientSecretValueStream = new ByteArrayInputStream(clientSecretValueBytes);\n\n        GoogleCredentials credentials =  GoogleCredentials.fromStream(clientSecretValueStream)\n            .createScoped(&quot;https://www.googleapis.com/auth/analytics.readonly&quot;) ;\n        credentials.refreshIfExpired();\n        AccessToken accessToken = credentials.getAccessToken();\n \n        return request.createResponseBuilder(HttpStatusOK)\n          .body(&quot;Access Token: &quot; + accessToken.getTokenValue())\n          .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16059899,"reputation":159,"user_id":11591110,"display_name":"Lee Whieldon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2014,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70267916,"answer_count":2,"score":1,"last_activity_date":1638917761,"creation_date":1637857843,"question_id":70114501,"body_markdown":"I have built an Azure Function App in C# &amp; I am trying to figure out the equivalent of Google.Apis.Auth.OAuth2.GoogleCredential.UnderlyingCredential.GetAccessTokenForRequestAsync() in Java, as my client requires my code framework to be in a Java. I need to be able to return the Json Web Token (JWT) and call it into a return body within the function.\r\n\r\nI have discovered that the Java class GoogleCredential is depreciated but some of Google&#39;s product documentation STILL refers to it: https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential. \r\n\r\nBelow is a snippet code of what I developed in C# but I cannot find any similar manner to call this class in Java:\r\n\r\n    using Google.Apis.Auth.OAuth2;\r\n    \r\n        var cred = GoogleCredential.FromJson(*[myjsonkey]*).CreateScoped(new string[] { &quot;https://www.googleapis.com/auth/analytics.readonly&quot; });\r\n        var token = await cred.UnderlyingCredential.GetAccessTokenForRequestAsync();\r\n\r\n\r\nThe Java class, GoogleCredential is now depreciated entirely (here&#39;s the link: https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential#com_google_api_client_googleapis_auth_oauth2_GoogleCredential_createDelegated_java_lang_String_)\r\n\r\n\r\nAny advice or examples of how I can mimic the same use of GoogleCredential class equivalent in Java to return the JWT would be appreciated.\r\n   \r\nUPDATE: I understand now that the replacement for com.google.api.client.googleapis.auth.oauth2.GoogleCredential is now com.google.auth.oauth2.GoogleCredentials, but I am at a loss on how to use it by passing in a json secret key called from an Azure Key Vault so that I can return the JWT. Here is what I&#39;ve built so far, calling Azure Function key vault and returning the Google .json secret file associated with my Service Account. I receive a 500 return message because I am not appropriately call the JWT in my response. I&#39;m referencing [this part of Google auth library for java][1] &amp; it&#39;s not working. Any tips to tweak my code???\r\n\r\n     package GetOAuthFunction;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.*;\r\n    import com.microsoft.azure.functions.annotation.*;\r\n    import com.microsoft.azure.functions.*;\r\n    import com.azure.security.keyvault.secrets.SecretClient;\r\n    import com.azure.security.keyvault.secrets.SecretClientBuilder;\r\n    import com.azure.security.keyvault.secrets.models.KeyVaultSecret;\r\n    import com.azure.identity.DefaultAzureCredentialBuilder;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.google.gson.*;\r\n    \r\n    /**\r\n     * Azure Functions with HTTP Trigger, getting value from Key Vault, returning Google Analytics Access Token in get request return body\r\n     */\r\n    public class HttpKeyVaultFunc {\r\n        @FunctionName(&quot;GetGoogleAnalyticsOAuthToken&quot;)\r\n        public HttpResponseMessage run(\r\n                @HttpTrigger(\r\n                    name = &quot;req&quot;, \r\n                    methods = {HttpMethod.GET}, \r\n                    authLevel = AuthorizationLevel.ANONYMOUS) \r\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n                final ExecutionContext context) {\r\n            context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n    \r\n            String secret = System.getenv(&quot;KEY_VAULT_URL&quot;);\r\n            SecretClient secretClient = new SecretClientBuilder()\r\n            .vaultUrl(secret)\r\n            .credential(new DefaultAzureCredentialBuilder().build())\r\n            .buildClient();\r\n            \r\n            KeyVaultSecret retrievedSecret = secretClient.getSecret(&quot;clientsecret&quot;);\r\n            \r\n            String clientsecretvalue = retrievedSecret.getValue();\r\n            JsonObject clientsecretarray = new Gson().fromJson(clientsecretvalue, JsonObject.class);\r\n           GoogleCredentials credentials =  GoogleCredentials.fromStream(clientsecretarray).createScoped(new String {&quot;https://www.googleapis.com/auth/analytics.readonly&quot;}) ;\r\n     \r\n            return request.createResponseBuilder(HttpStatusOK).body(&quot;Access Token: &quot;+ credentials.getAccessToken().build());\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/googleapis/google-auth-library-java\r\n","title":"class Google.Apis.Auth.OAuth2.GoogleCredential.UnderlyingCredential.GetAccessTokenForRequestAsync() equivalent in Java?","body":"<p>I have built an Azure Function App in C# &amp; I am trying to figure out the equivalent of Google.Apis.Auth.OAuth2.GoogleCredential.UnderlyingCredential.GetAccessTokenForRequestAsync() in Java, as my client requires my code framework to be in a Java. I need to be able to return the Json Web Token (JWT) and call it into a return body within the function.</p>\n<p>I have discovered that the Java class GoogleCredential is depreciated but some of Google's product documentation STILL refers to it: <a href=\"https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential</a>.</p>\n<p>Below is a snippet code of what I developed in C# but I cannot find any similar manner to call this class in Java:</p>\n<pre><code>using Google.Apis.Auth.OAuth2;\n\n    var cred = GoogleCredential.FromJson(*[myjsonkey]*).CreateScoped(new string[] { &quot;https://www.googleapis.com/auth/analytics.readonly&quot; });\n    var token = await cred.UnderlyingCredential.GetAccessTokenForRequestAsync();\n</code></pre>\n<p>The Java class, GoogleCredential is now depreciated entirely (here's the link: <a href=\"https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential#com_google_api_client_googleapis_auth_oauth2_GoogleCredential_createDelegated_java_lang_String_\" rel=\"nofollow noreferrer\">https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.auth.oauth2.GoogleCredential#com_google_api_client_googleapis_auth_oauth2_GoogleCredential_createDelegated_java_lang_String_</a>)</p>\n<p>Any advice or examples of how I can mimic the same use of GoogleCredential class equivalent in Java to return the JWT would be appreciated.</p>\n<p>UPDATE: I understand now that the replacement for com.google.api.client.googleapis.auth.oauth2.GoogleCredential is now com.google.auth.oauth2.GoogleCredentials, but I am at a loss on how to use it by passing in a json secret key called from an Azure Key Vault so that I can return the JWT. Here is what I've built so far, calling Azure Function key vault and returning the Google .json secret file associated with my Service Account. I receive a 500 return message because I am not appropriately call the JWT in my response. I'm referencing <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">this part of Google auth library for java</a> &amp; it's not working. Any tips to tweak my code???</p>\n<pre><code> package GetOAuthFunction;\n\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.*;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\nimport com.azure.security.keyvault.secrets.SecretClient;\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\nimport com.azure.identity.DefaultAzureCredentialBuilder;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.gson.*;\n\n/**\n * Azure Functions with HTTP Trigger, getting value from Key Vault, returning Google Analytics Access Token in get request return body\n */\npublic class HttpKeyVaultFunc {\n    @FunctionName(&quot;GetGoogleAnalyticsOAuthToken&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;, \n                methods = {HttpMethod.GET}, \n                authLevel = AuthorizationLevel.ANONYMOUS) \n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n        String secret = System.getenv(&quot;KEY_VAULT_URL&quot;);\n        SecretClient secretClient = new SecretClientBuilder()\n        .vaultUrl(secret)\n        .credential(new DefaultAzureCredentialBuilder().build())\n        .buildClient();\n        \n        KeyVaultSecret retrievedSecret = secretClient.getSecret(&quot;clientsecret&quot;);\n        \n        String clientsecretvalue = retrievedSecret.getValue();\n        JsonObject clientsecretarray = new Gson().fromJson(clientsecretvalue, JsonObject.class);\n       GoogleCredentials credentials =  GoogleCredentials.fromStream(clientsecretarray).createScoped(new String {&quot;https://www.googleapis.com/auth/analytics.readonly&quot;}) ;\n \n        return request.createResponseBuilder(HttpStatusOK).body(&quot;Access Token: &quot;+ credentials.getAccessToken().build());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","feign"],"comments":[{"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"score":0,"creation_date":1639341582,"post_id":70257562,"comment_id":124318501,"body_markdown":"Have you tried enabling Feign logging to see the actual request being sent out?","body":"Have you tried enabling Feign logging to see the actual request being sent out?"}],"answers":[{"tags":[],"owner":{"account_id":19961426,"reputation":124,"user_id":14628929,"display_name":"sourheart"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638915912,"creation_date":1638915912,"answer_id":70267670,"question_id":70257562,"body_markdown":"remove `@Headers`\r\nand in `@PutMapping` add `consumes = &quot;application/json&quot;`","title":"Put request doesn&#39;t get to my controller by feign client, getting 415 status code","body":"<p>remove <code>@Headers</code>\nand in <code>@PutMapping</code> add <code>consumes = &quot;application/json&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":16121117,"reputation":147,"user_id":11637083,"display_name":"Serhat Yıldırım"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638916643,"creation_date":1638916643,"answer_id":70267773,"question_id":70257562,"body_markdown":"@PutMapping(value = &quot;/merchants/{merchantId}&quot;) you write the same line like you specified in feign client \r\n\r\nand change @Param(&quot;merchantId&quot;) to @PathVariable(&quot;merchantId&quot;) ","title":"Put request doesn&#39;t get to my controller by feign client, getting 415 status code","body":"<p>@PutMapping(value = &quot;/merchants/{merchantId}&quot;) you write the same line like you specified in feign client</p>\n<p>and change @Param(&quot;merchantId&quot;) to @PathVariable(&quot;merchantId&quot;)</p>\n"}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638917432,"creation_date":1638868847,"question_id":70257562,"body_markdown":"this is my feign client code \r\n\r\n    @RequestLine(&quot;PUT /merchants/{merchantId}&quot;)\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n    MerchantDTO updateMerchant(@Param(&quot;merchantId&quot;) Long merchantId, PutMerchantDTO putMerchantDTO);\r\n    \r\nwhich is called in some requestFactory class.\r\nAnd this one is my controller code \r\n\r\n    @PutMapping(value = &quot;/merchants/{merchantId}&quot;)\r\n    ResponseEntity&lt;MerchantDTO&gt; updateMerchant(@RequestBody @NotEmpty PutMerchantDTO updateMerchantRequest, @PathVariable(&quot;merchantId&quot;) final Long merchantId) {\r\n\r\n        return ResponseEntity.ok(merchantUpdateMapper.toDtoMerchant(merchantUpdateService.processUpdate(merchantUpdateMapper.toDomain(updateMerchantRequest, merchantId))));\r\n    }\r\n\r\nCan somebody Please tell me why I&#39;m getting 415 when doing the put request with this feign Client to my controller?","title":"Put request doesn&#39;t get to my controller by feign client, getting 415 status code","body":"<p>this is my feign client code</p>\n<pre><code>@RequestLine(&quot;PUT /merchants/{merchantId}&quot;)\n@Headers(&quot;Content-Type: application/json&quot;)\nMerchantDTO updateMerchant(@Param(&quot;merchantId&quot;) Long merchantId, PutMerchantDTO putMerchantDTO);\n</code></pre>\n<p>which is called in some requestFactory class.\nAnd this one is my controller code</p>\n<pre><code>@PutMapping(value = &quot;/merchants/{merchantId}&quot;)\nResponseEntity&lt;MerchantDTO&gt; updateMerchant(@RequestBody @NotEmpty PutMerchantDTO updateMerchantRequest, @PathVariable(&quot;merchantId&quot;) final Long merchantId) {\n\n    return ResponseEntity.ok(merchantUpdateMapper.toDtoMerchant(merchantUpdateService.processUpdate(merchantUpdateMapper.toDomain(updateMerchantRequest, merchantId))));\n}\n</code></pre>\n<p>Can somebody Please tell me why I'm getting 415 when doing the put request with this feign Client to my controller?</p>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638917381,"creation_date":1638917381,"answer_id":70267891,"question_id":70007536,"body_markdown":"I think what you are describing is really just a change in the hibernate mapping and doesn&#39;t impact the way it&#39;s stored in the database and therefore doesn&#39;t impact what your Liquibase changelog would be.\r\n\r\nIn both cases, you have a one-to-one correspondence between person and inn_base, with a foreign key from person to inn_base.\r\n\r\nWith the 2nd case, you also have a person attribute on your object, but that is just hibernate handling the query to the person table also from a call to InnBase instead of just a query to the inn_base table from your Person object.\r\n\r\nAm I understanding that correctly?\r\n\r\nIf you changed your model so that instead of having a person-&gt;inn_base foreign key to model your one-to-one mapping you made an inn_base-&gt;person foreign key, then you&#39;d need to change your hibernate mapping and change your liqubiase changelog to define the different columns and foreign keys. But so far you haven&#39;t done that.","title":"OneToOne cannot compose a file for liquibase in case of two-way communication","body":"<p>I think what you are describing is really just a change in the hibernate mapping and doesn't impact the way it's stored in the database and therefore doesn't impact what your Liquibase changelog would be.</p>\n<p>In both cases, you have a one-to-one correspondence between person and inn_base, with a foreign key from person to inn_base.</p>\n<p>With the 2nd case, you also have a person attribute on your object, but that is just hibernate handling the query to the person table also from a call to InnBase instead of just a query to the inn_base table from your Person object.</p>\n<p>Am I understanding that correctly?</p>\n<p>If you changed your model so that instead of having a person-&gt;inn_base foreign key to model your one-to-one mapping you made an inn_base-&gt;person foreign key, then you'd need to change your hibernate mapping and change your liqubiase changelog to define the different columns and foreign keys. But so far you haven't done that.</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638917381,"creation_date":1637164189,"question_id":70007536,"body_markdown":"I am studying the topic of linking tables.\r\nWhile I&#39;m dealing with OneToOne.\r\nThe Person table was reduced in order to save space. It is clear that one name will not be able to unambiguously indicate a specific person.\r\n\r\nThe first option is one-way communication\r\nA person has an INN and he can have only one. And each TIN is linked to a specific person and there can also be only one, but we do not need to store information about its owner in the INN database.\r\n\r\nPerson.java:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;persons&quot;, schema = &quot;date&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n    \r\n        @Column\r\n        private String name; \r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;inn_id&quot;, unique = true)\r\n        private InnBase innBase;\r\n    }\r\n\r\nInnBase.java\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;inn_base&quot;, schema = &quot;date&quot;)\r\n    public class InnBase {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n    \r\n        @Column(name = &quot;inn_number&quot;)\r\n        private int innNumber;\r\n    }\r\n\r\nfile for liquibase\r\n\r\n    &lt;changeSet id=&quot;create_person&quot; author=&quot;alex&quot;&gt;\r\n        &lt;createTable tableName=&quot;person&quot; schemaName=&quot;date&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\t\t\r\n            &lt;column name=&quot;name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;id_inn&quot; type=&quot;INT&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot; foreignKeyName=&quot;fk_inn&quot; referencedTableSchemaName=&quot;date&quot;\r\n                             referencedTableName=&quot;types&quot; referencedColumnNames=&quot;id&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\r\n    \r\n    &lt;changeSet id=&quot;create_inn&quot; author=&quot;alex&quot;&gt;\r\n        &lt;createTable tableName=&quot;inn_base&quot; schemaName=&quot;date&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\r\n                &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n            &lt;column name=&quot;inn_number&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n    &lt;/changeSet&gt;\t\r\n\r\nThe second option is two-way communication.\r\n\r\nA person has an INN and he can have only one. A specific person is tied to each INN and there can also be only one. But we need to be able to find the INN of its owner.\r\nIn this case, you need to change the InnBase class.\r\n\r\nPerson.java:\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table\r\n    public class Person {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n    \r\n        @Column\r\n        private String name; \r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;inn_id&quot;, unique = true)\r\n        private InnBase innBase;\r\n    }\r\n\r\nInnBase.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table\r\n    public class InnBase {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n    \r\n        @Column(name = &quot;inn_number&quot;)\r\n        private int innNumber;\r\n    \t\r\n    \t@OneToOne (optional=false, mappedBy=&quot;innBase&quot;, fetch = FetchType.LAZY) \r\n        private Person owner;\r\n    }\r\n\r\nHow much did I understand this topic correctly?\r\n\r\nAnd tell me how I need to change the liquibase file for the int_base table in the second case.\r\n\r\nI understand that in the second case it is necessary to create a third table for communication:\r\n\r\n    id | person_id | int_id\r\n\r\nBut then how can the entity code change?\r\n\r\nCreated tables via hibernate. And it turned out that for the second option, the structure of the tables has not changed at all.\r\n","title":"OneToOne cannot compose a file for liquibase in case of two-way communication","body":"<p>I am studying the topic of linking tables.\nWhile I'm dealing with OneToOne.\nThe Person table was reduced in order to save space. It is clear that one name will not be able to unambiguously indicate a specific person.</p>\n<p>The first option is one-way communication\nA person has an INN and he can have only one. And each TIN is linked to a specific person and there can also be only one, but we do not need to store information about its owner in the INN database.</p>\n<p>Person.java:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;persons&quot;, schema = &quot;date&quot;)\npublic class Person {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column\n    private String name; \n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;inn_id&quot;, unique = true)\n    private InnBase innBase;\n}\n</code></pre>\n<p>InnBase.java</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;inn_base&quot;, schema = &quot;date&quot;)\npublic class InnBase {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column(name = &quot;inn_number&quot;)\n    private int innNumber;\n}\n</code></pre>\n<p>file for liquibase</p>\n<pre><code>&lt;changeSet id=&quot;create_person&quot; author=&quot;alex&quot;&gt;\n    &lt;createTable tableName=&quot;person&quot; schemaName=&quot;date&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;       \n        &lt;column name=&quot;name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n            &lt;constraints nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;id_inn&quot; type=&quot;INT&quot;&gt;\n            &lt;constraints nullable=&quot;false&quot; foreignKeyName=&quot;fk_inn&quot; referencedTableSchemaName=&quot;date&quot;\n                         referencedTableName=&quot;types&quot; referencedColumnNames=&quot;id&quot;/&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;\n\n&lt;changeSet id=&quot;create_inn&quot; author=&quot;alex&quot;&gt;\n    &lt;createTable tableName=&quot;inn_base&quot; schemaName=&quot;date&quot;&gt;\n        &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; autoIncrement=&quot;true&quot;&gt;\n            &lt;constraints primaryKey=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n        &lt;column name=&quot;inn_number&quot; type=&quot;VARCHAR(255)&quot;&gt;\n            &lt;constraints nullable=&quot;false&quot;/&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;\n&lt;/changeSet&gt;    \n</code></pre>\n<p>The second option is two-way communication.</p>\n<p>A person has an INN and he can have only one. A specific person is tied to each INN and there can also be only one. But we need to be able to find the INN of its owner.\nIn this case, you need to change the InnBase class.</p>\n<p>Person.java:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class Person {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column\n    private String name; \n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;inn_id&quot;, unique = true)\n    private InnBase innBase;\n}\n</code></pre>\n<p>InnBase.java</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class InnBase {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column(name = &quot;inn_number&quot;)\n    private int innNumber;\n    \n    @OneToOne (optional=false, mappedBy=&quot;innBase&quot;, fetch = FetchType.LAZY) \n    private Person owner;\n}\n</code></pre>\n<p>How much did I understand this topic correctly?</p>\n<p>And tell me how I need to change the liquibase file for the int_base table in the second case.</p>\n<p>I understand that in the second case it is necessary to create a third table for communication:</p>\n<pre><code>id | person_id | int_id\n</code></pre>\n<p>But then how can the entity code change?</p>\n<p>Created tables via hibernate. And it turned out that for the second option, the structure of the tables has not changed at all.</p>\n"},{"tags":["java","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638917320,"creation_date":1638917320,"answer_id":70267884,"question_id":70264583,"body_markdown":"I overlooked the ```.subscribe()``` method call. Without it, the reactive result was ignored. The problem has been resolved.","title":"Getting a key/keys from ReactiveRedisOperations always return empty result","body":"<p>I overlooked the <code>.subscribe()</code> method call. Without it, the reactive result was ignored. The problem has been resolved.</p>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70267884,"answer_count":1,"score":0,"last_activity_date":1638917320,"creation_date":1638898602,"question_id":70264583,"body_markdown":"I am migrating my traditional Redis cache to the Spring Data Reactive Redis. After migration I would like to test if my new integration works as expected but I faced a problem with getting key/keys from particular Redis Db, namely: \r\nMy ```redisConfiguration``` class looks like this: \r\n\r\n```\r\nimport java.time.Duration;\r\nimport java.util.Properties;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.data.redis.connection.ReactiveRedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.RedisPassword;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport org.springframework.data.redis.core.ReactiveRedisOperations;\r\nimport org.springframework.data.redis.core.ReactiveRedisTemplate;\r\nimport org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\r\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\r\nimport org.springframework.data.redis.serializer.RedisSerializationContext.RedisSerializationContextBuilder;\r\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\r\n\r\n@Configuration\r\n@PropertySource(&quot;classpath:redis.properties&quot;)\r\n@Slf4j\r\npublic class RedisConfiguration {\r\n\r\n  private static final String REDIS_PROPERTIES = &quot;redis.properties&quot;;\r\n  private final Properties redisProperties = readConfigurationFile(REDIS_PROPERTIES);\r\n\r\n  @Value(&quot;${redis.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${redis.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${redis.password}&quot;)\r\n  private String password;\r\n\r\n  @Value(&quot;${redis.timeout}&quot;)\r\n  private String timeout;\r\n\r\n  @Bean(name = &quot;reactiveRedisConnectionFactory&quot;)\r\n  @Primary\r\n  public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\r\n    return new LettuceConnectionFactory();\r\n  }\r\n\r\n  @Bean(name =&quot;reactiveRedisTemplate&quot;)\r\n  public ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate(\r\n      @Qualifier(value = &quot;reactiveRedisConnectionFactory&quot;) ReactiveRedisConnectionFactory factory) {\r\n    return prepareRedisTemplate(factory);\r\n  }\r\n\r\n  @Bean(name = &quot;reactiveRedisUserConnectionFactory&quot;)\r\n  public ReactiveRedisConnectionFactory reactiveRedisUserConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n    String userDb = getProperty(redisProperties, RedisDb.USER_DB);\r\n\r\n    setRedisProperties(redisConfiguration, userDb);\r\n\r\n    LettuceClientConfiguration clientConfiguration =\r\n        LettuceClientConfiguration.builder()\r\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n\r\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\r\n\r\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;reactiveUserRedisTemplate&quot;)\r\n  public ReactiveRedisOperations&lt;String, Object&gt; userRedisTemplate(\r\n      @Qualifier(value = &quot;reactiveRedisUserConnectionFactory&quot;)\r\n          ReactiveRedisConnectionFactory connectionFactory) {\r\n    return prepareRedisTemplate(connectionFactory);\r\n  }\r\n\r\n  @Bean(name = &quot;redisRegistrationTokenConnectionFactory&quot;)\r\n  public ReactiveRedisConnectionFactory reactiveRedisRegistrationTokenConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n\r\n    String registrationTokenDb = getProperty(redisProperties, RedisDb.REGISTRATION_TOKEN_DB);\r\n    setRedisProperties(redisConfiguration, registrationTokenDb);\r\n\r\n    LettuceClientConfiguration clientConfiguration =\r\n        LettuceClientConfiguration.builder()\r\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n\r\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\r\n\r\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;reactiveRegistrationTokenRedisTemplate&quot;)\r\n  public ReactiveRedisOperations&lt;String, Object&gt; registrationTokenRedisTemplate(\r\n      @Qualifier(value = &quot;redisRegistrationTokenConnectionFactory&quot;)\r\n          ReactiveRedisConnectionFactory connectionFactory) {\r\n    return prepareRedisTemplate(connectionFactory);\r\n  }\r\n\r\n  @Bean(name = &quot;reactiveRedisWhitelistingConnectionFactory&quot;)\r\n  public ReactiveRedisConnectionFactory redisWhitelistingConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n\r\n    String whitelistingDb = getProperty(redisProperties, RedisDb.WHITELISTING_DB);\r\n    setRedisProperties(redisConfiguration, whitelistingDb);\r\n\r\n    LettuceClientConfiguration clientConfiguration =\r\n        LettuceClientConfiguration.builder()\r\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\r\n            .build();\r\n\r\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\r\n\r\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\r\n  }\r\n\r\n  @Bean(name = &quot;reactiveWhitelistingRedisTemplate&quot;)\r\n  public ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate(\r\n      @Qualifier(value = &quot;reactiveRedisWhitelistingConnectionFactory&quot;)\r\n          ReactiveRedisConnectionFactory connectionFactory) {\r\n    return prepareRedisTemplate(connectionFactory);\r\n  }\r\n\r\n  @Bean(name = &quot;redisSerializer&quot;)\r\n  public Jackson2JsonRedisSerializer&lt;Object&gt; redisSerializer() {\r\n    return new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\r\n  }\r\n\r\n  private ReactiveRedisOperations&lt;String, Object&gt; prepareRedisTemplate(ReactiveRedisConnectionFactory connectionFactory) {\r\n    Jackson2JsonRedisSerializer&lt;Object&gt; redisSerializer =\r\n        new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\r\n\r\n    RedisSerializationContextBuilder&lt;String, Object&gt; serializationContext =\r\n        RedisSerializationContext.newSerializationContext(new StringRedisSerializer());\r\n\r\n    RedisSerializationContext&lt;String, Object&gt; context =\r\n        serializationContext\r\n            .value(redisSerializer)\r\n            .hashKey(redisSerializer)\r\n            .hashValue(redisSerializer)\r\n            .build();\r\n    return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, context);\r\n  }\r\n\r\n  private void setRedisProperties(RedisStandaloneConfiguration redisConfiguration, String redisDb) {\r\n    redisConfiguration.setHostName(host);\r\n    redisConfiguration.setPort(port);\r\n    redisConfiguration.setDatabase(Integer.parseInt(redisDb));\r\n    redisConfiguration.setPassword(RedisPassword.of(password));\r\n  }\r\n\r\n  private void logRedisConnectionDetails(\r\n      RedisStandaloneConfiguration redisConfiguration,\r\n      LettuceClientConfiguration clientConfiguration) {\r\n    log.info(\r\n        &quot;Connected to Redis host: {}, port: {}, database: {}, commandTimeout: {}&quot;,\r\n        redisConfiguration.getHostName(),\r\n        redisConfiguration.getPort(),\r\n        redisConfiguration.getDatabase(),\r\n        clientConfiguration.getCommandTimeout().toSeconds());\r\n  }\r\n}\r\n\r\n```\r\n\r\nMy &quot;test&quot; class looks like:\r\n\r\n```\r\n@SpringBootApplication\r\n@Slf4j\r\npublic class ApiGatewayApplication implements CommandLineRunner {\r\n\r\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate;\r\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveUserRedisTemplate;\r\n\r\n  public ApiGatewayApplication(\r\n      @Qualifier(value = &quot;reactiveWhitelistingRedisTemplate&quot;) ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate,\r\n      @Qualifier(value = &quot;reactiveUserRedisTemplate&quot;) ReactiveRedisOperations&lt;String, Object&gt; reactiveUserRedisTemplate) {\r\n    this.reactiveWhitelistingRedisTemplate = reactiveWhitelistingRedisTemplate;\r\n    this.reactiveUserRedisTemplate = reactiveUserRedisTemplate;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ApiGatewayApplication.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) {\r\n\r\n    log.info(&quot;CASE1&quot;);\r\n    log.info(\r\n        String.valueOf(\r\n            reactiveWhitelistingRedisTemplate\r\n                .keys(&quot;*&quot;)\r\n                .flatMap(reactiveWhitelistingRedisTemplate.opsForValue()::get)));\r\n    log.info(&quot;CASE2&quot;);\r\n    log.info(String.valueOf(reactiveWhitelistingRedisTemplate.scan()));\r\n    log.info(&quot;CASE3&quot;);\r\n    log.info(String.valueOf(reactiveUserRedisTemplate.keys(&quot;*&quot;)));\r\n    log.info(&quot;CASE4&quot;);\r\n    log.info(reactiveWhitelistingRedisTemplate.randomKey() + &quot;RANDOM&quot;);\r\n    log.info(&quot;CASE5&quot;);\r\n    log.info(String.valueOf(reactiveWhitelistingRedisTemplate.opsForValue().get(&quot;whitelisting:zenon112&quot;)));\r\n  }\r\n}\r\n```\r\n\r\nWhile getting key/keys I am always receiving empty Mono/Flux as a result like:\r\n\r\n```\r\nCASE1\r\nFluxFlatMap\r\nCASE2\r\nFluxMap\r\nCASE3\r\nFluxMap\r\nCASE4\r\nMonoMapRANDOM\r\nCASE5\r\nMonoNext\r\n```\r\n\r\nI am convinced that Redis is not empty and example key in Redis is ```whitelisting:ranomuser112```\r\n\r\nTo be honest I am confused about what I am doing wrong and will be grateful for suggestions on how to get the particular key from reactive Redis. Cheers!","title":"Getting a key/keys from ReactiveRedisOperations always return empty result","body":"<p>I am migrating my traditional Redis cache to the Spring Data Reactive Redis. After migration I would like to test if my new integration works as expected but I faced a problem with getting key/keys from particular Redis Db, namely:\nMy <code>redisConfiguration</code> class looks like this:</p>\n<pre><code>import java.time.Duration;\nimport java.util.Properties;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.data.redis.connection.ReactiveRedisConnectionFactory;\nimport org.springframework.data.redis.connection.RedisPassword;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceClientConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.ReactiveRedisOperations;\nimport org.springframework.data.redis.core.ReactiveRedisTemplate;\nimport org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\nimport org.springframework.data.redis.serializer.RedisSerializationContext.RedisSerializationContextBuilder;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\n@PropertySource(&quot;classpath:redis.properties&quot;)\n@Slf4j\npublic class RedisConfiguration {\n\n  private static final String REDIS_PROPERTIES = &quot;redis.properties&quot;;\n  private final Properties redisProperties = readConfigurationFile(REDIS_PROPERTIES);\n\n  @Value(&quot;${redis.host}&quot;)\n  private String host;\n\n  @Value(&quot;${redis.port}&quot;)\n  private int port;\n\n  @Value(&quot;${redis.password}&quot;)\n  private String password;\n\n  @Value(&quot;${redis.timeout}&quot;)\n  private String timeout;\n\n  @Bean(name = &quot;reactiveRedisConnectionFactory&quot;)\n  @Primary\n  public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\n    return new LettuceConnectionFactory();\n  }\n\n  @Bean(name =&quot;reactiveRedisTemplate&quot;)\n  public ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate(\n      @Qualifier(value = &quot;reactiveRedisConnectionFactory&quot;) ReactiveRedisConnectionFactory factory) {\n    return prepareRedisTemplate(factory);\n  }\n\n  @Bean(name = &quot;reactiveRedisUserConnectionFactory&quot;)\n  public ReactiveRedisConnectionFactory reactiveRedisUserConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n    String userDb = getProperty(redisProperties, RedisDb.USER_DB);\n\n    setRedisProperties(redisConfiguration, userDb);\n\n    LettuceClientConfiguration clientConfiguration =\n        LettuceClientConfiguration.builder()\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\n\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\n  }\n\n  @Bean(name = &quot;reactiveUserRedisTemplate&quot;)\n  public ReactiveRedisOperations&lt;String, Object&gt; userRedisTemplate(\n      @Qualifier(value = &quot;reactiveRedisUserConnectionFactory&quot;)\n          ReactiveRedisConnectionFactory connectionFactory) {\n    return prepareRedisTemplate(connectionFactory);\n  }\n\n  @Bean(name = &quot;redisRegistrationTokenConnectionFactory&quot;)\n  public ReactiveRedisConnectionFactory reactiveRedisRegistrationTokenConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n\n    String registrationTokenDb = getProperty(redisProperties, RedisDb.REGISTRATION_TOKEN_DB);\n    setRedisProperties(redisConfiguration, registrationTokenDb);\n\n    LettuceClientConfiguration clientConfiguration =\n        LettuceClientConfiguration.builder()\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\n\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\n  }\n\n  @Bean(name = &quot;reactiveRegistrationTokenRedisTemplate&quot;)\n  public ReactiveRedisOperations&lt;String, Object&gt; registrationTokenRedisTemplate(\n      @Qualifier(value = &quot;redisRegistrationTokenConnectionFactory&quot;)\n          ReactiveRedisConnectionFactory connectionFactory) {\n    return prepareRedisTemplate(connectionFactory);\n  }\n\n  @Bean(name = &quot;reactiveRedisWhitelistingConnectionFactory&quot;)\n  public ReactiveRedisConnectionFactory redisWhitelistingConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n\n    String whitelistingDb = getProperty(redisProperties, RedisDb.WHITELISTING_DB);\n    setRedisProperties(redisConfiguration, whitelistingDb);\n\n    LettuceClientConfiguration clientConfiguration =\n        LettuceClientConfiguration.builder()\n            .commandTimeout(Duration.ofMillis(Long.parseLong(timeout)))\n            .build();\n\n    logRedisConnectionDetails(redisConfiguration, clientConfiguration);\n\n    return new LettuceConnectionFactory(redisConfiguration, clientConfiguration);\n  }\n\n  @Bean(name = &quot;reactiveWhitelistingRedisTemplate&quot;)\n  public ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate(\n      @Qualifier(value = &quot;reactiveRedisWhitelistingConnectionFactory&quot;)\n          ReactiveRedisConnectionFactory connectionFactory) {\n    return prepareRedisTemplate(connectionFactory);\n  }\n\n  @Bean(name = &quot;redisSerializer&quot;)\n  public Jackson2JsonRedisSerializer&lt;Object&gt; redisSerializer() {\n    return new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\n  }\n\n  private ReactiveRedisOperations&lt;String, Object&gt; prepareRedisTemplate(ReactiveRedisConnectionFactory connectionFactory) {\n    Jackson2JsonRedisSerializer&lt;Object&gt; redisSerializer =\n        new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\n\n    RedisSerializationContextBuilder&lt;String, Object&gt; serializationContext =\n        RedisSerializationContext.newSerializationContext(new StringRedisSerializer());\n\n    RedisSerializationContext&lt;String, Object&gt; context =\n        serializationContext\n            .value(redisSerializer)\n            .hashKey(redisSerializer)\n            .hashValue(redisSerializer)\n            .build();\n    return new ReactiveRedisTemplate&lt;&gt;(connectionFactory, context);\n  }\n\n  private void setRedisProperties(RedisStandaloneConfiguration redisConfiguration, String redisDb) {\n    redisConfiguration.setHostName(host);\n    redisConfiguration.setPort(port);\n    redisConfiguration.setDatabase(Integer.parseInt(redisDb));\n    redisConfiguration.setPassword(RedisPassword.of(password));\n  }\n\n  private void logRedisConnectionDetails(\n      RedisStandaloneConfiguration redisConfiguration,\n      LettuceClientConfiguration clientConfiguration) {\n    log.info(\n        &quot;Connected to Redis host: {}, port: {}, database: {}, commandTimeout: {}&quot;,\n        redisConfiguration.getHostName(),\n        redisConfiguration.getPort(),\n        redisConfiguration.getDatabase(),\n        clientConfiguration.getCommandTimeout().toSeconds());\n  }\n}\n\n</code></pre>\n<p>My &quot;test&quot; class looks like:</p>\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class ApiGatewayApplication implements CommandLineRunner {\n\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate;\n  private final ReactiveRedisOperations&lt;String, Object&gt; reactiveUserRedisTemplate;\n\n  public ApiGatewayApplication(\n      @Qualifier(value = &quot;reactiveWhitelistingRedisTemplate&quot;) ReactiveRedisOperations&lt;String, Object&gt; reactiveWhitelistingRedisTemplate,\n      @Qualifier(value = &quot;reactiveUserRedisTemplate&quot;) ReactiveRedisOperations&lt;String, Object&gt; reactiveUserRedisTemplate) {\n    this.reactiveWhitelistingRedisTemplate = reactiveWhitelistingRedisTemplate;\n    this.reactiveUserRedisTemplate = reactiveUserRedisTemplate;\n  }\n\n  public static void main(String[] args) {\n    SpringApplication.run(ApiGatewayApplication.class, args);\n  }\n\n  @Override\n  public void run(String... args) {\n\n    log.info(&quot;CASE1&quot;);\n    log.info(\n        String.valueOf(\n            reactiveWhitelistingRedisTemplate\n                .keys(&quot;*&quot;)\n                .flatMap(reactiveWhitelistingRedisTemplate.opsForValue()::get)));\n    log.info(&quot;CASE2&quot;);\n    log.info(String.valueOf(reactiveWhitelistingRedisTemplate.scan()));\n    log.info(&quot;CASE3&quot;);\n    log.info(String.valueOf(reactiveUserRedisTemplate.keys(&quot;*&quot;)));\n    log.info(&quot;CASE4&quot;);\n    log.info(reactiveWhitelistingRedisTemplate.randomKey() + &quot;RANDOM&quot;);\n    log.info(&quot;CASE5&quot;);\n    log.info(String.valueOf(reactiveWhitelistingRedisTemplate.opsForValue().get(&quot;whitelisting:zenon112&quot;)));\n  }\n}\n</code></pre>\n<p>While getting key/keys I am always receiving empty Mono/Flux as a result like:</p>\n<pre><code>CASE1\nFluxFlatMap\nCASE2\nFluxMap\nCASE3\nFluxMap\nCASE4\nMonoMapRANDOM\nCASE5\nMonoNext\n</code></pre>\n<p>I am convinced that Redis is not empty and example key in Redis is <code>whitelisting:ranomuser112</code></p>\n<p>To be honest I am confused about what I am doing wrong and will be grateful for suggestions on how to get the particular key from reactive Redis. Cheers!</p>\n"},{"tags":["java","json","spring","mockmvc"],"comments":[{"owner":{"account_id":9435286,"reputation":1400,"user_id":7017439,"accept_rate":86,"display_name":"Narandhran Thangavel"},"score":0,"creation_date":1565089968,"post_id":57374306,"comment_id":101234004,"body_markdown":"Usually response of multiple rows will be an array, like `[ {row1},{row2},.., ]`. So you can `simply use array.length` property.","body":"Usually response of multiple rows will be an array, like <code>[ {row1},{row2},.., ]</code>. So you can <code>simply use array.length</code> property."},{"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"score":0,"creation_date":1565090182,"post_id":57374306,"comment_id":101234115,"body_markdown":"@Narendhran, I have an array, but I don&#39;t see in MvcResult  methods to convert in to array or to get length array length...","body":"@Narendhran, I have an array, but I don&#39;t see in MvcResult  methods to convert in to array or to get length array length..."},{"owner":{"account_id":9435286,"reputation":1400,"user_id":7017439,"accept_rate":86,"display_name":"Narandhran Thangavel"},"score":0,"creation_date":1565090401,"post_id":57374306,"comment_id":101234210,"body_markdown":"there are lot of third party library out there to convert json string to object, some of the famous libraries are Jackson, GSON","body":"there are lot of third party library out there to convert json string to object, some of the famous libraries are Jackson, GSON"}],"answers":[{"tags":[],"owner":{"account_id":14271789,"reputation":314,"user_id":10309072,"display_name":"lakmina chathurya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565090722,"creation_date":1565090722,"answer_id":57374952,"question_id":57374306,"body_markdown":"if you want to get json array length this is the way,\r\n\r\n1.if you import `org.json.simple.JSONArray` you can use `JSONArray.size()`\r\n\r\n2.if you import `org.json.JSONArray` you can use `JSONArray.length()`\r\n\r\n","title":"Get size of json from MvcResult","body":"<p>if you want to get json array length this is the way,</p>\n\n<p>1.if you import <code>org.json.simple.JSONArray</code> you can use <code>JSONArray.size()</code></p>\n\n<p>2.if you import <code>org.json.JSONArray</code> you can use <code>JSONArray.length()</code></p>\n"},{"tags":[],"owner":{"account_id":4290023,"reputation":43,"user_id":3506652,"display_name":"user3506652"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565091432,"creation_date":1565091432,"answer_id":57375183,"question_id":57374306,"body_markdown":"Try:\r\n\r\n    String content = result.getResponse().getContentAsString();\r\n\r\nand then try this [one][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15609306/convert-string-to-json-array","title":"Get size of json from MvcResult","body":"<p>Try:</p>\n\n<pre><code>String content = result.getResponse().getContentAsString();\n</code></pre>\n\n<p>and then try this <a href=\"https://stackoverflow.com/questions/15609306/convert-string-to-json-array\">one</a> </p>\n"},{"tags":[],"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565091987,"creation_date":1565091987,"answer_id":57375371,"question_id":57374306,"body_markdown":"Since you are using MockMvc instead of returning with `andReturn()` you can use the JSONPath support like:\r\n\r\n      mvc.perform( MockMvcRequestBuilders\r\n      .get(&quot;/resource&quot;)\r\n      .accept(MediaType.APPLICATION_JSON))\r\n      .andExpect(status().isOk())\r\n      .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.length&quot;).value(2))","title":"Get size of json from MvcResult","body":"<p>Since you are using MockMvc instead of returning with <code>andReturn()</code> you can use the JSONPath support like:</p>\n\n<pre><code>  mvc.perform( MockMvcRequestBuilders\n  .get(\"/resource\")\n  .accept(MediaType.APPLICATION_JSON))\n  .andExpect(status().isOk())\n  .andExpect(MockMvcResultMatchers.jsonPath(\"$.length\").value(2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2147392,"reputation":5406,"user_id":2308204,"accept_rate":83,"display_name":"Rodrigo Villalba Zayas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612990406,"creation_date":1612990406,"answer_id":66144841,"question_id":57374306,"body_markdown":"Let&#39;s say your response is something like this:\r\n\r\n    {\r\n      result : [\r\n         {\r\n           &quot;field1&quot;: &quot;a&quot;,\r\n           &quot;field2&quot;: &quot;b&quot;\r\n         },\r\n         {\r\n           &quot;field1&quot;: &quot;c&quot;,\r\n           &quot;field2&quot;: &quot;d&quot;\r\n         }\r\n      ]\r\n    }\r\n\r\nIn this case you&#39;d use MockMvc to write assertions like this:\r\n\r\n    mvc.perform(MockMvcRequestBuilders\r\n    .get(&quot;/resource&quot;)\r\n    .accept(MediaType.APPLICATION_JSON))\r\n    .andExpect(MockMvcResultMatchers.status().isOk())\r\n    .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.result.length()&quot;).value(2))","title":"Get size of json from MvcResult","body":"<p>Let's say your response is something like this:</p>\n<pre><code>{\n  result : [\n     {\n       &quot;field1&quot;: &quot;a&quot;,\n       &quot;field2&quot;: &quot;b&quot;\n     },\n     {\n       &quot;field1&quot;: &quot;c&quot;,\n       &quot;field2&quot;: &quot;d&quot;\n     }\n  ]\n}\n</code></pre>\n<p>In this case you'd use MockMvc to write assertions like this:</p>\n<pre><code>mvc.perform(MockMvcRequestBuilders\n.get(&quot;/resource&quot;)\n.accept(MediaType.APPLICATION_JSON))\n.andExpect(MockMvcResultMatchers.status().isOk())\n.andExpect(MockMvcResultMatchers.jsonPath(&quot;$.result.length()&quot;).value(2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7134726,"reputation":3847,"user_id":5454794,"display_name":"beatrice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638917251,"creation_date":1638917251,"answer_id":70267872,"question_id":57374306,"body_markdown":"Use **com.jayway.JsonPath** (you already have this class through spring-boot-starter-test )\r\n\r\n    Integer length = JsonPath.read(result.getResponse().getContentAsString(), &quot;$.length()&quot;);","title":"Get size of json from MvcResult","body":"<p>Use <strong>com.jayway.JsonPath</strong> (you already have this class through spring-boot-starter-test )</p>\n<pre><code>Integer length = JsonPath.read(result.getResponse().getContentAsString(), &quot;$.length()&quot;);\n</code></pre>\n"}],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57374952,"answer_count":5,"score":2,"last_activity_date":1638917251,"creation_date":1565088423,"question_id":57374306,"body_markdown":"I&#39;m testing an API and get all data from the DB. I save the response as \r\n\r\n    MvcResult result = mockMvc.perform(..some code..).andReturn();\r\n\r\nI get a json as response. I want to get the length of json array. \r\nSo, if I have 2 rows in DB, I want to get 2 as a result.\r\n\r\nOr is there maybe another way to count number of rows which are present in the DB.","title":"Get size of json from MvcResult","body":"<p>I'm testing an API and get all data from the DB. I save the response as </p>\n\n<pre><code>MvcResult result = mockMvc.perform(..some code..).andReturn();\n</code></pre>\n\n<p>I get a json as response. I want to get the length of json array. \nSo, if I have 2 rows in DB, I want to get 2 as a result.</p>\n\n<p>Or is there maybe another way to count number of rows which are present in the DB.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24150,"reputation":3059,"user_id":61248,"accept_rate":68,"display_name":"Grumblesaurus"},"score":2,"creation_date":1638828853,"post_id":70252490,"comment_id":124187492,"body_markdown":"Your findMedian() method doesn&#39;t do anything. It always returns 0. You need to do stuff there.","body":"Your findMedian() method doesn&#39;t do anything. It always returns 0. You need to do stuff there."},{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":0,"creation_date":1638916578,"post_id":70252490,"comment_id":124214423,"body_markdown":"If you&#39;re not sure what to do in code, write it out in English. It&#39;s much easier to go from pseudocode to code than it is to go from idea to code","body":"If you&#39;re not sure what to do in code, write it out in English. It&#39;s much easier to go from pseudocode to code than it is to go from idea to code"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1638916607,"post_id":70252490,"comment_id":124214427,"body_markdown":"By the way, `Vector` is barely used nowadays, in favor of `ArrayList`.","body":"By the way, <code>Vector</code> is barely used nowadays, in favor of <code>ArrayList</code>."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638917200,"creation_date":1638916827,"answer_id":70267807,"question_id":70252490,"body_markdown":"It is working, but only on empty list. To make it work: we should apply what we learned ..and little try.\r\n\r\nVoila:\r\n\r\n    public int findMedian(Vector&lt;Integer&gt; list) { \r\n       if (list == null || list.isEmpty()) { \r\n           throw new IllegalArgumentException(&quot;&#39;list&#39; is null or empty&quot;);    \r\n       } // from here: list not null and list.size() &gt; 0 ... :\r\n       // sort the &quot;list&quot;:    \r\n       java.util.Collections.sort(list); // if you may not modify the list: create a copy first! (the list remains sorted, also when leaving the method...\r\n       // return &quot;middle&quot; element:\r\n       return list.get(list.size()/2); \r\n    }   \r\n\r\n[javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html)","title":"Can someone help me with my homework - Implementation of findMedian(…)","body":"<p>It is working, but only on empty list. To make it work: we should apply what we learned ..and little try.</p>\n<p>Voila:</p>\n<pre><code>public int findMedian(Vector&lt;Integer&gt; list) { \n   if (list == null || list.isEmpty()) { \n       throw new IllegalArgumentException(&quot;'list' is null or empty&quot;);    \n   } // from here: list not null and list.size() &gt; 0 ... :\n   // sort the &quot;list&quot;:    \n   java.util.Collections.sort(list); // if you may not modify the list: create a copy first! (the list remains sorted, also when leaving the method...\n   // return &quot;middle&quot; element:\n   return list.get(list.size()/2); \n}   \n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html\" rel=\"nofollow noreferrer\">javadoc</a></p>\n"}],"owner":{"account_id":23567042,"reputation":15,"user_id":17607644,"display_name":"Tomasz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":70267807,"answer_count":1,"score":-3,"last_activity_date":1638917200,"creation_date":1638827985,"question_id":70252490,"body_markdown":"## Problem #\r\nI have a task that reads as follows:\r\n\r\nImplement an IntegerList class with a Vector &lt;Integer&gt; list object attribute that contains a collection of integers. Implement the findMedian () method which, for a given object from o of the IntegerList class, returns a number m from the vector o.list such that there are at least half of the numbers less than or equal to m, and the numbers greater than or equal to m are also at least half:\r\n\r\nFor example, for [1, 4, 1, 3, 5, 7] it will be the number 4, and for [1, 1, 1, 2, 2] it will be the number 1 and only 1. If the vector is empty then the method is supposed to throw an IllegalArgumentException exception.\r\n\r\n## What I tried? #\r\n```\r\nimport java.util.Vector;\t\r\npublic class IntegerList {\t\r\n    Vector&lt;Integer&gt; list =new Vector&lt;Integer&gt;();\t\r\n    \t\r\n    public int findMedian(Vector&lt;Integer&gt;list){\t\r\n       if(list.size() ==0){\t\r\n           throw new IllegalArgumentException();\t\r\n       }\t\r\n        int result =0;\t\r\n\t\r\n    return result;\t\r\n    }\t\r\n}\t\r\n\t\r\n\t\r\npublic class Main {\t\r\n    public static void main(String[] args){\t\r\n        IntegerList v = new IntegerList();\t\r\n        v.list.add(2);\t\r\n        v.list.add(3);\t\r\n        v.list.add(4);\t\r\n        v.list.add(9);\t\r\n        System.out.println(v.findMedian(v.list));\t\r\n\t\r\n\t\r\n    }\t\r\n}\t\r\n\r\n```\r\n\r\n## My question:\r\n\r\nWhy this not working?\r\nWhat would you change to even better solve this problem?","title":"Can someone help me with my homework - Implementation of findMedian(…)","body":"<h2>Problem</h2>\n<p>I have a task that reads as follows:</p>\n<p>Implement an IntegerList class with a Vector  list object attribute that contains a collection of integers. Implement the findMedian () method which, for a given object from o of the IntegerList class, returns a number m from the vector o.list such that there are at least half of the numbers less than or equal to m, and the numbers greater than or equal to m are also at least half:</p>\n<p>For example, for [1, 4, 1, 3, 5, 7] it will be the number 4, and for [1, 1, 1, 2, 2] it will be the number 1 and only 1. If the vector is empty then the method is supposed to throw an IllegalArgumentException exception.</p>\n<h2>What I tried?</h2>\n<pre><code>import java.util.Vector;    \npublic class IntegerList {  \n    Vector&lt;Integer&gt; list =new Vector&lt;Integer&gt;();    \n        \n    public int findMedian(Vector&lt;Integer&gt;list){ \n       if(list.size() ==0){ \n           throw new IllegalArgumentException();    \n       }    \n        int result =0;  \n    \n    return result;  \n    }   \n}   \n    \n    \npublic class Main { \n    public static void main(String[] args){ \n        IntegerList v = new IntegerList();  \n        v.list.add(2);  \n        v.list.add(3);  \n        v.list.add(4);  \n        v.list.add(9);  \n        System.out.println(v.findMedian(v.list));   \n    \n    \n    }   \n}   \n\n</code></pre>\n<h2>My question:</h2>\n<p>Why this not working?\nWhat would you change to even better solve this problem?</p>\n"},{"tags":["java","spring-boot","gradle","artifactory"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638916928,"creation_date":1638916928,"answer_id":70267830,"question_id":70266836,"body_markdown":"Using `from components.web` means that you are publishing the artifact produced by the `war` task. You need to publish the artifact produced by the `bootWar` task. You can do so by changing the publication to use `artifact bootWar` instead:\r\n\r\n```\r\npublishing {\r\n  publications {\r\n    MavenPublication(MavenPublication) {\r\n      artifact bootWar\r\n    }\r\n  }\r\n  repositories{\r\n    maven { url &quot;https://artifactory-server&quot; }\r\n  }\r\n}\r\n```\r\n\r\nThis is described in the [reference documentation for Spring Boot&#39;s Gradle plugin](https://docs.spring.io/spring-boot/docs/2.5.x/gradle-plugin/reference/htmlsingle/#publishing-your-application.maven-publish).","title":"gradle publishing project-version-PLAIN.war file instead of project-version.war","body":"<p>Using <code>from components.web</code> means that you are publishing the artifact produced by the <code>war</code> task. You need to publish the artifact produced by the <code>bootWar</code> task. You can do so by changing the publication to use <code>artifact bootWar</code> instead:</p>\n<pre><code>publishing {\n  publications {\n    MavenPublication(MavenPublication) {\n      artifact bootWar\n    }\n  }\n  repositories{\n    maven { url &quot;https://artifactory-server&quot; }\n  }\n}\n</code></pre>\n<p>This is described in the <a href=\"https://docs.spring.io/spring-boot/docs/2.5.x/gradle-plugin/reference/htmlsingle/#publishing-your-application.maven-publish\" rel=\"nofollow noreferrer\">reference documentation for Spring Boot's Gradle plugin</a>.</p>\n"}],"owner":{"account_id":14978334,"reputation":75,"user_id":10813099,"display_name":"cgratelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70267830,"answer_count":1,"score":0,"last_activity_date":1638916928,"creation_date":1638910599,"question_id":70266836,"body_markdown":"When I run &quot;gradle build&quot;, it generates a build/libs/project-version.war file which is able to run by itself with &quot;java -jar&quot; command. But when I run &quot;gradle artifactoryPublish&quot;, it saves on the artifactory repository a &quot;project-version-plain-war&quot; file which does not have tomcat embedded.\r\n\r\nI am following this instruccions https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin\r\n\r\nThe lines added to the gradle.build are something like this:\r\n\r\n    plugin &quot;maven-publish&quot;\r\n    plugin &quot;com.jfrog.artifactory&quot;\r\n    artifactory { \r\n    ...\r\n    }\r\n    \r\n    subprojects {\r\n      plugin &quot;war&quot;\r\n      group = group\r\n      version = version\r\n    \r\n      publishing {\r\n        publications {\r\n          MavenPublication(MavenPublication) {\r\n            from components.web\r\n          }\r\n        }\r\n        repositories{\r\n          maven { url &quot;https://artifactory-server&quot; }\r\n        }\r\n      }\r\n    }\r\n\r\nhelp is appreciated","title":"gradle publishing project-version-PLAIN.war file instead of project-version.war","body":"<p>When I run &quot;gradle build&quot;, it generates a build/libs/project-version.war file which is able to run by itself with &quot;java -jar&quot; command. But when I run &quot;gradle artifactoryPublish&quot;, it saves on the artifactory repository a &quot;project-version-plain-war&quot; file which does not have tomcat embedded.</p>\n<p>I am following this instruccions <a href=\"https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin\" rel=\"nofollow noreferrer\">https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin</a></p>\n<p>The lines added to the gradle.build are something like this:</p>\n<pre><code>plugin &quot;maven-publish&quot;\nplugin &quot;com.jfrog.artifactory&quot;\nartifactory { \n...\n}\n\nsubprojects {\n  plugin &quot;war&quot;\n  group = group\n  version = version\n\n  publishing {\n    publications {\n      MavenPublication(MavenPublication) {\n        from components.web\n      }\n    }\n    repositories{\n      maven { url &quot;https://artifactory-server&quot; }\n    }\n  }\n}\n</code></pre>\n<p>help is appreciated</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor","flatmap"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1638915776,"post_id":70254740,"comment_id":124214192,"body_markdown":"what are you doing with the `Y` object?","body":"what are you doing with the <code>Y</code> object?"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638916253,"creation_date":1638916253,"answer_id":70267722,"question_id":70254740,"body_markdown":"This question is very opinionated.\r\n\r\ni would personally use a [zipWith][1] operator which merges the results of 2 monos into a tuple.\r\n\r\n```\r\nWebClient.call(...)\r\n    .flatMap(user -&gt; webclient.call(&quot;host1&quot;,user.getId())\r\n            .zipWith(webclient.call(&quot;host2&quot;,user.getName()))\r\n    .flatMap(values -&gt; {\r\n        var x = values.getT1();\r\n        var y = values.getT2(),\r\n    })\r\n       \r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-","title":"flatMap reuse response from reactive call","body":"<p>This question is very opinionated.</p>\n<p>i would personally use a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWith-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\">zipWith</a> operator which merges the results of 2 monos into a tuple.</p>\n<pre><code>WebClient.call(...)\n    .flatMap(user -&gt; webclient.call(&quot;host1&quot;,user.getId())\n            .zipWith(webclient.call(&quot;host2&quot;,user.getName()))\n    .flatMap(values -&gt; {\n        var x = values.getT1();\n        var y = values.getT2(),\n    })\n       \n</code></pre>\n"}],"owner":{"account_id":11432556,"reputation":15,"user_id":17384554,"display_name":"Chieu Van Vuong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70267722,"answer_count":1,"score":1,"last_activity_date":1638916253,"creation_date":1638849142,"question_id":70254740,"body_markdown":"Currently, I have a question, something like this:\r\n\r\n    WebClient.call(...)\r\n           .flatMap(user -&gt; webclient.call(&quot;host1&quot;,user.getId/*obj request*/);})//assume this return X.class\r\n      (*)  .flatMap(x -&gt; webclient.call(&quot;host2&quot;,user.getName/*obj request*/))//&quot;x&quot; is not used here, i want reuse object &quot;user&quot; but was compiled error, // assume this return Y.class\r\n           .map(x -&gt; webclient.call(...))// &quot;x&quot; is used here\r\n\r\nUser\r\n----\r\n\r\n    Class User {\r\n        string id;\r\n        string name;\r\n    }\r\n\r\nX\r\n-\r\n\r\n    Class X {\r\n        string deviceNo;\r\n    }\r\n\r\nY\r\n-\r\n\r\n    Class Y {\r\n        Boolean isCorrect;\r\n    }\r\n\r\nThe question is how do I reuse correctly the &quot;user&quot; and the &quot;x&quot; response from the previous call?\r\n\r\nHere are my solutions for marked(*) place:\r\n------------------------------------------\r\n\r\n \r\n\r\n&gt; 1. nested flatMap(), then can thenReturn(user) for next map().\r\n\r\nAny issue with the scope of a variable(user) when I build a chain(nested flatMap...) like this so far?\r\n\r\n```webclient.call(...)\r\n       .flatMap(user -&gt; { \r\n              return webclient.call(&quot;host1&quot;,user.getId/*obj request*/))\r\n              .flatMap(x -&gt; webclient.call(&quot;host2&quot;,user.getName/*obj request*/) //this consider as a side effect?\r\n              .thenReturn(x));} still return &quot;x&quot;\r\n       .map(x -&gt; webclient.call(...))// &quot;x&quot; is used here \r\n```\r\n\r\n&gt; 2. keep response by wrapping it in an object using map (i don&#39;t want to use this solution)\r\n\r\n```webclient.call(...)\r\n       .flatMap(user -&gt; {\r\n               return webclient.call(&quot;host1&quot;,user.getId/*obj request*/).map(x-&gt; new X1(x, user)}))\r\n       .flatMap(x1 -&gt; webclient.call(&quot;host2&quot;, X1.GETUSER.GETNAME /*obj request*/).map(y -&gt; new Y1(x1, y)}))\r\n       .map(y1 -&gt; webclient.call(&quot;host3&quot;,Y1.GETX1.X...))// &quot;x&quot; is used here \r\n```\r\n\r\nX1, wrap x and user\r\n-------------------\r\n\r\n    Class X1 {\r\n        public X1(x, user){}//contructor\r\n\r\n        X x;\r\n        User user\r\n    }\r\n\r\nany idea, please help to review/advice\r\nThank you","title":"flatMap reuse response from reactive call","body":"<p>Currently, I have a question, something like this:</p>\n<pre><code>WebClient.call(...)\n       .flatMap(user -&gt; webclient.call(&quot;host1&quot;,user.getId/*obj request*/);})//assume this return X.class\n  (*)  .flatMap(x -&gt; webclient.call(&quot;host2&quot;,user.getName/*obj request*/))//&quot;x&quot; is not used here, i want reuse object &quot;user&quot; but was compiled error, // assume this return Y.class\n       .map(x -&gt; webclient.call(...))// &quot;x&quot; is used here\n</code></pre>\n<h2>User</h2>\n<pre><code>Class User {\n    string id;\n    string name;\n}\n</code></pre>\n<h2>X</h2>\n<pre><code>Class X {\n    string deviceNo;\n}\n</code></pre>\n<h2>Y</h2>\n<pre><code>Class Y {\n    Boolean isCorrect;\n}\n</code></pre>\n<p>The question is how do I reuse correctly the &quot;user&quot; and the &quot;x&quot; response from the previous call?</p>\n<h2>Here are my solutions for marked(*) place:</h2>\n<blockquote>\n<ol>\n<li>nested flatMap(), then can thenReturn(user) for next map().</li>\n</ol>\n</blockquote>\n<p>Any issue with the scope of a variable(user) when I build a chain(nested flatMap...) like this so far?</p>\n<pre><code>       .flatMap(user -&gt; { \n              return webclient.call(&quot;host1&quot;,user.getId/*obj request*/))\n              .flatMap(x -&gt; webclient.call(&quot;host2&quot;,user.getName/*obj request*/) //this consider as a side effect?\n              .thenReturn(x));} still return &quot;x&quot;\n       .map(x -&gt; webclient.call(...))// &quot;x&quot; is used here \n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>keep response by wrapping it in an object using map (i don't want to use this solution)</li>\n</ol>\n</blockquote>\n<pre><code>       .flatMap(user -&gt; {\n               return webclient.call(&quot;host1&quot;,user.getId/*obj request*/).map(x-&gt; new X1(x, user)}))\n       .flatMap(x1 -&gt; webclient.call(&quot;host2&quot;, X1.GETUSER.GETNAME /*obj request*/).map(y -&gt; new Y1(x1, y)}))\n       .map(y1 -&gt; webclient.call(&quot;host3&quot;,Y1.GETX1.X...))// &quot;x&quot; is used here \n</code></pre>\n<h2>X1, wrap x and user</h2>\n<pre><code>Class X1 {\n    public X1(x, user){}//contructor\n\n    X x;\n    User user\n}\n</code></pre>\n<p>any idea, please help to review/advice\nThank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":4,"creation_date":1638914863,"post_id":70267506,"comment_id":124213952,"body_markdown":"The first expression is parsed as `(a == b) == &#39;x&#39;`, where `(a == b)` returns a `boolean`.","body":"The first expression is parsed as <code>(a == b) == &#39;x&#39;</code>, where <code>(a == b)</code> returns a <code>boolean</code>."},{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":0,"creation_date":1638915903,"post_id":70267506,"comment_id":124214223,"body_markdown":"For your reading, I&#39;d recommend you take a look at [operator precedence](https://introcs.cs.princeton.edu/java/11precedence/).","body":"For your reading, I&#39;d recommend you take a look at <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"nofollow noreferrer\">operator precedence</a>."}],"answers":[{"tags":[],"owner":{"account_id":19961426,"reputation":124,"user_id":14628929,"display_name":"sourheart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638916178,"creation_date":1638916178,"answer_id":70267714,"question_id":70267506,"body_markdown":"because the comparison can only be made between two elements, if you want to add an additional element you have to use the operators &amp;&amp; or || \r\nFor more information: \r\n\r\nhttps://libguides.mit.edu/c.php?g=175963&amp;p=1158594\r\n\r\n","title":"incompatible types char and boolean","body":"<p>because the comparison can only be made between two elements, if you want to add an additional element you have to use the operators &amp;&amp; or ||\nFor more information:</p>\n<p><a href=\"https://libguides.mit.edu/c.php?g=175963&amp;p=1158594\" rel=\"nofollow noreferrer\">https://libguides.mit.edu/c.php?g=175963&amp;p=1158594</a></p>\n"}],"owner":{"account_id":23580317,"reputation":11,"user_id":17619422,"display_name":"itsame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638916178,"creation_date":1638914770,"question_id":70267506,"body_markdown":"Im writing a code in which I am trying to compare two characters in a string. Originally I had this \r\n\r\n        boolean doubleX(String str) {\r\n        boolean n = false;\r\n        if (str.length() &lt; 2) {\r\n            n = false;\r\n        } else {\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                String sub = str.substring(0, 2);\r\n                char a = sub.charAt(i);\r\n                char b = sub.charAt(i + 1);\r\n\r\n                if (a == b == &#39;x&#39;) {\r\n                    n = true;\r\n                }\r\n            }\r\n        }\r\n        return n;\r\n    }\r\n\r\nThe error it gave me was &quot;incomparable types: boolean and char&quot;. This is the line it had a problem with:\r\n\r\n    if (a == b == &#39;x&#39;)\r\n\r\nso I changed it to \r\n\r\n    if (a==&#39;x&#39; &amp;&amp; a == b)\r\n\r\nThe second way of writing it worked. How come I am able to use the second statement but not the first? \r\nThank you!\r\n","title":"incompatible types char and boolean","body":"<p>Im writing a code in which I am trying to compare two characters in a string. Originally I had this</p>\n<pre><code>    boolean doubleX(String str) {\n    boolean n = false;\n    if (str.length() &lt; 2) {\n        n = false;\n    } else {\n        for (int i = 0; i &lt; 2; i++) {\n            String sub = str.substring(0, 2);\n            char a = sub.charAt(i);\n            char b = sub.charAt(i + 1);\n\n            if (a == b == 'x') {\n                n = true;\n            }\n        }\n    }\n    return n;\n}\n</code></pre>\n<p>The error it gave me was &quot;incomparable types: boolean and char&quot;. This is the line it had a problem with:</p>\n<pre><code>if (a == b == 'x')\n</code></pre>\n<p>so I changed it to</p>\n<pre><code>if (a=='x' &amp;&amp; a == b)\n</code></pre>\n<p>The second way of writing it worked. How come I am able to use the second statement but not the first?\nThank you!</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638915494,"post_id":70267546,"comment_id":124214122,"body_markdown":"Change `Executors.newFixedThreadPool` to use something other than `Runtime.getRuntime().availableProcessors()`, try and experiment with it little, see where it might help.  Remember though, more threads doesn&#39;t always mean more done in less time","body":"Change <code>Executors.newFixedThreadPool</code> to use something other than <code>Runtime.getRuntime().availableProcessors()</code>, try and experiment with it little, see where it might help.  Remember though, more threads doesn&#39;t always mean more done in less time"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638915583,"post_id":70267546,"comment_id":124214146,"body_markdown":"Also, If you suspect the code is inefficient try running a sampler during program execution to get a feeling in which methods the most execution time is spent.","body":"Also, If you suspect the code is inefficient try running a sampler during program execution to get a feeling in which methods the most execution time is spent."},{"owner":{"account_id":1019341,"reputation":5528,"user_id":1030169,"display_name":"jmoerdyk"},"score":1,"creation_date":1638916798,"post_id":70267546,"comment_id":124214477,"body_markdown":"Questions about improving otherwise working code may be better suited for [codereview.se], but be sure to follow their [content guidelines](https://codereview.stackexchange.com/help/on-topic) and [How to Ask](https://codereview.stackexchange.com/help/how-to-ask) to ensure an on-topic question.","body":"Questions about improving otherwise working code may be better suited for <a href=\"https://codereview.stackexchange.com\">Code Review</a>, but be sure to follow their <a href=\"https://codereview.stackexchange.com/help/on-topic\">content guidelines</a> and <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">How to Ask</a> to ensure an on-topic question."}],"owner":{"account_id":14783742,"reputation":11,"user_id":10676604,"display_name":"Krystofer125"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638915027,"creation_date":1638915027,"question_id":70267546,"body_markdown":"I have to run some experiments for my computer laboratories. Simply said, I have to run an algorithm 10 times and write down the results. Then I have to change the parameters of the algorithm an run the experiment again. I wanted to run that algorithm in multiple thread to save some time. However I only managed to save about a minute.\r\n\r\nHere&#39;s the method responsible for said multithreading:\r\n```\r\npublic void runExperiment() {\r\n\t\tfinal long startTime = System.currentTimeMillis();\r\n\t\tArrayList&lt;Callable&lt;Double&gt;&gt; callables = new ArrayList&lt;&gt;();\r\n\t\tAssignmentProblemSolution initialSolution = new AssignmentProblemSolution(filePath);\r\n\t\tExecutorService executorService = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n\r\n\t\tfor (int i = 0; i &lt; numberOfExecutions; i++) {\r\n\t\t\tcallables.add(new SimulatedAnnealing(MAX_ITER, N, Temperature, Alpha, initialSolution.newInstance()));\r\n\t\t}\r\n\r\n\r\n\t\tList&lt;Future&lt;Double&gt;&gt; futures = null;\r\n\t\ttry {\r\n\t\t\tfutures = executorService.invokeAll(callables);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; numberOfExecutions; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tvaluesOfSolutions[i] = futures.get(i).get();\r\n\t\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\taverage += valuesOfSolutions[i];\r\n\t\t}\r\n\r\n\t\texecutorService.shutdown();\r\n\t\ttry {\r\n\t\t\tif (!executorService.awaitTermination(800, TimeUnit.MILLISECONDS)) {\r\n\t\t\t\texecutorService.shutdownNow();\r\n\t\t\t}\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\texecutorService.shutdownNow();\r\n\t\t}\r\n\r\n\t\taverage /= numberOfExecutions;\r\n\r\n\t\tfinal long endTime = System.currentTimeMillis();\r\n\r\n\t\ttimeElapsed = (double) (endTime - startTime) / 1000;\r\n\t}\r\n```\r\n\r\nHere is the *call()* method from *SimulatedAnnealing* class:\r\n```\r\n@Override\r\n\tpublic Double call() throws Exception {\r\n\t\tfor (int i = 0; i &lt; this.maximalNumberOfOuterIterations; i++) {\r\n\t\t\tfor (int j = 0; j &lt; this.numberOfInnerIterations; j++) {\r\n\t\t\t\tSolution newSolution = currentSolution.findSolutionFromNeighbourhood();\r\n\r\n\t\t\t\tif (currentSolution.getValue() &gt; newSolution.getValue()) {\r\n\t\t\t\t\tcurrentSolution = newSolution;\r\n\t\t\t\t} else if (ThreadLocalRandom.current().nextDouble(1) &lt; Math.exp((currentSolution.getValue() - newSolution.getValue()) / this.temperature)) {\r\n\t\t\t\t\tcurrentSolution = newSolution;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.temperature *= this.alpha;\r\n\t\t}\r\n\r\n\t\treturn currentSolution.getValue();\r\n\t}\r\n```\r\nThe *findSolutionFromNeighbourhood()* method return a new solution:\r\n```\r\npublic Solution findSolutionFromNeighbourhood() {\r\n\treturn new AssignmentProblemSolution(this);\r\n}\r\n\r\nprivate AssignmentProblemSolution(AssignmentProblemSolution assignmentProblemSolution) {\r\n\t\tthis.size = assignmentProblemSolution.getSize();\r\n\t\tthis.costs = assignmentProblemSolution.getCosts();\r\n\t\tthis.assignments = assignmentProblemSolution.findAssignmentsMatrixFromNeighbourhood();\r\n\t\tthis.value = computeValue();\r\n\t}\r\n```\r\nGetter for *costs* copies the *costs* array with *Arrays.copyOf()*. Similary *findAssignmentMatrixFromNeighbourhood()* uses *Arrays.copyOf()* and then swaps two elements.\r\n\r\nHow can I improve my code, so that I can shave some time off running this experiment.","title":"How to improve multithreading in java","body":"<p>I have to run some experiments for my computer laboratories. Simply said, I have to run an algorithm 10 times and write down the results. Then I have to change the parameters of the algorithm an run the experiment again. I wanted to run that algorithm in multiple thread to save some time. However I only managed to save about a minute.</p>\n<p>Here's the method responsible for said multithreading:</p>\n<pre><code>public void runExperiment() {\n        final long startTime = System.currentTimeMillis();\n        ArrayList&lt;Callable&lt;Double&gt;&gt; callables = new ArrayList&lt;&gt;();\n        AssignmentProblemSolution initialSolution = new AssignmentProblemSolution(filePath);\n        ExecutorService executorService = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n\n        for (int i = 0; i &lt; numberOfExecutions; i++) {\n            callables.add(new SimulatedAnnealing(MAX_ITER, N, Temperature, Alpha, initialSolution.newInstance()));\n        }\n\n\n        List&lt;Future&lt;Double&gt;&gt; futures = null;\n        try {\n            futures = executorService.invokeAll(callables);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        for (int i = 0; i &lt; numberOfExecutions; i++) {\n            try {\n                valuesOfSolutions[i] = futures.get(i).get();\n            } catch (InterruptedException | ExecutionException e) {\n                e.printStackTrace();\n            }\n            average += valuesOfSolutions[i];\n        }\n\n        executorService.shutdown();\n        try {\n            if (!executorService.awaitTermination(800, TimeUnit.MILLISECONDS)) {\n                executorService.shutdownNow();\n            }\n        } catch (InterruptedException e) {\n            executorService.shutdownNow();\n        }\n\n        average /= numberOfExecutions;\n\n        final long endTime = System.currentTimeMillis();\n\n        timeElapsed = (double) (endTime - startTime) / 1000;\n    }\n</code></pre>\n<p>Here is the <em>call()</em> method from <em>SimulatedAnnealing</em> class:</p>\n<pre><code>@Override\n    public Double call() throws Exception {\n        for (int i = 0; i &lt; this.maximalNumberOfOuterIterations; i++) {\n            for (int j = 0; j &lt; this.numberOfInnerIterations; j++) {\n                Solution newSolution = currentSolution.findSolutionFromNeighbourhood();\n\n                if (currentSolution.getValue() &gt; newSolution.getValue()) {\n                    currentSolution = newSolution;\n                } else if (ThreadLocalRandom.current().nextDouble(1) &lt; Math.exp((currentSolution.getValue() - newSolution.getValue()) / this.temperature)) {\n                    currentSolution = newSolution;\n                }\n            }\n\n            this.temperature *= this.alpha;\n        }\n\n        return currentSolution.getValue();\n    }\n</code></pre>\n<p>The <em>findSolutionFromNeighbourhood()</em> method return a new solution:</p>\n<pre><code>public Solution findSolutionFromNeighbourhood() {\n    return new AssignmentProblemSolution(this);\n}\n\nprivate AssignmentProblemSolution(AssignmentProblemSolution assignmentProblemSolution) {\n        this.size = assignmentProblemSolution.getSize();\n        this.costs = assignmentProblemSolution.getCosts();\n        this.assignments = assignmentProblemSolution.findAssignmentsMatrixFromNeighbourhood();\n        this.value = computeValue();\n    }\n</code></pre>\n<p>Getter for <em>costs</em> copies the <em>costs</em> array with <em>Arrays.copyOf()</em>. Similary <em>findAssignmentMatrixFromNeighbourhood()</em> uses <em>Arrays.copyOf()</em> and then swaps two elements.</p>\n<p>How can I improve my code, so that I can shave some time off running this experiment.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638914812,"creation_date":1638914499,"answer_id":70267450,"question_id":70267194,"body_markdown":"There is no direct relationship between your problem and the `@Transactional` behavior. The problem you encountered was the classic issue unsynchronized methods called from a few threads, while `@Transactional` ensures that all changes in the database occur simultaneously after they have been committed.\r\n\r\nThe simplest solution is to make the method that **calls** this `save` (=a wrapper method [Because of the AOP nature, it must be in another class otherwise the `@Transactional` won&#39;t take affect]) `synchronized`. For more information, please see [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41767861/504807","title":"Java Spring @Transactional prevent concurrency","body":"<p>There is no direct relationship between your problem and the <code>@Transactional</code> behavior. The problem you encountered was the classic issue unsynchronized methods called from a few threads, while <code>@Transactional</code> ensures that all changes in the database occur simultaneously after they have been committed.</p>\n<p>The simplest solution is to make the method that <strong>calls</strong> this <code>save</code> (=a wrapper method [Because of the AOP nature, it must be in another class otherwise the <code>@Transactional</code> won't take affect]) <code>synchronized</code>. For more information, please see <a href=\"https://stackoverflow.com/a/41767861/504807\">this answer</a>.</p>\n"}],"owner":{"account_id":3405565,"reputation":840,"user_id":2856694,"accept_rate":30,"display_name":"Victor Soares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638914812,"creation_date":1638912706,"question_id":70267194,"body_markdown":"How do I prevent a concurrency in Spring transactional?\r\n\r\nThe situation is two requests in parallel to the method below:\r\n\r\n    @Transactional\r\n    public save() {\r\n    \tOptional&lt;Example&gt; result = repository.findById(1);\r\n    \tif(!result.isPresent()) {\r\n    \t\tExample exemple = new Exemple();\r\n    \t\texemple.setParam1(1);\r\n    \t\texemple.setParam2(1);\r\n    \t\texemple.setParam3(1);\r\n    \t\texemple.setParam4(1);\r\n    \t\texemple.setParam5(1);\r\n    \t\texemple.setParam6(1);\r\n    \t\texemple.setParam7(1);\r\n    \t\texemple.setParam8(1);\r\n    \t\trepository.save(exemple);\r\n    \t}\r\n    }\r\n\r\nSo, for exemple, the second request passes through the &quot;ifPresent&quot; verification before the first request ends and commit. Causing unexpected behavior and saving the object twice.\r\n\r\nDo I need to use the @EnableTransactionManagement? Do I need to use some value in @Transactional?","title":"Java Spring @Transactional prevent concurrency","body":"<p>How do I prevent a concurrency in Spring transactional?</p>\n<p>The situation is two requests in parallel to the method below:</p>\n<pre><code>@Transactional\npublic save() {\n    Optional&lt;Example&gt; result = repository.findById(1);\n    if(!result.isPresent()) {\n        Example exemple = new Exemple();\n        exemple.setParam1(1);\n        exemple.setParam2(1);\n        exemple.setParam3(1);\n        exemple.setParam4(1);\n        exemple.setParam5(1);\n        exemple.setParam6(1);\n        exemple.setParam7(1);\n        exemple.setParam8(1);\n        repository.save(exemple);\n    }\n}\n</code></pre>\n<p>So, for exemple, the second request passes through the &quot;ifPresent&quot; verification before the first request ends and commit. Causing unexpected behavior and saving the object twice.</p>\n<p>Do I need to use the @EnableTransactionManagement? Do I need to use some value in @Transactional?</p>\n"},{"tags":["java","algorithm","sorting","time-complexity","counting-sort"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1638914874,"post_id":70267461,"comment_id":124213958,"body_markdown":"`O(m + n)`, where `m` is the maximum element size, and `n` is the number of elements. You visit each element of both arrays exactly once. It&#39;d be easier to conceptualize if you rewrote the inner `while` to `for (int j = count[i]; j &gt; 0; j--) {arr[idx++] = i}`.","body":"<code>O(m + n)</code>, where <code>m</code> is the maximum element size, and <code>n</code> is the number of elements. You visit each element of both arrays exactly once. It&#39;d be easier to conceptualize if you rewrote the inner <code>while</code> to <code>for (int j = count[i]; j &gt; 0; j--) {arr[idx++] = i}</code>."},{"owner":{"account_id":18878594,"reputation":13,"user_id":13771538,"display_name":"Zeke"},"score":0,"creation_date":1638916922,"post_id":70267461,"comment_id":124214508,"body_markdown":"That&#39;s exactly what I needed to know! Thank you.","body":"That&#39;s exactly what I needed to know! Thank you."},{"owner":{"account_id":18878594,"reputation":13,"user_id":13771538,"display_name":"Zeke"},"score":0,"creation_date":1638917515,"post_id":70267461,"comment_id":124214673,"body_markdown":"So as long as `m &lt;= n` my overall time complexity would be O(n) right?","body":"So as long as <code>m &lt;= n</code> my overall time complexity would be O(n) right?"},{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1638923826,"post_id":70267461,"comment_id":124215960,"body_markdown":"no, `O(m + n)`, because `m` and `n` are completely independent of each other, so you can&#39;t fold one into the other. You can still call this linear complexity, though.","body":"no, <code>O(m + n)</code>, because <code>m</code> and <code>n</code> are completely independent of each other, so you can&#39;t fold one into the other. You can still call this linear complexity, though."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663691849,"post_id":70267461,"comment_id":130297750,"body_markdown":"It’s simpler and in most cases faster to use `for(int i = 0, idx = 0; i &lt; count.length; i++) Arrays.fill(arr, idx, idx += count[i], i);`","body":"It’s simpler and in most cases faster to use <code>for(int i = 0, idx = 0; i &lt; count.length; i++) Arrays.fill(arr, idx, idx += count[i], i);</code>"}],"owner":{"account_id":18878594,"reputation":13,"user_id":13771538,"display_name":"Zeke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638914554,"creation_date":1638914554,"question_id":70267461,"body_markdown":"I am trying to write count sort and I understand nesting loops could change the time complexity to O(n&lt;sup&gt;2&lt;/sup&gt;) depending on the algorithm. So instead of writing two different for loops, one which writes to an output array and the other one copying the output array into the main array, I figured I could do a nested while loop inside a for loop to copy contents back into the array while decreasing the count. \r\n\r\nThe for loop takes n times the length of count storage, and then the while loop will depend if `count[i] &gt; 0` else it will just iterate through the next index in the count array. I just need count sort to be in O(n) taking into consideration worst case time complexity. Here is my code below:\r\n\r\nSay for example after getting the counts, count array will be this `[0, 2, 0, 3, 0, 5]`\r\n\r\nThen I do this code segment to write back into the main array,\r\n\r\n        int idx = 0;\r\n        for (int i = 0; i &lt; count.length; i++) {\r\n            while (count[i] &gt; 0) {\r\n                arr[idx++] = i;\r\n                count[i]--;\r\n            }\r\n        }\r\n\r\nI just want to know the break down of the time complexity in this code segment and if the time complexity for this segment will ever become O(n&lt;sup&gt;2&lt;/sup&gt;) or instead using two different for loops would be better to achieve O(n).","title":"Writing count sort and I figured I could nest a while loop in a for loop to copy the contents back to array. What is the time complexity?","body":"<p>I am trying to write count sort and I understand nesting loops could change the time complexity to O(n<sup>2</sup>) depending on the algorithm. So instead of writing two different for loops, one which writes to an output array and the other one copying the output array into the main array, I figured I could do a nested while loop inside a for loop to copy contents back into the array while decreasing the count.</p>\n<p>The for loop takes n times the length of count storage, and then the while loop will depend if <code>count[i] &gt; 0</code> else it will just iterate through the next index in the count array. I just need count sort to be in O(n) taking into consideration worst case time complexity. Here is my code below:</p>\n<p>Say for example after getting the counts, count array will be this <code>[0, 2, 0, 3, 0, 5]</code></p>\n<p>Then I do this code segment to write back into the main array,</p>\n<pre><code>    int idx = 0;\n    for (int i = 0; i &lt; count.length; i++) {\n        while (count[i] &gt; 0) {\n            arr[idx++] = i;\n            count[i]--;\n        }\n    }\n</code></pre>\n<p>I just want to know the break down of the time complexity in this code segment and if the time complexity for this segment will ever become O(n<sup>2</sup>) or instead using two different for loops would be better to achieve O(n).</p>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1638913044,"post_id":70267224,"comment_id":124213470,"body_markdown":"Make each term type a class.","body":"Make each term type a class."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1638913182,"post_id":70267224,"comment_id":124213495,"body_markdown":"I second @shmosel&#39;s suggestion to create a class. I think it should be a `Term` class that represents each term. Then you can parse the file and create instances of that class.","body":"I second @shmosel&#39;s suggestion to create a class. I think it should be a <code>Term</code> class that represents each term. Then you can parse the file and create instances of that class."},{"owner":{"account_id":23580026,"reputation":1,"user_id":17619173,"display_name":"coldbird"},"score":0,"creation_date":1638913304,"post_id":70267224,"comment_id":124213539,"body_markdown":"But they don&#39;t belong together.\n\nThe upper group has nothing to do with the other. If I were to make a class for every TermType, I would put them together, wouldn&#39;t I?","body":"But they don&#39;t belong together.  The upper group has nothing to do with the other. If I were to make a class for every TermType, I would put them together, wouldn&#39;t I?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1638913578,"post_id":70267224,"comment_id":124213637,"body_markdown":"Only type-wise.","body":"Only type-wise."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1638919941,"post_id":70267224,"comment_id":124215245,"body_markdown":"*But they don&#39;t belong together* - then why are they in the same list?","body":"<i>But they don&#39;t belong together</i> - then why are they in the same list?"}],"owner":{"account_id":23580026,"reputation":1,"user_id":17619173,"display_name":"coldbird"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638913748,"creation_date":1638912938,"question_id":70267224,"body_markdown":"I have an array list with the following string content. Each line represents a different object in the array. The strings in the array list are consecutive, without any spacing between the objects.\r\n\r\n    Term: Intelligent Power-Modul\r\n    TermType: MainTerm\r\n    Term: Intelligent Power Modul\r\n    TermType: NegativeTerm\r\n    Term: IPM\r\n    TermType: Abbreviation\r\n\r\n    Term: wired remote\r\n    TermType: MainTerm\r\n    Definition: a wired remote\r\n\r\nI want to select objects based on the TermType value.\r\n\r\nI can&#39;t make a constructor with Term, TermType, and Definition, because Definition doesn&#39;t always appear (there are groups of objects without an associated Definition). How do I map the various terms in a group that are differentiated by the TermType?\r\n","title":"How can I select groups of strings from an array where not all groups contain the same contents?","body":"<p>I have an array list with the following string content. Each line represents a different object in the array. The strings in the array list are consecutive, without any spacing between the objects.</p>\n<pre><code>Term: Intelligent Power-Modul\nTermType: MainTerm\nTerm: Intelligent Power Modul\nTermType: NegativeTerm\nTerm: IPM\nTermType: Abbreviation\n\nTerm: wired remote\nTermType: MainTerm\nDefinition: a wired remote\n</code></pre>\n<p>I want to select objects based on the TermType value.</p>\n<p>I can't make a constructor with Term, TermType, and Definition, because Definition doesn't always appear (there are groups of objects without an associated Definition). How do I map the various terms in a group that are differentiated by the TermType?</p>\n"},{"tags":["java","file","dataoutputstream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1596276507,"post_id":63204010,"comment_id":111764562,"body_markdown":"It&#39;s more likely you will need to set 5 bits of a whole byte. The search term you&#39;re looking for is &quot;bit mask&quot;.","body":"It&#39;s more likely you will need to set 5 bits of a whole byte. The search term you&#39;re looking for is &quot;bit mask&quot;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1596276637,"post_id":63204010,"comment_id":111764597,"body_markdown":"See [here](https://stackoverflow.com/questions/30327937/bit-shifting-and-bit-mask-sample-code) for example.","body":"See <a href=\"https://stackoverflow.com/questions/30327937/bit-shifting-and-bit-mask-sample-code\">here</a> for example."},{"owner":{"account_id":15110611,"reputation":531,"user_id":10904852,"display_name":"nylanderDev"},"score":0,"creation_date":1596277100,"post_id":63204010,"comment_id":111764700,"body_markdown":"I presume you&#39;ll have to write bits (represented as bools, for example) and then turn these into bytes. I have a personal utility class (BitAssembler) to which you push bits, and from which you can pop assembled bytes. https://github.com/nylanderdev/nylander-utils Just remember that you need to push 8 bits for each byte you pop, so you&#39;ll have to add trailing or leading padding bits yourself.","body":"I presume you&#39;ll have to write bits (represented as bools, for example) and then turn these into bytes. I have a personal utility class (BitAssembler) to which you push bits, and from which you can pop assembled bytes. <a href=\"https://github.com/nylanderdev/nylander-utils\" rel=\"nofollow noreferrer\">github.com/nylanderdev/nylander-utils</a> Just remember that you need to push 8 bits for each byte you pop, so you&#39;ll have to add trailing or leading padding bits yourself."},{"owner":{"account_id":15110611,"reputation":531,"user_id":10904852,"display_name":"nylanderDev"},"score":1,"creation_date":1596277445,"post_id":63204010,"comment_id":111764773,"body_markdown":"As you can see the 5 bit number is preceeded by a 3 bit number, which adds up to 8 bits, or one byte. So you&#39;ll want to push 3 bits, then 5 bits, and pop the resulting byte.","body":"As you can see the 5 bit number is preceeded by a 3 bit number, which adds up to 8 bits, or one byte. So you&#39;ll want to push 3 bits, then 5 bits, and pop the resulting byte."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596285020,"creation_date":1596285020,"answer_id":63205204,"question_id":63204010,"body_markdown":"[ImageOutputStream.writeBits](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/imageio/stream/ImageOutputStream.html#writeBits(long,int)) should do what you want.\r\n\r\nYou create an ImageOutputStream using the [ImageIO.createImageOutputStream](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageOutputStream(java.lang.Object)) method:\r\n\r\n    Path flacPath = Paths.get(filename);\r\n\r\n    try (ImageOutputStream out = ImageIO.createImageOutputStream(\r\n        new BufferedOutputStream(Files.newOutputStream(flacPath)))) {\r\n\r\n        out.writeBits(0b1110101011, 10);\r\n        // etc.\r\n    }\r\n","title":"Is there a way to write groups of bits less than a byte in Java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/imageio/stream/ImageOutputStream.html#writeBits(long,int)\" rel=\"nofollow noreferrer\">ImageOutputStream.writeBits</a> should do what you want.</p>\n<p>You create an ImageOutputStream using the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/javax/imageio/ImageIO.html#createImageOutputStream(java.lang.Object)\" rel=\"nofollow noreferrer\">ImageIO.createImageOutputStream</a> method:</p>\n<pre><code>Path flacPath = Paths.get(filename);\n\ntry (ImageOutputStream out = ImageIO.createImageOutputStream(\n    new BufferedOutputStream(Files.newOutputStream(flacPath)))) {\n\n    out.writeBits(0b1110101011, 10);\n    // etc.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638913684,"creation_date":1638913684,"answer_id":70267341,"question_id":63204010,"body_markdown":"In the end I think I can do this using bit shifting and logical commands such as &amp; and | opperators.","title":"Is there a way to write groups of bits less than a byte in Java","body":"<p>In the end I think I can do this using bit shifting and logical commands such as &amp; and | opperators.</p>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70267341,"answer_count":2,"score":0,"last_activity_date":1638913684,"creation_date":1596276359,"question_id":63204010,"body_markdown":"If I was to try to make a program that outputs .Flac files in Java, [Flac-format][1],\r\nIt appears that I would need to output values less than a byte. Is it even possible to output values less than a byte such as a nybble or a 5-bit number?\r\n\r\n  [1]: https://xiph.org/flac/format.html#metadata_block_header","title":"Is there a way to write groups of bits less than a byte in Java","body":"<p>If I was to try to make a program that outputs .Flac files in Java, <a href=\"https://xiph.org/flac/format.html#metadata_block_header\" rel=\"nofollow noreferrer\">Flac-format</a>,\nIt appears that I would need to output values less than a byte. Is it even possible to output values less than a byte such as a nybble or a 5-bit number?</p>\n"},{"tags":["java","spring","ssl","client-certificates"],"comments":[{"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"score":0,"creation_date":1657988404,"post_id":70243058,"comment_id":128942664,"body_markdown":"Hi @SpringBootDev , were you able to figure out what you did wrong ? I got into a similar problem, not sure whats missing","body":"Hi @SpringBootDev , were you able to figure out what you did wrong ? I got into a similar problem, not sure whats missing"}],"answers":[{"tags":[],"owner":{"account_id":15151222,"reputation":142,"user_id":10933498,"display_name":"Saravana Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638913127,"creation_date":1638913127,"answer_id":70267248,"question_id":70243058,"body_markdown":"You are using the file shared with you in the wrong context. That file is a Keystore containing the client certificate and corresponding key.\r\n\r\nTrustStore - Tells which CAs should be trusted by the client (you).\r\n\r\nKeystore - Tells the server about the client (you).\r\n\r\nIn order for the mutual TLS handshake to pass through, you need to load the Keystore and set it in KeyManager like below.\r\n\r\n```\r\n// Load the Keystore\r\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\nInputStream keystoreStream = new FileInputStream(pathToJKSFile);\r\nkeyStore.load(keystoreStream, keystorePassword.toCharArray());\r\n\r\n// Add Keystore to KeyManager\r\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\nkeyManagerFactory.init(keyStore, keystorePassword.toCharArray());\r\n\r\n// Create SSLContext with KeyManager and TrustManager\r\nSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\ncontext.init(keyManagerFactory.getKeyManagers(), null, new SecureRandom());\r\nSSLSocketFactory sslSocketFactory = context.getSocketFactory();\r\n\r\n// Now, use this SSLSocketFactory while making the HTTPS request\r\n```","title":"Two-way mutual SSL authentication","body":"<p>You are using the file shared with you in the wrong context. That file is a Keystore containing the client certificate and corresponding key.</p>\n<p>TrustStore - Tells which CAs should be trusted by the client (you).</p>\n<p>Keystore - Tells the server about the client (you).</p>\n<p>In order for the mutual TLS handshake to pass through, you need to load the Keystore and set it in KeyManager like below.</p>\n<pre><code>// Load the Keystore\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\nInputStream keystoreStream = new FileInputStream(pathToJKSFile);\nkeyStore.load(keystoreStream, keystorePassword.toCharArray());\n\n// Add Keystore to KeyManager\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\nkeyManagerFactory.init(keyStore, keystorePassword.toCharArray());\n\n// Create SSLContext with KeyManager and TrustManager\nSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\ncontext.init(keyManagerFactory.getKeyManagers(), null, new SecureRandom());\nSSLSocketFactory sslSocketFactory = context.getSocketFactory();\n\n// Now, use this SSLSocketFactory while making the HTTPS request\n</code></pre>\n"}],"owner":{"account_id":3886051,"reputation":39,"user_id":3217382,"display_name":"SpringBootDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638913127,"creation_date":1638781624,"question_id":70243058,"body_markdown":"I&#39;ve been tasked with implementing functionality in a Spring Boot REST API to contact another API (XML webservice). The outside API uses two-way SSL authentication. I&#39;ve been given the correct certificate to implement on our side, and I&#39;ve implemented the Java code. But whenever I run the code I get &quot;Received fatal alert: handshake_failure&quot;. I&#39;ve loaded the jks keystore into the SSLContext like this:\r\n\r\n    FileInputStream truststoreFile = new FileInputStream(&quot;/Users/myUser/Desktop/myProject/myProjectName/src/main/resources/keystore-name.jks&quot;);\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            KeyStore truststore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            char[] trustorePassword = &quot;keyStorePassword&quot;.toCharArray();\r\n            truststore.load(truststoreFile, trustorePassword);\r\n            trustManagerFactory.init(truststore);\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n            KeyManager[] keyManagers = {};//if you have key managers;\r\n            sslContext.init(keyManagers, trustManagerFactory.getTrustManagers(), new SecureRandom());\r\n\r\n\r\nWould I actually have to configure anything else to enable mutual two-way SSL from our API, acting like I client in this scenario? I thought I could just like the cert keystore and go. But maybe I need to do something else to enable this?","title":"Two-way mutual SSL authentication","body":"<p>I've been tasked with implementing functionality in a Spring Boot REST API to contact another API (XML webservice). The outside API uses two-way SSL authentication. I've been given the correct certificate to implement on our side, and I've implemented the Java code. But whenever I run the code I get &quot;Received fatal alert: handshake_failure&quot;. I've loaded the jks keystore into the SSLContext like this:</p>\n<pre><code>FileInputStream truststoreFile = new FileInputStream(&quot;/Users/myUser/Desktop/myProject/myProjectName/src/main/resources/keystore-name.jks&quot;);\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        KeyStore truststore = KeyStore.getInstance(KeyStore.getDefaultType());\n        char[] trustorePassword = &quot;keyStorePassword&quot;.toCharArray();\n        truststore.load(truststoreFile, trustorePassword);\n        trustManagerFactory.init(truststore);\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n        KeyManager[] keyManagers = {};//if you have key managers;\n        sslContext.init(keyManagers, trustManagerFactory.getTrustManagers(), new SecureRandom());\n</code></pre>\n<p>Would I actually have to configure anything else to enable mutual two-way SSL from our API, acting like I client in this scenario? I thought I could just like the cert keystore and go. But maybe I need to do something else to enable this?</p>\n"},{"tags":["java","hibernate","hql","dsl"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1638782248,"post_id":70243134,"comment_id":124170755,"body_markdown":"HBN has this feature out of the box: https://www.baeldung.com/hibernate-criteria-queries","body":"HBN has this feature out of the box: <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-criteria-queries</a>"}],"answers":[{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638791310,"creation_date":1638791310,"answer_id":70244995,"question_id":70243134,"body_markdown":"The old and verbose solution -- CriteriaBuilder\r\n\r\nThe modem one -- [QueryDSL][1]\r\n\r\n\r\n  [1]: https://querydsl.com","title":"How to build DSL paths with Hibernate","body":"<p>The old and verbose solution -- CriteriaBuilder</p>\n<p>The modem one -- <a href=\"https://querydsl.com\" rel=\"nofollow noreferrer\">QueryDSL</a></p>\n"},{"tags":[],"owner":{"account_id":19170174,"reputation":312,"user_id":14004073,"display_name":"Pavel Polyakoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638913083,"creation_date":1638913083,"answer_id":70267246,"question_id":70243134,"body_markdown":"So, having spent some time around this (as I have stated this was more of a an experimental thing) I came to such solution:\r\n\r\nFirst, I have created a base ```DSLProperty.class```:\r\n```\r\npublic class DSLProperty {\r\n    protected String previousPath; // this will hold the path till the current step of the path chain\r\n\r\n    public DSLProperty( String previousPath ) {\r\n        this.previousPath = previousPath;\r\n    }\r\n\r\n    public String getPath() { return previousPath; }\r\n}\r\n```\r\n\r\nThen, in my abstract base entity class I&#39;ve created such static inner class:\r\n```\r\npublic static class DSL extends DSLProperty {\r\n    protected DSL( String input ) {\r\n        super( input );\r\n    }\r\n\r\n    public DSLProperty id() {\r\n        return property( &quot;id&quot; );\r\n    }\r\n\r\n    protected DSLProperty property( String property ) {\r\n         return new DSLProperty( ( previousPath != null ? previousPath + &quot;.&quot; : &quot;&quot; ) + property );\r\n    }\r\n}\r\n```\r\nAnd basically extend (probably use your IDE or Maven to generate) this base ```DSL``` class in all child entities, e.g. ```DSLTestUser.class```:\r\n```\r\n@Entity\r\n@Table\r\npublic class DSLTestUser extends DSLTestBaseEntity {\r\n    public static DSL alias( String alias ) { return new DSL( alias ); }\r\n\r\n    public static class DSL extends DSLTestBaseEntity.DSL {\r\n        public DSL( String input ) {\r\n            super( input );\r\n        }\r\n        public DSLProperty username() { return property( &quot;username&quot; ); }\r\n        public DSLTestPerson.DSL person() { return DSLTestPerson.alias( previousPath + &quot;.person&quot; ); }\r\n    }\r\n\r\n    // all the columns, getters &amp; setters etc.\r\n}\r\n```\r\nand ```DSLTestPerson.class```:\r\n```\r\n@Entity\r\n@Table\r\npublic class DSLTestPerson extends DSLTestBaseEntity {\r\n    public static DSL alias( String alias ) { return new DSL( alias ); }\r\n\r\n    public static class DSL extends DSLTestBaseEntity.DSL {\r\n        public DSL( String input ) {\r\n            super( input );\r\n        }\r\n        public DSLProperty name() { return property( &quot;name&quot; ); }\r\n        public DSLTestUser.DSL user() { return DSLTestUser.alias( previousPath + &quot;.user&quot; ); }\r\n    }\r\n\r\n    // all the columns, getters &amp; setters etc.\r\n}\r\n```\r\nThis way, this code: \r\n```\r\nSystem.out.println( DSLTestUser.alias( &quot;tu&quot; ).person().id().getPath() );\r\nSystem.out.println( DSLTestUser.alias( &quot;tu&quot; ).username().getPath() );\r\nSystem.out.println( DSLTestPerson.alias( &quot;tp&quot; ).user().username().getPath() );\r\nSystem.out.println( DSLTestPerson.alias( &quot;tp&quot; ).getPath() );\r\n```\r\nwill produce the following output:\r\n```\r\ntu.person.id\r\ntu.username\r\ntp.user.username\r\ntp\r\n```\r\nThere is no limit to the length of your path chain and you may use it to generate HQL queries any way you wish using this domain-specific property path generation.\r\n\r\nThe only thing that bugs me a bit is the amount of code that you need to write (again, you can generate it) and how many objects will be created for each path (depends on the amount of steps), but the *pro* of this solution is that in case you change the name of your property you won&#39;t have to worry about finding all the places where it was used in HQL queries - just change the property in the corresponding inner ```DSL``` class using your IDE&#39;s refactoring features.","title":"How to build DSL paths with Hibernate","body":"<p>So, having spent some time around this (as I have stated this was more of a an experimental thing) I came to such solution:</p>\n<p>First, I have created a base <code>DSLProperty.class</code>:</p>\n<pre><code>public class DSLProperty {\n    protected String previousPath; // this will hold the path till the current step of the path chain\n\n    public DSLProperty( String previousPath ) {\n        this.previousPath = previousPath;\n    }\n\n    public String getPath() { return previousPath; }\n}\n</code></pre>\n<p>Then, in my abstract base entity class I've created such static inner class:</p>\n<pre><code>public static class DSL extends DSLProperty {\n    protected DSL( String input ) {\n        super( input );\n    }\n\n    public DSLProperty id() {\n        return property( &quot;id&quot; );\n    }\n\n    protected DSLProperty property( String property ) {\n         return new DSLProperty( ( previousPath != null ? previousPath + &quot;.&quot; : &quot;&quot; ) + property );\n    }\n}\n</code></pre>\n<p>And basically extend (probably use your IDE or Maven to generate) this base <code>DSL</code> class in all child entities, e.g. <code>DSLTestUser.class</code>:</p>\n<pre><code>@Entity\n@Table\npublic class DSLTestUser extends DSLTestBaseEntity {\n    public static DSL alias( String alias ) { return new DSL( alias ); }\n\n    public static class DSL extends DSLTestBaseEntity.DSL {\n        public DSL( String input ) {\n            super( input );\n        }\n        public DSLProperty username() { return property( &quot;username&quot; ); }\n        public DSLTestPerson.DSL person() { return DSLTestPerson.alias( previousPath + &quot;.person&quot; ); }\n    }\n\n    // all the columns, getters &amp; setters etc.\n}\n</code></pre>\n<p>and <code>DSLTestPerson.class</code>:</p>\n<pre><code>@Entity\n@Table\npublic class DSLTestPerson extends DSLTestBaseEntity {\n    public static DSL alias( String alias ) { return new DSL( alias ); }\n\n    public static class DSL extends DSLTestBaseEntity.DSL {\n        public DSL( String input ) {\n            super( input );\n        }\n        public DSLProperty name() { return property( &quot;name&quot; ); }\n        public DSLTestUser.DSL user() { return DSLTestUser.alias( previousPath + &quot;.user&quot; ); }\n    }\n\n    // all the columns, getters &amp; setters etc.\n}\n</code></pre>\n<p>This way, this code:</p>\n<pre><code>System.out.println( DSLTestUser.alias( &quot;tu&quot; ).person().id().getPath() );\nSystem.out.println( DSLTestUser.alias( &quot;tu&quot; ).username().getPath() );\nSystem.out.println( DSLTestPerson.alias( &quot;tp&quot; ).user().username().getPath() );\nSystem.out.println( DSLTestPerson.alias( &quot;tp&quot; ).getPath() );\n</code></pre>\n<p>will produce the following output:</p>\n<pre><code>tu.person.id\ntu.username\ntp.user.username\ntp\n</code></pre>\n<p>There is no limit to the length of your path chain and you may use it to generate HQL queries any way you wish using this domain-specific property path generation.</p>\n<p>The only thing that bugs me a bit is the amount of code that you need to write (again, you can generate it) and how many objects will be created for each path (depends on the amount of steps), but the <em>pro</em> of this solution is that in case you change the name of your property you won't have to worry about finding all the places where it was used in HQL queries - just change the property in the corresponding inner <code>DSL</code> class using your IDE's refactoring features.</p>\n"}],"owner":{"account_id":19170174,"reputation":312,"user_id":14004073,"display_name":"Pavel Polyakoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70267246,"answer_count":2,"score":0,"last_activity_date":1638913083,"creation_date":1638781958,"question_id":70243134,"body_markdown":"Is there a way to implement DSL querying with Hibernate? I mean mostly the easier and typo-safer HQL statement building. For example, an HQL query like this: ```select u.id from Users u where u.person.identityCard.lastName like :lastNameVar``` would be written like this: \r\n\r\n```\r\nSelect.from(User.class, “u”).where(eq(“u”, User.person().identityCard().lastName(), lastNameVar))\r\n```\r\n\r\nAs an experiment, I have already written the builder itself, but what I can’t seem to figure out is how to make those multi-step DSL paths (```User.person().identityCard().lastName()```). I’d obviously have to add something to my entity classes like:\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    public static DSLProperty&lt;Person&gt; person() = new DSLProperty&lt;&gt;(“person”); // how do I write DSLProperty class to achieve this?\r\n\r\n    @OneToOne\r\n    @JoinColumn(name=“person_id”)\r\n    private Person person;\r\n\r\n    //getters, setters etc.\r\n\r\n}\r\n```\r\n\r\nBut I seem to lack knowledge as of how to call named methods of abstract classes like ```DSLProperty``` when it comes to chaining the property paths.\r\n\r\nP.s. This is more of an experimental feature that I want to figure out for myself. I know about libraries like QueryDSL and jOOQ, but I’m not sure if they support property chaining and, again, I’m more interested in implementing this feature from scratch.","title":"How to build DSL paths with Hibernate","body":"<p>Is there a way to implement DSL querying with Hibernate? I mean mostly the easier and typo-safer HQL statement building. For example, an HQL query like this: <code>select u.id from Users u where u.person.identityCard.lastName like :lastNameVar</code> would be written like this:</p>\n<pre><code>Select.from(User.class, “u”).where(eq(“u”, User.person().identityCard().lastName(), lastNameVar))\n</code></pre>\n<p>As an experiment, I have already written the builder itself, but what I can’t seem to figure out is how to make those multi-step DSL paths (<code>User.person().identityCard().lastName()</code>). I’d obviously have to add something to my entity classes like:</p>\n<pre><code>@Entity\npublic class User {\n\n    public static DSLProperty&lt;Person&gt; person() = new DSLProperty&lt;&gt;(“person”); // how do I write DSLProperty class to achieve this?\n\n    @OneToOne\n    @JoinColumn(name=“person_id”)\n    private Person person;\n\n    //getters, setters etc.\n\n}\n</code></pre>\n<p>But I seem to lack knowledge as of how to call named methods of abstract classes like <code>DSLProperty</code> when it comes to chaining the property paths.</p>\n<p>P.s. This is more of an experimental feature that I want to figure out for myself. I know about libraries like QueryDSL and jOOQ, but I’m not sure if they support property chaining and, again, I’m more interested in implementing this feature from scratch.</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","amazon-kinesis","amazon-kinesis-kpl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638912789,"creation_date":1638890968,"answer_id":70262829,"question_id":70254662,"body_markdown":"The framework does not provide any of the `KinesisClientLibConfiguration`. It is your project responsibility to expose such a bean and with whatever options you need: https://github.com/spring-cloud/spring-cloud-stream-binder-aws-kinesis/blob/main/spring-cloud-stream-binder-kinesis-docs/src/main/asciidoc/overview.adoc#kinesis-consumer-properties\r\n\r\n&gt; Starting with version 2.0.1, beans of `KinesisClientLibConfiguration` type can be provided in the application context to have a full control over Kinesis Client Library configuration options. \r\n\r\n\r\nThe producer side indeed is covered by the `KinesisProducerConfiguration` bean in the `KinesisBinderConfiguration`:\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean\r\n\t@ConditionalOnProperty(name = &quot;spring.cloud.stream.kinesis.binder.kpl-kcl-enabled&quot;)\r\n\tpublic KinesisProducerConfiguration kinesisProducerConfiguration() {\r\n\t\tKinesisProducerConfiguration kinesisProducerConfiguration = new KinesisProducerConfiguration();\r\n\t\tkinesisProducerConfiguration.setCredentialsProvider(this.awsCredentialsProvider);\r\n\t\tkinesisProducerConfiguration.setRegion(this.region);\r\n\t\treturn kinesisProducerConfiguration;\r\n\t}\r\n\r\nI don&#39;t see a big problem from here to declare such a bean in your own configuration with any additional properties you&#39;d like to have, including the mentioned metrics.\r\n\r\nIf this still is not OK for you, you can do something like this bean injection into your own bean and mutate it whatever way you want:\r\n\r\n    @Bean\r\n    String configurerBean(KinesisProducerConfiguration kinesisProducerConfiguration)  {\r\n       kinesisProducerConfiguration.setMetricsLevel();\r\n       return null;\r\n    }\r\n\r\n\r\n**UPDATE**\r\n\r\nThe consumer part:\r\n\r\nThis is a bean based on default config instance for KCL we create internally:\r\n\r\n    @Bean\r\n    KinesisClientLibConfiguration kinesisClientLibConfiguration() {\r\n        return new KinesisClientLibConfiguration(this.consumerGroup,\r\n    \t\t\t\t\t\t\tthis.stream,\r\n    \t\t\t\t\t\t\tnull,\r\n    \t\t\t\t\t\t\tnull,\r\n    \t\t\t\t\t\t\tthis.streamInitialSequence,\r\n    \t\t\t\t\t\t\tthis.kinesisProxyCredentialsProvider,\r\n    \t\t\t\t\t\t\tnull,\r\n    \t\t\t\t\t\t\tnull,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_FAILOVER_TIME_MILLIS,\r\n    \t\t\t\t\t\t\tthis.workerId,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_MAX_RECORDS,\r\n    \t\t\t\t\t\t\tthis.idleBetweenPolls,\r\n    \t\t\t\t\t\t\tfalse,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_PARENT_SHARD_POLL_INTERVAL_MILLIS,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_SHARD_SYNC_INTERVAL_MILLIS,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_CLEANUP_LEASES_UPON_SHARDS_COMPLETION,\r\n    \t\t\t\t\t\t\tnew ClientConfiguration(),\r\n    \t\t\t\t\t\t\tnew ClientConfiguration(),\r\n    \t\t\t\t\t\t\tnew ClientConfiguration(),\r\n    \t\t\t\t\t\t\tthis.consumerBackoff,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_METRICS_BUFFER_TIME_MILLIS,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_METRICS_MAX_QUEUE_SIZE,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_VALIDATE_SEQUENCE_NUMBER_BEFORE_CHECKPOINTING,\r\n    \t\t\t\t\t\t\tnull,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_SHUTDOWN_GRACE_MILLIS,\r\n    \t\t\t\t\t\t\tKinesisClientLibConfiguration.DEFAULT_DDB_BILLING_MODE,\r\n    \t\t\t\t\t\t\tnew SimpleRecordsFetcherFactory(),\r\n    \t\t\t\t\t\t\tDEFAULT_LEASE_CLEANUP_INTERVAL_MILLIS,\r\n    \t\t\t\t\t\t\tDEFAULT_COMPLETED_LEASE_CLEANUP_THRESHOLD_MILLIS,\r\n    \t\t\t\t\t\t\tDEFAULT_GARBAGE_LEASE_CLEANUP_THRESHOLD_MILLIS);\r\n    }\r\n\r\nWhatever you see with `this.` has to be replaced with respective value from your env. Probably that `KinesisClientLibConfiguration.DEFAULT_METRICS_MAX_QUEUE_SIZE` is what you are looking for in this case.\r\n\r\nThe `this.consumerGroup` and `this.stream` must be same as in binding you want to configure consumer for.","title":"How to disable CloudWatch metrics for KPL/KCL with Spring Cloud Stream","body":"<p>The framework does not provide any of the <code>KinesisClientLibConfiguration</code>. It is your project responsibility to expose such a bean and with whatever options you need: <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-aws-kinesis/blob/main/spring-cloud-stream-binder-kinesis-docs/src/main/asciidoc/overview.adoc#kinesis-consumer-properties\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-binder-aws-kinesis/blob/main/spring-cloud-stream-binder-kinesis-docs/src/main/asciidoc/overview.adoc#kinesis-consumer-properties</a></p>\n<blockquote>\n<p>Starting with version 2.0.1, beans of <code>KinesisClientLibConfiguration</code> type can be provided in the application context to have a full control over Kinesis Client Library configuration options.</p>\n</blockquote>\n<p>The producer side indeed is covered by the <code>KinesisProducerConfiguration</code> bean in the <code>KinesisBinderConfiguration</code>:</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(name = &quot;spring.cloud.stream.kinesis.binder.kpl-kcl-enabled&quot;)\npublic KinesisProducerConfiguration kinesisProducerConfiguration() {\n    KinesisProducerConfiguration kinesisProducerConfiguration = new KinesisProducerConfiguration();\n    kinesisProducerConfiguration.setCredentialsProvider(this.awsCredentialsProvider);\n    kinesisProducerConfiguration.setRegion(this.region);\n    return kinesisProducerConfiguration;\n}\n</code></pre>\n<p>I don't see a big problem from here to declare such a bean in your own configuration with any additional properties you'd like to have, including the mentioned metrics.</p>\n<p>If this still is not OK for you, you can do something like this bean injection into your own bean and mutate it whatever way you want:</p>\n<pre><code>@Bean\nString configurerBean(KinesisProducerConfiguration kinesisProducerConfiguration)  {\n   kinesisProducerConfiguration.setMetricsLevel();\n   return null;\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>The consumer part:</p>\n<p>This is a bean based on default config instance for KCL we create internally:</p>\n<pre><code>@Bean\nKinesisClientLibConfiguration kinesisClientLibConfiguration() {\n    return new KinesisClientLibConfiguration(this.consumerGroup,\n                            this.stream,\n                            null,\n                            null,\n                            this.streamInitialSequence,\n                            this.kinesisProxyCredentialsProvider,\n                            null,\n                            null,\n                            KinesisClientLibConfiguration.DEFAULT_FAILOVER_TIME_MILLIS,\n                            this.workerId,\n                            KinesisClientLibConfiguration.DEFAULT_MAX_RECORDS,\n                            this.idleBetweenPolls,\n                            false,\n                            KinesisClientLibConfiguration.DEFAULT_PARENT_SHARD_POLL_INTERVAL_MILLIS,\n                            KinesisClientLibConfiguration.DEFAULT_SHARD_SYNC_INTERVAL_MILLIS,\n                            KinesisClientLibConfiguration.DEFAULT_CLEANUP_LEASES_UPON_SHARDS_COMPLETION,\n                            new ClientConfiguration(),\n                            new ClientConfiguration(),\n                            new ClientConfiguration(),\n                            this.consumerBackoff,\n                            KinesisClientLibConfiguration.DEFAULT_METRICS_BUFFER_TIME_MILLIS,\n                            KinesisClientLibConfiguration.DEFAULT_METRICS_MAX_QUEUE_SIZE,\n                            KinesisClientLibConfiguration.DEFAULT_VALIDATE_SEQUENCE_NUMBER_BEFORE_CHECKPOINTING,\n                            null,\n                            KinesisClientLibConfiguration.DEFAULT_SHUTDOWN_GRACE_MILLIS,\n                            KinesisClientLibConfiguration.DEFAULT_DDB_BILLING_MODE,\n                            new SimpleRecordsFetcherFactory(),\n                            DEFAULT_LEASE_CLEANUP_INTERVAL_MILLIS,\n                            DEFAULT_COMPLETED_LEASE_CLEANUP_THRESHOLD_MILLIS,\n                            DEFAULT_GARBAGE_LEASE_CLEANUP_THRESHOLD_MILLIS);\n}\n</code></pre>\n<p>Whatever you see with <code>this.</code> has to be replaced with respective value from your env. Probably that <code>KinesisClientLibConfiguration.DEFAULT_METRICS_MAX_QUEUE_SIZE</code> is what you are looking for in this case.</p>\n<p>The <code>this.consumerGroup</code> and <code>this.stream</code> must be same as in binding you want to configure consumer for.</p>\n"}],"owner":{"account_id":5693906,"reputation":538,"user_id":4501002,"display_name":"Amrit Baveja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70262829,"answer_count":1,"score":2,"last_activity_date":1638912789,"creation_date":1638848391,"question_id":70254662,"body_markdown":"I am using the Spring Cloud Stream Binder for Kinesis with KPL/KCL enabled. We would like to disable Cloudwatch metrics without having to manage the configuration of KPL and KCL ourselves (completely overriding the beans). We would like to use the same bean definition for the `KinesisProducerConfiguration` and each of the `KinesisClientLibConfiguration` besides the `KinesisProducerConfiguration.setMetricsLevel()` and `KinesisClientLibConfiguration.withMetricsLevel(...)` properties.\r\n\r\nFor reference, here is where the AWS beans are defined in the Spring Cloud Stream Kinesis Binder: [KinesisBinderConfiguration.java][1]\r\n\r\nWhat would be the most effective way to do this?\r\n\r\nAny help is appreciated! Thanks.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-stream-binder-aws-kinesis/blob/main/spring-cloud-stream-binder-kinesis/src/main/java/org/springframework/cloud/stream/binder/kinesis/config/KinesisBinderConfiguration.java","title":"How to disable CloudWatch metrics for KPL/KCL with Spring Cloud Stream","body":"<p>I am using the Spring Cloud Stream Binder for Kinesis with KPL/KCL enabled. We would like to disable Cloudwatch metrics without having to manage the configuration of KPL and KCL ourselves (completely overriding the beans). We would like to use the same bean definition for the <code>KinesisProducerConfiguration</code> and each of the <code>KinesisClientLibConfiguration</code> besides the <code>KinesisProducerConfiguration.setMetricsLevel()</code> and <code>KinesisClientLibConfiguration.withMetricsLevel(...)</code> properties.</p>\n<p>For reference, here is where the AWS beans are defined in the Spring Cloud Stream Kinesis Binder: <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-aws-kinesis/blob/main/spring-cloud-stream-binder-kinesis/src/main/java/org/springframework/cloud/stream/binder/kinesis/config/KinesisBinderConfiguration.java\" rel=\"nofollow noreferrer\">KinesisBinderConfiguration.java</a></p>\n<p>What would be the most effective way to do this?</p>\n<p>Any help is appreciated! Thanks.</p>\n"},{"tags":["java","algorithm","graph","traveling-salesman"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1638892703,"post_id":70263207,"comment_id":124205850,"body_markdown":"The potential solutions are well-documented already. I assume you&#39;ve read the entire [wikipedia article](https://en.wikipedia.org/wiki/Travelling_salesman_problem)? &quot;*I don&#39;t know how to approach it*&quot; is not a valid excuse when there is so much information out there already.","body":"The potential solutions are well-documented already. I assume you&#39;ve read the entire <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\" rel=\"nofollow noreferrer\">wikipedia article</a>? &quot;<i>I don&#39;t know how to approach it</i>&quot; is not a valid excuse when there is so much information out there already."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1638893720,"post_id":70263207,"comment_id":124206251,"body_markdown":"@ATB The first step in a lot of programming problems (in industry or in school) is usually to search for similar problems and ideas.  Often you will learn more, faster, and arrive at a better solution after doing this research.  The second step is to rewrite the answer, as if you are programming it for the first time, because copying the code into your solution means you copy assumptions that might be wrong for your needs and it also means you&#39;re copying the bugs.","body":"@ATB The first step in a lot of programming problems (in industry or in school) is usually to search for similar problems and ideas.  Often you will learn more, faster, and arrive at a better solution after doing this research.  The second step is to rewrite the answer, as if you are programming it for the first time, because copying the code into your solution means you copy assumptions that might be wrong for your needs and it also means you&#39;re copying the bugs."}],"answers":[{"tags":[],"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638912721,"creation_date":1638899249,"answer_id":70264735,"question_id":70263207,"body_markdown":"Assuming that the distances between cities are reasonable, that is the direct distance between A and B is always shorter than the distance A -&gt; C -&gt; B ( i.e. real world distances rather than logical distances ) then million node graphs can be dealt with in reasonable time frames.  \r\n\r\nThis means, nothing like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou do need to define what you consider a reasonable time frame before we can discuss this further.\r\n\r\nI would use C++ for such problems.\r\n\r\nFor a brief discussion of the sort of time performance that can be expected on a graph containing half a million nodes: https://github.com/JamesBremner/PathFinder/wiki/Performance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o361t.png","title":"Travelling Salesman Problem Variation repeated visits and outside cities visit","body":"<p>Assuming that the distances between cities are reasonable, that is the direct distance between A and B is always shorter than the distance A -&gt; C -&gt; B ( i.e. real world distances rather than logical distances ) then million node graphs can be dealt with in reasonable time frames.</p>\n<p>This means, nothing like this:</p>\n<p><a href=\"https://i.stack.imgur.com/o361t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o361t.png\" alt=\"enter image description here\" /></a></p>\n<p>You do need to define what you consider a reasonable time frame before we can discuss this further.</p>\n<p>I would use C++ for such problems.</p>\n<p>For a brief discussion of the sort of time performance that can be expected on a graph containing half a million nodes: <a href=\"https://github.com/JamesBremner/PathFinder/wiki/Performance\" rel=\"nofollow noreferrer\">https://github.com/JamesBremner/PathFinder/wiki/Performance</a></p>\n"}],"owner":{"account_id":19875563,"reputation":119,"user_id":14888108,"display_name":"ATB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1638912721,"creation_date":1638892481,"question_id":70263207,"body_markdown":"**Problem**. Given a directed weighted graph G(V, E), **not necessarily completed**,  \r\nfind the shortest path going over each city in the given cities set (a vertices subset of V), \r\nwe can repeat each city more than once, and we are allowed to visit cities **that are not** in the cities set but are on the graph. \r\n\r\nNow, I know that there is a TSP version when we are allowed to repeat the visit of the inner vertices, \r\nhowever, in this problem, we can actually visit outsider&#39;s vertices. \r\n\r\nFor example: \r\n\r\n    V={0,1,2,...10} and E is unknown, we have the cities set {0,1,3,8,9}\r\n\r\n \r\n\r\nso the following path: \r\n\r\n    8 -&gt; 9 -&gt; 0 -&gt; 3 -&gt; 9 -&gt; 7 -&gt; 6 -&gt; 5 -&gt; 1\r\n\r\nis valid, and needs to be taken the path into consideration in the algorithm. \r\n\r\nNow, I have to be able to have the algorithm running with an enormous number of vertices, like 1000000,\r\nso I know that the algorithm should be a greedy one, but  I don&#39;t know how to approach it \r\nwith an efficient way of following these requirements.","title":"Travelling Salesman Problem Variation repeated visits and outside cities visit","body":"<p><strong>Problem</strong>. Given a directed weighted graph G(V, E), <strong>not necessarily completed</strong>,<br />\nfind the shortest path going over each city in the given cities set (a vertices subset of V),\nwe can repeat each city more than once, and we are allowed to visit cities <strong>that are not</strong> in the cities set but are on the graph.</p>\n<p>Now, I know that there is a TSP version when we are allowed to repeat the visit of the inner vertices,\nhowever, in this problem, we can actually visit outsider's vertices.</p>\n<p>For example:</p>\n<pre><code>V={0,1,2,...10} and E is unknown, we have the cities set {0,1,3,8,9}\n</code></pre>\n<p>so the following path:</p>\n<pre><code>8 -&gt; 9 -&gt; 0 -&gt; 3 -&gt; 9 -&gt; 7 -&gt; 6 -&gt; 5 -&gt; 1\n</code></pre>\n<p>is valid, and needs to be taken the path into consideration in the algorithm.</p>\n<p>Now, I have to be able to have the algorithm running with an enormous number of vertices, like 1000000,\nso I know that the algorithm should be a greedy one, but  I don't know how to approach it\nwith an efficient way of following these requirements.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1638918200,"post_id":70267166,"comment_id":124214849,"body_markdown":"Spring support Xml configuration. So instead of setting your config as annotations, you could create a completely separate Xml file which does the same job.","body":"Spring support Xml configuration. So instead of setting your config as annotations, you could create a completely separate Xml file which does the same job."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1638999839,"post_id":70267166,"comment_id":124239708,"body_markdown":"That&#39;s the orm.xml file, right? Our project doesn&#39;t have one (Those who started it settled on all Java config). I&#39;m guessing adding one even this late shouldn&#39;t be an issue, but I would like to stick to Java, for consistency sake. I&#39;ll try it but I don&#39;t know if I&#39;ll leave it. Thank you!","body":"That&#39;s the orm.xml file, right? Our project doesn&#39;t have one (Those who started it settled on all Java config). I&#39;m guessing adding one even this late shouldn&#39;t be an issue, but I would like to stick to Java, for consistency sake. I&#39;ll try it but I don&#39;t know if I&#39;ll leave it. Thank you!"}],"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638912480,"creation_date":1638912480,"question_id":70267166,"body_markdown":"First of all, this is more out of curiosity and the only benefit for it will be a cleaner looking code.\r\n\r\nI have an Entity representing one of my DB tables. On it, I have one `@NamedQuery` and one `@NamedNativeQuery` (With the corresponding `@SqlResultSetMapping` for the former).\r\n\r\nThis works. Nothing wrong about it. The &quot;problem&quot; is how overloaded it seems. \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;objects&quot;)\r\n@NamedNativeQuery(name = &quot;MyObject.getObjectPreview&quot;,\t\r\n                  query = &quot;SELECT &quot; + \r\n\t\t\t               &quot;\to.attr AS attr1, a.attr AS attr2, b.attr AS attr3 &quot; + \r\n\t\t\t               &quot;FROM objects o &quot; + \r\n                           &quot;   LEFT JOIN related1 a ON a.id = o.id_related1 &quot; + \r\n\t\t\t               &quot;   LEFT JOIN related2 b ON b.id = o.id_related2 &quot; + \r\n\t\t\t               &quot;WHERE o.id_objeto = ?1&quot;,\r\n                  resultSetMapping = &quot;Mapping.MyObjectPreview&quot;)\r\n@SqlResultSetMapping(name = &quot;Mapping.MyObjectPreview&quot;,\r\n\t\t\t\t\tclasses = @ConstructorResult(targetClass = ObjectPreview.class,\r\n\t\t\t\t\t\t\t\t\t\t\t\t columns = {@ColumnResult(name = &quot;attr1&quot;), \r\n                                                            @ColumnResult(name = &quot;attr2&quot;),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t    @ColumnResult(name = &quot;attr3&quot;)}))\r\npublic class MyObject implements Serializable {\r\n\r\n    /*Attributes, getters, setters and such*/\r\n\r\n}\r\n```\r\n\r\nSo, to make this a bit more &#39;readable&#39;, I started by putting my Query in a different class and access it through a static method. The next step, and what bring the question, is about doing the same, but with `classes` of the `@SqlResultSetMapping` annotation.\r\n\r\nIdeally, I&#39;d like it to externalize as much as possible. In this example I use annotation for individual queries and mapping, but the goal would be to externalize all of them. So it&#39;d go from (example only)\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;objects&quot;)\r\n@NamedNativeQuery(name = &quot;MyObject.getObjectPreview&quot;, query = NamedQueries.GET_OBJECT_PREVIEW,\r\n                  resultSetMapping = &quot;Mapping.MyObjectPreview&quot;)\r\n@SqlResultSetMapping(name = &quot;Mapping.MyObjectPreview&quot;, classes = QueryingConstuctors.OBJECT_PREVIEW)\r\npublic class MyObject implements Serializable {\r\n\r\n    /*Attributes, getters, setters and such*/\r\n\r\n}\r\n```\r\n\r\nto\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;objects&quot;)\r\n@NamedNativeQueries(value = NativeQueries.OBJECT_ENTITY)\r\n@SqlResultSetMappings(value = QueryingConstructors.OBJECT_MAPPINGS)\r\npublic class MyObject implements Serializable {\r\n\r\n    /*Attributes, getters, setters and such*/\r\n\r\n}\r\n```\r\n\r\nAgain, I only expect less clutter near the beginning of this class. I&#39;m also aware that functionality like this could be achieved with constructor expressions, but they are not available in the JPA version I need to work with.\r\n\r\nMain problems I&#39;m facing are, obviously, about &quot;returning&quot; an interface without implementation, so I can&#39;t just `return @SqlResultSetMapping( /*args*/ );`. Another option I tried is to aggregate annotations, but that resulted in either &quot;no property found&quot; for my query or &quot;invalid query&quot; if I excluded `@NamednativeQueries`. My final idea is to make an abstract class, put all my annotations there and still annotate MyObject with `@Entity`, but that is a more delicate move as this class is one of the most important classes in this system and I&#39;m trying to be as unobtrusive as possible.\r\n\r\nIs this achievable at all?\r\n\r\nThanks!","title":"Reducing annotation parameters","body":"<p>First of all, this is more out of curiosity and the only benefit for it will be a cleaner looking code.</p>\n<p>I have an Entity representing one of my DB tables. On it, I have one <code>@NamedQuery</code> and one <code>@NamedNativeQuery</code> (With the corresponding <code>@SqlResultSetMapping</code> for the former).</p>\n<p>This works. Nothing wrong about it. The &quot;problem&quot; is how overloaded it seems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;objects&quot;)\n@NamedNativeQuery(name = &quot;MyObject.getObjectPreview&quot;,   \n                  query = &quot;SELECT &quot; + \n                           &quot;    o.attr AS attr1, a.attr AS attr2, b.attr AS attr3 &quot; + \n                           &quot;FROM objects o &quot; + \n                           &quot;   LEFT JOIN related1 a ON a.id = o.id_related1 &quot; + \n                           &quot;   LEFT JOIN related2 b ON b.id = o.id_related2 &quot; + \n                           &quot;WHERE o.id_objeto = ?1&quot;,\n                  resultSetMapping = &quot;Mapping.MyObjectPreview&quot;)\n@SqlResultSetMapping(name = &quot;Mapping.MyObjectPreview&quot;,\n                    classes = @ConstructorResult(targetClass = ObjectPreview.class,\n                                                 columns = {@ColumnResult(name = &quot;attr1&quot;), \n                                                            @ColumnResult(name = &quot;attr2&quot;),\n                                                            @ColumnResult(name = &quot;attr3&quot;)}))\npublic class MyObject implements Serializable {\n\n    /*Attributes, getters, setters and such*/\n\n}\n</code></pre>\n<p>So, to make this a bit more 'readable', I started by putting my Query in a different class and access it through a static method. The next step, and what bring the question, is about doing the same, but with <code>classes</code> of the <code>@SqlResultSetMapping</code> annotation.</p>\n<p>Ideally, I'd like it to externalize as much as possible. In this example I use annotation for individual queries and mapping, but the goal would be to externalize all of them. So it'd go from (example only)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;objects&quot;)\n@NamedNativeQuery(name = &quot;MyObject.getObjectPreview&quot;, query = NamedQueries.GET_OBJECT_PREVIEW,\n                  resultSetMapping = &quot;Mapping.MyObjectPreview&quot;)\n@SqlResultSetMapping(name = &quot;Mapping.MyObjectPreview&quot;, classes = QueryingConstuctors.OBJECT_PREVIEW)\npublic class MyObject implements Serializable {\n\n    /*Attributes, getters, setters and such*/\n\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;objects&quot;)\n@NamedNativeQueries(value = NativeQueries.OBJECT_ENTITY)\n@SqlResultSetMappings(value = QueryingConstructors.OBJECT_MAPPINGS)\npublic class MyObject implements Serializable {\n\n    /*Attributes, getters, setters and such*/\n\n}\n</code></pre>\n<p>Again, I only expect less clutter near the beginning of this class. I'm also aware that functionality like this could be achieved with constructor expressions, but they are not available in the JPA version I need to work with.</p>\n<p>Main problems I'm facing are, obviously, about &quot;returning&quot; an interface without implementation, so I can't just <code>return @SqlResultSetMapping( /*args*/ );</code>. Another option I tried is to aggregate annotations, but that resulted in either &quot;no property found&quot; for my query or &quot;invalid query&quot; if I excluded <code>@NamednativeQueries</code>. My final idea is to make an abstract class, put all my annotations there and still annotate MyObject with <code>@Entity</code>, but that is a more delicate move as this class is one of the most important classes in this system and I'm trying to be as unobtrusive as possible.</p>\n<p>Is this achievable at all?</p>\n<p>Thanks!</p>\n"},{"tags":["java","unit-testing","mocking","aws-sdk","awss3transfermanager"],"comments":[{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1638912903,"post_id":70267158,"comment_id":124213424,"body_markdown":"Does this answer your question? [How to mock Amazon S3 in an integration test](https://stackoverflow.com/questions/6615988/how-to-mock-amazon-s3-in-an-integration-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6615988/how-to-mock-amazon-s3-in-an-integration-test\">How to mock Amazon S3 in an integration test</a>"},{"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"score":0,"creation_date":1638913424,"post_id":70267158,"comment_id":124213578,"body_markdown":"no am looking for S3ClientConfiguration mocking which is part of aws-sdk java v2","body":"no am looking for S3ClientConfiguration mocking which is part of aws-sdk java v2"}],"owner":{"account_id":20044970,"reputation":1,"user_id":14694869,"display_name":"Balaji Karthick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638912404,"creation_date":1638912404,"question_id":70267158,"body_markdown":"have been trying for two days and not finding a solution to mock **S3ClientConfiguration** for unit test and pass it in **S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();**\r\n\r\nis there a way to mock **S3ClientConfiguration** or **S3TransferManager** and use it for unit test java?\r\n\r\nam using aws-sdk for java 2.x\r\n\r\n","title":"How to Mock &quot;S3ClientConfiguration&quot; for unit test","body":"<p>have been trying for two days and not finding a solution to mock <strong>S3ClientConfiguration</strong> for unit test and pass it in <strong>S3TransferManager.builder().s3ClientConfiguration(s3ClientConfiguration).build();</strong></p>\n<p>is there a way to mock <strong>S3ClientConfiguration</strong> or <strong>S3TransferManager</strong> and use it for unit test java?</p>\n<p>am using aws-sdk for java 2.x</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638893361,"creation_date":1638885634,"answer_id":70261500,"question_id":70242642,"body_markdown":"From your logs you can see that first you log your `Future` status, and only then you have the code inside your asynchronous method being printed. That&#39;s because you don&#39;t actually wait for it to complete. So Vert.x is correct there, your Future hasn&#39;t completed yet.\r\n\r\nYou can use `map` instead:\r\n\r\n```java\r\nLOG.debug(&quot;jobID &quot;+jobID);\r\nFuture&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\r\nreturn generateChildSerial.map { f -&gt; \r\n   // Do something here\r\n};\r\n```\r\n\r\nIt&#39;s not so clear from your example what are your returning, since your return type is `Void`.","title":"Vert.x Future returns false while checking status","body":"<p>From your logs you can see that first you log your <code>Future</code> status, and only then you have the code inside your asynchronous method being printed. That's because you don't actually wait for it to complete. So Vert.x is correct there, your Future hasn't completed yet.</p>\n<p>You can use <code>map</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOG.debug(&quot;jobID &quot;+jobID);\nFuture&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\nreturn generateChildSerial.map { f -&gt; \n   // Do something here\n};\n</code></pre>\n<p>It's not so clear from your example what are your returning, since your return type is <code>Void</code>.</p>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638912306,"creation_date":1638912306,"answer_id":70267137,"question_id":70242642,"body_markdown":"As you can see from the logs \r\n\r\n&gt; 2021-12-06 11:42:41.709+0330 [vert.x-eventloop-thread-1] DEBUG\r\n&gt; com.job.CreateJobHandler - generateChildSerial.isComplete() false\r\n\r\nisComplete() result is false. \r\n\r\nThis means your future is not yet completed and hence, you cannot yet expect to have generateChildSerial.result() (hence null) and likewise generateChildSerial.succeeded() (hence false).\r\n\r\nIf your aim is to log the success or failure status of the future, you could have something like \r\n\r\n    ...\r\n        LOG.debug(&quot;jobID &quot;+jobID);\r\n        Future&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\r\n        generateChildSerial.onComplete(result -&gt; {\r\n          if (result.succeeded()){\r\n            LOG.debug(&quot;generateChildSerial.succeeded() &quot;+generateChildSerial.succeeded()+&quot; &quot;+generateChildSerial.result());\r\n          } else {\r\n            // log the error message you want\r\n          }\r\n          LOG.debug(&quot;generateChildSerial.isComplete() &quot;+generateChildSerial.isComplete());\r\n        })\r\n        return generateChildSerial;\r\n    ....","title":"Vert.x Future returns false while checking status","body":"<p>As you can see from the logs</p>\n<blockquote>\n<p>2021-12-06 11:42:41.709+0330 [vert.x-eventloop-thread-1] DEBUG\ncom.job.CreateJobHandler - generateChildSerial.isComplete() false</p>\n</blockquote>\n<p>isComplete() result is false.</p>\n<p>This means your future is not yet completed and hence, you cannot yet expect to have generateChildSerial.result() (hence null) and likewise generateChildSerial.succeeded() (hence false).</p>\n<p>If your aim is to log the success or failure status of the future, you could have something like</p>\n<pre><code>...\n    LOG.debug(&quot;jobID &quot;+jobID);\n    Future&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\n    generateChildSerial.onComplete(result -&gt; {\n      if (result.succeeded()){\n        LOG.debug(&quot;generateChildSerial.succeeded() &quot;+generateChildSerial.succeeded()+&quot; &quot;+generateChildSerial.result());\n      } else {\n        // log the error message you want\n      }\n      LOG.debug(&quot;generateChildSerial.isComplete() &quot;+generateChildSerial.isComplete());\n    })\n    return generateChildSerial;\n....\n</code></pre>\n"}],"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638912306,"creation_date":1638779271,"question_id":70242642,"body_markdown":"I have a method which returns a Future&lt;Void&gt; like so,\r\n\r\n    private Future&lt;Void&gt; generateChildSerial(RoutingContext context, Long createJobID)\r\n\r\nand after I insert data in to the database I return future like so,\r\n \r\n\r\n    db\r\n\t\t  .preparedQuery(sql)\r\n\t\t  .executeBatch(batch, res -&gt; {\r\n\t\t  if (res.succeeded()) {\r\n\r\n\t\t    // Process rows\r\n\t\t    RowSet&lt;Row&gt; rows = res.result();\r\n\t\t    LOG.info(&quot;rows.rowCount():&quot;+ rows.rowCount());\r\n\t\t    \r\n\t\t  } else {\r\n\t\t    System.out.println(&quot;Batch failed &quot; + res.cause());\r\n\t\t  }\r\n\t\t  promise.complete();\r\n\t\t});\r\n\t\t\r\n\t\treturn promise.future();\r\n\r\nThen in my compose method where I am chaining it, I am trying to check the status of the future like so,\r\n\r\n    createJob(context)\r\n    \t\t\t.compose(jobID -&gt; \r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tLOG.debug(&quot;jobID &quot;+jobID);\r\n    \t\t\t\t\t\tFuture&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\r\n    \t\t\t\t\t\tLOG.debug(&quot;generateChildSerial.succeeded() &quot;+generateChildSerial.succeeded()+&quot; &quot;+generateChildSerial.result());\r\n    \t\t\t\t\t\tLOG.debug(&quot;generateChildSerial.isComplete() &quot;+generateChildSerial.isComplete());\r\n    \t\t\t\t\t\treturn generateChildSerial;\r\n    \t\t\t\t\t});\r\n\r\nThe database operation succeeds but for some reason I get false for both the methods, console shows like so,\r\n\r\n    [vert.x-eventloop-thread-1] DEBUG com.job.CreateJobHandler - generateChildSerial.succeeded() false null\r\n    2021-12-06 11:42:41.709+0330 [vert.x-eventloop-thread-1] DEBUG com.job.CreateJobHandler - generateChildSerial.isComplete() false\r\n    2021-12-06 11:42:41.914+0330 [vert.x-eventloop-thread-1] INFO  com.job.CreateJobHandler - rows.rowCount():1\r\n\r\nAny help will be appreciated!!\r\ncheers\r\n","title":"Vert.x Future returns false while checking status","body":"<p>I have a method which returns a Future like so,</p>\n<pre><code>private Future&lt;Void&gt; generateChildSerial(RoutingContext context, Long createJobID)\n</code></pre>\n<p>and after I insert data in to the database I return future like so,</p>\n<pre><code>db\n      .preparedQuery(sql)\n      .executeBatch(batch, res -&gt; {\n      if (res.succeeded()) {\n\n        // Process rows\n        RowSet&lt;Row&gt; rows = res.result();\n        LOG.info(&quot;rows.rowCount():&quot;+ rows.rowCount());\n        \n      } else {\n        System.out.println(&quot;Batch failed &quot; + res.cause());\n      }\n      promise.complete();\n    });\n    \n    return promise.future();\n</code></pre>\n<p>Then in my compose method where I am chaining it, I am trying to check the status of the future like so,</p>\n<pre><code>createJob(context)\n            .compose(jobID -&gt; \n                    {\n                        LOG.debug(&quot;jobID &quot;+jobID);\n                        Future&lt;Void&gt; generateChildSerial = generateChildSerial(context, jobID);\n                        LOG.debug(&quot;generateChildSerial.succeeded() &quot;+generateChildSerial.succeeded()+&quot; &quot;+generateChildSerial.result());\n                        LOG.debug(&quot;generateChildSerial.isComplete() &quot;+generateChildSerial.isComplete());\n                        return generateChildSerial;\n                    });\n</code></pre>\n<p>The database operation succeeds but for some reason I get false for both the methods, console shows like so,</p>\n<pre><code>[vert.x-eventloop-thread-1] DEBUG com.job.CreateJobHandler - generateChildSerial.succeeded() false null\n2021-12-06 11:42:41.709+0330 [vert.x-eventloop-thread-1] DEBUG com.job.CreateJobHandler - generateChildSerial.isComplete() false\n2021-12-06 11:42:41.914+0330 [vert.x-eventloop-thread-1] INFO  com.job.CreateJobHandler - rows.rowCount():1\n</code></pre>\n<p>Any help will be appreciated!!\ncheers</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11080447,"reputation":66,"user_id":8135769,"display_name":"G3or6311"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557386918,"creation_date":1557386918,"answer_id":56054268,"question_id":56054198,"body_markdown":"you need to get the array from resources and then iterate over it.\r\n\r\n    String[] starry = Context.getResources().getStringArray(R.id.your_array_name);\r\n    for(String s : starry){\r\n      //do stuff\r\n    }\r\n\r\n\r\nAnd just for clarity, your arrays.xml files should be formatted as:\r\n\r\n    &lt;string-array name=&quot;activity_list_menu&quot;&gt;\r\n        &lt;item&gt;Profile&lt;/item&gt;\r\n        &lt;item&gt;Help&lt;/item&gt;\r\n        &lt;item&gt;Legal&lt;/item&gt;\r\n    &lt;/string-array&gt;","title":"Looping through array.xml","body":"<p>you need to get the array from resources and then iterate over it.</p>\n\n<pre><code>String[] starry = Context.getResources().getStringArray(R.id.your_array_name);\nfor(String s : starry){\n  //do stuff\n}\n</code></pre>\n\n<p>And just for clarity, your arrays.xml files should be formatted as:</p>\n\n<pre><code>&lt;string-array name=\"activity_list_menu\"&gt;\n    &lt;item&gt;Profile&lt;/item&gt;\n    &lt;item&gt;Help&lt;/item&gt;\n    &lt;item&gt;Legal&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8316855,"reputation":84,"user_id":11238317,"display_name":"Mohammed farhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557387127,"creation_date":1557387127,"answer_id":56054324,"question_id":56054198,"body_markdown":"You can not have a loop for values in a resource files like `xml`. But you could put all the values inside single array inside array.xml like \r\n\r\n      &lt;string-array name=&quot;condition&quot;&gt;\r\n        &lt;item&gt;no&lt;/item&gt;\r\n        &lt;item&gt;yes&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nand get all the values like \r\n\r\n    String[] values =getResouces().getStringArray(R.array.condition)\r\n\r\nand loop through obtained values.","title":"Looping through array.xml","body":"<p>You can not have a loop for values in a resource files like <code>xml</code>. But you could put all the values inside single array inside array.xml like </p>\n\n<pre><code>  &lt;string-array name=\"condition\"&gt;\n    &lt;item&gt;no&lt;/item&gt;\n    &lt;item&gt;yes&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>and get all the values like </p>\n\n<pre><code>String[] values =getResouces().getStringArray(R.array.condition)\n</code></pre>\n\n<p>and loop through obtained values.</p>\n"},{"tags":[],"owner":{"account_id":11114628,"reputation":150,"user_id":8159302,"display_name":"coderBox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557387171,"creation_date":1557387171,"answer_id":56054330,"question_id":56054198,"body_markdown":"Yes you can \r\n\r\n  \r\n\r\n    String array_navigation[] = getResources().getStringArray(R.array.your_array_xml);\r\n       \r\n    \r\n            for (int i = 0; i &lt; array_navigation.length; i++) {\r\n                RandomPicture randomPicture = new RandomPicture(array_navigation[i]);\r\n                adapter.add(randomPicture)\r\n    \r\n            }","title":"Looping through array.xml","body":"<p>Yes you can </p>\n\n<pre><code>String array_navigation[] = getResources().getStringArray(R.array.your_array_xml);\n\n\n        for (int i = 0; i &lt; array_navigation.length; i++) {\n            RandomPicture randomPicture = new RandomPicture(array_navigation[i]);\n            adapter.add(randomPicture)\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5048938,"reputation":381,"user_id":4080393,"accept_rate":56,"display_name":"B.Ondrej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638912192,"creation_date":1638912192,"answer_id":70267116,"question_id":56054198,"body_markdown":"Yes it is possible:\r\n\r\n    &lt;string-array name=&quot;SomeArrayValues&quot;&gt;\r\n           &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\r\n           &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\r\n           &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\r\n    &lt;/string-array&gt; \r\n\r\n   \r\n\r\n    String[] str = getActivity().getResources().getStringArray(R.array.SomeArrayValues);\r\n\r\n        for(String s : str){\r\n            try {\r\n                obj = new JSONObject( s );\r\n                System.out.println(&quot;*** &quot; + obj.getString( &quot;name1&quot; ));\r\n                System.out.println(&quot;*** &quot; + obj.getString( &quot;name2&quot; ));\r\n                System.out.println(&quot;*** &quot; + obj.getString( &quot;name3&quot; ));\r\n            }\r\n            catch (JSONException e) {\r\n                e.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Looping through array.xml","body":"<p>Yes it is possible:</p>\n<pre><code>&lt;string-array name=&quot;SomeArrayValues&quot;&gt;\n       &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\n       &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\n       &lt;item&gt;{&quot;name1&quot;:val, &quot;name2&quot;:val, &quot;name3&quot;: val}&lt;/item&gt;\n&lt;/string-array&gt; \n\n\n\nString[] str = getActivity().getResources().getStringArray(R.array.SomeArrayValues);\n\n    for(String s : str){\n        try {\n            obj = new JSONObject( s );\n            System.out.println(&quot;*** &quot; + obj.getString( &quot;name1&quot; ));\n            System.out.println(&quot;*** &quot; + obj.getString( &quot;name2&quot; ));\n            System.out.println(&quot;*** &quot; + obj.getString( &quot;name3&quot; ));\n        }\n        catch (JSONException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":7689817,"reputation":25,"user_id":5826463,"display_name":"Dareyou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56054324,"answer_count":4,"score":0,"last_activity_date":1638912192,"creation_date":1557386663,"question_id":56054198,"body_markdown":"I have an array.xml file to store my arrays. All arrays contain five string values.\r\nI create a random number and due to the random number I load the array from array.xml via a switch case. This works fine, but it is a lot of work to have array.xml and a switch case.\r\nIs there a way to iterate through an array.xml file in android?\r\nSomething like this:\r\n\r\n```\r\nfor array : array.xml{\r\nrandomPicture = new RandomPicture(array);\r\nadapter.add(randomPicture)\r\n}\r\n```\r\n\r\nbest regards, nico","title":"Looping through array.xml","body":"<p>I have an array.xml file to store my arrays. All arrays contain five string values.\nI create a random number and due to the random number I load the array from array.xml via a switch case. This works fine, but it is a lot of work to have array.xml and a switch case.\nIs there a way to iterate through an array.xml file in android?\nSomething like this:</p>\n\n<pre><code>for array : array.xml{\nrandomPicture = new RandomPicture(array);\nadapter.add(randomPicture)\n}\n</code></pre>\n\n<p>best regards, nico</p>\n"},{"tags":["java","android","android-10.0","lockscreen"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1639851397,"post_id":70267029,"comment_id":124455940,"body_markdown":"Have you managed to resolve this?","body":"Have you managed to resolve this?"},{"owner":{"account_id":22561320,"reputation":11,"user_id":16748932,"display_name":"Việt Đức Phạm"},"score":0,"creation_date":1640008880,"post_id":70267029,"comment_id":124486121,"body_markdown":"i had to run device-admin-owner with adb-shell command for it to work. But is there a way without having to do this?","body":"i had to run device-admin-owner with adb-shell command for it to work. But is there a way without having to do this?"}],"owner":{"account_id":22561320,"reputation":11,"user_id":16748932,"display_name":"Việt Đức Phạm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638911720,"creation_date":1638911720,"question_id":70267029,"body_markdown":"I&#39;m create a lock screen app normal but only start lock by time set in TimePickerDialog. I&#39;m try to starting the lockService when AlarmManager wakeup by broadcast but the result i get is i have to restart the app for the lock screen to work. Is there a way to automatically lock the screen when the time is set when my app is destroyed?Of course, the message will be displayed. My app work on Android 10.\r\nThis is my set time\r\n\r\n        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n            calendar.set(Calendar.MINUTE, minute);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            setAlarm(calendar);\r\n            updateTimeText(calendar);\r\n        }\r\n        private void setAlarm(Calendar calendar ) {\r\n            if (calendar.before(Calendar.getInstance())) {\r\n                calendar.add(Calendar.DATE , 1);\r\n            }\r\n    \r\n            AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n            Intent intent = new Intent(this, AlarmReceiver.class);\r\n            intent.putExtra(&quot;countdown&quot;,&quot;on&quot;);\r\n    //        Intent intent2 = new Intent(this, BackgroundManager.class);\r\n    //        long test = calendar.getTimeInMillis();\r\n    //        intent2.putExtra(&quot;time&quot;,test);\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 1, intent, 0);\r\n            if (alarmManager != null) {\r\n                //alarm 1L\r\n                alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n                //Alarm everyday\r\n    //                alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),\r\n    //                        AlarmManager.INTERVAL_DAY, pendingIntent);\r\n            }\r\nThis is BroadcastReceiver to startService\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n        //    private CountdownTimer myService;\r\n    //    private boolean isConnected;\r\n        private final static String TAG = &quot;AlarmReceiver BroadcastService&quot;;\r\n                        BackgroundManager.getInstance().init(LockSettingActivity.this).stopService(LockService.class);\r\n                        BackgroundManager.getInstance().init(LockSettingActivity.this).startService(LockService.class);\r\n                      BackgroundManager.getInstance().init(LockSettingActivity.this).startAlarmManager();\r\n    }\r\n\r\nThis is class to Lock \r\n\r\n    public class LockService extends IntentService {\r\n    \r\n        public static final String UNLOCK_ACTION = &quot;UNLOCK_ACTION&quot;;\r\n        public static final String LOCK_SERVICE_LASTTIME = &quot;LOCK_SERVICE_LASTTIME&quot;;\r\n        public static final String LOCK_SERVICE_LASTAPP = &quot;LOCK_SERVICE_LASTAPP&quot;;\r\n        private static final String TAG = &quot;LockService&quot;;\r\n        public static boolean isActionLock = false;\r\n        public boolean threadIsTerminate = false;\r\n        @Nullable\r\n        public String savePkgName;\r\n        UsageStatsManager sUsageStatsManager;\r\n        Timer timer = new Timer();\r\n        //private boolean isLockTypeAccessibility;\r\n        private long lastUnlockTimeSeconds = 0;\r\n        private String lastUnlockPackageName = &quot;&quot;;\r\n        private boolean lockState;\r\n        private ServiceReceiver mServiceReceiver;\r\n        private CommLockInfoManager mLockInfoManager;\r\n        private boolean lockState2;\r\n    \r\n        @Nullable\r\n        private ActivityManager activityManager;\r\n    \r\n        public LockService() {\r\n            super(&quot;LockService&quot;);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\r\n            mLockInfoManager = new CommLockInfoManager(this);\r\n            activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\r\n            lockState2 = SpUtil.getInstance().getBoolean(AppConstants.Alarm_Receiver);\r\n            mServiceReceiver = new ServiceReceiver();\r\n            IntentFilter filter = new IntentFilter();\r\n            filter.addAction(Intent.ACTION_SCREEN_ON);\r\n            filter.addAction(Intent.ACTION_SCREEN_OFF);\r\n            filter.addAction(UNLOCK_ACTION);\r\n            registerReceiver(mServiceReceiver, filter);\r\n    \r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n                sUsageStatsManager = (UsageStatsManager) this.getSystemService(Context.USAGE_STATS_SERVICE);\r\n            }\r\n    \r\n            threadIsTerminate = true;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationUtil.createNotification(this, &quot;Now Sleep&quot;, &quot;NowSleep running in background&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n                runForever();\r\n        }\r\n    \r\n        private void runForever() {\r\n            while (threadIsTerminate) {\r\n                String packageName = getLauncherTopApp(LockService.this, activityManager);\r\n                if (lockState &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !inWhiteList(packageName)) {\r\n                    boolean isLockOffScreenTime = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN_TIME, false);\r\n                    boolean isLockOffScreen = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN, false);\r\n                    savePkgName = SpUtil.getInstance().getString(AppConstants.LOCK_LAST_LOAD_PKG_NAME, &quot;&quot;);\r\n    \r\n                    if (isLockOffScreenTime &amp;&amp; !isLockOffScreen) {\r\n                        long time = SpUtil.getInstance().getLong(AppConstants.LOCK_CURR_MILLISECONDS, 0);\r\n                        long leaverTime = SpUtil.getInstance().getLong(AppConstants.LOCK_APART_MILLISECONDS, 0);\r\n                        if (!TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\r\n                            if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\r\n                                boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\r\n                                if (!isSetUnLock) {\r\n                                    if (System.currentTimeMillis() - time &gt; leaverTime) {\r\n                                        mLockInfoManager.lockCommApplication(savePkgName);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    if (isLockOffScreenTime &amp;&amp; isLockOffScreen) {\r\n                        long time = SpUtil.getInstance().getLong(AppConstants.LOCK_CURR_MILLISECONDS, 0);\r\n                        long leaverTime = SpUtil.getInstance().getLong(AppConstants.LOCK_APART_MILLISECONDS, 0);\r\n                        if (!TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\r\n                            if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\r\n                                boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\r\n                                if (!isSetUnLock) {\r\n                                    if (System.currentTimeMillis() - time &gt; leaverTime) {\r\n                                        mLockInfoManager.lockCommApplication(savePkgName);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n    \r\n                    if (!isLockOffScreenTime &amp;&amp; isLockOffScreen &amp;&amp; !TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName)) {\r\n                        if (!savePkgName.equals(packageName)) {\r\n                            isActionLock = false;\r\n                            if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\r\n                                boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\r\n                                if (!isSetUnLock) {\r\n                                    mLockInfoManager.lockCommApplication(savePkgName);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            isActionLock = true;\r\n                        }\r\n                    }\r\n                    if (!isLockOffScreenTime &amp;&amp; !isLockOffScreen &amp;&amp; !TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\r\n                        if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\r\n                            boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\r\n                            if (!isSetUnLock) {\r\n                                mLockInfoManager.lockCommApplication(savePkgName);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (mLockInfoManager.isLockedPackageName(packageName)) {\r\n                        passwordLock(packageName);\r\n                        continue;\r\n                    }\r\n                }\r\n                try {\r\n                    Thread.sleep(210);\r\n                } catch (Exception ignore) {\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean inWhiteList(String packageName) {\r\n            return packageName.equals(AppConstants.APP_PACKAGE_NAME);\r\n        }\r\n    \r\n        public String getLauncherTopApp(@NonNull Context context, @NonNull ActivityManager activityManager) {\r\n            //isLockTypeAccessibility = SpUtil.getInstance().getBoolean(AppConstants.LOCK_TYPE, false);\r\n            if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n                List&lt;ActivityManager.RunningTaskInfo&gt; appTasks = activityManager.getRunningTasks(1);\r\n                if (null != appTasks &amp;&amp; !appTasks.isEmpty()) {\r\n                    return appTasks.get(0).topActivity.getPackageName();\r\n                }\r\n            } else {\r\n                long endTime = System.currentTimeMillis();\r\n                long beginTime = endTime - 10000;\r\n                String result = &quot;&quot;;\r\n                UsageEvents.Event event = new UsageEvents.Event();\r\n                UsageEvents usageEvents = sUsageStatsManager.queryEvents(beginTime, endTime);\r\n                while (usageEvents.hasNextEvent()) {\r\n                    usageEvents.getNextEvent(event);\r\n                    if (event.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND) {\r\n                        result = event.getPackageName();\r\n                    }\r\n                }\r\n                if (!android.text.TextUtils.isEmpty(result)) {\r\n                    return result;\r\n                }\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        @NonNull\r\n        private List&lt;String&gt; getHomes() {\r\n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n            PackageManager packageManager = this.getPackageManager();\r\n            Intent intent = new Intent(Intent.ACTION_MAIN);\r\n            intent.addCategory(Intent.CATEGORY_HOME);\r\n            List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n            for (ResolveInfo ri : resolveInfo) {\r\n                names.add(ri.activityInfo.packageName);\r\n            }\r\n            return names;\r\n        }\r\n    \r\n        private void passwordLock(String packageName) {\r\n    \r\n                LockApplication.getInstance().clearAllActivity();\r\n                Intent intent = new Intent(this, GestureUnlockActivity.class);\r\n                intent.putExtra(AppConstants.LOCK_PACKAGE_NAME, packageName);\r\n                intent.putExtra(AppConstants.LOCK_FROM, AppConstants.LOCK_FROM_FINISH);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(intent);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            threadIsTerminate = false;\r\n            timer.cancel();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationUtil.cancelNotification(this);\r\n            }\r\n            lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\r\n            if (lockState) {\r\n                Intent intent = new Intent(this, LockRestarterBroadcastReceiver.class);\r\n                intent.putExtra(&quot;type&quot;, &quot;lockservice&quot;);\r\n                sendBroadcast(intent);\r\n            }\r\n            unregisterReceiver(mServiceReceiver);\r\n        }\r\n    \r\n        @Override\r\n        public void onTaskRemoved(Intent rootIntent) {\r\n            super.onTaskRemoved(rootIntent);\r\n            threadIsTerminate = false;\r\n            timer.cancel();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationUtil.cancelNotification(this);\r\n            }\r\n            lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\r\n            if (lockState) {\r\n                Intent restartServiceTask = new Intent(getApplicationContext(), this.getClass());\r\n                restartServiceTask.setPackage(getPackageName());\r\n                PendingIntent restartPendingIntent = PendingIntent.getService(getApplicationContext(), 1495, restartServiceTask, PendingIntent.FLAG_ONE_SHOT);\r\n                AlarmManager myAlarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\r\n                myAlarmService.set(\r\n                        AlarmManager.ELAPSED_REALTIME,\r\n                        SystemClock.elapsedRealtime() + 1500,\r\n                        restartPendingIntent);\r\n            }\r\n    \r\n        }\r\n    \r\n        public class ServiceReceiver extends BroadcastReceiver {\r\n    \r\n            @Override\r\n            public void onReceive(Context context, @NonNull Intent intent) {\r\n                String action = intent.getAction();\r\n    \r\n                boolean isLockOffScreen = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN, false);\r\n                boolean isLockOffScreenTime = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN_TIME, false);\r\n    \r\n                switch (action) {\r\n                    case UNLOCK_ACTION:\r\n                        lastUnlockPackageName = intent.getStringExtra(LOCK_SERVICE_LASTAPP);\r\n                        lastUnlockTimeSeconds = intent.getLongExtra(LOCK_SERVICE_LASTTIME, lastUnlockTimeSeconds);\r\n                        break;\r\n                    case Intent.ACTION_SCREEN_OFF:\r\n                        SpUtil.getInstance().putLong(AppConstants.LOCK_CURR_MILLISECONDS, System.currentTimeMillis());\r\n    \r\n                        if (!isLockOffScreenTime &amp;&amp; isLockOffScreen) {\r\n                            String savePkgName = SpUtil.getInstance().getString(AppConstants.LOCK_LAST_LOAD_PKG_NAME, &quot;&quot;);\r\n                            if (!TextUtils.isEmpty(savePkgName)) {\r\n                                if (isActionLock) {\r\n                                    mLockInfoManager.lockCommApplication(lastUnlockPackageName);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\nThis is class to Restart LockService\r\n\r\n    public class LockRestarterBroadcastReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            boolean lockState=SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\r\n            if (intent != null &amp;&amp; lockState) {\r\n                String type = intent.getStringExtra(&quot;type&quot;);\r\n                if (type.contentEquals(&quot;lockservice&quot;)){\r\n                    //context.startService(new Intent(context, LockService.class));\r\n                BackgroundManager.getInstance().init(context).startService(LockService.class);\r\n                }\r\n               /* else if (SpUtil.getInstance().getBoolean(AppConstants.LOCK_TYPE, false))\r\n                    BackgroundManager.getInstance().init(context).startService(LockAccessibilityService.class);*/\r\n                else if (type.contentEquals(&quot;startlockserviceFromAM&quot;)) {\r\n                    if (!BackgroundManager.getInstance().init(context).isServiceRunning(LockService.class)) {\r\n                        BackgroundManager.getInstance().init(context).startService(LockService.class);\r\n                    }\r\n                    //repeat\r\n                    BackgroundManager.getInstance().init(context).startAlarmManager();\r\n                }\r\n            }\r\n        }\r\n    }\r\nPlease give me instructions, any help is appreciated.\r\n\r\n","title":"How to set time for screen lock Android Java ?? (Android 10)","body":"<p>I'm create a lock screen app normal but only start lock by time set in TimePickerDialog. I'm try to starting the lockService when AlarmManager wakeup by broadcast but the result i get is i have to restart the app for the lock screen to work. Is there a way to automatically lock the screen when the time is set when my app is destroyed?Of course, the message will be displayed. My app work on Android 10.\nThis is my set time</p>\n<pre><code>    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.HOUR_OF_DAY, hourOfDay);\n        calendar.set(Calendar.MINUTE, minute);\n        calendar.set(Calendar.SECOND, 0);\n        setAlarm(calendar);\n        updateTimeText(calendar);\n    }\n    private void setAlarm(Calendar calendar ) {\n        if (calendar.before(Calendar.getInstance())) {\n            calendar.add(Calendar.DATE , 1);\n        }\n\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        Intent intent = new Intent(this, AlarmReceiver.class);\n        intent.putExtra(&quot;countdown&quot;,&quot;on&quot;);\n//        Intent intent2 = new Intent(this, BackgroundManager.class);\n//        long test = calendar.getTimeInMillis();\n//        intent2.putExtra(&quot;time&quot;,test);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 1, intent, 0);\n        if (alarmManager != null) {\n            //alarm 1L\n            alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n            //Alarm everyday\n//                alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),\n//                        AlarmManager.INTERVAL_DAY, pendingIntent);\n        }\n</code></pre>\n<p>This is BroadcastReceiver to startService</p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n    //    private CountdownTimer myService;\n//    private boolean isConnected;\n    private final static String TAG = &quot;AlarmReceiver BroadcastService&quot;;\n                    BackgroundManager.getInstance().init(LockSettingActivity.this).stopService(LockService.class);\n                    BackgroundManager.getInstance().init(LockSettingActivity.this).startService(LockService.class);\n                  BackgroundManager.getInstance().init(LockSettingActivity.this).startAlarmManager();\n}\n</code></pre>\n<p>This is class to Lock</p>\n<pre><code>public class LockService extends IntentService {\n\n    public static final String UNLOCK_ACTION = &quot;UNLOCK_ACTION&quot;;\n    public static final String LOCK_SERVICE_LASTTIME = &quot;LOCK_SERVICE_LASTTIME&quot;;\n    public static final String LOCK_SERVICE_LASTAPP = &quot;LOCK_SERVICE_LASTAPP&quot;;\n    private static final String TAG = &quot;LockService&quot;;\n    public static boolean isActionLock = false;\n    public boolean threadIsTerminate = false;\n    @Nullable\n    public String savePkgName;\n    UsageStatsManager sUsageStatsManager;\n    Timer timer = new Timer();\n    //private boolean isLockTypeAccessibility;\n    private long lastUnlockTimeSeconds = 0;\n    private String lastUnlockPackageName = &quot;&quot;;\n    private boolean lockState;\n    private ServiceReceiver mServiceReceiver;\n    private CommLockInfoManager mLockInfoManager;\n    private boolean lockState2;\n\n    @Nullable\n    private ActivityManager activityManager;\n\n    public LockService() {\n        super(&quot;LockService&quot;);\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\n        mLockInfoManager = new CommLockInfoManager(this);\n        activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\n        lockState2 = SpUtil.getInstance().getBoolean(AppConstants.Alarm_Receiver);\n        mServiceReceiver = new ServiceReceiver();\n        IntentFilter filter = new IntentFilter();\n        filter.addAction(Intent.ACTION_SCREEN_ON);\n        filter.addAction(Intent.ACTION_SCREEN_OFF);\n        filter.addAction(UNLOCK_ACTION);\n        registerReceiver(mServiceReceiver, filter);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n            sUsageStatsManager = (UsageStatsManager) this.getSystemService(Context.USAGE_STATS_SERVICE);\n        }\n\n        threadIsTerminate = true;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationUtil.createNotification(this, &quot;Now Sleep&quot;, &quot;NowSleep running in background&quot;);\n        }\n    }\n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n            runForever();\n    }\n\n    private void runForever() {\n        while (threadIsTerminate) {\n            String packageName = getLauncherTopApp(LockService.this, activityManager);\n            if (lockState &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !inWhiteList(packageName)) {\n                boolean isLockOffScreenTime = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN_TIME, false);\n                boolean isLockOffScreen = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN, false);\n                savePkgName = SpUtil.getInstance().getString(AppConstants.LOCK_LAST_LOAD_PKG_NAME, &quot;&quot;);\n\n                if (isLockOffScreenTime &amp;&amp; !isLockOffScreen) {\n                    long time = SpUtil.getInstance().getLong(AppConstants.LOCK_CURR_MILLISECONDS, 0);\n                    long leaverTime = SpUtil.getInstance().getLong(AppConstants.LOCK_APART_MILLISECONDS, 0);\n                    if (!TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\n                        if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\n                            boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\n                            if (!isSetUnLock) {\n                                if (System.currentTimeMillis() - time &gt; leaverTime) {\n                                    mLockInfoManager.lockCommApplication(savePkgName);\n                                }\n                            }\n                        }\n                    }\n                }\n\n                if (isLockOffScreenTime &amp;&amp; isLockOffScreen) {\n                    long time = SpUtil.getInstance().getLong(AppConstants.LOCK_CURR_MILLISECONDS, 0);\n                    long leaverTime = SpUtil.getInstance().getLong(AppConstants.LOCK_APART_MILLISECONDS, 0);\n                    if (!TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\n                        if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\n                            boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\n                            if (!isSetUnLock) {\n                                if (System.currentTimeMillis() - time &gt; leaverTime) {\n                                    mLockInfoManager.lockCommApplication(savePkgName);\n                                }\n                            }\n                        }\n                    }\n                }\n\n\n                if (!isLockOffScreenTime &amp;&amp; isLockOffScreen &amp;&amp; !TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName)) {\n                    if (!savePkgName.equals(packageName)) {\n                        isActionLock = false;\n                        if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\n                            boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\n                            if (!isSetUnLock) {\n                                mLockInfoManager.lockCommApplication(savePkgName);\n                            }\n                        }\n                    } else {\n                        isActionLock = true;\n                    }\n                }\n                if (!isLockOffScreenTime &amp;&amp; !isLockOffScreen &amp;&amp; !TextUtils.isEmpty(savePkgName) &amp;&amp; !TextUtils.isEmpty(packageName) &amp;&amp; !savePkgName.equals(packageName)) {\n                    if (getHomes().contains(packageName) || packageName.contains(&quot;launcher&quot;)) {\n                        boolean isSetUnLock = mLockInfoManager.isSetUnLock(savePkgName);\n                        if (!isSetUnLock) {\n                            mLockInfoManager.lockCommApplication(savePkgName);\n                        }\n                    }\n                }\n                if (mLockInfoManager.isLockedPackageName(packageName)) {\n                    passwordLock(packageName);\n                    continue;\n                }\n            }\n            try {\n                Thread.sleep(210);\n            } catch (Exception ignore) {\n            }\n        }\n    }\n\n    private boolean inWhiteList(String packageName) {\n        return packageName.equals(AppConstants.APP_PACKAGE_NAME);\n    }\n\n    public String getLauncherTopApp(@NonNull Context context, @NonNull ActivityManager activityManager) {\n        //isLockTypeAccessibility = SpUtil.getInstance().getBoolean(AppConstants.LOCK_TYPE, false);\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n            List&lt;ActivityManager.RunningTaskInfo&gt; appTasks = activityManager.getRunningTasks(1);\n            if (null != appTasks &amp;&amp; !appTasks.isEmpty()) {\n                return appTasks.get(0).topActivity.getPackageName();\n            }\n        } else {\n            long endTime = System.currentTimeMillis();\n            long beginTime = endTime - 10000;\n            String result = &quot;&quot;;\n            UsageEvents.Event event = new UsageEvents.Event();\n            UsageEvents usageEvents = sUsageStatsManager.queryEvents(beginTime, endTime);\n            while (usageEvents.hasNextEvent()) {\n                usageEvents.getNextEvent(event);\n                if (event.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND) {\n                    result = event.getPackageName();\n                }\n            }\n            if (!android.text.TextUtils.isEmpty(result)) {\n                return result;\n            }\n        }\n        return &quot;&quot;;\n    }\n\n    @NonNull\n    private List&lt;String&gt; getHomes() {\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\n        PackageManager packageManager = this.getPackageManager();\n        Intent intent = new Intent(Intent.ACTION_MAIN);\n        intent.addCategory(Intent.CATEGORY_HOME);\n        List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n        for (ResolveInfo ri : resolveInfo) {\n            names.add(ri.activityInfo.packageName);\n        }\n        return names;\n    }\n\n    private void passwordLock(String packageName) {\n\n            LockApplication.getInstance().clearAllActivity();\n            Intent intent = new Intent(this, GestureUnlockActivity.class);\n            intent.putExtra(AppConstants.LOCK_PACKAGE_NAME, packageName);\n            intent.putExtra(AppConstants.LOCK_FROM, AppConstants.LOCK_FROM_FINISH);\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        threadIsTerminate = false;\n        timer.cancel();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationUtil.cancelNotification(this);\n        }\n        lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\n        if (lockState) {\n            Intent intent = new Intent(this, LockRestarterBroadcastReceiver.class);\n            intent.putExtra(&quot;type&quot;, &quot;lockservice&quot;);\n            sendBroadcast(intent);\n        }\n        unregisterReceiver(mServiceReceiver);\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent) {\n        super.onTaskRemoved(rootIntent);\n        threadIsTerminate = false;\n        timer.cancel();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationUtil.cancelNotification(this);\n        }\n        lockState = SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\n        if (lockState) {\n            Intent restartServiceTask = new Intent(getApplicationContext(), this.getClass());\n            restartServiceTask.setPackage(getPackageName());\n            PendingIntent restartPendingIntent = PendingIntent.getService(getApplicationContext(), 1495, restartServiceTask, PendingIntent.FLAG_ONE_SHOT);\n            AlarmManager myAlarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\n            myAlarmService.set(\n                    AlarmManager.ELAPSED_REALTIME,\n                    SystemClock.elapsedRealtime() + 1500,\n                    restartPendingIntent);\n        }\n\n    }\n\n    public class ServiceReceiver extends BroadcastReceiver {\n\n        @Override\n        public void onReceive(Context context, @NonNull Intent intent) {\n            String action = intent.getAction();\n\n            boolean isLockOffScreen = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN, false);\n            boolean isLockOffScreenTime = SpUtil.getInstance().getBoolean(AppConstants.LOCK_AUTO_SCREEN_TIME, false);\n\n            switch (action) {\n                case UNLOCK_ACTION:\n                    lastUnlockPackageName = intent.getStringExtra(LOCK_SERVICE_LASTAPP);\n                    lastUnlockTimeSeconds = intent.getLongExtra(LOCK_SERVICE_LASTTIME, lastUnlockTimeSeconds);\n                    break;\n                case Intent.ACTION_SCREEN_OFF:\n                    SpUtil.getInstance().putLong(AppConstants.LOCK_CURR_MILLISECONDS, System.currentTimeMillis());\n\n                    if (!isLockOffScreenTime &amp;&amp; isLockOffScreen) {\n                        String savePkgName = SpUtil.getInstance().getString(AppConstants.LOCK_LAST_LOAD_PKG_NAME, &quot;&quot;);\n                        if (!TextUtils.isEmpty(savePkgName)) {\n                            if (isActionLock) {\n                                mLockInfoManager.lockCommApplication(lastUnlockPackageName);\n                            }\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p>This is class to Restart LockService</p>\n<pre><code>public class LockRestarterBroadcastReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        boolean lockState=SpUtil.getInstance().getBoolean(AppConstants.LOCK_STATE);\n        if (intent != null &amp;&amp; lockState) {\n            String type = intent.getStringExtra(&quot;type&quot;);\n            if (type.contentEquals(&quot;lockservice&quot;)){\n                //context.startService(new Intent(context, LockService.class));\n            BackgroundManager.getInstance().init(context).startService(LockService.class);\n            }\n           /* else if (SpUtil.getInstance().getBoolean(AppConstants.LOCK_TYPE, false))\n                BackgroundManager.getInstance().init(context).startService(LockAccessibilityService.class);*/\n            else if (type.contentEquals(&quot;startlockserviceFromAM&quot;)) {\n                if (!BackgroundManager.getInstance().init(context).isServiceRunning(LockService.class)) {\n                    BackgroundManager.getInstance().init(context).startService(LockService.class);\n                }\n                //repeat\n                BackgroundManager.getInstance().init(context).startAlarmManager();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Please give me instructions, any help is appreciated.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638911421,"creation_date":1638897609,"answer_id":70264387,"question_id":70264091,"body_markdown":"Store the row with the min and max value. Try this:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        \r\n        final int kolonna = (int) (Math.random()*(9-1+1)+1);\r\n        final int rinda = (int) (Math.random()*(9-1+1)+1);\r\n        \r\n        int [][] arr = new int [kolonna][rinda];\r\n            \r\n        //fill the grid\r\n        for (int rin = 0; rin &lt; arr.length; rin++) {\r\n            for (int kol = 0; kol &lt; arr[rin].length; kol++) {\r\n                arr[rin][kol] = (int) (Math.random() * 201) - 100;\r\n            }\r\n        }\r\n\t\tprint2Dmas(arr);\r\n\t\tSystem.out.println();\r\n\t\tint rowWithMin = 0;\r\n\t\tint rowWithMax = 0;\r\n\t\tint minElement = arr[0][0];\r\n\t\tint maxElement = arr[0][0];\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; arr[i].length; j++) { \r\n\t\t\t\tif (minElement &gt; arr[i][j]) {\r\n\t\t\t\t\tminElement = arr[i][j];\r\n\t\t\t\t\trowWithMin = i;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (maxElement &lt; arr[i][j]) {\r\n\t\t\t\t\tmaxElement = arr[i][j];\r\n\t\t\t\t\trowWithMax = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (rowWithMin != rowWithMax){\r\n\t\t\tswapRows(arr, rowWithMin, rowWithMax);\r\n\t\t}\r\n\t\tprint2Dmas(arr);\r\n\t}\r\n   \r\n    public static void print2Dmas(int mas[][]) {\r\n        for(int i = 0; i &lt; mas.length; i++) {\r\n            for(int j = 0; j &lt; mas[i].length; j++) {\r\n                System.out.print(mas[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void swapRows(int array[][], int rowA, int rowB) {\r\n           int tmpRow[] = array[rowA];\r\n           array[rowA] = array[rowB];\r\n           array[rowB] = tmpRow;\r\n    }\r\n}\r\n```\r\n\r\nReference:\r\nhttps://stackoverflow.com/questions/13280583/array-swap-2d-array/13280668\r\n\r\nOther example: \r\nhttps://stackoverflow.com/questions/50332733/swapping-rows-of-double-2d-array-java?rq=1\r\n\r\n\r\n    ","title":"Java: Swap 2D array rows that contain minimum and maximum values","body":"<p>Store the row with the min and max value. Try this:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        \n        final int kolonna = (int) (Math.random()*(9-1+1)+1);\n        final int rinda = (int) (Math.random()*(9-1+1)+1);\n        \n        int [][] arr = new int [kolonna][rinda];\n            \n        //fill the grid\n        for (int rin = 0; rin &lt; arr.length; rin++) {\n            for (int kol = 0; kol &lt; arr[rin].length; kol++) {\n                arr[rin][kol] = (int) (Math.random() * 201) - 100;\n            }\n        }\n        print2Dmas(arr);\n        System.out.println();\n        int rowWithMin = 0;\n        int rowWithMax = 0;\n        int minElement = arr[0][0];\n        int maxElement = arr[0][0];\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr[i].length; j++) { \n                if (minElement &gt; arr[i][j]) {\n                    minElement = arr[i][j];\n                    rowWithMin = i;\n                }\n\n                if (maxElement &lt; arr[i][j]) {\n                    maxElement = arr[i][j];\n                    rowWithMax = i;\n                }\n            }\n        }\n        if (rowWithMin != rowWithMax){\n            swapRows(arr, rowWithMin, rowWithMax);\n        }\n        print2Dmas(arr);\n    }\n   \n    public static void print2Dmas(int mas[][]) {\n        for(int i = 0; i &lt; mas.length; i++) {\n            for(int j = 0; j &lt; mas[i].length; j++) {\n                System.out.print(mas[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void swapRows(int array[][], int rowA, int rowB) {\n           int tmpRow[] = array[rowA];\n           array[rowA] = array[rowB];\n           array[rowB] = tmpRow;\n    }\n}\n</code></pre>\n<p>Reference:\n<a href=\"https://stackoverflow.com/questions/13280583/array-swap-2d-array/13280668\">Array swap - 2d array</a></p>\n<p>Other example:\n<a href=\"https://stackoverflow.com/questions/50332733/swapping-rows-of-double-2d-array-java?rq=1\">Swapping rows of double 2d array java</a></p>\n"}],"owner":{"account_id":21654818,"reputation":11,"user_id":15974824,"display_name":"Ray8r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638911421,"creation_date":1638896405,"question_id":70264091,"body_markdown":"I&#39;m having problems making a function that would swap a 2Dimensional Arrays rows, that include the biggest and the smallest values.\r\n\r\nI cant think of a way how to make it into a code. I need a helping hand. I tried to edit the code of min and max value in an array to give me the row index of the biggest and smallest numbers but i got confused and im not sure how to do it. Pls help me on how to get the arrays row index of the  max and min values so I can put it into the row switching function.\r\n```\r\nANSWER EXAMPLE:\r\nif the array was like this:\r\n5   2  1  8\r\n15 -4  5  18\r\n7   3  44 9\r\n12  1  18 76 \r\nit would swap it like this:\r\n5   2  1  8\r\n12  1  18 76\r\n7   3  44 9\r\n15 -4  5  18\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t{\r\n\t\t\r\n\t\tfinal int kolonna = (int) (Math.random()*(9-1+1)+1);\r\n\t\tfinal int rinda = (int) (Math.random()*(9-1+1)+1);\r\n\t\t\r\n\t\tint [][] arr = new int [kolonna][rinda];\r\n\t\t\t\r\n\t\t//fill the grid\r\n\t\tfor (int rin = 0; rin &lt; arr.length; rin++) {\r\n\t\t\t\r\n\t\t\tfor (int kol = 0; kol &lt; arr[rin].length; kol++) {\r\n\t\t\t\t\r\n\t\t\t\tarr[rin][kol] = (int) (Math.random() * 201) - 100;\r\n\t\t\t}\r\n\t\t}\r\nprint2Dmas(arr);\r\nSystem.out.println();\r\nint mazs=0;\r\nint liels=0;\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\nint rowWithMin = i;\r\nint rowWithMax = i;\r\n    for (int j = 0; j &lt; arr[i].length; j++) {\r\n        if (rowWithMin &gt; arr[i][j]) {\r\n            rowWithMin = i;\r\n            mazs = j;\r\n        }\r\n\r\n        if (rowWithMax &lt; arr[i][j]) {\r\n            rowWithMax = i;\r\n            liels = j;\r\n        }\r\n    }\r\n    if (rowWithMin != rowWithMax){\r\n    \tswapRows(arr, rowWithMin, rowWithMax);}\r\n}\r\nprint2Dmas(arr);\r\n\t  }\r\n\t}\t\r\n\tpublic static void print2Dmas(int mas[][]) {\r\n\t\tfor(int i = 0; i &lt; mas.length; i++) {\r\n\r\n\t\t\tfor(int j = 0; j &lt; mas[i].length; j++) {\r\n\t\t\t\t\t\r\n\t\t\t\tSystem.out.print(mas[i][j] + &quot; &quot;);\r\n\t\t\t\t//System.out.println();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void swapRows(int array[][], int rowA, int rowB) {\r\n\t\t   int tmpRow[] = array[rowA];\r\n\t\t   array[rowA] = array[rowB];\r\n\t\t   array[rowB] = tmpRow;\r\n\t\t}\r\n}\r\n```","title":"Java: Swap 2D array rows that contain minimum and maximum values","body":"<p>I'm having problems making a function that would swap a 2Dimensional Arrays rows, that include the biggest and the smallest values.</p>\n<p>I cant think of a way how to make it into a code. I need a helping hand. I tried to edit the code of min and max value in an array to give me the row index of the biggest and smallest numbers but i got confused and im not sure how to do it. Pls help me on how to get the arrays row index of the  max and min values so I can put it into the row switching function.</p>\n<pre><code>ANSWER EXAMPLE:\nif the array was like this:\n5   2  1  8\n15 -4  5  18\n7   3  44 9\n12  1  18 76 \nit would swap it like this:\n5   2  1  8\n12  1  18 76\n7   3  44 9\n15 -4  5  18\n\nimport java.util.Arrays;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        {\n        \n        final int kolonna = (int) (Math.random()*(9-1+1)+1);\n        final int rinda = (int) (Math.random()*(9-1+1)+1);\n        \n        int [][] arr = new int [kolonna][rinda];\n            \n        //fill the grid\n        for (int rin = 0; rin &lt; arr.length; rin++) {\n            \n            for (int kol = 0; kol &lt; arr[rin].length; kol++) {\n                \n                arr[rin][kol] = (int) (Math.random() * 201) - 100;\n            }\n        }\nprint2Dmas(arr);\nSystem.out.println();\nint mazs=0;\nint liels=0;\nfor (int i = 0; i &lt; arr.length; i++) {\nint rowWithMin = i;\nint rowWithMax = i;\n    for (int j = 0; j &lt; arr[i].length; j++) {\n        if (rowWithMin &gt; arr[i][j]) {\n            rowWithMin = i;\n            mazs = j;\n        }\n\n        if (rowWithMax &lt; arr[i][j]) {\n            rowWithMax = i;\n            liels = j;\n        }\n    }\n    if (rowWithMin != rowWithMax){\n        swapRows(arr, rowWithMin, rowWithMax);}\n}\nprint2Dmas(arr);\n      }\n    }   \n    public static void print2Dmas(int mas[][]) {\n        for(int i = 0; i &lt; mas.length; i++) {\n\n            for(int j = 0; j &lt; mas[i].length; j++) {\n                    \n                System.out.print(mas[i][j] + &quot; &quot;);\n                //System.out.println();\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void swapRows(int array[][], int rowA, int rowB) {\n           int tmpRow[] = array[rowA];\n           array[rowA] = array[rowB];\n           array[rowB] = tmpRow;\n        }\n}\n</code></pre>\n"},{"tags":["java","android","height","scrollbar"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638941006,"post_id":70266951,"comment_id":124218794,"body_markdown":"I had this problem too, set `cliptochildren=false` and `clippadding=false` to all parents of scrollbar and then see magic.","body":"I had this problem too, set <code>cliptochildren=false</code> and <code>clippadding=false</code> to all parents of scrollbar and then see magic."},{"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"score":0,"creation_date":1638993253,"post_id":70266951,"comment_id":124237632,"body_markdown":"@EAS I added those to the parents and it didn&#39;t improve anything that I could see, unfortunately.","body":"@EAS I added those to the parents and it didn&#39;t improve anything that I could see, unfortunately."}],"owner":{"account_id":23005379,"reputation":71,"user_id":17128751,"display_name":"mbob98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638911307,"creation_date":1638911307,"question_id":70266951,"body_markdown":"My goal is to show a view and display beyond the end of the scrollbar track, without increasing the height of said scrollbar track.\r\n\r\nMy current scrollbar implementation (the default scrollbar implementation) is set up such that the height of the view is kept within the bounds of the scrollbar track, which leaves this nasty cutoff and wasted space (basically anything beyond the top of the track gets cut off):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe goal is to have nothing look cut off like this at all and still scroll fully to the top and bottom, regardless of the height of the scrollbar&#39;s track. Here&#39;s an example I&#39;ve seen:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nNotice how there&#39;s nothing cut off when the contents of the view go beyond the top of the scrollbar track? That&#39;s what I&#39;m aiming for; I want it so that regardless of the height of the scrollbar track, it will still display the view to the maximum upper and lower bounds of the screen I&#39;m on, with the scrollbar still functioning normally. I have looked into the various views and how they implement their scrollbars, and I don&#39;t know if it&#39;s my lack of experience (Jr. Dev) or if I&#39;m not looking in the right place, but I can&#39;t figure out a custom implementation for the scrollbar that would work the way I want it to. Any and all help would be vastly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aF2es.png\r\n  [2]: https://i.stack.imgur.com/vLK1m.png\r\n  [3]: https://i.stack.imgur.com/K61O1.png","title":"How would I display more of a scrollable view without increasing the height of the scrollbar track?","body":"<p>My goal is to show a view and display beyond the end of the scrollbar track, without increasing the height of said scrollbar track.</p>\n<p>My current scrollbar implementation (the default scrollbar implementation) is set up such that the height of the view is kept within the bounds of the scrollbar track, which leaves this nasty cutoff and wasted space (basically anything beyond the top of the track gets cut off):</p>\n<p><a href=\"https://i.stack.imgur.com/aF2es.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aF2es.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vLK1m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLK1m.png\" alt=\"enter image description here\" /></a></p>\n<p>The goal is to have nothing look cut off like this at all and still scroll fully to the top and bottom, regardless of the height of the scrollbar's track. Here's an example I've seen:</p>\n<p><a href=\"https://i.stack.imgur.com/K61O1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K61O1.png\" alt=\"enter image description here\" /></a></p>\n<p>Notice how there's nothing cut off when the contents of the view go beyond the top of the scrollbar track? That's what I'm aiming for; I want it so that regardless of the height of the scrollbar track, it will still display the view to the maximum upper and lower bounds of the screen I'm on, with the scrollbar still functioning normally. I have looked into the various views and how they implement their scrollbars, and I don't know if it's my lack of experience (Jr. Dev) or if I'm not looking in the right place, but I can't figure out a custom implementation for the scrollbar that would work the way I want it to. Any and all help would be vastly appreciated.</p>\n"},{"tags":["java","spring-boot","entity-relationship"],"answers":[{"tags":[],"owner":{"account_id":4504242,"reputation":61,"user_id":3662040,"display_name":"EkremC."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638910848,"creation_date":1638910848,"answer_id":70266875,"question_id":70263268,"body_markdown":"In Doctor class, you mapped `specialties` with `doctor`, but in Specialty, the name of Doctor set is `doctors`, so they cannot be mapped. \r\n\r\nYou should change your Doctor class as shown below:\r\n\r\n    @Entity\r\n    @Table(name=&quot;doctor&quot;)\r\n    public class Doctor extends BaseEntity{\r\n\r\n        private String name;\r\n\r\n        @ManyToMany(mappedBy =&quot;doctors&quot;)\r\n        private Set&lt;Specialty&gt; specialties;\r\n\r\n        @OneToMany(mappedBy =&quot;doctor&quot;)\r\n        private List&lt;Patient&gt; GpOfPatients;\r\n\r\n    }","title":"BeanCreationException on creating @manytomany entity relationship","body":"<p>In Doctor class, you mapped <code>specialties</code> with <code>doctor</code>, but in Specialty, the name of Doctor set is <code>doctors</code>, so they cannot be mapped.</p>\n<p>You should change your Doctor class as shown below:</p>\n<pre><code>@Entity\n@Table(name=&quot;doctor&quot;)\npublic class Doctor extends BaseEntity{\n\n    private String name;\n\n    @ManyToMany(mappedBy =&quot;doctors&quot;)\n    private Set&lt;Specialty&gt; specialties;\n\n    @OneToMany(mappedBy =&quot;doctor&quot;)\n    private List&lt;Patient&gt; GpOfPatients;\n\n}\n</code></pre>\n"}],"owner":{"account_id":6901697,"reputation":7,"user_id":5301107,"display_name":"Luboslav Kakanakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70266875,"answer_count":1,"score":0,"last_activity_date":1638910848,"creation_date":1638892768,"question_id":70263268,"body_markdown":"I am creating three tables Doctor,Patient and Specialty. Patients can have exactly one GP, but one doctor can be a GP of many patients. Each Doctor has it&#39;s specialty(e.g. neurosurgeon,cardiologist,urologist etc.) When I try to make the many-to-many connection between Doctor and Specialty with a middle table I get an error &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource&quot; caused by BeanCreationException in particular mappedBy reference an unknown target entity property. Since I am new to spring boot I would be really happy if someone can explain me. Thank you in advance\r\n\r\nBaseEntity class:\r\n\r\n    @MappedSuperclass\r\n    public class BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private long id;\r\n    }\r\n\r\nDoctor class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;doctor&quot;)\r\n    public class Doctor extends BaseEntity{\r\n    \r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy =&quot;doctor&quot;)\r\n        private Set&lt;Specialty&gt; specialties;\r\n    \r\n        @OneToMany(mappedBy =&quot;doctor&quot;)\r\n        private List&lt;Patient&gt; GpOfPatients;\r\n    \r\n    }\r\n\r\nPatient class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;patient&quot;)\r\n    public class Patient extends BaseEntity{\r\n    \r\n        private String name;\r\n        private String EGN;\r\n        private boolean insurancesPaidInLastSixMonths;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;gp_id&quot;)\r\n        private Doctor doctor;\r\n    \r\n    }\r\n\r\nSpecialty class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;specialty&quot;)\r\n    public class Specialty extends BaseEntity{\r\n    \r\n        private String specialtyName;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name=&quot;doctors_specialties&quot;,joinColumns = @JoinColumn(name=&quot;specialty_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name=&quot;doctor_id&quot;))\r\n        private Set&lt;Doctor&gt; doctors;\r\n    \r\n    }","title":"BeanCreationException on creating @manytomany entity relationship","body":"<p>I am creating three tables Doctor,Patient and Specialty. Patients can have exactly one GP, but one doctor can be a GP of many patients. Each Doctor has it's specialty(e.g. neurosurgeon,cardiologist,urologist etc.) When I try to make the many-to-many connection between Doctor and Specialty with a middle table I get an error &quot;Error creating bean with name 'entityManagerFactory' defined in class path resource&quot; caused by BeanCreationException in particular mappedBy reference an unknown target entity property. Since I am new to spring boot I would be really happy if someone can explain me. Thank you in advance</p>\n<p>BaseEntity class:</p>\n<pre><code>@MappedSuperclass\npublic class BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private long id;\n}\n</code></pre>\n<p>Doctor class:</p>\n<pre><code>@Entity\n@Table(name=&quot;doctor&quot;)\npublic class Doctor extends BaseEntity{\n\n    private String name;\n\n    @ManyToMany(mappedBy =&quot;doctor&quot;)\n    private Set&lt;Specialty&gt; specialties;\n\n    @OneToMany(mappedBy =&quot;doctor&quot;)\n    private List&lt;Patient&gt; GpOfPatients;\n\n}\n</code></pre>\n<p>Patient class:</p>\n<pre><code>@Entity\n@Table(name=&quot;patient&quot;)\npublic class Patient extends BaseEntity{\n\n    private String name;\n    private String EGN;\n    private boolean insurancesPaidInLastSixMonths;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;gp_id&quot;)\n    private Doctor doctor;\n\n}\n</code></pre>\n<p>Specialty class:</p>\n<pre><code>@Entity\n@Table(name=&quot;specialty&quot;)\npublic class Specialty extends BaseEntity{\n\n    private String specialtyName;\n\n    @ManyToMany\n    @JoinTable(name=&quot;doctors_specialties&quot;,joinColumns = @JoinColumn(name=&quot;specialty_id&quot;),\n    inverseJoinColumns = @JoinColumn(name=&quot;doctor_id&quot;))\n    private Set&lt;Doctor&gt; doctors;\n\n}\n</code></pre>\n"},{"tags":["java","api","paypal"],"answers":[{"tags":[],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638910466,"creation_date":1638910466,"answer_id":70266821,"question_id":70266582,"body_markdown":"Unfortunately, Paypal does not offer such functionality via API anymore. There used to be such an API as part of the [Adaptive Payments][1] product. But that product is retired and not available for new customers anymore. \r\n\r\nHowever - what you are asking for is most likely not achievable. Money exchange rates are fluctuant and in constant change throughout a business day. That means, the conversion rate EUR to USD is going to be different at 9am than to what it is at 9pm. \r\n\r\nTherefore, what counts most likely is the exchange rate at the time of each individual payment. If your goal is to create a report for all payments - you&#39;d need to put into consideration, that the exchange rate at the time of report creation is going to be a different one than what it was when the payments happen. therefore your numbers are going to be inaccurate.\r\n\r\nIn most cases the inaccuracies are not going to be substantial, so an approximation to the current exchange rate is good enough. If that is not the case, well.. then the effort grows significally. You&#39;d need to check the rates at the time of the purchase or find a way to link the payments in a foreign currency to transactions in your paypal account and get the data from there. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.paypal.com/docs/archive/adaptive-payments/api/convert-currency/","title":"PayPal API for currency conversion","body":"<p>Unfortunately, Paypal does not offer such functionality via API anymore. There used to be such an API as part of the <a href=\"https://developer.paypal.com/docs/archive/adaptive-payments/api/convert-currency/\" rel=\"nofollow noreferrer\">Adaptive Payments</a> product. But that product is retired and not available for new customers anymore.</p>\n<p>However - what you are asking for is most likely not achievable. Money exchange rates are fluctuant and in constant change throughout a business day. That means, the conversion rate EUR to USD is going to be different at 9am than to what it is at 9pm.</p>\n<p>Therefore, what counts most likely is the exchange rate at the time of each individual payment. If your goal is to create a report for all payments - you'd need to put into consideration, that the exchange rate at the time of report creation is going to be a different one than what it was when the payments happen. therefore your numbers are going to be inaccurate.</p>\n<p>In most cases the inaccuracies are not going to be substantial, so an approximation to the current exchange rate is good enough. If that is not the case, well.. then the effort grows significally. You'd need to check the rates at the time of the purchase or find a way to link the payments in a foreign currency to transactions in your paypal account and get the data from there.</p>\n"}],"owner":{"account_id":19821205,"reputation":185,"user_id":14517741,"display_name":"LosmiNCL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638910466,"creation_date":1638909052,"question_id":70266582,"body_markdown":"In my Java Spring Boot application, I have a summed value of money from invoices. Those values are separated and grouped by different currencies. I want to convert all currencies into USD then to sum all those values, and that summed value to be in a new variable. I need to convert it using PayPal conversion rates (e.g. from EUR to USD). When I look into the PayPal API, I can&#39;t find is there any method where I can use the currency converter. Do you have an information where I can find it?","title":"PayPal API for currency conversion","body":"<p>In my Java Spring Boot application, I have a summed value of money from invoices. Those values are separated and grouped by different currencies. I want to convert all currencies into USD then to sum all those values, and that summed value to be in a new variable. I need to convert it using PayPal conversion rates (e.g. from EUR to USD). When I look into the PayPal API, I can't find is there any method where I can use the currency converter. Do you have an information where I can find it?</p>\n"},{"tags":["java","android","xml","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638910324,"creation_date":1638910324,"answer_id":70266802,"question_id":70264939,"body_markdown":"&gt; I think I should make a adapter for my listview but I don&#39;t know how to make it. \r\n\r\nThere are in built adapters that you can use, as an example a SimpleCursorAdapter (which are designed to work with Cursors). You can specify the layout.\r\n\r\nThe only issue with using the SimpleCursorAdapter is that you would need a Cursor, which Room doesn&#39;t typically provide. However,perhaps consider the following working example, which creates a MatrixCursor from an extract via your `getAllPasswords`.\r\n\r\nThe example uses your **Password** entity and your **custom_listview.xml** unchanged. \r\n\r\nHowever, the **PasswordDao** has been modified (see comments) to be:-\r\n\r\n    @Dao\r\n    public interface PasswordDAO {\r\n    \r\n        @Query(&quot;SELECT * FROM password&quot;)\r\n        List&lt;Password&gt; getAllPasswords();\r\n    \r\n        /* can&#39;t do as insufficient data to build Password objects\r\n        @Query(&quot;SELECT hashed_password FROM password&quot;)\r\n        ArrayList&lt;Password&gt; getAllHashedPasswords();\r\n         */\r\n    \r\n        /* Likewise\r\n        @Query(&quot;SELECT app_name FROM password&quot;)\r\n        ArrayList&lt;Password&gt; getAllAppNames();\r\n        */\r\n    \r\n    \r\n        /* Likewise\r\n        @Query(&quot;SELECT uid FROM password&quot;)\r\n        ArrayList&lt;Password&gt; getAllIDs();\r\n        */\r\n    \r\n        @Insert\r\n        void insertUser(Password... passwords);\r\n    \r\n        @Delete\r\n        void delete(Password password);\r\n    }\r\n\r\nThe @Database class **PasswordDatabase** is as follows :-\r\n\r\n    @Database(entities = {Password.class},version =1,exportSchema = false)\r\n    abstract class PasswordDatabase extends RoomDatabase {\r\n        abstract PasswordDAO getDao();\r\n    \r\n        private static volatile PasswordDatabase instance = null;\r\n        static PasswordDatabase getInstance(Context context) {\r\n            if (instance == null) {\r\n                instance = Room.databaseBuilder(context, PasswordDatabase.class,&quot;password.db&quot;)\r\n                        .allowMainThreadQueries()\r\n                        .build();\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n- noting that for convenience and brevity .allowMainThreadQueries has been utilised.\r\n\r\nThe layout **activity_main.xml** for MainActivity is :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot; &gt;\r\n        &lt;/TextView&gt;\r\n    \r\n        &lt;ListView\r\n            android:id=&quot;@+id/myListView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;/ListView&gt;\r\n    \r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n- i.e. the ListView has been added\r\n\r\nFinally putting it altogether in **MainActivity** :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView myListView;\r\n        PasswordDatabase db;\r\n        PasswordDAO dao;\r\n        Cursor csr;\r\n        SimpleCursorAdapter sca;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            myListView = this.findViewById(R.id.myListView);\r\n            db = PasswordDatabase.getInstance(this);\r\n            dao = db.getDao();\r\n    \r\n            /* add some testing data */\r\n            Password p1 = new Password();\r\n            p1.uid = 0;\r\n            p1.hashed_password = &quot;hashpassword1&quot;;\r\n            p1.app_name = &quot;App1&quot;;\r\n            Password p2 = new Password();\r\n            p2.uid = 0;\r\n            p2.hashed_password = &quot;hashpassword2&quot;;\r\n            p2.app_name = &quot;App2&quot;;\r\n            dao.insertUser(p1,p2);\r\n    \r\n            setUpOrRefreshListView();\r\n        }\r\n    \r\n        /* As it says setup or refresh the ListView */\r\n        private void setUpOrRefreshListView() {\r\n            csr = getCursor();\r\n            if (sca == null) {\r\n                sca = new SimpleCursorAdapter(\r\n                        this,\r\n                        R.layout.custom_listview,csr,\r\n                        new String[]{&quot;app_name&quot;,&quot;hashed_password&quot;},\r\n                        new int[]{R.id.customListView_AppName,R.id.customListView_HashedPassword},\r\n                        0\r\n                );\r\n                myListView.setAdapter(sca);\r\n                /* BONUS handle Long Click of an Item in the ListView\r\n                    in this case just Toast info\r\n                */\r\n                myListView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\r\n                    @SuppressLint(&quot;Range&quot;)\r\n                    @Override\r\n                    public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                        Toast.makeText(\r\n                                view.getContext(),\r\n                                &quot;You long-clicked password with AppName = &quot;\r\n                                        + csr.getString(csr.getColumnIndex(&quot;app_name&quot;))\r\n                                        + &quot; Hash = &quot; + csr.getString(csr.getColumnIndex(&quot;hashed_password&quot;))\r\n                                        + &quot; UID = &quot; + l,\r\n                                Toast.LENGTH_SHORT\r\n                        ).show();\r\n                        return true;\r\n                    }\r\n                });\r\n            } else {\r\n                sca.swapCursor(csr);\r\n            }\r\n    \r\n        }\r\n    \r\n        /* Gets all the passwords using getAllPassswords and creates a MatrixCursor */\r\n        private Cursor getCursor() {\r\n            List&lt;Password&gt; passwords = dao.getAllPasswords();\r\n            /* NOTE that as Cursor Adapters required a column named _ID (as per BaseColumns._ID)\r\n                the first column has been renamed accordingly\r\n    \r\n             */\r\n            MatrixCursor mxcsr = new MatrixCursor(new String[]{\r\n                    BaseColumns._ID,\r\n                    &quot;app_name&quot;,\r\n                    &quot;hashed_password&quot;},\r\n                    0\r\n            );\r\n            for (Password p: dao.getAllPasswords()) {\r\n                mxcsr.addRow(new Object[]{p.uid,p.app_name,p.hashed_password});\r\n            }\r\n            return mxcsr;\r\n        }\r\n    \r\n        /* If resuming this activity then refresh the ListView */\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            setUpOrRefreshListView();\r\n        }\r\n    \r\n        /* if the activity is detsroyed then close the Cursor */\r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            csr.close();\r\n        }\r\n    }\r\n\r\nWhen the above is run for the first time then :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- if run again then two more rows will be added and so on. Although the rows have App1 and App2 etc the uid&#39;s will be different.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SNpbp.png","title":"How to connect Room Database to Custom ListView","body":"<blockquote>\n<p>I think I should make a adapter for my listview but I don't know how to make it.</p>\n</blockquote>\n<p>There are in built adapters that you can use, as an example a SimpleCursorAdapter (which are designed to work with Cursors). You can specify the layout.</p>\n<p>The only issue with using the SimpleCursorAdapter is that you would need a Cursor, which Room doesn't typically provide. However,perhaps consider the following working example, which creates a MatrixCursor from an extract via your <code>getAllPasswords</code>.</p>\n<p>The example uses your <strong>Password</strong> entity and your <strong>custom_listview.xml</strong> unchanged.</p>\n<p>However, the <strong>PasswordDao</strong> has been modified (see comments) to be:-</p>\n<pre><code>@Dao\npublic interface PasswordDAO {\n\n    @Query(&quot;SELECT * FROM password&quot;)\n    List&lt;Password&gt; getAllPasswords();\n\n    /* can't do as insufficient data to build Password objects\n    @Query(&quot;SELECT hashed_password FROM password&quot;)\n    ArrayList&lt;Password&gt; getAllHashedPasswords();\n     */\n\n    /* Likewise\n    @Query(&quot;SELECT app_name FROM password&quot;)\n    ArrayList&lt;Password&gt; getAllAppNames();\n    */\n\n\n    /* Likewise\n    @Query(&quot;SELECT uid FROM password&quot;)\n    ArrayList&lt;Password&gt; getAllIDs();\n    */\n\n    @Insert\n    void insertUser(Password... passwords);\n\n    @Delete\n    void delete(Password password);\n}\n</code></pre>\n<p>The @Database class <strong>PasswordDatabase</strong> is as follows :-</p>\n<pre><code>@Database(entities = {Password.class},version =1,exportSchema = false)\nabstract class PasswordDatabase extends RoomDatabase {\n    abstract PasswordDAO getDao();\n\n    private static volatile PasswordDatabase instance = null;\n    static PasswordDatabase getInstance(Context context) {\n        if (instance == null) {\n            instance = Room.databaseBuilder(context, PasswordDatabase.class,&quot;password.db&quot;)\n                    .allowMainThreadQueries()\n                    .build();\n        }\n        return instance;\n    }\n}\n</code></pre>\n<ul>\n<li>noting that for convenience and brevity .allowMainThreadQueries has been utilised.</li>\n</ul>\n<p>The layout <strong>activity_main.xml</strong> for MainActivity is :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot; &gt;\n    &lt;/TextView&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/myListView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;/ListView&gt;\n\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<ul>\n<li>i.e. the ListView has been added</li>\n</ul>\n<p>Finally putting it altogether in <strong>MainActivity</strong> :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView myListView;\n    PasswordDatabase db;\n    PasswordDAO dao;\n    Cursor csr;\n    SimpleCursorAdapter sca;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myListView = this.findViewById(R.id.myListView);\n        db = PasswordDatabase.getInstance(this);\n        dao = db.getDao();\n\n        /* add some testing data */\n        Password p1 = new Password();\n        p1.uid = 0;\n        p1.hashed_password = &quot;hashpassword1&quot;;\n        p1.app_name = &quot;App1&quot;;\n        Password p2 = new Password();\n        p2.uid = 0;\n        p2.hashed_password = &quot;hashpassword2&quot;;\n        p2.app_name = &quot;App2&quot;;\n        dao.insertUser(p1,p2);\n\n        setUpOrRefreshListView();\n    }\n\n    /* As it says setup or refresh the ListView */\n    private void setUpOrRefreshListView() {\n        csr = getCursor();\n        if (sca == null) {\n            sca = new SimpleCursorAdapter(\n                    this,\n                    R.layout.custom_listview,csr,\n                    new String[]{&quot;app_name&quot;,&quot;hashed_password&quot;},\n                    new int[]{R.id.customListView_AppName,R.id.customListView_HashedPassword},\n                    0\n            );\n            myListView.setAdapter(sca);\n            /* BONUS handle Long Click of an Item in the ListView\n                in this case just Toast info\n            */\n            myListView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n                @SuppressLint(&quot;Range&quot;)\n                @Override\n                public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                    Toast.makeText(\n                            view.getContext(),\n                            &quot;You long-clicked password with AppName = &quot;\n                                    + csr.getString(csr.getColumnIndex(&quot;app_name&quot;))\n                                    + &quot; Hash = &quot; + csr.getString(csr.getColumnIndex(&quot;hashed_password&quot;))\n                                    + &quot; UID = &quot; + l,\n                            Toast.LENGTH_SHORT\n                    ).show();\n                    return true;\n                }\n            });\n        } else {\n            sca.swapCursor(csr);\n        }\n\n    }\n\n    /* Gets all the passwords using getAllPassswords and creates a MatrixCursor */\n    private Cursor getCursor() {\n        List&lt;Password&gt; passwords = dao.getAllPasswords();\n        /* NOTE that as Cursor Adapters required a column named _ID (as per BaseColumns._ID)\n            the first column has been renamed accordingly\n\n         */\n        MatrixCursor mxcsr = new MatrixCursor(new String[]{\n                BaseColumns._ID,\n                &quot;app_name&quot;,\n                &quot;hashed_password&quot;},\n                0\n        );\n        for (Password p: dao.getAllPasswords()) {\n            mxcsr.addRow(new Object[]{p.uid,p.app_name,p.hashed_password});\n        }\n        return mxcsr;\n    }\n\n    /* If resuming this activity then refresh the ListView */\n    @Override\n    protected void onResume() {\n        super.onResume();\n        setUpOrRefreshListView();\n    }\n\n    /* if the activity is detsroyed then close the Cursor */\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        csr.close();\n    }\n}\n</code></pre>\n<p>When the above is run for the first time then :-</p>\n<p><a href=\"https://i.stack.imgur.com/SNpbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNpbp.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>if run again then two more rows will be added and so on. Although the rows have App1 and App2 etc the uid's will be different.</li>\n</ul>\n"}],"owner":{"account_id":23506487,"reputation":13,"user_id":17555688,"display_name":"computermaniac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70266802,"answer_count":1,"score":0,"last_activity_date":1638910324,"creation_date":1638900295,"question_id":70264939,"body_markdown":"I am making a password manager on android with Room Database. I want to use Custom ListView but couldn&#39;t find any ways to connect my Room Database to the custom listview layout. I think I should make a adapter for my listview but I don&#39;t know how to make it. Looked for it but couldn&#39;t make it. How do I make it? \r\n\r\nI get list of database by:\r\n\r\n    AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\r\n        List&lt;Password&gt; passwordList = db.passwordDAO().getAllPasswords();\r\n\r\n\r\n\r\nMy Dao:\r\n\r\n    @Dao\r\n    public interface PasswordDAO {\r\n\r\n    @Query(&quot;SELECT * FROM password&quot;)\r\n    List&lt;Password&gt; getAllPasswords();\r\n\r\n    @Query(&quot;SELECT hashed_password FROM password&quot;)\r\n    ArrayList&lt;Password&gt; getAllHashedPasswords();\r\n\r\n    @Query(&quot;SELECT app_name FROM password&quot;)\r\n    ArrayList&lt;Password&gt; getAllAppNames();\r\n\r\n     @Query(&quot;SELECT uid FROM password&quot;)\r\n     ArrayList&lt;Password&gt; getAllIDs();\r\n\r\n    @Insert\r\n    void insertUser(Password... passwords);\r\n\r\n    @Delete\r\n    void delete(Password password);\r\n\r\nMy Custom ListView layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/_80sdp&quot;\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;App Name&quot;\r\n            android:id=&quot;@+id/customListView_AppName&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/_10sdp&quot;\r\n            android:textSize=&quot;@dimen/_20sdp&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/customListView_HashedPassword&quot;\r\n            android:text=&quot;Hashed Password&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/_50sdp&quot;\r\n            android:textSize=&quot;@dimen/_20sdp&quot;\r\n            /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nMy Password Class:\r\n\r\n    @Entity\r\n    public class Password {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int uid;\r\n\r\n    @ColumnInfo(name = &quot;app_name&quot;)\r\n    public String app_name;\r\n\r\n    @ColumnInfo(name = &quot;hashed_password&quot;)\r\n    public String hashed_password;\r\n    }\r\n\r\n**Thanks!**","title":"How to connect Room Database to Custom ListView","body":"<p>I am making a password manager on android with Room Database. I want to use Custom ListView but couldn't find any ways to connect my Room Database to the custom listview layout. I think I should make a adapter for my listview but I don't know how to make it. Looked for it but couldn't make it. How do I make it?</p>\n<p>I get list of database by:</p>\n<pre><code>AppDatabase db = AppDatabase.getDbInstance(this.getApplicationContext());\n    List&lt;Password&gt; passwordList = db.passwordDAO().getAllPasswords();\n</code></pre>\n<p>My Dao:</p>\n<pre><code>@Dao\npublic interface PasswordDAO {\n\n@Query(&quot;SELECT * FROM password&quot;)\nList&lt;Password&gt; getAllPasswords();\n\n@Query(&quot;SELECT hashed_password FROM password&quot;)\nArrayList&lt;Password&gt; getAllHashedPasswords();\n\n@Query(&quot;SELECT app_name FROM password&quot;)\nArrayList&lt;Password&gt; getAllAppNames();\n\n @Query(&quot;SELECT uid FROM password&quot;)\n ArrayList&lt;Password&gt; getAllIDs();\n\n@Insert\nvoid insertUser(Password... passwords);\n\n@Delete\nvoid delete(Password password);\n</code></pre>\n<p>My Custom ListView layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;@dimen/_80sdp&quot;\n    &gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;App Name&quot;\n        android:id=&quot;@+id/customListView_AppName&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;@dimen/_10sdp&quot;\n        android:textSize=&quot;@dimen/_20sdp&quot;\n        /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/customListView_HashedPassword&quot;\n        android:text=&quot;Hashed Password&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;@dimen/_50sdp&quot;\n        android:textSize=&quot;@dimen/_20sdp&quot;\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>My Password Class:</p>\n<pre><code>@Entity\npublic class Password {\n\n@PrimaryKey(autoGenerate = true)\npublic int uid;\n\n@ColumnInfo(name = &quot;app_name&quot;)\npublic String app_name;\n\n@ColumnInfo(name = &quot;hashed_password&quot;)\npublic String hashed_password;\n}\n</code></pre>\n<p><strong>Thanks!</strong></p>\n"},{"tags":["java","gmail","jakarta-mail","truststore","jsse"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1464648945,"post_id":37534173,"comment_id":62559363,"body_markdown":"Your truststore doesn&#39;t trust their certificate. Are you using a custom truststore? The one shipped with Java should trust it.","body":"Your truststore doesn&#39;t trust their certificate. Are you using a custom truststore? The one shipped with Java should trust it."},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":1,"creation_date":1464676610,"post_id":37534173,"comment_id":62566538,"body_markdown":"See the common causes in [this JavaMail FAQ entry](http://www.oracle.com/technetwork/java/javamail/faq/index.html#installcert).","body":"See the common causes in <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#installcert\" rel=\"nofollow noreferrer\">this JavaMail FAQ entry</a>."}],"answers":[{"tags":[],"owner":{"account_id":1312887,"reputation":570,"user_id":1260488,"display_name":"sdsc81"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504020096,"creation_date":1504020096,"answer_id":45942861,"question_id":37534173,"body_markdown":"If anyone stumble with this question later, like I did, the solution is:\r\n\r\n    properties.put(&quot;mail.pop3.host&quot;, host);\r\n    properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n    properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put( &quot;mail.pop3s.ssl.trust&quot;, host); // add this line\r\n    Session emailSession = Session.getDefaultInstance(properties);\r\n\r\nYou could add the fourth line to trust the host you&#39;re trying to connect. Do not ever substitute the &lt;i&gt;host&lt;/i&gt; parameter for &lt;i&gt;&quot;*&quot;&lt;/i&gt;.\r\n\r\nOther way to get around of this problem is adding the ssl certificate to your java &lt;b&gt;cacerts&lt;/b&gt;\r\n\r\nTo do that, you have to:\r\n\r\n 1. Using Firefox, export the &quot;.crt&quot; file from the page (ex. gmail.com), by clicking in the green padlock at the adrress bar.\r\n 2. In Windows, open CMD with administrator privileges.\r\n 3. Execute the following (ex, for google gmail certificate)\r\n\r\n\r\n    &lt;code&gt;keytool -import -trustcacerts -alias googlemail -file mailgooglecom.crt -noprompt -keystore cacerts&lt;/code&gt;\r\n\r\nDone.","title":"SSL handshake error while trying to connect to gmail via JavaMail","body":"<p>If anyone stumble with this question later, like I did, the solution is:</p>\n\n<pre><code>properties.put(\"mail.pop3.host\", host);\nproperties.put(\"mail.pop3.port\", \"995\");\nproperties.put(\"mail.pop3.starttls.enable\", \"true\");\nprops.put( \"mail.pop3s.ssl.trust\", host); // add this line\nSession emailSession = Session.getDefaultInstance(properties);\n</code></pre>\n\n<p>You could add the fourth line to trust the host you're trying to connect. Do not ever substitute the <i>host</i> parameter for <i>\"*\"</i>.</p>\n\n<p>Other way to get around of this problem is adding the ssl certificate to your java <b>cacerts</b></p>\n\n<p>To do that, you have to:</p>\n\n<ol>\n<li>Using Firefox, export the \".crt\" file from the page (ex. gmail.com), by clicking in the green padlock at the adrress bar.</li>\n<li>In Windows, open CMD with administrator privileges.</li>\n<li><p>Execute the following (ex, for google gmail certificate)</p>\n\n<p><code>keytool -import -trustcacerts -alias googlemail -file mailgooglecom.crt -noprompt -keystore cacerts</code></p></li>\n</ol>\n\n<p>Done.</p>\n"},{"tags":[],"owner":{"account_id":22457827,"reputation":11,"user_id":16660259,"display_name":"Lanthar Dalton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638909880,"creation_date":1638909880,"answer_id":70266730,"question_id":37534173,"body_markdown":"For others struggling with similar issues...\r\nIf this gives write:errno=104, then TLS 1.0 is disabled, and you need to force the mail connection protocols to skip it.  Changing this in java.security tls.disabledAlgorithms or other properties will not make the mail.pop3 protocol skip TLS1.0, it will just skip all TLS and give up as no protocols supported.  You can check others like -tls1_1, -ssl3, or disable like -no_tls1_1, etc.\r\n\r\n    openssl s_client -connect somemailserver.domain.com:995 -tls1\r\n\r\nInstead, add this additional property that specifies which protocols your target server does allow.\r\n\r\n    props.setProperty(&quot;mail.pop3.ssl.protocols&quot;,&quot;TLSv1.2&quot;);\r\n\r\nOur stack was similar, but like this:\r\n```\r\njavax.mail.MessagingException: Connect failed; \r\n  nested exception is: \r\n        javax.net.ssl.SSLException: Connection reset \r\n        at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:210) \r\n        at javax.mail.Service.connect(Service.java:295) \r\n        at javax.mail.Service.connect(Service.java:176) \r\n        at javax.mail.Service.connect(Service.java:125) \r\n        at ABC.Classname.Classname.vAccess(Classname.java:163) \r\n        at ABC.Classname.Classname.&lt;init&gt;(Classname.java:63) \r\n        at ABC.Classname.Classname.main(Classname.java:156) \r\nCaused by: javax.net.ssl.SSLException: Connection reset \r\n        at sun.security.ssl.Alert.createSSLException(Alert.java:127) \r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:327) \r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:270) \r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:265) \r\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:141) \r\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1198) \r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1107) \r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:400) \r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:372) \r\n        at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507) \r\n        at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238) \r\n        at com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:107) \r\n        at com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:261) \r\n        at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:206) \r\n        ... 6 more \r\n        Suppressed: java.net.SocketException: Broken pipe (Write failed) \r\n                at java.net.SocketOutputStream.socketWrite0(Native Method) \r\n                at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) \r\n                at java.net.SocketOutputStream.write(SocketOutputStream.java:155) \r\n                at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81) \r\n                at sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n```\r\n\r\nanswer found courtesy of: https://stackoverflow.com/questions/47166425/how-to-force-javamailsenderimpl-to-use-tls1-2","title":"SSL handshake error while trying to connect to gmail via JavaMail","body":"<p>For others struggling with similar issues...\nIf this gives write:errno=104, then TLS 1.0 is disabled, and you need to force the mail connection protocols to skip it.  Changing this in java.security tls.disabledAlgorithms or other properties will not make the mail.pop3 protocol skip TLS1.0, it will just skip all TLS and give up as no protocols supported.  You can check others like -tls1_1, -ssl3, or disable like -no_tls1_1, etc.</p>\n<pre><code>openssl s_client -connect somemailserver.domain.com:995 -tls1\n</code></pre>\n<p>Instead, add this additional property that specifies which protocols your target server does allow.</p>\n<pre><code>props.setProperty(&quot;mail.pop3.ssl.protocols&quot;,&quot;TLSv1.2&quot;);\n</code></pre>\n<p>Our stack was similar, but like this:</p>\n<pre><code>javax.mail.MessagingException: Connect failed; \n  nested exception is: \n        javax.net.ssl.SSLException: Connection reset \n        at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:210) \n        at javax.mail.Service.connect(Service.java:295) \n        at javax.mail.Service.connect(Service.java:176) \n        at javax.mail.Service.connect(Service.java:125) \n        at ABC.Classname.Classname.vAccess(Classname.java:163) \n        at ABC.Classname.Classname.&lt;init&gt;(Classname.java:63) \n        at ABC.Classname.Classname.main(Classname.java:156) \nCaused by: javax.net.ssl.SSLException: Connection reset \n        at sun.security.ssl.Alert.createSSLException(Alert.java:127) \n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:327) \n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:270) \n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:265) \n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:141) \n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1198) \n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1107) \n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:400) \n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:372) \n        at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507) \n        at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238) \n        at com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:107) \n        at com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:261) \n        at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:206) \n        ... 6 more \n        Suppressed: java.net.SocketException: Broken pipe (Write failed) \n                at java.net.SocketOutputStream.socketWrite0(Native Method) \n                at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) \n                at java.net.SocketOutputStream.write(SocketOutputStream.java:155) \n                at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81) \n                at sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n</code></pre>\n<p>answer found courtesy of: <a href=\"https://stackoverflow.com/questions/47166425/how-to-force-javamailsenderimpl-to-use-tls1-2\">How to force JavaMailSenderImpl to use TLS1.2?</a></p>\n"}],"owner":{"account_id":8500458,"reputation":11,"user_id":6373620,"display_name":"Samantha W"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638909880,"creation_date":1464646074,"question_id":37534173,"body_markdown":"Trying to fetch mail from gmail via POP3 using the JavaMail library and output it but a SSL handshake error occurs. How do you make the SSL handshake happen?\r\n\r\nAny help would be greatly appreciated \r\n\r\ncode:\r\n\r\n    import java.util.Properties;\r\n    import javax.mail.Folder;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.NoSuchProviderException;\r\n    import javax.mail.Session;\r\n    import javax.mail.Store;\r\n\r\n    public class CheckingMails {\r\n\r\n    public static void check(String host, String storeType, String user,\r\n      String password) \r\n    {\r\n      try {\r\n\r\n \r\n      Properties properties = new Properties();\r\n\r\n      properties.put(&quot;mail.pop3.host&quot;, host);\r\n      properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n      properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n      Session emailSession = Session.getDefaultInstance(properties);\r\n  \r\n      \r\n      Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n\r\n      store.connect(host, user, password);\r\n\r\n    \r\n      Folder emailFolder = store.getFolder(&quot;INBOX&quot;);\r\n      emailFolder.open(Folder.READ_ONLY);\r\n\r\n     \r\n      Message[] messages = emailFolder.getMessages();\r\n      System.out.println(&quot;messages.length---&quot; + messages.length);\r\n\r\n      for (int i = 0, n = messages.length; i &lt; n; i++) {\r\n         Message message = messages[i];\r\n         System.out.println(&quot;---------------------------------&quot;);\r\n         System.out.println(&quot;Email Number &quot; + (i + 1));\r\n         System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n         System.out.println(&quot;From: &quot; + message.getFrom()[0]);\r\n         System.out.println(&quot;Text: &quot; + message.getContent().toString());\r\n\r\n      }\r\n\r\n      //close the store and folder objects\r\n      emailFolder.close(false);\r\n      store.close();\r\n\r\n      } catch (NoSuchProviderException e) {\r\n         e.printStackTrace();\r\n      } catch (MessagingException e) {\r\n         e.printStackTrace();\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n      }} public static void main(String[] args) {\r\n\r\n      String host = &quot;pop.gmail.com&quot;;\r\n      String mailStoreType = &quot;pop3&quot;;\r\n      String username = &quot;xxx@gmail.com&quot;;\r\n      String password = &quot;xxx&quot;;\r\n      \r\n      check(host, mailStoreType, username, password);}}\r\n\r\n\r\n\r\n\r\noutput:\r\n\r\n    javax.mail.MessagingException: Connect failed;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:213)\r\n    \tat javax.mail.Service.connect(Service.java:366)\r\n    \tat javax.mail.Service.connect(Service.java:246)\r\n    \tat reademail.CheckingMails.check(CheckingMails.java:30)\r\n    \tat reademail.CheckingMails.main(CheckingMails.java:70)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1937)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1478)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1050)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\r\n    \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:598)\r\n    \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:372)\r\n    \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\r\n    \tat com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:112)\r\n    \tat com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:265)\r\n    \tat com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:207)\r\n    \t... 4 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:260)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1460)\r\n    \t... 17 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\r\n    \t... 23 more\r\n","title":"SSL handshake error while trying to connect to gmail via JavaMail","body":"<p>Trying to fetch mail from gmail via POP3 using the JavaMail library and output it but a SSL handshake error occurs. How do you make the SSL handshake happen?</p>\n\n<p>Any help would be greatly appreciated </p>\n\n<p>code:</p>\n\n<pre><code>import java.util.Properties;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.NoSuchProviderException;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class CheckingMails {\n\npublic static void check(String host, String storeType, String user,\n  String password) \n{\n  try {\n\n\n  Properties properties = new Properties();\n\n  properties.put(\"mail.pop3.host\", host);\n  properties.put(\"mail.pop3.port\", \"995\");\n  properties.put(\"mail.pop3.starttls.enable\", \"true\");\n  Session emailSession = Session.getDefaultInstance(properties);\n\n\n  Store store = emailSession.getStore(\"pop3s\");\n\n  store.connect(host, user, password);\n\n\n  Folder emailFolder = store.getFolder(\"INBOX\");\n  emailFolder.open(Folder.READ_ONLY);\n\n\n  Message[] messages = emailFolder.getMessages();\n  System.out.println(\"messages.length---\" + messages.length);\n\n  for (int i = 0, n = messages.length; i &lt; n; i++) {\n     Message message = messages[i];\n     System.out.println(\"---------------------------------\");\n     System.out.println(\"Email Number \" + (i + 1));\n     System.out.println(\"Subject: \" + message.getSubject());\n     System.out.println(\"From: \" + message.getFrom()[0]);\n     System.out.println(\"Text: \" + message.getContent().toString());\n\n  }\n\n  //close the store and folder objects\n  emailFolder.close(false);\n  store.close();\n\n  } catch (NoSuchProviderException e) {\n     e.printStackTrace();\n  } catch (MessagingException e) {\n     e.printStackTrace();\n  } catch (Exception e) {\n     e.printStackTrace();\n  }} public static void main(String[] args) {\n\n  String host = \"pop.gmail.com\";\n  String mailStoreType = \"pop3\";\n  String username = \"xxx@gmail.com\";\n  String password = \"xxx\";\n\n  check(host, mailStoreType, username, password);}}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>javax.mail.MessagingException: Connect failed;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:213)\n    at javax.mail.Service.connect(Service.java:366)\n    at javax.mail.Service.connect(Service.java:246)\n    at reademail.CheckingMails.check(CheckingMails.java:30)\n    at reademail.CheckingMails.main(CheckingMails.java:70)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1937)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1478)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1050)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:598)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:372)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\n    at com.sun.mail.pop3.Protocol.&lt;init&gt;(Protocol.java:112)\n    at com.sun.mail.pop3.POP3Store.getPort(POP3Store.java:265)\n    at com.sun.mail.pop3.POP3Store.protocolConnect(POP3Store.java:207)\n    ... 4 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1460)\n    ... 17 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n    ... 23 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"score":10,"creation_date":1456107767,"post_id":14721397,"comment_id":58778335,"body_markdown":"This question is much better than its duplicate. More concise, better wording.","body":"This question is much better than its duplicate. More concise, better wording."},{"owner":{"account_id":1852061,"reputation":1950,"user_id":1678392,"accept_rate":93,"display_name":"nikodaemus"},"score":11,"creation_date":1478619409,"post_id":14721397,"comment_id":68225500,"body_markdown":"Not to mention it shows as the top result on Google ☺","body":"Not to mention it shows as the top result on Google ☺"},{"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"score":4,"creation_date":1579056072,"post_id":14721397,"comment_id":105636980,"body_markdown":"Since Java 11 you can use isBlank() methid of String class which will check for both empty string or string consist of only white spaces. so you can do something like (str != null &amp;&amp; !str.isBlank()), Thanks","body":"Since Java 11 you can use isBlank() methid of String class which will check for both empty string or string consist of only white spaces. so you can do something like (str != null &amp;&amp; !str.isBlank()), Thanks"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1638910881,"post_id":14721397,"comment_id":124212757,"body_markdown":"`if (string == null || string.isEmpty(&quot;&quot;)) {` would be the correct null check and improved empty string check; `isBlank` would also allow whitespace (tabs, spaces). Mind: `null.equals(...)` gives a NullPointerException.","body":"<code>if (string == null || string.isEmpty(&quot;&quot;)) {</code> would be the correct null check and improved empty string check; <code>isBlank</code> would also allow whitespace (tabs, spaces). Mind: <code>null.equals(...)</code> gives a NullPointerException."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":419,"is_accepted":false,"score":418,"last_activity_date":1508192039,"creation_date":1360124066,"answer_id":14721414,"question_id":14721397,"body_markdown":"You can leverage Apache Commons [`StringUtils.isEmpty(str)`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#isEmpty(java.lang.CharSequence)), which checks for empty strings and handles `null` gracefully.\r\n\r\nExample:\r\n\r\n    System.out.println(StringUtils.isEmpty(&quot;&quot;)); // true\r\n    System.out.println(StringUtils.isEmpty(null)); // true\r\n\r\nGoogle Guava also provides a similar, probably easier-to-read method:  [`Strings.isNullOrEmpty(str)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Strings.html#isNullOrEmpty(java.lang.String)).\r\n\r\nExample:\r\n\r\n    System.out.println(Strings.isNullOrEmpty(&quot;&quot;)); // true\r\n    System.out.println(Strings.isNullOrEmpty(null)); // true","title":"Checking if a string is empty or null in Java","body":"<p>You can leverage Apache Commons <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#isEmpty(java.lang.CharSequence)\" rel=\"noreferrer\"><code>StringUtils.isEmpty(str)</code></a>, which checks for empty strings and handles <code>null</code> gracefully.</p>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(StringUtils.isEmpty(\"\")); // true\nSystem.out.println(StringUtils.isEmpty(null)); // true\n</code></pre>\n\n<p>Google Guava also provides a similar, probably easier-to-read method:  <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Strings.html#isNullOrEmpty(java.lang.String)\" rel=\"noreferrer\"><code>Strings.isNullOrEmpty(str)</code></a>.</p>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(Strings.isNullOrEmpty(\"\")); // true\nSystem.out.println(Strings.isNullOrEmpty(null)); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"down_vote_count":7,"up_vote_count":623,"is_accepted":false,"score":616,"last_activity_date":1595695086,"creation_date":1360124077,"answer_id":14721418,"question_id":14721397,"body_markdown":"Correct way to check for null or empty or string containing only spaces is like this:\r\n\r\n    if(str != null &amp;&amp; !str.trim().isEmpty()) { /* do your stuffs here */ }\r\n\r\n","title":"Checking if a string is empty or null in Java","body":"<p>Correct way to check for null or empty or string containing only spaces is like this:</p>\n<pre><code>if(str != null &amp;&amp; !str.trim().isEmpty()) { /* do your stuffs here */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":117,"is_accepted":false,"score":116,"last_activity_date":1360124918,"creation_date":1360124918,"answer_id":14721575,"question_id":14721397,"body_markdown":"You can use Apache commons-lang \r\n\r\n`StringUtils.isEmpty(String str)`  - Checks if a String is empty (&quot;&quot;) or null.\r\n\r\nor\r\n\r\n`StringUtils.isBlank(String str)`  - Checks if a String is whitespace, empty (&quot;&quot;) or null.\r\n\r\nthe latter considers a String which consists of spaces or special characters eg &quot; &quot; empty too. See java.lang.Character.isWhitespace API","title":"Checking if a string is empty or null in Java","body":"<p>You can use Apache commons-lang </p>\n\n<p><code>StringUtils.isEmpty(String str)</code>  - Checks if a String is empty (\"\") or null.</p>\n\n<p>or</p>\n\n<p><code>StringUtils.isBlank(String str)</code>  - Checks if a String is whitespace, empty (\"\") or null.</p>\n\n<p>the latter considers a String which consists of spaces or special characters eg \" \" empty too. See java.lang.Character.isWhitespace API</p>\n"},{"tags":[],"owner":{"account_id":4346013,"reputation":1904,"user_id":3547935,"display_name":"hari"},"down_vote_count":8,"up_vote_count":50,"is_accepted":false,"score":42,"last_activity_date":1638909820,"creation_date":1399984133,"answer_id":23631309,"question_id":14721397,"body_markdown":"    import com.google.common.base.Strings;\r\n\r\n    if(!Strings.isNullOrEmpty(String str)) {\r\n       // Do your stuff here \r\n    }","title":"Checking if a string is empty or null in Java","body":"<pre><code>import com.google.common.base.Strings;\n\nif(!Strings.isNullOrEmpty(String str)) {\n   // Do your stuff here \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1399986434,"creation_date":1399986434,"answer_id":23632157,"question_id":14721397,"body_markdown":"This way you check if the string is not null and not empty, also considering the empty spaces:\r\n\r\n    boolean isEmpty = str == null || str.trim().length() == 0;\r\n    if (isEmpty) {\r\n        // handle the validation\r\n    }","title":"Checking if a string is empty or null in Java","body":"<p>This way you check if the string is not null and not empty, also considering the empty spaces:</p>\n\n<pre><code>boolean isEmpty = str == null || str.trim().length() == 0;\nif (isEmpty) {\n    // handle the validation\n}\n</code></pre>\n"}],"owner":{"account_id":2309297,"reputation":4761,"user_id":2027811,"accept_rate":18,"display_name":"user2027811"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198517,"favorite_count":0,"down_vote_count":2,"up_vote_count":468,"closed_date":1409227851,"answer_count":5,"score":466,"last_activity_date":1638909820,"creation_date":1360123927,"question_id":14721397,"body_markdown":"I&#39;m parsing HTML data.  The `String` may be `null` or empty, when the word to parse does not match.\r\n\r\nSo, I wrote it like this:\r\n\r\n    if(string.equals(null) || string.equals(&quot;&quot;)){\r\n        Log.d(&quot;iftrue&quot;, &quot;seem to be true&quot;);\r\n    }else{\r\n        Log.d(&quot;iffalse&quot;, &quot;seem to be false&quot;);\r\n    }\r\n\r\nWhen I delete `String.equals(&quot;&quot;)`, it does not work correctly. \r\n\r\nI thought `String.equals(&quot;&quot;)` wasn&#39;t correct.\r\n\r\nHow can I best check for an empty `String`?","title":"Checking if a string is empty or null in Java","body":"<p>I'm parsing HTML data.  The <code>String</code> may be <code>null</code> or empty, when the word to parse does not match.</p>\n\n<p>So, I wrote it like this:</p>\n\n<pre><code>if(string.equals(null) || string.equals(\"\")){\n    Log.d(\"iftrue\", \"seem to be true\");\n}else{\n    Log.d(\"iffalse\", \"seem to be false\");\n}\n</code></pre>\n\n<p>When I delete <code>String.equals(\"\")</code>, it does not work correctly. </p>\n\n<p>I thought <code>String.equals(\"\")</code> wasn't correct.</p>\n\n<p>How can I best check for an empty <code>String</code>?</p>\n"},{"tags":["java","image","user-interface","label","panel"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638640988,"creation_date":1638640988,"answer_id":70228169,"question_id":70228109,"body_markdown":"The way to do this is to use JLabel.setIcon\r\n\r\n    JLabel l = ...;\r\n    l.setIcon(myIcon);\r\n\r\nYou can make an Icon from an Image using `ImageIcon`.\r\n\r\nYou can get an image by loading it from disk/url, or by creating your own by creating a BufferedImage and drawing to its Graphics object.","title":"Java GUI paint picture on labels","body":"<p>The way to do this is to use JLabel.setIcon</p>\n<pre><code>JLabel l = ...;\nl.setIcon(myIcon);\n</code></pre>\n<p>You can make an Icon from an Image using <code>ImageIcon</code>.</p>\n<p>You can get an image by loading it from disk/url, or by creating your own by creating a BufferedImage and drawing to its Graphics object.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638908895,"creation_date":1638653533,"answer_id":70229654,"question_id":70228109,"body_markdown":"If you&#39;re going to use components do to this job, then you&#39;re going to need to do some juggling with the layout managers.  Because of it&#39;s flexibility, I would use `GridBagLayout`, in fact, I&#39;m pretty sure it&#39;s the only inbuilt layout that will allow you to do something like this...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.MatteBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n\r\n            public GamePane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                for (int y = 0; y &lt; 10; y++) {\r\n                    for (int x = 0; x &lt; 10; x++) {\r\n                        GridPane gridPane;\r\n                        if (y == 9) {\r\n                            if (x == 9) {\r\n                                gridPane = new GridPane(1, 1, 1, 1);\r\n                            } else {\r\n                                gridPane = new GridPane(1, 1, 1, 0);\r\n                            }\r\n                        } else if (x == 9) {\r\n                            gridPane = new GridPane(1, 1, 0, 1);\r\n                        } else {\r\n                            gridPane = new GridPane(1, 1, 0, 0);\r\n                        }\r\n                        gbc.gridx = x;\r\n                        gbc.gridy = y;\r\n                        add(gridPane, gbc);\r\n                    }\r\n                }\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = 1;\r\n                gbc.gridheight = 4;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                add(new ShipPane(1, 4), gbc, 0);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 2;\r\n                gbc.gridy = 1;\r\n                gbc.gridwidth = 3;\r\n                gbc.gridheight = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                add(new ShipPane(3, 1), gbc, 0);\r\n            }\r\n\r\n        }\r\n\r\n        public class Configuration {\r\n            public static int GRID_SIZE = 50;\r\n        }\r\n\r\n        public class GridPane extends JPanel {\r\n\r\n            public GridPane(int top, int left, int bottom, int right) {\r\n                setBorder(new MatteBorder(top, left, bottom, right, Color.DARK_GRAY));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(Configuration.GRID_SIZE, Configuration.GRID_SIZE);\r\n            }\r\n\r\n        }\r\n\r\n        public class ShipPane extends JPanel {\r\n\r\n            private int gridWidth, gridHeight;\r\n\r\n            public ShipPane(int gridWidth, int gridHeight) {\r\n                this.gridWidth = gridWidth;\r\n                this.gridHeight = gridHeight;\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(Configuration.GRID_SIZE * gridWidth, Configuration.GRID_SIZE * gridHeight);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.setColor(new Color(255, 0, 0, 128));\r\n                g.fillRect(0, 0, getWidth(), getHeight());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFHnj.png\r\n\r\nNow, I&#39;m just using a panel, but without much work, you could add a `JLabel` to the `ShipPane`\r\n\r\nNow, having said that.  I think I would approach this problem from an entirely &quot;custom painting&quot; route","title":"Java GUI paint picture on labels","body":"<p>If you're going to use components do to this job, then you're going to need to do some juggling with the layout managers.  Because of it's flexibility, I would use <code>GridBagLayout</code>, in fact, I'm pretty sure it's the only inbuilt layout that will allow you to do something like this...</p>\n<p><a href=\"https://i.stack.imgur.com/JFHnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFHnj.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.MatteBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GamePane extends JPanel {\n\n        public GamePane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            for (int y = 0; y &lt; 10; y++) {\n                for (int x = 0; x &lt; 10; x++) {\n                    GridPane gridPane;\n                    if (y == 9) {\n                        if (x == 9) {\n                            gridPane = new GridPane(1, 1, 1, 1);\n                        } else {\n                            gridPane = new GridPane(1, 1, 1, 0);\n                        }\n                    } else if (x == 9) {\n                        gridPane = new GridPane(1, 1, 0, 1);\n                    } else {\n                        gridPane = new GridPane(1, 1, 0, 0);\n                    }\n                    gbc.gridx = x;\n                    gbc.gridy = y;\n                    add(gridPane, gbc);\n                }\n            }\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = 1;\n            gbc.gridheight = 4;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            add(new ShipPane(1, 4), gbc, 0);\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 2;\n            gbc.gridy = 1;\n            gbc.gridwidth = 3;\n            gbc.gridheight = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n            add(new ShipPane(3, 1), gbc, 0);\n        }\n\n    }\n\n    public class Configuration {\n        public static int GRID_SIZE = 50;\n    }\n\n    public class GridPane extends JPanel {\n\n        public GridPane(int top, int left, int bottom, int right) {\n            setBorder(new MatteBorder(top, left, bottom, right, Color.DARK_GRAY));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(Configuration.GRID_SIZE, Configuration.GRID_SIZE);\n        }\n\n    }\n\n    public class ShipPane extends JPanel {\n\n        private int gridWidth, gridHeight;\n\n        public ShipPane(int gridWidth, int gridHeight) {\n            this.gridWidth = gridWidth;\n            this.gridHeight = gridHeight;\n            setOpaque(false);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(Configuration.GRID_SIZE * gridWidth, Configuration.GRID_SIZE * gridHeight);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(new Color(255, 0, 0, 128));\n            g.fillRect(0, 0, getWidth(), getHeight());\n        }\n    }\n}\n</code></pre>\n<p>Now, I'm just using a panel, but without much work, you could add a <code>JLabel</code> to the <code>ShipPane</code></p>\n<p>Now, having said that.  I think I would approach this problem from an entirely &quot;custom painting&quot; route</p>\n"}],"owner":{"account_id":23526074,"reputation":3,"user_id":17572592,"display_name":"moshe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70229654,"answer_count":2,"score":0,"last_activity_date":1638908895,"creation_date":1638640618,"question_id":70228109,"body_markdown":"I want to add a picture that will be in the panel and also on labels but I don&#39;t know how to do that.\r\n\r\n&gt; my code:\r\n\r\n\tJFrame frame = new JFrame();\r\n\tJPanel panel = new JPanel();\r\n\tJPanel mainPanel = new JPanel();\r\n\t\r\n\tpanel.setLayout(new GridLayout(5, 5));\r\n\tfor (int i = 0; i &lt; 5; i++) \r\n\t\tfor (int j = 0; j &lt; 5; j++) \r\n\t\t{\r\n\t\t\tJLabel label = new JLabel();\r\n\t\t\tlabel.setPreferredSize(new Dimension(50, 50));\r\n\t\t\tlabel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n\t\t\tpanel.add(label);\r\n\t\t}\r\n\t\r\n\t\r\n\t\r\n\tmainPanel.add(panel);\r\n\tframe.add(mainPanel);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tframe.pack();\r\n\tframe.setLocationByPlatform(true);\r\n\tframe.setVisible(true);\r\n\r\nMy Picture:\r\nhttps://i.stack.imgur.com/w0Ssy.png\r\n\r\nWhat I want to make:\r\nhttps://i.stack.imgur.com/ZLPqF.png","title":"Java GUI paint picture on labels","body":"<p>I want to add a picture that will be in the panel and also on labels but I don't know how to do that.</p>\n<blockquote>\n<p>my code:</p>\n</blockquote>\n<pre><code>JFrame frame = new JFrame();\nJPanel panel = new JPanel();\nJPanel mainPanel = new JPanel();\n\npanel.setLayout(new GridLayout(5, 5));\nfor (int i = 0; i &lt; 5; i++) \n    for (int j = 0; j &lt; 5; j++) \n    {\n        JLabel label = new JLabel();\n        label.setPreferredSize(new Dimension(50, 50));\n        label.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        panel.add(label);\n    }\n\n\n\nmainPanel.add(panel);\nframe.add(mainPanel);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe.pack();\nframe.setLocationByPlatform(true);\nframe.setVisible(true);\n</code></pre>\n<p>My Picture:\n<a href=\"https://i.stack.imgur.com/w0Ssy.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/w0Ssy.png</a></p>\n<p>What I want to make:\n<a href=\"https://i.stack.imgur.com/ZLPqF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZLPqF.png</a></p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor","reactive"],"answers":[{"tags":[],"owner":{"account_id":21610576,"reputation":1,"user_id":15937271,"display_name":"Mahdi Bohloul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872836,"creation_date":1638872836,"answer_id":70258495,"question_id":70258043,"body_markdown":"At the first, you should know about the hot and cold publishers. I&#39;d suggest seeing this [article][1]\r\n\r\nThe code you write in the reactive programming world is a **description** of what you want to do (In the reactor world they called it assembly, I&#39;d suggest seeing this [issue][2] to better understand the difference between Assembly and Execution) after the data is ready and **will not run exactly after your code is executed**.\r\n\r\nThe second thing to keep in mind is that you are always in a chain and you only need one subscription on this chain. \r\n\r\nFor example, suppose you want to get all the data from the repository and filter them with one field and then return it to the outside of the method. So you should do something like this:\r\n\r\n\r\n    return reactiveRepository.findAll().filter { //filter with one field } //or doing something different with your data when they fetched from DB\r\n\r\nYou should notice that until you don&#39;t subscribe on the chain, data doesn&#39;t go to be fetched from DB and your chain doesn&#39;t go to do anything.\r\n\r\n\r\n  [1]: https://www.vinsguru.com/reactor-hot-publisher-vs-cold-publisher/\r\n  [2]: https://github.com/reactor/reactor-core/issues/1418#issuecomment-436570880","title":"subscribing after inserting the data in Reactive Repositories","body":"<p>At the first, you should know about the hot and cold publishers. I'd suggest seeing this <a href=\"https://www.vinsguru.com/reactor-hot-publisher-vs-cold-publisher/\" rel=\"nofollow noreferrer\">article</a></p>\n<p>The code you write in the reactive programming world is a <strong>description</strong> of what you want to do (In the reactor world they called it assembly, I'd suggest seeing this <a href=\"https://github.com/reactor/reactor-core/issues/1418#issuecomment-436570880\" rel=\"nofollow noreferrer\">issue</a> to better understand the difference between Assembly and Execution) after the data is ready and <strong>will not run exactly after your code is executed</strong>.</p>\n<p>The second thing to keep in mind is that you are always in a chain and you only need one subscription on this chain.</p>\n<p>For example, suppose you want to get all the data from the repository and filter them with one field and then return it to the outside of the method. So you should do something like this:</p>\n<pre><code>return reactiveRepository.findAll().filter { //filter with one field } //or doing something different with your data when they fetched from DB\n</code></pre>\n<p>You should notice that until you don't subscribe on the chain, data doesn't go to be fetched from DB and your chain doesn't go to do anything.</p>\n"},{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638908605,"creation_date":1638908605,"answer_id":70266500,"question_id":70258043,"body_markdown":"reactor works with the concept `producer`and `consumer`. The `consumer` `subscribes` to the `producer` and `nothing will happen until you subscribe`.\r\n\r\nWhen using `webflux`, which is basically `spring-web` but implemented with `reactor` the concept goes that `the final consumer is usually the one subscribing`.\r\n\r\nYou can think of it as the database is the `producer` and the calling `client` (webpage, react app, mobile app) is the `consumer`and when the client initiates a call to the backend, the client `subscribes`to your `server`and the `server`in turn `subscribes` to the `database`(remember? producer, the database produces data).\r\n\r\nSo your server is basically just forwarding the data to the calling client, which means that usually you just take the data and return it out to the client, and the framework will handle the &quot;subscription&quot;, automatically.\r\n\r\nWhich usually means, you should NOT subscribe in your application, instead, you should chain on the calls, and always keep the chain intact so that your server can produce items to the client.\r\n\r\nSo when should you `subscribe` in your server?\r\n\r\nWell one reason could be that you have a running job in your server that maybe fetches data from one server and inserts it into it&#39;s database. Then your service is the initiating client, subscribing to another server, the other server produces items to you, you receive them and insert them into your database.\r\n\r\nbut for instance in your example:\r\n\r\n```\r\n// first we fetch all, we filter, then we save, and we return back to the calling client keeping the chain intact, and no subscriptions\r\nreturn reactiverepository.findAll()\r\n    .filter(employes -&gt; //some criteria)\r\n    .flatMap(employee -&gt; reactiverepository.save(employee));\r\n```","title":"subscribing after inserting the data in Reactive Repositories","body":"<p>reactor works with the concept <code>producer</code>and <code>consumer</code>. The <code>consumer</code> <code>subscribes</code> to the <code>producer</code> and <code>nothing will happen until you subscribe</code>.</p>\n<p>When using <code>webflux</code>, which is basically <code>spring-web</code> but implemented with <code>reactor</code> the concept goes that <code>the final consumer is usually the one subscribing</code>.</p>\n<p>You can think of it as the database is the <code>producer</code> and the calling <code>client</code> (webpage, react app, mobile app) is the <code>consumer</code>and when the client initiates a call to the backend, the client <code>subscribes</code>to your <code>server</code>and the <code>server</code>in turn <code>subscribes</code> to the <code>database</code>(remember? producer, the database produces data).</p>\n<p>So your server is basically just forwarding the data to the calling client, which means that usually you just take the data and return it out to the client, and the framework will handle the &quot;subscription&quot;, automatically.</p>\n<p>Which usually means, you should NOT subscribe in your application, instead, you should chain on the calls, and always keep the chain intact so that your server can produce items to the client.</p>\n<p>So when should you <code>subscribe</code> in your server?</p>\n<p>Well one reason could be that you have a running job in your server that maybe fetches data from one server and inserts it into it's database. Then your service is the initiating client, subscribing to another server, the other server produces items to you, you receive them and insert them into your database.</p>\n<p>but for instance in your example:</p>\n<pre><code>// first we fetch all, we filter, then we save, and we return back to the calling client keeping the chain intact, and no subscriptions\nreturn reactiverepository.findAll()\n    .filter(employes -&gt; //some criteria)\n    .flatMap(employee -&gt; reactiverepository.save(employee));\n</code></pre>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638908605,"creation_date":1638870969,"question_id":70258043,"body_markdown":"I am a complete newbie into the reactive world, so while going through some of the examples on Reactive Repositories I found below:\r\n\r\n    reactiverepository.save(employee).subscribe() // subscribing to make the publisher emit the data\r\n    \r\n    reactiverepository.findAll() // no subscribe() ?\r\n\r\nI know in order for a publisher(Flux in the above case) to emit the data, we need to `subscribe()` to it. But why don&#39;t we have the same `subscribe()` calls in other CRUD methods like in the above example? What am I missing here?","title":"subscribing after inserting the data in Reactive Repositories","body":"<p>I am a complete newbie into the reactive world, so while going through some of the examples on Reactive Repositories I found below:</p>\n<pre><code>reactiverepository.save(employee).subscribe() // subscribing to make the publisher emit the data\n\nreactiverepository.findAll() // no subscribe() ?\n</code></pre>\n<p>I know in order for a publisher(Flux in the above case) to emit the data, we need to <code>subscribe()</code> to it. But why don't we have the same <code>subscribe()</code> calls in other CRUD methods like in the above example? What am I missing here?</p>\n"},{"tags":["java","orientdb","graph-databases","orientdb3.0"],"answers":[{"tags":[],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638908311,"creation_date":1638908311,"answer_id":70266449,"question_id":70257659,"body_markdown":"The issue was three-fold: \r\n\r\n 1. I was using the &#39;ALL&#39; `.jar` provided by the website. Instead I needed to use the libraries provided in the full source.\r\n 2. I did not account for the fact that when the code failed, it did not delete the database it half-created, thus could not execute the code I tried to remedy. I had to implement a temporary fail-safe to drop the database prior to initialisation to avoid this. \r\n 3. I was using the wrong(?) strategy in general.\r\n\r\nMy working method is as below. \r\n\r\n    orientDB = new OrientDB(&quot;embedded:/tmp/&quot;,&quot;admin&quot;,&quot;adminpwd&quot;, OrientDBConfig.defaultConfig());\r\n\r\n    /** THIS IS VERY MUCH ONLY FOR LOCAL TESTING **/\r\n    if(orientDB.exists(name))\r\n        orientDB.drop(name);\r\n\r\n    if(!orientDB.exists(name)) // if the database does not already exist, create it.\r\n        orientDB.execute(&quot;create database &quot; + name + &quot; PLOCAL users ( admin identified by &#39;adminpwd&#39; role admin)&quot;);\r\n    db = orientDB.open(name, &quot;admin&quot;, &quot;adminpwd&quot;);\r\n\r\n","title":"Connecting to an embedded OrientDB server in Java","body":"<p>The issue was three-fold:</p>\n<ol>\n<li>I was using the 'ALL' <code>.jar</code> provided by the website. Instead I needed to use the libraries provided in the full source.</li>\n<li>I did not account for the fact that when the code failed, it did not delete the database it half-created, thus could not execute the code I tried to remedy. I had to implement a temporary fail-safe to drop the database prior to initialisation to avoid this.</li>\n<li>I was using the wrong(?) strategy in general.</li>\n</ol>\n<p>My working method is as below.</p>\n<pre><code>orientDB = new OrientDB(&quot;embedded:/tmp/&quot;,&quot;admin&quot;,&quot;adminpwd&quot;, OrientDBConfig.defaultConfig());\n\n/** THIS IS VERY MUCH ONLY FOR LOCAL TESTING **/\nif(orientDB.exists(name))\n    orientDB.drop(name);\n\nif(!orientDB.exists(name)) // if the database does not already exist, create it.\n    orientDB.execute(&quot;create database &quot; + name + &quot; PLOCAL users ( admin identified by 'adminpwd' role admin)&quot;);\ndb = orientDB.open(name, &quot;admin&quot;, &quot;adminpwd&quot;);\n</code></pre>\n"}],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70266449,"answer_count":1,"score":0,"last_activity_date":1638908311,"creation_date":1638869338,"question_id":70257659,"body_markdown":"I&#39;m looking to run a Java process on several machines, each of which will need to start a local OrientBD server, load a graph, perform our processes, then close. As such, I need to be able to embed the `OServer` start process from within Java.\r\n\r\nThere is plenty of advice about how to do so, including SA questions, however most seem to be out of date (so please don&#39;t mark this as a duplicate prematurely). The most directly relevant seems to be [this][1], however it doesn&#39;t work - at least for me. With the below code, I get the subsequent error: \r\n\r\n        try {\r\n            final OServer server = OServerMain.create();\r\n            server.startup(server.getClass().getResourceAsStream(&quot;/orientdb-server-config.xml&quot;));\r\n            server.activate();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            System.exit(-1);\r\n        }\r\n\r\n    2021-12-07 21:47:39:323 INFO  Loading configuration from input stream [OServerConfigurationLoaderXml]\r\n    2021-12-07 21:47:39:633 INFO  OrientDB Server v3.2.3 (build dc98198215aa57baf29b32adb657dc3733acdb55, branch develop) is starting up... [OServer]java.lang.NullPointerException\r\n    \tat com.orientechnologies.orient.core.Orient.onEmbeddedFactoryInit(Orient.java:957)\r\n    \tat com.orientechnologies.orient.core.db.OrientDBEmbedded.&lt;init&gt;(OrientDBEmbedded.java:97)\r\n    \tat com.orientechnologies.orient.core.db.OrientDBInternal.embedded(OrientDBInternal.java:119)\r\n    \tat com.orientechnologies.orient.server.OServer.startupFromConfiguration(OServer.java:388)\r\n    \tat com.orientechnologies.orient.server.OServer.startup(OServer.java:314)\r\n    \tat ems.definitions.instance.Graph.&lt;init&gt;(Graph.java:47)\r\n\r\nI am using OrientDB version 3.2.3; the &#39;ALL&#39; `.jar` downloaded from [here][2]. Note that this jar does not contain the parameters file `orientdb-server-config.xml`, so I have downloaded it directly from the source [GitHub][3].\r\n\r\nIs there an issue with my specific implementation, my approach in general or with the default config file I&#39;m using? I look forward to hearing your thoughts.  \r\n\r\n\r\n  [1]: https://discourse.orientdb.org/t/connecting-to-memory-db-by-remote-doesnt-work-with-v3-0/961/2\r\n  [2]: https://orientdb.org/download\r\n  [3]: https://github.com/orientechnologies/orientdb/blob/develop/server/config/orientdb-server-config.xml","title":"Connecting to an embedded OrientDB server in Java","body":"<p>I'm looking to run a Java process on several machines, each of which will need to start a local OrientBD server, load a graph, perform our processes, then close. As such, I need to be able to embed the <code>OServer</code> start process from within Java.</p>\n<p>There is plenty of advice about how to do so, including SA questions, however most seem to be out of date (so please don't mark this as a duplicate prematurely). The most directly relevant seems to be <a href=\"https://discourse.orientdb.org/t/connecting-to-memory-db-by-remote-doesnt-work-with-v3-0/961/2\" rel=\"nofollow noreferrer\">this</a>, however it doesn't work - at least for me. With the below code, I get the subsequent error:</p>\n<pre><code>    try {\n        final OServer server = OServerMain.create();\n        server.startup(server.getClass().getResourceAsStream(&quot;/orientdb-server-config.xml&quot;));\n        server.activate();\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n\n2021-12-07 21:47:39:323 INFO  Loading configuration from input stream [OServerConfigurationLoaderXml]\n2021-12-07 21:47:39:633 INFO  OrientDB Server v3.2.3 (build dc98198215aa57baf29b32adb657dc3733acdb55, branch develop) is starting up... [OServer]java.lang.NullPointerException\n    at com.orientechnologies.orient.core.Orient.onEmbeddedFactoryInit(Orient.java:957)\n    at com.orientechnologies.orient.core.db.OrientDBEmbedded.&lt;init&gt;(OrientDBEmbedded.java:97)\n    at com.orientechnologies.orient.core.db.OrientDBInternal.embedded(OrientDBInternal.java:119)\n    at com.orientechnologies.orient.server.OServer.startupFromConfiguration(OServer.java:388)\n    at com.orientechnologies.orient.server.OServer.startup(OServer.java:314)\n    at ems.definitions.instance.Graph.&lt;init&gt;(Graph.java:47)\n</code></pre>\n<p>I am using OrientDB version 3.2.3; the 'ALL' <code>.jar</code> downloaded from <a href=\"https://orientdb.org/download\" rel=\"nofollow noreferrer\">here</a>. Note that this jar does not contain the parameters file <code>orientdb-server-config.xml</code>, so I have downloaded it directly from the source <a href=\"https://github.com/orientechnologies/orientdb/blob/develop/server/config/orientdb-server-config.xml\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n<p>Is there an issue with my specific implementation, my approach in general or with the default config file I'm using? I look forward to hearing your thoughts.</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1638903241,"post_id":70265491,"comment_id":124210003,"body_markdown":"You never actually add menupanel to anything.  Where do you expect it to be displayed?","body":"You never actually add menupanel to anything.  Where do you expect it to be displayed?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1638903323,"post_id":70265491,"comment_id":124210030,"body_markdown":"1) Don&#39;t extend Canvas, that is an AWT component. With Swing you extend JPanel for custom painting. I&#39;m not even sure why you need the &quot;Window&quot; class. You only extend a component when you add functionality to the component. Adding components is not adding functionality. 2) Check out [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for working example of custom painting and how to use a mouse to paint a rectangle at a given location. The working examples will show you how to better structure your code.","body":"1) Don&#39;t extend Canvas, that is an AWT component. With Swing you extend JPanel for custom painting. I&#39;m not even sure why you need the &quot;Window&quot; class. You only extend a component when you add functionality to the component. Adding components is not adding functionality. 2) Check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for working example of custom painting and how to use a mouse to paint a rectangle at a given location. The working examples will show you how to better structure your code."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638903396,"post_id":70265491,"comment_id":124210060,"body_markdown":"Also, components don&#39;t have a size until the frame is visible. So your statements to determine the width/height of the Menu will always be 0.","body":"Also, components don&#39;t have a size until the frame is visible. So your statements to determine the width/height of the Menu will always be 0."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1638903595,"post_id":70265491,"comment_id":124210137,"body_markdown":"As far as modifying your menu class: to have any visual changes appear, you need to call repaint() (and sometimes revalidate())","body":"As far as modifying your menu class: to have any visual changes appear, you need to call repaint() (and sometimes revalidate())"},{"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"score":0,"creation_date":1638904688,"post_id":70265491,"comment_id":124210519,"body_markdown":"@azurefrog doesn&#39;t getContentPane().add() add the panel to the frame?","body":"@azurefrog doesn&#39;t getContentPane().add() add the panel to the frame?"},{"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"score":0,"creation_date":1638905809,"post_id":70265491,"comment_id":124210909,"body_markdown":"@camickr This is the bare beginnings of my project. I want to make the window to be able to hold states, and am trying to make a state handler. I want to eventually make menu into a state the window changes to. So I figured I would try to have the panel change with each state change. Though this is my first time trying to make a gui so I&#39;m not sure if that&#39;ll even work.","body":"@camickr This is the bare beginnings of my project. I want to make the window to be able to hold states, and am trying to make a state handler. I want to eventually make menu into a state the window changes to. So I figured I would try to have the panel change with each state change. Though this is my first time trying to make a gui so I&#39;m not sure if that&#39;ll even work."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1638906050,"post_id":70265491,"comment_id":124210999,"body_markdown":"@Maya That adds the menu to the window, but you never add `menupanel` to the menu in `init()`.  No changes you make in `init()` are being displayed because you don&#39;t put anything you create there into something that is being displayed.","body":"@Maya That adds the menu to the window, but you never add <code>menupanel</code> to the menu in <code>init()</code>.  No changes you make in <code>init()</code> are being displayed because you don&#39;t put anything you create there into something that is being displayed."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1638907312,"post_id":70265491,"comment_id":124211478,"body_markdown":"Read the section from the Swing tutorial on [How to Use Card Layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html). Keep a link to the tutorial handy for all Swing basics.","body":"Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use Card Layout</a>. Keep a link to the tutorial handy for all Swing basics."},{"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"score":0,"creation_date":1638910962,"post_id":70265491,"comment_id":124212786,"body_markdown":"@azurefrog  Thank you for your help!!!!","body":"@azurefrog  Thank you for your help!!!!"},{"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"score":0,"creation_date":1638910987,"post_id":70265491,"comment_id":124212796,"body_markdown":"@camickr Thank you for your help!!!!","body":"@camickr Thank you for your help!!!!"}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638907732,"creation_date":1638907732,"answer_id":70266332,"question_id":70265491,"body_markdown":"The problem is that you do both `class Menu extends JPanel` and declare `JPanel panel` inside of the `Menu` class. This duplication is unnecessary and causes the problem because you add items to the `panel` field, but you never do anything with that panel.\r\n\r\nOn the other hand, you declare `Menu mene` and add it to the content pane, but you never add anything to the `Menu` object itself. Don&#39;t mix and match like this. Pick a field member or inheritance, but not both.","title":"JPanel changes not showing on Jframe","body":"<p>The problem is that you do both <code>class Menu extends JPanel</code> and declare <code>JPanel panel</code> inside of the <code>Menu</code> class. This duplication is unnecessary and causes the problem because you add items to the <code>panel</code> field, but you never do anything with that panel.</p>\n<p>On the other hand, you declare <code>Menu mene</code> and add it to the content pane, but you never add anything to the <code>Menu</code> object itself. Don't mix and match like this. Pick a field member or inheritance, but not both.</p>\n"}],"owner":{"account_id":20142356,"reputation":3,"user_id":14771769,"display_name":"Maya"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70266332,"answer_count":1,"score":0,"last_activity_date":1638907732,"creation_date":1638902943,"question_id":70265491,"body_markdown":"Hello I&#39;m trying to create a java game using using JPanel and JFrame. However I can&#39;t get the JPanel to show changes I make to it. I&#39;m wondering if I might be setting up the JFrame wrong or improperly adding to it or something like that.\r\n\r\nHere&#39;s my window class:\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*\r\n    public class Window extends Canvas {\r\n\r\n    public static final int ScreenWidth = 1000;\r\n    public static final int ScreenHeight = 700;\r\n    public static JFrame frame;\r\n\r\n    Window(int ScreenWidth, int ScreenHeight, JFrame frame) {\r\n        this.frame = frame;\r\n        displaywindow();\r\n        frame.add(this);\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n    }\r\n\r\n    public void displaywindow() {\r\n        this.frame.setPreferredSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setMaximumSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setMinimumSize(new Dimension(ScreenWidth,ScreenHeight));\r\n        this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.frame.setResizable(false);\r\n        this.frame.setBackground(Color.pink);\r\n        this.frame.setLocationRelativeTo(null);\r\n    }\r\n   \r\n    public JFrame getFrame() {\r\n        return this.frame;\r\n    }\r\n}\r\n\r\n\r\n\r\nHere&#39;s the Menu class I&#39;m working on:`\r\n`\r\n\r\n    public class Menu extends JPanel implements ActionListener, KeyListener {\r\n    private Window win = new Window(Window.ScreenWidth, Window.ScreenHeight, Window.frame);\r\n    private int width = Window.frame.getContentPane().getWidth();\r\n    private int height = Window.frame.getContentPane().getHeight();\r\n    BufferedImage bg;\r\n      \r\n    Menu(JPanel panel) {\r\n        this.panel = panel;\r\n    }\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        g.fillRect(110, 110, 20, 20);\r\n    }\r\n\r\n\r\n    public void init() throws IOException {\r\n        this.panel.setBackground(Color.cyan);\r\n        this.panel.setPreferredSize(new Dimension(width, height));\r\n        this.panel.setMaximumSize(new Dimension(width, height));\r\n        this.panel.setMinimumSize(new Dimension(width, height));\r\n        JLabel start = new JLabel(&quot;Start&quot;);\r\n        start.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\r\n        start.setLocation(500, 400);\r\n        this.panel.add(new JLabel(&quot;Exit&quot;));\r\n        this.panel.add(start);\r\n        this.panel.revalidate();\r\n        this.panel.repaint();\r\n        this.panel.setVisible(true);\r\n    }\r\n\r\n    enter code here\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        Window win = new Window(Window.ScreenWidth, Window.HEIGHT, new JFrame());\r\n        Menu mene = new Menu();\r\n        mene.init();\r\n        win.getFrame().getContentPane().add(mene);\r\n        win.getFrame().setVisible(true);\r\n\r\n    }\r\n\r\nI tried adding a rectangle to the paintComponent just so I was sure that the panel was actually being added to the frame and it shows that it is, but none of the changes I make in init() ever actually show. Any help would be much appreciated.\r\n\r\n`","title":"JPanel changes not showing on Jframe","body":"<p>Hello I'm trying to create a java game using using JPanel and JFrame. However I can't get the JPanel to show changes I make to it. I'm wondering if I might be setting up the JFrame wrong or improperly adding to it or something like that.</p>\n<p>Here's my window class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*\npublic class Window extends Canvas {\n\npublic static final int ScreenWidth = 1000;\npublic static final int ScreenHeight = 700;\npublic static JFrame frame;\n\nWindow(int ScreenWidth, int ScreenHeight, JFrame frame) {\n    this.frame = frame;\n    displaywindow();\n    frame.add(this);\n}\n\npublic void paint(Graphics g) {\n    super.paint(g);\n}\n\npublic void displaywindow() {\n    this.frame.setPreferredSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setMaximumSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setMinimumSize(new Dimension(ScreenWidth,ScreenHeight));\n    this.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.frame.setResizable(false);\n    this.frame.setBackground(Color.pink);\n    this.frame.setLocationRelativeTo(null);\n}\n\npublic JFrame getFrame() {\n    return this.frame;\n}\n</code></pre>\n<p>}</p>\n<p>Here's the Menu class I'm working on:<code> </code></p>\n<pre><code>public class Menu extends JPanel implements ActionListener, KeyListener {\nprivate Window win = new Window(Window.ScreenWidth, Window.ScreenHeight, Window.frame);\nprivate int width = Window.frame.getContentPane().getWidth();\nprivate int height = Window.frame.getContentPane().getHeight();\nBufferedImage bg;\n  \nMenu(JPanel panel) {\n    this.panel = panel;\n}\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    g.fillRect(110, 110, 20, 20);\n}\n\n\npublic void init() throws IOException {\n    this.panel.setBackground(Color.cyan);\n    this.panel.setPreferredSize(new Dimension(width, height));\n    this.panel.setMaximumSize(new Dimension(width, height));\n    this.panel.setMinimumSize(new Dimension(width, height));\n    JLabel start = new JLabel(&quot;Start&quot;);\n    start.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\n    start.setLocation(500, 400);\n    this.panel.add(new JLabel(&quot;Exit&quot;));\n    this.panel.add(start);\n    this.panel.revalidate();\n    this.panel.repaint();\n    this.panel.setVisible(true);\n}\n\nenter code here\npublic static void main(String[] args) throws IOException {\n    \n    Window win = new Window(Window.ScreenWidth, Window.HEIGHT, new JFrame());\n    Menu mene = new Menu();\n    mene.init();\n    win.getFrame().getContentPane().add(mene);\n    win.getFrame().setVisible(true);\n\n}\n</code></pre>\n<p>I tried adding a rectangle to the paintComponent just so I was sure that the panel was actually being added to the frame and it shows that it is, but none of the changes I make in init() ever actually show. Any help would be much appreciated.</p>\n<p>`</p>\n"},{"tags":["java","generics","raw-types"],"answers":[{"tags":[],"owner":{"account_id":8550700,"reputation":320,"user_id":6407699,"display_name":"Jan Groothuijse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480436382,"creation_date":1480436382,"answer_id":40870693,"question_id":40870449,"body_markdown":"Type erasure is the reason. At runtime, all Box instances are equal, they all contain references. Generics only benefit you, the programmer, to convey type information and keep your program well typed.","title":"Java Generics - raw type and parameterized type conversions","body":"<p>Type erasure is the reason. At runtime, all Box instances are equal, they all contain references. Generics only benefit you, the programmer, to convey type information and keep your program well typed.</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480437271,"creation_date":1480436901,"answer_id":40870875,"question_id":40870449,"body_markdown":"It&#39;s sometimes hard to guess where Java will insert checked casts.  In general, it&#39;ll only insert them where necessary.  The best way to understand the behavior you see is by checking the bytecode!\r\n\r\nIf we run `javap -c Box.class` (after compiling with `/*1*/` uncommented), we see:\r\n\r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n          ...\r\n          20: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\r\n          23: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n          26: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          29: aload_1\r\n          30: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\r\n          33: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n          36: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n          39: aload_1\r\n          40: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\r\n          43: checkcast     #10                 // class java/lang/Integer\r\n          46: invokevirtual #11                 // Method java/lang/Integer.toString:()Ljava/lang/String;\r\n          49: invokevirtual #12                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n          52: return\r\n\r\nYou can see here that the only time the JVM actually requires a cast to integer is at #43 (checkcast).  That&#39;s so that it can `invokevirtual Integer.toString()`.\r\n\r\nThe call to `println` (#33) does not require a cast because `println` takes an `Object`, not an `Integer` (perhaps you thought you were calling `println(int)`, but you&#39;re not).  So the JVM never needs to check that it&#39;s an integer, because it doesn&#39;t need to be.\r\n\r\nIf instead of calling `println(Object)`, you called a method that accepted an `Integer`, you should see a `ClassCastException` instead.\r\n\r\nFor example, this:\r\n\r\n        ...\r\n        print(intBox.getT());\r\n    }\r\n\r\n    private static void print(Integer integer) {\r\n        System.out.println(integer);\r\n    }\r\n\r\nWill perform a cast:\r\n\r\n      26: aload_1\r\n      27: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\r\n      30: checkcast     #10                 // class java/lang/Integer\r\n      33: invokestatic  #11                 // Method print:(Ljava/lang/Integer;)V\r\n\r\n","title":"Java Generics - raw type and parameterized type conversions","body":"<p>It's sometimes hard to guess where Java will insert checked casts.  In general, it'll only insert them where necessary.  The best way to understand the behavior you see is by checking the bytecode!</p>\n\n<p>If we run <code>javap -c Box.class</code> (after compiling with <code>/*1*/</code> uncommented), we see:</p>\n\n<pre><code>  public static void main(java.lang.String[]);\n    Code:\n      ...\n      20: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\n      23: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n      26: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      29: aload_1\n      30: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\n      33: invokevirtual #9                  // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n      36: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      39: aload_1\n      40: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\n      43: checkcast     #10                 // class java/lang/Integer\n      46: invokevirtual #11                 // Method java/lang/Integer.toString:()Ljava/lang/String;\n      49: invokevirtual #12                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      52: return\n</code></pre>\n\n<p>You can see here that the only time the JVM actually requires a cast to integer is at #43 (checkcast).  That's so that it can <code>invokevirtual Integer.toString()</code>.</p>\n\n<p>The call to <code>println</code> (#33) does not require a cast because <code>println</code> takes an <code>Object</code>, not an <code>Integer</code> (perhaps you thought you were calling <code>println(int)</code>, but you're not).  So the JVM never needs to check that it's an integer, because it doesn't need to be.</p>\n\n<p>If instead of calling <code>println(Object)</code>, you called a method that accepted an <code>Integer</code>, you should see a <code>ClassCastException</code> instead.</p>\n\n<p>For example, this:</p>\n\n<pre><code>    ...\n    print(intBox.getT());\n}\n\nprivate static void print(Integer integer) {\n    System.out.println(integer);\n}\n</code></pre>\n\n<p>Will perform a cast:</p>\n\n<pre><code>  26: aload_1\n  27: invokevirtual #8                  // Method getT:()Ljava/lang/Object;\n  30: checkcast     #10                 // class java/lang/Integer\n  33: invokestatic  #11                 // Method print:(Ljava/lang/Integer;)V\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480445250,"creation_date":1480445250,"answer_id":40873491,"question_id":40870449,"body_markdown":"This is why the compiler warns you against using non-generic class references. During runtime, it has no ability to know what type intbox is, because it generics are not saved in bytecode.","title":"Java Generics - raw type and parameterized type conversions","body":"<p>This is why the compiler warns you against using non-generic class references. During runtime, it has no ability to know what type intbox is, because it generics are not saved in bytecode.</p>\n"},{"tags":[],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638907434,"creation_date":1638907434,"answer_id":70266279,"question_id":40870449,"body_markdown":"This is due to the type erasure.\r\nAs from article [here][1]\r\n\r\n&gt; During the type erasure process, the Java compiler erases all type\r\n&gt; parameters and replaces each with its **first bound** if the type\r\n&gt; parameter is bounded, or&#160;**Object**&#160;if the type parameter is unbounded.\r\n&gt; \r\n&gt; Consider the following generic class that represents a node in a\r\n&gt; singly linked list:\r\n&gt; \r\n&gt;     public class Node&lt;T&gt; {\r\n&gt;     \r\n&gt;         private T data;\r\n&gt;         private Node&lt;T&gt; next;\r\n&gt;     \r\n&gt;         public Node(T data, Node&lt;T&gt; next) {\r\n&gt;             this.data = data;\r\n&gt;             this.next = next;\r\n&gt;         }\r\n&gt;     \r\n&gt;         public T getData() { return data; }\r\n&gt;         // ...\r\n&gt;     }\r\n&gt; \r\n&gt; Because the type parameter&#160;T&#160;is unbounded, the Java compiler replaces\r\n&gt; it with&#160;**Object**:\r\n&gt; \r\n&gt;     public class Node {\r\n&gt;     \r\n&gt;         private Object data;\r\n&gt;         private Node next;\r\n&gt;     \r\n&gt;         public Node(Object data, Node next) {\r\n&gt;             this.data = data;\r\n&gt;             this.next = next;\r\n&gt;         }\r\n&gt;     \r\n&gt;         public Object getData() { return data; }\r\n&gt;         // ...\r\n&gt;     }\r\n\r\nNote that `Box&lt;Integer&gt;` is unbounded.\r\n \r\nNow you passed the compile time type safety check due to raw type \r\n\r\n    rawBox.setT(&quot;NBA&quot;);\r\n\r\nwhich is also assigning to intBox.  \r\n\r\nYour declaration of getT(): \r\n\r\n    public T getT ()\r\n        {\r\n            return t;\r\n        }\r\n\r\nbecomes\r\n\r\n    public Object getT ()\r\n            {\r\n                return t;\r\n            }\r\n\r\nSo you are returning an **Object**. Therefore\r\n\r\n\r\n    System.out.println(intBox.getT());\r\n\r\nprints the string NBA as string is also an Object.\r\n\r\nBut in statement:\r\n\r\n    System.out.println(intBox.getT().toString());\r\n\r\nyou are calling method toString() on intBox.getT() so somewhere at compile time it is checking return type of intBox.getT() as Integer and treating intBox.getT().toString() as Integer_object.toString() at run time.\r\n\r\nso when at run time you pass string to it ClassCastException came.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Generics - raw type and parameterized type conversions","body":"<p>This is due to the type erasure.\nAs from article <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>During the type erasure process, the Java compiler erases all type\nparameters and replaces each with its <strong>first bound</strong> if the type\nparameter is bounded, or <strong>Object</strong> if the type parameter is unbounded.</p>\n<p>Consider the following generic class that represents a node in a\nsingly linked list:</p>\n<pre><code>public class Node&lt;T&gt; {\n\n    private T data;\n    private Node&lt;T&gt; next;\n\n    public Node(T data, Node&lt;T&gt; next) {\n        this.data = data;\n        this.next = next;\n    }\n\n    public T getData() { return data; }\n    // ...\n}\n</code></pre>\n<p>Because the type parameter T is unbounded, the Java compiler replaces\nit with <strong>Object</strong>:</p>\n<pre><code>public class Node {\n\n    private Object data;\n    private Node next;\n\n    public Node(Object data, Node next) {\n        this.data = data;\n        this.next = next;\n    }\n\n    public Object getData() { return data; }\n    // ...\n}\n</code></pre>\n</blockquote>\n<p>Note that <code>Box&lt;Integer&gt;</code> is unbounded.</p>\n<p>Now you passed the compile time type safety check due to raw type</p>\n<pre><code>rawBox.setT(&quot;NBA&quot;);\n</code></pre>\n<p>which is also assigning to intBox.</p>\n<p>Your declaration of getT():</p>\n<pre><code>public T getT ()\n    {\n        return t;\n    }\n</code></pre>\n<p>becomes</p>\n<pre><code>public Object getT ()\n        {\n            return t;\n        }\n</code></pre>\n<p>So you are returning an <strong>Object</strong>. Therefore</p>\n<pre><code>System.out.println(intBox.getT());\n</code></pre>\n<p>prints the string NBA as string is also an Object.</p>\n<p>But in statement:</p>\n<pre><code>System.out.println(intBox.getT().toString());\n</code></pre>\n<p>you are calling method toString() on intBox.getT() so somewhere at compile time it is checking return type of intBox.getT() as Integer and treating intBox.getT().toString() as Integer_object.toString() at run time.</p>\n<p>so when at run time you pass string to it ClassCastException came.</p>\n"}],"owner":{"account_id":9746302,"reputation":51,"user_id":7226185,"display_name":"Michael1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1638907434,"creation_date":1480435664,"question_id":40870449,"body_markdown":"I&#39;ve been reading Java Generics Tutorials and few threads in Stackoverflow that deal with Generics, and still could not understand a specific case.\r\nHere it is:\r\n\r\n    public class Box&lt;T&gt;\r\n    {\r\n        private T t;\r\n    \r\n        public T getT ()\r\n        {\r\n            return t;\r\n        }\r\n    \r\n        public void setT (T t)\r\n        {\r\n            this.t = t;\r\n        }\r\n    \r\n        public static void main (String[] args)\r\n        {\r\n            Box&lt;Integer&gt; intBox = new Box&lt;Integer&gt;();\r\n            Box rawBox = intBox;\r\n            rawBox.setT(&quot;NBA&quot;);\r\n            System.out.println(rawBox.getT());\r\n            System.out.println(intBox.getT());\r\n            /*1*/ //System.out.println(intBox.getT().toString());\r\n        }\r\n    }\r\n\r\nHere&#39;s the deal,the first print I understand, that is,\r\n\r\n   \r\n\r\n     System.out.println(rawBox.getT());\r\nprints NBA, because rawBox is of raw type of Box T and it &quot;gives&quot; us Objects.\r\n\r\nWhat I don&#39;t get is the second print:\r\n \r\n\r\n    System.out.println(intBox.getT());\r\n    \r\nwhich prints NBA. \r\nintBox is of a generic type (in this case Box of Integers), which means its getter method should return a value of type T (which is Integer in this case), so what I understand is that the String object held there should be converted to Integer (because this is the argument type given to Box T) and a ClassCastException should be raised in runtime, but it doesn&#39;t happen, why is that?\r\n\r\nBy the way, comment number /*1*/ adds to the confusion, because if I were to uncomment it, it&#39;ll cause ClassCastException to be raised in ruuntime (String cannot be cast to Integer), I don&#39;t understand that\r\n\r\nThanks all  :)\r\n\r\n","title":"Java Generics - raw type and parameterized type conversions","body":"<p>I've been reading Java Generics Tutorials and few threads in Stackoverflow that deal with Generics, and still could not understand a specific case.\nHere it is:</p>\n\n<pre><code>public class Box&lt;T&gt;\n{\n    private T t;\n\n    public T getT ()\n    {\n        return t;\n    }\n\n    public void setT (T t)\n    {\n        this.t = t;\n    }\n\n    public static void main (String[] args)\n    {\n        Box&lt;Integer&gt; intBox = new Box&lt;Integer&gt;();\n        Box rawBox = intBox;\n        rawBox.setT(\"NBA\");\n        System.out.println(rawBox.getT());\n        System.out.println(intBox.getT());\n        /*1*/ //System.out.println(intBox.getT().toString());\n    }\n}\n</code></pre>\n\n<p>Here's the deal,the first print I understand, that is,</p>\n\n<pre><code> System.out.println(rawBox.getT());\n</code></pre>\n\n<p>prints NBA, because rawBox is of raw type of Box T and it \"gives\" us Objects.</p>\n\n<p>What I don't get is the second print:</p>\n\n<pre><code>System.out.println(intBox.getT());\n</code></pre>\n\n<p>which prints NBA. \nintBox is of a generic type (in this case Box of Integers), which means its getter method should return a value of type T (which is Integer in this case), so what I understand is that the String object held there should be converted to Integer (because this is the argument type given to Box T) and a ClassCastException should be raised in runtime, but it doesn't happen, why is that?</p>\n\n<p>By the way, comment number /<em>1</em>/ adds to the confusion, because if I were to uncomment it, it'll cause ClassCastException to be raised in ruuntime (String cannot be cast to Integer), I don't understand that</p>\n\n<p>Thanks all  :)</p>\n"},{"tags":["java","arraylist","collections","hashmap","hashset"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1638907980,"post_id":70266227,"comment_id":124211693,"body_markdown":"While this question was closed for being a &quot;duplicate&quot;, there is something is not really discussed on your second point on the linked preferred answers. When you initialize to an interface (i.e. `List&lt;String&gt; list = new ArrayList&lt;String&gt;();`) you gain the advantage of being isolated from changes made to the implementation of `List`. HOWEVER, any implementation specific methods of `ArrayList` are not accessible unless you cast the object to that type. There are some cases where this could be an issue. For the most part, you&#39;d want to code to interfaces rather than concretions.","body":"While this question was closed for being a &quot;duplicate&quot;, there is something is not really discussed on your second point on the linked preferred answers. When you initialize to an interface (i.e. <code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>) you gain the advantage of being isolated from changes made to the implementation of <code>List</code>. HOWEVER, any implementation specific methods of <code>ArrayList</code> are not accessible unless you cast the object to that type. There are some cases where this could be an issue. For the most part, you&#39;d want to code to interfaces rather than concretions."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638907380,"creation_date":1638907380,"answer_id":70266274,"question_id":70266227,"body_markdown":"```\r\nArrayList list = new ArrayList();\r\nArrayList&lt;Car&gt; list = new ArrayList&lt;Car&gt;();\r\n```\r\nThe first does not specify a type (or called a raw type) and is no longer considered good practice.  Always specify the type of object the list contains.  By doing so the compiler will help you find certain bugs in your code at compile time rather than at run time.\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n```\r\nThe first assigns the instance to the `List` interface that has  been implemented by the `ArrayList` class. The second is the class itself.  It is recommended to use the interface over the class unless you need methods that the interface doesn&#39;t have.  If you specify the interface it makes it easier to change to other implementations.\r\n```\r\nSet&lt;String&gt; list = new HashSet&lt;String&gt;();\r\nHashSet&lt;String&gt; list = new HashSet&lt;String&gt;();\r\n```\r\nSame as for list.  `Set` is the interface that `HashSet` implements.\r\n```\r\nMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\r\nHashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\r\n```\r\nDitto.\r\n\r\nAlso, an implementation may implement several interfaces.  And you may always assign the instance of the implementation to any of those interfaces.  However, only the methods of that interface will be visible when you use such an assignment.","title":"Initializing HashMap and ArrayList by the interface they implement","body":"<pre><code>ArrayList list = new ArrayList();\nArrayList&lt;Car&gt; list = new ArrayList&lt;Car&gt;();\n</code></pre>\n<p>The first does not specify a type (or called a raw type) and is no longer considered good practice.  Always specify the type of object the list contains.  By doing so the compiler will help you find certain bugs in your code at compile time rather than at run time.</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>The first assigns the instance to the <code>List</code> interface that has  been implemented by the <code>ArrayList</code> class. The second is the class itself.  It is recommended to use the interface over the class unless you need methods that the interface doesn't have.  If you specify the interface it makes it easier to change to other implementations.</p>\n<pre><code>Set&lt;String&gt; list = new HashSet&lt;String&gt;();\nHashSet&lt;String&gt; list = new HashSet&lt;String&gt;();\n</code></pre>\n<p>Same as for list.  <code>Set</code> is the interface that <code>HashSet</code> implements.</p>\n<pre><code>Map&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\nHashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();\n</code></pre>\n<p>Ditto.</p>\n<p>Also, an implementation may implement several interfaces.  And you may always assign the instance of the implementation to any of those interfaces.  However, only the methods of that interface will be visible when you use such an assignment.</p>\n"}],"owner":{"account_id":19955838,"reputation":41,"user_id":14624494,"display_name":"Chefi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1638907207,"accepted_answer_id":70266274,"answer_count":1,"score":-1,"last_activity_date":1638907380,"creation_date":1638907023,"question_id":70266227,"body_markdown":"So my Java tutor at school just started to teach us about Containers and there&#39;s this little concept I don&#39;t understand about initialization.\r\n\r\n**Firstly**,\r\nwith ArrayList, what&#39;s the difference between these two ways for initializing:\r\n\r\n``` ArrayList list = new ArrayList(); ```\r\n\r\n``` ArrayList&lt;Car&gt; list = new ArrayList&lt;Car&gt;(); ```\r\n\r\n**Secondly**,\r\nwhat&#39;s the difference between these two ways for initializing:\r\n\r\n``` List&lt;String&gt; list = new ArrayList&lt;String&gt;(); ```\r\n\r\n``` ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(); ```\r\n\r\nOr:\r\n\r\n\r\n``` Set&lt;String&gt; list = new HashSet&lt;String&gt;(); ```\r\n\r\n``` HashSet&lt;String&gt; list = new HashSet&lt;String&gt;(); ```\r\n\r\nOr:\r\n\r\n\r\n``` Map&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;(); ```\r\n\r\n``` HashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;(); ```\r\n\r\nP.S. When I&#39;m asking what&#39;s the difference, I mean how will it affect my liberty to use certain methods on the collection or shift the data that is stored in it.\r\n\r\nThanks!!","title":"Initializing HashMap and ArrayList by the interface they implement","body":"<p>So my Java tutor at school just started to teach us about Containers and there's this little concept I don't understand about initialization.</p>\n<p><strong>Firstly</strong>,\nwith ArrayList, what's the difference between these two ways for initializing:</p>\n<p><code>ArrayList list = new ArrayList();</code></p>\n<p><code>ArrayList&lt;Car&gt; list = new ArrayList&lt;Car&gt;();</code></p>\n<p><strong>Secondly</strong>,\nwhat's the difference between these two ways for initializing:</p>\n<p><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code></p>\n<p><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</code></p>\n<p>Or:</p>\n<p><code>Set&lt;String&gt; list = new HashSet&lt;String&gt;();</code></p>\n<p><code>HashSet&lt;String&gt; list = new HashSet&lt;String&gt;();</code></p>\n<p>Or:</p>\n<p><code>Map&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();</code></p>\n<p><code>HashMap&lt;Integer, String&gt; list = new HashMap&lt;Integer, String&gt;();</code></p>\n<p>P.S. When I'm asking what's the difference, I mean how will it affect my liberty to use certain methods on the collection or shift the data that is stored in it.</p>\n<p>Thanks!!</p>\n"},{"tags":["java","filesystems"],"answers":[{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1330148522,"creation_date":1330145274,"answer_id":9441330,"question_id":9441258,"body_markdown":"N.B. This is only valid for Java running on Windows system:\r\n\r\nUsing JNA, you can call Win32 Kernel32&#39;s **GetVolumeInformation()** to retrieve *lpFileSystemNameBuffer* parameter which ` receives the name of the file system, for example, the FAT file system or the NTFS file system` http://msdn.microsoft.com/en-us/library/windows/desktop/aa364993(v=vs.85).aspx\r\n\r\n**Kernel32.java**:\r\n\r\n    package filesystem;\r\n    \r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.WinDef.DWORD;\r\n    import com.sun.jna.ptr.IntByReference;\r\n    import com.sun.jna.win32.StdCallLibrary;\r\n    import com.sun.jna.win32.W32APIFunctionMapper;\r\n    import com.sun.jna.win32.W32APITypeMapper;\r\n    \r\n    public interface Kernel32 extends StdCallLibrary {\r\n    \r\n    \tfinal static Map&lt;String, Object&gt; WIN32API_OPTIONS = new HashMap&lt;String, Object&gt;() {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t{\r\n    \t\t\tput(Library.OPTION_FUNCTION_MAPPER, W32APIFunctionMapper.UNICODE);\r\n    \t\t\tput(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic Kernel32 INSTANCE = (Kernel32) Native.loadLibrary(&quot;Kernel32&quot;, Kernel32.class, WIN32API_OPTIONS);\r\n    \r\n    \t/*\r\n    \tBOOL WINAPI GetVolumeInformation(\r\n      \t\t\t__in_opt   LPCTSTR lpRootPathName,\r\n      \t\t\t__out      LPTSTR lpVolumeNameBuffer,\r\n      \t\t\t__in       DWORD nVolumeNameSize,\r\n      \t\t\t__out_opt  LPDWORD lpVolumeSerialNumber,\r\n      \t\t\t__out_opt  LPDWORD lpMaximumComponentLength,\r\n      \t\t\t__out_opt  LPDWORD lpFileSystemFlags,\r\n      \t\t\t__out      LPTSTR lpFileSystemNameBuffer,\r\n      \t\t\t__in       DWORD nFileSystemNameSize\r\n    \t\t\t);\r\n    \t */\r\n    \tpublic boolean GetVolumeInformation(\r\n      \t\t\tString lpRootPathName,\r\n      \t\t\tchar[] lpVolumeNameBuffer,\r\n      \t\t\tDWORD nVolumeNameSize,\r\n      \t\t\tIntByReference lpVolumeSerialNumber,\r\n      \t\t\tIntByReference lpMaximumComponentLength,\r\n      \t\t\tIntByReference lpFileSystemFlags,\r\n      \t\t\tchar[] lpFileSystemNameBuffer,\r\n      \t\t\tDWORD nFileSystemNameSize\r\n    \t\t\t);\r\n    \r\n    \tpublic int GetLastError();\r\n    }\r\n\r\n**VolumeInformation.java**:\r\n\r\n\r\n    package filesystem;\r\n    \r\n    import ping.Kernel32;\r\n    \r\n    import com.sun.jna.platform.win32.WinDef.DWORD;\r\n    import com.sun.jna.ptr.IntByReference;\r\n    \r\n    public class VolumeInformation {\r\n    \r\n    \tstatic void getFileSystemName(){\r\n    \t\tchar[] lpVolumeNameBuffer = new char[256];\r\n    \t\tDWORD nVolumeNameSize = new DWORD(256);\r\n    \t\tIntByReference lpVolumeSerialNumber = new IntByReference();\r\n    \t\tIntByReference lpMaximumComponentLength = new IntByReference();\r\n    \t\tIntByReference lpFileSystemFlags = new IntByReference();\r\n    \r\n            char[] lpFileSystemNameBuffer = new char[256];\r\n    \t\tDWORD nFileSystemNameSize = new DWORD(256);\r\n    \t\t\r\n    \t\tlpVolumeSerialNumber.setValue(0);\r\n    \t\tlpMaximumComponentLength.setValue(256);\r\n    \t\tlpFileSystemFlags.setValue(0);\r\n    \t\t\r\n    \t\tKernel32.INSTANCE.GetVolumeInformation(\r\n    \t\t\t\t&quot;C:\\\\&quot;, \r\n    \t\t\t\tlpVolumeNameBuffer, \r\n    \t\t\t\tnVolumeNameSize, \r\n    \t\t\t\tlpVolumeSerialNumber, \r\n    \t\t\t\tlpMaximumComponentLength, \r\n    \t\t\t\tlpFileSystemFlags, \r\n    \t\t\t\tlpFileSystemNameBuffer, \r\n    \t\t\t\tnFileSystemNameSize);\r\n    \r\n    \t\tSystem.out.println(&quot;Last error: &quot;+Kernel32.INSTANCE.GetLastError()+&quot;\\n\\n&quot;);\r\n    \t\t\r\n    \t\tString fs = new String(lpFileSystemNameBuffer);\r\n    \t\tSystem.out.println(fs.trim());\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tgetFileSystemName();\r\n    \t}\r\n    \r\n    }\r\n","title":"identify file system format of a disk type in java like ntfs, fat16/32 or ext","body":"<p>N.B. This is only valid for Java running on Windows system:</p>\n\n<p>Using JNA, you can call Win32 Kernel32's <strong>GetVolumeInformation()</strong> to retrieve <em>lpFileSystemNameBuffer</em> parameter which <code>receives the name of the file system, for example, the FAT file system or the NTFS file system</code> <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/aa364993(v=vs.85).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/windows/desktop/aa364993(v=vs.85).aspx</a></p>\n\n<p><strong>Kernel32.java</strong>:</p>\n\n<pre><code>package filesystem;\n\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.DWORD;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.win32.StdCallLibrary;\nimport com.sun.jna.win32.W32APIFunctionMapper;\nimport com.sun.jna.win32.W32APITypeMapper;\n\npublic interface Kernel32 extends StdCallLibrary {\n\n    final static Map&lt;String, Object&gt; WIN32API_OPTIONS = new HashMap&lt;String, Object&gt;() {\n\n        private static final long serialVersionUID = 1L;\n\n        {\n            put(Library.OPTION_FUNCTION_MAPPER, W32APIFunctionMapper.UNICODE);\n            put(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\n        }\n    };\n\n    public Kernel32 INSTANCE = (Kernel32) Native.loadLibrary(\"Kernel32\", Kernel32.class, WIN32API_OPTIONS);\n\n    /*\n    BOOL WINAPI GetVolumeInformation(\n            __in_opt   LPCTSTR lpRootPathName,\n            __out      LPTSTR lpVolumeNameBuffer,\n            __in       DWORD nVolumeNameSize,\n            __out_opt  LPDWORD lpVolumeSerialNumber,\n            __out_opt  LPDWORD lpMaximumComponentLength,\n            __out_opt  LPDWORD lpFileSystemFlags,\n            __out      LPTSTR lpFileSystemNameBuffer,\n            __in       DWORD nFileSystemNameSize\n            );\n     */\n    public boolean GetVolumeInformation(\n            String lpRootPathName,\n            char[] lpVolumeNameBuffer,\n            DWORD nVolumeNameSize,\n            IntByReference lpVolumeSerialNumber,\n            IntByReference lpMaximumComponentLength,\n            IntByReference lpFileSystemFlags,\n            char[] lpFileSystemNameBuffer,\n            DWORD nFileSystemNameSize\n            );\n\n    public int GetLastError();\n}\n</code></pre>\n\n<p><strong>VolumeInformation.java</strong>:</p>\n\n<pre><code>package filesystem;\n\nimport ping.Kernel32;\n\nimport com.sun.jna.platform.win32.WinDef.DWORD;\nimport com.sun.jna.ptr.IntByReference;\n\npublic class VolumeInformation {\n\n    static void getFileSystemName(){\n        char[] lpVolumeNameBuffer = new char[256];\n        DWORD nVolumeNameSize = new DWORD(256);\n        IntByReference lpVolumeSerialNumber = new IntByReference();\n        IntByReference lpMaximumComponentLength = new IntByReference();\n        IntByReference lpFileSystemFlags = new IntByReference();\n\n        char[] lpFileSystemNameBuffer = new char[256];\n        DWORD nFileSystemNameSize = new DWORD(256);\n\n        lpVolumeSerialNumber.setValue(0);\n        lpMaximumComponentLength.setValue(256);\n        lpFileSystemFlags.setValue(0);\n\n        Kernel32.INSTANCE.GetVolumeInformation(\n                \"C:\\\\\", \n                lpVolumeNameBuffer, \n                nVolumeNameSize, \n                lpVolumeSerialNumber, \n                lpMaximumComponentLength, \n                lpFileSystemFlags, \n                lpFileSystemNameBuffer, \n                nFileSystemNameSize);\n\n        System.out.println(\"Last error: \"+Kernel32.INSTANCE.GetLastError()+\"\\n\\n\");\n\n        String fs = new String(lpFileSystemNameBuffer);\n        System.out.println(fs.trim());\n\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        getFileSystemName();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1276584,"reputation":519,"user_id":1231715,"accept_rate":80,"display_name":"Matthew Lancaster"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1330146218,"creation_date":1330146218,"answer_id":9441419,"question_id":9441258,"body_markdown":"What version of Java are you using?\r\n\r\nIf Java 7 - Check out this API - http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystems.html\r\n\r\nOutside of that I know System.getProperty and Runtime have methods to grab information on the disk being used but nothing that specifically calls out the File System type (NTFS, FAT32, etc.)","title":"identify file system format of a disk type in java like ntfs, fat16/32 or ext","body":"<p>What version of Java are you using?</p>\n\n<p>If Java 7 - Check out this API - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystems.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystems.html</a></p>\n\n<p>Outside of that I know System.getProperty and Runtime have methods to grab information on the disk being used but nothing that specifically calls out the File System type (NTFS, FAT32, etc.)</p>\n"}],"owner":{"account_id":1128543,"reputation":341,"user_id":1115185,"accept_rate":75,"display_name":"Rak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6015,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9441330,"answer_count":2,"score":5,"last_activity_date":1638907096,"creation_date":1330144270,"question_id":9441258,"body_markdown":"Is there any way to find out the file system format of a disk in java?\r\n\r\nFor example for a windows hard drive it could be NTFS, for zip drives it is FAT32.","title":"identify file system format of a disk type in java like ntfs, fat16/32 or ext","body":"<p>Is there any way to find out the file system format of a disk in java?</p>\n\n<p>For example for a windows hard drive it could be NTFS, for zip drives it is FAT32.</p>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638904592,"post_id":70265741,"comment_id":124210485,"body_markdown":"Which line, in method `paint` of class `GameState`, is throwing `NullPointerException`? In other words which line is line 62 in file `GameState.java`?","body":"Which line, in method <code>paint</code> of class <code>GameState</code>, is throwing <code>NullPointerException</code>? In other words which line is line 62 in file <code>GameState.java</code>?"},{"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"score":0,"creation_date":1638904774,"post_id":70265741,"comment_id":124210547,"body_markdown":"gui.paint(g); right after the println","body":"gui.paint(g); right after the println"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638905569,"post_id":70265741,"comment_id":124210828,"body_markdown":"Are you sure that class member `GUI`, in class `GameState`, needs to be _static_? When you create an array, all the elements are null. It looks like you are creating an array but not setting a value for every element. And I strongly suggest that you adopt [java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) because I think that will make your code easier for others to read and understand.","body":"Are you sure that class member <code>GUI</code>, in class <code>GameState</code>, needs to be <i>static</i>? When you create an array, all the elements are null. It looks like you are creating an array but not setting a value for every element. And I strongly suggest that you adopt <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming conventions</a> because I think that will make your code easier for others to read and understand."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638906510,"creation_date":1638905659,"answer_id":70265987,"question_id":70265741,"body_markdown":"To me it seems that you are using a static GameState.GUI array for you GUI elements (please correct me if I am wrong).\r\n\r\nAnd elsewhere in code you are accessing this static GUI array sequentially. It seems that sometimes it happens that other code will change the contents of this static GUI array (code like this might be the culprit `GUI=new GUI[1];`), while other code is just about to start looping trough that array. You have to change you code so that this won&#39;t happen. You could synchronize the methods that are accessing this static GUI array (but that will block other methods and make them wait, which might or might not be okay for your use case).\r\n\r\nIf you identify that this is indeed the cause of the problem (it might not be), and you want to avoid using synchronized methods, you have some other options. You could look into how double buffering works. Using 2 arrays, always reading from the primary one and always modifying the secondary one, and just swapping between them.\r\n\r\nOr, if you want to keep your current code, you could change these patterns:\r\n\r\n```\r\nGUI=new GUI[4];\r\nGUI[0]=new GUITitle();\r\nGUI[1]=new GUIButtonSinglePlayer();\r\nGUI[2]=new GUIButtonMultiPlayer();\r\nGUI[3]=new GUIButtonExit();\r\n```\r\nwith this pattern everywhere in code where you use `GUI=new GUI[...];`:\r\n```\r\nGUI[] newGui=new GUI[4];\r\nnewGui[0]=new GUITitle();\r\nnewGui[1]=new GUIButtonSinglePlayer();\r\nnewGui[2]=new GUIButtonMultiPlayer();\r\nnewGui[3]=new GUIButtonExit();\r\nGUI=newGui\r\n```\r\nThis might be enough to avoid the problem.","title":"GUI Elements of Array Null After Button Click","body":"<p>To me it seems that you are using a static GameState.GUI array for you GUI elements (please correct me if I am wrong).</p>\n<p>And elsewhere in code you are accessing this static GUI array sequentially. It seems that sometimes it happens that other code will change the contents of this static GUI array (code like this might be the culprit <code>GUI=new GUI[1];</code>), while other code is just about to start looping trough that array. You have to change you code so that this won't happen. You could synchronize the methods that are accessing this static GUI array (but that will block other methods and make them wait, which might or might not be okay for your use case).</p>\n<p>If you identify that this is indeed the cause of the problem (it might not be), and you want to avoid using synchronized methods, you have some other options. You could look into how double buffering works. Using 2 arrays, always reading from the primary one and always modifying the secondary one, and just swapping between them.</p>\n<p>Or, if you want to keep your current code, you could change these patterns:</p>\n<pre><code>GUI=new GUI[4];\nGUI[0]=new GUITitle();\nGUI[1]=new GUIButtonSinglePlayer();\nGUI[2]=new GUIButtonMultiPlayer();\nGUI[3]=new GUIButtonExit();\n</code></pre>\n<p>with this pattern everywhere in code where you use <code>GUI=new GUI[...];</code>:</p>\n<pre><code>GUI[] newGui=new GUI[4];\nnewGui[0]=new GUITitle();\nnewGui[1]=new GUIButtonSinglePlayer();\nnewGui[2]=new GUIButtonMultiPlayer();\nnewGui[3]=new GUIButtonExit();\nGUI=newGui\n</code></pre>\n<p>This might be enough to avoid the problem.</p>\n"}],"owner":{"account_id":23466630,"reputation":51,"user_id":17520713,"display_name":"Mike Fitzgibbon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70265987,"answer_count":1,"score":0,"last_activity_date":1638906510,"creation_date":1638904303,"question_id":70265741,"body_markdown":"I believe the problem is somewhere in between a tick of my GameEngine. In other words, I think in one in-game buffer I believe the GUI elements are going null for some reason. Here is my code:\r\nGameEngine class:\r\n```\r\npackage pong;\r\n\r\nimport static pong.Main.window;\r\n\r\npublic class GameEngine{\r\n    static GameState gameState;\r\n    private long timeElapsed;\r\n    \r\n    public GameEngine(){\r\n        gameState=new GameState(0);//0 is for the menu\r\n    }\r\n    \r\n    public void run(){\r\n        long beginTime=System.nanoTime();\r\n        //33 million is 30 fps\r\n        if(timeElapsed&gt;=33333333){\r\n            gameState.buffer();\r\n            timeElapsed-=33333333;\r\n        }\r\n        window.getPanel().repaint();\r\n        \r\n        timeElapsed+=System.nanoTime()-beginTime;\r\n    }\r\n    \r\n    public long getTimeElapsed(){\r\n        return timeElapsed;\r\n    }\r\n}\r\n```\r\nGUIButton Class:\r\n```\r\npackage pong;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport static pong.Panel.mouseClicked;\r\nimport static pong.Panel.mouseX;\r\nimport static pong.Panel.mouseY;\r\n\r\npublic abstract class GUIButton extends GUI{\r\n    private boolean mouseOverButton,readyForButtonAction;\r\n    @Override\r\n    public void paint(Graphics2D g) {\r\n        g.setColor(Color.white);\r\n        if(mouseOverButton){\r\n            g.fillRect(x-5,y-5,110,40);\r\n            g.setColor(Color.black);\r\n            g.fillRect(x, y, 100, 30);\r\n        }\r\n        else{\r\n            g.fillRect(x,y,100,30);\r\n            g.setColor(Color.black);\r\n            g.fillRect(x+5, y+5, 90, 20);\r\n        }\r\n    }\r\n    \r\n    @Override \r\n    public void buffer(){\r\n        mouseOverButton=mouseX-8&gt;x&amp;&amp;mouseX-8&lt;x+100&amp;&amp;\r\n            mouseY-32&gt;y&amp;&amp;mouseY-32&lt;y+30;\r\n        if(mouseOverButton&amp;&amp;mouseClicked)\r\n            readyForButtonAction=true;\r\n    }\r\n    \r\n    public void buttonAction(){\r\n        readyForButtonAction=false;\r\n        mouseClicked=false;\r\n    }\r\n    \r\n    public boolean buttonActionIsReady(){\r\n        return readyForButtonAction;\r\n    }\r\n}\r\n```\r\nGUIButtonMultiplayer (The button that transfers you to the title GUI to the multiplayer options GUI)\r\n```\r\npackage pong;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics2D;\r\nimport static pong.GameState.GUI;\r\n\r\npublic class GUIButtonMultiPlayer extends GUIButton{\r\n\r\n    public GUIButtonMultiPlayer(){\r\n        x=300;\r\n        y=300;\r\n    }\r\n    \r\n    @Override\r\n    public void paint(Graphics2D g) {\r\n        super.paint(g);\r\n        g.setColor(Color.white);\r\n        g.setFont(new Font(&quot;Serif&quot;,Font.BOLD,12));\r\n        g.drawString(&quot;Multiplayer&quot;,x+10,y+20);\r\n    }\r\n    @Override\r\n    public void buttonAction() {\r\n        super.buttonAction();\r\n        GUI=new GUI[4];\r\n        GUI[0]=new GUIButtonLocal();\r\n        GUI[1]=new GUIButtonJoin();\r\n        GUI[2]=new GUIButtonHost();\r\n        GUI[3]=new GUIButtonBackMultiPlayer();\r\n    }\r\n}\r\n```\r\nPanel class (contains mouseClicked variable)\r\n```\r\npackage pong;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport javax.swing.JPanel;\r\nimport static pong.GameEngine.gameState;\r\n\r\npublic class Panel extends JPanel implements KeyListener,MouseListener,MouseMotionListener{\r\n    static int mouseX,mouseY;\r\n    static boolean mouseDown,mouseClicked;\r\n    private boolean keyDown[];\r\n    \r\n    public Panel(){\r\n        keyDown=new boolean[4];\r\n    }\r\n    \r\n    @Override\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        gameState.paint((Graphics2D)g);\r\n    }\r\n\r\n    public boolean getKeyDown(int index){\r\n        return keyDown[index];\r\n    }\r\n    \r\n    @Override\r\n    public void keyTyped(KeyEvent ke) {}\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent ke) {\r\n        switch(ke.getKeyCode()){\r\n            case KeyEvent.VK_DOWN:\r\n                keyDown[0]=true;\r\n                break;\r\n            case KeyEvent.VK_UP:\r\n                keyDown[1]=true;\r\n                break;\r\n            case KeyEvent.VK_W:\r\n                keyDown[2]=true;\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                keyDown[3]=true;\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent ke) {\r\n        switch(ke.getKeyCode()){\r\n            case KeyEvent.VK_DOWN:\r\n                keyDown[0]=false;\r\n                break;\r\n            case KeyEvent.VK_UP:\r\n                keyDown[1]=false;\r\n                break;\r\n            case KeyEvent.VK_W:\r\n                keyDown[2]=false;\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                keyDown[3]=false;\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent me) {\r\n        mouseClicked=true;\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent me) {\r\n        mouseDown=true;\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent me) {\r\n        mouseDown=false;\r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent me) {}\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent me) {}\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent me) {}\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent me) {\r\n        mouseX=me.getX();\r\n        mouseY=me.getY();\r\n    }\r\n}\r\n```\r\nGameState class (implementation)\r\n```\r\npackage pong;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics2D;\r\nimport static pong.Panel.mouseClicked;\r\n\r\npublic class GameState{\r\n    static GUI GUI[];\r\n    private int ID;\r\n    private Ball ball;\r\n    private Paddle paddles[];\r\n    \r\n    public GameState(int id){\r\n        ID=id;\r\n        switch(ID){\r\n            case 0://title screen\r\n                GUI=new GUI[4];\r\n                GUI[0]=new GUITitle();\r\n                GUI[1]=new GUIButtonSinglePlayer();\r\n                GUI[2]=new GUIButtonMultiPlayer();\r\n                GUI[3]=new GUIButtonExit();\r\n                break;\r\n            case 1://single player\r\n                paddles=new Paddle[2];\r\n                //true indicates that it is a left paddle\r\n                paddles[0]=new PaddlePlayer(true);\r\n                paddles[1]=new PaddleCPU();\r\n                GUI=new GUI[1];\r\n                GUI[0]=new GUIScores();\r\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\r\n                ((PaddleCPU)paddles[1]).setBall(ball);\r\n                break;\r\n            case 2://local multiplayer\r\n                paddles=new Paddle[2];\r\n                //true indicates that it is a left paddle\r\n                paddles[0]=new PaddlePlayer(true);\r\n                paddles[1]=new PaddlePlayer(false);\r\n                GUI=new GUI[1];\r\n                GUI[0]=new GUIScores();\r\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\r\n                break;\r\n            case 3://host multiplayer\r\n                \r\n                paddles=new Paddle[2];\r\n                paddles[0]=new PaddleMultiplayer();\r\n                paddles[1]=new PaddleMultiplayer();\r\n                GUI=new GUI[1];\r\n                GUI[0]=new GUIScores();\r\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\r\n                break;\r\n        }\r\n    }\r\n    \r\n    public void paint(Graphics2D g){\r\n        g.setColor(Color.black);\r\n        g.fillRect(0,0,800,600);\r\n        switch(ID){\r\n            case 0://title screen\r\n                    System.out.println();\r\n                for(GUI gui:GUI){\r\n                        System.out.println(gui==null);\r\n                    gui.paint(g);\r\n                }\r\n                break;\r\n            case 1:case 2:case 3://single player and multiplayer\r\n                g.setColor(Color.white);\r\n                for(int a=10;a&lt;600;a+=20)\r\n                    g.fillRect(380, a, 10, 10);\r\n                ball.paint(g);\r\n                for(Paddle paddle:paddles)\r\n                    paddle.paint(g);\r\n                GUI[0].paint(g);\r\n                break;\r\n        }\r\n    }\r\n    \r\n    public void buffer(){\r\n        switch(ID){\r\n            case 0://title screen   \r\n                for(GUI gui:GUI)\r\n                    if(gui instanceof GUIButton &amp;&amp; ((GUIButton)gui).buttonActionIsReady()){\r\n                        ((GUIButton)gui).buttonAction();\r\n                        break;\r\n                    }\r\n                    else gui.buffer();\r\n                break;\r\n            case 1:case 2:case 3://single player and multiplayer\r\n                ball.buffer();\r\n                for(Paddle paddle:paddles)\r\n                    paddle.buffer();\r\n                break;\r\n        }\r\n        mouseClicked=false;\r\n    }\r\n    \r\n    public int getID(){\r\n        return ID;\r\n    }\r\n}\r\n```\r\nThis code generates a NullPointerException when the GUI is painted. If I comment out the line\r\n```\r\ngui.paint(g);\r\n```\r\nthen it just creates a NullPointerException where the GUI is buffered instead. Here is a snippet of the output:\r\n```\r\nfalse\r\ntrue\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\tat pong.GameState.paint(GameState.java:62)\r\n\tat pong.Panel.paintComponent(Panel.java:25)\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\tat javax.swing.JComponent.paint(JComponent.java:1056)\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\r\nfalse\r\nfalse\r\nfalse\r\nfalse\r\n\tat javax.swing.JComponent.paintToOffscreen(JComponent.java:5210)\r\n\tat javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1579)\r\n\tat javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1502)\r\n\tat javax.swing.RepaintManager.paint(RepaintManager.java:1272)\r\n\tat javax.swing.JComponent._paintImmediately(JComponent.java:5158)\r\n\r\nfalse\r\nfalse\r\nfalse\r\n\tat javax.swing.JComponent.paintImmediately(JComponent.java:4969)\r\nfalse\r\n\tat javax.swing.RepaintManager$4.run(RepaintManager.java:831)\r\n\tat javax.swing.RepaintManager$4.run(RepaintManager.java:814)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:814)\r\n\tat javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:789)\r\n\tat javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:738)\r\n\tat javax.swing.RepaintManager.access$1200(RepaintManager.java:64)\r\n```\r\nWhich GUI element shows up as null seems to be random.","title":"GUI Elements of Array Null After Button Click","body":"<p>I believe the problem is somewhere in between a tick of my GameEngine. In other words, I think in one in-game buffer I believe the GUI elements are going null for some reason. Here is my code:\nGameEngine class:</p>\n<pre><code>package pong;\n\nimport static pong.Main.window;\n\npublic class GameEngine{\n    static GameState gameState;\n    private long timeElapsed;\n    \n    public GameEngine(){\n        gameState=new GameState(0);//0 is for the menu\n    }\n    \n    public void run(){\n        long beginTime=System.nanoTime();\n        //33 million is 30 fps\n        if(timeElapsed&gt;=33333333){\n            gameState.buffer();\n            timeElapsed-=33333333;\n        }\n        window.getPanel().repaint();\n        \n        timeElapsed+=System.nanoTime()-beginTime;\n    }\n    \n    public long getTimeElapsed(){\n        return timeElapsed;\n    }\n}\n</code></pre>\n<p>GUIButton Class:</p>\n<pre><code>package pong;\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport static pong.Panel.mouseClicked;\nimport static pong.Panel.mouseX;\nimport static pong.Panel.mouseY;\n\npublic abstract class GUIButton extends GUI{\n    private boolean mouseOverButton,readyForButtonAction;\n    @Override\n    public void paint(Graphics2D g) {\n        g.setColor(Color.white);\n        if(mouseOverButton){\n            g.fillRect(x-5,y-5,110,40);\n            g.setColor(Color.black);\n            g.fillRect(x, y, 100, 30);\n        }\n        else{\n            g.fillRect(x,y,100,30);\n            g.setColor(Color.black);\n            g.fillRect(x+5, y+5, 90, 20);\n        }\n    }\n    \n    @Override \n    public void buffer(){\n        mouseOverButton=mouseX-8&gt;x&amp;&amp;mouseX-8&lt;x+100&amp;&amp;\n            mouseY-32&gt;y&amp;&amp;mouseY-32&lt;y+30;\n        if(mouseOverButton&amp;&amp;mouseClicked)\n            readyForButtonAction=true;\n    }\n    \n    public void buttonAction(){\n        readyForButtonAction=false;\n        mouseClicked=false;\n    }\n    \n    public boolean buttonActionIsReady(){\n        return readyForButtonAction;\n    }\n}\n</code></pre>\n<p>GUIButtonMultiplayer (The button that transfers you to the title GUI to the multiplayer options GUI)</p>\n<pre><code>package pong;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics2D;\nimport static pong.GameState.GUI;\n\npublic class GUIButtonMultiPlayer extends GUIButton{\n\n    public GUIButtonMultiPlayer(){\n        x=300;\n        y=300;\n    }\n    \n    @Override\n    public void paint(Graphics2D g) {\n        super.paint(g);\n        g.setColor(Color.white);\n        g.setFont(new Font(&quot;Serif&quot;,Font.BOLD,12));\n        g.drawString(&quot;Multiplayer&quot;,x+10,y+20);\n    }\n    @Override\n    public void buttonAction() {\n        super.buttonAction();\n        GUI=new GUI[4];\n        GUI[0]=new GUIButtonLocal();\n        GUI[1]=new GUIButtonJoin();\n        GUI[2]=new GUIButtonHost();\n        GUI[3]=new GUIButtonBackMultiPlayer();\n    }\n}\n</code></pre>\n<p>Panel class (contains mouseClicked variable)</p>\n<pre><code>package pong;\n\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport javax.swing.JPanel;\nimport static pong.GameEngine.gameState;\n\npublic class Panel extends JPanel implements KeyListener,MouseListener,MouseMotionListener{\n    static int mouseX,mouseY;\n    static boolean mouseDown,mouseClicked;\n    private boolean keyDown[];\n    \n    public Panel(){\n        keyDown=new boolean[4];\n    }\n    \n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        gameState.paint((Graphics2D)g);\n    }\n\n    public boolean getKeyDown(int index){\n        return keyDown[index];\n    }\n    \n    @Override\n    public void keyTyped(KeyEvent ke) {}\n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n        switch(ke.getKeyCode()){\n            case KeyEvent.VK_DOWN:\n                keyDown[0]=true;\n                break;\n            case KeyEvent.VK_UP:\n                keyDown[1]=true;\n                break;\n            case KeyEvent.VK_W:\n                keyDown[2]=true;\n                break;\n            case KeyEvent.VK_S:\n                keyDown[3]=true;\n                break;\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n        switch(ke.getKeyCode()){\n            case KeyEvent.VK_DOWN:\n                keyDown[0]=false;\n                break;\n            case KeyEvent.VK_UP:\n                keyDown[1]=false;\n                break;\n            case KeyEvent.VK_W:\n                keyDown[2]=false;\n                break;\n            case KeyEvent.VK_S:\n                keyDown[3]=false;\n                break;\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent me) {\n        mouseClicked=true;\n    }\n\n    @Override\n    public void mousePressed(MouseEvent me) {\n        mouseDown=true;\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent me) {\n        mouseDown=false;\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent me) {}\n\n    @Override\n    public void mouseExited(MouseEvent me) {}\n\n    @Override\n    public void mouseDragged(MouseEvent me) {}\n\n    @Override\n    public void mouseMoved(MouseEvent me) {\n        mouseX=me.getX();\n        mouseY=me.getY();\n    }\n}\n</code></pre>\n<p>GameState class (implementation)</p>\n<pre><code>package pong;\n\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport static pong.Panel.mouseClicked;\n\npublic class GameState{\n    static GUI GUI[];\n    private int ID;\n    private Ball ball;\n    private Paddle paddles[];\n    \n    public GameState(int id){\n        ID=id;\n        switch(ID){\n            case 0://title screen\n                GUI=new GUI[4];\n                GUI[0]=new GUITitle();\n                GUI[1]=new GUIButtonSinglePlayer();\n                GUI[2]=new GUIButtonMultiPlayer();\n                GUI[3]=new GUIButtonExit();\n                break;\n            case 1://single player\n                paddles=new Paddle[2];\n                //true indicates that it is a left paddle\n                paddles[0]=new PaddlePlayer(true);\n                paddles[1]=new PaddleCPU();\n                GUI=new GUI[1];\n                GUI[0]=new GUIScores();\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\n                ((PaddleCPU)paddles[1]).setBall(ball);\n                break;\n            case 2://local multiplayer\n                paddles=new Paddle[2];\n                //true indicates that it is a left paddle\n                paddles[0]=new PaddlePlayer(true);\n                paddles[1]=new PaddlePlayer(false);\n                GUI=new GUI[1];\n                GUI[0]=new GUIScores();\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\n                break;\n            case 3://host multiplayer\n                \n                paddles=new Paddle[2];\n                paddles[0]=new PaddleMultiplayer();\n                paddles[1]=new PaddleMultiplayer();\n                GUI=new GUI[1];\n                GUI[0]=new GUIScores();\n                ball=new Ball(paddles,(GUIScores)GUI[0]);\n                break;\n        }\n    }\n    \n    public void paint(Graphics2D g){\n        g.setColor(Color.black);\n        g.fillRect(0,0,800,600);\n        switch(ID){\n            case 0://title screen\n                    System.out.println();\n                for(GUI gui:GUI){\n                        System.out.println(gui==null);\n                    gui.paint(g);\n                }\n                break;\n            case 1:case 2:case 3://single player and multiplayer\n                g.setColor(Color.white);\n                for(int a=10;a&lt;600;a+=20)\n                    g.fillRect(380, a, 10, 10);\n                ball.paint(g);\n                for(Paddle paddle:paddles)\n                    paddle.paint(g);\n                GUI[0].paint(g);\n                break;\n        }\n    }\n    \n    public void buffer(){\n        switch(ID){\n            case 0://title screen   \n                for(GUI gui:GUI)\n                    if(gui instanceof GUIButton &amp;&amp; ((GUIButton)gui).buttonActionIsReady()){\n                        ((GUIButton)gui).buttonAction();\n                        break;\n                    }\n                    else gui.buffer();\n                break;\n            case 1:case 2:case 3://single player and multiplayer\n                ball.buffer();\n                for(Paddle paddle:paddles)\n                    paddle.buffer();\n                break;\n        }\n        mouseClicked=false;\n    }\n    \n    public int getID(){\n        return ID;\n    }\n}\n</code></pre>\n<p>This code generates a NullPointerException when the GUI is painted. If I comment out the line</p>\n<pre><code>gui.paint(g);\n</code></pre>\n<p>then it just creates a NullPointerException where the GUI is buffered instead. Here is a snippet of the output:</p>\n<pre><code>false\ntrue\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\n\nfalse\nfalse\nfalse\nfalse\n    at pong.GameState.paint(GameState.java:62)\n    at pong.Panel.paintComponent(Panel.java:25)\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n    at javax.swing.JComponent.paint(JComponent.java:1056)\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n\nfalse\nfalse\nfalse\nfalse\n    at javax.swing.JComponent.paintToOffscreen(JComponent.java:5210)\n    at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1579)\n    at javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1502)\n    at javax.swing.RepaintManager.paint(RepaintManager.java:1272)\n    at javax.swing.JComponent._paintImmediately(JComponent.java:5158)\n\nfalse\nfalse\nfalse\n    at javax.swing.JComponent.paintImmediately(JComponent.java:4969)\nfalse\n    at javax.swing.RepaintManager$4.run(RepaintManager.java:831)\n    at javax.swing.RepaintManager$4.run(RepaintManager.java:814)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:814)\n    at javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:789)\n    at javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:738)\n    at javax.swing.RepaintManager.access$1200(RepaintManager.java:64)\n</code></pre>\n<p>Which GUI element shows up as null seems to be random.</p>\n"},{"tags":["java","android","mapbox","mapbox-android"],"comments":[{"owner":{"account_id":4640755,"reputation":11089,"user_id":3935035,"accept_rate":86,"display_name":"four-eyes"},"score":0,"creation_date":1629961861,"post_id":64713849,"comment_id":121826520,"body_markdown":"Did you find any solution to this?","body":"Did you find any solution to this?"}],"answers":[{"tags":[],"owner":{"account_id":14274600,"reputation":1750,"user_id":10311158,"display_name":"Moritz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1628290604,"creation_date":1604672230,"answer_id":64716262,"question_id":64713849,"body_markdown":"Where exactly did you add the repository? This is supposed to be in the module level build.gradle under allprojects&gt;repositories:\r\n\r\n\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://mapbox.bintray.com/mapbox&#39; }\r\n            \r\n        }\r\n    }\r\n\r\nIf you are starting your development with Mapbox, I would recommend to start with the recent version of the Navigation SDK, as the move to 1.0+ will make breaking changes to the application you are building with the tutorial.\r\n\r\nI would recommend following this example:\r\nhttps://docs.mapbox.com/android/navigation/examples/basic-nav-sdk-only/ \r\n\r\nPlease be aware that the way to add the dependencies has changed with Navigation SDK 1.0+. This is documented here:\r\nhttps://docs.mapbox.com/android/navigation/overview/#install-the-navigation-sdk \r\n","title":"Could not find com.mapbox.navigator:mapbox-navigation-native:7.0.0","body":"<p>Where exactly did you add the repository? This is supposed to be in the module level build.gradle under allprojects&gt;repositories:</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://mapbox.bintray.com/mapbox' }\n        \n    }\n}\n</code></pre>\n<p>If you are starting your development with Mapbox, I would recommend to start with the recent version of the Navigation SDK, as the move to 1.0+ will make breaking changes to the application you are building with the tutorial.</p>\n<p>I would recommend following this example:\n<a href=\"https://docs.mapbox.com/android/navigation/examples/basic-nav-sdk-only/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/navigation/examples/basic-nav-sdk-only/</a></p>\n<p>Please be aware that the way to add the dependencies has changed with Navigation SDK 1.0+. This is documented here:\n<a href=\"https://docs.mapbox.com/android/navigation/overview/#install-the-navigation-sdk\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/navigation/overview/#install-the-navigation-sdk</a></p>\n"},{"tags":[],"owner":{"account_id":18136767,"reputation":11,"user_id":13191214,"display_name":"Leonardo Favale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638906495,"creation_date":1638906495,"answer_id":70266141,"question_id":64713849,"body_markdown":"I had the same problem and solved it by deleting all maven entries that had something to do with bitray like:\r\n\r\n    maven { url  &quot;http://dl.bintray.com/piasy/maven&quot; }\r\n    maven { url &#39;https://mapbox.bintray.com/mapbox&#39; }\r\n\r\nthe next step is to set the mapbox download url to: \r\n\r\n    &#39;https://api.mapbox.com/downloads/v2/releases/maven&#39;\r\n\r\nThen i changed the username to `&#39;mapbox&#39;` like this: \r\n\r\n       maven {\r\n           // url &#39;https://api.mapbox.com/downloads/v1/navigation/android/maven&#39; // old one\r\n            url &#39;https://api.mapbox.com/downloads/v2/releases/maven&#39; // new one\r\n            authentication {\r\n                basic(BasicAuthentication)\r\n            }\r\n            credentials {\r\n                username = &quot;mapbox&quot; // This should always be `mapbox` (not your username).\r\n                password = project.properties[&#39;MAPBOX_DOWNLOADS_TOKEN&#39;] ?: &quot;&quot;\r\n            }\r\n        }\r\n\r\nIf doing this you get error 401 instead of 403 you will have to create a new, secret Mapbox Access Token with the scope `DOWNLAODS:READ`\r\n\r\nI hope it is helpfull for you!\r\n\r\nrefs: https://github.com/mapbox/mapbox-navigation-android/issues/4533#issuecomment-880672321\r\n","title":"Could not find com.mapbox.navigator:mapbox-navigation-native:7.0.0","body":"<p>I had the same problem and solved it by deleting all maven entries that had something to do with bitray like:</p>\n<pre><code>maven { url  &quot;http://dl.bintray.com/piasy/maven&quot; }\nmaven { url 'https://mapbox.bintray.com/mapbox' }\n</code></pre>\n<p>the next step is to set the mapbox download url to:</p>\n<pre><code>'https://api.mapbox.com/downloads/v2/releases/maven'\n</code></pre>\n<p>Then i changed the username to <code>'mapbox'</code> like this:</p>\n<pre><code>   maven {\n       // url 'https://api.mapbox.com/downloads/v1/navigation/android/maven' // old one\n        url 'https://api.mapbox.com/downloads/v2/releases/maven' // new one\n        authentication {\n            basic(BasicAuthentication)\n        }\n        credentials {\n            username = &quot;mapbox&quot; // This should always be `mapbox` (not your username).\n            password = project.properties['MAPBOX_DOWNLOADS_TOKEN'] ?: &quot;&quot;\n        }\n    }\n</code></pre>\n<p>If doing this you get error 401 instead of 403 you will have to create a new, secret Mapbox Access Token with the scope <code>DOWNLAODS:READ</code></p>\n<p>I hope it is helpfull for you!</p>\n<p>refs: <a href=\"https://github.com/mapbox/mapbox-navigation-android/issues/4533#issuecomment-880672321\" rel=\"nofollow noreferrer\">https://github.com/mapbox/mapbox-navigation-android/issues/4533#issuecomment-880672321</a></p>\n"}],"owner":{"account_id":7194577,"reputation":215,"user_id":5493807,"display_name":"Mark van Heerden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4397,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1638906495,"creation_date":1604662318,"question_id":64713849,"body_markdown":"I am currently building an android navigation app and have run into an issue. The full error is:\r\n\r\n&gt; Execution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.mapbox.navigator:mapbox-navigation-native:7.0.0.\r\n    &gt; Searched in the following locations:\r\n       &gt;- https://dl.google.com/dl/android/maven2/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\r\n      &gt; - https://jcenter.bintray.com/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\r\n       &gt;- https://api.mapbox.com/downloads/v2/releases/maven/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\r\n     &gt;Required by:\r\n         &gt;project :app &gt; com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6 &gt; com.mapbox.mapboxsdk:mapbox-android-navigation:0.42.6    \r\n&gt;- Possible solution:\r\n &gt; Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\n I am following this tutorial: https://docs.mapbox.com/help/tutorials/android-navigation-sdk/?size=n_10_n\r\n\r\nIn my app-level build.gradle file, I added this dependency: \r\n`implementation &#39;com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6&#39;`\r\n\r\nAnd in my module-level build.gradle file, under repositories, I added this: \r\n`maven { url &#39;https://mapbox.bintray.com/mapbox&#39; }`\r\n\r\nSo I am really not sure why it is giving me this issue. Could anyone possibly assist?","title":"Could not find com.mapbox.navigator:mapbox-navigation-native:7.0.0","body":"<p>I am currently building an android navigation app and have run into an issue. The full error is:</p>\n<blockquote>\n<p>Execution failed for task ':app:checkDebugAarMetadata'.\nCould not resolve all files for configuration ':app:debugRuntimeClasspath'.\nCould not find com.mapbox.navigator:mapbox-navigation-native:7.0.0.\n&gt; Searched in the following locations:\n&gt;- <a href=\"https://dl.google.com/dl/android/maven2/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom</a>\n&gt; - <a href=\"https://jcenter.bintray.com/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom</a>\n&gt;- <a href=\"https://api.mapbox.com/downloads/v2/releases/maven/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom\" rel=\"nofollow noreferrer\">https://api.mapbox.com/downloads/v2/releases/maven/com/mapbox/navigator/mapbox-navigation-native/7.0.0/mapbox-navigation-native-7.0.0.pom</a>\n&gt;Required by:\n&gt;project :app &gt; com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6 &gt; com.mapbox.mapboxsdk:mapbox-android-navigation:0.42.6</p>\n<ul>\n<li>Possible solution:\nDeclare repository providing the artifact, see the documentation at <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html</a></li>\n</ul>\n</blockquote>\n<p>I am following this tutorial: <a href=\"https://docs.mapbox.com/help/tutorials/android-navigation-sdk/?size=n_10_n\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/help/tutorials/android-navigation-sdk/?size=n_10_n</a></p>\n<p>In my app-level build.gradle file, I added this dependency:\n<code>implementation 'com.mapbox.mapboxsdk:mapbox-android-navigation-ui:0.42.6'</code></p>\n<p>And in my module-level build.gradle file, under repositories, I added this:\n<code>maven { url 'https://mapbox.bintray.com/mapbox' }</code></p>\n<p>So I am really not sure why it is giving me this issue. Could anyone possibly assist?</p>\n"},{"tags":["java","prometheus","grafana","metrics"],"answers":[{"tags":[],"owner":{"account_id":5914448,"reputation":20501,"user_id":4653675,"display_name":"Marcelo &#193;vila de Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638906327,"creation_date":1638906327,"answer_id":70266111,"question_id":70264062,"body_markdown":"Change from &quot;round&quot; to &quot;sum&quot; in the PromQL.","title":"How to add all the values of all nodes into one sum in Prometheus/Grafana?","body":"<p>Change from &quot;round&quot; to &quot;sum&quot; in the PromQL.</p>\n"}],"owner":{"account_id":20045925,"reputation":75,"user_id":14944208,"display_name":"SnejOK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638906327,"creation_date":1638896272,"question_id":70264062,"body_markdown":"I have several nodes in Kubernetes that are sending the metric. My task is to display the total number of metrics from all nodes.\r\nExample:\r\nI have[![enter image description here][1]][1]\r\nIn this case, I expect to get 19.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BuOrE.png\r\n  [2]: https://i.stack.imgur.com/KObbK.png","title":"How to add all the values of all nodes into one sum in Prometheus/Grafana?","body":"<p>I have several nodes in Kubernetes that are sending the metric. My task is to display the total number of metrics from all nodes.\nExample:\nI have<a href=\"https://i.stack.imgur.com/BuOrE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BuOrE.png\" alt=\"enter image description here\" /></a>\nIn this case, I expect to get 19.</p>\n"},{"tags":["java","spring","hibernate","caching"],"comments":[{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1481387949,"post_id":41077718,"comment_id":69361832,"body_markdown":"Probably your Hibernate is not aware that you expect it to be multitenant. Otherwise your cache would work. Did you read this first? https://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch16.html","body":"Probably your Hibernate is not aware that you expect it to be multitenant. Otherwise your cache would work. Did you read this first? <a href=\"https://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch16.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch16.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":5322746,"reputation":1804,"user_id":4245733,"accept_rate":65,"display_name":"Indivon"},"score":0,"creation_date":1481388685,"post_id":41077718,"comment_id":69362059,"body_markdown":"Yes, I know. We were aware of the multi-tenancy support of hibernate, but we had to solve other &quot;problems&quot; (e.g. with liquibase, spring data or elasticsearch...) so we could not use that and have chosen another solution. And a correct cache-name resolver would solve that...","body":"Yes, I know. We were aware of the multi-tenancy support of hibernate, but we had to solve other &quot;problems&quot; (e.g. with liquibase, spring data or elasticsearch...) so we could not use that and have chosen another solution. And a correct cache-name resolver would solve that..."}],"answers":[{"tags":[],"owner":{"account_id":17244140,"reputation":797,"user_id":12485815,"display_name":"francisco neto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638905997,"creation_date":1638905997,"answer_id":70266049,"question_id":41077718,"body_markdown":"In order to intercept the generation of the cache-name one approach is to override the method `getCache(String name)` of the `EhCacheCacheManager` as follows:\r\n\r\n```java\r\n@Bean\r\npublic CacheManager cacheManager() {\r\n    net.sf.ehcache.CacheManager cacheManager = net.sf.ehcache.CacheManager.create();\r\n    EhCacheCacheManager ehCacheManager = new EhCacheCacheManager(){\r\n        @Override\r\n        public Cache getCache(String name) {\r\n            String tenantId = TenantContext.getCurrentTenant();\r\n            return super.getCache(String.format(&quot;%s:%s&quot;, tenantId, name));\r\n        }\r\n    };\r\n    ehCacheManager.setCacheManager(cacheManager);\r\n    return ehCacheManager;\r\n}\r\n```","title":"Custom hibernate second level cache name lookup","body":"<p>In order to intercept the generation of the cache-name one approach is to override the method <code>getCache(String name)</code> of the <code>EhCacheCacheManager</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CacheManager cacheManager() {\n    net.sf.ehcache.CacheManager cacheManager = net.sf.ehcache.CacheManager.create();\n    EhCacheCacheManager ehCacheManager = new EhCacheCacheManager(){\n        @Override\n        public Cache getCache(String name) {\n            String tenantId = TenantContext.getCurrentTenant();\n            return super.getCache(String.format(&quot;%s:%s&quot;, tenantId, name));\n        }\n    };\n    ehCacheManager.setCacheManager(cacheManager);\n    return ehCacheManager;\n}\n</code></pre>\n"}],"owner":{"account_id":5322746,"reputation":1804,"user_id":4245733,"accept_rate":65,"display_name":"Indivon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638905997,"creation_date":1481387420,"question_id":41077718,"body_markdown":"I&#39;m using spring boot with second level cache for the entities, e.g. \r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class Customer implements Serializable {\r\n      ....\r\n    }\r\n\r\nThis is working as expected, but now I have to turn the application into a multi-tenant version. Each tenant has it&#39;s own database, where we use a ```ThreadLocal``` to store the current tenant and ```AbstractRoutingDataSource``` for routing to the tenant&#39;s database. This is working, if the 2nd level cache is off.\r\n\r\nIt would be nice to get also the 2nd level cache working. The problem seems to be the cache name, which is the FQCN for an entity. Since the cache is not tenant or database-aware, each tenant uses the same cache. \r\n\r\nFor this, we use a ```ThreadLocal``` for resolving the current tenant is simply accessible by \r\n\r\n    TenantContext.getCurrentTenant();\r\n\r\nand returns the tenant name.\r\n\r\n\r\n\r\nWe use the EhCache, which is backed by the spring cache abstraction:\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        net.sf.ehcache.CacheManager cacheManager = net.sf.ehcache.CacheManager.create();\r\n        EhCacheCacheManager ehCacheManager = new EhCacheCacheManager();\r\n        ehCacheManager.setCacheManager(cacheManager);\r\n        return ehCacheManager;\r\n    }\r\n\r\n\r\nIs it possible to intercept the generation of the cache-name, so that the current tenant name is used instead of the FQCN and each insert/lookup/evict resolves this tenant-aware-cache-name?","title":"Custom hibernate second level cache name lookup","body":"<p>I'm using spring boot with second level cache for the entities, e.g. </p>\n\n<pre><code>@Entity\n@Table(name = \"customer\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Customer implements Serializable {\n  ....\n}\n</code></pre>\n\n<p>This is working as expected, but now I have to turn the application into a multi-tenant version. Each tenant has it's own database, where we use a <code>ThreadLocal</code> to store the current tenant and <code>AbstractRoutingDataSource</code> for routing to the tenant's database. This is working, if the 2nd level cache is off.</p>\n\n<p>It would be nice to get also the 2nd level cache working. The problem seems to be the cache name, which is the FQCN for an entity. Since the cache is not tenant or database-aware, each tenant uses the same cache. </p>\n\n<p>For this, we use a <code>ThreadLocal</code> for resolving the current tenant is simply accessible by </p>\n\n<pre><code>TenantContext.getCurrentTenant();\n</code></pre>\n\n<p>and returns the tenant name.</p>\n\n<p>We use the EhCache, which is backed by the spring cache abstraction:</p>\n\n<pre><code>@Bean\npublic CacheManager cacheManager() {\n    net.sf.ehcache.CacheManager cacheManager = net.sf.ehcache.CacheManager.create();\n    EhCacheCacheManager ehCacheManager = new EhCacheCacheManager();\n    ehCacheManager.setCacheManager(cacheManager);\n    return ehCacheManager;\n}\n</code></pre>\n\n<p>Is it possible to intercept the generation of the cache-name, so that the current tenant name is used instead of the FQCN and each insert/lookup/evict resolves this tenant-aware-cache-name?</p>\n"},{"tags":["java","spring","spring-mvc","jpa"],"comments":[{"owner":{"account_id":11278042,"reputation":1,"user_id":8271540,"display_name":"tabusharkh"},"score":0,"creation_date":1638898116,"post_id":70264483,"comment_id":124207981,"body_markdown":"github link: https://github.com/tabusharkh/spring-mvc-primefaces","body":"github link: <a href=\"https://github.com/tabusharkh/spring-mvc-primefaces\" rel=\"nofollow noreferrer\">github.com/tabusharkh/spring-mvc-primefaces</a>"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1638906706,"post_id":70264483,"comment_id":124211241,"body_markdown":"You do not need two annotations like component and service in one class, and also you should have a separate class for controller as well as separate class for configuration.\nI provided you an example in your previous question that you posted yesterday it seems you did not went through it.","body":"You do not need two annotations like component and service in one class, and also you should have a separate class for controller as well as separate class for configuration. I provided you an example in your previous question that you posted yesterday it seems you did not went through it."},{"owner":{"account_id":11278042,"reputation":1,"user_id":8271540,"display_name":"tabusharkh"},"score":0,"creation_date":1638907451,"post_id":70264483,"comment_id":124211516,"body_markdown":"@zawarudo, I went through it step by step end every thing worked. Problem happened after adding the jpa to the project and I added the service to the controller.","body":"@zawarudo, I went through it step by step end every thing worked. Problem happened after adding the jpa to the project and I added the service to the controller."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638898619,"creation_date":1638898619,"answer_id":70264589,"question_id":70264483,"body_markdown":"Given that you don&#39;t have a class at the main package level, you will need to include all relevant packages in the `@ComponentScan` annotation:\r\n```java\r\n@Controller\r\n@ComponentScan({&quot;com.testtask.spring.controller&quot;, &quot;com.testtask.spring.serviceImpl&quot;, &quot;com.testtask.spring.repoImpl&quot;})\r\npublic class MainController {\r\n    (...)\r\n}\r\n```\r\n\r\nAdditionally, you don&#39;t need `@Component` and `@Service` in `UserServiceImpl`, just use one of them:\r\n```java\r\n@Service\r\npublic class UserServiceImpl implements UserService{\r\n     (...)\r\n}\r\n```\r\n\r\nYou can read more about this at the following online resource: https://www.baeldung.com/spring-component-repository-service.","title":"Trying to connect JPA with spring controller but getting: &#39;Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through..&#39;","body":"<p>Given that you don't have a class at the main package level, you will need to include all relevant packages in the <code>@ComponentScan</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@ComponentScan({&quot;com.testtask.spring.controller&quot;, &quot;com.testtask.spring.serviceImpl&quot;, &quot;com.testtask.spring.repoImpl&quot;})\npublic class MainController {\n    (...)\n}\n</code></pre>\n<p>Additionally, you don't need <code>@Component</code> and <code>@Service</code> in <code>UserServiceImpl</code>, just use one of them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImpl implements UserService{\n     (...)\n}\n</code></pre>\n<p>You can read more about this at the following online resource: <a href=\"https://www.baeldung.com/spring-component-repository-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-repository-service</a>.</p>\n"}],"owner":{"account_id":11278042,"reputation":1,"user_id":8271540,"display_name":"tabusharkh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638905883,"creation_date":1638898105,"question_id":70264483,"body_markdown":"I created Spring MVC application like in this: [link](https://crunchify.com/simplest-spring-mvc-hello-world-example-tutorial-spring-model-view-controller-tips/), things worked and every thing was good. Then, I added the JPA to connect the application to database like in this [link](https://www.studytonight.com/spring-framework/spring-mvc-with-jpa), but I am getting the following error: \r\n\r\n    Root Cause\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through field &#39;userService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.testtask.spring.service.UserService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\r\n    \torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\r\nThis is my controller class:\r\n\r\n    @Controller\r\n    @Configuration\r\n    @ComponentScan(&quot;com.testtask.spring.controller&quot;)\r\n    public class MainController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \t\r\n    \t@RequestMapping(&quot;/welcome&quot;)\r\n    \tpublic ModelAndView helloWorld() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Hi this is Tasneem&quot;);\r\n    \t\t\r\n    \t\tString message = &quot;&lt;br&gt;&lt;div style=&#39;text-align:center;&#39;&gt;&quot;\r\n    \t\t\t\t+ &quot;&lt;h3&gt;******** Hello World, Spring MVC Tutorial&lt;/h3&gt; This message is coming &quot;\r\n    \t\t\t\t+ &quot;from the controller ***********&lt;/div&gt;&lt;br&gt;&lt;br&gt;&quot;;\r\n    \t\t\r\n    \t\tList&lt;Statement&gt; test = userService.findRecordsByAccountId(4L);\r\n    \t\tif(test != null &amp;&amp; test.size() &gt; 0) {\r\n    \t\t\tSystem.out.println(test.get(0).getAccountId());\r\n    \t\t\tSystem.out.println(test.get(0).getDateField());\r\n    \t\t\tSystem.out.println(test.get(0).getAmount());\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new ModelAndView(&quot;welcome&quot;, &quot;message&quot;, message);\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nand this is my Service implementation class:\r\n\r\n    @Component\r\n    @Service\r\n    public class UserServiceImpl implements UserService{\r\n    \r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean findUserByUsernameAndPassword(String username, String password) {\r\n    \t\treturn userRepository.findByUsernameAndPassword(username, password);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Statement&gt; findRecordsByAccountId(Long accountId) {\r\n    \t\treturn userRepository.getRecordsByAccountId(4L);\r\n    \t}\r\n    \r\n    }\r\n\r\nI am attaching the github link: https://github.com/tabusharkh/spring-mvc-primefaces.\r\n\r\n**UPDATE**:\r\nAfter editing the controller as following:\r\n\r\n    @Controller\r\n    @ComponentScan({&quot;com.testtask.spring.controller&quot;, &quot;com.testtask.spring.service&quot;, &quot;com.testtask.spring.serviceImpl&quot;, &quot;com.testtask.spring.repository&quot;, &quot;com.testtask.spring.repoImpl&quot;})\r\n    public class MainController { \r\n    (.......)\r\n    }\r\n\r\nI am getting the following error:\r\n\r\n    Root Cause\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through field &#39;userService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepositoryImpl&#39;: Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.persistence.EntityManagerFactory&#39; available: expected single bean but found 0: \r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\r\n    \torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)\r\n    \torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n    \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n    \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n    \tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.base/java.lang.Thread.run(Thread.java:831)\r\n    Root Cause","title":"Trying to connect JPA with spring controller but getting: &#39;Error creating bean with name &#39;mainController&#39;: Unsatisfied dependency expressed through..&#39;","body":"<p>I created Spring MVC application like in this: <a href=\"https://crunchify.com/simplest-spring-mvc-hello-world-example-tutorial-spring-model-view-controller-tips/\" rel=\"nofollow noreferrer\">link</a>, things worked and every thing was good. Then, I added the JPA to connect the application to database like in this <a href=\"https://www.studytonight.com/spring-framework/spring-mvc-with-jpa\" rel=\"nofollow noreferrer\">link</a>, but I am getting the following error:</p>\n<pre><code>Root Cause\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.testtask.spring.service.UserService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n</code></pre>\n<p>This is my controller class:</p>\n<pre><code>@Controller\n@Configuration\n@ComponentScan(&quot;com.testtask.spring.controller&quot;)\npublic class MainController {\n    \n    @Autowired\n    private UserService userService;\n    \n    @RequestMapping(&quot;/welcome&quot;)\n    public ModelAndView helloWorld() {\n        \n        System.out.println(&quot;Hi this is Tasneem&quot;);\n        \n        String message = &quot;&lt;br&gt;&lt;div style='text-align:center;'&gt;&quot;\n                + &quot;&lt;h3&gt;******** Hello World, Spring MVC Tutorial&lt;/h3&gt; This message is coming &quot;\n                + &quot;from the controller ***********&lt;/div&gt;&lt;br&gt;&lt;br&gt;&quot;;\n        \n        List&lt;Statement&gt; test = userService.findRecordsByAccountId(4L);\n        if(test != null &amp;&amp; test.size() &gt; 0) {\n            System.out.println(test.get(0).getAccountId());\n            System.out.println(test.get(0).getDateField());\n            System.out.println(test.get(0).getAmount());\n            \n        }\n        \n        return new ModelAndView(&quot;welcome&quot;, &quot;message&quot;, message);\n    }\n    \n\n}\n</code></pre>\n<p>and this is my Service implementation class:</p>\n<pre><code>@Component\n@Service\npublic class UserServiceImpl implements UserService{\n\n    @Autowired\n    UserRepository userRepository;\n    \n    @Override\n    public boolean findUserByUsernameAndPassword(String username, String password) {\n        return userRepository.findByUsernameAndPassword(username, password);\n    }\n\n    @Override\n    public List&lt;Statement&gt; findRecordsByAccountId(Long accountId) {\n        return userRepository.getRecordsByAccountId(4L);\n    }\n\n}\n</code></pre>\n<p>I am attaching the github link: <a href=\"https://github.com/tabusharkh/spring-mvc-primefaces\" rel=\"nofollow noreferrer\">https://github.com/tabusharkh/spring-mvc-primefaces</a>.</p>\n<p><strong>UPDATE</strong>:\nAfter editing the controller as following:</p>\n<pre><code>@Controller\n@ComponentScan({&quot;com.testtask.spring.controller&quot;, &quot;com.testtask.spring.service&quot;, &quot;com.testtask.spring.serviceImpl&quot;, &quot;com.testtask.spring.repository&quot;, &quot;com.testtask.spring.repoImpl&quot;})\npublic class MainController { \n(.......)\n}\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>Root Cause\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepositoryImpl': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.persistence.EntityManagerFactory' available: expected single bean but found 0: \n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:831)\nRoot Cause\n</code></pre>\n"},{"tags":["java","database","android-studio","android-sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638905572,"creation_date":1638863628,"answer_id":70256607,"question_id":70255920,"body_markdown":"Try \r\n\r\n    String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot; + SAMPLE_DB_NAME; \r\n\r\nand to be sure that the Download directory exists follow `File backupDB = new File(sd, backupDBPath);`\r\n\r\nwith \r\n\r\n    backupDB.getParentFile().mkDirs();\r\n\r\n\r\n\r\n- This assumes that you want the backup file name to be the same as the database file name. If not then you may wish to use something other than SAMPLE_DB_NAME.\r\n\r\n**Edit**\r\n\r\nIf the above still fails then you are not providing the required permissions. You need to refer to https://developer.android.com/training/data-storage/\r\n\r\nAs an example here&#39;s a slightly modified version of your code:-\r\n\r\n    private void exportDB() {\r\n\r\n        /* get an alternative backup location where permissions exist */\r\n        File bkp = new File( MainActivity.this.getDatabasePath(&quot;x&quot;).getParent() + File.separator + &quot;backups&quot; + File.separator + &quot;bkp_&quot; + SAMPLE_DB_NAME);\r\n\r\n        try {\r\n            File sd = Environment.getExternalStorageDirectory();\r\n            File data = Environment.getDataDirectory();\r\n            boolean ans = sd.canWrite();\r\n\r\n\r\n            String currentDBPath = &quot;/data/&quot; + getPackageName() + &quot;/databases/&quot; + SAMPLE_DB_NAME + &quot;&quot;;\r\n            String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;;\r\n            File currentDB = new File(data, currentDBPath);\r\n            /* requires permissions */\r\n            File backupDB = new File(sd, backupDBPath);\r\n            backupDB.getParentFile().mkdirs();\r\n            /* uses ....databases/backups directory */\r\n            bkp.getParentFile().mkdirs();\r\n            backupDB = bkp;\r\n\r\n            if (currentDB.exists()) {\r\n                FileChannel src = new FileInputStream(currentDB).getChannel();\r\n                FileChannel dst = new FileOutputStream(backupDB).getChannel();\r\n                dst.transferFrom(src, 0, src.size()); //&lt;&lt;&lt;&lt;&lt; 0 not 1\r\n                src.close();\r\n                dst.close();\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\r\n\r\n            Toast.makeText(MainActivity.this, &quot;&quot; + e, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nAs can be seen this now backs up the database (sla_database) file :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Warning**\r\n\r\nUnless you have specifically forced [Journal mode][2] then you need to consider the files as outlined in red above.\r\n\r\nYou can see that the database file backed up is 4k. Yet the -wal file and -shm file are both quite a bit larger. The -wal file contains changes to the database that are waiting to be applied (checkpointed).\r\n\r\nSo you either need to backup the -wal -shm files as well or fully checkpoint the database (closing the database will fully checkpoint the database). see https://sqlite.org/wal.html\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UkCsH.png\r\n  [2]: https://developer.android.com/reference/androidx/room/RoomDatabase.JournalMode","title":"Exporting Room database to another folder or directory inst working","body":"<p>Try</p>\n<pre><code>String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot; + SAMPLE_DB_NAME; \n</code></pre>\n<p>and to be sure that the Download directory exists follow <code>File backupDB = new File(sd, backupDBPath);</code></p>\n<p>with</p>\n<pre><code>backupDB.getParentFile().mkDirs();\n</code></pre>\n<ul>\n<li>This assumes that you want the backup file name to be the same as the database file name. If not then you may wish to use something other than SAMPLE_DB_NAME.</li>\n</ul>\n<p><strong>Edit</strong></p>\n<p>If the above still fails then you are not providing the required permissions. You need to refer to <a href=\"https://developer.android.com/training/data-storage/\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/</a></p>\n<p>As an example here's a slightly modified version of your code:-</p>\n<pre><code>private void exportDB() {\n\n    /* get an alternative backup location where permissions exist */\n    File bkp = new File( MainActivity.this.getDatabasePath(&quot;x&quot;).getParent() + File.separator + &quot;backups&quot; + File.separator + &quot;bkp_&quot; + SAMPLE_DB_NAME);\n\n    try {\n        File sd = Environment.getExternalStorageDirectory();\n        File data = Environment.getDataDirectory();\n        boolean ans = sd.canWrite();\n\n\n        String currentDBPath = &quot;/data/&quot; + getPackageName() + &quot;/databases/&quot; + SAMPLE_DB_NAME + &quot;&quot;;\n        String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;;\n        File currentDB = new File(data, currentDBPath);\n        /* requires permissions */\n        File backupDB = new File(sd, backupDBPath);\n        backupDB.getParentFile().mkdirs();\n        /* uses ....databases/backups directory */\n        bkp.getParentFile().mkdirs();\n        backupDB = bkp;\n\n        if (currentDB.exists()) {\n            FileChannel src = new FileInputStream(currentDB).getChannel();\n            FileChannel dst = new FileOutputStream(backupDB).getChannel();\n            dst.transferFrom(src, 0, src.size()); //&lt;&lt;&lt;&lt;&lt; 0 not 1\n            src.close();\n            dst.close();\n        }\n    } catch (Exception e) {\n        Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\n\n        Toast.makeText(MainActivity.this, &quot;&quot; + e, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>As can be seen this now backs up the database (sla_database) file :-</p>\n<p><a href=\"https://i.stack.imgur.com/UkCsH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkCsH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Warning</strong></p>\n<p>Unless you have specifically forced <a href=\"https://developer.android.com/reference/androidx/room/RoomDatabase.JournalMode\" rel=\"nofollow noreferrer\">Journal mode</a> then you need to consider the files as outlined in red above.</p>\n<p>You can see that the database file backed up is 4k. Yet the -wal file and -shm file are both quite a bit larger. The -wal file contains changes to the database that are waiting to be applied (checkpointed).</p>\n<p>So you either need to backup the -wal -shm files as well or fully checkpoint the database (closing the database will fully checkpoint the database). see <a href=\"https://sqlite.org/wal.html\" rel=\"nofollow noreferrer\">https://sqlite.org/wal.html</a></p>\n"}],"owner":{"account_id":23499116,"reputation":1,"user_id":17549198,"display_name":"Muhammad Asad."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638905572,"creation_date":1638859745,"question_id":70255920,"body_markdown":"I&#39;m trying to export Database file from root directory to download directory. The database is created using Room, everything is working perfectly, i can add data, delete and update data , but when i try to export database it gives exception \r\n***java.io.FileNotFoundException: /storage/emulated/0/storage/emulated/0/Download: open failed: ENOENT (No such file or directory***)\r\n\r\n[Screen shot while debugging ][1]\r\n\r\ni am using following lines of code to export db.\r\n\r\nprivate void exportDB() {\r\n\r\n\r\n        try {\r\n            File sd = Environment.getExternalStorageDirectory();\r\n            File data = Environment.getDataDirectory();\r\n            boolean ans = sd.canWrite();\r\n            //if (ans) {\r\n\r\n            String currentDBPath =&quot;/data/&quot; + getPackageName() + &quot;/databases/&quot; + SAMPLE_DB_NAME + &quot;&quot;;\r\n            String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;;\r\n            File currentDB = new File(data, currentDBPath);\r\n            File backupDB = new File(sd, backupDBPath);\r\n\r\n            if (currentDB.exists()) {\r\n                FileChannel src = new FileInputStream(currentDB).getChannel();\r\n                FileChannel dst = new FileOutputStream(backupDB).getChannel();\r\n                dst.transferFrom(src, 1, src.size());\r\n                src.close();\r\n                dst.close();\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\r\n\r\n            Toast.makeText(MainActivity.this, &quot;&quot; + e, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nPlease have a look at this and guide me, Thank you in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otD5V.png","title":"Exporting Room database to another folder or directory inst working","body":"<p>I'm trying to export Database file from root directory to download directory. The database is created using Room, everything is working perfectly, i can add data, delete and update data , but when i try to export database it gives exception\n<em><strong>java.io.FileNotFoundException: /storage/emulated/0/storage/emulated/0/Download: open failed: ENOENT (No such file or directory</strong></em>)</p>\n<p><a href=\"https://i.stack.imgur.com/otD5V.png\" rel=\"nofollow noreferrer\">Screen shot while debugging </a></p>\n<p>i am using following lines of code to export db.</p>\n<p>private void exportDB() {</p>\n<pre><code>    try {\n        File sd = Environment.getExternalStorageDirectory();\n        File data = Environment.getDataDirectory();\n        boolean ans = sd.canWrite();\n        //if (ans) {\n\n        String currentDBPath =&quot;/data/&quot; + getPackageName() + &quot;/databases/&quot; + SAMPLE_DB_NAME + &quot;&quot;;\n        String backupDBPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + &quot;/&quot;;\n        File currentDB = new File(data, currentDBPath);\n        File backupDB = new File(sd, backupDBPath);\n\n        if (currentDB.exists()) {\n            FileChannel src = new FileInputStream(currentDB).getChannel();\n            FileChannel dst = new FileOutputStream(backupDB).getChannel();\n            dst.transferFrom(src, 1, src.size());\n            src.close();\n            dst.close();\n        }\n    } catch (Exception e) {\n        Log.e(&quot;MYAPP&quot;, &quot;exception&quot;, e);\n\n        Toast.makeText(MainActivity.this, &quot;&quot; + e, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>Please have a look at this and guide me, Thank you in advance</p>\n"},{"tags":["java","mysql","last-insert-id"],"comments":[{"owner":{"account_id":4348581,"reputation":794,"user_id":3549780,"display_name":"Tin"},"score":0,"creation_date":1461165835,"post_id":36748346,"comment_id":61077556,"body_markdown":"`select last_insert_id() as adminID` is enough. But last_insert_id() gives you the last inserted id. In your case, have you inserted it yet? last_insert_id() should be called right after you insert. If you haven&#39;t inserted it, you ll get 0.","body":"<code>select last_insert_id() as adminID</code> is enough. But last_insert_id() gives you the last inserted id. In your case, have you inserted it yet? last_insert_id() should be called right after you insert. If you haven&#39;t inserted it, you ll get 0."},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1461166029,"post_id":36748346,"comment_id":61077712,"body_markdown":"@Tin I want to get the last ID from MySQL.  Am I using the wrong method ? (last_insert_id())","body":"@Tin I want to get the last ID from MySQL.  Am I using the wrong method ? (last_insert_id())"},{"owner":{"account_id":4348581,"reputation":794,"user_id":3549780,"display_name":"Tin"},"score":1,"creation_date":1461166364,"post_id":36748346,"comment_id":61077965,"body_markdown":"You&#39;re using the right method, but in order to get last id. You must insert something first. last_insert_id() is NOT giving you what&#39;s next auto increment id is. last_insert_id gives you what you insert it recently. In your case, you should insert admin table without giving id. Then if you wanna get admin id, you use last_insert_id to get that last inserted id.","body":"You&#39;re using the right method, but in order to get last id. You must insert something first. last_insert_id() is NOT giving you what&#39;s next auto increment id is. last_insert_id gives you what you insert it recently. In your case, you should insert admin table without giving id. Then if you wanna get admin id, you use last_insert_id to get that last inserted id."},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1461166628,"post_id":36748346,"comment_id":61078155,"body_markdown":"@Tin if I just want to retrieve the ID, what should I change?","body":"@Tin if I just want to retrieve the ID, what should I change?"},{"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"score":0,"creation_date":1461167083,"post_id":36748346,"comment_id":61078525,"body_markdown":"Check your database for existing rows in the table admin. Can you add the code of your DatabaseConnection class to your question?","body":"Check your database for existing rows in the table admin. Can you add the code of your DatabaseConnection class to your question?"},{"owner":{"account_id":4348581,"reputation":794,"user_id":3549780,"display_name":"Tin"},"score":1,"creation_date":1461168027,"post_id":36748346,"comment_id":61079279,"body_markdown":"@Al You can do like David suggested `select max(YOUR_AUTO_INCREMENT_COLUMN_NAME)+1 as adminID from admin`. Another way is you can do `select uuid_short()` will give you random generated id but this won&#39;t be sequential.","body":"@Al You can do like David suggested <code>select max(YOUR_AUTO_INCREMENT_COLUMN_NAME)+1 as adminID from admin</code>. Another way is you can do <code>select uuid_short()</code> will give you random generated id but this won&#39;t be sequential."},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1461168203,"post_id":36748346,"comment_id":61079386,"body_markdown":"@Tin Do you know why I will getting null for String id ?   `String id= api.selectLastID();\n                    System.out.println(id);`","body":"@Tin Do you know why I will getting null for String id ?   <code>String id= api.selectLastID();                     System.out.println(id);</code>"},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1461168305,"post_id":36748346,"comment_id":61079475,"body_markdown":"@Touchstone I have edited my post","body":"@Touchstone I have edited my post"},{"owner":{"account_id":4348581,"reputation":794,"user_id":3549780,"display_name":"Tin"},"score":1,"creation_date":1461168431,"post_id":36748346,"comment_id":61079574,"body_markdown":"Your selectLastID() method always return null :( if you want it to return &quot;id&quot;, do `return a;`","body":"Your selectLastID() method always return null :( if you want it to return &quot;id&quot;, do <code>return a;</code>"},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":1,"creation_date":1461168455,"post_id":36748346,"comment_id":61079592,"body_markdown":"@Tin solved...thanks :)","body":"@Tin solved...thanks :)"},{"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"score":0,"creation_date":1461168544,"post_id":36748346,"comment_id":61079643,"body_markdown":"@Touchstone solved, thanks :)","body":"@Touchstone solved, thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":5938469,"reputation":889,"user_id":4670625,"accept_rate":67,"display_name":"David Marciel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638905177,"creation_date":1461165921,"answer_id":36748459,"question_id":36748346,"body_markdown":"You can not get the last inserted, but you can get the greatest (I think is what you need):\r\n\r\n    Select max(columnId) as adminID from admin\r\n\r\nWhere &#39;id&#39; is replaced with the name of the colum you are trying to get\r\n\r\nYou ususally use an id that increases, so the last id you have inserted is the greatest.","title":"Get last id from MySQL","body":"<p>You can not get the last inserted, but you can get the greatest (I think is what you need):</p>\n<pre><code>Select max(columnId) as adminID from admin\n</code></pre>\n<p>Where 'id' is replaced with the name of the colum you are trying to get</p>\n<p>You ususally use an id that increases, so the last id you have inserted is the greatest.</p>\n"},{"tags":[],"owner":{"account_id":7830911,"reputation":419,"user_id":5920979,"display_name":"Adri&#225;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461166131,"creation_date":1461166131,"answer_id":36748535,"question_id":36748346,"body_markdown":"You can use function mysql_insert_id(). Take a look at this doc:\r\n\r\nhttp://dev.mysql.com/doc/refman/5.7/en/getting-unique-id.html","title":"Get last id from MySQL","body":"<p>You can use function mysql_insert_id(). Take a look at this doc:</p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.7/en/getting-unique-id.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.7/en/getting-unique-id.html</a></p>\n"}],"owner":{"account_id":3579301,"reputation":936,"user_id":2987882,"accept_rate":91,"display_name":"AI."},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36748459,"answer_count":2,"score":0,"last_activity_date":1638905177,"creation_date":1461165669,"question_id":36748346,"body_markdown":"I&#39;m trying to get the last ID from MySQL and assign the value to string a. \r\n\r\nI have a table `admin` with a adminID column. \r\n\r\n \r\n\r\n   \r\n\r\n     adminAPI api= new adminAPI();\r\n    \t\t\t\t try {\r\n    \t\t\t\t\tString id= api.selectLastID();\r\n    \t\t\t\t\tSystem.out.println(id);\r\n    \t\t\t\t} catch (Exception e1) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t}\r\n**adminAPI**\r\n\r\n    public String selectLastID() throws Exception  \r\n    \t{\r\n    \tString a;\r\n    \tString sql=&quot;Select last_insert_id() as adminID from admin&quot;;\r\n    \tDatabaseConnection db = new DatabaseConnection();\r\n    \tConnection  conn =db.getConnection();\r\n    \tPreparedStatement  ps = conn.prepareStatement(sql);\r\n    \t ResultSet rs = ps.executeQuery();\r\n    \t while(rs.next()) \r\n         {  \r\n              a= rs.getString(&quot;adminID&quot;);\r\n             System.out.println(a);\r\n         }\r\n    \t ps.close();\r\n    \t rs.close();\r\n    \t conn.close();\r\n    \t return null ;\r\n     }\r\n\r\nI suppose to get 1 since I have one ID in admin table. \r\n\r\nHere the output I get\r\n\r\n    0\r\n    null\r\n\r\nThanks.\r\n\r\n**DatabaseConnection**\r\n\r\n    package database;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class DatabaseConnection {\r\n    \t String driver;\r\n    \t String dbName;\r\n    \t String connectionURL;\r\n    \r\n    \t String username;\r\n    \t String password;\r\n    \t public DatabaseConnection()\r\n    \t {\r\n    \t\t driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \t\t connectionURL = &quot;jdbc:mysql://localhost/&quot;;\r\n    \t\t dbName = &quot;user&quot;;\r\n    \t\t username = &quot;root&quot;;\r\n    \t\t password = &quot;&quot;;\r\n    \t }\r\n    \t \r\n    \t public Connection getConnection() throws Exception {\r\n    \r\n    \t      Class.forName(driver);\r\n    \t\t  Connection connection = DriverManager.getConnection(connectionURL+dbName,username,password);\r\n    \r\n    \t\t  return connection;\r\n    \t }\r\n    \t \r\n    \t public static void main(String[] args) {\r\n    \t\t DatabaseConnection db = new DatabaseConnection();\r\n    \t\t\ttry {\r\n    \t\t\t\tConnection conn = db.getConnection();\r\n    \t\t\t\tSystem.out.println(&quot;Database successfully connected!&quot;);\r\n    \t\t\t\tconn.close();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    }\r\n\r\n","title":"Get last id from MySQL","body":"<p>I'm trying to get the last ID from MySQL and assign the value to string a. </p>\n\n<p>I have a table <code>admin</code> with a adminID column. </p>\n\n<pre><code> adminAPI api= new adminAPI();\n                 try {\n                    String id= api.selectLastID();\n                    System.out.println(id);\n                } catch (Exception e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n</code></pre>\n\n<p><strong>adminAPI</strong></p>\n\n<pre><code>public String selectLastID() throws Exception  \n    {\n    String a;\n    String sql=\"Select last_insert_id() as adminID from admin\";\n    DatabaseConnection db = new DatabaseConnection();\n    Connection  conn =db.getConnection();\n    PreparedStatement  ps = conn.prepareStatement(sql);\n     ResultSet rs = ps.executeQuery();\n     while(rs.next()) \n     {  \n          a= rs.getString(\"adminID\");\n         System.out.println(a);\n     }\n     ps.close();\n     rs.close();\n     conn.close();\n     return null ;\n }\n</code></pre>\n\n<p>I suppose to get 1 since I have one ID in admin table. </p>\n\n<p>Here the output I get</p>\n\n<pre><code>0\nnull\n</code></pre>\n\n<p>Thanks.</p>\n\n<p><strong>DatabaseConnection</strong></p>\n\n<pre><code>package database;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class DatabaseConnection {\n     String driver;\n     String dbName;\n     String connectionURL;\n\n     String username;\n     String password;\n     public DatabaseConnection()\n     {\n         driver = \"com.mysql.jdbc.Driver\";\n         connectionURL = \"jdbc:mysql://localhost/\";\n         dbName = \"user\";\n         username = \"root\";\n         password = \"\";\n     }\n\n     public Connection getConnection() throws Exception {\n\n          Class.forName(driver);\n          Connection connection = DriverManager.getConnection(connectionURL+dbName,username,password);\n\n          return connection;\n     }\n\n     public static void main(String[] args) {\n         DatabaseConnection db = new DatabaseConnection();\n            try {\n                Connection conn = db.getConnection();\n                System.out.println(\"Database successfully connected!\");\n                conn.close();\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23553185,"reputation":26,"user_id":17595594,"display_name":"Aalom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638905041,"creation_date":1638905041,"answer_id":70265872,"question_id":70265808,"body_markdown":"The registry portion is basically notifying the OS that when you attempt to run the jar file what program to use, where it located and the arguements to specify opening a jar file with that application.\r\n\r\nIt you dont have javaw.exe then install java, if your talking about the &quot;%1&quot; %* then its just a way of saying run javaw.exe -jar &quot;file.jar&quot; where file.jar is the jar file you double clicked on. &quot;%1&quot; %* does not and will not exist as a file or object.","title":"I cannot double click .jar files but I can run them through cmd","body":"<p>The registry portion is basically notifying the OS that when you attempt to run the jar file what program to use, where it located and the arguements to specify opening a jar file with that application.</p>\n<p>It you dont have javaw.exe then install java, if your talking about the &quot;%1&quot; %* then its just a way of saying run javaw.exe -jar &quot;file.jar&quot; where file.jar is the jar file you double clicked on. &quot;%1&quot; %* does not and will not exist as a file or object.</p>\n"}],"owner":{"account_id":23578976,"reputation":37,"user_id":17618249,"display_name":"Bruno."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70265872,"answer_count":1,"score":0,"last_activity_date":1638905041,"creation_date":1638904722,"question_id":70265808,"body_markdown":"As far as I have figured out, I have to do something like this:\r\n\r\nOpen the Registry Editor, and navigate to HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command, and modify the value of the Default key as follows\r\nReplace [Location of your JRE] in &quot;[Location of your JRE]\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %* with the root directory of your JRE installation. For example, &quot;C:\\Program Files\\Java\\jre7\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*.\r\nRepeat the above steps for HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\jarfile\\shell\\open\\command.\r\n\r\nThe problem is that I don&#39;t have that &quot;jarfile&quot;.\r\n\r\nI would appreciate any help.","title":"I cannot double click .jar files but I can run them through cmd","body":"<p>As far as I have figured out, I have to do something like this:</p>\n<p>Open the Registry Editor, and navigate to HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command, and modify the value of the Default key as follows\nReplace [Location of your JRE] in &quot;[Location of your JRE]\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %* with the root directory of your JRE installation. For example, &quot;C:\\Program Files\\Java\\jre7\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*.\nRepeat the above steps for HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\jarfile\\shell\\open\\command.</p>\n<p>The problem is that I don't have that &quot;jarfile&quot;.</p>\n<p>I would appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1638998094,"post_id":70265848,"comment_id":124239167,"body_markdown":"Does this answer your question? [spring batch: processor called twice after skip](https://stackoverflow.com/questions/34589734/spring-batch-processor-called-twice-after-skip)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34589734/spring-batch-processor-called-twice-after-skip\">spring batch: processor called twice after skip</a>"},{"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"score":0,"creation_date":1639060173,"post_id":70265848,"comment_id":124256020,"body_markdown":"Let me check and come back ., Thank you","body":"Let me check and come back ., Thank you"}],"owner":{"account_id":1712647,"reputation":193,"user_id":1570345,"accept_rate":60,"display_name":"user1570345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638904901,"creation_date":1638904901,"question_id":70265848,"body_markdown":"There will be a s3 source with zip files and each of the zipfiles will contain multiple pdf files and xml files.[Eg:100 pdfs and 100 xml files] (xml files will contain data about the pdf) . Each zip file will contain summary.xml which has information about xml+pdf file names. Batch needs to read the pdf files and its associated xml file and push these to rest service/db.\r\n\r\nAs stated there, I have an uncompressTasklet then implemented the MultiResourceItemReader/StaxItemReader and made the filenames as item to process further. Now I have questions on error handling on the same.\r\n\r\nIf there is any error in one of the processors, planning to move the files to /error directory to process next day(In the skip). so How can I make use of the existing processor but with different reader which will read from error directory alone?\r\n\r\nAnd also If all the processor steps are successful but writer fails, How to retry only the itemwriter for that failure(**dont want to run the processor again since it has rest API call**) ? how to store the output of the processor(can we use jobrepositary to store the pojo or will it too much load ) and retry itemwriter step alone the next day ?\r\n\r\n\r\nI have composite processor and one of the proceesor is rest call and its the last one. the response of the rest is sent to writer. If the writer fails for somereason, how do I configure to retry writer step alone?","title":"Retry-Itemwriter alone Since one of the processor is REST call - Spring batch","body":"<p>There will be a s3 source with zip files and each of the zipfiles will contain multiple pdf files and xml files.[Eg:100 pdfs and 100 xml files] (xml files will contain data about the pdf) . Each zip file will contain summary.xml which has information about xml+pdf file names. Batch needs to read the pdf files and its associated xml file and push these to rest service/db.</p>\n<p>As stated there, I have an uncompressTasklet then implemented the MultiResourceItemReader/StaxItemReader and made the filenames as item to process further. Now I have questions on error handling on the same.</p>\n<p>If there is any error in one of the processors, planning to move the files to /error directory to process next day(In the skip). so How can I make use of the existing processor but with different reader which will read from error directory alone?</p>\n<p>And also If all the processor steps are successful but writer fails, How to retry only the itemwriter for that failure(<strong>dont want to run the processor again since it has rest API call</strong>) ? how to store the output of the processor(can we use jobrepositary to store the pojo or will it too much load ) and retry itemwriter step alone the next day ?</p>\n<p>I have composite processor and one of the proceesor is rest call and its the last one. the response of the rest is sent to writer. If the writer fails for somereason, how do I configure to retry writer step alone?</p>\n"},{"tags":["java","selenium","testng","data-driven-tests"],"comments":[{"owner":{"account_id":23419335,"reputation":108,"user_id":17479815,"display_name":"Yan"},"score":0,"creation_date":1638884475,"post_id":70260843,"comment_id":124202039,"body_markdown":"do you want to test the log in with multiple data or do you want to do the scenarios with multiple logins please provide some code","body":"do you want to test the log in with multiple data or do you want to do the scenarios with multiple logins please provide some code"},{"owner":{"account_id":23553958,"reputation":11,"user_id":17596235,"display_name":"Naveen R"},"score":0,"creation_date":1638903400,"post_id":70260843,"comment_id":124210062,"body_markdown":"I have multiple set of username and password so i have run all the tests for that much of time","body":"I have multiple set of username and password so i have run all the tests for that much of time"}],"answers":[{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638886448,"creation_date":1638886448,"answer_id":70261723,"question_id":70260843,"body_markdown":"Create a method where you read all the test from Execl and assign it to List. Similarly read all the testdata for each test and assign it to another list.\r\nNow create a method at which you use data provider with return type as object[][].\r\nIn this method create a for loop to iterate around the list of testcases. and inside this for loop create another for loop to iterate around the list of testdata for each testcase and add each test data for each testcase to the object[][] data.  \r\n\r\nnow pass this object[][] data to the method where you use @Test to begin the execution of each testcase.","title":"I have to run all the tests in a suite with one login data from excel file then logout and pick other login data and run the same tests","body":"<p>Create a method where you read all the test from Execl and assign it to List. Similarly read all the testdata for each test and assign it to another list.\nNow create a method at which you use data provider with return type as object[][].\nIn this method create a for loop to iterate around the list of testcases. and inside this for loop create another for loop to iterate around the list of testdata for each testcase and add each test data for each testcase to the object[][] data.</p>\n<p>now pass this object[][] data to the method where you use @Test to begin the execution of each testcase.</p>\n"}],"owner":{"account_id":23553958,"reputation":11,"user_id":17596235,"display_name":"Naveen R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638904675,"creation_date":1638882972,"question_id":70260843,"body_markdown":"I&#39;m using Java selenium in TestNg and Apache POI for excel read. The DataProvider method is only for tests level so the login test repeats 2 times and then its moving to next tc. what can i do to repeat whole suite for all login data from excel. \r\n\r\nAlso i&#39;m using Page Object Model, so is there any parameter i have to pass on the page object code?\r\n\r\n     DataProvider:\r\n        public class DataProviders {\r\n        \t\r\n        \r\n        \t@DataProvider(name = &quot;loginData&quot;)\r\n        \r\n        \tpublic Object[][] getLogindata() throws IOException {\r\n        \r\n        \t\tObject[][] excelData = ExcelRead.getLoginData();\r\n        \r\n        \t\treturn excelData;\r\n        \r\n        \t}\r\n        \r\n        }\r\n    \r\n        TestCase:\r\n        \r\n        public class LoginScript extends TestBaseUpdate {\r\n        \tLogin loginPage_obj = new Login();\r\n        \t\r\n        \t\t\r\n        \t\r\n        \t@Test(priority = 1 , dataProvider = &quot;loginData&quot;,dataProviderClass = DataProviders.class ) \r\n        \t\r\n        \tpublic void TestCase_5_login(String[] Data) throws Exception {\r\n        \t\t\r\n        \t\tString testcasename = new Object() {}.getClass().getEnclosingMethod().getName();\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\t\r\n        \t\t\tnew Login().VerifyValidUserLogin(Data[0],Data[1]);\r\n        \t\t\r\n        \r\n        \t\t} catch (Exception e) {\r\n        \r\n        \t\t}\r\n        \t}\r\n        Excel read:\r\n        public static Object[][] getLoginData() throws IOException {\r\n    \t\t\r\n    \t\t\r\n    \t\tString fileLocation = &quot;.\\\\TestData\\\\TestDataNav.xlsx&quot;;\r\n    \t\t\r\n    \t\tXSSFWorkbook wbook = new XSSFWorkbook(fileLocation);\r\n    \t\t\r\n    \t\tXSSFSheet sheet =\twbook.getSheetAt(0);\r\n    \t\t\r\n    \tint lastRowNum = sheet.getLastRowNum(); \r\n    \t\r\n    \tSystem.out.println(lastRowNum);\r\n    \t\r\n    \tint lastCellNum = sheet.getRow(0).getLastCellNum();\r\n    \t\r\n    \tSystem.out.println(lastCellNum);\r\n    \t\r\n    \tObject[][] data = new String[lastRowNum][lastCellNum];\r\n    \t\t\r\n    \t\tfor (int i = 1; i &lt;=lastRowNum; i++) {\r\n    \t\t\tXSSFRow row = sheet.getRow(i);\r\n    \t\t\tfor (int j = 0; j &lt; lastCellNum ; j++) {\r\n    \t\t\t\tXSSFCell cell = row.getCell(j);\r\n    \t\t\t\t\r\n    \t\t\t\tDataFormatter dft = new DataFormatter();\r\n    \t\t\t\t\r\n    \t\t\t\tString value = dft.formatCellValue(cell);\r\n    \t\t\t\t\r\n    \t\t\t\t//String value = cell.getStringCellValue();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(value);\r\n    \t\t\t\t\r\n    \t\t\t\tdata[i-1][j] = value;\r\n    \t\t\t} \r\n    \t\t}\r\n    \t\t\r\n    \t\twbook.close();\r\n    \t\treturn data;\r\n    \r\n    \t}\r\n\r\n\r\n","title":"I have to run all the tests in a suite with one login data from excel file then logout and pick other login data and run the same tests","body":"<p>I'm using Java selenium in TestNg and Apache POI for excel read. The DataProvider method is only for tests level so the login test repeats 2 times and then its moving to next tc. what can i do to repeat whole suite for all login data from excel.</p>\n<p>Also i'm using Page Object Model, so is there any parameter i have to pass on the page object code?</p>\n<pre><code> DataProvider:\n    public class DataProviders {\n        \n    \n        @DataProvider(name = &quot;loginData&quot;)\n    \n        public Object[][] getLogindata() throws IOException {\n    \n            Object[][] excelData = ExcelRead.getLoginData();\n    \n            return excelData;\n    \n        }\n    \n    }\n\n    TestCase:\n    \n    public class LoginScript extends TestBaseUpdate {\n        Login loginPage_obj = new Login();\n        \n            \n        \n        @Test(priority = 1 , dataProvider = &quot;loginData&quot;,dataProviderClass = DataProviders.class ) \n        \n        public void TestCase_5_login(String[] Data) throws Exception {\n            \n            String testcasename = new Object() {}.getClass().getEnclosingMethod().getName();\n            \n            try {\n                \n                new Login().VerifyValidUserLogin(Data[0],Data[1]);\n            \n    \n            } catch (Exception e) {\n    \n            }\n        }\n    Excel read:\n    public static Object[][] getLoginData() throws IOException {\n        \n        \n        String fileLocation = &quot;.\\\\TestData\\\\TestDataNav.xlsx&quot;;\n        \n        XSSFWorkbook wbook = new XSSFWorkbook(fileLocation);\n        \n        XSSFSheet sheet =   wbook.getSheetAt(0);\n        \n    int lastRowNum = sheet.getLastRowNum(); \n    \n    System.out.println(lastRowNum);\n    \n    int lastCellNum = sheet.getRow(0).getLastCellNum();\n    \n    System.out.println(lastCellNum);\n    \n    Object[][] data = new String[lastRowNum][lastCellNum];\n        \n        for (int i = 1; i &lt;=lastRowNum; i++) {\n            XSSFRow row = sheet.getRow(i);\n            for (int j = 0; j &lt; lastCellNum ; j++) {\n                XSSFCell cell = row.getCell(j);\n                \n                DataFormatter dft = new DataFormatter();\n                \n                String value = dft.formatCellValue(cell);\n                \n                //String value = cell.getStringCellValue();\n                \n                System.out.println(value);\n                \n                data[i-1][j] = value;\n            } \n        }\n        \n        wbook.close();\n        return data;\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","oauth","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1638906574,"post_id":70265708,"comment_id":124211196,"body_markdown":"Their docs  shows how to define maven dependency, so you just need to do the same in gradle by adding `implementation &#39;com.icoderman:wc-api-java:1.4&#39;` to `dependencies` block in build.gradle. And you don&#39;t need to use Spring Batch to retrieve orders every hour, just use `@Scheduled` annotation. I would recommend you learn about gradle, spring and generally about the java ecosystem.","body":"Their docs  shows how to define maven dependency, so you just need to do the same in gradle by adding <code>implementation &#39;com.icoderman:wc-api-java:1.4&#39;</code> to <code>dependencies</code> block in build.gradle. And you don&#39;t need to use Spring Batch to retrieve orders every hour, just use <code>@Scheduled</code> annotation. I would recommend you learn about gradle, spring and generally about the java ecosystem."},{"owner":{"account_id":19684890,"reputation":47,"user_id":14411076,"display_name":"Franco Mendoza"},"score":0,"creation_date":1638910647,"post_id":70265708,"comment_id":124212669,"body_markdown":"Thank you very much Ga&#235;l. I appreciate your help, I&#39;m going to investigate Spring and Gradle since lately it is a Framework that I&#39;m very interested in. And thank you for telling me about the @Scheduled annotation by the way.","body":"Thank you very much Ga&#235;l. I appreciate your help, I&#39;m going to investigate Spring and Gradle since lately it is a Framework that I&#39;m very interested in. And thank you for telling me about the @Scheduled annotation by the way."}],"owner":{"account_id":19684890,"reputation":47,"user_id":14411076,"display_name":"Franco Mendoza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638904112,"creation_date":1638904112,"question_id":70265708,"body_markdown":"I am new to using Spring, and I am using Jhipster. In the Backend, I want to make a communication with the WooCommerce API so that with a Spring Batch every hour to check if there are new orders. I found this API: https://github.com/calatonsystems/wc-api-java\r\nThe problem is that I still don&#39;t understand much of the dependency and import handling. I tried downloading the github repository inside my package where my repositories, services, etc. are. But I run into a lot of import problems, for example, I added the HTTP commons dependency to the build.gradle but I don&#39;t know how to run it to inject them. And I feel a bit lost on how to structure this. I simply have to make a query to the API with OAuth 1 (I already tried it with Postman), and my idea is to do it with some service. But I&#39;m a bit lost, mostly with the injection of these dependencies I need, and I would like to know if I&#39;m also downloading the files in that path correctly, or should I download them somewhere else, if I should download the pom.xml, the travis.yml or just the .java files. If any of you also use this API, it would be very helpful. Thank you very much for your help.","title":"How do Gradle dependencies work and how can I import a WooCommerce API?","body":"<p>I am new to using Spring, and I am using Jhipster. In the Backend, I want to make a communication with the WooCommerce API so that with a Spring Batch every hour to check if there are new orders. I found this API: <a href=\"https://github.com/calatonsystems/wc-api-java\" rel=\"nofollow noreferrer\">https://github.com/calatonsystems/wc-api-java</a>\nThe problem is that I still don't understand much of the dependency and import handling. I tried downloading the github repository inside my package where my repositories, services, etc. are. But I run into a lot of import problems, for example, I added the HTTP commons dependency to the build.gradle but I don't know how to run it to inject them. And I feel a bit lost on how to structure this. I simply have to make a query to the API with OAuth 1 (I already tried it with Postman), and my idea is to do it with some service. But I'm a bit lost, mostly with the injection of these dependencies I need, and I would like to know if I'm also downloading the files in that path correctly, or should I download them somewhere else, if I should download the pom.xml, the travis.yml or just the .java files. If any of you also use this API, it would be very helpful. Thank you very much for your help.</p>\n"},{"tags":["java","android","kotlin","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1638903925,"post_id":70263382,"comment_id":124210267,"body_markdown":"Just as on [your previous question](https://stackoverflow.com/questions/70236152/display-all-registered-users-posts-and-following) you will need to read data from higher up in the database, and then perform nested loops over that data.","body":"Just as on <a href=\"https://stackoverflow.com/questions/70236152/display-all-registered-users-posts-and-following\">your previous question</a> you will need to read data from higher up in the database, and then perform nested loops over that data."},{"owner":{"account_id":23553599,"reputation":13,"user_id":17595939,"display_name":"Apple Juice"},"score":0,"creation_date":1638980278,"post_id":70263382,"comment_id":124232707,"body_markdown":"Thanks again, it works fine.  However, I&#39;m still in a fix somewhere else, it&#39;s nested to this question too. Can I ask here too please?","body":"Thanks again, it works fine.  However, I&#39;m still in a fix somewhere else, it&#39;s nested to this question too. Can I ask here too please?"}],"owner":{"account_id":23553599,"reputation":13,"user_id":17595939,"display_name":"Apple Juice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638903720,"creation_date":1638893254,"question_id":70263382,"body_markdown":"I like to make the posts of a user A followed by user B appear on user B&#39;s page.\r\n\r\nHere is the code I have tried which is not working as intended. I can only get the post of a specific user.\r\n\r\nIf possible please, write code in Java language. \r\n\r\n\r\n\r\n\r\n    private fun checkFollowings() {\r\n        followingList = ArrayList()\r\n\r\n        val followingRef = FirebaseDatabase.getInstance().reference\r\n                .child(&quot;Follow&quot;).child(FirebaseAuth.getInstance().currentUser!!.uid)\r\n                .child(&quot;Following&quot;)\r\n\r\n        followingRef.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(p0: DataSnapshot) {\r\n                if (p0.exists()) {\r\n                    (followingList as ArrayList&lt;String&gt;).clear()\r\n\r\n                    for (snapshot in p0.children) {\r\n                        snapshot.key?.let { (followingList as ArrayList&lt;String&gt;).add(it) }\r\n                    }\r\n\r\n                    retrievePosts()\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(p0: DatabaseError) {\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    private fun retrievePosts() {\r\n\r\n        val postsRef = FirebaseDatabase.getInstance().reference.child(&quot;Posts&quot;).child(uid!!)\r\n\r\n        postsRef.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(p0: DataSnapshot) {\r\n                (postList as ArrayList&lt;ModelPost&gt;).clear()\r\n\r\n                for (snapshot in p0.children) {\r\n                    val post = snapshot.getValue(ModelPost::class.java)\r\n\r\n                    for (id in (followingList as ArrayList&lt;String&gt;)) {\r\n                        if (post!!.getUid() == id) {\r\n                            (postList as ArrayList&lt;ModelPost&gt;).add(post!!)\r\n\r\n                        }\r\n\r\n                        adapterPost!!.notifyDataSetChanged()\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(p0: DatabaseError) {\r\n            }\r\n        })\r\n    }\r\n\r\n\r\nFollowing Node:\r\n\r\n![Following Node][1]\r\n\r\n\r\nPosts Node:\r\n\r\n![Posts Node][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3rq3I.jpg\r\n  [2]: https://i.stack.imgur.com/UJOt8.jpg","title":"Make posts of user A followed by user B appear on user B page","body":"<p>I like to make the posts of a user A followed by user B appear on user B's page.</p>\n<p>Here is the code I have tried which is not working as intended. I can only get the post of a specific user.</p>\n<p>If possible please, write code in Java language.</p>\n<pre><code>private fun checkFollowings() {\n    followingList = ArrayList()\n\n    val followingRef = FirebaseDatabase.getInstance().reference\n            .child(&quot;Follow&quot;).child(FirebaseAuth.getInstance().currentUser!!.uid)\n            .child(&quot;Following&quot;)\n\n    followingRef.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot) {\n            if (p0.exists()) {\n                (followingList as ArrayList&lt;String&gt;).clear()\n\n                for (snapshot in p0.children) {\n                    snapshot.key?.let { (followingList as ArrayList&lt;String&gt;).add(it) }\n                }\n\n                retrievePosts()\n            }\n        }\n\n        override fun onCancelled(p0: DatabaseError) {\n        }\n    })\n}\n\n\nprivate fun retrievePosts() {\n\n    val postsRef = FirebaseDatabase.getInstance().reference.child(&quot;Posts&quot;).child(uid!!)\n\n    postsRef.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot) {\n            (postList as ArrayList&lt;ModelPost&gt;).clear()\n\n            for (snapshot in p0.children) {\n                val post = snapshot.getValue(ModelPost::class.java)\n\n                for (id in (followingList as ArrayList&lt;String&gt;)) {\n                    if (post!!.getUid() == id) {\n                        (postList as ArrayList&lt;ModelPost&gt;).add(post!!)\n\n                    }\n\n                    adapterPost!!.notifyDataSetChanged()\n                }\n            }\n        }\n\n        override fun onCancelled(p0: DatabaseError) {\n        }\n    })\n}\n</code></pre>\n<p>Following Node:</p>\n<p><img src=\"https://i.stack.imgur.com/3rq3I.jpg\" alt=\"Following Node\" /></p>\n<p>Posts Node:</p>\n<p><img src=\"https://i.stack.imgur.com/UJOt8.jpg\" alt=\"Posts Node\" /></p>\n"},{"tags":["java","jax-rs","rest-assured"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1638906293,"post_id":70265611,"comment_id":124211096,"body_markdown":"`Connection refused` means exactly what it says. Your code attempted to open a connection to a remote host/port, and that host actively rejected the connection.  That means there&#39;s no process at the remote listening on the port your code specified.  Before you can debug this you&#39;ll need to verify that there&#39;s a process listening at the remote host/port, which is something we cannot help with.  Check to make sure your configuration and specification of the remote server is correct, and that the required process(es) is/are running on the remote.","body":"<code>Connection refused</code> means exactly what it says. Your code attempted to open a connection to a remote host/port, and that host actively rejected the connection.  That means there&#39;s no process at the remote listening on the port your code specified.  Before you can debug this you&#39;ll need to verify that there&#39;s a process listening at the remote host/port, which is something we cannot help with.  Check to make sure your configuration and specification of the remote server is correct, and that the required process(es) is/are running on the remote."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1638906387,"post_id":70265611,"comment_id":124211123,"body_markdown":"I’m voting to close this question because it&#39;s a network configuration issue.","body":"I’m voting to close this question because it&#39;s a network configuration issue."}],"owner":{"account_id":10273984,"reputation":47,"user_id":7581531,"display_name":"Sia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638903516,"creation_date":1638903516,"question_id":70265611,"body_markdown":"The project does not use Spring framework. Only using Rest Assured library to test JAX-RS api but getting below error when a particular endpoint is tested in the test method:\r\n\r\n     java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n        at java.net.Socket.connect(Socket.java:606)\r\n        at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\r\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\r\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n        at org.apache.http.client.HttpClient$execute$0.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n        at io.restassured.internal.RequestSpecificationImpl$RestAssuredHttpBuilder.doRequest(RequestSpecificationImpl.groovy:2055)\r\n        at io.restassured.internal.http.HTTPBuilder.doRequest(HTTPBuilder.java:495)\r\n        at io.restassured.internal.http.HTTPBuilder.request(HTTPBuilder.java:452)\r\n        at io.restassured.internal.http.HTTPBuilder$request$2.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\r\n        at io.restassured.internal.RequestSpecificationImpl.sendHttpRequest(RequestSpecificationImpl.groovy:1451)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\r\n        at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n        at io.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:1200)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\r\n        at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\r\n        at io.restassured.internal.filter.SendRequestFilter.filter(SendRequestFilter.groovy:30)\r\n        at io.restassured.filter.Filter$filter$0.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at io.restassured.filter.Filter$filter.call(Unknown Source)\r\n        at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n        at io.restassured.filter.time.TimingFilter.filter(TimingFilter.java:56)\r\n        at io.restassured.filter.Filter$filter.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\r\n        at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n        at io.restassured.filter.FilterContext$next.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n        at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1655)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\r\n        at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n        at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1661)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\r\n        at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n        at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n        at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy:171)\r\n        at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy)\r\n        at com.productlist.test.ProductTest.testGetAllProducts(ProductTest.java:78)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n        at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n        at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n        at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n        at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n        at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n        at java.util.ArrayList.forEach(ArrayList.java:1257)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n        at org.testng.TestRunner.run(TestRunner.java:596)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1063)\r\n        at org.testng.TestNG.run(TestNG.java:1031)\r\n        at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\r\n        at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\r\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n        at com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\nThe main Test Class of the API is as below:\r\n\r\n    public class ProductTest{\r\n\r\n    \tprivate RequestSpecification requestSpec;\r\n    \tprivate ResponseSpecification responseSpec;\r\n\r\n    \t@BeforeClass\r\n    \tpublic void setup()  {\t\r\n    \t\tRestAssured.useRelaxedHTTPSValidation();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\r\n    \t\trequestSpec = new RequestSpecBuilder()\r\n    \t\t\t\t.setBaseUri(&quot;https://********.com&quot;)\r\n    \t\t\t\t.setBasePath(&quot;/productlist/v1.0&quot;).addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    \t\t\t\t.addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n    \t\t\t\t.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken.getToken()).build();\r\n    \r\n    \t\tresponseSpec = new ResponseSpecBuilder().expectStatusCode(200).build();\r\n    \r\n    \t\tRestAssured.requestSpecification = requestSpec;\r\n    \t\tRestAssured.responseSpecification = responseSpec;\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\tcatch(Exception pe) {\r\n    \t\t\t\r\n    \t\t\tpe.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n        @Test\r\n        public void testGetAllProducts() {\r\n        \t\tgiven().expect().when().get(ProductEndpoints.ALL_Products).then();\r\n        }\r\n    \t\r\n    \t\r\n    }\r\n\r\nThis is a dockerised test project and uses gradle build. May I please know what exactly am missing here?","title":"Getting java.net.ConnectException: Connection refused (Connection refused) for JAX-RS api testing with Rest Assured","body":"<p>The project does not use Spring framework. Only using Rest Assured library to test JAX-RS api but getting below error when a particular endpoint is tested in the test method:</p>\n<pre><code> java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:606)\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.apache.http.client.HttpClient$execute$0.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.RequestSpecificationImpl$RestAssuredHttpBuilder.doRequest(RequestSpecificationImpl.groovy:2055)\n    at io.restassured.internal.http.HTTPBuilder.doRequest(HTTPBuilder.java:495)\n    at io.restassured.internal.http.HTTPBuilder.request(HTTPBuilder.java:452)\n    at io.restassured.internal.http.HTTPBuilder$request$2.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\n    at io.restassured.internal.RequestSpecificationImpl.sendHttpRequest(RequestSpecificationImpl.groovy:1451)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at io.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:1200)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\n    at io.restassured.internal.filter.SendRequestFilter.filter(SendRequestFilter.groovy:30)\n    at io.restassured.filter.Filter$filter$0.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.time.TimingFilter.filter(TimingFilter.java:56)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.FilterContext$next.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1655)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1661)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1262)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1029)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:816)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy:171)\n    at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy)\n    at com.productlist.test.ProductTest.testGetAllProducts(ProductTest.java:78)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>The main Test Class of the API is as below:</p>\n<pre><code>public class ProductTest{\n\n    private RequestSpecification requestSpec;\n    private ResponseSpecification responseSpec;\n\n    @BeforeClass\n    public void setup()  {  \n        RestAssured.useRelaxedHTTPSValidation();\n        \n        try {\n        \n        requestSpec = new RequestSpecBuilder()\n                .setBaseUri(&quot;https://********.com&quot;)\n                .setBasePath(&quot;/productlist/v1.0&quot;).addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + bearerToken.getToken()).build();\n\n        responseSpec = new ResponseSpecBuilder().expectStatusCode(200).build();\n\n        RestAssured.requestSpecification = requestSpec;\n        RestAssured.responseSpecification = responseSpec;\n\n        }\n        \n        catch(Exception pe) {\n            \n            pe.printStackTrace();\n        }\n    }\n    \n    @Test\n    public void testGetAllProducts() {\n            given().expect().when().get(ProductEndpoints.ALL_Products).then();\n    }\n    \n    \n}\n</code></pre>\n<p>This is a dockerised test project and uses gradle build. May I please know what exactly am missing here?</p>\n"},{"tags":["java","vbscript","executable-jar"],"comments":[{"owner":{"account_id":354536,"reputation":16389,"user_id":692942,"accept_rate":100,"display_name":"user692942"},"score":1,"creation_date":1638901679,"post_id":70264076,"comment_id":124209413,"body_markdown":"You have no spaces between your arguments. Also, don&#39;t use `Chr(34)` it&#39;s very jarring instead escape the double-quote by doubling it, example `jar = &quot;&quot;&quot;C:\\Users\\Documents\\ExP.jarr&quot;&quot;&quot;`. Your raw java command in a VBScript string should look something like `&quot;java -jar &quot;&quot;C:\\Users\\Documents\\ExP.jar&quot;&quot; &quot;&quot;C:\\Users\\Documents\\TestProject&quot;&quot;&quot;`.","body":"You have no spaces between your arguments. Also, don&#39;t use <code>Chr(34)</code> it&#39;s very jarring instead escape the double-quote by doubling it, example <code>jar = &quot;&quot;&quot;C:\\Users\\Documents\\ExP.jarr&quot;&quot;&quot;</code>. Your raw java command in a VBScript string should look something like <code>&quot;java -jar &quot;&quot;C:\\Users\\Documents\\ExP.jar&quot;&quot; &quot;&quot;C:\\Users\\Documents\\TestProject&quot;&quot;&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":354536,"reputation":16389,"user_id":692942,"accept_rate":100,"display_name":"user692942"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638903216,"creation_date":1638902234,"answer_id":70265346,"question_id":70264076,"body_markdown":"You are concatenating the command to execute but not leaving spaces between the arguments so at the moment if you debugged the command being passed to `Exec()` it will look like;\r\n\r\n```none\r\njava -jar &quot;C:\\Users\\Documents\\ExP.jar&quot;&quot;C:\\Users\\Documents\\TestProject&quot;\r\n```\r\n\r\nThe fix is to add a concatentated space between `jar` and `location`.\r\n\r\n```vb\r\nSub Button1_Click()\r\n    Set WshShell = CreateObject(&quot;WScript.Shell&quot;)\r\n    Dim a\r\n    Dim location\r\n    Dim dictionary\r\n    Set dictionary = CreateObject(&quot;Scripting.Dictionary&quot;)\r\n    jar = &quot;C:\\Users\\Documents\\ExP.jar&quot;\r\n    location = &quot;C:\\Users\\Documents\\TestProject&quot;\r\n    Set WshShellExec = WshShell.Exec(&quot;java -jar &quot;&quot;&quot; &amp; jar &amp; &quot;&quot;&quot; &quot;&quot;&quot; &amp; location &amp; &quot;&quot;&quot;&quot;)\r\nEnd Sub\r\n```\r\n\r\nWhich will produce the command\r\n\r\n```none\r\njava -jar &quot;C:\\Users\\Documents\\ExP.jar&quot; &quot;C:\\Users\\Documents\\TestProject&quot;\r\n```\r\n\r\nNote, the replacement of `Chr(34)` with the correct escape method for double quotes which is to double them.\r\n\r\n---\r\n\r\n### Useful Links\r\n\r\n* [Launch programs whose path contains spaces](https://stackoverflow.com/q/1340355/692942)","title":"How to run java program via vbscript with multiple arguments?","body":"<p>You are concatenating the command to execute but not leaving spaces between the arguments so at the moment if you debugged the command being passed to <code>Exec()</code> it will look like;</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -jar &quot;C:\\Users\\Documents\\ExP.jar&quot;&quot;C:\\Users\\Documents\\TestProject&quot;\n</code></pre>\n<p>The fix is to add a concatentated space between <code>jar</code> and <code>location</code>.</p>\n<pre class=\"lang-vb prettyprint-override\"><code>Sub Button1_Click()\n    Set WshShell = CreateObject(&quot;WScript.Shell&quot;)\n    Dim a\n    Dim location\n    Dim dictionary\n    Set dictionary = CreateObject(&quot;Scripting.Dictionary&quot;)\n    jar = &quot;C:\\Users\\Documents\\ExP.jar&quot;\n    location = &quot;C:\\Users\\Documents\\TestProject&quot;\n    Set WshShellExec = WshShell.Exec(&quot;java -jar &quot;&quot;&quot; &amp; jar &amp; &quot;&quot;&quot; &quot;&quot;&quot; &amp; location &amp; &quot;&quot;&quot;&quot;)\nEnd Sub\n</code></pre>\n<p>Which will produce the command</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -jar &quot;C:\\Users\\Documents\\ExP.jar&quot; &quot;C:\\Users\\Documents\\TestProject&quot;\n</code></pre>\n<p>Note, the replacement of <code>Chr(34)</code> with the correct escape method for double quotes which is to double them.</p>\n<hr />\n<h3>Useful Links</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/1340355/692942\">Launch programs whose path contains spaces</a></li>\n</ul>\n"}],"owner":{"account_id":11045803,"reputation":1246,"user_id":8111997,"display_name":"Poorna Senani Gamage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70265346,"answer_count":1,"score":1,"last_activity_date":1638903216,"creation_date":1638896330,"question_id":70264076,"body_markdown":"I want to run a simple java programme with parsing arguments using VB Scripts.\r\n\r\nthis is my VBScript code \r\n\r\n    Sub Button1_Click()\r\n    Set WshShell = CreateObject(&quot;WScript.Shell&quot;)\r\n    Dim jar\r\n    Dim location\r\n    Dim dictionary\r\n    Set dictionary = CreateObject(&quot;Scripting.Dictionary&quot;)\r\n    jar = &quot;C:\\Users\\Documents\\ExP.jar&quot;\r\n    location = &quot;C:\\Users\\Documents\\TestProject&quot;\r\n    Set WshShellExec = WshShell.Exec(&quot;java -jar &quot; &amp; Chr(34) &amp; jar &amp; Chr(34) &amp; location &amp; Chr(34))\r\n    End Sub\r\n\r\nThis is my java class which I want to pass arguments \r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tReadTestScripts readTestScripts = new ReadTestScripts(args[3]);\r\n    //location  =&quot;C:\\\\Users\\\\Documents\\\\TestProject&quot; - want to pass this path to java programme \r\n    \t\treadTestScripts.showResult();\r\n        }\r\n    \r\nI didn&#39;t get the expected output when I pass the location as VBScript argument   \r\n\r\n\r\n","title":"How to run java program via vbscript with multiple arguments?","body":"<p>I want to run a simple java programme with parsing arguments using VB Scripts.</p>\n<p>this is my VBScript code</p>\n<pre><code>Sub Button1_Click()\nSet WshShell = CreateObject(&quot;WScript.Shell&quot;)\nDim jar\nDim location\nDim dictionary\nSet dictionary = CreateObject(&quot;Scripting.Dictionary&quot;)\njar = &quot;C:\\Users\\Documents\\ExP.jar&quot;\nlocation = &quot;C:\\Users\\Documents\\TestProject&quot;\nSet WshShellExec = WshShell.Exec(&quot;java -jar &quot; &amp; Chr(34) &amp; jar &amp; Chr(34) &amp; location &amp; Chr(34))\nEnd Sub\n</code></pre>\n<p>This is my java class which I want to pass arguments</p>\n<pre><code>    public static void main(String[] args) {\n        ReadTestScripts readTestScripts = new ReadTestScripts(args[3]);\n//location  =&quot;C:\\\\Users\\\\Documents\\\\TestProject&quot; - want to pass this path to java programme \n        readTestScripts.showResult();\n    }\n</code></pre>\n<p>I didn't get the expected output when I pass the location as VBScript argument</p>\n"},{"tags":["java","c","jna","jemalloc"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638902651,"creation_date":1638902651,"answer_id":70265432,"question_id":70243376,"body_markdown":"Most JNA memory allocation is done using the `Memory` class.   For example, this line would allocate 1024 bytes of memory using the native `malloc()`.\r\n```java\r\nMemory buffer = new Memory(1024);\r\n```\r\nMany other JNA classes, such as `Structure`, use a `Memory` buffer internally.  Other types such as `NativeLong` also have an appropriate sized allocation.\r\n\r\nAll of these native memory allocations are eventually released as part of Java&#39;s garbage collection process (`finalize()` calls `dispose()` which releases the memory).\r\n\r\nHowever, when the allocation is done internally to the native code, there&#39;s no way without looking at that source to see where the memory is allocated and freed.  This is a common source of leaks, however, if the Java/JNA code invokes a native function which allocates memory, and fails to follow the API instructions on how to release/free that memory when done with it.  \r\n\r\nBottom line: you really have to look at the source code and for each native function that operates on memory somewhere, find out whether you are responsible for allocating the memory and passing the buffer (Java/JNA will take care of releasing it) or if the native code itself creates the buffer that it gives you.  If it&#39;s the latter case, there will always be another method you can/should use to free the buffer.","title":"Finding native memory allocations in a jna application using jemalloc","body":"<p>Most JNA memory allocation is done using the <code>Memory</code> class.   For example, this line would allocate 1024 bytes of memory using the native <code>malloc()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Memory buffer = new Memory(1024);\n</code></pre>\n<p>Many other JNA classes, such as <code>Structure</code>, use a <code>Memory</code> buffer internally.  Other types such as <code>NativeLong</code> also have an appropriate sized allocation.</p>\n<p>All of these native memory allocations are eventually released as part of Java's garbage collection process (<code>finalize()</code> calls <code>dispose()</code> which releases the memory).</p>\n<p>However, when the allocation is done internally to the native code, there's no way without looking at that source to see where the memory is allocated and freed.  This is a common source of leaks, however, if the Java/JNA code invokes a native function which allocates memory, and fails to follow the API instructions on how to release/free that memory when done with it.</p>\n<p>Bottom line: you really have to look at the source code and for each native function that operates on memory somewhere, find out whether you are responsible for allocating the memory and passing the buffer (Java/JNA will take care of releasing it) or if the native code itself creates the buffer that it gives you.  If it's the latter case, there will always be another method you can/should use to free the buffer.</p>\n"}],"owner":{"account_id":23440416,"reputation":1,"user_id":17497992,"display_name":"ywu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638903032,"creation_date":1638783269,"question_id":70243376,"body_markdown":"We have a Java application that invokes a .so library written in C via JNA，so the Java application and C code run in the same process. \r\n\r\nWe found a slow memory leak, and we have excluded the JVM heap as a cause via JVM heap monitor，confirming that the problem exists in the JNA or C code. \r\n\r\nWe found jemalloc can track memory allocations，so we install it with `--prefix=/usr/local --enable-prof` options, and set `LD_PRELOAD=/usr/local/lib/libjemalloc.so` and `MALLOC_CONF=prof_leak:true,lg_prof_sample:17,prof_final:true,prof_prefix:/home/admin/prof_dump/jeprof` environment. It generates a dump file，then we use jeprof tool and transform the dump file to a pdf file using `jeprof --show_bytes --pdf \\ jeprof.* \\ &gt; ./wdmp-profiling.pdf`. The result shown here: [memory leak profile][1]\r\n\r\nFrom the figure, we can find many methods invoked about java. But we can&#39;t find any information about JNA or C code. From the figure, we found a invoke branch, it only shows hexadecimal address, so we are not sure whether it relates to JNA or C. \r\n\r\nWe used the [perf-map-agent][2] tool and did export symbol mapping, as shown here: [symbols mapping][3]\r\n\r\nBut when we search the hexadecimal address from jeprof result in symbols mapping result, we can&#39;t find associated symbols.\r\n\r\nIs it possible to find where (C function name or JNA code) native memory is allocated in this case (a Java application invoking C library via JNA), not java heap memory?  If it is possible, how? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rzHr6.jpg\r\n  [2]: https://github.com/jvm-profiling-tools/perf-map-agent\r\n  [3]: https://i.stack.imgur.com/7AVlc.png","title":"Finding native memory allocations in a jna application using jemalloc","body":"<p>We have a Java application that invokes a .so library written in C via JNA，so the Java application and C code run in the same process.</p>\n<p>We found a slow memory leak, and we have excluded the JVM heap as a cause via JVM heap monitor，confirming that the problem exists in the JNA or C code.</p>\n<p>We found jemalloc can track memory allocations，so we install it with <code>--prefix=/usr/local --enable-prof</code> options, and set <code>LD_PRELOAD=/usr/local/lib/libjemalloc.so</code> and <code>MALLOC_CONF=prof_leak:true,lg_prof_sample:17,prof_final:true,prof_prefix:/home/admin/prof_dump/jeprof</code> environment. It generates a dump file，then we use jeprof tool and transform the dump file to a pdf file using <code>jeprof --show_bytes --pdf \\ jeprof.* \\ &gt; ./wdmp-profiling.pdf</code>. The result shown here: <a href=\"https://i.stack.imgur.com/rzHr6.jpg\" rel=\"nofollow noreferrer\">memory leak profile</a></p>\n<p>From the figure, we can find many methods invoked about java. But we can't find any information about JNA or C code. From the figure, we found a invoke branch, it only shows hexadecimal address, so we are not sure whether it relates to JNA or C.</p>\n<p>We used the <a href=\"https://github.com/jvm-profiling-tools/perf-map-agent\" rel=\"nofollow noreferrer\">perf-map-agent</a> tool and did export symbol mapping, as shown here: <a href=\"https://i.stack.imgur.com/7AVlc.png\" rel=\"nofollow noreferrer\">symbols mapping</a></p>\n<p>But when we search the hexadecimal address from jeprof result in symbols mapping result, we can't find associated symbols.</p>\n<p>Is it possible to find where (C function name or JNA code) native memory is allocated in this case (a Java application invoking C library via JNA), not java heap memory?  If it is possible, how?</p>\n"},{"tags":["java","caching","spring-data-jpa","multi-tenant","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":247334,"reputation":669,"user_id":521990,"accept_rate":80,"display_name":"user521990"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620883373,"creation_date":1620883373,"answer_id":67514259,"question_id":61295458,"body_markdown":"I am using tenant per database (MySQL), but as long as you are setting a thread context above here is what I&#39;m doing - I&#39;m using Spring Boot. I&#39;ve created a custom Cache Key generator which combines the tenant name + class + and method. You can really choose any combination. Whenever I pass that tenant back it pulls the correct entries. In the Hazelcast command center for my AppointmentType map type I see the number of entries increment per tenant.\r\n\r\nSome other references that may be helpful:\r\n\r\n - https://www.javadevjournal.com/spring/spring-cache-custom-keygenerator/\r\n - https://docs.spring.io/spring-framework/docs/4.3.x/spring-framework-reference/html/cache.html (search for keyGenerator=&quot;myKeyGenerator&quot;)\r\n\r\nIn your class where you want to cache (mine is a service class):\r\n\r\n    @Service\r\n    public class AppointmentTypeService {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(AppointmentTypeService.class);\r\n    \r\n        private final AppointmentTypeRepository appointmentTypeRepository;\r\n    \r\n        @Autowired\r\n        AppointmentTypeService(AppointmentTypeRepository appointmentTypeRepository) {\r\n            this.appointmentTypeRepository = appointmentTypeRepository;\r\n        }\r\n        \r\n        //ADD keyGenerator value. Name is the name of the bean of the class\r\n        @Cacheable(value=&quot;appointmentType&quot;, keyGenerator = &quot;multiTenantCacheKeyGenerator&quot;)\r\n        public List&lt;AppointmentType&gt; list() {\r\n            return this.appointmentTypeRepository.findAll();\r\n        }\r\n    \r\n        @CacheEvict(value=&quot;appointmentType&quot;, allEntries=true)\r\n        public Long create(AppointmentType request) {\r\n            this.appointmentTypeRepository.saveAndFlush(request);\r\n            return request.getAppointmentTypeId();\r\n        }\r\n    \r\n        @CacheEvict(value=&quot;appointmentType&quot;, allEntries=true)\r\n        public void delete(Long id) {\r\n            this.appointmentTypeRepository.deleteById(id);\r\n        }\r\n    \r\n        public Optional&lt;AppointmentType&gt; findById(Long id) {\r\n            return this.appointmentTypeRepository.findById(id);\r\n        }\r\n    \r\n    }\r\n\r\nCreate key generator class\r\n\r\n    //setting the bean name here\r\n    @Component(&quot;multiTenantCacheKeyGenerator&quot;)\r\n    public class MultiTenantCacheKeyGenerator implements KeyGenerator {\r\n    \r\n        @Override\r\n        public Object generate(Object o, Method method, Object... os) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(TenantContext.getCurrentTenantInstanceName()) //my tenant context class which is using local thread. I set the value in the Spring filter.\r\n              .append(&quot;_&quot;)\r\n              .append(o.getClass().getSimpleName())\r\n              .append(&quot;-&quot;)\r\n              .append(method.getName());\r\n          }\r\n\r\n           return sb.toString();\r\n        }\r\n        \r\n    }","title":"Setting Hazelcast Cache for Multi-tenancy","body":"<p>I am using tenant per database (MySQL), but as long as you are setting a thread context above here is what I'm doing - I'm using Spring Boot. I've created a custom Cache Key generator which combines the tenant name + class + and method. You can really choose any combination. Whenever I pass that tenant back it pulls the correct entries. In the Hazelcast command center for my AppointmentType map type I see the number of entries increment per tenant.</p>\n<p>Some other references that may be helpful:</p>\n<ul>\n<li><a href=\"https://www.javadevjournal.com/spring/spring-cache-custom-keygenerator/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring/spring-cache-custom-keygenerator/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/4.3.x/spring-framework-reference/html/cache.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/4.3.x/spring-framework-reference/html/cache.html</a> (search for keyGenerator=&quot;myKeyGenerator&quot;)</li>\n</ul>\n<p>In your class where you want to cache (mine is a service class):</p>\n<pre><code>@Service\npublic class AppointmentTypeService {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AppointmentTypeService.class);\n\n    private final AppointmentTypeRepository appointmentTypeRepository;\n\n    @Autowired\n    AppointmentTypeService(AppointmentTypeRepository appointmentTypeRepository) {\n        this.appointmentTypeRepository = appointmentTypeRepository;\n    }\n    \n    //ADD keyGenerator value. Name is the name of the bean of the class\n    @Cacheable(value=&quot;appointmentType&quot;, keyGenerator = &quot;multiTenantCacheKeyGenerator&quot;)\n    public List&lt;AppointmentType&gt; list() {\n        return this.appointmentTypeRepository.findAll();\n    }\n\n    @CacheEvict(value=&quot;appointmentType&quot;, allEntries=true)\n    public Long create(AppointmentType request) {\n        this.appointmentTypeRepository.saveAndFlush(request);\n        return request.getAppointmentTypeId();\n    }\n\n    @CacheEvict(value=&quot;appointmentType&quot;, allEntries=true)\n    public void delete(Long id) {\n        this.appointmentTypeRepository.deleteById(id);\n    }\n\n    public Optional&lt;AppointmentType&gt; findById(Long id) {\n        return this.appointmentTypeRepository.findById(id);\n    }\n\n}\n</code></pre>\n<p>Create key generator class</p>\n<pre><code>//setting the bean name here\n@Component(&quot;multiTenantCacheKeyGenerator&quot;)\npublic class MultiTenantCacheKeyGenerator implements KeyGenerator {\n\n    @Override\n    public Object generate(Object o, Method method, Object... os) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(TenantContext.getCurrentTenantInstanceName()) //my tenant context class which is using local thread. I set the value in the Spring filter.\n          .append(&quot;_&quot;)\n          .append(o.getClass().getSimpleName())\n          .append(&quot;-&quot;)\n          .append(method.getName());\n      }\n\n       return sb.toString();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17244140,"reputation":797,"user_id":12485815,"display_name":"francisco neto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638902964,"creation_date":1638902964,"answer_id":70265493,"question_id":61295458,"body_markdown":"One approach to defining different cache keys for the tenants is to override the method `getCache` in `org.springframework.cache.CacheManager`, as suggested here: [Extended spring cache...][1] \r\n\r\nAs of Jhipster `7.0.1`, the `CacheManager` for Hazelcast is defined in the class `CacheConfiguration` as stated bellow:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfiguration {\r\n\r\n    //...\r\n\r\n    @Bean\r\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\r\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n\r\nTo have the cache keys prefixed with the tenant id, the following code may be used as a starting point:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfiguration {\r\n\r\n    @Bean\r\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\r\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance){\r\n            @Override\r\n            public Cache getCache(String name) {\r\n                String tenantId = TenantStorage.getTenantId();\r\n                if (StringUtils.isNotBlank(tenantId)){\r\n                    return super.getCache(String.format(&quot;%s:%s&quot;, tenantId, name));\r\n                }\r\n                return super.getCache(name);\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote: in the above code, `TenantStorage.getTenantId()` is a static function one should implement and that returns the current tenant id.\r\n\r\nConsider the class posted by the OP:\r\n\r\n```java\r\n    @Cacheable(cacheNames = &quot;usersByLogin&quot;)\r\n    Optional&lt;User&gt; findOneWithRolesByLogin(String login);\r\n```\r\n\r\nThe following cache values will be used by HazelCast:\r\n\r\n- tenant1 =&gt; tenant1:usersByLogin\r\n- tenant2 =&gt; tenant2:usersByLogin\r\n- null =&gt; usersByLogin\r\n\r\n\r\n\r\n  [1]: https://developpaper.com/extended-spring-cache-supports-caching-multiple-tenants-and-their-automatic-expiration/","title":"Setting Hazelcast Cache for Multi-tenancy","body":"<p>One approach to defining different cache keys for the tenants is to override the method <code>getCache</code> in <code>org.springframework.cache.CacheManager</code>, as suggested here: <a href=\"https://developpaper.com/extended-spring-cache-supports-caching-multiple-tenants-and-their-automatic-expiration/\" rel=\"nofollow noreferrer\">Extended spring cache...</a></p>\n<p>As of Jhipster <code>7.0.1</code>, the <code>CacheManager</code> for Hazelcast is defined in the class <code>CacheConfiguration</code> as stated bellow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\n    //...\n\n    @Bean\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\n    }\n\n    //...\n}\n</code></pre>\n<p>To have the cache keys prefixed with the tenant id, the following code may be used as a starting point:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\n    @Bean\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance){\n            @Override\n            public Cache getCache(String name) {\n                String tenantId = TenantStorage.getTenantId();\n                if (StringUtils.isNotBlank(tenantId)){\n                    return super.getCache(String.format(&quot;%s:%s&quot;, tenantId, name));\n                }\n                return super.getCache(name);\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>Note: in the above code, <code>TenantStorage.getTenantId()</code> is a static function one should implement and that returns the current tenant id.</p>\n<p>Consider the class posted by the OP:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Cacheable(cacheNames = &quot;usersByLogin&quot;)\n    Optional&lt;User&gt; findOneWithRolesByLogin(String login);\n</code></pre>\n<p>The following cache values will be used by HazelCast:</p>\n<ul>\n<li>tenant1 =&gt; tenant1:usersByLogin</li>\n<li>tenant2 =&gt; tenant2:usersByLogin</li>\n<li>null =&gt; usersByLogin</li>\n</ul>\n"}],"owner":{"account_id":3823175,"reputation":521,"user_id":3170736,"accept_rate":50,"display_name":"user3170736"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638902964,"creation_date":1587240180,"question_id":61295458,"body_markdown":"I am currently using the JHipster generator for really boiler plate code which involves HazelCast as a second level cache. I was able to get Multi-tenancy (schema per tenant) working with a header based tenant context. The problem I have now, is that the @Cacheable annotations all share a context. If the cache is hot, I end up with cross-schema data. For example, tenant1 pulls all records from their table which is cached. Tenant 2 goes to pull the same items from their table, the cache is read, and it never goes to the actual tenant db. An easy fix would be disable caching all together but I would like to not do that. I can not for the life of me figure out how to make hazelcast aware of the tenant context - documentation is lacking. Some others have solved this with using custom name resolvers but it doesn&#39;t appear to be as dynamic as I was hoping (i.e. you have to know all of the tenants ahead of time). Thoughts?\r\n\r\n\r\nCurrent cache config:\r\n\r\n```\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfiguration implements DisposableBean {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(CacheConfiguration.class);\r\n\r\n    private final Environment env;\r\n\r\n    private final ServerProperties serverProperties;\r\n\r\n    private final DiscoveryClient discoveryClient;\r\n\r\n    private Registration registration;\r\n\r\n    public CacheConfiguration(Environment env, ServerProperties serverProperties, DiscoveryClient discoveryClient) {\r\n        this.env = env;\r\n        this.serverProperties = serverProperties;\r\n        this.discoveryClient = discoveryClient;\r\n    }\r\n\r\n    @Autowired(required = false)\r\n    public void setRegistration(Registration registration) {\r\n        this.registration = registration;\r\n    }\r\n\r\n    @Override\r\n    public void destroy() throws Exception {\r\n        log.info(&quot;Closing Cache Manager&quot;);\r\n        Hazelcast.shutdownAll();\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\r\n        log.debug(&quot;Starting HazelcastCacheManager&quot;);\r\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastInstance hazelcastInstance(JHipsterProperties jHipsterProperties) {\r\n        log.debug(&quot;Configuring Hazelcast&quot;);\r\n        HazelcastInstance hazelCastInstance = Hazelcast.getHazelcastInstanceByName(&quot;SampleApp&quot;);\r\n        if (hazelCastInstance != null) {\r\n            log.debug(&quot;Hazelcast already initialized&quot;);\r\n            return hazelCastInstance;\r\n        }\r\n        Config config = new Config();\r\n        config.setInstanceName(&quot;SampleApp&quot;);\r\n        config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);\r\n        if (this.registration == null) {\r\n            log.warn(&quot;No discovery service is set up, Hazelcast cannot create a cluster.&quot;);\r\n        } else {\r\n            // The serviceId is by default the application&#39;s name,\r\n            // see the &quot;spring.application.name&quot; standard Spring property\r\n            String serviceId = registration.getServiceId();\r\n            log.debug(&quot;Configuring Hazelcast clustering for instanceId: {}&quot;, serviceId);\r\n            // In development, everything goes through 127.0.0.1, with a different port\r\n            if (env.acceptsProfiles(Profiles.of(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT))) {\r\n                log.debug(&quot;Application is running with the \\&quot;dev\\&quot; profile, Hazelcast &quot; +\r\n                          &quot;cluster will only work with localhost instances&quot;);\r\n\r\n                System.setProperty(&quot;hazelcast.local.localAddress&quot;, &quot;127.0.0.1&quot;);\r\n                config.getNetworkConfig().setPort(serverProperties.getPort() + 5701);\r\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\r\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\r\n                    String clusterMember = &quot;127.0.0.1:&quot; + (instance.getPort() + 5701);\r\n                    log.debug(&quot;Adding Hazelcast (dev) cluster member {}&quot;, clusterMember);\r\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\r\n                }\r\n            } else { // Production configuration, one host per instance all using port 5701\r\n                config.getNetworkConfig().setPort(5701);\r\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\r\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\r\n                    String clusterMember = instance.getHost() + &quot;:5701&quot;;\r\n                    log.debug(&quot;Adding Hazelcast (prod) cluster member {}&quot;, clusterMember);\r\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\r\n                }\r\n            }\r\n        }\r\n        config.getMapConfigs().put(&quot;default&quot;, initializeDefaultMapConfig(jHipsterProperties));\r\n\r\n        // Full reference is available at: http://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\r\n        config.setManagementCenterConfig(initializeDefaultManagementCenterConfig(jHipsterProperties));\r\n        config.getMapConfigs().put(&quot;com.test.sampleapp.domain.*&quot;, initializeDomainMapConfig(jHipsterProperties));\r\n        return Hazelcast.newHazelcastInstance(config);\r\n    }\r\n\r\n    private ManagementCenterConfig initializeDefaultManagementCenterConfig(JHipsterProperties jHipsterProperties) {\r\n        ManagementCenterConfig managementCenterConfig = new ManagementCenterConfig();\r\n        managementCenterConfig.setEnabled(jHipsterProperties.getCache().getHazelcast().getManagementCenter().isEnabled());\r\n        managementCenterConfig.setUrl(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUrl());\r\n        managementCenterConfig.setUpdateInterval(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUpdateInterval());\r\n        return managementCenterConfig;\r\n    }\r\n\r\n    private MapConfig initializeDefaultMapConfig(JHipsterProperties jHipsterProperties) {\r\n        MapConfig mapConfig = new MapConfig();\r\n\r\n        /*\r\n        Number of backups. If 1 is set as the backup-count for example,\r\n        then all entries of the map will be copied to another JVM for\r\n        fail-safety. Valid numbers are 0 (no backup), 1, 2, 3.\r\n        */\r\n        mapConfig.setBackupCount(jHipsterProperties.getCache().getHazelcast().getBackupCount());\r\n\r\n        /*\r\n        Valid values are:\r\n        NONE (no eviction),\r\n        LRU (Least Recently Used),\r\n        LFU (Least Frequently Used).\r\n        NONE is the default.\r\n        */\r\n        mapConfig.setEvictionPolicy(EvictionPolicy.LRU);\r\n\r\n        /*\r\n        Maximum size of the map. When max size is reached,\r\n        map is evicted based on the policy defined.\r\n        Any integer between 0 and Integer.MAX_VALUE. 0 means\r\n        Integer.MAX_VALUE. Default is 0.\r\n        */\r\n        mapConfig.setMaxSizeConfig(new MaxSizeConfig(0, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));\r\n\r\n        return mapConfig;\r\n    }\r\n\r\n    private MapConfig initializeDomainMapConfig(JHipsterProperties jHipsterProperties) {\r\n        MapConfig mapConfig = new MapConfig();\r\n        mapConfig.setTimeToLiveSeconds(jHipsterProperties.getCache().getHazelcast().getTimeToLiveSeconds());\r\n        return mapConfig;\r\n    }\r\n}\r\n```\r\n\r\nSample Repository using cacheNames...\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n    String USERS_BY_LOGIN_CACHE = &quot;usersByLogin&quot;;\r\n\r\n    String USERS_BY_EMAIL_CACHE = &quot;usersByEmail&quot;;\r\n\r\n    String USERS_BY_ID_CACHE = &quot;usersById&quot;;\r\n\r\n    Optional&lt;User&gt; findOneByActivationKey(String activationKey);\r\n\r\n    List&lt;User&gt; findAllByActivatedIsFalseAndActivationKeyIsNotNullAndCreatedDateBefore(Instant dateTime);\r\n\r\n    Optional&lt;User&gt; findOneByResetKey(String resetKey);\r\n\r\n    Optional&lt;User&gt; findOneByEmailIgnoreCase(String email);\r\n\r\n    Optional&lt;User&gt; findOneByLogin(String login);\r\n\r\n    @EntityGraph(attributePaths = &quot;roles&quot;)\r\n    @Cacheable(cacheNames = USERS_BY_ID_CACHE)\r\n    Optional&lt;User&gt; findOneWithRolesById(Long id);\r\n\r\n    @EntityGraph(attributePaths = &quot;roles&quot;)\r\n    @Cacheable(cacheNames = USERS_BY_LOGIN_CACHE)\r\n    Optional&lt;User&gt; findOneWithRolesByLogin(String login);\r\n\r\n    @EntityGraph(attributePaths = { &quot;roles&quot;, &quot;roles.permissions&quot; })\r\n    @Cacheable(cacheNames = USERS_BY_LOGIN_CACHE)\r\n    Optional&lt;User&gt; findOneWithRolesAndPermissionsByLogin(String login);\r\n\r\n    @EntityGraph(attributePaths = &quot;roles&quot;)\r\n    @Cacheable(cacheNames = USERS_BY_EMAIL_CACHE)\r\n    Optional&lt;User&gt; findOneWithRolesByEmail(String email);\r\n\r\n    Page&lt;User&gt; findAllByLoginNot(Pageable pageable, String login);\r\n}\r\n```\r\n\r\n","title":"Setting Hazelcast Cache for Multi-tenancy","body":"<p>I am currently using the JHipster generator for really boiler plate code which involves HazelCast as a second level cache. I was able to get Multi-tenancy (schema per tenant) working with a header based tenant context. The problem I have now, is that the @Cacheable annotations all share a context. If the cache is hot, I end up with cross-schema data. For example, tenant1 pulls all records from their table which is cached. Tenant 2 goes to pull the same items from their table, the cache is read, and it never goes to the actual tenant db. An easy fix would be disable caching all together but I would like to not do that. I can not for the life of me figure out how to make hazelcast aware of the tenant context - documentation is lacking. Some others have solved this with using custom name resolvers but it doesn't appear to be as dynamic as I was hoping (i.e. you have to know all of the tenants ahead of time). Thoughts?</p>\n\n<p>Current cache config:</p>\n\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration implements DisposableBean {\n\n    private final Logger log = LoggerFactory.getLogger(CacheConfiguration.class);\n\n    private final Environment env;\n\n    private final ServerProperties serverProperties;\n\n    private final DiscoveryClient discoveryClient;\n\n    private Registration registration;\n\n    public CacheConfiguration(Environment env, ServerProperties serverProperties, DiscoveryClient discoveryClient) {\n        this.env = env;\n        this.serverProperties = serverProperties;\n        this.discoveryClient = discoveryClient;\n    }\n\n    @Autowired(required = false)\n    public void setRegistration(Registration registration) {\n        this.registration = registration;\n    }\n\n    @Override\n    public void destroy() throws Exception {\n        log.info(\"Closing Cache Manager\");\n        Hazelcast.shutdownAll();\n    }\n\n    @Bean\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\n        log.debug(\"Starting HazelcastCacheManager\");\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\n    }\n\n    @Bean\n    public HazelcastInstance hazelcastInstance(JHipsterProperties jHipsterProperties) {\n        log.debug(\"Configuring Hazelcast\");\n        HazelcastInstance hazelCastInstance = Hazelcast.getHazelcastInstanceByName(\"SampleApp\");\n        if (hazelCastInstance != null) {\n            log.debug(\"Hazelcast already initialized\");\n            return hazelCastInstance;\n        }\n        Config config = new Config();\n        config.setInstanceName(\"SampleApp\");\n        config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);\n        if (this.registration == null) {\n            log.warn(\"No discovery service is set up, Hazelcast cannot create a cluster.\");\n        } else {\n            // The serviceId is by default the application's name,\n            // see the \"spring.application.name\" standard Spring property\n            String serviceId = registration.getServiceId();\n            log.debug(\"Configuring Hazelcast clustering for instanceId: {}\", serviceId);\n            // In development, everything goes through 127.0.0.1, with a different port\n            if (env.acceptsProfiles(Profiles.of(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT))) {\n                log.debug(\"Application is running with the \\\"dev\\\" profile, Hazelcast \" +\n                          \"cluster will only work with localhost instances\");\n\n                System.setProperty(\"hazelcast.local.localAddress\", \"127.0.0.1\");\n                config.getNetworkConfig().setPort(serverProperties.getPort() + 5701);\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\n                    String clusterMember = \"127.0.0.1:\" + (instance.getPort() + 5701);\n                    log.debug(\"Adding Hazelcast (dev) cluster member {}\", clusterMember);\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\n                }\n            } else { // Production configuration, one host per instance all using port 5701\n                config.getNetworkConfig().setPort(5701);\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\n                    String clusterMember = instance.getHost() + \":5701\";\n                    log.debug(\"Adding Hazelcast (prod) cluster member {}\", clusterMember);\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\n                }\n            }\n        }\n        config.getMapConfigs().put(\"default\", initializeDefaultMapConfig(jHipsterProperties));\n\n        // Full reference is available at: http://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\n        config.setManagementCenterConfig(initializeDefaultManagementCenterConfig(jHipsterProperties));\n        config.getMapConfigs().put(\"com.test.sampleapp.domain.*\", initializeDomainMapConfig(jHipsterProperties));\n        return Hazelcast.newHazelcastInstance(config);\n    }\n\n    private ManagementCenterConfig initializeDefaultManagementCenterConfig(JHipsterProperties jHipsterProperties) {\n        ManagementCenterConfig managementCenterConfig = new ManagementCenterConfig();\n        managementCenterConfig.setEnabled(jHipsterProperties.getCache().getHazelcast().getManagementCenter().isEnabled());\n        managementCenterConfig.setUrl(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUrl());\n        managementCenterConfig.setUpdateInterval(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUpdateInterval());\n        return managementCenterConfig;\n    }\n\n    private MapConfig initializeDefaultMapConfig(JHipsterProperties jHipsterProperties) {\n        MapConfig mapConfig = new MapConfig();\n\n        /*\n        Number of backups. If 1 is set as the backup-count for example,\n        then all entries of the map will be copied to another JVM for\n        fail-safety. Valid numbers are 0 (no backup), 1, 2, 3.\n        */\n        mapConfig.setBackupCount(jHipsterProperties.getCache().getHazelcast().getBackupCount());\n\n        /*\n        Valid values are:\n        NONE (no eviction),\n        LRU (Least Recently Used),\n        LFU (Least Frequently Used).\n        NONE is the default.\n        */\n        mapConfig.setEvictionPolicy(EvictionPolicy.LRU);\n\n        /*\n        Maximum size of the map. When max size is reached,\n        map is evicted based on the policy defined.\n        Any integer between 0 and Integer.MAX_VALUE. 0 means\n        Integer.MAX_VALUE. Default is 0.\n        */\n        mapConfig.setMaxSizeConfig(new MaxSizeConfig(0, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));\n\n        return mapConfig;\n    }\n\n    private MapConfig initializeDomainMapConfig(JHipsterProperties jHipsterProperties) {\n        MapConfig mapConfig = new MapConfig();\n        mapConfig.setTimeToLiveSeconds(jHipsterProperties.getCache().getHazelcast().getTimeToLiveSeconds());\n        return mapConfig;\n    }\n}\n</code></pre>\n\n<p>Sample Repository using cacheNames...</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    String USERS_BY_LOGIN_CACHE = \"usersByLogin\";\n\n    String USERS_BY_EMAIL_CACHE = \"usersByEmail\";\n\n    String USERS_BY_ID_CACHE = \"usersById\";\n\n    Optional&lt;User&gt; findOneByActivationKey(String activationKey);\n\n    List&lt;User&gt; findAllByActivatedIsFalseAndActivationKeyIsNotNullAndCreatedDateBefore(Instant dateTime);\n\n    Optional&lt;User&gt; findOneByResetKey(String resetKey);\n\n    Optional&lt;User&gt; findOneByEmailIgnoreCase(String email);\n\n    Optional&lt;User&gt; findOneByLogin(String login);\n\n    @EntityGraph(attributePaths = \"roles\")\n    @Cacheable(cacheNames = USERS_BY_ID_CACHE)\n    Optional&lt;User&gt; findOneWithRolesById(Long id);\n\n    @EntityGraph(attributePaths = \"roles\")\n    @Cacheable(cacheNames = USERS_BY_LOGIN_CACHE)\n    Optional&lt;User&gt; findOneWithRolesByLogin(String login);\n\n    @EntityGraph(attributePaths = { \"roles\", \"roles.permissions\" })\n    @Cacheable(cacheNames = USERS_BY_LOGIN_CACHE)\n    Optional&lt;User&gt; findOneWithRolesAndPermissionsByLogin(String login);\n\n    @EntityGraph(attributePaths = \"roles\")\n    @Cacheable(cacheNames = USERS_BY_EMAIL_CACHE)\n    Optional&lt;User&gt; findOneWithRolesByEmail(String email);\n\n    Page&lt;User&gt; findAllByLoginNot(Pageable pageable, String login);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","mobile"],"answers":[{"tags":[],"owner":{"account_id":11172549,"reputation":124,"user_id":8199125,"display_name":"Ali Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638893855,"creation_date":1638893855,"answer_id":70263519,"question_id":70263462,"body_markdown":"You missed the `&gt;` in your permission.\r\n\r\njust copy this :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;","title":"AndroidManifest.xml trouble in the code using ACCESS_FINE_LOCATION I kept changing the program around and now I cannot figure out what went wrong","body":"<p>You missed the <code>&gt;</code> in your permission.</p>\n<p>just copy this :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":22506596,"reputation":1,"user_id":16702103,"display_name":"Amanda W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638902936,"creation_date":1638893610,"question_id":70263462,"body_markdown":"My program was up and running completely. Now it seems like there is something wrong in the AndroidManifest.xml I tried tinkering around with the code and added custom markers and a few other things. I think at one point I did something to the AndroidManifest and it is not working as it should work. The app launches and I am able to login but once the maps API begins, then it crashes and I do not know what went wrong...\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.vuapp&quot;&gt;\r\n    &lt;!--\r\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\r\n         Google Maps Android API v2, but you must specify either coarse or fine\r\n         location permissions for the &quot;MyLocation&quot; functionality.\r\n    --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.vumap&quot;&gt;\r\n\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/title_activity_maps&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n","title":"AndroidManifest.xml trouble in the code using ACCESS_FINE_LOCATION I kept changing the program around and now I cannot figure out what went wrong","body":"<p>My program was up and running completely. Now it seems like there is something wrong in the AndroidManifest.xml I tried tinkering around with the code and added custom markers and a few other things. I think at one point I did something to the AndroidManifest and it is not working as it should work. The app launches and I am able to login but once the maps API begins, then it crashes and I do not know what went wrong...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.vuapp&quot;&gt;\n&lt;!--\n     The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n     Google Maps Android API v2, but you must specify either coarse or fine\n     location permissions for the &quot;MyLocation&quot; functionality.\n--&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.vumap&quot;&gt;\n\n    &lt;!--\n         The API key for Google Maps-based APIs is defined as a string resource.\n         (See the file &quot;res/values/google_maps_api.xml&quot;).\n         Note that the API key is linked to the encryption key used to sign the APK.\n         You need a different API key for each encryption key, including the release key that is used to\n         sign the APK for publishing.\n         You can define the keys for the debug and release targets in src/debug/ and src/release/.\n    --&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;@string/google_maps_key&quot; /&gt;\n\n    &lt;activity\n        android:name=&quot;.MapsActivity&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/title_activity_maps&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n\n    &lt;meta-data\n        android:name=&quot;preloaded_fonts&quot;\n        android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n&lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n"},{"tags":["python","java","encryption","byte","blowfish"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1638854185,"post_id":70254698,"comment_id":124192011,"body_markdown":"It is the same output.  Notice that at the positions in each output array where the characters differ, the two different values always add up to 256.  Does that tell you anything? (Hint: signed vs unsigned bytes)","body":"It is the same output.  Notice that at the positions in each output array where the characters differ, the two different values always add up to 256.  Does that tell you anything? (Hint: signed vs unsigned bytes)"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638902509,"creation_date":1638902509,"answer_id":70265403,"question_id":70254698,"body_markdown":"Java Output\r\n\r\n    [47, -19, 48, -42, 19, 126, -105, 66, 21, -126, -44]\r\n\r\nPython Output\r\n\r\n    47 237 48 214 19 126 151 66 21 130 212\r\n\r\nThese represent the exact same bit pattern, therefore your code is working.\r\n\r\nThe apparent difference comes from the fact that in Java the `byte` type is _signed_. Notice that the only differences are the output bytes that display as negative values in the Java output.  \r\n\r\nTaking the first difference for example, `-19` vs `237`, the bit pattern for both of these is `0xED`, or binary `1110 1101`.  If interpreted as unsigned, the value is `237`, but if interpreted as signed, the value is `-19`.\r\n\r\n","title":"Convert Blowfish Encryption from Java to Python","body":"<p>Java Output</p>\n<pre><code>[47, -19, 48, -42, 19, 126, -105, 66, 21, -126, -44]\n</code></pre>\n<p>Python Output</p>\n<pre><code>47 237 48 214 19 126 151 66 21 130 212\n</code></pre>\n<p>These represent the exact same bit pattern, therefore your code is working.</p>\n<p>The apparent difference comes from the fact that in Java the <code>byte</code> type is <em>signed</em>. Notice that the only differences are the output bytes that display as negative values in the Java output.</p>\n<p>Taking the first difference for example, <code>-19</code> vs <code>237</code>, the bit pattern for both of these is <code>0xED</code>, or binary <code>1110 1101</code>.  If interpreted as unsigned, the value is <code>237</code>, but if interpreted as signed, the value is <code>-19</code>.</p>\n"}],"owner":{"account_id":21444942,"reputation":241,"user_id":15798673,"display_name":"Callum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70265403,"answer_count":1,"score":0,"last_activity_date":1638902509,"creation_date":1638848697,"question_id":70254698,"body_markdown":"I am attempting to convert my Java Blowfish encryption algorithm into Python. I am using the blowfish package which takes the same parameters as the Java library. They both execute successfully, however, I do not get the same result back.\r\n\r\nJava code\r\n---------\r\n\r\n        public static void main(String[] args) {\r\n\r\n        try {\r\n            String mainText = &quot;hello world&quot;;\r\n            String stBlowfishIv = &quot;zzyyxxaa&quot;;\r\n            String stBlowfishKey = &quot;how.good&quot;;\r\n\r\n            byte[] byteString;\r\n            IvParameterSpec iv = new IvParameterSpec(stBlowfishIv.getBytes());\r\n            SecretKey key = new SecretKeySpec(stBlowfishKey.getBytes(), &quot;Blowfish&quot;);\r\n            Cipher c = Cipher.getInstance(&quot;Blowfish/CFB/NoPadding&quot;);\r\n            c.init(Cipher.ENCRYPT_MODE, key, iv);\r\n            byteString = c.doFinal(mainText.getBytes());\r\n            System.out.println(Arrays.toString(byteString));\r\n        }\r\n        catch (GeneralSecurityException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nOutput\r\n------\r\n\r\n&gt; [47, -19, 48, -42, 19, 126, -105, 66, 21, -126, -44]\r\n\r\n\r\nPython code\r\n-----------\r\n\r\n        def encrypt(self, initVector=&quot;zzyyxxaa&quot;, key=&quot;how.good&quot;):\r\n\r\n        totalString = &quot;hello world&quot;\r\n        initVectorBytes = bytes(initVector, &#39;utf-8&#39;)\r\n        keyBytes = bytes(key, &#39;utf-8&#39;)\r\n        totalStringBytes = bytes(totalString, &#39;utf-8&#39;)\r\n\r\n        cipher = blowfish.Cipher(keyBytes)\r\n\r\n        dataEncrypted = b&quot;&quot;.join(cipher.encrypt_cfb(totalStringBytes, initVectorBytes))\r\n        print(dataEncrypted)\r\n\r\n        for byte in dataEncrypted:\r\n            print(byte, end=&#39; &#39;)\r\n\r\nOutput\r\n------\r\n\r\n&gt; b&#39;/\\xed0\\xd6\\x13~\\x97B\\x15\\x82\\xd4&#39;\r\n\r\n&gt; 47 237 48 214 19 126 151 66 21 130 212\r\n\r\nSome assistance or guidance would be much appreciated.","title":"Convert Blowfish Encryption from Java to Python","body":"<p>I am attempting to convert my Java Blowfish encryption algorithm into Python. I am using the blowfish package which takes the same parameters as the Java library. They both execute successfully, however, I do not get the same result back.</p>\n<h2>Java code</h2>\n<pre><code>    public static void main(String[] args) {\n\n    try {\n        String mainText = &quot;hello world&quot;;\n        String stBlowfishIv = &quot;zzyyxxaa&quot;;\n        String stBlowfishKey = &quot;how.good&quot;;\n\n        byte[] byteString;\n        IvParameterSpec iv = new IvParameterSpec(stBlowfishIv.getBytes());\n        SecretKey key = new SecretKeySpec(stBlowfishKey.getBytes(), &quot;Blowfish&quot;);\n        Cipher c = Cipher.getInstance(&quot;Blowfish/CFB/NoPadding&quot;);\n        c.init(Cipher.ENCRYPT_MODE, key, iv);\n        byteString = c.doFinal(mainText.getBytes());\n        System.out.println(Arrays.toString(byteString));\n    }\n    catch (GeneralSecurityException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<blockquote>\n<p>[47, -19, 48, -42, 19, 126, -105, 66, 21, -126, -44]</p>\n</blockquote>\n<h2>Python code</h2>\n<pre><code>    def encrypt(self, initVector=&quot;zzyyxxaa&quot;, key=&quot;how.good&quot;):\n\n    totalString = &quot;hello world&quot;\n    initVectorBytes = bytes(initVector, 'utf-8')\n    keyBytes = bytes(key, 'utf-8')\n    totalStringBytes = bytes(totalString, 'utf-8')\n\n    cipher = blowfish.Cipher(keyBytes)\n\n    dataEncrypted = b&quot;&quot;.join(cipher.encrypt_cfb(totalStringBytes, initVectorBytes))\n    print(dataEncrypted)\n\n    for byte in dataEncrypted:\n        print(byte, end=' ')\n</code></pre>\n<h2>Output</h2>\n<blockquote>\n<p>b'/\\xed0\\xd6\\x13~\\x97B\\x15\\x82\\xd4'</p>\n</blockquote>\n<blockquote>\n<p>47 237 48 214 19 126 151 66 21 130 212</p>\n</blockquote>\n<p>Some assistance or guidance would be much appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8210,"page":1782,"page_size":100}
