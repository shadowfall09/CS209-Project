{"items":[{"tags":["java","c#","scala","zio"],"comments":[{"owner":{"account_id":71625,"reputation":5232,"user_id":207161,"accept_rate":82,"display_name":"Adam Rabung"},"score":2,"creation_date":1652815025,"post_id":72224766,"comment_id":127696395,"body_markdown":"a quick reaction without research - check out Byte Order Marks.","body":"a quick reaction without research - check out Byte Order Marks."}],"answers":[{"tags":[],"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653258102,"creation_date":1653258102,"answer_id":72341677,"question_id":72224766,"body_markdown":"As documented [here][1], Java&#39;s `Deflater` class deflates sequences of bytes into [ZLIB compressed data format][2]. The ZLIB data format wraps compressed data in [DEFLATE data format][3] with a header and an ADLER-32 checksum after the compressed data.\r\n\r\n\r\nMicrosoft&#39;s documentation for [DeflateStream][4] is inaccurate about the exact data format. But it actually poduces data in raw DEFLATE data format\r\nand not in ZLIB format ([dotnet-2236][5] ). With it, its output is also incompatible\r\nwith HTTP&#39;s &quot;deflate&quot; transfer encoding, which actually references the ZLIB\r\ndata format and not the DEFLATE data format ([RFC-2616][6]).\r\n\r\n\r\nBut how can you achive now the same output with Scala and C#?\r\n\r\n**A) Write data also in raw DEFLATE format with Scala**\r\n\r\nThe `Deflater` class has an [overloaded construtor][7] with\r\na `nowrap` parameter, that allows to omit the header and the checksum.\r\nSetting this parameter to `true` will lead to compressed data in raw DEFLATE data format. If you should also plan to de-serialize the data in Java, please read the Javadoc of the `Inflater` constructors carefully.\r\n\r\n**B) Write data also in ZLIB format with C#** (recommended) \r\n\r\nUse .NET&#39;s [ZLibStream][8] class or any [third-party library][9] instead of the `Deflater` class, to serialize your data in ZLIB format. \r\n\r\n**C) Use GZIP format instead**\r\n\r\nGZIP format is comparable to ZLIB, but uses a different header and a different checksum. Both, .NET and Java provide explicit stream classes for it. Although ZLIB&#39;s checksum calculation performs better and produces even a smaller header than GZIP, the latter is more common (especially in the web). Main reason for GZIP&#39;s popularity is, that Microsoft always had trouble distinguishing between raw DEFLATE and ZLIB resp.HTTP&#39;s `deflate` transfer encoding (see ZLIB&#39;s [FAQ-39][10];-)\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/Deflater.html\r\n  [2]: http://www.ietf.org/rfc/rfc1950.txt\r\n  [3]: https://www.ietf.org/rfc/rfc1951.txt\r\n  [4]: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.deflatestrea\r\n  [5]: https://github.com/dotnet/runtime/issues/2236\r\n  [6]: https://datatracker.ietf.org/doc/html/rfc2616#section-3.5\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/Deflater.html#%3Cinit%3E(int,boolean)\r\n  [8]: https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zlibstream?view=net-6.0\r\n  [9]: https://developpaper.com/how-to-use-zlib-compression-and-decompression-in-c/\r\n  [10]: https://zlib.net/zlib_faq.html#faq39","title":"Difference in deflate function between Java and C#","body":"<p>As documented <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/Deflater.html\" rel=\"noreferrer\">here</a>, Java's <code>Deflater</code> class deflates sequences of bytes into <a href=\"http://www.ietf.org/rfc/rfc1950.txt\" rel=\"noreferrer\">ZLIB compressed data format</a>. The ZLIB data format wraps compressed data in <a href=\"https://www.ietf.org/rfc/rfc1951.txt\" rel=\"noreferrer\">DEFLATE data format</a> with a header and an ADLER-32 checksum after the compressed data.</p>\n<p>Microsoft's documentation for <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.deflatestrea\" rel=\"noreferrer\">DeflateStream</a> is inaccurate about the exact data format. But it actually poduces data in raw DEFLATE data format\nand not in ZLIB format (<a href=\"https://github.com/dotnet/runtime/issues/2236\" rel=\"noreferrer\">dotnet-2236</a> ). With it, its output is also incompatible\nwith HTTP's &quot;deflate&quot; transfer encoding, which actually references the ZLIB\ndata format and not the DEFLATE data format (<a href=\"https://datatracker.ietf.org/doc/html/rfc2616#section-3.5\" rel=\"noreferrer\">RFC-2616</a>).</p>\n<p>But how can you achive now the same output with Scala and C#?</p>\n<p><strong>A) Write data also in raw DEFLATE format with Scala</strong></p>\n<p>The <code>Deflater</code> class has an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/Deflater.html#%3Cinit%3E(int,boolean)\" rel=\"noreferrer\">overloaded construtor</a> with\na <code>nowrap</code> parameter, that allows to omit the header and the checksum.\nSetting this parameter to <code>true</code> will lead to compressed data in raw DEFLATE data format. If you should also plan to de-serialize the data in Java, please read the Javadoc of the <code>Inflater</code> constructors carefully.</p>\n<p><strong>B) Write data also in ZLIB format with C#</strong> (recommended)</p>\n<p>Use .NET's <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.compression.zlibstream?view=net-6.0\" rel=\"noreferrer\">ZLibStream</a> class or any <a href=\"https://developpaper.com/how-to-use-zlib-compression-and-decompression-in-c/\" rel=\"noreferrer\">third-party library</a> instead of the <code>Deflater</code> class, to serialize your data in ZLIB format.</p>\n<p><strong>C) Use GZIP format instead</strong></p>\n<p>GZIP format is comparable to ZLIB, but uses a different header and a different checksum. Both, .NET and Java provide explicit stream classes for it. Although ZLIB's checksum calculation performs better and produces even a smaller header than GZIP, the latter is more common (especially in the web). Main reason for GZIP's popularity is, that Microsoft always had trouble distinguishing between raw DEFLATE and ZLIB resp.HTTP's <code>deflate</code> transfer encoding (see ZLIB's <a href=\"https://zlib.net/zlib_faq.html#faq39\" rel=\"noreferrer\">FAQ-39</a>;-)</p>\n"}],"owner":{"account_id":11246363,"reputation":531,"user_id":8248971,"display_name":"Cypherius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1653362149,"creation_date":1652419229,"question_id":72224766,"body_markdown":"I have 2 deflate functions written in C# and Scala, when running with the same input, the returned byte array has a difference in leading bytes and trailing bytes (the difference between the bytes in the middle is expected by the unsigned/signed bytes mechanism between C# and Scala). \r\n\r\nDeflate function in Scala:\r\n\r\n    import java.io.ByteArrayOutputStream\r\n    import java.util.zip.{Deflater, DeflaterOutputStream}\r\n    \r\n    import zio._\r\n\r\n\r\n    object ZDeflater {\r\n      val deflater = ZManaged.makeEffectTotal(new Deflater(Deflater.DEFLATED, true))(_.end)\r\n    \r\n      val buffer = ZManaged.fromAutoCloseable(ZIO.succeed(new ByteArrayOutputStream()))\r\n    \r\n      val stream = for {\r\n        d &lt;- deflater\r\n        b &lt;- buffer\r\n        s &lt;- ZManaged.fromAutoCloseable(ZIO.succeed(new DeflaterOutputStream(b, d, true)))\r\n      } yield (b, s)\r\n    \r\n      def deflate(input: Array[Byte]): RIO[blocking.Blocking, Array[Byte]] = stream.use { case (buffer, stream) =&gt;\r\n        for {\r\n          ()    &lt;- blocking.effectBlocking(stream.write(input))\r\n          ()    &lt;- blocking.effectBlocking(stream.flush())\r\n          result = buffer.toByteArray\r\n        } yield result\r\n      }\r\n    }\r\n\r\n\r\nDeflate function in C#:\r\n\r\n    private static byte[] Deflate(byte[] uncompressedBytes)\r\n    {\r\n        using (var output = new MemoryStream())\r\n        {\r\n            using (var zip = new DeflateStream(output, CompressionMode.Compress, true))\r\n            {\r\n                zip.Write(uncompressedBytes, 0, uncompressedBytes.Length);\r\n            }\r\n\r\n            return output.ToArray();\r\n        }\r\n    }\r\n\r\nOutputs after deflating:\r\nScala: \r\n\r\n    ZDeflater.deflate(data.getBytes(StandardCharsets.UTF_8))\r\n    \r\n    124, -111, …, 126, 1, 0, 0, -1, -1\r\n\r\nC#:\r\n\r\n    Deflate(Encoding.UTF8.GetBytes(data))\r\n    125, 145, …, 126, 1\r\n\r\nDoes anyone know what causes the difference between the first and last bytes? Any of your assumptions are very helpful to me. Thank a bunch\r\n\r\nP/s: We&#39;re having a problem with a situation where C#&#39;s Deflate output works for a specific 3rd part and Scala&#39;s output doesn&#39;t. So I&#39;m trying to figure out how to make Scala&#39;s output to be the same as C#&#39;s","title":"Difference in deflate function between Java and C#","body":"<p>I have 2 deflate functions written in C# and Scala, when running with the same input, the returned byte array has a difference in leading bytes and trailing bytes (the difference between the bytes in the middle is expected by the unsigned/signed bytes mechanism between C# and Scala).</p>\n<p>Deflate function in Scala:</p>\n<pre><code>import java.io.ByteArrayOutputStream\nimport java.util.zip.{Deflater, DeflaterOutputStream}\n\nimport zio._\n\n\nobject ZDeflater {\n  val deflater = ZManaged.makeEffectTotal(new Deflater(Deflater.DEFLATED, true))(_.end)\n\n  val buffer = ZManaged.fromAutoCloseable(ZIO.succeed(new ByteArrayOutputStream()))\n\n  val stream = for {\n    d &lt;- deflater\n    b &lt;- buffer\n    s &lt;- ZManaged.fromAutoCloseable(ZIO.succeed(new DeflaterOutputStream(b, d, true)))\n  } yield (b, s)\n\n  def deflate(input: Array[Byte]): RIO[blocking.Blocking, Array[Byte]] = stream.use { case (buffer, stream) =&gt;\n    for {\n      ()    &lt;- blocking.effectBlocking(stream.write(input))\n      ()    &lt;- blocking.effectBlocking(stream.flush())\n      result = buffer.toByteArray\n    } yield result\n  }\n}\n</code></pre>\n<p>Deflate function in C#:</p>\n<pre><code>private static byte[] Deflate(byte[] uncompressedBytes)\n{\n    using (var output = new MemoryStream())\n    {\n        using (var zip = new DeflateStream(output, CompressionMode.Compress, true))\n        {\n            zip.Write(uncompressedBytes, 0, uncompressedBytes.Length);\n        }\n\n        return output.ToArray();\n    }\n}\n</code></pre>\n<p>Outputs after deflating:\nScala:</p>\n<pre><code>ZDeflater.deflate(data.getBytes(StandardCharsets.UTF_8))\n\n124, -111, …, 126, 1, 0, 0, -1, -1\n</code></pre>\n<p>C#:</p>\n<pre><code>Deflate(Encoding.UTF8.GetBytes(data))\n125, 145, …, 126, 1\n</code></pre>\n<p>Does anyone know what causes the difference between the first and last bytes? Any of your assumptions are very helpful to me. Thank a bunch</p>\n<p>P/s: We're having a problem with a situation where C#'s Deflate output works for a specific 3rd part and Scala's output doesn't. So I'm trying to figure out how to make Scala's output to be the same as C#'s</p>\n"},{"tags":["java","user-interface","javafx","fxml","javafx-css"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1653318443,"post_id":72350714,"comment_id":127816723,"body_markdown":"`border-top`, `border-right`, etc are not valid JavaFX CSS properties. Use `-fx-border-*` properties (or, better, use nested backgrounds). See the [documentation](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#region).","body":"<code>border-top</code>, <code>border-right</code>, etc are not valid JavaFX CSS properties. Use <code>-fx-border-*</code> properties (or, better, use nested backgrounds). See the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#region\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1653362207,"post_id":72350714,"comment_id":127827580,"body_markdown":"In short, while [tag:javafx-css] is based on [tag:css], they are not exactly the same. Read the documentation linked by James_D to see what is possible with [tag:javafx-css].","body":"In short, while <a href=\"https://stackoverflow.com/questions/tagged/javafx-css\">javafx-css</a> is based on <a href=\"https://stackoverflow.com/questions/tagged/css\">css</a>, they are not exactly the same. Read the documentation linked by James_D to see what is possible with <a href=\"https://stackoverflow.com/questions/tagged/javafx-css\">javafx-css</a>."}],"answers":[{"tags":[],"owner":{"account_id":20216375,"reputation":7,"user_id":14827050,"display_name":"Ludvig Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653321935,"creation_date":1653321473,"answer_id":72351537,"question_id":72350714,"body_markdown":"Edited my CSS like this:\r\n```\r\n.topwall {\r\n    -fx-border-style: solid hidden hidden hidden ;\r\n    -fx-border-color: black;\r\n    -fx-border-width: 5;\r\n}\r\n\r\n.rightwall {\r\n    -fx-border-style: hidden solid hidden hidden;\r\n    -fx-border-color: black;\r\n    -fx-border-width: 5;\r\n}\r\n\r\n.bottomwall {\r\n    -fx-border-style: hidden hidden solid hidden;\r\n    -fx-border-color: black;\r\n    -fx-border-width: 5;\r\n}\r\n\r\n.leftwall {\r\n    -fx-border-style: hidden hidden hidden solid;\r\n    -fx-border-color: black;\r\n    -fx-border-width: 5;\r\n}\r\n```\r\nand now they show up, but it displays only 1 border on each cell.\r\n\r\n[Result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O1idc.jpg","title":"Why aren&#39;t my CSS borders showing up in JavaFX gui?","body":"<p>Edited my CSS like this:</p>\n<pre><code>.topwall {\n    -fx-border-style: solid hidden hidden hidden ;\n    -fx-border-color: black;\n    -fx-border-width: 5;\n}\n\n.rightwall {\n    -fx-border-style: hidden solid hidden hidden;\n    -fx-border-color: black;\n    -fx-border-width: 5;\n}\n\n.bottomwall {\n    -fx-border-style: hidden hidden solid hidden;\n    -fx-border-color: black;\n    -fx-border-width: 5;\n}\n\n.leftwall {\n    -fx-border-style: hidden hidden hidden solid;\n    -fx-border-color: black;\n    -fx-border-width: 5;\n}\n</code></pre>\n<p>and now they show up, but it displays only 1 border on each cell.</p>\n<p><a href=\"https://i.stack.imgur.com/O1idc.jpg\" rel=\"nofollow noreferrer\">Result</a></p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653324377,"creation_date":1653322376,"answer_id":72351713,"question_id":72350714,"body_markdown":"The properties `border-top`, `border-right`, etc. are not valid JavaFX CSS properties. \r\n\r\nReferring to the [documentation](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#region), you set the border using the properties\r\n\r\n    selector {\r\n        -fx-border-color: color ;\r\n        -fx-border-width: width ;\r\n    }\r\n\r\nwhere `color` and `width` are either a single value (of type paint and size, respectively) or four values separated by spaces, representing the top, right, bottom, and left borders.\r\n\r\nIt should also be noted that borders are not typically used this way in JavaFX. The more usual approach is to use &quot;nested backgrounds&quot;, where you would do something like this to define a border of width 5 around all four sides:\r\n\r\n    .cell.light {\r\n        -fx-background: white;\r\n    }\r\n    .cell.dark {\r\n        -fx-background: #f6f6f6;\r\n    }\r\n    .cell {\r\n        -fx-background-color: black, -fx-background;\r\n        -fx-background-insets: 0, 5;\r\n    }\r\n\r\nThis works by painting two backgrounds, one over the other. The first is black, with no insets; the second is defined by the &quot;looked-up color&quot; `-fx-background`, with an inset of 5 pixels on all sides.\r\n\r\nMy understanding (though I have no direct evidence of this) is that the nested background approach performs better than using explicit borders.\r\n\r\nUnfortunately, doing this entirely in an external CSS sheet is very verbose, as you have to handle all 16 possibilities individually (unless I am missing a clever trick):\r\n\r\n    .cell.light {\r\n        -fx-background: white;\r\n    }\r\n    .cell.dark {\r\n        -fx-background: #f6f6f6;\r\n    }\r\n    .cell {\r\n        -fx-background-color: black, -fx-background;\r\n        -fx-background-insets: 0, 0;\r\n    }\r\n\r\n\r\n    .cell.topwall {\r\n        -fx-background-insets: 0, 5 0 0 0;\r\n    }\r\n    .cell.rightwall {\r\n        -fx-background-insets: 0, 0 5 0 0;\r\n    }\r\n    .cell.bottomwall {\r\n        -fx-background-insets: 0, 0 0 5 0;\r\n    }\r\n    .cell.leftwall {\r\n        -fx-background-insets: 0, 0 0 0 5;\r\n    }\r\n    .cell.topwall.rightwall {\r\n        -fx-background-insets: 0, 5 5 0 0;\r\n    }\r\n    .cell.topwall.bottomwall {\r\n        -fx-background-insets: 0, 5 0 5 0;\r\n    }\r\n    .cell.topwall.leftwall {\r\n        -fx-background-insets: 0, 5 0 0 5;\r\n    }\r\n    .cell.rightwall.bottomwall {\r\n        -fx-background-insets: 0, 0 5 5 0;\r\n    }\r\n    .cell.rightwall.leftwall {\r\n        -fx-background-insets: 0, 0 5 0 5;\r\n    }\r\n    .cell.bottomwall.leftwall {\r\n        -fx-background-insets: 0, 0 0 5 5;\r\n    }\r\n    .cell.topwall.rightwall.bottomwall {\r\n        -fx-background-insets: 0, 5 5 5 0;\r\n    }\r\n    .cell.topwall.bottomwall.leftwall {\r\n        -fx-background-insets: 0, 5 0 5 5;\r\n    }\r\n    .cell.topwall.rightwall.leftwall {\r\n        -fx-background-insets: 0, 5 5 0 5;\r\n    }\r\n    .cell.rightwall.bottomwall.leftwall {\r\n        -fx-background-insets: 0, 0 5 5 5;\r\n    }\r\n    .cell.topwall.rightwall.bottomwall.leftwall {\r\n        -fx-background-insets: 0, 5;\r\n    }\r\n\r\n(using `-fx-border-*` is no better).\r\n\r\nIt may be easier to set the insets programmatically as inline styles:\r\n\r\n    .cell.light {\r\n        -fx-background: white;\r\n    }\r\n    .cell.dark {\r\n        -fx-background: #f6f6f6;\r\n    }\r\n    .cell {\r\n        -fx-background-color: black, -fx-background;\r\n        -fx-background-insets: 0, 0;\r\n    }\r\n\r\nand then\r\n\r\n    int top, right, bottom, left ;\r\n    top=right=bottom=left=0 ;\r\n    var wallsInDirections = state.checkAllWalls(new Position(row, col));\r\n    for (var direction : wallsInDirections) {\r\n        switch (direction) {\r\n            case UP -&gt; top=5;\r\n            case RIGHT -&gt; right=5;\r\n            case DOWN -&gt; bottom=5;\r\n            case LEFT -&gt; left=5;\r\n        }\r\n    }\r\n\r\n    cell.setStyle(String.format(&quot;-fx-background-insets: %d %d %d %d;&quot;, top, right, bottom, left));","title":"Why aren&#39;t my CSS borders showing up in JavaFX gui?","body":"<p>The properties <code>border-top</code>, <code>border-right</code>, etc. are not valid JavaFX CSS properties.</p>\n<p>Referring to the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#region\" rel=\"nofollow noreferrer\">documentation</a>, you set the border using the properties</p>\n<pre><code>selector {\n    -fx-border-color: color ;\n    -fx-border-width: width ;\n}\n</code></pre>\n<p>where <code>color</code> and <code>width</code> are either a single value (of type paint and size, respectively) or four values separated by spaces, representing the top, right, bottom, and left borders.</p>\n<p>It should also be noted that borders are not typically used this way in JavaFX. The more usual approach is to use &quot;nested backgrounds&quot;, where you would do something like this to define a border of width 5 around all four sides:</p>\n<pre><code>.cell.light {\n    -fx-background: white;\n}\n.cell.dark {\n    -fx-background: #f6f6f6;\n}\n.cell {\n    -fx-background-color: black, -fx-background;\n    -fx-background-insets: 0, 5;\n}\n</code></pre>\n<p>This works by painting two backgrounds, one over the other. The first is black, with no insets; the second is defined by the &quot;looked-up color&quot; <code>-fx-background</code>, with an inset of 5 pixels on all sides.</p>\n<p>My understanding (though I have no direct evidence of this) is that the nested background approach performs better than using explicit borders.</p>\n<p>Unfortunately, doing this entirely in an external CSS sheet is very verbose, as you have to handle all 16 possibilities individually (unless I am missing a clever trick):</p>\n<pre><code>.cell.light {\n    -fx-background: white;\n}\n.cell.dark {\n    -fx-background: #f6f6f6;\n}\n.cell {\n    -fx-background-color: black, -fx-background;\n    -fx-background-insets: 0, 0;\n}\n\n\n.cell.topwall {\n    -fx-background-insets: 0, 5 0 0 0;\n}\n.cell.rightwall {\n    -fx-background-insets: 0, 0 5 0 0;\n}\n.cell.bottomwall {\n    -fx-background-insets: 0, 0 0 5 0;\n}\n.cell.leftwall {\n    -fx-background-insets: 0, 0 0 0 5;\n}\n.cell.topwall.rightwall {\n    -fx-background-insets: 0, 5 5 0 0;\n}\n.cell.topwall.bottomwall {\n    -fx-background-insets: 0, 5 0 5 0;\n}\n.cell.topwall.leftwall {\n    -fx-background-insets: 0, 5 0 0 5;\n}\n.cell.rightwall.bottomwall {\n    -fx-background-insets: 0, 0 5 5 0;\n}\n.cell.rightwall.leftwall {\n    -fx-background-insets: 0, 0 5 0 5;\n}\n.cell.bottomwall.leftwall {\n    -fx-background-insets: 0, 0 0 5 5;\n}\n.cell.topwall.rightwall.bottomwall {\n    -fx-background-insets: 0, 5 5 5 0;\n}\n.cell.topwall.bottomwall.leftwall {\n    -fx-background-insets: 0, 5 0 5 5;\n}\n.cell.topwall.rightwall.leftwall {\n    -fx-background-insets: 0, 5 5 0 5;\n}\n.cell.rightwall.bottomwall.leftwall {\n    -fx-background-insets: 0, 0 5 5 5;\n}\n.cell.topwall.rightwall.bottomwall.leftwall {\n    -fx-background-insets: 0, 5;\n}\n</code></pre>\n<p>(using <code>-fx-border-*</code> is no better).</p>\n<p>It may be easier to set the insets programmatically as inline styles:</p>\n<pre><code>.cell.light {\n    -fx-background: white;\n}\n.cell.dark {\n    -fx-background: #f6f6f6;\n}\n.cell {\n    -fx-background-color: black, -fx-background;\n    -fx-background-insets: 0, 0;\n}\n</code></pre>\n<p>and then</p>\n<pre><code>int top, right, bottom, left ;\ntop=right=bottom=left=0 ;\nvar wallsInDirections = state.checkAllWalls(new Position(row, col));\nfor (var direction : wallsInDirections) {\n    switch (direction) {\n        case UP -&gt; top=5;\n        case RIGHT -&gt; right=5;\n        case DOWN -&gt; bottom=5;\n        case LEFT -&gt; left=5;\n    }\n}\n\ncell.setStyle(String.format(&quot;-fx-background-insets: %d %d %d %d;&quot;, top, right, bottom, left));\n</code></pre>\n"}],"owner":{"account_id":20216375,"reputation":7,"user_id":14827050,"display_name":"Ludvig Nobel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72351713,"answer_count":2,"score":0,"last_activity_date":1653362115,"creation_date":1653318041,"question_id":72350714,"body_markdown":"I&#39;m trying to show walls on the GUI (fxml) with CSS borders using .getStyleClass().add() but they&#39;re not showing up.\r\n\r\nI&#39;m using a switch that adds the corresponding style classes to the cells.\r\n\r\nThe Java code:\r\n\r\n```\r\nprivate StackPane createCell(int row, int col) {\r\n    var cell = new StackPane();\r\n\r\n    cell.getStyleClass().add(&quot;cell&quot;);\r\n    cell.getStyleClass().add((row + col) % 2 == 0 ? &quot;light&quot;: &quot;dark&quot;);\r\n\r\n    for (var i = 0; i &lt; 2; i++) {\r\n        var pieceView = new ImageView(pieceImages[i]);\r\n        pieceView.visibleProperty().bind(createBindingForPieceAtPosition(i, row, col));\r\n        cell.getChildren().add(pieceView);\r\n    }\r\n\r\n    var wallsInDirections = state.checkAllWalls(new Position(row, col));\r\n    for (var direction : wallsInDirections) {\r\n        switch (direction) {\r\n            case UP -&gt; cell.getStyleClass().add(&quot;topwall&quot;);\r\n            case RIGHT -&gt; cell.getStyleClass().add(&quot;rightwall&quot;);\r\n            case DOWN -&gt; cell.getStyleClass().add(&quot;bottomwall&quot;);\r\n            case LEFT -&gt; cell.getStyleClass().add(&quot;leftwall&quot;);\r\n        }\r\n    }\r\n    return cell;\r\n}\r\n```\r\nThe CSS code:\r\n```\r\n.cell.light {\r\n    -fx-background-color: white;\r\n}\r\n\r\n.cell.dark {\r\n    -fx-background-color: #F6F6F6;\r\n}\r\n\r\n.cell.light:hover, .cell.dark:hover {\r\n    -fx-background-color: #FAFA33;\r\n}\r\n\r\n.topwall {\r\n    border-top: solid black;\r\n}\r\n\r\n.rightwall {\r\n    border-right: solid black;\r\n}\r\n\r\n.bottomwall {\r\n    border-bottom: solid black;\r\n}\r\n\r\n.leftwall {\r\n    border-left: solid black;\r\n}\r\n```\r\n\r\nPic of the GUI afterwards:\r\n[result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rchah.jpg","title":"Why aren&#39;t my CSS borders showing up in JavaFX gui?","body":"<p>I'm trying to show walls on the GUI (fxml) with CSS borders using .getStyleClass().add() but they're not showing up.</p>\n<p>I'm using a switch that adds the corresponding style classes to the cells.</p>\n<p>The Java code:</p>\n<pre><code>private StackPane createCell(int row, int col) {\n    var cell = new StackPane();\n\n    cell.getStyleClass().add(&quot;cell&quot;);\n    cell.getStyleClass().add((row + col) % 2 == 0 ? &quot;light&quot;: &quot;dark&quot;);\n\n    for (var i = 0; i &lt; 2; i++) {\n        var pieceView = new ImageView(pieceImages[i]);\n        pieceView.visibleProperty().bind(createBindingForPieceAtPosition(i, row, col));\n        cell.getChildren().add(pieceView);\n    }\n\n    var wallsInDirections = state.checkAllWalls(new Position(row, col));\n    for (var direction : wallsInDirections) {\n        switch (direction) {\n            case UP -&gt; cell.getStyleClass().add(&quot;topwall&quot;);\n            case RIGHT -&gt; cell.getStyleClass().add(&quot;rightwall&quot;);\n            case DOWN -&gt; cell.getStyleClass().add(&quot;bottomwall&quot;);\n            case LEFT -&gt; cell.getStyleClass().add(&quot;leftwall&quot;);\n        }\n    }\n    return cell;\n}\n</code></pre>\n<p>The CSS code:</p>\n<pre><code>.cell.light {\n    -fx-background-color: white;\n}\n\n.cell.dark {\n    -fx-background-color: #F6F6F6;\n}\n\n.cell.light:hover, .cell.dark:hover {\n    -fx-background-color: #FAFA33;\n}\n\n.topwall {\n    border-top: solid black;\n}\n\n.rightwall {\n    border-right: solid black;\n}\n\n.bottomwall {\n    border-bottom: solid black;\n}\n\n.leftwall {\n    border-left: solid black;\n}\n</code></pre>\n<p>Pic of the GUI afterwards:\n<a href=\"https://i.stack.imgur.com/Rchah.jpg\" rel=\"nofollow noreferrer\">result</a></p>\n"},{"tags":["java","spring-boot","docker","tomcat","servletcontextlistener"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1593000162,"post_id":62554445,"comment_id":110625021,"body_markdown":"Provide the dependency section of your pom, especially for the servlet api: it should have scope provided, like any other lib that could in $CATALINA_HOME/lib.","body":"Provide the dependency section of your pom, especially for the servlet api: it should have scope provided, like any other lib that could in $CATALINA_HOME/lib."},{"owner":{"account_id":4353520,"reputation":631,"user_id":3552976,"accept_rate":83,"display_name":"kosmit"},"score":0,"creation_date":1593002704,"post_id":62554445,"comment_id":110626408,"body_markdown":"edited question and I&#39;ve added dependecies seciton","body":"edited question and I&#39;ve added dependecies seciton"}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593018842,"creation_date":1593018457,"answer_id":62560474,"question_id":62554445,"body_markdown":"From the error about &#39;java.lang.String javax.servlet.ServletContext.getVirtualServerName()&#39;, we can see that is was added in [Servlet 3.1][1]: you should exclude servlet-api:2.5.\r\n\r\nUse the following command:\r\n\r\n    mvn dependency:tree -Dincludes=&#39;*:servlet-api&#39; \r\n\r\nThis will list you all all module/dependencies including `servlet-api`.\r\n\r\nThen excludes the bad version from dependencies: the `com.test.lib` client should not even includes it in the first place, meaning the dependency should be provided in it as well. \r\n\r\n    &lt;dependency&gt;  &lt;!-- lib contains servlet-api-2.5 --&gt;\r\n      &lt;groupId&gt;com.test.lib&lt;/groupId&gt; \r\n      &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n      &lt;version&gt;${model.client.version}&lt;/version&gt;\r\n      &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;...&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDo note that the `servlet-api` groupId changed over the course of time: that&#39;s probably one reason why Maven does not select the &quot;good&quot; `servlet-api`.\r\n\r\nAnd I would advise you to use maven-enforcer-plugin to lock these bad dependencies: \r\n\r\n              &lt;rules&gt;\r\n                &lt;bannedDependencies&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;*:servlet-api:2.5&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/bannedDependencies&gt;\r\n              &lt;/rules&gt;\r\n              &lt;fail&gt;true&lt;/fail&gt;\r\n\r\nSee http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html for more information.\r\n\r\nNow then you mention that your lib (`com.test.lib`) seems to not work without servlet-api 2.5, which means it use code that was probably removed between Servlet 2.5 and 3.1: your only course of action is to upgrade your lib as to not depends on said code:\r\n\r\n - The first servlet-api (2.5) is loaded\r\n - Tomcat and Spring Boot are compiled against later version\r\n - Tomcat/Spring Boot will may try to use a method added in later version\r\n - You will have another error and so on.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getVirtualServerName--","title":"Error while having multiple servlet-api libs on classpath","body":"<p>From the error about 'java.lang.String javax.servlet.ServletContext.getVirtualServerName()', we can see that is was added in <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getVirtualServerName--\" rel=\"nofollow noreferrer\">Servlet 3.1</a>: you should exclude servlet-api:2.5.</p>\n<p>Use the following command:</p>\n<pre><code>mvn dependency:tree -Dincludes='*:servlet-api' \n</code></pre>\n<p>This will list you all all module/dependencies including <code>servlet-api</code>.</p>\n<p>Then excludes the bad version from dependencies: the <code>com.test.lib</code> client should not even includes it in the first place, meaning the dependency should be provided in it as well.</p>\n<pre><code>&lt;dependency&gt;  &lt;!-- lib contains servlet-api-2.5 --&gt;\n  &lt;groupId&gt;com.test.lib&lt;/groupId&gt; \n  &lt;artifactId&gt;client&lt;/artifactId&gt;\n  &lt;version&gt;${model.client.version}&lt;/version&gt;\n  &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;...&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Do note that the <code>servlet-api</code> groupId changed over the course of time: that's probably one reason why Maven does not select the &quot;good&quot; <code>servlet-api</code>.</p>\n<p>And I would advise you to use maven-enforcer-plugin to lock these bad dependencies:</p>\n<pre><code>          &lt;rules&gt;\n            &lt;bannedDependencies&gt;\n              &lt;excludes&gt;\n                &lt;exclude&gt;*:servlet-api:2.5&lt;/exclude&gt;\n              &lt;/excludes&gt;\n            &lt;/bannedDependencies&gt;\n          &lt;/rules&gt;\n          &lt;fail&gt;true&lt;/fail&gt;\n</code></pre>\n<p>See <a href=\"http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html</a> for more information.</p>\n<p>Now then you mention that your lib (<code>com.test.lib</code>) seems to not work without servlet-api 2.5, which means it use code that was probably removed between Servlet 2.5 and 3.1: your only course of action is to upgrade your lib as to not depends on said code:</p>\n<ul>\n<li>The first servlet-api (2.5) is loaded</li>\n<li>Tomcat and Spring Boot are compiled against later version</li>\n<li>Tomcat/Spring Boot will may try to use a method added in later version</li>\n<li>You will have another error and so on.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2990005,"reputation":1751,"user_id":2537754,"display_name":"Thientvse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653361906,"creation_date":1653361906,"answer_id":72356812,"question_id":62554445,"body_markdown":"You can access to path:\r\n\r\n    ~/.m2/repository/javax/servlet/servlet-api\r\n\r\nAnd clear folder serverlet. For example: \r\n\r\n    rm -rf 2.5\r\nFinally you re-run application and everything is ok.\r\n\r\n","title":"Error while having multiple servlet-api libs on classpath","body":"<p>You can access to path:</p>\n<pre><code>~/.m2/repository/javax/servlet/servlet-api\n</code></pre>\n<p>And clear folder serverlet. For example:</p>\n<pre><code>rm -rf 2.5\n</code></pre>\n<p>Finally you re-run application and everything is ok.</p>\n"}],"owner":{"account_id":4353520,"reputation":631,"user_id":3552976,"accept_rate":83,"display_name":"kosmit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62560474,"answer_count":2,"score":0,"last_activity_date":1653361906,"creation_date":1592999596,"question_id":62554445,"body_markdown":"I have Spring Boot app running with embedded Tomcat. I&#39;m running it in docker container. When I try to follow this [page][1] about spring boot in container and build layered image I recieve error mentioned below when I try to start the container. I know that the best way would be to exclude old version of servlet-api from my dependecies but it&#39;s impossible as this dependency stops working while I&#39;m doing that. Unfortunately I cannot also get rid of this dependency. Is there a way to force Spring Boot to use specific implementation from classpath? I&#39;ve tried Jetty and Undertow and docker successfully started but then lib that is using older version didn&#39;t work properly. \r\n\r\nOther question is why it&#39;s working when I&#39;m copy just jar and start it?\r\n\r\n\r\nDockerfile that I&#39;m trying to build:\r\n\r\n    FROM adoptopenjdk:11-jre-hotspot\r\n\r\n    ARG DEPENDENCY=target/dep \r\n    COPY ${DEPENDENCY}/BOOT-INF/lib /app/lib \r\n    COPY ${DEPENDENCY}/META-INF /app/META-INF\r\n    COPY ${DEPENDENCY}/BOOT-INF/classes /app\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.test.App&quot;]\r\n\r\nDockerfile that works:\r\n      \r\n    FROM adoptopenjdk:11-jre-hotspot\r\n\r\n    COPY /target/application.jar /app/application.jar\r\n    COPY /target/lib /app/lib\r\n\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app/application.jar&quot;]\r\n\r\nThe one that works requires additional plugins in pom.xml to make it possible:\r\n\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;build-info&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.1.0&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;finalName&gt;ttom-osm-converter&lt;/finalName&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifest&gt;\r\n                                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                        &lt;mainClass&gt;com.tomtom.mep.App&lt;/mainClass&gt;\r\n                                    &lt;/manifest&gt;\r\n                                &lt;/archive&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                                    &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n\r\nDependecies from POM:\r\n\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;  &lt;!-- lib contains servlet-api-2.5 --&gt;\r\n            &lt;groupId&gt;com.test.lib&lt;/groupId&gt; \r\n            &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n            &lt;version&gt;${model.client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nError:\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[/path]\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1220)\r\n\r\n    The following method did not exist:\r\n\r\n    &#39;java.lang.String javax.servlet.ServletContext.getVirtualServerName()&#39;\r\n\r\n    The method&#39;s class, javax.servlet.ServletContext, is available from the following locations:\r\n\r\n    jar:file:/app/lib/servlet-api-2.5.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/app/lib/javax.servlet-api-4.0.1.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/app/lib/tomcat-embed-core-9.0.29.jar!/javax/servlet/ServletContext.class\r\n\r\n      It was loaded from the following location:\r\n\r\n    file:/app/lib/servlet-api-2.5.jar\r\n\r\n\r\n    Action:\r\n\r\n    Correct the classpath of your application so that it contains a single, compatible version of javax.servlet.ServletContext\r\n\r\n\r\n  [1]: https://spring.io/blog/2018/11/08/spring-boot-in-a-container","title":"Error while having multiple servlet-api libs on classpath","body":"<p>I have Spring Boot app running with embedded Tomcat. I'm running it in docker container. When I try to follow this <a href=\"https://spring.io/blog/2018/11/08/spring-boot-in-a-container\" rel=\"nofollow noreferrer\">page</a> about spring boot in container and build layered image I recieve error mentioned below when I try to start the container. I know that the best way would be to exclude old version of servlet-api from my dependecies but it's impossible as this dependency stops working while I'm doing that. Unfortunately I cannot also get rid of this dependency. Is there a way to force Spring Boot to use specific implementation from classpath? I've tried Jetty and Undertow and docker successfully started but then lib that is using older version didn't work properly.</p>\n<p>Other question is why it's working when I'm copy just jar and start it?</p>\n<p>Dockerfile that I'm trying to build:</p>\n<pre><code>FROM adoptopenjdk:11-jre-hotspot\n\nARG DEPENDENCY=target/dep \nCOPY ${DEPENDENCY}/BOOT-INF/lib /app/lib \nCOPY ${DEPENDENCY}/META-INF /app/META-INF\nCOPY ${DEPENDENCY}/BOOT-INF/classes /app\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;com.test.App&quot;]\n</code></pre>\n<p>Dockerfile that works:</p>\n<pre><code>FROM adoptopenjdk:11-jre-hotspot\n\nCOPY /target/application.jar /app/application.jar\nCOPY /target/lib /app/lib\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app/application.jar&quot;]\n</code></pre>\n<p>The one that works requires additional plugins in pom.xml to make it possible:</p>\n<pre><code>                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-info&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-info&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;finalName&gt;ttom-osm-converter&lt;/finalName&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                                    &lt;mainClass&gt;com.tomtom.mep.App&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n<p>Dependecies from POM:</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;  &lt;!-- lib contains servlet-api-2.5 --&gt;\n        &lt;groupId&gt;com.test.lib&lt;/groupId&gt; \n        &lt;artifactId&gt;client&lt;/artifactId&gt;\n        &lt;version&gt;${model.client.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[/path]\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\norg.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1220)\n\nThe following method did not exist:\n\n'java.lang.String javax.servlet.ServletContext.getVirtualServerName()'\n\nThe method's class, javax.servlet.ServletContext, is available from the following locations:\n\njar:file:/app/lib/servlet-api-2.5.jar!/javax/servlet/ServletContext.class\njar:file:/app/lib/javax.servlet-api-4.0.1.jar!/javax/servlet/ServletContext.class\njar:file:/app/lib/tomcat-embed-core-9.0.29.jar!/javax/servlet/ServletContext.class\n\n  It was loaded from the following location:\n\nfile:/app/lib/servlet-api-2.5.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of javax.servlet.ServletContext\n</code></pre>\n"},{"tags":["java","swing","jtable","abstracttablemodel"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1653362043,"post_id":72356757,"comment_id":127827552,"body_markdown":"Consider providing a [mcve] which demonstrates your issue","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1653379712,"post_id":72356757,"comment_id":127831510,"body_markdown":"As you can see from the `isCellEditable` method parameters, whether a cell is editable or not is based on the row and or column numbers.  I&#39;m not sure the column class types have been set at the time this method is called.","body":"As you can see from the <code>isCellEditable</code> method parameters, whether a cell is editable or not is based on the row and or column numbers.  I&#39;m not sure the column class types have been set at the time this method is called."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653399386,"post_id":72356757,"comment_id":127839303,"body_markdown":"Did you override the getColumnClass(...) method? By default it returns Object. Without a proper [mre], there is not much we can do to help. Code doesn&#39;t just randomly work sometimes.","body":"Did you override the getColumnClass(...) method? By default it returns Object. Without a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, there is not much we can do to help. Code doesn&#39;t just randomly work sometimes."}],"owner":{"account_id":10194083,"reputation":322,"user_id":7526452,"display_name":"Codeninja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653361654,"creation_date":1653361229,"question_id":72356757,"body_markdown":"I am trying to edit a column with class type Product. But sometimes the isCellEditable() is not called. Sometimes it works as expected. \r\n\r\n```\r\n  @Override\r\n  public boolean isCellEditable(int row, int column)\r\n  {\r\n    boolean isEditable = false;\r\n    if (getColumnClass(column).equals(Product.class))\r\n    {\r\n      isEditable = true;\r\n    }\r\n    return isEditable;\r\n  }\r\n```\r\nThe class object is also created when the isCellEditable() needs to be called.","title":"AbstractTableModel isCellEditable method is not called","body":"<p>I am trying to edit a column with class type Product. But sometimes the isCellEditable() is not called. Sometimes it works as expected.</p>\n<pre><code>  @Override\n  public boolean isCellEditable(int row, int column)\n  {\n    boolean isEditable = false;\n    if (getColumnClass(column).equals(Product.class))\n    {\n      isEditable = true;\n    }\n    return isEditable;\n  }\n</code></pre>\n<p>The class object is also created when the isCellEditable() needs to be called.</p>\n"},{"tags":["java","python","django","elasticsearch","django-haystack"],"answers":[{"tags":[],"owner":{"account_id":5221721,"reputation":369,"user_id":4174966,"accept_rate":100,"display_name":"c74ckds"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592169220,"creation_date":1574633327,"answer_id":59022922,"question_id":59022775,"body_markdown":"Looks like an inconsistency issue between elasticSearch versions. If you had data indexed previously with ES version 7.0, now that data in that instance in the disk is incompatible with ES version 5.0.","title":"Elasticsearch 5.x Fails to Start","body":"<p>Looks like an inconsistency issue between elasticSearch versions. If you had data indexed previously with ES version 7.0, now that data in that instance in the disk is incompatible with ES version 5.0.</p>\n"},{"tags":[],"owner":{"account_id":3999217,"reputation":185,"user_id":3295701,"display_name":"SunTechnique"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596786380,"creation_date":1596786380,"answer_id":63297443,"question_id":59022775,"body_markdown":"Remove elasticsearch directory:\r\nsudo rm -rf /var/lib/elasticsearch\r\n\r\nAnd reinstall elasticsearch\r\n\r\nWork for me.","title":"Elasticsearch 5.x Fails to Start","body":"<p>Remove elasticsearch directory:\nsudo rm -rf /var/lib/elasticsearch</p>\n<p>And reinstall elasticsearch</p>\n<p>Work for me.</p>\n"},{"tags":[],"owner":{"account_id":1569424,"reputation":1147,"user_id":1457459,"display_name":"Erick Eduardo Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653360799,"creation_date":1653360799,"answer_id":72356720,"question_id":59022775,"body_markdown":"For mac users using brew first clean all brew files with\r\n\r\n    brew uninstall elasticsearch\r\n    rm -rf /usr/local/etc/elasticsearch\r\n    rm -rf /usr/local/var/lib/elasticsearch\r\n\r\nThen reinstall your elasticsearch version for example\r\n\r\n    brew install elasticsearch@6\r\n\r\nMake sure elasticsearch is pointing to a compatible java version\r\n\r\n    nano /usr/local/opt/elasticsearch@6/bin\r\n\r\nThen you change this line to your compatible version\r\n\r\n    JAVA_HOME=&quot;${JAVA_HOME:-/usr/local/opt/openjdk@17YOUR_COMPATIBLE_VERSION/libexec/openjdk.jdk/Contents/Home}&quot; exec &quot;/usr/local/Cellar/elasticsearch@6/6.8.23/libexec/bin/elasticsearch&quot;  &quot;$@&quot;\r\n\r\nrun elasticsearch in your terminal\r\n\r\n    elasticsearch","title":"Elasticsearch 5.x Fails to Start","body":"<p>For mac users using brew first clean all brew files with</p>\n<pre><code>brew uninstall elasticsearch\nrm -rf /usr/local/etc/elasticsearch\nrm -rf /usr/local/var/lib/elasticsearch\n</code></pre>\n<p>Then reinstall your elasticsearch version for example</p>\n<pre><code>brew install elasticsearch@6\n</code></pre>\n<p>Make sure elasticsearch is pointing to a compatible java version</p>\n<pre><code>nano /usr/local/opt/elasticsearch@6/bin\n</code></pre>\n<p>Then you change this line to your compatible version</p>\n<pre><code>JAVA_HOME=&quot;${JAVA_HOME:-/usr/local/opt/openjdk@17YOUR_COMPATIBLE_VERSION/libexec/openjdk.jdk/Contents/Home}&quot; exec &quot;/usr/local/Cellar/elasticsearch@6/6.8.23/libexec/bin/elasticsearch&quot;  &quot;$@&quot;\n</code></pre>\n<p>run elasticsearch in your terminal</p>\n<pre><code>elasticsearch\n</code></pre>\n"}],"owner":{"account_id":7903021,"reputation":5451,"user_id":5969463,"accept_rate":32,"display_name":"MadPhysicist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3629,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59022922,"answer_count":3,"score":4,"last_activity_date":1653360799,"creation_date":1574632162,"question_id":59022775,"body_markdown":"I have been trying to install Elasticsearch, which, for version 7.x seemed easy, whereas for version 5.x is a pain in the neck. The whole ordeal exists because there is a slew of compatibility requirements between the Elasticseach, Django Haystack, Django CMS and other things. If someone has a nice table or a way to wrap their head around that, I&#39;d be happy to hear it.\r\n \r\nAs to the actual question, after installing ES 5.x, I cannot seem to get it working. \r\n\r\n    user@user-desktop:~/sites/project-web/project$ sudo systemctl restart elasticsearch\r\n    user@user-desktop:~/sites/project-web/project$ curl -X GET localhost:9200\r\n    curl: (7) Failed to connect to localhost port 9200: Connection refused\r\n    user@user-desktop:~/sites/project-web/project$ \r\n\r\nEntities that are uncommented in `/etc/elasticsearch/elasticsearch.yml`\r\n\r\n\r\n    # ======================== Elasticsearch Configuration =========================\r\n    #\r\n    # NOTE: Elasticsearch comes with reasonable defaults for most settings.\r\n    #       Before you set out to tweak and tune the configuration, make sure you\r\n    #       understand what are you trying to accomplish and the consequences.\r\n    #\r\n    # The primary way of configuring a node is via this file. This template lists\r\n    # the most important settings you may want to configure for a production cluster.\r\n    #\r\n    # Please consult the documentation for further information on configuration options:\r\n    # https://www.elastic.co/guide/en/elasticsearch/reference/index.html\r\n    #\r\n    # ---------------------------------- Cluster -----------------------------------\r\n    #\r\n    # Use a descriptive name for your cluster:\r\n    #\r\n    cluster.name: project-search\r\n    #\r\n    # ------------------------------------ Node ------------------------------------\r\n    #\r\n    # Use a descriptive name for the node:\r\n    #\r\n    node.name: node-1\r\n    #\r\n    # Add custom attributes to the node:\r\n    #\r\n    #node.attr.rack: r1\r\n    #\r\n    # ----------------------------------- Paths ------------------------------------\r\n    #\r\n    # Path to directory where to store the data (separate multiple locations by comma):\r\n    #\r\n    #path.data: /path/to/data\r\n    #\r\n    # Path to log files:\r\n    #\r\n    #path.logs: /path/to/logs\r\n    # ----------------------------------- Memory -----------------------------------\r\n    #\r\n    # Lock the memory on startup:\r\n    #\r\n    #bootstrap.memory_lock: true\r\n    #\r\n    # Make sure that the heap size is set to about half the memory available\r\n    # on the system and that the owner of the process is allowed to use this\r\n    # limit.\r\n    #\r\n    # Elasticsearch performs poorly when the system is swapping the memory.\r\n    #\r\n    # ---------------------------------- Network -----------------------------------\r\n    #\r\n    # Set the bind address to a specific IP (IPv4 or IPv6):\r\n    #\r\n    network.host: 0.0.0.0\r\n    #\r\n    # Set a custom port for HTTP:\r\n    #\r\n    http.port: 9200\r\n    transport.host: localhost\r\n    transport.tcp.port: 9300\r\n    #\r\n    # For more information, consult the network module documentation.\r\n    # --------------------------------- Discovery ----------------------------------\r\n    #\r\n    # Pass an initial list of hosts to perform discovery when new node is started:\r\n    # The default list of hosts is [&quot;127.0.0.1&quot;, &quot;[::1]&quot;]\r\n    #\r\n    #discovery.zen.ping.unicast.hosts: [&quot;host1&quot;, &quot;host2&quot;]\r\n    discovery.zen.ping.unicast.hosts: [&quot;0.0.0.0&quot;]\r\n    #discovery.seed_hosts:[&quot;0.0.0.0&quot;]\r\n    #\r\n    # Prevent the &quot;split brain&quot; by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):\r\n    #\r\n    discovery.zen.minimum_master_nodes: 1\r\n    #\r\n    # For more information, consult the zen discovery module documentation.\r\n    #\r\n    # ---------------------------------- Gateway -----------------------------------\r\n    #\r\n    # Block initial recovery after a full cluster restart until N nodes are started:\r\n    #\r\n    #gateway.recover_after_nodes: 3\r\n    #\r\n    # For more information, consult the gateway module documentation.\r\n    #\r\n    # ---------------------------------- Various -----------------------------------\r\n    #\r\n    # Require explicit names when deleting indices:\r\n    #\r\n    #action.destructive_requires_name: true\r\n\r\nThis is the status with which it fails:\r\n\r\n    user@user-desktop:~/sites/project-web/project$ systemctl status elasticsearch.service \r\n    ● elasticsearch.service - Elasticsearch\r\n       Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; enabled; vendor preset: enabled)\r\n       Active: failed (Result: exit-code) since Sun 2019-11-24 15:39:25 CST; 3min 54s ago\r\n         Docs: http://www.elastic.co\r\n      Process: 19098 ExecStart=/usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet -Edefault.path.logs=${LOG_DIR} -Edefault.path.data=${DATA_DIR} -Edefault.path.conf=${CONF_DI\r\n      Process: 19097 ExecStartPre=/usr/share/elasticsearch/bin/elasticsearch-systemd-pre-exec (code=exited, status=0/SUCCESS)\r\n     Main PID: 19098 (code=exited, status=1/FAILURE)\r\n    \r\n    Nov 24 15:39:24 user-desktop systemd[1]: Starting Elasticsearch...\r\n    Nov 24 15:39:24 user-desktop systemd[1]: Started Elasticsearch.\r\n    Nov 24 15:39:24 user-desktop elasticsearch[19098]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n    Nov 24 15:39:25 user-desktop systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\r\n    Nov 24 15:39:25 user-desktop systemd[1]: elasticsearch.service: Failed with result &#39;exit-code&#39;.\r\n\r\nIn `/var/log/elasticsearch/project-search.log` I find the following error:\r\n\r\n    [2019-11-24T15:46:44,319][INFO ][o.e.n.Node               ] [node-1] initializing ...\r\n    [2019-11-24T15:46:44,410][ERROR][o.e.b.Bootstrap          ] Exception\r\n    org.elasticsearch.ElasticsearchException: java.io.IOException: failed to read [id:0, legacy:false, file:/var/lib/elasticsearch/nodes/0/_state/node-0.st]\r\n            at org.elasticsearch.ExceptionsHelper.maybeThrowRuntimeAndSuppress(ExceptionsHelper.java:196) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:335) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.env.NodeEnvironment.loadOrCreateNodeMetaData(NodeEnvironment.java:418) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.env.NodeEnvironment.&lt;init&gt;(NodeEnvironment.java:267) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:265) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:245) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:233) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:233) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:342) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:132) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:123) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:70) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) [elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) [elasticsearch-5.6.16.jar:5.6.16]\r\n    Caused by: java.io.IOException: failed to read [id:0, legacy:false, file:/var/lib/elasticsearch/nodes/0/_state/node-0.st]\r\n            at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:328) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            ... 14 more\r\n    Caused by: java.lang.IllegalArgumentException: [node_meta_data] unknown field [node_version], parser not found\r\n            at org.elasticsearch.common.xcontent.ObjectParser.getParser(ObjectParser.java:399) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:159) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.common.xcontent.ObjectParser.apply(ObjectParser.java:183) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.env.NodeMetaData$1.fromXContent(NodeMetaData.java:110) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.env.NodeMetaData$1.fromXContent(NodeMetaData.java:94) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:203) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:323) ~[elasticsearch-5.6.16.jar:5.6.16]\r\n            ... 14 more\r\n\r\nCould someone tell me what it going on? Any help on resolving this and getting ES to work would be appreciated. ","title":"Elasticsearch 5.x Fails to Start","body":"<p>I have been trying to install Elasticsearch, which, for version 7.x seemed easy, whereas for version 5.x is a pain in the neck. The whole ordeal exists because there is a slew of compatibility requirements between the Elasticseach, Django Haystack, Django CMS and other things. If someone has a nice table or a way to wrap their head around that, I'd be happy to hear it.</p>\n\n<p>As to the actual question, after installing ES 5.x, I cannot seem to get it working. </p>\n\n<pre><code>user@user-desktop:~/sites/project-web/project$ sudo systemctl restart elasticsearch\nuser@user-desktop:~/sites/project-web/project$ curl -X GET localhost:9200\ncurl: (7) Failed to connect to localhost port 9200: Connection refused\nuser@user-desktop:~/sites/project-web/project$ \n</code></pre>\n\n<p>Entities that are uncommented in <code>/etc/elasticsearch/elasticsearch.yml</code></p>\n\n<pre><code># ======================== Elasticsearch Configuration =========================\n#\n# NOTE: Elasticsearch comes with reasonable defaults for most settings.\n#       Before you set out to tweak and tune the configuration, make sure you\n#       understand what are you trying to accomplish and the consequences.\n#\n# The primary way of configuring a node is via this file. This template lists\n# the most important settings you may want to configure for a production cluster.\n#\n# Please consult the documentation for further information on configuration options:\n# https://www.elastic.co/guide/en/elasticsearch/reference/index.html\n#\n# ---------------------------------- Cluster -----------------------------------\n#\n# Use a descriptive name for your cluster:\n#\ncluster.name: project-search\n#\n# ------------------------------------ Node ------------------------------------\n#\n# Use a descriptive name for the node:\n#\nnode.name: node-1\n#\n# Add custom attributes to the node:\n#\n#node.attr.rack: r1\n#\n# ----------------------------------- Paths ------------------------------------\n#\n# Path to directory where to store the data (separate multiple locations by comma):\n#\n#path.data: /path/to/data\n#\n# Path to log files:\n#\n#path.logs: /path/to/logs\n# ----------------------------------- Memory -----------------------------------\n#\n# Lock the memory on startup:\n#\n#bootstrap.memory_lock: true\n#\n# Make sure that the heap size is set to about half the memory available\n# on the system and that the owner of the process is allowed to use this\n# limit.\n#\n# Elasticsearch performs poorly when the system is swapping the memory.\n#\n# ---------------------------------- Network -----------------------------------\n#\n# Set the bind address to a specific IP (IPv4 or IPv6):\n#\nnetwork.host: 0.0.0.0\n#\n# Set a custom port for HTTP:\n#\nhttp.port: 9200\ntransport.host: localhost\ntransport.tcp.port: 9300\n#\n# For more information, consult the network module documentation.\n# --------------------------------- Discovery ----------------------------------\n#\n# Pass an initial list of hosts to perform discovery when new node is started:\n# The default list of hosts is [\"127.0.0.1\", \"[::1]\"]\n#\n#discovery.zen.ping.unicast.hosts: [\"host1\", \"host2\"]\ndiscovery.zen.ping.unicast.hosts: [\"0.0.0.0\"]\n#discovery.seed_hosts:[\"0.0.0.0\"]\n#\n# Prevent the \"split brain\" by configuring the majority of nodes (total number of master-eligible nodes / 2 + 1):\n#\ndiscovery.zen.minimum_master_nodes: 1\n#\n# For more information, consult the zen discovery module documentation.\n#\n# ---------------------------------- Gateway -----------------------------------\n#\n# Block initial recovery after a full cluster restart until N nodes are started:\n#\n#gateway.recover_after_nodes: 3\n#\n# For more information, consult the gateway module documentation.\n#\n# ---------------------------------- Various -----------------------------------\n#\n# Require explicit names when deleting indices:\n#\n#action.destructive_requires_name: true\n</code></pre>\n\n<p>This is the status with which it fails:</p>\n\n<pre><code>user@user-desktop:~/sites/project-web/project$ systemctl status elasticsearch.service \n● elasticsearch.service - Elasticsearch\n   Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; enabled; vendor preset: enabled)\n   Active: failed (Result: exit-code) since Sun 2019-11-24 15:39:25 CST; 3min 54s ago\n     Docs: http://www.elastic.co\n  Process: 19098 ExecStart=/usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet -Edefault.path.logs=${LOG_DIR} -Edefault.path.data=${DATA_DIR} -Edefault.path.conf=${CONF_DI\n  Process: 19097 ExecStartPre=/usr/share/elasticsearch/bin/elasticsearch-systemd-pre-exec (code=exited, status=0/SUCCESS)\n Main PID: 19098 (code=exited, status=1/FAILURE)\n\nNov 24 15:39:24 user-desktop systemd[1]: Starting Elasticsearch...\nNov 24 15:39:24 user-desktop systemd[1]: Started Elasticsearch.\nNov 24 15:39:24 user-desktop elasticsearch[19098]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\nNov 24 15:39:25 user-desktop systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\nNov 24 15:39:25 user-desktop systemd[1]: elasticsearch.service: Failed with result 'exit-code'.\n</code></pre>\n\n<p>In <code>/var/log/elasticsearch/project-search.log</code> I find the following error:</p>\n\n<pre><code>[2019-11-24T15:46:44,319][INFO ][o.e.n.Node               ] [node-1] initializing ...\n[2019-11-24T15:46:44,410][ERROR][o.e.b.Bootstrap          ] Exception\norg.elasticsearch.ElasticsearchException: java.io.IOException: failed to read [id:0, legacy:false, file:/var/lib/elasticsearch/nodes/0/_state/node-0.st]\n        at org.elasticsearch.ExceptionsHelper.maybeThrowRuntimeAndSuppress(ExceptionsHelper.java:196) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:335) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.env.NodeEnvironment.loadOrCreateNodeMetaData(NodeEnvironment.java:418) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.env.NodeEnvironment.&lt;init&gt;(NodeEnvironment.java:267) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:265) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:245) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:233) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:233) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:342) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:132) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:123) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:70) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) [elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) [elasticsearch-5.6.16.jar:5.6.16]\nCaused by: java.io.IOException: failed to read [id:0, legacy:false, file:/var/lib/elasticsearch/nodes/0/_state/node-0.st]\n        at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:328) ~[elasticsearch-5.6.16.jar:5.6.16]\n        ... 14 more\nCaused by: java.lang.IllegalArgumentException: [node_meta_data] unknown field [node_version], parser not found\n        at org.elasticsearch.common.xcontent.ObjectParser.getParser(ObjectParser.java:399) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:159) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.common.xcontent.ObjectParser.apply(ObjectParser.java:183) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.env.NodeMetaData$1.fromXContent(NodeMetaData.java:110) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.env.NodeMetaData$1.fromXContent(NodeMetaData.java:94) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:203) ~[elasticsearch-5.6.16.jar:5.6.16]\n        at org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:323) ~[elasticsearch-5.6.16.jar:5.6.16]\n        ... 14 more\n</code></pre>\n\n<p>Could someone tell me what it going on? Any help on resolving this and getting ES to work would be appreciated. </p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1653352573,"post_id":72356064,"comment_id":127826219,"body_markdown":"You really don&#39;t want to store your dates as strings like that.  That will just cause other problems later because they won&#39;t sort chronologically.  Instead, consider just building a timestamp the represents the point in time where you would like to start your query and pass that.","body":"You really don&#39;t want to store your dates as strings like that.  That will just cause other problems later because they won&#39;t sort chronologically.  Instead, consider just building a timestamp the represents the point in time where you would like to start your query and pass that."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1653352976,"post_id":72356064,"comment_id":127826278,"body_markdown":"Are you asking [how to parse a date from a string in Java?](https://www.google.com/search?q=how+to+parse+a+date+from+a+string+in+Java)","body":"Are you asking <a href=\"https://www.google.com/search?q=how+to+parse+a+date+from+a+string+in+Java\" rel=\"nofollow noreferrer\">how to parse a date from a string in Java?</a>"},{"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"score":0,"creation_date":1653353062,"post_id":72356064,"comment_id":127826295,"body_markdown":"Thanks @DougStevenson but i need to filter my data based on month , for example i want to fetch all data row for May so i want to send a query date is greater than or equal to 01/05/2022","body":"Thanks @DougStevenson but i need to filter my data based on month , for example i want to fetch all data row for May so i want to send a query date is greater than or equal to 01/05/2022"},{"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"score":0,"creation_date":1653353166,"post_id":72356064,"comment_id":127826322,"body_markdown":"no @FrankvanPuffelen ,i need to filter my data based on date given (24/05/2022) but in firestore date format is different, not sure how to handle it","body":"no @FrankvanPuffelen ,i need to filter my data based on date given (24/05/2022) but in firestore date format is different, not sure how to handle it"},{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1653353866,"post_id":72356064,"comment_id":127826445,"body_markdown":"You should convert that date string to a Date or Timestamp first.  That&#39;s what Frank is pointing to.","body":"You should convert that date string to a Date or Timestamp first.  That&#39;s what Frank is pointing to."},{"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"score":0,"creation_date":1653353869,"post_id":72356064,"comment_id":127826446,"body_markdown":"Is there any resource or example which i can refer ?pls .I have been trying and ending in loop with no luck","body":"Is there any resource or example which i can refer ?pls .I have been trying and ending in loop with no luck"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1653359014,"post_id":72356064,"comment_id":127827170,"body_markdown":"You can pass a `Date` object to Firestore. --- Also: if you&#39;ve tried to parse the date yourself already, edit your question to show what you tried and what problem/error you got after that.","body":"You can pass a <code>Date</code> object to Firestore. --- Also: if you&#39;ve tried to parse the date yourself already, edit your question to show what you tried and what problem/error you got after that."},{"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"score":0,"creation_date":1653359793,"post_id":72356064,"comment_id":127827265,"body_markdown":"Thanks ,I have resolved the issue by following same question asked here https://stackoverflow.com/questions/55348853/firestore-query-date-range","body":"Thanks ,I have resolved the issue by following same question asked here <a href=\"https://stackoverflow.com/questions/55348853/firestore-query-date-range\" title=\"firestore query date range\">stackoverflow.com/questions/55348853/firestore-query-date-ra&zwnj;&#8203;nge</a>"},{"owner":{"account_id":22733076,"reputation":3723,"user_id":16895640,"display_name":"Marc Anthony B"},"score":0,"creation_date":1653362060,"post_id":72356064,"comment_id":127827555,"body_markdown":"Does this answer your question? [Firestore Query Date Range](https://stackoverflow.com/questions/55348853/firestore-query-date-range)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55348853/firestore-query-date-range\">Firestore Query Date Range</a>"}],"owner":{"account_id":22870341,"reputation":19,"user_id":17013455,"display_name":"meado1992"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653359840,"creation_date":1653352378,"question_id":72356064,"body_markdown":"I need help to convert my date given dd/MM/yyyy to firestore timestamp format in order to be able to send a firestore query to fetch all row from collection \r\n\r\nDate to send is dd/MM/yyyy &quot;24/05/2022&quot;\r\nfirestore date \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Jkxm.png\r\n\r\n\r\nFirestore query :\r\n\r\n      fStore.collection(&quot;data&quot;).whereEqualTo(&quot;ID&quot;, userId).whereGreaterThanOrEqualTo(&quot;date&quot;, &quot;24/05/2022&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {}\r\n\r\n\r\nI am expected to get one row only as i have only one row of data which date is May 25,2022","title":"[Resolved ]how to convert date format dd/mm/yyyy to firestore timestamp format in order to send a query based on date given?","body":"<p>I need help to convert my date given dd/MM/yyyy to firestore timestamp format in order to be able to send a firestore query to fetch all row from collection</p>\n<p>Date to send is dd/MM/yyyy &quot;24/05/2022&quot;\nfirestore date\n<a href=\"https://i.stack.imgur.com/9Jkxm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Jkxm.png\" alt=\"enter image description here\" /></a></p>\n<p>Firestore query :</p>\n<pre><code>  fStore.collection(&quot;data&quot;).whereEqualTo(&quot;ID&quot;, userId).whereGreaterThanOrEqualTo(&quot;date&quot;, &quot;24/05/2022&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {}\n</code></pre>\n<p>I am expected to get one row only as i have only one row of data which date is May 25,2022</p>\n"},{"tags":["java","kotlin","gradle","build.gradle","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1623238425,"post_id":67901652,"comment_id":120020816,"body_markdown":"`build.gradle` file uses `groovy` syntax. refer https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html for reverse syntax conversion","body":"<code>build.gradle</code> file uses <code>groovy</code> syntax. refer <a href=\"https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a> for reverse syntax conversion"}],"answers":[{"tags":[],"owner":{"account_id":6691111,"reputation":115,"user_id":5160594,"accept_rate":60,"display_name":"Matthew D&#39;Agostino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653359632,"creation_date":1653359632,"answer_id":72356630,"question_id":67901652,"body_markdown":"At the moment I dont think there is any method to generate a Kotlin SpringBoot application with a `build.gradle` that is using the groovy DSL. Your best bet will be to convert the gradle file manually, which can take a little time but is pretty easy once you understand/get the hang of it. \r\n\r\nI&#39;d reccomend checking out the [Gradle Groovy to Kotlin Conversion][1] guide made by the Gradle organisation and just do the opposite to all the conversions listed.\r\n\r\nAnd for a more simple example I&#39;d also check out the example posted by the Kotlin organisation on [Converting to Kotlin DSL.][2]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html\r\n  [2]: https://kotlinlang.org/docs/native-gradle.html#create-project-files","title":"convert kotlin dsl gradle to groovy build.gradle","body":"<p>At the moment I dont think there is any method to generate a Kotlin SpringBoot application with a <code>build.gradle</code> that is using the groovy DSL. Your best bet will be to convert the gradle file manually, which can take a little time but is pretty easy once you understand/get the hang of it.</p>\n<p>I'd reccomend checking out the <a href=\"https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html\" rel=\"nofollow noreferrer\">Gradle Groovy to Kotlin Conversion</a> guide made by the Gradle organisation and just do the opposite to all the conversions listed.</p>\n<p>And for a more simple example I'd also check out the example posted by the Kotlin organisation on <a href=\"https://kotlinlang.org/docs/native-gradle.html#create-project-files\" rel=\"nofollow noreferrer\">Converting to Kotlin DSL.</a></p>\n"}],"owner":{"account_id":21870251,"reputation":31,"user_id":16159857,"display_name":"romnpn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6333,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653359632,"creation_date":1623232069,"question_id":67901652,"body_markdown":"I created a springboot app in Kotlin&amp;gradle with the [initialiser](https://start.spring.io/) but the auto-generated build.gradle file is in kotlin with the extension `build.gralde.kts` (see content below):\r\n\r\n```\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    id(&quot;org.springframework.boot&quot;) version &quot;2.5.0&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\r\n    kotlin(&quot;jvm&quot;) version &quot;1.5.10&quot;\r\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.5.10&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_1_8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions {\r\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI want the project to be in Kotlin but the gradle file to be in `build.gradle` as per old java applications.\r\n\r\nPlease tell me how to generate a kotlin springboot app with a normal `build.gradle` file or how to covert the generated `build.gradle.kts` into `build.gradle`??","title":"convert kotlin dsl gradle to groovy build.gradle","body":"<p>I created a springboot app in Kotlin&amp;gradle with the <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">initialiser</a> but the auto-generated build.gradle file is in kotlin with the extension <code>build.gralde.kts</code> (see content below):</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;2.5.0&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.5.10&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.5.10&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I want the project to be in Kotlin but the gradle file to be in <code>build.gradle</code> as per old java applications.</p>\n<p>Please tell me how to generate a kotlin springboot app with a normal <code>build.gradle</code> file or how to covert the generated <code>build.gradle.kts</code> into <code>build.gradle</code>??</p>\n"},{"tags":["java","spring","spring-boot","azure","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653359614,"creation_date":1653359614,"answer_id":72356627,"question_id":72356303,"body_markdown":"&gt; What is this code?\r\n\r\nThis is the `authorization code`. Typically you would use this code to get access token and id token. If you are using Azure AD SDK like MSAL, the SDK will take care of getting tokens using the authorization code.\r\n\r\nTo learn more about authorization code flow, please see this: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow.\r\n\r\n\r\n\r\n","title":"Why I don&#39;t see the ID Token or Auth Token?","body":"<blockquote>\n<p>What is this code?</p>\n</blockquote>\n<p>This is the <code>authorization code</code>. Typically you would use this code to get access token and id token. If you are using Azure AD SDK like MSAL, the SDK will take care of getting tokens using the authorization code.</p>\n<p>To learn more about authorization code flow, please see this: <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow</a>.</p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72356627,"answer_count":1,"score":0,"last_activity_date":1653359614,"creation_date":1653355442,"question_id":72356303,"body_markdown":"I followed the article, https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory and created an App role\r\n\r\nI was thinking that Azure AD would return the IDToken however what I see is below, it does not look like a JWT token\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhat is this code? How does the Spring Boot decodes the code and understands the user role?\r\n\r\n  [1]: https://i.stack.imgur.com/CY1qE.png","title":"Why I don&#39;t see the ID Token or Auth Token?","body":"<p>I followed the article, <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory</a> and created an App role</p>\n<p>I was thinking that Azure AD would return the IDToken however what I see is below, it does not look like a JWT token</p>\n<p><a href=\"https://i.stack.imgur.com/CY1qE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CY1qE.png\" alt=\"enter image description here\" /></a></p>\n<p>What is this code? How does the Spring Boot decodes the code and understands the user role?</p>\n"},{"tags":["java","android","xml","gradient","runtimeexception"],"comments":[{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":1,"creation_date":1653362857,"post_id":72356513,"comment_id":127827660,"body_markdown":"Try changing the package name in build.grade and rebuild","body":"Try changing the package name in build.grade and rebuild"},{"owner":{"account_id":25358850,"reputation":1,"user_id":19174493,"display_name":"Shock2k5"},"score":0,"creation_date":1653372355,"post_id":72356513,"comment_id":127829192,"body_markdown":"I tried. I&#39;m getting the same error. I Cleaned, Rebuild, changed the package name, everything similar I could think of.","body":"I tried. I&#39;m getting the same error. I Cleaned, Rebuild, changed the package name, everything similar I could think of."},{"owner":{"account_id":25358850,"reputation":1,"user_id":19174493,"display_name":"Shock2k5"},"score":0,"creation_date":1653373693,"post_id":72356513,"comment_id":127829572,"body_markdown":"After playing around with it. I see the problem is my .xml files are the problem. The ones that are using ```&lt;selector&gt; &lt;item android:state_pressed=&quot;true&quot;&gt;``` are not working. They were working before the refractor. Any ideas?","body":"After playing around with it. I see the problem is my .xml files are the problem. The ones that are using <code>&lt;selector&gt; &lt;item android:state_pressed=&quot;true&quot;&gt;</code> are not working. They were working before the refractor. Any ideas?"},{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":0,"creation_date":1653388234,"post_id":72356513,"comment_id":127834716,"body_markdown":"Please see the syntax\nhttps://developer.android.com/guide/topics/resources/drawable-resource.html#StateList","body":"Please see the syntax <a href=\"https://developer.android.com/guide/topics/resources/drawable-resource.html#StateList\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a>"}],"owner":{"account_id":25358850,"reputation":1,"user_id":19174493,"display_name":"Shock2k5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653358409,"creation_date":1653358409,"question_id":72356513,"body_markdown":"I completed my app, uploaded it to the Google Play Console and realized I couldn&#39;t use the com.example.myherocalc package. So, I refractored it to myherometa.myherocalc and got a bunch of errors. The ones that are persisting seem to be suggesting the Main Activity can&#39;t access my resources? \r\n\r\n```2022-05-23 22:10:22.143 11754-11754/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: myherometa.myherocalc, PID: 11754\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{myherometa.myherocalc/myherometa.myherocalc.MainActivity}: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\r\n     Caused by: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\r\n     Caused by: android.content.res.Resources$NotFoundException: Drawable myherometa.myherocalc:drawable/opp_life_background with resource ID #0x7f0800a1\r\n     Caused by: android.content.res.Resources$NotFoundException: File res/drawable/opp_life_background.xml from drawable resource ID #0x7f0800a1\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:891)\r\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:673)\r\n        at android.content.res.Resources.loadDrawable(Resources.java:993)\r\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:1006)\r\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:981)\r\n        at android.view.View.&lt;init&gt;(View.java:5535)\r\n        at android.widget.TextView.&lt;init&gt;(TextView.java:996)\r\n        at android.widget.TextView.&lt;init&gt;(TextView.java:990)\r\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:102)\r\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:97)\r\n        at androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:194)\r\n        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1563)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1614)\r\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n2022-05-23 22:10:22.144 11754-11754/? E/AndroidRuntime:     at myherometa.myherocalc.MainActivity.onCreate(MainActivity.java:47)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.view.InflateException: Class not found gradient\r\n        at android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:224)\r\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:141)\r\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\r\n        at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1391)\r\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:199)\r\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:126)\r\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:144)\r\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\r\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1361)\r\n        at android.content.res.ResourcesImpl.loadXmlDrawable(ResourcesImpl.java:954)\r\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:877)\r\n        \t... 43 more\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;gradient&quot; on path: DexPathList[[dex file &quot;/data/data/myherometa.myherocalc/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~b5t9FhNkIi2_o23GW_3SZw==/myherometa.myherocalc-F42q7jj-JxM1PYvRaXmlQQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~b5t9FhNkIi2_o23GW_3SZw==/myherometa.myherocalc-F42q7jj-JxM1PYvRaXmlQQ==/lib/x86, /system/lib, /system_ext/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:205)\r\n        \t... 53 more\r\n```\r\n\r\nMainActivity.java (It&#39;s 300 lines, so I&#39;ll just include the OnCreate)\r\n\r\n```package myherometa.myherocalc;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Random;\r\nimport java.util.TimerTask;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    public int startOppLife, startSelfLife, oppLife, selfLife, atkSpeed, atkDamage, target, zone, diesRolling;\r\n    public TextView txtOppLife, txtSelfLife, txtSpeed, txtDamage, txtSettOppLife, txtSettSelfLife;\r\n    public Button btnOppLife, btnSelfLife;\r\n    public ImageView imgSpeed;\r\n    public ImageButton btnReset, btnDieRoll;\r\n    public String lifeSlip;\r\n    public Random rng;\r\n\r\n\r\n   \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //Set Life Variables\r\n        startOppLife = 25;\r\n        oppLife = 25;\r\n        startSelfLife = 25;\r\n        selfLife = 25;\r\n        atkSpeed = 4;\r\n        atkDamage = 4;\r\n        target = 0;\r\n        zone = 2;\r\n        rng = new Random();\r\n        rng.setSeed(System.currentTimeMillis());\r\n        setContentView(R.layout.activity_main);\r\n\r\n        setMainViewButtons();\r\n    }\r\n```\r\nopp_life_background.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_pressed=&quot;true&quot;&gt;\r\n        &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;gradient\r\n                android:endColor=&quot;#221111&quot;\r\n                android:centerColor=&quot;#881111&quot;\r\n                android:startColor=&quot;#221111&quot;\r\n                android:angle=&quot;90&quot;/&gt;\r\n            &lt;corners android:radius=&quot;15dip&quot; /&gt;\r\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#000000&quot; /&gt;\r\n\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    &lt;item&gt;\r\n            &lt;gradient\r\n                android:endColor=&quot;#331111&quot;\r\n                android:centerColor=&quot;#ff1111&quot;\r\n                android:startColor=&quot;#991111&quot;\r\n                android:angle=&quot;90&quot;/&gt;\r\n            &lt;corners android:radius=&quot;15dip&quot; /&gt;\r\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#000000&quot; /&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n```","title":"I refractored com.example in my Android app. Now, getting Resources$NotFoundException","body":"<p>I completed my app, uploaded it to the Google Play Console and realized I couldn't use the com.example.myherocalc package. So, I refractored it to myherometa.myherocalc and got a bunch of errors. The ones that are persisting seem to be suggesting the Main Activity can't access my resources?</p>\n<pre><code>    Process: myherometa.myherocalc, PID: 11754\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{myherometa.myherocalc/myherometa.myherocalc.MainActivity}: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\n     Caused by: android.view.InflateException: Binary XML file line #24 in myherometa.myherocalc:layout/activity_main: Error inflating class TextView\n     Caused by: android.content.res.Resources$NotFoundException: Drawable myherometa.myherocalc:drawable/opp_life_background with resource ID #0x7f0800a1\n     Caused by: android.content.res.Resources$NotFoundException: File res/drawable/opp_life_background.xml from drawable resource ID #0x7f0800a1\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:891)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:673)\n        at android.content.res.Resources.loadDrawable(Resources.java:993)\n        at android.content.res.TypedArray.getDrawableForDensity(TypedArray.java:1006)\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:981)\n        at android.view.View.&lt;init&gt;(View.java:5535)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:996)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:990)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:102)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:97)\n        at androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:194)\n        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1563)\n        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1614)\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1124)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n2022-05-23 22:10:22.144 11754-11754/? E/AndroidRuntime:     at myherometa.myherocalc.MainActivity.onCreate(MainActivity.java:47)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.view.InflateException: Class not found gradient\n        at android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:224)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:141)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\n        at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1391)\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:199)\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:126)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:144)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1402)\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1361)\n        at android.content.res.ResourcesImpl.loadXmlDrawable(ResourcesImpl.java:954)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:877)\n            ... 43 more\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;gradient&quot; on path: DexPathList[[dex file &quot;/data/data/myherometa.myherocalc/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~b5t9FhNkIi2_o23GW_3SZw==/myherometa.myherocalc-F42q7jj-JxM1PYvRaXmlQQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~b5t9FhNkIi2_o23GW_3SZw==/myherometa.myherocalc-F42q7jj-JxM1PYvRaXmlQQ==/lib/x86, /system/lib, /system_ext/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.graphics.drawable.DrawableInflater.inflateFromClass(DrawableInflater.java:205)\n            ... 53 more\n</code></pre>\n<p>MainActivity.java (It's 300 lines, so I'll just include the OnCreate)</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.Random;\nimport java.util.TimerTask;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    public int startOppLife, startSelfLife, oppLife, selfLife, atkSpeed, atkDamage, target, zone, diesRolling;\n    public TextView txtOppLife, txtSelfLife, txtSpeed, txtDamage, txtSettOppLife, txtSettSelfLife;\n    public Button btnOppLife, btnSelfLife;\n    public ImageView imgSpeed;\n    public ImageButton btnReset, btnDieRoll;\n    public String lifeSlip;\n    public Random rng;\n\n\n   \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //Set Life Variables\n        startOppLife = 25;\n        oppLife = 25;\n        startSelfLife = 25;\n        selfLife = 25;\n        atkSpeed = 4;\n        atkDamage = 4;\n        target = 0;\n        zone = 2;\n        rng = new Random();\n        rng.setSeed(System.currentTimeMillis());\n        setContentView(R.layout.activity_main);\n\n        setMainViewButtons();\n    }\n</code></pre>\n<p>opp_life_background.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot;&gt;\n        &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:shape=&quot;rectangle&quot;&gt;\n            &lt;gradient\n                android:endColor=&quot;#221111&quot;\n                android:centerColor=&quot;#881111&quot;\n                android:startColor=&quot;#221111&quot;\n                android:angle=&quot;90&quot;/&gt;\n            &lt;corners android:radius=&quot;15dip&quot; /&gt;\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#000000&quot; /&gt;\n\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n            &lt;gradient\n                android:endColor=&quot;#331111&quot;\n                android:centerColor=&quot;#ff1111&quot;\n                android:startColor=&quot;#991111&quot;\n                android:angle=&quot;90&quot;/&gt;\n            &lt;corners android:radius=&quot;15dip&quot; /&gt;\n            &lt;stroke android:width=&quot;3dip&quot; android:color=&quot;#000000&quot; /&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n"},{"tags":["java","php","http","session"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":1,"creation_date":1298886822,"post_id":5140399,"comment_id":5768256,"body_markdown":"This is JavaScript and not Java!","body":"This is JavaScript and not Java!"},{"owner":{"account_id":61630,"reputation":38237,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"score":0,"creation_date":1298886968,"post_id":5140399,"comment_id":5768289,"body_markdown":"How can a web developer not know the difference between javascript and java?","body":"How can a web developer not know the difference between javascript and java?"},{"owner":{"account_id":315100,"reputation":2105,"user_id":630686,"accept_rate":73,"display_name":"Abhishek"},"score":0,"creation_date":1298887071,"post_id":5140399,"comment_id":5768311,"body_markdown":"See...I am making my own client in java. (I&#39;m not using browser)","body":"See...I am making my own client in java. (I&#39;m not using browser)"},{"owner":{"account_id":315100,"reputation":2105,"user_id":630686,"accept_rate":73,"display_name":"Abhishek"},"score":0,"creation_date":1298887218,"post_id":5140399,"comment_id":5768340,"body_markdown":"@adarshr - I&#39;m asking for JAVA solution...\n@Richard - yup,how can a web developer not know the difference between javascript and java?!! he should know as I know the diffrence...","body":"@adarshr - I&#39;m asking for JAVA solution... @Richard - yup,how can a web developer not know the difference between javascript and java?!! he should know as I know the diffrence..."},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1298888508,"post_id":5140399,"comment_id":5768634,"body_markdown":"@Abhishek - I think you should rephrase your question and explain clearly that you&#39;re not using a web browser as a client. Most of us will assume that it is in the context of a browser.","body":"@Abhishek - I think you should rephrase your question and explain clearly that you&#39;re not using a web browser as a client. Most of us will assume that it is in the context of a browser."},{"owner":{"account_id":315100,"reputation":2105,"user_id":630686,"accept_rate":73,"display_name":"Abhishek"},"score":2,"creation_date":1298890781,"post_id":5140399,"comment_id":5769133,"body_markdown":"Could you please define &quot;Most of us&quot;?? If I write &quot;JAVA&quot; that means it is java...And though I am new to stackoverflow I know what is the ratio of java questions to javascript question. In my question I have written &quot;..I&#39;m using java for client side..&quot; clearly.","body":"Could you please define &quot;Most of us&quot;?? If I write &quot;JAVA&quot; that means it is java...And though I am new to stackoverflow I know what is the ratio of java questions to javascript question. In my question I have written &quot;..I&#39;m using java for client side..&quot; clearly."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1298926436,"post_id":5140399,"comment_id":5777384,"body_markdown":"Yes but what you&#39;re running into here is the novice issue - There are a lot of ppl who write &quot;I&#39;m using Java for the client-side&quot; and actually mean JS. I&#39;m not saying you&#39;re wrong - clearly you aren&#39;t, but you&#39;re not being explicit enough to rise above the noise :) Anyway, welcome to SO.","body":"Yes but what you&#39;re running into here is the novice issue - There are a lot of ppl who write &quot;I&#39;m using Java for the client-side&quot; and actually mean JS. I&#39;m not saying you&#39;re wrong - clearly you aren&#39;t, but you&#39;re not being explicit enough to rise above the noise :) Anyway, welcome to SO."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1298886896,"creation_date":1298886896,"answer_id":5140434,"question_id":5140399,"body_markdown":"Simple.\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var variable = &#39;&lt;?php echo $SESSION[&quot;variable_name&quot;];?&gt;&#39;;\r\n    &lt;/script&gt;","title":"PHP Session variables in java","body":"<p>Simple.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var variable = '&lt;?php echo $SESSION[\"variable_name\"];?&gt;';\n&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319097,"reputation":3336,"user_id":636680,"accept_rate":70,"display_name":"Richard Pianka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298912742,"creation_date":1298886972,"answer_id":5140446,"question_id":5140399,"body_markdown":"You should use [cookies][1] instead of session variables if you&#39;re planning on sending it to the client side. \r\n\r\n\r\n  [1]: http://php.net/manual/en/features.cookies.php","title":"PHP Session variables in java","body":"<p>You should use <a href=\"http://php.net/manual/en/features.cookies.php\" rel=\"nofollow\">cookies</a> instead of session variables if you're planning on sending it to the client side. </p>\n"},{"tags":[],"owner":{"account_id":180036,"reputation":935,"user_id":413094,"accept_rate":86,"display_name":"Xupypr MV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1298887036,"creation_date":1298887036,"answer_id":5140457,"question_id":5140399,"body_markdown":"AFAIK session variables is a server-side variables, that can be accessed by session id. You must refactor you application (to make java-client free of server side information) or send them (variables) from server to client manually.","title":"PHP Session variables in java","body":"<p>AFAIK session variables is a server-side variables, that can be accessed by session id. You must refactor you application (to make java-client free of server side information) or send them (variables) from server to client manually.</p>\n"},{"tags":[],"owner":{"account_id":35837,"reputation":45403,"user_id":101811,"accept_rate":91,"display_name":"PatrikAkerstrand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298898751,"creation_date":1298898751,"answer_id":5142424,"question_id":5140399,"body_markdown":"Your Java-client will make requests to the server, and the server will act like a web service, right?\r\n\r\nIf so, include all/any $_SESSION variables you might need with the XML/json/whatever response that the server sends back to the clients, something along the lines of:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;reply&gt;\r\n      &lt;request&gt;\r\n        &lt;method&gt;getUsers&lt;/method&gt;\r\n        &lt;param name=&quot;page&quot;&gt;1&lt;/param&gt;\r\n        &lt;param name=&quot;apiKey&quot;&gt;API_KEY&lt;/param&gt;\r\n        &lt;param name=&quot;sessId&quot;&gt;SESSION_ID&lt;/param&gt;\r\n      &lt;/request&gt;\r\n      &lt;response&gt;\r\n        &lt;status&gt;\r\n          &lt;code&gt;0&lt;/code&gt;\r\n          &lt;message&gt;OK&lt;/message&gt;\r\n        &lt;/status&gt;\r\n        &lt;users&gt;\r\n          &lt;!-- Request reply here --&gt;\r\n        &lt;/users&gt;\r\n        &lt;session&gt;\r\n          &lt;variable1&gt;$_SESSION[&#39;var1&#39;]&lt;/variable1&gt;\r\n          &lt;!-- Additional session variables you might need on the client here[...] --&gt;\r\n        &lt;/session&gt;\r\n      &lt;/response&gt;\r\n    &lt;/reply&gt;\r\n\r\nThe thing is, session variables are something the server uses to keep track of which client is accessing it now, and relate data to that particular client. If you need this information on the client, perhaps you could refactor the application to create this data on the client and pass it to the server in case the server needs that data?","title":"PHP Session variables in java","body":"<p>Your Java-client will make requests to the server, and the server will act like a web service, right?</p>\n\n<p>If so, include all/any $_SESSION variables you might need with the XML/json/whatever response that the server sends back to the clients, something along the lines of:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;reply&gt;\n  &lt;request&gt;\n    &lt;method&gt;getUsers&lt;/method&gt;\n    &lt;param name=\"page\"&gt;1&lt;/param&gt;\n    &lt;param name=\"apiKey\"&gt;API_KEY&lt;/param&gt;\n    &lt;param name=\"sessId\"&gt;SESSION_ID&lt;/param&gt;\n  &lt;/request&gt;\n  &lt;response&gt;\n    &lt;status&gt;\n      &lt;code&gt;0&lt;/code&gt;\n      &lt;message&gt;OK&lt;/message&gt;\n    &lt;/status&gt;\n    &lt;users&gt;\n      &lt;!-- Request reply here --&gt;\n    &lt;/users&gt;\n    &lt;session&gt;\n      &lt;variable1&gt;$_SESSION['var1']&lt;/variable1&gt;\n      &lt;!-- Additional session variables you might need on the client here[...] --&gt;\n    &lt;/session&gt;\n  &lt;/response&gt;\n&lt;/reply&gt;\n</code></pre>\n\n<p>The thing is, session variables are something the server uses to keep track of which client is accessing it now, and relate data to that particular client. If you need this information on the client, perhaps you could refactor the application to create this data on the client and pass it to the server in case the server needs that data?</p>\n"},{"tags":[],"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298900139,"creation_date":1298900139,"answer_id":5142643,"question_id":5140399,"body_markdown":"The only thing you have to understand is that session variables has no difference from any other PHP variable.    \r\nThus, you have to request it from PHP as well.   \r\nOf course, supplying a request with session identifier got from the previous calls. That&#39;s all, not a rocket science. ","title":"PHP Session variables in java","body":"<p>The only thing you have to understand is that session variables has no difference from any other PHP variable.<br>\nThus, you have to request it from PHP as well.<br>\nOf course, supplying a request with session identifier got from the previous calls. That's all, not a rocket science. </p>\n"}],"owner":{"account_id":315100,"reputation":2105,"user_id":630686,"accept_rate":73,"display_name":"Abhishek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3585,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":5140457,"answer_count":5,"score":2,"last_activity_date":1653358151,"creation_date":1298886696,"question_id":5140399,"body_markdown":"In my server-client model I&#39;m using java for client side and for server side scripting using php5.\r\n\r\nFor communication I&#39;m using simple http protocol.\r\n\r\nIn server I have some $SESSION variables(in php). I want access these variables in my java client.\r\n\r\nHow can it be posssible?\r\n\r\nThanks in advance.","title":"PHP Session variables in java","body":"<p>In my server-client model I'm using java for client side and for server side scripting using php5.</p>\n\n<p>For communication I'm using simple http protocol.</p>\n\n<p>In server I have some $SESSION variables(in php). I want access these variables in my java client.</p>\n\n<p>How can it be posssible?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","sql","android-room"],"answers":[{"tags":[],"owner":{"account_id":76269,"reputation":38001,"user_id":218473,"accept_rate":84,"display_name":"Maragues"},"down_vote_count":0,"up_vote_count":348,"is_accepted":false,"score":348,"last_activity_date":1546082552,"creation_date":1511964237,"answer_id":47554641,"question_id":47538857,"body_markdown":"Actually, you can use `@Query` to perform a delete.\r\n\r\n\r\n    @Query(&quot;DELETE FROM users WHERE user_id = :userId&quot;)\r\n    abstract void deleteByUserId(long userId);\r\n\r\nExtracted from [Query javadoc][1]:\r\n\r\n&gt; UPDATE or DELETE queries can return void or int. If it is an int, the\r\n&gt; value is the number of rows affected by this query.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/arch/persistence/room/Query.html","title":"Android Room @Delete with parameters","body":"<p>Actually, you can use <code>@Query</code> to perform a delete.</p>\n\n<pre><code>@Query(\"DELETE FROM users WHERE user_id = :userId\")\nabstract void deleteByUserId(long userId);\n</code></pre>\n\n<p>Extracted from <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Query.html\" rel=\"noreferrer\">Query javadoc</a>:</p>\n\n<blockquote>\n  <p>UPDATE or DELETE queries can return void or int. If it is an int, the\n  value is the number of rows affected by this query.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4350924,"reputation":1167,"user_id":3551297,"accept_rate":86,"display_name":"Awais"},"down_vote_count":5,"up_vote_count":97,"is_accepted":true,"score":92,"last_activity_date":1522309249,"creation_date":1522309249,"answer_id":49550524,"question_id":47538857,"body_markdown":"The beauty of room is, we play with the objects. As per requirement you can use \r\nfor kotlin:\r\n\r\n    @Delete\r\n    fun delete(model: LanguageModel)\r\nfor Java:\r\n\r\n    @Delete\r\n    void delete(LanguageModel model)\r\nit will delete the exact object which is stored in the db with the same values. LanguageModel is my model class and it works perfectly.","title":"Android Room @Delete with parameters","body":"<p>The beauty of room is, we play with the objects. As per requirement you can use \nfor kotlin:</p>\n\n<pre><code>@Delete\nfun delete(model: LanguageModel)\n</code></pre>\n\n<p>for Java:</p>\n\n<pre><code>@Delete\nvoid delete(LanguageModel model)\n</code></pre>\n\n<p>it will delete the exact object which is stored in the db with the same values. LanguageModel is my model class and it works perfectly.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1628101084,"creation_date":1590392681,"answer_id":61997920,"question_id":47538857,"body_markdown":"You can use below method to delete by ID\r\n\r\n    @Query(&quot;DELETE FROM yourDatabaseTable WHERE id = :id&quot;)\r\n    void deleteById(int id);\r\n\r\nfor delete all rows\r\n\r\n    @Query(&quot;DELETE FROM yourDatabaseTable&quot;)\r\n    void delete();","title":"Android Room @Delete with parameters","body":"<p>You can use below method to delete by ID</p>\n<pre><code>@Query(&quot;DELETE FROM yourDatabaseTable WHERE id = :id&quot;)\nvoid deleteById(int id);\n</code></pre>\n<p>for delete all rows</p>\n<pre><code>@Query(&quot;DELETE FROM yourDatabaseTable&quot;)\nvoid delete();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19036392,"reputation":734,"user_id":13897405,"display_name":"Rohit S"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1642084056,"creation_date":1642084056,"answer_id":70698264,"question_id":47538857,"body_markdown":"ROOM database provides easy way to INSERT, UPDATE and DELETE an object in the database. To perform thus operation just needed to annotate @Delete. The **DELETE operation returns the Int** when deletion of the single object is successful returns 1 else returns 0 if the DELETE operation is unsuccessful, Adding the return type is a good practice.\r\n\r\n   **KotlinEG.kt**\r\n   \r\n  \r\n\r\n       @Dao\r\n       interface EntityLocalDAO {\r\n           @Delete\r\n           fun deleteData(entityObject: EntityObject) : Int\r\n       }\r\n\r\n  \r\n   **javaEG.java**\r\n   \r\n   \r\n\r\n       @Dao\r\n       interface EntityLocalDAO {\r\n           @Delete\r\n           int deleteData(EntityObject entityObject);\r\n       }","title":"Android Room @Delete with parameters","body":"<p>ROOM database provides easy way to INSERT, UPDATE and DELETE an object in the database. To perform thus operation just needed to annotate @Delete. The <strong>DELETE operation returns the Int</strong> when deletion of the single object is successful returns 1 else returns 0 if the DELETE operation is unsuccessful, Adding the return type is a good practice.</p>\n<p><strong>KotlinEG.kt</strong></p>\n<pre><code>   @Dao\n   interface EntityLocalDAO {\n       @Delete\n       fun deleteData(entityObject: EntityObject) : Int\n   }\n</code></pre>\n<p><strong>javaEG.java</strong></p>\n<pre><code>   @Dao\n   interface EntityLocalDAO {\n       @Delete\n       int deleteData(EntityObject entityObject);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653355993,"creation_date":1653355993,"answer_id":72356339,"question_id":47538857,"body_markdown":"You can now delete using only partial data.\r\n\r\nPer the [documentation][1]:\r\n\r\n    @Entity\r\n    data class Playlist (\r\n        @PrimaryKey\r\n        val playlistId: Long,\r\n        val ownerId: Long,\r\n        val name: String,\r\n        @ColumnInfo(defaultValue = &quot;normal&quot;)\r\n        val category: String\r\n    )\r\n    \r\n    data class OwnerIdAndCategory (\r\n        val ownerId: Long,\r\n        val category: String\r\n    )\r\n    \r\n    @Dao\r\n    public interface PlaylistDao {\r\n        @Delete(entity = Playlist::class)\r\n        fun deleteByOwnerIdAndCategory(varargs idCategory: OwnerIdAndCategory)\r\n    }\r\n\r\nIn this example you can see that they are deleting the Playlist using only the ownerId and the category. You do not even need to use the primary key (playlistId).\r\n\r\nThe key is to use the @Delete(entity = Playlist::class) annotation.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/room/Delete?hl=en","title":"Android Room @Delete with parameters","body":"<p>You can now delete using only partial data.</p>\n<p>Per the <a href=\"https://developer.android.com/reference/kotlin/androidx/room/Delete?hl=en\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre><code>@Entity\ndata class Playlist (\n    @PrimaryKey\n    val playlistId: Long,\n    val ownerId: Long,\n    val name: String,\n    @ColumnInfo(defaultValue = &quot;normal&quot;)\n    val category: String\n)\n\ndata class OwnerIdAndCategory (\n    val ownerId: Long,\n    val category: String\n)\n\n@Dao\npublic interface PlaylistDao {\n    @Delete(entity = Playlist::class)\n    fun deleteByOwnerIdAndCategory(varargs idCategory: OwnerIdAndCategory)\n}\n</code></pre>\n<p>In this example you can see that they are deleting the Playlist using only the ownerId and the category. You do not even need to use the primary key (playlistId).</p>\n<p>The key is to use the @Delete(entity = Playlist::class) annotation.</p>\n"}],"owner":{"account_id":10124656,"reputation":1545,"user_id":7480451,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141208,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":49550524,"answer_count":5,"score":124,"last_activity_date":1653355993,"creation_date":1511894960,"question_id":47538857,"body_markdown":"I know I can&#39;t use `DELETE` in a query (that is a shame by the way), I will get the following error:\r\n\r\n    &lt;i&gt;Error:error: Observable query return type (LiveData, Flowable etc) can only be used with SELECT queries that directly or indirectly (via @Relation, for example) access at least one table.&lt;/i&gt;\r\n\r\nBut I can&#39;t use `@Delete(WHERE... xxx)`\r\nSo how do I delete a specific row by a parameter?","title":"Android Room @Delete with parameters","body":"<p>I know I can't use <code>DELETE</code> in a query (that is a shame by the way), I will get the following error:</p>\n\n<pre><code>&lt;i&gt;Error:error: Observable query return type (LiveData, Flowable etc) can only be used with SELECT queries that directly or indirectly (via @Relation, for example) access at least one table.&lt;/i&gt;\n</code></pre>\n\n<p>But I can't use <code>@Delete(WHERE... xxx)</code>\nSo how do I delete a specific row by a parameter?</p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"account_id":22093806,"reputation":423,"user_id":16351448,"display_name":"NoNameAv"},"score":0,"creation_date":1653345536,"post_id":72355454,"comment_id":127825078,"body_markdown":"Why do yo use port 4242? Try 5000 or above","body":"Why do yo use port 4242? Try 5000 or above"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653345845,"post_id":72355454,"comment_id":127825132,"body_markdown":"@OlauPla because it says so in their documentation. Do you think you can just pick the port?","body":"@OlauPla because it says so in their documentation. Do you think you can just pick the port?"},{"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"score":0,"creation_date":1653345909,"post_id":72355454,"comment_id":127825142,"body_markdown":"Yeah, i have to use 4242. It does not let me pick the port.","body":"Yeah, i have to use 4242. It does not let me pick the port."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653345942,"post_id":72355454,"comment_id":127825152,"body_markdown":"Do you know what `localhost` means and why this won&#39;t work this way in your app?","body":"Do you know what <code>localhost</code> means and why this won&#39;t work this way in your app?"},{"owner":{"account_id":22093806,"reputation":423,"user_id":16351448,"display_name":"NoNameAv"},"score":0,"creation_date":1653345958,"post_id":72355454,"comment_id":127825156,"body_markdown":"Oh sorry i thought you could pick the port and i have never seen in localhosting port 4242","body":"Oh sorry i thought you could pick the port and i have never seen in localhosting port 4242"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653346002,"post_id":72355454,"comment_id":127825160,"body_markdown":"@OlauPla but you have seen all the ports that are &quot;5000 or above&quot;?","body":"@OlauPla but you have seen all the ports that are &quot;5000 or above&quot;?"},{"owner":{"account_id":22093806,"reputation":423,"user_id":16351448,"display_name":"NoNameAv"},"score":0,"creation_date":1653346064,"post_id":72355454,"comment_id":127825172,"body_markdown":"When you localhost? Yes I only seen ports of 5000 or above like 8080","body":"When you localhost? Yes I only seen ports of 5000 or above like 8080"},{"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"score":0,"creation_date":1653346081,"post_id":72355454,"comment_id":127825178,"body_markdown":"No, idk what it meant 10 seconds ago, but now that i googled it ik it refers to the current device used to access it. So i am guessing local host can&#39;t be used for my phone. So how do i go about fixing this?","body":"No, idk what it meant 10 seconds ago, but now that i googled it ik it refers to the current device used to access it. So i am guessing local host can&#39;t be used for my phone. So how do i go about fixing this?"},{"owner":{"account_id":22093806,"reputation":423,"user_id":16351448,"display_name":"NoNameAv"},"score":0,"creation_date":1653346208,"post_id":72355454,"comment_id":127825205,"body_markdown":"Where are you running your app? And if you want to access it with your phone you must be on the same LAN network and host it so it listens to all ip&#39;s","body":"Where are you running your app? And if you want to access it with your phone you must be on the same LAN network and host it so it listens to all ip&#39;s"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1653346253,"post_id":72355454,"comment_id":127825216,"body_markdown":"@ArronLapta you need to connect to the machine that is running this ruby software. So replace the `localhost` part in the url with the IP of the machine where that is running. And your app needs to be able to reach that machine.","body":"@ArronLapta you need to connect to the machine that is running this ruby software. So replace the <code>localhost</code> part in the url with the IP of the machine where that is running. And your app needs to be able to reach that machine."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653346332,"post_id":72355454,"comment_id":127825228,"body_markdown":"@OlauPla you can use any port above 1024 for any of your sockets in your applications.","body":"@OlauPla you can use any port above 1024 for any of your sockets in your applications."},{"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"score":0,"creation_date":1653346362,"post_id":72355454,"comment_id":127825234,"body_markdown":"How do i do this? I am just following the docs, on their site and local host is what the documentation provided so i am not sure how to go about doing this?","body":"How do i do this? I am just following the docs, on their site and local host is what the documentation provided so i am not sure how to go about doing this?"}],"answers":[{"tags":[],"owner":{"account_id":3414988,"reputation":2417,"user_id":2864160,"accept_rate":92,"display_name":"RyanM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653355202,"creation_date":1653355202,"answer_id":72356278,"question_id":72355454,"body_markdown":"I connect to `localhost:4242` in my Android apps using the following URL inside Android Studio: `http://10.0.2.2:4242`\r\n\r\nUpdate your `BACKEND_URL` constant and give that a try.","title":"Why am i getting this error when trying to communicate with my server?","body":"<p>I connect to <code>localhost:4242</code> in my Android apps using the following URL inside Android Studio: <code>http://10.0.2.2:4242</code></p>\n<p>Update your <code>BACKEND_URL</code> constant and give that a try.</p>\n"}],"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653355202,"creation_date":1653345226,"question_id":72355454,"body_markdown":"I am simply trying to implement stripe payments in my app  and i am following the their doc here https://stripe.com/docs/payments/quickstart and i keep getting this error ( Failed to connect to localhost/127.0.0.1:4242) , whenever i launch my app. I am not sure why this is happening i already tried adding        `android:usesCleartextTraffic=&quot;true&quot;` to my manifest file as some users suggested but to no avail.\r\n\r\n    public class payment_activity extends AppCompatActivity {\r\n    \r\n        private String paymentIntentClientSecret;\r\n        private PaymentLauncher paymentLauncher;\r\n        // we need paymentIntentClientSecret to start transaction\r\n        private Button paymentButton;\r\n        CardInputWidget cardInputWidget;\r\n    \r\n        private PaymentSheet paymentSheet;\r\n    \r\n    \r\n        private static final String TAG = &quot;CheckoutActivity&quot;;\r\n        private static final String BACKEND_URL = &quot;http://localhost:4242&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_payment);\r\n            paymentButton = findViewById(R.id.payButton);\r\n            cardInputWidget = findViewById(R.id.cardInputWidget);\r\n    \r\n            paymentSheet = new PaymentSheet(this, this::onPaymentSheetResult);\r\n    \r\n            fetchPaymentIntent();\r\n    \r\n    \r\n            paymentButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    PaymentSheet.Configuration configuration = new PaymentSheet.Configuration(&quot;Example, Inc.&quot;);\r\n    \r\n                    // Present Payment Sheet\r\n                    paymentSheet.presentWithPaymentIntent(paymentIntentClientSecret, configuration);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void showAlert(String title, @Nullable String message) {\r\n            runOnUiThread(() -&gt; {\r\n                AlertDialog dialog = new AlertDialog.Builder(this)\r\n                        .setTitle(title)\r\n                        .setMessage(message)\r\n                        .setPositiveButton(&quot;Ok&quot;, null)\r\n                        .create();\r\n                dialog.show();\r\n            });\r\n        }\r\n    \r\n        private void showToast(String message) {\r\n            runOnUiThread(() -&gt; Toast.makeText(this, message, Toast.LENGTH_LONG).show());\r\n        }\r\n    \r\n        private void fetchPaymentIntent() {\r\n            final String shoppingCartContent = &quot;{\\&quot;items\\&quot;: [ {\\&quot;id\\&quot;:\\&quot;xl-tshirt\\&quot;}]}&quot;;\r\n    \r\n            final RequestBody requestBody = RequestBody.create(\r\n                    shoppingCartContent,\r\n                    MediaType.get(&quot;application/json; charset=utf-8&quot;)\r\n            );\r\n    \r\n            Request request = new Request.Builder()\r\n                    .url(BACKEND_URL + &quot;/create-payment-intent&quot;)\r\n                    .post(requestBody)\r\n                    .build();\r\n    \r\n            new OkHttpClient()\r\n                    .newCall(request)\r\n                    .enqueue(new Callback() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                            showAlert(&quot;Failed to load data&quot;, &quot;Error: &quot; + e.toString());\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onResponse(\r\n                                @NonNull Call call,\r\n                                @NonNull Response response\r\n                        ) throws IOException {\r\n                            if (!response.isSuccessful()) {\r\n                                showAlert(\r\n                                        &quot;Failed to load page&quot;,\r\n                                        &quot;Error: &quot; + response.toString()\r\n                                );\r\n                            } else {\r\n                                final JSONObject responseJson = parseResponse(response.body());\r\n                                paymentIntentClientSecret = responseJson.optString(&quot;clientSecret&quot;);\r\n                                runOnUiThread(() -&gt; paymentButton.setEnabled(true));\r\n                                Log.i(TAG, &quot;Retrieved PaymentIntent&quot;);\r\n                            }\r\n                        }\r\n                    });\r\n        }\r\n    \r\n        private JSONObject parseResponse(ResponseBody responseBody) {\r\n            if (responseBody != null) {\r\n                try {\r\n                    return new JSONObject(responseBody.string());\r\n                } catch (IOException | JSONException e) {\r\n                    Log.e(TAG, &quot;Error parsing response&quot;, e);\r\n                }\r\n            }\r\n    \r\n            return new JSONObject();\r\n        }\r\n    \r\n        private void onPaymentSheetResult(\r\n                final PaymentSheetResult paymentSheetResult\r\n        ) {\r\n            if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\r\n                showToast(&quot;Payment complete!&quot;);\r\n            } else if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\r\n                Log.i(TAG, &quot;Payment canceled!&quot;);\r\n            } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\r\n                Throwable error = ((PaymentSheetResult.Failed) paymentSheetResult).getError();\r\n                showAlert(&quot;Payment failed&quot;, error.getLocalizedMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n    Faild to connect to localhost/127.0.0.1:4242","title":"Why am i getting this error when trying to communicate with my server?","body":"<p>I am simply trying to implement stripe payments in my app  and i am following the their doc here <a href=\"https://stripe.com/docs/payments/quickstart\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/quickstart</a> and i keep getting this error ( Failed to connect to localhost/127.0.0.1:4242) , whenever i launch my app. I am not sure why this is happening i already tried adding        <code>android:usesCleartextTraffic=&quot;true&quot;</code> to my manifest file as some users suggested but to no avail.</p>\n<pre><code>public class payment_activity extends AppCompatActivity {\n\n    private String paymentIntentClientSecret;\n    private PaymentLauncher paymentLauncher;\n    // we need paymentIntentClientSecret to start transaction\n    private Button paymentButton;\n    CardInputWidget cardInputWidget;\n\n    private PaymentSheet paymentSheet;\n\n\n    private static final String TAG = &quot;CheckoutActivity&quot;;\n    private static final String BACKEND_URL = &quot;http://localhost:4242&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_payment);\n        paymentButton = findViewById(R.id.payButton);\n        cardInputWidget = findViewById(R.id.cardInputWidget);\n\n        paymentSheet = new PaymentSheet(this, this::onPaymentSheetResult);\n\n        fetchPaymentIntent();\n\n\n        paymentButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PaymentSheet.Configuration configuration = new PaymentSheet.Configuration(&quot;Example, Inc.&quot;);\n\n                // Present Payment Sheet\n                paymentSheet.presentWithPaymentIntent(paymentIntentClientSecret, configuration);\n            }\n        });\n\n\n    }\n\n\n\n\n    private void showAlert(String title, @Nullable String message) {\n        runOnUiThread(() -&gt; {\n            AlertDialog dialog = new AlertDialog.Builder(this)\n                    .setTitle(title)\n                    .setMessage(message)\n                    .setPositiveButton(&quot;Ok&quot;, null)\n                    .create();\n            dialog.show();\n        });\n    }\n\n    private void showToast(String message) {\n        runOnUiThread(() -&gt; Toast.makeText(this, message, Toast.LENGTH_LONG).show());\n    }\n\n    private void fetchPaymentIntent() {\n        final String shoppingCartContent = &quot;{\\&quot;items\\&quot;: [ {\\&quot;id\\&quot;:\\&quot;xl-tshirt\\&quot;}]}&quot;;\n\n        final RequestBody requestBody = RequestBody.create(\n                shoppingCartContent,\n                MediaType.get(&quot;application/json; charset=utf-8&quot;)\n        );\n\n        Request request = new Request.Builder()\n                .url(BACKEND_URL + &quot;/create-payment-intent&quot;)\n                .post(requestBody)\n                .build();\n\n        new OkHttpClient()\n                .newCall(request)\n                .enqueue(new Callback() {\n                    @Override\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                        showAlert(&quot;Failed to load data&quot;, &quot;Error: &quot; + e.toString());\n                    }\n\n                    @Override\n                    public void onResponse(\n                            @NonNull Call call,\n                            @NonNull Response response\n                    ) throws IOException {\n                        if (!response.isSuccessful()) {\n                            showAlert(\n                                    &quot;Failed to load page&quot;,\n                                    &quot;Error: &quot; + response.toString()\n                            );\n                        } else {\n                            final JSONObject responseJson = parseResponse(response.body());\n                            paymentIntentClientSecret = responseJson.optString(&quot;clientSecret&quot;);\n                            runOnUiThread(() -&gt; paymentButton.setEnabled(true));\n                            Log.i(TAG, &quot;Retrieved PaymentIntent&quot;);\n                        }\n                    }\n                });\n    }\n\n    private JSONObject parseResponse(ResponseBody responseBody) {\n        if (responseBody != null) {\n            try {\n                return new JSONObject(responseBody.string());\n            } catch (IOException | JSONException e) {\n                Log.e(TAG, &quot;Error parsing response&quot;, e);\n            }\n        }\n\n        return new JSONObject();\n    }\n\n    private void onPaymentSheetResult(\n            final PaymentSheetResult paymentSheetResult\n    ) {\n        if (paymentSheetResult instanceof PaymentSheetResult.Completed) {\n            showToast(&quot;Payment complete!&quot;);\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Canceled) {\n            Log.i(TAG, &quot;Payment canceled!&quot;);\n        } else if (paymentSheetResult instanceof PaymentSheetResult.Failed) {\n            Throwable error = ((PaymentSheetResult.Failed) paymentSheetResult).getError();\n            showAlert(&quot;Payment failed&quot;, error.getLocalizedMessage());\n        }\n    }\n\n\n\n\n}\n\n\nFaild to connect to localhost/127.0.0.1:4242\n</code></pre>\n"},{"tags":["java","compare"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653354826,"creation_date":1653354826,"answer_id":72356237,"question_id":72355961,"body_markdown":"You&#39;ve confused yourself. Your class is named `CardDeck`. Which suggests it represents __an entire deck of cards__. A deck of cards _does not_ have a rank and does not have a suit. I don&#39;t go to the store and buy a pack of cards that contains only 52 ace of spades, of course.\r\n\r\nIt&#39;s a single card, _that_ has a rank and a suit.\r\n\r\nYour `Deck()` method returns a list of strings. This is not object oriented.\r\n\r\nI suggest you do the following:\r\n\r\n* Make a class called `Card`. It has fields for rank and suit. I suggest you make these enums (`enum Suit { SPADES, HEARTS, CLUBS, DIAMONDS; }` and `enum Rank { ACE, TWO, THREE, .., JACK, QUEEN, KING;}`, but if you haven&#39;t covered that yet, you can stick with `int`. There is no need to have a third field with the string representation, you can and should calculate that every time (it&#39;s a computer and it can do a few billion of those a second. The memory lookup would be slower than calculating it, if you are going to make a point of performance).\r\n* Add useful methods to Card. Certainly a `public String toString() {}` which calculates a nice string representation based on the rank and suit (this would be where `rankString + &quot; of &quot; + suit` is going to go).\r\n* Now make a class called `CardDeck`. It has a single field (`List&lt;Card&gt;`). Create a method called `reshuffle()` which clears the list, then generates all 52 cards, then invokes `shuffleRemaining()` on itself. Write `shuffleRemaining()` which simply shuffles the list as is.\r\n* Give it a constructor, which calls `reshuffle()` on itself - now `new CardDeck()` gets you a shuffled, 52-card deck.\r\n* Add more methods. `draw()`, for example, which does something like `return list.remove(0);` - removes the &#39;top&#39; card and returns it.\r\n\r\n","title":"Is there a way to get the rank of each player?","body":"<p>You've confused yourself. Your class is named <code>CardDeck</code>. Which suggests it represents <strong>an entire deck of cards</strong>. A deck of cards <em>does not</em> have a rank and does not have a suit. I don't go to the store and buy a pack of cards that contains only 52 ace of spades, of course.</p>\n<p>It's a single card, <em>that</em> has a rank and a suit.</p>\n<p>Your <code>Deck()</code> method returns a list of strings. This is not object oriented.</p>\n<p>I suggest you do the following:</p>\n<ul>\n<li>Make a class called <code>Card</code>. It has fields for rank and suit. I suggest you make these enums (<code>enum Suit { SPADES, HEARTS, CLUBS, DIAMONDS; }</code> and <code>enum Rank { ACE, TWO, THREE, .., JACK, QUEEN, KING;}</code>, but if you haven't covered that yet, you can stick with <code>int</code>. There is no need to have a third field with the string representation, you can and should calculate that every time (it's a computer and it can do a few billion of those a second. The memory lookup would be slower than calculating it, if you are going to make a point of performance).</li>\n<li>Add useful methods to Card. Certainly a <code>public String toString() {}</code> which calculates a nice string representation based on the rank and suit (this would be where <code>rankString + &quot; of &quot; + suit</code> is going to go).</li>\n<li>Now make a class called <code>CardDeck</code>. It has a single field (<code>List&lt;Card&gt;</code>). Create a method called <code>reshuffle()</code> which clears the list, then generates all 52 cards, then invokes <code>shuffleRemaining()</code> on itself. Write <code>shuffleRemaining()</code> which simply shuffles the list as is.</li>\n<li>Give it a constructor, which calls <code>reshuffle()</code> on itself - now <code>new CardDeck()</code> gets you a shuffled, 52-card deck.</li>\n<li>Add more methods. <code>draw()</code>, for example, which does something like <code>return list.remove(0);</code> - removes the 'top' card and returns it.</li>\n</ul>\n"}],"owner":{"account_id":21309358,"reputation":5,"user_id":15684012,"display_name":"struggling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72356237,"answer_count":1,"score":0,"last_activity_date":1653354826,"creation_date":1653351122,"question_id":72355961,"body_markdown":"- I&#39;m a bit confused on how to get the rank of each player. I created an integer array of ranks because I thought it would make it easier to compare, but I&#39;m lost on how to compare the ranks given in the String.\r\n    \r\n - For rank 1, &quot;A of suit&quot; is printed out\r\n - rank 11 -&gt; &quot;J of suit&quot;\r\n - rank 12 -&gt; &quot;Q of suit&quot;\r\n - rank 13 -&gt; &quot;K of suit&quot;\r\n    \r\n- Is there a way to get the rank of the rankString printed out?\r\n    \r\n- War method that creates two player arrays, attempting to compare here, but unsure how to get the rank.\r\n\r\n\r\n```\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class War {\r\n    \r\n      public static void main(String[] args) {\r\n        CardDeck deck = new CardDeck();\r\n\r\n    \r\n        int size = deck.Deck().size();\r\n    \r\n        ArrayList player1 = new ArrayList&lt;&gt;(deck.Deck().subList(0, (size) / 2));\r\n        ArrayList player2 = new ArrayList&lt;&gt;(deck.Deck().subList((size) / 2, size));\r\n\r\n    \r\n        System.out.println(&quot;Player 1: &quot; + player1.get(0));\r\n        System.out.println(&quot;Player 2: &quot; + player2.get(0));\r\n\r\n```\r\n\r\nCardDeck method: creates the deck and shuffles it\r\n\r\n```\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class CardDeck extends War{\r\n    public int rank;\r\n\r\n      private String suit, rankString;\r\n    \r\n    \r\n      public List&lt;String&gt; Deck() {\r\n        String[] cardSuit = {&quot;Hearts&quot;, &quot;Spades&quot;, &quot;Clubs&quot;, &quot;Diamonds&quot;};\r\n         int[] cardRank = {1,2,3,4,5,6,7,8,9,10,11,12,13};\r\n    \r\n        String[] deck = new String[52];\r\n    \r\n        for (int i = 0; i &lt; deck.length; i++) {\r\n          rank = cardRank[i%13];\r\n          suit = cardSuit[i/13];\r\n    \r\n          switch(rank){\r\n            case 1 :\r\n              rankString = &quot;A&quot;;\r\n              deck[i] = rankString + &quot; of &quot; + suit;\r\n              break;\r\n            case 11 :\r\n              rankString = &quot;J&quot;;\r\n              deck[i] = rankString + &quot; of &quot; + suit;\r\n              break;\r\n            case 12 :\r\n              value = 12;\r\n              rankString = &quot;Q&quot;;\r\n              deck[i] = rankString + &quot; of &quot; + suit;\r\n              break;\r\n            case 13 :\r\n              rankString = &quot;K&quot;;\r\n              deck[i] = rankString + &quot; of &quot; + suit;\r\n              break;\r\n            default:\r\n              deck[i] = rank + &quot; of &quot; + suit;\r\n    \r\n          }\r\n        }\r\n    \r\n    \r\n        List&lt;String&gt; deckList = Arrays.asList(deck);\r\n    \r\n        Collections.shuffle(deckList);\r\n        return deckList;\r\n      }\r\n    \r\n    }\r\n\r\n```\r\n\r\nI&#39;ve only been working with Java for a little bit and am confused on how creating a separate getRank method works\r\n\r\n\r\nEdit: By Rank, I mean the integer of the card value. So for A of Suit, I want to get back 1, 2=2...J=11, Q=12,K=13. ","title":"Is there a way to get the rank of each player?","body":"<ul>\n<li><p>I'm a bit confused on how to get the rank of each player. I created an integer array of ranks because I thought it would make it easier to compare, but I'm lost on how to compare the ranks given in the String.</p>\n</li>\n<li><p>For rank 1, &quot;A of suit&quot; is printed out</p>\n</li>\n<li><p>rank 11 -&gt; &quot;J of suit&quot;</p>\n</li>\n<li><p>rank 12 -&gt; &quot;Q of suit&quot;</p>\n</li>\n<li><p>rank 13 -&gt; &quot;K of suit&quot;</p>\n</li>\n<li><p>Is there a way to get the rank of the rankString printed out?</p>\n</li>\n<li><p>War method that creates two player arrays, attempting to compare here, but unsure how to get the rank.</p>\n</li>\n</ul>\n<pre><code>    import java.util.ArrayList;\n    import java.util.Collections;\n    \n    public class War {\n    \n      public static void main(String[] args) {\n        CardDeck deck = new CardDeck();\n\n    \n        int size = deck.Deck().size();\n    \n        ArrayList player1 = new ArrayList&lt;&gt;(deck.Deck().subList(0, (size) / 2));\n        ArrayList player2 = new ArrayList&lt;&gt;(deck.Deck().subList((size) / 2, size));\n\n    \n        System.out.println(&quot;Player 1: &quot; + player1.get(0));\n        System.out.println(&quot;Player 2: &quot; + player2.get(0));\n\n</code></pre>\n<p>CardDeck method: creates the deck and shuffles it</p>\n<pre><code>    import java.util.Arrays;\n    import java.util.Collections;\n    import java.util.List;\n    \n    public class CardDeck extends War{\n    public int rank;\n\n      private String suit, rankString;\n    \n    \n      public List&lt;String&gt; Deck() {\n        String[] cardSuit = {&quot;Hearts&quot;, &quot;Spades&quot;, &quot;Clubs&quot;, &quot;Diamonds&quot;};\n         int[] cardRank = {1,2,3,4,5,6,7,8,9,10,11,12,13};\n    \n        String[] deck = new String[52];\n    \n        for (int i = 0; i &lt; deck.length; i++) {\n          rank = cardRank[i%13];\n          suit = cardSuit[i/13];\n    \n          switch(rank){\n            case 1 :\n              rankString = &quot;A&quot;;\n              deck[i] = rankString + &quot; of &quot; + suit;\n              break;\n            case 11 :\n              rankString = &quot;J&quot;;\n              deck[i] = rankString + &quot; of &quot; + suit;\n              break;\n            case 12 :\n              value = 12;\n              rankString = &quot;Q&quot;;\n              deck[i] = rankString + &quot; of &quot; + suit;\n              break;\n            case 13 :\n              rankString = &quot;K&quot;;\n              deck[i] = rankString + &quot; of &quot; + suit;\n              break;\n            default:\n              deck[i] = rank + &quot; of &quot; + suit;\n    \n          }\n        }\n    \n    \n        List&lt;String&gt; deckList = Arrays.asList(deck);\n    \n        Collections.shuffle(deckList);\n        return deckList;\n      }\n    \n    }\n\n</code></pre>\n<p>I've only been working with Java for a little bit and am confused on how creating a separate getRank method works</p>\n<p>Edit: By Rank, I mean the integer of the card value. So for A of Suit, I want to get back 1, 2=2...J=11, Q=12,K=13.</p>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1653352741,"post_id":72355939,"comment_id":127826242,"body_markdown":"Can you explain what you are trying to achieve with that code? May be give some sample input and the expected output?","body":"Can you explain what you are trying to achieve with that code? May be give some sample input and the expected output?"}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653353961,"creation_date":1653351220,"answer_id":72355969,"question_id":72355939,"body_markdown":"Probably you&#39;re looking for something like:\r\n\r\n    BigDecimal totalValue = mainValue;\r\n    if (null != truckValue &amp;&amp; truckValue.compareTo(BigDecimal.ZERO) &gt; 0)\r\n        totalValue = totalValue.add(truckValue);\r\n    if (null != buggyContents &amp;&amp; buggyContents.compareTo(BigDecimal.ZERO) &gt; 0)\r\n        totalValue = totalValue.add(buggyContents);\r\n    return totalValue;\r\n\r\nprobably you want to summarize all non null values? then just remove comparison with zero:\r\n\r\n    BigDecimal totalValue = mainValue;\r\n    if (null != truckValue) totalValue = totalValue.add(truckValue);\r\n    if (null != buggyContents) totalValue = totalValue.add(buggyContents);\r\n    return totalValue;\r\n","title":"handle multiple if to get rid of Cyclomatic Complexity","body":"<p>Probably you're looking for something like:</p>\n<pre><code>BigDecimal totalValue = mainValue;\nif (null != truckValue &amp;&amp; truckValue.compareTo(BigDecimal.ZERO) &gt; 0)\n    totalValue = totalValue.add(truckValue);\nif (null != buggyContents &amp;&amp; buggyContents.compareTo(BigDecimal.ZERO) &gt; 0)\n    totalValue = totalValue.add(buggyContents);\nreturn totalValue;\n</code></pre>\n<p>probably you want to summarize all non null values? then just remove comparison with zero:</p>\n<pre><code>BigDecimal totalValue = mainValue;\nif (null != truckValue) totalValue = totalValue.add(truckValue);\nif (null != buggyContents) totalValue = totalValue.add(buggyContents);\nreturn totalValue;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653354689,"creation_date":1653354689,"answer_id":72356225,"question_id":72355939,"body_markdown":"Assuming that you want to add `truckValue` and `buggyContents` to `mainValue`, but only if the values are neither null nor negative and you want to return the sum, you can do without the whole if-else block by using strems:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Objects;\r\n    import java.util.stream.Stream;\r\n\r\n    ....\r\n\r\n\r\n    public BigDecimal yourMethod(/* whatever */) {\r\n        return Stream.of(truckValue, buggyContents)\r\n                     .filter(Objects::nonNull)\r\n                     .filter(bigDecimal -&gt; bigDecimal.signum() != -1)\r\n                     .reduce(mainValue, BigDecimal::add);\r\n    }","title":"handle multiple if to get rid of Cyclomatic Complexity","body":"<p>Assuming that you want to add <code>truckValue</code> and <code>buggyContents</code> to <code>mainValue</code>, but only if the values are neither null nor negative and you want to return the sum, you can do without the whole if-else block by using strems:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Objects;\nimport java.util.stream.Stream;\n\n....\n\n\npublic BigDecimal yourMethod(/* whatever */) {\n    return Stream.of(truckValue, buggyContents)\n                 .filter(Objects::nonNull)\n                 .filter(bigDecimal -&gt; bigDecimal.signum() != -1)\n                 .reduce(mainValue, BigDecimal::add);\n}\n</code></pre>\n"}],"owner":{"account_id":3251911,"reputation":23,"user_id":2741923,"display_name":"user2741923"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1653354689,"creation_date":1653350800,"question_id":72355939,"body_markdown":"I want to handle multiple if conditions to get rid of Cyclomatic Complexity.\r\nplease help:\r\n\r\n    BigDecimal totalValue = null;     \r\n     if (null != truckValue &amp;&amp; truckValue.compareTo(BigDecimal.ZERO) &gt; 0 &amp;&amp; null != buggyContents &amp;&amp; buggyContents.compareTo(BigDecimal.ZERO) &gt; 0) {\r\n                totalValue = mainValue.add(truckValue).add(buggyContents);\r\n            } else if (null == buggyContents || buggyContents.compareTo(BigDecimal.ZERO) &lt; 0 &amp;&amp; null == truckValue || truckValue.compareTo(BigDecimal.ZERO) &lt; 0) {\r\n                totalValue = mainValue;\r\n            } else if (truckValue.compareTo(BigDecimal.ZERO) &lt; 0 || truckValue == null) {\r\n                totalValue = mainValue.add(buggyContents);\r\n            } else if (buggyContents.compareTo(BigDecimal.ZERO) &lt; 0 || buggyContents == null) {\r\n                totalValue = mainValue.add(truckValue).add(buggyContents);\r\n            }\r\n            return totalValue;","title":"handle multiple if to get rid of Cyclomatic Complexity","body":"<p>I want to handle multiple if conditions to get rid of Cyclomatic Complexity.\nplease help:</p>\n<pre><code>BigDecimal totalValue = null;     \n if (null != truckValue &amp;&amp; truckValue.compareTo(BigDecimal.ZERO) &gt; 0 &amp;&amp; null != buggyContents &amp;&amp; buggyContents.compareTo(BigDecimal.ZERO) &gt; 0) {\n            totalValue = mainValue.add(truckValue).add(buggyContents);\n        } else if (null == buggyContents || buggyContents.compareTo(BigDecimal.ZERO) &lt; 0 &amp;&amp; null == truckValue || truckValue.compareTo(BigDecimal.ZERO) &lt; 0) {\n            totalValue = mainValue;\n        } else if (truckValue.compareTo(BigDecimal.ZERO) &lt; 0 || truckValue == null) {\n            totalValue = mainValue.add(buggyContents);\n        } else if (buggyContents.compareTo(BigDecimal.ZERO) &lt; 0 || buggyContents == null) {\n            totalValue = mainValue.add(truckValue).add(buggyContents);\n        }\n        return totalValue;\n</code></pre>\n"},{"tags":["java","spring","inject","spring-bean"],"comments":[{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":0,"creation_date":1540219949,"post_id":52932135,"comment_id":92773595,"body_markdown":"Can you show the definition of `Parent`?","body":"Can you show the definition of <code>Parent</code>?"},{"owner":{"account_id":13252333,"reputation":337,"user_id":9569499,"display_name":"sys463"},"score":0,"creation_date":1540220268,"post_id":52932135,"comment_id":92773783,"body_markdown":"@flakes, unfortunately, I cannot post a code for that class here for security reasons (plus it has 500+ lines). That class implements runnable and is used to send some periodical requests to another node. It uses some other resources injected (not sure that this is useful...).","body":"@flakes, unfortunately, I cannot post a code for that class here for security reasons (plus it has 500+ lines). That class implements runnable and is used to send some periodical requests to another node. It uses some other resources injected (not sure that this is useful...)."},{"owner":{"account_id":3266981,"reputation":888,"user_id":2751285,"display_name":"BrentR"},"score":0,"creation_date":1540221441,"post_id":52932135,"comment_id":92774508,"body_markdown":"You need to post more info for a proper answer.  If you can&#39;t post code, try reproducing your problem with a minimum viable example, and post that.","body":"You need to post more info for a proper answer.  If you can&#39;t post code, try reproducing your problem with a minimum viable example, and post that."},{"owner":{"account_id":3266981,"reputation":888,"user_id":2751285,"display_name":"BrentR"},"score":0,"creation_date":1540227113,"post_id":52932135,"comment_id":92777561,"body_markdown":"I keyed in your sample code in an attempt to reproduce. But, I cannot reproduce your ClassCastException. The change to being protected may solve the problem, but it is not the correct answer. Something else is amiss.","body":"I keyed in your sample code in an attempt to reproduce. But, I cannot reproduce your ClassCastException. The change to being protected may solve the problem, but it is not the correct answer. Something else is amiss."},{"owner":{"account_id":13252333,"reputation":337,"user_id":9569499,"display_name":"sys463"},"score":0,"creation_date":1540232850,"post_id":52932135,"comment_id":92780205,"body_markdown":"@BrentR, Thanks for your attempt. I&#39;ll work on code snap which can reproduce the issue...","body":"@BrentR, Thanks for your attempt. I&#39;ll work on code snap which can reproduce the issue..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637781068,"post_id":52932135,"comment_id":123920334,"body_markdown":"The problem is the interface combined with `@Transactional`. This leads to a interface based proxy, so it is an instance of `Runnable` but not the actual classes. In your `@EnableTransactionManagement` set the `proxy-target-class` property to `true` to force class based proxies.","body":"The problem is the interface combined with <code>@Transactional</code>. This leads to a interface based proxy, so it is an instance of <code>Runnable</code> but not the actual classes. In your <code>@EnableTransactionManagement</code> set the <code>proxy-target-class</code> property to <code>true</code> to force class based proxies."}],"answers":[{"tags":[],"owner":{"account_id":14543256,"reputation":94,"user_id":10504261,"display_name":"Max7cd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540220824,"creation_date":1540220319,"answer_id":52932321,"question_id":52932135,"body_markdown":"The Problem with your code is, that `appContext.getBean(&quot;beanName&quot;)` does not return an object that inherits from the class `Parent`.\n\nA common mistake regarding classes with names like `Parent` is a wrong import.\nCheck if you are importing from the correct package.\n\nIf this does not fix the issue, make sure that `appContext.getBean(&quot;beanName&quot;)` returns the object you think it does.\nIt might return a Bean Object, that does not inherit from the `Parent` class.\n\nThe context also might not even contain your ChildBean object yet. Make sure it is added to it beforehand.","title":"ClassCastException: com.sun.proxy.$ProxyX cannot be cast to a class","body":"<p>The Problem with your code is, that <code>appContext.getBean(\"beanName\")</code> does not return an object that inherits from the class <code>Parent</code>.</p>\n\n<p>A common mistake regarding classes with names like <code>Parent</code> is a wrong import.\nCheck if you are importing from the correct package.</p>\n\n<p>If this does not fix the issue, make sure that <code>appContext.getBean(\"beanName\")</code> returns the object you think it does.\nIt might return a Bean Object, that does not inherit from the <code>Parent</code> class.</p>\n\n<p>The context also might not even contain your ChildBean object yet. Make sure it is added to it beforehand.</p>\n"},{"tags":[],"owner":{"account_id":23256248,"reputation":81,"user_id":17343261,"display_name":"Java-Enthusiast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650717602,"creation_date":1650717602,"answer_id":71979706,"question_id":52932135,"body_markdown":"For anyone that may encounter this error, the following may prove to be useful in debugging this.  First and foremost, the problem can be caused by the ClassLoader loading two copies of a particular class due to dependency overinclusion.\r\n\r\nSupply the following option to your JVM via IDE or via\r\n\r\n    java -verbose:class {rest of your args / options}\r\n\r\nThen, monitor the console output for the particular Parent class.  A chance exists that the class has made it into the ClassLoader twice, perhaps by including a particular dependency more than once.  Pay particular attention to the time when the bean is retrieved from lookup.\r\n\r\nI was able to solve an issue on 4/22/2022 by using the above strategy to track down an issue in our Gradle build script that caused extra files to make their way into a WAR.","title":"ClassCastException: com.sun.proxy.$ProxyX cannot be cast to a class","body":"<p>For anyone that may encounter this error, the following may prove to be useful in debugging this.  First and foremost, the problem can be caused by the ClassLoader loading two copies of a particular class due to dependency overinclusion.</p>\n<p>Supply the following option to your JVM via IDE or via</p>\n<pre><code>java -verbose:class {rest of your args / options}\n</code></pre>\n<p>Then, monitor the console output for the particular Parent class.  A chance exists that the class has made it into the ClassLoader twice, perhaps by including a particular dependency more than once.  Pay particular attention to the time when the bean is retrieved from lookup.</p>\n<p>I was able to solve an issue on 4/22/2022 by using the above strategy to track down an issue in our Gradle build script that caused extra files to make their way into a WAR.</p>\n"}],"owner":{"account_id":13252333,"reputation":337,"user_id":9569499,"display_name":"sys463"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13121,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1653354510,"creation_date":1540219750,"question_id":52932135,"body_markdown":"I have a Spring bean (`ChildBean extends Parent`) which is extending an abstract class (`Parent implements Runnable`).\r\n\r\n    public abstract class Parent implements Runnable {\r\n        public final void run() {\r\n            // some code\r\n        }\r\n\r\n        public int overridenFunct() {\r\n            // some code\r\n        }\r\n    }\r\n\r\nChild bean class variant which causes ClassCastException:\r\n\r\n    @Transactional\r\n    @Scope(&quot;prototype&quot;)    \r\n    @Service(&quot;beanName&quot;)\r\n    public class ChildBean extends Parent {\r\n        @Override\r\n        public int overridenFunct() { \r\n            // some diff code \r\n        }\r\n    }\r\n\r\nEverything works fine until I override public non-abstract method from parent class in child bean. After that a ClassCastException is thrown when I&#39;m trying to create an instance of that bean.\r\n \r\n    Parent p = (Parent) appContext.getBean(&quot;beanName&quot;);\r\n\r\nBean object returned by `getBean()` is a `ChildBean` class instance (checked with debugger). Why does casting `ChildBean` object to its abstract parent class `Parent` not work?\r\nSo, without an `overridenFunct()` implemented in `ChildBean` everything works fine.\r\nCould someone please tell what is the problem here?\r\n\r\n**UPDATE:**\r\n\r\nChanging method `overridingFunct()` to protected fixes the issue. But what if I need to override a public method? Is that allowed? I&#39;m using Spring 3.2.8\r\n\r\n**UPDATE2:**\r\n\r\nWell, I didn&#39;t get to the point why overriding public method in abstract parent causes ClassCastException. As the resolution I did the following: created an interface with all public methods with common logic, an abstract class, which implements that interface and all &quot;common&quot; methods. Then all the child beans are extended from that abstract class, implementing its specific logic.","title":"ClassCastException: com.sun.proxy.$ProxyX cannot be cast to a class","body":"<p>I have a Spring bean (<code>ChildBean extends Parent</code>) which is extending an abstract class (<code>Parent implements Runnable</code>).</p>\n\n<pre><code>public abstract class Parent implements Runnable {\n    public final void run() {\n        // some code\n    }\n\n    public int overridenFunct() {\n        // some code\n    }\n}\n</code></pre>\n\n<p>Child bean class variant which causes ClassCastException:</p>\n\n<pre><code>@Transactional\n@Scope(\"prototype\")    \n@Service(\"beanName\")\npublic class ChildBean extends Parent {\n    @Override\n    public int overridenFunct() { \n        // some diff code \n    }\n}\n</code></pre>\n\n<p>Everything works fine until I override public non-abstract method from parent class in child bean. After that a ClassCastException is thrown when I'm trying to create an instance of that bean.</p>\n\n<pre><code>Parent p = (Parent) appContext.getBean(\"beanName\");\n</code></pre>\n\n<p>Bean object returned by <code>getBean()</code> is a <code>ChildBean</code> class instance (checked with debugger). Why does casting <code>ChildBean</code> object to its abstract parent class <code>Parent</code> not work?\nSo, without an <code>overridenFunct()</code> implemented in <code>ChildBean</code> everything works fine.\nCould someone please tell what is the problem here?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Changing method <code>overridingFunct()</code> to protected fixes the issue. But what if I need to override a public method? Is that allowed? I'm using Spring 3.2.8</p>\n\n<p><strong>UPDATE2:</strong></p>\n\n<p>Well, I didn't get to the point why overriding public method in abstract parent causes ClassCastException. As the resolution I did the following: created an interface with all public methods with common logic, an abstract class, which implements that interface and all \"common\" methods. Then all the child beans are extended from that abstract class, implementing its specific logic.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653408223,"post_id":72356178,"comment_id":127843283,"body_markdown":"Please share details of native query you use","body":"Please share details of native query you use"},{"owner":{"account_id":25371042,"reputation":1,"user_id":19184840,"display_name":"Jason"},"score":0,"creation_date":1653841237,"post_id":72356178,"comment_id":127944582,"body_markdown":"@AshishPatil It is actually exactly same query.\n`@Query(value = &quot;select \n    B.id                                as storeId,\n    B.name                              as storeName,\n    (select count(distinct book_name) \n       from book where store_id = B.id) as distinctBookCount\nFROM book_store B;&quot;,  nativeQuery = true)`","body":"@AshishPatil It is actually exactly same query. <code>@Query(value = &quot;select      B.id                                as storeId,     B.name                              as storeName,     (select count(distinct book_name)         from book where store_id = B.id) as distinctBookCount FROM book_store B;&quot;,  nativeQuery = true)</code>"}],"owner":{"account_id":25371042,"reputation":1,"user_id":19184840,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653353982,"creation_date":1653353783,"question_id":72356178,"body_markdown":"I have 2 tables: book_store and book. book table has store_id which reference to book_store.\r\n\r\nWhen I run this query on a regular query client, it works fine.\r\n\r\n    select \r\n        B.id                                as storeId,\r\n        B.name                              as storeName,\r\n        (select count(distinct book_name) \r\n           from book where store_id = B.id) as distinctBookCount\r\n    FROM book_store B;\r\n\r\nHowever, using spring boot jpa native query, it fails. The error is just \r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at\r\n&gt; or near &quot;where&quot;\r\n\r\nIs there a possibility that JPA native query does not support such queries?","title":"Spring Boot native query gives error when counting distinct records referenced by a key","body":"<p>I have 2 tables: book_store and book. book table has store_id which reference to book_store.</p>\n<p>When I run this query on a regular query client, it works fine.</p>\n<pre><code>select \n    B.id                                as storeId,\n    B.name                              as storeName,\n    (select count(distinct book_name) \n       from book where store_id = B.id) as distinctBookCount\nFROM book_store B;\n</code></pre>\n<p>However, using spring boot jpa native query, it fails. The error is just</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at\nor near &quot;where&quot;</p>\n</blockquote>\n<p>Is there a possibility that JPA native query does not support such queries?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1652935812,"post_id":72298693,"comment_id":127729243,"body_markdown":"Is there any chance the garbage collector is blocking itself? Do you [log GCs](https://wiki.openjdk.java.net/display/zgc/Main#Main-EnablingGCLogging)? (Are the other blocked threads equally as inconspicuous as Pattern.compile?)","body":"Is there any chance the garbage collector is blocking itself? Do you <a href=\"https://wiki.openjdk.java.net/display/zgc/Main#Main-EnablingGCLogging\" rel=\"nofollow noreferrer\">log GCs</a>? (Are the other blocked threads equally as inconspicuous as Pattern.compile?)"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1652936005,"post_id":72298693,"comment_id":127729280,"body_markdown":"Actually, since you&#39;re in Hibernate and the classloader has an implicit lock, could it be [this JPQL classloading issue exactly](https://stackoverflow.com/q/26608973/1426891)?","body":"Actually, since you&#39;re in Hibernate and the classloader has an implicit lock, could it be <a href=\"https://stackoverflow.com/q/26608973/1426891\">this JPQL classloading issue exactly</a>?"},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1652950507,"post_id":72298693,"comment_id":127733481,"body_markdown":"Thanks Jeff, yes there are many other innocuous looking blocked threads. Things like the HashSet constructor, HashSet.newNode, LinkedList.isPositionIndex. I&#39;m thinking that GC is the key here in that a global stop-the-world GC has started and failed to release its lock. I&#39;ll have a look at our GC related settings and our GC logs (we do log them) and report back.","body":"Thanks Jeff, yes there are many other innocuous looking blocked threads. Things like the HashSet constructor, HashSet.newNode, LinkedList.isPositionIndex. I&#39;m thinking that GC is the key here in that a global stop-the-world GC has started and failed to release its lock. I&#39;ll have a look at our GC related settings and our GC logs (we do log them) and report back."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1653003739,"post_id":72298693,"comment_id":127751132,"body_markdown":"I&#39;ve added GC logs and a bit more. Looks to my eye like a GC bug.","body":"I&#39;ve added GC logs and a bit more. Looks to my eye like a GC bug."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1653005692,"post_id":72298693,"comment_id":127751417,"body_markdown":"Nice evidence! I combed through the JDK bug list but didn&#39;t find anything obvious. Maybe it&#39;s a consequence of Hibernate criteria too, or maybe it&#39;s something brand new. I&#39;d encourage a self-answer with some of the above, or if you find any more evidence.","body":"Nice evidence! I combed through the JDK bug list but didn&#39;t find anything obvious. Maybe it&#39;s a consequence of Hibernate criteria too, or maybe it&#39;s something brand new. I&#39;d encourage a self-answer with some of the above, or if you find any more evidence."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1653006799,"post_id":72298693,"comment_id":127751563,"body_markdown":"Also added pstack logs and some comments about them","body":"Also added pstack logs and some comments about them"},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":1,"creation_date":1653007094,"post_id":72298693,"comment_id":127751610,"body_markdown":"By the way, we don&#39;t use the Hibernate Criteria API at all","body":"By the way, we don&#39;t use the Hibernate Criteria API at all"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1653008224,"post_id":72298693,"comment_id":127751766,"body_markdown":"Ah, then maybe that&#39;s a red herring. As a last check I&#39;m curious whether your server fails after 1-3h on 1.8.0u322 without `+G1GC`, since that implementation seems to have some unique issues, but I don&#39;t know how mission-critical your system is or whether it bears experimentation.","body":"Ah, then maybe that&#39;s a red herring. As a last check I&#39;m curious whether your server fails after 1-3h on 1.8.0u322 without <code>+G1GC</code>, since that implementation seems to have some unique issues, but I don&#39;t know how mission-critical your system is or whether it bears experimentation."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1653018898,"post_id":72298693,"comment_id":127753232,"body_markdown":"Good suggestion, fortunately we discovered the problem during release testing in non-prod so we can experiment. We do like the features of G1 though, particularly its suitability for large memory installations and high probability low pause times. Having high pause times would spark up our monitoring I suspect which we&#39;d then have to tune. Yes it is a critical 24x7 system.","body":"Good suggestion, fortunately we discovered the problem during release testing in non-prod so we can experiment. We do like the features of G1 though, particularly its suitability for large memory installations and high probability low pause times. Having high pause times would spark up our monitoring I suspect which we&#39;d then have to tune. Yes it is a critical 24x7 system."},{"owner":{"account_id":442843,"reputation":241,"user_id":833694,"display_name":"vinay chilakamarri"},"score":1,"creation_date":1653082574,"post_id":72298693,"comment_id":127773100,"body_markdown":"jstack -F in my experience almost always marked thread states to BLOCKED. So the information you see might not be accurate as far as the thread state goes. If the jvm is responding, try &quot;jstack -l &lt;pid&gt; &quot; instead that should give you some idea of accurate thread states and lock information.","body":"jstack -F in my experience almost always marked thread states to BLOCKED. So the information you see might not be accurate as far as the thread state goes. If the jvm is responding, try &quot;jstack -l &lt;pid&gt; &quot; instead that should give you some idea of accurate thread states and lock information."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1653213710,"post_id":72298693,"comment_id":127792158,"body_markdown":"Thanks, unfortunately the jvm is not responding so we had to use the `-F` flag. This [link](https://stackoverflow.com/questions/12061226/how-does-jstack-f-affect-a-running-java-process) has more details about the suspension of a process from that call. I guess we might have to make multiple `jstack -F` calls and see if there&#39;s any change in the stack traces. I&#39;ll report back.","body":"Thanks, unfortunately the jvm is not responding so we had to use the <code>-F</code> flag. This <a href=\"https://stackoverflow.com/questions/12061226/how-does-jstack-f-affect-a-running-java-process\">link</a> has more details about the suspension of a process from that call. I guess we might have to make multiple <code>jstack -F</code> calls and see if there&#39;s any change in the stack traces. I&#39;ll report back."},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1653350864,"post_id":72298693,"comment_id":127825982,"body_markdown":"Multiple jstack -F calls to the same process show no change in the stack traces so I assume that the suspension of threads is long lasting and not due to the jstack -F call itself.","body":"Multiple jstack -F calls to the same process show no change in the stack traces so I assume that the suspension of threads is long lasting and not due to the jstack -F call itself."}],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653352374,"creation_date":1652934919,"question_id":72298693,"body_markdown":"We have a tomcat 9.0.62 server that reliably locks up within 1-3hours. When we dump the thread states using `jstack -F &lt;PID&gt;` we see 359 threads in a BLOCKED state and 9 threads in a state of IN_NATIVE. Lots of available memory, lots of disk, low cpu usage. We have only seen this since we upgraded from OpenJDK 1.8.0u302 to 1.8.0u322 (on Solaris) (when we downgrade to u302 the problem goes away). UPDATE: The problem also occurs on 1.8.0u332.\r\n\r\nAccording to java documentation a state of BLOCKED means &quot;waiting for a monitor lock&quot;. What I don&#39;t understand is how can an operation that does no synchronization be in a BLOCKED state? Here&#39;s an example, blocked in `Pattern.compile`:\r\n\r\n```\r\nThread t@1467: (state = BLOCKED)\r\n- java.util.regex.Pattern.compile() @bci=144, line=1693 (Compiled frame)\r\n - java.util.regex.Pattern.&lt;init&gt;(java.lang.String, int) @bci=62, line=1352 (Compiled frame)\r\n - java.util.regex.Pattern.compile(java.lang.String) @bci=6, line=1028 (Compiled frame)\r\n - oracle.jdbc.driver.OracleStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, int, int, int, int) @bci=377, line=6198 (Compiled frame)\r\n - oracle.jdbc.driver.OraclePreparedStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int, int, int) @bci=9, line=1363 (Compiled frame)\r\n - oracle.jdbc.driver.T4CPreparedStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int) @bci=14, line=43 (Compiled frame)\r\n - oracle.jdbc.driver.T4CDriverExtension.allocatePreparedStatement(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int) @bci=9, line=75 (Compiled frame)\r\n - oracle.jdbc.driver.PhysicalConnection.prepareStatementInternal(java.lang.String, int, int) @bci=120, line=1648 (Compiled frame)\r\n - oracle.jdbc.driver.PhysicalConnection.prepareStatement(java.lang.String, int, int) @bci=4, line=1606 (Compiled frame)\r\n - oracle.jdbc.driver.PhysicalConnection.prepareStatement(java.lang.String) @bci=4, line=1533 (Compiled frame)\r\n - com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(java.lang.String) @bci=7, line=337 (Compiled frame)\r\n - com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(java.lang.String) @bci=2 (Compiled frame)\r\n - org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection() @bci=4, line=37 (Compiled frame)\r\n - org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded() @bci=12, line=108 (Compiled frame)\r\n - org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection() @bci=5, line=138 (Compiled frame)\r\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection() @bci=4, line=50 (Compiled frame)\r\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare() @bci=11, line=89 (Compiled frame)\r\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement() @bci=47, line=176 (Compiled frame)\r\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(java.lang.String, boolean, org.hibernate.ScrollMode) @bci=74, line=151 (Compiled frame)\r\n - org.hibernate.loader.Loader.prepareQueryStatement(java.lang.String, org.hibernate.engine.spi.QueryParameters, org.hibernate.dialect.pagination.LimitHandler, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=39, line=2127 (Compiled frame)\r\n - org.hibernate.loader.Loader.executeQueryStatement(java.lang.String, org.hibernate.engine.spi.QueryParameters, boolean, java.util.List, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=55, line=2059 (Compiled frame)\r\n - org.hibernate.loader.Loader.executeQueryStatement(org.hibernate.engine.spi.QueryParameters, boolean, java.util.List, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=10, line=2037 (Compiled frame)\r\n - org.hibernate.loader.Loader.doQuery(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=44, line=956 (Compiled frame)\r\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=62, line=357 (Compiled frame)\r\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean) @bci=5, line=327 (Compiled frame)\r\n - org.hibernate.loader.Loader.loadEntity(org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, org.hibernate.type.Type, java.lang.Object, java.lang.String, java.io.Serializable, org.hibernate.persister.entity.EntityPersister, org.hibernate.LockOptions, java.lang.Boolean) @bci=116, line=2440 (Compiled frame)\r\n - org.hibernate.loader.entity.AbstractEntityLoader.load(org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Object, java.io.Serializable, org.hibernate.LockOptions, java.lang.Boolean) @bci=22, line=77 (Compiled frame)\r\n - org.hibernate.loader.entity.AbstractEntityLoader.load(java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.LockOptions) @bci=7, line=66 (Compiled frame)\r\n - org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(java.lang.String, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=11, line=2486 (Compiled frame)\r\n - org.hibernate.type.EntityType.loadByUniqueKey(java.lang.String, java.lang.String, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=90, line=756 (Compiled frame)\r\n - org.hibernate.type.EntityType.resolve(java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=50, line=467 (Compiled frame)\r\n - org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(org.hibernate.type.EntityType, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=6, line=576 (Compiled frame)\r\n - org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver$$Lambda$1426.resolve(org.hibernate.type.EntityType, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=7 (Compiled frame)\r\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(java.lang.Object, org.hibernate.engine.spi.EntityEntry, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver) @bci=348, line=221 (Compiled frame)\r\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(java.lang.Object, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.event.spi.PreLoadEvent, org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver) @bci=48, line=156 (Compiled frame)\r\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(java.lang.Object, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.event.spi.PreLoadEvent) @bci=7, line=126 (Compiled frame)\r\n - org.hibernate.loader.Loader.initializeEntitiesAndCollections(java.util.List, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, boolean, java.util.List) @bci=171, line=1201 (Compiled frame)\r\n - org.hibernate.loader.Loader.doQuery(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=102, line=979 (Compiled frame)\r\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=62, line=357 (Compiled frame)\r\n - org.hibernate.loader.Loader.doList(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, org.hibernate.transform.ResultTransformer) @bci=38, line=2868 (Compiled frame)\r\n - org.hibernate.loader.Loader.doList(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=4, line=2850 (Compiled frame)\r\n - org.hibernate.loader.Loader.listIgnoreQueryCache(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=4, line=2682 (Compiled frame)\r\n - org.hibernate.loader.Loader.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, java.util.Set, org.hibernate.type.Type[]) @bci=49, line=2677 (Compiled frame)\r\n - org.hibernate.loader.hql.QueryLoader.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=19, line=540 (Compiled frame)\r\n - org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=179, line=400 (Compiled frame)\r\n - org.apache.log4j.Category.getEffectiveLevel() @bci=23, line=442 (Compiled frame)\r\n - org.apache.log4j.Category.isEnabledFor(org.apache.log4j.Priority) @bci=20, line=751 (Compiled frame)\r\n - org.jboss.logging.Log4jLogger.isEnabled(org.jboss.logging.Logger$Level) @bci=10, line=36 (Compiled frame)\r\n - org.jboss.logging.Logger.isTraceEnabled() @bci=4, line=98 (Compiled frame)\r\n - org.jboss.logging.DelegatingBasicLogger.isTraceEnabled() @bci=4, line=54 (Compiled frame)\r\n - org.hibernate.engine.query.spi.HQLQueryPlan.performList(org.hibernate.engine.spi.QueryParameters, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=3, line=195 (Compiled frame)\r\n - org.hibernate.internal.SessionImpl.list(java.lang.String, org.hibernate.engine.spi.QueryParameters) @bci=53, line=1454 (Compiled frame)\r\n - org.hibernate.query.internal.AbstractProducedQuery.doList() @bci=85, line=1649 (Compiled frame)\r\n - org.hibernate.query.internal.AbstractProducedQuery.list() @bci=5, line=1617 (Compiled frame)\r\n - org.hibernate.query.Query.getResultList() @bci=1, line=165 (Compiled frame)\r\n...\r\n```\r\n**UPDATE**\r\nI&#39;ve checked the GC logs and I see this entry 4 seconds after the last log line emitted by any of my tomcat apps:\r\n```\r\n2022-05-19T00:57:45.782+0000: 2602.365: [GC pause (G1 Evacuation Pause) (young)\r\nDesired survivor size 73400320 bytes, new threshold 15 (max 15)\r\n- age   1:    9497240 bytes,    9497240 total\r\n, 0.1257611 secs]\r\n   [Parallel Time: 111.6 ms, GC Workers: 15]\r\n      [GC Worker Start (ms): Min: 2602366.7, Avg: 2602366.8, Max: 2602366.9, Diff: 0.2]\r\n      [Ext Root Scanning (ms): Min: 1.4, Avg: 4.1, Max: 24.4, Diff: 22.9, Sum: 61.3]\r\n      [Update RS (ms): Min: 6.9, Avg: 26.4, Max: 29.4, Diff: 22.5, Sum: 396.2]\r\n         [Processed Buffers: Min: 4, Avg: 18.6, Max: 27, Diff: 23, Sum: 279]\r\n      [Scan RS (ms): Min: 19.5, Avg: 20.2, Max: 20.9, Diff: 1.4, Sum: 303.3]\r\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n      [Object Copy (ms): Min: 60.2, Avg: 60.4, Max: 60.7, Diff: 0.6, Sum: 906.7]\r\n      [Termination (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 1.2]\r\n         [Termination Attempts: Min: 1, Avg: 194.5, Max: 260, Diff: 259, Sum: 2917]\r\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.1]\r\n      [GC Worker Total (ms): Min: 111.2, Avg: 111.4, Max: 111.5, Diff: 0.3, Sum: 1671.0]\r\n      [GC Worker End (ms): Min: 2602478.1, Avg: 2602478.2, Max: 2602478.3, Diff: 0.2]\r\n   [Code Root Fixup: 0.0 ms]\r\n   [Code Root Purge: 0.0 ms]\r\n   [String Dedup Fixup: 7.5 ms, GC Workers: 15]\r\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n      [Table Fixup (ms): Min: 7.0, Avg: 7.2, Max: 7.4, Diff: 0.4, Sum: 108.1]\r\n   [Clear CT: 0.6 ms]\r\n   [Other: 6.0 ms]\r\n      [Choose CSet: 0.0 ms]\r\n      [Ref Proc: 0.5 ms]\r\n      [Ref Enq: 0.0 ms]\r\n      [Redirty Cards: 0.4 ms]\r\n      [Humongous Register: 0.4 ms]\r\n      [Humongous Reclaim: 0.1 ms]\r\n      [Free CSet: 2.9 ms]\r\n   [Eden: 1098.0M(1098.0M)-&gt;0.0B(774.0M) Survivors: 20480.0K-&gt;77824.0K Heap: 3829.9M(6144.0M)-&gt;2788.9M(6144.0M)]\r\n [Times: user=1.78 sys=0.00, real=0.13 secs] \r\n```\r\nWhat is missing there is a line like this which immediately follows every other GC entry in the log:\r\n\r\n```\r\n2022-05-19T00:57:42.081+0000: 2598.664: Total time for which application threads were stopped: 0.3016893 seconds, Stopping threads took: 0.0002452 seconds\r\n```\r\nThe fact that this line is missing suggests to me that GC didn&#39;t manage to resume the threads. Given that, I&#39;m assuming this is a GC bug in OpenJDK 1.8.0u322.\r\n\r\nThese are the memory and GC related settings on our tomcat process:\r\n```\r\n-server \r\n-Xms2400m \r\n-Xmx6g \r\n-XX:+UseStringDeduplication \r\n-XX:CodeCacheMinimumFreeSpace=25m \r\n-XX:ReservedCodeCacheSize=200m \r\n-XX:-TieredCompilation \r\n-XX:MaxMetaspaceSize=1000m \r\n-XX:+UseG1GC \r\n-XX:MaxGCPauseMillis=200 \r\n-Xloggc:gc.log.20220519_0014 \r\n-verbose:gc \r\n-XX:+PrintGCDateStamps \r\n-XX:+PrintGCDetails \r\n-XX:+PrintGCCause \r\n-XX:+PrintGCApplicationStoppedTime \r\n-XX:+PrintGCApplicationConcurrentTime \r\n-XX:+PrintTenuringDistribution \r\n-XX:+UseGCLogFileRotation \r\n-XX:NumberOfGCLogFiles=20 \r\n-XX:GCLogFileSize=50M \r\n-XX:+HeapDumpOnOutOfMemoryError \r\n-d64\r\n```\r\nHere is the first line of every thread&#39;s stack trace: https://gist.github.com/davidmoten/c3b19afbfce981fec1f0722ec231f354. In that list you can see lots of innocuous calls that have no synchronization (which for me points to GC).\r\n\r\nHere also is the result of a `pstack` call on the tomcat process (a different instance this time, sorry, but with the same behaviour): https://gist.github.com/davidmoten/699cf6e601fe018b8a2e1466d32ed6c7\r\n\r\nIn the pstack output I see thread traces like the one below where the Quartz scheduler tries to create a new Thread but is waiting on GC (the method GC_locker::stall_until_clear). CPU usage for the tomcat process is 0.03% and I can&#39;t see an active GC thread in the list so I&#39;m assuming that the GC stop-the-world thread has finished without resuming the blocked threads. I suppose my next step is to report a bug on OpenJDK.\r\n```\r\n------------  lwp# 134 / thread# 134   lname: Scheduler_QuartzSchedulerThread ---------------\r\n fffffffeffae24a8 lwp_cond_wait (105365a48, 105365a30, 0, 0)\r\n fffffffefee8f508 __1cCosNPlatformEventEpark6M_v_ (105365a00, cfbb8, cf800, 0, fffffffeff562aa8, 105365a30) + 100\r\n fffffffefee1ab54 __1cHMonitorFIWait6MpnGThread_l_i_ (1001371b0, 1052fb800, 0, 1001371b0, 71ab8, 0) + a4\r\n fffffffefee1b9b8 __1cHMonitorEwait6Mblb_b_ (1001371b0, 1052fb800, 0, 1b80, 2, 104a9e790) + 2c0\r\n fffffffefe926714 __1cJGC_lockerRstall_until_clear6F_v_ (1001371b0, 8e308, 8e000, 0, fffffffeff562aa8, fffffffeff5f0db0) + 18c\r\n fffffffefe8de400 __1cPG1CollectedHeapXattempt_allocation_slow6MLCpI1_pnIHeapWord__ (10014c830, 105, 100168318, fffffffeff5d5050, ffffffff4acaee5c, fffffffeff562aa8) + 300\r\n fffffffefe8dde00 __1cPG1CollectedHeapRallocate_new_tlab6ML_pnIHeapWord__ (10014c830, 105, 642200000, fffffffeff5d0780, 9a800, 828) + 74\r\n fffffffefe7938e4 __1cNCollectedHeapXallocate_from_tlab_slow6FnLKlassHandle_pnGThread_L_pnIHeapWord__ (17, 105, 3, 10, fffffffeff562aa8, 1052fb858) + 17c\r\n fffffffefe59327c __1cNCollectedHeapbAcommon_mem_allocate_noinit6FnLKlassHandle_LpnGThread__pnIHeapWord__ (7c2017bf0, 3, 1052fb800, 0, fffffffeff562aa8, 0) + 84\r\n fffffffefe9bc8f8 __1cNInstanceKlassRallocate_instance6MpnGThread__pnPinstanceOopDesc__ (40000000, 1052fb800, fffffffefe9ba1f8, fffffffeff5e2220, cfc00, 0) + 40\r\n fffffffefea0a69c __1cSInterpreterRuntimeE_new6FpnKJavaThread_pnMConstantPool_i_v_ (fffffffeff5e2220, ffffffff4d0819f0, 0, 1052fb800, fffffffeff5f83c0, fffffffeff562aa8) + 64c\r\n ffffffff72822888 * org/quartz/simpl/RAMJobStore.acquireNextTriggers(JIJ)Ljava/util/List;+8\r\n ffffffff72808998 * org/quartz/core/QuartzSchedulerThread.run()V+165\r\n ffffffff728002a0 * StubRoutines (1)\r\n fffffffefea26430 __1cJJavaCallsLcall_helper6FpnJJavaValue_pnMmethodHandle_pnRJavaCallArguments_pnGThread__v_ (ffffffff4acafab0, 1, ffffffff4acaf958, ffffffff728114c0, ffffffff4ba9df18, 1052fb800) + 7c0\r\n fffffffefea249b0 __1cJJavaCallsMcall_virtual6FpnJJavaValue_nLKlassHandle_pnGSymbol_5pnRJavaCallArguments_pnGThread__v_ (ffffffff4acafab0, 1052fb800, 18, ffffffff4ba9df18, ffffffff4acaf958, 1052fb800) + 370\r\n fffffffefea24d00 __1cJJavaCallsMcall_virtual6FpnJJavaValue_nGHandle_nLKlassHandle_pnGSymbol_6pnGThread__v_ (8, 10419d7a0, 2, 1, ffffffff4acaf9a1, ffffffff4acaf960) + 4c\r\n fffffffefeb62790 __1cMthread_entry6FpnKJavaThread_pnGThread__v_ (10419d7a0, e, 97800, 10419d790, fffffffeff5fa518, 6c1a88988) + d0\r\n fffffffeff0437f0 __1cKJavaThreadRthread_main_inner6M_v_ (1052fb800, fffffffefeb626c0, 90298, 0, fffffffeff562aa8, 902a0) + 90\r\n fffffffefee80a50 java_start (fffffffefe7dbff0, 1052fb800, c3800, c3acc, fffffffeff562aa8, fffffffeff5fba30) + 380\r\n fffffffeffadd43c _lwp_start (0, 0, 0, 0, 0, 0)\r\n```\r\n\r\nMy understanding is that `jstack -F` suspends threads anyway and resumes them when finished delivering its output. However, we made multiple `jstack -F` calls to the process and the stack traces did not change. This means to me that the threads are actually blocked all the time.\r\n","title":"Why is my thread blocked when it does no synchronization/locking","body":"<p>We have a tomcat 9.0.62 server that reliably locks up within 1-3hours. When we dump the thread states using <code>jstack -F &lt;PID&gt;</code> we see 359 threads in a BLOCKED state and 9 threads in a state of IN_NATIVE. Lots of available memory, lots of disk, low cpu usage. We have only seen this since we upgraded from OpenJDK 1.8.0u302 to 1.8.0u322 (on Solaris) (when we downgrade to u302 the problem goes away). UPDATE: The problem also occurs on 1.8.0u332.</p>\n<p>According to java documentation a state of BLOCKED means &quot;waiting for a monitor lock&quot;. What I don't understand is how can an operation that does no synchronization be in a BLOCKED state? Here's an example, blocked in <code>Pattern.compile</code>:</p>\n<pre><code>Thread t@1467: (state = BLOCKED)\n- java.util.regex.Pattern.compile() @bci=144, line=1693 (Compiled frame)\n - java.util.regex.Pattern.&lt;init&gt;(java.lang.String, int) @bci=62, line=1352 (Compiled frame)\n - java.util.regex.Pattern.compile(java.lang.String) @bci=6, line=1028 (Compiled frame)\n - oracle.jdbc.driver.OracleStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, int, int, int, int) @bci=377, line=6198 (Compiled frame)\n - oracle.jdbc.driver.OraclePreparedStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int, int, int) @bci=9, line=1363 (Compiled frame)\n - oracle.jdbc.driver.T4CPreparedStatement.&lt;init&gt;(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int) @bci=14, line=43 (Compiled frame)\n - oracle.jdbc.driver.T4CDriverExtension.allocatePreparedStatement(oracle.jdbc.driver.PhysicalConnection, java.lang.String, int, int) @bci=9, line=75 (Compiled frame)\n - oracle.jdbc.driver.PhysicalConnection.prepareStatementInternal(java.lang.String, int, int) @bci=120, line=1648 (Compiled frame)\n - oracle.jdbc.driver.PhysicalConnection.prepareStatement(java.lang.String, int, int) @bci=4, line=1606 (Compiled frame)\n - oracle.jdbc.driver.PhysicalConnection.prepareStatement(java.lang.String) @bci=4, line=1533 (Compiled frame)\n - com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(java.lang.String) @bci=7, line=337 (Compiled frame)\n - com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(java.lang.String) @bci=2 (Compiled frame)\n - org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection() @bci=4, line=37 (Compiled frame)\n - org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded() @bci=12, line=108 (Compiled frame)\n - org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection() @bci=5, line=138 (Compiled frame)\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection() @bci=4, line=50 (Compiled frame)\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare() @bci=11, line=89 (Compiled frame)\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement() @bci=47, line=176 (Compiled frame)\n - org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(java.lang.String, boolean, org.hibernate.ScrollMode) @bci=74, line=151 (Compiled frame)\n - org.hibernate.loader.Loader.prepareQueryStatement(java.lang.String, org.hibernate.engine.spi.QueryParameters, org.hibernate.dialect.pagination.LimitHandler, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=39, line=2127 (Compiled frame)\n - org.hibernate.loader.Loader.executeQueryStatement(java.lang.String, org.hibernate.engine.spi.QueryParameters, boolean, java.util.List, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=55, line=2059 (Compiled frame)\n - org.hibernate.loader.Loader.executeQueryStatement(org.hibernate.engine.spi.QueryParameters, boolean, java.util.List, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=10, line=2037 (Compiled frame)\n - org.hibernate.loader.Loader.doQuery(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=44, line=956 (Compiled frame)\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=62, line=357 (Compiled frame)\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean) @bci=5, line=327 (Compiled frame)\n - org.hibernate.loader.Loader.loadEntity(org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, org.hibernate.type.Type, java.lang.Object, java.lang.String, java.io.Serializable, org.hibernate.persister.entity.EntityPersister, org.hibernate.LockOptions, java.lang.Boolean) @bci=116, line=2440 (Compiled frame)\n - org.hibernate.loader.entity.AbstractEntityLoader.load(org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Object, java.io.Serializable, org.hibernate.LockOptions, java.lang.Boolean) @bci=22, line=77 (Compiled frame)\n - org.hibernate.loader.entity.AbstractEntityLoader.load(java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.LockOptions) @bci=7, line=66 (Compiled frame)\n - org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(java.lang.String, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=11, line=2486 (Compiled frame)\n - org.hibernate.type.EntityType.loadByUniqueKey(java.lang.String, java.lang.String, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=90, line=756 (Compiled frame)\n - org.hibernate.type.EntityType.resolve(java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=50, line=467 (Compiled frame)\n - org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(org.hibernate.type.EntityType, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=6, line=576 (Compiled frame)\n - org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver$$Lambda$1426.resolve(org.hibernate.type.EntityType, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, java.lang.Object, java.lang.Boolean) @bci=7 (Compiled frame)\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(java.lang.Object, org.hibernate.engine.spi.EntityEntry, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver) @bci=348, line=221 (Compiled frame)\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(java.lang.Object, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.event.spi.PreLoadEvent, org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver) @bci=48, line=156 (Compiled frame)\n - org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(java.lang.Object, boolean, org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.event.spi.PreLoadEvent) @bci=7, line=126 (Compiled frame)\n - org.hibernate.loader.Loader.initializeEntitiesAndCollections(java.util.List, java.lang.Object, org.hibernate.engine.spi.SharedSessionContractImplementor, boolean, java.util.List) @bci=171, line=1201 (Compiled frame)\n - org.hibernate.loader.Loader.doQuery(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=102, line=979 (Compiled frame)\n - org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, boolean, org.hibernate.transform.ResultTransformer) @bci=62, line=357 (Compiled frame)\n - org.hibernate.loader.Loader.doList(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, org.hibernate.transform.ResultTransformer) @bci=38, line=2868 (Compiled frame)\n - org.hibernate.loader.Loader.doList(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=4, line=2850 (Compiled frame)\n - org.hibernate.loader.Loader.listIgnoreQueryCache(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=4, line=2682 (Compiled frame)\n - org.hibernate.loader.Loader.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters, java.util.Set, org.hibernate.type.Type[]) @bci=49, line=2677 (Compiled frame)\n - org.hibernate.loader.hql.QueryLoader.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=19, line=540 (Compiled frame)\n - org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(org.hibernate.engine.spi.SharedSessionContractImplementor, org.hibernate.engine.spi.QueryParameters) @bci=179, line=400 (Compiled frame)\n - org.apache.log4j.Category.getEffectiveLevel() @bci=23, line=442 (Compiled frame)\n - org.apache.log4j.Category.isEnabledFor(org.apache.log4j.Priority) @bci=20, line=751 (Compiled frame)\n - org.jboss.logging.Log4jLogger.isEnabled(org.jboss.logging.Logger$Level) @bci=10, line=36 (Compiled frame)\n - org.jboss.logging.Logger.isTraceEnabled() @bci=4, line=98 (Compiled frame)\n - org.jboss.logging.DelegatingBasicLogger.isTraceEnabled() @bci=4, line=54 (Compiled frame)\n - org.hibernate.engine.query.spi.HQLQueryPlan.performList(org.hibernate.engine.spi.QueryParameters, org.hibernate.engine.spi.SharedSessionContractImplementor) @bci=3, line=195 (Compiled frame)\n - org.hibernate.internal.SessionImpl.list(java.lang.String, org.hibernate.engine.spi.QueryParameters) @bci=53, line=1454 (Compiled frame)\n - org.hibernate.query.internal.AbstractProducedQuery.doList() @bci=85, line=1649 (Compiled frame)\n - org.hibernate.query.internal.AbstractProducedQuery.list() @bci=5, line=1617 (Compiled frame)\n - org.hibernate.query.Query.getResultList() @bci=1, line=165 (Compiled frame)\n...\n</code></pre>\n<p><strong>UPDATE</strong>\nI've checked the GC logs and I see this entry 4 seconds after the last log line emitted by any of my tomcat apps:</p>\n<pre><code>2022-05-19T00:57:45.782+0000: 2602.365: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 73400320 bytes, new threshold 15 (max 15)\n- age   1:    9497240 bytes,    9497240 total\n, 0.1257611 secs]\n   [Parallel Time: 111.6 ms, GC Workers: 15]\n      [GC Worker Start (ms): Min: 2602366.7, Avg: 2602366.8, Max: 2602366.9, Diff: 0.2]\n      [Ext Root Scanning (ms): Min: 1.4, Avg: 4.1, Max: 24.4, Diff: 22.9, Sum: 61.3]\n      [Update RS (ms): Min: 6.9, Avg: 26.4, Max: 29.4, Diff: 22.5, Sum: 396.2]\n         [Processed Buffers: Min: 4, Avg: 18.6, Max: 27, Diff: 23, Sum: 279]\n      [Scan RS (ms): Min: 19.5, Avg: 20.2, Max: 20.9, Diff: 1.4, Sum: 303.3]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [Object Copy (ms): Min: 60.2, Avg: 60.4, Max: 60.7, Diff: 0.6, Sum: 906.7]\n      [Termination (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 1.2]\n         [Termination Attempts: Min: 1, Avg: 194.5, Max: 260, Diff: 259, Sum: 2917]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.1]\n      [GC Worker Total (ms): Min: 111.2, Avg: 111.4, Max: 111.5, Diff: 0.3, Sum: 1671.0]\n      [GC Worker End (ms): Min: 2602478.1, Avg: 2602478.2, Max: 2602478.3, Diff: 0.2]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [String Dedup Fixup: 7.5 ms, GC Workers: 15]\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Table Fixup (ms): Min: 7.0, Avg: 7.2, Max: 7.4, Diff: 0.4, Sum: 108.1]\n   [Clear CT: 0.6 ms]\n   [Other: 6.0 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.5 ms]\n      [Ref Enq: 0.0 ms]\n      [Redirty Cards: 0.4 ms]\n      [Humongous Register: 0.4 ms]\n      [Humongous Reclaim: 0.1 ms]\n      [Free CSet: 2.9 ms]\n   [Eden: 1098.0M(1098.0M)-&gt;0.0B(774.0M) Survivors: 20480.0K-&gt;77824.0K Heap: 3829.9M(6144.0M)-&gt;2788.9M(6144.0M)]\n [Times: user=1.78 sys=0.00, real=0.13 secs] \n</code></pre>\n<p>What is missing there is a line like this which immediately follows every other GC entry in the log:</p>\n<pre><code>2022-05-19T00:57:42.081+0000: 2598.664: Total time for which application threads were stopped: 0.3016893 seconds, Stopping threads took: 0.0002452 seconds\n</code></pre>\n<p>The fact that this line is missing suggests to me that GC didn't manage to resume the threads. Given that, I'm assuming this is a GC bug in OpenJDK 1.8.0u322.</p>\n<p>These are the memory and GC related settings on our tomcat process:</p>\n<pre><code>-server \n-Xms2400m \n-Xmx6g \n-XX:+UseStringDeduplication \n-XX:CodeCacheMinimumFreeSpace=25m \n-XX:ReservedCodeCacheSize=200m \n-XX:-TieredCompilation \n-XX:MaxMetaspaceSize=1000m \n-XX:+UseG1GC \n-XX:MaxGCPauseMillis=200 \n-Xloggc:gc.log.20220519_0014 \n-verbose:gc \n-XX:+PrintGCDateStamps \n-XX:+PrintGCDetails \n-XX:+PrintGCCause \n-XX:+PrintGCApplicationStoppedTime \n-XX:+PrintGCApplicationConcurrentTime \n-XX:+PrintTenuringDistribution \n-XX:+UseGCLogFileRotation \n-XX:NumberOfGCLogFiles=20 \n-XX:GCLogFileSize=50M \n-XX:+HeapDumpOnOutOfMemoryError \n-d64\n</code></pre>\n<p>Here is the first line of every thread's stack trace: <a href=\"https://gist.github.com/davidmoten/c3b19afbfce981fec1f0722ec231f354\" rel=\"nofollow noreferrer\">https://gist.github.com/davidmoten/c3b19afbfce981fec1f0722ec231f354</a>. In that list you can see lots of innocuous calls that have no synchronization (which for me points to GC).</p>\n<p>Here also is the result of a <code>pstack</code> call on the tomcat process (a different instance this time, sorry, but with the same behaviour): <a href=\"https://gist.github.com/davidmoten/699cf6e601fe018b8a2e1466d32ed6c7\" rel=\"nofollow noreferrer\">https://gist.github.com/davidmoten/699cf6e601fe018b8a2e1466d32ed6c7</a></p>\n<p>In the pstack output I see thread traces like the one below where the Quartz scheduler tries to create a new Thread but is waiting on GC (the method GC_locker::stall_until_clear). CPU usage for the tomcat process is 0.03% and I can't see an active GC thread in the list so I'm assuming that the GC stop-the-world thread has finished without resuming the blocked threads. I suppose my next step is to report a bug on OpenJDK.</p>\n<pre><code>------------  lwp# 134 / thread# 134   lname: Scheduler_QuartzSchedulerThread ---------------\n fffffffeffae24a8 lwp_cond_wait (105365a48, 105365a30, 0, 0)\n fffffffefee8f508 __1cCosNPlatformEventEpark6M_v_ (105365a00, cfbb8, cf800, 0, fffffffeff562aa8, 105365a30) + 100\n fffffffefee1ab54 __1cHMonitorFIWait6MpnGThread_l_i_ (1001371b0, 1052fb800, 0, 1001371b0, 71ab8, 0) + a4\n fffffffefee1b9b8 __1cHMonitorEwait6Mblb_b_ (1001371b0, 1052fb800, 0, 1b80, 2, 104a9e790) + 2c0\n fffffffefe926714 __1cJGC_lockerRstall_until_clear6F_v_ (1001371b0, 8e308, 8e000, 0, fffffffeff562aa8, fffffffeff5f0db0) + 18c\n fffffffefe8de400 __1cPG1CollectedHeapXattempt_allocation_slow6MLCpI1_pnIHeapWord__ (10014c830, 105, 100168318, fffffffeff5d5050, ffffffff4acaee5c, fffffffeff562aa8) + 300\n fffffffefe8dde00 __1cPG1CollectedHeapRallocate_new_tlab6ML_pnIHeapWord__ (10014c830, 105, 642200000, fffffffeff5d0780, 9a800, 828) + 74\n fffffffefe7938e4 __1cNCollectedHeapXallocate_from_tlab_slow6FnLKlassHandle_pnGThread_L_pnIHeapWord__ (17, 105, 3, 10, fffffffeff562aa8, 1052fb858) + 17c\n fffffffefe59327c __1cNCollectedHeapbAcommon_mem_allocate_noinit6FnLKlassHandle_LpnGThread__pnIHeapWord__ (7c2017bf0, 3, 1052fb800, 0, fffffffeff562aa8, 0) + 84\n fffffffefe9bc8f8 __1cNInstanceKlassRallocate_instance6MpnGThread__pnPinstanceOopDesc__ (40000000, 1052fb800, fffffffefe9ba1f8, fffffffeff5e2220, cfc00, 0) + 40\n fffffffefea0a69c __1cSInterpreterRuntimeE_new6FpnKJavaThread_pnMConstantPool_i_v_ (fffffffeff5e2220, ffffffff4d0819f0, 0, 1052fb800, fffffffeff5f83c0, fffffffeff562aa8) + 64c\n ffffffff72822888 * org/quartz/simpl/RAMJobStore.acquireNextTriggers(JIJ)Ljava/util/List;+8\n ffffffff72808998 * org/quartz/core/QuartzSchedulerThread.run()V+165\n ffffffff728002a0 * StubRoutines (1)\n fffffffefea26430 __1cJJavaCallsLcall_helper6FpnJJavaValue_pnMmethodHandle_pnRJavaCallArguments_pnGThread__v_ (ffffffff4acafab0, 1, ffffffff4acaf958, ffffffff728114c0, ffffffff4ba9df18, 1052fb800) + 7c0\n fffffffefea249b0 __1cJJavaCallsMcall_virtual6FpnJJavaValue_nLKlassHandle_pnGSymbol_5pnRJavaCallArguments_pnGThread__v_ (ffffffff4acafab0, 1052fb800, 18, ffffffff4ba9df18, ffffffff4acaf958, 1052fb800) + 370\n fffffffefea24d00 __1cJJavaCallsMcall_virtual6FpnJJavaValue_nGHandle_nLKlassHandle_pnGSymbol_6pnGThread__v_ (8, 10419d7a0, 2, 1, ffffffff4acaf9a1, ffffffff4acaf960) + 4c\n fffffffefeb62790 __1cMthread_entry6FpnKJavaThread_pnGThread__v_ (10419d7a0, e, 97800, 10419d790, fffffffeff5fa518, 6c1a88988) + d0\n fffffffeff0437f0 __1cKJavaThreadRthread_main_inner6M_v_ (1052fb800, fffffffefeb626c0, 90298, 0, fffffffeff562aa8, 902a0) + 90\n fffffffefee80a50 java_start (fffffffefe7dbff0, 1052fb800, c3800, c3acc, fffffffeff562aa8, fffffffeff5fba30) + 380\n fffffffeffadd43c _lwp_start (0, 0, 0, 0, 0, 0)\n</code></pre>\n<p>My understanding is that <code>jstack -F</code> suspends threads anyway and resumes them when finished delivering its output. However, we made multiple <code>jstack -F</code> calls to the process and the stack traces did not change. This means to me that the threads are actually blocked all the time.</p>\n"},{"tags":["java","cron","java-home"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653352365,"post_id":72356042,"comment_id":127826197,"body_markdown":"`JAVA_HOME = /opt/jdk-18` should not have spaces around `=`. Yes that matters. Also, what happens if you set JAVA_HOME in the script (instead of in crontab).","body":"<code>JAVA_HOME = &#47;opt&#47;jdk-18</code> should not have spaces around <code>=</code>. Yes that matters. Also, what happens if you set JAVA_HOME in the script (instead of in crontab)."},{"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"score":0,"creation_date":1653352473,"post_id":72356042,"comment_id":127826207,"body_markdown":"I fixed spaces, after adding JAVA_HOME to /etc/environment I see it in the script,  but still got:  sh: java: command not found","body":"I fixed spaces, after adding JAVA_HOME to /etc/environment I see it in the script,  but still got:  sh: java: command not found"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653352868,"post_id":72356042,"comment_id":127826258,"body_markdown":"`echo $PATH` and make sure `/opt/jdk-18/bin` is there. If it isn&#39;t, then you know why. If it is, then do a `which java` where `java` actually works for you.","body":"<code>echo $PATH</code> and make sure <code>&#47;opt&#47;jdk-18&#47;bin</code> is there. If it isn&#39;t, then you know why. If it is, then do a <code>which java</code> where <code>java</code> actually works for you."},{"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"score":0,"creation_date":1653353387,"post_id":72356042,"comment_id":127826353,"body_markdown":"I created symlink with ln -s /opt/jdk-18/bin/java /usr/bin/java and it worked, thanks for help. :)","body":"I created symlink with ln -s /opt/jdk-18/bin/java /usr/bin/java and it worked, thanks for help. :)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653354484,"post_id":72356042,"comment_id":127826529,"body_markdown":"I use (and recommend) [sdkman](https://sdkman.io/).","body":"I use (and recommend) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>."}],"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653352088,"creation_date":1653352088,"question_id":72356042,"body_markdown":"I installed java 18 using this tutorial: https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/ Scripts (.sh) running at reboot from crontab doesn&#39;t have any JAVA_HOME and default PATH variables. When I run these scripts manually it works. After rebooting it&#39;s the same.\r\nI tried putting \r\nJAVA_HOME = /opt/jdk-18\r\nPATH=$PATH:$JAVA_HOME/bin\r\nto my crontab -e as of this thread : https://stackoverflow.com/questions/2229825/where-can-i-set-environment-variables-that-crontab-will-use\r\nbut now scripts are not even running (in /var/log/syslog there is CMD (sh /script-to-run.sh), manually it works.","title":"java: command not found and JAVA_HOME is empty in scripts from crontab","body":"<p>I installed java 18 using this tutorial: <a href=\"https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/</a> Scripts (.sh) running at reboot from crontab doesn't have any JAVA_HOME and default PATH variables. When I run these scripts manually it works. After rebooting it's the same.\nI tried putting\nJAVA_HOME = /opt/jdk-18\nPATH=$PATH:$JAVA_HOME/bin\nto my crontab -e as of this thread : <a href=\"https://stackoverflow.com/questions/2229825/where-can-i-set-environment-variables-that-crontab-will-use\">Where can I set environment variables that crontab will use?</a>\nbut now scripts are not even running (in /var/log/syslog there is CMD (sh /script-to-run.sh), manually it works.</p>\n"},{"tags":["java","android","database","api","android-volley"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653369292,"post_id":72356022,"comment_id":127828566,"body_markdown":"You cannot just change a get request in a post request usually. Its the server who determines if you have to use a get or post or can use both.","body":"You cannot just change a get request in a post request usually. Its the server who determines if you have to use a get or post or can use both."},{"owner":{"account_id":23610434,"reputation":87,"user_id":17645537,"display_name":"Joerie"},"score":0,"creation_date":1653427562,"post_id":72356022,"comment_id":127849538,"body_markdown":"If I use a small GET it work. If I user a big GET it doesn&#39;t work. If I use small POST it doesn&#39;t work. If I user big POST it doesn&#39;t work. I don&#39;t know. Tomorrow is the deadline. I&#39;m f*cked.","body":"If I use a small GET it work. If I user a big GET it doesn&#39;t work. If I use small POST it doesn&#39;t work. If I user big POST it doesn&#39;t work. I don&#39;t know. Tomorrow is the deadline. I&#39;m f*cked."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653455313,"post_id":72356022,"comment_id":127853659,"body_markdown":"I dont see you put an encoded image in a get request. So what is it that you call big? A querystring cannot be bigger then a few KB.","body":"I dont see you put an encoded image in a get request. So what is it that you call big? A querystring cannot be bigger then a few KB."},{"owner":{"account_id":23610434,"reputation":87,"user_id":17645537,"display_name":"Joerie"},"score":0,"creation_date":1653563894,"post_id":72356022,"comment_id":127884699,"body_markdown":"I found the error. If you make a POST request you don&#39;t put the parameters into the url but pass it as a static with an override function getParams","body":"I found the error. If you make a POST request you don&#39;t put the parameters into the url but pass it as a static with an override function getParams"}],"owner":{"account_id":23610434,"reputation":87,"user_id":17645537,"display_name":"Joerie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653351874,"creation_date":1653351874,"question_id":72356022,"body_markdown":"I&#39;m making an app with some user interaction.\r\nFor this project I&#39;ve created a method.\r\n\r\nIf I make a GET request* I get my values.\r\nHowever if I make a POST request I get no values.\r\nDoes anyone know why this is?\r\n\r\nI use POST because I&#39;ll be transmitting Base64 encoded images.\r\nDoes anyone know a solution or how I should tackle this problem?\r\n\r\nThanks\r\n \r\n\r\n    public void getUserFromId(Integer id, final VolleyCallBack volleyCallBack) {\r\n        String requestURL = SUBMIT_URL + &quot;getUserFromId/&quot;+ id;\r\n        Volley.newRequestQueue(this.context).add(\r\n                new JsonArrayRequest(\r\n                        Request.Method.GET*,\r\n                        requestURL,\r\n                        null,\r\n                        response -&gt; {\r\n                            System.out.println(response);\r\n                            if (response.length() &gt; 0) {\r\n                                try {\r\n                                    userFromId = new User(\r\n                                            response.getJSONObject(0).getInt(&quot;idUser&quot;),\r\n                                            response.getJSONObject(0).get(&quot;userName&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userPassword&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userProfilePicture&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userBirthday&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userGender&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userLink&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userLocation&quot;) + &quot;&quot;,\r\n                                            response.getJSONObject(0).get(&quot;userEmail&quot;) + &quot;&quot;\r\n                                    );\r\n\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                volleyCallBack.onSuccess();\r\n                            }\r\n                            else volleyCallBack.onFail();\r\n                        },\r\n                        e -&gt; Log.d(&quot;DB: &quot;, e.getMessage(), e)\r\n                ));\r\n    }","title":"GET request returns values POST doesn&#39;t","body":"<p>I'm making an app with some user interaction.\nFor this project I've created a method.</p>\n<p>If I make a GET request* I get my values.\nHowever if I make a POST request I get no values.\nDoes anyone know why this is?</p>\n<p>I use POST because I'll be transmitting Base64 encoded images.\nDoes anyone know a solution or how I should tackle this problem?</p>\n<p>Thanks</p>\n<pre><code>public void getUserFromId(Integer id, final VolleyCallBack volleyCallBack) {\n    String requestURL = SUBMIT_URL + &quot;getUserFromId/&quot;+ id;\n    Volley.newRequestQueue(this.context).add(\n            new JsonArrayRequest(\n                    Request.Method.GET*,\n                    requestURL,\n                    null,\n                    response -&gt; {\n                        System.out.println(response);\n                        if (response.length() &gt; 0) {\n                            try {\n                                userFromId = new User(\n                                        response.getJSONObject(0).getInt(&quot;idUser&quot;),\n                                        response.getJSONObject(0).get(&quot;userName&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userPassword&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userProfilePicture&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userBirthday&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userGender&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userLink&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userLocation&quot;) + &quot;&quot;,\n                                        response.getJSONObject(0).get(&quot;userEmail&quot;) + &quot;&quot;\n                                );\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n                            volleyCallBack.onSuccess();\n                        }\n                        else volleyCallBack.onFail();\n                    },\n                    e -&gt; Log.d(&quot;DB: &quot;, e.getMessage(), e)\n            ));\n}\n</code></pre>\n"},{"tags":["java","concurrency","apache-nifi"],"comments":[{"owner":{"account_id":1263578,"reputation":2781,"user_id":1221355,"accept_rate":100,"display_name":"Vikramsinh Shinde"},"score":0,"creation_date":1653044577,"post_id":72316472,"comment_id":127760335,"body_markdown":"I think the state is shared across Cluster. In `ListFile` we use `DistributedMapCache` to track files that have been ingested. So if a particular file is consumed from node A and the same file is available on Node B, it will not be listed for ingestion, this is currently happening in our case. We can conclude that the state is shared across Cluster.","body":"I think the state is shared across Cluster. In <code>ListFile</code> we use <code>DistributedMapCache</code> to track files that have been ingested. So if a particular file is consumed from node A and the same file is available on Node B, it will not be listed for ingestion, this is currently happening in our case. We can conclude that the state is shared across Cluster."}],"answers":[{"tags":[],"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653351861,"creation_date":1653351861,"answer_id":72356020,"question_id":72316472,"body_markdown":"I set up a service and a processor to test this.\r\n\r\nService has private volatile var. It can get and update that var:\r\n\r\n```\r\npublic class ClusterStateTestServiceImpl extends AbstractControllerService implements ClusterStateTestService {\r\n\r\n    private volatile UUID testValue;\r\n\r\n    @OnEnabled\r\n    public void onEnabled(final ConfigurationContext context) throws InitializationException {\r\n        this.testValue = UUID.randomUUID();\r\n    }\r\n\r\n    @Override\r\n    public UUID getTestValue() {\r\n        return testValue;\r\n    }\r\n\r\n    @Override\r\n    public UUID updateTestValue() {\r\n        this.testValue = UUID.randomUUID();\r\n        return testValue;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nProcessor reads, logs, updates and logs again:\r\n```\r\npublic class ClusterStateTestProcessor extends AbstractProcessor {\r\n\r\n    public static final PropertyDescriptor CLUSTER_STATE_TEST_SERVICE = new PropertyDescriptor.Builder()\r\n            .name(&quot;Test Service&quot;)\r\n            .required(true)\r\n            .identifiesControllerService(ClusterStateTestService.class)\r\n            .build();\r\n\r\n    static final PropertyDescriptor HOSTNAME = ...\r\n\r\n    private ClusterStateTestService clusterStateTestService;\r\n    private String hostname;\r\n\r\n    @Override\r\n    public void onTrigger(final ProcessContext context, final ProcessSession session) {\r\n        FlowFile flowFile = session.get();\r\n        if ( flowFile == null ) return;\r\n\r\n        UUID existingUuid = clusterStateTestService.getTestValue();\r\n        getLogger().info(&quot;Host: &quot; + hostname + &quot; || Test value: &quot; + existingUuid.toString());\r\n        UUID newUuid = clusterStateTestService.updateTestValue();\r\n        getLogger().info(&quot;Host: &quot; + hostname + &quot; || Test value updated to: &quot; + newUuid.toString());\r\n\r\n        session.transfer(flowFile, SUCCESS);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI triggered the processor on nifi1, then on nifi2, this is the result:\r\n```\r\n2022-05-23 08:42:30,774 INFO [Timer-Driven Process Thread-16] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi1 || Test value: c1840b9b-5766-4341-851a-2065349017d3\r\n2022-05-23 08:42:30,787 INFO [Timer-Driven Process Thread-16] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi1 || Test value updated to: a44b2119-b636-4230-8b38-1b35445146f9\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \r\n2022-05-23 08:42:30,776 INFO [Timer-Driven Process Thread-14] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi2 || Test value: cb8d79d2-1eb8-4269-a043-902936cb12e0\r\n2022-05-23 08:42:30,776 INFO [Timer-Driven Process Thread-14] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi2 || Test value updated to: e1f76321-0e34-4aae-bd06-6b1c84419817\r\n```\r\n\r\n**Conclusion**\r\n\r\nSince each processor reads a different UUID, each nifi node has it&#39;s own instance of the service and state is not shared in any way.","title":"Do nifi controller services share state in a cluster?","body":"<p>I set up a service and a processor to test this.</p>\n<p>Service has private volatile var. It can get and update that var:</p>\n<pre><code>public class ClusterStateTestServiceImpl extends AbstractControllerService implements ClusterStateTestService {\n\n    private volatile UUID testValue;\n\n    @OnEnabled\n    public void onEnabled(final ConfigurationContext context) throws InitializationException {\n        this.testValue = UUID.randomUUID();\n    }\n\n    @Override\n    public UUID getTestValue() {\n        return testValue;\n    }\n\n    @Override\n    public UUID updateTestValue() {\n        this.testValue = UUID.randomUUID();\n        return testValue;\n    }\n}\n</code></pre>\n<p>Processor reads, logs, updates and logs again:</p>\n<pre><code>public class ClusterStateTestProcessor extends AbstractProcessor {\n\n    public static final PropertyDescriptor CLUSTER_STATE_TEST_SERVICE = new PropertyDescriptor.Builder()\n            .name(&quot;Test Service&quot;)\n            .required(true)\n            .identifiesControllerService(ClusterStateTestService.class)\n            .build();\n\n    static final PropertyDescriptor HOSTNAME = ...\n\n    private ClusterStateTestService clusterStateTestService;\n    private String hostname;\n\n    @Override\n    public void onTrigger(final ProcessContext context, final ProcessSession session) {\n        FlowFile flowFile = session.get();\n        if ( flowFile == null ) return;\n\n        UUID existingUuid = clusterStateTestService.getTestValue();\n        getLogger().info(&quot;Host: &quot; + hostname + &quot; || Test value: &quot; + existingUuid.toString());\n        UUID newUuid = clusterStateTestService.updateTestValue();\n        getLogger().info(&quot;Host: &quot; + hostname + &quot; || Test value updated to: &quot; + newUuid.toString());\n\n        session.transfer(flowFile, SUCCESS);\n    }\n}\n</code></pre>\n<p>I triggered the processor on nifi1, then on nifi2, this is the result:</p>\n<pre><code>2022-05-23 08:42:30,774 INFO [Timer-Driven Process Thread-16] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi1 || Test value: c1840b9b-5766-4341-851a-2065349017d3\n2022-05-23 08:42:30,787 INFO [Timer-Driven Process Thread-16] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi1 || Test value updated to: a44b2119-b636-4230-8b38-1b35445146f9\n                                                              \n2022-05-23 08:42:30,776 INFO [Timer-Driven Process Thread-14] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi2 || Test value: cb8d79d2-1eb8-4269-a043-902936cb12e0\n2022-05-23 08:42:30,776 INFO [Timer-Driven Process Thread-14] c.t.ClusterStateTestProcessor ClusterStateTestProcessor[id=8b55386b-4459-3de3-82b7-83b7fbd9e771] Host: nifi2 || Test value updated to: e1f76321-0e34-4aae-bd06-6b1c84419817\n</code></pre>\n<p><strong>Conclusion</strong></p>\n<p>Since each processor reads a different UUID, each nifi node has it's own instance of the service and state is not shared in any way.</p>\n"}],"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653351861,"creation_date":1653038333,"question_id":72316472,"body_markdown":"**Single Nifi node**\r\n\r\nWe have a volatile variable on a custom controller service level.\r\nWe use this service in two custom processors. Processor1 makes a change to the variable state,  Processor2 should see updated value.\r\n\r\n**Cluster**\r\n\r\nWhat if we do the same example in a cluster environment? Does Nifi create a separate service instance for each Nifi node, thus not sharing any state in between? Or will primary node have instance of this service alone?","title":"Do nifi controller services share state in a cluster?","body":"<p><strong>Single Nifi node</strong></p>\n<p>We have a volatile variable on a custom controller service level.\nWe use this service in two custom processors. Processor1 makes a change to the variable state,  Processor2 should see updated value.</p>\n<p><strong>Cluster</strong></p>\n<p>What if we do the same example in a cluster environment? Does Nifi create a separate service instance for each Nifi node, thus not sharing any state in between? Or will primary node have instance of this service alone?</p>\n"},{"tags":["java","android","kotlin","classcastexception"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":1,"creation_date":1634200633,"post_id":69567554,"comment_id":122963122,"body_markdown":"you cannot tell easily. If that&#39;s your project, disable proguard and try again. If that&#39;s not your code, then without the map you will not be easily able to tell what was the original name before proguard mangled it.","body":"you cannot tell easily. If that&#39;s your project, disable proguard and try again. If that&#39;s not your code, then without the map you will not be easily able to tell what was the original name before proguard mangled it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634200792,"post_id":69567554,"comment_id":122963186,"body_markdown":"If that is the literal text of the error message, it means a Java class called `v` in a package called `j.u`. More likely you have abbreviated it, or someone has, and it refers to say `java.util.Vector`.","body":"If that is the literal text of the error message, it means a Java class called <code>v</code> in a package called <code>j.u</code>. More likely you have abbreviated it, or someone has, and it refers to say <code>java.util.Vector</code>."}],"answers":[{"tags":[],"owner":{"account_id":4141112,"reputation":2005,"user_id":3396396,"accept_rate":13,"display_name":"Rik van Velzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634206054,"creation_date":1634206054,"answer_id":69568811,"question_id":69567554,"body_markdown":"I overlooked for a moment that j.u.v. of course seems to point to an obfuscated classname..\r\n\r\nAs to @RyanM question. That post you linked to there isn&#39;t that helpful for most people. This one is way better: https://stackoverflow.com/questions/27714914/android-how-to-check-proguard-obfuscation-has-worked\r\n\r\nFor who wants to figure out to what class the obfuscated classname refers to you can either check the mappings.txt file in the build -&gt; outputs -&gt; mapping folder.\r\n\r\nOr another way to figure out to which the obfuscated file/method name relates to is use the apk analyzer (build -&gt; Analyze APK) ","title":"What does j.u.v. stand for in `java.lang.ClassCastException: j.u.v cannot be cast to kotlin.collections.MutableList`","body":"<p>I overlooked for a moment that j.u.v. of course seems to point to an obfuscated classname..</p>\n<p>As to @RyanM question. That post you linked to there isn't that helpful for most people. This one is way better: <a href=\"https://stackoverflow.com/questions/27714914/android-how-to-check-proguard-obfuscation-has-worked\">Android - How to check Proguard obfuscation has worked?</a></p>\n<p>For who wants to figure out to what class the obfuscated classname refers to you can either check the mappings.txt file in the build -&gt; outputs -&gt; mapping folder.</p>\n<p>Or another way to figure out to which the obfuscated file/method name relates to is use the apk analyzer (build -&gt; Analyze APK)</p>\n"}],"owner":{"account_id":4141112,"reputation":2005,"user_id":3396396,"accept_rate":13,"display_name":"Rik van Velzen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1634214832,"answer_count":1,"score":-1,"last_activity_date":1653351805,"creation_date":1634200532,"question_id":69567554,"body_markdown":"I am seeing a bunch of ClassCastException crashes in my project and the stacktrace describing:\r\n\r\n    java.lang.ClassCastException: j.u.v cannot be cast to kotlin.collections.MutableList\r\n\r\nI can&#39;t seem to figure out or find what the `j.u.v.` stands for.\r\n\r\nAnyone?","title":"What does j.u.v. stand for in `java.lang.ClassCastException: j.u.v cannot be cast to kotlin.collections.MutableList`","body":"<p>I am seeing a bunch of ClassCastException crashes in my project and the stacktrace describing:</p>\n<pre><code>java.lang.ClassCastException: j.u.v cannot be cast to kotlin.collections.MutableList\n</code></pre>\n<p>I can't seem to figure out or find what the <code>j.u.v.</code> stands for.</p>\n<p>Anyone?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":233150,"reputation":4218,"user_id":498457,"accept_rate":52,"display_name":"Christoph Grimmer"},"score":0,"creation_date":1560948813,"post_id":56657821,"comment_id":99903982,"body_markdown":"If you are free to do so take a look a JOOQ. Less pain more SQL.","body":"If you are free to do so take a look a JOOQ. Less pain more SQL."}],"answers":[{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560994506,"creation_date":1560903859,"answer_id":56658599,"question_id":56657821,"body_markdown":"Hi and welcome to StackOverflow :)\r\n\r\nFirstly, when posting a question, please make sure that you supply all the information pertinent to the question.  Terms like &quot;I cannot get it compiled&quot;  are just too vague;  as you know, in programming details are important, so we&#39;d need to more detailed information in order to help you like : Is there a compilation error?  If so, what is the error message, and on what line?  etc, etc.\r\n\r\nStill, looking at the code, there are a few things :\r\n\r\n\r\n - UsasTransaction - I assume that&#39;s just a typo\r\n - Predicate.\r\nBeware that there are multiple different classes in different packages called &quot;Predicate&quot;, and your IDE may have suggested the wrong one by default, so you need to make sure you import the right one.\r\n -  cb.function - that returns an Expression, not a Predicate\r\n\r\nPutting those together, try the following :\r\n\r\n        import javax.persistence.criteria.Expression;\r\n        import javax.persistence.criteria.Predicate;\r\n\r\n\t\tString idNumParamName = &quot;idnum&quot;;\r\n\t\tString idNumParamValue = &quot;ABC123&quot;;\r\n\t\t\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tParameterExpression&lt;String&gt; idnumParameter = cb.parameter(String.class, idNumParamName);\r\n\t\tParameterExpression&lt;Integer&gt; numberParameter = cb.parameter(Integer.class) ;      \r\n\r\n\t\tCriteriaQuery&lt;UserTransaction &gt; cq = cb.createQuery(UserTransaction .class);\r\n\t\tRoot&lt;UserTransaction&gt; postRoot = cq.from(UserTransaction .class);\r\n\r\n\t\tPredicate predicateInM    = cb.equal(postRoot.get(&quot;status&quot;),&quot;M&quot;);\r\n\t\tPredicate predicateInP    = cb.equal(postRoot.get(&quot;status&quot;),&quot;P&quot;);\r\n\t\tPredicate predicateStatus = cb.or(predicateInM, predicateInP);\r\n\r\n\t\tExpression&lt;Integer&gt; expressionInstr  = cb.function(&quot;INSTR&quot;, Integer.class, postRoot.get(&quot;idNumber&quot;), idnumParameter );\r\n\t\tPredicate predicateGt     = cb.gt(expressionInstr, 0);\r\n\t\t\r\n\t\tcq.select(postRoot).where(cb.and(predicateStatus, predicateGt));\r\n\t\t\r\n\t\tUserTransactions = em.createQuery(cq).setParameter(idNumParamName, idNumParamValue).getResultList();\r\n","title":"How can I write Java CriteriaBuilder for the query given below","body":"<p>Hi and welcome to StackOverflow :)</p>\n\n<p>Firstly, when posting a question, please make sure that you supply all the information pertinent to the question.  Terms like \"I cannot get it compiled\"  are just too vague;  as you know, in programming details are important, so we'd need to more detailed information in order to help you like : Is there a compilation error?  If so, what is the error message, and on what line?  etc, etc.</p>\n\n<p>Still, looking at the code, there are a few things :</p>\n\n<ul>\n<li>UsasTransaction - I assume that's just a typo</li>\n<li>Predicate.\nBeware that there are multiple different classes in different packages called \"Predicate\", and your IDE may have suggested the wrong one by default, so you need to make sure you import the right one.</li>\n<li>cb.function - that returns an Expression, not a Predicate</li>\n</ul>\n\n<p>Putting those together, try the following :</p>\n\n<pre><code>    import javax.persistence.criteria.Expression;\n    import javax.persistence.criteria.Predicate;\n\n    String idNumParamName = \"idnum\";\n    String idNumParamValue = \"ABC123\";\n\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    ParameterExpression&lt;String&gt; idnumParameter = cb.parameter(String.class, idNumParamName);\n    ParameterExpression&lt;Integer&gt; numberParameter = cb.parameter(Integer.class) ;      \n\n    CriteriaQuery&lt;UserTransaction &gt; cq = cb.createQuery(UserTransaction .class);\n    Root&lt;UserTransaction&gt; postRoot = cq.from(UserTransaction .class);\n\n    Predicate predicateInM    = cb.equal(postRoot.get(\"status\"),\"M\");\n    Predicate predicateInP    = cb.equal(postRoot.get(\"status\"),\"P\");\n    Predicate predicateStatus = cb.or(predicateInM, predicateInP);\n\n    Expression&lt;Integer&gt; expressionInstr  = cb.function(\"INSTR\", Integer.class, postRoot.get(\"idNumber\"), idnumParameter );\n    Predicate predicateGt     = cb.gt(expressionInstr, 0);\n\n    cq.select(postRoot).where(cb.and(predicateStatus, predicateGt));\n\n    UserTransactions = em.createQuery(cq).setParameter(idNumParamName, idNumParamValue).getResultList();\n</code></pre>\n"}],"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653351701,"creation_date":1560896856,"question_id":56657821,"body_markdown":"How can I write the query in Java CriteriaBuilder?\r\n\r\n    SELECT c FROM UserTransaction c WHERE  c.status in (&#39;M&#39;, &#39;P&#39;) AND\r\n    instr(c.idNumber,:idNum) &gt; 0 order by c.userI\r\n\r\nNote: idNum is a variable\r\n\r\n\r\nPlease see what I started writing. But I cannot get it compiled.\r\n\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    ParameterExpression&lt;String&gt; idnumParameter = cb.parameter(String.class, idNum);\r\n    ParameterExpression&lt;Integer&gt; numberParameter = cb.parameter(Integer.class)       \r\n\t       \r\n    CriteriaQuery&lt;UserTransaction &gt; cq = cb.createQuery(UserTransaction .class);\r\n    Root&lt;UsasTransaction&gt; postRoot = cq.from(UserTransaction .class);\r\n           \r\n    Predicate predicateInM    = cb.equal(postRoot.get(&quot;status&quot;),&quot;M&quot;);\r\n    Predicate predicateInP    = cb.equal(postRoot.get(&quot;status&quot;),&quot;P&quot;);\r\n    Predicate predicateStatus = cb.or(predicateInM, predicateInP);\r\n       \r\n    Predicate predicateInstr  = (Predicate) cb.function(&quot;INSTR&quot;, Boolean.class, postRoot.get(&quot;idNumber&quot;), idnumParameter );\r\n    Predicate predicateGt     = cb.gt(predicateInstr, 0);\r\n","title":"How can I write Java CriteriaBuilder for the query given below","body":"<p>How can I write the query in Java CriteriaBuilder?</p>\n\n<pre><code>SELECT c FROM UserTransaction c WHERE  c.status in ('M', 'P') AND\ninstr(c.idNumber,:idNum) &gt; 0 order by c.userI\n</code></pre>\n\n<p>Note: idNum is a variable</p>\n\n<p>Please see what I started writing. But I cannot get it compiled.</p>\n\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nParameterExpression&lt;String&gt; idnumParameter = cb.parameter(String.class, idNum);\nParameterExpression&lt;Integer&gt; numberParameter = cb.parameter(Integer.class)       \n\nCriteriaQuery&lt;UserTransaction &gt; cq = cb.createQuery(UserTransaction .class);\nRoot&lt;UsasTransaction&gt; postRoot = cq.from(UserTransaction .class);\n\nPredicate predicateInM    = cb.equal(postRoot.get(\"status\"),\"M\");\nPredicate predicateInP    = cb.equal(postRoot.get(\"status\"),\"P\");\nPredicate predicateStatus = cb.or(predicateInM, predicateInP);\n\nPredicate predicateInstr  = (Predicate) cb.function(\"INSTR\", Boolean.class, postRoot.get(\"idNumber\"), idnumParameter );\nPredicate predicateGt     = cb.gt(predicateInstr, 0);\n</code></pre>\n"},{"tags":["java","postgresql","clojure","leiningen"],"answers":[{"tags":[],"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653351389,"creation_date":1653190435,"answer_id":72334626,"question_id":72334610,"body_markdown":"You may wish to clone this demo project using Postgres in a Docker container along with `next.jdbc` for access:\r\n\r\nhttps://github.com/cloojure/demo-jdbc-next\r\n\r\nFollow along the instructions from the README and it should work right away. There are also examples of using `next.jdbc` with the H2 database.\r\n\r\nWhen you run the tests, you will see everything working:\r\n\r\n```\r\n&gt; lein clean; lein test \r\n\r\nlein test _bootstrap\r\n\r\n-------------------------------\r\n   Clojure 1.10.3    Java 17\r\n-------------------------------\r\n\r\nlein test tst.demo.jdbc-h2\r\n\r\nlein test tst.demo.jdbc-postgres\r\n\r\nRan 7 tests containing 42 assertions.\r\n0 failures, 0 errors.\r\n```\r\n\r\nAll of the action is in the test namespaces. The file `test/tst/demo/jdbc_postgres.clj` starts out like so:\r\n\r\n```\r\n(ns tst.demo.jdbc-postgres\r\n  (:use demo.core tupelo.core tupelo.test)\r\n  (:require\r\n    [next.jdbc :as jdbc]\r\n    [next.jdbc.result-set :as rs]\r\n    [next.jdbc.sql :as sql]\r\n    ))\r\n\r\n; ***** change this value to `false` to disable PostgreSQL unit tests *****\r\n(def postgres-enable true)\r\n\r\n;---------------------------------------------------------------------------------------------------\r\n(when postgres-enable\r\n\r\n  (def db-info {:dbtype   &quot;postgres&quot;\r\n                :dbname   &quot;example&quot;\r\n                :user     &quot;postgres&quot;\r\n                :password &quot;docker&quot;\r\n                })\r\n\r\n  (def ds (jdbc/get-datasource db-info))\r\n\r\n  ; NOTE: ***** Must MANUALLY  create DB &#39;example&#39; before run this test! *****\r\n  ;       In PSQL, do `create database example;`.  See the README.\r\n  (dotest\r\n    (jdbc/execute! ds [&quot;drop table if exists address&quot;])\r\n    (let [r11 (jdbc/execute! ds [&quot;\r\n                create table address (\r\n                  id      serial primary key,\r\n                  name    varchar(32),\r\n                  email   varchar(255)\r\n                ) &quot;])\r\n          r12 (jdbc/execute! ds [&quot;\r\n                insert into address(name, email)\r\n                  values( &#39;Homer Simpson&#39;, &#39;homer@springfield.co&#39; ) &quot;])\r\n          r13 (jdbc/execute! ds [&quot;select * from address &quot;])\r\n          ]\r\n      (is= r11 [#:next.jdbc{:update-count 0}])\r\n      (is= r12 [#:next.jdbc{:update-count 1}])\r\n      (is= r13 [#:address{:id 1, :name &quot;Homer Simpson&quot;, :email &quot;homer@springfield.co&quot;}]))\r\n\r\n&lt;snip&gt;\r\n```\r\n\r\nI&#39;ve noticed that you seem to have something wrong in your `project.clj`.  Mine looks like:\r\n\r\n```\r\n  :dependencies [\r\n                 [com.h2database/h2 &quot;1.4.200&quot;] ; #todo cannot upgrade yet or crash!\r\n                 [hikari-cp &quot;2.14.0&quot;]\r\n                 [org.clojure/clojure &quot;1.11.1&quot;]\r\n                 [org.clojure/test.check &quot;1.1.1&quot;]\r\n                 [org.postgresql/postgresql &quot;42.3.5&quot;]\r\n                 [prismatic/schema &quot;1.2.1&quot;]\r\n                 [com.github.seancorfield/next.jdbc &quot;1.2.780&quot;] \r\n                 [tupelo &quot;22.05.20&quot;]\r\n                 ]\r\n```\r\n\r\nso the dependency on `org.postgresql/postgresql` may be part of the problem.\r\n","title":"Error &quot;No such namespace: jdbc&quot; when requiring next.jdbc in Clojure","body":"<p>You may wish to clone this demo project using Postgres in a Docker container along with <code>next.jdbc</code> for access:</p>\n<p><a href=\"https://github.com/cloojure/demo-jdbc-next\" rel=\"nofollow noreferrer\">https://github.com/cloojure/demo-jdbc-next</a></p>\n<p>Follow along the instructions from the README and it should work right away. There are also examples of using <code>next.jdbc</code> with the H2 database.</p>\n<p>When you run the tests, you will see everything working:</p>\n<pre><code>&gt; lein clean; lein test \n\nlein test _bootstrap\n\n-------------------------------\n   Clojure 1.10.3    Java 17\n-------------------------------\n\nlein test tst.demo.jdbc-h2\n\nlein test tst.demo.jdbc-postgres\n\nRan 7 tests containing 42 assertions.\n0 failures, 0 errors.\n</code></pre>\n<p>All of the action is in the test namespaces. The file <code>test/tst/demo/jdbc_postgres.clj</code> starts out like so:</p>\n<pre><code>(ns tst.demo.jdbc-postgres\n  (:use demo.core tupelo.core tupelo.test)\n  (:require\n    [next.jdbc :as jdbc]\n    [next.jdbc.result-set :as rs]\n    [next.jdbc.sql :as sql]\n    ))\n\n; ***** change this value to `false` to disable PostgreSQL unit tests *****\n(def postgres-enable true)\n\n;---------------------------------------------------------------------------------------------------\n(when postgres-enable\n\n  (def db-info {:dbtype   &quot;postgres&quot;\n                :dbname   &quot;example&quot;\n                :user     &quot;postgres&quot;\n                :password &quot;docker&quot;\n                })\n\n  (def ds (jdbc/get-datasource db-info))\n\n  ; NOTE: ***** Must MANUALLY  create DB 'example' before run this test! *****\n  ;       In PSQL, do `create database example;`.  See the README.\n  (dotest\n    (jdbc/execute! ds [&quot;drop table if exists address&quot;])\n    (let [r11 (jdbc/execute! ds [&quot;\n                create table address (\n                  id      serial primary key,\n                  name    varchar(32),\n                  email   varchar(255)\n                ) &quot;])\n          r12 (jdbc/execute! ds [&quot;\n                insert into address(name, email)\n                  values( 'Homer Simpson', 'homer@springfield.co' ) &quot;])\n          r13 (jdbc/execute! ds [&quot;select * from address &quot;])\n          ]\n      (is= r11 [#:next.jdbc{:update-count 0}])\n      (is= r12 [#:next.jdbc{:update-count 1}])\n      (is= r13 [#:address{:id 1, :name &quot;Homer Simpson&quot;, :email &quot;homer@springfield.co&quot;}]))\n\n&lt;snip&gt;\n</code></pre>\n<p>I've noticed that you seem to have something wrong in your <code>project.clj</code>.  Mine looks like:</p>\n<pre><code>  :dependencies [\n                 [com.h2database/h2 &quot;1.4.200&quot;] ; #todo cannot upgrade yet or crash!\n                 [hikari-cp &quot;2.14.0&quot;]\n                 [org.clojure/clojure &quot;1.11.1&quot;]\n                 [org.clojure/test.check &quot;1.1.1&quot;]\n                 [org.postgresql/postgresql &quot;42.3.5&quot;]\n                 [prismatic/schema &quot;1.2.1&quot;]\n                 [com.github.seancorfield/next.jdbc &quot;1.2.780&quot;] \n                 [tupelo &quot;22.05.20&quot;]\n                 ]\n</code></pre>\n<p>so the dependency on <code>org.postgresql/postgresql</code> may be part of the problem.</p>\n"},{"tags":[],"owner":{"account_id":75852,"reputation":6507,"user_id":3743091,"display_name":"Sean Corfield"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653198995,"creation_date":1653198995,"answer_id":72335145,"question_id":72334610,"body_markdown":"Assuming you restarted your REPL after adding those dependencies, your `ns` form should look like this:\r\n\r\n```clojure\r\n(ns cljblog.db\r\n  (:require [next.jdbc :as jdbc]))\r\n```\r\n\r\nIn addition, you have:\r\n\r\n```clojure\r\n  :repl-options {:init-ns clj-jdbc.core}\r\n```\r\n\r\nbut you didn&#39;t show us that namespace (in the file `src/clj_jdbc/core.clj`) which I suspect is where the error is really occurring.\r\n\r\n","title":"Error &quot;No such namespace: jdbc&quot; when requiring next.jdbc in Clojure","body":"<p>Assuming you restarted your REPL after adding those dependencies, your <code>ns</code> form should look like this:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(ns cljblog.db\n  (:require [next.jdbc :as jdbc]))\n</code></pre>\n<p>In addition, you have:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>  :repl-options {:init-ns clj-jdbc.core}\n</code></pre>\n<p>but you didn't show us that namespace (in the file <code>src/clj_jdbc/core.clj</code>) which I suspect is where the error is really occurring.</p>\n"}],"owner":{"account_id":20263969,"reputation":11,"user_id":17332233,"display_name":"2FO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653351389,"creation_date":1653190187,"question_id":72334610,"body_markdown":"I&#39;m running into require and or next.jdbc errors when I attempt\r\nto create a postgres database:\r\n\r\n   \r\n\r\n    Unhandled java.io.FileNotFoundException\r\n       Could not locate next/jdbc__init.class, next/jdbc.clj or next/jdbc.cljc on\r\n       classpath. \r\n\r\nand the following. Which appears anytime I attempt to call jdbc functions within the cljblog.db namespace. \r\n\r\n     \r\n    1. Caused by java.lang.RuntimeException\r\n       No such namespace: jdbc\r\n       \r\n\r\nHere&#39;s my db setup:\r\n\r\n    (ns cljblog.db)\r\n    (require &#39;[next.jdbc :as jdbc])\r\n    \r\n    (def db\r\n      {:dbtype &quot;postgresql&quot;\r\n       :dbname &quot;cljblog&quot;\r\n       :host &quot;localhost&quot;\r\n       :user &quot;postgres&quot;\r\n       :password &quot;postgres&quot;})\r\n    \r\n    (def ds (jdbc/get-datasource db))\r\n    \r\n    (def ds (jdbc/get-datasource db))\r\n    (def conn (jdbc/get-connection ds))\r\n    \r\n    (jdbc/execute! conn [&quot;\r\n    -- postgresql version\r\n    drop table if exists posts?;\r\n    create table posts (\r\n      id int,\r\n      title varchar(255),\r\n      body text,\r\n    author varchar(25)\r\n    &quot;])\r\n    \r\n    (jdbc/execute! conn [&quot;\r\n    insert into posts(title,body,author)\r\n      values(&#39;Working with postgres&#39;,\r\n    &#39;this is my first attempt at working\r\n    with postgres in Clojure&#39;, &#39;Sam Dees&#39;)&quot;])\r\n    \r\n    (def result-set\r\n      (jdbc/execute!\r\n       conn\r\n       [&quot;select * from posts&quot;]))\r\n\r\n   \r\nand the project.clj\r\n\r\n    (defproject cljblog &quot;0.1.0-SNAPSHOT&quot;\r\n      :description &quot;FIXME: write description&quot;\r\n      :url &quot;http://example.com/FIXME&quot;\r\n      :min-lein-version &quot;2.0.0&quot;\r\n      :dependencies [[org.clojure/clojure &quot;1.10.0&quot;]\r\n                     [compojure &quot;1.6.1&quot;]\r\n                     [ring/ring-defaults &quot;0.3.2&quot;]\r\n                     [hiccup &quot;1.0.5&quot;]\r\n                     [com.github.seancorfield/next.jdbc &quot;1.2.780&quot;]\r\n                     [org.postgresql/postgresql &quot;9.4-1201-jdbc41&quot;]]\r\n      :plugins [[lein-ring &quot;0.12.5&quot;]]\r\n      :ring {:handler cljblog.handler/app}\r\n      :repl-options {:init-ns clj-jdbc.core}\r\n      :profiles\r\n      {:dev {:dependencies [[javax.servlet/servlet-api &quot;2.5&quot;]\r\n                            [ring/ring-mock &quot;0.3.2&quot;]]}})\r\n\r\n*I&#39;ve truncated the full error messages for brevity. \r\n*postgres is installed with an active server running on the system ","title":"Error &quot;No such namespace: jdbc&quot; when requiring next.jdbc in Clojure","body":"<p>I'm running into require and or next.jdbc errors when I attempt\nto create a postgres database:</p>\n<pre><code>Unhandled java.io.FileNotFoundException\n   Could not locate next/jdbc__init.class, next/jdbc.clj or next/jdbc.cljc on\n   classpath. \n</code></pre>\n<p>and the following. Which appears anytime I attempt to call jdbc functions within the cljblog.db namespace.</p>\n<pre><code>1. Caused by java.lang.RuntimeException\n   No such namespace: jdbc\n   \n</code></pre>\n<p>Here's my db setup:</p>\n<pre><code>(ns cljblog.db)\n(require '[next.jdbc :as jdbc])\n\n(def db\n  {:dbtype &quot;postgresql&quot;\n   :dbname &quot;cljblog&quot;\n   :host &quot;localhost&quot;\n   :user &quot;postgres&quot;\n   :password &quot;postgres&quot;})\n\n(def ds (jdbc/get-datasource db))\n\n(def ds (jdbc/get-datasource db))\n(def conn (jdbc/get-connection ds))\n\n(jdbc/execute! conn [&quot;\n-- postgresql version\ndrop table if exists posts?;\ncreate table posts (\n  id int,\n  title varchar(255),\n  body text,\nauthor varchar(25)\n&quot;])\n\n(jdbc/execute! conn [&quot;\ninsert into posts(title,body,author)\n  values('Working with postgres',\n'this is my first attempt at working\nwith postgres in Clojure', 'Sam Dees')&quot;])\n\n(def result-set\n  (jdbc/execute!\n   conn\n   [&quot;select * from posts&quot;]))\n</code></pre>\n<p>and the project.clj</p>\n<pre><code>(defproject cljblog &quot;0.1.0-SNAPSHOT&quot;\n  :description &quot;FIXME: write description&quot;\n  :url &quot;http://example.com/FIXME&quot;\n  :min-lein-version &quot;2.0.0&quot;\n  :dependencies [[org.clojure/clojure &quot;1.10.0&quot;]\n                 [compojure &quot;1.6.1&quot;]\n                 [ring/ring-defaults &quot;0.3.2&quot;]\n                 [hiccup &quot;1.0.5&quot;]\n                 [com.github.seancorfield/next.jdbc &quot;1.2.780&quot;]\n                 [org.postgresql/postgresql &quot;9.4-1201-jdbc41&quot;]]\n  :plugins [[lein-ring &quot;0.12.5&quot;]]\n  :ring {:handler cljblog.handler/app}\n  :repl-options {:init-ns clj-jdbc.core}\n  :profiles\n  {:dev {:dependencies [[javax.servlet/servlet-api &quot;2.5&quot;]\n                        [ring/ring-mock &quot;0.3.2&quot;]]}})\n</code></pre>\n<p>*I've truncated the full error messages for brevity.\n*postgres is installed with an active server running on the system</p>\n"},{"tags":["java","android","android-studio","button","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":4978545,"reputation":65,"user_id":4874427,"display_name":"Santosh Bhandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653325974,"creation_date":1653325974,"answer_id":72352424,"question_id":72352344,"body_markdown":"I can See You are setting **&quot;enabled=false&quot;** in logout Button could you **remove that  part** or replace with **&quot;enabled=true&quot;**...I will work if you do so ..please try ","title":"Not able to click the logout and posy buttons","body":"<p>I can See You are setting <strong>&quot;enabled=false&quot;</strong> in logout Button could you <strong>remove that  part</strong> or replace with <strong>&quot;enabled=true&quot;</strong>...I will work if you do so ..please try</p>\n"}],"owner":{"account_id":25311794,"reputation":3,"user_id":19134445,"display_name":"The Dark shadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653350572,"creation_date":1653325641,"question_id":72352344,"body_markdown":"I have tried checking if any layout is overlapping or not. I have tried adding more space between the button and the border nothing seems to work. I&#39;m not able to see where am I missing out\r\n\r\nThis is the activity where I&#39;m trying to add setonclicklistenr:    \r\n\r\n    public class addPost extends AppCompatActivity {\r\n        ImageView picgal,postt;\r\n        EditText descrip,compName;\r\n        Button pst,logout;\r\n        FirebaseAuth auth;\r\n        FirebaseStorage storage;\r\n        FirebaseDatabase database;\r\n        Uri uri;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_post);\r\n            picgal = findViewById(R.id.addpic);\r\n            descrip = findViewById(R.id.postDescription);\r\n            logout = findViewById(R.id.lgout);\r\n            compName = findViewById(R.id.comm);\r\n            auth = FirebaseAuth.getInstance();\r\n            storage = FirebaseStorage.getInstance();\r\n    \r\n            logout.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    auth.signOut();\r\n                    startActivity(new Intent(addPost.this,postActivity.class));\r\n                }\r\n            });\r\n\r\nThis is the xml file:\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/lgout&quot;\r\n            android:layout_width=&quot;75dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:background=&quot;@drawable/post_button_blue&quot;\r\n            android:enabled=&quot;false&quot;\r\n            android:text=&quot;LOGOUT&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/postButton&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/postButton&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/postButton&quot;\r\n            tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:fontFamily=&quot;@font/roboto_black&quot;\r\n            android:text=&quot;Create Post&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/postButton&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/postButton&quot; /&gt;\r\n    \r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/postButton&quot;\r\n            android:layout_width=&quot;75dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@drawable/post_button_white&quot;\r\n            android:enabled=&quot;false&quot;\r\n            android:text=&quot;post&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:background=&quot;#CFC9C9&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/postButton&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;User1&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;@dimen/_14font_mdp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/view&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/comm&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Company Name&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/name&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/postDescription&quot;\r\n            android:layout_width=&quot;355dp&quot;\r\n            android:layout_height=&quot;287dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;top&quot;\r\n            android:hint=&quot;Type to add your experience&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/name&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/comm&quot;\r\n            tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/postpic&quot;\r\n            android:layout_width=&quot;400dp&quot;\r\n            android:layout_height=&quot;272dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/view3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/postDescription&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/postDescription&quot;\r\n            app:srcCompat=&quot;@drawable/img2&quot;\r\n            tools:visibility=&quot;invisible&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/addpic&quot;\r\n            android:layout_width=&quot;41dp&quot;\r\n            android:layout_height=&quot;43dp&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/imgg&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView7&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:text=&quot;Add to post&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/addpic&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/addpic&quot; /&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/view3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:background=&quot;#CFC9C9&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/addpic&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**Screenshot of the .XML file design**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PkVbA.png","title":"Not able to click the logout and posy buttons","body":"<p>I have tried checking if any layout is overlapping or not. I have tried adding more space between the button and the border nothing seems to work. I'm not able to see where am I missing out</p>\n<p>This is the activity where I'm trying to add setonclicklistenr:</p>\n<pre><code>public class addPost extends AppCompatActivity {\n    ImageView picgal,postt;\n    EditText descrip,compName;\n    Button pst,logout;\n    FirebaseAuth auth;\n    FirebaseStorage storage;\n    FirebaseDatabase database;\n    Uri uri;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_post);\n        picgal = findViewById(R.id.addpic);\n        descrip = findViewById(R.id.postDescription);\n        logout = findViewById(R.id.lgout);\n        compName = findViewById(R.id.comm);\n        auth = FirebaseAuth.getInstance();\n        storage = FirebaseStorage.getInstance();\n\n        logout.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                auth.signOut();\n                startActivity(new Intent(addPost.this,postActivity.class));\n            }\n        });\n</code></pre>\n<p>This is the xml file:</p>\n<pre><code>    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/lgout&quot;\n        android:layout_width=&quot;75dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:background=&quot;@drawable/post_button_blue&quot;\n        android:enabled=&quot;false&quot;\n        android:text=&quot;LOGOUT&quot;\n        android:textColor=&quot;#000000&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/postButton&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/postButton&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/postButton&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:fontFamily=&quot;@font/roboto_black&quot;\n        android:text=&quot;Create Post&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/postButton&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/postButton&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/postButton&quot;\n        android:layout_width=&quot;75dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:background=&quot;@drawable/post_button_white&quot;\n        android:enabled=&quot;false&quot;\n        android:text=&quot;post&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:background=&quot;#CFC9C9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/postButton&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;User1&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;@dimen/_14font_mdp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/view&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/comm&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Enter Company Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/name&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/postDescription&quot;\n        android:layout_width=&quot;355dp&quot;\n        android:layout_height=&quot;287dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;top&quot;\n        android:hint=&quot;Type to add your experience&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/name&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/comm&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/postpic&quot;\n        android:layout_width=&quot;400dp&quot;\n        android:layout_height=&quot;272dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:visibility=&quot;gone&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/view3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/postDescription&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/postDescription&quot;\n        app:srcCompat=&quot;@drawable/img2&quot;\n        tools:visibility=&quot;invisible&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/addpic&quot;\n        android:layout_width=&quot;41dp&quot;\n        android:layout_height=&quot;43dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/imgg&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView7&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:text=&quot;Add to post&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/addpic&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/addpic&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:background=&quot;#CFC9C9&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/addpic&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Screenshot of the .XML file design</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PkVbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkVbA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","static","functional-programming"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1513010889,"post_id":47757445,"comment_id":82476210,"body_markdown":"Re, &quot;...could be used in ... streams.&quot;  And would that help you to solve your problem?  Or would it help some other software developer with whom you are working to solve a problem?  You are asking developers for their opinions, but those opinions are going to depend on what problem you are trying to solve.","body":"Re, &quot;...could be used in ... streams.&quot;  And would that help you to solve your problem?  Or would it help some other software developer with whom you are working to solve a problem?  You are asking developers for their opinions, but those opinions are going to depend on what problem you are trying to solve."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1513011012,"post_id":47757445,"comment_id":82476280,"body_markdown":"P.S., instead of &quot;function,&quot; you might want to say &quot;functional object.&quot;","body":"P.S., instead of &quot;function,&quot; you might want to say &quot;functional object.&quot;"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1513678208,"post_id":47757445,"comment_id":82734715,"body_markdown":"Is `c -&gt; c==null? new Cat(): c` really worth a discussion about different ways of reusability?","body":"Is <code>c -&gt; c==null? new Cat(): c</code> really worth a discussion about different ways of reusability?"},{"owner":{"account_id":8525637,"reputation":1380,"user_id":7357833,"accept_rate":50,"display_name":"Andy Cribbens"},"score":0,"creation_date":1513767858,"post_id":47757445,"comment_id":82775754,"body_markdown":"The question was really about the technical considerations of using a static method vs a function.","body":"The question was really about the technical considerations of using a static method vs a function."}],"answers":[{"tags":[],"owner":{"account_id":9532102,"reputation":6466,"user_id":7083401,"accept_rate":100,"display_name":"ice1000"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513693586,"creation_date":1513138772,"answer_id":47785412,"question_id":47757445,"body_markdown":"First your code has syntax error, in the second block first line between `c` and `{` there should be a `-&gt;`.\r\n\r\nThe second one creates an anonynous object, the first one only creates a static method.  \r\nSo they&#39;re not the same.\r\n\r\nAlso, static methods can be used in stream API.  \r\nIf you have:\r\n\r\n    class A {\r\n      static Object a(Object x) { return x; /* replace with your code */ }\r\n    }\r\n\r\nYou can:\r\n\r\n    xxxList().stream().map(A::a)\r\n\r\nCreating a method is often considered dirty, because it&#39;s globally visible.  \r\nIt&#39;s recommended to use lambda expressions without declaring a variable.","title":"Java 8, Static methods vs Functions","body":"<p>First your code has syntax error, in the second block first line between <code>c</code> and <code>{</code> there should be a <code>-&gt;</code>.</p>\n\n<p>The second one creates an anonynous object, the first one only creates a static method.<br>\nSo they're not the same.</p>\n\n<p>Also, static methods can be used in stream API.<br>\nIf you have:</p>\n\n<pre><code>class A {\n  static Object a(Object x) { return x; /* replace with your code */ }\n}\n</code></pre>\n\n<p>You can:</p>\n\n<pre><code>xxxList().stream().map(A::a)\n</code></pre>\n\n<p>Creating a method is often considered dirty, because it's globally visible.<br>\nIt's recommended to use lambda expressions without declaring a variable.</p>\n"},{"tags":[],"owner":{"account_id":6319189,"reputation":103,"user_id":4907982,"display_name":"Emtec165"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653348727,"creation_date":1653348727,"answer_id":72355775,"question_id":47757445,"body_markdown":"You can think about function as a &quot;value&quot; - something that can be stored to variable, and passed around.\r\n\r\nThis &quot;value&quot; can be used as e.g. method parameter to (during runtime) dynamically change part of method implementation.\r\n\r\nTake a look at this basic example. Hope that can illustrate idea:\r\n\r\n    static Number functionsUsageExample(Integer someValue, UnaryOperator&lt;Number&gt; unaryOperator) {\r\n        if (someValue == 1) {\r\n            //do something\r\n        }\r\n        Number result = unaryOperator.apply(someValue); // dynamically apply supplied implementation\r\n        // do something else\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UnaryOperator&lt;Number&gt; add = i -&gt; i.doubleValue() + 20;\r\n        UnaryOperator&lt;Number&gt; multiply = i -&gt; i.intValue() * 3;\r\n\r\n        var additionResult = functionsUsageExample(1, add);\r\n        var multiplicationResult = functionsUsageExample(1, multiply);\r\n        \r\n        //additionResult value is:           21.0\r\n        //multiplicationResult value is:     3\r\n    }\r\n\r\n\r\nFunction can be also used as a &#39;helper methods&#39; stored inside method block. This way you will not corrupt class scope with method that is used only in one place.","title":"Java 8, Static methods vs Functions","body":"<p>You can think about function as a &quot;value&quot; - something that can be stored to variable, and passed around.</p>\n<p>This &quot;value&quot; can be used as e.g. method parameter to (during runtime) dynamically change part of method implementation.</p>\n<p>Take a look at this basic example. Hope that can illustrate idea:</p>\n<pre><code>static Number functionsUsageExample(Integer someValue, UnaryOperator&lt;Number&gt; unaryOperator) {\n    if (someValue == 1) {\n        //do something\n    }\n    Number result = unaryOperator.apply(someValue); // dynamically apply supplied implementation\n    // do something else\n    return result;\n}\n\npublic static void main(String[] args) {\n    UnaryOperator&lt;Number&gt; add = i -&gt; i.doubleValue() + 20;\n    UnaryOperator&lt;Number&gt; multiply = i -&gt; i.intValue() * 3;\n\n    var additionResult = functionsUsageExample(1, add);\n    var multiplicationResult = functionsUsageExample(1, multiply);\n    \n    //additionResult value is:           21.0\n    //multiplicationResult value is:     3\n}\n</code></pre>\n<p>Function can be also used as a 'helper methods' stored inside method block. This way you will not corrupt class scope with method that is used only in one place.</p>\n"}],"owner":{"account_id":8525637,"reputation":1380,"user_id":7357833,"accept_rate":50,"display_name":"Andy Cribbens"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":47785412,"answer_count":2,"score":2,"last_activity_date":1653348727,"creation_date":1513010489,"question_id":47757445,"body_markdown":"In Java 8 I want to create something that returns an argument or creates an instance if the argument is null.\r\n\r\nI could do this by creating a static method or a UnaryOperator. Are the following approaches technically the same or are there technical differences that I should be aware of with either approach:\r\n\r\n**Static Method**\r\n\r\n    static Cat initOrReturn(Cat c) {\r\n        if (c==null) {\r\n            return new Cat();\r\n        }\r\n        return c;\r\n    }\r\n\r\n**Function**\r\n\r\n    UnaryOperator&lt;Cat&gt; initOrReturn = c -&gt; {\r\n        if (c==null) {\r\n            return new Cat();\r\n        }\r\n        return c;\r\n    }\r\n\r\n","title":"Java 8, Static methods vs Functions","body":"<p>In Java 8 I want to create something that returns an argument or creates an instance if the argument is null.</p>\n\n<p>I could do this by creating a static method or a UnaryOperator. Are the following approaches technically the same or are there technical differences that I should be aware of with either approach:</p>\n\n<p><strong>Static Method</strong></p>\n\n<pre><code>static Cat initOrReturn(Cat c) {\n    if (c==null) {\n        return new Cat();\n    }\n    return c;\n}\n</code></pre>\n\n<p><strong>Function</strong></p>\n\n<pre><code>UnaryOperator&lt;Cat&gt; initOrReturn = c -&gt; {\n    if (c==null) {\n        return new Cat();\n    }\n    return c;\n}\n</code></pre>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":9283335,"reputation":480,"user_id":7333367,"display_name":"A-run"},"score":0,"creation_date":1617797282,"post_id":150192,"comment_id":118405909,"body_markdown":"For those using Kotlin, Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties)","body":"For those using Kotlin, Kotlin recommends using _ for a private property, &quot;If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property.&quot; Source: (<a href=\"https://kotlinlang.org/docs/coding-conventions.html#names-for-backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":12041,"reputation":21824,"user_id":23512,"accept_rate":56,"display_name":"Tanktalus"},"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1222715863,"creation_date":1222715863,"answer_id":150204,"question_id":150192,"body_markdown":"If you have no code using it now, I&#39;d suggest continuing that.  If your codebase uses it, continue that.\r\n\r\nThe biggest thing about coding style is *consistency*.  If you have nothing to be consistent with, then the language vendor&#39;s recommendations are likely a good place to start.","title":"Using underscores in Java variables and method names","body":"<p>If you have no code using it now, I'd suggest continuing that.  If your codebase uses it, continue that.</p>\n\n<p>The biggest thing about coding style is <em>consistency</em>.  If you have nothing to be consistent with, then the language vendor's recommendations are likely a good place to start.</p>\n"},{"tags":[],"owner":{"account_id":5529,"reputation":11659,"user_id":8945,"accept_rate":95,"display_name":"Nicholas Mancuso"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1652534923,"creation_date":1222715915,"answer_id":150212,"question_id":150192,"body_markdown":"Using &#39;m_&#39; or &#39;_&#39; in the front of a variable makes it easier to spot member variables in methods throughout an object. \r\n\r\nAs a side benefit, typing &#39;m_&#39; or &#39;_&#39; will make intellsense pop them up first ;)\r\n","title":"Using underscores in Java variables and method names","body":"<p>Using 'm_' or '_' in the front of a variable makes it easier to spot member variables in methods throughout an object.</p>\n<p>As a side benefit, typing 'm_' or '_' will make intellsense pop them up first ;)</p>\n"},{"tags":[],"owner":{"account_id":2202,"reputation":24331,"user_id":3029,"accept_rate":63,"display_name":"davetron5000"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1222715986,"creation_date":1222715986,"answer_id":150221,"question_id":150192,"body_markdown":"Rules:\r\n\r\n 1. Do what the code you are editing does\r\n 1. If #1 doesn&#39;t apply, use camelCase, no underscores\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>Rules:</p>\n\n<ol>\n<li>Do what the code you are editing does</li>\n<li>If #1 doesn't apply, use camelCase, no underscores</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1653348005,"creation_date":1222716035,"answer_id":150226,"question_id":150192,"body_markdown":"It&#39;s a blend of coding styles. One school of thought is to preface private members with an underscore to distinguish them.\r\n\r\n    setBar( int bar)\r\n    {\r\n       _bar = bar;\r\n    }\r\n\r\ninstead of\r\n\r\n    setBar( int bar)\r\n    {\r\n       this.bar = bar;\r\n    }\r\n\r\nOthers will use underscores to indicate a temporary local variable that will go out of scope at the end of the method call. (I find this pretty useless - a good method shouldn&#39;t be that long, and the declaration is *right there*! So I know it goes out of scope.) God forbid a programmer from this school and a programmer from the memberData school collaborate! It would be hell.\r\n\r\nSometimes, generated code will preface variables with _ or __.  The idea being that no human would ever do this, so it&#39;s safe.\r\n\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>It's a blend of coding styles. One school of thought is to preface private members with an underscore to distinguish them.</p>\n<pre><code>setBar( int bar)\n{\n   _bar = bar;\n}\n</code></pre>\n<p>instead of</p>\n<pre><code>setBar( int bar)\n{\n   this.bar = bar;\n}\n</code></pre>\n<p>Others will use underscores to indicate a temporary local variable that will go out of scope at the end of the method call. (I find this pretty useless - a good method shouldn't be that long, and the declaration is <em>right there</em>! So I know it goes out of scope.) God forbid a programmer from this school and a programmer from the memberData school collaborate! It would be hell.</p>\n<p>Sometimes, generated code will preface variables with _ or __.  The idea being that no human would ever do this, so it's safe.</p>\n"},{"tags":[],"owner":{"account_id":2885,"reputation":18256,"user_id":4092,"display_name":"Joe Ratzer"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1222716051,"creation_date":1222716051,"answer_id":150228,"question_id":150192,"body_markdown":"I think any style that breaks a language&#39;s own style guidelines (without due reason) is ugly and therefore &quot;bad&quot;.\r\n\r\nNo doubt the code you&#39;ve seen was written by someone who used to work on a language where underscores were acceptable.\r\n\r\nSome people just cannot adapt to new coding styles...","title":"Using underscores in Java variables and method names","body":"<p>I think any style that breaks a language's own style guidelines (without due reason) is ugly and therefore \"bad\".</p>\n\n<p>No doubt the code you've seen was written by someone who used to work on a language where underscores were acceptable.</p>\n\n<p>Some people just cannot adapt to new coding styles...</p>\n"},{"tags":[],"owner":{"account_id":9363,"reputation":15935,"user_id":17255,"accept_rate":65,"display_name":"Christophe Herreman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1222716085,"creation_date":1222716085,"answer_id":150231,"question_id":150192,"body_markdown":"&quot;Bad style&quot; is very subjective. If a certain conventions works for you and your team, I think that will qualify a bad/good style.\r\n\r\nTo answer your question: I use a leading underscore to mark private variables. I find it clear and I can scan through code fast and find out what&#39;s going on.\r\n\r\n(I almost never use &quot;this&quot; though, except to prevent a name clash.)","title":"Using underscores in Java variables and method names","body":"<p>\"Bad style\" is very subjective. If a certain conventions works for you and your team, I think that will qualify a bad/good style.</p>\n\n<p>To answer your question: I use a leading underscore to mark private variables. I find it clear and I can scan through code fast and find out what's going on.</p>\n\n<p>(I almost never use \"this\" though, except to prevent a name clash.)</p>\n"},{"tags":[],"owner":{"display_name":"Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222716851,"creation_date":1222716851,"answer_id":150291,"question_id":150192,"body_markdown":"The reason people do it (in my experience) is to differentiate between member variables and function parameters.  In Java you can have a class like this:\r\n\r\n&lt;pre&gt;&lt;code&gt;public class TestClass {\r\n  int var1;\r\n\r\n  public void func1(int var1) {\r\n     System.out.println(&quot;Which one is it?: &quot; + var1);\r\n  }\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIf you made the member variable \\_var1 or m_var1, you wouldn&#39;t have the ambiguity in the function.\r\n\r\nSo it&#39;s *a* style, and I wouldn&#39;t call it bad.","title":"Using underscores in Java variables and method names","body":"<p>The reason people do it (in my experience) is to differentiate between member variables and function parameters.  In Java you can have a class like this:</p>\n\n<pre><code>public class TestClass {\n  int var1;\n\n  public void func1(int var1) {\n     System.out.println(\"Which one is it?: \" + var1);\n  }\n}</code></pre>\n\n<p>If you made the member variable _var1 or m_var1, you wouldn't have the ambiguity in the function.</p>\n\n<p>So it's <em>a</em> style, and I wouldn't call it bad.</p>\n"},{"tags":[],"owner":{"account_id":1283,"reputation":20770,"user_id":1709,"accept_rate":77,"display_name":"Anders Sandvig"},"down_vote_count":1,"up_vote_count":127,"is_accepted":false,"score":126,"last_activity_date":1222717299,"creation_date":1222717299,"answer_id":150310,"question_id":150192,"body_markdown":"&lt;pre&gt;sunDoesNotRecommendUnderscoresBecauseJavaVariableAndFunctionNamesTendToBeLongEnoughAsItIs();\r\n\r\nas_others_have_said_consistency_is_the_important_thing_here_so_chose_whatever_you_think_is_more_readable();&lt;/pre&gt;","title":"Using underscores in Java variables and method names","body":"<pre>sunDoesNotRecommendUnderscoresBecauseJavaVariableAndFunctionNamesTendToBeLongEnoughAsItIs();\n\nas_others_have_said_consistency_is_the_important_thing_here_so_chose_whatever_you_think_is_more_readable();</pre>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1652535696,"creation_date":1222718052,"answer_id":150365,"question_id":150192,"body_markdown":"Personally, I think a language shouldn&#39;t make _rules_ about coding style. It is a matter of preferences, usage, convenience, and concept about readability.\r\nNow, a project _must_ set coding rules, for consistency across listings. You might not agree with these rules, but you should stick to them if you want to contribute (or work in a team).\r\n\r\nAt least, IDEs like [Eclipse][1] are agnostic, allowing to set rules like variable prefixes or suffixes, various styles of brace placement and space management, etc. So you can use it to reformat code along _your_ guidelines.\r\n\r\nNote: I am among those keeping their old habits from C/C++, coding Java with *m_* prefixes for member variables (and *s_* for static ones), prefixing Booleans with an initial b, using an initial uppercase letter for function names and aligning braces... The horror for Java fundamentalists! ;-)\r\n\r\nFunnily, that&#39;s the conventions used where I work... probably because the main initial developer comes from the [MFC][2] world! :-D\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Microsoft_Foundation_Class_Library\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>Personally, I think a language shouldn't make <em>rules</em> about coding style. It is a matter of preferences, usage, convenience, and concept about readability.\nNow, a project <em>must</em> set coding rules, for consistency across listings. You might not agree with these rules, but you should stick to them if you want to contribute (or work in a team).</p>\n<p>At least, IDEs like <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> are agnostic, allowing to set rules like variable prefixes or suffixes, various styles of brace placement and space management, etc. So you can use it to reformat code along <em>your</em> guidelines.</p>\n<p>Note: I am among those keeping their old habits from C/C++, coding Java with <em>m_</em> prefixes for member variables (and <em>s_</em> for static ones), prefixing Booleans with an initial b, using an initial uppercase letter for function names and aligning braces... The horror for Java fundamentalists! ;-)</p>\n<p>Funnily, that's the conventions used where I work... probably because the main initial developer comes from the <a href=\"https://en.wikipedia.org/wiki/Microsoft_Foundation_Class_Library\" rel=\"nofollow noreferrer\">MFC</a> world! :-D</p>\n"},{"tags":[],"owner":{"account_id":10829,"reputation":2224,"user_id":20630,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467739585,"creation_date":1222718107,"answer_id":150372,"question_id":150192,"body_markdown":"Here&#39;s a [link][1] to Sun&#39;s recommendations for Java. Not that you have to use these or even that their library code follows all of them, but it&#39;s a good start if you&#39;re going from scratch.  Tool like Eclipse have built in formatters and cleanup tools that can help you conform to these conventions (or others that you define).\r\n\r\nFor me, &#39;_&#39; are too hard to type :)\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html","title":"Using underscores in Java variables and method names","body":"<p>Here's a <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html\" rel=\"nofollow noreferrer\">link</a> to Sun's recommendations for Java. Not that you have to use these or even that their library code follows all of them, but it's a good start if you're going from scratch.  Tool like Eclipse have built in formatters and cleanup tools that can help you conform to these conventions (or others that you define).</p>\n\n<p>For me, '_' are too hard to type :)</p>\n"},{"tags":[],"owner":{"account_id":12049,"reputation":4146,"user_id":23553,"accept_rate":88,"display_name":"Fry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222718792,"creation_date":1222718792,"answer_id":150414,"question_id":150192,"body_markdown":"It&#39;s nice to have something to distinguish private vs. public variables, but I don&#39;t like &#39;_&#39; in general coding. If I can help it in new code, I avoid their use.","title":"Using underscores in Java variables and method names","body":"<p>It's nice to have something to distinguish private vs. public variables, but I don't like '_' in general coding. If I can help it in new code, I avoid their use.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652536004,"creation_date":1222719941,"answer_id":150489,"question_id":150192,"body_markdown":"  - I happen to like leading underscores for (private) instance variables. It seems easier to read and distinguish. Of course, this thing can get you into trouble with edge cases (e.g., public instance variables (not common, I know) - either way you name them, you&#39;re arguably breaking your naming convention:\r\n\r\n    ```lang-java\r\n    private int _my_int;\r\n    public int myInt;? _my_int? )\r\n    ```\r\n\r\n  - As much as I like the _style of this and think it&#39;s readable, I find it&#39;s arguably more trouble than it&#39;s worth, as it&#39;s uncommon and it&#39;s likely not to match anything else in the codebase you&#39;re using.\r\n\r\n    Automated code generation (e.g., Eclipse&#39;s generate getters and setters) aren&#39;t likely to understand this, so you&#39;ll have to fix it by hand or muck with Eclipse enough to get it to recognize it.\r\n\r\nUltimately, you&#39;re going against the rest of the (Java) world&#39;s preferences and are likely to have some annoyances from that. And as previous posters have mentioned, consistency in the codebase trumps all of the above issues.\r\n\r\n\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<ul>\n<li><p>I happen to like leading underscores for (private) instance variables. It seems easier to read and distinguish. Of course, this thing can get you into trouble with edge cases (e.g., public instance variables (not common, I know) - either way you name them, you're arguably breaking your naming convention:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int _my_int;\npublic int myInt;? _my_int? )\n</code></pre>\n</li>\n<li><p>As much as I like the _style of this and think it's readable, I find it's arguably more trouble than it's worth, as it's uncommon and it's likely not to match anything else in the codebase you're using.</p>\n<p>Automated code generation (e.g., Eclipse's generate getters and setters) aren't likely to understand this, so you'll have to fix it by hand or muck with Eclipse enough to get it to recognize it.</p>\n</li>\n</ul>\n<p>Ultimately, you're going against the rest of the (Java) world's preferences and are likely to have some annoyances from that. And as previous posters have mentioned, consistency in the codebase trumps all of the above issues.</p>\n"},{"tags":[],"owner":{"account_id":11948,"reputation":737748,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1653347716,"creation_date":1222729535,"answer_id":151118,"question_id":150192,"body_markdown":"I don&#39;t think using _ or m_ to indicate member variables is bad in Java or any other language.  In my opinion, it improves readability of your code because it allows you to look at a snippet and quickly identify out all of the member variables from locals.\r\n\r\nYou can also achieve this by forcing users to prepend instance variables with &quot;this&quot;, but I find this slightly draconian.  In many ways it violates [DRY][1] because it&#39;s an instance variable. Why qualify it twice?\r\n\r\nMy own personal style is to use m_ instead of \\_.  The reason being that there are also global and static variables.  The advantage to m\\_/\\_ is it distinguishes a variable&#39;s scope.  So you can&#39;t reuse \\_ for global or static and instead I choose g_ and s_ respectively.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>I don't think using _ or m_ to indicate member variables is bad in Java or any other language.  In my opinion, it improves readability of your code because it allows you to look at a snippet and quickly identify out all of the member variables from locals.</p>\n<p>You can also achieve this by forcing users to prepend instance variables with &quot;this&quot;, but I find this slightly draconian.  In many ways it violates <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> because it's an instance variable. Why qualify it twice?</p>\n<p>My own personal style is to use m_ instead of _.  The reason being that there are also global and static variables.  The advantage to m_/_ is it distinguishes a variable's scope.  So you can't reuse _ for global or static and instead I choose g_ and s_ respectively.</p>\n"},{"tags":[],"owner":{"display_name":"kazero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652535201,"creation_date":1226892107,"answer_id":294809,"question_id":150192,"body_markdown":"It&#39;s just your own style, not a bad style code nor a good style code. It just differentiates our code with the others.\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>It's just your own style, not a bad style code nor a good style code. It just differentiates our code with the others.</p>\n"},{"tags":[],"owner":{"account_id":1639351,"reputation":51,"user_id":1512109,"display_name":"Vladimir Miller"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349903954,"creation_date":1341840942,"answer_id":11396147,"question_id":150192,"body_markdown":"There is a reason why using underscores was considered being bad style in the old days. When a runtime compiler was something unaffordable and monitors came with astonishing 320x240 pixel resolution it was often not easy to differentiate between `_name` and `__name`.","title":"Using underscores in Java variables and method names","body":"<p>There is a reason why using underscores was considered being bad style in the old days. When a runtime compiler was something unaffordable and monitors came with astonishing 320x240 pixel resolution it was often not easy to differentiate between <code>_name</code> and <code>__name</code>.</p>\n"}],"owner":{"account_id":7579,"reputation":4402,"user_id":13209,"accept_rate":75,"display_name":"Georgi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115148,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"closed_date":1360287194,"accepted_answer_id":150204,"answer_count":15,"score":91,"last_activity_date":1653348005,"creation_date":1222715706,"question_id":150192,"body_markdown":"Even nowadays I often see underscores in Java variables and methods. An example are member variables (like &quot;m_count&quot; or &quot;_count&quot;). As far as I remember, to use underscores in these cases is called bad style by [Sun][1].\r\n\r\nThe only place they should be used is in constants (like in &quot;public final static int IS_OKAY = 1;&quot;), because constants should be all upper case and not [camel case][2]. Here, the underscore should make the code more readable.\r\n\r\nDo you think using underscores in Java is bad style? If so (or not), why?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Sun_Microsystems\r\n  [2]: https://en.wikipedia.org/wiki/Camel_case\r\n\r\n\r\n\r\n","title":"Using underscores in Java variables and method names","body":"<p>Even nowadays I often see underscores in Java variables and methods. An example are member variables (like &quot;m_count&quot; or &quot;_count&quot;). As far as I remember, to use underscores in these cases is called bad style by <a href=\"https://en.wikipedia.org/wiki/Sun_Microsystems\" rel=\"nofollow noreferrer\">Sun</a>.</p>\n<p>The only place they should be used is in constants (like in &quot;public final static int IS_OKAY = 1;&quot;), because constants should be all upper case and not <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">camel case</a>. Here, the underscore should make the code more readable.</p>\n<p>Do you think using underscores in Java is bad style? If so (or not), why?</p>\n"},{"tags":["java","list","enums","hashmap"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1653325527,"post_id":72352167,"comment_id":127819455,"body_markdown":"Does this answer your question? [List of enum values in java](https://stackoverflow.com/questions/13109497/list-of-enum-values-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13109497/list-of-enum-values-in-java\">List of enum values in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653325498,"creation_date":1653325498,"answer_id":72352317,"question_id":72352167,"body_markdown":"Though you haven&#39;t mentioned what error you got, but this is how you can populate your `Kvarteret2` constructor:\r\n\r\n\r\n    // Dictionary with the drink as Key and a list of the ingredients and prices as value\r\n        Map&lt;String, List&lt;DrinkIngredients&gt;&gt; Drinks = new HashMap&lt;String, List&lt;DrinkIngredients&gt;&gt;(); \r\n       List&lt;DrinkIngredients&gt; list=new ArrayList&lt;DrinkIngredients&gt;(); // define ArrayList outside constructor\r\n    \r\n    public Kvarteret2() {\r\n      list.add(DrinkIngredients.GIN);\r\n      list.add(DrinkIngredients.TONIC);\r\n      list.add(DrinkIngredients.MINT);\r\n      Drinks.put(&quot;GT&quot;, ls);\r\n    }\r\n\r\n","title":"How to properly use Enums for simple price calculation (Java)","body":"<p>Though you haven't mentioned what error you got, but this is how you can populate your <code>Kvarteret2</code> constructor:</p>\n<pre><code>// Dictionary with the drink as Key and a list of the ingredients and prices as value\n    Map&lt;String, List&lt;DrinkIngredients&gt;&gt; Drinks = new HashMap&lt;String, List&lt;DrinkIngredients&gt;&gt;(); \n   List&lt;DrinkIngredients&gt; list=new ArrayList&lt;DrinkIngredients&gt;(); // define ArrayList outside constructor\n\npublic Kvarteret2() {\n  list.add(DrinkIngredients.GIN);\n  list.add(DrinkIngredients.TONIC);\n  list.add(DrinkIngredients.MINT);\n  Drinks.put(&quot;GT&quot;, ls);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653329031,"creation_date":1653326339,"answer_id":72352492,"question_id":72352167,"body_markdown":"There are a lot of mistakes in your code.\r\n\r\nYou are using an incorrect syntax for creating a *list* in Java (*it doesn&#39;t work in the same way as in JavaScript*):\r\n```\r\n[DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT] // &lt;- that&#39;s not correct\r\n\r\nList.of(DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT) // &lt;- correct\r\n```\r\n\r\nEnum-fields that has to be associated with a specific enum-constant should not be marked `static`. Modifier `static` indicates that a field is shared among all the instances of a class, `enum`s at the end of the day are classes. If you want string `order` to be unique for all kinds of drinks, this line is not correct:\r\n```\r\nprivate static String order;\r\n```\r\nAnother mistake in the constructor:\r\n```\r\nBeer_Cider(String order, double cost) {\r\n    order = order;\r\n    price = cost;\r\n}\r\n```\r\nLine `order = order;` will not work as you expect. It will not assign the object property, instead it just reassigns parameter `order` to itself. You should use the keyword [`this`](https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html) to refer to the object field order.\r\n\r\n```\r\nprivate enum BeerCider {\r\n    BEER(&quot;Hansa&quot;, 74), CIDER(&quot;Grans&quot;, 103), REAL_BEER(&quot;Vestkyst&quot;, 110);\r\n    \r\n    private String order;\r\n    private double cost;\r\n    \r\n    Beer_Cider(String order, double cost) {\r\n        this.order = order;\r\n        this.cost = cost;\r\n    }\r\n    \r\n    private String getOrder() {return order;}\r\n    private double getCost() {return cost;}\r\n}\r\n```\r\n*For more information of *enums* have a look at* [*this tutorial*](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)\r\n\r\n*Sidenote:* according to [*Java naming conventions*](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) underscore should be used only the names of constants (like unum-members, `static final` fields), but the name of an  `enum` has to be written in camel-case `BeerCider`, like names of classes and interfaces.","title":"How to properly use Enums for simple price calculation (Java)","body":"<p>There are a lot of mistakes in your code.</p>\n<p>You are using an incorrect syntax for creating a <em>list</em> in Java (<em>it doesn't work in the same way as in JavaScript</em>):</p>\n<pre><code>[DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT] // &lt;- that's not correct\n\nList.of(DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT) // &lt;- correct\n</code></pre>\n<p>Enum-fields that has to be associated with a specific enum-constant should not be marked <code>static</code>. Modifier <code>static</code> indicates that a field is shared among all the instances of a class, <code>enum</code>s at the end of the day are classes. If you want string <code>order</code> to be unique for all kinds of drinks, this line is not correct:</p>\n<pre><code>private static String order;\n</code></pre>\n<p>Another mistake in the constructor:</p>\n<pre><code>Beer_Cider(String order, double cost) {\n    order = order;\n    price = cost;\n}\n</code></pre>\n<p>Line <code>order = order;</code> will not work as you expect. It will not assign the object property, instead it just reassigns parameter <code>order</code> to itself. You should use the keyword <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\"><code>this</code></a> to refer to the object field order.</p>\n<pre><code>private enum BeerCider {\n    BEER(&quot;Hansa&quot;, 74), CIDER(&quot;Grans&quot;, 103), REAL_BEER(&quot;Vestkyst&quot;, 110);\n    \n    private String order;\n    private double cost;\n    \n    Beer_Cider(String order, double cost) {\n        this.order = order;\n        this.cost = cost;\n    }\n    \n    private String getOrder() {return order;}\n    private double getCost() {return cost;}\n}\n</code></pre>\n<p><em>For more information of <em>enums</em> have a look at</em> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><em>this tutorial</em></a></p>\n<p><em>Sidenote:</em> according to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\"><em>Java naming conventions</em></a> underscore should be used only the names of constants (like unum-members, <code>static final</code> fields), but the name of an  <code>enum</code> has to be written in camel-case <code>BeerCider</code>, like names of classes and interfaces.</p>\n"}],"owner":{"account_id":14363749,"reputation":661,"user_id":11346784,"display_name":"Mampenda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72352492,"answer_count":2,"score":3,"last_activity_date":1653347702,"creation_date":1653324748,"question_id":72352167,"body_markdown":"I am trying to optimize a code-snippet that looks like this: \r\n\r\n    public class Kvarteret {\r\n        public static final String ONE_BEER = &quot;hansa&quot;;\r\n        public static final String ONE_CIDER = &quot;grans&quot;;\r\n        public static final String REAL_BEER = &quot;vestkyst&quot;;\r\n        public static final String GT = &quot;gt&quot;;\r\n        public static final String BACARDI_SPECIAL = &quot;bacardi_special&quot;;\r\n    \r\n        public int calculatePrice(String drink, boolean student, int amount) {\r\n    \r\n            if (amount &gt; 2 &amp;&amp; (drink == GT || drink == BACARDI_SPECIAL)) {\r\n                throw new RuntimeException(&quot;Too many drinks, max 2.&quot;);\r\n            }\r\n    \r\n            int price;\r\n    \r\n            if (drink.equals(ONE_BEER)) { price = 74;}\r\n            else if (drink.equals(ONE_CIDER)) { price = 103;}\r\n            else if (drink.equals(REAL_BEER)) { price = 110; }\r\n            else if (drink.equals(GT)) { price = ingredient6() + ingredient5() + ingredient4();}\r\n            else if (drink.equals(BACARDI_SPECIAL)) {\r\n                price = ingredient6()/2 + ingredient1() + ingredient2() + ingredient3();\r\n            } else { throw new RuntimeException(&quot;Item not in menu&quot;); }\r\n    \r\n            if (student &amp;&amp; (drink == ONE_BEER || drink == ONE_CIDER || drink == REAL_BEER)) { price = price - price/10;}\r\n            return price*amount;\r\n        }\r\n    \r\n        //rom unit\r\n        private int ingredient1() { return 65;}\r\n    \r\n        // grenadine unit\r\n        private int ingredient2() { return 10;}\r\n    \r\n        //lime-juice unit\r\n        private int ingredient3() { return 10;}\r\n    \r\n        //mint-leafs unit\r\n        private int ingredient4() { return 10; }\r\n    \r\n        //tonic-water unit\r\n        private int ingredient5() { return 20; }\r\n    \r\n        //gin unit\r\n        private int ingredient6() { return 85; }\r\n    }\r\n\r\nThe code is a simple program that calculates the price of drinks. I used [this][1] code as a starting point because it seemed like they we&#39;re trying to do something similar. \r\n\r\nMy code so far looks like this: \r\n\r\n    import java.util.*;\r\n    \r\n    public class Kvarteret2 {\r\n        private static double price;\r\n        private static double order;\r\n    \r\n        // Enums defines common values\r\n        private enum Beer_Cider {\r\n            BEER(&quot;Hansa&quot;, 74), CIDER(&quot;Grans&quot;, 103), REAL_BEER(&quot;Vestkyst&quot;, 110);\r\n    \r\n            private static String order;\r\n    \r\n            Beer_Cider(String order, double cost) {\r\n                order = order;\r\n                price = cost;\r\n            }\r\n    \r\n            private static String getOrder() {return order;}\r\n            private static double getCost() {return price;}\r\n        }\r\n    \r\n        private enum DrinkIngredients {\r\n    \r\n            ROM(&quot;Rom&quot;, 65), GRENADINE(&quot;Grenadine&quot;, 10), LIME(&quot;Lime-juice&quot;, 10),\r\n            MINT(&quot;Mint&quot;, 10), TONIC(&quot;Tonic-water&quot;, 20), GIN(&quot;Gin&quot;, 85);\r\n    \r\n            private static String ingredient;\r\n    \r\n            DrinkIngredients(String ingredient, double cost){\r\n                ingredient = ingredient;\r\n                price = cost;\r\n            }\r\n    \r\n            private static String getIngredient() {return ingredient;}\r\n            private static double getCost() {return price;}\r\n        }\r\n    \r\n        // Dictionary with the drink as Key and a list of the ingredients and prices as value\r\n        Map&lt;String, List&lt;DrinkIngredients&gt;&gt; Drinks = new HashMap&lt;String, List&lt;DrinkIngredients&gt;&gt;(); \r\n\r\n        public Kvarteret2() {\r\n            Drinks.put(&quot;GT&quot;, [DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT]);\r\n    \r\n        }\r\n    \r\n    \r\n        private static double calculate_price(String drink, boolean student, int amount){\r\n    \r\n            if (amount &gt; 2) {\r\n                throw new IllegalArgumentException(&quot;Too many drinks! You can order max 2 drinks at a time.&quot;);\r\n            }\r\n    \r\n            double student_discount = 0.1;\r\n    \r\n            if (student){\r\n                if (drink == &quot;BEER&quot; || drink == &quot;CIDER&quot; || drink == &quot;REAL BEER&quot;) {\r\n                    price = amount * (price - price * student_discount);\r\n                }\r\n            }\r\n            return price;\r\n        }\r\n    }\r\n\r\nI&#39;m getting an error because of this code: \r\n\r\n    public Kvarteret2() {\r\n        Drinks.put(&quot;GT&quot;, [DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT]);\r\n    \r\n    }\r\n\r\nI am trying to add elements to the dictionary, but I dont think this is the right way to do it. \r\n\r\nI know my code might not be 100% optimized yet, but I just want to see if I can make this solution work before I try to make it even better (because there&#39;s most likely a better way to do this). \r\n\r\nHow do I properly create the dictionary I am trying to create using the enums?\r\n\r\n  [1]: https://codereview.stackexchange.com/questions/186756/simple-barista-application-to-calculate-the-price-of-a-drink-based-on-different","title":"How to properly use Enums for simple price calculation (Java)","body":"<p>I am trying to optimize a code-snippet that looks like this:</p>\n<pre><code>public class Kvarteret {\n    public static final String ONE_BEER = &quot;hansa&quot;;\n    public static final String ONE_CIDER = &quot;grans&quot;;\n    public static final String REAL_BEER = &quot;vestkyst&quot;;\n    public static final String GT = &quot;gt&quot;;\n    public static final String BACARDI_SPECIAL = &quot;bacardi_special&quot;;\n\n    public int calculatePrice(String drink, boolean student, int amount) {\n\n        if (amount &gt; 2 &amp;&amp; (drink == GT || drink == BACARDI_SPECIAL)) {\n            throw new RuntimeException(&quot;Too many drinks, max 2.&quot;);\n        }\n\n        int price;\n\n        if (drink.equals(ONE_BEER)) { price = 74;}\n        else if (drink.equals(ONE_CIDER)) { price = 103;}\n        else if (drink.equals(REAL_BEER)) { price = 110; }\n        else if (drink.equals(GT)) { price = ingredient6() + ingredient5() + ingredient4();}\n        else if (drink.equals(BACARDI_SPECIAL)) {\n            price = ingredient6()/2 + ingredient1() + ingredient2() + ingredient3();\n        } else { throw new RuntimeException(&quot;Item not in menu&quot;); }\n\n        if (student &amp;&amp; (drink == ONE_BEER || drink == ONE_CIDER || drink == REAL_BEER)) { price = price - price/10;}\n        return price*amount;\n    }\n\n    //rom unit\n    private int ingredient1() { return 65;}\n\n    // grenadine unit\n    private int ingredient2() { return 10;}\n\n    //lime-juice unit\n    private int ingredient3() { return 10;}\n\n    //mint-leafs unit\n    private int ingredient4() { return 10; }\n\n    //tonic-water unit\n    private int ingredient5() { return 20; }\n\n    //gin unit\n    private int ingredient6() { return 85; }\n}\n</code></pre>\n<p>The code is a simple program that calculates the price of drinks. I used <a href=\"https://codereview.stackexchange.com/questions/186756/simple-barista-application-to-calculate-the-price-of-a-drink-based-on-different\">this</a> code as a starting point because it seemed like they we're trying to do something similar.</p>\n<p>My code so far looks like this:</p>\n<pre><code>import java.util.*;\n\npublic class Kvarteret2 {\n    private static double price;\n    private static double order;\n\n    // Enums defines common values\n    private enum Beer_Cider {\n        BEER(&quot;Hansa&quot;, 74), CIDER(&quot;Grans&quot;, 103), REAL_BEER(&quot;Vestkyst&quot;, 110);\n\n        private static String order;\n\n        Beer_Cider(String order, double cost) {\n            order = order;\n            price = cost;\n        }\n\n        private static String getOrder() {return order;}\n        private static double getCost() {return price;}\n    }\n\n    private enum DrinkIngredients {\n\n        ROM(&quot;Rom&quot;, 65), GRENADINE(&quot;Grenadine&quot;, 10), LIME(&quot;Lime-juice&quot;, 10),\n        MINT(&quot;Mint&quot;, 10), TONIC(&quot;Tonic-water&quot;, 20), GIN(&quot;Gin&quot;, 85);\n\n        private static String ingredient;\n\n        DrinkIngredients(String ingredient, double cost){\n            ingredient = ingredient;\n            price = cost;\n        }\n\n        private static String getIngredient() {return ingredient;}\n        private static double getCost() {return price;}\n    }\n\n    // Dictionary with the drink as Key and a list of the ingredients and prices as value\n    Map&lt;String, List&lt;DrinkIngredients&gt;&gt; Drinks = new HashMap&lt;String, List&lt;DrinkIngredients&gt;&gt;(); \n\n    public Kvarteret2() {\n        Drinks.put(&quot;GT&quot;, [DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT]);\n\n    }\n\n\n    private static double calculate_price(String drink, boolean student, int amount){\n\n        if (amount &gt; 2) {\n            throw new IllegalArgumentException(&quot;Too many drinks! You can order max 2 drinks at a time.&quot;);\n        }\n\n        double student_discount = 0.1;\n\n        if (student){\n            if (drink == &quot;BEER&quot; || drink == &quot;CIDER&quot; || drink == &quot;REAL BEER&quot;) {\n                price = amount * (price - price * student_discount);\n            }\n        }\n        return price;\n    }\n}\n</code></pre>\n<p>I'm getting an error because of this code:</p>\n<pre><code>public Kvarteret2() {\n    Drinks.put(&quot;GT&quot;, [DrinkIngredients.GIN, DrinkIngredients.TONIC, DrinkIngredients.MINT]);\n\n}\n</code></pre>\n<p>I am trying to add elements to the dictionary, but I dont think this is the right way to do it.</p>\n<p>I know my code might not be 100% optimized yet, but I just want to see if I can make this solution work before I try to make it even better (because there's most likely a better way to do this).</p>\n<p>How do I properly create the dictionary I am trying to create using the enums?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"score":0,"creation_date":1653324927,"post_id":72351818,"comment_id":127819252,"body_markdown":"Specify classpath, that points to your classes: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html","body":"Specify classpath, that points to your classes: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/&hellip;</a>"},{"owner":{"account_id":25367538,"reputation":11,"user_id":19181904,"display_name":"Pequezao"},"score":0,"creation_date":1653328193,"post_id":72351818,"comment_id":127820379,"body_markdown":"While starting the Java application iam using the -classpath option","body":"While starting the Java application iam using the -classpath option"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1653348529,"post_id":72351818,"comment_id":127825599,"body_markdown":"GUESS: Maybe your app is somehow triggering a &quot;file in use&quot; error on the .jar?  Or perhaps multiple app instances are trying to access the same .jar at the same time? No, unless you&#39;re getting an &quot;OutOfMemory&quot; error (or similar), I don&#39;t think there are any JVM parameters that might help...","body":"GUESS: Maybe your app is somehow triggering a &quot;file in use&quot; error on the .jar?  Or perhaps multiple app instances are trying to access the same .jar at the same time? No, unless you&#39;re getting an &quot;OutOfMemory&quot; error (or similar), I don&#39;t think there are any JVM parameters that might help..."},{"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"score":0,"creation_date":1653350141,"post_id":72351818,"comment_id":127825873,"body_markdown":"In what does package does class `personal.licencias.entidades.Salida` belong? Is your `App.jar` a fat (shaded) JAR that contains all its dependencies? Otherwise, `-classpath` should point to other JARs/directories also (as colon-separated entries)","body":"In what does package does class <code>personal.licencias.entidades.Salida</code> belong? Is your <code>App.jar</code> a fat (shaded) JAR that contains all its dependencies? Otherwise, <code>-classpath</code> should point to other JARs/directories also (as colon-separated entries)"}],"owner":{"account_id":25367538,"reputation":11,"user_id":19181904,"display_name":"Pequezao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653347657,"creation_date":1653322960,"question_id":72351818,"body_markdown":"In a desktop application created with netbeans I get `NoClassDefFoundError` errors on classes that were being used without problems. \r\n\r\nThere were no problems when compiling. At runtime, there were no errors for the first hour, or even up to 2 hours, when invoking those same classes. I understand that the error tells us that the definition of some class &quot;disappears&quot; at runtime.\r\n\r\nAny JVM parameter that I should check?\r\nCan the responsible for this behavior be the GC? or could it be something else?\r\n\r\nWhile starting the Java application i am using the `-classpath` option:\r\n```sh\r\njava -classpath P:\\aplicaciones\\App.jar app.Main\r\n```\r\n\r\nThe exception trace:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: personal.licencias.entidades.Salida\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n```","title":"I get java.lang.NoClassDefFoundError after some time running with no problems","body":"<p>In a desktop application created with netbeans I get <code>NoClassDefFoundError</code> errors on classes that were being used without problems.</p>\n<p>There were no problems when compiling. At runtime, there were no errors for the first hour, or even up to 2 hours, when invoking those same classes. I understand that the error tells us that the definition of some class &quot;disappears&quot; at runtime.</p>\n<p>Any JVM parameter that I should check?\nCan the responsible for this behavior be the GC? or could it be something else?</p>\n<p>While starting the Java application i am using the <code>-classpath</code> option:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -classpath P:\\aplicaciones\\App.jar app.Main\n</code></pre>\n<p>The exception trace:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: personal.licencias.entidades.Salida\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n</code></pre>\n"},{"tags":["java","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":395820,"reputation":364,"user_id":758982,"accept_rate":20,"display_name":"Harbeer Kadian"},"score":1,"creation_date":1450792854,"post_id":34417261,"comment_id":56576111,"body_markdown":"You can convert the Date time into long by calling Day.getTime() which returns long telling current time in milliseconds. You can also convert 10 minutes into milliseconds which should be 10*60*1000. Now put some comparison logic on Day.getTime() to find next 10 minute entries.","body":"You can convert the Date time into long by calling Day.getTime() which returns long telling current time in milliseconds. You can also convert 10 minutes into milliseconds which should be 10*60*1000. Now put some comparison logic on Day.getTime() to find next 10 minute entries."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450795113,"creation_date":1450795113,"answer_id":34418302,"question_id":34417261,"body_markdown":"You need to retain state between stream entries and write yourself a grouping classifier. Something like this would be a good start.\r\n\r\n    class Post {\r\n\r\n        private final long time;\r\n        private final String data;\r\n\r\n        public Post(long time, String data) {\r\n            this.time = time;\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Post{&quot; + &quot;time=&quot; + time + &quot;, data=&quot; + data + &#39;}&#39;;\r\n        }\r\n\r\n    }\r\n\r\n    public void test() {\r\n        System.out.println(&quot;Hello&quot;);\r\n        long t = 0;\r\n        List&lt;Post&gt; posts = Arrays.asList(\r\n                new Post(t, &quot;One&quot;),\r\n                new Post(t + 1000, &quot;Two&quot;),\r\n                new Post(t + 10000, &quot;Three&quot;)\r\n        );\r\n        // Group every 5 seconds.\r\n        Map&lt;Long, List&lt;Post&gt;&gt; gouped = posts\r\n                .stream()\r\n                .collect(Collectors.groupingBy(new ClassifyByTimeBetween(5000)));\r\n        gouped.entrySet().stream().forEach((e) -&gt; {\r\n            System.out.println(e.getKey() + &quot; -&gt; &quot; + e.getValue());\r\n        });\r\n\r\n    }\r\n\r\n    class ClassifyByTimeBetween implements Function&lt;Post, Long&gt; {\r\n\r\n        final long delay;\r\n        long currentGroupBy = -1;\r\n        long lastDateSeen = -1;\r\n\r\n        public ClassifyByTimeBetween(long delay) {\r\n            this.delay = delay;\r\n        }\r\n\r\n        @Override\r\n        public Long apply(Post p) {\r\n            if (lastDateSeen &gt;= 0) {\r\n                if (p.time &gt; lastDateSeen + delay) {\r\n                    // Grab this one.\r\n                    currentGroupBy = p.time;\r\n                }\r\n            } else {\r\n                // First time - start there.\r\n                currentGroupBy = p.time;\r\n            }\r\n            lastDateSeen = p.time;\r\n            return currentGroupBy;\r\n        }\r\n\r\n    }\r\n","title":"Complex custom Collector with Java 8","body":"<p>You need to retain state between stream entries and write yourself a grouping classifier. Something like this would be a good start.</p>\n\n<pre><code>class Post {\n\n    private final long time;\n    private final String data;\n\n    public Post(long time, String data) {\n        this.time = time;\n        this.data = data;\n    }\n\n    @Override\n    public String toString() {\n        return \"Post{\" + \"time=\" + time + \", data=\" + data + '}';\n    }\n\n}\n\npublic void test() {\n    System.out.println(\"Hello\");\n    long t = 0;\n    List&lt;Post&gt; posts = Arrays.asList(\n            new Post(t, \"One\"),\n            new Post(t + 1000, \"Two\"),\n            new Post(t + 10000, \"Three\")\n    );\n    // Group every 5 seconds.\n    Map&lt;Long, List&lt;Post&gt;&gt; gouped = posts\n            .stream()\n            .collect(Collectors.groupingBy(new ClassifyByTimeBetween(5000)));\n    gouped.entrySet().stream().forEach((e) -&gt; {\n        System.out.println(e.getKey() + \" -&gt; \" + e.getValue());\n    });\n\n}\n\nclass ClassifyByTimeBetween implements Function&lt;Post, Long&gt; {\n\n    final long delay;\n    long currentGroupBy = -1;\n    long lastDateSeen = -1;\n\n    public ClassifyByTimeBetween(long delay) {\n        this.delay = delay;\n    }\n\n    @Override\n    public Long apply(Post p) {\n        if (lastDateSeen &gt;= 0) {\n            if (p.time &gt; lastDateSeen + delay) {\n                // Grab this one.\n                currentGroupBy = p.time;\n            }\n        } else {\n            // First time - start there.\n            currentGroupBy = p.time;\n        }\n        lastDateSeen = p.time;\n        return currentGroupBy;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450795894,"creation_date":1450795894,"answer_id":34418505,"question_id":34417261,"body_markdown":"This problem could be easily solved using the [`groupRuns`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-) method of my [StreamEx](https://github.com/amaembo/streamex) library:\r\n\r\n    long MAX_INTERVAL = TimeUnit.MINUTES.toMillis(10);\r\n    StreamEx.of(posts)\r\n            .groupRuns((p1, p2) -&gt; p2.time.getTime() - p1.time.getTime() &lt;= MAX_INTERVAL)\r\n            .map(PostsGroup::new)\r\n            .toList();\r\n\r\nI assume that you have a constructor\r\n\r\n    class PostsGroup {\r\n        private List&lt;Post&gt; posts;\r\n\r\n        public PostsGroup(List&lt;Post&gt; posts) {\r\n            this.posts = posts;\r\n        }\r\n    }\r\n\r\nThe `StreamEx.groupRuns` method takes a `BiPredicate` which is applied to two adjacent input elements and returns true if they must be grouped together. This method creates the stream of lists where each list represents the group. This method is lazy and works fine with parallel streams.","title":"Complex custom Collector with Java 8","body":"<p>This problem could be easily solved using the <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-\" rel=\"nofollow\"><code>groupRuns</code></a> method of my <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow\">StreamEx</a> library:</p>\n\n<pre><code>long MAX_INTERVAL = TimeUnit.MINUTES.toMillis(10);\nStreamEx.of(posts)\n        .groupRuns((p1, p2) -&gt; p2.time.getTime() - p1.time.getTime() &lt;= MAX_INTERVAL)\n        .map(PostsGroup::new)\n        .toList();\n</code></pre>\n\n<p>I assume that you have a constructor</p>\n\n<pre><code>class PostsGroup {\n    private List&lt;Post&gt; posts;\n\n    public PostsGroup(List&lt;Post&gt; posts) {\n        this.posts = posts;\n    }\n}\n</code></pre>\n\n<p>The <code>StreamEx.groupRuns</code> method takes a <code>BiPredicate</code> which is applied to two adjacent input elements and returns true if they must be grouped together. This method creates the stream of lists where each list represents the group. This method is lazy and works fine with parallel streams.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653332892,"creation_date":1653332892,"answer_id":72353689,"question_id":34417261,"body_markdown":"Since no one has provided a solution with a *custom collector* as it was required in the original problem statement, here is a *collector-implementation* that groups `Post` objects based on the provided time-interval.\r\n\r\n`Date` class mentioned in the question is obsolete since Java 8 and not recommended to be used in new projects. Hence, `LocalDateTime` will be utilized instead.\r\n\r\n&lt;h3&gt;Post &amp; PostGroup&lt;/h3&gt;\r\n\r\nFor testing purposes, I&#39;ve used `Post` implemented as a Java 16 *record* (*if you substitute it with a class, the overall solution will be fully compliant with Java 8*):\r\n```\r\npublic record Post(LocalDateTime dateTime) {}\r\n```\r\n\r\nAlso, I&#39;ve enhanced the `PostGroup` object. My idea is that it should be capable to decide whether the offered `Post` should be added to the *list of posts* or rejected as the [*Information expert principle*](https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert) suggests (*in short: all manipulations with the data should happen only inside a class to which that data belongs*). \r\n\r\nTo facilitate this functionality, two extra fields were added: `interval` of type [`Duration`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/Duration.html) from the `java.time` package to represent the maximum *interval* between the *earliest post* and the *latest post* in a *group*, and `intervalBound` of type `LocalDateTime` which gets initialized after the first *post* will be added a later on will be used internally by the method `isWithinInterval()` to check whether the offered *post* fits into the *interval*.\r\n\r\n```\r\npublic class PostsGroup {\r\n    private Duration interval;\r\n    private LocalDateTime intervalBound;\r\n    private List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\r\n    \r\n    public PostsGroup(Duration interval) {\r\n        this.interval = interval;\r\n    }\r\n    \r\n    public boolean tryAdd(Post post) {\r\n        if (posts.isEmpty()) {\r\n            intervalBound = post.dateTime().plus(interval);\r\n            return posts.add(post);\r\n        } else if (isWithinInterval(post)) {\r\n            return posts.add(post);\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    public boolean isWithinInterval(Post post) {\r\n        return post.dateTime().isBefore(intervalBound);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        return &quot;PostsGroup{&quot; + posts + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m making two assumptions:\r\n* All posts in the source are sorted by time (if it is not the case, you should introduce `sorted()` operation in the pipeline before collecting the results);\r\n* Posts need to be collected into the minimum number of groups, as a consequence of this it&#39;s not possible to split this task and execute stream in parallel.\r\n\r\n&lt;h3&gt;Building a Custom Collector&lt;/h3&gt;\r\n\r\nWe can create a *custom collector* either inline by using one of the versions of the static method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)) or by defining a `class` that implements the `Collector` interface.\r\n\r\nThese *parameters* have to be provided while creating a *custom collector*:\r\n\r\n* **Supplier** `Supplier&lt;A&gt;` is meant to provide a *mutable container* which store elements of the stream. In this case, `ArrayDeque` (as an implementation of the `Deque` interface) will be handy as a *container* to facilitate the convenient access to the most recently added element, i.e. the latest `PostGroup`.\r\n\r\n* **Accumulator** `BiConsumer&lt;A,T&gt;` defines how to add elements into the *container* provided by the *supplier*. For this task, we need to provide the logic on that will allow determining whether the next element from the stream (i.e. the next `Post`) should go into the last `PostGroup` in the `Deque`, or a new `PostGroup` needs to be allocated for it.\r\n\r\n* **Combiner** `BinaryOperator&lt;A&gt; combiner()` establishes a rule on how to merge two *containers* obtained while executing stream in parallel. Since this operation is treated as not parallelizable, the *combiner* is implemented to throw an `AssertionError` in case of parallel execution.\r\n\r\n* **Finisher** `Function&lt;A,R&gt;` is meant to produce the final result by transforming the mutable container. The *finisher* function in the code below turns the *container*, a *deque* containing the result, into an *immutable list*.\r\n\r\n***Note:*** Java 16 method `toList()` is used inside the *finisher* function, for Java 8 it can be replaced with `collect(Collectors.toUnmodifiableList())` or `collect(Collectors.toList())`.\r\n\r\n* **Characteristics** allow providing additional information, for instance `Collector.Characteristics.UNORDERED` which is used in this case denotes that the order in which partial results of the reduction produced while executing in parallel is not significant. In this case, *collector* doesn&#39;t require any characteristics.\r\n\r\nThe method below is responsible for generating the *collector* based on the provided *interval*.\r\n\r\n    public static Collector&lt;Post, ?, List&lt;PostsGroup&gt;&gt; groupPostsByInterval(Duration interval) {\r\n        \r\n        return Collector.of(\r\n            ArrayDeque::new,\r\n            (Deque&lt;PostsGroup&gt; deque, Post post) -&gt; {\r\n                if (deque.isEmpty() || !deque.getLast().tryAdd(post)) { // if no groups have been created yet or if adding the post into the most recent group fails\r\n                    PostsGroup postsGroup = new PostsGroup(interval);\r\n                    postsGroup.tryAdd(post);\r\n                    deque.addLast(postsGroup);\r\n                }\r\n            },\r\n            (Deque&lt;PostsGroup&gt; left, Deque&lt;PostsGroup&gt; right) -&gt; { throw new AssertionError(&quot;should not be used in parallel&quot;); },\r\n            (Deque&lt;PostsGroup&gt; deque) -&gt; deque.stream().collect(Collectors.collectingAndThen(Collectors.toUnmodifiableList())));\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Post&gt; posts =\r\n            List.of(new Post(LocalDateTime.of(2022,4,28,15,0)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,3)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,5)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,8)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,12)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,15)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,18)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,27)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,48)),\r\n                    new Post(LocalDateTime.of(2022,4,28,15,54)));\r\n        \r\n        Duration interval = Duration.ofMinutes(10);\r\n    \r\n        List&lt;PostsGroup&gt; postsGroups = posts.stream()\r\n            .collect(groupPostsByInterval(interval));\r\n        \r\n        postsGroups.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\nPostsGroup{[Post[dateTime=2022-04-28T15:00], Post[dateTime=2022-04-28T15:03], Post[dateTime=2022-04-28T15:05], Post[dateTime=2022-04-28T15:08]]}\r\nPostsGroup{[Post[dateTime=2022-04-28T15:12], Post[dateTime=2022-04-28T15:15], Post[dateTime=2022-04-28T15:18]]}\r\nPostsGroup{[Post[dateTime=2022-04-28T15:27]]}\r\nPostsGroup{[Post[dateTime=2022-04-28T15:48], Post[dateTime=2022-04-28T15:54]]}\r\n```\r\n\r\n*You can also play around with* [*this Online Demo*](https://www.jdoodle.com/ia/rgd)","title":"Complex custom Collector with Java 8","body":"<p>Since no one has provided a solution with a <em>custom collector</em> as it was required in the original problem statement, here is a <em>collector-implementation</em> that groups <code>Post</code> objects based on the provided time-interval.</p>\n<p><code>Date</code> class mentioned in the question is obsolete since Java 8 and not recommended to be used in new projects. Hence, <code>LocalDateTime</code> will be utilized instead.</p>\n<h3>Post & PostGroup</h3>\n<p>For testing purposes, I've used <code>Post</code> implemented as a Java 16 <em>record</em> (<em>if you substitute it with a class, the overall solution will be fully compliant with Java 8</em>):</p>\n<pre><code>public record Post(LocalDateTime dateTime) {}\n</code></pre>\n<p>Also, I've enhanced the <code>PostGroup</code> object. My idea is that it should be capable to decide whether the offered <code>Post</code> should be added to the <em>list of posts</em> or rejected as the <a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)#Information_expert\" rel=\"nofollow noreferrer\"><em>Information expert principle</em></a> suggests (<em>in short: all manipulations with the data should happen only inside a class to which that data belongs</em>).</p>\n<p>To facilitate this functionality, two extra fields were added: <code>interval</code> of type <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> from the <code>java.time</code> package to represent the maximum <em>interval</em> between the <em>earliest post</em> and the <em>latest post</em> in a <em>group</em>, and <code>intervalBound</code> of type <code>LocalDateTime</code> which gets initialized after the first <em>post</em> will be added a later on will be used internally by the method <code>isWithinInterval()</code> to check whether the offered <em>post</em> fits into the <em>interval</em>.</p>\n<pre><code>public class PostsGroup {\n    private Duration interval;\n    private LocalDateTime intervalBound;\n    private List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n    \n    public PostsGroup(Duration interval) {\n        this.interval = interval;\n    }\n    \n    public boolean tryAdd(Post post) {\n        if (posts.isEmpty()) {\n            intervalBound = post.dateTime().plus(interval);\n            return posts.add(post);\n        } else if (isWithinInterval(post)) {\n            return posts.add(post);\n        }\n        return false;\n    }\n    \n    public boolean isWithinInterval(Post post) {\n        return post.dateTime().isBefore(intervalBound);\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;PostsGroup{&quot; + posts + '}';\n    }\n}\n</code></pre>\n<p>I'm making two assumptions:</p>\n<ul>\n<li>All posts in the source are sorted by time (if it is not the case, you should introduce <code>sorted()</code> operation in the pipeline before collecting the results);</li>\n<li>Posts need to be collected into the minimum number of groups, as a consequence of this it's not possible to split this task and execute stream in parallel.</li>\n</ul>\n<h3>Building a Custom Collector</h3>\n<p>We can create a <em>custom collector</em> either inline by using one of the versions of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> or by defining a <code>class</code> that implements the <code>Collector</code> interface.</p>\n<p>These <em>parameters</em> have to be provided while creating a <em>custom collector</em>:</p>\n<ul>\n<li><p><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. In this case, <code>ArrayDeque</code> (as an implementation of the <code>Deque</code> interface) will be handy as a <em>container</em> to facilitate the convenient access to the most recently added element, i.e. the latest <code>PostGroup</code>.</p>\n</li>\n<li><p><strong>Accumulator</strong> <code>BiConsumer&lt;A,T&gt;</code> defines how to add elements into the <em>container</em> provided by the <em>supplier</em>. For this task, we need to provide the logic on that will allow determining whether the next element from the stream (i.e. the next <code>Post</code>) should go into the last <code>PostGroup</code> in the <code>Deque</code>, or a new <code>PostGroup</code> needs to be allocated for it.</p>\n</li>\n<li><p><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> obtained while executing stream in parallel. Since this operation is treated as not parallelizable, the <em>combiner</em> is implemented to throw an <code>AssertionError</code> in case of parallel execution.</p>\n</li>\n<li><p><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the final result by transforming the mutable container. The <em>finisher</em> function in the code below turns the <em>container</em>, a <em>deque</em> containing the result, into an <em>immutable list</em>.</p>\n</li>\n</ul>\n<p><em><strong>Note:</strong></em> Java 16 method <code>toList()</code> is used inside the <em>finisher</em> function, for Java 8 it can be replaced with <code>collect(Collectors.toUnmodifiableList())</code> or <code>collect(Collectors.toList())</code>.</p>\n<ul>\n<li><strong>Characteristics</strong> allow providing additional information, for instance <code>Collector.Characteristics.UNORDERED</code> which is used in this case denotes that the order in which partial results of the reduction produced while executing in parallel is not significant. In this case, <em>collector</em> doesn't require any characteristics.</li>\n</ul>\n<p>The method below is responsible for generating the <em>collector</em> based on the provided <em>interval</em>.</p>\n<pre><code>public static Collector&lt;Post, ?, List&lt;PostsGroup&gt;&gt; groupPostsByInterval(Duration interval) {\n    \n    return Collector.of(\n        ArrayDeque::new,\n        (Deque&lt;PostsGroup&gt; deque, Post post) -&gt; {\n            if (deque.isEmpty() || !deque.getLast().tryAdd(post)) { // if no groups have been created yet or if adding the post into the most recent group fails\n                PostsGroup postsGroup = new PostsGroup(interval);\n                postsGroup.tryAdd(post);\n                deque.addLast(postsGroup);\n            }\n        },\n        (Deque&lt;PostsGroup&gt; left, Deque&lt;PostsGroup&gt; right) -&gt; { throw new AssertionError(&quot;should not be used in parallel&quot;); },\n        (Deque&lt;PostsGroup&gt; deque) -&gt; deque.stream().collect(Collectors.collectingAndThen(Collectors.toUnmodifiableList())));\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Post&gt; posts =\n        List.of(new Post(LocalDateTime.of(2022,4,28,15,0)),\n                new Post(LocalDateTime.of(2022,4,28,15,3)),\n                new Post(LocalDateTime.of(2022,4,28,15,5)),\n                new Post(LocalDateTime.of(2022,4,28,15,8)),\n                new Post(LocalDateTime.of(2022,4,28,15,12)),\n                new Post(LocalDateTime.of(2022,4,28,15,15)),\n                new Post(LocalDateTime.of(2022,4,28,15,18)),\n                new Post(LocalDateTime.of(2022,4,28,15,27)),\n                new Post(LocalDateTime.of(2022,4,28,15,48)),\n                new Post(LocalDateTime.of(2022,4,28,15,54)));\n    \n    Duration interval = Duration.ofMinutes(10);\n\n    List&lt;PostsGroup&gt; postsGroups = posts.stream()\n        .collect(groupPostsByInterval(interval));\n    \n    postsGroups.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>PostsGroup{[Post[dateTime=2022-04-28T15:00], Post[dateTime=2022-04-28T15:03], Post[dateTime=2022-04-28T15:05], Post[dateTime=2022-04-28T15:08]]}\nPostsGroup{[Post[dateTime=2022-04-28T15:12], Post[dateTime=2022-04-28T15:15], Post[dateTime=2022-04-28T15:18]]}\nPostsGroup{[Post[dateTime=2022-04-28T15:27]]}\nPostsGroup{[Post[dateTime=2022-04-28T15:48], Post[dateTime=2022-04-28T15:54]]}\n</code></pre>\n<p><em>You can also play around with</em> <a href=\"https://www.jdoodle.com/ia/rgd\" rel=\"nofollow noreferrer\"><em>this Online Demo</em></a></p>\n"}],"owner":{"account_id":996936,"reputation":4882,"user_id":1012646,"accept_rate":47,"display_name":"Ido Barash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2098,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1653347142,"creation_date":1450791773,"question_id":34417261,"body_markdown":"I have a stream of objects which I would like to collect the following way.\r\n\r\nLet&#39;s say we are handling forum *posts*:\r\n\r\n    class Post {\r\n        private Date time;\r\n        private Data data\r\n    }\r\n\r\nI want to create a list which groups *posts* by a period. If there were no *posts* for `X` minutes, create a *new group*.\r\n\r\n    class PostsGroup{\r\n        List&lt;Post&gt; posts = new ArrayList&lt;&gt; ();\r\n    }\r\n\r\nI want to get a `List&lt;PostGroups&gt;` containing the *posts* grouped by the interval.\r\n\r\n*Example:* interval of `10` minutes.\r\n\r\n*Posts:*\r\n\r\n    [{time:x, data:{}}, {time:x + 3, data:{}} , {time:x + 12, data:{}, {time:x + 45, data:{}}}]\r\n\r\nI want to get a list of *posts group*:\r\n\r\n    [\r\n     {posts : [{time:x, data:{}}, {time:x + 3, data:{}}, {time:x + 12, data:{}]]},\r\n    {posts : [{time:x + 45, data:{}]}\r\n    ]\r\n\r\n* notice that the first *group* lasted till `X + 22`. Then a *new post* was received at `X + 45`.\r\n\r\n\r\nIs this possible?","title":"Complex custom Collector with Java 8","body":"<p>I have a stream of objects which I would like to collect the following way.</p>\n<p>Let's say we are handling forum <em>posts</em>:</p>\n<pre><code>class Post {\n    private Date time;\n    private Data data\n}\n</code></pre>\n<p>I want to create a list which groups <em>posts</em> by a period. If there were no <em>posts</em> for <code>X</code> minutes, create a <em>new group</em>.</p>\n<pre><code>class PostsGroup{\n    List&lt;Post&gt; posts = new ArrayList&lt;&gt; ();\n}\n</code></pre>\n<p>I want to get a <code>List&lt;PostGroups&gt;</code> containing the <em>posts</em> grouped by the interval.</p>\n<p><em>Example:</em> interval of <code>10</code> minutes.</p>\n<p><em>Posts:</em></p>\n<pre><code>[{time:x, data:{}}, {time:x + 3, data:{}} , {time:x + 12, data:{}, {time:x + 45, data:{}}}]\n</code></pre>\n<p>I want to get a list of <em>posts group</em>:</p>\n<pre><code>[\n {posts : [{time:x, data:{}}, {time:x + 3, data:{}}, {time:x + 12, data:{}]]},\n{posts : [{time:x + 45, data:{}]}\n]\n</code></pre>\n<ul>\n<li>notice that the first <em>group</em> lasted till <code>X + 22</code>. Then a <em>new post</em> was received at <code>X + 45</code>.</li>\n</ul>\n<p>Is this possible?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653343332,"post_id":72355219,"comment_id":127824699,"body_markdown":"Use a common base class?","body":"Use a common base class?"},{"owner":{"account_id":16537225,"reputation":13,"user_id":11948878,"display_name":"dantix93"},"score":0,"creation_date":1653343425,"post_id":72355219,"comment_id":127824712,"body_markdown":"Can you give me a toy example?","body":"Can you give me a toy example?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653344431,"post_id":72355219,"comment_id":127824895,"body_markdown":"It&#39;s hard to give a concrete answer without a concrete question.","body":"It&#39;s hard to give a concrete answer without a concrete question."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653346950,"creation_date":1653344595,"answer_id":72355394,"question_id":72355219,"body_markdown":"Create a generic abstract type; either a super class or an interface:\r\n\r\n    public interface GenericClass&lt;T&gt; {\r\n        public T getTipe();\r\n        public void setValue(String s);\r\n        public void setValue2(String s);\r\n    }\r\n\r\nHave your implementation classes implement it:\r\n\r\n    public class Class1 implements GenericClass&lt;Tipe1&gt; {\r\n        // leave implementation as is\r\n    }\r\n\r\n    public class Class2 implements GenericClass&lt;Tipe2&gt; {\r\n        // leave implementation as is\r\n    }\r\n\r\nAnd type your method:\r\n\r\n    private &lt;T&gt; GenericClass&lt;T&gt; myMethod(GenericClass&lt;T&gt; genericClass){\r\n        T tipe = genericClass.getTipe();\r\n        genericClass.setValue(&quot;foo&quot;);\r\n        genericClass.setValue2(&quot;foo&quot;);\r\n        // some logic\r\n        return genericClass;\r\n    }\r\n\r\nIf `Tipe1` and `Tipe2` share a common type, you can type them too:\r\n\r\n    public interface GenericClass&lt;T extends SomeTipe&gt; {","title":"Create a generic method with generic signature","body":"<p>Create a generic abstract type; either a super class or an interface:</p>\n<pre><code>public interface GenericClass&lt;T&gt; {\n    public T getTipe();\n    public void setValue(String s);\n    public void setValue2(String s);\n}\n</code></pre>\n<p>Have your implementation classes implement it:</p>\n<pre><code>public class Class1 implements GenericClass&lt;Tipe1&gt; {\n    // leave implementation as is\n}\n\npublic class Class2 implements GenericClass&lt;Tipe2&gt; {\n    // leave implementation as is\n}\n</code></pre>\n<p>And type your method:</p>\n<pre><code>private &lt;T&gt; GenericClass&lt;T&gt; myMethod(GenericClass&lt;T&gt; genericClass){\n    T tipe = genericClass.getTipe();\n    genericClass.setValue(&quot;foo&quot;);\n    genericClass.setValue2(&quot;foo&quot;);\n    // some logic\n    return genericClass;\n}\n</code></pre>\n<p>If <code>Tipe1</code> and <code>Tipe2</code> share a common type, you can type them too:</p>\n<pre><code>public interface GenericClass&lt;T extends SomeTipe&gt; {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17526624,"reputation":61,"user_id":12711582,"display_name":"Yasin Uyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653344810,"creation_date":1653344810,"answer_id":72355416,"question_id":72355219,"body_markdown":"    public class MyClass {\r\n        public static void main(String args[]) {\r\n          \r\n            Class1 c1 = new Class1();\r\n            \r\n            Class2 c2 = new Class2();\r\n    \r\n            GenericClass gc = myMethod(c1);\r\n            \r\n            System.out.println(gc);\r\n        }\r\n        \r\n        private static GenericClass myMethod(GenericClass genericClass){\r\n            genericClass.getTipe(); //tipe1 or tipe2\r\n            genericClass.setValue(&quot;foo&quot;);\r\n            genericClass.setValue2(&quot;foo&quot;);\r\n            //some logic\r\n            return genericClass;\r\n        }\r\n    }\r\n    \r\n    class Class1 extends GenericClass&lt;Tipe1&gt;{\r\n    \r\n    }\r\n    \r\n    class Class2 extends GenericClass&lt;Tipe2&gt;{\r\n    \r\n    }\r\n    \r\n    class Tipe1 {\r\n        \r\n    }\r\n    class Tipe2 {\r\n        \r\n    }\r\n    \r\n    class GenericClass&lt;T&gt; implements Tipe&lt;T&gt; {\r\n        private String value;\r\n        private String value2;\r\n        private T t;\r\n        \r\n        public T getTipe() {\r\n            return t;\r\n        }\r\n        \r\n        void setValue(String s) {\r\n            value = s;\r\n        }\r\n        void setValue2(String s) {\r\n            value2 = s;\r\n        }\r\n    }\r\n    \r\n    interface Tipe&lt;T&gt; {\r\n        public T getTipe();\r\n    }\r\n\r\nor you can cast to parent class like:\r\n\r\n    GenericClass gc = new Class2();","title":"Create a generic method with generic signature","body":"<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      \n        Class1 c1 = new Class1();\n        \n        Class2 c2 = new Class2();\n\n        GenericClass gc = myMethod(c1);\n        \n        System.out.println(gc);\n    }\n    \n    private static GenericClass myMethod(GenericClass genericClass){\n        genericClass.getTipe(); //tipe1 or tipe2\n        genericClass.setValue(&quot;foo&quot;);\n        genericClass.setValue2(&quot;foo&quot;);\n        //some logic\n        return genericClass;\n    }\n}\n\nclass Class1 extends GenericClass&lt;Tipe1&gt;{\n\n}\n\nclass Class2 extends GenericClass&lt;Tipe2&gt;{\n\n}\n\nclass Tipe1 {\n    \n}\nclass Tipe2 {\n    \n}\n\nclass GenericClass&lt;T&gt; implements Tipe&lt;T&gt; {\n    private String value;\n    private String value2;\n    private T t;\n    \n    public T getTipe() {\n        return t;\n    }\n    \n    void setValue(String s) {\n        value = s;\n    }\n    void setValue2(String s) {\n        value2 = s;\n    }\n}\n\ninterface Tipe&lt;T&gt; {\n    public T getTipe();\n}\n</code></pre>\n<p>or you can cast to parent class like:</p>\n<pre><code>GenericClass gc = new Class2();\n</code></pre>\n"}],"owner":{"account_id":16537225,"reputation":13,"user_id":11948878,"display_name":"dantix93"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72355394,"answer_count":2,"score":0,"last_activity_date":1653346950,"creation_date":1653343277,"question_id":72355219,"body_markdown":"i have some redundant code that i would like to remove, my goal would be to create a method of this kind:\r\n\r\n    private GenericClass myMethod(GenericClass genericClass){\r\n        genericClass.getTipe(); //tipe1 or tipe2\r\n        genericClass.setValue(&quot;foo&quot;);\r\n        genericClass.setValue2(&quot;foo&quot;);\r\n        //some logic\r\n        return genericClass;\r\n    \r\n    }\r\nWhere this method can pass two similar classes but which differ in the type of an attribute\r\n\r\n    public class Class1{\r\n       private Tipe1 tipe1;\r\n       private String value; \r\n       private String value2;\r\n       //Constructor,Getter and Setter\r\n    }\r\n\r\n    public class Class2{\r\n       private Tipe2 tipe2;\r\n       private String value; \r\n       private String value2;\r\n       //Constructor,Getter and Setter\r\n    }\r\n    \r\n\r\nWhat I would like to do is call the method \r\n\r\n&gt; someServiceIml.myMethod (&quot;Foo&quot;)\r\n\r\npassing either an object of type `Class1` or `Class2` according to my needs, the business logic behind `myMethod` is practically the same.\r\n\r\nThis method i wish it was in the same implementation of a certain service, could you give me some solution?","title":"Create a generic method with generic signature","body":"<p>i have some redundant code that i would like to remove, my goal would be to create a method of this kind:</p>\n<pre><code>private GenericClass myMethod(GenericClass genericClass){\n    genericClass.getTipe(); //tipe1 or tipe2\n    genericClass.setValue(&quot;foo&quot;);\n    genericClass.setValue2(&quot;foo&quot;);\n    //some logic\n    return genericClass;\n\n}\n</code></pre>\n<p>Where this method can pass two similar classes but which differ in the type of an attribute</p>\n<pre><code>public class Class1{\n   private Tipe1 tipe1;\n   private String value; \n   private String value2;\n   //Constructor,Getter and Setter\n}\n\npublic class Class2{\n   private Tipe2 tipe2;\n   private String value; \n   private String value2;\n   //Constructor,Getter and Setter\n}\n</code></pre>\n<p>What I would like to do is call the method</p>\n<blockquote>\n<p>someServiceIml.myMethod (&quot;Foo&quot;)</p>\n</blockquote>\n<p>passing either an object of type <code>Class1</code> or <code>Class2</code> according to my needs, the business logic behind <code>myMethod</code> is practically the same.</p>\n<p>This method i wish it was in the same implementation of a certain service, could you give me some solution?</p>\n"},{"tags":["java","php","mysql","connection"],"comments":[{"owner":{"account_id":2844417,"reputation":2457,"user_id":2443226,"display_name":"Honk der Hase"},"score":0,"creation_date":1653332125,"post_id":72353518,"comment_id":127821737,"body_markdown":"The error message says, that the user (in the database) is not allowed to login, eg. a rights issue with the user, not a network related problem. If that was the case, you&#39;d get something like &quot;connection refused&quot; or so","body":"The error message says, that the user (in the database) is not allowed to login, eg. a rights issue with the user, not a network related problem. If that was the case, you&#39;d get something like &quot;connection refused&quot; or so"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653332203,"post_id":72353518,"comment_id":127821759,"body_markdown":"Is the php client running on exactly the same box as the Java client and are you using exactly the same credentials?","body":"Is the php client running on exactly the same box as the Java client and are you using exactly the same credentials?"},{"owner":{"account_id":25368641,"reputation":19,"user_id":19182839,"display_name":"SteNafH"},"score":0,"creation_date":1653336469,"post_id":72353518,"comment_id":127822928,"body_markdown":"I use the exact same credentials, I don&#39;t understand what you mean by &#39;box&#39; but both clients are running on the exact same pc if that is what you are asking.","body":"I use the exact same credentials, I don&#39;t understand what you mean by &#39;box&#39; but both clients are running on the exact same pc if that is what you are asking."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1653339478,"post_id":72353518,"comment_id":127823767,"body_markdown":"&quot;box&quot; is a slang word for a PC, so yes that&#39;s what g00se is saying.","body":"&quot;box&quot; is a slang word for a PC, so yes that&#39;s what g00se is saying."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1653339525,"post_id":72353518,"comment_id":127823781,"body_markdown":"Please [edit] the question to show the full error message, not an abbreviated version.","body":"Please <a href=\"https://stackoverflow.com/posts/72353518/edit\">edit</a> the question to show the full error message, not an abbreviated version."}],"owner":{"account_id":25368641,"reputation":19,"user_id":19182839,"display_name":"SteNafH"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653345520,"creation_date":1653331746,"question_id":72353518,"body_markdown":"When I try to connect to a remote database using PHP I get an error saying: &#39;Access denied for user: ...&#39;\r\nI am new to PHP and I don&#39;t know if my code is correct, here is the code I am using.\r\n\r\n```\r\n&lt;?php\r\n$host = &#39;adress:port&#39;;\r\n$username = &#39;username&#39;;\r\n$password = &#39;password&#39;;\r\n$dbname = &#39;name&#39;\r\n\r\n$con = new mysqli($host, $username, $password, $dbname);\r\n\r\nif($con-&gt;connect_errno){\r\n    die(&#39;Error &#39; . $this-&gt;con-&gt;connect_error);\r\n}\r\necho &#39;Connected successfully!&#39;;\r\n?&gt;\r\n```\r\nAll the variables are correct.\r\nWhen I try the following code in Java I do have acces to said database.\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.Properties;\r\n\r\nclass MySQLConnect {\r\n    private final String DATABASE_URL = &quot;jdbc:mysql://adress:port/name&quot;;\r\n    private final String USERNAME = &quot;username&quot;;\r\n    private final String PASSWORD = &quot;password&quot;;\r\n\r\n    private Connection connection;\r\n    private Properties properties;\r\n\r\n    public MySQLConnect() {\r\n    }\r\n\r\n    private Properties getProperties() {\r\n        if (properties == null) {\r\n            properties = new Properties();\r\n            properties.setProperty(&quot;user&quot;, USERNAME);\r\n            properties.setProperty(&quot;password&quot;, PASSWORD);\r\n        }\r\n        return properties;\r\n    }\r\n\r\n    public Connection connect() {\r\n        if (connection == null) {\r\n            try {\r\n                connection = DriverManager.getConnection(DATABASE_URL, getProperties());\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }\r\n\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Connection mySQLConnect = new MySQLConnect().connect();\r\n        System.out.println(mySQLConnect);\r\n    }\r\n}\r\n```\r\nI know I have access to the database and I have permissions to login, but I can&#39;t seem to figure out how to connect with it in PHP. I have written the password and username correct, and I have tried alot of combinations for the $host variable but all of them do not work. Am I doing something wrong?","title":"PHP connection to remote MySQL database acces denied, but it does work in Java","body":"<p>When I try to connect to a remote database using PHP I get an error saying: 'Access denied for user: ...'\nI am new to PHP and I don't know if my code is correct, here is the code I am using.</p>\n<pre><code>&lt;?php\n$host = 'adress:port';\n$username = 'username';\n$password = 'password';\n$dbname = 'name'\n\n$con = new mysqli($host, $username, $password, $dbname);\n\nif($con-&gt;connect_errno){\n    die('Error ' . $this-&gt;con-&gt;connect_error);\n}\necho 'Connected successfully!';\n?&gt;\n</code></pre>\n<p>All the variables are correct.\nWhen I try the following code in Java I do have acces to said database.</p>\n<pre><code>import java.sql.*;\nimport java.util.Properties;\n\nclass MySQLConnect {\n    private final String DATABASE_URL = &quot;jdbc:mysql://adress:port/name&quot;;\n    private final String USERNAME = &quot;username&quot;;\n    private final String PASSWORD = &quot;password&quot;;\n\n    private Connection connection;\n    private Properties properties;\n\n    public MySQLConnect() {\n    }\n\n    private Properties getProperties() {\n        if (properties == null) {\n            properties = new Properties();\n            properties.setProperty(&quot;user&quot;, USERNAME);\n            properties.setProperty(&quot;password&quot;, PASSWORD);\n        }\n        return properties;\n    }\n\n    public Connection connect() {\n        if (connection == null) {\n            try {\n                connection = DriverManager.getConnection(DATABASE_URL, getProperties());\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Connection mySQLConnect = new MySQLConnect().connect();\n        System.out.println(mySQLConnect);\n    }\n}\n</code></pre>\n<p>I know I have access to the database and I have permissions to login, but I can't seem to figure out how to connect with it in PHP. I have written the password and username correct, and I have tried alot of combinations for the $host variable but all of them do not work. Am I doing something wrong?</p>\n"},{"tags":["java","splunk","open-telemetry"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1653347166,"post_id":72342345,"comment_id":127825351,"body_markdown":"I would use standard OTEL java agent - Lightstep and Splunk support OTLP protocol, so you don&#39;t need to use their legacy java agents anymore.","body":"I would use standard OTEL java agent - Lightstep and Splunk support OTLP protocol, so you don&#39;t need to use their legacy java agents anymore."},{"owner":{"account_id":1744816,"reputation":3,"user_id":1595278,"display_name":"atsyn"},"score":0,"creation_date":1654160704,"post_id":72342345,"comment_id":128026911,"body_markdown":"would you know if there is also a support for OTLP exporter (not using collector) using AppDynamics?","body":"would you know if there is also a support for OTLP exporter (not using collector) using AppDynamics?"}],"answers":[{"tags":[],"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653313297,"creation_date":1653313297,"answer_id":72349586,"question_id":72342345,"body_markdown":"Use https://github.com/open-telemetry/opentelemetry-java-instrumentation and use OTLP exporter which will be pointed to Splunk APM (of course us version, which already has OTLP support).","title":"Is there a way to use OpenTelemetry with Splunk without using a Collector using Java?","body":"<p>Use <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation</a> and use OTLP exporter which will be pointed to Splunk APM (of course us version, which already has OTLP support).</p>\n"}],"owner":{"account_id":1744816,"reputation":3,"user_id":1595278,"display_name":"atsyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72349586,"answer_count":1,"score":0,"last_activity_date":1653344549,"creation_date":1653268160,"question_id":72342345,"body_markdown":"I am working on some POC to use open telemetry with Splunk using Java. What I am looking for is to directly upload the open telemetry data to my local Splunk and later on in the Splunk cloud. \r\n\r\nThis was possible using the LightStep OpenTel Java Agent. I am looking for that same thing with Splunk. \r\n\r\n    java \\\r\n    -Dotel.service.name=my-app \\\r\n    -Dls.access.token=my-token \\\r\n    -javaagent:lightstep-opentelemetry-javaagent.jar \\\r\n    -jar my-java-app.jar\r\n\r\nmy-app : is the one i configured from LightStep (https://lightstep.com/)\r\nmy-token : is the token for my app also from the website.\r\n\r\nI am hoping someone could point me to a similar POC / documentation related to this. With LightStep, the process was seamless to just directly connect and upload. Splunk documentation is suggesting to use a collector which is really my last option because I cannot install another app/software that runs in the background for my POC. \r\n\r\nThanks in advance!\r\n\r\n- - - - \r\n\r\nThis one worked and was able to upload to Splunk APM (not the regular Splunk)\r\n\r\n    java \\\r\n    -Dotel.exporter.otlp.endpoint=https://ingest.&lt;realm&gt;.signalfx.com \\\r\n    -Dsplunk.access.token=&lt;token from splunk apm&gt; \\\r\n    -Dotel.service.name=app-service-name \\\r\n    -Dsplunk.metrics.enabled=true \\\r\n    -javaagent:splunk-otel-javaagent.jar \\\r\n    -jar app.jar\r\n\r\n","title":"Is there a way to use OpenTelemetry with Splunk without using a Collector using Java?","body":"<p>I am working on some POC to use open telemetry with Splunk using Java. What I am looking for is to directly upload the open telemetry data to my local Splunk and later on in the Splunk cloud.</p>\n<p>This was possible using the LightStep OpenTel Java Agent. I am looking for that same thing with Splunk.</p>\n<pre><code>java \\\n-Dotel.service.name=my-app \\\n-Dls.access.token=my-token \\\n-javaagent:lightstep-opentelemetry-javaagent.jar \\\n-jar my-java-app.jar\n</code></pre>\n<p>my-app : is the one i configured from LightStep (<a href=\"https://lightstep.com/\" rel=\"nofollow noreferrer\">https://lightstep.com/</a>)\nmy-token : is the token for my app also from the website.</p>\n<p>I am hoping someone could point me to a similar POC / documentation related to this. With LightStep, the process was seamless to just directly connect and upload. Splunk documentation is suggesting to use a collector which is really my last option because I cannot install another app/software that runs in the background for my POC.</p>\n<p>Thanks in advance!</p>\n<hr />\n<p>This one worked and was able to upload to Splunk APM (not the regular Splunk)</p>\n<pre><code>java \\\n-Dotel.exporter.otlp.endpoint=https://ingest.&lt;realm&gt;.signalfx.com \\\n-Dsplunk.access.token=&lt;token from splunk apm&gt; \\\n-Dotel.service.name=app-service-name \\\n-Dsplunk.metrics.enabled=true \\\n-javaagent:splunk-otel-javaagent.jar \\\n-jar app.jar\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":2,"creation_date":1454908432,"post_id":35262690,"comment_id":58237283,"body_markdown":"`Clean-Rebuild-Restart` &amp; import  `import  PackageName.R `","body":"<code>Clean-Rebuild-Restart</code> &amp; import  <code>import  PackageName.R </code>"},{"owner":{"account_id":4300291,"reputation":2427,"user_id":3514144,"accept_rate":17,"display_name":"Ajay Pandya"},"score":0,"creation_date":1454908582,"post_id":35262690,"comment_id":58237330,"body_markdown":"make sure all resource as same package in manifest .mainactivity is with red sign?","body":"make sure all resource as same package in manifest .mainactivity is with red sign?"},{"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"score":1,"creation_date":1454909110,"post_id":35262690,"comment_id":58237503,"body_markdown":"When you build your project there is no warning or error? Also try to close and open AS again, sometimes that works for me","body":"When you build your project there is no warning or error? Also try to close and open AS again, sometimes that works for me"},{"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"score":1,"creation_date":1454909313,"post_id":35262690,"comment_id":58237561,"body_markdown":"Did you check are there any errors in xml files, Then cleaning the project and running should fix this !","body":"Did you check are there any errors in xml files, Then cleaning the project and running should fix this !"},{"owner":{"account_id":7090608,"reputation":223,"user_id":5425900,"accept_rate":0,"display_name":"Adam Goldberg"},"score":0,"creation_date":1454909546,"post_id":35262690,"comment_id":58237642,"body_markdown":"Cleaning and running isn&#39;t fixing the problem. There are no errors in the xml. the only error is coming form the symbol R","body":"Cleaning and running isn&#39;t fixing the problem. There are no errors in the xml. the only error is coming form the symbol R"}],"answers":[{"tags":[],"owner":{"account_id":6673420,"reputation":12359,"user_id":5148907,"accept_rate":67,"display_name":"JAAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454908455,"creation_date":1454908455,"answer_id":35262731,"question_id":35262690,"body_markdown":"probably your gradle sync failed , that is why it cannot be resolved resync the gradle or you have not imported `yourpackagename.R`;  ","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>probably your gradle sync failed , that is why it cannot be resolved resync the gradle or you have not imported <code>yourpackagename.R</code>;  </p>\n"},{"tags":[],"owner":{"account_id":5381258,"reputation":1907,"user_id":4286411,"accept_rate":62,"display_name":"ojus kulkarni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454909222,"creation_date":1454909222,"answer_id":35262854,"question_id":35262690,"body_markdown":"`R` is predefined class in android.\r\nyou should clean your project and then build it again. it will resolve `R`.\r\n","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p><code>R</code> is predefined class in android.\nyou should clean your project and then build it again. it will resolve <code>R</code>.</p>\n"},{"tags":[],"owner":{"account_id":7192249,"reputation":165,"user_id":5492131,"accept_rate":17,"display_name":"UserName_Untold"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454915413,"creation_date":1454915413,"answer_id":35264094,"question_id":35262690,"body_markdown":"&#39;cannot resolve symbol R&#39; error usually occurs and the &#39;symbol R&#39; turns red in color whenever the gradle sync is not completed. \r\nHence before running any project it is always advisable to first sync the project if any dependencies or anything have been added and then clean the project and then run it.\r\n\r\nIt should solve your problem. ","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>'cannot resolve symbol R' error usually occurs and the 'symbol R' turns red in color whenever the gradle sync is not completed. \nHence before running any project it is always advisable to first sync the project if any dependencies or anything have been added and then clean the project and then run it.</p>\n\n<p>It should solve your problem. </p>\n"},{"tags":[],"owner":{"account_id":11317904,"reputation":11,"user_id":8299066,"display_name":"Franklin Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534091692,"creation_date":1534090623,"answer_id":51810632,"question_id":35262690,"body_markdown":"Go to the file directory.\r\n\r\n 1. Click &quot;app&quot;\r\n 2. Click &quot;com.example.?????&quot;\r\n 3. Right Click\r\n 4. Hover over &quot;New&quot;\r\n 5. Click on &quot;Java Class&quot;\r\n 6. Name the file &quot;R&quot; and leave the other things blank &amp; accept the defaults\r\n 7. Click OK  \r\n You have finished the first part!\r\n 8. Click File\r\n 9. Hover over &quot;New&quot;\r\n 10. Click &quot;New Project&quot;\r\n 11. Accept all defaults until you&#39;ve reached the layout xml file\r\n 12. Click &quot;app&quot;\r\n 13. Click &quot;com.example.android.?????&quot;\r\n 14. Click &quot;R&quot;\r\n 15. Select all\r\n 16. Go back to your old file\r\n 17. Paste\r\n 18. Finished!\r\n\r\n","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>Go to the file directory.</p>\n\n<ol>\n<li>Click \"app\"</li>\n<li>Click \"com.example.?????\"</li>\n<li>Right Click</li>\n<li>Hover over \"New\"</li>\n<li>Click on \"Java Class\"</li>\n<li>Name the file \"R\" and leave the other things blank &amp; accept the defaults</li>\n<li>Click OK<br>\nYou have finished the first part!</li>\n<li>Click File</li>\n<li>Hover over \"New\"</li>\n<li>Click \"New Project\"</li>\n<li>Accept all defaults until you've reached the layout xml file</li>\n<li>Click \"app\"</li>\n<li>Click \"com.example.android.?????\"</li>\n<li>Click \"R\"</li>\n<li>Select all</li>\n<li>Go back to your old file</li>\n<li>Paste</li>\n<li>Finished!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8416493,"reputation":922,"user_id":6316770,"display_name":"Sos."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546785309,"creation_date":1546611230,"answer_id":54040641,"question_id":35262690,"body_markdown":"Only this solution worked for me:\r\n\r\n1- Go to your app directory -&gt; /app/src/main/res/ \r\n\r\n2- Delete folder XML (***Make sure that you don&#39;t have important files inside it***)\r\n\r\n","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>Only this solution worked for me:</p>\n\n<p>1- Go to your app directory -> /app/src/main/res/ </p>\n\n<p>2- Delete folder XML (<strong><em>Make sure that you don't have important files inside it</em></strong>)</p>\n"},{"tags":[],"owner":{"account_id":2075020,"reputation":4964,"user_id":1848639,"accept_rate":73,"display_name":"Tushar Monirul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548061598,"creation_date":1548061598,"answer_id":54286504,"question_id":35262690,"body_markdown":"Another solution, If anyone need it\r\n\r\nI was using gradle 3.3.0. It was the main culprit. Wasted 6.50 hours from my life. Gradle 3.2.1 removed the error.\r\n\r\n    classpath &#39;com.android.tools.build:gradle:3.2.1&#39;","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>Another solution, If anyone need it</p>\n\n<p>I was using gradle 3.3.0. It was the main culprit. Wasted 6.50 hours from my life. Gradle 3.2.1 removed the error.</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.2.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6122526,"reputation":1,"user_id":4775632,"display_name":"Gary Hayes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653344403,"creation_date":1653344403,"answer_id":72355368,"question_id":35262690,"body_markdown":"Also i just found out if you have used an updated version of android studio like 4.2.2 and you want to go back to android studio 3.2.1 for example... the constraint layouts can also cause issues.\r\nif you delete the constraints to each one like:\r\napp:layout_constraintStart_toStartOf=&quot;parent&quot; for one example it would successfully sync and this problem would be solved","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>Also i just found out if you have used an updated version of android studio like 4.2.2 and you want to go back to android studio 3.2.1 for example... the constraint layouts can also cause issues.\nif you delete the constraints to each one like:\napp:layout_constraintStart_toStartOf=&quot;parent&quot; for one example it would successfully sync and this problem would be solved</p>\n"}],"owner":{"account_id":7090608,"reputation":223,"user_id":5425900,"accept_rate":0,"display_name":"Adam Goldberg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":7,"score":0,"last_activity_date":1653344403,"creation_date":1454908205,"question_id":35262690,"body_markdown":"Execution failed for task :`app:mergeDebugResources`.\r\nWhat is this error and how to I fix it?\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;!-- ATTENTION: This was auto-generated to add Google Play services to your project for\r\n             App Indexing.  See https://g.co/AppIndexing/AndroidStudio for more information. --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.version&quot;\r\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\nThis is my xml above... and below is `onCreate()` where         `setContentView(R.layout.activity_main)`\r\nis causing the problem: \r\n\r\n&gt; cannot resolve symbol R\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\r\n        provider = locationManager.getBestProvider(new Criteria(), false);\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\r\n    }","title":"&#39;cannot resolve symbol R&#39; android studio error","body":"<p>Execution failed for task :<code>app:mergeDebugResources</code>.\nWhat is this error and how to I fix it?</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;!-- ATTENTION: This was auto-generated to add Google Play services to your project for\n         App Indexing.  See https://g.co/AppIndexing/AndroidStudio for more information. --&gt;\n    &lt;meta-data\n        android:name=\"com.google.android.gms.version\"\n        android:value=\"@integer/google_play_services_version\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>This is my xml above... and below is <code>onCreate()</code> where         <code>setContentView(R.layout.activity_main)</code>\nis causing the problem: </p>\n\n<blockquote>\n  <p>cannot resolve symbol R</p>\n</blockquote>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n\n    provider = locationManager.getBestProvider(new Criteria(), false);\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653372189,"post_id":72355309,"comment_id":127829154,"body_markdown":"Apparently the document doesn&#39;t contain a boolean but a `Y` or `N` like the other fields. Which cannot be converted to a boolean only `true`/`false`. SO it probably needs to be the enum type `YesNoType` as well.","body":"Apparently the document doesn&#39;t contain a boolean but a <code>Y</code> or <code>N</code> like the other fields. Which cannot be converted to a boolean only <code>true</code>/<code>false</code>. SO it probably needs to be the enum type <code>YesNoType</code> as well."},{"owner":{"account_id":22446131,"reputation":3,"user_id":16650028,"display_name":"ashish pandey"},"score":0,"creation_date":1653377620,"post_id":72355309,"comment_id":127830804,"body_markdown":"@M.Deinum thanks for the help! you pointed out correctly. My document doesn&#39;t contain a boolean but a Y or N so after changing the isBestSellingProduct  to false or changing isBestSellingProduct type to YesNoType error is gone and working like a charm.","body":"@M.Deinum thanks for the help! you pointed out correctly. My document doesn&#39;t contain a boolean but a Y or N so after changing the isBestSellingProduct  to false or changing isBestSellingProduct type to YesNoType error is gone and working like a charm."}],"owner":{"account_id":22446131,"reputation":3,"user_id":16650028,"display_name":"ashish pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653344358,"creation_date":1653343904,"question_id":72355309,"body_markdown":"Strange behaviour i am observing while fetching the Document from MongoDb using  Query and Criteria i am getting the error org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [boolean] for value &#39;N&#39;\r\n\r\n\r\n    Query query = new Query();\r\n\t\t\tquery.addCriteria(\r\n\t\t\t\t\tCriteria.where(&quot;salesDate&quot;).lt(new Date()).and(&quot;productStatus.isOfflineProduct&quot;)\r\n\t\t\t\t\t\t\t.is(YesNoType.N.name()).and(&quot;productStatus.isVisibleProduct&quot;).is(YesNoType.N.name()));\r\n\r\n\t\t\tList&lt;Product&gt; products = mongoTemplate.query(Product.class).matching(query).all();\r\n\r\nEnum type\r\n```\r\npublic enum YesNoType {\r\n\tY, N\r\n}\r\n```\r\nProductStatus.java\r\n\r\n```\r\n\r\n@Data\r\npublic class ProductStatus {\r\n\r\n\tprivate boolean isBestSellingProduct;\r\n\tprivate YesNoType isOfflineProduct;\r\n\tprivate YesNoType isVisibleProduct;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Document(collection = &quot;product&quot;)\r\npublic class Product {\r\n\r\n@Id\r\nprivate String id;\r\nprivate ProductStatus productStatus;\r\n\r\n}\r\n```\r\nCould anyone point out whats wrong with my query and with the class ProductStatus.java since after removing the isBestSellingProduct boolean field this code works fine.\r\n","title":"org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [boolean] for value &#39;N&#39;;","body":"<p>Strange behaviour i am observing while fetching the Document from MongoDb using  Query and Criteria i am getting the error org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [boolean] for value 'N'</p>\n<pre><code>Query query = new Query();\n        query.addCriteria(\n                Criteria.where(&quot;salesDate&quot;).lt(new Date()).and(&quot;productStatus.isOfflineProduct&quot;)\n                        .is(YesNoType.N.name()).and(&quot;productStatus.isVisibleProduct&quot;).is(YesNoType.N.name()));\n\n        List&lt;Product&gt; products = mongoTemplate.query(Product.class).matching(query).all();\n</code></pre>\n<p>Enum type</p>\n<pre><code>public enum YesNoType {\n    Y, N\n}\n</code></pre>\n<p>ProductStatus.java</p>\n<pre><code>\n@Data\npublic class ProductStatus {\n\n    private boolean isBestSellingProduct;\n    private YesNoType isOfflineProduct;\n    private YesNoType isVisibleProduct;\n\n}\n</code></pre>\n<pre><code>@Data\n@Document(collection = &quot;product&quot;)\npublic class Product {\n\n@Id\nprivate String id;\nprivate ProductStatus productStatus;\n\n}\n</code></pre>\n<p>Could anyone point out whats wrong with my query and with the class ProductStatus.java since after removing the isBestSellingProduct boolean field this code works fine.</p>\n"},{"tags":["java","kotlin","togglz"],"answers":[{"tags":[],"owner":{"account_id":11213520,"reputation":11,"user_id":8226911,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653344135,"creation_date":1653344135,"answer_id":72355341,"question_id":72313071,"body_markdown":"The solution was quite simple, the configuration allows you to directly specify the strategy you want to implement:\r\n\r\n     @Bean\r\n    fun activationStrategyProvider(\r\n        activationStrategies: List&lt;ActivationStrategy&gt;,\r\n        activationStrategyByProfile: ActivationStrategyByProfile\r\n    ): ActivationStrategyProvider? {\r\n         val activationStrategyProvider = DefaultActivationStrategyProvider()\r\n         activationStrategyProvider.addActivationStrategy(activationStrategyByProfile)\r\n         return activationStrategyProvider\r\n    }\r\n","title":"Togglz with Kotlin: Problem to inject some dependency in my custom ActivationStrategy","body":"<p>The solution was quite simple, the configuration allows you to directly specify the strategy you want to implement:</p>\n<pre><code> @Bean\nfun activationStrategyProvider(\n    activationStrategies: List&lt;ActivationStrategy&gt;,\n    activationStrategyByProfile: ActivationStrategyByProfile\n): ActivationStrategyProvider? {\n     val activationStrategyProvider = DefaultActivationStrategyProvider()\n     activationStrategyProvider.addActivationStrategy(activationStrategyByProfile)\n     return activationStrategyProvider\n}\n</code></pre>\n"}],"owner":{"account_id":11213520,"reputation":11,"user_id":8226911,"display_name":"Nico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72355341,"answer_count":1,"score":1,"last_activity_date":1653344135,"creation_date":1653015230,"question_id":72313071,"body_markdown":"I have defined the file that references my custom ActivationStrategy in META-INF/Services/ as explained by the Togglz library for custom strategy (https://www.togglz.org/documentation/activation-strategies.html), since I need to resolve whether or not it is activated through another logic that is in another Service.\r\nNow how do I inject this service that I need to consume? Since when trying the following:\r\n``` \r\n@Component\r\nclass ActivationStrategyByProfile(private val profileService : ProfileService) : ActivationStrategy {\r\n\r\n    override fun getId(): String {\r\n        return ID\r\n    }\r\n\r\n    override fun getName(): String {\r\n        return NAME\r\n    }\r\n\r\n    override fun isActive(\r\n        featureState: FeatureState,\r\n        user: FeatureUser?\r\n    ): Boolean {\r\n        \r\n        val profileId = user?.name\r\n        return profileService.validateProfile(profileId)\r\n    }\r\n    ...\r\n\r\n  ```\r\n\r\nMy file in /META-INF/services/org.togglz.core.spi.ActivationStrategy contain:\r\n```\r\ncom.saraza.application.config.ActivationStrategyByProfile\r\n```\r\n\r\n\r\nIt returns the following error, mentioning that the reference that I have specified in the file, does not include parameters, I understand:\r\n``` \r\n...ActivationStrategyByProfile Unable to get public no-arg constructor\r\n``` \r\n\r\nHow can I inject the dependency of my service? Can it be done by changing the extended file used by the Java ServiceLoader mechanism? Something like specifying the service as a parameter?","title":"Togglz with Kotlin: Problem to inject some dependency in my custom ActivationStrategy","body":"<p>I have defined the file that references my custom ActivationStrategy in META-INF/Services/ as explained by the Togglz library for custom strategy (<a href=\"https://www.togglz.org/documentation/activation-strategies.html\" rel=\"nofollow noreferrer\">https://www.togglz.org/documentation/activation-strategies.html</a>), since I need to resolve whether or not it is activated through another logic that is in another Service.\nNow how do I inject this service that I need to consume? Since when trying the following:</p>\n<pre><code>@Component\nclass ActivationStrategyByProfile(private val profileService : ProfileService) : ActivationStrategy {\n\n    override fun getId(): String {\n        return ID\n    }\n\n    override fun getName(): String {\n        return NAME\n    }\n\n    override fun isActive(\n        featureState: FeatureState,\n        user: FeatureUser?\n    ): Boolean {\n        \n        val profileId = user?.name\n        return profileService.validateProfile(profileId)\n    }\n    ...\n\n</code></pre>\n<p>My file in /META-INF/services/org.togglz.core.spi.ActivationStrategy contain:</p>\n<pre><code>com.saraza.application.config.ActivationStrategyByProfile\n</code></pre>\n<p>It returns the following error, mentioning that the reference that I have specified in the file, does not include parameters, I understand:</p>\n<pre><code>...ActivationStrategyByProfile Unable to get public no-arg constructor\n</code></pre>\n<p>How can I inject the dependency of my service? Can it be done by changing the extended file used by the Java ServiceLoader mechanism? Something like specifying the service as a parameter?</p>\n"},{"tags":["java","docx4j"],"comments":[{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1651142217,"post_id":72032176,"comment_id":127295407,"body_markdown":"Are you using windows","body":"Are you using windows"},{"owner":{"account_id":18525138,"reputation":21,"user_id":13497205,"display_name":"Enuma Elish"},"score":0,"creation_date":1651228163,"post_id":72032176,"comment_id":127319524,"body_markdown":"Yes I&#39;m using tomcat 9 on windows server 2019","body":"Yes I&#39;m using tomcat 9 on windows server 2019"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651230411,"post_id":72032176,"comment_id":127320180,"body_markdown":"If this is a WAR deployed to Tomcat, you may need to add Xerces to the Tomcat lib folder instead of deploying it as part of your application (though I&#39;m not 100% sure this will solve the problem).","body":"If this is a WAR deployed to Tomcat, you may need to add Xerces to the Tomcat lib folder instead of deploying it as part of your application (though I&#39;m not 100% sure this will solve the problem)."}],"answers":[{"tags":[],"owner":{"account_id":3059088,"reputation":191,"user_id":2592155,"display_name":"Jonathan Cole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653343890,"creation_date":1653343890,"answer_id":72355305,"question_id":72032176,"body_markdown":"If you get ...\r\n[main] WARN org.docx4j.XmlUtils - default SAXParserFactory property : null\r\n Please consider using Xerces.\r\n[main] WARN org.docx4j.XmlUtils - default DocumentBuilderFactory property: null\r\n Please consider using Xerces.\r\n\r\n ... you need xerces on the CP and you need to set the property in docx4j.properties for sax parser to xerces\r\n\r\nFrom docx4j.properties [JAXP factories] section uncomment ... [javax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl] \r\n*** NOTE you will have a different package name for SaxParserFactoryImpl based on the version of xerces\r\n\r\nThe version of docx4j will have the dependencies needed to be on the CP in /dependencies\r\n\r\nif you get ...\r\n[main] WARN org.docx4j.utils.ResourceUtils - Couldn&#39;t get resource: docx4j.properties\r\n[main] WARN org.docx4j.Docx4jProperties - Couldn&#39;t find/read docx4j.properties; docx4j.properties not found via classloader.\r\n\r\n ... you have not deployed docx4j.properties - docx4j has defaults, so you first need to deploy docx4j.properties before you can affect those defaults\r\n\r\nyou need to create (or copy from source ~/resources/) [docx4j.properties]\r\n\r\norg.docx4j.Docx4jProperties.java loads docx4j.properties on init() to overwrite the defaults","title":"Docx4j consider using Xerces Warning","body":"<p>If you get ...\n[main] WARN org.docx4j.XmlUtils - default SAXParserFactory property : null\nPlease consider using Xerces.\n[main] WARN org.docx4j.XmlUtils - default DocumentBuilderFactory property: null\nPlease consider using Xerces.</p>\n<p>... you need xerces on the CP and you need to set the property in docx4j.properties for sax parser to xerces</p>\n<p>From docx4j.properties [JAXP factories] section uncomment ... [javax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl]\n*** NOTE you will have a different package name for SaxParserFactoryImpl based on the version of xerces</p>\n<p>The version of docx4j will have the dependencies needed to be on the CP in /dependencies</p>\n<p>if you get ...\n[main] WARN org.docx4j.utils.ResourceUtils - Couldn't get resource: docx4j.properties\n[main] WARN org.docx4j.Docx4jProperties - Couldn't find/read docx4j.properties; docx4j.properties not found via classloader.</p>\n<p>... you have not deployed docx4j.properties - docx4j has defaults, so you first need to deploy docx4j.properties before you can affect those defaults</p>\n<p>you need to create (or copy from source ~/resources/) [docx4j.properties]</p>\n<p>org.docx4j.Docx4jProperties.java loads docx4j.properties on init() to overwrite the defaults</p>\n"}],"owner":{"account_id":18525138,"reputation":21,"user_id":13497205,"display_name":"Enuma Elish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653343890,"creation_date":1651076261,"question_id":72032176,"body_markdown":"In a Spring MVC server I have this warning every time I use docx4j to generate a docx. The server functions well, but I have a huge log with this warning\r\n\r\n```none\r\n2022-04-27 18:00:46.241 [http-nio-8080-exec-3] WARN  org.docx4j.XmlUtils - default SAXParserFactory property : null\r\n Please consider using Xerces.\r\n2022-04-27 18:00:46.248 [http-nio-8080-exec-3] WARN  org.docx4j.XmlUtils - default DocumentBuilderFactory property: null\r\n Please consider using Xerces.\r\n```\r\n\r\nMy pom.xml is:\r\n\r\n```xml\r\n&lt;!-- Doc4j --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n\t&lt;version&gt;8.3.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;docx4j-core&lt;/artifactId&gt;\r\n\t  &lt;version&gt;8.3.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n \t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n\t&lt;version&gt;8.3.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhat am I missing?\r\n","title":"Docx4j consider using Xerces Warning","body":"<p>In a Spring MVC server I have this warning every time I use docx4j to generate a docx. The server functions well, but I have a huge log with this warning</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-04-27 18:00:46.241 [http-nio-8080-exec-3] WARN  org.docx4j.XmlUtils - default SAXParserFactory property : null\n Please consider using Xerces.\n2022-04-27 18:00:46.248 [http-nio-8080-exec-3] WARN  org.docx4j.XmlUtils - default DocumentBuilderFactory property: null\n Please consider using Xerces.\n</code></pre>\n<p>My pom.xml is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Doc4j --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n    &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n    &lt;version&gt;8.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n      &lt;artifactId&gt;docx4j-core&lt;/artifactId&gt;\n      &lt;version&gt;8.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n    &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n    &lt;version&gt;8.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","apache-kafka-streams","spring-cloud-stream","confluent-schema-registry","embedded-kafka"],"answers":[{"tags":[],"owner":{"account_id":22112581,"reputation":27,"user_id":16367246,"display_name":"Ex0r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653343755,"creation_date":1653343755,"answer_id":72355285,"question_id":68863011,"body_markdown":"I found an appropriate way of integration testing my topology.\r\n\r\nI use the TopologyTestDriver from the kafka-streams-test-utils package.\r\n\r\nInclude this dependency to Maven:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-streams-test-utils&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFor the application described in the question setting up the TopologyTestDriver would look like the following. This code is just sequentially to show how it works.\r\n\r\n```\r\n\t@Test\r\n\tvoid test() {\r\n\t\tkeySerde.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), true);\r\n\t\tvalueSerdeTopic1.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), false);\r\n\t\tvalueSerdeTopic2.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), false);\r\n\r\n\t\tfinal StreamsBuilder builder = new StreamsBuilder();\r\n\r\n\t\tConfiguration config = new Configuration(); // class where you declare your spring cloud stream functions\r\n\t\tKStream&lt;String, Topic1&gt; input = builder.stream(&quot;topic1&quot;, Consumed.with(keySerde, valueSerdeTopic1));\r\n\r\n\t\tKStream&lt;String, Topic2&gt; output = config.stream1().apply(input);\r\n\t\toutput.to(&quot;topic2&quot;);\r\n\r\n\t\tTopology topology = builder.build();\r\n\t\tProperties streamsConfig = new Properties();\r\n\r\n\t\tstreamsConfig.putAll(Map.of(\r\n\t\t\t\torg.apache.kafka.streams.StreamsConfig.APPLICATION_ID_CONFIG, &quot;toplogy-test-driver&quot;,\r\n\t\t\t\torg.apache.kafka.streams.StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;ignored&quot;,\r\n\t\t\t\tKafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;,\r\n\t\t\t\torg.apache.kafka.streams.StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, PrimitiveAvroSerde.class.getName(),\r\n\t\t\t\torg.apache.kafka.streams.StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class.getName()\r\n\t\t));\r\n\r\n\t\tTopologyTestDriver testDriver = new TopologyTestDriver(topology, streamsConfig);\r\n\t\t\r\n\t\tTestInputTopic&lt;String, Topic1&gt; inputTopic = testDriver.createInputTopic(&quot;topic1&quot;, keySerde.serializer(), valueSerdeTopic1.serializer());\r\n\t\tTestOutputTopic&lt;String, Topic2&gt; outputTopic = testDriver.createOutputTopic(&quot;topic2&quot;, keySerde.deserializer(), valueSerdeTopic2.deserializer());\r\n\t\tinputTopic.pipeInput(&quot;key&quot;, topic1AvroModel); // Write to the input topic which applies the topology processor of your spring-cloud-stream app\r\n\t\tKeyValue&lt;String, Topic2&gt; outputRecord = outputTopic.readKeyValue(); // Read from the output topic\r\n\t}\r\n```\r\n\r\nIf you write more tests i recommend to abstract the setup code to not repeat yourself for each test.\r\nI highly suggest [this][1] example from the spring-cloud-streams-samples repository, it leaded me to the solution to use TopologyTestDriver.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/kafka-streams-samples/kafka-streams-inventory-count/src/test/java/kafka/streams/inventory/count/TopolologyTestDriverKafkaStreamsInventoryCountTests.java","title":"Problem creating tests with Spring cloud streams kafka streams using embeddedKafka with MockSchemaRegistryClient","body":"<p>I found an appropriate way of integration testing my topology.</p>\n<p>I use the TopologyTestDriver from the kafka-streams-test-utils package.</p>\n<p>Include this dependency to Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-streams-test-utils&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For the application described in the question setting up the TopologyTestDriver would look like the following. This code is just sequentially to show how it works.</p>\n<pre><code>    @Test\n    void test() {\n        keySerde.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), true);\n        valueSerdeTopic1.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), false);\n        valueSerdeTopic2.configure(Map.of(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;), false);\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        Configuration config = new Configuration(); // class where you declare your spring cloud stream functions\n        KStream&lt;String, Topic1&gt; input = builder.stream(&quot;topic1&quot;, Consumed.with(keySerde, valueSerdeTopic1));\n\n        KStream&lt;String, Topic2&gt; output = config.stream1().apply(input);\n        output.to(&quot;topic2&quot;);\n\n        Topology topology = builder.build();\n        Properties streamsConfig = new Properties();\n\n        streamsConfig.putAll(Map.of(\n                org.apache.kafka.streams.StreamsConfig.APPLICATION_ID_CONFIG, &quot;toplogy-test-driver&quot;,\n                org.apache.kafka.streams.StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;ignored&quot;,\n                KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;mock://schemas&quot;,\n                org.apache.kafka.streams.StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, PrimitiveAvroSerde.class.getName(),\n                org.apache.kafka.streams.StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class.getName()\n        ));\n\n        TopologyTestDriver testDriver = new TopologyTestDriver(topology, streamsConfig);\n        \n        TestInputTopic&lt;String, Topic1&gt; inputTopic = testDriver.createInputTopic(&quot;topic1&quot;, keySerde.serializer(), valueSerdeTopic1.serializer());\n        TestOutputTopic&lt;String, Topic2&gt; outputTopic = testDriver.createOutputTopic(&quot;topic2&quot;, keySerde.deserializer(), valueSerdeTopic2.deserializer());\n        inputTopic.pipeInput(&quot;key&quot;, topic1AvroModel); // Write to the input topic which applies the topology processor of your spring-cloud-stream app\n        KeyValue&lt;String, Topic2&gt; outputRecord = outputTopic.readKeyValue(); // Read from the output topic\n    }\n</code></pre>\n<p>If you write more tests i recommend to abstract the setup code to not repeat yourself for each test.\nI highly suggest <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/kafka-streams-samples/kafka-streams-inventory-count/src/test/java/kafka/streams/inventory/count/TopolologyTestDriverKafkaStreamsInventoryCountTests.java\" rel=\"nofollow noreferrer\">this</a> example from the spring-cloud-streams-samples repository, it leaded me to the solution to use TopologyTestDriver.</p>\n"}],"owner":{"account_id":22112581,"reputation":27,"user_id":16367246,"display_name":"Ex0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72355285,"answer_count":1,"score":1,"last_activity_date":1653343755,"creation_date":1629465985,"question_id":68863011,"body_markdown":"I&#39;m trying to figure out how i can test my Spring Cloud Streams Kafka-Streams application.\r\n\r\nThe application lookls like this:\r\n\r\nStream 1: Topic1 &gt; Topic2&lt;br/&gt;\r\nStream 2: Topic2 + Topic3 joined &gt; Topic4&lt;br /&gt;\r\nStream 3: Topic4 &gt; Topic5&lt;br /&gt;\r\n\r\nI tried different approaches like the TestChannelBinder but this approach only works with Simple functions not Streams and Avro.\r\n\r\nI decided to use EmbeddedKafka with MockSchemaRegistryClient. I can produce to a topic and also consume from the same topic again (topic1) but i&#39;m not able to consume from (topic2).\r\n\r\nIn my test application.yaml i put the following configuration (i&#39;m only testing the first stream for now, i want to extend it once this works):\r\n```\r\nspring.application.name: processingapp\r\nspring.cloud:\r\n  function.definition: stream1 # not now ;stream2;stream3\r\n    stream:\r\n      bindings:\r\n        stream1-in-0:\r\n          destination: topic1\r\n        stream1-out-0:\r\n          destination: topic2\r\n      kafka:\r\n        binder:\r\n          min-partition-count: 1\r\n          replication-factor: 1\r\n          auto-create-topics: true\r\n          auto-add-partitions: true\r\n        bindings:\r\n          default:\r\n            consumer:\r\n              autoRebalanceEnabled: true\r\n              resetOffsets: true\r\n              startOffset: earliest\r\n        stream1-in-0:\r\n          consumer:\r\n            keySerde: io.confluent.kafka.streams.serdes.avro.PrimitiveAvroSerde\r\n            valueSerde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\r\n          stream1-out-0:\r\n            producer:\r\n              keySerde: io.confluent.kafka.streams.serdes.avro.PrimitiveAvroSerde\r\n              valueSerde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\r\n        streams:\r\n          binder:\r\n            configuration:\r\n              schema.registry.url: mock://localtest\r\n              specivic.avro.reader: true\r\n\r\n```\r\n\r\nMy test looks like the following: \r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class Test {\r\n\r\n    private static final String INPUT_TOPIC = &quot;topic1&quot;;\r\n\r\n    private static final String OUTPUT_TOPIC = &quot;topic2&quot;;\r\n\r\n    @ClassRule\r\n    public static EmbeddedKafkaRule embeddedKafka = new EmbeddedKafkaRule(1, true, 1, INPUT_TOPIC, OUTPUT_TOPIC);\r\n\r\n    @BeforeClass\r\n    public static void setup() {\r\n        System.setProperty(&quot;spring.cloud.stream.kafka.binder.brokers&quot;, embeddedKafka.getEmbeddedKafka().getBrokersAsString());\r\n    }\r\n\r\n    @org.junit.Test\r\n    public void testSendReceive() throws IOException {\r\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.producerProps(embeddedKafka.getEmbeddedKafka());\r\n        senderProps.put(&quot;key.serializer&quot;, LongSerializer.class);\r\n        senderProps.put(&quot;value.serializer&quot;, SpecificAvroSerializer.class);\r\n        senderProps.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\r\n        AvroFileParser fileParser = new AvroFileParser();\r\n        DefaultKafkaProducerFactory&lt;Long, Test1&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(senderProps);\r\n        KafkaTemplate&lt;Long, Test1&gt; template = new KafkaTemplate&lt;&gt;(pf, true);\r\n        Test1 test1 = fileParser.parseTest1(&quot;src/test/resources/mocks/test1.json&quot;);\r\n\r\n        template.send(INPUT_TOPIC, 123456L, test1);\r\n        System.out.println(&quot;produced&quot;);\r\n        \r\n        Map&lt;String, Object&gt; consumer1Props = KafkaTestUtils.consumerProps(&quot;testConsumer1&quot;, &quot;false&quot;, embeddedKafka.getEmbeddedKafka());\r\n        consumer1Props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        consumer1Props.put(&quot;key.deserializer&quot;, LongDeserializer.class);\r\n        consumer1Props.put(&quot;value.deserializer&quot;, SpecificAvroDeserializer.class);\r\n        consumer1Props.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\r\n        DefaultKafkaConsumerFactory&lt;Long, Test1&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumer1Props);\r\n\r\n        Consumer&lt;Long, Test1&gt; consumer1 = cf.createConsumer();\r\n        consumer1.subscribe(Collections.singleton(INPUT_TOPIC));\r\n        ConsumerRecords&lt;Long, Test1&gt; records = consumer1.poll(Duration.ofSeconds(10));\r\n        consumer1.commitSync();\r\n\r\n        System.out.println(&quot;records count?&quot;);\r\n        System.out.println(&quot;&quot; + records.count());\r\n\r\n        Test1 fetchedTest1;\r\n        fetchedTest1 = records.iterator().next().value();\r\n        assertThat(records.count()).isEqualTo(1);\r\n        System.out.println(&quot;found record&quot;);\r\n        System.out.println(fetchedTest1.toString());\r\n\r\n        Map&lt;String, Object&gt; consumer2Props = KafkaTestUtils.consumerProps(&quot;testConsumer2&quot;, &quot;false&quot;, embeddedKafka.getEmbeddedKafka());\r\n        consumer2Props.put(&quot;key.deserializer&quot;, StringDeserializer.class);\r\n        consumer2Props.put(&quot;value.deserializer&quot;, TestAvroDeserializer.class);\r\n        consumer2Props.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\r\n\r\n        DefaultKafkaConsumerFactory&lt;String, Test2&gt; consumer2Factory = new DefaultKafkaConsumerFactory&lt;&gt;(consumer2Props);\r\n        Consumer&lt;String, Test2&gt; consumer2 = consumer2Factory.createConsumer();\r\n        consumer2.subscribe(Collections.singleton(OUTPUT_TOPIC));\r\n        ConsumerRecords&lt;String, Test2&gt; records2 = consumer2.poll(Duration.ofSeconds(30));\r\n        consumer2.commitSync();\r\n        \r\n\r\n        if (records2.iterator().hasNext()) {\r\n            System.out.println(&quot;has next&quot;);\r\n        } else {\r\n            System.out.println(&quot;has no next&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI receive the following exception when trying to consume and deserialize from topic2:\r\n\r\n```\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 0\r\nCaused by: java.io.IOException: Cannot get schema from schema registry!\r\n\tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:193) ~[kafka-schema-registry-client-6.2.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:249) ~[kafka-schema-registry-client-6.2.0.jar:na]\r\n\tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaById(MockSchemaRegistryClient.java:232) ~[kafka-schema-registry-client-6.2.0.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:307) ~[kafka-avro-serializer-6.2.0.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:107) ~[kafka-avro-serializer-6.2.0.jar:na]\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:86) ~[kafka-avro-serializer-6.2.0.jar:na]\r\n\tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-6.2.0.jar:na]\r\n\tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.SourceNode.deserializeKey(SourceNode.java:54) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:65) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:185) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:895) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1008) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:812) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:625) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:564) ~[kafka-streams-2.7.1.jar:na]\r\n\tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:523) ~[kafka-streams-2.7.1.jar:na]\r\n```\r\n\r\nThere won&#39;t be a message consumed.\r\n\r\nSo i tried to overwrite the SpecificAvroSerde and register the schemas directly and use this deserializer.\r\n\r\n```\r\npublic class TestAvroDeserializer&lt;T extends org.apache.avro.specific.SpecificRecord&gt;\r\n        extends SpecificAvroDeserializer&lt;T&gt; implements Deserializer&lt;T&gt; {\r\n\r\n    private final KafkaAvroDeserializer inner;\r\n\r\n    public TestAvroDeserializer() throws IOException, RestClientException {\r\n        MockSchemaRegistryClient mockedClient = new MockSchemaRegistryClient();\r\n\r\n        Schema.Parser parser = new Schema.Parser();\r\n        Schema test2Schema = parser.parse(new File(&quot;./src/main/resources/avro/test2.avsc&quot;));\r\n        mockedClient.register(&quot;test2-value&quot;, test2Schema , 1, 0);\r\n        inner = new KafkaAvroDeserializer(mockedClient);\r\n    }\r\n\r\n    /**\r\n     * For testing purposes only.\r\n     */\r\n    TestAvroDeserializer(final SchemaRegistryClient client) throws IOException, RestClientException {\r\n        MockSchemaRegistryClient mockedClient = new MockSchemaRegistryClient();\r\n\r\n        Schema.Parser parser = new Schema.Parser();\r\n        Schema test2Schema = parser.parse(new File(&quot;./src/main/resources/avro/test2.avsc&quot;));\r\n        mockedClient.register(&quot;test2-value&quot;, test2Schema , 1, 0);\r\n\r\n        inner = new KafkaAvroDeserializer(mockedClient);\r\n    }\r\n}\r\n```\r\n\r\nWith this deserializer it won&#39;t work too. Does anyone have experience on how to do this tests with EmbeddedKafka and MockSchemaRegistry? Or is there another approach i should use?\r\n\r\nI&#39;m very glad if someone can help. Thank you in advance.","title":"Problem creating tests with Spring cloud streams kafka streams using embeddedKafka with MockSchemaRegistryClient","body":"<p>I'm trying to figure out how i can test my Spring Cloud Streams Kafka-Streams application.</p>\n<p>The application lookls like this:</p>\n<p>Stream 1: Topic1 &gt; Topic2<br/>\nStream 2: Topic2 + Topic3 joined &gt; Topic4<br />\nStream 3: Topic4 &gt; Topic5<br /></p>\n<p>I tried different approaches like the TestChannelBinder but this approach only works with Simple functions not Streams and Avro.</p>\n<p>I decided to use EmbeddedKafka with MockSchemaRegistryClient. I can produce to a topic and also consume from the same topic again (topic1) but i'm not able to consume from (topic2).</p>\n<p>In my test application.yaml i put the following configuration (i'm only testing the first stream for now, i want to extend it once this works):</p>\n<pre><code>spring.application.name: processingapp\nspring.cloud:\n  function.definition: stream1 # not now ;stream2;stream3\n    stream:\n      bindings:\n        stream1-in-0:\n          destination: topic1\n        stream1-out-0:\n          destination: topic2\n      kafka:\n        binder:\n          min-partition-count: 1\n          replication-factor: 1\n          auto-create-topics: true\n          auto-add-partitions: true\n        bindings:\n          default:\n            consumer:\n              autoRebalanceEnabled: true\n              resetOffsets: true\n              startOffset: earliest\n        stream1-in-0:\n          consumer:\n            keySerde: io.confluent.kafka.streams.serdes.avro.PrimitiveAvroSerde\n            valueSerde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\n          stream1-out-0:\n            producer:\n              keySerde: io.confluent.kafka.streams.serdes.avro.PrimitiveAvroSerde\n              valueSerde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde\n        streams:\n          binder:\n            configuration:\n              schema.registry.url: mock://localtest\n              specivic.avro.reader: true\n\n</code></pre>\n<p>My test looks like the following:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class Test {\n\n    private static final String INPUT_TOPIC = &quot;topic1&quot;;\n\n    private static final String OUTPUT_TOPIC = &quot;topic2&quot;;\n\n    @ClassRule\n    public static EmbeddedKafkaRule embeddedKafka = new EmbeddedKafkaRule(1, true, 1, INPUT_TOPIC, OUTPUT_TOPIC);\n\n    @BeforeClass\n    public static void setup() {\n        System.setProperty(&quot;spring.cloud.stream.kafka.binder.brokers&quot;, embeddedKafka.getEmbeddedKafka().getBrokersAsString());\n    }\n\n    @org.junit.Test\n    public void testSendReceive() throws IOException {\n        Map&lt;String, Object&gt; senderProps = KafkaTestUtils.producerProps(embeddedKafka.getEmbeddedKafka());\n        senderProps.put(&quot;key.serializer&quot;, LongSerializer.class);\n        senderProps.put(&quot;value.serializer&quot;, SpecificAvroSerializer.class);\n        senderProps.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\n        AvroFileParser fileParser = new AvroFileParser();\n        DefaultKafkaProducerFactory&lt;Long, Test1&gt; pf = new DefaultKafkaProducerFactory&lt;&gt;(senderProps);\n        KafkaTemplate&lt;Long, Test1&gt; template = new KafkaTemplate&lt;&gt;(pf, true);\n        Test1 test1 = fileParser.parseTest1(&quot;src/test/resources/mocks/test1.json&quot;);\n\n        template.send(INPUT_TOPIC, 123456L, test1);\n        System.out.println(&quot;produced&quot;);\n        \n        Map&lt;String, Object&gt; consumer1Props = KafkaTestUtils.consumerProps(&quot;testConsumer1&quot;, &quot;false&quot;, embeddedKafka.getEmbeddedKafka());\n        consumer1Props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        consumer1Props.put(&quot;key.deserializer&quot;, LongDeserializer.class);\n        consumer1Props.put(&quot;value.deserializer&quot;, SpecificAvroDeserializer.class);\n        consumer1Props.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\n        DefaultKafkaConsumerFactory&lt;Long, Test1&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumer1Props);\n\n        Consumer&lt;Long, Test1&gt; consumer1 = cf.createConsumer();\n        consumer1.subscribe(Collections.singleton(INPUT_TOPIC));\n        ConsumerRecords&lt;Long, Test1&gt; records = consumer1.poll(Duration.ofSeconds(10));\n        consumer1.commitSync();\n\n        System.out.println(&quot;records count?&quot;);\n        System.out.println(&quot;&quot; + records.count());\n\n        Test1 fetchedTest1;\n        fetchedTest1 = records.iterator().next().value();\n        assertThat(records.count()).isEqualTo(1);\n        System.out.println(&quot;found record&quot;);\n        System.out.println(fetchedTest1.toString());\n\n        Map&lt;String, Object&gt; consumer2Props = KafkaTestUtils.consumerProps(&quot;testConsumer2&quot;, &quot;false&quot;, embeddedKafka.getEmbeddedKafka());\n        consumer2Props.put(&quot;key.deserializer&quot;, StringDeserializer.class);\n        consumer2Props.put(&quot;value.deserializer&quot;, TestAvroDeserializer.class);\n        consumer2Props.put(&quot;schema.registry.url&quot;, &quot;mock://localtest&quot;);\n\n        DefaultKafkaConsumerFactory&lt;String, Test2&gt; consumer2Factory = new DefaultKafkaConsumerFactory&lt;&gt;(consumer2Props);\n        Consumer&lt;String, Test2&gt; consumer2 = consumer2Factory.createConsumer();\n        consumer2.subscribe(Collections.singleton(OUTPUT_TOPIC));\n        ConsumerRecords&lt;String, Test2&gt; records2 = consumer2.poll(Duration.ofSeconds(30));\n        consumer2.commitSync();\n        \n\n        if (records2.iterator().hasNext()) {\n            System.out.println(&quot;has next&quot;);\n        } else {\n            System.out.println(&quot;has no next&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I receive the following exception when trying to consume and deserialize from topic2:</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 0\nCaused by: java.io.IOException: Cannot get schema from schema registry!\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:193) ~[kafka-schema-registry-client-6.2.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:249) ~[kafka-schema-registry-client-6.2.0.jar:na]\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaById(MockSchemaRegistryClient.java:232) ~[kafka-schema-registry-client-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:307) ~[kafka-avro-serializer-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:107) ~[kafka-avro-serializer-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:86) ~[kafka-avro-serializer-6.2.0.jar:na]\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55) ~[kafka-avro-serializer-6.2.0.jar:na]\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60) ~[kafka-clients-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.SourceNode.deserializeKey(SourceNode.java:54) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordDeserializer.deserialize(RecordDeserializer.java:65) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.updateHead(RecordQueue.java:176) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.RecordQueue.addRawRecords(RecordQueue.java:112) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.PartitionGroup.addRawRecords(PartitionGroup.java:185) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamTask.addRecords(StreamTask.java:895) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.TaskManager.addRecordsToTasks(TaskManager.java:1008) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.pollPhase(StreamThread.java:812) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:625) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:564) ~[kafka-streams-2.7.1.jar:na]\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:523) ~[kafka-streams-2.7.1.jar:na]\n</code></pre>\n<p>There won't be a message consumed.</p>\n<p>So i tried to overwrite the SpecificAvroSerde and register the schemas directly and use this deserializer.</p>\n<pre><code>public class TestAvroDeserializer&lt;T extends org.apache.avro.specific.SpecificRecord&gt;\n        extends SpecificAvroDeserializer&lt;T&gt; implements Deserializer&lt;T&gt; {\n\n    private final KafkaAvroDeserializer inner;\n\n    public TestAvroDeserializer() throws IOException, RestClientException {\n        MockSchemaRegistryClient mockedClient = new MockSchemaRegistryClient();\n\n        Schema.Parser parser = new Schema.Parser();\n        Schema test2Schema = parser.parse(new File(&quot;./src/main/resources/avro/test2.avsc&quot;));\n        mockedClient.register(&quot;test2-value&quot;, test2Schema , 1, 0);\n        inner = new KafkaAvroDeserializer(mockedClient);\n    }\n\n    /**\n     * For testing purposes only.\n     */\n    TestAvroDeserializer(final SchemaRegistryClient client) throws IOException, RestClientException {\n        MockSchemaRegistryClient mockedClient = new MockSchemaRegistryClient();\n\n        Schema.Parser parser = new Schema.Parser();\n        Schema test2Schema = parser.parse(new File(&quot;./src/main/resources/avro/test2.avsc&quot;));\n        mockedClient.register(&quot;test2-value&quot;, test2Schema , 1, 0);\n\n        inner = new KafkaAvroDeserializer(mockedClient);\n    }\n}\n</code></pre>\n<p>With this deserializer it won't work too. Does anyone have experience on how to do this tests with EmbeddedKafka and MockSchemaRegistry? Or is there another approach i should use?</p>\n<p>I'm very glad if someone can help. Thank you in advance.</p>\n"},{"tags":["java","collections","comparable","treeset"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653340534,"post_id":72354744,"comment_id":127824039,"body_markdown":"I&#39;m not sure what you mean; you sort by `marks` first, which is reflected in the output, and &quot;Nipuna&quot; *does* come after &quot;Nipun&quot;. Put another way: why *wouldn&#39;t* Nipuna be where it is in the list?","body":"I&#39;m not sure what you mean; you sort by <code>marks</code> first, which is reflected in the output, and &quot;Nipuna&quot; <i>does</i> come after &quot;Nipun&quot;. Put another way: why <i>wouldn&#39;t</i> Nipuna be where it is in the list?"},{"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653340733,"post_id":72354744,"comment_id":127824089,"body_markdown":"I mean as per my logic Nipuna should come after Nipun, and not after Nupur","body":"I mean as per my logic Nipuna should come after Nipun, and not after Nupur"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653340823,"post_id":72354744,"comment_id":127824122,"body_markdown":"Why? Nippuna&#39;s marks are greater than both Nipun&#39;s and Nupur&#39;s. That is how `compareTo` is written: the only time alphabetical order matters if if their marks are the same.","body":"Why? Nippuna&#39;s marks are greater than both Nipun&#39;s and Nupur&#39;s. That is how <code>compareTo</code> is written: the only time alphabetical order matters if if their marks are the same."},{"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653340865,"post_id":72354744,"comment_id":127824136,"body_markdown":"Silly me , I am so sorry, for all the trouble","body":"Silly me , I am so sorry, for all the trouble"},{"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1653340960,"post_id":72354744,"comment_id":127824159,"body_markdown":"@DaveNewton byt in that case Nipun vanished from list as if &quot;Nipun and Nipuna are duplicate&quot;","body":"@DaveNewton byt in that case Nipun vanished from list as if &quot;Nipun and Nipuna are duplicate&quot;"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653341074,"post_id":72354744,"comment_id":127824193,"body_markdown":"You&#39;ll have to debug your `compareTo` logic then.","body":"You&#39;ll have to debug your <code>compareTo</code> logic then."}],"answers":[{"tags":[],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653343020,"creation_date":1653343020,"answer_id":72355198,"question_id":72354744,"body_markdown":"I have solved my problem, it was a logical error in the for loops - \r\n\r\nthe correct code would be - \r\n\r\n```\r\nfor (int i = 1; i &lt;= minLength; i++)\r\n```\r\n\r\nNow output as expected  - \r\n\r\n```\r\nPerson: Marks = 67, Name =  Jasmine\r\nPerson: Marks = 67, Name =  Jhilam\r\nPerson: Marks = 67, Name =  Nipun\r\nPerson: Marks = 67, Name =  Nipuna\r\nPerson: Marks = 67, Name =  Nupur\r\nPerson: Marks = 67, Name =  Nusrat\r\nPerson: Marks = 72, Name =  Nupur\r\n```\r\n","title":"Unable to understand the logic behind treesorting in this particular case of mine","body":"<p>I have solved my problem, it was a logical error in the for loops -</p>\n<p>the correct code would be -</p>\n<pre><code>for (int i = 1; i &lt;= minLength; i++)\n</code></pre>\n<p>Now output as expected  -</p>\n<pre><code>Person: Marks = 67, Name =  Jasmine\nPerson: Marks = 67, Name =  Jhilam\nPerson: Marks = 67, Name =  Nipun\nPerson: Marks = 67, Name =  Nipuna\nPerson: Marks = 67, Name =  Nupur\nPerson: Marks = 67, Name =  Nusrat\nPerson: Marks = 72, Name =  Nupur\n</code></pre>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653343020,"creation_date":1653339498,"question_id":72354744,"body_markdown":"I have the following &quot;Person&quot; `class` - \r\n\r\n```\r\nimport java.rmi.activation.ActivationGroup_Stub;\r\n\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private int marks;\r\n    private String name;\r\n\r\n    Person(int marks, String name) {\r\n        this.marks = marks;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person: Marks = &quot; + marks + &quot;, Name =  &quot; + name;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        int myReturn = 0;\r\n        if (marks &gt; person.marks) {\r\n            myReturn = 1;\r\n        } else if (marks &lt; person.marks) {\r\n            myReturn = -1;\r\n        } else {\r\n            int minLength = 0;\r\n            boolean equal = false;\r\n            if (name.length() &lt; person.name.length()) {\r\n                minLength = name.length();\r\n            } else if (name.length() &gt; person.name.length()) {\r\n                minLength = person.name.length();\r\n             } else {\r\n                minLength = name.length();\r\n                equal = true;\r\n            }\r\n\r\n\r\n            for (int i = 0; i &lt; minLength; i++) {\r\n                if (i == minLength) {\r\n                    if (equal) {\r\n                        myReturn = 0;\r\n                        break;\r\n                    } else if (name.length() &gt; minLength) {\r\n                        myReturn = 1;\r\n                        break;\r\n                    } else {\r\n                        myReturn = -1;\r\n                        break;\r\n                    }\r\n                } else if(name.charAt(i) &gt; person.name.charAt(i)) {\r\n                    myReturn = 1;\r\n                    break;\r\n                } else if (name.charAt(i) &lt; person.name.charAt(i)) {\r\n                    myReturn = -1;\r\n                    break;\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        return myReturn;\r\n    }\r\n}\r\n\r\n \r\n```\r\n\r\nNow in main class I have made the `TreeClass` - \r\n\r\n```\r\nTreeSet&lt;Person&gt; treeSet1 = new TreeSet&lt;&gt;(List.of(\r\n                new Person(67, &quot;Nusrat&quot;),\r\n                new Person(67, &quot;Nusrat&quot;),\r\n                new Person(67, &quot;Nupur&quot;),\r\n                new Person(72, &quot;Nupur&quot;),\r\n                new Person(67, &quot;Nupur&quot;),\r\n                new Person(67, &quot;Nipun&quot;),\r\n                new Person( 67, &quot;Nipuna&quot;),\r\n                new Person(67, &quot;Jhilam&quot;)\r\n        ));\r\n```\r\n\r\nUpon printing the output is - \r\n\r\n```\r\nPerson: Marks = 67, Name =  Jhilam\r\nPerson: Marks = 67, Name =  Nipun\r\nPerson: Marks = 67, Name =  Nupur\r\nPerson: Marks = 67, Name =  Nusrat\r\nPerson: Marks = 72, Name =  Nupur\r\n```\r\n\r\nAll is right except &quot;Nipun&quot; and &quot;Nipuna&quot; are considered as equal. Where am I going wrong?","title":"Unable to understand the logic behind treesorting in this particular case of mine","body":"<p>I have the following &quot;Person&quot; <code>class</code> -</p>\n<pre><code>import java.rmi.activation.ActivationGroup_Stub;\n\npublic class Person implements Comparable&lt;Person&gt; {\n    private int marks;\n    private String name;\n\n    Person(int marks, String name) {\n        this.marks = marks;\n        this.name = name;\n    }\n\n    public int getMarks() {\n        return marks;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person: Marks = &quot; + marks + &quot;, Name =  &quot; + name;\n    }\n\n    @Override\n    public int compareTo(Person person) {\n        int myReturn = 0;\n        if (marks &gt; person.marks) {\n            myReturn = 1;\n        } else if (marks &lt; person.marks) {\n            myReturn = -1;\n        } else {\n            int minLength = 0;\n            boolean equal = false;\n            if (name.length() &lt; person.name.length()) {\n                minLength = name.length();\n            } else if (name.length() &gt; person.name.length()) {\n                minLength = person.name.length();\n             } else {\n                minLength = name.length();\n                equal = true;\n            }\n\n\n            for (int i = 0; i &lt; minLength; i++) {\n                if (i == minLength) {\n                    if (equal) {\n                        myReturn = 0;\n                        break;\n                    } else if (name.length() &gt; minLength) {\n                        myReturn = 1;\n                        break;\n                    } else {\n                        myReturn = -1;\n                        break;\n                    }\n                } else if(name.charAt(i) &gt; person.name.charAt(i)) {\n                    myReturn = 1;\n                    break;\n                } else if (name.charAt(i) &lt; person.name.charAt(i)) {\n                    myReturn = -1;\n                    break;\n                } else {\n                    continue;\n                }\n            }\n        }\n        return myReturn;\n    }\n}\n\n \n</code></pre>\n<p>Now in main class I have made the <code>TreeClass</code> -</p>\n<pre><code>TreeSet&lt;Person&gt; treeSet1 = new TreeSet&lt;&gt;(List.of(\n                new Person(67, &quot;Nusrat&quot;),\n                new Person(67, &quot;Nusrat&quot;),\n                new Person(67, &quot;Nupur&quot;),\n                new Person(72, &quot;Nupur&quot;),\n                new Person(67, &quot;Nupur&quot;),\n                new Person(67, &quot;Nipun&quot;),\n                new Person( 67, &quot;Nipuna&quot;),\n                new Person(67, &quot;Jhilam&quot;)\n        ));\n</code></pre>\n<p>Upon printing the output is -</p>\n<pre><code>Person: Marks = 67, Name =  Jhilam\nPerson: Marks = 67, Name =  Nipun\nPerson: Marks = 67, Name =  Nupur\nPerson: Marks = 67, Name =  Nusrat\nPerson: Marks = 72, Name =  Nupur\n</code></pre>\n<p>All is right except &quot;Nipun&quot; and &quot;Nipuna&quot; are considered as equal. Where am I going wrong?</p>\n"},{"tags":["java","spring","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653342756,"creation_date":1653258522,"answer_id":72341712,"question_id":72324164,"body_markdown":"As described in [this Github issue](https://github.com/spring-projects/spring-hateoas/issues/833), the structure of packages of Spring HATEOAS was heavily refactored.\r\n\r\nIn the specific case of `DummyInvocationsUtils` it was [migrated](https://github.com/spring-projects/spring-hateoas/commit/57f36a58db07afeb7a020c1b607e23aa2aa05008#diff-4be9d7c82464ad4064096ac40ff3e6adcda7a678561d08c7f3ca8929f234fb05) from `org.springframework.hateoas.core` to the `org.springframework.hateoas.server.core` package.\r\n\r\nFor using the new version update your import in consequence:\r\n\r\n```java\r\nimport org.springframework.hateoas.server.core.DummyInvocationUtils;\r\n```\r\n\r\nPlease, be aware that both `LastInvocationAware` and `MethodInvocation` are defined in their own class files, in the same package as `DummyInvocationUtils`.\r\n\r\nYour final code could be like this:\r\n\r\n```java\r\nimport org.springframework.hateoas.server.core.DummyInvocationUtils;\r\nimport org.springframework.hateoas.server.core.LastInvocationAware;\r\nimport org.springframework.hateoas.server.core.MethodInvocation;\r\n\r\n//...\r\n\r\npublic LinkBuilder linkTo(Object dummyInvocation) {\r\n    if (!(dummyInvocation instanceof LastInvocationAware)) {\r\n      IllegalArgumentException cause =\r\n          new IllegalArgumentException(&quot;linkTo(Object) must be call with a dummyInvocation&quot;);\r\n      throw InternalErrorException.builder()\r\n          .cause(cause)\r\n          .build();\r\n    }\r\n\r\n    LastInvocationAware lastInvocationAware =\r\n        (LastInvocationAware) dummyInvocation;\r\n\r\n    MethodInvocation methodInvocation = lastInvocationAware.getLastInvocation();\r\n\r\n    StaticPathLinkBuilder staticPathLinkBuilder = getThis();\r\n    return staticPathLinkBuilder.linkTo(methodInvocation.getMethod(), methodInvocation.getArguments());\r\n}\r\n```\r\n\r\n","title":"Replace deprecated InvocationRecordingMethodInterceptor","body":"<p>As described in <a href=\"https://github.com/spring-projects/spring-hateoas/issues/833\" rel=\"nofollow noreferrer\">this Github issue</a>, the structure of packages of Spring HATEOAS was heavily refactored.</p>\n<p>In the specific case of <code>DummyInvocationsUtils</code> it was <a href=\"https://github.com/spring-projects/spring-hateoas/commit/57f36a58db07afeb7a020c1b607e23aa2aa05008#diff-4be9d7c82464ad4064096ac40ff3e6adcda7a678561d08c7f3ca8929f234fb05\" rel=\"nofollow noreferrer\">migrated</a> from <code>org.springframework.hateoas.core</code> to the <code>org.springframework.hateoas.server.core</code> package.</p>\n<p>For using the new version update your import in consequence:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.hateoas.server.core.DummyInvocationUtils;\n</code></pre>\n<p>Please, be aware that both <code>LastInvocationAware</code> and <code>MethodInvocation</code> are defined in their own class files, in the same package as <code>DummyInvocationUtils</code>.</p>\n<p>Your final code could be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.hateoas.server.core.DummyInvocationUtils;\nimport org.springframework.hateoas.server.core.LastInvocationAware;\nimport org.springframework.hateoas.server.core.MethodInvocation;\n\n//...\n\npublic LinkBuilder linkTo(Object dummyInvocation) {\n    if (!(dummyInvocation instanceof LastInvocationAware)) {\n      IllegalArgumentException cause =\n          new IllegalArgumentException(&quot;linkTo(Object) must be call with a dummyInvocation&quot;);\n      throw InternalErrorException.builder()\n          .cause(cause)\n          .build();\n    }\n\n    LastInvocationAware lastInvocationAware =\n        (LastInvocationAware) dummyInvocation;\n\n    MethodInvocation methodInvocation = lastInvocationAware.getLastInvocation();\n\n    StaticPathLinkBuilder staticPathLinkBuilder = getThis();\n    return staticPathLinkBuilder.linkTo(methodInvocation.getMethod(), methodInvocation.getArguments());\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72341712,"answer_count":1,"score":2,"last_activity_date":1653342756,"creation_date":1653076250,"question_id":72324164,"body_markdown":"I have this old hateos code which I would like to migrate to latest Spring hateos version\r\n\r\n    import org.springframework.hateoas.core.DummyInvocationUtils;\r\n\r\n    public LinkBuilder linkTo(Object dummyInvocation) {\r\n        if (!(dummyInvocation instanceof DummyInvocationUtils.InvocationRecordingMethodInterceptor)) {\r\n          IllegalArgumentException cause =\r\n              new IllegalArgumentException(&quot;linkTo(Object) must be call with a dummyInvocation&quot;);\r\n          throw InternalErrorException.builder()\r\n              .cause(cause)\r\n              .build();\r\n        }\r\n        DummyInvocationUtils.LastInvocationAware lastInvocationAware =\r\n            (DummyInvocationUtils.LastInvocationAware) dummyInvocation;\r\n    \r\n        DummyInvocationUtils.MethodInvocation methodInvocation = lastInvocationAware.getLastInvocation();\r\n    \r\n        StaticPathLinkBuilder staticPathLinkBuilder = getThis();\r\n        return staticPathLinkBuilder.linkTo(methodInvocation.getMethod(), methodInvocation.getArguments());\r\n      }\r\n\r\nI can&#39;t find how to replace `InvocationRecordingMethodInterceptor`, `LastInvocationAware` and `MethodInvocation` in order to use the latest version of hateos. Can you give me advise how to fix this code?\r\n","title":"Replace deprecated InvocationRecordingMethodInterceptor","body":"<p>I have this old hateos code which I would like to migrate to latest Spring hateos version</p>\n<pre><code>import org.springframework.hateoas.core.DummyInvocationUtils;\n\npublic LinkBuilder linkTo(Object dummyInvocation) {\n    if (!(dummyInvocation instanceof DummyInvocationUtils.InvocationRecordingMethodInterceptor)) {\n      IllegalArgumentException cause =\n          new IllegalArgumentException(&quot;linkTo(Object) must be call with a dummyInvocation&quot;);\n      throw InternalErrorException.builder()\n          .cause(cause)\n          .build();\n    }\n    DummyInvocationUtils.LastInvocationAware lastInvocationAware =\n        (DummyInvocationUtils.LastInvocationAware) dummyInvocation;\n\n    DummyInvocationUtils.MethodInvocation methodInvocation = lastInvocationAware.getLastInvocation();\n\n    StaticPathLinkBuilder staticPathLinkBuilder = getThis();\n    return staticPathLinkBuilder.linkTo(methodInvocation.getMethod(), methodInvocation.getArguments());\n  }\n</code></pre>\n<p>I can't find how to replace <code>InvocationRecordingMethodInterceptor</code>, <code>LastInvocationAware</code> and <code>MethodInvocation</code> in order to use the latest version of hateos. Can you give me advise how to fix this code?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1653325527,"post_id":72352242,"comment_id":127819454,"body_markdown":"Don&#39;t include the file as a resource; instead look for it on startup in a &quot;well known location&quot; (typically this would be a folder called `.myapp` in the user&#39;s home directory, where &quot;myapp&quot; is the name of your application). If it doesn&#39;t exist, show a dialog that requests the required information, and then write the file, and then proceed. (You can also omit the password from the file, if the user chooses, and prompt for it, etc.)","body":"Don&#39;t include the file as a resource; instead look for it on startup in a &quot;well known location&quot; (typically this would be a folder called <code>.myapp</code> in the user&#39;s home directory, where &quot;myapp&quot; is the name of your application). If it doesn&#39;t exist, show a dialog that requests the required information, and then write the file, and then proceed. (You can also omit the password from the file, if the user chooses, and prompt for it, etc.)"},{"owner":{"account_id":23808279,"reputation":199,"user_id":17817458,"display_name":"Mohamad S."},"score":0,"creation_date":1653328069,"post_id":72352242,"comment_id":127820323,"body_markdown":"@James_D to be honest I didn&#39;t understand anything at all so if you could provide a link for a youtube video or so that explains the matter it&#39;ll be perfect.","body":"@James_D to be honest I didn&#39;t understand anything at all so if you could provide a link for a youtube video or so that explains the matter it&#39;ll be perfect."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1653328112,"post_id":72352242,"comment_id":127820341,"body_markdown":"I don&#39;t have any link. Just follow the logic as I explained it.","body":"I don&#39;t have any link. Just follow the logic as I explained it."},{"owner":{"account_id":23808279,"reputation":199,"user_id":17817458,"display_name":"Mohamad S."},"score":0,"creation_date":1653328475,"post_id":72352242,"comment_id":127820490,"body_markdown":"Fine so go move the comment and make it an answer so I can confirm it!","body":"Fine so go move the comment and make it an answer so I can confirm it!"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653330356,"creation_date":1653330356,"answer_id":72353241,"question_id":72352242,"body_markdown":"Generally, for configuration that is client-specific, you should not include the configuration as a resource but should let the user specify it. If the configuration is unlikely to change from run to run of an application for a specific user (which is usual), you should allow the user to save it to a file to avoid having to input the information on application startup every time.\r\n\r\nNote that there are many different ways to integrate Spring and JavaFX, and to integrate Hibernate and Spring, so I will not include that in this answer; you will need to figure out how to integrate this approach with whichever approaches you are using for those.\r\n\r\nThe idea looks something like this:\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Properties hibernateProps = getHibernateProps();\r\n            if (hibernateProps != null) {\r\n                // start spring and pass it the hibernate properties...\r\n                // start the UI in the usual way...\r\n                stage.show();\r\n            } else {\r\n                // can&#39;t run without these properties, just bail\r\n                Platform.exit();\r\n            }\r\n        }\r\n    \r\n        private Properties getHibernateProperties() {\r\n            Properties props = new Properties();\r\n            Path propertiesFile = Paths.get(\r\n                System.getProperty(&quot;user.home&quot;), \r\n                &quot;.myapp&quot;,\r\n                &quot;hibernate.properties&quot;\r\n            );\r\n            if (Files.exists(propertiesFile)) {\r\n                props.load(Files.newBufferedReader(propertiesFile));\r\n            } else {\r\n                getHibernatePropsFromUser(props, propertiesFile);\r\n            }\r\n            if (props.isEmpty()) {\r\n                return null ;\r\n            }\r\n            if (props.getProperty(&quot;hibernate.connection.password&quot;)==null) {\r\n                props.setProperty(&quot;hibernate.connection.password&quot;, promptUserForDbPassword(props));\r\n            }\r\n            return props ;\r\n        }\r\n    \r\n        private void getHibernatePropsFromUser(props, propertiesFile) {\r\n            GridPane grid = new GridPane();\r\n            ColumnConstraints leftCol = new ColumnConstraints();\r\n            leftCol.setHalignment(HPos.RIGHT);\r\n            leftCol.setHgrow(Priority.NEVER);\r\n            ColumnConstraints rightCol = new ColumnContraints();\r\n            rightCol.setHgrow(Priority.ALWAYS);\r\n            rightCol.setFillWidth(true);\r\n            grid.getColumnConstraints().addAll(leftCol, rightCol);\r\n            grid.addColumn(0, \r\n                new Label(&quot;Database name:&quot;),\r\n                new Label(&quot;Database user:&quot;),\r\n                new Label(&quot;Database password:&quot;),\r\n                new Label(&quot;Save password?&quot;)\r\n            );\r\n            TextField name = new TextField();\r\n            TextField user = new TextField();\r\n            PasswordField password = new PasswordField();\r\n            CheckBox savePW = new CheckBox();\r\n            grid.addColumn(1, name, user, password, savePW);\r\n            Button ok = new Button(&quot;OK&quot;);\r\n            Button cancel = new Button(&quot;Cancel&quot;);\r\n            HBox buttons = new HBox(5, ok, cancel);\r\n            buttons.setAlignment(Pos.CENTER);\r\n            grid.add(buttons, 0, 4, 2, 1);\r\n            Scene scene = new Scene(grid);\r\n            Stage stage = new Stage();\r\n            stage.setScene(scene);\r\n            ok.setOnAction(e -&gt; {\r\n                props.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/&quot;+name.getText()+&quot;mypersonaldatabase?serverTimezone=UTC&quot;);\r\n                props.setProperty(&quot;hibernate.connection.username&quot;, user.getText());\r\n                if (savePW.isSelected()) {\r\n                    props.setProperty(&quot;hibernate.connection.password&quot;, password.getText());\r\n                }\r\n                props.setProperty(...) ; // hard-coded properties\r\n                props.write(Files.newBufferedWriter(propertiesFile));\r\n                props.setProperty(&quot;hibernate.connection.password&quot;, password.getText());\r\n                stage.close();\r\n            });\r\n            cancel.setOnAction(e -&gt; stage.close());\r\n            stage.showAndWait();\r\n        }\r\n    \r\n        private void promptUserForDBPassword(Properties props) {\r\n            // show a &quot;enter password&quot; dialog and save password to props...\r\n        }\r\n    }","title":"How can I get the client database settings automatically?","body":"<p>Generally, for configuration that is client-specific, you should not include the configuration as a resource but should let the user specify it. If the configuration is unlikely to change from run to run of an application for a specific user (which is usual), you should allow the user to save it to a file to avoid having to input the information on application startup every time.</p>\n<p>Note that there are many different ways to integrate Spring and JavaFX, and to integrate Hibernate and Spring, so I will not include that in this answer; you will need to figure out how to integrate this approach with whichever approaches you are using for those.</p>\n<p>The idea looks something like this:</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Properties hibernateProps = getHibernateProps();\n        if (hibernateProps != null) {\n            // start spring and pass it the hibernate properties...\n            // start the UI in the usual way...\n            stage.show();\n        } else {\n            // can't run without these properties, just bail\n            Platform.exit();\n        }\n    }\n\n    private Properties getHibernateProperties() {\n        Properties props = new Properties();\n        Path propertiesFile = Paths.get(\n            System.getProperty(&quot;user.home&quot;), \n            &quot;.myapp&quot;,\n            &quot;hibernate.properties&quot;\n        );\n        if (Files.exists(propertiesFile)) {\n            props.load(Files.newBufferedReader(propertiesFile));\n        } else {\n            getHibernatePropsFromUser(props, propertiesFile);\n        }\n        if (props.isEmpty()) {\n            return null ;\n        }\n        if (props.getProperty(&quot;hibernate.connection.password&quot;)==null) {\n            props.setProperty(&quot;hibernate.connection.password&quot;, promptUserForDbPassword(props));\n        }\n        return props ;\n    }\n\n    private void getHibernatePropsFromUser(props, propertiesFile) {\n        GridPane grid = new GridPane();\n        ColumnConstraints leftCol = new ColumnConstraints();\n        leftCol.setHalignment(HPos.RIGHT);\n        leftCol.setHgrow(Priority.NEVER);\n        ColumnConstraints rightCol = new ColumnContraints();\n        rightCol.setHgrow(Priority.ALWAYS);\n        rightCol.setFillWidth(true);\n        grid.getColumnConstraints().addAll(leftCol, rightCol);\n        grid.addColumn(0, \n            new Label(&quot;Database name:&quot;),\n            new Label(&quot;Database user:&quot;),\n            new Label(&quot;Database password:&quot;),\n            new Label(&quot;Save password?&quot;)\n        );\n        TextField name = new TextField();\n        TextField user = new TextField();\n        PasswordField password = new PasswordField();\n        CheckBox savePW = new CheckBox();\n        grid.addColumn(1, name, user, password, savePW);\n        Button ok = new Button(&quot;OK&quot;);\n        Button cancel = new Button(&quot;Cancel&quot;);\n        HBox buttons = new HBox(5, ok, cancel);\n        buttons.setAlignment(Pos.CENTER);\n        grid.add(buttons, 0, 4, 2, 1);\n        Scene scene = new Scene(grid);\n        Stage stage = new Stage();\n        stage.setScene(scene);\n        ok.setOnAction(e -&gt; {\n            props.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/&quot;+name.getText()+&quot;mypersonaldatabase?serverTimezone=UTC&quot;);\n            props.setProperty(&quot;hibernate.connection.username&quot;, user.getText());\n            if (savePW.isSelected()) {\n                props.setProperty(&quot;hibernate.connection.password&quot;, password.getText());\n            }\n            props.setProperty(...) ; // hard-coded properties\n            props.write(Files.newBufferedWriter(propertiesFile));\n            props.setProperty(&quot;hibernate.connection.password&quot;, password.getText());\n            stage.close();\n        });\n        cancel.setOnAction(e -&gt; stage.close());\n        stage.showAndWait();\n    }\n\n    private void promptUserForDBPassword(Properties props) {\n        // show a &quot;enter password&quot; dialog and save password to props...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23808279,"reputation":199,"user_id":17817458,"display_name":"Mohamad S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653342752,"creation_date":1653325120,"question_id":72352242,"body_markdown":"I&#39;ve been working on a project lately and everything is fine until I try to send to project to someone.\r\n\r\nSo I have a `hibernate.properties` file that looks like this:\r\n\r\n```\r\nhibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nhibernate.connection.driver_class = com.mysql.cj.jdbc.Driver\r\nhibernate.show-sql = true\r\nhibernate.hbm2ddl.auto = update\r\nhibernate.connection.url = jdbc:mysql://localhost:3306/mypersonaldatabase?serverTimezone=UTC\r\nhibernate.connection.username = root\r\nhibernate.connection.password = example\r\n```\r\n\r\nAs mentioned above, there are two problems when I send the project to someone:\r\n\r\n1. he has to create a database with the name I settled in `hibernate.properties` (which is `mypersonaldatabase` in the code above).\r\n\r\n2. He has to set his database password which is with high probability different from mine (which is `example` in the above code).\r\n\r\nI know that this problem is easily solved by changing what I&#39;ve mentioned above manually in the project file but this would be more problematic when I send the project as a JAR file.\r\n\r\nI know that jAR still can be accessed, opened, and then change manually but it&#39;s still not nice to do so.\r\n\r\nSo is there any possible solution for this?","title":"How can I get the client database settings automatically?","body":"<p>I've been working on a project lately and everything is fine until I try to send to project to someone.</p>\n<p>So I have a <code>hibernate.properties</code> file that looks like this:</p>\n<pre><code>hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nhibernate.connection.driver_class = com.mysql.cj.jdbc.Driver\nhibernate.show-sql = true\nhibernate.hbm2ddl.auto = update\nhibernate.connection.url = jdbc:mysql://localhost:3306/mypersonaldatabase?serverTimezone=UTC\nhibernate.connection.username = root\nhibernate.connection.password = example\n</code></pre>\n<p>As mentioned above, there are two problems when I send the project to someone:</p>\n<ol>\n<li><p>he has to create a database with the name I settled in <code>hibernate.properties</code> (which is <code>mypersonaldatabase</code> in the code above).</p>\n</li>\n<li><p>He has to set his database password which is with high probability different from mine (which is <code>example</code> in the above code).</p>\n</li>\n</ol>\n<p>I know that this problem is easily solved by changing what I've mentioned above manually in the project file but this would be more problematic when I send the project as a JAR file.</p>\n<p>I know that jAR still can be accessed, opened, and then change manually but it's still not nice to do so.</p>\n<p>So is there any possible solution for this?</p>\n"},{"tags":["java","spring-boot","spring-kafka","health-monitoring","non-web"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653200394,"creation_date":1653197553,"answer_id":72335027,"question_id":72334860,"body_markdown":"Popular way for checking application&#39;s health is using Spring Boot actuator module it checks different aspects of application, It seems that you should use this module and implement custom end point for checking your application health:\r\n\r\n[Health Indicators in Spring Boot][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-health-indicators\r\n\r\nI have not any ready source code for calling actuator methods manually but you can try this:\r\nDefine a command line argument for running actuator health check.\r\nDisable actuator end points:\r\n\r\n    management.endpoints.enabled-by-default=false\r\nCall actuator health check:\r\n\r\n    @Autowired\r\n    private HealthEndpoint healthEndpoint;\r\n    \r\n    public Health getAlive() {\r\n        return healthEndpoint.health();\r\n    }\r\nParse returned Health object and print a string in command line that indicates health status of application.\r\nGrab the printed health status string by grep command.","title":"Monitoring Health of a Non web spring boot application","body":"<p>Popular way for checking application's health is using Spring Boot actuator module it checks different aspects of application, It seems that you should use this module and implement custom end point for checking your application health:</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-health-indicators\" rel=\"nofollow noreferrer\">Health Indicators in Spring Boot</a></p>\n<p>I have not any ready source code for calling actuator methods manually but you can try this:\nDefine a command line argument for running actuator health check.\nDisable actuator end points:</p>\n<pre><code>management.endpoints.enabled-by-default=false\n</code></pre>\n<p>Call actuator health check:</p>\n<pre><code>@Autowired\nprivate HealthEndpoint healthEndpoint;\n\npublic Health getAlive() {\n    return healthEndpoint.health();\n}\n</code></pre>\n<p>Parse returned Health object and print a string in command line that indicates health status of application.\nGrab the printed health status string by grep command.</p>\n"},{"tags":[],"owner":{"account_id":1844841,"reputation":82,"user_id":1673422,"display_name":"Emad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653199498,"creation_date":1653199498,"answer_id":72335183,"question_id":72334860,"body_markdown":"you need to schedule a job in the spring boot application that checks whatever needs to be checked \r\n\r\nand write the health check result to a file in the container \r\n\r\nyou can have a cronjob on container level to check output of the spring \r\napplication in the file and make a final decision about the health status of the container","title":"Monitoring Health of a Non web spring boot application","body":"<p>you need to schedule a job in the spring boot application that checks whatever needs to be checked</p>\n<p>and write the health check result to a file in the container</p>\n<p>you can have a cronjob on container level to check output of the spring\napplication in the file and make a final decision about the health status of the container</p>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653342300,"creation_date":1653342300,"answer_id":72355106,"question_id":72334860,"body_markdown":"As outlined [in the Spring Boot reference documentation][1], you can use the built-in liveness and readiness events.\r\n\r\nYou could add a custom listener for readiness state events to your application. As soon as your application is ready (after startup), you could create a file (and write stuff to it). \r\n\r\n```java\r\n@Component\r\npublic class MyReadinessStateExporter {\r\n\r\n    @EventListener\r\n    public void onStateChange(AvailabilityChangeEvent&lt;ReadinessState&gt; event) {\r\n        switch (event.getState()) {\r\n        case ACCEPTING_TRAFFIC:\r\n            // create file /tmp/healthy\r\n            break;\r\n        case REFUSING_TRAFFIC:\r\n            // remove file /tmp/healthy\r\n            break;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAs explained in the same section, you can publish an `AvailabilityChangeEvent` from any component - the exporter will delete the file and let other systems know that it&#39;s not healthy.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.application-availability.managing","title":"Monitoring Health of a Non web spring boot application","body":"<p>As outlined <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.application-availability.managing\" rel=\"nofollow noreferrer\">in the Spring Boot reference documentation</a>, you can use the built-in liveness and readiness events.</p>\n<p>You could add a custom listener for readiness state events to your application. As soon as your application is ready (after startup), you could create a file (and write stuff to it).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyReadinessStateExporter {\n\n    @EventListener\n    public void onStateChange(AvailabilityChangeEvent&lt;ReadinessState&gt; event) {\n        switch (event.getState()) {\n        case ACCEPTING_TRAFFIC:\n            // create file /tmp/healthy\n            break;\n        case REFUSING_TRAFFIC:\n            // remove file /tmp/healthy\n            break;\n        }\n    }\n\n}\n\n</code></pre>\n<p>As explained in the same section, you can publish an <code>AvailabilityChangeEvent</code> from any component - the exporter will delete the file and let other systems know that it's not healthy.</p>\n"}],"owner":{"account_id":21886683,"reputation":61,"user_id":16174241,"display_name":"Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72335183,"answer_count":3,"score":1,"last_activity_date":1653342300,"creation_date":1653194701,"question_id":72334860,"body_markdown":"I have a Kafka consumer built using spring boot and spring-kafka. It is not a Web Application (only `spring-boot-starter` dependency) and hence there is no port that is exposed by the application. And I donot want to expose a port just for the sake of health checks. \r\n\r\nThis kafka consumer application is being packaged as a docker image. The CI/CD pipeline has a stage that verifies if the container is up and the service is started. One option I thought was to check for an active java process that uses the service jar file.\r\n```\r\nps aux | grep java ...\r\n```\r\nBut the catch here is that a Kafka consumer can keep running for a while if the Kafka broker is not up and eventually stop with errors. So, using the process based approach is not reliable always. \r\n\r\nAre there any other alternative options to find out if the application is up and running fine, given that the application is a standalone non-web app?","title":"Monitoring Health of a Non web spring boot application","body":"<p>I have a Kafka consumer built using spring boot and spring-kafka. It is not a Web Application (only <code>spring-boot-starter</code> dependency) and hence there is no port that is exposed by the application. And I donot want to expose a port just for the sake of health checks.</p>\n<p>This kafka consumer application is being packaged as a docker image. The CI/CD pipeline has a stage that verifies if the container is up and the service is started. One option I thought was to check for an active java process that uses the service jar file.</p>\n<pre><code>ps aux | grep java ...\n</code></pre>\n<p>But the catch here is that a Kafka consumer can keep running for a while if the Kafka broker is not up and eventually stop with errors. So, using the process based approach is not reliable always.</p>\n<p>Are there any other alternative options to find out if the application is up and running fine, given that the application is a standalone non-web app?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653325058,"post_id":72352142,"comment_id":127819301,"body_markdown":"Looks fine to me, but your Person attributes should be protected, not private","body":"Looks fine to me, but your Person attributes should be protected, not private"},{"owner":{"account_id":25357340,"reputation":11,"user_id":19173252,"display_name":"chogiwa12"},"score":0,"creation_date":1653325137,"post_id":72352142,"comment_id":127819325,"body_markdown":"Thank you! I have added one more question, can you please check it one more time?","body":"Thank you! I have added one more question, can you please check it one more time?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653325378,"post_id":72352142,"comment_id":127819404,"body_markdown":"Extends is also fine. But you can only have one `public class` per file, and the name of the file needs to match that class.","body":"Extends is also fine. But you can only have one <code>public class</code> per file, and the name of the file needs to match that class."},{"owner":{"account_id":25357340,"reputation":11,"user_id":19173252,"display_name":"chogiwa12"},"score":0,"creation_date":1653325422,"post_id":72352142,"comment_id":127819418,"body_markdown":"If I were to create a School class and specified the number of students a class can have, would I use ArrayLists or  would Arrays be enough?","body":"If I were to create a School class and specified the number of students a class can have, would I use ArrayLists or  would Arrays be enough?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653325518,"post_id":72352142,"comment_id":127819449,"body_markdown":"Depends how you&#39;re willing to handle the null values within the array or if you want to always check the size of the arraylist","body":"Depends how you&#39;re willing to handle the null values within the array or if you want to always check the size of the arraylist"},{"owner":{"account_id":25357340,"reputation":11,"user_id":19173252,"display_name":"chogiwa12"},"score":0,"creation_date":1653325621,"post_id":72352142,"comment_id":127819486,"body_markdown":"I wont be implementing a main method, I just need to model a School System. Maybe I could create a constructor for Classromm class  Classroom(....,....) How would that be?","body":"I wont be implementing a main method, I just need to model a School System. Maybe I could create a constructor for Classromm class  Classroom(....,....) How would that be?"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653327860,"creation_date":1653327860,"answer_id":72352784,"question_id":72352142,"body_markdown":"You have the basic idea down, but I would consider the following:\r\n\r\nYou&#39;re mixing implementation patterns.  I would either use an enum to mark a job (not a string) or use subclasses, but not both simultaneously. I would lean more towards the subclassing myself; just ditch the `job` field, it&#39;s unnecessary.\r\n\r\nAs for the student list, I would subclass ArrayList and simply override `add` and `addAll` to check the size of itself and throw an Exception when trying to add more than the limit.\r\n\r\nYour classroom then becomes something like:\r\n\r\n    public class Classroom {\r\n        private Teacher teacher;\r\n        private List&lt;Student&gt; students;\r\n\r\n        public Classroom(Teacher teacher, List&lt;Student&gt; students) {\r\n             this.teacher = teacher;\r\n             this.students = new LimitedList(students, 30); //class you should make\r\n        }\r\n    }","title":"Modelling a School in Java","body":"<p>You have the basic idea down, but I would consider the following:</p>\n<p>You're mixing implementation patterns.  I would either use an enum to mark a job (not a string) or use subclasses, but not both simultaneously. I would lean more towards the subclassing myself; just ditch the <code>job</code> field, it's unnecessary.</p>\n<p>As for the student list, I would subclass ArrayList and simply override <code>add</code> and <code>addAll</code> to check the size of itself and throw an Exception when trying to add more than the limit.</p>\n<p>Your classroom then becomes something like:</p>\n<pre><code>public class Classroom {\n    private Teacher teacher;\n    private List&lt;Student&gt; students;\n\n    public Classroom(Teacher teacher, List&lt;Student&gt; students) {\n         this.teacher = teacher;\n         this.students = new LimitedList(students, 30); //class you should make\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653341936,"creation_date":1653328611,"answer_id":72352931,"question_id":72352142,"body_markdown":"For clarity, change `name` to `givenName`. See [Wikipedia][1]. \r\n\r\n    private String givenName;\r\n    private String surname;\r\n\r\n\r\nAge should be an integer, not text.\r\n\r\n    private int age;\r\n\r\nIf all the possible jobs are known at compile-time, use Java’s powerful flexible enum facility. See [tutorial][2] by Oracle.\r\n\r\n    enum Job { TEACHER , ADMINISTRATOR , STUDENT } \r\n\r\nBut actually, you have no need for the job. You have subclasses for teacher and student. So noting their job is superfluous. \r\n\r\nChoose which route you want to go:\r\n\r\n - `Person` class with a `job` member field of type `Job` enum.\r\n - Subclasses `Teacher` &amp; `Student`.\r\n\r\nBoth routes are valid, each with pros and cons. But don’t mix the two. \r\n\r\nYou asked: \r\n\r\n&gt;is using &quot;extends&quot; to create teacher and student class a good practice?\r\n\r\nYes, if you choose the second of the two bullets above. \r\n\r\n\r\n\r\n`Classroom` should be its own class, not `private` as you marked it. Yes you could use arrays. But using the [Java Collections framework][3] is much more flexible and convenient. \r\n\r\n```java\r\npublic Classroom \r\n{\r\n    private Teacher teacher ;\r\n    private Set&lt; Student &gt; students ;\r\n\r\n    … add constructor \r\n\r\n    … add getters, and possible setters\r\n\r\n}\r\n```\r\nYou asked:\r\n\r\n&gt;would I use ArrayLists or would Arrays be enough?\r\n\r\nGenerally best to use the collections such as `List` and `Set`. When speed is crucial, or memory is limited, use arrays. \r\n\r\nYou asked:\r\n\r\n&gt;should Person,Student,Teacher be in the same file or separated?\r\n\r\nYes, generally best to keep each class in its own `.java` file. Using an [IDE][4] makes navigating between the files quite easy: *IntelliJ*, *NetBeans*, *Eclipse*. \r\n\r\n&gt;create a School class\r\n\r\n    public class School\r\n    {\r\n        String schoolName ;\r\n        Administrator principal ;\r\n        Set&lt; Classroom &gt; classrooms ; \r\n        …\r\n    }\r\n\r\nYou asked:\r\n\r\n&gt;is it possible to do without a main method?\r\n\r\nFirst define your model of the real world, as you are doing. Decide on the structure of your “problem domain” classes such as school, classroom, teacher, student, etc. \r\n\r\nThe `main` method is the entry point for running your app. This is where you start to instantiate objects. You take input from the user, or from files, or from a database, and use that data to make objects from your classes. \r\n\r\n\r\n&gt;How do I assign 30 students and a teacher to a classroom?\r\n\r\nIn your main method, or some method called later:\r\n\r\n    Set&lt; Student &gt; students = new HashSet&lt;&gt;() ;\r\n    students.add( new Student( … ) ) ;\r\n    students.add( new Student( … ) ) ;\r\n    …\r\n    Teacher teacher = new Teacher( … ) ;\r\n    Classroom classroom = new Classroom( teacher , students ) ;\r\n\r\nYou asked: \r\n\r\n&gt;specified the number of students a class can have\r\n\r\nSetting a limit on the number of students in a class is part of what is known as [data validation][5]. You’ll have to write code for that, checking the limit as you add students. \r\n\r\nThe [*Jakarta Bean Validation*][6] framework can help with that chore. (For real work, not for your simple schoolwork project.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Given_name\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [3]: https://en.wikipedia.org/wiki/Java_collections_framework\r\n  [4]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [5]: https://en.wikipedia.org/wiki/Data_validation\r\n  [6]: https://en.wikipedia.org/wiki/Bean_Validation","title":"Modelling a School in Java","body":"<p>For clarity, change <code>name</code> to <code>givenName</code>. See <a href=\"https://en.wikipedia.org/wiki/Given_name\" rel=\"nofollow noreferrer\">Wikipedia</a>.</p>\n<pre><code>private String givenName;\nprivate String surname;\n</code></pre>\n<p>Age should be an integer, not text.</p>\n<pre><code>private int age;\n</code></pre>\n<p>If all the possible jobs are known at compile-time, use Java’s powerful flexible enum facility. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">tutorial</a> by Oracle.</p>\n<pre><code>enum Job { TEACHER , ADMINISTRATOR , STUDENT } \n</code></pre>\n<p>But actually, you have no need for the job. You have subclasses for teacher and student. So noting their job is superfluous.</p>\n<p>Choose which route you want to go:</p>\n<ul>\n<li><code>Person</code> class with a <code>job</code> member field of type <code>Job</code> enum.</li>\n<li>Subclasses <code>Teacher</code> &amp; <code>Student</code>.</li>\n</ul>\n<p>Both routes are valid, each with pros and cons. But don’t mix the two.</p>\n<p>You asked:</p>\n<blockquote>\n<p>is using &quot;extends&quot; to create teacher and student class a good practice?</p>\n</blockquote>\n<p>Yes, if you choose the second of the two bullets above.</p>\n<p><code>Classroom</code> should be its own class, not <code>private</code> as you marked it. Yes you could use arrays. But using the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections framework</a> is much more flexible and convenient.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Classroom \n{\n    private Teacher teacher ;\n    private Set&lt; Student &gt; students ;\n\n    … add constructor \n\n    … add getters, and possible setters\n\n}\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>would I use ArrayLists or would Arrays be enough?</p>\n</blockquote>\n<p>Generally best to use the collections such as <code>List</code> and <code>Set</code>. When speed is crucial, or memory is limited, use arrays.</p>\n<p>You asked:</p>\n<blockquote>\n<p>should Person,Student,Teacher be in the same file or separated?</p>\n</blockquote>\n<p>Yes, generally best to keep each class in its own <code>.java</code> file. Using an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> makes navigating between the files quite easy: <em>IntelliJ</em>, <em>NetBeans</em>, <em>Eclipse</em>.</p>\n<blockquote>\n<p>create a School class</p>\n</blockquote>\n<pre><code>public class School\n{\n    String schoolName ;\n    Administrator principal ;\n    Set&lt; Classroom &gt; classrooms ; \n    …\n}\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>is it possible to do without a main method?</p>\n</blockquote>\n<p>First define your model of the real world, as you are doing. Decide on the structure of your “problem domain” classes such as school, classroom, teacher, student, etc.</p>\n<p>The <code>main</code> method is the entry point for running your app. This is where you start to instantiate objects. You take input from the user, or from files, or from a database, and use that data to make objects from your classes.</p>\n<blockquote>\n<p>How do I assign 30 students and a teacher to a classroom?</p>\n</blockquote>\n<p>In your main method, or some method called later:</p>\n<pre><code>Set&lt; Student &gt; students = new HashSet&lt;&gt;() ;\nstudents.add( new Student( … ) ) ;\nstudents.add( new Student( … ) ) ;\n…\nTeacher teacher = new Teacher( … ) ;\nClassroom classroom = new Classroom( teacher , students ) ;\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>specified the number of students a class can have</p>\n</blockquote>\n<p>Setting a limit on the number of students in a class is part of what is known as <a href=\"https://en.wikipedia.org/wiki/Data_validation\" rel=\"nofollow noreferrer\">data validation</a>. You’ll have to write code for that, checking the limit as you add students.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Bean_Validation\" rel=\"nofollow noreferrer\"><em>Jakarta Bean Validation</em></a> framework can help with that chore. (For real work, not for your simple schoolwork project.)</p>\n"}],"owner":{"account_id":25357340,"reputation":11,"user_id":19173252,"display_name":"chogiwa12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72352931,"answer_count":2,"score":0,"last_activity_date":1653341936,"creation_date":1653324610,"question_id":72352142,"body_markdown":"I have been trying to model a school in Java(no main method, just attributes). How do I assign 30 students and a teacher to a classroom?( is it possible to do without a main method?)\r\n\r\n    public class Person{\r\n      private String name;\r\n      private String surname;\r\n      private String age;\r\n      private String job;\r\n    }\r\n\r\n    public class Teacher extends Person{\r\n      private String job = &quot;teacher&quot;;\r\n    }\r\n\r\n    public class Student extends Person{\r\n      private String job = &quot;student&quot;;\r\n    }\r\n\r\n    private class Classroom{\r\n\r\n      //  1 teacher and max. 30 students per classroom\r\n\r\n    }\r\n\r\nMy best guess: Using Arrays?\r\n\r\n    private Student[] students = new Student[30]; // there can be less students so would this be okay?\r\n    private Teacher classroomTeacher;\r\n\r\n\r\n\r\nOne last question, is using &quot;extends&quot; to create teacher and student class a good practice? If not, how can I improve it? If so, should Person,Student,Teacher be in the same file or seperated?\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class School{\r\n      private enum schoolTypes{\r\n        ArtSchool,\r\n        ScienceSchool,\r\n        SportsSchool,\r\n      }\r\n      private Classroom classrooms;\r\n      \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf I were to create a School class and specified the number of students a class can have, would I use ArrayLists or would Arrays be enough?","title":"Modelling a School in Java","body":"<p>I have been trying to model a school in Java(no main method, just attributes). How do I assign 30 students and a teacher to a classroom?( is it possible to do without a main method?)</p>\n<pre><code>public class Person{\n  private String name;\n  private String surname;\n  private String age;\n  private String job;\n}\n\npublic class Teacher extends Person{\n  private String job = &quot;teacher&quot;;\n}\n\npublic class Student extends Person{\n  private String job = &quot;student&quot;;\n}\n\nprivate class Classroom{\n\n  //  1 teacher and max. 30 students per classroom\n\n}\n</code></pre>\n<p>My best guess: Using Arrays?</p>\n<pre><code>private Student[] students = new Student[30]; // there can be less students so would this be okay?\nprivate Teacher classroomTeacher;\n</code></pre>\n<p>One last question, is using &quot;extends&quot; to create teacher and student class a good practice? If not, how can I improve it? If so, should Person,Student,Teacher be in the same file or seperated?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class School{\n  private enum schoolTypes{\n    ArtSchool,\n    ScienceSchool,\n    SportsSchool,\n  }\n  private Classroom classrooms;\n  \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If I were to create a School class and specified the number of students a class can have, would I use ArrayLists or would Arrays be enough?</p>\n"},{"tags":["java","github","merge"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653341897,"post_id":72354606,"comment_id":127824376,"body_markdown":"Looks like you have largely similar (I&#39;m assuming generated) code. How are you performing the merge? In conflicting files, there&#39;s typically a process (`git merge`) to actually determine what parts you wish to keep, and if you are ignoring that (and simply &quot;merging&quot; one) then you may be overwriting it. Similarly you could have one person commit their code, and the other one `pull` the code before commiting.","body":"Looks like you have largely similar (I&#39;m assuming generated) code. How are you performing the merge? In conflicting files, there&#39;s typically a process (<code>git merge</code>) to actually determine what parts you wish to keep, and if you are ignoring that (and simply &quot;merging&quot; one) then you may be overwriting it. Similarly you could have one person commit their code, and the other one <code>pull</code> the code before commiting."},{"owner":{"account_id":11621742,"reputation":25,"user_id":8512845,"display_name":"SyedAfaq"},"score":0,"creation_date":1653403863,"post_id":72354606,"comment_id":127841376,"body_markdown":"@Rogue how can i do &quot;git merge&quot; process do i need to learn git for this or can this be done in Github?","body":"@Rogue how can i do &quot;git merge&quot; process do i need to learn git for this or can this be done in Github?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653404923,"post_id":72354606,"comment_id":127841864,"body_markdown":"An IDE will typically have a prompt window you can use to visually perform the merge, but yes, you will need to actually perform the merge properly to do it. git (or your IDE) should prompt you to perform a merge when you attempt to pull the first commit into the local repository that contains the second &quot;chunk&quot; of code you need to commit.","body":"An IDE will typically have a prompt window you can use to visually perform the merge, but yes, you will need to actually perform the merge properly to do it. git (or your IDE) should prompt you to perform a merge when you attempt to pull the first commit into the local repository that contains the second &quot;chunk&quot; of code you need to commit."}],"owner":{"account_id":11621742,"reputation":25,"user_id":8512845,"display_name":"SyedAfaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653341666,"creation_date":1653338617,"question_id":72354606,"body_markdown":"Hello I have a university project in which There is a netbeans JFrame form file called &quot;gui.java&quot;. In the &quot;gui.java&quot; JFrame form file. there are two Main Panels: &quot;userTabPanel&quot; and &quot;adminTabPanel&quot;. I built the gui inside &quot;userTabPanel&quot; panel on my PC while my partner built the &quot;adminTabPanel&quot; panel on his PC. Now i wanted to merge the two &quot;gui.java&quot; files together but when i try to merge my partner code with mine it removes all the &quot;userTabPanel&quot; code and only the &quot;adminTabPanel&quot; code remains after the merge and vice versa.\r\n\r\nWe both have the same base files(project folders).The only difference is the code inside the gui.java files inside the project folders.\r\n\r\nHere is a picture of github pull request:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K6nIg.png\r\n\r\nAs you can see it&#39;s removing all the user Tab code and adding the admin Tab code. if i merge the opposite way it removes the admin Tab code and adds the user Tab code. is there any solution to this or do we have to make the complete gui first since i can&#39;t merge them ? ","title":"When merging two JFrame files github removes one of the files code","body":"<p>Hello I have a university project in which There is a netbeans JFrame form file called &quot;gui.java&quot;. In the &quot;gui.java&quot; JFrame form file. there are two Main Panels: &quot;userTabPanel&quot; and &quot;adminTabPanel&quot;. I built the gui inside &quot;userTabPanel&quot; panel on my PC while my partner built the &quot;adminTabPanel&quot; panel on his PC. Now i wanted to merge the two &quot;gui.java&quot; files together but when i try to merge my partner code with mine it removes all the &quot;userTabPanel&quot; code and only the &quot;adminTabPanel&quot; code remains after the merge and vice versa.</p>\n<p>We both have the same base files(project folders).The only difference is the code inside the gui.java files inside the project folders.</p>\n<p>Here is a picture of github pull request:\n<a href=\"https://i.stack.imgur.com/K6nIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6nIg.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see it's removing all the user Tab code and adding the admin Tab code. if i merge the opposite way it removes the admin Tab code and adds the user Tab code. is there any solution to this or do we have to make the complete gui first since i can't merge them ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1563497130,"post_id":57104181,"comment_id":100729150,"body_markdown":"You need to change the state of the button in response to the changes of the UI, in this case, I&#39;m guessing the `DocumentListener`s.","body":"You need to change the state of the button in response to the changes of the UI, in this case, I&#39;m guessing the <code>DocumentListener</code>s."},{"owner":{"account_id":11684960,"reputation":51,"user_id":11805678,"display_name":"Fornazari"},"score":0,"creation_date":1563498277,"post_id":57104181,"comment_id":100729335,"body_markdown":"I changed the Button state before adding the DocumentListener, tested it, and it haven&#39;t updated either. I guess that the problem isn&#39;t there.","body":"I changed the Button state before adding the DocumentListener, tested it, and it haven&#39;t updated either. I guess that the problem isn&#39;t there."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1563500469,"post_id":57104181,"comment_id":100729703,"body_markdown":"You need to set its initial state.  You then need to update it&#39;s state from WITHIN the `DocumentListener`s them selves - GUIs are event driven (not procedural), something happens (like the document been updated) and then your respond to it","body":"You need to set its initial state.  You then need to update it&#39;s state from WITHIN the <code>DocumentListener</code>s them selves - GUIs are event driven (not procedural), something happens (like the document been updated) and then your respond to it"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1563503397,"post_id":57104181,"comment_id":100730158,"body_markdown":"*&quot;Is it a Netbeans bug?&quot;* Very unlikely, but you can check by running the code from a different IDE or launching it from the command line. In future, only mention / tag the IDE if you have already confirmed it works from another environment.","body":"<i>&quot;Is it a Netbeans bug?&quot;</i> Very unlikely, but you can check by running the code from a different IDE or launching it from the command line. In future, only mention / tag the IDE if you have already confirmed it works from another environment."},{"owner":{"account_id":11684960,"reputation":51,"user_id":11805678,"display_name":"Fornazari"},"score":0,"creation_date":1563585105,"post_id":57104181,"comment_id":100760233,"body_markdown":"@MadProgrammer my code&#39;s doing that, isn&#39;t it? The thing is that I changed its initial state using the Properties menu (that one that&#39;s aside the code screen in the Project editing mode)","body":"@MadProgrammer my code&#39;s doing that, isn&#39;t it? The thing is that I changed its initial state using the Properties menu (that one that&#39;s aside the code screen in the Project editing mode)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1563586641,"post_id":57104181,"comment_id":100760414,"body_markdown":"No, it&#39;s changing the variable `a` but nothing is acting on that, your `if-else` statement is out side of the scope of the event handling","body":"No, it&#39;s changing the variable <code>a</code> but nothing is acting on that, your <code>if-else</code> statement is out side of the scope of the event handling"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653341511,"creation_date":1563587569,"answer_id":57121218,"question_id":57104181,"body_markdown":"If you want to effect the state of the button based on changes which have occurred on the text fields, then those actions need to take place in the action handlers themselves (ie, the `DocumentListener`s)\r\n\r\nThe following is a very basic example, which disables the &quot;action&quot; button until both the user name and password fields are no longer empty\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JPasswordField;\r\n\timport javax.swing.JTextField;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\timport javax.swing.event.DocumentEvent;\r\n\timport javax.swing.event.DocumentListener;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tprivate JTextField userNameField;\r\n\t\t\tprivate JPasswordField passwordField;\r\n\t\t\tprivate JButton actionButton;\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tuserNameField = new JTextField(15);\r\n\t\t\t\tpasswordField = new JPasswordField(15);\r\n\t\t\t\tactionButton = new JButton(&quot;Do stuff&quot;);\r\n\r\n\t\t\t\tactionButton.setEnabled(false);\r\n\r\n\t\t\t\tDocumentListener documentListener = new DocumentListener() {\r\n\r\n\t\t\t\t\tprotected void stateDidChange() {\r\n\t\t\t\t\t\tactionButton.setEnabled(userNameField.getText().length() &gt; 0 &amp;&amp; passwordField.getPassword().length &gt; 0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void insertUpdate(DocumentEvent e) {\r\n\t\t\t\t\t\tstateDidChange();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void removeUpdate(DocumentEvent e) {\r\n\t\t\t\t\t\tstateDidChange();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void changedUpdate(DocumentEvent e) {\r\n\t\t\t\t\t\tstateDidChange();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tuserNameField.getDocument().addDocumentListener(documentListener);\r\n\t\t\t\tpasswordField.getDocument().addDocumentListener(documentListener);\r\n\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.gridwidth = gbc.REMAINDER;\r\n\r\n\r\n\t\t\t\tadd(userNameField, gbc);\r\n\t\t\t\tadd(passwordField, gbc);\r\n\t\t\t\tadd(actionButton, gbc);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n&gt; Why is the initial state not been updated?\r\n\r\nYou define `a` as....\r\n\r\n    int a;\r\n\r\nwhich gives it a initial (or default) value of `0`.\r\n\r\nYou then use...\r\n\r\n    if(a == 2) {\r\n        if (bEntrar.isEnabled() == false) {\r\n            bEntrar.setEnabled(true);\r\n        }\r\n    }else{\r\n        if (bEntrar.isEnabled() == true) {\r\n            bEntrar.setEnabled(false);\r\n        }\r\n    }\r\n\r\nto change the initial state.  Since `a` is `0`, the `else` block is executed, the only condition which would change the button enabled state to `false` would be if the current enabled state is `true`\r\n\r\n&gt; But when I use Shift+F6 to run the code it doesn&#39;t work\r\n\r\nDo a &quot;clean and build&quot; and run the project, not the file.  In testing your code, the UI appears with the button already disabled\r\n","title":"Run file not updating changes in GUI using Swing","body":"<p>If you want to effect the state of the button based on changes which have occurred on the text fields, then those actions need to take place in the action handlers themselves (ie, the <code>DocumentListener</code>s)</p>\n<p>The following is a very basic example, which disables the &quot;action&quot; button until both the user name and password fields are no longer empty</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JTextField userNameField;\n        private JPasswordField passwordField;\n        private JButton actionButton;\n\n        public TestPane() {\n            userNameField = new JTextField(15);\n            passwordField = new JPasswordField(15);\n            actionButton = new JButton(&quot;Do stuff&quot;);\n\n            actionButton.setEnabled(false);\n\n            DocumentListener documentListener = new DocumentListener() {\n\n                protected void stateDidChange() {\n                    actionButton.setEnabled(userNameField.getText().length() &gt; 0 &amp;&amp; passwordField.getPassword().length &gt; 0);\n                }\n\n                @Override\n                public void insertUpdate(DocumentEvent e) {\n                    stateDidChange();\n                }\n\n                @Override\n                public void removeUpdate(DocumentEvent e) {\n                    stateDidChange();\n                }\n\n                @Override\n                public void changedUpdate(DocumentEvent e) {\n                    stateDidChange();\n                }\n            };\n\n            userNameField.getDocument().addDocumentListener(documentListener);\n            passwordField.getDocument().addDocumentListener(documentListener);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n\n\n            add(userNameField, gbc);\n            add(passwordField, gbc);\n            add(actionButton, gbc);\n        }\n\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Why is the initial state not been updated?</p>\n</blockquote>\n<p>You define <code>a</code> as....</p>\n<pre><code>int a;\n</code></pre>\n<p>which gives it a initial (or default) value of <code>0</code>.</p>\n<p>You then use...</p>\n<pre><code>if(a == 2) {\n    if (bEntrar.isEnabled() == false) {\n        bEntrar.setEnabled(true);\n    }\n}else{\n    if (bEntrar.isEnabled() == true) {\n        bEntrar.setEnabled(false);\n    }\n}\n</code></pre>\n<p>to change the initial state.  Since <code>a</code> is <code>0</code>, the <code>else</code> block is executed, the only condition which would change the button enabled state to <code>false</code> would be if the current enabled state is <code>true</code></p>\n<blockquote>\n<p>But when I use Shift+F6 to run the code it doesn't work</p>\n</blockquote>\n<p>Do a &quot;clean and build&quot; and run the project, not the file.  In testing your code, the UI appears with the button already disabled</p>\n"}],"owner":{"account_id":11684960,"reputation":51,"user_id":11805678,"display_name":"Fornazari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57121218,"answer_count":1,"score":0,"last_activity_date":1653341511,"creation_date":1563496700,"question_id":57104181,"body_markdown":"I&#39;m doing a login screen with Swing. I edited the enable property of the only button that exists in the screen - the &quot;Entrar&quot;, as shown in the picture below:\r\n\r\n[Login screen][1]\r\n\r\n\r\nBut, when I hit Shift-F6 (Run file) it doesn&#39;t shows the change:\r\n\r\n[Login Screen after running single file][2]\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\npackage view;\r\n\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.text.BadLocationException;\r\nimport javax.swing.text.Document;\r\n/**\r\n *\r\n * @author User\r\n */\r\npublic class Inicio extends javax.swing.JFrame {\r\n\r\n    String usuario;\r\n    String senha;\r\n    \r\n    int a;\r\n    \r\n    public Inicio() {  \r\n                      \r\n        initComponents();\r\n        \r\n        DocumentListener dUsuario = new DocumentListener(){\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                try {\r\n                    usuario = e.getDocument().getText(0, 0);\r\n                    a = 1;\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n            }\r\n\r\n            @Override\r\n             public void changedUpdate(DocumentEvent e) {\r\n                try {\r\n                    usuario = e.getDocument().getText(0, 0);\r\n                    a = 1;\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }    \r\n                                 \r\n        };\r\n        \r\n        DocumentListener dSenha = new DocumentListener(){\r\n            @Override\r\n            public void insertUpdate(DocumentEvent e) {\r\n                try {\r\n                    senha = e.getDocument().getText(0, 0);\r\n                    a = 2;\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void removeUpdate(DocumentEvent e) {\r\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n            }\r\n\r\n            @Override\r\n            public void changedUpdate(DocumentEvent e) {\r\n                try {\r\n                    senha = e.getDocument().getText(0, 0);\r\n                    a = 2;\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }   \r\n                                 \r\n        };\r\n        \r\n        tUsuario.getDocument().addDocumentListener(dUsuario);\r\n        tSenha.getDocument().addDocumentListener(dSenha);\r\n        \r\n        if(a == 2) {\r\n            if (bEntrar.isEnabled() == false) {\r\n                bEntrar.setEnabled(true);\r\n            }\r\n            \r\n        }else{\r\n            if (bEntrar.isEnabled() == true) {\r\n                bEntrar.setEnabled(false);\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        tSenha = new javax.swing.JPasswordField();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        tUsuario = new javax.swing.JFormattedTextField();\r\n        bEntrar = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n\r\n        jLabel1.setForeground(new java.awt.Color(153, 153, 153));\r\n        jLabel1.setText(&quot;Informe apenas os d&#237;gitos do CPF.&quot;);\r\n\r\n        jLabel2.setText(&quot;Senha:&quot;);\r\n\r\n        jLabel3.setText(&quot;CPF:&quot;);\r\n\r\n        jLabel4.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 18)); // NOI18N\r\n        jLabel4.setText(&quot;LOGIN&quot;);\r\n\r\n        try {\r\n            tUsuario.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter(&quot;###.###.###-##&quot;)));\r\n        } catch (java.text.ParseException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        bEntrar.setText(&quot;Entrar&quot;);\r\n        bEntrar.setEnabled(false);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(184, 184, 184)\r\n                .addComponent(jLabel4)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                .addGap(0, 91, Short.MAX_VALUE)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING)\r\n                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.TRAILING))\r\n                .addGap(7, 7, 7)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(jLabel1)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                        .addComponent(tSenha, javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addComponent(bEntrar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 129, Short.MAX_VALUE))\r\n                    .addComponent(tUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(55, 55, 55))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(50, 50, 50)\r\n                .addComponent(jLabel4)\r\n                .addGap(37, 37, 37)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel3)\r\n                    .addComponent(tUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(3, 3, 3)\r\n                .addComponent(jLabel1)\r\n                .addGap(9, 9, 9)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel2)\r\n                    .addComponent(tSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 58, Short.MAX_VALUE)\r\n                .addComponent(bEntrar)\r\n                .addGap(41, 41, 41))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n    \r\n    \r\n    \r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Inicio().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton bEntrar;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JPasswordField tSenha;\r\n    private javax.swing.JFormattedTextField tUsuario;\r\n    // End of variables declaration                   \r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\nI edited the button properties using the Project view from Swing. So, what can I do to fix that? Is it a Netbeans bug? I&#39;m using Netbeans IDE 8.2, by the way.\r\n\r\n  [1]: https://i.stack.imgur.com/D8KT5.png\r\n  [2]: https://i.stack.imgur.com/FKWn8.png","title":"Run file not updating changes in GUI using Swing","body":"<p>I'm doing a login screen with Swing. I edited the enable property of the only button that exists in the screen - the \"Entrar\", as shown in the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D8KT5.png\" rel=\"nofollow noreferrer\">Login screen</a></p>\n\n<p>But, when I hit Shift-F6 (Run file) it doesn't shows the change:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FKWn8.png\" rel=\"nofollow noreferrer\">Login Screen after running single file</a></p>\n\n<p>Here's the code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package view;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\n/**\n *\n * @author User\n */\npublic class Inicio extends javax.swing.JFrame {\n\n    String usuario;\n    String senha;\n\n    int a;\n\n    public Inicio() {  \n\n        initComponents();\n\n        DocumentListener dUsuario = new DocumentListener(){\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                try {\n                    usuario = e.getDocument().getText(0, 0);\n                    a = 1;\n                } catch (BadLocationException ex) {\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n            }\n\n            @Override\n             public void changedUpdate(DocumentEvent e) {\n                try {\n                    usuario = e.getDocument().getText(0, 0);\n                    a = 1;\n                } catch (BadLocationException ex) {\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }    \n\n        };\n\n        DocumentListener dSenha = new DocumentListener(){\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                try {\n                    senha = e.getDocument().getText(0, 0);\n                    a = 2;\n                } catch (BadLocationException ex) {\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n            }\n\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n                try {\n                    senha = e.getDocument().getText(0, 0);\n                    a = 2;\n                } catch (BadLocationException ex) {\n                    Logger.getLogger(Inicio.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }   \n\n        };\n\n        tUsuario.getDocument().addDocumentListener(dUsuario);\n        tSenha.getDocument().addDocumentListener(dSenha);\n\n        if(a == 2) {\n            if (bEntrar.isEnabled() == false) {\n                bEntrar.setEnabled(true);\n            }\n\n        }else{\n            if (bEntrar.isEnabled() == true) {\n                bEntrar.setEnabled(false);\n            }\n\n        }\n\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        tSenha = new javax.swing.JPasswordField();\n        jLabel3 = new javax.swing.JLabel();\n        jLabel4 = new javax.swing.JLabel();\n        tUsuario = new javax.swing.JFormattedTextField();\n        bEntrar = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setResizable(false);\n\n        jLabel1.setForeground(new java.awt.Color(153, 153, 153));\n        jLabel1.setText(\"Informe apenas os dígitos do CPF.\");\n\n        jLabel2.setText(\"Senha:\");\n\n        jLabel3.setText(\"CPF:\");\n\n        jLabel4.setFont(new java.awt.Font(\"Tahoma\", 0, 18)); // NOI18N\n        jLabel4.setText(\"LOGIN\");\n\n        try {\n            tUsuario.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter(\"###.###.###-##\")));\n        } catch (java.text.ParseException ex) {\n            ex.printStackTrace();\n        }\n\n        bEntrar.setText(\"Entrar\");\n        bEntrar.setEnabled(false);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(184, 184, 184)\n                .addComponent(jLabel4)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addGap(0, 91, Short.MAX_VALUE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING)\n                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.TRAILING))\n                .addGap(7, 7, 7)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(jLabel1)\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                        .addComponent(tSenha, javax.swing.GroupLayout.Alignment.LEADING)\n                        .addComponent(bEntrar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 129, Short.MAX_VALUE))\n                    .addComponent(tUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(55, 55, 55))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(50, 50, 50)\n                .addComponent(jLabel4)\n                .addGap(37, 37, 37)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel3)\n                    .addComponent(tUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(3, 3, 3)\n                .addComponent(jLabel1)\n                .addGap(9, 9, 9)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel2)\n                    .addComponent(tSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 58, Short.MAX_VALUE)\n                .addComponent(bEntrar)\n                .addGap(41, 41, 41))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n\n\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \"&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Inicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Inicio().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton bEntrar;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JPasswordField tSenha;\n    private javax.swing.JFormattedTextField tUsuario;\n    // End of variables declaration                   \n\n\n}\n\n</code></pre>\n\n<p>I edited the button properties using the Project view from Swing. So, what can I do to fix that? Is it a Netbeans bug? I'm using Netbeans IDE 8.2, by the way.</p>\n"},{"tags":["java","swing","progress-bar","swingworker"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1405730873,"post_id":24835638,"comment_id":38560047,"body_markdown":"You&#39;re missing the point of using a SwingWorker and need to go back and re-read the tutorials and examples you have been previously provided. There is no need for a separate thread, as the SwingWorker has its own threading capabilities. For [example](http://stackoverflow.com/questions/24815494/using-jprogressbar-while-converting-image-to-byte-array/24815609#24815609)","body":"You&#39;re missing the point of using a SwingWorker and need to go back and re-read the tutorials and examples you have been previously provided. There is no need for a separate thread, as the SwingWorker has its own threading capabilities. For <a href=\"http://stackoverflow.com/questions/24815494/using-jprogressbar-while-converting-image-to-byte-array/24815609#24815609\">example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1405731075,"post_id":24835638,"comment_id":38560085,"body_markdown":"The basic idea is, the SwingWorker should be used to convert the image, within its doInBackground method, you can use the SwingWorkers progress property to trigger updates back to the UI so that the UI could update the progress bar.","body":"The basic idea is, the SwingWorker should be used to convert the image, within its doInBackground method, you can use the SwingWorkers progress property to trigger updates back to the UI so that the UI could update the progress bar."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1653341293,"creation_date":1405733842,"answer_id":24835935,"question_id":24835638,"body_markdown":"You seem to not understand what `SwingWorker` does.\r\n\r\n`SwingWorker` provides a means by which you can execute long running tasks outside the context of the Event Dispatching Thread.  This means that your program won&#39;t appear to have become frozen.  The benefit of using a `SwingWorker` (over using a simple `Thread`) is that it provides a number of easy to use methods to re-sync the updates back to the EDT, which is indented to stop you from breaking the single thread rules of Swing: No UI element should be created or modified on any thread other then the EDT.\r\n\r\nTak a closer look at [Worker Threads and SwingWorker](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html) and [`javax.swing.SwingWorker&lt;T,V&gt;`](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html) and [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details\r\n\r\n![Convert][1]\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.ImageReader;\r\n    import javax.imageio.ImageWriter;\r\n    import javax.imageio.event.IIOReadProgressListener;\r\n    import javax.imageio.event.IIOWriteProgressListener;\r\n    import javax.imageio.stream.ImageInputStream;\r\n    import javax.imageio.stream.ImageOutputStream;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class ConvertImage {\r\n\r\n        public static void main(String[] args) {\r\n            new ConvertImage();\r\n        }\r\n\r\n        public ConvertImage() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    TestPane tp = new TestPane();\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(tp);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    tp.convert(new File(&quot;/your/image/somewhere&quot;));\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel implements ImageConverstionListener {\r\n\r\n            private JLabel label = new JLabel(&quot;Waiting...&quot;);\r\n            private JProgressBar pb = new JProgressBar();\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(label, gbc);\r\n                add(pb, gbc);\r\n            }\r\n\r\n            public void convert(File file) {\r\n                ConverterWorker worker = new ConverterWorker(file, this);\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                    @Override\r\n                    public void propertyChange(final PropertyChangeEvent evt) {\r\n                        if (&quot;progress&quot;.equalsIgnoreCase(evt.getPropertyName())) {\r\n                            pb.setValue((int) evt.getNewValue());\r\n                        }\r\n                    }\r\n                });\r\n                worker.execute();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            public void failedToConvertImage(File source, Throwable cause) {\r\n                cause.printStackTrace();\r\n                JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Failed to convert &quot; + source + &quot;&lt;br&gt;&quot; + cause.getMessage(), &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n\r\n            @Override\r\n            public void imageConverted(File source, byte[] bytes) {\r\n                JOptionPane.showMessageDialog(this, &quot;Converted image to &quot; + bytes.length + &quot; bytes&quot;, &quot;Converted&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n\r\n            @Override\r\n            public void setMessage(String msg) {\r\n                label.setText(msg);\r\n            }\r\n\r\n        }\r\n\r\n        public interface ImageConverstionListener {\r\n\r\n            public void failedToConvertImage(File source, Throwable cause);\r\n\r\n            public void imageConverted(File source, byte[] bytes);\r\n\r\n            public void setMessage(String msg);\r\n\r\n        }\r\n\r\n        public class ConverterWorker extends SwingWorker&lt;ByteArrayOutputStream, String&gt; {\r\n\r\n            private File source;\r\n            private ImageConverstionListener listener;\r\n\r\n            public ConverterWorker(File source, ImageConverstionListener listener) {\r\n                this.source = source;\r\n                this.listener = listener;\r\n            }\r\n\r\n            @Override\r\n            protected void process(List&lt;String&gt; chunks) {\r\n                listener.setMessage(chunks.get(chunks.size() - 1));\r\n            }\r\n\r\n            @Override\r\n            protected ByteArrayOutputStream doInBackground() throws Exception {\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                publish(&quot;Reading image...&quot;);\r\n                try (ImageInputStream iis = ImageIO.createImageInputStream(source)) {\r\n                    Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\r\n                    if (readers.hasNext()) {\r\n                        ImageReader reader = readers.next();\r\n                        reader.addIIOReadProgressListener(new IIOReadProgressListener() {\r\n                            @Override\r\n                            public void sequenceStarted(ImageReader source, int minIndex) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void sequenceComplete(ImageReader source) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void imageStarted(ImageReader source, int imageIndex) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void imageProgress(ImageReader source, float percentageDone) {\r\n                                setProgress(Math.round(percentageDone));\r\n                            }\r\n\r\n                            @Override\r\n                            public void imageComplete(ImageReader source) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void thumbnailStarted(ImageReader source, int imageIndex, int thumbnailIndex) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void thumbnailProgress(ImageReader source, float percentageDone) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void thumbnailComplete(ImageReader source) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void readAborted(ImageReader source) {\r\n                            }\r\n                        });\r\n                        reader.setInput(iis);\r\n                        try {\r\n                            BufferedImage img = reader.read(0);\r\n\r\n                            publish(&quot;Converting image...&quot;);\r\n                            try (ImageOutputStream ios = ImageIO.createImageOutputStream(baos)) {\r\n                                Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(&quot;png&quot;);\r\n                                if (writers.hasNext()) {\r\n                                    ImageWriter writer = writers.next();\r\n                                    writer.addIIOWriteProgressListener(new IIOWriteProgressListener() {\r\n                                        @Override\r\n                                        public void imageStarted(ImageWriter source, int imageIndex) {\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void imageProgress(ImageWriter source, float percentageDone) {\r\n                                            setProgress(Math.round(percentageDone));\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void imageComplete(ImageWriter source) {\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void thumbnailStarted(ImageWriter source, int imageIndex, int thumbnailIndex) {\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void thumbnailProgress(ImageWriter source, float percentageDone) {\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void thumbnailComplete(ImageWriter source) {\r\n                                        }\r\n\r\n                                        @Override\r\n                                        public void writeAborted(ImageWriter source) {\r\n                                        }\r\n                                    });\r\n\r\n                                    writer.setOutput(ios);\r\n                                    try {\r\n                                        writer.write(img);\r\n                                    } finally {\r\n                                        writer.removeAllIIOWriteProgressListeners();\r\n                                    }\r\n                                }\r\n                            }\r\n                        } finally {\r\n                            reader.removeAllIIOReadProgressListeners();\r\n                        }\r\n                    }\r\n                }\r\n                return baos;\r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                try {\r\n                    ByteArrayOutputStream baos = get();\r\n                    listener.imageConverted(source, baos.toByteArray());\r\n                } catch (InterruptedException | ExecutionException ex) {\r\n                    listener.failedToConvertImage(source, ex);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/he72A.gif","title":"Issues with SwingWorker and JProgressBar","body":"<p>You seem to not understand what <code>SwingWorker</code> does.</p>\n<p><code>SwingWorker</code> provides a means by which you can execute long running tasks outside the context of the Event Dispatching Thread.  This means that your program won't appear to have become frozen.  The benefit of using a <code>SwingWorker</code> (over using a simple <code>Thread</code>) is that it provides a number of easy to use methods to re-sync the updates back to the EDT, which is indented to stop you from breaking the single thread rules of Swing: No UI element should be created or modified on any thread other then the EDT.</p>\n<p>Tak a closer look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\"><code>javax.swing.SwingWorker&lt;T,V&gt;</code></a> and <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details</p>\n<p><img src=\"https://i.stack.imgur.com/he72A.gif\" alt=\"Convert\" /></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageReader;\nimport javax.imageio.ImageWriter;\nimport javax.imageio.event.IIOReadProgressListener;\nimport javax.imageio.event.IIOWriteProgressListener;\nimport javax.imageio.stream.ImageInputStream;\nimport javax.imageio.stream.ImageOutputStream;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class ConvertImage {\n\n    public static void main(String[] args) {\n        new ConvertImage();\n    }\n\n    public ConvertImage() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                TestPane tp = new TestPane();\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(tp);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                tp.convert(new File(&quot;/your/image/somewhere&quot;));\n            }\n        });\n    }\n\n    public class TestPane extends JPanel implements ImageConverstionListener {\n\n        private JLabel label = new JLabel(&quot;Waiting...&quot;);\n        private JProgressBar pb = new JProgressBar();\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(label, gbc);\n            add(pb, gbc);\n        }\n\n        public void convert(File file) {\n            ConverterWorker worker = new ConverterWorker(file, this);\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n                @Override\n                public void propertyChange(final PropertyChangeEvent evt) {\n                    if (&quot;progress&quot;.equalsIgnoreCase(evt.getPropertyName())) {\n                        pb.setValue((int) evt.getNewValue());\n                    }\n                }\n            });\n            worker.execute();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        public void failedToConvertImage(File source, Throwable cause) {\n            cause.printStackTrace();\n            JOptionPane.showMessageDialog(this, &quot;&lt;html&gt;Failed to convert &quot; + source + &quot;&lt;br&gt;&quot; + cause.getMessage(), &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n\n        @Override\n        public void imageConverted(File source, byte[] bytes) {\n            JOptionPane.showMessageDialog(this, &quot;Converted image to &quot; + bytes.length + &quot; bytes&quot;, &quot;Converted&quot;, JOptionPane.INFORMATION_MESSAGE);\n        }\n\n        @Override\n        public void setMessage(String msg) {\n            label.setText(msg);\n        }\n\n    }\n\n    public interface ImageConverstionListener {\n\n        public void failedToConvertImage(File source, Throwable cause);\n\n        public void imageConverted(File source, byte[] bytes);\n\n        public void setMessage(String msg);\n\n    }\n\n    public class ConverterWorker extends SwingWorker&lt;ByteArrayOutputStream, String&gt; {\n\n        private File source;\n        private ImageConverstionListener listener;\n\n        public ConverterWorker(File source, ImageConverstionListener listener) {\n            this.source = source;\n            this.listener = listener;\n        }\n\n        @Override\n        protected void process(List&lt;String&gt; chunks) {\n            listener.setMessage(chunks.get(chunks.size() - 1));\n        }\n\n        @Override\n        protected ByteArrayOutputStream doInBackground() throws Exception {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            publish(&quot;Reading image...&quot;);\n            try (ImageInputStream iis = ImageIO.createImageInputStream(source)) {\n                Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\n                if (readers.hasNext()) {\n                    ImageReader reader = readers.next();\n                    reader.addIIOReadProgressListener(new IIOReadProgressListener() {\n                        @Override\n                        public void sequenceStarted(ImageReader source, int minIndex) {\n                        }\n\n                        @Override\n                        public void sequenceComplete(ImageReader source) {\n                        }\n\n                        @Override\n                        public void imageStarted(ImageReader source, int imageIndex) {\n                        }\n\n                        @Override\n                        public void imageProgress(ImageReader source, float percentageDone) {\n                            setProgress(Math.round(percentageDone));\n                        }\n\n                        @Override\n                        public void imageComplete(ImageReader source) {\n                        }\n\n                        @Override\n                        public void thumbnailStarted(ImageReader source, int imageIndex, int thumbnailIndex) {\n                        }\n\n                        @Override\n                        public void thumbnailProgress(ImageReader source, float percentageDone) {\n                        }\n\n                        @Override\n                        public void thumbnailComplete(ImageReader source) {\n                        }\n\n                        @Override\n                        public void readAborted(ImageReader source) {\n                        }\n                    });\n                    reader.setInput(iis);\n                    try {\n                        BufferedImage img = reader.read(0);\n\n                        publish(&quot;Converting image...&quot;);\n                        try (ImageOutputStream ios = ImageIO.createImageOutputStream(baos)) {\n                            Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(&quot;png&quot;);\n                            if (writers.hasNext()) {\n                                ImageWriter writer = writers.next();\n                                writer.addIIOWriteProgressListener(new IIOWriteProgressListener() {\n                                    @Override\n                                    public void imageStarted(ImageWriter source, int imageIndex) {\n                                    }\n\n                                    @Override\n                                    public void imageProgress(ImageWriter source, float percentageDone) {\n                                        setProgress(Math.round(percentageDone));\n                                    }\n\n                                    @Override\n                                    public void imageComplete(ImageWriter source) {\n                                    }\n\n                                    @Override\n                                    public void thumbnailStarted(ImageWriter source, int imageIndex, int thumbnailIndex) {\n                                    }\n\n                                    @Override\n                                    public void thumbnailProgress(ImageWriter source, float percentageDone) {\n                                    }\n\n                                    @Override\n                                    public void thumbnailComplete(ImageWriter source) {\n                                    }\n\n                                    @Override\n                                    public void writeAborted(ImageWriter source) {\n                                    }\n                                });\n\n                                writer.setOutput(ios);\n                                try {\n                                    writer.write(img);\n                                } finally {\n                                    writer.removeAllIIOWriteProgressListeners();\n                                }\n                            }\n                        }\n                    } finally {\n                        reader.removeAllIIOReadProgressListeners();\n                    }\n                }\n            }\n            return baos;\n        }\n\n        @Override\n        protected void done() {\n            try {\n                ByteArrayOutputStream baos = get();\n                listener.imageConverted(source, baos.toByteArray());\n            } catch (InterruptedException | ExecutionException ex) {\n                listener.failedToConvertImage(source, ex);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4169078,"reputation":179,"user_id":3453557,"accept_rate":57,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24835935,"answer_count":1,"score":1,"last_activity_date":1653341293,"creation_date":1405730576,"question_id":24835638,"body_markdown":"I need to convert a any image given to a byte array for encryption requirement. I&#39;m using JProgressBar to monitor the conversion progress in case the chosen image is large:\r\n \t\t\r\n\r\n\tFile p= new File(&quot;C:\\&quot;);\r\n\tBufferedImage oImg = ImageIO.read(p);\r\n\tByteArrayOutputStream ba = new ByteArrayOutputStream();\r\n\tImageIO.write(oImg, &quot;jpg&quot;, ba);\r\n\tba.flush();\r\n\t\t\r\n\tProgressBar pb = new ProgressBar();\r\n\tThread thread = new Thread(pb);\r\n\tthread.join();\r\n\tpb.fireTask(ba.toByteArray());\r\n\r\n\r\nI defined a `ProgressBar` class that uses `SwingWorker` as follows:\r\n\r\n    public class ProgressBar extends JPanel implements Runnable {\r\n    \r\n    \tprivate JProgressBar progressBar;\r\n    \tprivate Task task;\r\n    \tprivate byte[] imgByteArray;\r\n    \r\n    \t\r\n    \tpublic void run() {\r\n    \t\tcreateGUI();\r\n    \t}\r\n    \t\r\n        // Create the GUI\r\n    \tprivate void createGUI() {\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(&quot;Converting...&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n \r\n    \t\tJComponent newContentPane = new ProgressBar();\r\n    \t\tnewContentPane.setOpaque(true); \r\n    \t\tframe.setContentPane(newContentPane);\r\n    \r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tprogressBar = new JProgressBar(0, 100);\r\n    \t\tprogressBar.setBounds(20, 22, 419, 20);\r\n    \t\tprogressBar.setValue(0);\r\n    \t\tprogressBar.setStringPainted(true);\r\n    \t\tpanel.add(progressBar);\r\n    \t\tadd(panel);\r\n    \t\tsetBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Firing the Task\r\n    \t */\r\n    \tpublic void fireTask(byte[] imgArray) {\r\n    \t\tSystem.arraycopy(imgArray, 0, imgByteArray, 0, imgByteArray.length);\r\n    \t\tsetCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\r\n    \t\ttask = new Task();\r\n    \t\ttask.execute();\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tclass Task extends SwingWorker&lt;Void, Void&gt; {\r\n    \t\t@Override\r\n    \t\tpublic Void doInBackground() {\r\n    \r\n    \t\t\tfor (int i=0; i&lt;=imgByteArray.length; i++){ \r\n    \t\t\t\t\r\n    \t\t\t\tprogressBar.setValue(i); \r\n    \t\t\t\tprogressBar.repaint(); \r\n    \t\t\t\ttry{\r\n    \t\t\t\t\tThread.sleep(50);\r\n    \t\t\t\t} catch (InterruptedException err){\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\t   public void done() {\r\n    \t\t\t   Toolkit.getDefaultToolkit().beep();\r\n    \t\t\t   setCursor(null); // turn off the wait cursor\r\n    \t\t\t   }\r\n    \t\t}\r\n    }\r\n\r\n\r\nSadly, this error occurs!\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n    \tat ciphers.ProgressBar.fireTask(ProgressBar.java:65)\r\n    \tat ciphers.Images.imageEncryption(Images.java:310)\r\n    \tat ciphers.Images.access$1(Images.java:286)\r\n    \tat ciphers.Images$2.actionPerformed(Images.java:184)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:4\r\n    02)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\r\nI don&#39;t know what is wrong with my code! I read `SwingWorker` and `JProgressBar` before writing this code but I feel I&#39;m missing something! Can I get a hint that helps.\r\n\r\nThank you :)","title":"Issues with SwingWorker and JProgressBar","body":"<p>I need to convert a any image given to a byte array for encryption requirement. I'm using JProgressBar to monitor the conversion progress in case the chosen image is large:</p>\n\n<pre><code>File p= new File(\"C:\\\");\nBufferedImage oImg = ImageIO.read(p);\nByteArrayOutputStream ba = new ByteArrayOutputStream();\nImageIO.write(oImg, \"jpg\", ba);\nba.flush();\n\nProgressBar pb = new ProgressBar();\nThread thread = new Thread(pb);\nthread.join();\npb.fireTask(ba.toByteArray());\n</code></pre>\n\n<p>I defined a <code>ProgressBar</code> class that uses <code>SwingWorker</code> as follows:</p>\n\n<pre><code>public class ProgressBar extends JPanel implements Runnable {\n\n    private JProgressBar progressBar;\n    private Task task;\n    private byte[] imgByteArray;\n\n\n    public void run() {\n        createGUI();\n    }\n\n    // Create the GUI\n    private void createGUI() {\n\n        JFrame frame = new JFrame(\"Converting...\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JComponent newContentPane = new ProgressBar();\n        newContentPane.setOpaque(true); \n        frame.setContentPane(newContentPane);\n\n        JPanel panel = new JPanel();\n        progressBar = new JProgressBar(0, 100);\n        progressBar.setBounds(20, 22, 419, 20);\n        progressBar.setValue(0);\n        progressBar.setStringPainted(true);\n        panel.add(progressBar);\n        add(panel);\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n\n    /**\n     * Firing the Task\n     */\n    public void fireTask(byte[] imgArray) {\n        System.arraycopy(imgArray, 0, imgByteArray, 0, imgByteArray.length);\n        setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\n        task = new Task();\n        task.execute();\n    }\n\n\n\n    class Task extends SwingWorker&lt;Void, Void&gt; {\n        @Override\n        public Void doInBackground() {\n\n            for (int i=0; i&lt;=imgByteArray.length; i++){ \n\n                progressBar.setValue(i); \n                progressBar.repaint(); \n                try{\n                    Thread.sleep(50);\n                } catch (InterruptedException err){\n                }\n            }\n            return null;\n        }\n\n           public void done() {\n               Toolkit.getDefaultToolkit().beep();\n               setCursor(null); // turn off the wait cursor\n               }\n        }\n}\n</code></pre>\n\n<p>Sadly, this error occurs!</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n    at ciphers.ProgressBar.fireTask(ProgressBar.java:65)\n    at ciphers.Images.imageEncryption(Images.java:310)\n    at ciphers.Images.access$1(Images.java:286)\n    at ciphers.Images$2.actionPerformed(Images.java:184)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:4\n02)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n</code></pre>\n\n<p>I don't know what is wrong with my code! I read <code>SwingWorker</code> and <code>JProgressBar</code> before writing this code but I feel I'm missing something! Can I get a hint that helps.</p>\n\n<p>Thank you :)</p>\n"},{"tags":["java","exception","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340580,"creation_date":1653340580,"answer_id":72354889,"question_id":72354297,"body_markdown":"The problem is that by default the [error handler](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/xml/sax/ErrorHandler.html) for the XML parser prints the errors to the output. You can install your own handler to capture or ignore the errors:\r\n\r\n    class NullErrorHandler implements ErrorHandler {\r\n        @Override\r\n        public void fatalError(SAXParseException e) {\r\n            // do nothing\r\n        }\r\n    \r\n        @Override\r\n        public void error(SAXParseException e) {\r\n            // do nothing\r\n        }\r\n        \r\n        @Override\r\n        public void warning(SAXParseException e) {\r\n            // do nothing\r\n        }\r\n    }\r\n\r\nUse it as follows:\r\n\r\n    documentBuilder.setErrorHandler(new NullErrorHandler());\r\n\r\nYou could also have an error handler that, for example, stored the exceptions in lists in member variables, so you could access them and examine them after parsing the document.\r\n\r\nHere&#39;s a fully worked-out example:\r\n\r\n    import javax.xml.parsers.*;\r\n    import org.xml.sax.*;\r\n\r\n    String xml = &quot;&quot;&quot;\r\n                 &lt;?xml version=&quot;1.0&quot;?&gt;\r\n                 &lt;!DOCTYPE whatsupdoc PUBLIC\r\n                     &quot;http://example.com/bugs&quot;&quot;http://example.com/bunny&quot;&gt;\r\n                 &quot;&quot;&quot;;\r\n\r\n    InputSource getXmlInput(String xml) {\r\n        InputSource is = new InputSource();\r\n        is.setCharacterStream(new StringReader(xml));\r\n        return is;\r\n    }\r\n\r\n    var documentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n\r\n    documentBuilder.parse(getXmlInput(xml));  // prints the error and throws\r\n    documentBuilder.setErrorHandler(new NullErrorHandler());\r\n    documentBuilder.parse(getXmlInput(xml));  // only throws, does not print\r\n","title":"How to disable fatal error showing in java?","body":"<p>The problem is that by default the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/xml/sax/ErrorHandler.html\" rel=\"nofollow noreferrer\">error handler</a> for the XML parser prints the errors to the output. You can install your own handler to capture or ignore the errors:</p>\n<pre><code>class NullErrorHandler implements ErrorHandler {\n    @Override\n    public void fatalError(SAXParseException e) {\n        // do nothing\n    }\n\n    @Override\n    public void error(SAXParseException e) {\n        // do nothing\n    }\n    \n    @Override\n    public void warning(SAXParseException e) {\n        // do nothing\n    }\n}\n</code></pre>\n<p>Use it as follows:</p>\n<pre><code>documentBuilder.setErrorHandler(new NullErrorHandler());\n</code></pre>\n<p>You could also have an error handler that, for example, stored the exceptions in lists in member variables, so you could access them and examine them after parsing the document.</p>\n<p>Here's a fully worked-out example:</p>\n<pre><code>import javax.xml.parsers.*;\nimport org.xml.sax.*;\n\nString xml = &quot;&quot;&quot;\n             &lt;?xml version=&quot;1.0&quot;?&gt;\n             &lt;!DOCTYPE whatsupdoc PUBLIC\n                 &quot;http://example.com/bugs&quot;&quot;http://example.com/bunny&quot;&gt;\n             &quot;&quot;&quot;;\n\nInputSource getXmlInput(String xml) {\n    InputSource is = new InputSource();\n    is.setCharacterStream(new StringReader(xml));\n    return is;\n}\n\nvar documentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n\ndocumentBuilder.parse(getXmlInput(xml));  // prints the error and throws\ndocumentBuilder.setErrorHandler(new NullErrorHandler());\ndocumentBuilder.parse(getXmlInput(xml));  // only throws, does not print\n</code></pre>\n"}],"owner":{"account_id":25369555,"reputation":1,"user_id":19183612,"display_name":"Asheur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653340580,"creation_date":1653336519,"question_id":72354297,"body_markdown":"I would like to know if it is possible to disable the **[Fatal Error]:1:50: White spaces are required between publicId and systemId.** error in my java program.\r\n\r\nIm using java built-in DOM parser api to parse an XML document. The xml document is deliberately incorrect because I want to learn how to handle exceptions related to xml parsing. I also want to say that when the xml document is correct, no exception occurs.\r\n\r\nI have already tried with the following :\r\n``` \r\ntry {\r\n    Document doc = documentBuilder.parse(xmlDocument)\r\n} catch (Throwable t){\r\n     System.out.println(&quot;An error occur when parsing&quot;);\r\n}\r\n```\r\n\r\nThe code inside the catch block is displayed correctly but the fatal error message is still showing.\r\n\r\nIf anyone has a solution, I would be delighted, thanks.","title":"How to disable fatal error showing in java?","body":"<p>I would like to know if it is possible to disable the <strong>[Fatal Error]:1:50: White spaces are required between publicId and systemId.</strong> error in my java program.</p>\n<p>Im using java built-in DOM parser api to parse an XML document. The xml document is deliberately incorrect because I want to learn how to handle exceptions related to xml parsing. I also want to say that when the xml document is correct, no exception occurs.</p>\n<p>I have already tried with the following :</p>\n<pre><code>try {\n    Document doc = documentBuilder.parse(xmlDocument)\n} catch (Throwable t){\n     System.out.println(&quot;An error occur when parsing&quot;);\n}\n</code></pre>\n<p>The code inside the catch block is displayed correctly but the fatal error message is still showing.</p>\n<p>If anyone has a solution, I would be delighted, thanks.</p>\n"},{"tags":["java","swing","loading","splash-screen"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653341155,"post_id":72354822,"comment_id":127824218,"body_markdown":"Swing is single threaded and not thread safe. This means you can&#39;t execute long running or blocking operations from within the context of the Event Dispatching Thread and you shouldn&#39;t update the state of the UI or something the UI relies on from outside of the Event Dispatching Thread","body":"Swing is single threaded and not thread safe. This means you can&#39;t execute long running or blocking operations from within the context of the Event Dispatching Thread and you shouldn&#39;t update the state of the UI or something the UI relies on from outside of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653341215,"post_id":72354822,"comment_id":127824233,"body_markdown":"See [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.  If you need to (long running or blocking) do work AND want to update the UI, then I recommend using a [`SwingWorker`](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.  If you need to (long running or blocking) do work AND want to update the UI, then I recommend using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653341414,"post_id":72354822,"comment_id":127824277,"body_markdown":"For [example](https://stackoverflow.com/questions/24835638/issues-with-swingworker-and-jprogressbar/24835935#24835935), [example](https://stackoverflow.com/questions/67494618/java-gui-progress-bar-doesnt-update-until-the-async-task-is-finished/67500628#67500628); [example](https://stackoverflow.com/questions/16633414/gui-display-lines-one-by-one-on-a-jtextpane-and-make-a-related-jprogressbar/16633506#16633506); [example](https://stackoverflow.com/questions/23125642/swingworker-in-another-swingworkers-done-method/23126410#23126410)","body":"For <a href=\"https://stackoverflow.com/questions/24835638/issues-with-swingworker-and-jprogressbar/24835935#24835935\">example</a>, <a href=\"https://stackoverflow.com/questions/67494618/java-gui-progress-bar-doesnt-update-until-the-async-task-is-finished/67500628#67500628\">example</a>; <a href=\"https://stackoverflow.com/questions/16633414/gui-display-lines-one-by-one-on-a-jtextpane-and-make-a-related-jprogressbar/16633506#16633506\">example</a>; <a href=\"https://stackoverflow.com/questions/23125642/swingworker-in-another-swingworkers-done-method/23126410#23126410\">example</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653343146,"post_id":72354822,"comment_id":127824658,"body_markdown":"Plz us ful wrdz wen pstn her.","body":"Plz us ful wrdz wen pstn her."}],"owner":{"account_id":25369940,"reputation":1,"user_id":19183946,"display_name":"kala-alt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653341008,"answer_count":0,"score":0,"last_activity_date":1653340450,"creation_date":1653339954,"question_id":72354822,"body_markdown":"I am making a project, which contains one splash/loading screen in the beginning (it works properly) and one in the end of the program. The exiting splash screen doesn&#39;t appear and when the set time is up its appear with the text &quot;Loading...100%&quot;. \r\n\r\n    try {\r\n\t    LoadingPage2 lg2 = new LoadingPage2();\r\n\t\tlg2.setVisible(true);\r\n\t\tfor (int i = 0; i &lt;= 100; i++) {\r\n\t\t\tThread.sleep(40);\r\n\t\t    lg2.lblPercentage.setText(lg2.loading + Integer.toString(i) + &quot;%&quot;);\r\n\t\t}\r\n\t\tSystem.exit(0);\r\n\t} catch (InterruptedException e1) {\r\n\t\te1.printStackTrace();\r\n\t}","title":"Prob with loading page in Java","body":"<p>I am making a project, which contains one splash/loading screen in the beginning (it works properly) and one in the end of the program. The exiting splash screen doesn't appear and when the set time is up its appear with the text &quot;Loading...100%&quot;.</p>\n<pre><code>try {\n    LoadingPage2 lg2 = new LoadingPage2();\n    lg2.setVisible(true);\n    for (int i = 0; i &lt;= 100; i++) {\n        Thread.sleep(40);\n        lg2.lblPercentage.setText(lg2.loading + Integer.toString(i) + &quot;%&quot;);\n    }\n    System.exit(0);\n} catch (InterruptedException e1) {\n    e1.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-keyvault","azure-managed-identity"],"answers":[{"tags":[],"owner":{"account_id":18279287,"reputation":6958,"user_id":13308381,"display_name":"unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623744086,"creation_date":1623744086,"answer_id":67982306,"question_id":67965842,"body_markdown":"[`azure-spring-boot-starter-keyvault-secrets`][1] uses MSI / Managed identities. \r\n\r\nIf you would like to authenticate with Azure CLI, just use [`azure-identity`][2] and [`azure-security-keyvault-secrets`][3].\r\n\r\n    public void getSecretWithAzureCliCredential() {\r\n        AzureCliCredential cliCredential = new AzureCliCredentialBuilder().build();\r\n    \r\n        // Azure SDK client builders accept the credential as a parameter\r\n        SecretClient client = new SecretClientBuilder()\r\n            .vaultUrl(&quot;https://{YOUR_VAULT_NAME}.vault.azure.net&quot;)\r\n            .credential(cliCredential)\r\n            .buildClient();\r\n\r\n        KeyVaultSecret secret = secretClient.getSecret(&quot;&lt;secret-name&gt;&quot;);\r\n        System.out.printf(&quot;Retrieved secret with name \\&quot;%s\\&quot; and value \\&quot;%s\\&quot;%n&quot;, secret.getName(), secret.getValue());\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/overview/azure/spring-boot-starter-keyvault-secrets-readme?view=azure-java-stable\r\n  [2]: https://learn.microsoft.com/en-us/java/api/overview/azure/identity-readme?view=azure-java-stable\r\n  [3]: https://learn.microsoft.com/en-us/java/api/overview/azure/security-keyvault-secrets-readme?view=azure-java-stable","title":"Keyvault MSI with Spring boot : How to config keyvault to use Azure cli credentials instead of managed identity while running on local?","body":"<p><a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-boot-starter-keyvault-secrets-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>azure-spring-boot-starter-keyvault-secrets</code></a> uses MSI / Managed identities.</p>\n<p>If you would like to authenticate with Azure CLI, just use <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/identity-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>azure-identity</code></a> and <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/security-keyvault-secrets-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\"><code>azure-security-keyvault-secrets</code></a>.</p>\n<pre><code>public void getSecretWithAzureCliCredential() {\n    AzureCliCredential cliCredential = new AzureCliCredentialBuilder().build();\n\n    // Azure SDK client builders accept the credential as a parameter\n    SecretClient client = new SecretClientBuilder()\n        .vaultUrl(&quot;https://{YOUR_VAULT_NAME}.vault.azure.net&quot;)\n        .credential(cliCredential)\n        .buildClient();\n\n    KeyVaultSecret secret = secretClient.getSecret(&quot;&lt;secret-name&gt;&quot;);\n    System.out.printf(&quot;Retrieved secret with name \\&quot;%s\\&quot; and value \\&quot;%s\\&quot;%n&quot;, secret.getName(), secret.getValue());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340013,"creation_date":1653340013,"answer_id":72354829,"question_id":67965842,"body_markdown":"If you don&#39;t necessarily need the real thing in local (a test double can be fine instead of Azure Key Vault) you could try Lowkey Vault too! It supports keys and secrets using a local container and you can fake the authentication using a simple basic auth. \r\n\r\nProject home: https://github.com/nagyesta/lowkey-vault\r\n\r\nJava POC (although not using the Spring Boot starter): https://github.com/nagyesta/lowkey-vault-example","title":"Keyvault MSI with Spring boot : How to config keyvault to use Azure cli credentials instead of managed identity while running on local?","body":"<p>If you don't necessarily need the real thing in local (a test double can be fine instead of Azure Key Vault) you could try Lowkey Vault too! It supports keys and secrets using a local container and you can fake the authentication using a simple basic auth.</p>\n<p>Project home: <a href=\"https://github.com/nagyesta/lowkey-vault\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault</a></p>\n<p>Java POC (although not using the Spring Boot starter): <a href=\"https://github.com/nagyesta/lowkey-vault-example\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault-example</a></p>\n"}],"owner":{"account_id":19867744,"reputation":11,"user_id":14554634,"display_name":"Digvijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653340013,"creation_date":1623653041,"question_id":67965842,"body_markdown":"I created a simple spring boot app to retrieve secrets from keyvault.\r\nI added the following dependency to work around with,\r\n ```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-spring-boot-starter-keyvault-secrets&lt;/artifactId&gt;\r\n    &lt;version&gt;3.5.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n ```\r\nand added the following in application.properties\r\n\r\n``` \r\nazure.keyvault.enabled=true\r\nazure.keyvault.uri=&lt;URL&gt;\r\n\r\n#keys\r\nmySecretProperty=secret\r\n```\r\nand my main application,\r\n\r\n``` \r\n@SpringBootApplication\r\npublic class KeyVaultSample implements CommandLineRunner {\r\n\r\n    @Value(&quot;${mySecretProperty}&quot;)\r\n    private String mySecretProperty;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(KeyVaultSample.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        System.out.println(&quot;property your-property-name value is: &quot; + mySecretProperty);\r\n    }\r\n}\r\n``` \r\n\r\nBut every time I tried to run the above app on local, it tries to use ManagedIdentityCredential to connect. So I added a configuration class for creating a bean for SecretClient with AzureCliCredential, but then too, the results are the same.\r\n\r\nMy Configuration class,\r\n```\r\n@Configuration\r\npublic class AppConfiguration {\r\n\r\n@Bean\r\npublic SecretClient secretClient() {\r\n  AzureCliCredential az = new AzureCliCredentialBuilder().build();\r\n  SecretClient sec = new SecretClientBuilder().vaultUrl(&quot;&lt;url&gt;&quot;)\r\n  .credential(az).buildClient();\r\n  return sec;\r\n }\r\n}​\r\n```\r\n\r\nI&#39;m looking for ways I could use/test this keyvault on my local.\r\nIs there any configuration I could put in the properties file which would make it use AzureCliCredential instead of ManagedIdentityCredential?","title":"Keyvault MSI with Spring boot : How to config keyvault to use Azure cli credentials instead of managed identity while running on local?","body":"<p>I created a simple spring boot app to retrieve secrets from keyvault.\nI added the following dependency to work around with,</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n   &lt;artifactId&gt;azure-spring-boot-starter-keyvault-secrets&lt;/artifactId&gt;\n   &lt;version&gt;3.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and added the following in application.properties</p>\n<pre><code>azure.keyvault.enabled=true\nazure.keyvault.uri=&lt;URL&gt;\n\n#keys\nmySecretProperty=secret\n</code></pre>\n<p>and my main application,</p>\n<pre><code>@SpringBootApplication\npublic class KeyVaultSample implements CommandLineRunner {\n\n    @Value(&quot;${mySecretProperty}&quot;)\n    private String mySecretProperty;\n\n    public static void main(String[] args) {\n        SpringApplication.run(KeyVaultSample.class, args);\n    }\n\n    @Override\n    public void run(String... args) {\n        System.out.println(&quot;property your-property-name value is: &quot; + mySecretProperty);\n    }\n}\n</code></pre>\n<p>But every time I tried to run the above app on local, it tries to use ManagedIdentityCredential to connect. So I added a configuration class for creating a bean for SecretClient with AzureCliCredential, but then too, the results are the same.</p>\n<p>My Configuration class,</p>\n<pre><code>@Configuration\npublic class AppConfiguration {\n\n@Bean\npublic SecretClient secretClient() {\n  AzureCliCredential az = new AzureCliCredentialBuilder().build();\n  SecretClient sec = new SecretClientBuilder().vaultUrl(&quot;&lt;url&gt;&quot;)\n  .credential(az).buildClient();\n  return sec;\n }\n}​\n</code></pre>\n<p>I'm looking for ways I could use/test this keyvault on my local.\nIs there any configuration I could put in the properties file which would make it use AzureCliCredential instead of ManagedIdentityCredential?</p>\n"},{"tags":["java","gradle","build.gradle","properties-file"],"answers":[{"tags":[],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653340008,"creation_date":1653340008,"answer_id":72354828,"question_id":72354257,"body_markdown":"I solved the problem by making two changes:\r\n\r\n* Write the `.properties` file to `src/main/resources` instead of `src/main/java`: \r\n\r\n      def outputFile = new File(projectDir, &quot;src/main/resources/org/example/lpimport/version.properties&quot;)\r\n\r\n* Make the `compileJava` task depend on my custom task:\r\n\r\n      compileJava.dependsOn createVersionPropertiesFile\r\n\r\nIt seems the `.properties` file is ignored by Gradle (by its jar task??) if it resides below `src/main/java`.\r\n\r\nNow it works and my built and packaged application can display its version properties on startup.","title":"Gradle - Create .properties file before / as part of each build and include it into JAR","body":"<p>I solved the problem by making two changes:</p>\n<ul>\n<li><p>Write the <code>.properties</code> file to <code>src/main/resources</code> instead of <code>src/main/java</code>:</p>\n<pre><code>def outputFile = new File(projectDir, &quot;src/main/resources/org/example/lpimport/version.properties&quot;)\n</code></pre>\n</li>\n<li><p>Make the <code>compileJava</code> task depend on my custom task:</p>\n<pre><code>compileJava.dependsOn createVersionPropertiesFile\n</code></pre>\n</li>\n</ul>\n<p>It seems the <code>.properties</code> file is ignored by Gradle (by its jar task??) if it resides below <code>src/main/java</code>.</p>\n<p>Now it works and my built and packaged application can display its version properties on startup.</p>\n"}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653340008,"creation_date":1653336299,"question_id":72354257,"body_markdown":"I want Gradle to write a `version.properties` file into my Java classpath whenever I build the project.\r\n\r\nI have a task like this\r\n\r\n    task createVersionPropertiesFile()  {\r\n        def outputFile = new File(projectDir, &quot;src/main/java/org/example/lpimport/version.properties&quot;)\r\n        outputs.file outputFile\r\n        doLast {\r\n            outputFile.text = \r\n            &quot;&quot;&quot;# generated by Gradle\r\n    version=$version\r\n    revision=${getSvnRevision()}\r\n    buildtime=${new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(new Date())}\r\n    &quot;&quot;&quot;\r\n        }\r\n        outputs.upToDateWhen { false }\r\n    }\r\n\r\nAnd I include it like this:\r\n\r\n    build.dependsOn createVersionPropertiesFile\r\n\r\nWhen I run the Gradle `build` task in Eclipse, the file is created as expected! ✅\r\n\r\nIf I run my application in Eclipse, the generated `version.properties` file can be loaded by my application. ✅\r\n\r\n    props.load( Main.class.getResourceAsStream( &quot;version.properties&quot; ) );\r\n\r\nBut the `version.properties` file will **not** be part of the built `myproject-1.0.0.jar` inside the `myproject-1.0.0.zip` distribution, although it resides in a normal class path package. ❌\r\n\r\nHow can I make Gradle include the on-the-fly generated `version.properties` inside the JAR?","title":"Gradle - Create .properties file before / as part of each build and include it into JAR","body":"<p>I want Gradle to write a <code>version.properties</code> file into my Java classpath whenever I build the project.</p>\n<p>I have a task like this</p>\n<pre><code>task createVersionPropertiesFile()  {\n    def outputFile = new File(projectDir, &quot;src/main/java/org/example/lpimport/version.properties&quot;)\n    outputs.file outputFile\n    doLast {\n        outputFile.text = \n        &quot;&quot;&quot;# generated by Gradle\nversion=$version\nrevision=${getSvnRevision()}\nbuildtime=${new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(new Date())}\n&quot;&quot;&quot;\n    }\n    outputs.upToDateWhen { false }\n}\n</code></pre>\n<p>And I include it like this:</p>\n<pre><code>build.dependsOn createVersionPropertiesFile\n</code></pre>\n<p>When I run the Gradle <code>build</code> task in Eclipse, the file is created as expected! ✅</p>\n<p>If I run my application in Eclipse, the generated <code>version.properties</code> file can be loaded by my application. ✅</p>\n<pre><code>props.load( Main.class.getResourceAsStream( &quot;version.properties&quot; ) );\n</code></pre>\n<p>But the <code>version.properties</code> file will <strong>not</strong> be part of the built <code>myproject-1.0.0.jar</code> inside the <code>myproject-1.0.0.zip</code> distribution, although it resides in a normal class path package. ❌</p>\n<p>How can I make Gradle include the on-the-fly generated <code>version.properties</code> inside the JAR?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653085029,"post_id":72296071,"comment_id":127773530,"body_markdown":"I suggest consuming direct from the Kafka Connect config topic to verify the config actually got stored. You say its 2.5MB, which is too large for a Kafka record, by default. It&#39;s not a specific problem for that connector you are using.","body":"I suggest consuming direct from the Kafka Connect config topic to verify the config actually got stored. You say its 2.5MB, which is too large for a Kafka record, by default. It&#39;s not a specific problem for that connector you are using."}],"answers":[{"tags":[],"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653339760,"creation_date":1653339760,"answer_id":72354785,"question_id":72296071,"body_markdown":"There is a producer request size limit (for the producer used internally by Kafka Connect to write task configs) and a topic message size limit (for the topic used to store Connect configs) that must be increased.   I bumped them up to 5MB by adding `max.request.size=5242880` to `connect-distributed.properties` and `max.message.bytes=5242880` to the topic configuration of topic `connect-configs`.\r\n\r\nSee: [Kafka Users Discussion](https://lists.apache.org/thread/g71txnygpgxw672txl7mnb3dryz7h44x)","title":"Kafka Connect tasks empty with large config","body":"<p>There is a producer request size limit (for the producer used internally by Kafka Connect to write task configs) and a topic message size limit (for the topic used to store Connect configs) that must be increased.   I bumped them up to 5MB by adding <code>max.request.size=5242880</code> to <code>connect-distributed.properties</code> and <code>max.message.bytes=5242880</code> to the topic configuration of topic <code>connect-configs</code>.</p>\n<p>See: <a href=\"https://lists.apache.org/thread/g71txnygpgxw672txl7mnb3dryz7h44x\" rel=\"nofollow noreferrer\">Kafka Users Discussion</a></p>\n"}],"owner":{"account_id":271875,"reputation":7649,"user_id":562644,"accept_rate":95,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72354785,"answer_count":1,"score":0,"last_activity_date":1653339760,"creation_date":1652908542,"question_id":72296071,"body_markdown":"If I use a large task configuration my Kafka Source Connector [epics2kafka](https://github.com/JeffersonLab/epics2kafka) starts, but no tasks are created.   Using a smaller configuration appears to correct the problem.   If I move my configuration into a file and pass just the file path along for the task to use, that also works (though no longer scales to distributed nodes as now relying on a local file!).   It seems I&#39;m running into a memory limit or internal REST service Post size constraint, or connect topic constraint of some kind.  The weird thing is there doesn&#39;t appear to be any errors logged.   The connector status is &quot;RUNNING&quot;, but the task status is an empty array.  Using print debug statements I can see the taskConfigs() method always completes, but if using a large config the start() method of the Connect task never is called.  The large taskConfigs is 25,500 lines of JSON (about 2.5MB), which is added into the [taskConfigs Map](https://javadoc.io/doc/org.apache.kafka/connect-api/latest/org/apache/kafka/connect/connector/Connector.html#taskConfigs-int-).\r\n\r\nSimilar (but different): https://stackoverflow.com/questions/64258567/kafka-connectors-task-list-is-empty\r\n\r\nI&#39;m using version 3.1.0 of Kafka, so I assume the above mentioned issue is different (looks like that issue was due to URL encoding of internal REST Post request).","title":"Kafka Connect tasks empty with large config","body":"<p>If I use a large task configuration my Kafka Source Connector <a href=\"https://github.com/JeffersonLab/epics2kafka\" rel=\"nofollow noreferrer\">epics2kafka</a> starts, but no tasks are created.   Using a smaller configuration appears to correct the problem.   If I move my configuration into a file and pass just the file path along for the task to use, that also works (though no longer scales to distributed nodes as now relying on a local file!).   It seems I'm running into a memory limit or internal REST service Post size constraint, or connect topic constraint of some kind.  The weird thing is there doesn't appear to be any errors logged.   The connector status is &quot;RUNNING&quot;, but the task status is an empty array.  Using print debug statements I can see the taskConfigs() method always completes, but if using a large config the start() method of the Connect task never is called.  The large taskConfigs is 25,500 lines of JSON (about 2.5MB), which is added into the <a href=\"https://javadoc.io/doc/org.apache.kafka/connect-api/latest/org/apache/kafka/connect/connector/Connector.html#taskConfigs-int-\" rel=\"nofollow noreferrer\">taskConfigs Map</a>.</p>\n<p>Similar (but different): <a href=\"https://stackoverflow.com/questions/64258567/kafka-connectors-task-list-is-empty\">Kafka Connector&#39;s task list is empty</a></p>\n<p>I'm using version 3.1.0 of Kafka, so I assume the above mentioned issue is different (looks like that issue was due to URL encoding of internal REST Post request).</p>\n"},{"tags":["java","jackson","spring-webflux","spacy","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":2007859,"reputation":894,"user_id":1797200,"accept_rate":75,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650816618,"creation_date":1650816618,"answer_id":71990170,"question_id":71989689,"body_markdown":"Here&#39;s the workaround I did, just deserializing the string explicitly using Jackson. It&#39;s not pretty, but it does work.\r\n\r\n```java\r\n    public List&lt;NamedEntity&gt; spacyNamedEntities(String text) {\r\n\r\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;text&quot;, text);\r\n        requestBody.put(&quot;model&quot;, &quot;en_core_web_lg&quot;);\r\n\r\n        Mono&lt;String&gt; responseMono = webClient.post()\r\n                .uri(&quot;/ent&quot;)\r\n                .body(BodyInserters.fromValue(requestBody))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n        String json = responseMono.block();\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        List&lt;NamedEntity&gt; entities = new ArrayList&lt;&gt;();\r\n        try {\r\n            entities = objectMapper.readerForListOf(NamedEntity.class).readValue(json);\r\n        } catch (JsonProcessingException e) {\r\n            // ToDo: show information in frontend\r\n        }\r\n\r\n        return entities;\r\n\r\n    }\r\n```","title":"WebFlux WebClient: consume a REST service, that returns a JSON body with Content-Type &quot;text/string&quot;","body":"<p>Here's the workaround I did, just deserializing the string explicitly using Jackson. It's not pretty, but it does work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;NamedEntity&gt; spacyNamedEntities(String text) {\n\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\n        requestBody.put(&quot;text&quot;, text);\n        requestBody.put(&quot;model&quot;, &quot;en_core_web_lg&quot;);\n\n        Mono&lt;String&gt; responseMono = webClient.post()\n                .uri(&quot;/ent&quot;)\n                .body(BodyInserters.fromValue(requestBody))\n                .retrieve()\n                .bodyToMono(String.class);\n        String json = responseMono.block();\n\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        List&lt;NamedEntity&gt; entities = new ArrayList&lt;&gt;();\n        try {\n            entities = objectMapper.readerForListOf(NamedEntity.class).readValue(json);\n        } catch (JsonProcessingException e) {\n            // ToDo: show information in frontend\n        }\n\n        return entities;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653339655,"creation_date":1650836720,"answer_id":71992599,"question_id":71989689,"body_markdown":"You can register a specific decoder for a custom Mime type on your `WebClient` instance by using the  [ClientCodecConfigurer][1]. \r\n```java\r\n        WebClient webClient = WebClient.builder()\r\n                .baseUrl(&quot;http://localhost:8090&quot;)\r\n                .codecs(clientCodecConfigurer -&gt; clientCodecConfigurer.customCodecs()\r\n                        .register(new Jackson2JsonDecoder(new ObjectMapper(), new MimeType(&quot;text&quot;, &quot;string&quot;))))\r\n                .build();\r\n```\r\n\r\nFurther details on both the client and server codecs provided by spring can be found in the [reference documentation][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/ClientCodecConfigurer.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs","title":"WebFlux WebClient: consume a REST service, that returns a JSON body with Content-Type &quot;text/string&quot;","body":"<p>You can register a specific decoder for a custom Mime type on your <code>WebClient</code> instance by using the  <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/ClientCodecConfigurer.html\" rel=\"nofollow noreferrer\">ClientCodecConfigurer</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        WebClient webClient = WebClient.builder()\n                .baseUrl(&quot;http://localhost:8090&quot;)\n                .codecs(clientCodecConfigurer -&gt; clientCodecConfigurer.customCodecs()\n                        .register(new Jackson2JsonDecoder(new ObjectMapper(), new MimeType(&quot;text&quot;, &quot;string&quot;))))\n                .build();\n</code></pre>\n<p>Further details on both the client and server codecs provided by spring can be found in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs\" rel=\"nofollow noreferrer\">reference documentation</a></p>\n"}],"owner":{"account_id":2007859,"reputation":894,"user_id":1797200,"accept_rate":75,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71990170,"answer_count":2,"score":0,"last_activity_date":1653339655,"creation_date":1650812980,"question_id":71989689,"body_markdown":"I&#39;m consuming a REST service, that returns a JSON formatted string, but in the header gives the content-type &quot;text/string&quot;.\r\nI tried to go to the source of the problem, but the code seems to no longer be maintained. If there is no better solution, I need to fork the [spaCy Rest Services](https://github.com/explosion/spacy-services) project and put it in a container of some sort myself...\r\n\r\nI have tried all of these solutions already, but the methods used are either deprecated or the solutions don&#39;t work for some other reason:\r\n\r\n[Spring reactive WebClient GET json response with Content-Type &quot;text/plain;charset=UTF-8&quot;](https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse)\r\n\r\n[Reactive WebClient GET Request with text/html response](https://stackoverflow.com/questions/48553242/reactive-webclient-get-request-with-text-html-response)\r\n\r\nThe exception I receive is always: ```org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;text/string&#39; not supported ```\r\n\r\nMy code is this:\r\n\r\n\r\n```java\r\npublic class SpacyClient {\r\n\r\n    WebClient webClient;\r\n\r\n    public SpacyClient() {\r\n        webClient = WebClient.builder()\r\n                .baseUrl(&quot;http://localhost:8081&quot;)\r\n                .build();\r\n    }\r\n\r\n    public List&lt;NamedEntity&gt; spacyNamedEntities(String text) {\r\n\r\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;text&quot;, text);\r\n        requestBody.put(&quot;model&quot;, &quot;en_core_web_lg&quot;);\r\n\r\n        Mono&lt;List&lt;NamedEntity&gt;&gt; responseMono = webClient.post()\r\n                .uri(&quot;/ent&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(requestBody))\r\n                .exchangeToMono( response -&gt; {\r\n                   Mono&lt;List&lt;NamedEntity&gt;&gt;  = response.bodyToMono(new ParameterizedTypeReference&lt;List&lt;NamedEntity&gt;&gt;() {});\r\n                   return lalala;\r\n                });\r\n        List&lt;NamedEntity&gt; entities = responseMono.block();\r\n        return entities;\r\n\r\n    }\r\n\r\n}\r\n```","title":"WebFlux WebClient: consume a REST service, that returns a JSON body with Content-Type &quot;text/string&quot;","body":"<p>I'm consuming a REST service, that returns a JSON formatted string, but in the header gives the content-type &quot;text/string&quot;.\nI tried to go to the source of the problem, but the code seems to no longer be maintained. If there is no better solution, I need to fork the <a href=\"https://github.com/explosion/spacy-services\" rel=\"nofollow noreferrer\">spaCy Rest Services</a> project and put it in a container of some sort myself...</p>\n<p>I have tried all of these solutions already, but the methods used are either deprecated or the solutions don't work for some other reason:</p>\n<p><a href=\"https://stackoverflow.com/questions/61257963/spring-reactive-webclient-get-json-response-with-content-type-text-plaincharse\">Spring reactive WebClient GET json response with Content-Type &quot;text/plain;charset=UTF-8&quot;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48553242/reactive-webclient-get-request-with-text-html-response\">Reactive WebClient GET Request with text/html response</a></p>\n<p>The exception I receive is always: <code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'text/string' not supported </code></p>\n<p>My code is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpacyClient {\n\n    WebClient webClient;\n\n    public SpacyClient() {\n        webClient = WebClient.builder()\n                .baseUrl(&quot;http://localhost:8081&quot;)\n                .build();\n    }\n\n    public List&lt;NamedEntity&gt; spacyNamedEntities(String text) {\n\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\n        requestBody.put(&quot;text&quot;, text);\n        requestBody.put(&quot;model&quot;, &quot;en_core_web_lg&quot;);\n\n        Mono&lt;List&lt;NamedEntity&gt;&gt; responseMono = webClient.post()\n                .uri(&quot;/ent&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(requestBody))\n                .exchangeToMono( response -&gt; {\n                   Mono&lt;List&lt;NamedEntity&gt;&gt;  = response.bodyToMono(new ParameterizedTypeReference&lt;List&lt;NamedEntity&gt;&gt;() {});\n                   return lalala;\n                });\n        List&lt;NamedEntity&gt; entities = responseMono.block();\n        return entities;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"score":1,"creation_date":1653336268,"post_id":72353949,"comment_id":127822868,"body_markdown":"Your request seems ambiguous, are your strings to search birth and address, and what is your expected result? Maybe would be better to use regular expressions.","body":"Your request seems ambiguous, are your strings to search birth and address, and what is your expected result? Maybe would be better to use regular expressions."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1653338402,"post_id":72353949,"comment_id":127823469,"body_markdown":"Your code makes no sense.  You are simply matching keywords in the list to the same list of keywords.  You need to better explain your ultimate goal.   And be careful when you use the term substring as `it` is a substring of `city` which would match any phrase that contained the word `city`, among other words too.","body":"Your code makes no sense.  You are simply matching keywords in the list to the same list of keywords.  You need to better explain your ultimate goal.   And be careful when you use the term substring as <code>it</code> is a substring of <code>city</code> which would match any phrase that contained the word <code>city</code>, among other words too."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653336914,"creation_date":1653336558,"answer_id":72354302,"question_id":72353949,"body_markdown":"To achieve your goal, you could first break down each `String` of your main `List` with a regex which splits by white spaces. Then, you could traverse your main `List` by index with an `IntStream` and for each broken down array corresponding to the i-th `String` verify if any of its words appear in other strings with a nested stream. If they do, then they pass the `filter` aggregate operation and then they&#39;re collected; otherwise they&#39;re discarded.\r\n\r\n```\r\nList&lt;String&gt; list = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\r\n\r\n//Breaking down each String by white spaces\r\nList&lt;String[]&gt; listSplitStr = list.stream()\r\n        .map(str -&gt; str.split(&quot;\\\\s+&quot;))\r\n        .collect(Collectors.toList());\r\n\r\nList&lt;String&gt; listRes = IntStream.range(0, list.size())  //Traversing the list of broken down strings by index\r\n        .filter(i -&gt; Arrays.stream(listSplitStr.get(i)).anyMatch(word -&gt; //for each array of the broken down list we check if any of its words appear in the main list\r\n                IntStream.range(0, list.size()).anyMatch(j -&gt; !list.get(i).equals(list.get(j)) &amp;&amp; list.get(j).contains(word))))  //Traversing the main list again and making sure that the string we&#39;re iterating does not correspond to the current array and that the array&#39;s word is contained within the string\r\n        .mapToObj(i -&gt; list.get(i)) //Retrieving the i-th string from the main list\r\n        .collect(Collectors.toList());\r\n\r\nSystem.out.println(listRes);\r\n```\r\n\r\nThis is the output as the one you expected:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wtv63.png","title":"Matched substrings from a List of strings","body":"<p>To achieve your goal, you could first break down each <code>String</code> of your main <code>List</code> with a regex which splits by white spaces. Then, you could traverse your main <code>List</code> by index with an <code>IntStream</code> and for each broken down array corresponding to the i-th <code>String</code> verify if any of its words appear in other strings with a nested stream. If they do, then they pass the <code>filter</code> aggregate operation and then they're collected; otherwise they're discarded.</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\n\n//Breaking down each String by white spaces\nList&lt;String[]&gt; listSplitStr = list.stream()\n        .map(str -&gt; str.split(&quot;\\\\s+&quot;))\n        .collect(Collectors.toList());\n\nList&lt;String&gt; listRes = IntStream.range(0, list.size())  //Traversing the list of broken down strings by index\n        .filter(i -&gt; Arrays.stream(listSplitStr.get(i)).anyMatch(word -&gt; //for each array of the broken down list we check if any of its words appear in the main list\n                IntStream.range(0, list.size()).anyMatch(j -&gt; !list.get(i).equals(list.get(j)) &amp;&amp; list.get(j).contains(word))))  //Traversing the main list again and making sure that the string we're iterating does not correspond to the current array and that the array's word is contained within the string\n        .mapToObj(i -&gt; list.get(i)) //Retrieving the i-th string from the main list\n        .collect(Collectors.toList());\n\nSystem.out.println(listRes);\n</code></pre>\n<p>This is the output as the one you expected:</p>\n<p><a href=\"https://i.stack.imgur.com/Wtv63.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wtv63.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653339183,"creation_date":1653336681,"answer_id":72354323,"question_id":72353949,"body_markdown":"Your method `getMatchingSubstring` gets each element of `myList`, and `myList` itself, then checks for each string in the list - whether it contains the provided string. And since the provided string is always one of the list elements - it will be printed once.\r\n\r\nSome suggestions:\r\n1. First thing I&#39;d do is to pass the list without the current element (`line`) to avoid comparison with the same string.\r\n2. Instead of comparing strings - I&#39;d split the string by the space character and compare to tokens to find intersection between strings. This is the similarity you&#39;re talking about.\r\n3. Print only the lines that didn&#39;t return as null from `getMatchingSubstring`.\r\n\r\nIt will look something like that:\r\n\r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n        List&lt;String&gt; myList = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\r\n    \r\n        myList.stream().forEach(line -&gt; {\r\n          String result = getMatchingSubstring(line,\r\n              myList.stream().filter(element -&gt; !element.equals(line)).collect(Collectors.toList()));\r\n          if (result != null){\r\n            System.out.println(result);\r\n          }\r\n        });\r\n      }\r\n    \r\n      private static String getMatchingSubstring(String str, List&lt;String&gt; otherStrings) {\r\n        String[] strTokens = str.split(&quot; &quot;);\r\n        for (String substring : otherStrings) {\r\n          String[] subStringTokens = substring.split(&quot; &quot;);\r\n          if (intersection(strTokens, subStringTokens)) {\r\n            return substring;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      private static boolean intersection(String[] a, String[] b) {\r\n        List&lt;String&gt; l1 = Arrays.asList(a);\r\n        List&lt;String&gt; l2 = Arrays.asList(b);\r\n        Set&lt;String&gt; result = l1.stream().distinct().filter(l2::contains).collect(Collectors.toSet());\r\n        return result.size() &gt; 0;\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    City of Birth\r\n    Birth City\r\n    Last Known Address\r\n    Geo Address\r\n","title":"Matched substrings from a List of strings","body":"<p>Your method <code>getMatchingSubstring</code> gets each element of <code>myList</code>, and <code>myList</code> itself, then checks for each string in the list - whether it contains the provided string. And since the provided string is always one of the list elements - it will be printed once.</p>\n<p>Some suggestions:</p>\n<ol>\n<li>First thing I'd do is to pass the list without the current element (<code>line</code>) to avoid comparison with the same string.</li>\n<li>Instead of comparing strings - I'd split the string by the space character and compare to tokens to find intersection between strings. This is the similarity you're talking about.</li>\n<li>Print only the lines that didn't return as null from <code>getMatchingSubstring</code>.</li>\n</ol>\n<p>It will look something like that:</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) {\n    List&lt;String&gt; myList = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\n\n    myList.stream().forEach(line -&gt; {\n      String result = getMatchingSubstring(line,\n          myList.stream().filter(element -&gt; !element.equals(line)).collect(Collectors.toList()));\n      if (result != null){\n        System.out.println(result);\n      }\n    });\n  }\n\n  private static String getMatchingSubstring(String str, List&lt;String&gt; otherStrings) {\n    String[] strTokens = str.split(&quot; &quot;);\n    for (String substring : otherStrings) {\n      String[] subStringTokens = substring.split(&quot; &quot;);\n      if (intersection(strTokens, subStringTokens)) {\n        return substring;\n      }\n    }\n    return null;\n  }\n\n  private static boolean intersection(String[] a, String[] b) {\n    List&lt;String&gt; l1 = Arrays.asList(a);\n    List&lt;String&gt; l2 = Arrays.asList(b);\n    Set&lt;String&gt; result = l1.stream().distinct().filter(l2::contains).collect(Collectors.toSet());\n    return result.size() &gt; 0;\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>City of Birth\nBirth City\nLast Known Address\nGeo Address\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6519964,"reputation":107,"user_id":5044508,"display_name":"Yuvaraj R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653337694,"creation_date":1653337694,"answer_id":72354493,"question_id":72353949,"body_markdown":"&gt;if (str.contains(substring)) {\r\n\r\nYou are essentially comparing whole string against the list of input.\r\nHence, returns true for all\r\n\r\nAs a naive approach, you might need to split the string based on white space and check\r\n\r\n```\r\nprivate static List&lt;String&gt; getMatchingSubstring(List&lt;String&gt; substrings) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; substrings.size(); i++) {\r\n            if (!result.contains(substrings.get(i))) {\r\n                String[] tokens = substrings.get(i).split(&quot;\\\\u0020&quot;);\r\n                for (String token : tokens) {\r\n                    for (int j = i + 1; j &lt; substrings.size(); j++) {\r\n                        if (!result.contains(substrings.get(j)) &amp;&amp; substrings.get(j).contains(token)) {\r\n                            result.add(substrings.get(i));\r\n                            result.add(substrings.get(j));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFurther, you can check for string Fuzzy matching algorithms [wiki][2] in case of complex matching scenario.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rRQfO.png\r\n  [2]: https://en.wikipedia.org/wiki/Approximate_string_matching","title":"Matched substrings from a List of strings","body":"<blockquote>\n<p>if (str.contains(substring)) {</p>\n</blockquote>\n<p>You are essentially comparing whole string against the list of input.\nHence, returns true for all</p>\n<p>As a naive approach, you might need to split the string based on white space and check</p>\n<pre><code>private static List&lt;String&gt; getMatchingSubstring(List&lt;String&gt; substrings) {\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; substrings.size(); i++) {\n            if (!result.contains(substrings.get(i))) {\n                String[] tokens = substrings.get(i).split(&quot;\\\\u0020&quot;);\n                for (String token : tokens) {\n                    for (int j = i + 1; j &lt; substrings.size(); j++) {\n                        if (!result.contains(substrings.get(j)) &amp;&amp; substrings.get(j).contains(token)) {\n                            result.add(substrings.get(i));\n                            result.add(substrings.get(j));\n                        }\n                    }\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rRQfO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rRQfO.png\" alt=\"enter image description here\" /></a></p>\n<p>Further, you can check for string Fuzzy matching algorithms <a href=\"https://en.wikipedia.org/wiki/Approximate_string_matching\" rel=\"nofollow noreferrer\">wiki</a> in case of complex matching scenario.</p>\n"}],"owner":{"account_id":2590393,"reputation":1553,"user_id":2245234,"accept_rate":51,"display_name":"Jeeppp"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1653339714,"answer_count":3,"score":-1,"last_activity_date":1653339183,"creation_date":1653334521,"question_id":72353949,"body_markdown":"I have a `List` of Strings like this\r\n\r\n```\r\nList&lt;String&gt; list = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\r\n\r\n```\r\n\r\nI want to extract a `List` of Strings that are similar (by similar I mean any substrings matching).\r\n\r\nI want `Birth City, City of Birth, Geo address, Last known address` as the first two has birth as a match and the next two has Address as a match.\r\n\r\nI&#39;m trying with this, but I know I&#39;m missing something here\r\n\r\n```\r\nList&lt;String&gt; myList = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\r\n\r\n           myList.stream().forEach(line -&gt; {\r\n               System.out.println(getMatchingSubstring(line,myList));\r\n           });\r\n\r\n private static String getMatchingSubstring(String str, List&lt;String&gt; substrings) {\r\n        for (String substring : substrings) {\r\n            if (str.contains(substring)) {\r\n                return substring;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Matched substrings from a List of strings","body":"<p>I have a <code>List</code> of Strings like this</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\n\n</code></pre>\n<p>I want to extract a <code>List</code> of Strings that are similar (by similar I mean any substrings matching).</p>\n<p>I want <code>Birth City, City of Birth, Geo address, Last known address</code> as the first two has birth as a match and the next two has Address as a match.</p>\n<p>I'm trying with this, but I know I'm missing something here</p>\n<pre><code>List&lt;String&gt; myList = Arrays.asList(&quot;Birth City&quot;, &quot;City of Birth&quot;, &quot;Location&quot;, &quot;Geo Address&quot;, &quot;Last Known Address&quot;);\n\n           myList.stream().forEach(line -&gt; {\n               System.out.println(getMatchingSubstring(line,myList));\n           });\n\n private static String getMatchingSubstring(String str, List&lt;String&gt; substrings) {\n        for (String substring : substrings) {\n            if (str.contains(substring)) {\n                return substring;\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","arraylist","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653338789,"creation_date":1653338789,"answer_id":72354638,"question_id":72354402,"body_markdown":"Ended up solving it.\r\nHere&#39;s how (in case anyone needs it in the future)\r\nSaved one Arraylist of one type (LoggedInWin)\r\nSaved anoher Arraylist of the other type (UserWin)\r\nPut them both in a third arraylist (WinClass).\r\nThen the WinClass arraylist was saved.\r\nPretty simple solution but didn&#39;t think about it straight away","title":"Save an Arraylist of two different types in shared preferences","body":"<p>Ended up solving it.\nHere's how (in case anyone needs it in the future)\nSaved one Arraylist of one type (LoggedInWin)\nSaved anoher Arraylist of the other type (UserWin)\nPut them both in a third arraylist (WinClass).\nThen the WinClass arraylist was saved.\nPretty simple solution but didn't think about it straight away</p>\n"}],"owner":{"account_id":23034452,"reputation":13,"user_id":17153417,"display_name":"ilay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653338789,"creation_date":1653337130,"question_id":72354402,"body_markdown":"I currently have an arraylist of a certain type which I&#39;m trying to save in shared prefernces.\r\n\r\nI have a class called WinClass. I have classes called LoggedInWin and UserWin, both inheriting the WinClass class. \r\nThere&#39;s an arraylist winClasses&lt;WinClass&gt; which has objects of both types.\r\nI currently have a code that saves the ArrayList in shared prefernces successfully, but only saves WinClass objects.\r\nThat means that if my Arraylist&lt;WinClass&gt; has items of Winclass, LoggedInWin and UserWin, it will only save the objects of WinClass.\r\nI have looked and my code and changed the part where it loads the data type to load only objects of LoggedInWin. It has in-fact this time only saved LoggedInWin objects.\r\nThat left me wondering how can I have the arraylist saved with all of its objects saved with it (all types included).\r\n\r\n\r\n\r\nThe code where I save the arraylist:\r\n\r\n```\r\n    private void saveData() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(winClasses);\r\n        editor.putString(&quot;task list&quot;, json);\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadData() {\r\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = sharedPreferences.getString(&quot;task list&quot;, null);\r\n        Type type = new TypeToken&lt;ArrayList&lt;LoggedInWin&gt;&gt;() {}.getType();\r\n        winClasses = gson.fromJson(json, type);\r\n\r\n        if (winClasses == null) {\r\n            winClasses = new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n```","title":"Save an Arraylist of two different types in shared preferences","body":"<p>I currently have an arraylist of a certain type which I'm trying to save in shared prefernces.</p>\n<p>I have a class called WinClass. I have classes called LoggedInWin and UserWin, both inheriting the WinClass class.\nThere's an arraylist winClasses which has objects of both types.\nI currently have a code that saves the ArrayList in shared prefernces successfully, but only saves WinClass objects.\nThat means that if my Arraylist has items of Winclass, LoggedInWin and UserWin, it will only save the objects of WinClass.\nI have looked and my code and changed the part where it loads the data type to load only objects of LoggedInWin. It has in-fact this time only saved LoggedInWin objects.\nThat left me wondering how can I have the arraylist saved with all of its objects saved with it (all types included).</p>\n<p>The code where I save the arraylist:</p>\n<pre><code>    private void saveData() {\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        Gson gson = new Gson();\n        String json = gson.toJson(winClasses);\n        editor.putString(&quot;task list&quot;, json);\n        editor.apply();\n    }\n\n    private void loadData() {\n        SharedPreferences sharedPreferences = getSharedPreferences(&quot;shared preferences&quot;, MODE_PRIVATE);\n        Gson gson = new Gson();\n        String json = sharedPreferences.getString(&quot;task list&quot;, null);\n        Type type = new TypeToken&lt;ArrayList&lt;LoggedInWin&gt;&gt;() {}.getType();\n        winClasses = gson.fromJson(json, type);\n\n        if (winClasses == null) {\n            winClasses = new ArrayList&lt;&gt;();\n        }\n    }\n</code></pre>\n"},{"tags":["java","ssl","java-security","nimbus-jose-jwt"],"answers":[{"tags":[],"owner":{"account_id":9229113,"reputation":1100,"user_id":6855849,"accept_rate":75,"display_name":"Samet Baskıcı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653338479,"creation_date":1653338479,"answer_id":72354588,"question_id":72341054,"body_markdown":"I resolved it by extending **DefaultResourceRetriever** and overriding `openConnection(URL url)` method.\r\n\r\nIf URL is HTTPS, it creates **HttpsURLConnection**. And we can set NoopHostnameVerifier to it.\r\n\r\nHere is my solution :\r\n\r\n    public class NoopHostnameVerifyingResourceRetriever extends DefaultResourceRetriever {\r\n        \r\n          public NoopHostnameVerifyingResourceRetriever(int connectTimeout, int readTimeout) {\r\n            super(connectTimeout, readTimeout);\r\n          }\r\n        \r\n          @Override\r\n          protected HttpURLConnection openConnection(URL url) throws IOException {\r\n            HttpURLConnection connection = super.openConnection(url);\r\n        \r\n            if (connection instanceof HttpsURLConnection) {\r\n              ((HttpsURLConnection) connection).setHostnameVerifier(new NoopHostnameVerifier());\r\n            }\r\n        \r\n            return connection;\r\n          }\r\n    }\r\n\r\n","title":"How to disable Host name verification for nimbus JWKS ResourceRetriever","body":"<p>I resolved it by extending <strong>DefaultResourceRetriever</strong> and overriding <code>openConnection(URL url)</code> method.</p>\n<p>If URL is HTTPS, it creates <strong>HttpsURLConnection</strong>. And we can set NoopHostnameVerifier to it.</p>\n<p>Here is my solution :</p>\n<pre><code>public class NoopHostnameVerifyingResourceRetriever extends DefaultResourceRetriever {\n    \n      public NoopHostnameVerifyingResourceRetriever(int connectTimeout, int readTimeout) {\n        super(connectTimeout, readTimeout);\n      }\n    \n      @Override\n      protected HttpURLConnection openConnection(URL url) throws IOException {\n        HttpURLConnection connection = super.openConnection(url);\n    \n        if (connection instanceof HttpsURLConnection) {\n          ((HttpsURLConnection) connection).setHostnameVerifier(new NoopHostnameVerifier());\n        }\n    \n        return connection;\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":16447551,"reputation":105,"user_id":11881870,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72354588,"answer_count":1,"score":1,"last_activity_date":1653338479,"creation_date":1653250936,"question_id":72341054,"body_markdown":"First I was using &#39;DefaultResourceRetriever&#39; without any configuration like this :\r\n\r\n    new DefaultResourceRetriever(1000, 1000);\r\n\r\nand then I got the following exception \r\n\r\n    java.security.cert.CertificateException: No subject alternative DNS name matching my-jwks-url.com found.\r\n\r\nTo by pass certificate check I have configured the resource retriever like below;\r\n\r\n    TrustStrategy trustStrategy = (X509Certificate[] x509Certificates, String s) -&gt; true;\r\n\r\n    SSLContext sslContext = SSLContexts.custom()\r\n        .loadTrustMaterial(null, trustStrategy)\r\n        .build();\r\n\r\n    SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n\r\n    return new DefaultResourceRetriever(1000, 1000, 0, true, socketFactory);\r\n\r\nBut it doesn&#39;t changed anything. \r\n\r\nI could set Hostname verifier to **SSLConnectionSocketFactory** like this:\r\n\r\n `new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier())` But nimbus ResourceRetriever only accept **SSLSocketFactory** as a parameter.\r\n\r\nIs there any way to disable Hostname verification?\r\n\r\n","title":"How to disable Host name verification for nimbus JWKS ResourceRetriever","body":"<p>First I was using 'DefaultResourceRetriever' without any configuration like this :</p>\n<pre><code>new DefaultResourceRetriever(1000, 1000);\n</code></pre>\n<p>and then I got the following exception</p>\n<pre><code>java.security.cert.CertificateException: No subject alternative DNS name matching my-jwks-url.com found.\n</code></pre>\n<p>To by pass certificate check I have configured the resource retriever like below;</p>\n<pre><code>TrustStrategy trustStrategy = (X509Certificate[] x509Certificates, String s) -&gt; true;\n\nSSLContext sslContext = SSLContexts.custom()\n    .loadTrustMaterial(null, trustStrategy)\n    .build();\n\nSSLSocketFactory socketFactory = sslContext.getSocketFactory();\n\nreturn new DefaultResourceRetriever(1000, 1000, 0, true, socketFactory);\n</code></pre>\n<p>But it doesn't changed anything.</p>\n<p>I could set Hostname verifier to <strong>SSLConnectionSocketFactory</strong> like this:</p>\n<p><code>new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier())</code> But nimbus ResourceRetriever only accept <strong>SSLSocketFactory</strong> as a parameter.</p>\n<p>Is there any way to disable Hostname verification?</p>\n"},{"tags":["java","multithreading","reentrantlock"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1653313875,"post_id":72349686,"comment_id":127814787,"body_markdown":"`Resource` is just an object with a `doSomething()` method.  `ReentrantLock` is just a lock object with additional capabilities; see [here](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html).","body":"<code>Resource</code> is just an object with a <code>doSomething()</code> method.  <code>ReentrantLock</code> is just a lock object with additional capabilities; see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1653313972,"post_id":72349686,"comment_id":127814834,"body_markdown":"The way it prevents multiple threads from accessing the resource is this: `lock.tryLock()` returns `false`.","body":"The way it prevents multiple threads from accessing the resource is this: <code>lock.tryLock()</code> returns <code>false</code>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1653314082,"post_id":72349686,"comment_id":127814888,"body_markdown":"Not sure what you mean by &quot;object level lock&quot; or &quot;class level lock&quot;.  It&#39;s not `static` if that&#39;s what you mean.  Each `ConcurrencyLockExample` object contains its own `ReentrantLock` object.  Presumably, each ConcurrencyLockExample object can only handle one thread at a time, but you can have multiple such objects, each handling its own series of `run()` calls.","body":"Not sure what you mean by &quot;object level lock&quot; or &quot;class level lock&quot;.  It&#39;s not <code>static</code> if that&#39;s what you mean.  Each <code>ConcurrencyLockExample</code> object contains its own <code>ReentrantLock</code> object.  Presumably, each ConcurrencyLockExample object can only handle one thread at a time, but you can have multiple such objects, each handling its own series of <code>run()</code> calls."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653350378,"post_id":72349686,"comment_id":127825919,"body_markdown":"It is neither. It is a lock, period.","body":"It is neither. It is a lock, period."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653338472,"creation_date":1653326238,"answer_id":72352475,"question_id":72349686,"body_markdown":"In one sense, a `ReentrantLock` is neither a class-level nor an object-level lock. In a more practical sense, it&#39;s the same as either of them.\r\n\r\nReally, you should forget about &quot;class level&quot; and &quot;object level&quot; locking. Those are not useful distinctions.\r\n\r\nYou can use _any_ object as the `lock` in a `synchronized(lock){...}` block. &quot;Object level&quot; locking simply means that, within some method of a `class C`, the object that you choose is an instance of the class; and &quot;class level&quot; means that you choose to use `C.class` as the lock object.\r\n\r\nBut, you can use other objects too,\\* and `synchronized(lock)` behaves in the same way no matter what object you choose for the `lock`.\r\n\r\n----------------\r\n\r\n\\* This is a pattern that often is used by experienced software developers:\r\n\r\n``` lang-java\r\npublic class C {\r\n    private final Object lock = new Object();\r\n\r\n    public MyType myMethod(...) {\r\n        ...\r\n        synchronized(lock) {\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nThe reason for using a `private` object is that the author of some client code that uses class `C` potentially could use an instance of `C` as a lock. That wouldn&#39;t be a smart idea, but nothing prevents them from doing it. If two different authors chose to use the same object as a lock, there could be unforseen interactions (e.g., in the worst case, a deadlock.) But the author of class `C` averts that problem by using a `lock` object that is inaccessible to other classes.","title":"Is Reentrant Lock a Object level lock or Class level lock?","body":"<p>In one sense, a <code>ReentrantLock</code> is neither a class-level nor an object-level lock. In a more practical sense, it's the same as either of them.</p>\n<p>Really, you should forget about &quot;class level&quot; and &quot;object level&quot; locking. Those are not useful distinctions.</p>\n<p>You can use <em>any</em> object as the <code>lock</code> in a <code>synchronized(lock){...}</code> block. &quot;Object level&quot; locking simply means that, within some method of a <code>class C</code>, the object that you choose is an instance of the class; and &quot;class level&quot; means that you choose to use <code>C.class</code> as the lock object.</p>\n<p>But, you can use other objects too,* and <code>synchronized(lock)</code> behaves in the same way no matter what object you choose for the <code>lock</code>.</p>\n<hr />\n<p>* This is a pattern that often is used by experienced software developers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C {\n    private final Object lock = new Object();\n\n    public MyType myMethod(...) {\n        ...\n        synchronized(lock) {\n            ...\n        }\n        ...\n    }\n}\n</code></pre>\n<p>The reason for using a <code>private</code> object is that the author of some client code that uses class <code>C</code> potentially could use an instance of <code>C</code> as a lock. That wouldn't be a smart idea, but nothing prevents them from doing it. If two different authors chose to use the same object as a lock, there could be unforseen interactions (e.g., in the worst case, a deadlock.) But the author of class <code>C</code> averts that problem by using a <code>lock</code> object that is inaccessible to other classes.</p>\n"}],"owner":{"account_id":15243682,"reputation":3,"user_id":10999113,"display_name":"Senthil Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72352475,"answer_count":1,"score":-1,"last_activity_date":1653338472,"creation_date":1653313712,"question_id":72349686,"body_markdown":"I see in many tutorials for Reentrant lock, they create a new Reentrant lock and resource is injected, lock and unlock of reentrant lock is called in try/finally block. I don&#39;t understand the connection between this lock and resource which is used in the thread. Below is an example of tutorial on Reentrant lock\r\n\r\nResource code\r\n```\r\npublic class Resource {\r\n\r\n\tpublic void doSomething(){\r\n\t\t//do some operation, DB read, write etc\r\n\t}\r\n\t\r\n\tpublic void doLogging(){\r\n\t\t//logging, no need for thread safety\r\n\t}\r\n}\r\n```\r\nResource being used in thread declaration code\r\n```\r\npublic class ConcurrencyLockExample implements Runnable{\r\n\r\n\tprivate Resource resource;\r\n\tprivate Lock lock;\r\n\t\r\n\tpublic ConcurrencyLockExample(Resource r){\r\n\t\tthis.resource = r;\r\n\t\tthis.lock = new ReentrantLock();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tif(lock.tryLock(10, TimeUnit.SECONDS)){\r\n\t\t\tresource.doSomething();\r\n\t\t\t}\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}finally{\r\n\t\t\t//release lock\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\t\tresource.doLogging();\r\n\t}\r\n}\r\n```\r\nCan someone explain me how this prevents multiple threads from accessing the given resource at same time resulting in race condition???\r\nIs this reentrant lock creating a Object level lock or Class level lock in the resource???","title":"Is Reentrant Lock a Object level lock or Class level lock?","body":"<p>I see in many tutorials for Reentrant lock, they create a new Reentrant lock and resource is injected, lock and unlock of reentrant lock is called in try/finally block. I don't understand the connection between this lock and resource which is used in the thread. Below is an example of tutorial on Reentrant lock</p>\n<p>Resource code</p>\n<pre><code>public class Resource {\n\n    public void doSomething(){\n        //do some operation, DB read, write etc\n    }\n    \n    public void doLogging(){\n        //logging, no need for thread safety\n    }\n}\n</code></pre>\n<p>Resource being used in thread declaration code</p>\n<pre><code>public class ConcurrencyLockExample implements Runnable{\n\n    private Resource resource;\n    private Lock lock;\n    \n    public ConcurrencyLockExample(Resource r){\n        this.resource = r;\n        this.lock = new ReentrantLock();\n    }\n    \n    @Override\n    public void run() {\n        try {\n            if(lock.tryLock(10, TimeUnit.SECONDS)){\n            resource.doSomething();\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }finally{\n            //release lock\n            lock.unlock();\n        }\n        resource.doLogging();\n    }\n}\n</code></pre>\n<p>Can someone explain me how this prevents multiple threads from accessing the given resource at same time resulting in race condition???\nIs this reentrant lock creating a Object level lock or Class level lock in the resource???</p>\n"},{"tags":["java","jakarta-ee","wildfly-26","jakarta-ee-security-api","jakarta-ee-9"],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653337796,"creation_date":1653315709,"answer_id":72350172,"question_id":72322565,"body_markdown":"**I found out what was wrong. There was NO security domain &#39;jaspitest&#39; in Wildfly 26. This security domain existed in Wildfly before by default, but no longer exists**. That was the reason why my own HttpAuthenticationMechanism did not get invoked.\r\n\r\n**Solution**: Use Security Domain **&#39;other&#39;** instead, OR remove the security-domain tag from jboss-web.xml, OR your own security domain","title":"How to activate my own Jakarta HttpAuthenticationMechanism implementation in Jakarta EE app","body":"<p><strong>I found out what was wrong. There was NO security domain 'jaspitest' in Wildfly 26. This security domain existed in Wildfly before by default, but no longer exists</strong>. That was the reason why my own HttpAuthenticationMechanism did not get invoked.</p>\n<p><strong>Solution</strong>: Use Security Domain <strong>'other'</strong> instead, OR remove the security-domain tag from jboss-web.xml, OR your own security domain</p>\n"}],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72350172,"answer_count":1,"score":2,"last_activity_date":1653337796,"creation_date":1653066800,"question_id":72322565,"body_markdown":"I am creating an simple **Jakarta EE 9** app. Because of my own reason, I have to implement my own HttpAuthenticationMechanism (I am not using built-in [HttpAuthenticationMechanism][1] CDI beans).\r\n\r\nI am having an issue with activating my own HttpAuthenticationMechanism. In my login servlet, I try to call [SecurityContext.authenticate(request, response, AuthenticationParameters)][2] to process a login manually, **but my own HttpAuthenticationMechanism never get called. It was supposed to be called.**\r\n\r\n**My own HttpAuthenticationMechanism &amp; its annotations**\r\n\r\n\t@ApplicationScoped\r\n\t@Alternative\r\n\t@jakarta.annotation.Priority(jakarta.interceptor.Interceptor.Priority.APPLICATION)\r\n\t@AutoApplySession\r\n\t\r\n\tpublic class MyOwnHttpAuthenticationMechanism implements HttpAuthenticationMechanism {\r\n\t\r\n\t\t@Override\r\n\t\tpublic AuthenticationStatus validateRequest(HttpServletRequest request, HttpServletResponse response, HttpMessageContext httpMessageContext)\r\n\t\t\t\tthrows AuthenticationException {\r\n\t\t\t\r\n\t\t\t// Never called\r\n\t\t}\r\n\t}\r\n\r\n**As you see, I already added @Alternative and @Priority to activate the bean.**\r\n\r\n**My environment:**\r\n\r\n - Jakarta EE 9.1\r\n - Wildfly 26 preview for Jakarta EE 9\r\n - I also changed **Integrated JASPI** from ON to OFF on the Wildfly.\r\n - my jboss-web.xml: &lt; security-domain&gt;**jaspitest**&lt; /security-domain&gt;\r\n - Java 11\r\n\r\n**Any helps? Thank you!**\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/security/enterprise/authentication/mechanism/http/httpauthenticationmechanism\r\n  [2]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/security/enterprise/securitycontext#authenticate-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-jakarta.security.enterprise.authentication.mechanism.http.AuthenticationParameters-","title":"How to activate my own Jakarta HttpAuthenticationMechanism implementation in Jakarta EE app","body":"<p>I am creating an simple <strong>Jakarta EE 9</strong> app. Because of my own reason, I have to implement my own HttpAuthenticationMechanism (I am not using built-in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/security/enterprise/authentication/mechanism/http/httpauthenticationmechanism\" rel=\"nofollow noreferrer\">HttpAuthenticationMechanism</a> CDI beans).</p>\n<p>I am having an issue with activating my own HttpAuthenticationMechanism. In my login servlet, I try to call <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/security/enterprise/securitycontext#authenticate-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-jakarta.security.enterprise.authentication.mechanism.http.AuthenticationParameters-\" rel=\"nofollow noreferrer\">SecurityContext.authenticate(request, response, AuthenticationParameters)</a> to process a login manually, <strong>but my own HttpAuthenticationMechanism never get called. It was supposed to be called.</strong></p>\n<p><strong>My own HttpAuthenticationMechanism &amp; its annotations</strong></p>\n<pre><code>@ApplicationScoped\n@Alternative\n@jakarta.annotation.Priority(jakarta.interceptor.Interceptor.Priority.APPLICATION)\n@AutoApplySession\n\npublic class MyOwnHttpAuthenticationMechanism implements HttpAuthenticationMechanism {\n\n    @Override\n    public AuthenticationStatus validateRequest(HttpServletRequest request, HttpServletResponse response, HttpMessageContext httpMessageContext)\n            throws AuthenticationException {\n        \n        // Never called\n    }\n}\n</code></pre>\n<p><strong>As you see, I already added @Alternative and @Priority to activate the bean.</strong></p>\n<p><strong>My environment:</strong></p>\n<ul>\n<li>Jakarta EE 9.1</li>\n<li>Wildfly 26 preview for Jakarta EE 9</li>\n<li>I also changed <strong>Integrated JASPI</strong> from ON to OFF on the Wildfly.</li>\n<li>my jboss-web.xml: &lt; security-domain&gt;<strong>jaspitest</strong>&lt; /security-domain&gt;</li>\n<li>Java 11</li>\n</ul>\n<p><strong>Any helps? Thank you!</strong></p>\n"},{"tags":["java","database","hadoop","hive","beeline"],"answers":[{"tags":[],"owner":{"account_id":15352753,"reputation":590,"user_id":11075973,"display_name":"Vishal Kamlapure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653227050,"creation_date":1653227050,"answer_id":72338119,"question_id":67956181,"body_markdown":"You can just use either of the following to connect without specifying any ip&#39;s.\r\n\r\n    !connect jdbc:hive2://  [Or]\r\n    hive/bin/beeline -u jdbc:hive2://\r\n\r\nWhen it asks for username and password just press enter.","title":"Beeline and hive connection on single Node Hadoop Cluster","body":"<p>You can just use either of the following to connect without specifying any ip's.</p>\n<pre><code>!connect jdbc:hive2://  [Or]\nhive/bin/beeline -u jdbc:hive2://\n</code></pre>\n<p>When it asks for username and password just press enter.</p>\n"},{"tags":[],"owner":{"account_id":19163208,"reputation":133,"user_id":13998537,"display_name":"Ayush Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653337487,"creation_date":1653337487,"answer_id":72354468,"question_id":67956181,"body_markdown":"Most probably your HS2 isn&#39;t running.\r\nIn case you haven&#39;t already initialised metastore with some other RDBMS(MySql/Oracle/Postgres etc), you can try derby:\r\nDo:\r\n\r\n    bin/schematool -dbType derby -initSchema\r\n\r\nThen if you want to run in embedded mode:\r\n\r\n    beeline -u jdbc:hive2://\r\n\r\nElse, If you want to launch Hs2:\r\n\r\n    bin/hiveServer2 &amp;\r\n\r\nAnd then you can use your same beeline command:\r\n\r\n    bin/beeline -u jdbc:hive2://localhost:10000\r\n\r\nMake sure to have properly configured HIVE_HOME &amp; the hive configs...\r\n\r\n","title":"Beeline and hive connection on single Node Hadoop Cluster","body":"<p>Most probably your HS2 isn't running.\nIn case you haven't already initialised metastore with some other RDBMS(MySql/Oracle/Postgres etc), you can try derby:\nDo:</p>\n<pre><code>bin/schematool -dbType derby -initSchema\n</code></pre>\n<p>Then if you want to run in embedded mode:</p>\n<pre><code>beeline -u jdbc:hive2://\n</code></pre>\n<p>Else, If you want to launch Hs2:</p>\n<pre><code>bin/hiveServer2 &amp;\n</code></pre>\n<p>And then you can use your same beeline command:</p>\n<pre><code>bin/beeline -u jdbc:hive2://localhost:10000\n</code></pre>\n<p>Make sure to have properly configured HIVE_HOME &amp; the hive configs...</p>\n"}],"owner":{"account_id":19539573,"reputation":334,"user_id":14297619,"display_name":"Farid Arshad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653337487,"creation_date":1623571989,"question_id":67956181,"body_markdown":"I am new with bigdata , hive and hadoop. i have just installed hadoop and hive on my ubuntu machine following the steps given by https://www.edureka.co/blog/install-hadoop-single-node-hadoop-cluster\r\n\r\nCurrently how i connect to hive is by going to hive directory and using cmd : `hive` \r\nThis will then allow me to create my db and tables. \r\n\r\ni am also unsure if im having hiveserver2 but currently i installed hadoop 2.7 and hive 2.1 on my ubuntu machine\r\n\r\ni did not install sql or oracle db as im just using hive, should i install this to connect with beeline?\r\n\r\nWhat i am trying to achieve is by connecting to my hive using beeline. I was wondering if there is any additional steps needed or should there be any configuration needed. \r\nWhat i am trying now is\r\n\r\n1.) after start-all.dfs\r\n2.) i will then run this command :  beeline -u jdbc:hive2://localhost:10000/default\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut i am getting this error on connection refused.\r\n\r\n1.) should i change my localhost to my machine ip address, i check ifconfig , my inet is e.g inet 192.168.1.222 &lt;br&gt;\r\n2.) should i change  beeline -u jdbc:hive2:/hadooplocalhost/default to my hadoop localhost\r\n[![enter image description here][2]][2]\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nmy hive environment : \r\n[![enter image description here][3]][3]\r\n\r\ni am using Single Node Hadoop Cluster for study and practice purpose \r\ni am trying to connect to my hive using beeline. but im unsure on how can this be done. Is there step by step tutorial on how i can connect using beeline after hadoop and hive installation\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pU7ka.png\r\n  [2]: https://i.stack.imgur.com/gWOg7.png\r\n  [3]: https://i.stack.imgur.com/ZRPZI.png","title":"Beeline and hive connection on single Node Hadoop Cluster","body":"<p>I am new with bigdata , hive and hadoop. i have just installed hadoop and hive on my ubuntu machine following the steps given by <a href=\"https://www.edureka.co/blog/install-hadoop-single-node-hadoop-cluster\" rel=\"nofollow noreferrer\">https://www.edureka.co/blog/install-hadoop-single-node-hadoop-cluster</a></p>\n<p>Currently how i connect to hive is by going to hive directory and using cmd : <code>hive</code>\nThis will then allow me to create my db and tables.</p>\n<p>i am also unsure if im having hiveserver2 but currently i installed hadoop 2.7 and hive 2.1 on my ubuntu machine</p>\n<p>i did not install sql or oracle db as im just using hive, should i install this to connect with beeline?</p>\n<p>What i am trying to achieve is by connecting to my hive using beeline. I was wondering if there is any additional steps needed or should there be any configuration needed.\nWhat i am trying now is</p>\n<p>1.) after start-all.dfs\n2.) i will then run this command :  beeline -u jdbc:hive2://localhost:10000/default</p>\n<p><a href=\"https://i.stack.imgur.com/pU7ka.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pU7ka.png\" alt=\"enter image description here\" /></a></p>\n<p>But i am getting this error on connection refused.</p>\n<p>1.) should i change my localhost to my machine ip address, i check ifconfig , my inet is e.g inet 192.168.1.222 <br>\n2.) should i change  beeline -u jdbc:hive2:/hadooplocalhost/default to my hadoop localhost\n<a href=\"https://i.stack.imgur.com/gWOg7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWOg7.png\" alt=\"enter image description here\" /></a></p>\n<p><br><br>\nmy hive environment :\n<a href=\"https://i.stack.imgur.com/ZRPZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZRPZI.png\" alt=\"enter image description here\" /></a></p>\n<p>i am using Single Node Hadoop Cluster for study and practice purpose\ni am trying to connect to my hive using beeline. but im unsure on how can this be done. Is there step by step tutorial on how i can connect using beeline after hadoop and hive installation</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653336389,"post_id":72354265,"comment_id":127822905,"body_markdown":"How are you running this? Is your class in a package?","body":"How are you running this? Is your class in a package?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653336496,"post_id":72354265,"comment_id":127822933,"body_markdown":"Are you running it as `java Main.class`? In that case you need to run `java Main`, without the `.class` extension.","body":"Are you running it as <code>java Main.class</code>? In that case you need to run <code>java Main</code>, without the <code>.class</code> extension."}],"owner":{"account_id":24471663,"reputation":1,"user_id":19183647,"display_name":"TenNetherite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653336333,"creation_date":1653336333,"question_id":72354265,"body_markdown":"I Have this error when i try to run my java class\r\n`Error: Could not find or load main class Main.class\r\nCaused by: java.lang.ClassNotFoundException: Main.class`","title":"I Can&#39;t run .class file from CMD","body":"<p>I Have this error when i try to run my java class\n<code>Error: Could not find or load main class Main.class Caused by: java.lang.ClassNotFoundException: Main.class</code></p>\n"},{"tags":["java","sql","sqlite","android-studio"],"comments":[{"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"score":1,"creation_date":1653335719,"post_id":72354142,"comment_id":127822710,"body_markdown":"You missed scape the quotes for `NAME` column","body":"You missed scape the quotes for <code>NAME</code> column"},{"owner":{"account_id":17524579,"reputation":411,"user_id":14248729,"display_name":"Konat Undoshy"},"score":0,"creation_date":1653336042,"post_id":72354142,"comment_id":127822807,"body_markdown":"@James Sorry but can you tell me the line ? I&#39;m looking but i don&#39;t see nothing","body":"@James Sorry but can you tell me the line ? I&#39;m looking but i don&#39;t see nothing"},{"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"score":0,"creation_date":1653336107,"post_id":72354142,"comment_id":127822824,"body_markdown":"This should be `INSERT INTO GAMES(_id, PRICE, NAME, DEV, PLATFORM) VALUES (0, 70, &#39;Hello&#39;, &#39;Henri&#39;, &#39;Terrain&#39;)` to work. You are just concatenating strings, so you need to add the extra `&#39;`.","body":"This should be <code>INSERT INTO GAMES(_id, PRICE, NAME, DEV, PLATFORM) VALUES (0, 70, &#39;Hello&#39;, &#39;Henri&#39;, &#39;Terrain&#39;)</code> to work. You are just concatenating strings, so you need to add the extra <code>&#39;</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653336220,"post_id":72354142,"comment_id":127822855,"body_markdown":"Even better, use prepared statements so you don&#39;t have to think about quoting and escaping.","body":"Even better, use prepared statements so you don&#39;t have to think about quoting and escaping."}],"answers":[{"tags":[],"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1653336246,"creation_date":1653336246,"answer_id":72354248,"question_id":72354142,"body_markdown":"Something like this...\r\n\r\n        + &quot;&#39;&quot; + Name + &quot;&#39;, &quot;\r\n        + &quot;&#39;&quot; + Dev  + &quot;&#39;, &quot;\r\n        + &quot;&#39;&quot; + Platform + &quot;&#39;)&quot;);","title":"near &quot;&quot;: syntax error in SQL with android studio","body":"<p>Something like this...</p>\n<pre><code>    + &quot;'&quot; + Name + &quot;', &quot;\n    + &quot;'&quot; + Dev  + &quot;', &quot;\n    + &quot;'&quot; + Platform + &quot;')&quot;);\n</code></pre>\n"}],"owner":{"account_id":17524579,"reputation":411,"user_id":14248729,"display_name":"Konat Undoshy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72354248,"answer_count":1,"score":0,"last_activity_date":1653336246,"creation_date":1653335585,"question_id":72354142,"body_markdown":"I&#39;m working on a SQL databse on java (android studio project) but i have a weird mistake.\r\nBasically, everytime i have \r\n\r\n    near &quot;Hello&quot;: syntax error in &quot;INSERT INTO GAMES(_id, PRICE, NAME, DEV, PLATFORM) VALUES (0, 70, Hello, Henri, Terrain)&quot;\r\n\r\nI have tried like this\r\n\r\n    public void addGame(String Price, String Name, String Dev, String Platform) {\r\n        database = getWritableDatabase();\r\n        database.execSQL(&quot;INSERT INTO &quot;+ SchemeDB.TAB_GAMES +&quot;(&quot;\r\n                + DBS.COL_GAMES_ID +&quot;, &quot;\r\n                + DBS.COL_GAMES_PRICE +&quot;, &quot;\r\n                + DBS.COL_GAMES_NAME +&quot;, &quot;\r\n                + DBS.COL_GAMES_DEV +&quot;, &quot;\r\n                + DBS.COL_GAMES_PLATFORM +&quot;) VALUES (&quot; + i +&quot;, &quot;\r\n                + Price +&quot;, &quot;\r\n                + Name +&quot;, &quot;\r\n                + Dev +&quot;, &quot;\r\n                + Platform +&quot;)&quot;);\r\n        database.close();\r\n   \r\n    }\r\n\r\nMy DBS is \r\n\r\n    public interface SchemeDB {\r\n    \r\n        int VERSION = 1;\r\n        String DB_NAME = &quot;????&quot;;\r\n        String TAB_GAMES = &quot;???&quot;;\r\n        String COL_GAMES_ID = &quot;_id&quot;;\r\n        String COL_GAMES_PRICE = &quot;PRICE&quot;;\r\n        String COL_GAMES_NAME = &quot;NAME&quot;;\r\n        String COL_GAMES_DEV = &quot;DEV&quot;;\r\n        String COL_GAMES_PLATFORM = &quot;PLATFORM&quot;;\r\n    \r\n    }\r\n\r\nAnd i really don&#39;t see where is the mistake. Because they&#39;re saying &quot;syntax error&quot;, but for me, it&#39;s look pretty OKAY.\r\nAnyone have a clue ? I&#39;m just trying to insert some things in my Database.","title":"near &quot;&quot;: syntax error in SQL with android studio","body":"<p>I'm working on a SQL databse on java (android studio project) but i have a weird mistake.\nBasically, everytime i have</p>\n<pre><code>near &quot;Hello&quot;: syntax error in &quot;INSERT INTO GAMES(_id, PRICE, NAME, DEV, PLATFORM) VALUES (0, 70, Hello, Henri, Terrain)&quot;\n</code></pre>\n<p>I have tried like this</p>\n<pre><code>public void addGame(String Price, String Name, String Dev, String Platform) {\n    database = getWritableDatabase();\n    database.execSQL(&quot;INSERT INTO &quot;+ SchemeDB.TAB_GAMES +&quot;(&quot;\n            + DBS.COL_GAMES_ID +&quot;, &quot;\n            + DBS.COL_GAMES_PRICE +&quot;, &quot;\n            + DBS.COL_GAMES_NAME +&quot;, &quot;\n            + DBS.COL_GAMES_DEV +&quot;, &quot;\n            + DBS.COL_GAMES_PLATFORM +&quot;) VALUES (&quot; + i +&quot;, &quot;\n            + Price +&quot;, &quot;\n            + Name +&quot;, &quot;\n            + Dev +&quot;, &quot;\n            + Platform +&quot;)&quot;);\n    database.close();\n\n}\n</code></pre>\n<p>My DBS is</p>\n<pre><code>public interface SchemeDB {\n\n    int VERSION = 1;\n    String DB_NAME = &quot;????&quot;;\n    String TAB_GAMES = &quot;???&quot;;\n    String COL_GAMES_ID = &quot;_id&quot;;\n    String COL_GAMES_PRICE = &quot;PRICE&quot;;\n    String COL_GAMES_NAME = &quot;NAME&quot;;\n    String COL_GAMES_DEV = &quot;DEV&quot;;\n    String COL_GAMES_PLATFORM = &quot;PLATFORM&quot;;\n\n}\n</code></pre>\n<p>And i really don't see where is the mistake. Because they're saying &quot;syntax error&quot;, but for me, it's look pretty OKAY.\nAnyone have a clue ? I'm just trying to insert some things in my Database.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":7584768,"reputation":107,"user_id":5754294,"accept_rate":25,"display_name":"Skyterix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653335908,"creation_date":1653335908,"answer_id":72354190,"question_id":59968230,"body_markdown":"Two years later I got my answer. I am now using Spring Boot and SpEL expressions so bear with me. This query does a little more than just my original idea but you can extract what you need from it.\r\n\r\n    @Override\r\n    @Query(&quot;select p from PostSnapshot p where &quot; +\r\n            // Tags\r\n            &quot;(:#{#query.withTags.size()} = 0 or p.id in (&quot; +\r\n            &quot;select post.id from PostSnapshot post inner join post.tags tag &quot; +\r\n            &quot;where tag.value in (:#{#query.withTags}) &quot; +\r\n            &quot;group by post.id &quot; +\r\n            &quot;having count(distinct tag.value) = :#{#query.withTags.size() * 1L}&quot; +\r\n            &quot;)) and (:#{#query.withoutTags.size()} = 0 or p.id not in (&quot; +\r\n            &quot;select post.id from PostSnapshot post inner join post.tags tag &quot; +\r\n            &quot;where tag.value in (:#{#query.withoutTags}) &quot; +\r\n            &quot;group by post.id &quot; +\r\n            &quot;having count(distinct tag.value) = :#{#query.withoutTags.size() * 1L}&quot; +\r\n            &quot;)) &quot; +\r\n            // Artists\r\n            &quot;and (:#{#query.withArtists.size()} = 0 or p.id in (&quot; +\r\n            &quot;select post.id from PostSnapshot post inner join post.artists artist &quot; +\r\n            &quot;where artist.preferredNickname in (:#{#query.withArtists}) &quot; +\r\n            &quot;group by post.id &quot; +\r\n            &quot;having count(distinct artist.preferredNickname) = :#{#query.withArtists.size() * 1L}&quot; +\r\n            &quot;)) and (:#{#query.withoutArtists.size()} = 0 or p.id not in (&quot; +\r\n            &quot;select post.id from PostSnapshot post inner join post.artists artist &quot; +\r\n            &quot;where artist.preferredNickname in (:#{#query.withoutArtists}) &quot; +\r\n            &quot;group by post.id &quot; +\r\n            &quot;having count(distinct artist.preferredNickname) = :#{#query.withoutArtists.size() * 1L}&quot; +\r\n            &quot;)) &quot; +\r\n            // Title like words\r\n            &quot;and lower(p.title) like concat(&#39;%&#39;, lower(:#{(#query.words.isEmpty()) ? &#39;&#39; : #query.words.toArray()[0]}) ,&#39;%&#39;)&quot; +\r\n            // OwnerId\r\n            &quot;and p.ownerId = :ownerId&quot;)\r\n    Page&lt;PostSnapshot&gt; findAllByOwnerIdAndQuery(@Param(&quot;ownerId&quot;) UUID ownerId, @Param(&quot;query&quot;) PostQuerySearchDTO query, Pageable pageable);\r\n\r\n","title":"HQL Hibernate query search check if list contains all elements of another list","body":"<p>Two years later I got my answer. I am now using Spring Boot and SpEL expressions so bear with me. This query does a little more than just my original idea but you can extract what you need from it.</p>\n<pre><code>@Override\n@Query(&quot;select p from PostSnapshot p where &quot; +\n        // Tags\n        &quot;(:#{#query.withTags.size()} = 0 or p.id in (&quot; +\n        &quot;select post.id from PostSnapshot post inner join post.tags tag &quot; +\n        &quot;where tag.value in (:#{#query.withTags}) &quot; +\n        &quot;group by post.id &quot; +\n        &quot;having count(distinct tag.value) = :#{#query.withTags.size() * 1L}&quot; +\n        &quot;)) and (:#{#query.withoutTags.size()} = 0 or p.id not in (&quot; +\n        &quot;select post.id from PostSnapshot post inner join post.tags tag &quot; +\n        &quot;where tag.value in (:#{#query.withoutTags}) &quot; +\n        &quot;group by post.id &quot; +\n        &quot;having count(distinct tag.value) = :#{#query.withoutTags.size() * 1L}&quot; +\n        &quot;)) &quot; +\n        // Artists\n        &quot;and (:#{#query.withArtists.size()} = 0 or p.id in (&quot; +\n        &quot;select post.id from PostSnapshot post inner join post.artists artist &quot; +\n        &quot;where artist.preferredNickname in (:#{#query.withArtists}) &quot; +\n        &quot;group by post.id &quot; +\n        &quot;having count(distinct artist.preferredNickname) = :#{#query.withArtists.size() * 1L}&quot; +\n        &quot;)) and (:#{#query.withoutArtists.size()} = 0 or p.id not in (&quot; +\n        &quot;select post.id from PostSnapshot post inner join post.artists artist &quot; +\n        &quot;where artist.preferredNickname in (:#{#query.withoutArtists}) &quot; +\n        &quot;group by post.id &quot; +\n        &quot;having count(distinct artist.preferredNickname) = :#{#query.withoutArtists.size() * 1L}&quot; +\n        &quot;)) &quot; +\n        // Title like words\n        &quot;and lower(p.title) like concat('%', lower(:#{(#query.words.isEmpty()) ? '' : #query.words.toArray()[0]}) ,'%')&quot; +\n        // OwnerId\n        &quot;and p.ownerId = :ownerId&quot;)\nPage&lt;PostSnapshot&gt; findAllByOwnerIdAndQuery(@Param(&quot;ownerId&quot;) UUID ownerId, @Param(&quot;query&quot;) PostQuerySearchDTO query, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":7584768,"reputation":107,"user_id":5754294,"accept_rate":25,"display_name":"Skyterix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72354190,"answer_count":1,"score":4,"last_activity_date":1653335908,"creation_date":1580304869,"question_id":59968230,"body_markdown":"I came across a problem that I cannot think of a solution.\r\nSo I got this piece of code:\r\n\r\n    public List&lt;Post&gt; getPosts(List&lt;PostStrategy&gt; allowedStrategyList, Set&lt;Tag&gt; allowedTags, int page, int resultsPerPage) {\r\n        return entityManager.createQuery(&quot;select post from Post post join post.tags tag where post.postStrategy in (:postStrategyList) and (:allowedTagsSize = 0 or tag in (:allowedTags))&quot;, Post.class)\r\n                .setParameter(&quot;postStrategyList&quot;, allowedStrategyList)\r\n                .setParameter(&quot;allowedTags&quot;, allowedTags)\r\n                .setParameter(&quot;allowedTagsSize&quot;, allowedTags.size())\r\n                .setFirstResult((page - 1) * resultsPerPage)\r\n                .setMaxResults(resultsPerPage)\r\n                .getResultList();\r\n    }\r\n\r\nThe problem with this piece of code is that when someone searches with more than one tag (for example: #video, #image), it returns both posts with two tags and one tag.\r\n\r\nI would like it to return a post with both #video, and #image in its tags. For it to work, I somehow need to check if the list contains all elements of another list.\r\n\r\nI searched for a solution for a while and tried different approaches so far, nothing.\r\n\r\nI tried replacing &quot;tag in (:allowedTags)&quot; with &quot;post.tags in (:allowedTags)&quot; but that throws that my SQL is invalid.","title":"HQL Hibernate query search check if list contains all elements of another list","body":"<p>I came across a problem that I cannot think of a solution.\nSo I got this piece of code:</p>\n\n<pre><code>public List&lt;Post&gt; getPosts(List&lt;PostStrategy&gt; allowedStrategyList, Set&lt;Tag&gt; allowedTags, int page, int resultsPerPage) {\n    return entityManager.createQuery(\"select post from Post post join post.tags tag where post.postStrategy in (:postStrategyList) and (:allowedTagsSize = 0 or tag in (:allowedTags))\", Post.class)\n            .setParameter(\"postStrategyList\", allowedStrategyList)\n            .setParameter(\"allowedTags\", allowedTags)\n            .setParameter(\"allowedTagsSize\", allowedTags.size())\n            .setFirstResult((page - 1) * resultsPerPage)\n            .setMaxResults(resultsPerPage)\n            .getResultList();\n}\n</code></pre>\n\n<p>The problem with this piece of code is that when someone searches with more than one tag (for example: #video, #image), it returns both posts with two tags and one tag.</p>\n\n<p>I would like it to return a post with both #video, and #image in its tags. For it to work, I somehow need to check if the list contains all elements of another list.</p>\n\n<p>I searched for a solution for a while and tried different approaches so far, nothing.</p>\n\n<p>I tried replacing \"tag in (:allowedTags)\" with \"post.tags in (:allowedTags)\" but that throws that my SQL is invalid.</p>\n"},{"tags":["java","android","mobile-application"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335333,"creation_date":1653247495,"answer_id":72340676,"question_id":72340230,"body_markdown":"Use 1 `Activity` and 2 `Fragment`; then use `Bundle savedInstanceState`.","title":"How to go back to the last activity when the app is killed and reopened","body":"<p>Use 1 <code>Activity</code> and 2 <code>Fragment</code>; then use <code>Bundle savedInstanceState</code>.</p>\n"}],"owner":{"account_id":19935157,"reputation":1,"user_id":14608008,"display_name":"jianzhang chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653335333,"creation_date":1653243614,"question_id":72340230,"body_markdown":"I want my Android app to go back to the last activity if the user closes and reopens the app again. I search for some info, but most of them just save the data. I am wondering how to save the activity. For example, my app has two activities, the app was killed when it was in activity 2. When I relaunch the app, it should go to activity 2 instead of activity 1.","title":"How to go back to the last activity when the app is killed and reopened","body":"<p>I want my Android app to go back to the last activity if the user closes and reopens the app again. I search for some info, but most of them just save the data. I am wondering how to save the activity. For example, my app has two activities, the app was killed when it was in activity 2. When I relaunch the app, it should go to activity 2 instead of activity 1.</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653227039,"post_id":72331047,"comment_id":127794651,"body_markdown":"Your recent editing doesn&#39;t provide enough information on what the final result should look like. A list containing a single object per status? What&#39;s wrong with the code you&#39;ve posted?","body":"Your recent editing doesn&#39;t provide enough information on what the final result should look like. A list containing a single object per status? What&#39;s wrong with the code you&#39;ve posted?"},{"owner":{"account_id":21136890,"reputation":33,"user_id":15540187,"display_name":"HEssaidi"},"score":0,"creation_date":1653232001,"post_id":72331047,"comment_id":127795744,"body_markdown":"@Alexander Ivanchenko question edited, hope is clear now","body":"@Alexander Ivanchenko question edited, hope is clear now"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653241666,"creation_date":1653216046,"answer_id":72336818,"question_id":72331047,"body_markdown":"&lt;h3&gt;Update&lt;/h3&gt;\r\n\r\nThe resulting type is not correct. Because you didn&#39;t provide the identity within the `reduce()` it will return an `Optional&lt;Object&gt;`, but not an object.\r\n\r\nFor the same reason (because you are using a flavor of `reduce()` that doesn&#39;t expect identity), the *accumulator* will have no impact on a **single** element. A quote from the [*documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)):\r\n\r\n&gt; Performs a reduction on the elements of this stream, using an\r\n&gt; associative accumulation function, and returns an Optional describing\r\n&gt; the reduced value, if any. This is equivalent to:\r\n&gt; \r\n&gt; \r\n&gt;      boolean foundAny = false;\r\n&gt;      T result = null;\r\n&gt;      for (T element : this stream) {\r\n&gt;          if (!foundAny) {\r\n&gt;              foundAny = true;\r\n&gt;              result = element;\r\n&gt;          }\r\n&gt;          else\r\n&gt;              result = accumulator.apply(result, element);\r\n&gt;      }\r\n&gt;      return foundAny ? Optional.of(result) : Optional.empty();\r\n\r\nThe first encountered stream element would become a partial result and there&#39;s no more elements, it would be wrapped by the optional as is and returned.\r\n\r\nA possible remedy is to introduce the *identity*:\r\n```\r\npublic static final Integer customizedId = 99;\r\npublic static final String customizedName = &quot;customizedName&quot;;\r\npublic static final String customizedStatus = &quot;customizedStatus&quot;;\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;MyObject&gt; listOfObjects =\r\n        List.of(new MyObject(1, &quot;nameXX&quot;, &quot;statusXX&quot;, 1L),\r\n                new MyObject(2, &quot;nameYY&quot;, &quot;statusYY&quot;, 1L),\r\n                new MyObject(3, &quot;nameZZz&quot;, &quot;customizedStatus&quot;, 3L));\r\n    \r\n    List&lt;MyObject&gt; result =\r\n        listOfObjects.stream()\r\n            .collect(Collectors.groupingBy(MyObject::getStatus))\r\n            .entrySet().stream()\r\n            .map(e -&gt; e.getValue().stream()\r\n                .reduce(getIdentity(e), (partialResult, nextElem) -&gt; accumulate(partialResult, nextElem)) )\r\n            .collect(Collectors.toList());\r\n        \r\n    result.forEach(System.out::println);\r\n}\r\n\r\npublic static MyObject getIdentity(Map.Entry&lt;String, List&lt;MyObject&gt;&gt; entry) {\r\n        \r\n    return entry.getKey().equals(customizedStatus) ?\r\n            new MyObject(customizedId, customizedName, customizedStatus, 0L) :\r\n            entry.getValue().iterator().next();\r\n}\r\n    \r\npublic static MyObject accumulate(MyObject result, MyObject next) {\r\n        \r\n    return result.getStatus().equals(customizedStatus) ?\r\n            new MyObject(customizedId, customizedName, customizedStatus, result.getCount() + next.getCount()) :\r\n            new MyObject(result.getId(), result.getName(), result.getStatus(), result.getCount());\r\n}\r\n```\r\n*Output:*\r\n```\r\nMyObject{id=2, name=&#39;nameYY&#39;, status=&#39;statusYY&#39;, count=1}\r\nMyObject{id=1, name=&#39;nameXX&#39;, status=&#39;statusXX&#39;, count=1}\r\nMyObject{id=99, name=&#39;customizedName&#39;, status=&#39;customizedStatus&#39;, count=3}\r\n```\r\n\r\n*You can play around with this* [*Online demo*](https://www.jdoodle.com/ia/r9U)\r\n\r\nBut keep in mind that it&#39;s not the brightest idea to try to crap a lot of conditional logic into stream because it becomes more difficult to read.\r\n\r\n*Solutions provided below were written before the question was updated, and the problem was clarified. Although, they don&#39;t target this specific problem, someone might benefit from them and for that reason I&#39;ll preserve them.*\r\n\r\n&lt;h3&gt;Reducing the list into a single object&lt;/h3&gt;\r\n\r\n&gt; Is there any solution to make it pass by reduce even listOfObjects entries are different by status ?\r\n\r\nIn case if you want to reduce a list of objects into a single object with a predefined `id`, `name` and `status`, there&#39;s no need to create an intermediate map with `Collectors.groupingBy()`.\r\n\r\nIf you want to utilize `reduce()` operation for that, you can accumulate `count` and then create a resulting object based on it:\r\n\r\nThat&#39;s how it might look like (the type of dummy object was changed to `MyObject` to avoid confusion with `java.lang.Object`):\r\n```\r\nfinal Integer customizedId =    // intializing the resulting id\r\nfinal String customizedName =   // intializing the resulting name\r\nfinal String customizedStatus = // intializing the resulting status\r\n        \r\nList&lt;MyObject&gt; listOfObjects =  // intializing the source list\r\n    \r\nMyObject resultingObject = listOfObjects.stream()\r\n    .map(MyObject::getCount)\r\n    .reduce(Long::sum)\r\n    .map(count -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L))\r\n    .orElseThrow(); // or .orElse(() -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L));\r\n```\r\nAnother way of achieving it is to make use of the fact that `MyObject` is mutable and utilize it as a container inside the `collect()` operation:\r\n```  \r\nMyObject resultingObject = listOfObjects.stream()\r\n    .collect(() -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L),\r\n        (MyObject result, MyObject next) -&gt; result.setCount(result.getCount() + next.getCount()),\r\n        (left, right) -&gt; left.setCount(left.getCount() + right.getCount()));\r\n```\r\n\r\n","title":"Ruducing a List of objects using Stream.reduce()","body":"<h3>Update</h3>\n<p>The resulting type is not correct. Because you didn't provide the identity within the <code>reduce()</code> it will return an <code>Optional&lt;Object&gt;</code>, but not an object.</p>\n<p>For the same reason (because you are using a flavor of <code>reduce()</code> that doesn't expect identity), the <em>accumulator</em> will have no impact on a <strong>single</strong> element. A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><em>documentation</em></a>:</p>\n<blockquote>\n<p>Performs a reduction on the elements of this stream, using an\nassociative accumulation function, and returns an Optional describing\nthe reduced value, if any. This is equivalent to:</p>\n<pre><code> boolean foundAny = false;\n T result = null;\n for (T element : this stream) {\n     if (!foundAny) {\n         foundAny = true;\n         result = element;\n     }\n     else\n         result = accumulator.apply(result, element);\n }\n return foundAny ? Optional.of(result) : Optional.empty();\n</code></pre>\n</blockquote>\n<p>The first encountered stream element would become a partial result and there's no more elements, it would be wrapped by the optional as is and returned.</p>\n<p>A possible remedy is to introduce the <em>identity</em>:</p>\n<pre><code>public static final Integer customizedId = 99;\npublic static final String customizedName = &quot;customizedName&quot;;\npublic static final String customizedStatus = &quot;customizedStatus&quot;;\n\npublic static void main(String[] args) {\n    List&lt;MyObject&gt; listOfObjects =\n        List.of(new MyObject(1, &quot;nameXX&quot;, &quot;statusXX&quot;, 1L),\n                new MyObject(2, &quot;nameYY&quot;, &quot;statusYY&quot;, 1L),\n                new MyObject(3, &quot;nameZZz&quot;, &quot;customizedStatus&quot;, 3L));\n    \n    List&lt;MyObject&gt; result =\n        listOfObjects.stream()\n            .collect(Collectors.groupingBy(MyObject::getStatus))\n            .entrySet().stream()\n            .map(e -&gt; e.getValue().stream()\n                .reduce(getIdentity(e), (partialResult, nextElem) -&gt; accumulate(partialResult, nextElem)) )\n            .collect(Collectors.toList());\n        \n    result.forEach(System.out::println);\n}\n\npublic static MyObject getIdentity(Map.Entry&lt;String, List&lt;MyObject&gt;&gt; entry) {\n        \n    return entry.getKey().equals(customizedStatus) ?\n            new MyObject(customizedId, customizedName, customizedStatus, 0L) :\n            entry.getValue().iterator().next();\n}\n    \npublic static MyObject accumulate(MyObject result, MyObject next) {\n        \n    return result.getStatus().equals(customizedStatus) ?\n            new MyObject(customizedId, customizedName, customizedStatus, result.getCount() + next.getCount()) :\n            new MyObject(result.getId(), result.getName(), result.getStatus(), result.getCount());\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyObject{id=2, name='nameYY', status='statusYY', count=1}\nMyObject{id=1, name='nameXX', status='statusXX', count=1}\nMyObject{id=99, name='customizedName', status='customizedStatus', count=3}\n</code></pre>\n<p><em>You can play around with this</em> <a href=\"https://www.jdoodle.com/ia/r9U\" rel=\"nofollow noreferrer\"><em>Online demo</em></a></p>\n<p>But keep in mind that it's not the brightest idea to try to crap a lot of conditional logic into stream because it becomes more difficult to read.</p>\n<p><em>Solutions provided below were written before the question was updated, and the problem was clarified. Although, they don't target this specific problem, someone might benefit from them and for that reason I'll preserve them.</em></p>\n<h3>Reducing the list into a single object</h3>\n<blockquote>\n<p>Is there any solution to make it pass by reduce even listOfObjects entries are different by status ?</p>\n</blockquote>\n<p>In case if you want to reduce a list of objects into a single object with a predefined <code>id</code>, <code>name</code> and <code>status</code>, there's no need to create an intermediate map with <code>Collectors.groupingBy()</code>.</p>\n<p>If you want to utilize <code>reduce()</code> operation for that, you can accumulate <code>count</code> and then create a resulting object based on it:</p>\n<p>That's how it might look like (the type of dummy object was changed to <code>MyObject</code> to avoid confusion with <code>java.lang.Object</code>):</p>\n<pre><code>final Integer customizedId =    // intializing the resulting id\nfinal String customizedName =   // intializing the resulting name\nfinal String customizedStatus = // intializing the resulting status\n        \nList&lt;MyObject&gt; listOfObjects =  // intializing the source list\n    \nMyObject resultingObject = listOfObjects.stream()\n    .map(MyObject::getCount)\n    .reduce(Long::sum)\n    .map(count -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L))\n    .orElseThrow(); // or .orElse(() -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L));\n</code></pre>\n<p>Another way of achieving it is to make use of the fact that <code>MyObject</code> is mutable and utilize it as a container inside the <code>collect()</code> operation:</p>\n<pre><code>MyObject resultingObject = listOfObjects.stream()\n    .collect(() -&gt; new MyObject(customizedId,  customizedName, customizedStatus, 0L),\n        (MyObject result, MyObject next) -&gt; result.setCount(result.getCount() + next.getCount()),\n        (left, right) -&gt; left.setCount(left.getCount() + right.getCount()));\n</code></pre>\n"}],"owner":{"account_id":21136890,"reputation":33,"user_id":15540187,"display_name":"HEssaidi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72336818,"answer_count":1,"score":2,"last_activity_date":1653335326,"creation_date":1653147783,"question_id":72331047,"body_markdown":"I have a *list* of *objects*, and I need to group objects having `status` equal to my `customizedStatus`to a single customized one with `count` = `sumOfSameObjectsCount` .&lt;br/&gt; \r\n\r\nWe have class `MyObject`\r\n\r\n    class MyObject {\r\n       Integer id;\r\n       String name;\r\n       String status;\r\n       Long count;\r\n       //constructor with attributes\r\n       //getters \r\n       //setters\r\n    } \r\n\r\nSuggested implementation : \r\n\r\n    List&lt;MyObject&gt; resultList = listOfObjects.stream()\r\n\t\t.collect(Collectors.groupingBy(MyObject::getStatus))\r\n\t\t.entrySet().stream()\r\n\t\t.map(e -&gt; e.getValue().stream()\r\n\t\t\t\t.reduce((partialResult,nextElem) -&gt; \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tLOGGER.info(&quot;ahaaaa! inside your reduce block &quot;);\r\n\t\t\t\t\t\tif(partialResult.getStatus().equals(customizedStatus)) {\r\n              LOGGER.info(&quot;equal to my customizedStatus&quot;);\r\n\t\t\t\t\t\t\treturn new MyObject(customizedId, customizedName, customizedStatus, partialResult.getCount()+nextElem.getCount());\r\n\t\t\t\t\t\t} else {\r\n              LOGGER.info(&quot;not equal to my customizedStatus&quot;);\r\n\t\t\t\t\t\t\treturn new MyObject(partialResult.getId(), partialResult.getName(), partialResult.getStatus(), partialResult.getCount());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t.map(f -&gt; f.get())\r\n\t\t.collect(Collectors.toList());\r\n\r\nThings work like a charm in case there are multiple objects with `status` equal to my `customizedStatus`. &lt;br/&gt;\r\nInput : \r\n\r\n    [\r\n                        {\r\n                            &quot;id&quot;: XX,\r\n                            &quot;name&quot;: &quot;nameXX&quot;,\r\n                            &quot;status&quot;: &quot;statusXX&quot;,\r\n                            &quot;count&quot;: countXX\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: YY,\r\n                            &quot;name&quot;: &quot;nameYY&quot;,\r\n                            &quot;status&quot;: &quot;statusYY&quot;,\r\n                            &quot;count&quot;: countYY\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: ZZ,\r\n                            &quot;name&quot;: &quot;nameZZ&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZ\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: ZZz,\r\n                            &quot;name&quot;: &quot;nameZZz&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZz\r\n                        }\r\n                    ]\r\nOutput : \r\n\r\n    [\r\n                        {\r\n                            &quot;id&quot;: XX,\r\n                            &quot;name&quot;: &quot;nameXX&quot;,\r\n                            &quot;status&quot;: &quot;statusXX&quot;,\r\n                            &quot;count&quot;: countXX\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: YY,\r\n                            &quot;name&quot;: &quot;nameYY&quot;,\r\n                            &quot;status&quot;: &quot;statusYY&quot;,\r\n                            &quot;count&quot;: countYY\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: customizedId,\r\n                            &quot;name&quot;: &quot;customizedName&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZ+countZZz\r\n                        }\r\n                    ]\r\n\r\nIn case there is one object with `status` equal to my `customizedStatus`, need to be customized it too, unfortunately reduce block is being skipped ! &lt;br/&gt;\r\nInput : \r\n\r\n    [\r\n                        {\r\n                            &quot;id&quot;: XX,\r\n                            &quot;name&quot;: &quot;nameXX&quot;,\r\n                            &quot;status&quot;: &quot;statusXX&quot;,\r\n                            &quot;count&quot;: countXX\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: YY,\r\n                            &quot;name&quot;: &quot;nameYY&quot;,\r\n                            &quot;status&quot;: &quot;statusYY&quot;,\r\n                            &quot;count&quot;: countYY\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: ZZ,\r\n                            &quot;name&quot;: &quot;nameZZ&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZ\r\n                        }\r\n                    ]\r\nOutput : \r\n\r\n    [\r\n                        {\r\n                            &quot;id&quot;: XX,\r\n                            &quot;name&quot;: &quot;nameXX&quot;,\r\n                            &quot;status&quot;: &quot;statusXX&quot;,\r\n                            &quot;count&quot;: countXX\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: YY,\r\n                            &quot;name&quot;: &quot;nameYY&quot;,\r\n                            &quot;status&quot;: &quot;statusYY&quot;,\r\n                            &quot;count&quot;: countYY\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: ZZ,\r\n                            &quot;name&quot;: &quot;nameZZ&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZ\r\n                        }\r\n                    ]\r\nExpected output :\r\n\r\n    [\r\n                        {\r\n                            &quot;id&quot;: XX,\r\n                            &quot;name&quot;: &quot;nameXX&quot;,\r\n                            &quot;status&quot;: &quot;statusXX&quot;,\r\n                            &quot;count&quot;: countXX\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: YY,\r\n                            &quot;name&quot;: &quot;nameYY&quot;,\r\n                            &quot;status&quot;: &quot;statusYY&quot;,\r\n                            &quot;count&quot;: countYY\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: customizedId,\r\n                            &quot;name&quot;: &quot;customizedName&quot;,\r\n                            &quot;status&quot;: &quot;customizedStatus&quot;,\r\n                            &quot;count&quot;: countZZ\r\n                        }\r\n                    ]\r\n\r\nIt seems like reduce is executed in case there is multiple objects with same `status`, if there isn&#39;t reduce not being executed at all ! &lt;br/&gt; Any thoughts to get the expected output using `groupBy` and `reduce` ?\r\n\r\n","title":"Ruducing a List of objects using Stream.reduce()","body":"<p>I have a <em>list</em> of <em>objects</em>, and I need to group objects having <code>status</code> equal to my <code>customizedStatus</code>to a single customized one with <code>count</code> = <code>sumOfSameObjectsCount</code> .<br/></p>\n<p>We have class <code>MyObject</code></p>\n<pre><code>class MyObject {\n   Integer id;\n   String name;\n   String status;\n   Long count;\n   //constructor with attributes\n   //getters \n   //setters\n} \n</code></pre>\n<p>Suggested implementation :</p>\n<pre><code>List&lt;MyObject&gt; resultList = listOfObjects.stream()\n    .collect(Collectors.groupingBy(MyObject::getStatus))\n    .entrySet().stream()\n    .map(e -&gt; e.getValue().stream()\n            .reduce((partialResult,nextElem) -&gt; \n                {\n                    LOGGER.info(&quot;ahaaaa! inside your reduce block &quot;);\n                    if(partialResult.getStatus().equals(customizedStatus)) {\n          LOGGER.info(&quot;equal to my customizedStatus&quot;);\n                        return new MyObject(customizedId, customizedName, customizedStatus, partialResult.getCount()+nextElem.getCount());\n                    } else {\n          LOGGER.info(&quot;not equal to my customizedStatus&quot;);\n                        return new MyObject(partialResult.getId(), partialResult.getName(), partialResult.getStatus(), partialResult.getCount());\n                    }\n                }\n            )\n        )\n    .map(f -&gt; f.get())\n    .collect(Collectors.toList());\n</code></pre>\n<p>Things work like a charm in case there are multiple objects with <code>status</code> equal to my <code>customizedStatus</code>. <br/>\nInput :</p>\n<pre><code>[\n                    {\n                        &quot;id&quot;: XX,\n                        &quot;name&quot;: &quot;nameXX&quot;,\n                        &quot;status&quot;: &quot;statusXX&quot;,\n                        &quot;count&quot;: countXX\n                    },\n                    {\n                        &quot;id&quot;: YY,\n                        &quot;name&quot;: &quot;nameYY&quot;,\n                        &quot;status&quot;: &quot;statusYY&quot;,\n                        &quot;count&quot;: countYY\n                    },\n                    {\n                        &quot;id&quot;: ZZ,\n                        &quot;name&quot;: &quot;nameZZ&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZ\n                    },\n                    {\n                        &quot;id&quot;: ZZz,\n                        &quot;name&quot;: &quot;nameZZz&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZz\n                    }\n                ]\n</code></pre>\n<p>Output :</p>\n<pre><code>[\n                    {\n                        &quot;id&quot;: XX,\n                        &quot;name&quot;: &quot;nameXX&quot;,\n                        &quot;status&quot;: &quot;statusXX&quot;,\n                        &quot;count&quot;: countXX\n                    },\n                    {\n                        &quot;id&quot;: YY,\n                        &quot;name&quot;: &quot;nameYY&quot;,\n                        &quot;status&quot;: &quot;statusYY&quot;,\n                        &quot;count&quot;: countYY\n                    },\n                    {\n                        &quot;id&quot;: customizedId,\n                        &quot;name&quot;: &quot;customizedName&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZ+countZZz\n                    }\n                ]\n</code></pre>\n<p>In case there is one object with <code>status</code> equal to my <code>customizedStatus</code>, need to be customized it too, unfortunately reduce block is being skipped ! <br/>\nInput :</p>\n<pre><code>[\n                    {\n                        &quot;id&quot;: XX,\n                        &quot;name&quot;: &quot;nameXX&quot;,\n                        &quot;status&quot;: &quot;statusXX&quot;,\n                        &quot;count&quot;: countXX\n                    },\n                    {\n                        &quot;id&quot;: YY,\n                        &quot;name&quot;: &quot;nameYY&quot;,\n                        &quot;status&quot;: &quot;statusYY&quot;,\n                        &quot;count&quot;: countYY\n                    },\n                    {\n                        &quot;id&quot;: ZZ,\n                        &quot;name&quot;: &quot;nameZZ&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZ\n                    }\n                ]\n</code></pre>\n<p>Output :</p>\n<pre><code>[\n                    {\n                        &quot;id&quot;: XX,\n                        &quot;name&quot;: &quot;nameXX&quot;,\n                        &quot;status&quot;: &quot;statusXX&quot;,\n                        &quot;count&quot;: countXX\n                    },\n                    {\n                        &quot;id&quot;: YY,\n                        &quot;name&quot;: &quot;nameYY&quot;,\n                        &quot;status&quot;: &quot;statusYY&quot;,\n                        &quot;count&quot;: countYY\n                    },\n                    {\n                        &quot;id&quot;: ZZ,\n                        &quot;name&quot;: &quot;nameZZ&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZ\n                    }\n                ]\n</code></pre>\n<p>Expected output :</p>\n<pre><code>[\n                    {\n                        &quot;id&quot;: XX,\n                        &quot;name&quot;: &quot;nameXX&quot;,\n                        &quot;status&quot;: &quot;statusXX&quot;,\n                        &quot;count&quot;: countXX\n                    },\n                    {\n                        &quot;id&quot;: YY,\n                        &quot;name&quot;: &quot;nameYY&quot;,\n                        &quot;status&quot;: &quot;statusYY&quot;,\n                        &quot;count&quot;: countYY\n                    },\n                    {\n                        &quot;id&quot;: customizedId,\n                        &quot;name&quot;: &quot;customizedName&quot;,\n                        &quot;status&quot;: &quot;customizedStatus&quot;,\n                        &quot;count&quot;: countZZ\n                    }\n                ]\n</code></pre>\n<p>It seems like reduce is executed in case there is multiple objects with same <code>status</code>, if there isn't reduce not being executed at all ! <br/> Any thoughts to get the expected output using <code>groupBy</code> and <code>reduce</code> ?</p>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652873298,"creation_date":1652873298,"answer_id":72288353,"question_id":72287988,"body_markdown":"update the Safe args &quot;classpath&quot; to \r\n\r\n     val nav_version = &quot;2.4.2&quot;\r\n        classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;)\r\n\r\ninstead of \r\n\r\n        classpath &quot;android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02&quot;\r\n\r\n\r\n","title":"Could not find method classpath() for arguments in build.gradle","body":"<p>update the Safe args &quot;classpath&quot; to</p>\n<pre><code> val nav_version = &quot;2.4.2&quot;\n    classpath(&quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;)\n</code></pre>\n<p>instead of</p>\n<pre><code>    classpath &quot;android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24215899,"reputation":51,"user_id":18171802,"display_name":"Ilya Shalnov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653335252,"creation_date":1653335252,"answer_id":72354085,"question_id":72287988,"body_markdown":"Add a buildscript group to the top of the build.gradle(Project) file.\r\n\r\n    buildscript {\r\n    dependencies {\r\n        classpath(&quot;androidx.navigation.safeargs:androidx.navigation.safeargs.gradle.plugin:2.4.1&quot;)\r\n       }\r\n    }\r\n\r\nThen add the plugin ID to the plugins group in the build.gradle(Module) file.\r\n\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n\r\nIt can help to\r\n\r\n    ","title":"Could not find method classpath() for arguments in build.gradle","body":"<p>Add a buildscript group to the top of the build.gradle(Project) file.</p>\n<pre><code>buildscript {\ndependencies {\n    classpath(&quot;androidx.navigation.safeargs:androidx.navigation.safeargs.gradle.plugin:2.4.1&quot;)\n   }\n}\n</code></pre>\n<p>Then add the plugin ID to the plugins group in the build.gradle(Module) file.</p>\n<pre><code>id 'androidx.navigation.safeargs'\n</code></pre>\n<p>It can help to</p>\n"}],"owner":{"account_id":24143928,"reputation":79,"user_id":19088321,"display_name":"Славік Николишин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6304,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1653335252,"creation_date":1652871793,"question_id":72287988,"body_markdown":"*Hello everyone) i am making a small android app about the weather on kotlin.  And I have this problem, changing the **classpath** does not give anything.*\r\n\r\n**Problem**\r\n* Could not find method classpath() for arguments [android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler*\r\n---\r\n\r\n**build.gradle(project)**\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.21&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n    \r\n    dependencies {\r\n        classpath &quot;android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02&quot;\r\n    }\r\n\r\n---\r\n\r\n**build.gradle(app)**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    \r\n    apply plugin: &quot;kotlin-kapt&quot;\r\n    \r\n    apply plugin: &#39;androidx.navigation.safeargs&#39;\r\n    \r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.kevychsolutionstest&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        androidExtensions {\r\n            experimental = true\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    \r\n        // Navigation\r\n        implementation &quot;android.arch.navigation:navigation-fragment:$navigation_version&quot;\r\n        implementation &quot;android.arch.navigation:navigation-ui:$navigation_version&quot;\r\n        implementation &quot;android.arch.navigation:navigation-fragment-ktx:$navigation_version&quot;\r\n        implementation &quot;android.arch.navigation:navigation-ui-ktx:$navigation_version&quot;\r\n    \r\n        implementation &quot;androidx.core:core-ktx:1.7.0&quot;\r\n        implementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\r\n    \r\n        // Room\r\n        implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n        implementation &quot;androidx.legacy:legacy-support-v4:1.0.0&quot;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&#39;\r\n        kapt &quot;androidx.room:room-compiler:$room_version&quot;\r\n    \r\n        // Gson\r\n        implementation &quot;com.google.code.gson:gson:2.8.9&quot;\r\n    \r\n        // Kotlin Android Coroutines\r\n        implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&#39;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2&quot;\r\n    \r\n        // Retrofit\r\n        implementation &quot;com.squareup.retrofit2:retrofit:$retrofit_version&quot;\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:$retrofit_version&quot;\r\n        implementation &#39;com.jakewharton.retrofit:retrofit2-kotlin-coroutines-adapter:0.9.2&#39;\r\n    \r\n        // ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\r\n        kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n    \r\n        // Kodein\r\n        implementation &quot;org.kodein.di:kodein-di-generic-jvm:$kodein_version&quot;\r\n        implementation &quot;org.kodein.di:kodein-di-framework-android-x:$kodein_version&quot;\r\n    \r\n        // Better dateTime-time support even on older Android versions\r\n        implementation &quot;com.jakewharton.threetenabp:threetenabp:1.1.0&quot;\r\n    \r\n        // Glide\r\n        implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n        kapt &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n    \r\n        // Groupie RecyclerView\r\n        implementation &#39;com.xwray:groupie:2.1.0&#39;\r\n        implementation &#39;com.xwray:groupie-kotlin-android-extensions:2.1.0&#39;\r\n    \r\n        // Preference\r\n        implementation &quot;androidx.preference:preference:1.2.0&quot;\r\n    \r\n        // WeatherLocation\r\n        implementation &quot;com.google.android.gms:play-services-location:19.0.1&quot;\r\n    \r\n        // New Material Design\r\n        implementation &quot;com.google.android.material:material:1.6.0&quot;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.1.0-alpha4&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0-alpha06&#39;\r\n    }\r\n\r\n---","title":"Could not find method classpath() for arguments in build.gradle","body":"<p><em>Hello everyone) i am making a small android app about the weather on kotlin.  And I have this problem, changing the <strong>classpath</strong> does not give anything.</em></p>\n<p><strong>Problem</strong></p>\n<ul>\n<li>Could not find method classpath() for arguments [android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler*</li>\n</ul>\n<hr />\n<p><strong>build.gradle(project)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.2.0' apply false\n    id 'com.android.library' version '7.2.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.6.21' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndependencies {\n    classpath &quot;android.arch.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha02&quot;\n}\n</code></pre>\n<hr />\n<p><strong>build.gradle(app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: &quot;kotlin-kapt&quot;\n\napply plugin: 'androidx.navigation.safeargs'\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.kevychsolutionstest&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n\n    // Navigation\n    implementation &quot;android.arch.navigation:navigation-fragment:$navigation_version&quot;\n    implementation &quot;android.arch.navigation:navigation-ui:$navigation_version&quot;\n    implementation &quot;android.arch.navigation:navigation-fragment-ktx:$navigation_version&quot;\n    implementation &quot;android.arch.navigation:navigation-ui-ktx:$navigation_version&quot;\n\n    implementation &quot;androidx.core:core-ktx:1.7.0&quot;\n    implementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\n\n    // Room\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    implementation &quot;androidx.legacy:legacy-support-v4:1.0.0&quot;\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'\n    kapt &quot;androidx.room:room-compiler:$room_version&quot;\n\n    // Gson\n    implementation &quot;com.google.code.gson:gson:2.8.9&quot;\n\n    // Kotlin Android Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2'\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2&quot;\n\n    // Retrofit\n    implementation &quot;com.squareup.retrofit2:retrofit:$retrofit_version&quot;\n    implementation &quot;com.squareup.retrofit2:converter-gson:$retrofit_version&quot;\n    implementation 'com.jakewharton.retrofit:retrofit2-kotlin-coroutines-adapter:0.9.2'\n\n    // ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    // Kodein\n    implementation &quot;org.kodein.di:kodein-di-generic-jvm:$kodein_version&quot;\n    implementation &quot;org.kodein.di:kodein-di-framework-android-x:$kodein_version&quot;\n\n    // Better dateTime-time support even on older Android versions\n    implementation &quot;com.jakewharton.threetenabp:threetenabp:1.1.0&quot;\n\n    // Glide\n    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    kapt 'com.github.bumptech.glide:compiler:4.8.0'\n\n    // Groupie RecyclerView\n    implementation 'com.xwray:groupie:2.1.0'\n    implementation 'com.xwray:groupie-kotlin-android-extensions:2.1.0'\n\n    // Preference\n    implementation &quot;androidx.preference:preference:1.2.0&quot;\n\n    // WeatherLocation\n    implementation &quot;com.google.android.gms:play-services-location:19.0.1&quot;\n\n    // New Material Design\n    implementation &quot;com.google.android.material:material:1.6.0&quot;\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0-alpha06'\n}\n</code></pre>\n<hr />\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653334658,"creation_date":1653334658,"answer_id":72353971,"question_id":72353801,"body_markdown":"If you look at the pom you’ve linked you can see it lists 0 compile time dependencies, and the core library is listed as a unit test scope dependency. \r\nIf you follow the getting started, it seems that you’re supposed to depend on tika-core as well: https://tika.apache.org/2.4.0/gettingstarted.html","title":"Maven install fails with type=pom dependency","body":"<p>If you look at the pom you’ve linked you can see it lists 0 compile time dependencies, and the core library is listed as a unit test scope dependency.\nIf you follow the getting started, it seems that you’re supposed to depend on tika-core as well: <a href=\"https://tika.apache.org/2.4.0/gettingstarted.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.4.0/gettingstarted.html</a></p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653334877,"creation_date":1653334877,"answer_id":72354007,"question_id":72353801,"body_markdown":"Try this one: https://mvnrepository.com/artifact/org.apache.tika/tika-parsers-standard-package/2.4.0. It&#39;s not as complete as version 1.x, but there are others in https://mvnrepository.com/artifact/org.apache.tika.","title":"Maven install fails with type=pom dependency","body":"<p>Try this one: <a href=\"https://mvnrepository.com/artifact/org.apache.tika/tika-parsers-standard-package/2.4.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tika/tika-parsers-standard-package/2.4.0</a>. It's not as complete as version 1.x, but there are others in <a href=\"https://mvnrepository.com/artifact/org.apache.tika\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tika</a>.</p>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72353971,"answer_count":2,"score":2,"last_activity_date":1653334877,"creation_date":1653333588,"question_id":72353801,"body_markdown":"I&#39;m updating a maven dependency `tika-parsers` from v1.14 to v2.4.0. Changing the version alone causes maven to fail to find the jar:\r\n\r\n`Could not resolve dependencies for project samm:samm:war:2.0.0: Could not find artifact org.apache.tika:tika-parsers:jar:2.4.0 in central (https://repo.maven.apache.org/maven2)`\r\n\r\nSince [mvnrepository](https://mvnrepository.com/artifact/org.apache.tika/tika-parsers/2.4.0) reports that v2 now needs to have `&lt;type&gt;pom&lt;/type&gt;`, I added that in and while the jar error goes away, my code fails to compile as it can&#39;t find anything in the tika-parses package.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`package org.apache.tika.detect does not exist`\r\n\r\nI&#39;ve confirmed that the package should exist as it hasn&#39;t been renamed in v2, it&#39;s still in their API docs. It sounds like type=pom should tell maven to download all of the dependencies listed in *their* POM but I can&#39;t tell what&#39;s happening.\r\n\r\nDo I need to do something else? ","title":"Maven install fails with type=pom dependency","body":"<p>I'm updating a maven dependency <code>tika-parsers</code> from v1.14 to v2.4.0. Changing the version alone causes maven to fail to find the jar:</p>\n<p><code>Could not resolve dependencies for project samm:samm:war:2.0.0: Could not find artifact org.apache.tika:tika-parsers:jar:2.4.0 in central (https://repo.maven.apache.org/maven2)</code></p>\n<p>Since <a href=\"https://mvnrepository.com/artifact/org.apache.tika/tika-parsers/2.4.0\" rel=\"nofollow noreferrer\">mvnrepository</a> reports that v2 now needs to have <code>&lt;type&gt;pom&lt;/type&gt;</code>, I added that in and while the jar error goes away, my code fails to compile as it can't find anything in the tika-parses package.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n  &lt;version&gt;2.4.0&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>package org.apache.tika.detect does not exist</code></p>\n<p>I've confirmed that the package should exist as it hasn't been renamed in v2, it's still in their API docs. It sounds like type=pom should tell maven to download all of the dependencies listed in <em>their</em> POM but I can't tell what's happening.</p>\n<p>Do I need to do something else?</p>\n"},{"tags":["java","arrays","input"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653332438,"post_id":72353484,"comment_id":127821825,"body_markdown":"see [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/q/13102045/16320675)","body":"see <a href=\"https://stackoverflow.com/q/13102045/16320675\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"score":0,"creation_date":1653332692,"post_id":72353484,"comment_id":127821901,"body_markdown":"check this https://stackoverflow.com/questions/7320315/how-to-test-for-blank-line-with-java-scanner\nwhitespace","body":"check this <a href=\"https://stackoverflow.com/questions/7320315/how-to-test-for-blank-line-with-java-scanner\" title=\"how to test for blank line with java scanner\">stackoverflow.com/questions/7320315/&hellip;</a> whitespace"},{"owner":{"account_id":21859603,"reputation":21,"user_id":16150552,"display_name":"Shriesh Kumar"},"score":0,"creation_date":1653332884,"post_id":72353484,"comment_id":127821950,"body_markdown":"So how can I read the string wihtout readng the carriage return ? Putting a Scanner.nextLine() after it will work ?","body":"So how can I read the string wihtout readng the carriage return ? Putting a Scanner.nextLine() after it will work ?"},{"owner":{"account_id":21859603,"reputation":21,"user_id":16150552,"display_name":"Shriesh Kumar"},"score":0,"creation_date":1653379771,"post_id":72353484,"comment_id":127831533,"body_markdown":"As told by @Yuvaraj R, I tested it in BlueJ and put a Scanner.nextLine() after Scanner.nextInt() and it works. Thank you very much. So will this bug in IntelliJ be fixed in next version ?","body":"As told by @Yuvaraj R, I tested it in BlueJ and put a Scanner.nextLine() after Scanner.nextInt() and it works. Thank you very much. So will this bug in IntelliJ be fixed in next version ?"}],"answers":[{"tags":[],"owner":{"account_id":6519964,"reputation":107,"user_id":5044508,"display_name":"Yuvaraj R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653334724,"creation_date":1653334724,"answer_id":72353979,"question_id":72353484,"body_markdown":"You need to skip line after nextInt() call as in the answer mentioned by @user16320675 in the comment\r\n\r\nBut, there is another bug in Intellij IDEA console, refer [answer](https://stackoverflow.com/a/72340420/5044508) which kind of skips alternative nextLine() input. Hence, your call ends even when you just enter 3 values in this case but your array size is 5.\r\n\r\nRefer \r\n\r\n[![IDEA output][1]][1]\r\n\r\n\r\nYour program is still correct. Just test your code in other terminal instead of IDEA console\r\n\r\n[![Terminal Output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p5eHW.png\r\n  [2]: https://i.stack.imgur.com/DHwMY.png","title":"In IntelliJ IDEA, while taking input in an array from console, character of enter key is accepted as an element","body":"<p>You need to skip line after nextInt() call as in the answer mentioned by @user16320675 in the comment</p>\n<p>But, there is another bug in Intellij IDEA console, refer <a href=\"https://stackoverflow.com/a/72340420/5044508\">answer</a> which kind of skips alternative nextLine() input. Hence, your call ends even when you just enter 3 values in this case but your array size is 5.</p>\n<p>Refer</p>\n<p><a href=\"https://i.stack.imgur.com/p5eHW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p5eHW.png\" alt=\"IDEA output\" /></a></p>\n<p>Your program is still correct. Just test your code in other terminal instead of IDEA console</p>\n<p><a href=\"https://i.stack.imgur.com/DHwMY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DHwMY.png\" alt=\"Terminal Output\" /></a></p>\n"}],"owner":{"account_id":21859603,"reputation":21,"user_id":16150552,"display_name":"Shriesh Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72353979,"answer_count":1,"score":0,"last_activity_date":1653334724,"creation_date":1653331561,"question_id":72353484,"body_markdown":"I was seeing an example of linear search in an array in Java, and I wrote this code:\r\n```\r\nimport java.util.*;\r\npublic class LinearSearch\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.print(&quot;Enter no. of members: &quot;);\r\n        int l=sc.nextInt();\r\n        String[] list=new String[l];\r\n        System.out.println(&quot;Enter the members: &quot;);\r\n        for(int i=0;i&lt;l;i++)\r\n            list[i]=sc.nextLine();\r\n        System.out.print(&quot;\\nEnter the member you want to search for: &quot;);\r\n        String ts=sc.nextLine();\r\n        for(int i=0;i&lt;l;i++)\r\n        {\r\n            if(list[i].equalsIgnoreCase(ts))\r\n            {\r\n                System.out.println(&quot;The member is at index &quot; + i);\r\n                break;\r\n            }\r\n            if(i==l-1)\r\n                System.out.println(&quot;There is no such member&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nBut while running this code, due to the ```System.out.println()``` at the 10th line, the carriage return (of the ```println()``` ) is taken as the element at index 0. Further, as I enter more elements, after each element I need to press Enter key to start the next iteration, but with that, the carriage return of the Enter key is taken as input too. This is the output:\r\n```\r\nEnter no. of members: 5\r\nEnter the members: \r\na\r\nb\r\nc\r\n\r\nEnter the member you want to search for: e\r\nThere is no such member\r\n```\r\n\r\nI did the following to prevent it:\r\n```\r\nSystem.out.println(&quot;Enter the members: &quot;);\r\nint j=0;\r\nString in=&quot;&quot;;\r\nwhile(list[l-1]==null)\r\n{\r\n    in=sc.nextLine();\r\n    if(in.equals(String.valueOf((char)10))) //10 being the ASCII code of carriage return\r\n        continue;\r\n    else\r\n    {\r\n        list[j] = in;\r\n        j++;\r\n    }\r\n}\r\n```\r\nBut this doesn&#39;t work, it still takes carriage return as an element. Is there any way to fix this issue ?","title":"In IntelliJ IDEA, while taking input in an array from console, character of enter key is accepted as an element","body":"<p>I was seeing an example of linear search in an array in Java, and I wrote this code:</p>\n<pre><code>import java.util.*;\npublic class LinearSearch\n{\n    public static void main(String[] args)\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.print(&quot;Enter no. of members: &quot;);\n        int l=sc.nextInt();\n        String[] list=new String[l];\n        System.out.println(&quot;Enter the members: &quot;);\n        for(int i=0;i&lt;l;i++)\n            list[i]=sc.nextLine();\n        System.out.print(&quot;\\nEnter the member you want to search for: &quot;);\n        String ts=sc.nextLine();\n        for(int i=0;i&lt;l;i++)\n        {\n            if(list[i].equalsIgnoreCase(ts))\n            {\n                System.out.println(&quot;The member is at index &quot; + i);\n                break;\n            }\n            if(i==l-1)\n                System.out.println(&quot;There is no such member&quot;);\n        }\n    }\n}\n</code></pre>\n<p>But while running this code, due to the <code>System.out.println()</code> at the 10th line, the carriage return (of the <code>println()</code> ) is taken as the element at index 0. Further, as I enter more elements, after each element I need to press Enter key to start the next iteration, but with that, the carriage return of the Enter key is taken as input too. This is the output:</p>\n<pre><code>Enter no. of members: 5\nEnter the members: \na\nb\nc\n\nEnter the member you want to search for: e\nThere is no such member\n</code></pre>\n<p>I did the following to prevent it:</p>\n<pre><code>System.out.println(&quot;Enter the members: &quot;);\nint j=0;\nString in=&quot;&quot;;\nwhile(list[l-1]==null)\n{\n    in=sc.nextLine();\n    if(in.equals(String.valueOf((char)10))) //10 being the ASCII code of carriage return\n        continue;\n    else\n    {\n        list[j] = in;\n        j++;\n    }\n}\n</code></pre>\n<p>But this doesn't work, it still takes carriage return as an element. Is there any way to fix this issue ?</p>\n"},{"tags":["java","arrays","matrix","multidimensional-array","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":18169071,"reputation":36,"user_id":13219074,"display_name":"Chris HazardXD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652087312,"creation_date":1652082978,"answer_id":72168675,"question_id":72168539,"body_markdown":"Update: Here&#39;s an *O(nlogn)* solution, we need further discussion to find a number in one column in *O(1)*.\r\n```java\r\npublic static boolean findValTest(int[][] m, int val) {\r\n    for (int c = 0; c &lt; m.length; c++) {\r\n        if (val &lt; m[c][0] || val &gt; m[c][m[c].length - 1]) continue;\r\n        if (binarySearch(m, c, val)) return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate static boolean binarySearch(int[][] m, int col, int key) {\r\n    int low = 0, high = m[col].length - 1;\r\n    while (low &lt;= high) {\r\n        int mid = low + ((high - low) / 2);\r\n        if (m[mid][col] &lt; key) {\r\n            low = mid + 1;\r\n        } else if (m[mid][col] &gt; key) {\r\n            high = mid - 1;\r\n        } else if (m[mid][col] == key) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```","title":"Java find value in column wise sorted matrix","body":"<p>Update: Here's an <em>O(nlogn)</em> solution, we need further discussion to find a number in one column in <em>O(1)</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean findValTest(int[][] m, int val) {\n    for (int c = 0; c &lt; m.length; c++) {\n        if (val &lt; m[c][0] || val &gt; m[c][m[c].length - 1]) continue;\n        if (binarySearch(m, c, val)) return true;\n    }\n    return false;\n}\n\nprivate static boolean binarySearch(int[][] m, int col, int key) {\n    int low = 0, high = m[col].length - 1;\n    while (low &lt;= high) {\n        int mid = low + ((high - low) / 2);\n        if (m[mid][col] &lt; key) {\n            low = mid + 1;\n        } else if (m[mid][col] &gt; key) {\n            high = mid - 1;\n        } else if (m[mid][col] == key) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15530797,"reputation":1,"user_id":11204389,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652334506,"creation_date":1652270324,"answer_id":72200677,"question_id":72168539,"body_markdown":"I have managed to figure it out. It is basically O(3n) but since 3 is constant it is O(n). \r\nBasically we use the first column to give us the index of two rows where the value might be in.\r\n\r\nFor example if we use the matrix we I gave as an example and the value is 16 we go like this:\r\nIs val between 1 and 10? No.\r\nIs val between 10 and 17? Yes\r\nSearch second row and third row.\r\n\r\nHere is the code(It is kinda long and ugly but hopefully you will understand it):\r\n\r\n    // We search in the first column between what two numbers the value is,\r\n    // Then we search for row of the first index, if not there we search the row of the other index\r\n    // Time Complexity: O(n). We go through the first column which is O(n) and then we go over 2 rows which is O(2n). Together its O(3n) but because 3 is constant the time is O(n)\r\n    public static boolean findValTest(int[][] m, int val) {\r\n        int[] index = whichRows(m,val);\r\n        \r\n        if(index[0] == -1 &amp;&amp; index[1] == -1) // Indicator that the number was found in the first column\r\n            return true;\r\n        if(index[1] == -1){\r\n            // We search in only one row\r\n            for(int i = 0; i &lt; m.length - 1; i++){\r\n                if(val == m[index[0]][i]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // Search both given rows by index\r\n            for(int i = 0; i &lt; index.length; i++){\r\n                for(int j = 0; j &lt; m.length; j++) {\r\n                    if(val == m[index[i]][j])\r\n                        return true;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return false;    \r\n    }\r\n    \r\n    public static int[] whichRows(int[][] m, int val) {\r\n        int[] index = {0,0}; int len = m.length;\r\n        // -1 in the index indicates that only one row needs to be searched, or the first or the last\r\n        if(m[len-1][0] &lt; val) // Only the last row(Which contains the biggest numbers in the matrix) needs to be searched\r\n        {\r\n            index[0] = len-1; index[1] = -1;\r\n        }\r\n        else if(m[0][0] &gt; val){ // Only the first row needs to be searched\r\n            index[0] = 0; index[1] = -1;\r\n        }\r\n        else { // We search between \r\n            for(int i = 0; i &lt; len - 1; i++){\r\n                if(m[0][i] == val)\r\n                {\r\n                    index[0] = -1; index[1] = -1;\r\n                    return index;\r\n                }\r\n                if(m[i][0] &lt; val &amp;&amp; val &lt; m[i+1][0]){\r\n                    index[0] = i; index[1] = i +1;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }","title":"Java find value in column wise sorted matrix","body":"<p>I have managed to figure it out. It is basically O(3n) but since 3 is constant it is O(n).\nBasically we use the first column to give us the index of two rows where the value might be in.</p>\n<p>For example if we use the matrix we I gave as an example and the value is 16 we go like this:\nIs val between 1 and 10? No.\nIs val between 10 and 17? Yes\nSearch second row and third row.</p>\n<p>Here is the code(It is kinda long and ugly but hopefully you will understand it):</p>\n<pre><code>// We search in the first column between what two numbers the value is,\n// Then we search for row of the first index, if not there we search the row of the other index\n// Time Complexity: O(n). We go through the first column which is O(n) and then we go over 2 rows which is O(2n). Together its O(3n) but because 3 is constant the time is O(n)\npublic static boolean findValTest(int[][] m, int val) {\n    int[] index = whichRows(m,val);\n    \n    if(index[0] == -1 &amp;&amp; index[1] == -1) // Indicator that the number was found in the first column\n        return true;\n    if(index[1] == -1){\n        // We search in only one row\n        for(int i = 0; i &lt; m.length - 1; i++){\n            if(val == m[index[0]][i]) {\n                return true;\n            }\n        }\n    }\n    else {\n        // Search both given rows by index\n        for(int i = 0; i &lt; index.length; i++){\n            for(int j = 0; j &lt; m.length; j++) {\n                if(val == m[index[i]][j])\n                    return true;\n            }\n        }\n    }\n    \n    return false;    \n}\n\npublic static int[] whichRows(int[][] m, int val) {\n    int[] index = {0,0}; int len = m.length;\n    // -1 in the index indicates that only one row needs to be searched, or the first or the last\n    if(m[len-1][0] &lt; val) // Only the last row(Which contains the biggest numbers in the matrix) needs to be searched\n    {\n        index[0] = len-1; index[1] = -1;\n    }\n    else if(m[0][0] &gt; val){ // Only the first row needs to be searched\n        index[0] = 0; index[1] = -1;\n    }\n    else { // We search between \n        for(int i = 0; i &lt; len - 1; i++){\n            if(m[0][i] == val)\n            {\n                index[0] = -1; index[1] = -1;\n                return index;\n            }\n            if(m[i][0] &lt; val &amp;&amp; val &lt; m[i+1][0]){\n                index[0] = i; index[1] = i +1;\n                break;\n            }\n        }\n    }\n    return index;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25369358,"reputation":1,"user_id":19183445,"display_name":"Meow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653334157,"creation_date":1653334157,"answer_id":72353892,"question_id":72168539,"body_markdown":"just wanted to update you that your code doesn&#39;t work at certain times.\r\n\r\nWanted to give you a breakdown but unfortunately something came up and I will have to go for the next couple of days, so it is my hope that you fix whatever&#39;s plaguing your design.\r\nTry to test it with other numbers and see for yourself.\r\n\r\nI tested it with the following matrix:\r\n\r\n    int[][] matrix = {\r\n                {13, 2, 17, 29},\r\n                {52, 54, 62, 73},\r\n                {140, 120, 111, 100},\r\n                {235, 245, 255, 265},\r\n        };\r\n\r\nand used 265 and 235 as inputs, to which the output was false.\r\n\r\nGood luck :)","title":"Java find value in column wise sorted matrix","body":"<p>just wanted to update you that your code doesn't work at certain times.</p>\n<p>Wanted to give you a breakdown but unfortunately something came up and I will have to go for the next couple of days, so it is my hope that you fix whatever's plaguing your design.\nTry to test it with other numbers and see for yourself.</p>\n<p>I tested it with the following matrix:</p>\n<pre><code>int[][] matrix = {\n            {13, 2, 17, 29},\n            {52, 54, 62, 73},\n            {140, 120, 111, 100},\n            {235, 245, 255, 265},\n    };\n</code></pre>\n<p>and used 265 and 235 as inputs, to which the output was false.</p>\n<p>Good luck :)</p>\n"}],"owner":{"account_id":15530797,"reputation":1,"user_id":11204389,"display_name":"Robin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653334157,"creation_date":1652082278,"question_id":72168539,"body_markdown":"I am currently in my first year of university and my teacher gave us an interesting problem\r\n\r\nGiven the 2 dimensional array m (the column length is equal to the row length for example 4x4, 3x3)\r\n\r\nWe know that if m goes through the function test it will return **true**\r\n\r\nNow we need to write a function that based on that information will find the given value in m and return false or true if was found. In addition, the function must be with time complexity of **O(n)** or less when n is the length of row/column (For example if the matrix is 5x5 then n is 5). **The function cannot use recursion**\r\n\r\nHere is function test:\r\n```\r\npublic static boolean test(int [][] m)\r\n{\r\n int n=m.length;\r\n for(int r=0; r&lt;(n-1); r++)\r\n      for (int c=0; c&lt;n; c++)\r\n           for (int i=0; i&lt;n; i++)\r\n                if(m[r][c] &gt; m[r+1][i]) return false;\r\n return true;\r\n}\r\n```\r\n\r\nHere is an example for a matrix that I came up with that returns true:\r\n```\r\n1, 3, 2, 5\r\n10, 9, 7, 15\r\n17, 25, 16, 20\r\n50, 30, 28, 40\r\n```\r\nHere is a possible function signature:\r\n```\r\npublic static boolean findValTest (int [][] m, int val)\r\n```\r\nThanks for everyone who answers!","title":"Java find value in column wise sorted matrix","body":"<p>I am currently in my first year of university and my teacher gave us an interesting problem</p>\n<p>Given the 2 dimensional array m (the column length is equal to the row length for example 4x4, 3x3)</p>\n<p>We know that if m goes through the function test it will return <strong>true</strong></p>\n<p>Now we need to write a function that based on that information will find the given value in m and return false or true if was found. In addition, the function must be with time complexity of <strong>O(n)</strong> or less when n is the length of row/column (For example if the matrix is 5x5 then n is 5). <strong>The function cannot use recursion</strong></p>\n<p>Here is function test:</p>\n<pre><code>public static boolean test(int [][] m)\n{\n int n=m.length;\n for(int r=0; r&lt;(n-1); r++)\n      for (int c=0; c&lt;n; c++)\n           for (int i=0; i&lt;n; i++)\n                if(m[r][c] &gt; m[r+1][i]) return false;\n return true;\n}\n</code></pre>\n<p>Here is an example for a matrix that I came up with that returns true:</p>\n<pre><code>1, 3, 2, 5\n10, 9, 7, 15\n17, 25, 16, 20\n50, 30, 28, 40\n</code></pre>\n<p>Here is a possible function signature:</p>\n<pre><code>public static boolean findValTest (int [][] m, int val)\n</code></pre>\n<p>Thanks for everyone who answers!</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653314340,"post_id":72349654,"comment_id":127814990,"body_markdown":"Don&#39;t use System.out for logging, use a proper logger (and then it will be ok). The job runs after the start because that is the default for a Spring Batch based Spring Boot application, it will automatically run the detected jobs (this is also explained in the documentation, which I suggest is worth a read).","body":"Don&#39;t use System.out for logging, use a proper logger (and then it will be ok). The job runs after the start because that is the default for a Spring Batch based Spring Boot application, it will automatically run the detected jobs (this is also explained in the documentation, which I suggest is worth a read)."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1653334206,"post_id":72349654,"comment_id":127822275,"body_markdown":"I second what @M.Deinum said. I added an answer with more details. Hope it helps.","body":"I second what @M.Deinum said. I added an answer with more details. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653334113,"creation_date":1653334113,"answer_id":72353883,"question_id":72349654,"body_markdown":"The steps are executed correctly in sequence. You are putting `System.out.println` statements in two &quot;kind&quot; of places:\r\n\r\n* In the bean definition methods executed by Spring Framework when configuring the application context\r\n* In the code of batch artefacts (item processor, item writer) which are called by Spring Batch when running your job\r\n\r\nIn your case, Spring Framework will call the following bean definition methods in order to define the first step, `filterStep()`:\r\n\r\n* `jsonReader()`: prints `Try to read JSON`. The file is not read at this time, only the json reader bean is defined. A more accurate log message would be: `json reader bean created`.\r\n* `listReader()`: prints `Read from list`. Same here, the file reading has not started yet. A more accurate log message would be: `list reader bean created`.\r\n* `filterProcessor()`: prints nothing. The log statement is in the `ItemProcessor#process` method. This will be called by Spring Batch at runtime, not at this point in time which is a configuration time\r\n* `filterWriter()`: same here, the print statement is in the write method called at runtime and not at configuration time\r\n\r\nThis results in the following output for `filterStep()`:\r\n\r\n```\r\nTry to read JSON\r\nRead from list\r\n```\r\n\r\nNow Spring Framework moves to defining the next step, `insertToDBStep()`. For this, it will call the following methods in order, according to your step definition:\r\n\r\n* `listReader()`: this bean has already bean defined, Spring will reuse the same instance (by default, Spring beans are singletons). Hence, there is no output from this method.\r\n* `insertToDBWriter()`: prints `Try to save on DB`. Same here, there is no actual save to DB here. A more accurate log message would be `insertToDBWriter bean created` (or even more accurate, `attempting to create insertToDBWriter bean`, in case the code that follows throws an exception).\r\n\r\nYou now have the following cumulative output:\r\n\r\n```\r\nTry to read JSON\r\nRead from list\r\nTry to save on DB\r\n```\r\n\r\nAt this point, Spring Framework has finished its job of configuring the application context, Spring Batch takes over and starts the job. The actual processing of `filterStep()` begins:\r\n\r\n* The reader (`ListItemReader`) does not have any output in the `read` method.\r\n* The processor prints `Processing JSON`\r\n* The writer prints `Save on list ...`\r\n\r\nYou seem to have two chunks (the first with 5 items and the second with 2 items), which leads to the following output:\r\n\r\n```\r\n2022-05-23 15:40:50.003  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [filterStep]\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nSave on list [com.marco.firstbatch.Employee@958d6e7, com.marco.firstbatch.Employee@464d17f8, com.marco.firstbatch.Employee@705520ac, com.marco.firstbatch.Employee@1a9f8e93, com.marco.firstbatch.Employee@55bf8cc9]\r\nProcessing JSON\r\nProcessing JSON\r\nSave on list [com.marco.firstbatch.Employee@55d706c0, com.marco.firstbatch.Employee@1bc46dd4]\r\n2022-05-23 15:40:50.074  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [filterStep] executed in 70ms\r\n```\r\n\r\nThen, the next step starts its execution and you get the following output:\r\n\r\n```\r\n2022-05-23 15:40:50.081  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [insertToDBStep]\r\n2022-05-23 15:40:50.084  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [insertToDBStep] executed in 3ms\r\n```\r\n\r\nHere you might be asking why there are no items written by `insertToDBWriter()` (ie why there are no `Save on DB .. ` logs). This is because the `listReader()` is a singleton bean and you are using it in both steps, so when the second step calls its `read` method, it will still return `null`, because the same instance is used and which has already exhausted the list of items in step 1. Hence, this step ends immediately since there are no items to process. If you want to re-read the items from the list in the second step, you can annotate the reader method with `@StepScope`. This will create a distinct instance of the reader for each step.","title":"Spring Batch - My Batch seems executing two steps at the same time?","body":"<p>The steps are executed correctly in sequence. You are putting <code>System.out.println</code> statements in two &quot;kind&quot; of places:</p>\n<ul>\n<li>In the bean definition methods executed by Spring Framework when configuring the application context</li>\n<li>In the code of batch artefacts (item processor, item writer) which are called by Spring Batch when running your job</li>\n</ul>\n<p>In your case, Spring Framework will call the following bean definition methods in order to define the first step, <code>filterStep()</code>:</p>\n<ul>\n<li><code>jsonReader()</code>: prints <code>Try to read JSON</code>. The file is not read at this time, only the json reader bean is defined. A more accurate log message would be: <code>json reader bean created</code>.</li>\n<li><code>listReader()</code>: prints <code>Read from list</code>. Same here, the file reading has not started yet. A more accurate log message would be: <code>list reader bean created</code>.</li>\n<li><code>filterProcessor()</code>: prints nothing. The log statement is in the <code>ItemProcessor#process</code> method. This will be called by Spring Batch at runtime, not at this point in time which is a configuration time</li>\n<li><code>filterWriter()</code>: same here, the print statement is in the write method called at runtime and not at configuration time</li>\n</ul>\n<p>This results in the following output for <code>filterStep()</code>:</p>\n<pre><code>Try to read JSON\nRead from list\n</code></pre>\n<p>Now Spring Framework moves to defining the next step, <code>insertToDBStep()</code>. For this, it will call the following methods in order, according to your step definition:</p>\n<ul>\n<li><code>listReader()</code>: this bean has already bean defined, Spring will reuse the same instance (by default, Spring beans are singletons). Hence, there is no output from this method.</li>\n<li><code>insertToDBWriter()</code>: prints <code>Try to save on DB</code>. Same here, there is no actual save to DB here. A more accurate log message would be <code>insertToDBWriter bean created</code> (or even more accurate, <code>attempting to create insertToDBWriter bean</code>, in case the code that follows throws an exception).</li>\n</ul>\n<p>You now have the following cumulative output:</p>\n<pre><code>Try to read JSON\nRead from list\nTry to save on DB\n</code></pre>\n<p>At this point, Spring Framework has finished its job of configuring the application context, Spring Batch takes over and starts the job. The actual processing of <code>filterStep()</code> begins:</p>\n<ul>\n<li>The reader (<code>ListItemReader</code>) does not have any output in the <code>read</code> method.</li>\n<li>The processor prints <code>Processing JSON</code></li>\n<li>The writer prints <code>Save on list ...</code></li>\n</ul>\n<p>You seem to have two chunks (the first with 5 items and the second with 2 items), which leads to the following output:</p>\n<pre><code>2022-05-23 15:40:50.003  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [filterStep]\nProcessing JSON\nProcessing JSON\nProcessing JSON\nProcessing JSON\nProcessing JSON\nSave on list [com.marco.firstbatch.Employee@958d6e7, com.marco.firstbatch.Employee@464d17f8, com.marco.firstbatch.Employee@705520ac, com.marco.firstbatch.Employee@1a9f8e93, com.marco.firstbatch.Employee@55bf8cc9]\nProcessing JSON\nProcessing JSON\nSave on list [com.marco.firstbatch.Employee@55d706c0, com.marco.firstbatch.Employee@1bc46dd4]\n2022-05-23 15:40:50.074  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [filterStep] executed in 70ms\n</code></pre>\n<p>Then, the next step starts its execution and you get the following output:</p>\n<pre><code>2022-05-23 15:40:50.081  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [insertToDBStep]\n2022-05-23 15:40:50.084  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [insertToDBStep] executed in 3ms\n</code></pre>\n<p>Here you might be asking why there are no items written by <code>insertToDBWriter()</code> (ie why there are no <code>Save on DB .. </code> logs). This is because the <code>listReader()</code> is a singleton bean and you are using it in both steps, so when the second step calls its <code>read</code> method, it will still return <code>null</code>, because the same instance is used and which has already exhausted the list of items in step 1. Hence, this step ends immediately since there are no items to process. If you want to re-read the items from the list in the second step, you can annotate the reader method with <code>@StepScope</code>. This will create a distinct instance of the reader for each step.</p>\n"}],"owner":{"account_id":7150293,"reputation":3,"user_id":5464621,"display_name":"backtoprogramming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72353883,"answer_count":1,"score":0,"last_activity_date":1653334113,"creation_date":1653313557,"question_id":72349654,"body_markdown":"I can&#39;t really understand what&#39;s going on. I&#39;m studying Spring Batch and I&#39;d like to execute two steps for some reasons, one after the other.\r\n\r\nNow please don&#39;t mind what the steps are currently doing, just keep in mind that I would like to perform two steps sequentially.\r\n\r\nThis is the code:\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class JobConfiguration {\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\t\r\n\tprivate List&lt;Employee&gt; employeesToSave = new ArrayList&lt;Employee&gt;();\r\n\r\n\r\n\tpublic JsonItemReader&lt;Employee&gt; jsonReader() {\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;Try to read JSON&quot;);\r\n\t\t\r\n\t    final ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t    final JacksonJsonObjectReader&lt;Employee&gt; jsonObjectReader = new JacksonJsonObjectReader&lt;&gt;(\r\n\t    \t\tEmployee.class);\r\n\t    jsonObjectReader.setMapper(mapper);\r\n\r\n\t    return new JsonItemReaderBuilder&lt;Employee&gt;().jsonObjectReader(jsonObjectReader)\r\n\t            .resource(new ClassPathResource(&quot;input.json&quot;))\r\n\t            .name(&quot;myReader&quot;)\r\n\t            .build();\r\n\r\n\t}\r\n\t\r\n\r\n\tpublic ListItemReader&lt;Employee&gt; listReader() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Read from list&quot;);\r\n\t\t\r\n\t\treturn new ListItemReader&lt;Employee&gt;(employeesToSave);\r\n\r\n*/\r\n\t}\r\n    \r\n\r\n    public ItemProcessor&lt;Employee,Employee&gt; filterProcessor() {\r\n    \treturn employee -&gt; {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Processing JSON&quot;);\r\n    \t\t\r\n    \t\treturn employee;\r\n    \t};\r\n    }\r\n\r\n    public ItemWriter&lt;Employee&gt; filterWriter() {\r\n\r\n    \treturn listEmployee -&gt; {\r\n    \t\t\r\n    \t\temployeesToSave.addAll(listEmployee);\r\n    \t\tSystem.out.println(&quot;Save on list &quot; + listEmployee.toString());\r\n    \t\t    \t\t\r\n    \t};\r\n\r\n    }\r\n\r\n    public ItemWriter&lt;Employee&gt; insertToDBWriter() {\r\n\r\n    \tSystem.out.println(&quot;Try to save on DB&quot;);\r\n    \treturn listEmployee -&gt; {\r\n\r\n    \t\tSystem.out.println(&quot;Save on DB &quot; + listEmployee.toString());\r\n    \t\t    \t\t\r\n    \t};\r\n\r\n    }\r\n\r\n\tpublic Step filterStep() {\r\n\t\t\r\n        StepBuilder stepBuilder = stepBuilderFactory.get(&quot;filterStep&quot;);\r\n        SimpleStepBuilder&lt;Employee, Employee&gt; simpleStepBuilder = stepBuilder.chunk(5);\r\n        return simpleStepBuilder.reader(jsonReader()).processor(filterProcessor()).writer(filterWriter()).build();\r\n\t}\r\n\r\n\tpublic Step insertToDBStep() {\r\n\t\t\r\n        StepBuilder stepBuilder = stepBuilderFactory.get(&quot;insertToDBStep&quot;);\r\n        SimpleStepBuilder&lt;Employee, Employee&gt; simpleStepBuilder = stepBuilder.chunk(5);\r\n        return simpleStepBuilder.reader(listReader()).writer(insertToDBWriter()).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job myJob(JobRepository jobRepository, PlatformTransactionManager platformTransactionManager) {\r\n\r\n\t\treturn jobBuilderFactory.get(&quot;myJob&quot;).incrementer(new RunIdIncrementer())\r\n\t\t\t    .start(filterStep())\r\n\t\t\t    .next(insertToDBStep())\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nWhy doesn&#39;t the insertToDBStep starts at the end of the filterStep and it actually looks like the filter is running at the same time? And why it looks like the job starts after the initialization of Root WebApplicationContext?\r\n\r\nThis is the output.\r\n\r\n```\r\n2022-05-23 15:40:49.418  INFO 14008 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1024 ms\r\nTry to read JSON\r\nRead from list\r\nTry to save on DB\r\n2022-05-23 15:40:49.882  INFO 14008 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-05-23 15:40:49.917  INFO 14008 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-05-23 15:40:49.926  INFO 14008 --- [  restartedMain] c.marco.firstbatch.TestBatchApplication  : Started TestBatchApplication in 1.985 seconds (JVM running for 2.789)\r\n2022-05-23 15:40:49.927  INFO 14008 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2022-05-23 15:40:49.928  WARN 14008 --- [  restartedMain] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\r\n2022-05-23 15:40:49.928  WARN 14008 --- [  restartedMain] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\r\n2022-05-23 15:40:49.943  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n2022-05-23 15:40:49.972  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{run.id=1}]\r\n2022-05-23 15:40:50.003  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [filterStep]\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nProcessing JSON\r\nSave on list [com.marco.firstbatch.Employee@958d6e7, com.marco.firstbatch.Employee@464d17f8, com.marco.firstbatch.Employee@705520ac, com.marco.firstbatch.Employee@1a9f8e93, com.marco.firstbatch.Employee@55bf8cc9]\r\nProcessing JSON\r\nProcessing JSON\r\nSave on list [com.marco.firstbatch.Employee@55d706c0, com.marco.firstbatch.Employee@1bc46dd4]\r\n2022-05-23 15:40:50.074  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [filterStep] executed in 70ms\r\n2022-05-23 15:40:50.081  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [insertToDBStep]\r\n2022-05-23 15:40:50.084  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [insertToDBStep] executed in 3ms\r\n2022-05-23 15:40:50.088  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{run.id=1}] and the following status: [COMPLETED] in 96ms\r\n```\r\n\r\nThanks in advance.\r\n","title":"Spring Batch - My Batch seems executing two steps at the same time?","body":"<p>I can't really understand what's going on. I'm studying Spring Batch and I'd like to execute two steps for some reasons, one after the other.</p>\n<p>Now please don't mind what the steps are currently doing, just keep in mind that I would like to perform two steps sequentially.</p>\n<p>This is the code:</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class JobConfiguration {\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n    \n    private List&lt;Employee&gt; employeesToSave = new ArrayList&lt;Employee&gt;();\n\n\n    public JsonItemReader&lt;Employee&gt; jsonReader() {\n\n        \n        System.out.println(&quot;Try to read JSON&quot;);\n        \n        final ObjectMapper mapper = new ObjectMapper();\n\n        final JacksonJsonObjectReader&lt;Employee&gt; jsonObjectReader = new JacksonJsonObjectReader&lt;&gt;(\n                Employee.class);\n        jsonObjectReader.setMapper(mapper);\n\n        return new JsonItemReaderBuilder&lt;Employee&gt;().jsonObjectReader(jsonObjectReader)\n                .resource(new ClassPathResource(&quot;input.json&quot;))\n                .name(&quot;myReader&quot;)\n                .build();\n\n    }\n    \n\n    public ListItemReader&lt;Employee&gt; listReader() {\n        \n        System.out.println(&quot;Read from list&quot;);\n        \n        return new ListItemReader&lt;Employee&gt;(employeesToSave);\n\n*/\n    }\n    \n\n    public ItemProcessor&lt;Employee,Employee&gt; filterProcessor() {\n        return employee -&gt; {\n            \n            System.out.println(&quot;Processing JSON&quot;);\n            \n            return employee;\n        };\n    }\n\n    public ItemWriter&lt;Employee&gt; filterWriter() {\n\n        return listEmployee -&gt; {\n            \n            employeesToSave.addAll(listEmployee);\n            System.out.println(&quot;Save on list &quot; + listEmployee.toString());\n                        \n        };\n\n    }\n\n    public ItemWriter&lt;Employee&gt; insertToDBWriter() {\n\n        System.out.println(&quot;Try to save on DB&quot;);\n        return listEmployee -&gt; {\n\n            System.out.println(&quot;Save on DB &quot; + listEmployee.toString());\n                        \n        };\n\n    }\n\n    public Step filterStep() {\n        \n        StepBuilder stepBuilder = stepBuilderFactory.get(&quot;filterStep&quot;);\n        SimpleStepBuilder&lt;Employee, Employee&gt; simpleStepBuilder = stepBuilder.chunk(5);\n        return simpleStepBuilder.reader(jsonReader()).processor(filterProcessor()).writer(filterWriter()).build();\n    }\n\n    public Step insertToDBStep() {\n        \n        StepBuilder stepBuilder = stepBuilderFactory.get(&quot;insertToDBStep&quot;);\n        SimpleStepBuilder&lt;Employee, Employee&gt; simpleStepBuilder = stepBuilder.chunk(5);\n        return simpleStepBuilder.reader(listReader()).writer(insertToDBWriter()).build();\n    }\n\n    @Bean\n    public Job myJob(JobRepository jobRepository, PlatformTransactionManager platformTransactionManager) {\n\n        return jobBuilderFactory.get(&quot;myJob&quot;).incrementer(new RunIdIncrementer())\n                .start(filterStep())\n                .next(insertToDBStep())\n                .build();\n    }\n}\n\n\n\n</code></pre>\n<p>Why doesn't the insertToDBStep starts at the end of the filterStep and it actually looks like the filter is running at the same time? And why it looks like the job starts after the initialization of Root WebApplicationContext?</p>\n<p>This is the output.</p>\n<pre><code>2022-05-23 15:40:49.418  INFO 14008 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1024 ms\nTry to read JSON\nRead from list\nTry to save on DB\n2022-05-23 15:40:49.882  INFO 14008 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-05-23 15:40:49.917  INFO 14008 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-05-23 15:40:49.926  INFO 14008 --- [  restartedMain] c.marco.firstbatch.TestBatchApplication  : Started TestBatchApplication in 1.985 seconds (JVM running for 2.789)\n2022-05-23 15:40:49.927  INFO 14008 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2022-05-23 15:40:49.928  WARN 14008 --- [  restartedMain] o.s.b.c.c.a.DefaultBatchConfigurer       : No datasource was provided...using a Map based JobRepository\n2022-05-23 15:40:49.928  WARN 14008 --- [  restartedMain] o.s.b.c.c.a.DefaultBatchConfigurer       : No transaction manager was provided, using a ResourcelessTransactionManager\n2022-05-23 15:40:49.943  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2022-05-23 15:40:49.972  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] launched with the following parameters: [{run.id=1}]\n2022-05-23 15:40:50.003  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [filterStep]\nProcessing JSON\nProcessing JSON\nProcessing JSON\nProcessing JSON\nProcessing JSON\nSave on list [com.marco.firstbatch.Employee@958d6e7, com.marco.firstbatch.Employee@464d17f8, com.marco.firstbatch.Employee@705520ac, com.marco.firstbatch.Employee@1a9f8e93, com.marco.firstbatch.Employee@55bf8cc9]\nProcessing JSON\nProcessing JSON\nSave on list [com.marco.firstbatch.Employee@55d706c0, com.marco.firstbatch.Employee@1bc46dd4]\n2022-05-23 15:40:50.074  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [filterStep] executed in 70ms\n2022-05-23 15:40:50.081  INFO 14008 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [insertToDBStep]\n2022-05-23 15:40:50.084  INFO 14008 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [insertToDBStep] executed in 3ms\n2022-05-23 15:40:50.088  INFO 14008 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=myJob]] completed with the following parameters: [{run.id=1}] and the following status: [COMPLETED] in 96ms\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1654074045,"post_id":72341005,"comment_id":128002933,"body_markdown":"can you say what is the expected path?","body":"can you say what is the expected path?"},{"owner":{"account_id":24269085,"reputation":179,"user_id":18217497,"display_name":"Ghost"},"score":0,"creation_date":1654173216,"post_id":72341005,"comment_id":128031202,"body_markdown":"I figured it out alone. the sockjs defaults to /info path so you need to add /info thats it .","body":"I figured it out alone. the sockjs defaults to /info path so you need to add /info thats it ."}],"owner":{"account_id":24269085,"reputation":179,"user_id":18217497,"display_name":"Ghost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653333932,"creation_date":1653250427,"question_id":72341005,"body_markdown":"I&#39;m using `spring boot` in my backend and `vuejs` in my front-end . I&#39;ve defined everything in the guide yet I still don&#39;t get my project to work.\r\n\r\n**FrontEnd**\r\n\r\n\r\n      connectToWS() {\r\n      this.socket = new Sock(&quot;http://localhost:8754/stomp-endpoint&quot;);\r\n      this.stompClient = Stomp.over(this.socket);\r\n      this.stompClient.connect(\r\n        {},\r\n        frame =&gt; {\r\n          this.connected = true;\r\n          console.log(frame);\r\n          this.stompClient.subscribe(&quot;/topic/greetings&quot;, tick =&gt; {\r\n            console.log(tick);\r\n            this.received_messages.push(JSON.parse(tick.body).content);\r\n          });\r\n        },\r\n        error =&gt; {\r\n          console.log(error);\r\n          this.connected = false;\r\n        }\r\n      );\r\n    },\r\n\r\n**Backend**\r\n\r\n**WebSocketConfiguration Class :** \r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebsocketConfiguration implements \r\n    WebSocketMessageBrokerConfigurer\r\n    {\r\n    \r\n    \t@Override\r\n    \tpublic void registerStompEndpoints(StompEndpointRegistry registry) \r\n    \t{\r\n    \t\t// with sockjs\r\n    \t\tregistry.addEndpoint(&quot;/stomp-endpoint&quot;)\r\n    \t\t\t\t.setAllowedOrigins(&quot;http://localhost:8081&quot;)\r\n    \t\t\t\t.withSockJS();\r\n    \r\n    \t}\r\n    \t@Override\r\n    \tpublic void configureMessageBroker(MessageBrokerRegistry config) {\r\n    \t\tconfig.setApplicationDestinationPrefixes(&quot;/app&quot;)\t\t\r\n    \t\t      .enableSimpleBroker(&quot;/topic&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n**WebSecurityConfigClass :**\r\n\r\n       @Override\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n       http.cors().and().csrf().disable()\r\n      .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n      .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n      .authorizeRequests()\r\n\r\n\t    .antMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n\r\n\t\t.antMatchers(&quot;/topic**&quot;).permitAll()\r\n\r\n\t\t.antMatchers(&quot;/stomp-endpoint&quot;).permitAll()\r\n\r\n\r\n[![WebSocket error in browser][1]][1]\r\n[![URL changed to /stomp-endpoint/info....][2]][2]\r\n\t\t\r\n**UPDATE :**\r\nThe error is actually coming out from the browser . It actually changes the route of the api because it has sockjs integrated into it. I couldn&#39;t figure out why the API always gets a /info?t=RandomNumber after it. I need the route to remain the same as I typed it in the front-end.\r\nHow can I stop the browser from updating my path. Thanks for helping ! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9e7WS.png\r\n  [2]: https://i.stack.imgur.com/xg1oP.png","title":"WebSockets fails to connect because of lost connection","body":"<p>I'm using <code>spring boot</code> in my backend and <code>vuejs</code> in my front-end . I've defined everything in the guide yet I still don't get my project to work.</p>\n<p><strong>FrontEnd</strong></p>\n<pre><code>  connectToWS() {\n  this.socket = new Sock(&quot;http://localhost:8754/stomp-endpoint&quot;);\n  this.stompClient = Stomp.over(this.socket);\n  this.stompClient.connect(\n    {},\n    frame =&gt; {\n      this.connected = true;\n      console.log(frame);\n      this.stompClient.subscribe(&quot;/topic/greetings&quot;, tick =&gt; {\n        console.log(tick);\n        this.received_messages.push(JSON.parse(tick.body).content);\n      });\n    },\n    error =&gt; {\n      console.log(error);\n      this.connected = false;\n    }\n  );\n},\n</code></pre>\n<p><strong>Backend</strong></p>\n<p><strong>WebSocketConfiguration Class :</strong></p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebsocketConfiguration implements \nWebSocketMessageBrokerConfigurer\n{\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) \n    {\n        // with sockjs\n        registry.addEndpoint(&quot;/stomp-endpoint&quot;)\n                .setAllowedOrigins(&quot;http://localhost:8081&quot;)\n                .withSockJS();\n\n    }\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;)        \n              .enableSimpleBroker(&quot;/topic&quot;);\n    }\n    \n}\n</code></pre>\n<p><strong>WebSecurityConfigClass :</strong></p>\n<pre><code>   @Override\n   protected void configure(HttpSecurity http) throws Exception {\n   http.cors().and().csrf().disable()\n  .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n  .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n  .authorizeRequests()\n\n    .antMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n\n    .antMatchers(&quot;/topic**&quot;).permitAll()\n\n    .antMatchers(&quot;/stomp-endpoint&quot;).permitAll()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9e7WS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9e7WS.png\" alt=\"WebSocket error in browser\" /></a>\n<a href=\"https://i.stack.imgur.com/xg1oP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xg1oP.png\" alt=\"URL changed to /stomp-endpoint/info....\" /></a></p>\n<p><strong>UPDATE :</strong>\nThe error is actually coming out from the browser . It actually changes the route of the api because it has sockjs integrated into it. I couldn't figure out why the API always gets a /info?t=RandomNumber after it. I need the route to remain the same as I typed it in the front-end.\nHow can I stop the browser from updating my path. Thanks for helping !</p>\n"},{"tags":["java","pyspark","tmux"],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652226787,"creation_date":1652226787,"answer_id":72194046,"question_id":72191302,"body_markdown":"If you have access to the runtime command, try adding something like this to the command. It would leave other console output alone (that is, still viewable in the console):\r\n```\r\n-XX:+LogVMOutput -XX:LogFile=/tmp/jvm-output.log\r\n```\r\n\r\nAnother option you asked about – redirecting to `/dev/null` – is _possible_, but it would apply to all stdout, including anything you might actually want to see. I would encourage you to find alternatives to this, but it&#39;s doable by redirecting stdout (&quot;1&quot;) like this (assuming, again, that you have access to the runtime command):\r\n```\r\njava xyz 1&gt;/dev/null\r\n```\r\n\r\nOne final option: redirect stdout to a file (vs. `/dev/null`) so that you have a chance of seeing other console output if/when the need arises.\r\n```\r\njava xyz 1&gt;/path/to/file.txt\r\n```\r\n","title":"How to stop a process running in tmux printing thread dumps periodically?","body":"<p>If you have access to the runtime command, try adding something like this to the command. It would leave other console output alone (that is, still viewable in the console):</p>\n<pre><code>-XX:+LogVMOutput -XX:LogFile=/tmp/jvm-output.log\n</code></pre>\n<p>Another option you asked about – redirecting to <code>/dev/null</code> – is <em>possible</em>, but it would apply to all stdout, including anything you might actually want to see. I would encourage you to find alternatives to this, but it's doable by redirecting stdout (&quot;1&quot;) like this (assuming, again, that you have access to the runtime command):</p>\n<pre><code>java xyz 1&gt;/dev/null\n</code></pre>\n<p>One final option: redirect stdout to a file (vs. <code>/dev/null</code>) so that you have a chance of seeing other console output if/when the need arises.</p>\n<pre><code>java xyz 1&gt;/path/to/file.txt\n</code></pre>\n"}],"owner":{"account_id":1435528,"reputation":1376,"user_id":1357569,"accept_rate":100,"display_name":"Rumbles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1653333635,"creation_date":1652206906,"question_id":72191302,"body_markdown":"I am running a pyspark shell from a bash session running in tmux, previously we just ran it from bash without a terminal multiplexer but since this runs in a (Jupyter) container, people would lose work (when their login session expired and they logged back in what was on screen would be gone) and I want to use tmux as it&#39;s a really powerful tool.\r\n\r\nHowever I have noticed an odd behaviour that I don&#39;t understand, but I can reproduce. Every now and then, when the pyspark shell is running inside tmux a thread dump is generated, which fills the screen with hundreds of lines of text, meaning, what was on screen would normally be a long scroll up for the user.\r\n\r\n\r\ne.g.\r\n\r\n```\r\n&gt;&gt;&gt; 2022-05-10 18:06:43                                                                                              \r\nFull thread dump OpenJDK 64-Bit Server VM (25.332-b08 mixed mode):                                                                   \r\n                                                                                                                                 \r\n&quot;IPC Client (394840392) connection to ip-10-51-112-44/10.51.112.44:8020 from root&quot; #157 daemon prio=5 os_prio=0 tid=0x00007f378802e000 nid=0x693 in Object.wait() [0x00007f38d86f6000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)                                                                 \r\n        at java.lang.Object.wait(Native Method)                                                                                                 \r\n        at org.apache.hadoop.ipc.Client$Connection.waitForWork(Client.java:1034)                                                               \r\n        - locked &lt;0x00007f418c689e48&gt; (a org.apache.hadoop.ipc.Client$Connection)                                                                                               \r\n        at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1078)                                                                                                               \r\n                                                                                                                                                                       \r\n&quot;SparkUI-156&quot; #156 daemon prio=5 os_prio=0 tid=0x00007f37e0009800 nid=0x676 waiting on condition [0x00007f38ea8bc000]                                                     \r\n   java.lang.Thread.State: TIMED_WAITING (parking)                                                                                                           \r\n        at sun.misc.Unsafe.park(Native Method)                                                                                                                                             \r\n        - parking to wait for  &lt;0x00007f390bb01968&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)                                \r\n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)                                                                               \r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)                                                      \r\n        at org.sparkproject.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:382)                                                       \r\n        at org.sparkproject.jetty.util.thread.QueuedThreadPool$Runner.idleJobPoll(QueuedThreadPool.java:974)  \r\n```\r\n\r\nThis continues for around 500 lines or more.\r\n\r\nWe never had this issue without tmux, and I tested in screen and got a similar behaviour, so I think it&#39;s related to the use of a multiplexer.\r\n\r\nI am able to generate a similar thread dump if I find the PID of the java process running the spark shell, I can send a `kill -3` signal to that PID and I get the same kind of thread dump generated.\r\n\r\nI suspect this is an internal mechanism inside the multiplexer to make sure a process is still running, but I don&#39;t know for sure.\r\n\r\nMy question is, is there any way to stop this output from appearing in the terminal window? Can I re-route just this output to /dev/null while keeping the normal interactive session? Can I stop tmux from polling the running application in this way?","title":"How to stop a process running in tmux printing thread dumps periodically?","body":"<p>I am running a pyspark shell from a bash session running in tmux, previously we just ran it from bash without a terminal multiplexer but since this runs in a (Jupyter) container, people would lose work (when their login session expired and they logged back in what was on screen would be gone) and I want to use tmux as it's a really powerful tool.</p>\n<p>However I have noticed an odd behaviour that I don't understand, but I can reproduce. Every now and then, when the pyspark shell is running inside tmux a thread dump is generated, which fills the screen with hundreds of lines of text, meaning, what was on screen would normally be a long scroll up for the user.</p>\n<p>e.g.</p>\n<pre><code>&gt;&gt;&gt; 2022-05-10 18:06:43                                                                                              \nFull thread dump OpenJDK 64-Bit Server VM (25.332-b08 mixed mode):                                                                   \n                                                                                                                                 \n&quot;IPC Client (394840392) connection to ip-10-51-112-44/10.51.112.44:8020 from root&quot; #157 daemon prio=5 os_prio=0 tid=0x00007f378802e000 nid=0x693 in Object.wait() [0x00007f38d86f6000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)                                                                 \n        at java.lang.Object.wait(Native Method)                                                                                                 \n        at org.apache.hadoop.ipc.Client$Connection.waitForWork(Client.java:1034)                                                               \n        - locked &lt;0x00007f418c689e48&gt; (a org.apache.hadoop.ipc.Client$Connection)                                                                                               \n        at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1078)                                                                                                               \n                                                                                                                                                                       \n&quot;SparkUI-156&quot; #156 daemon prio=5 os_prio=0 tid=0x00007f37e0009800 nid=0x676 waiting on condition [0x00007f38ea8bc000]                                                     \n   java.lang.Thread.State: TIMED_WAITING (parking)                                                                                                           \n        at sun.misc.Unsafe.park(Native Method)                                                                                                                                             \n        - parking to wait for  &lt;0x00007f390bb01968&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)                                \n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)                                                                               \n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)                                                      \n        at org.sparkproject.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:382)                                                       \n        at org.sparkproject.jetty.util.thread.QueuedThreadPool$Runner.idleJobPoll(QueuedThreadPool.java:974)  \n</code></pre>\n<p>This continues for around 500 lines or more.</p>\n<p>We never had this issue without tmux, and I tested in screen and got a similar behaviour, so I think it's related to the use of a multiplexer.</p>\n<p>I am able to generate a similar thread dump if I find the PID of the java process running the spark shell, I can send a <code>kill -3</code> signal to that PID and I get the same kind of thread dump generated.</p>\n<p>I suspect this is an internal mechanism inside the multiplexer to make sure a process is still running, but I don't know for sure.</p>\n<p>My question is, is there any way to stop this output from appearing in the terminal window? Can I re-route just this output to /dev/null while keeping the normal interactive session? Can I stop tmux from polling the running application in this way?</p>\n"},{"tags":["java","gradle","compiler-errors","compilation"],"comments":[{"owner":{"account_id":10235727,"reputation":183,"user_id":7554773,"display_name":"thomasters"},"score":0,"creation_date":1615907925,"post_id":59094029,"comment_id":117834405,"body_markdown":"I know that this is old now but one way that I was able to fix this was by going to gradle &gt; wrapper &gt; gradle-wrapper.properties and changing the distributionUrl to use a gradle distribution prior to Gradle 6. Hopefully, this comment can help someone in the future.","body":"I know that this is old now but one way that I was able to fix this was by going to gradle &gt; wrapper &gt; gradle-wrapper.properties and changing the distributionUrl to use a gradle distribution prior to Gradle 6. Hopefully, this comment can help someone in the future."}],"answers":[{"tags":[],"owner":{"account_id":155681,"reputation":7205,"user_id":372496,"accept_rate":86,"display_name":"Ganesh Krishnan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1575511950,"creation_date":1575511950,"answer_id":59187223,"question_id":59094029,"body_markdown":"Clear the cache and start the app again. This might happen when you recently upgraded gradle.\r\nIf you are on intellij idea then choose file -&gt; invalidate cache and restart.\r\n\r\nIf you are using gradle then delete your .gradle folder and run gradle again.","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>Clear the cache and start the app again. This might happen when you recently upgraded gradle.\nIf you are on intellij idea then choose file -> invalidate cache and restart.</p>\n\n<p>If you are using gradle then delete your .gradle folder and run gradle again.</p>\n"},{"tags":[],"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1577741582,"creation_date":1577733170,"answer_id":59535773,"question_id":59094029,"body_markdown":"Quoting an answer on a GitHub issue for the Gradle project from [November 15th 2019][1]:\n\n&gt; This is coming from a long deprecated behavior that was finally made an error in Gradle 6.0. Unfortunately, we&#39;re not going to restore the old behavior, but we&#39;ll work with JetBrains to make this sort of thing work without requiring special handling on IDEA&#39;s side.\n&gt;\n&gt; This is already fixed in IntelliJ IDEA 2019.3 (in beta now). If you can upgrade to the 2019.3 EAP or beta, this should work there.\n\nUpdate IntelliJ to the latest stable version to fix this issue. At the time of this writing, 2019.3.1 is the latest stable release of IntelliJ IDEA.\n\n  [1]: https://github.com/gradle/gradle/issues/11371#issuecomment-554553932","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>Quoting an answer on a GitHub issue for the Gradle project from <a href=\"https://github.com/gradle/gradle/issues/11371#issuecomment-554553932\" rel=\"noreferrer\">November 15th 2019</a>:</p>\n<blockquote>\n<p>This is coming from a long deprecated behavior that was finally made an error in Gradle 6.0. Unfortunately, we're not going to restore the old behavior, but we'll work with JetBrains to make this sort of thing work without requiring special handling on IDEA's side.</p>\n<p>This is already fixed in IntelliJ IDEA 2019.3 (in beta now). If you can upgrade to the 2019.3 EAP or beta, this should work there.</p>\n</blockquote>\n<p>Update IntelliJ to the latest stable version to fix this issue. At the time of this writing, 2019.3.1 is the latest stable release of IntelliJ IDEA.</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582528497,"creation_date":1582528497,"answer_id":60371068,"question_id":59094029,"body_markdown":"For me I solved the issue by using local gradle distribution settings instead of default gradle wrapper. This settings is in Buil, Execution, Deployment &gt; gradle section.","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>For me I solved the issue by using local gradle distribution settings instead of default gradle wrapper. This settings is in Buil, Execution, Deployment > gradle section.</p>\n"},{"tags":[],"owner":{"account_id":13401003,"reputation":411,"user_id":9670544,"display_name":"Viacheslav Plekhanov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1590608937,"creation_date":1590608937,"answer_id":62051668,"question_id":59094029,"body_markdown":"If you are using Intellij idea, this might help:\r\nSettings -&gt; Build, Execution, Deployment -&gt; Gradle -&gt; Build and run using: IntelliJ IDEA","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>If you are using Intellij idea, this might help:\nSettings -> Build, Execution, Deployment -> Gradle -> Build and run using: IntelliJ IDEA</p>\n"},{"tags":[],"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1613091043,"creation_date":1603337154,"answer_id":64474845,"question_id":59094029,"body_markdown":"I tried everything, only this guy&#39;s [solution][1] worked for me.\r\n\r\nThe solution is pretty straight forward. Instead of build and run using gradle, choose, build and run using Intellij.\r\n\r\n1) [![enter image description here][2]][2]\r\n\r\n2)  [![enter image description here][3]][3]\r\n3) Change the value of build and run using from gradle to Intellij: [![enter image description here][4]][4]\r\n\r\n3)  This is how it should look like: [![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://webgori.github.io/spring/2020/03/21/Spring-Unnecessarily-replacing-a-task-that-does-not-exist-is-not-supported.html\r\n  [2]: https://i.stack.imgur.com/ZqqCf.png\r\n  [3]: https://i.stack.imgur.com/jmdBi.png\r\n  [4]: https://i.stack.imgur.com/hHe51.png\r\n  [5]: https://i.stack.imgur.com/bjS2E.png","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>I tried everything, only this guy's <a href=\"https://webgori.github.io/spring/2020/03/21/Spring-Unnecessarily-replacing-a-task-that-does-not-exist-is-not-supported.html\" rel=\"noreferrer\">solution</a> worked for me.</p>\n<p>The solution is pretty straight forward. Instead of build and run using gradle, choose, build and run using Intellij.</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/ZqqCf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZqqCf.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/jmdBi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jmdBi.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Change the value of build and run using from gradle to Intellij: <a href=\"https://i.stack.imgur.com/hHe51.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hHe51.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>This is how it should look like: <a href=\"https://i.stack.imgur.com/bjS2E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bjS2E.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2368049,"reputation":1819,"user_id":2073349,"accept_rate":50,"display_name":"Ritesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653333077,"creation_date":1653333077,"answer_id":72353721,"question_id":59094029,"body_markdown":"From the link:https://chewett.co.uk/blog/2420/fixing-gradle-error-unnecessarily-replacing-a-task-that-does-not-exist-is-not-supported/\r\n\r\nThis error relates to using Gradle 6 with IntelliJ 2019.2 or older. This means to fix the issue you just need to upgrade to IntelliJ 2019.3 or newer.\r\n\r\nIf this isn’t possible you are able to downgrade gradle to the latest version 5 distribution. This should also resolve the issue.\r\n\r\nI upgraded from intellij 19.1 to 2021.2.4 and everything got fixed.","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>From the link:<a href=\"https://chewett.co.uk/blog/2420/fixing-gradle-error-unnecessarily-replacing-a-task-that-does-not-exist-is-not-supported/\" rel=\"nofollow noreferrer\">https://chewett.co.uk/blog/2420/fixing-gradle-error-unnecessarily-replacing-a-task-that-does-not-exist-is-not-supported/</a></p>\n<p>This error relates to using Gradle 6 with IntelliJ 2019.2 or older. This means to fix the issue you just need to upgrade to IntelliJ 2019.3 or newer.</p>\n<p>If this isn’t possible you are able to downgrade gradle to the latest version 5 distribution. This should also resolve the issue.</p>\n<p>I upgraded from intellij 19.1 to 2021.2.4 and everything got fixed.</p>\n"}],"owner":{"account_id":12985015,"reputation":142,"user_id":9386168,"display_name":"Sangeeth Amirthanathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22421,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":59187223,"answer_count":6,"score":13,"last_activity_date":1653333077,"creation_date":1574962785,"question_id":59094029,"body_markdown":"I got the following error: \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nInitialization script &#39;C:\\Users\\User\\AppData\\Local\\Temp\\Console_main__.gradle&#39; line: 18\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;demo&#39;.\r\n&gt; Could not create task &#39;:Console.main()&#39;.\r\n   &gt; Unnecessarily replacing a task that does not exist is not supported.  Use create() or register() directly instead.  You attempted to replace a task named &#39;Console.main()&#39;, but there is no existing task with that name.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 236ms\r\n10:32:59 PM: Task execution finished &#39;Console.main()&#39;.\r\n```","title":"Unnecessarily replacing a task that does not exist is not supported","body":"<p>I got the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nInitialization script 'C:\\Users\\User\\AppData\\Local\\Temp\\Console_main__.gradle' line: 18\n\n* What went wrong:\nA problem occurred configuring root project 'demo'.\n&gt; Could not create task ':Console.main()'.\n   &gt; Unnecessarily replacing a task that does not exist is not supported.  Use create() or register() directly instead.  You attempted to replace a task named 'Console.main()', but there is no existing task with that name.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 236ms\n10:32:59 PM: Task execution finished 'Console.main()'.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5093880,"reputation":2449,"user_id":4085968,"display_name":"Yogendra Mishra"},"score":0,"creation_date":1588342778,"post_id":61544156,"comment_id":108865852,"body_markdown":"Can you share `user` entity? I guess Spring Data JPA query for child tables won&#39;t work via interface query. You need to write explicit query.","body":"Can you share <code>user</code> entity? I guess Spring Data JPA query for child tables won&#39;t work via interface query. You need to write explicit query."}],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653332851,"creation_date":1588342705,"answer_id":61544229,"question_id":61544156,"body_markdown":"Error says there is no `ID` field is `Student` class but you use `List&lt;CourseStudent&gt; findByStudentID` in repository. Field name is case sensitive here, `ID` and `Id` is not the same.\r\n\r\nUse `findByStudentId` instead of `findByStudentID`\r\n\r\n    List&lt;CourseStudent&gt; findByStudentId (Long studentId);\r\n    \r\nReference: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"Spring boot - No property ID found for type User","body":"<p>Error says there is no <code>ID</code> field is <code>Student</code> class but you use <code>List&lt;CourseStudent&gt; findByStudentID</code> in repository. Field name is case sensitive here, <code>ID</code> and <code>Id</code> is not the same.</p>\n<p>Use <code>findByStudentId</code> instead of <code>findByStudentID</code></p>\n<pre><code>List&lt;CourseStudent&gt; findByStudentId (Long studentId);\n</code></pre>\n<p>Reference: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation</a></p>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588342722,"creation_date":1588342722,"answer_id":61544235,"question_id":61544156,"body_markdown":"Take care of the case. The name must be `findByStudentId`. with lower case `d` at the end","title":"Spring boot - No property ID found for type User","body":"<p>Take care of the case. The name must be <code>findByStudentId</code>. with lower case <code>d</code> at the end</p>\n"}],"owner":{"account_id":9714930,"reputation":21,"user_id":7740146,"display_name":"Rrezart Prebreza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653332851,"creation_date":1588342495,"question_id":61544156,"body_markdown":"Well, I searched Google and found many results, but none of them was able to answer my problem. So, here it goes.\r\n\r\nI am trying to study Spring MVC and Spring Data JPA by doing a minimal implementation of pinterest clone. So, following is the parts of code which I think is relevant to my problem.\r\n\r\nRepository Class:\r\n\r\n    public interface CourseStudentRepository extends JpaRepository &lt;CourseStudent, Long&gt; {\r\n    \r\n        List&lt;CourseStudent&gt; findByCourseInstructorId(Long instructorId);\r\n    \r\n        List&lt;CourseStudent&gt; findByStudentID (Long studentId);\r\n    }\r\n\r\nEntity class:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;course_student&quot;)\r\n    public class CourseStudent implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;student_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private User student;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;course_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Course course;\r\n    \r\n    }\r\n\r\nError:\r\n\r\n    Failed to create query for method public abstract java.util.List com.sha.serverside.repository.CourseStudentRepository.findByStudentID(java.lang.Long)! No property ID found for type User! Did you mean &#39;id&#39;? Traversed path: CourseStudent.student.","title":"Spring boot - No property ID found for type User","body":"<p>Well, I searched Google and found many results, but none of them was able to answer my problem. So, here it goes.</p>\n\n<p>I am trying to study Spring MVC and Spring Data JPA by doing a minimal implementation of pinterest clone. So, following is the parts of code which I think is relevant to my problem.</p>\n\n<p>Repository Class:</p>\n\n<pre><code>public interface CourseStudentRepository extends JpaRepository &lt;CourseStudent, Long&gt; {\n\n    List&lt;CourseStudent&gt; findByCourseInstructorId(Long instructorId);\n\n    List&lt;CourseStudent&gt; findByStudentID (Long studentId);\n}\n</code></pre>\n\n<p>Entity class:</p>\n\n<pre><code>@Data\n@Entity\n@Table(name = \"course_student\")\npublic class CourseStudent implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"student_id\", referencedColumnName = \"id\")\n    private User student;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"course_id\", referencedColumnName = \"id\")\n    private Course course;\n\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Failed to create query for method public abstract java.util.List com.sha.serverside.repository.CourseStudentRepository.findByStudentID(java.lang.Long)! No property ID found for type User! Did you mean 'id'? Traversed path: CourseStudent.student.\n</code></pre>\n"},{"tags":["java","exception","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1473449627,"post_id":39418534,"comment_id":66162110,"body_markdown":"You have the exception in a variable.  Use the debugger to invoke its toString()","body":"You have the exception in a variable.  Use the debugger to invoke its toString()"}],"answers":[{"tags":[],"owner":{"account_id":8643075,"reputation":2470,"user_id":6471170,"accept_rate":60,"display_name":"nasukkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473450550,"creation_date":1473450179,"answer_id":39418723,"question_id":39418534,"body_markdown":"There&#39;s a few ways. First of all, if you don&#39;t catch the exception at all, the JVM will barf it into the standard error stream (stderr) and your thread will terminate. If this happens, IntelliJ will print it in the output console (If you&#39;re using the Darkula theme, I believe that stderr comes out in red text) with a full stack-trace. IntelliJ also formats the output so that you can click on the line-numbers of each stack element and see exactly where the exception came from.\r\n\r\nAlternatively, if you have caught the exception and want to handle it more gracefully but still want to output the line numbers, you can tell the Exception to print itself to a particular PrintStream (such as `System.out` or `System.err`) with the [java.lang.Throwable#printStackTrace(java.io.PrintStream)][1] method.\r\n\r\nNow, if you&#39;re actually debugging the application (Stepping through it with breakpoints and whatnot), things are even easier and more detailed. IntelliJ&#39;s Debugger is excellent for viewing the whole stack (albeit a bit slow if you&#39;re debugging a remote application). It looks something like this: https://i.stack.imgur.com/de5wB.png\r\n\r\nUp top, you have your source code. Down below you have your Debugger. The &quot;Frames&quot; pane is your call-stack; you can click on any method in the stack to view it AND all of its stack variables. With a few clicks, you should be able to see where your exception is being thrown from, just by navigating the stack frames and looking for the relevant `throw` statement.\r\n\r\nBUT WAIT, THERE&#39;S MORE! Do you know what exception you&#39;re looking for and want to break as soon as it&#39;s thrown? IntelliJ can do that! Click on the &quot;View Breakpoints&quot; button (off to the left side of the Frames pane) and you can [add an Exception Breakpoint][2] simply by specifying the name of the Exception class that you want to catch. As soon as the exception of that time is thrown, your debugger will pause and take you to it. This makes navigating to a particular Exception trivial.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#printStackTrace(java.io.PrintStream)\r\n  [2]: https://i.stack.imgur.com/DMGqC.png","title":"In IntelliJ, when I trigger an exception, how do I look back and find which line threw it?","body":"<p>There's a few ways. First of all, if you don't catch the exception at all, the JVM will barf it into the standard error stream (stderr) and your thread will terminate. If this happens, IntelliJ will print it in the output console (If you're using the Darkula theme, I believe that stderr comes out in red text) with a full stack-trace. IntelliJ also formats the output so that you can click on the line-numbers of each stack element and see exactly where the exception came from.</p>\n\n<p>Alternatively, if you have caught the exception and want to handle it more gracefully but still want to output the line numbers, you can tell the Exception to print itself to a particular PrintStream (such as <code>System.out</code> or <code>System.err</code>) with the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#printStackTrace(java.io.PrintStream)\" rel=\"nofollow\">java.lang.Throwable#printStackTrace(java.io.PrintStream)</a> method.</p>\n\n<p>Now, if you're actually debugging the application (Stepping through it with breakpoints and whatnot), things are even easier and more detailed. IntelliJ's Debugger is excellent for viewing the whole stack (albeit a bit slow if you're debugging a remote application). It looks something like this: <a href=\"https://i.stack.imgur.com/de5wB.png\" rel=\"nofollow\">https://i.stack.imgur.com/de5wB.png</a></p>\n\n<p>Up top, you have your source code. Down below you have your Debugger. The \"Frames\" pane is your call-stack; you can click on any method in the stack to view it AND all of its stack variables. With a few clicks, you should be able to see where your exception is being thrown from, just by navigating the stack frames and looking for the relevant <code>throw</code> statement.</p>\n\n<p>BUT WAIT, THERE'S MORE! Do you know what exception you're looking for and want to break as soon as it's thrown? IntelliJ can do that! Click on the \"View Breakpoints\" button (off to the left side of the Frames pane) and you can <a href=\"https://i.stack.imgur.com/DMGqC.png\" rel=\"nofollow\">add an Exception Breakpoint</a> simply by specifying the name of the Exception class that you want to catch. As soon as the exception of that time is thrown, your debugger will pause and take you to it. This makes navigating to a particular Exception trivial.</p>\n"},{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1563918605,"creation_date":1473450193,"answer_id":39418727,"question_id":39418534,"body_markdown":"If you have the exception in scope while in the debugger session, press `Alt+F8` in Mac (Evaluate Expression), not sure other OS, then execute `exception.printStacktrace()` and you&#39;ll get clickable stack trace in the Console window (or just look at the `stackTrace` array in the class inspector).","title":"In IntelliJ, when I trigger an exception, how do I look back and find which line threw it?","body":"<p>If you have the exception in scope while in the debugger session, press <code>Alt+F8</code> in Mac (Evaluate Expression), not sure other OS, then execute <code>exception.printStacktrace()</code> and you'll get clickable stack trace in the Console window (or just look at the <code>stackTrace</code> array in the class inspector).</p>\n"},{"tags":[],"owner":{"account_id":5595091,"reputation":237,"user_id":4433104,"display_name":"Diego Rojas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473451193,"creation_date":1473451193,"answer_id":39418946,"question_id":39418534,"body_markdown":"Put a breakpoint in your method that invokes this procedure, use F7 to move between lines in order of execution, F8 to go to the next breakpoint an F9 to end the method process. You can use a try catch block yo handle this exception and log in the console what type is and what line throw it.\r\n\r\nHope it helps.","title":"In IntelliJ, when I trigger an exception, how do I look back and find which line threw it?","body":"<p>Put a breakpoint in your method that invokes this procedure, use F7 to move between lines in order of execution, F8 to go to the next breakpoint an F9 to end the method process. You can use a try catch block yo handle this exception and log in the console what type is and what line throw it.</p>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":4558291,"reputation":3780,"user_id":3701346,"accept_rate":75,"display_name":"modeller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1653332269,"creation_date":1473449375,"question_id":39418534,"body_markdown":"When I debug a block of Java code by stepping through it, some line throws an exception and I need to search for which line threw it. \r\n\r\nBut now I am already in the middle of the exception handler code. Is there a way to trace which line of code in my procedure that threw this exception?\r\n\r\nI am using IntelliJ Idea 16.2.","title":"In IntelliJ, when I trigger an exception, how do I look back and find which line threw it?","body":"<p>When I debug a block of Java code by stepping through it, some line throws an exception and I need to search for which line threw it.</p>\n<p>But now I am already in the middle of the exception handler code. Is there a way to trace which line of code in my procedure that threw this exception?</p>\n<p>I am using IntelliJ Idea 16.2.</p>\n"},{"tags":["java","javafx","spinner","alert","changelistener"],"answers":[{"tags":[],"owner":{"account_id":10693759,"reputation":886,"user_id":7871705,"display_name":"monolith52"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493546296,"creation_date":1493546296,"answer_id":43705162,"question_id":43696318,"body_markdown":"It&#39;s difficult to stop spinning without using reflection as far as I know... Try this code.\r\n\r\n    if(oldValue &gt; newValue) {\r\n    \r\n        try {\r\n            Skin&lt;?&gt; skin = this.spinnerColumns.getSkin();\r\n            Object behavior = skin.getClass().getMethod(&quot;getBehavior&quot;).invoke(skin);\r\n            behavior.getClass().getMethod(&quot;stopSpinning&quot;).invoke(behavior);\r\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n            return; // If refleciton failed, do nothing\r\n        }\r\n\r\n        // Ask for permission","title":"JavaFX - Show Alert Dialog within ChangeListener event","body":"<p>It's difficult to stop spinning without using reflection as far as I know... Try this code.</p>\n\n<pre><code>if(oldValue &gt; newValue) {\n\n    try {\n        Skin&lt;?&gt; skin = this.spinnerColumns.getSkin();\n        Object behavior = skin.getClass().getMethod(\"getBehavior\").invoke(skin);\n        behavior.getClass().getMethod(\"stopSpinning\").invoke(behavior);\n    } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n        e.printStackTrace();\n        return; // If refleciton failed, do nothing\n    }\n\n    // Ask for permission\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4495734,"reputation":104,"user_id":3655559,"display_name":"Misi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653332160,"creation_date":1653311968,"answer_id":72349277,"question_id":43696318,"body_markdown":"It seems like Bug [JDK-8089332](https://bugs.openjdk.java.net/browse/JDK-8089332)\r\nand is similar to Bug [JDK-8252863](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8252863).\r\nThe workaround there leads to:\r\n\r\n   \tthis.spinnerColumns.setValueFactory(new SpinnerValueFactory.IntegerSpinnerValueFactory(2, 20));\r\n\r\n\tthis.spinnerColumns.getValueFactory().valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n\t    Node increment = spinnerColumns.lookup(&quot;.increment-arrow-button&quot;);\r\n\t    if (increment != null) {\r\n\t\t    increment.getOnMouseReleased().handle(null);\r\n\t    }\r\n\r\n\t    Node decrement = spinnerColumns.lookup(&quot;.decrement-arrow-button&quot;);\r\n\t    if (decrement != null) {\r\n\t\t    decrement.getOnMouseReleased().handle(null);\r\n\t    }\r\n\r\n\t    if (oldValue &gt; newValue) {\r\n\t\t\t// Ask for permission\r\n\t\t\tSystem.out.println(&quot;Ask for permission&quot;);\r\n\t\t\tAlert alert = new Alert(Alert.AlertType.WARNING);\r\n\t\t\talert.setTitle(&quot;Error&quot;);\r\n\t\t\talert.setHeaderText(&quot;Ask something...&quot;);\r\n\t\t\talert.showAndWait();\r\n\r\n\t\t\tif (alert.getResult() == ButtonType.OK) {\r\n\t\t    \t// do something\r\n\t\t\t}\r\n\t    }\r\n\t});","title":"JavaFX - Show Alert Dialog within ChangeListener event","body":"<p>It seems like Bug <a href=\"https://bugs.openjdk.java.net/browse/JDK-8089332\" rel=\"nofollow noreferrer\">JDK-8089332</a>\nand is similar to Bug <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8252863\" rel=\"nofollow noreferrer\">JDK-8252863</a>.\nThe workaround there leads to:</p>\n<pre><code>this.spinnerColumns.setValueFactory(new SpinnerValueFactory.IntegerSpinnerValueFactory(2, 20));\n\nthis.spinnerColumns.getValueFactory().valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n    Node increment = spinnerColumns.lookup(&quot;.increment-arrow-button&quot;);\n    if (increment != null) {\n        increment.getOnMouseReleased().handle(null);\n    }\n\n    Node decrement = spinnerColumns.lookup(&quot;.decrement-arrow-button&quot;);\n    if (decrement != null) {\n        decrement.getOnMouseReleased().handle(null);\n    }\n\n    if (oldValue &gt; newValue) {\n        // Ask for permission\n        System.out.println(&quot;Ask for permission&quot;);\n        Alert alert = new Alert(Alert.AlertType.WARNING);\n        alert.setTitle(&quot;Error&quot;);\n        alert.setHeaderText(&quot;Ask something...&quot;);\n        alert.showAndWait();\n\n        if (alert.getResult() == ButtonType.OK) {\n            // do something\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":10794366,"reputation":33,"user_id":7940667,"display_name":"fc90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1653332160,"creation_date":1493473015,"question_id":43696318,"body_markdown":"I want to show a alert dialog when the valueProperty of a spinner is changed. Therefore i&#39;ve added a ChangeListener to my valueProperty:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    this.spinnerColumns.setValueFactory(new SpinnerValueFactory.IntegerSpinnerValueFactory(2,20));\r\n\r\n    this.spinnerColumns.getValueFactory().valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n\r\n      if(oldValue &gt; newValue) {\r\n        // Ask for permission\r\n        System.out.println(&quot;Ask for permission&quot;);\r\n        Alert alert = new Alert(Alert.AlertType.WARNING);\r\n        alert.setTitle(&quot;Error&quot;);\r\n        alert.setHeaderText(&quot;Ask something...&quot;);\r\n        alert.showAndWait();\r\n         \r\n        if(alert.getResult() == ButtonType.OK) {\r\n          // do something\r\n        }\r\n      }\r\n    });\r\n\r\nThis code is not working properly. When the Alert is showing, the spinner keeps decreasing his value until the min value is reached. Some suggestions how to do this? \r\n","title":"JavaFX - Show Alert Dialog within ChangeListener event","body":"<p>I want to show a alert dialog when the valueProperty of a spinner is changed. Therefore i've added a ChangeListener to my valueProperty:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>this.spinnerColumns.setValueFactory(new SpinnerValueFactory.IntegerSpinnerValueFactory(2,20));\n\nthis.spinnerColumns.getValueFactory().valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n\n  if(oldValue &gt; newValue) {\n    // Ask for permission\n    System.out.println(\"Ask for permission\");\n    Alert alert = new Alert(Alert.AlertType.WARNING);\n    alert.setTitle(\"Error\");\n    alert.setHeaderText(\"Ask something...\");\n    alert.showAndWait();\n\n    if(alert.getResult() == ButtonType.OK) {\n      // do something\n    }\n  }\n});\n</code></pre>\n\n<p>This code is not working properly. When the Alert is showing, the spinner keeps decreasing his value until the min value is reached. Some suggestions how to do this? </p>\n"},{"tags":["java","linux","bash","java-home"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1653332076,"post_id":72353538,"comment_id":127821720,"body_markdown":"Why didn&#39;t you just install the openjdk with apt?","body":"Why didn&#39;t you just install the openjdk with apt?"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1653332272,"post_id":72353538,"comment_id":127821775,"body_markdown":"This is 100% normal/expected/intended/usual/as-documented behavior. Why do you expect anything different? Show us how you tried to _change_ the PATH used by cron and how it didn&#39;t work, and then there might be a question here.","body":"This is 100% normal/expected/intended/usual/as-documented behavior. Why do you expect anything different? Show us how you tried to <i>change</i> the PATH used by cron and how it didn&#39;t work, and then there might be a question here."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1653332420,"post_id":72353538,"comment_id":127821823,"body_markdown":"Also, note that enough information to make a question answerable needs to be included *inside the body text of the question itself*, not behind a link. We&#39;re building a knowledge base here, and it needs to remain useful even if links break.","body":"Also, note that enough information to make a question answerable needs to be included <i>inside the body text of the question itself</i>, not behind a link. We&#39;re building a knowledge base here, and it needs to remain useful even if links break."},{"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"score":0,"creation_date":1653332572,"post_id":72353538,"comment_id":127821867,"body_markdown":"It works on my other machine. I didn&#39;t think about installing with apt and I don&#39;t know if java 18 is there. I tried adding it to bash_profile or similar, but it didn&#39;t help.","body":"It works on my other machine. I didn&#39;t think about installing with apt and I don&#39;t know if java 18 is there. I tried adding it to bash_profile or similar, but it didn&#39;t help."}],"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653332325,"answer_count":0,"score":0,"last_activity_date":1653331891,"creation_date":1653331891,"question_id":72353538,"body_markdown":"I installed java 18 using this tutorial: https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/\r\nScripts (.sh) running at reboot from crontab doesn&#39;t have any JAVA_HOME and default PATH variables. When I run these scripts manually it works. After rebooting it&#39;s the same.","title":"JAVA_HOME is empty and PATH is default inside the screen/script","body":"<p>I installed java 18 using this tutorial: <a href=\"https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/install-oracle-java-18-on-ubuntu-debian/</a>\nScripts (.sh) running at reboot from crontab doesn't have any JAVA_HOME and default PATH variables. When I run these scripts manually it works. After rebooting it's the same.</p>\n"},{"tags":["java","android","android-recyclerview","android-viewpager"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1653374983,"post_id":72353519,"comment_id":127829894,"body_markdown":"You need to bind the underlying `ViewPager` (if inside the `ItemProductBinding`) with an Adapter having the list of images, which I cannot see you are doing in the `onBindViewHolder`.","body":"You need to bind the underlying <code>ViewPager</code> (if inside the <code>ItemProductBinding</code>) with an Adapter having the list of images, which I cannot see you are doing in the <code>onBindViewHolder</code>."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653412323,"post_id":72353519,"comment_id":127844767,"body_markdown":"yes that is what i am asking you ACTUALLY i dont know how to bind it like if there is a single imageview i can bind it but how to bind a carousel i have no idea","body":"yes that is what i am asking you ACTUALLY i dont know how to bind it like if there is a single imageview i can bind it but how to bind a carousel i have no idea"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1653412421,"post_id":72353519,"comment_id":127844802,"body_markdown":"You can check this tutorial, following that attach the adapter to the ViewPager in onBindViewHolder(). https://www.geeksforgeeks.org/how-to-implement-viewpager-with-dotsindicator-in-android/","body":"You can check this tutorial, following that attach the adapter to the ViewPager in onBindViewHolder(). <a href=\"https://www.geeksforgeeks.org/how-to-implement-viewpager-with-dotsindicator-in-android/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653413469,"post_id":72353519,"comment_id":127845175,"body_markdown":"ok brother i will try.","body":"ok brother i will try."}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653331749,"creation_date":1653331749,"question_id":72353519,"body_markdown":"Actually i am new to android development and working on an app and trying to implement viewpager to show the images like carousel in recyclerview but don&#39;t know how to set the viewpager in recyclerview onBindViewHolder function to show viewpager the images. \r\nActually i m trying to implement like this\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**and this is mine app&#39;s screenshot**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xFkb5.jpg\r\n  [2]: https://i.stack.imgur.com/ILkL3.jpg\r\n\r\nso please guide me how can i implement it\r\n\r\nmy Adapter Class\r\n\r\n    public class RoomsAdapter extends RecyclerView.Adapter&lt;RoomsAdapter.RoomsViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Rooms&gt; rooms;\r\n\r\n    public RoomsAdapter(Context context, ArrayList&lt;Rooms&gt; rooms) {\r\n        this.context = context;\r\n        this.rooms = rooms;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RoomsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view =  LayoutInflater.from(context).inflate(R.layout.item_product, parent, false);\r\n        RoomsViewHolder viewHolder = new RoomsViewHolder(view);\r\n        return viewHolder;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RoomsViewHolder holder, int position) {\r\n\r\n        Rooms room  = rooms.get(position);\r\n       \r\n\r\n        holder.binding.roomsTitle.setText(room.getTitle());\r\n        holder.binding.roomsRent.setText(&quot;Rent ₹ &quot; + room.getPrice() + &quot; /month&quot;);\r\n        holder.binding.roomsLocation.setText(room.getLocation());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return rooms.size();\r\n    }\r\n\r\n    public class RoomsViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ItemProductBinding binding;\r\n\r\n        public RoomsViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding = ItemProductBinding.bind(itemView);\r\n        }\r\n\r\n   }\r\n}\r\n\r\n**Actually, i didn&#39;t set the viewpager here coz i know how to the set the image view but not any idea how can I set the viewpager in recyclerview to show images from url or drawable.\r\nPlease guide me**","title":"Why my Viewpager is not showing images in recyclerview?","body":"<p>Actually i am new to android development and working on an app and trying to implement viewpager to show the images like carousel in recyclerview but don't know how to set the viewpager in recyclerview onBindViewHolder function to show viewpager the images.\nActually i m trying to implement like this\n<a href=\"https://i.stack.imgur.com/xFkb5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xFkb5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>and this is mine app's screenshot</strong>\n<a href=\"https://i.stack.imgur.com/ILkL3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ILkL3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>so please guide me how can i implement it</p>\n<p>my Adapter Class</p>\n<pre><code>public class RoomsAdapter extends RecyclerView.Adapter&lt;RoomsAdapter.RoomsViewHolder&gt; {\n\nContext context;\nArrayList&lt;Rooms&gt; rooms;\n\npublic RoomsAdapter(Context context, ArrayList&lt;Rooms&gt; rooms) {\n    this.context = context;\n    this.rooms = rooms;\n}\n\n@NonNull\n@Override\npublic RoomsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view =  LayoutInflater.from(context).inflate(R.layout.item_product, parent, false);\n    RoomsViewHolder viewHolder = new RoomsViewHolder(view);\n    return viewHolder;\n}\n\n\n@Override\npublic void onBindViewHolder(@NonNull RoomsViewHolder holder, int position) {\n\n    Rooms room  = rooms.get(position);\n   \n\n    holder.binding.roomsTitle.setText(room.getTitle());\n    holder.binding.roomsRent.setText(&quot;Rent ₹ &quot; + room.getPrice() + &quot; /month&quot;);\n    holder.binding.roomsLocation.setText(room.getLocation());\n\n}\n\n@Override\npublic int getItemCount() {\n    return rooms.size();\n}\n\npublic class RoomsViewHolder extends RecyclerView.ViewHolder {\n\n    ItemProductBinding binding;\n\n    public RoomsViewHolder(@NonNull View itemView) {\n        super(itemView);\n        binding = ItemProductBinding.bind(itemView);\n    }\n</code></pre>\n<p>}\n}</p>\n<p><strong>Actually, i didn't set the viewpager here coz i know how to the set the image view but not any idea how can I set the viewpager in recyclerview to show images from url or drawable.\nPlease guide me</strong></p>\n"},{"tags":["java","spring","spring-boot","jks"],"comments":[{"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"score":0,"creation_date":1653323384,"post_id":72351250,"comment_id":127818726,"body_markdown":"Look for `CommandLineRunner`","body":"Look for <code>CommandLineRunner</code>"},{"owner":{"account_id":24378220,"reputation":41,"user_id":18310220,"display_name":"LuisEduardoLD"},"score":0,"creation_date":1653324716,"post_id":72351250,"comment_id":127819187,"body_markdown":"I tried but it doesn&#39;t work :(","body":"I tried but it doesn&#39;t work :("},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653329158,"post_id":72351250,"comment_id":127820727,"body_markdown":"Are those environment or system variables as those are different. You can just read them without Spring using `System.getenv` if it is a system property use `System.getProperty`. I suspect you are using the wrong one.","body":"Are those environment or system variables as those are different. You can just read them without Spring using <code>System.getenv</code> if it is a system property use <code>System.getProperty</code>. I suspect you are using the wrong one."},{"owner":{"account_id":24378220,"reputation":41,"user_id":18310220,"display_name":"LuisEduardoLD"},"score":0,"creation_date":1653329807,"post_id":72351250,"comment_id":127820964,"body_markdown":"From my understand, values that I need to use are environment variables (idk why are empty but...), and currently I&#39;m using &quot;System.getenv&quot;, do u think that it could be the problem?","body":"From my understand, values that I need to use are environment variables (idk why are empty but...), and currently I&#39;m using &quot;System.getenv&quot;, do u think that it could be the problem?"},{"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"score":0,"creation_date":1653331406,"post_id":72351250,"comment_id":127821495,"body_markdown":"sorry ..i meant command line arguents not commandlinerunner ; @M.Deinum: Isn&#39;t `System.getenv` for the &#39;other/inner side&#39; to get the args from the spring context into application code? But -as i understood- he is looking for a way to inject args into context before `application.properties` is loaded..","body":"sorry ..i meant command line arguents not commandlinerunner ; @M.Deinum: Isn&#39;t <code>System.getenv</code> for the &#39;other/inner side&#39; to get the args from the spring context into application code? But -as i understood- he is looking for a way to inject args into context before <code>application.properties</code> is loaded.."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653371445,"post_id":72351250,"comment_id":127828974,"body_markdown":"Well people confusingly use environment and system properties interchangibly. Try `System.getProperty` instead of `System.getenv`.","body":"Well people confusingly use environment and system properties interchangibly. Try <code>System.getProperty</code> instead of <code>System.getenv</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653371488,"post_id":72351250,"comment_id":127828993,"body_markdown":"@user3192295 `System.getenv` has nothing to do with Spring it will get the actual environment variables from your OS. It doesn&#39;t even know about Spring as it is plain java.","body":"@user3192295 <code>System.getenv</code> has nothing to do with Spring it will get the actual environment variables from your OS. It doesn&#39;t even know about Spring as it is plain java."}],"owner":{"account_id":24378220,"reputation":41,"user_id":18310220,"display_name":"LuisEduardoLD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653330931,"creation_date":1653320281,"question_id":72351250,"body_markdown":"We have a spring boot application that uses an application.properties file that contains  two values that are similar to:\r\n\r\n    file.file=folder/name.jks\r\n    file.file2=folder2/name2.jks\r\n    \r\nthese files are required when the application starts. \r\n\r\nnow, we need to read two environment variables to build these files, but the problem here is that we need to do it before the application loads the application.properties file\r\n\r\nI tried to do something like :\r\n\r\n    public static void main(String[] args) {\r\n    \t\tMethod.toCreateFiles();\r\n    \t\tSpringApplication.run(app.class);\r\n    }\r\n\r\nand the environment variables are empty (I suppose that the reason is about the server configuration, and we can not change this easily).\r\n\r\nSo, we need to read the environment variables into the spring boot context, but first that the application.properties file is loaded because the path of files is needed at this point, I&#39;d like to know some ideas to do that.\r\n","title":"How can I create a folder and a file before spring boot application load the application.propeties","body":"<p>We have a spring boot application that uses an application.properties file that contains  two values that are similar to:</p>\n<pre><code>file.file=folder/name.jks\nfile.file2=folder2/name2.jks\n</code></pre>\n<p>these files are required when the application starts.</p>\n<p>now, we need to read two environment variables to build these files, but the problem here is that we need to do it before the application loads the application.properties file</p>\n<p>I tried to do something like :</p>\n<pre><code>public static void main(String[] args) {\n        Method.toCreateFiles();\n        SpringApplication.run(app.class);\n}\n</code></pre>\n<p>and the environment variables are empty (I suppose that the reason is about the server configuration, and we can not change this easily).</p>\n<p>So, we need to read the environment variables into the spring boot context, but first that the application.properties file is loaded because the path of files is needed at this point, I'd like to know some ideas to do that.</p>\n"},{"tags":["java","hibernate","spring-mvc","jpa","entitymanager"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1589591138,"post_id":61830293,"comment_id":109363594,"body_markdown":"If you&#39;re building a new app, build it the modern way with Spring Boot. It eliminates the need for most of this configuration and lots of potential for error.","body":"If you&#39;re building a new app, build it the modern way with Spring Boot. It eliminates the need for most of this configuration and lots of potential for error."}],"answers":[{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589589002,"creation_date":1589589002,"answer_id":61830402,"question_id":61830293,"body_markdown":"Based on your code the `facade` object is null. You need to inject `facade` in your `BaseController`:\r\n\r\n    public class BaseController {\r\n    \r\n        @Autowired\r\n        public Facade facade;\r\n    \r\n    \r\n        /**\r\n         * Inject Services from Spring\r\n         */\r\n    \r\n        public void setFacade(Facade facade){\r\n            this.facade = facade;\r\n        }\r\n    \r\n    }\r\n\r\nYou can refer to this similar post - https://stackoverflow.com/questions/19965829/spring-can-you-autowire-inside-an-abstract-class\r\n","title":"SEVERE: Servlet.service() for servlet [spring] in context with path [/com.elearning.webapp] threw exception [Request processing failed;","body":"<p>Based on your code the <code>facade</code> object is null. You need to inject <code>facade</code> in your <code>BaseController</code>:</p>\n\n<pre><code>public class BaseController {\n\n    @Autowired\n    public Facade facade;\n\n\n    /**\n     * Inject Services from Spring\n     */\n\n    public void setFacade(Facade facade){\n        this.facade = facade;\n    }\n\n}\n</code></pre>\n\n<p>You can refer to this similar post - <a href=\"https://stackoverflow.com/questions/19965829/spring-can-you-autowire-inside-an-abstract-class\">Spring can you autowire inside an abstract class?</a></p>\n"},{"tags":[],"owner":{"account_id":21761280,"reputation":1,"user_id":16065818,"display_name":"Power Programmer "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653330765,"creation_date":1653330481,"answer_id":72353263,"question_id":61830293,"body_markdown":"..As you see in the Screenshot Line no. 18 &amp;&amp; 22 we use Multiple annotation so Remove 22 line number annotation after the code will work fine . Don&#39;t use multiple annotation driven in xml file..........\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C9neQ.png","title":"SEVERE: Servlet.service() for servlet [spring] in context with path [/com.elearning.webapp] threw exception [Request processing failed;","body":"<p>..As you see in the Screenshot Line no. 18 &amp;&amp; 22 we use Multiple annotation so Remove 22 line number annotation after the code will work fine . Don't use multiple annotation driven in xml file..........</p>\n<p><a href=\"https://i.stack.imgur.com/C9neQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":4443444,"reputation":160,"user_id":3617417,"accept_rate":57,"display_name":"Fation Hadri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61830402,"answer_count":2,"score":0,"last_activity_date":1653330765,"creation_date":1589588091,"question_id":61830293,"body_markdown":"I am building a Spring MVC WebApp.I am using JPA and Hibernate.An error occurred while testing EntityManager.I am designing and configuring this way below:\r\n\r\nBaseController.java\r\n\r\n\r\n    public class BaseController {\r\n    \r\n    \t\r\n    \tpublic Facade facade;//it is an interface\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Inject Services from Spring\r\n    \t */\r\n    \r\n    \tpublic void setFacade(Facade facade){\r\n    \t\tthis.facade = facade;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nBlogController.java\r\n\r\n    @Controller\r\n    public class BlogController extends BaseController{\r\n    \t\r\n    \t\r\n    \r\n        @RequestMapping(value=&quot;blog/index&quot;)\r\n        public String saveValueFromEM() {\r\n    \r\n        \tfacade.saveCustomBlog();\r\n    \r\n            return &quot;blog/index&quot;;\r\n        }\r\n    \t\r\n    \t\r\n    \t  @RequestMapping(value=&quot;home&quot;) \r\n    \t  public String saveValueFromJPARep() {\r\n    \t  //facade.saveRepositoryBlog();\r\n    \t  \r\n    \t  return &quot;home&quot;; \r\n    \t  \r\n    \t  }\r\n    \t \r\n    }\r\n\r\n\r\nHibernateAuthenticator.java\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Transactional\r\n    public class HibernateAuthenticator {\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Inject persistence layer to classes that extends this class\r\n    \t * */\r\n    \tpublic static EntityManager em;\r\n    \r\n    \t@PersistenceContext\r\n    \tpublic void setEntityManager(EntityManager emf) {\r\n    \t\tem = emf;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nFacadeImpl.java\r\n\r\n\r\n    public class FacadeImpl extends HibernateAuthenticator implements Facade {\r\n    \r\n    \t\r\n    \tprivate BlogService blogService;//it is an interface\r\n    \r\n   \r\n    \t@Override\r\n    \tpublic void saveCustomBlog() {\r\n    \t\tblogService.saveCustomBlog();\r\n\r\n    \t}\r\n\r\n  \t\r\n    \tpublic void setBlogService(BlogService blogService) {\r\n    \t\tthis.blogService = blogService;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nBlogServiceImpl.java\r\n\r\n    @Transactional(readOnly = true)\r\n    public class BlogServiceImpl extends HibernateAuthenticator implements BlogService {\r\n    \r\n    \t\r\n    \t\r\n    \t@Override\r\n    \t@Transactional(readOnly = false)\r\n    \tpublic void saveCustomBlog() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tBlog blog=new Blog();\r\n    \t\tblog.setId(13);\r\n    \t\tblog.setName(&quot;Fation&quot;);\r\n    \t\tem.merge(blog);\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nweb.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;eLearning&lt;/display-name&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;classpath*:applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;classpath*:spring-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;elearningPU&quot;&gt;\r\n    \t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \t&lt;properties&gt;\r\n    \r\n    \t\t\t&lt;property name=&quot;hibernate.search.default.optimizer.operation_limit.max&quot; value=&quot;1000&quot; /&gt;\r\n          \t\t&lt;property name=&quot;hibernate.search.default.optimizer.transaction_limit.max&quot; value=&quot;100&quot; /&gt;\r\n          \t\t&lt;!-- &lt;property name=&quot;hibernate.search.default.directory_provider&quot; value=&quot;fi.foyt.hibernate.gae.search.GaeDirectoryProvider&quot;/&gt; --&gt;\r\n          \t\t&lt;!-- &lt;property name=&quot;hibernate.search.default.worker.backend&quot; value=&quot;fi.foyt.hibernate.gae.search.GaeBackendQueueProcessor&quot;/&gt; --&gt;\r\n    \r\n    \r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5Dialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot; /&gt;\r\n    \r\n    \t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;pasw1&quot; /&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- shtim --&gt;\r\n                &lt;property name=&quot;hibernate.enable_lazy_load_no_trans&quot; value=&quot;true&quot;/&gt;\r\n    \r\n    \t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/elearningdb&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.max_fetch_depth&quot; value=&quot;3&quot; /&gt;\r\n    \t\t\t&lt;!-- You may want to change this to false in production --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;!-- You can change this to create at the first time --&gt;\r\n    \t\t    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n    \t\t\t&lt;!-- Set this to 0 otherwise you sometimes get errors --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.pool_size&quot; value=&quot;0&quot; /&gt;\r\n    \r\n    \t\t&lt;/properties&gt;\r\n    \t\r\n    \t\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\napplicationContext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n    http://www.springframework.org/schema/mvc\r\n    http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.2.xsd&quot;&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;elearningPU&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt; \r\n    \t\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;com.elearning.domain&quot; /&gt;\r\n    \t\r\n    \t&lt;context:annotation-config/&gt;\r\n    \t \r\n    \t&lt;bean id=&quot;blogService&quot; class=&quot;com.elearning.service.BlogServiceImpl&quot; scope=&quot;singleton&quot;/&gt;\r\n    \t\r\n        &lt;bean id=&quot;facade&quot; class=&quot;com.elearning.service.FacadeImpl&quot; scope=&quot;singleton&quot;&gt;\r\n             &lt;property name=&quot;blogService&quot; ref=&quot;blogService&quot;&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\n\r\nspring-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n    http://www.springframework.org/schema/mvc\r\n    http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.2.xsd&quot;&gt;\r\n    \r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;com.elearning.controller&quot; /&gt;\r\n    \t\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t\r\n        &lt;mvc:default-servlet-handler /&gt;\r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.tiles3.TilesViewResolver&quot; /&gt;\r\n        &lt;bean id=&quot;tilesConfigurer&quot; class=&quot;org.springframework.web.servlet.view.tiles3.TilesConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;definitions&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;/WEB-INF/tiles.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt; \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nEclipse Console Error\r\n\r\n    SEVERE: Servlet.service() for servlet [spring] in context with path [/com.elearning.webapp] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    java.lang.NullPointerException\r\n    \tat com.elearning.controller.BlogController.saveValueFromEM(BlogController.java:17)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n\r\n","title":"SEVERE: Servlet.service() for servlet [spring] in context with path [/com.elearning.webapp] threw exception [Request processing failed;","body":"<p>I am building a Spring MVC WebApp.I am using JPA and Hibernate.An error occurred while testing EntityManager.I am designing and configuring this way below:</p>\n\n<p>BaseController.java</p>\n\n<pre><code>public class BaseController {\n\n\n    public Facade facade;//it is an interface\n\n\n    /**\n     * Inject Services from Spring\n     */\n\n    public void setFacade(Facade facade){\n        this.facade = facade;\n    }\n\n}\n</code></pre>\n\n<p>BlogController.java</p>\n\n<pre><code>@Controller\npublic class BlogController extends BaseController{\n\n\n\n    @RequestMapping(value=\"blog/index\")\n    public String saveValueFromEM() {\n\n        facade.saveCustomBlog();\n\n        return \"blog/index\";\n    }\n\n\n      @RequestMapping(value=\"home\") \n      public String saveValueFromJPARep() {\n      //facade.saveRepositoryBlog();\n\n      return \"home\"; \n\n      }\n\n}\n</code></pre>\n\n<p>HibernateAuthenticator.java</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.springframework.transaction.annotation.Transactional;\n\n@Transactional\npublic class HibernateAuthenticator {\n\n\n    /**\n     * Inject persistence layer to classes that extends this class\n     * */\n    public static EntityManager em;\n\n    @PersistenceContext\n    public void setEntityManager(EntityManager emf) {\n        em = emf;\n    }\n\n}\n</code></pre>\n\n<p>FacadeImpl.java</p>\n\n<pre><code>public class FacadeImpl extends HibernateAuthenticator implements Facade {\n\n\n    private BlogService blogService;//it is an interface\n\n\n    @Override\n    public void saveCustomBlog() {\n        blogService.saveCustomBlog();\n\n    }\n\n\n    public void setBlogService(BlogService blogService) {\n        this.blogService = blogService;\n    }\n\n\n\n}\n</code></pre>\n\n<p>BlogServiceImpl.java</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic class BlogServiceImpl extends HibernateAuthenticator implements BlogService {\n\n\n\n    @Override\n    @Transactional(readOnly = false)\n    public void saveCustomBlog() {\n        // TODO Auto-generated method stub\n\n        Blog blog=new Blog();\n        blog.setId(13);\n        blog.setName(\"Fation\");\n        em.merge(blog);\n\n    }\n\n\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;display-name&gt;eLearning&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath*:applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath*:spring-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n\n    &lt;persistence-unit name=\"elearningPU\"&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;properties&gt;\n\n            &lt;property name=\"hibernate.search.default.optimizer.operation_limit.max\" value=\"1000\" /&gt;\n            &lt;property name=\"hibernate.search.default.optimizer.transaction_limit.max\" value=\"100\" /&gt;\n            &lt;!-- &lt;property name=\"hibernate.search.default.directory_provider\" value=\"fi.foyt.hibernate.gae.search.GaeDirectoryProvider\"/&gt; --&gt;\n            &lt;!-- &lt;property name=\"hibernate.search.default.worker.backend\" value=\"fi.foyt.hibernate.gae.search.GaeBackendQueueProcessor\"/&gt; --&gt;\n\n\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQL5Dialect\" /&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.cj.jdbc.Driver\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\" /&gt;\n\n            &lt;property name=\"hibernate.connection.password\" value=\"pasw1\" /&gt;\n\n            &lt;!-- shtim --&gt;\n            &lt;property name=\"hibernate.enable_lazy_load_no_trans\" value=\"true\"/&gt;\n\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/elearningdb\" /&gt;\n            &lt;property name=\"hibernate.max_fetch_depth\" value=\"3\" /&gt;\n            &lt;!-- You may want to change this to false in production --&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n            &lt;!-- You can change this to create at the first time --&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n            &lt;!-- Set this to 0 otherwise you sometimes get errors --&gt;\n            &lt;property name=\"hibernate.connection.pool_size\" value=\"0\" /&gt;\n\n        &lt;/properties&gt;\n\n\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:p=\"http://www.springframework.org/schema/p\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.2.xsd\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.2.xsd\"&gt;\n\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"elearningPU\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt; \n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n\n    &lt;context:component-scan base-package=\"com.elearning.domain\" /&gt;\n\n    &lt;context:annotation-config/&gt;\n\n    &lt;bean id=\"blogService\" class=\"com.elearning.service.BlogServiceImpl\" scope=\"singleton\"/&gt;\n\n    &lt;bean id=\"facade\" class=\"com.elearning.service.FacadeImpl\" scope=\"singleton\"&gt;\n         &lt;property name=\"blogService\" ref=\"blogService\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>spring-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:p=\"http://www.springframework.org/schema/p\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.2.xsd\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.2.xsd\"&gt;\n\n\n    &lt;context:component-scan base-package=\"com.elearning.controller\" /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;mvc:default-servlet-handler /&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.tiles3.TilesViewResolver\" /&gt;\n    &lt;bean id=\"tilesConfigurer\" class=\"org.springframework.web.servlet.view.tiles3.TilesConfigurer\"&gt;\n        &lt;property name=\"definitions\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;/WEB-INF/tiles.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt; \n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Eclipse Console Error</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [spring] in context with path [/com.elearning.webapp] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\njava.lang.NullPointerException\n    at com.elearning.controller.BlogController.saveValueFromEM(BlogController.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1653263531,"post_id":72342027,"comment_id":127801773,"body_markdown":"Does this answer your question? [Processing &#39;It looks like you&#39;re mixing &quot;active&quot; and &quot;static&quot; modes.&#39;](https://stackoverflow.com/questions/6658827/processing-it-looks-like-youre-mixing-active-and-static-modes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6658827/processing-it-looks-like-youre-mixing-active-and-static-modes\">Processing &#39;It looks like you&#39;re mixing &quot;active&quot; and &quot;static&quot; modes.&#39;</a>"},{"owner":{"account_id":21254536,"reputation":595,"user_id":15636264,"display_name":"Scollier"},"score":0,"creation_date":1653265091,"post_id":72342027,"comment_id":127801945,"body_markdown":"I&#39;ve already seen this question, and tried to fix it, but I&#39;m not sure how it can help with my problem.","body":"I&#39;ve already seen this question, and tried to fix it, but I&#39;m not sure how it can help with my problem."}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653330451,"creation_date":1653327037,"answer_id":72352621,"question_id":72342027,"body_markdown":"The following demo will trap spacebar presses.  If you want to trap presses for multiple keys you would need to use an array of integers instead of booleans, eg int input[] = new int[4]; then iterate the array when keys are pressed (see second example).  Keep in mind that some keys are coded and others are not, eg arrow keys are coded and it takes different code to trap them.\r\n\r\n```\r\nboolean spaceBarPressed = false;\r\n\r\nvoid setup(){\r\n}\r\n\r\nvoid draw(){\r\n  if(spaceBarPressed){\r\n    println(&quot;Space bar pressed.&quot;);\r\n  } else {\r\n    println(&quot;Space bar released.&quot;);\r\n  }\r\n}\r\n\r\nvoid keyPressed() {\r\n  if(key == 32){\r\n    spaceBarPressed = true;\r\n  }\r\n}\r\n  \r\nvoid keyReleased() {\r\n    if(key == 32){\r\n    spaceBarPressed = false;\r\n  }\r\n}\r\n```\r\n**Second Example for key array:**\r\n```\r\n/*\r\n  Will trap key presses for an array of ascii keys\r\n*/\r\n\r\nint input[] = new int[2];\r\nint keySelected;\r\nboolean keyDwn = false;\r\n\r\nvoid setup() {\r\n  input[0] = 32;\r\n  input[1] = 65;\r\n}\r\n\r\nvoid draw() {\r\n  switch(keySelected) {\r\n  case 32:\r\n    if (keyDwn) {\r\n      println(&quot;spacebar dwn.&quot;);\r\n    } else {\r\n      println(&quot;spacebar up.&quot;);\r\n    }\r\n    break;\r\n  case 65:\r\n    if (keyDwn) {\r\n      println(&quot;key A down.&quot;);\r\n    } else {\r\n      println(&quot;key A up.&quot;);\r\n    }\r\n    break;\r\n  }\r\n}\r\n\r\nvoid keyPressed() {\r\n  for (int x = 0; x &lt; input.length; x++) {\r\n    if (input[x] == 32 || input[x] == 65) {\r\n      keySelected = keyCode;\r\n      keyDwn = true;\r\n    }\r\n  }\r\n}\r\n\r\nvoid keyReleased() {\r\n  for (int x = 0; x &lt; input.length; x++) {\r\n    if (input[x] == 32 || input[x] == 65) {\r\n      keySelected = keyCode;\r\n      keyDwn = false;\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"Why are my keypresses in processing (java) getting a static/active mode mixing error?","body":"<p>The following demo will trap spacebar presses.  If you want to trap presses for multiple keys you would need to use an array of integers instead of booleans, eg int input[] = new int[4]; then iterate the array when keys are pressed (see second example).  Keep in mind that some keys are coded and others are not, eg arrow keys are coded and it takes different code to trap them.</p>\n<pre><code>boolean spaceBarPressed = false;\n\nvoid setup(){\n}\n\nvoid draw(){\n  if(spaceBarPressed){\n    println(&quot;Space bar pressed.&quot;);\n  } else {\n    println(&quot;Space bar released.&quot;);\n  }\n}\n\nvoid keyPressed() {\n  if(key == 32){\n    spaceBarPressed = true;\n  }\n}\n  \nvoid keyReleased() {\n    if(key == 32){\n    spaceBarPressed = false;\n  }\n}\n</code></pre>\n<p><strong>Second Example for key array:</strong></p>\n<pre><code>/*\n  Will trap key presses for an array of ascii keys\n*/\n\nint input[] = new int[2];\nint keySelected;\nboolean keyDwn = false;\n\nvoid setup() {\n  input[0] = 32;\n  input[1] = 65;\n}\n\nvoid draw() {\n  switch(keySelected) {\n  case 32:\n    if (keyDwn) {\n      println(&quot;spacebar dwn.&quot;);\n    } else {\n      println(&quot;spacebar up.&quot;);\n    }\n    break;\n  case 65:\n    if (keyDwn) {\n      println(&quot;key A down.&quot;);\n    } else {\n      println(&quot;key A up.&quot;);\n    }\n    break;\n  }\n}\n\nvoid keyPressed() {\n  for (int x = 0; x &lt; input.length; x++) {\n    if (input[x] == 32 || input[x] == 65) {\n      keySelected = keyCode;\n      keyDwn = true;\n    }\n  }\n}\n\nvoid keyReleased() {\n  for (int x = 0; x &lt; input.length; x++) {\n    if (input[x] == 32 || input[x] == 65) {\n      keySelected = keyCode;\n      keyDwn = false;\n    }\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":21254536,"reputation":595,"user_id":15636264,"display_name":"Scollier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653330451,"creation_date":1653263257,"question_id":72342027,"body_markdown":"I&#39;m using processing (java) and I&#39;m trying to use an array called `input` to easily handle keypresses. Here&#39;s my code for that:\r\n\r\n```java\r\nboolean input[] = {};\r\n\r\nvoid keyPressed() {\r\n    input[keyCode] = true;\r\n}\r\n\r\nvoid keyReleased() {\r\n    input[keyCode] = false;\r\n}\r\n```\r\nAnd so, if this code worked, I could just call this\r\n```java\r\nif (input[32]) { //32 == SPACE\r\n    //Do something\r\n}\r\n```\r\nAnd the conditional would result to `true` if the key were pressed, and the statement would get executed, otherwise, it would result to false if the key were released.\r\n\r\nHowever, I&#39;m getting this error:\r\n&gt;main.pde:1:1:1:1: Syntax Error - You may be mixing static and active modes.\r\n\r\nWhy is this?\r\n\r\nThanks for any help.","title":"Why are my keypresses in processing (java) getting a static/active mode mixing error?","body":"<p>I'm using processing (java) and I'm trying to use an array called <code>input</code> to easily handle keypresses. Here's my code for that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean input[] = {};\n\nvoid keyPressed() {\n    input[keyCode] = true;\n}\n\nvoid keyReleased() {\n    input[keyCode] = false;\n}\n</code></pre>\n<p>And so, if this code worked, I could just call this</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (input[32]) { //32 == SPACE\n    //Do something\n}\n</code></pre>\n<p>And the conditional would result to <code>true</code> if the key were pressed, and the statement would get executed, otherwise, it would result to false if the key were released.</p>\n<p>However, I'm getting this error:</p>\n<blockquote>\n<p>main.pde:1:1:1:1: Syntax Error - You may be mixing static and active modes.</p>\n</blockquote>\n<p>Why is this?</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","thread-safety","simpledateformat"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1306408622,"creation_date":1306408281,"answer_id":6137576,"question_id":6137548,"body_markdown":"**No** they aren&#39;t thread-safe.Use [Joda-time&#39;s version][1]  instead.\r\n\r\nOr make them wrapped in synchronized method and make it thread-safe\r\n\r\n\r\n[Doc][2] Says it clearly\r\n\r\n&gt; Date formats are not synchronized. It\r\n&gt; is recommended to create separate\r\n&gt; format instances for each thread. If\r\n&gt; multiple threads access a format\r\n&gt; concurrently, it must be synchronized\r\n&gt; externally.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormat.html\r\n  [2]: http://download.oracle.com/javase/1.6/docs/api/java/text/SimpleDateFormat.html","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p><strong>No</strong> they aren't thread-safe.Use <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormat.html\" rel=\"noreferrer\">Joda-time's version</a>  instead.</p>\n\n<p>Or make them wrapped in synchronized method and make it thread-safe</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">Doc</a> Says it clearly</p>\n\n<blockquote>\n  <p>Date formats are not synchronized. It\n  is recommended to create separate\n  format instances for each thread. If\n  multiple threads access a format\n  concurrently, it must be synchronized\n  externally.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1306408515,"creation_date":1306408515,"answer_id":6137610,"question_id":6137548,"body_markdown":"static shouldn&#39;t be a problem.\r\n\r\n&lt;strike&gt;Since AFAIK no guarantees are made about thread safety you&#39;d have to check the source code for that. And even if you come to the conclusion that it is thread safe, this might change with the next release. &lt;/strike&gt; As said in another answer they are not thread safe.\r\n\r\nDo you really allocate such a huge amount of threads that giving each thread its own Format is a problem?","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p>static shouldn't be a problem.</p>\n\n<p><strike>Since AFAIK no guarantees are made about thread safety you'd have to check the source code for that. And even if you come to the conclusion that it is thread safe, this might change with the next release. </strike> As said in another answer they are not thread safe.</p>\n\n<p>Do you really allocate such a huge amount of threads that giving each thread its own Format is a problem?</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306408941,"creation_date":1306408941,"answer_id":6137674,"question_id":6137548,"body_markdown":"DateFormat is not thread-safe. If multiple threads use the same DateFormat object without any synchronization you can get unexpected results. So you should either synchronize access to the DateFormat object, use a ThreadLocal variable or use an alternative Date API such as Joda-Time.\r\n\r\nFor more information on how to do this, take a look at this blog post: [DateFormat with Multiple Threads][1]\r\n\r\n[1]: http://fahdshariff.blogspot.com/2010/08/dateformat-with-multiple-threads.html","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p>DateFormat is not thread-safe. If multiple threads use the same DateFormat object without any synchronization you can get unexpected results. So you should either synchronize access to the DateFormat object, use a ThreadLocal variable or use an alternative Date API such as Joda-Time.</p>\n\n<p>For more information on how to do this, take a look at this blog post: <a href=\"http://fahdshariff.blogspot.com/2010/08/dateformat-with-multiple-threads.html\" rel=\"nofollow\">DateFormat with Multiple Threads</a></p>\n"},{"tags":[],"owner":{"account_id":963148,"reputation":794,"user_id":987044,"accept_rate":50,"display_name":"ledlogic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421778438,"creation_date":1421778438,"answer_id":28052602,"question_id":6137548,"body_markdown":"An alternative if you are already using Apache Commons:\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/FastDateFormat.html","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p>An alternative if you are already using Apache Commons:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/FastDateFormat.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/FastDateFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1461229007,"creation_date":1431016078,"answer_id":30106763,"question_id":6137548,"body_markdown":"As of Java 8, this is supported in the new Date API. [`DateTimeFormatter`][1] is thread-safe and can do the same work as `SimpleDateFormat`. Cited from the JavaDoc:\r\n\r\n&gt; A formatter created from a pattern can be used as many times as necessary, it is immutable and is thread-safe.\r\n\r\nTo be extra clear, it is perfectly fine to define a format such as:\r\n\r\n    private static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy MM dd&quot;);\r\n\r\nAnd use it in methods that can be accessed by several threads concurrently:\r\n\r\n    String text = date.toString(formatter);\r\n    LocalDate date = LocalDate.parse(text, formatter);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p>As of Java 8, this is supported in the new Date API. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> is thread-safe and can do the same work as <code>SimpleDateFormat</code>. Cited from the JavaDoc:</p>\n\n<blockquote>\n  <p>A formatter created from a pattern can be used as many times as necessary, it is immutable and is thread-safe.</p>\n</blockquote>\n\n<p>To be extra clear, it is perfectly fine to define a format such as:</p>\n\n<pre><code>private static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy MM dd\");\n</code></pre>\n\n<p>And use it in methods that can be accessed by several threads concurrently:</p>\n\n<pre><code>String text = date.toString(formatter);\nLocalDate date = LocalDate.parse(text, formatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653329774,"creation_date":1653329774,"answer_id":72353136,"question_id":6137548,"body_markdown":"`SimpleDateFormat` is simple in use, but yet complicated. Developer generally writes code and test as a single user, and succeeds. but in case of parallel and concurrent requests,`SimpleDateFormat` is a complicated dateformat.\r\n\r\nhaving exposed as static in service or controller layer, and when multiple threads can access at same time, it can behave abnornally.\r\n\r\nDateFormat APi class also recommends, &quot;*It is recommended to create separate format instances for each thread. If multiple threads access a format concurrently, it must be synchronized externally.*&quot;\r\n\r\n**code to demontsrate it&#39;s failure in multi threading environment.**\r\n\r\n    public final class DateUtils {\r\n    \r\n    \tpublic static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \r\n    \tprivate DateUtils() {\r\n    \t}\r\n    \r\n    \tpublic static Date parse(String target) throws ParseException {\r\n    \t\treturn DATE_FORMAT.parse(target);\r\n    \t}\r\n    \r\n    \tpublic static String format(Date target) {\r\n    \t\treturn DATE_FORMAT.format(target);\r\n    \t}\r\n    \r\n    \tprivate static void testSimpleDateFormatWithThreads() {\r\n    \t\tExecutorService executorService = Executors.newFixedThreadPool(5);\r\n    \r\n    \t\tfinal String source = &quot;2019-01-11&quot;;\r\n    \r\n    \t\tIntStream.rangeClosed(0, 20)\r\n    \t\t\t\t.forEach((i) -&gt; executorService.submit(() -&gt; {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tSystem.out.println(DateUtils.parse(source));\r\n    \t\t\t\t\t} catch (ParseException e) {\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}));\r\n    \r\n    \t\texecutorService.shutdown();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttestSimpleDateFormatWithThreads();\r\n    \t}\r\n    }\r\n\r\n**Output** - This varies from machine to machine and will generate difefrent output how many time you run.\r\n\r\nWed Nov 11 00:00:00 IST 2201\r\n\r\nWed Nov 11 00:00:00 IST 2201\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nMon Dec 31 00:00:00 IST 2018\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\nSun Jan 11 00:00:00 IST 2201\r\n\r\nFri Jan 11 00:00:00 IST 2019\r\n\r\n\r\n**This breaks due to Calendar instance variable inside `DateFormat` -&gt; `SimpleDateFormat` class.**\r\n\r\n**Solution**\r\n1. Using `ThreadLocal`\r\n\r\n    public static final ThreadLocal SIMPLE_DATE_FORMAT = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n\r\n2. Java 8, `DateTimeFormatter` API\r\n\r\n    public static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n\r\n","title":"Can we declare SimpleDateFormat objects as static objects","body":"<p><code>SimpleDateFormat</code> is simple in use, but yet complicated. Developer generally writes code and test as a single user, and succeeds. but in case of parallel and concurrent requests,<code>SimpleDateFormat</code> is a complicated dateformat.</p>\n<p>having exposed as static in service or controller layer, and when multiple threads can access at same time, it can behave abnornally.</p>\n<p>DateFormat APi class also recommends, &quot;<em>It is recommended to create separate format instances for each thread. If multiple threads access a format concurrently, it must be synchronized externally.</em>&quot;</p>\n<p><strong>code to demontsrate it's failure in multi threading environment.</strong></p>\n<pre><code>public final class DateUtils {\n\n    public static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n\n    private DateUtils() {\n    }\n\n    public static Date parse(String target) throws ParseException {\n        return DATE_FORMAT.parse(target);\n    }\n\n    public static String format(Date target) {\n        return DATE_FORMAT.format(target);\n    }\n\n    private static void testSimpleDateFormatWithThreads() {\n        ExecutorService executorService = Executors.newFixedThreadPool(5);\n\n        final String source = &quot;2019-01-11&quot;;\n\n        IntStream.rangeClosed(0, 20)\n                .forEach((i) -&gt; executorService.submit(() -&gt; {\n                    try {\n                        System.out.println(DateUtils.parse(source));\n                    } catch (ParseException e) {\n                        e.printStackTrace();\n                    }\n                }));\n\n        executorService.shutdown();\n    }\n\n    public static void main(String[] args) {\n        testSimpleDateFormatWithThreads();\n    }\n}\n</code></pre>\n<p><strong>Output</strong> - This varies from machine to machine and will generate difefrent output how many time you run.</p>\n<p>Wed Nov 11 00:00:00 IST 2201</p>\n<p>Wed Nov 11 00:00:00 IST 2201</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Mon Dec 31 00:00:00 IST 2018</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p>Sun Jan 11 00:00:00 IST 2201</p>\n<p>Fri Jan 11 00:00:00 IST 2019</p>\n<p><strong>This breaks due to Calendar instance variable inside <code>DateFormat</code> -&gt; <code>SimpleDateFormat</code> class.</strong></p>\n<p><strong>Solution</strong></p>\n<ol>\n<li><p>Using <code>ThreadLocal</code></p>\n<p>public static final ThreadLocal SIMPLE_DATE_FORMAT = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));</p>\n</li>\n<li><p>Java 8, <code>DateTimeFormatter</code> API</p>\n<p>public static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":46092,"reputation":14701,"user_id":136088,"accept_rate":76,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19220,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":6137576,"answer_count":6,"score":23,"last_activity_date":1653329774,"creation_date":1306408147,"question_id":6137548,"body_markdown":"    SimpleDateFormat monthFormat = new SimpleDateFormat(&quot;MMMM&quot;);\r\n    SimpleDateFormat fullFormat = new SimpleDateFormat(&quot;EE MMM dd, HH:mm:ss&quot;)\r\n\r\nI have several such piece of code which gets invoked often, would it make sense to declare them as `static` variables?\r\n\r\nIs it thread safe to pass dynamic arguments to the `format()` method in such cases?\r\n\r\n","title":"Can we declare SimpleDateFormat objects as static objects","body":"<pre><code>SimpleDateFormat monthFormat = new SimpleDateFormat(\"MMMM\");\nSimpleDateFormat fullFormat = new SimpleDateFormat(\"EE MMM dd, HH:mm:ss\")\n</code></pre>\n\n<p>I have several such piece of code which gets invoked often, would it make sense to declare them as <code>static</code> variables?</p>\n\n<p>Is it thread safe to pass dynamic arguments to the <code>format()</code> method in such cases?</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":2415806,"reputation":1373,"user_id":2109840,"display_name":"Greg"},"score":0,"creation_date":1653326641,"post_id":72352246,"comment_id":127819843,"body_markdown":"Only saw you call `serverBootstrap.bind(port).channel().closeFuture().syncUninterruptibly();` once in the code above. Could you provide complete code of how you start the server twice?","body":"Only saw you call <code>serverBootstrap.bind(port).channel().closeFuture().syncUnint&zwnj;&#8203;erruptibly();</code> once in the code above. Could you provide complete code of how you start the server twice?"},{"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"score":0,"creation_date":1653327410,"post_id":72352246,"comment_id":127820105,"body_markdown":"start(); start(); I put everything into void start()","body":"start(); start(); I put everything into void start()"},{"owner":{"account_id":2415806,"reputation":1373,"user_id":2109840,"display_name":"Greg"},"score":0,"creation_date":1653328348,"post_id":72352246,"comment_id":127820431,"body_markdown":"You only called start once in the last line, did not see the other one.","body":"You only called start once in the last line, did not see the other one."},{"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"score":0,"creation_date":1653328480,"post_id":72352246,"comment_id":127820492,"body_markdown":"No no. The start in the last line is referred to the thread. That has nothing to do with my public void start. I called my own void start() twice.","body":"No no. The start in the last line is referred to the thread. That has nothing to do with my public void start. I called my own void start() twice."}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653328996,"creation_date":1653328996,"answer_id":72352996,"question_id":72352246,"body_markdown":"After binding you are directly taking the channel from the future, but it probably hasn’t finished at that point. \r\nTry to wait for your bind to complete with `bind(port).sync()`. \r\n\r\nSee for reference https://www.baeldung.com/netty#6-server-bootstrap and https://netty.io/4.1/api/io/netty/channel/ChannelFuture.html","title":"Netty doesn&#39;t complain if port is already used","body":"<p>After binding you are directly taking the channel from the future, but it probably hasn’t finished at that point.\nTry to wait for your bind to complete with <code>bind(port).sync()</code>.</p>\n<p>See for reference <a href=\"https://www.baeldung.com/netty#6-server-bootstrap\" rel=\"nofollow noreferrer\">https://www.baeldung.com/netty#6-server-bootstrap</a> and <a href=\"https://netty.io/4.1/api/io/netty/channel/ChannelFuture.html\" rel=\"nofollow noreferrer\">https://netty.io/4.1/api/io/netty/channel/ChannelFuture.html</a></p>\n"}],"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72352996,"answer_count":1,"score":1,"last_activity_date":1653329743,"creation_date":1653325148,"question_id":72352246,"body_markdown":"Following problem:\r\nI expect an exception if a port is already used.\r\n\r\nSo I tried to start my server twice in a thread\r\n\r\n        public void start() {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                EventLoopGroup bossGroup = new EpollEventLoopGroup();\r\n                EventLoopGroup workerGroup = new EpollEventLoopGroup();\r\n\r\n                ServerBootstrap serverBootstrap = new ServerBootstrap();\r\n                serverBootstrap.group(bossGroup, workerGroup)\r\n                        .channel(NioServerSocketChannel.class)\r\n                        .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                            @Override\r\n                            protected void initChannel(final SocketChannel socketChannel) throws Exception {\r\n                                socketChannel.pipeline().addLast(&quot;decoder&quot;, new Decoder(Server.this));\r\n                                socketChannel.pipeline().addLast(&quot;encoder&quot;, new Encoder(Server.this));\r\n                            }\r\n                        });\r\n\r\n                serverBootstrap.bind(port).channel().closeFuture().syncUninterruptibly();\r\n            }\r\n        }).start();\r\n    }\r\n\r\nBut got no exception. I also tried to add an channel handler and catch a exception there, no luck :/\r\n\r\nSurrounding the line with bind(port) to catch an exception has also no effect. But I noticed when I added a ChannelListener to the ChannelFuture, that one of the started instances never reached that point.\r\n\r\nAnyone an idea?","title":"Netty doesn&#39;t complain if port is already used","body":"<p>Following problem:\nI expect an exception if a port is already used.</p>\n<p>So I tried to start my server twice in a thread</p>\n<pre><code>    public void start() {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            EventLoopGroup bossGroup = new EpollEventLoopGroup();\n            EventLoopGroup workerGroup = new EpollEventLoopGroup();\n\n            ServerBootstrap serverBootstrap = new ServerBootstrap();\n            serverBootstrap.group(bossGroup, workerGroup)\n                    .channel(NioServerSocketChannel.class)\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                        @Override\n                        protected void initChannel(final SocketChannel socketChannel) throws Exception {\n                            socketChannel.pipeline().addLast(&quot;decoder&quot;, new Decoder(Server.this));\n                            socketChannel.pipeline().addLast(&quot;encoder&quot;, new Encoder(Server.this));\n                        }\n                    });\n\n            serverBootstrap.bind(port).channel().closeFuture().syncUninterruptibly();\n        }\n    }).start();\n}\n</code></pre>\n<p>But got no exception. I also tried to add an channel handler and catch a exception there, no luck :/</p>\n<p>Surrounding the line with bind(port) to catch an exception has also no effect. But I noticed when I added a ChannelListener to the ChannelFuture, that one of the started instances never reached that point.</p>\n<p>Anyone an idea?</p>\n"},{"tags":["java","html","database","tomcat","servlets"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653226595,"post_id":72337996,"comment_id":127794541,"body_markdown":"Your form is sending the request with the default method which is `GET` since you haven&#39;t specified it to do a `POST`.","body":"Your form is sending the request with the default method which is <code>GET</code> since you haven&#39;t specified it to do a <code>POST</code>."}],"answers":[{"tags":[],"owner":{"account_id":14140353,"reputation":1,"user_id":10215371,"display_name":"optor666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653233813,"creation_date":1653233813,"answer_id":72338995,"question_id":72337996,"body_markdown":"You can use Postman to send a POST request to your server, or change doPost to doGet","title":"HTTP Status 405 - Method Not Allowed - while using servlet","body":"<p>You can use Postman to send a POST request to your server, or change doPost to doGet</p>\n"},{"tags":[],"owner":{"account_id":20702414,"reputation":14,"user_id":15201116,"display_name":"Biswajit Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653329658,"creation_date":1653329658,"answer_id":72353115,"question_id":72337996,"body_markdown":"In HTML file &lt;form&gt; tag you did not mention the method= &quot;post&quot; So its taking the value by default &quot;get&quot; request.","title":"HTTP Status 405 - Method Not Allowed - while using servlet","body":"<p>In HTML file  tag you did not mention the method= &quot;post&quot; So its taking the value by default &quot;get&quot; request.</p>\n"}],"owner":{"account_id":23741193,"reputation":21,"user_id":17759228,"display_name":"SUMANTH-hyphen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1653329658,"creation_date":1653226111,"question_id":72337996,"body_markdown":"My code is to use java servlets and JDBC to store and retrieve the information from a database. There is no error in the IDE the program is running but, the rows aren&#39;t inserted into the database and an error occurred in the firefox browser.\r\n&lt;br&gt;&lt;br&gt;&lt;b&gt;The following code is from the SERVLET file&lt;/b&gt;\r\n```\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.*;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\npublic class ServletRegister extends HttpServlet{\r\n\tpublic void doPost(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException\r\n\t{\r\n\t\tres.setContentType(&quot;text/html&quot;);\r\n\t\tPrintWriter out = res.getWriter(&quot;text/html&quot;);\r\n\t\t\r\n\t\tString uname = req.getParameter(&quot;uname&quot;);\r\n\t\tString passwd = req.getParameter(&quot;passwd&quot;);\r\n\t\tString email = req.getParameter(&quot;email&quot;);\r\n\t\tint phno = Integer.parseInt(req.getParameter(&quot;phno&quot;));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/hack&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t\t\tPreparedStatement ps = con.prepareStatement(&quot;insert into student values(?,?,?,?)&quot;);\r\n\t\t\tps.setString(1,uname);\r\n\t\t\tps.setString(2,passwd);\r\n\t\t\tps.setString(3, email);\r\n\t\t\tps.setInt(4, phno);\r\n\t\t\tint i = ps.executeUpdate();\r\n\t\t\tif(i&gt;0)\r\n\t\t\t\tout.print(&quot;Registerd Successfully&quot;);\r\n\t\t\tout.close();\r\n\t\t}catch(Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n&lt;br&gt;&lt;br&gt;&lt;b&gt;The following code is from HTML file&lt;/b&gt;\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Registration&lt;/title&gt;\r\n\t&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;form action=&quot;register&quot;&gt;\r\n\t\t&lt;table&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;Enter User Name: &lt;input type=&quot;text&quot; name=&quot;uname&quot;&gt; &lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;Enter Password: &lt;input type=&quot;password&quot; name=&quot;passwd&quot;&gt; &lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;Enter E-mail: &lt;input type=&quot;email&quot; name=&quot;email&quot;&gt; &lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;Enter Phone.no: &lt;input type=&quot;number&quot; name=&quot;phno&quot; min=&quot;6000000000&quot; max=&quot;9999999999&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;input type=&quot;submit&quot;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;input type=&quot;reset&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\t&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n&lt;br&gt;&lt;br&gt;&lt;b&gt;The following code is from web.xml file&lt;/b&gt;\r\n```\r\n  &lt;servlet&gt;\r\n  \t\t&lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;\r\n  \t\t&lt;servlet-class&gt;com.hacker.ServletRegister&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/register&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n```\r\n&lt;br&gt;&lt;br&gt;&lt;b&gt;The Error is: &lt;/b&gt;\r\n[Error obtained in firefox browser][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55lu6.png","title":"HTTP Status 405 - Method Not Allowed - while using servlet","body":"<p>My code is to use java servlets and JDBC to store and retrieve the information from a database. There is no error in the IDE the program is running but, the rows aren't inserted into the database and an error occurred in the firefox browser.\n<br><br><b>The following code is from the SERVLET file</b></p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.*;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\npublic class ServletRegister extends HttpServlet{\n    public void doPost(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException\n    {\n        res.setContentType(&quot;text/html&quot;);\n        PrintWriter out = res.getWriter(&quot;text/html&quot;);\n        \n        String uname = req.getParameter(&quot;uname&quot;);\n        String passwd = req.getParameter(&quot;passwd&quot;);\n        String email = req.getParameter(&quot;email&quot;);\n        int phno = Integer.parseInt(req.getParameter(&quot;phno&quot;));\n        \n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/hack&quot;,&quot;root&quot;,&quot;&quot;);\n            PreparedStatement ps = con.prepareStatement(&quot;insert into student values(?,?,?,?)&quot;);\n            ps.setString(1,uname);\n            ps.setString(2,passwd);\n            ps.setString(3, email);\n            ps.setInt(4, phno);\n            int i = ps.executeUpdate();\n            if(i&gt;0)\n                out.print(&quot;Registerd Successfully&quot;);\n            out.close();\n        }catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p><br><br><b>The following code is from HTML file</b></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Registration&lt;/title&gt;\n    &lt;/head&gt;\n&lt;body&gt;\n    &lt;form action=&quot;register&quot;&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Enter User Name: &lt;input type=&quot;text&quot; name=&quot;uname&quot;&gt; &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Enter Password: &lt;input type=&quot;password&quot; name=&quot;passwd&quot;&gt; &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Enter E-mail: &lt;input type=&quot;email&quot; name=&quot;email&quot;&gt; &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Enter Phone.no: &lt;input type=&quot;number&quot; name=&quot;phno&quot; min=&quot;6000000000&quot; max=&quot;9999999999&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=&quot;submit&quot;&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;input type=&quot;reset&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><br><br><b>The following code is from web.xml file</b></p>\n<pre><code>  &lt;servlet&gt;\n        &lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.hacker.ServletRegister&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RegisterServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/register&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n</code></pre>\n<p><br><br><b>The Error is: </b>\n<a href=\"https://i.stack.imgur.com/55lu6.png\" rel=\"nofollow noreferrer\">Error obtained in firefox browser</a></p>\n"},{"tags":["java","android","wordle-game"],"answers":[{"tags":[],"owner":{"account_id":14535125,"reputation":602,"user_id":10498741,"display_name":"logancodemaker"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653328802,"creation_date":1653328802,"answer_id":72352957,"question_id":72352645,"body_markdown":"In my opinion there is no way to do that, must just have something like this \r\n\r\n```xml\r\n&lt;include\r\n        android:id=&quot;@+id/includeKeyboard1&quot;\r\n        layout=&quot;@layout/keyboard&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n```\r\n\r\n```xml\r\n&lt;include\r\n        android:id=&quot;@+id/includeKeyboard2&quot;\r\n        layout=&quot;@layout/keyboard2&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n```\r\n\r\nThen in your code you can do \r\n\r\n\r\n```java\r\nView includeKeyboard1 = findViewById(R.id.includeKeyboard1);\r\nView includeKeyboard2 = findViewById(R.id.includeKeyboard2);\r\n\r\nif(someConditions) {\r\n    includeKeyboard1.setVisibility(View.VISIBLE);\r\n    includeKeyboard2.setVisibility(View.GONE);\r\n} else {\r\n   includeKeyboard1.setVisibility(View.GONE);\r\n   includeKeyboard2.setVisibility(View.VISIBLE);\r\n}\r\n```","title":"How can I programmatically change include lay-out for java android?","body":"<p>In my opinion there is no way to do that, must just have something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include\n        android:id=&quot;@+id/includeKeyboard1&quot;\n        layout=&quot;@layout/keyboard&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include\n        android:id=&quot;@+id/includeKeyboard2&quot;\n        layout=&quot;@layout/keyboard2&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<p>Then in your code you can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>View includeKeyboard1 = findViewById(R.id.includeKeyboard1);\nView includeKeyboard2 = findViewById(R.id.includeKeyboard2);\n\nif(someConditions) {\n    includeKeyboard1.setVisibility(View.VISIBLE);\n    includeKeyboard2.setVisibility(View.GONE);\n} else {\n   includeKeyboard1.setVisibility(View.GONE);\n   includeKeyboard2.setVisibility(View.VISIBLE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653329544,"creation_date":1653329544,"answer_id":72353091,"question_id":72352645,"body_markdown":"You use fragments.  Make a fragment for both of the included layouts.  Then you can swap out which fragment is being displayed via a fragment transaction.\r\n","title":"How can I programmatically change include lay-out for java android?","body":"<p>You use fragments.  Make a fragment for both of the included layouts.  Then you can swap out which fragment is being displayed via a fragment transaction.</p>\n"}],"owner":{"account_id":25368499,"reputation":1,"user_id":19182716,"display_name":"TeAm6_AZLIK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1653329544,"creation_date":1653327185,"question_id":72352645,"body_markdown":"\r\nHow can I programmatically change\r\n`layout=&quot;@layout/keyboard&quot;`\r\nwith another lay-out `layout=&quot;@layout/play_again&quot;`. Or is there a better way of doing this? \r\n\r\n```xml\r\n&lt;include\r\n        android:id=&quot;@+id/includeKeyboard&quot;\r\n        layout=&quot;@layout/keyboard&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n[lay-out play again][1]\r\n\r\n[lay-out keyboard][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qdl0Z.png\r\n  [2]: https://i.stack.imgur.com/1iBXP.png","title":"How can I programmatically change include lay-out for java android?","body":"<p>How can I programmatically change\n<code>layout=&quot;@layout/keyboard&quot;</code>\nwith another lay-out <code>layout=&quot;@layout/play_again&quot;</code>. Or is there a better way of doing this?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include\n        android:id=&quot;@+id/includeKeyboard&quot;\n        layout=&quot;@layout/keyboard&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:layout_marginBottom=&quot;5dp&quot;\n        android:layout_weight=&quot;1&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Qdl0Z.png\" rel=\"nofollow noreferrer\">lay-out play again</a></p>\n<p><a href=\"https://i.stack.imgur.com/1iBXP.png\" rel=\"nofollow noreferrer\">lay-out keyboard</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":102974,"reputation":25347,"user_id":276070,"accept_rate":90,"display_name":"Jens"},"score":2,"creation_date":1312452706,"post_id":6939526,"comment_id":8270495,"body_markdown":"Could you just split the string on &quot;),(&quot; and remove the remaining brackets to achieve your result?","body":"Could you just split the string on &quot;),(&quot; and remove the remaining brackets to achieve your result?"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1405308665,"post_id":6939526,"comment_id":38359792,"body_markdown":"Definitely want [`Matcher.find()`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()).","body":"Definitely want <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#find()\" rel=\"nofollow noreferrer\"><code>Matcher.find()</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1312452701,"creation_date":1312452701,"answer_id":6939587,"question_id":6939526,"body_markdown":"That&#39;s right. You can&#39;t have a &quot;variable&quot; number of capturing groups in a Java regular expression. Your Pattern has two groups:\r\n\r\n    \\((.+?)\\)(?:,\\((.+?)\\))*\r\n      |___|        |___|\r\n     group 1      group 2\r\n\r\nEach group will contain the content of **the last match** for that group. I.e., `abc,12` will get overridden by `30,asdf,2`.\r\n\r\nRelated question:\r\n\r\n- https://stackoverflow.com/questions/5018487/regular-expression-with-variable-number-of-groups\r\n\r\nThe solution is to use one expression (something like `\\((.+?)\\)`) and use `matcher.find` to iterate over the matches.","title":"Java regex: Repeating capturing groups","body":"<p>That's right. You can't have a \"variable\" number of capturing groups in a Java regular expression. Your Pattern has two groups:</p>\n\n<pre><code>\\((.+?)\\)(?:,\\((.+?)\\))*\n  |___|        |___|\n group 1      group 2\n</code></pre>\n\n<p>Each group will contain the content of <strong>the last match</strong> for that group. I.e., <code>abc,12</code> will get overridden by <code>30,asdf,2</code>.</p>\n\n<p>Related question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5018487/regular-expression-with-variable-number-of-groups\">Regular expression with variable number of groups?</a></li>\n</ul>\n\n<p>The solution is to use one expression (something like <code>\\((.+?)\\)</code>) and use <code>matcher.find</code> to iterate over the matches.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1312455629,"creation_date":1312455629,"answer_id":6940213,"question_id":6939526,"body_markdown":"You can use regular expression like `([^,]+)` in loop or just `str.split(&quot;,&quot;)` to get all elements at once. This version: `str.split(&quot;\\\\s*,\\\\s*&quot;)` even allows spaces.","title":"Java regex: Repeating capturing groups","body":"<p>You can use regular expression like <code>([^,]+)</code> in loop or just <code>str.split(\",\")</code> to get all elements at once. This version: <code>str.split(\"\\\\s*,\\\\s*\")</code> even allows spaces.</p>\n"},{"tags":[],"owner":{"account_id":4743499,"reputation":1,"user_id":3835430,"display_name":"Scooty Lee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1405308498,"creation_date":1405307234,"answer_id":24729022,"question_id":6939526,"body_markdown":"This may be the solution :\r\n\r\n    package com.drl.fw.sch;\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class AngularJSMatcher extends SimpleStringMatcher  {\r\n\t\t\r\n\tMatcher delegate;\r\n\t\r\n\t\r\n\tpublic AngularJSMatcher(String lookFor){\r\n\t\tsuper(lookFor);\r\n\t\t// ng-repeat \r\n\t\tint ind = lookFor.indexOf(&#39;-&#39;);\r\n\t\tif(ind &gt;= 0 ){\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tboolean first = true;\r\n\t\t\tfor (String s : lookFor.split(&quot;-&quot;)){\r\n\t\t\t\tif(first){\r\n\t\t\t\t\tsb.append(s);\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(s.length() &gt;1){\r\n\t\t\t\t\t\tsb.append(s.substring(0,1).toUpperCase());\r\n\t\t\t\t\t\tsb.append(s.substring(1));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsb.append(s.toUpperCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelegate = new SimpleStringMatcher(sb.toString());\r\n\t\t}else {\r\n\t\t\tString words[] = lookFor.split(&quot;(?&lt;!(^|[A-Z]))(?=[A-Z])|(?&lt;!^)(?=[A-Z][a-z])&quot;);\r\n\t\t\tif(words.length &gt; 1 ){\r\n\t\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\t\tfor (int i=0;i &lt; words.length;i++) {\r\n\t\t\t\t\tsb.append(words[i].toLowerCase());\r\n\t\t\t\t\tif(i &lt; words.length-1) sb.append(&quot;-&quot;);\r\n\t\t\t    }\r\n\t\t\t\tdelegate = new SimpleStringMatcher(sb.toString());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean match(String in) {\r\n\t\tif(super.match(in)) return true;\r\n\t\tif(delegate != null &amp;&amp; delegate.match(in)) return true;\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tString lookfor=&quot;ngRepeatStart&quot;;\r\n\t\t\r\n\t\tMatcher matcher = new AngularJSMatcher(lookfor);\r\n\t\t\r\n\t\tSystem.out.println(matcher.match( &quot;&lt;header ng-repeat-start=\\&quot;item in items\\&quot;&gt;&quot;));\r\n\t\tSystem.out.println(matcher.match( &quot;var ngRepeatStart=\\&quot;item in items\\&quot;&gt;&quot;));\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n","title":"Java regex: Repeating capturing groups","body":"<p>This may be the solution :</p>\n\n<pre><code>package com.drl.fw.sch;\n\nimport java.util.regex.Pattern;\n\npublic class AngularJSMatcher extends SimpleStringMatcher  {\n\nMatcher delegate;\n\n\npublic AngularJSMatcher(String lookFor){\n    super(lookFor);\n    // ng-repeat \n    int ind = lookFor.indexOf('-');\n    if(ind &gt;= 0 ){\n        StringBuilder sb = new StringBuilder();\n        boolean first = true;\n        for (String s : lookFor.split(\"-\")){\n            if(first){\n                sb.append(s);\n                first = false;\n            }else{\n                if(s.length() &gt;1){\n                    sb.append(s.substring(0,1).toUpperCase());\n                    sb.append(s.substring(1));\n\n                }else{\n                    sb.append(s.toUpperCase());\n                }\n            }\n        }\n        delegate = new SimpleStringMatcher(sb.toString());\n    }else {\n        String words[] = lookFor.split(\"(?&lt;!(^|[A-Z]))(?=[A-Z])|(?&lt;!^)(?=[A-Z][a-z])\");\n        if(words.length &gt; 1 ){\n            StringBuilder sb = new StringBuilder();\n            for (int i=0;i &lt; words.length;i++) {\n                sb.append(words[i].toLowerCase());\n                if(i &lt; words.length-1) sb.append(\"-\");\n            }\n            delegate = new SimpleStringMatcher(sb.toString());\n        }\n\n    }\n\n}\n\n@Override\npublic boolean match(String in) {\n    if(super.match(in)) return true;\n    if(delegate != null &amp;&amp; delegate.match(in)) return true;\n\n    return false;\n}\n\npublic static void main(String[] args){\n    String lookfor=\"ngRepeatStart\";\n\n    Matcher matcher = new AngularJSMatcher(lookfor);\n\n    System.out.println(matcher.match( \"&lt;header ng-repeat-start=\\\"item in items\\\"&gt;\"));\n    System.out.println(matcher.match( \"var ngRepeatStart=\\\"item in items\\\"&gt;\"));\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3663387,"reputation":3549,"user_id":3058581,"display_name":"Adam111p"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485952594,"creation_date":1485952594,"answer_id":41980021,"question_id":6939526,"body_markdown":"(^|\\s+)(\\S*)(($|\\s+)\\2)+ with ignore case option /i\r\n\r\nShe left LEft leFT now\r\n\r\nexample here -  [https://regex101.com/r/FEmXui/2][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/FEmXui/2\r\n\r\n    Match 1\r\n    Full match\t3-23\t` left LEft leFT LEFT`\r\n    Group 1.\t3-4\t` `\r\n    Group 2.\t4-8\t`left`\r\n    Group 3.\t18-23\t` LEFT`\r\n    Group 4.\t18-19\t` `","title":"Java regex: Repeating capturing groups","body":"<p>(^|\\s+)(\\S*)(($|\\s+)\\2)+ with ignore case option /i</p>\n\n<p>She left LEft leFT now</p>\n\n<p>example here -  <a href=\"https://regex101.com/r/FEmXui/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/FEmXui/2</a></p>\n\n<pre><code>Match 1\nFull match  3-23    ` left LEft leFT LEFT`\nGroup 1.    3-4 ` `\nGroup 2.    4-8 `left`\nGroup 3.    18-23   ` LEFT`\nGroup 4.    18-19   ` `\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7962844,"reputation":155,"user_id":6010052,"display_name":"jhyry-gcpud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653329142,"creation_date":1653329142,"answer_id":72353025,"question_id":6939526,"body_markdown":"Using an ANTLR grammar can solve this problem. This is really beyond the reasonable capabilities of RegExp, although I believe some newer versions of Microsoft&#39;s implementation in .Net support this behavior. [See this other SO question.][1] If you&#39;re stuck with everything but .Net your best option is going to be a parser-generator (you don&#39;t have to use ANTLR, that&#39;s just my personal preference). Going through the [ANTLR4 GitHub][2] page can help get someone started on matching on more complex expressions with things like repeating match groups. Another option that doesn&#39;t require a whole lot of new learning is to tokenize the string input that you&#39;re wanting to match on and pull out the pieces that you want, but this can prove to be extremely messy and create nightmarish chunks of parsing code that are better-suited to a generated parser.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11051558/regular-expression-to-select-repeating-groups\r\n  [2]: https://github.com/antlr/antlr4","title":"Java regex: Repeating capturing groups","body":"<p>Using an ANTLR grammar can solve this problem. This is really beyond the reasonable capabilities of RegExp, although I believe some newer versions of Microsoft's implementation in .Net support this behavior. <a href=\"https://stackoverflow.com/questions/11051558/regular-expression-to-select-repeating-groups\">See this other SO question.</a> If you're stuck with everything but .Net your best option is going to be a parser-generator (you don't have to use ANTLR, that's just my personal preference). Going through the <a href=\"https://github.com/antlr/antlr4\" rel=\"nofollow noreferrer\">ANTLR4 GitHub</a> page can help get someone started on matching on more complex expressions with things like repeating match groups. Another option that doesn't require a whole lot of new learning is to tokenize the string input that you're wanting to match on and pull out the pieces that you want, but this can prove to be extremely messy and create nightmarish chunks of parsing code that are better-suited to a generated parser.</p>\n"}],"owner":{"account_id":210381,"reputation":1465,"user_id":461971,"accept_rate":82,"display_name":"Justin Wong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38650,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6939587,"answer_count":5,"score":31,"last_activity_date":1653329142,"creation_date":1312452361,"question_id":6939526,"body_markdown":"An item is a comma delimited list of one or more strings of numbers or characters e.g.\r\n\r\n    &quot;12&quot;\r\n    &quot;abc&quot;\r\n    &quot;12,abc,3&quot;\r\n\r\nI&#39;m trying to match a bracketed list of zero or more items in Java e.g.\r\n\r\n    &quot;&quot;\r\n    &quot;(12)&quot;\r\n    &quot;(abc,12)&quot;\r\n    &quot;(abc,12),(30,asdf)&quot;\r\n    &quot;(qqq,pp),(abc,12),(30,asdf,2),&quot;\r\n\r\nwhich should return the following matching groups respectively for the last example\r\n\r\n    qqq,pp\r\n    abc,12\r\n    30,asdf,2\r\n\r\nI&#39;ve come up with the following (incorrect)pattern\r\n\r\n    \\((.+?)\\)(?:,\\((.+?)\\))*\r\n\r\nwhich matches only the following for the last example\r\n\r\n    qqq,pp\r\n    30,asdf,2\r\n\r\n\r\nTips? Thanks","title":"Java regex: Repeating capturing groups","body":"<p>An item is a comma delimited list of one or more strings of numbers or characters e.g.</p>\n\n<pre><code>\"12\"\n\"abc\"\n\"12,abc,3\"\n</code></pre>\n\n<p>I'm trying to match a bracketed list of zero or more items in Java e.g.</p>\n\n<pre><code>\"\"\n\"(12)\"\n\"(abc,12)\"\n\"(abc,12),(30,asdf)\"\n\"(qqq,pp),(abc,12),(30,asdf,2),\"\n</code></pre>\n\n<p>which should return the following matching groups respectively for the last example</p>\n\n<pre><code>qqq,pp\nabc,12\n30,asdf,2\n</code></pre>\n\n<p>I've come up with the following (incorrect)pattern</p>\n\n<pre><code>\\((.+?)\\)(?:,\\((.+?)\\))*\n</code></pre>\n\n<p>which matches only the following for the last example</p>\n\n<pre><code>qqq,pp\n30,asdf,2\n</code></pre>\n\n<p>Tips? Thanks</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653328062,"creation_date":1653328062,"answer_id":72352829,"question_id":72352762,"body_markdown":"Set the `anchor` field in `GridBagConsraints` to `TOP`;\r\n\r\nIf you want the look of the table, why not just use a `JTable`? It would be a much cleaner look and easier to deal with. ","title":"Why is everything centered in the GridBagLayout?","body":"<p>Set the <code>anchor</code> field in <code>GridBagConsraints</code> to <code>TOP</code>;</p>\n<p>If you want the look of the table, why not just use a <code>JTable</code>? It would be a much cleaner look and easier to deal with.</p>\n"},{"tags":[],"owner":{"account_id":9178702,"reputation":55,"user_id":6823420,"display_name":"Hamza Umair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653328973,"creation_date":1653328973,"answer_id":72352988,"question_id":72352762,"body_markdown":"I was able to solve the issue by applying the following changes:\r\n```\r\nGridBagLayout gbl_panelInfo = new GridBagLayout();\r\ngbl_panelInfo.columnWidths = new int[]{0, 0, 0, 0, 0, 0};\r\ngbl_panelInfo.rowHeights = new int[]{0, 0, 0, 0};\r\ngbl_panelInfo.columnWeights = new double[]{1.0, 1.0, 1.0, 1.0, 1.0, Double.MIN_VALUE};\r\ngbl_panelInfo.rowWeights = new double[]{0.0, 0.0, 0.0, Double.MIN_VALUE};\r\npanelInfo.setLayout(gbl_panelInfo);\r\n```","title":"Why is everything centered in the GridBagLayout?","body":"<p>I was able to solve the issue by applying the following changes:</p>\n<pre><code>GridBagLayout gbl_panelInfo = new GridBagLayout();\ngbl_panelInfo.columnWidths = new int[]{0, 0, 0, 0, 0, 0};\ngbl_panelInfo.rowHeights = new int[]{0, 0, 0, 0};\ngbl_panelInfo.columnWeights = new double[]{1.0, 1.0, 1.0, 1.0, 1.0, Double.MIN_VALUE};\ngbl_panelInfo.rowWeights = new double[]{0.0, 0.0, 0.0, Double.MIN_VALUE};\npanelInfo.setLayout(gbl_panelInfo);\n</code></pre>\n"}],"owner":{"account_id":9178702,"reputation":55,"user_id":6823420,"display_name":"Hamza Umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653328998,"creation_date":1653327782,"question_id":72352762,"body_markdown":"I am trying to build a table look with the GridBagLayout, but it keeps centering everything.\r\nI don&#39;t know why it is doing this. My insets are set at 5, yet it makes them look huge.\r\n\r\nIt started off fine, but somewhere it changed to do this. I cant ctrl + z to go back.\r\n\r\nHere is my code:\r\n```\r\nJScrollPane scrollPane = new JScrollPane();\r\ncontentPane.add(scrollPane, BorderLayout.CENTER);\r\n\r\npanelInfo = new JPanel();\r\nscrollPane.setViewportView(panelInfo);\r\nGridBagLayout gbl_panelInfo = new GridBagLayout();\r\ngbl_panelInfo.columnWidths = new int[]{0, 0, 0, 0, 0};\r\ngbl_panelInfo.rowHeights = new int[] {0, 30, 0};\r\ngbl_panelInfo.columnWeights = new double[]{1.0, 1.0, 1.0, 1.0, 1.0};\r\ngbl_panelInfo.rowWeights = new double[]{0.0, 0.0, 0.0};\r\npanelInfo.setLayout(gbl_panelInfo);\r\n\r\nJLabel lblColumnName1 = new JLabel(&quot;No.&quot;);\r\nGridBagConstraints gbc_lblColumnName1 = new GridBagConstraints();\r\ngbc_lblColumnName1.insets = new Insets(5, 0, 5, 5);\r\ngbc_lblColumnName1.gridx = 0;\r\ngbc_lblColumnName1.gridy = 0;\r\npanelInfo.add(lblColumnName1, gbc_lblColumnName1);\r\n\r\nJLabel lblColumnName2 = new JLabel(&quot;Name&quot;);\r\nGridBagConstraints gbc_lblColumnName2 = new GridBagConstraints();\r\ngbc_lblColumnName2.insets = new Insets(5, 0, 5, 5);\r\ngbc_lblColumnName2.gridx = 1;\r\ngbc_lblColumnName2.gridy = 0;\r\npanelInfo.add(lblColumnName2, gbc_lblColumnName2);\r\n\r\nJLabel lblColumnName3 = new JLabel(&quot;Number&quot;);\r\nGridBagConstraints gbc_lblColumnName3 = new GridBagConstraints();\r\ngbc_lblColumnName3.insets = new Insets(5, 0, 5, 5);\r\ngbc_lblColumnName3.gridx = 2;\r\ngbc_lblColumnName3.gridy = 0;\r\npanelInfo.add(lblColumnName3, gbc_lblColumnName3);\r\n\r\nJLabel lblColumnName4 = new JLabel(&quot;Credits&quot;);\r\nGridBagConstraints gbc_lblColumnName4 = new GridBagConstraints();\r\ngbc_lblColumnName4.insets = new Insets(5, 0, 5, 5);\r\ngbc_lblColumnName4.gridx = 3;\r\ngbc_lblColumnName4.gridy = 0;\r\npanelInfo.add(lblColumnName4, gbc_lblColumnName4);\r\n\r\nJLabel lblColumnName5 = new JLabel(&quot;Grade&quot;);\r\nGridBagConstraints gbc_lblColumnName5 = new GridBagConstraints();\r\ngbc_lblColumnName5.insets = new Insets(5, 0, 5, 0);\r\ngbc_lblColumnName5.gridx = 4;\r\ngbc_lblColumnName5.gridy = 0;\r\npanelInfo.add(lblColumnName5, gbc_lblColumnName5);\t\t\t\r\n\t\t\r\n\r\n\r\nArrayList&lt;Course&gt; courseList = user.getCourseList();\r\nif(courseList.size() == 0) lblMessage.setText(&quot;Student has never enrolled in any course&quot;);\r\n\r\nint i = 1, x= 0;\r\nDouble total = 0d;\r\nif(courseList.size() &gt; 0) {\r\nfor(; i &lt; courseList.size() + 1; i++) {\r\n\tJLabel lblRowData1 = new JLabel(Integer.toString(i));\r\n\tGridBagConstraints gbc_lblRowData1 = new GridBagConstraints();\r\n\tgbc_lblRowData1.insets = new Insets(0, 0, 5, 5);\r\n\tgbc_lblRowData1.gridx = 0;\r\n\tgbc_lblRowData1.gridy = i;\r\n\tpanelInfo.add(lblRowData1, gbc_lblRowData1);\r\n\t\r\n\tJLabel lblRowData2 = new JLabel(courseList.get(i-1).getName());\r\n\tGridBagConstraints gbc_lblRowData2 = new GridBagConstraints();\r\n\tgbc_lblRowData2.insets = new Insets(0, 0, 5, 5);\r\n\tgbc_lblRowData2.gridx = 1;\r\n\tgbc_lblRowData2.gridy = i;\r\n\tpanelInfo.add(lblRowData2, gbc_lblRowData2);\r\n\t\r\n\tJLabel lblRowData3 = new JLabel(courseList.get(i-1).getNumber());\r\n\tGridBagConstraints gbc_lblRowData3 = new GridBagConstraints();\r\n\tgbc_lblRowData3.insets = new Insets(0, 0, 5, 5);\r\n\tgbc_lblRowData3.gridx = 2;\r\n\tgbc_lblRowData3.gridy = i;\r\n\tpanelInfo.add(lblRowData3, gbc_lblRowData3);\r\n\t\r\n\tJLabel lblRowData4 = new JLabel(Integer.toString(courseList.get(i-1).getCredits()));\r\n\tGridBagConstraints gbc_lblRowData4 = new GridBagConstraints();\r\n\tgbc_lblRowData4.insets = new Insets(0, 0, 5, 5);\r\n\tgbc_lblRowData4.gridx = 3;\r\n\tgbc_lblRowData4.gridy = i;\r\n\tpanelInfo.add(lblRowData4, gbc_lblRowData4);\r\n\t\r\n\tDouble grade = user.getGrades().get(i-1);\r\n\ttotal += grade;\r\n\tx++;\r\n\tJLabel lblRowData5 = new JLabel(String.format(&quot;%.2f&quot;, grade));\r\n\tGridBagConstraints gbc_lblRowData5 = new GridBagConstraints();\r\n\tgbc_lblRowData5.insets = new Insets(0, 0, 5, 0);\r\n\tgbc_lblRowData5.gridx = 4;\r\n\tgbc_lblRowData5.gridy = i;\r\n\tpanelInfo.add(lblRowData5, gbc_lblRowData5);\r\n}\r\n}\r\n\r\nJLabel lblGPA = new JLabel(&quot;GPA: &quot;);\r\nGridBagConstraints gbc_lblGPA = new GridBagConstraints();\r\ngbc_lblGPA.insets = new Insets(0, 0, 5, 5);\r\ngbc_lblGPA.gridx = 3;\r\ngbc_lblGPA.gridy = i+1;\r\npanelInfo.add(lblGPA, gbc_lblGPA);\r\n\r\n\r\nJLabel lblGPAvalue = new JLabel(String.format(&quot;%.2f&quot;, total/x));\r\nGridBagConstraints gbc_lblGPAvalue = new GridBagConstraints();\r\ngbc_lblGPAvalue.insets = new Insets(0, 0, 5, 0);\r\ngbc_lblGPAvalue.gridx = 4;\r\ngbc_lblGPAvalue.gridy = i+1;\r\npanelInfo.add(lblGPAvalue, gbc_lblGPAvalue);\r\nnumOfCoursesDisplayed = x;\r\n```\r\n\r\n\r\n[![][1]][1]\r\n\r\n\r\nI have the exact same code in another class of the same project, over there its fine.\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6M0wD.png\r\n  [2]: https://i.stack.imgur.com/gIYIE.png\r\n\r\n","title":"Why is everything centered in the GridBagLayout?","body":"<p>I am trying to build a table look with the GridBagLayout, but it keeps centering everything.\nI don't know why it is doing this. My insets are set at 5, yet it makes them look huge.</p>\n<p>It started off fine, but somewhere it changed to do this. I cant ctrl + z to go back.</p>\n<p>Here is my code:</p>\n<pre><code>JScrollPane scrollPane = new JScrollPane();\ncontentPane.add(scrollPane, BorderLayout.CENTER);\n\npanelInfo = new JPanel();\nscrollPane.setViewportView(panelInfo);\nGridBagLayout gbl_panelInfo = new GridBagLayout();\ngbl_panelInfo.columnWidths = new int[]{0, 0, 0, 0, 0};\ngbl_panelInfo.rowHeights = new int[] {0, 30, 0};\ngbl_panelInfo.columnWeights = new double[]{1.0, 1.0, 1.0, 1.0, 1.0};\ngbl_panelInfo.rowWeights = new double[]{0.0, 0.0, 0.0};\npanelInfo.setLayout(gbl_panelInfo);\n\nJLabel lblColumnName1 = new JLabel(&quot;No.&quot;);\nGridBagConstraints gbc_lblColumnName1 = new GridBagConstraints();\ngbc_lblColumnName1.insets = new Insets(5, 0, 5, 5);\ngbc_lblColumnName1.gridx = 0;\ngbc_lblColumnName1.gridy = 0;\npanelInfo.add(lblColumnName1, gbc_lblColumnName1);\n\nJLabel lblColumnName2 = new JLabel(&quot;Name&quot;);\nGridBagConstraints gbc_lblColumnName2 = new GridBagConstraints();\ngbc_lblColumnName2.insets = new Insets(5, 0, 5, 5);\ngbc_lblColumnName2.gridx = 1;\ngbc_lblColumnName2.gridy = 0;\npanelInfo.add(lblColumnName2, gbc_lblColumnName2);\n\nJLabel lblColumnName3 = new JLabel(&quot;Number&quot;);\nGridBagConstraints gbc_lblColumnName3 = new GridBagConstraints();\ngbc_lblColumnName3.insets = new Insets(5, 0, 5, 5);\ngbc_lblColumnName3.gridx = 2;\ngbc_lblColumnName3.gridy = 0;\npanelInfo.add(lblColumnName3, gbc_lblColumnName3);\n\nJLabel lblColumnName4 = new JLabel(&quot;Credits&quot;);\nGridBagConstraints gbc_lblColumnName4 = new GridBagConstraints();\ngbc_lblColumnName4.insets = new Insets(5, 0, 5, 5);\ngbc_lblColumnName4.gridx = 3;\ngbc_lblColumnName4.gridy = 0;\npanelInfo.add(lblColumnName4, gbc_lblColumnName4);\n\nJLabel lblColumnName5 = new JLabel(&quot;Grade&quot;);\nGridBagConstraints gbc_lblColumnName5 = new GridBagConstraints();\ngbc_lblColumnName5.insets = new Insets(5, 0, 5, 0);\ngbc_lblColumnName5.gridx = 4;\ngbc_lblColumnName5.gridy = 0;\npanelInfo.add(lblColumnName5, gbc_lblColumnName5);          \n        \n\n\nArrayList&lt;Course&gt; courseList = user.getCourseList();\nif(courseList.size() == 0) lblMessage.setText(&quot;Student has never enrolled in any course&quot;);\n\nint i = 1, x= 0;\nDouble total = 0d;\nif(courseList.size() &gt; 0) {\nfor(; i &lt; courseList.size() + 1; i++) {\n    JLabel lblRowData1 = new JLabel(Integer.toString(i));\n    GridBagConstraints gbc_lblRowData1 = new GridBagConstraints();\n    gbc_lblRowData1.insets = new Insets(0, 0, 5, 5);\n    gbc_lblRowData1.gridx = 0;\n    gbc_lblRowData1.gridy = i;\n    panelInfo.add(lblRowData1, gbc_lblRowData1);\n    \n    JLabel lblRowData2 = new JLabel(courseList.get(i-1).getName());\n    GridBagConstraints gbc_lblRowData2 = new GridBagConstraints();\n    gbc_lblRowData2.insets = new Insets(0, 0, 5, 5);\n    gbc_lblRowData2.gridx = 1;\n    gbc_lblRowData2.gridy = i;\n    panelInfo.add(lblRowData2, gbc_lblRowData2);\n    \n    JLabel lblRowData3 = new JLabel(courseList.get(i-1).getNumber());\n    GridBagConstraints gbc_lblRowData3 = new GridBagConstraints();\n    gbc_lblRowData3.insets = new Insets(0, 0, 5, 5);\n    gbc_lblRowData3.gridx = 2;\n    gbc_lblRowData3.gridy = i;\n    panelInfo.add(lblRowData3, gbc_lblRowData3);\n    \n    JLabel lblRowData4 = new JLabel(Integer.toString(courseList.get(i-1).getCredits()));\n    GridBagConstraints gbc_lblRowData4 = new GridBagConstraints();\n    gbc_lblRowData4.insets = new Insets(0, 0, 5, 5);\n    gbc_lblRowData4.gridx = 3;\n    gbc_lblRowData4.gridy = i;\n    panelInfo.add(lblRowData4, gbc_lblRowData4);\n    \n    Double grade = user.getGrades().get(i-1);\n    total += grade;\n    x++;\n    JLabel lblRowData5 = new JLabel(String.format(&quot;%.2f&quot;, grade));\n    GridBagConstraints gbc_lblRowData5 = new GridBagConstraints();\n    gbc_lblRowData5.insets = new Insets(0, 0, 5, 0);\n    gbc_lblRowData5.gridx = 4;\n    gbc_lblRowData5.gridy = i;\n    panelInfo.add(lblRowData5, gbc_lblRowData5);\n}\n}\n\nJLabel lblGPA = new JLabel(&quot;GPA: &quot;);\nGridBagConstraints gbc_lblGPA = new GridBagConstraints();\ngbc_lblGPA.insets = new Insets(0, 0, 5, 5);\ngbc_lblGPA.gridx = 3;\ngbc_lblGPA.gridy = i+1;\npanelInfo.add(lblGPA, gbc_lblGPA);\n\n\nJLabel lblGPAvalue = new JLabel(String.format(&quot;%.2f&quot;, total/x));\nGridBagConstraints gbc_lblGPAvalue = new GridBagConstraints();\ngbc_lblGPAvalue.insets = new Insets(0, 0, 5, 0);\ngbc_lblGPAvalue.gridx = 4;\ngbc_lblGPAvalue.gridy = i+1;\npanelInfo.add(lblGPAvalue, gbc_lblGPAvalue);\nnumOfCoursesDisplayed = x;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6M0wD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6M0wD.png\" alt=\"\" /></a></p>\n<p>I have the exact same code in another class of the same project, over there its fine.\n<a href=\"https://i.stack.imgur.com/gIYIE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIYIE.png\" alt=\"\" /></a></p>\n"},{"tags":["java","css","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1653313932,"post_id":72348300,"comment_id":127814813,"body_markdown":"They just look like the text is too long for the button. Instead of hard-coding sizes of everything, use a `GridLayout` and configure it so the columns are equal widths (e.g. use `ColumnConstraints` with `percentWidth`) and so the buttons fill the cells. Then the layout mechanism will make sure everything is large enough to hold the text, if at all possible. See https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html","body":"They just look like the text is too long for the button. Instead of hard-coding sizes of everything, use a <code>GridLayout</code> and configure it so the columns are equal widths (e.g. use <code>ColumnConstraints</code> with <code>percentWidth</code>) and so the buttons fill the cells. Then the layout mechanism will make sure everything is large enough to hold the text, if at all possible. See <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/layout-tutorial/index.html</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1653343037,"post_id":72348300,"comment_id":127824631,"body_markdown":"Off topic, but I advise using an external CSS stylesheet for styling rather than placing styles like font size directly in the FXML file.","body":"Off topic, but I advise using an external CSS stylesheet for styling rather than placing styles like font size directly in the FXML file."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1653343238,"post_id":72348300,"comment_id":127824682,"body_markdown":"never-ever hard-code sizing constraints","body":"never-ever hard-code sizing constraints"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653328917,"creation_date":1653328069,"answer_id":72352833,"question_id":72348300,"body_markdown":"I changed the `Paddings` to `-fx-padding: 10 5 10 5;` everything looks fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QmIT0.jpg","title":"Superscripts not showing","body":"<p>I changed the <code>Paddings</code> to <code>-fx-padding: 10 5 10 5;</code> everything looks fine.</p>\n<p><a href=\"https://i.stack.imgur.com/QmIT0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QmIT0.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18287208,"reputation":23,"user_id":13314829,"display_name":"IkhideIfidon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653328917,"creation_date":1653307761,"question_id":72348300,"body_markdown":"I am trying to display some calculator functions using FXML and CSS embedded. My goal is to insert\tthis sign ***&quot;xⁿ&quot;*** and othe calculator&#39;s commom operations symbols. My Calculator app doesnt seem to display it after applying the CSS below.\r\n\r\n***CSS***\r\n```\r\n.root {\r\n     -fx-background-image: url(&quot;background.jpg&quot;);\r\n}\r\n\r\n*.button {\r\n    -fx-background-color:\r\n        #090a0c,\r\n        linear-gradient(#38424b 0%, #1f2429 20%, #191d22 100%),\r\n        linear-gradient(#20262b, #191d22),\r\n        radial-gradient(center 50% 0%, radius 100%, rgba(114,131,148,0.9), rgba(255,255,255,0));\r\n    -fx-background-radius: 32;\r\n    -fx-background-insets: 0,1,2,3,0;\r\n    -fx-text-fill: white;\r\n    -fx-effect: dropshadow( three-pass-box , rgba(0,0,0,0.6) , 5, 0.0 , 0 , 1 );\r\n    -fx-font-family: &quot;Arial&quot;;\r\n    -fx-text-fill: linear-gradient(white, #1fd0d0d0);\r\n    -fx-font-size: 17px;\r\n    -fx-padding: 10 20 10 20;\r\n}\r\n\r\n.button:hover {\r\n    -fx-background-color: linear-gradient(#2A5058, #61a2b1);\r\n}\r\n```\r\n\r\n***FXML***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;420.0&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ikhideifidon.calculator.MainController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n    &lt;/padding&gt;\r\n   &lt;StackPane prefHeight=&quot;50.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Label fx:id=&quot;result&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;271.0&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Label&gt;\r\n      &lt;/children&gt;&lt;/StackPane&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;C&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;&#177;&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;﹪&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;&#247;&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;#xb2&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;16.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;sin&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;/children&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;7&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;8&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;9&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;&#215;&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;In&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;cos&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;/children&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;4&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;5&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;6&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;-&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;x&#178;&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;tan&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;/children&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;1&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;2&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;3&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;+&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;√x&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;mod&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;/children&gt;\r\n   &lt;/HBox&gt;\r\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\r\n      &lt;children&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;120.0&quot; text=&quot;0&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;.&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;=&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;xⁿ&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;x!&quot;&gt;\r\n            &lt;font&gt;\r\n               &lt;Font size=&quot;18.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;/children&gt;\r\n   &lt;/HBox&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\n***The Calculator App***\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UFbFH.png\r\n\r\nPlease how can I go about this?\r\nNOTE: I have tried to adjust the size of the fonts.","title":"Superscripts not showing","body":"<p>I am trying to display some calculator functions using FXML and CSS embedded. My goal is to insert  this sign <em><strong>&quot;xⁿ&quot;</strong></em> and othe calculator's commom operations symbols. My Calculator app doesnt seem to display it after applying the CSS below.</p>\n<p><em><strong>CSS</strong></em></p>\n<pre><code>.root {\n     -fx-background-image: url(&quot;background.jpg&quot;);\n}\n\n*.button {\n    -fx-background-color:\n        #090a0c,\n        linear-gradient(#38424b 0%, #1f2429 20%, #191d22 100%),\n        linear-gradient(#20262b, #191d22),\n        radial-gradient(center 50% 0%, radius 100%, rgba(114,131,148,0.9), rgba(255,255,255,0));\n    -fx-background-radius: 32;\n    -fx-background-insets: 0,1,2,3,0;\n    -fx-text-fill: white;\n    -fx-effect: dropshadow( three-pass-box , rgba(0,0,0,0.6) , 5, 0.0 , 0 , 1 );\n    -fx-font-family: &quot;Arial&quot;;\n    -fx-text-fill: linear-gradient(white, #1fd0d0d0);\n    -fx-font-size: 17px;\n    -fx-padding: 10 20 10 20;\n}\n\n.button:hover {\n    -fx-background-color: linear-gradient(#2A5058, #61a2b1);\n}\n</code></pre>\n<p><em><strong>FXML</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;420.0&quot; spacing=&quot;10.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ikhideifidon.calculator.MainController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;StackPane prefHeight=&quot;50.0&quot; prefWidth=&quot;200.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Label fx:id=&quot;result&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;271.0&quot;&gt;\n            &lt;font&gt;\n               &lt;Font name=&quot;System Bold&quot; size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Label&gt;\n      &lt;/children&gt;&lt;/StackPane&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;C&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;±&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;﹪&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;÷&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;#xb2&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;16.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;sin&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;/children&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;7&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;8&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;9&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;×&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;In&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;cos&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;/children&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;4&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;5&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;60.0&quot; text=&quot;6&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;-&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;x²&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;tan&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;/children&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;1&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;2&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefWidth=&quot;70.0&quot; text=&quot;3&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;+&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;√x&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;70.0&quot; text=&quot;mod&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;/children&gt;\n   &lt;/HBox&gt;\n   &lt;HBox alignment=&quot;CENTER&quot; prefHeight=&quot;50.0&quot; prefWidth=&quot;300.0&quot; spacing=&quot;10.0&quot;&gt;\n      &lt;children&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processNumbers&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;120.0&quot; text=&quot;0&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;.&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;=&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;xⁿ&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n         &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#processOperators&quot; prefWidth=&quot;60.0&quot; text=&quot;x!&quot;&gt;\n            &lt;font&gt;\n               &lt;Font size=&quot;18.0&quot; /&gt;\n            &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;/children&gt;\n   &lt;/HBox&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p><em><strong>The Calculator App</strong></em>\n<a href=\"https://i.stack.imgur.com/UFbFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UFbFH.png\" alt=\"enter image description here\" /></a></p>\n<p>Please how can I go about this?\nNOTE: I have tried to adjust the size of the fonts.</p>\n"},{"tags":["java","spring","date","timezone","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":2,"creation_date":1587027896,"post_id":61246144,"comment_id":108349246,"body_markdown":"`java.time.LocalDate` can be used with `DATE` data type from H2 safely with any time zone, they both don&#39;t depend on it. But if libraries used by your application use legacy `java.sql.Date` internally, they may be affected by different bugs of pre-Java 8 datetime classes; many persistence libraries do weird conversions to / from legacy classes even when database has native support for modern JSR-310 classes. These bugs, however, usually don&#39;t affect the UTC time zone. You need to add more details to your question.","body":"<code>java.time.LocalDate</code> can be used with <code>DATE</code> data type from H2 safely with any time zone, they both don&#39;t depend on it. But if libraries used by your application use legacy <code>java.sql.Date</code> internally, they may be affected by different bugs of pre-Java 8 datetime classes; many persistence libraries do weird conversions to / from legacy classes even when database has native support for modern JSR-310 classes. These bugs, however, usually don&#39;t affect the UTC time zone. You need to add more details to your question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1587078045,"post_id":61246144,"comment_id":108375710,"body_markdown":"See: [*Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2*](https://stackoverflow.com/q/43039614/642706)","body":"See: <a href=\"https://stackoverflow.com/q/43039614/642706\"><i>Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587076661,"creation_date":1587073120,"answer_id":61260451,"question_id":61246144,"body_markdown":"# Cannot reproduce your test failure\r\n\r\nYour code:\r\n\r\n    LocalDate.parse( &quot;1900-01-01&quot; )\r\n\r\n…works as documented, producing a value of January 1, 1900. \r\n\r\n\tLocalDate ld = LocalDate.parse(&quot;1900-01-01&quot;) ;\r\n\tSystem.out.println( ld ) ;\r\n\r\nSee that [code run live at IdeOne.com][1].\r\n\r\n&gt;1900-01-01\r\n\r\n➥ There must be more to your code than you showed us.\r\n\r\n## Example app using H2\r\n\r\nYou said:\r\n\r\n&gt;I guess the change is made during the saving-action at the H2 database.\r\n\r\nLet&#39;s try it. Here is an entire example app using H2 version 1.4.200. Ran from IntelliJ 2020.1 on macOS Mojave with Java 14. \r\n\r\nWe have a table `event_` with an `id_` column of type UUID, and a column `when_` of type `LocalDate`. We write a single value for a value of 1900-01-01. \r\n\r\nAs you can see if you run this code, we get back a `LocalDate` object for which the method `toString` returns `1900-01-01`.\r\n\r\n\r\n\r\n    package work.basil.example;\r\n    \r\n    import org.h2.jdbcx.JdbcDataSource;\r\n    \r\n    import java.sql.*;\r\n    import java.time.LocalDate;\r\n    import java.util.Objects;\r\n    import java.util.UUID;\r\n    \r\n    public class H2Example\r\n    {\r\n        public static void main ( String[] args )\r\n        {\r\n            H2Example app = new H2Example();\r\n            app.doIt();\r\n        }\r\n    \r\n        private void doIt ( )\r\n        {\r\n            JdbcDataSource dataSource = Objects.requireNonNull( new JdbcDataSource() );  // Implementation of `DataSource` bundled with H2.\r\n            dataSource.setURL( &quot;jdbc:h2:mem:localdate_example_db;DB_CLOSE_DELAY=-1&quot; ); // Set `DB_CLOSE_DELAY` to `-1` to keep in-memory database in existence after connection closes.\r\n            dataSource.setUser( &quot;scott&quot; );\r\n            dataSource.setPassword( &quot;tiger&quot; );\r\n    \r\n            String sql = null;\r\n    \r\n            try (\r\n                    Connection conn = dataSource.getConnection() ;\r\n            )\r\n            {\r\n                String tableName = &quot;event_&quot;;\r\n                sql = &quot;CREATE TABLE &quot; + tableName + &quot; (\\n&quot; +\r\n                        &quot;  id_ UUID DEFAULT random_uuid() PRIMARY KEY ,\\n&quot; +\r\n                        &quot;  when_ DATE NOT NULL\\n&quot; +\r\n                        &quot;);&quot;;\r\n                try ( Statement stmt = conn.createStatement() ; )\r\n                {\r\n                    stmt.execute( sql );\r\n                }\r\n    \r\n                // Insert row.\r\n                sql = &quot;INSERT INTO event_ ( when_ ) &quot; + &quot;VALUES ( ? ) ;&quot;;\r\n                try (\r\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql ) ;\r\n                )\r\n                {\r\n                    LocalDate localDate = LocalDate.parse( &quot;1900-01-01&quot; );\r\n                    preparedStatement.setObject( 1 , localDate );  // Yesterday.\r\n                    preparedStatement.executeUpdate();\r\n                }\r\n    \r\n                // Query all.\r\n                sql = &quot;SELECT * FROM event_ ;&quot;;\r\n                try (\r\n                        Statement stmt = conn.createStatement() ;\r\n                        ResultSet rs = stmt.executeQuery( sql ) ;\r\n                )\r\n                {\r\n                    while ( rs.next() )\r\n                    {\r\n                        //Retrieve by column name\r\n                        UUID id = rs.getObject( &quot;id_&quot; , UUID.class );  // Pass the class to be type-safe, rather than casting returned value.\r\n                        LocalDate localDate = rs.getObject( &quot;when_&quot; , LocalDate.class );  // Ditto, pass class for type-safety.\r\n    \r\n                        //Display values\r\n                        System.out.println( &quot;id_: &quot; + id + &quot; | when_: &quot; + localDate );\r\n                    }\r\n                }\r\n            }\r\n            catch ( SQLException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhen that example app runs:\r\n\r\n&gt;id_: 949830e0-77c8-49a3-8804-0972ff70ca2c | when_: 1900-01-01\r\n\r\n\r\n\r\n----------\r\n\r\n# Do not rely on default time zone\r\n\r\nYour code:\r\n\r\n&gt;TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n…is quite risky at deployment. Setting the time zone immediately affects all code in all threads of all apps running within that JVM. You could be pulling out the carpet from beneath the feet of other apps, or ever other parts of your own app.\r\n\r\n➥ Better to never rely on the JVM’s current default time zone. \r\n\r\nTo capture the current moment as seen in UTC, simply call `Instant.now`. An `Instant` represents a moment in UTC with a resolution of nanoseconds. This class replaces `java.util.Date`. \r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC.\r\n\r\nFor database work, use the more flexible class `OffsetDateTime`. The JDBC 4.2 specification inexplicably requires support for `OffsetDateTime` but not the more commonly used `Instant` and `ZonedDateTime`.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;  // Capture the current moment in UTC.\r\n\r\nWrite that to the database.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\nWhen recording a moment (a specific point on the timeline) such as that represented by `OffsetDateTime`, your column in the database must be of a data type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE` (*not* `WITHOUT`). In H2, the data type to use has that very name, [`TIMESTAMP WITH TIME ZONE `](https://h2database.com/html/datatypes.html#timestamp_with_time_zone_type).\r\n\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][2]][2]\r\n\r\n\r\n  [1]: https://ideone.com/SzzeJ2\r\n  [2]: https://i.stack.imgur.com/8KGCO.png","title":"How to prevent date change using H2 for a JUnit-Test?","body":"<h1>Cannot reproduce your test failure</h1>\n\n<p>Your code:</p>\n\n<pre><code>LocalDate.parse( \"1900-01-01\" )\n</code></pre>\n\n<p>…works as documented, producing a value of January 1, 1900. </p>\n\n<pre><code>LocalDate ld = LocalDate.parse(\"1900-01-01\") ;\nSystem.out.println( ld ) ;\n</code></pre>\n\n<p>See that <a href=\"https://ideone.com/SzzeJ2\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>1900-01-01</p>\n</blockquote>\n\n<p>➥ There must be more to your code than you showed us.</p>\n\n<h2>Example app using H2</h2>\n\n<p>You said:</p>\n\n<blockquote>\n  <p>I guess the change is made during the saving-action at the H2 database.</p>\n</blockquote>\n\n<p>Let's try it. Here is an entire example app using H2 version 1.4.200. Ran from IntelliJ 2020.1 on macOS Mojave with Java 14. </p>\n\n<p>We have a table <code>event_</code> with an <code>id_</code> column of type UUID, and a column <code>when_</code> of type <code>LocalDate</code>. We write a single value for a value of 1900-01-01. </p>\n\n<p>As you can see if you run this code, we get back a <code>LocalDate</code> object for which the method <code>toString</code> returns <code>1900-01-01</code>.</p>\n\n<pre><code>package work.basil.example;\n\nimport org.h2.jdbcx.JdbcDataSource;\n\nimport java.sql.*;\nimport java.time.LocalDate;\nimport java.util.Objects;\nimport java.util.UUID;\n\npublic class H2Example\n{\n    public static void main ( String[] args )\n    {\n        H2Example app = new H2Example();\n        app.doIt();\n    }\n\n    private void doIt ( )\n    {\n        JdbcDataSource dataSource = Objects.requireNonNull( new JdbcDataSource() );  // Implementation of `DataSource` bundled with H2.\n        dataSource.setURL( \"jdbc:h2:mem:localdate_example_db;DB_CLOSE_DELAY=-1\" ); // Set `DB_CLOSE_DELAY` to `-1` to keep in-memory database in existence after connection closes.\n        dataSource.setUser( \"scott\" );\n        dataSource.setPassword( \"tiger\" );\n\n        String sql = null;\n\n        try (\n                Connection conn = dataSource.getConnection() ;\n        )\n        {\n            String tableName = \"event_\";\n            sql = \"CREATE TABLE \" + tableName + \" (\\n\" +\n                    \"  id_ UUID DEFAULT random_uuid() PRIMARY KEY ,\\n\" +\n                    \"  when_ DATE NOT NULL\\n\" +\n                    \");\";\n            try ( Statement stmt = conn.createStatement() ; )\n            {\n                stmt.execute( sql );\n            }\n\n            // Insert row.\n            sql = \"INSERT INTO event_ ( when_ ) \" + \"VALUES ( ? ) ;\";\n            try (\n                    PreparedStatement preparedStatement = conn.prepareStatement( sql ) ;\n            )\n            {\n                LocalDate localDate = LocalDate.parse( \"1900-01-01\" );\n                preparedStatement.setObject( 1 , localDate );  // Yesterday.\n                preparedStatement.executeUpdate();\n            }\n\n            // Query all.\n            sql = \"SELECT * FROM event_ ;\";\n            try (\n                    Statement stmt = conn.createStatement() ;\n                    ResultSet rs = stmt.executeQuery( sql ) ;\n            )\n            {\n                while ( rs.next() )\n                {\n                    //Retrieve by column name\n                    UUID id = rs.getObject( \"id_\" , UUID.class );  // Pass the class to be type-safe, rather than casting returned value.\n                    LocalDate localDate = rs.getObject( \"when_\" , LocalDate.class );  // Ditto, pass class for type-safety.\n\n                    //Display values\n                    System.out.println( \"id_: \" + id + \" | when_: \" + localDate );\n                }\n            }\n        }\n        catch ( SQLException e )\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When that example app runs:</p>\n\n<blockquote>\n  <p>id_: 949830e0-77c8-49a3-8804-0972ff70ca2c | when_: 1900-01-01</p>\n</blockquote>\n\n<hr>\n\n<h1>Do not rely on default time zone</h1>\n\n<p>Your code:</p>\n\n<blockquote>\n  <p>TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));</p>\n</blockquote>\n\n<p>…is quite risky at deployment. Setting the time zone immediately affects all code in all threads of all apps running within that JVM. You could be pulling out the carpet from beneath the feet of other apps, or ever other parts of your own app.</p>\n\n<p>➥ Better to never rely on the JVM’s current default time zone. </p>\n\n<p>To capture the current moment as seen in UTC, simply call <code>Instant.now</code>. An <code>Instant</code> represents a moment in UTC with a resolution of nanoseconds. This class replaces <code>java.util.Date</code>. </p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC.\n</code></pre>\n\n<p>For database work, use the more flexible class <code>OffsetDateTime</code>. The JDBC 4.2 specification inexplicably requires support for <code>OffsetDateTime</code> but not the more commonly used <code>Instant</code> and <code>ZonedDateTime</code>.</p>\n\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;  // Capture the current moment in UTC.\n</code></pre>\n\n<p>Write that to the database.</p>\n\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n\n<p>Retrieval.</p>\n\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n\n<p>When recording a moment (a specific point on the timeline) such as that represented by <code>OffsetDateTime</code>, your column in the database must be of a data type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> (<em>not</em> <code>WITHOUT</code>). In H2, the data type to use has that very name, <a href=\"https://h2database.com/html/datatypes.html#timestamp_with_time_zone_type\" rel=\"nofollow noreferrer\"><code>TIMESTAMP WITH TIME ZONE</code></a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8KGCO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8KGCO.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n"},{"tags":[],"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653328830,"creation_date":1653328830,"answer_id":72352965,"question_id":61246144,"body_markdown":"Short answer: I had a similar Problem and **removing TimeZone.setDefault()** from some @PostConstruct-method **solved it**.\r\n\r\nBut there is a lot more to say.\r\n\r\n**Configuration**\r\n\r\n&gt; a JUnit-Test using H2\r\n\r\nI guess your production environment is not H2 so my first recommendation is to use one of the available compatibility modes:\r\n\r\n[H2 Features: Compatibility ][1]\r\n\r\nSome modes make assumptions about the appropriate Date type. The Oracle Compatibility Mode for example treats the DATE data type like TIMESTAMP(0) data type.\r\n\r\nOther possible solutions:\r\n\r\n - You could try the Hibernate property hibernate.jdbc.time_zone.\r\n - Some database drivers allow to set the time zone as part of the JDBC-Url.\r\n\r\n**Logging**\r\n\r\n&gt; LocalDate does not care about timezone, so I guess the change is made during the saving-action at the H2 database.\r\n\r\nYour test needs to read the value from the database to be able to compare it to the expected value. Therefore you can not be sure that the conversion is within the saving-action, it could also be the reading as suggested in this [article by Mart&#237;n Lamas][2].\r\n\r\nAnd it doesn&#39;t has to be the H2 code that is causing the trouble. At least You will use some jdbc driver and if you are using JPA there also is the JPA-Provider.\r\n\r\nSo my second recommendation is to log helpful information. You might want to use [Trace Options][3] and take inspirations from the [Logging Guide for Hibernate][4] by Thorben Janssen.\r\n\r\nIf you enable H2 Trace Option and Hibernate Tracing You might see something like the following lines in Your logs when saving some LocalDate:\r\n\r\nHibernate log:\r\n\r\n&gt; ... BasicBinder:64 - binding parameter [...] as [DATE] - [...]\r\n\r\nH2 log:\r\n\r\n&gt; /**/prep6.setDate(..., Date.valueOf(&quot;...&quot;));\r\n\r\nIf You read some Date columns the log might contain something like the following lines.\r\n\r\nH2 log:\r\n\r\n&gt; /**/rs65.getDate(&quot;...&quot;);\r\n\r\nHibernate log:\r\n\r\n&gt; ... BasicExtractor:60 - extracted value ([...] : [DATE]) - [...]\r\n\r\n\r\n**Debugging**\r\n\r\nIn the previous example the H2 code is using java.sql.Date.valueOf() during the save-action and org.h2.jdbc.JdbcResultSet.getDate() while reading.\r\n\r\nMy third recommendation is that You put breakpoints in these methods and debug what is happening. I expect You to find out that  org.h2.util.LegacyDateTimeUtils.toDate() is used whith no given time zone and some cached TimeZoneProvider will use ZoneId.systemDefault() to get the local time zone.\r\n\r\nSo there is some legacy code in place, even if You use modern data types such as LocalDate. TimeZone.setDefault(...) will have effects on this code.\r\n\r\n**Solution**\r\n\r\nSetting the default TimeZone programmatically is an option, but it can make things worse.\r\n\r\nLet&#39;s say that You develop and test Your code on some Window system in the TimeZone Europe/Berlin and everything looks fine. If You run the same tests as part of a test-pipeline in some docker container, there is a good chance that default TimeZone will be UTC as this is the setting in most linux base images. If you still want to use Europe/Berlin, You need to set it early enough to reduce any side effects. The earliest possible point I know of is the   -Duser.timezone System Property (see [Time Zone Settings in the JRE][5]).\r\n\r\nSo here is my final recommendation: Prefer -Duser.timezone System Property over   TimeZone.setDefault().\r\n\r\n\r\n  [1]: http://www.h2database.com/html/features.html#compatibility\r\n  [2]: https://medium.com/trabe/using-hibernate-to-persist-dates-in-different-time-zones-449721b28841\r\n  [3]: http://www.h2database.com/html/features.html#trace_options\r\n  [4]: https://thorben-janssen.com/hibernate-logging-guide/\r\n  [5]: https://docs.oracle.com/javase/9/troubleshoot/time-zone-settings-jre.htm#JSTGD377","title":"How to prevent date change using H2 for a JUnit-Test?","body":"<p>Short answer: I had a similar Problem and <strong>removing TimeZone.setDefault()</strong> from some @PostConstruct-method <strong>solved it</strong>.</p>\n<p>But there is a lot more to say.</p>\n<p><strong>Configuration</strong></p>\n<blockquote>\n<p>a JUnit-Test using H2</p>\n</blockquote>\n<p>I guess your production environment is not H2 so my first recommendation is to use one of the available compatibility modes:</p>\n<p><a href=\"http://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">H2 Features: Compatibility </a></p>\n<p>Some modes make assumptions about the appropriate Date type. The Oracle Compatibility Mode for example treats the DATE data type like TIMESTAMP(0) data type.</p>\n<p>Other possible solutions:</p>\n<ul>\n<li>You could try the Hibernate property hibernate.jdbc.time_zone.</li>\n<li>Some database drivers allow to set the time zone as part of the JDBC-Url.</li>\n</ul>\n<p><strong>Logging</strong></p>\n<blockquote>\n<p>LocalDate does not care about timezone, so I guess the change is made during the saving-action at the H2 database.</p>\n</blockquote>\n<p>Your test needs to read the value from the database to be able to compare it to the expected value. Therefore you can not be sure that the conversion is within the saving-action, it could also be the reading as suggested in this <a href=\"https://medium.com/trabe/using-hibernate-to-persist-dates-in-different-time-zones-449721b28841\" rel=\"nofollow noreferrer\">article by Martín Lamas</a>.</p>\n<p>And it doesn't has to be the H2 code that is causing the trouble. At least You will use some jdbc driver and if you are using JPA there also is the JPA-Provider.</p>\n<p>So my second recommendation is to log helpful information. You might want to use <a href=\"http://www.h2database.com/html/features.html#trace_options\" rel=\"nofollow noreferrer\">Trace Options</a> and take inspirations from the <a href=\"https://thorben-janssen.com/hibernate-logging-guide/\" rel=\"nofollow noreferrer\">Logging Guide for Hibernate</a> by Thorben Janssen.</p>\n<p>If you enable H2 Trace Option and Hibernate Tracing You might see something like the following lines in Your logs when saving some LocalDate:</p>\n<p>Hibernate log:</p>\n<blockquote>\n<p>... BasicBinder:64 - binding parameter [...] as [DATE] - [...]</p>\n</blockquote>\n<p>H2 log:</p>\n<blockquote>\n<p>/**/prep6.setDate(..., Date.valueOf(&quot;...&quot;));</p>\n</blockquote>\n<p>If You read some Date columns the log might contain something like the following lines.</p>\n<p>H2 log:</p>\n<blockquote>\n<p>/**/rs65.getDate(&quot;...&quot;);</p>\n</blockquote>\n<p>Hibernate log:</p>\n<blockquote>\n<p>... BasicExtractor:60 - extracted value ([...] : [DATE]) - [...]</p>\n</blockquote>\n<p><strong>Debugging</strong></p>\n<p>In the previous example the H2 code is using java.sql.Date.valueOf() during the save-action and org.h2.jdbc.JdbcResultSet.getDate() while reading.</p>\n<p>My third recommendation is that You put breakpoints in these methods and debug what is happening. I expect You to find out that  org.h2.util.LegacyDateTimeUtils.toDate() is used whith no given time zone and some cached TimeZoneProvider will use ZoneId.systemDefault() to get the local time zone.</p>\n<p>So there is some legacy code in place, even if You use modern data types such as LocalDate. TimeZone.setDefault(...) will have effects on this code.</p>\n<p><strong>Solution</strong></p>\n<p>Setting the default TimeZone programmatically is an option, but it can make things worse.</p>\n<p>Let's say that You develop and test Your code on some Window system in the TimeZone Europe/Berlin and everything looks fine. If You run the same tests as part of a test-pipeline in some docker container, there is a good chance that default TimeZone will be UTC as this is the setting in most linux base images. If you still want to use Europe/Berlin, You need to set it early enough to reduce any side effects. The earliest possible point I know of is the   -Duser.timezone System Property (see <a href=\"https://docs.oracle.com/javase/9/troubleshoot/time-zone-settings-jre.htm#JSTGD377\" rel=\"nofollow noreferrer\">Time Zone Settings in the JRE</a>).</p>\n<p>So here is my final recommendation: Prefer -Duser.timezone System Property over   TimeZone.setDefault().</p>\n"}],"owner":{"account_id":12727305,"reputation":549,"user_id":13293862,"display_name":"quizmaster987"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3759,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1653328830,"creation_date":1587026767,"question_id":61246144,"body_markdown":"For a JUnit-Test using H2 I am saving an entity with a LocalDate property and the value ```LocalDate.parse(&quot;1900-01-01&quot;)```. The test fails with\r\n\r\n```\r\n    Expected: is &lt;1900-01-01&gt;\r\n    but: was &lt;1899-12-31&gt;\r\n```\r\nLocalDate does not care about timezone, so I guess the change is made during the saving-action at the H2 database.\r\n\r\nI already tried to set the timezone ```UTC```, since that should be the timezone for the H2 and then the H2 should not interpret the date it is handed over as having another timezone that has to be converted to UTC. But that did not seem to help.\r\n\r\n```    \r\n    public static void main(final String[] args) {\r\n        TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        SpringApplication.run(BackendApplication.class, args);\r\n    }\r\n```\r\n\r\nThanks in advance for suggestions and ideas","title":"How to prevent date change using H2 for a JUnit-Test?","body":"<p>For a JUnit-Test using H2 I am saving an entity with a LocalDate property and the value <code>LocalDate.parse(\"1900-01-01\")</code>. The test fails with</p>\n\n<pre><code>    Expected: is &lt;1900-01-01&gt;\n    but: was &lt;1899-12-31&gt;\n</code></pre>\n\n<p>LocalDate does not care about timezone, so I guess the change is made during the saving-action at the H2 database.</p>\n\n<p>I already tried to set the timezone <code>UTC</code>, since that should be the timezone for the H2 and then the H2 should not interpret the date it is handed over as having another timezone that has to be converted to UTC. But that did not seem to help.</p>\n\n<pre><code>    public static void main(final String[] args) {\n        TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n        SpringApplication.run(BackendApplication.class, args);\n    }\n</code></pre>\n\n<p>Thanks in advance for suggestions and ideas</p>\n"},{"tags":["java","spring-boot","docker","maven","docker-compose"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653311144,"post_id":72348615,"comment_id":127813534,"body_markdown":"The problem is you are passing `JAVA_TOOL_OPTIONS`. Which will be used by Maven **and** Spring Boot. Maven will run with those options as well, opening the port for debugging Maven. Then a new proces will start Spring Boot in a forked JVM which will also pick up these settings and try to attach again. What you should do is pass properties in your ENTRYPOINT and specify `-Drun.jvmArguments=&lt;remote-debug-here&gt;` for the Spring Boot thing to work (and make sure maven doesn&#39;t detect those settings as well).","body":"The problem is you are passing <code>JAVA_TOOL_OPTIONS</code>. Which will be used by Maven <b>and</b> Spring Boot. Maven will run with those options as well, opening the port for debugging Maven. Then a new proces will start Spring Boot in a forked JVM which will also pick up these settings and try to attach again. What you should do is pass properties in your ENTRYPOINT and specify <code>-Drun.jvmArguments=&lt;remote-debug-here&gt;</code> for the Spring Boot thing to work (and make sure maven doesn&#39;t detect those settings as well)."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1653311282,"post_id":72348615,"comment_id":127813605,"body_markdown":"If I add the following into `Dockerfile`,  the `agentlib` statement seems not to be detected at all: `ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Drun.jvmArguments=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;]`","body":"If I add the following into <code>Dockerfile</code>,  the <code>agentlib</code> statement seems not to be detected at all: <code>ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Drun.jvmArguments=-agentlib:jdwp=transport=dt_socket,serve&zwnj;&#8203;r=y,suspend=n,addres&zwnj;&#8203;s=*:5005&quot;]</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653311381,"post_id":72348615,"comment_id":127813649,"body_markdown":"Apparently you should use `spring-boot.run.jvmArguments` and you have to take care of the quotes as well.","body":"Apparently you should use <code>spring-boot.run.jvmArguments</code> and you have to take care of the quotes as well."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1653311534,"post_id":72348615,"comment_id":127813708,"body_markdown":"What do you mean by *quotes*? The following also does not succeed: `ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.jvmArguments=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;]`","body":"What do you mean by <i>quotes</i>? The following also does not succeed: <code>ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.jvmArguments=-agentlib:jdwp=transport=dt_&zwnj;&#8203;socket,server=y,susp&zwnj;&#8203;end=n,address=*:5005&zwnj;&#8203;&quot;]</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653312115,"post_id":72348615,"comment_id":127813995,"body_markdown":"See https://docs.spring.io/spring-boot/docs/2.7.0/maven-plugin/reference/htmlsingle/#run.examples.debug... The jvmarguments need to be in quotes as well, so you probably need some `\\&quot;` in the string.","body":"See <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/maven-plugin/reference/htmlsingle/#run.examples.debug\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.7.0/maven-plugin/reference&zwnj;&#8203;/&hellip;</a>... The jvmarguments need to be in quotes as well, so you probably need some <code>\\&quot;</code> in the string."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1653312230,"post_id":72348615,"comment_id":127814056,"body_markdown":"Unfortunately `ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.jvmArguments=\\&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\\&quot;&quot;]` does not make a difference","body":"Unfortunately <code>ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;, &quot;-Dspring-boot.run.jvmArguments=\\&quot;-agentlib:jdwp=transport=d&zwnj;&#8203;t_socket,server=y,su&zwnj;&#8203;spend=n,address=*:50&zwnj;&#8203;05\\&quot;&quot;]</code> does not make a difference"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653312284,"post_id":72348615,"comment_id":127814079,"body_markdown":"Doesn&#39;t make a difference in what way? You also need to ditch the `JAVA_TOOL_OPTIONS` else you still have the same issue (as mentioned in my initial comment).","body":"Doesn&#39;t make a difference in what way? You also need to ditch the <code>JAVA_TOOL_OPTIONS</code> else you still have the same issue (as mentioned in my initial comment)."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1653312637,"post_id":72348615,"comment_id":127814232,"body_markdown":"Yes I remove the `JAVA_TOOL_OPTIONS` completely. Sorry, with no difference I mean I can start the app, but the `agentlib` does not seem to be recognized. The logs are missing any agentlib infos, and 5005 is therefore missing inside the container.","body":"Yes I remove the <code>JAVA_TOOL_OPTIONS</code> completely. Sorry, with no difference I mean I can start the app, but the <code>agentlib</code> does not seem to be recognized. The logs are missing any agentlib infos, and 5005 is therefore missing inside the container."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1653315424,"post_id":72348615,"comment_id":127815461,"body_markdown":"Excuse, docker-compose was using some cached layer for the startup. Rebuilding the app with clean cache works as expected. Would you mind adding it as answer that the agentlib statement has to be placed into the `ENTRYPOINT`?","body":"Excuse, docker-compose was using some cached layer for the startup. Rebuilding the app with clean cache works as expected. Would you mind adding it as answer that the agentlib statement has to be placed into the <code>ENTRYPOINT</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653328096,"creation_date":1653328096,"answer_id":72352837,"question_id":72348615,"body_markdown":"The problem with your solution is that there are 2 debug sessions being started. 1 for the maven command and 1 for the forked JVM voor Spring Boot. Hence the error and changing the port won&#39;t solve this as the problem will remain. \r\n\r\nWhat you need to do is remove the `JAVA_TOOL_OPTIONS` from your docker compose file and instead add the following to your entry point \r\n\r\n```\r\n-Dspring-boot.run.jvmArguments=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n```\r\n\r\nThat way it will only apply to the Spring Boot plugin and will be taken into account when launching the app in a new JVM. ","title":"How to debug a JDK docker container in intellij idea?","body":"<p>The problem with your solution is that there are 2 debug sessions being started. 1 for the maven command and 1 for the forked JVM voor Spring Boot. Hence the error and changing the port won't solve this as the problem will remain.</p>\n<p>What you need to do is remove the <code>JAVA_TOOL_OPTIONS</code> from your docker compose file and instead add the following to your entry point</p>\n<pre><code>-Dspring-boot.run.jvmArguments=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n<p>That way it will only apply to the Spring Boot plugin and will be taken into account when launching the app in a new JVM.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1172,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72352837,"answer_count":1,"score":3,"last_activity_date":1653328096,"creation_date":1653309352,"question_id":72348615,"body_markdown":"I want to start up a docker container with debug options as follows, but the startup won&#39;t work:\r\n\r\n\r\n`Dockerfile`:\r\n\r\n    # syntax=docker/dockerfile:1\r\n    FROM maven:3-eclipse-temurin-11 as dependencies\r\n    WORKDIR /opt/app\r\n    COPY .dockerdev/settings.xml .\r\n    COPY pom.xml .\r\n    COPY src src\r\n    ENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;]\r\n\r\n\r\n`docker-compose.yml`:\r\n\r\n    version: &#39;3.7&#39;\r\n    services:\r\n      app:\r\n        environment:\r\n          - &quot;JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\r\n        ports:\r\n          - 8080:8080\r\n          - 5005:5005\r\n          \r\nResult:\r\n\r\n    docker-compose up\r\n    Recreating my_app ... done\r\n    Attaching to my_app\r\n    app_1  | Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n    app_1  | Listening for transport dt_socket at address: 5005\r\n    app_1  | [INFO] Scanning for projects...\r\n    app_1  | [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ my_app ---\r\n    app_1  | [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    app_1  | [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    app_1  | [INFO] Copying 3 resources\r\n    app_1  | [INFO] Copying 3 resources\r\n    app_1  | [INFO] \r\n    app_1  | [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ my_app ---\r\n    app_1  | [INFO] Changes detected - recompiling the module!\r\n    app_1  | [INFO] \r\n    app_1  | [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ my_app ---\r\n    app_1  | [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    app_1  | [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    app_1  | [INFO] Copying 3 resources\r\n    app_1  | [INFO] \r\n    app_1  | [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ my_app ---\r\n    app_1  | [INFO] Changes detected - recompiling the module!\r\n    app_1  | [INFO] Compiling 5 source files to /opt/app/target/test-classes\r\n    app_1  | [INFO] \r\n    app_1  | [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.7:run (default-cli) &lt; test-compile @ my_app &lt;&lt;&lt;\r\n    app_1  | [INFO] \r\n    app_1  | [INFO] \r\n    app_1  | [INFO] --- spring-boot-maven-plugin:2.6.7:run (default-cli) @ my_app ---\r\n    app_1  | [INFO] Attaching agents: []\r\n    app_1  | Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n    app_1  | ERROR: transport error 202: bind failed: Address already in use\r\n    app_1  | ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\n    app_1  | JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [./src/jdk.jdwp.agent/share/native/libjdwp/debugInit.c:735]\r\n    app_1  | [INFO] ------------------------------------------------------------------------\r\n    app_1  | [INFO] BUILD FAILURE\r\n    app_1  | [INFO] ------------------------------------------------------------------------\r\n    app_1  | [INFO] Total time:  3.000 s\r\n    app_1  | [INFO] Finished at: 2022-05-23T12:30:50Z\r\n    app_1  | [INFO] ------------------------------------------------------------------------\r\n    app_1  | [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.7:run (default-cli) on project my_app: Application finished with exit code: 2 -&gt; [Help 1]\r\n    app_1  | [ERROR] \r\n    app_1  | [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    app_1  | [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    app_1  | [ERROR] \r\n    app_1  | [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    app_1  | [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    my_app exited with code 1\r\n\r\n\r\nSidenote: Port 5005 is of course *not* running/listening on my host!\r\nAlso, if I change the port to 5006, 5007 etc, the error is always the same.\r\n\r\nSo why is the port blocked on `mvn spring-boot:run`? ","title":"How to debug a JDK docker container in intellij idea?","body":"<p>I want to start up a docker container with debug options as follows, but the startup won't work:</p>\n<p><code>Dockerfile</code>:</p>\n<pre><code># syntax=docker/dockerfile:1\nFROM maven:3-eclipse-temurin-11 as dependencies\nWORKDIR /opt/app\nCOPY .dockerdev/settings.xml .\nCOPY pom.xml .\nCOPY src src\nENTRYPOINT[&quot;mvn&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<p><code>docker-compose.yml</code>:</p>\n<pre><code>version: '3.7'\nservices:\n  app:\n    environment:\n      - &quot;JAVA_TOOL_OPTIONS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\n    ports:\n      - 8080:8080\n      - 5005:5005\n      \n</code></pre>\n<p>Result:</p>\n<pre><code>docker-compose up\nRecreating my_app ... done\nAttaching to my_app\napp_1  | Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\napp_1  | Listening for transport dt_socket at address: 5005\napp_1  | [INFO] Scanning for projects...\napp_1  | [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ my_app ---\napp_1  | [INFO] Using 'UTF-8' encoding to copy filtered resources.\napp_1  | [INFO] Using 'UTF-8' encoding to copy filtered properties files.\napp_1  | [INFO] Copying 3 resources\napp_1  | [INFO] Copying 3 resources\napp_1  | [INFO] \napp_1  | [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ my_app ---\napp_1  | [INFO] Changes detected - recompiling the module!\napp_1  | [INFO] \napp_1  | [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ my_app ---\napp_1  | [INFO] Using 'UTF-8' encoding to copy filtered resources.\napp_1  | [INFO] Using 'UTF-8' encoding to copy filtered properties files.\napp_1  | [INFO] Copying 3 resources\napp_1  | [INFO] \napp_1  | [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ my_app ---\napp_1  | [INFO] Changes detected - recompiling the module!\napp_1  | [INFO] Compiling 5 source files to /opt/app/target/test-classes\napp_1  | [INFO] \napp_1  | [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.6.7:run (default-cli) &lt; test-compile @ my_app &lt;&lt;&lt;\napp_1  | [INFO] \napp_1  | [INFO] \napp_1  | [INFO] --- spring-boot-maven-plugin:2.6.7:run (default-cli) @ my_app ---\napp_1  | [INFO] Attaching agents: []\napp_1  | Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\napp_1  | ERROR: transport error 202: bind failed: Address already in use\napp_1  | ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\napp_1  | JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [./src/jdk.jdwp.agent/share/native/libjdwp/debugInit.c:735]\napp_1  | [INFO] ------------------------------------------------------------------------\napp_1  | [INFO] BUILD FAILURE\napp_1  | [INFO] ------------------------------------------------------------------------\napp_1  | [INFO] Total time:  3.000 s\napp_1  | [INFO] Finished at: 2022-05-23T12:30:50Z\napp_1  | [INFO] ------------------------------------------------------------------------\napp_1  | [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.7:run (default-cli) on project my_app: Application finished with exit code: 2 -&gt; [Help 1]\napp_1  | [ERROR] \napp_1  | [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\napp_1  | [ERROR] Re-run Maven using the -X switch to enable full debug logging.\napp_1  | [ERROR] \napp_1  | [ERROR] For more information about the errors and possible solutions, please read the following articles:\napp_1  | [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nmy_app exited with code 1\n</code></pre>\n<p>Sidenote: Port 5005 is of course <em>not</em> running/listening on my host!\nAlso, if I change the port to 5006, 5007 etc, the error is always the same.</p>\n<p>So why is the port blocked on <code>mvn spring-boot:run</code>?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652599979,"post_id":72245845,"comment_id":127641373,"body_markdown":"The most likely explanation is that the database connection details are incorrect.","body":"The most likely explanation is that the database connection details are incorrect."}],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652602581,"creation_date":1652602581,"answer_id":72246614,"question_id":72245845,"body_markdown":"Based on your information,  it need your check on your oracle jdbc connection first, especially for below part:\r\n\r\n    &lt;!-- declare datasource --&gt;\r\n        &lt;bean id=&quot;dataSource&quot;\r\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl21&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;c##gss_pos&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;sys&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou need ensure you can connect to your Oracle DB via the localhost:1521:orcl21 with proper user and password. \r\n\r\n","title":"Could not open Hibernate Session for transaction; nested exception is Could not open connection","body":"<p>Based on your information,  it need your check on your oracle jdbc connection first, especially for below part:</p>\n<pre><code>&lt;!-- declare datasource --&gt;\n    &lt;bean id=&quot;dataSource&quot;\n    class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl21&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;c##gss_pos&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;sys&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>You need ensure you can connect to your Oracle DB via the localhost:1521:orcl21 with proper user and password.</p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653327910,"creation_date":1653327910,"answer_id":72352799,"question_id":72245845,"body_markdown":"Can you also use the latest JDBC driver? You are using 11.2.0.4. Try using 21.5.0.0 or 19.14.0.0. Check out [OTN][1] page. \r\n\r\n\r\n  [1]: https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html","title":"Could not open Hibernate Session for transaction; nested exception is Could not open connection","body":"<p>Can you also use the latest JDBC driver? You are using 11.2.0.4. Try using 21.5.0.0 or 19.14.0.0. Check out <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">OTN</a> page.</p>\n"}],"owner":{"account_id":22660672,"reputation":9,"user_id":16833798,"display_name":"Laith Alarian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653327910,"creation_date":1652594098,"question_id":72245845,"body_markdown":"   [enter image description here][1]\r\n\r\nI created an application with spring + hibernate, but I always get this error. This is my first application with hibernate, I read some guides but I can not solve this problem. Where am I doing wrong?\r\n\r\nThis is the code of my application \r\n\r\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.gss&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;css_pos_mvn&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;CSS Point of Sale&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jsf2.version&gt;2.2.14&lt;/jsf2.version&gt;\r\n    \t\t&lt;spring.version&gt;4.3.10.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- JSF Dep. --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;prenter code hereimefaces&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jsf2.version}&lt;/version&gt;enter code here\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jsf2.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring Dep. --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring ORM support --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Hibernate --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc11 \r\n    \t\t\t&lt;dependency&gt; &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt; &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt; \r\n    \t\t\t&lt;version&gt;21.5.0.0&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc6 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n        &lt;version&gt;11.2.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;Clever-Software-Solutions-POS&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;strong text\r\n\r\n\r\n**Hibernate** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;!-- MySQL database --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n            &lt;!-- show SQL in console --&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;!-- readable format for SQL output in the console --&gt;\r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n            \r\n            \r\n            \r\n            &lt;mapping package=&quot;com.css.pos.domain.*&quot;/&gt;\r\n            &lt;mapping class=&quot;com.css.pos.domain.BusinessLine&quot;/&gt;\r\n            &lt;mapping class=&quot;com.css.pos.domain.Company&quot;/&gt;\r\n            \r\n              \r\n                \r\n    \t\t\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**Spring Configuration**\r\n\r\n\r\n     \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd&quot;&gt;\r\n     \t&lt;context:component-scan base-package=&quot;com.css.pos&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t&lt;!-- support spring annotation --&gt;\r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;!-- support annotation transaction --&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n     \r\n    \t&lt;!-- declare datasource --&gt;\r\n    \t\t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl21&quot;/&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;c##gss_pos&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;sys&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n     \r\n    \t&lt;!--Hibernate session factory configuration --&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;!-- load hibernate configuration file --&gt;\r\n    \t\t&lt;property name=&quot;configLocation&quot; value=&quot;/WEB-INF/hibernate.cfg.xml&quot; /&gt;\r\n    \t\t&lt;!-- where to find the ORM classes --&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.roytuts.hibernate.model&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n     \r\n    \t&lt;!-- Transaction manager --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n     \t\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6S5q.png","title":"Could not open Hibernate Session for transaction; nested exception is Could not open connection","body":"<p><a href=\"https://i.stack.imgur.com/v6S5q.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I created an application with spring + hibernate, but I always get this error. This is my first application with hibernate, I read some guides but I can not solve this problem. Where am I doing wrong?</p>\n<p>This is the code of my application</p>\n<p>\n4.0.0\ncom.gss\ncss_pos_mvn\n0.0.1-SNAPSHOT\nwar\nCSS Point of Sale</p>\n<pre><code>    &lt;properties&gt;\n        &lt;jsf2.version&gt;2.2.14&lt;/jsf2.version&gt;\n        &lt;spring.version&gt;4.3.10.RELEASE&lt;/spring.version&gt;\n        &lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;!-- JSF Dep. --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;prenter code hereimefaces&lt;/artifactId&gt;\n            &lt;version&gt;6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n            &lt;version&gt;${jsf2.version}&lt;/version&gt;enter code here\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n            &lt;version&gt;${jsf2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Dep. --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring ORM support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc11 \n            &lt;dependency&gt; &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt; &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt; \n            &lt;version&gt;21.5.0.0&lt;/version&gt; &lt;/dependency&gt; --&gt;\n\n        \n    &lt;!-- https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc6 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n    &lt;version&gt;11.2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;Clever-Software-Solutions-POS&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;strong text\n</code></pre>\n<p><strong>Hibernate</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- MySQL database --&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n        &lt;!-- show SQL in console --&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;!-- readable format for SQL output in the console --&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n        \n        \n        \n        &lt;mapping package=&quot;com.css.pos.domain.*&quot;/&gt;\n        &lt;mapping class=&quot;com.css.pos.domain.BusinessLine&quot;/&gt;\n        &lt;mapping class=&quot;com.css.pos.domain.Company&quot;/&gt;\n        \n          \n            \n        \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Spring Configuration</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.1.xsd&quot;&gt;\n    &lt;context:component-scan base-package=&quot;com.css.pos&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;!-- support spring annotation --&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;!-- support annotation transaction --&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n \n    &lt;!-- declare datasource --&gt;\n        &lt;bean id=&quot;dataSource&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl21&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;c##gss_pos&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;sys&quot; /&gt;\n    &lt;/bean&gt;\n \n    &lt;!--Hibernate session factory configuration --&gt;\n    &lt;bean id=&quot;sessionFactory&quot;\n        class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;!-- load hibernate configuration file --&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;/WEB-INF/hibernate.cfg.xml&quot; /&gt;\n        &lt;!-- where to find the ORM classes --&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.roytuts.hibernate.model&quot; /&gt;\n    &lt;/bean&gt;\n \n    &lt;!-- Transaction manager --&gt;\n    &lt;bean id=&quot;transactionManager&quot;\n        class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    \n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653327355,"post_id":72352616,"comment_id":127820084,"body_markdown":"Please show code of `CalificacionRepositorio `, problem might be there.","body":"Please show code of <code>CalificacionRepositorio </code>, problem might be there."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1653327365,"post_id":72352616,"comment_id":127820087,"body_markdown":"Can&#39;t really see much without the actual exception","body":"Can&#39;t really see much without the actual exception"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653328553,"post_id":72352616,"comment_id":127820520,"body_markdown":"The `AlumnoListener` is managed by JPA/Hibernate not Spring. It has to be a spring component to be able to get autowiring to work. Depending on the version of Spring Boot and Hibernate (I assume) in use that might work (or not if the versions are too old).","body":"The <code>AlumnoListener</code> is managed by JPA/Hibernate not Spring. It has to be a spring component to be able to get autowiring to work. Depending on the version of Spring Boot and Hibernate (I assume) in use that might work (or not if the versions are too old)."}],"answers":[{"tags":[],"owner":{"account_id":932467,"reputation":1665,"user_id":962048,"accept_rate":47,"display_name":"RicardoE"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653327625,"creation_date":1653327625,"answer_id":72352729,"question_id":72352616,"body_markdown":"You probably have to create a bean in your applicationContext.xml\r\n\r\n    &lt;bean id=&quot;CalificacionRepositorio&quot; class=&quot;com.example.CalificacionRepositorio&quot; autowire=&quot;byName&quot;&gt;&lt;/bean&gt;\r\n\r\nOr programmatically in a @Configuration annotated class within your ComponentScan package\r\n\r\n    @Bean\r\n    @Lazy\r\n    public CalificacionRepositorio configuraCalificacionRepositorio() {\r\n        return new CalificacionRepositorio();\r\n    }\r\n\r\nIf you have already registered your bean in the application context make sure that the variable name matches the class name. Try replacing calificacionDAO with calificacionRepositorio","title":"What can cause a null pointer exception in my class listener using an autowired dao?","body":"<p>You probably have to create a bean in your applicationContext.xml</p>\n<pre><code>&lt;bean id=&quot;CalificacionRepositorio&quot; class=&quot;com.example.CalificacionRepositorio&quot; autowire=&quot;byName&quot;&gt;&lt;/bean&gt;\n</code></pre>\n<p>Or programmatically in a @Configuration annotated class within your ComponentScan package</p>\n<pre><code>@Bean\n@Lazy\npublic CalificacionRepositorio configuraCalificacionRepositorio() {\n    return new CalificacionRepositorio();\n}\n</code></pre>\n<p>If you have already registered your bean in the application context make sure that the variable name matches the class name. Try replacing calificacionDAO with calificacionRepositorio</p>\n"}],"owner":{"account_id":25104230,"reputation":1,"user_id":18954572,"display_name":"apizarroso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653328606,"answer_count":1,"score":-2,"last_activity_date":1653327625,"creation_date":1653327024,"question_id":72352616,"body_markdown":"While trying to execute a delete query on registers of the class Alumno, on a many to one relationship with the class Calificacion I get null pointer exception on the autowired repository.\r\n\r\n```\r\npublic class AlumnoListener {\r\n\r\n\t@Autowired\r\n\tCalificacionRepositorio calificacionDAO;\r\n\t\r\n\t@PreRemove\r\n\tpublic void borradoAlumno(Alumno alumno) {\r\n\t\t\r\n\t\tList&lt;Calificacion&gt; list = (List&lt;Calificacion&gt;) calificacionDAO.findAll();\r\n\r\n\t\tlist.stream().filter(c -&gt; c.getAlumno().equals(alumno)).forEach(calificacionDAO::delete);\r\n\t}\r\n}\r\n\r\n","title":"What can cause a null pointer exception in my class listener using an autowired dao?","body":"<p>While trying to execute a delete query on registers of the class Alumno, on a many to one relationship with the class Calificacion I get null pointer exception on the autowired repository.</p>\n<pre><code>public class AlumnoListener {\n\n    @Autowired\n    CalificacionRepositorio calificacionDAO;\n    \n    @PreRemove\n    public void borradoAlumno(Alumno alumno) {\n        \n        List&lt;Calificacion&gt; list = (List&lt;Calificacion&gt;) calificacionDAO.findAll();\n\n        list.stream().filter(c -&gt; c.getAlumno().equals(alumno)).forEach(calificacionDAO::delete);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1614015335,"post_id":66319813,"comment_id":117249330,"body_markdown":"Is there more to that stack trace?  It looks like that&#39;s just the first error.","body":"Is there more to that stack trace?  It looks like that&#39;s just the first error."},{"owner":{"account_id":11836961,"reputation":73,"user_id":8662005,"display_name":"TrynaLearnMath"},"score":0,"creation_date":1614016179,"post_id":66319813,"comment_id":117249684,"body_markdown":"Nope, that&#39;s all there was.","body":"Nope, that&#39;s all there was."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1614017082,"post_id":66319813,"comment_id":117250059,"body_markdown":"While the overhead with Spring is questionable, [here](https://springbootdev.com/2018/08/02/upload-and-delete-files-with-amazon-s3-and-spring-boot/) a V1 SDK example.","body":"While the overhead with Spring is questionable, <a href=\"https://springbootdev.com/2018/08/02/upload-and-delete-files-with-amazon-s3-and-spring-boot/\" rel=\"nofollow noreferrer\">here</a> a V1 SDK example."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":2,"creation_date":1614018528,"post_id":66319813,"comment_id":117250635,"body_markdown":"Amazon recommends moving to AWS SDK for Java V2","body":"Amazon recommends moving to AWS SDK for Java V2"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1614038456,"post_id":66319813,"comment_id":117257508,"body_markdown":"1) You&#39;re not running the version of the SDK that you think you are: the stack trace reports `1.11.163`. I recommend using `mvn dependency:tree` to figure out why that&#39;s happening.","body":"1) You&#39;re not running the version of the SDK that you think you are: the stack trace reports <code>1.11.163</code>. I recommend using <code>mvn dependency:tree</code> to figure out why that&#39;s happening."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1614038583,"post_id":66319813,"comment_id":117257539,"body_markdown":"2) The important part is &quot;Could not initialize class&quot;, not `NoClassDefFoundError`. The exception is (confusingly) used for any situation that prevents the JVM from loading a class. In this case, it appears to be the static initializer in `com.amazonaws.util.Base64`, which tries to figure out if the version of JAXB that&#39;s in use will cause problems.","body":"2) The important part is &quot;Could not initialize class&quot;, not <code>NoClassDefFoundError</code>. The exception is (confusingly) used for any situation that prevents the JVM from loading a class. In this case, it appears to be the static initializer in <code>com.amazonaws.util.Base64</code>, which tries to figure out if the version of JAXB that&#39;s in use will cause problems."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1614038666,"post_id":66319813,"comment_id":117257559,"body_markdown":"That implies that the exception is caused by something else that you&#39;re not reporting. Perhaps you&#39;re using an older JVM as well, or one of the other dependencies pulls in an incompatible class.","body":"That implies that the exception is caused by something else that you&#39;re not reporting. Perhaps you&#39;re using an older JVM as well, or one of the other dependencies pulls in an incompatible class."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":3,"creation_date":1614038693,"post_id":66319813,"comment_id":117257564,"body_markdown":"Regardless, properly updating your SDK to a more recent vintage (it&#39;s currently at 1.11.900-something) may solve the problem.","body":"Regardless, properly updating your SDK to a more recent vintage (it&#39;s currently at 1.11.900-something) may solve the problem."},{"owner":{"account_id":11836961,"reputation":73,"user_id":8662005,"display_name":"TrynaLearnMath"},"score":0,"creation_date":1614101204,"post_id":66319813,"comment_id":117280065,"body_markdown":"I&#39;ve updated my SDK to a newer version and it worked. Thank you all for your help","body":"I&#39;ve updated my SDK to a newer version and it worked. Thank you all for your help"}],"answers":[{"tags":[],"owner":{"account_id":184058,"reputation":7523,"user_id":419871,"accept_rate":100,"display_name":"MerickOWA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653327226,"creation_date":1653327226,"answer_id":72352650,"question_id":66319813,"body_markdown":"Credit to [@Parsifal](https://stackoverflow.com/users/13400729/parsifal) in the comments.\r\n\r\nI also encountered the error `java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64`\r\n\r\nThe underlying problem seems to be related to the JVM version.  On a windows jenkins build server, I also encountered the problem.\r\n\r\nOriginal the server was running\r\n```\r\njava version &quot;1.8.0_231&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_231-b11)\r\nJava HotSpot(TM) Client VM (build 25.231-b11, mixed mode, sharing)\r\n```\r\n\r\nAfter updating to JVM to \r\n```\r\njava version &quot;1.8.0_333&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\r\nJava HotSpot(TM) Client VM (build 25.333-b02, mixed mode, sharing)\r\n```\r\n\r\nthe problem went away.","title":"java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64","body":"<p>Credit to <a href=\"https://stackoverflow.com/users/13400729/parsifal\">@Parsifal</a> in the comments.</p>\n<p>I also encountered the error <code>java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64</code></p>\n<p>The underlying problem seems to be related to the JVM version.  On a windows jenkins build server, I also encountered the problem.</p>\n<p>Original the server was running</p>\n<pre><code>java version &quot;1.8.0_231&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_231-b11)\nJava HotSpot(TM) Client VM (build 25.231-b11, mixed mode, sharing)\n</code></pre>\n<p>After updating to JVM to</p>\n<pre><code>java version &quot;1.8.0_333&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\nJava HotSpot(TM) Client VM (build 25.333-b02, mixed mode, sharing)\n</code></pre>\n<p>the problem went away.</p>\n"}],"owner":{"account_id":11836961,"reputation":73,"user_id":8662005,"display_name":"TrynaLearnMath"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653327226,"creation_date":1614012238,"question_id":66319813,"body_markdown":"I&#39;ve been trying to figure this out for the past few hours and I haven&#39;t found a resource that resolves this issue. I&#39;ve been following a video on YouTube to get S3 up and running. Looked through the GitHub repo as well and couldn&#39;t find anything that I was missing. \r\n\r\npom.xml\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.486&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n```\r\n\r\nStack Trace\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64\r\n\tat com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104) ~[aws-java-sdk-core-1.11.163.jar:na]\r\n\tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1620) ~[aws-java-sdk-s3-1.11.163.jar:na]\r\n\tat com.tcc.managementSystem.aws.AmazonClient.uploadFile(AmazonClient.java:27) ~[classes/:na]\r\n\tat com.tcc.managementSystem.controller.AWSController.uploadFile(AWSController.java:21) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\r\n\tat java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\r\n```\r\n\r\nService\r\n\r\n```\r\n@Service\r\npublic class AmazonService {\r\n\r\n    @Autowired\r\n    private AmazonS3 amazonS3;\r\n\r\n    @Value(&quot;${application.bucket.name}&quot;)\r\n    private String bucketName;\r\n\r\n    public String uploadFile(MultipartFile multipartFile){\r\n\r\n        String fileName = System.currentTimeMillis() + &quot;_&quot; + multipartFile.getOriginalFilename();\r\n        File file = convertMultiPartToFile(multipartFile);\r\n        this.amazonS3.putObject(new PutObjectRequest(bucketName, fileName, file));\r\n        file.delete();\r\n        return &quot;File uploaded &quot; + fileName;\r\n    }\r\n\r\n    private File convertMultiPartToFile(MultipartFile multipartFile) {\r\n        File convertedFile = new File(multipartFile.getOriginalFilename());\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)){\r\n            fos.write(multipartFile.getBytes());\r\n        } catch (IOException ex){\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        return convertedFile;\r\n    }\r\n}\r\n```\r\n\r\nAWSConfig\r\n\r\n```\r\n@Configuration\r\npublic class AWSConfig {\r\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n\r\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    @Value(&quot;${cloud.aws.region.static}&quot;)\r\n    private String region;\r\n\r\n    @Bean\r\n    public AmazonS3 initializeAmazon(){\r\n        AWSCredentials credentials = new BasicAWSCredentials(\r\n                accessKey, secretKey);\r\n\r\n        return AmazonS3ClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region).build();\r\n\r\n    }\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64","body":"<p>I've been trying to figure this out for the past few hours and I haven't found a resource that resolves this issue. I've been following a video on YouTube to get S3 up and running. Looked through the GitHub repo as well and couldn't find anything that I was missing.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.486&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>Stack Trace</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.util.Base64\n    at com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104) ~[aws-java-sdk-core-1.11.163.jar:na]\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1620) ~[aws-java-sdk-s3-1.11.163.jar:na]\n    at com.tcc.managementSystem.aws.AmazonClient.uploadFile(AmazonClient.java:27) ~[classes/:na]\n    at com.tcc.managementSystem.controller.AWSController.uploadFile(AWSController.java:21) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.41.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.12.RELEASE.jar:5.2.12.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.41.jar:9.0.41]\n    at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class AmazonService {\n\n    @Autowired\n    private AmazonS3 amazonS3;\n\n    @Value(&quot;${application.bucket.name}&quot;)\n    private String bucketName;\n\n    public String uploadFile(MultipartFile multipartFile){\n\n        String fileName = System.currentTimeMillis() + &quot;_&quot; + multipartFile.getOriginalFilename();\n        File file = convertMultiPartToFile(multipartFile);\n        this.amazonS3.putObject(new PutObjectRequest(bucketName, fileName, file));\n        file.delete();\n        return &quot;File uploaded &quot; + fileName;\n    }\n\n    private File convertMultiPartToFile(MultipartFile multipartFile) {\n        File convertedFile = new File(multipartFile.getOriginalFilename());\n\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)){\n            fos.write(multipartFile.getBytes());\n        } catch (IOException ex){\n            ex.printStackTrace();\n        }\n\n        return convertedFile;\n    }\n}\n</code></pre>\n<p>AWSConfig</p>\n<pre><code>@Configuration\npublic class AWSConfig {\n    @Value(&quot;${cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n\n    @Value(&quot;${cloud.aws.credentials.secret-key}&quot;)\n    private String secretKey;\n\n    @Value(&quot;${cloud.aws.region.static}&quot;)\n    private String region;\n\n    @Bean\n    public AmazonS3 initializeAmazon(){\n        AWSCredentials credentials = new BasicAWSCredentials(\n                accessKey, secretKey);\n\n        return AmazonS3ClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\n                .withRegion(region).build();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","csv","export-to-csv","read.csv"],"comments":[{"owner":{"account_id":932467,"reputation":1665,"user_id":962048,"accept_rate":47,"display_name":"RicardoE"},"score":0,"creation_date":1653327216,"post_id":72352544,"comment_id":127820038,"body_markdown":"Should probably have to write a AbstractHttpMessageConverter and register it on app startup by extending the converters.","body":"Should probably have to write a AbstractHttpMessageConverter and register it on app startup by extending the converters."},{"owner":{"account_id":932467,"reputation":1665,"user_id":962048,"accept_rate":47,"display_name":"RicardoE"},"score":0,"creation_date":1653327234,"post_id":72352544,"comment_id":127820046,"body_markdown":"Here is a good reference on how to do it: https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/csv-msg-converter.html","body":"Here is a good reference on how to do it: <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-web-mvc/csv-msg-converter.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/spring-framework/spring-web-mvc/&hellip;</a>"}],"owner":{"account_id":12124230,"reputation":1,"user_id":8854037,"display_name":"Subash Shrestha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653326566,"creation_date":1653326566,"question_id":72352544,"body_markdown":"I am trying to download csv file from the filepath that is saved in db. I have to read the csv file from filepath and download it when hitting the endpoint. Error I am getting says no converter for class BufferedReader with preset Content-Type &#39;application-csv&#39;. I think the type I have with response entity BufferedReader is not taking my content-type as csv. I have seen resource type with response entity working fine. And I don&#39;t want csv to be generated, I already have it, i just have to read it and download it.\r\n```\r\n@GetMapping(&quot;/export&quot;)\r\n    public CompletableFuture &lt;ResponseEntity&lt;BufferedReader&gt;&gt; getCSVFile(@RequestParam Integer reportdt,\r\n            @RequestParam(&quot;conId&quot;) String conId) throws IOException {\r\n    \t\r\n\r\n    \tCSVFilePath csvFilePath = csvFilePathRepository.findByConIdAndReportdt(conId, reportdt);\r\n    \tFile file = new File(csvFilePath.getFilepath());\r\n\t\t//FileInputStream csvfile = new FileInputStream(csvFilePath.getFilepath());\r\n\t\tFileReader newfile = new FileReader(csvFilePath.getFilepath());\r\n\t\tString fileName = file.getName();\r\n\t\tif(file.exists()) {\r\n\t \treturn CompletableFuture\r\n                .completedFuture(ResponseEntity.ok()\r\n\t \t          .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName)\r\n\t \t          .contentType(MediaType.parseMediaType(&quot;application/csv&quot;))\r\n\t \t          .body(new BufferedReader(newfile))); \t          \r\n\t\t} else {\r\n\t\t\treturn CompletableFuture\r\n                    .completedFuture(ResponseEntity.status(HttpStatus.NOT_FOUND).body(new BufferedReader(newfile)));\t\r\n\t\t}\r\n    }\r\n```\r\n\r\nHere is the error log.\r\n[error log][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R49Co.jpg","title":"download csv from filepath in java","body":"<p>I am trying to download csv file from the filepath that is saved in db. I have to read the csv file from filepath and download it when hitting the endpoint. Error I am getting says no converter for class BufferedReader with preset Content-Type 'application-csv'. I think the type I have with response entity BufferedReader is not taking my content-type as csv. I have seen resource type with response entity working fine. And I don't want csv to be generated, I already have it, i just have to read it and download it.</p>\n<pre><code>@GetMapping(&quot;/export&quot;)\n    public CompletableFuture &lt;ResponseEntity&lt;BufferedReader&gt;&gt; getCSVFile(@RequestParam Integer reportdt,\n            @RequestParam(&quot;conId&quot;) String conId) throws IOException {\n        \n\n        CSVFilePath csvFilePath = csvFilePathRepository.findByConIdAndReportdt(conId, reportdt);\n        File file = new File(csvFilePath.getFilepath());\n        //FileInputStream csvfile = new FileInputStream(csvFilePath.getFilepath());\n        FileReader newfile = new FileReader(csvFilePath.getFilepath());\n        String fileName = file.getName();\n        if(file.exists()) {\n        return CompletableFuture\n                .completedFuture(ResponseEntity.ok()\n                  .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName)\n                  .contentType(MediaType.parseMediaType(&quot;application/csv&quot;))\n                  .body(new BufferedReader(newfile)));            \n        } else {\n            return CompletableFuture\n                    .completedFuture(ResponseEntity.status(HttpStatus.NOT_FOUND).body(new BufferedReader(newfile)));    \n        }\n    }\n</code></pre>\n<p>Here is the error log.\n<a href=\"https://i.stack.imgur.com/R49Co.jpg\" rel=\"nofollow noreferrer\">error log</a></p>\n"},{"tags":["java","spring-boot","performance","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653326554,"creation_date":1652967008,"answer_id":72305465,"question_id":72300024,"body_markdown":"According to official Spring documentation for [RestTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html) it&#39;s in the maintenance mode and probably will not be supported in future versions.\r\n\r\n&gt; As of 5.0 this class is in maintenance mode, with only minor requests\r\n&gt; for changes and bugs to be accepted going forward. Please, consider\r\n&gt; using the `org.springframework.web.reactive.client.WebClient` which has\r\n&gt; a more modern API and supports sync, async, and streaming scenarios\r\n\r\nAs for system resources, it really depends on your use case and I would recommend to run some performance tests, but it seems that for low workloads using blocking client could have a better performance owning to a dedicated thread per connection. As load increases, the NIO clients tend to perform better.\r\n\r\n**Update - Reactive API vs Http Client**\r\n\r\nIt&#39;s important to understand the difference between Reactive API (Project Reactor) and http client. Although `WebClient` uses Reactive API it doesn&#39;t add any additional concurrently until we explicitly use operators like `flatMap` or `delay` that could schedule execution on different thread pools. If we just use \r\n```\r\nwebClient\r\n  .get()\r\n  .uri(&quot;&lt;endpoint&gt;&quot;)\r\n  .retrieve()\r\n  .bodyToMono(String.class)\r\n  .block()\r\n```\r\nthe code will be executed on the caller thread that is the same as for blocking client. \r\n\r\nIf we enable debug logging for this code, we will see that `WebClient` code is executed on the caller thread but for network operations execution will be switched to `reactor-http-nio-...` thread.\r\n\r\nThe main difference is that internally `WebClient` uses asynchronous client based on non-blocking IO (NIO). These clients use Reactor pattern (event loop) to maintain a separate thread pool(s) which allow you to handle a large number of concurrent connections. \r\n\r\n&gt; The purpose of I/O reactors is to react to I/O events and to dispatch\r\n&gt; event notifications to individual I/O sessions. The main idea of I/O\r\n&gt; reactor pattern is to break away from the one thread per connection\r\n&gt; model imposed by the classic blocking I/O model.\r\n\r\nBy default, Reactor Netty is used but you could consider Jetty Rective Http Client, Apache HttpComponents (async) or even [AWS Common Runtime (CRT) Http Client](https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/) if you create required adapter (not sure it already exists).\r\n\r\nIn general, you can see the trend across the industry to use async I/O (NIO) because they are more resource efficient for applications under high load.\r\n\r\nIn addition, to handle resource efficiently the whole flow must be async. By using `block()` we are implicitly reintroducing thread-per-connection approach that will eliminate most of the benefits of the NIO. At the same time using `WebClient` with `block()` could be considered as a first step for migration to the fully reactive application.","title":"Does the use of Spring Webflux&#39;s WebClient in a blocking application design cause a larger use of resources than RestTemplate","body":"<p>According to official Spring documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> it's in the maintenance mode and probably will not be supported in future versions.</p>\n<blockquote>\n<p>As of 5.0 this class is in maintenance mode, with only minor requests\nfor changes and bugs to be accepted going forward. Please, consider\nusing the <code>org.springframework.web.reactive.client.WebClient</code> which has\na more modern API and supports sync, async, and streaming scenarios</p>\n</blockquote>\n<p>As for system resources, it really depends on your use case and I would recommend to run some performance tests, but it seems that for low workloads using blocking client could have a better performance owning to a dedicated thread per connection. As load increases, the NIO clients tend to perform better.</p>\n<p><strong>Update - Reactive API vs Http Client</strong></p>\n<p>It's important to understand the difference between Reactive API (Project Reactor) and http client. Although <code>WebClient</code> uses Reactive API it doesn't add any additional concurrently until we explicitly use operators like <code>flatMap</code> or <code>delay</code> that could schedule execution on different thread pools. If we just use</p>\n<pre><code>webClient\n  .get()\n  .uri(&quot;&lt;endpoint&gt;&quot;)\n  .retrieve()\n  .bodyToMono(String.class)\n  .block()\n</code></pre>\n<p>the code will be executed on the caller thread that is the same as for blocking client.</p>\n<p>If we enable debug logging for this code, we will see that <code>WebClient</code> code is executed on the caller thread but for network operations execution will be switched to <code>reactor-http-nio-...</code> thread.</p>\n<p>The main difference is that internally <code>WebClient</code> uses asynchronous client based on non-blocking IO (NIO). These clients use Reactor pattern (event loop) to maintain a separate thread pool(s) which allow you to handle a large number of concurrent connections.</p>\n<blockquote>\n<p>The purpose of I/O reactors is to react to I/O events and to dispatch\nevent notifications to individual I/O sessions. The main idea of I/O\nreactor pattern is to break away from the one thread per connection\nmodel imposed by the classic blocking I/O model.</p>\n</blockquote>\n<p>By default, Reactor Netty is used but you could consider Jetty Rective Http Client, Apache HttpComponents (async) or even <a href=\"https://aws.amazon.com/blogs/developer/introducing-aws-common-runtime-http-client-in-the-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">AWS Common Runtime (CRT) Http Client</a> if you create required adapter (not sure it already exists).</p>\n<p>In general, you can see the trend across the industry to use async I/O (NIO) because they are more resource efficient for applications under high load.</p>\n<p>In addition, to handle resource efficiently the whole flow must be async. By using <code>block()</code> we are implicitly reintroducing thread-per-connection approach that will eliminate most of the benefits of the NIO. At the same time using <code>WebClient</code> with <code>block()</code> could be considered as a first step for migration to the fully reactive application.</p>\n"},{"tags":[],"owner":{"account_id":19314739,"reputation":11,"user_id":14119760,"display_name":"Alex de Freitas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652995830,"creation_date":1652995830,"answer_id":72311284,"question_id":72300024,"body_markdown":"Great question.\r\n\r\nLast week we considered migrating from resttemplate to webclient.\r\nThis week, I start testing the performance between the blocking webclient and the resttemplate, to my surprise, the resttemplate performed better in scenarios where the response payloads were large. The difference was considerably large, with the resttemplate taking less than half the time to respond and using fewer resources.\r\n\r\nI&#39;m still carrying out the performance tests, now I started the tests with a wider range of users for request.\r\n\r\nThe application is mvc and is using spring 5.13.19 and spring boot 2.6.7.\r\n\r\nFor perfomance testing I&#39;m using jmeter and for health check visualvm/jconsole","title":"Does the use of Spring Webflux&#39;s WebClient in a blocking application design cause a larger use of resources than RestTemplate","body":"<p>Great question.</p>\n<p>Last week we considered migrating from resttemplate to webclient.\nThis week, I start testing the performance between the blocking webclient and the resttemplate, to my surprise, the resttemplate performed better in scenarios where the response payloads were large. The difference was considerably large, with the resttemplate taking less than half the time to respond and using fewer resources.</p>\n<p>I'm still carrying out the performance tests, now I started the tests with a wider range of users for request.</p>\n<p>The application is mvc and is using spring 5.13.19 and spring boot 2.6.7.</p>\n<p>For perfomance testing I'm using jmeter and for health check visualvm/jconsole</p>\n"},{"tags":[],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1653008145,"creation_date":1653001481,"answer_id":72311944,"question_id":72300024,"body_markdown":"In [this presentation](https://www.youtube.com/watch?v=IZ2SoXUiS7M) `Rossen Stoyanchev` from the `Spring` team explains some of these points.\r\n\r\n`WebClient` will use a limited number of threads - 2 per core for a total of `12 threads` on my local machine - to handle all requests and their responses in the application. So if your application receives `100 requests` and makes one request to an external server for each, `WebClient` will handle all of those using those threads in a `non-blocking` / `asynchronous` manner.\r\n\r\nOf course, as you mention, once you call `block` your original thread will block, so it would be 100 threads + 12 threads for a total of `112 threads` to handle those requests. But keep in mind that **these 12 threads do not grow in size as you make more requests, and that they don&#39;t do I/O heavy lifting**, so it&#39;s not like `WebClient` is spawning threads to actually perform the requests or keeping them busy on a thread-per-request fashion.\r\n\r\nI&#39;m not sure if when the thread is under `block` it behaves the same as when making a blocking call through `RestTemplate` - it seems to me that in the former the thread should be `inactive` waiting for the `NIO` call to complete, while in the later the thread should be handling `I/O` work, so maybe there&#39;s a difference there.\r\n\r\nIt gets interesting if you begin using the `reactor` goodies, for example handling requests that depend on one another, or many requests in parallel. Then `WebClient` definitely gets an edge as it&#39;ll perform all concurrent actions using the same 12 threads, instead of using a thread per request.\r\n\r\nAs an example, consider this application:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class SO72300024 {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(SO72300024.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SO72300024.class, args);\r\n\t}\r\n\r\n\t@RestController\r\n\t@RequestMapping(&quot;/blocking&quot;)\r\n\tstatic class BlockingController {\r\n\r\n\t\t@GetMapping(&quot;/{id}&quot;)\r\n\t\tString blockingEndpoint(@PathVariable String id) throws Exception {\r\n\t\t\tlogger.info(&quot;Got request for {}&quot;, id);\r\n\t\t\tThread.sleep(1000);\r\n\t\t\treturn &quot;This is the response for &quot; + id;\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/{id}/nested&quot;)\r\n\t\tString nestedBlockingEndpoint(@PathVariable String id) throws Exception {\r\n\t\t\tlogger.info(&quot;Got nested request for {}&quot;, id);\r\n\t\t\tThread.sleep(1000);\r\n\t\t\treturn &quot;This is the nested response for &quot; + id;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner run() {\r\n\t\treturn args -&gt; {\r\n\t\t\tFlux.just(callApi(), callApi(), callApi())\r\n\t\t\t\t\t.flatMap(responseMono -&gt; responseMono)\r\n\t\t\t\t\t.collectList()\r\n\t\t\t\t\t.block()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.flatMap(Collection::stream)\r\n\t\t\t\t\t.forEach(logger::info);\r\n\t\t\tlogger.info(&quot;Finished&quot;);\r\n\t\t};\r\n\t}\r\n\r\n\tprivate Mono&lt;List&lt;String&gt;&gt; callApi() {\r\n\t\tWebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\r\n\t\tlogger.info(&quot;Starting&quot;);\r\n\t\treturn Flux.range(1, 10).flatMap(i -&gt;\r\n\t\t\t\t\t\twebClient\r\n\t\t\t\t\t\t\t\t.get().uri(&quot;/blocking/{id}&quot;, i)\r\n\t\t\t\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t\t\t\t.bodyToMono(String.class)\r\n\t\t\t\t\t\t\t\t.doOnNext(resp -&gt; logger.info(&quot;Received response {} - {}&quot;, I, resp))\r\n\t\t\t\t\t\t\t\t.flatMap(resp -&gt; webClient.get().uri(&quot;/blocking/{id}/nested&quot;, i)\r\n\t\t\t\t\t\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t\t\t\t\t\t.bodyToMono(String.class)\r\n\t\t\t\t\t\t\t\t\t\t.doOnNext(nestedResp -&gt; logger.info(&quot;Received nested response {} - {}&quot;, I, nestedResp))))\r\n\t\t\t\t.collectList();\r\n\t}\r\n}\r\n```\r\n\r\nIf you run this app, you can see that all 30 requests are handled immediately in parallel by the same 12 (in my computer) threads. `Neat!` If you think you can benefit from such kind of parallelism in your logic, it&#39;s probably worth it giving `WebClient` a shot.\r\n\r\nIf not, while I wouldn&#39;t actually worry about the &quot;extra resource spending&quot; given the reasons above, I don&#39;t think it would be worth it adding the whole `reactor/webflux` dependency for this - besides the extra baggage, in day to day operations it should be a lot simpler to reason about and debug `RestTemplate` and the `thread-per-request` model.\r\n\r\nOf course, as others have mentioned, you ought to run load tests to have proper metrics.","title":"Does the use of Spring Webflux&#39;s WebClient in a blocking application design cause a larger use of resources than RestTemplate","body":"<p>In <a href=\"https://www.youtube.com/watch?v=IZ2SoXUiS7M\" rel=\"noreferrer\">this presentation</a> <code>Rossen Stoyanchev</code> from the <code>Spring</code> team explains some of these points.</p>\n<p><code>WebClient</code> will use a limited number of threads - 2 per core for a total of <code>12 threads</code> on my local machine - to handle all requests and their responses in the application. So if your application receives <code>100 requests</code> and makes one request to an external server for each, <code>WebClient</code> will handle all of those using those threads in a <code>non-blocking</code> / <code>asynchronous</code> manner.</p>\n<p>Of course, as you mention, once you call <code>block</code> your original thread will block, so it would be 100 threads + 12 threads for a total of <code>112 threads</code> to handle those requests. But keep in mind that <strong>these 12 threads do not grow in size as you make more requests, and that they don't do I/O heavy lifting</strong>, so it's not like <code>WebClient</code> is spawning threads to actually perform the requests or keeping them busy on a thread-per-request fashion.</p>\n<p>I'm not sure if when the thread is under <code>block</code> it behaves the same as when making a blocking call through <code>RestTemplate</code> - it seems to me that in the former the thread should be <code>inactive</code> waiting for the <code>NIO</code> call to complete, while in the later the thread should be handling <code>I/O</code> work, so maybe there's a difference there.</p>\n<p>It gets interesting if you begin using the <code>reactor</code> goodies, for example handling requests that depend on one another, or many requests in parallel. Then <code>WebClient</code> definitely gets an edge as it'll perform all concurrent actions using the same 12 threads, instead of using a thread per request.</p>\n<p>As an example, consider this application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SO72300024 {\n\n    private static final Logger logger = LoggerFactory.getLogger(SO72300024.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(SO72300024.class, args);\n    }\n\n    @RestController\n    @RequestMapping(&quot;/blocking&quot;)\n    static class BlockingController {\n\n        @GetMapping(&quot;/{id}&quot;)\n        String blockingEndpoint(@PathVariable String id) throws Exception {\n            logger.info(&quot;Got request for {}&quot;, id);\n            Thread.sleep(1000);\n            return &quot;This is the response for &quot; + id;\n        }\n\n        @GetMapping(&quot;/{id}/nested&quot;)\n        String nestedBlockingEndpoint(@PathVariable String id) throws Exception {\n            logger.info(&quot;Got nested request for {}&quot;, id);\n            Thread.sleep(1000);\n            return &quot;This is the nested response for &quot; + id;\n        }\n\n    }\n\n    @Bean\n    ApplicationRunner run() {\n        return args -&gt; {\n            Flux.just(callApi(), callApi(), callApi())\n                    .flatMap(responseMono -&gt; responseMono)\n                    .collectList()\n                    .block()\n                    .stream()\n                    .flatMap(Collection::stream)\n                    .forEach(logger::info);\n            logger.info(&quot;Finished&quot;);\n        };\n    }\n\n    private Mono&lt;List&lt;String&gt;&gt; callApi() {\n        WebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\n        logger.info(&quot;Starting&quot;);\n        return Flux.range(1, 10).flatMap(i -&gt;\n                        webClient\n                                .get().uri(&quot;/blocking/{id}&quot;, i)\n                                .retrieve()\n                                .bodyToMono(String.class)\n                                .doOnNext(resp -&gt; logger.info(&quot;Received response {} - {}&quot;, I, resp))\n                                .flatMap(resp -&gt; webClient.get().uri(&quot;/blocking/{id}/nested&quot;, i)\n                                        .retrieve()\n                                        .bodyToMono(String.class)\n                                        .doOnNext(nestedResp -&gt; logger.info(&quot;Received nested response {} - {}&quot;, I, nestedResp))))\n                .collectList();\n    }\n}\n</code></pre>\n<p>If you run this app, you can see that all 30 requests are handled immediately in parallel by the same 12 (in my computer) threads. <code>Neat!</code> If you think you can benefit from such kind of parallelism in your logic, it's probably worth it giving <code>WebClient</code> a shot.</p>\n<p>If not, while I wouldn't actually worry about the &quot;extra resource spending&quot; given the reasons above, I don't think it would be worth it adding the whole <code>reactor/webflux</code> dependency for this - besides the extra baggage, in day to day operations it should be a lot simpler to reason about and debug <code>RestTemplate</code> and the <code>thread-per-request</code> model.</p>\n<p>Of course, as others have mentioned, you ought to run load tests to have proper metrics.</p>\n"}],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18694,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"accepted_answer_id":72311944,"answer_count":3,"score":25,"last_activity_date":1653326554,"creation_date":1652943868,"question_id":72300024,"body_markdown":"I am working on several spring-boot applications which have the traditional pattern of thread-per-request. We are using Spring-boot-webflux to acquire WebClient to perform our RESTful integration between the applications. Hence our application design requires that we block the publisher right after receiving a response.\r\n\r\nRecently, we&#39;ve been discussing whether we are unnecessarily spending resources using a reactive module in our otherwise blocking application design. As I&#39;ve understood it, WebClient makes use of the event loop by assigning a worker thread to perform the reactive actions in the event loop. So using webclient with `.block()` would sleep the original thread while assigning another thread to perform the http-request. Compared to the alternative RestTemplate, it seems like WebClient would spend additional resources by using the event loop.\r\n\r\nIs it correct that partially introducing spring-webflux in this way leads to additional spent resources while not yielding any positive contribution to performance, neither single threaded and concurrent? We are not expecting to ever upgrade our current stack to be fully reactive, so the argument of gradually upgrading does not apply.","title":"Does the use of Spring Webflux&#39;s WebClient in a blocking application design cause a larger use of resources than RestTemplate","body":"<p>I am working on several spring-boot applications which have the traditional pattern of thread-per-request. We are using Spring-boot-webflux to acquire WebClient to perform our RESTful integration between the applications. Hence our application design requires that we block the publisher right after receiving a response.</p>\n<p>Recently, we've been discussing whether we are unnecessarily spending resources using a reactive module in our otherwise blocking application design. As I've understood it, WebClient makes use of the event loop by assigning a worker thread to perform the reactive actions in the event loop. So using webclient with <code>.block()</code> would sleep the original thread while assigning another thread to perform the http-request. Compared to the alternative RestTemplate, it seems like WebClient would spend additional resources by using the event loop.</p>\n<p>Is it correct that partially introducing spring-webflux in this way leads to additional spent resources while not yielding any positive contribution to performance, neither single threaded and concurrent? We are not expecting to ever upgrade our current stack to be fully reactive, so the argument of gradually upgrading does not apply.</p>\n"},{"tags":["java","reflections"],"comments":[{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1653107796,"post_id":72326671,"comment_id":127776019,"body_markdown":"Do these fill/edit properties vary between different instances of the class, or are they static?","body":"Do these fill/edit properties vary between different instances of the class, or are they static?"},{"owner":{"account_id":8439520,"reputation":33,"user_id":6332568,"display_name":"kcp"},"score":0,"creation_date":1653107855,"post_id":72326671,"comment_id":127776028,"body_markdown":"Good question @Mauricio . They will vary for every instance .","body":"Good question @Mauricio . They will vary for every instance ."},{"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"score":0,"creation_date":1653108530,"post_id":72326671,"comment_id":127776098,"body_markdown":"that business logic that determines the state of these properties can be persisted, or is calculated only &#39;on the fly&#39;?","body":"that business logic that determines the state of these properties can be persisted, or is calculated only &#39;on the fly&#39;?"},{"owner":{"account_id":8439520,"reputation":33,"user_id":6332568,"display_name":"kcp"},"score":0,"creation_date":1653109114,"post_id":72326671,"comment_id":127776165,"body_markdown":"It is computed on the fly based on the other members values. These properties are completely derivable based on the state . Hence i am looking for an efficient way . However the properties can change between fields .","body":"It is computed on the fly based on the other members values. These properties are completely derivable based on the state . Hence i am looking for an efficient way . However the properties can change between fields ."}],"answers":[{"tags":[],"owner":{"account_id":8439520,"reputation":33,"user_id":6332568,"display_name":"kcp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653326510,"creation_date":1653326510,"answer_id":72352531,"question_id":72326671,"body_markdown":"I am settling with below approach .\r\n\r\n```\r\npublic class UiProperties&lt;T&gt;{\r\n  Boolean CanBeEdited;\r\n  Boolean CanBeFilled;\r\n  Boolean CanBeDeleted;\r\n}\r\npublic class Person{\r\npublic UiProperties&lt;String&gt; firstName; \r\npublic UiProperties&lt;String&gt; lastName; \r\npublic UiProperties&lt;Date&gt; dob; \r\n//500 more Fields below\r\n}\r\n```","title":"Java specify custom properties on Fields/Methods","body":"<p>I am settling with below approach .</p>\n<pre><code>public class UiProperties&lt;T&gt;{\n  Boolean CanBeEdited;\n  Boolean CanBeFilled;\n  Boolean CanBeDeleted;\n}\npublic class Person{\npublic UiProperties&lt;String&gt; firstName; \npublic UiProperties&lt;String&gt; lastName; \npublic UiProperties&lt;Date&gt; dob; \n//500 more Fields below\n}\n</code></pre>\n"}],"owner":{"account_id":8439520,"reputation":33,"user_id":6332568,"display_name":"kcp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653326510,"creation_date":1653107515,"question_id":72326671,"body_markdown":"I have a huge class with 500 members.\r\nEach member will have properties whether it can be Filled/Edited based on business logic .\r\n``` \r\npublic class Person{\r\npublic String firstName; \r\n//500 more Fields below\r\n}\r\n```\r\nAnd similarly other 500 fields .\r\n\r\nConsumer of the class will need whether the firstName can be Filled/Edited .\r\n\r\nStraight forward way is\r\n```\r\nEnum FieldProperty{\r\nCanBeEdited,CanBeFilled\r\n}\r\npublic class Person{\r\npublic String firstName; \r\nList&lt;FieldProperty&gt; firstNameProperties = list(CanBeFilled)\r\n//500 more Fields below\r\n}\r\n```\r\n\r\n\r\nHow to efficiently represent this ?\r\n","title":"Java specify custom properties on Fields/Methods","body":"<p>I have a huge class with 500 members.\nEach member will have properties whether it can be Filled/Edited based on business logic .</p>\n<pre><code>public class Person{\npublic String firstName; \n//500 more Fields below\n}\n</code></pre>\n<p>And similarly other 500 fields .</p>\n<p>Consumer of the class will need whether the firstName can be Filled/Edited .</p>\n<p>Straight forward way is</p>\n<pre><code>Enum FieldProperty{\nCanBeEdited,CanBeFilled\n}\npublic class Person{\npublic String firstName; \nList&lt;FieldProperty&gt; firstNameProperties = list(CanBeFilled)\n//500 more Fields below\n}\n</code></pre>\n<p>How to efficiently represent this ?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1653061992,"post_id":72316206,"comment_id":127767171,"body_markdown":"Turn on parameter logging; the number_ff value should tell you which relationship is involved and hint at what might be happening. Try removing one of the two relationships and see if it is related to having the same join to the same table.","body":"Turn on parameter logging; the number_ff value should tell you which relationship is involved and hint at what might be happening. Try removing one of the two relationships and see if it is related to having the same join to the same table."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1653152902,"post_id":72316206,"comment_id":127783832,"body_markdown":"Why are you joining on number_ff ? You should join with the primary key.","body":"Why are you joining on number_ff ? You should join with the primary key."},{"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"score":0,"creation_date":1653326651,"post_id":72316206,"comment_id":127819846,"body_markdown":"I know about joining by primary keys but I need to use non-primary keys (example it could be isbn).","body":"I know about joining by primary keys but I need to use non-primary keys (example it could be isbn)."}],"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653326493,"creation_date":1653037205,"question_id":72316206,"body_markdown":"There are two related entities **Account** and **AccountInfo**. These entities connected by non-primary keys (number_ff, number_ff2). I see that Hibernate fetching three entities(Account, AccountInfo, AccountInfo) by one sql query. But I see that hibernate do additional query to database as well. Why does hibernate do additional call(query2)? How to avoid it?\r\n\r\nAlso I tried to use JPQL query. It works the same way (2 sql queries).\r\n\r\nDatabase schema(postgres):\r\n\r\n    CREATE TABLE public.accounts (\r\n        user_id serial PRIMARY KEY,\r\n        number_ff varchar NULL,\r\n        username varchar(50) NULL,\r\n        number_ff2 varchar NULL,\r\n        CONSTRAINT accounts_pkey PRIMARY KEY (user_id)\r\n    );\r\n    CREATE TABLE public.account_info (\r\n        account_info_id serial4 NOT NULL,\r\n        number_ff varchar NULL,\r\n        info varchar(1000) NULL,\r\n        CONSTRAINT account_info_pkey PRIMARY KEY (account_info_id)\r\n    );\r\n\r\nHibernate enitity 1:\r\n\r\n    @Entity\r\n    @Table(name = &quot;accounts&quot;)\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    public class Account implements Serializable {\r\n        @Id\r\n        private Long userId;\r\n        @Column(name = &quot;number_ff&quot;)\r\n        private String numberFf;\r\n        @Column(name = &quot;number_ff2&quot;)\r\n        private String numberFf2;\r\n        private String username;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;number_ff&quot;, referencedColumnName = &quot;number_ff&quot;, insertable = false, updatable = false, unique = true)\r\n        private AccountInfo accountInfos;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;number_ff2&quot;, referencedColumnName = &quot;number_ff&quot;, insertable = false, updatable = false, unique = true)\r\n        private AccountInfo accountInfo2s;\r\n    }\r\n\r\nEntity 2:\r\n\r\n    @Entity\r\n    @Table(name = &quot;account_info&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class AccountInfo implements Serializable {\r\n        @Id\r\n        private Long accountInfoId;\r\n        @NaturalId\r\n        @Column(name = &quot;number_ff&quot;)\r\n        private String numberFf;\r\n        private String info;\r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    public class ServiceInfo {\r\n        @Autowired\r\n        private AccountRepository accountRepository;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            Optional&lt;Account&gt; account = accountRepository.findById(1L);\r\n            System.out.println(account);\r\n        }\r\n    }\r\n\r\nSQL queries: Query 1 (Query that retrieves all the necessary data)\r\n\r\n    select\r\n        account0_.user_id as user_id1_1_0_,\r\n        account0_.number_ff2 as number_f3_1_0_,\r\n        account0_.number_ff as number_f2_1_0_,\r\n        account0_.username as username4_1_0_,\r\n        accountinf1_.account_info_id as account_1_0_1_,\r\n        accountinf1_.info as info2_0_1_,\r\n        accountinf1_.number_ff as number_f3_0_1_,\r\n        accountinf2_.account_info_id as account_1_0_2_,\r\n        accountinf2_.info as info2_0_2_,\r\n        accountinf2_.number_ff as number_f3_0_2_\r\n    from\r\n        accounts account0_\r\n    left outer join account_info accountinf1_ on\r\n        account0_.number_ff2 = accountinf1_.number_ff\r\n    left outer join account_info accountinf2_ on\r\n        account0_.number_ff = accountinf2_.number_ff\r\n    where\r\n        account0_.user_id =?\r\n\r\nQuery 2: (Additional query, why does it do it?)\r\n\r\n    select\r\n        accountinf0_.account_info_id as account_1_0_0_,\r\n        accountinf0_.info as info2_0_0_,\r\n        accountinf0_.number_ff as number_f3_0_0_\r\n    from\r\n        account_info accountinf0_\r\n    where\r\n        accountinf0_.number_ff =?\r\n\r\nI think second call is redundant. Why does hibernate do additional call (**query 2**)? How to avoid it? It looks like bug for me.\r\n\r\nPlease see small project on GitHub: [github link][1]\r\n\r\n\r\n  [1]: https://github.com/DzmitryNev/hibernate-issue-non-primary-keys","title":"Spring Data/Hibernate/JPA join by non-primary keys","body":"<p>There are two related entities <strong>Account</strong> and <strong>AccountInfo</strong>. These entities connected by non-primary keys (number_ff, number_ff2). I see that Hibernate fetching three entities(Account, AccountInfo, AccountInfo) by one sql query. But I see that hibernate do additional query to database as well. Why does hibernate do additional call(query2)? How to avoid it?</p>\n<p>Also I tried to use JPQL query. It works the same way (2 sql queries).</p>\n<p>Database schema(postgres):</p>\n<pre><code>CREATE TABLE public.accounts (\n    user_id serial PRIMARY KEY,\n    number_ff varchar NULL,\n    username varchar(50) NULL,\n    number_ff2 varchar NULL,\n    CONSTRAINT accounts_pkey PRIMARY KEY (user_id)\n);\nCREATE TABLE public.account_info (\n    account_info_id serial4 NOT NULL,\n    number_ff varchar NULL,\n    info varchar(1000) NULL,\n    CONSTRAINT account_info_pkey PRIMARY KEY (account_info_id)\n);\n</code></pre>\n<p>Hibernate enitity 1:</p>\n<pre><code>@Entity\n@Table(name = &quot;accounts&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Account implements Serializable {\n    @Id\n    private Long userId;\n    @Column(name = &quot;number_ff&quot;)\n    private String numberFf;\n    @Column(name = &quot;number_ff2&quot;)\n    private String numberFf2;\n    private String username;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;number_ff&quot;, referencedColumnName = &quot;number_ff&quot;, insertable = false, updatable = false, unique = true)\n    private AccountInfo accountInfos;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;number_ff2&quot;, referencedColumnName = &quot;number_ff&quot;, insertable = false, updatable = false, unique = true)\n    private AccountInfo accountInfo2s;\n}\n</code></pre>\n<p>Entity 2:</p>\n<pre><code>@Entity\n@Table(name = &quot;account_info&quot;)\n@Getter\n@Setter\npublic class AccountInfo implements Serializable {\n    @Id\n    private Long accountInfoId;\n    @NaturalId\n    @Column(name = &quot;number_ff&quot;)\n    private String numberFf;\n    private String info;\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class ServiceInfo {\n    @Autowired\n    private AccountRepository accountRepository;\n\n    @PostConstruct\n    public void init() {\n        Optional&lt;Account&gt; account = accountRepository.findById(1L);\n        System.out.println(account);\n    }\n}\n</code></pre>\n<p>SQL queries: Query 1 (Query that retrieves all the necessary data)</p>\n<pre><code>select\n    account0_.user_id as user_id1_1_0_,\n    account0_.number_ff2 as number_f3_1_0_,\n    account0_.number_ff as number_f2_1_0_,\n    account0_.username as username4_1_0_,\n    accountinf1_.account_info_id as account_1_0_1_,\n    accountinf1_.info as info2_0_1_,\n    accountinf1_.number_ff as number_f3_0_1_,\n    accountinf2_.account_info_id as account_1_0_2_,\n    accountinf2_.info as info2_0_2_,\n    accountinf2_.number_ff as number_f3_0_2_\nfrom\n    accounts account0_\nleft outer join account_info accountinf1_ on\n    account0_.number_ff2 = accountinf1_.number_ff\nleft outer join account_info accountinf2_ on\n    account0_.number_ff = accountinf2_.number_ff\nwhere\n    account0_.user_id =?\n</code></pre>\n<p>Query 2: (Additional query, why does it do it?)</p>\n<pre><code>select\n    accountinf0_.account_info_id as account_1_0_0_,\n    accountinf0_.info as info2_0_0_,\n    accountinf0_.number_ff as number_f3_0_0_\nfrom\n    account_info accountinf0_\nwhere\n    accountinf0_.number_ff =?\n</code></pre>\n<p>I think second call is redundant. Why does hibernate do additional call (<strong>query 2</strong>)? How to avoid it? It looks like bug for me.</p>\n<p>Please see small project on GitHub: <a href=\"https://github.com/DzmitryNev/hibernate-issue-non-primary-keys\" rel=\"nofollow noreferrer\">github link</a></p>\n"},{"tags":["java","scale","pdfbox","java-annotations"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653315195,"post_id":72349310,"comment_id":127815365,"body_markdown":"For each page you should not only scale the content stream but also all other coordinates on it, in particular the rectangles of each annotation thereon.","body":"For each page you should not only scale the content stream but also all other coordinates on it, in particular the rectangles of each annotation thereon."},{"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"score":0,"creation_date":1653322705,"post_id":72349310,"comment_id":127818465,"body_markdown":"Can you give an example?","body":"Can you give an example?"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653326273,"creation_date":1653326273,"answer_id":72352479,"question_id":72349310,"body_markdown":"As already said in a comment, *for each page you should not only scale the content stream but also all other coordinates on it, in particular the rectangles of each annotation thereon.* In response you asked for an example.\r\n\r\nYou can extend your inner `if` block to\r\n```lang-java\r\nif (page.getMediaBox().getWidth() &gt; letterWidth || page.getMediaBox().getHeight() &gt; letterHeight) {\r\n    float fWidth = letterWidth / page.getMediaBox().getWidth();\r\n    float fHeight = letterHeight / page.getMediaBox().getHeight();\r\n    float factor = Math.min(fWidth, fHeight);\r\n\r\n    PDPageContentStream contentStream = new PDPageContentStream(pdf, page, PDPageContentStream.AppendMode.PREPEND, false);\r\n    contentStream.transform(Matrix.getScaleInstance(factor, factor));\r\n    contentStream.close();\r\n    page.setMediaBox(PDRectangle.LETTER);\r\n\r\n    for (PDAnnotation pdAnnotation : page.getAnnotations()) {\r\n        PDRectangle rectangle = pdAnnotation.getRectangle();\r\n        PDRectangle scaled = new PDRectangle(factor * rectangle.getLowerLeftX(), factor * rectangle.getLowerLeftY(),\r\n                factor * rectangle.getWidth(), factor * rectangle.getHeight());\r\n        pdAnnotation.setRectangle(scaled);\r\n    }\r\n}\r\n```\r\n*([ScalePageWithAnnots][1] test `testForPereZix`)*\r\n\r\nThis will scale the rectangular area on the page into which the respective annotation is drawn.\r\n\r\nBeware, though: Depending on the exact type of annotations in your documents, you&#39;ll have to scale other properties of the annotations, too.\r\n\r\nOn one hand there are a number of annotations with some extra coordinate information, e.g. the **QuadPoints** of link, markup, and redaction annotations.\r\n\r\nOn the other hand there are annotation properties relevant for a PDF viewer to create an annotation appearance if it does not have an accompanying appearance stream, e.g. border widths of annotations in general and **DA** font sizes for widgets of text fields.\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/ScalePageWithAnnots.java#L46","title":"How to scale a PDAnnotation?","body":"<p>As already said in a comment, <em>for each page you should not only scale the content stream but also all other coordinates on it, in particular the rectangles of each annotation thereon.</em> In response you asked for an example.</p>\n<p>You can extend your inner <code>if</code> block to</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (page.getMediaBox().getWidth() &gt; letterWidth || page.getMediaBox().getHeight() &gt; letterHeight) {\n    float fWidth = letterWidth / page.getMediaBox().getWidth();\n    float fHeight = letterHeight / page.getMediaBox().getHeight();\n    float factor = Math.min(fWidth, fHeight);\n\n    PDPageContentStream contentStream = new PDPageContentStream(pdf, page, PDPageContentStream.AppendMode.PREPEND, false);\n    contentStream.transform(Matrix.getScaleInstance(factor, factor));\n    contentStream.close();\n    page.setMediaBox(PDRectangle.LETTER);\n\n    for (PDAnnotation pdAnnotation : page.getAnnotations()) {\n        PDRectangle rectangle = pdAnnotation.getRectangle();\n        PDRectangle scaled = new PDRectangle(factor * rectangle.getLowerLeftX(), factor * rectangle.getLowerLeftY(),\n                factor * rectangle.getWidth(), factor * rectangle.getHeight());\n        pdAnnotation.setRectangle(scaled);\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/ScalePageWithAnnots.java#L46\" rel=\"nofollow noreferrer\">ScalePageWithAnnots</a> test <code>testForPereZix</code>)</em></p>\n<p>This will scale the rectangular area on the page into which the respective annotation is drawn.</p>\n<p>Beware, though: Depending on the exact type of annotations in your documents, you'll have to scale other properties of the annotations, too.</p>\n<p>On one hand there are a number of annotations with some extra coordinate information, e.g. the <strong>QuadPoints</strong> of link, markup, and redaction annotations.</p>\n<p>On the other hand there are annotation properties relevant for a PDF viewer to create an annotation appearance if it does not have an accompanying appearance stream, e.g. border widths of annotations in general and <strong>DA</strong> font sizes for widgets of text fields.</p>\n"}],"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72352479,"answer_count":1,"score":0,"last_activity_date":1653326273,"creation_date":1653312086,"question_id":72349310,"body_markdown":"I have a pdf that has been passed to me with a signature (annotation) and I have to scale the pdf, but when I scale the pdf the annotation does not scale, and it comes out out out of shape. Any suggestions? I&#39;ll show you the code of the method and the pdf before and after\r\n\r\n**PDF BEFORE**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**PDF AFTER**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Method**\r\n\r\n        public static byte[] adjustPages(byte[] content) {\r\n        try (PDDocument pdf = PDDocument.load(content)) {\r\n            float letterWidth = PDRectangle.LETTER.getWidth();\r\n            float letterHeight = PDRectangle.LETTER.getHeight();\r\n            PDPageTree tree = pdf.getDocumentCatalog().getPages();\r\n            for (PDPage page : tree) {\r\n                if (page.getMediaBox().getWidth() &gt; letterWidth || page.getMediaBox().getHeight() &gt; letterHeight) {\r\n                    float fWidth = letterWidth / page.getMediaBox().getWidth();\r\n                    float fHeight = letterHeight / page.getMediaBox().getHeight();\r\n                    float factor = Math.min(fWidth, fHeight);\r\n\r\n                    PDPageContentStream contentStream = new PDPageContentStream(pdf, page, PDPageContentStream.AppendMode.PREPEND, false);\r\n                    contentStream.transform(Matrix.getScaleInstance(factor, factor));\r\n                    contentStream.close();\r\n                    page.setMediaBox(PDRectangle.LETTER);\r\n                }\r\n            }\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            pdf.save(baos);\r\n            return baos.toByteArray();\r\n        }catch (IOException ioe) {\r\n            return content;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f6Q4h.png\r\n  [2]: https://i.stack.imgur.com/wod2O.png","title":"How to scale a PDAnnotation?","body":"<p>I have a pdf that has been passed to me with a signature (annotation) and I have to scale the pdf, but when I scale the pdf the annotation does not scale, and it comes out out out of shape. Any suggestions? I'll show you the code of the method and the pdf before and after</p>\n<p><strong>PDF BEFORE</strong></p>\n<p><a href=\"https://i.stack.imgur.com/f6Q4h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6Q4h.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>PDF AFTER</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wod2O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wod2O.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Method</strong></p>\n<pre><code>    public static byte[] adjustPages(byte[] content) {\n    try (PDDocument pdf = PDDocument.load(content)) {\n        float letterWidth = PDRectangle.LETTER.getWidth();\n        float letterHeight = PDRectangle.LETTER.getHeight();\n        PDPageTree tree = pdf.getDocumentCatalog().getPages();\n        for (PDPage page : tree) {\n            if (page.getMediaBox().getWidth() &gt; letterWidth || page.getMediaBox().getHeight() &gt; letterHeight) {\n                float fWidth = letterWidth / page.getMediaBox().getWidth();\n                float fHeight = letterHeight / page.getMediaBox().getHeight();\n                float factor = Math.min(fWidth, fHeight);\n\n                PDPageContentStream contentStream = new PDPageContentStream(pdf, page, PDPageContentStream.AppendMode.PREPEND, false);\n                contentStream.transform(Matrix.getScaleInstance(factor, factor));\n                contentStream.close();\n                page.setMediaBox(PDRectangle.LETTER);\n            }\n        }\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        pdf.save(baos);\n        return baos.toByteArray();\n    }catch (IOException ioe) {\n        return content;\n    }\n}\n</code></pre>\n"},{"tags":["java","filereader","adjacency-matrix"],"comments":[{"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"score":1,"creation_date":1653213114,"post_id":72336369,"comment_id":127792055,"body_markdown":"Your program reads the first line (that constains &quot;6&quot;) and the `indexData` doesn&#39;t start with `-1` so the original value of `vertexNames` is returned (and it is &quot;temp&quot;)","body":"Your program reads the first line (that constains &quot;6&quot;) and the <code>indexData</code> doesn&#39;t start with <code>-1</code> so the original value of <code>vertexNames</code> is returned (and it is &quot;temp&quot;)"},{"owner":{"account_id":23317335,"reputation":1,"user_id":17395771,"display_name":"user17395771"},"score":0,"creation_date":1653213619,"post_id":72336369,"comment_id":127792137,"body_markdown":"@KyreX I have the startsWith read as g - 1, is this what you mean? I see the problem of 6 causing it to return to temp but I&#39;m not sure how to get around this","body":"@KyreX I have the startsWith read as g - 1, is this what you mean? I see the problem of 6 causing it to return to temp but I&#39;m not sure how to get around this"},{"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"score":1,"creation_date":1653214870,"post_id":72336369,"comment_id":127792319,"body_markdown":"I don&#39;t understand what you do. The indices are sequential so you don&#39;t need to check anything. Also,, you are always reading the first line of the file each time the `indexFile()` is called.","body":"I don&#39;t understand what you do. The indices are sequential so you don&#39;t need to check anything. Also,, you are always reading the first line of the file each time the <code>indexFile()</code> is called."},{"owner":{"account_id":23317335,"reputation":1,"user_id":17395771,"display_name":"user17395771"},"score":0,"creation_date":1653215313,"post_id":72336369,"comment_id":127792393,"body_markdown":"@KyreX I appreciate the advice and will try to fix it, if you can help me with what I need to change I&#39;d really appreciate it as this is my first project with readers and this type of matrix","body":"@KyreX I appreciate the advice and will try to fix it, if you can help me with what I need to change I&#39;d really appreciate it as this is my first project with readers and this type of matrix"},{"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"score":0,"creation_date":1653325504,"post_id":72336369,"comment_id":127819445,"body_markdown":"You should store the array in a `String[]` and use it. Now you are reading the entire file each time you call the method `getNames()`.","body":"You should store the array in a <code>String[]</code> and use it. Now you are reading the entire file each time you call the method <code>getNames()</code>."},{"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"score":0,"creation_date":1653326168,"post_id":72336369,"comment_id":127819682,"body_markdown":"I updated my answer with additional help for your new issue","body":"I updated my answer with additional help for your new issue"}],"answers":[{"tags":[],"owner":{"account_id":22421325,"reputation":106,"user_id":16628567,"display_name":"KyreX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653326024,"creation_date":1653217516,"answer_id":72336989,"question_id":72336369,"body_markdown":"You should read the entire file at once. If you want to keep the content for later, you can store it in a variable.\r\n\r\n    private String[] getNames(String fileName) throws IOException {\r\n        String[] names = null;\r\n        try(Scanner in = new Scanner(new File(fileName))) {\r\n            int maxNames = Integer.parseInt(in.nextLine()); // Get the number of names to read\r\n            names = new String[maxNames];\r\n      \r\n            int storedCount = 0;\r\n            while(storedCount &lt; maxNames &amp;&amp; in.hasNextLine()) {\r\n                String line = in.nextLine(); // Read a line\r\n                if(!line.isEmpty()) { // If the line is not empty\r\n                    names[storedCount] = line.split(&quot; &quot;, 2)[1]; // Split the line in at most 2 tokens separated by a space and store the second\r\n                    storedCount++; // Increment the count of names already stored\r\n                }\r\n            }\r\n        }\r\n        return names;\r\n    }\r\n\r\nWith this method you can get the first `N`-titles of the file with `N` being the value of the first line.\r\nYou will have to handle the possible exceptions.\r\n\r\n\r\n**QUESTION UPDATED**\r\n\r\nAs I said in the comment of the question, you should store the array and then use as many times as you want. If you call the method `getNames()` N times, you are reading the same entire file N times (really inefficient)\r\n\r\nTo get each name followed by its number, you need to iterate both elements (names and numbers) at the same time\r\n\r\n    String[] names = getNames(&quot;input.txt&quot;); // read file once\r\n    for(int i = 0; i &lt; names.length; ++i) {\r\n        strBuilder.append(names[i]).append(&quot;: &quot;).append(adjMatrix[i]).append(&quot;\\n&quot;); // use it many\r\n    }","title":"Java adjacency matrix from .txt file won&#39;t read correctly","body":"<p>You should read the entire file at once. If you want to keep the content for later, you can store it in a variable.</p>\n<pre><code>private String[] getNames(String fileName) throws IOException {\n    String[] names = null;\n    try(Scanner in = new Scanner(new File(fileName))) {\n        int maxNames = Integer.parseInt(in.nextLine()); // Get the number of names to read\n        names = new String[maxNames];\n  \n        int storedCount = 0;\n        while(storedCount &lt; maxNames &amp;&amp; in.hasNextLine()) {\n            String line = in.nextLine(); // Read a line\n            if(!line.isEmpty()) { // If the line is not empty\n                names[storedCount] = line.split(&quot; &quot;, 2)[1]; // Split the line in at most 2 tokens separated by a space and store the second\n                storedCount++; // Increment the count of names already stored\n            }\n        }\n    }\n    return names;\n}\n</code></pre>\n<p>With this method you can get the first <code>N</code>-titles of the file with <code>N</code> being the value of the first line.\nYou will have to handle the possible exceptions.</p>\n<p><strong>QUESTION UPDATED</strong></p>\n<p>As I said in the comment of the question, you should store the array and then use as many times as you want. If you call the method <code>getNames()</code> N times, you are reading the same entire file N times (really inefficient)</p>\n<p>To get each name followed by its number, you need to iterate both elements (names and numbers) at the same time</p>\n<pre><code>String[] names = getNames(&quot;input.txt&quot;); // read file once\nfor(int i = 0; i &lt; names.length; ++i) {\n    strBuilder.append(names[i]).append(&quot;: &quot;).append(adjMatrix[i]).append(&quot;\\n&quot;); // use it many\n}\n</code></pre>\n"}],"owner":{"account_id":23317335,"reputation":1,"user_id":17395771,"display_name":"user17395771"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653326024,"creation_date":1653212378,"question_id":72336369,"body_markdown":"UPDATE: With the help of @KyreX the code now correctly reads the file and prints the array of names as vertexes HOWEVER it is now printing the entire array of names as vertexes instead of appending one at each time resulting in this:\r\n\r\n```\r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 1 0 1 0 0 \r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 1 0 0 1 0 1\r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 0 0 0 1 0\r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 1 1 0 0 0 0\r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 0 1 0 0 0\r\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 1 0 0 0 0\r\n```\r\nThe code resulting in this print looks like this:\r\n```\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        for (int i = 0; i &lt; numVertices; i++) {\r\n            try {\r\n                int q = 0;\r\n                while (q &lt; getNames(&quot;index.txt&quot;).length) {\r\n                    s.append(getNames(&quot;index.txt&quot;)[q] + &quot;: &quot;);\r\n                    q++;\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            for (boolean j : adjMatrix[i]) {\r\n                s.append((j ? 1 : 0) + &quot; &quot;);\r\n            }\r\n            s.append(&quot;\\n&quot;);\r\n        }\r\n        return s.toString();\r\n    }\r\n```\r\n\r\n\r\n\r\nI am trying to create an adjacency matrix in java from a .txt file, the program is supposed to read the following file:\r\n```\r\n6\r\n\r\n0 Gromit\r\n\r\n1 Gwendolyn\r\n\r\n2 Le-Spiderman\r\n\r\n3 Wallace\r\n\r\n4 Batman\r\n\r\n5 Superman\r\n```\r\n It is then supposed to use this information to assign the vertexes of the matrix using the number preceding the name. E.g. 0 Gromit is position 0 etc. The 6 above the pairs is the number of pairs in the file, this must remain. The problem I have is that when I run my code instead of printing the names as the vertexes it prints the word &quot;temp: &quot; followed by the edges assigned to that position. This is my code:\r\n```\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        for (int i = 0; i &lt; numVertices; i++) {\r\n\r\n            String vertexName = &quot;temp&quot;;\r\n\r\n            s.append(indexFile(vertexName, i) + &quot;: &quot;);\r\n            for (boolean j : adjMatrix[i]) {\r\n                s.append((j ? 1 : 0) + &quot; &quot;);\r\n            }\r\n            s.append(&quot;\\n&quot;);\r\n        }\r\n        return s.toString();\r\n    }\r\n\r\n    // reading index.txt\r\n    public String indexFile(String vertexNames, int g) {\r\n        try {\r\n            File indexObj = new File(&quot;index.txt&quot;);\r\n            Scanner indexReader = new Scanner(indexObj);\r\n\r\n            String indexData = indexReader.nextLine();\r\n\r\n            if (indexData.startsWith(Integer.toString(g - 1)) == true) {\r\n                String[] posAndName = indexData.split(&quot; &quot;);\r\n                vertexNames = posAndName[1];\r\n                System.out.print(&quot;it is &quot; + posAndName[1]);\r\n            }\r\n\r\n            g++;\r\n\r\n        } catch (FileNotFoundException e) {\r\n\r\n            System.out.println(&quot;File Not Found.&quot;);\r\n            e.printStackTrace();\r\n\r\n        }\r\n        return vertexNames;\r\n    }\r\n```","title":"Java adjacency matrix from .txt file won&#39;t read correctly","body":"<p>UPDATE: With the help of @KyreX the code now correctly reads the file and prints the array of names as vertexes HOWEVER it is now printing the entire array of names as vertexes instead of appending one at each time resulting in this:</p>\n<pre><code>Gromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 1 0 1 0 0 \nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 1 0 0 1 0 1\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 0 0 0 1 0\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 1 1 0 0 0 0\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 0 1 0 0 0\nGromit: Gwendolyn: Le-Spiderman: Wallace: Batman: Superman: 0 1 0 0 0 0\n</code></pre>\n<p>The code resulting in this print looks like this:</p>\n<pre><code>    public String toString() {\n        StringBuilder s = new StringBuilder();\n        for (int i = 0; i &lt; numVertices; i++) {\n            try {\n                int q = 0;\n                while (q &lt; getNames(&quot;index.txt&quot;).length) {\n                    s.append(getNames(&quot;index.txt&quot;)[q] + &quot;: &quot;);\n                    q++;\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            for (boolean j : adjMatrix[i]) {\n                s.append((j ? 1 : 0) + &quot; &quot;);\n            }\n            s.append(&quot;\\n&quot;);\n        }\n        return s.toString();\n    }\n</code></pre>\n<p>I am trying to create an adjacency matrix in java from a .txt file, the program is supposed to read the following file:</p>\n<pre><code>6\n\n0 Gromit\n\n1 Gwendolyn\n\n2 Le-Spiderman\n\n3 Wallace\n\n4 Batman\n\n5 Superman\n</code></pre>\n<p>It is then supposed to use this information to assign the vertexes of the matrix using the number preceding the name. E.g. 0 Gromit is position 0 etc. The 6 above the pairs is the number of pairs in the file, this must remain. The problem I have is that when I run my code instead of printing the names as the vertexes it prints the word &quot;temp: &quot; followed by the edges assigned to that position. This is my code:</p>\n<pre><code>    public String toString() {\n        StringBuilder s = new StringBuilder();\n        for (int i = 0; i &lt; numVertices; i++) {\n\n            String vertexName = &quot;temp&quot;;\n\n            s.append(indexFile(vertexName, i) + &quot;: &quot;);\n            for (boolean j : adjMatrix[i]) {\n                s.append((j ? 1 : 0) + &quot; &quot;);\n            }\n            s.append(&quot;\\n&quot;);\n        }\n        return s.toString();\n    }\n\n    // reading index.txt\n    public String indexFile(String vertexNames, int g) {\n        try {\n            File indexObj = new File(&quot;index.txt&quot;);\n            Scanner indexReader = new Scanner(indexObj);\n\n            String indexData = indexReader.nextLine();\n\n            if (indexData.startsWith(Integer.toString(g - 1)) == true) {\n                String[] posAndName = indexData.split(&quot; &quot;);\n                vertexNames = posAndName[1];\n                System.out.print(&quot;it is &quot; + posAndName[1]);\n            }\n\n            g++;\n\n        } catch (FileNotFoundException e) {\n\n            System.out.println(&quot;File Not Found.&quot;);\n            e.printStackTrace();\n\n        }\n        return vertexNames;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653324697,"post_id":72352100,"comment_id":127819176,"body_markdown":"*is not working for that case* - What is the rationale behind this conclusion?","body":"<i>is not working for that case</i> - What is the rationale behind this conclusion?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653324802,"creation_date":1653324802,"answer_id":72352178,"question_id":72352100,"body_markdown":"No, this is fine.\r\n\r\nThe only case that string concatenation can be problematic is when you&#39;re using a loop to build _one single string_.  Your method by itself is fine.  Callers of your method can, of course, mess things up, but not in a way that&#39;s related to your method.  ","title":"Java string concatenation optimisation is applied in this case?","body":"<p>No, this is fine.</p>\n<p>The only case that string concatenation can be problematic is when you're using a loop to build <em>one single string</em>.  Your method by itself is fine.  Callers of your method can, of course, mess things up, but not in a way that's related to your method.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653325782,"creation_date":1653325782,"answer_id":72352374,"question_id":72352100,"body_markdown":"The code as written should be as efficient as making a StringBuilder and appending these 3 constants to it. There certainly is absolutely no difference at all between a literal (`&quot;Some phrase&quot;`), and an expression that the compiler can treat as a Compile Time Constant (which `CONSTANT`, here, clearly is - given that `CONSTANT` is static, final, not null, and of a CTCable type (All primitives and strings)).\r\n\r\nHowever, is that &#39;efficient&#39;? I doubt it - making a stringbuilder is not particularly cheap either. It&#39;s orders of magnitude cheaper than continually making new strings, sure, but there&#39;s always a bigger fish:\r\n\r\n## It doesn&#39;t matter\r\n\r\nComputers are fast. Really, _really_ fast. It is highly likely that you can write this incredibly badly (performance wise) and it _still_ won&#39;t be measurable. You won&#39;t even notice. Less than a millisecond slower.\r\n\r\nIn general, anybody that worries about performance at this level simply lacks perspective and knowledge: If you apply that level of fretting to your java code _and_ you have the knowledge to know what could in theory be non-perfectly-performant, you&#39;ll be sweating every 3rd character you ever type. That&#39;s no way to program. So, gain that perspective (or take it from me, &quot;just git gud&quot; is not exactly something you can do in a week - take it on faith for now, as you learn you can start verifying) - and don&#39;t worry about it. Unless you _actually_ run into an _actual_ situation where the code is slower than it feels like it could be, or slower than it needs to be, and then toss profilers and microbenchmark testing frameworks at it, and _THEN_, armed with all that information (and not before!), consider optimizing. The reports tell you what to optimize, because literally less than 1% of the code is responsible for 99% of the performance loss, so spending any time on code that isn&#39;t in that 1% is __an utter waste of time__, hence why you must get those reports first, or not start at all.\r\n\r\n## ... or perhaps it does\r\n\r\nBut if it does matter, and it&#39;s really that 1% of the code that is responsible for 99% of the loss, then usually you need to go a little further than just &#39;optimize the method&#39;. Optimize the entire pipeline.\r\n\r\nWhat is happening with this string? Take that into consideration.\r\n\r\nFor example, let&#39;s say that it, itself, is being appended to a much bigger stringbuilder. In which case, making a tiny stringbuilder here is incredibly inefficient compared to rewriting the method to:\r\n\r\n```\r\npublic static void concatStringWithCondition(StringBuilder sb, String condition) {\r\n   sb.append(&quot;Some phrase&quot;).append(condition).append(CONSTANT);\r\n}\r\n```\r\n\r\nOr, perhaps this data is being turned into bytes using UTF_8 and then tossed onto a web socket. In that case:\r\n\r\n```\r\nprivate static final byte[] PREFIX = &quot;Some phrase&quot;.getBytes(StandardCharsets.UTF_8);\r\nprivate static final byte[] SUFFIX = &quot;Some Constant&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\npublic void concatStringWithCondition(OutputStream out, String condition) {\r\n  out.write(PREFIX);\r\n  out.write(condition.getBytes(StandardCharsets.UTF_8));\r\n  out.write(SUFFIX);\r\n}\r\n```\r\n\r\n- and check if that outputstream is buffered. If not, make it buffered, that&#39;ll help __a ton__ and would completely dwarf the cost of not using string concatenation. If the &#39;condition&#39; string can get quite large, the above is no good either, you want a CharsetEncoder that encodes straight to the OutputStream, and may even want to replace all that with some ByteBuffer based approach.\r\n\r\n## Conclusion\r\n\r\n1. Assume performance is never relevant until it is.\r\n2. _IF_ performance truly must be tackled, strap in, it&#39;ll take ages to do it right. Doing it &#39;wrong&#39; (applying dumb rules of thumb that do not work) isn&#39;t useful. Either do it right, or don&#39;t do it.\r\n3. _IF_ you&#39;re still on bard, always start with profiler reports and use JMH to gather information.\r\n4. Be prepared to rewrite the pipeline - change the method signatures, in order to optimize.\r\n5. That means that micro-optimizing, which usually sacrifices nice abstracted APIs, is __actively bad for performance__ - because changing pipelines is considerably more difficult if all code is micro-optimized, given that this usually comes at the cost of abstraction.\r\n\r\nAnd now the circle is complete: Point 5 shows why the worrying about performance as you are doing in this question is in fact detrimental: It is far too likely that this worry results in you &#39;optimizing&#39; some code in a way that doesn&#39;t actually run faster (because the JVM is a complex beast), and even if it did, it is irrelevant because the code path this code is on is literally only 0.01% or less of the total runtime expenditure, and in the mean time you&#39;ve made your APIs worse and lack abstraction which would make any actually useful optimization much harder than it needs to be.\r\n\r\n## But I really want rules of thumb!\r\n\r\nAllright, fine. Here are 2 easy rules of thumb to follow that will lead to better performance:\r\n\r\n1. When in rome...\r\n\r\nThe JVM is an optimising marvel and will run the craziest code quite quickly anyway. However, it does this primarily by being a giant pattern matching machine: It finds recognizable code snippets and rewrites these to the fastest, most carefully tuned to juuust your combination of hardware machine code it can. However, this pattern machine isn&#39;t voodoo magic: It&#39;s got limited patterns. Which patterns do JVM makers &#39;ship&#39; with their JVMs? Why, the common patterns, of course. Why include a pattern for exotic code virtually nobody ever writes? Waste of space.\r\n\r\nSo, write code the way java programmers tend to write it. Which very much means: Do not write crazy code just because __you think__ it might be faster. It&#39;ll likely be _slower_. Just follow the crowd.\r\n\r\nTrivial example:\r\n\r\nWhich one is faster:\r\n\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nfor (int i = 0; i &lt; 10000; i++) list.add(someRandomName());\r\n\r\n// option 1:\r\n\r\nString[] arr = list.toArray(new String[list.size()]);\r\n\r\n// option 2:\r\n\r\nString[] arr = list.toArray(new String[0]);\r\n```\r\n\r\nYou might think, obviously, option 1, right? Option 2 &#39;wastes&#39; a string array, making a 0-length array just to toss it in the garbage right after. But you&#39;d be wrong: Option 2 is in fact faster (if you want an explanation: The JVM recognizes it, and does a hacky move: It makes an new string array that _does not_ need to be initialized with all zeroes first. Normal java code cannot do this (arrays are neccessarily initialized blank, to prevent memory corruption issues), but specifically `.toArray(new X[0])`? Those pattern matching machines I told you about detect this and replace it with code that just blits the refs straight into a patch of memory without wasting time writing zeroes to it first.\r\n\r\nIt&#39;s a subtle difference that is highly unlikely to matter - it just highlights: Your instincts? They will mislead you every time.\r\n\r\nFortunately, `.toArray(new X[0])` is common java code. And easier and shorter. So just write nice, convenient code that looks like how other folks write and you&#39;d have gotten the right answer here. Without having to know such _crazy_ esoterics as having to reason out how the JVM needs to waste time zeroing out that array and how hotspot / pattern matching __might__ possibly eliminate this, thus making it faster. That&#39;s just one of 5 million things you&#39;d have to know - and nobody can do that. Thus: Just write java code in simple, common styles.\r\n\r\n2. Algorithmic complexity is a thing hotspot can&#39;t fix for you\r\n\r\nGiven an `O(n^3)` algorithm fighting an `O(log(n) * n^2)` algorithm, make n large enough and the second algorithm has to win, that&#39;s what big O notation means. The JVM can do a lot of magic but it can pretty much never optimize an algorithm into a faster &#39;class&#39; of algorithmic complexity. You might be surprised at the size `n` has to be before algorithmic complexity dominates, but it is acceptable to realize that your algorithm can be fundamentally faster and do the work on rewriting it to this more efficient algorithm even without profiler reports and benchmark harnesses and the like.\r\n","title":"Java string concatenation optimisation is applied in this case?","body":"<p>The code as written should be as efficient as making a StringBuilder and appending these 3 constants to it. There certainly is absolutely no difference at all between a literal (<code>&quot;Some phrase&quot;</code>), and an expression that the compiler can treat as a Compile Time Constant (which <code>CONSTANT</code>, here, clearly is - given that <code>CONSTANT</code> is static, final, not null, and of a CTCable type (All primitives and strings)).</p>\n<p>However, is that 'efficient'? I doubt it - making a stringbuilder is not particularly cheap either. It's orders of magnitude cheaper than continually making new strings, sure, but there's always a bigger fish:</p>\n<h2>It doesn't matter</h2>\n<p>Computers are fast. Really, <em>really</em> fast. It is highly likely that you can write this incredibly badly (performance wise) and it <em>still</em> won't be measurable. You won't even notice. Less than a millisecond slower.</p>\n<p>In general, anybody that worries about performance at this level simply lacks perspective and knowledge: If you apply that level of fretting to your java code <em>and</em> you have the knowledge to know what could in theory be non-perfectly-performant, you'll be sweating every 3rd character you ever type. That's no way to program. So, gain that perspective (or take it from me, &quot;just git gud&quot; is not exactly something you can do in a week - take it on faith for now, as you learn you can start verifying) - and don't worry about it. Unless you <em>actually</em> run into an <em>actual</em> situation where the code is slower than it feels like it could be, or slower than it needs to be, and then toss profilers and microbenchmark testing frameworks at it, and <em>THEN</em>, armed with all that information (and not before!), consider optimizing. The reports tell you what to optimize, because literally less than 1% of the code is responsible for 99% of the performance loss, so spending any time on code that isn't in that 1% is <strong>an utter waste of time</strong>, hence why you must get those reports first, or not start at all.</p>\n<h2>... or perhaps it does</h2>\n<p>But if it does matter, and it's really that 1% of the code that is responsible for 99% of the loss, then usually you need to go a little further than just 'optimize the method'. Optimize the entire pipeline.</p>\n<p>What is happening with this string? Take that into consideration.</p>\n<p>For example, let's say that it, itself, is being appended to a much bigger stringbuilder. In which case, making a tiny stringbuilder here is incredibly inefficient compared to rewriting the method to:</p>\n<pre><code>public static void concatStringWithCondition(StringBuilder sb, String condition) {\n   sb.append(&quot;Some phrase&quot;).append(condition).append(CONSTANT);\n}\n</code></pre>\n<p>Or, perhaps this data is being turned into bytes using UTF_8 and then tossed onto a web socket. In that case:</p>\n<pre><code>private static final byte[] PREFIX = &quot;Some phrase&quot;.getBytes(StandardCharsets.UTF_8);\nprivate static final byte[] SUFFIX = &quot;Some Constant&quot;.getBytes(StandardCharsets.UTF_8);\n\npublic void concatStringWithCondition(OutputStream out, String condition) {\n  out.write(PREFIX);\n  out.write(condition.getBytes(StandardCharsets.UTF_8));\n  out.write(SUFFIX);\n}\n</code></pre>\n<ul>\n<li>and check if that outputstream is buffered. If not, make it buffered, that'll help <strong>a ton</strong> and would completely dwarf the cost of not using string concatenation. If the 'condition' string can get quite large, the above is no good either, you want a CharsetEncoder that encodes straight to the OutputStream, and may even want to replace all that with some ByteBuffer based approach.</li>\n</ul>\n<h2>Conclusion</h2>\n<ol>\n<li>Assume performance is never relevant until it is.</li>\n<li><em>IF</em> performance truly must be tackled, strap in, it'll take ages to do it right. Doing it 'wrong' (applying dumb rules of thumb that do not work) isn't useful. Either do it right, or don't do it.</li>\n<li><em>IF</em> you're still on bard, always start with profiler reports and use JMH to gather information.</li>\n<li>Be prepared to rewrite the pipeline - change the method signatures, in order to optimize.</li>\n<li>That means that micro-optimizing, which usually sacrifices nice abstracted APIs, is <strong>actively bad for performance</strong> - because changing pipelines is considerably more difficult if all code is micro-optimized, given that this usually comes at the cost of abstraction.</li>\n</ol>\n<p>And now the circle is complete: Point 5 shows why the worrying about performance as you are doing in this question is in fact detrimental: It is far too likely that this worry results in you 'optimizing' some code in a way that doesn't actually run faster (because the JVM is a complex beast), and even if it did, it is irrelevant because the code path this code is on is literally only 0.01% or less of the total runtime expenditure, and in the mean time you've made your APIs worse and lack abstraction which would make any actually useful optimization much harder than it needs to be.</p>\n<h2>But I really want rules of thumb!</h2>\n<p>Allright, fine. Here are 2 easy rules of thumb to follow that will lead to better performance:</p>\n<ol>\n<li>When in rome...</li>\n</ol>\n<p>The JVM is an optimising marvel and will run the craziest code quite quickly anyway. However, it does this primarily by being a giant pattern matching machine: It finds recognizable code snippets and rewrites these to the fastest, most carefully tuned to juuust your combination of hardware machine code it can. However, this pattern machine isn't voodoo magic: It's got limited patterns. Which patterns do JVM makers 'ship' with their JVMs? Why, the common patterns, of course. Why include a pattern for exotic code virtually nobody ever writes? Waste of space.</p>\n<p>So, write code the way java programmers tend to write it. Which very much means: Do not write crazy code just because <strong>you think</strong> it might be faster. It'll likely be <em>slower</em>. Just follow the crowd.</p>\n<p>Trivial example:</p>\n<p>Which one is faster:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; 10000; i++) list.add(someRandomName());\n\n// option 1:\n\nString[] arr = list.toArray(new String[list.size()]);\n\n// option 2:\n\nString[] arr = list.toArray(new String[0]);\n</code></pre>\n<p>You might think, obviously, option 1, right? Option 2 'wastes' a string array, making a 0-length array just to toss it in the garbage right after. But you'd be wrong: Option 2 is in fact faster (if you want an explanation: The JVM recognizes it, and does a hacky move: It makes an new string array that <em>does not</em> need to be initialized with all zeroes first. Normal java code cannot do this (arrays are neccessarily initialized blank, to prevent memory corruption issues), but specifically <code>.toArray(new X[0])</code>? Those pattern matching machines I told you about detect this and replace it with code that just blits the refs straight into a patch of memory without wasting time writing zeroes to it first.</p>\n<p>It's a subtle difference that is highly unlikely to matter - it just highlights: Your instincts? They will mislead you every time.</p>\n<p>Fortunately, <code>.toArray(new X[0])</code> is common java code. And easier and shorter. So just write nice, convenient code that looks like how other folks write and you'd have gotten the right answer here. Without having to know such <em>crazy</em> esoterics as having to reason out how the JVM needs to waste time zeroing out that array and how hotspot / pattern matching <strong>might</strong> possibly eliminate this, thus making it faster. That's just one of 5 million things you'd have to know - and nobody can do that. Thus: Just write java code in simple, common styles.</p>\n<ol start=\"2\">\n<li>Algorithmic complexity is a thing hotspot can't fix for you</li>\n</ol>\n<p>Given an <code>O(n^3)</code> algorithm fighting an <code>O(log(n) * n^2)</code> algorithm, make n large enough and the second algorithm has to win, that's what big O notation means. The JVM can do a lot of magic but it can pretty much never optimize an algorithm into a faster 'class' of algorithmic complexity. You might be surprised at the size <code>n</code> has to be before algorithmic complexity dominates, but it is acceptable to realize that your algorithm can be fundamentally faster and do the work on rewriting it to this more efficient algorithm even without profiler reports and benchmark harnesses and the like.</p>\n"}],"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653325782,"creation_date":1653324395,"question_id":72352100,"body_markdown":"Let&#39;s imagine I have a lib which contains the following simple method:\r\n\r\n```\r\n\r\nprivate static final String CONSTANT = &quot;Constant&quot;;\r\n\r\npublic static String concatStringWithCondition(String condition) {\r\n   return &quot;Some phrase&quot; + condition + CONSTANT;\r\n\r\n}\r\n\r\n```\r\n\r\nWhat if someone wants to use my method in a loop? As I understand, that string optimisation (where `+` gets replaced with `StringBuilder` or whatever is more optimal) is not working for that case? Or this is valid for strings initialised outside of the loop?\r\n\r\nI&#39;m using java 11 (Dropwizard).\r\n\r\nThanks.","title":"Java string concatenation optimisation is applied in this case?","body":"<p>Let's imagine I have a lib which contains the following simple method:</p>\n<pre><code>\nprivate static final String CONSTANT = &quot;Constant&quot;;\n\npublic static String concatStringWithCondition(String condition) {\n   return &quot;Some phrase&quot; + condition + CONSTANT;\n\n}\n\n</code></pre>\n<p>What if someone wants to use my method in a loop? As I understand, that string optimisation (where <code>+</code> gets replaced with <code>StringBuilder</code> or whatever is more optimal) is not working for that case? Or this is valid for strings initialised outside of the loop?</p>\n<p>I'm using java 11 (Dropwizard).</p>\n<p>Thanks.</p>\n"},{"tags":["java","http","httpresponse"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653325877,"post_id":72352373,"comment_id":127819579,"body_markdown":"You gotta extract the `&lt;h3&gt;` tag out of there somehow.","body":"You gotta extract the <code>&lt;h3&gt;</code> tag out of there somehow."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653326296,"post_id":72352373,"comment_id":127819729,"body_markdown":"Try using JSoup library","body":"Try using JSoup library"}],"owner":{"account_id":22980189,"reputation":1,"user_id":19182527,"display_name":"noodlegang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653326352,"answer_count":0,"score":0,"last_activity_date":1653325779,"creation_date":1653325779,"question_id":72352373,"body_markdown":"This may be a rookie problem, but I&#39;m stuck and I have to submit this by tomorrow.\r\nIn short, I send basic GET request to the website and then read responce using BufferedReader\r\n```\r\nif (HttpURLConnection.HTTP_OK == con.getResponseCode()) {\r\n                BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n                String line;\r\n                while ((line = bf.readLine()) != null) {\r\n                    sb.append(line);\r\n                    sb.append(&quot;/n&quot;);\r\n                    addToResultList(sb, nameRes);\r\n                }\r\n                System.out.println(sb);\r\n            }\r\n```\r\nNaturally, this just reads and prints out whole html code of the website, the only problem is that I don&#39;t know how to distract specific information from it, i.e.\r\n[part of responce][1]. \r\nI only need the title from it.\r\n\r\n  [1]: https://i.stack.imgur.com/gf6vy.png","title":"How to find specific information in HTTP Java response?","body":"<p>This may be a rookie problem, but I'm stuck and I have to submit this by tomorrow.\nIn short, I send basic GET request to the website and then read responce using BufferedReader</p>\n<pre><code>if (HttpURLConnection.HTTP_OK == con.getResponseCode()) {\n                BufferedReader bf = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n                String line;\n                while ((line = bf.readLine()) != null) {\n                    sb.append(line);\n                    sb.append(&quot;/n&quot;);\n                    addToResultList(sb, nameRes);\n                }\n                System.out.println(sb);\n            }\n</code></pre>\n<p>Naturally, this just reads and prints out whole html code of the website, the only problem is that I don't know how to distract specific information from it, i.e.\n<a href=\"https://i.stack.imgur.com/gf6vy.png\" rel=\"nofollow noreferrer\">part of responce</a>.\nI only need the title from it.</p>\n"},{"tags":["java","file","filewriter"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1600165464,"post_id":63899756,"comment_id":112995443,"body_markdown":"This should work. You need to check if `n&gt;0` and make sure you&#39;re looking at the file you&#39;re writing to.","body":"This should work. You need to check if <code>n&gt;0</code> and make sure you&#39;re looking at the file you&#39;re writing to."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1600165668,"creation_date":1600165668,"answer_id":63899930,"question_id":63899756,"body_markdown":"Your problem is incorrect initialization of `FileWriter`. Check this out where I put `true`:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 10);\r\n        appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 20);\r\n    }\r\n    \r\n    public static void appendRandomNumbersToFile(String fileName, int n) throws IOException {\r\n        if (n &lt;= 0)\r\n            throw new RuntimeException(&quot;n should be positive&quot;);\r\n    \r\n        try (PrintWriter writer = new PrintWriter(new FileWriter(fileName, true))) {\r\n            Random random = new Random();\r\n    \r\n            for (int i = 0; i &lt; n; i++)\r\n                writer.println(random.nextInt());\r\n        }\r\n    }\r\n\r\n\r\n***P.S.** This is from JavaDoc:*\r\n\r\n\r\n    public FileWriter(String fileName, boolean append) {}\r\n    public PrintWriter(Writer out, boolean autoFlush) {}","title":"Writing in a font file","body":"<p>Your problem is incorrect initialization of <code>FileWriter</code>. Check this out where I put <code>true</code>:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 10);\n    appendRandomNumbersToFile(&quot;e:/foo.txt&quot;, 20);\n}\n\npublic static void appendRandomNumbersToFile(String fileName, int n) throws IOException {\n    if (n &lt;= 0)\n        throw new RuntimeException(&quot;n should be positive&quot;);\n\n    try (PrintWriter writer = new PrintWriter(new FileWriter(fileName, true))) {\n        Random random = new Random();\n\n        for (int i = 0; i &lt; n; i++)\n            writer.println(random.nextInt());\n    }\n}\n</code></pre>\n<p><em><strong>P.S.</strong> This is from JavaDoc:</em></p>\n<pre><code>public FileWriter(String fileName, boolean append) {}\npublic PrintWriter(Writer out, boolean autoFlush) {}\n</code></pre>\n"}],"owner":{"account_id":19518105,"reputation":1,"user_id":14280556,"display_name":"PolloPalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653325602,"creation_date":1600165034,"question_id":63899756,"body_markdown":"I need to create a method that given the file name and an integer n writes to a character file with that name, n random integers, one per line.\r\nThis is my code, I think it is written correctly but the file I pass remains &quot;empty&quot; with size 0 bytes. Can someone help me?\r\n\r\n       public static void scriviIntero(String nomeFile, int n) {\r\n        try (PrintWriter scrivi = new PrintWriter(new FileWriter(nomeFile, true))) {\r\n        Random random = new Random();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                int nuovo = random.nextInt(99999);\r\n                scrivi.println(nuovo);\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Errore di I/O nella funzione scriviIntero nel tentativo di scrivere sul file &quot; + nomeFile);\r\n        }\r\n        \r\n    }\r\n","title":"Writing in a font file","body":"<p>I need to create a method that given the file name and an integer n writes to a character file with that name, n random integers, one per line.\nThis is my code, I think it is written correctly but the file I pass remains &quot;empty&quot; with size 0 bytes. Can someone help me?</p>\n<pre><code>   public static void scriviIntero(String nomeFile, int n) {\n    try (PrintWriter scrivi = new PrintWriter(new FileWriter(nomeFile, true))) {\n    Random random = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            int nuovo = random.nextInt(99999);\n            scrivi.println(nuovo);\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;Errore di I/O nella funzione scriviIntero nel tentativo di scrivere sul file &quot; + nomeFile);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","regex","apache-kafka","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653325230,"creation_date":1653325230,"answer_id":72352268,"question_id":72350660,"body_markdown":"Your pattern matches `masterdat`, `materdata`, `masetdataa`, etc. The `a*` means _zero or more `a`&#39;s_. \r\n\r\nTry using `masterdata\\.[a-z]+`","title":"Micronaut Kafka Listener multi topic","body":"<p>Your pattern matches <code>masterdat</code>, <code>materdata</code>, <code>masetdataa</code>, etc. The <code>a*</code> means <em>zero or more <code>a</code>'s</em>.</p>\n<p>Try using <code>masterdata\\.[a-z]+</code></p>\n"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72352268,"answer_count":1,"score":0,"last_activity_date":1653325269,"creation_date":1653317835,"question_id":72350660,"body_markdown":"I want to create a KakfaListener for several topics. All topics start with &quot;masterdata&quot;, for example:\r\n- masterdata.product\r\n- masterdata.supplier\r\n\r\nI try to implement a topic pattern but it doesn&#39;t work:\r\n```\r\n@KafkaListener(offsetReset = OffsetReset.EARLIEST)\r\n    static class AnalyticsListener {\r\n\r\n        @Topic(patterns=&quot;masterdata*&quot;)\r\n        void updateAnalytics(String item, String topic) {\r\n            received.add(topic);\r\n        }\r\n    }\r\n```\r\nAny suggestion?","title":"Micronaut Kafka Listener multi topic","body":"<p>I want to create a KakfaListener for several topics. All topics start with &quot;masterdata&quot;, for example:</p>\n<ul>\n<li>masterdata.product</li>\n<li>masterdata.supplier</li>\n</ul>\n<p>I try to implement a topic pattern but it doesn't work:</p>\n<pre><code>@KafkaListener(offsetReset = OffsetReset.EARLIEST)\n    static class AnalyticsListener {\n\n        @Topic(patterns=&quot;masterdata*&quot;)\n        void updateAnalytics(String item, String topic) {\n            received.add(topic);\n        }\n    }\n</code></pre>\n<p>Any suggestion?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8670,"page":1322,"page_size":100}
