{"items":[{"tags":["java","spring-boot","stateless","stateful"],"comments":[{"owner":{"account_id":16373826,"reputation":157,"user_id":11826481,"display_name":"Utkarsh"},"score":0,"creation_date":1668244554,"post_id":74411648,"comment_id":131362028,"body_markdown":"For option 1 the object will be deconstructed(erased) once it becomes out of scope. Whereas using option 2 would be more efficient on memory because the reference of the domain object will be passed to all the methods.","body":"For option 1 the object will be deconstructed(erased) once it becomes out of scope. Whereas using option 2 would be more efficient on memory because the reference of the domain object will be passed to all the methods."},{"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"score":0,"creation_date":1668267430,"post_id":74411648,"comment_id":131366204,"body_markdown":"How do you define `efficiency` here?","body":"How do you define <code>efficiency</code> here?"},{"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"score":0,"creation_date":1668279958,"post_id":74411648,"comment_id":131368705,"body_markdown":"@Utkarsh can you clarify that point?","body":"@Utkarsh can you clarify that point?"},{"owner":{"account_id":16373826,"reputation":157,"user_id":11826481,"display_name":"Utkarsh"},"score":0,"creation_date":1668414593,"post_id":74411648,"comment_id":131390496,"body_markdown":"As you mentioned, when we are using bean it will create the object once in the container, and when you are passing the domain object it will pass as reference to each method.","body":"As you mentioned, when we are using bean it will create the object once in the container, and when you are passing the domain object it will pass as reference to each method."}],"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668277199,"creation_date":1668243908,"question_id":74411648,"body_markdown":"I got stuck in a situation where I have two options to implement a part of a project.\r\n\r\nI have a handler interface which internally contains a couple of methods to handle the incoming requests. The interface has been implemented by multiple concrete classes.\r\n\r\n**Option 1**\r\n\r\nI have a domain object that I can pass it to constructor by defining the related handler object with new keyword. So, it would be a stateful class, where I can not get benefit from having bean. In other words, I can not annotate the class with bean annotations such @component or @service.\r\n\r\n**Option 2**\r\n\r\nI can define handler classes as spring bean. But, in this case I will have to pass the domain object to each method (stateless) that is defined in the interface. It is a bit weird.\r\n\r\nCan you tell me what is the disadvantage of option 1 in terms of memory? You know for each request I will need to create a new object in option 1, whereas I will use the bean which will be handled by spring ioc in the option 2.\r\n\r\nThe both solution works as I implemented and tried. But, I want to know pros/cons.","title":"Using stateful vs stateless handler classes in Spring Boot","body":"<p>I got stuck in a situation where I have two options to implement a part of a project.</p>\n<p>I have a handler interface which internally contains a couple of methods to handle the incoming requests. The interface has been implemented by multiple concrete classes.</p>\n<p><strong>Option 1</strong></p>\n<p>I have a domain object that I can pass it to constructor by defining the related handler object with new keyword. So, it would be a stateful class, where I can not get benefit from having bean. In other words, I can not annotate the class with bean annotations such @component or @service.</p>\n<p><strong>Option 2</strong></p>\n<p>I can define handler classes as spring bean. But, in this case I will have to pass the domain object to each method (stateless) that is defined in the interface. It is a bit weird.</p>\n<p>Can you tell me what is the disadvantage of option 1 in terms of memory? You know for each request I will need to create a new object in option 1, whereas I will use the bean which will be handled by spring ioc in the option 2.</p>\n<p>The both solution works as I implemented and tried. But, I want to know pros/cons.</p>\n"},{"tags":["java","slf4j","java.util.logging"],"owner":{"account_id":20876886,"reputation":31,"user_id":15335478,"display_name":"Sweta Dhanuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668277038,"creation_date":1668245183,"question_id":74411765,"body_markdown":"In my project we had been using java.util.logging for the logs and now we want to apply markers and filter those markers according to our need. So is there any way to use markers using just java.util and slf4j framework.\r\nBecause we can&#39;t change the existing things or it will increase the work significantly.","title":"Log filtering using markers in java","body":"<p>In my project we had been using java.util.logging for the logs and now we want to apply markers and filter those markers according to our need. So is there any way to use markers using just java.util and slf4j framework.\nBecause we can't change the existing things or it will increase the work significantly.</p>\n"},{"tags":["java","spring","date","format"],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497343620,"creation_date":1497343620,"answer_id":44516527,"question_id":44516370,"body_markdown":"You might use @JsonFormat, look the chapter 3.2 http://www.baeldung.com/jackson-jsonformat \r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd@HH:mm:ss.SSSZ&quot;) \r\n    private Date created;","title":"@Temporal to format date in Spring Boot","body":"<p>You might use @JsonFormat, look the chapter 3.2 <a href=\"http://www.baeldung.com/jackson-jsonformat\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-jsonformat</a> </p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd@HH:mm:ss.SSSZ\") \nprivate Date created;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23486565,"reputation":1,"user_id":17538036,"display_name":"Abdullahi Adedayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668276948,"creation_date":1668276948,"answer_id":74415419,"question_id":44516370,"body_markdown":"I used this. \r\nYou can edit it to soothwhat you want to achieve\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createdAt;\r\n    @PrePersist\r\n    protected void prePersist() {\r\n        if (this.createdAt == null) createdAt = new Date();\r\n    }\r\n    ","title":"@Temporal to format date in Spring Boot","body":"<p>I used this.\nYou can edit it to soothwhat you want to achieve</p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date createdAt;\n@PrePersist\nprotected void prePersist() {\n    if (this.createdAt == null) createdAt = new Date();\n}\n</code></pre>\n"}],"owner":{"account_id":2898573,"reputation":1829,"user_id":2485825,"accept_rate":61,"display_name":"georgiana_e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7831,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668276948,"creation_date":1497343252,"question_id":44516370,"body_markdown":"I have a date parameter in DB model and I want to retrive the date in this format &quot;dd/MM/yyyy&quot;. I have annotation on getter like below:\r\n\r\n\t@CreationTimestamp\r\n    @Temporal(TemporalType.DATE)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n\tpublic Date getCreated() {\r\n        return created;\r\n    }\r\n    \r\n\tpublic void setCreated(Date created) {\r\n        this.created = created;\r\n    }\r\n\r\nHowever, I receive date in format yyyy-MM-dd. It seems that the @Temporal annotations formats to &#39;yyyy-MM-dd&#39; but the DateTimeFormat has no effect.\r\n\r\nrest response:\r\n\r\n    {\r\n       &quot;id&quot;:&quot;token1497340427913&quot;,\r\n       &quot;status&quot;:&quot;finished&quot;,\r\n       &quot;startDate&quot;:null,\r\n       &quot;endDate&quot;:null,\r\n       &quot;created&quot;:&quot;2017-06-13&quot;,\r\n       &quot;modified&quot;:&quot;2017-06-13&quot;\r\n    }","title":"@Temporal to format date in Spring Boot","body":"<p>I have a date parameter in DB model and I want to retrive the date in this format &quot;dd/MM/yyyy&quot;. I have annotation on getter like below:</p>\n<pre><code>@CreationTimestamp\n@Temporal(TemporalType.DATE)\n@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\npublic Date getCreated() {\n    return created;\n}\n\npublic void setCreated(Date created) {\n    this.created = created;\n}\n</code></pre>\n<p>However, I receive date in format yyyy-MM-dd. It seems that the @Temporal annotations formats to 'yyyy-MM-dd' but the DateTimeFormat has no effect.</p>\n<p>rest response:</p>\n<pre><code>{\n   &quot;id&quot;:&quot;token1497340427913&quot;,\n   &quot;status&quot;:&quot;finished&quot;,\n   &quot;startDate&quot;:null,\n   &quot;endDate&quot;:null,\n   &quot;created&quot;:&quot;2017-06-13&quot;,\n   &quot;modified&quot;:&quot;2017-06-13&quot;\n}\n</code></pre>\n"},{"tags":["java","random","timer"],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265453619,"creation_date":1265453619,"answer_id":2212850,"question_id":2212848,"body_markdown":"I&#39;m not entirely sure I understand the problem. If you wish to generate a different random number every two minutes, simply call your `rnd` function every two minutes.\r\n\r\nThis could be as simple as something like (pseudo-code):\r\n\r\n    n = rnd()\r\n    repeat until finished:\r\n        use n for something\r\n        sleep for two minutes\r\n        n = rnd()\r\n\r\nIf you want to keep using the same random number for two minutes and generate a new one:\r\n\r\n    time t = 0\r\n    int n = 0\r\n\r\n    def sort_of_rnd():\r\n        if now() - t &gt; two minutes:\r\n            n = rnd()\r\n            t = now()\r\n        return n\r\nwhich will continue to return the *same* number for a two minute period.\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>I'm not entirely sure I understand the problem. If you wish to generate a different random number every two minutes, simply call your <code>rnd</code> function every two minutes.</p>\n\n<p>This could be as simple as something like (pseudo-code):</p>\n\n<pre><code>n = rnd()\nrepeat until finished:\n    use n for something\n    sleep for two minutes\n    n = rnd()\n</code></pre>\n\n<p>If you want to keep using the same random number for two minutes and generate a new one:</p>\n\n<pre><code>time t = 0\nint n = 0\n\ndef sort_of_rnd():\n    if now() - t &gt; two minutes:\n        n = rnd()\n        t = now()\n    return n\n</code></pre>\n\n<p>which will continue to return the <em>same</em> number for a two minute period.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265453675,"creation_date":1265453675,"answer_id":2212852,"question_id":2212848,"body_markdown":"You have two requirements which are unrelated:\r\n\r\n 1. Generate random numbers\r\n 2. Perform the task every 2 minutes.\r\n\r\nTo do anything every 2 minutes you can use a ScheduledExecutorService.\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>You have two requirements which are unrelated:</p>\n\n<ol>\n<li>Generate random numbers</li>\n<li>Perform the task every 2 minutes.</li>\n</ol>\n\n<p>To do anything every 2 minutes you can use a ScheduledExecutorService.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265458970,"creation_date":1265453706,"answer_id":2212853,"question_id":2212848,"body_markdown":"You can schedule your program to be run once every two minutes using whatever scheduling features are available to you in your target environment (e.g., `cron`, `at`, Windows Scheduled Tasks, etc.).\r\n\r\nOr you can use the [`Thread#sleep`][1] method to suspend your application for 2,000ms and run your code in a loop:\r\n\r\n    while (loopCondition) {\r\n        /* ...generate random number... */\r\n\r\n        // Suspend execution for 2 minutes\r\n        Thread.currentThread().sleep(1000 * 60 * 2);\r\n    }\r\n\r\n(That&#39;s just example code, you&#39;ll need to handle the InterruptedException and such.)\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)","title":"How to generate random numbers at set time intervals?","body":"<p>You can schedule your program to be run once every two minutes using whatever scheduling features are available to you in your target environment (e.g., <code>cron</code>, <code>at</code>, Windows Scheduled Tasks, etc.).</p>\n\n<p>Or you can use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread#sleep</code></a> method to suspend your application for 2,000ms and run your code in a loop:</p>\n\n<pre><code>while (loopCondition) {\n    /* ...generate random number... */\n\n    // Suspend execution for 2 minutes\n    Thread.currentThread().sleep(1000 * 60 * 2);\n}\n</code></pre>\n\n<p>(That's just example code, you'll need to handle the InterruptedException and such.)</p>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265461705,"creation_date":1265454768,"answer_id":2212887,"question_id":2212848,"body_markdown":"This example adds a random number to a blocking dequeue every two minutes. You can take the numbers from the queue when you need them. You can use java.util.Timer as a lightweight facility to schedule the number generation or you can use java.util.concurrent.ScheduledExecutorService for a more versatile solution if you need more sophistication in the future. By writing the numbers to a dequeue, you have a unified interface of retrieving numbers from both facilities.\r\n\r\nFirst, we set up the blocking queue:\r\n\r\n    final BlockingDequeue&lt;Integer&gt; queue = new LinkedBlockingDequeue&lt;Integer&gt;();\r\n\r\nHere is the setup with java.utilTimer:\r\n\r\n    TimerTask task = new TimerTask() {\r\n        public void run() {\r\n            queue.put(Math.round(Math.random() * 99));\r\n            // or use whatever method you chose to generate the number...\r\n        }\r\n    };\r\n    Timer timer = new Timer(true)Timer();\r\n    timer.schedule(task, 0, 120000); \r\n\r\nThis is the setup with java.util.concurrent.ScheduledExecutorService\r\n\r\n    ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    Runnable task = new Runnable() {\r\n        public void run() {\r\n            queue.put(Math.round(Math.random() * 99));\r\n            // or use whatever method you chose to generate the number...\r\n        }\r\n    };\r\n    scheduler.scheduleAtFixedRate(task, 0, 120, SECONDS);\r\n\r\n\r\nNow, you can get a new random number from the queue every two minutes. The queue will block until a new number becomes available...\r\n\r\n    int numbers = 100;\r\n    for (int i = 0; i &lt; numbers; i++) {\r\n        Inetger rand = queue.remove();\r\n        System.out.println(&quot;new random number: &quot; + rand);\r\n    }\r\n    \r\nOnce you are done, you can terminate the scheduler. If you used the Timer, just do\r\n\r\n    timer.cancel();\r\n\r\nIf you used ScheduledExecutorService you can do\r\n\r\n    scheduler.shutdown();\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>This example adds a random number to a blocking dequeue every two minutes. You can take the numbers from the queue when you need them. You can use java.util.Timer as a lightweight facility to schedule the number generation or you can use java.util.concurrent.ScheduledExecutorService for a more versatile solution if you need more sophistication in the future. By writing the numbers to a dequeue, you have a unified interface of retrieving numbers from both facilities.</p>\n\n<p>First, we set up the blocking queue:</p>\n\n<pre><code>final BlockingDequeue&lt;Integer&gt; queue = new LinkedBlockingDequeue&lt;Integer&gt;();\n</code></pre>\n\n<p>Here is the setup with java.utilTimer:</p>\n\n<pre><code>TimerTask task = new TimerTask() {\n    public void run() {\n        queue.put(Math.round(Math.random() * 99));\n        // or use whatever method you chose to generate the number...\n    }\n};\nTimer timer = new Timer(true)Timer();\ntimer.schedule(task, 0, 120000); \n</code></pre>\n\n<p>This is the setup with java.util.concurrent.ScheduledExecutorService</p>\n\n<pre><code>ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\nRunnable task = new Runnable() {\n    public void run() {\n        queue.put(Math.round(Math.random() * 99));\n        // or use whatever method you chose to generate the number...\n    }\n};\nscheduler.scheduleAtFixedRate(task, 0, 120, SECONDS);\n</code></pre>\n\n<p>Now, you can get a new random number from the queue every two minutes. The queue will block until a new number becomes available...</p>\n\n<pre><code>int numbers = 100;\nfor (int i = 0; i &lt; numbers; i++) {\n    Inetger rand = queue.remove();\n    System.out.println(\"new random number: \" + rand);\n}\n</code></pre>\n\n<p>Once you are done, you can terminate the scheduler. If you used the Timer, just do</p>\n\n<pre><code>timer.cancel();\n</code></pre>\n\n<p>If you used ScheduledExecutorService you can do</p>\n\n<pre><code>scheduler.shutdown();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265458032,"creation_date":1265457712,"answer_id":2213004,"question_id":2212848,"body_markdown":"    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.Timer;\r\n    \r\n    public class TimerExample {\r\n    \tRandom rand = new Random();\r\n    \tstatic int currRand;\r\n    \r\n    \tTimerExample() {\r\n    \t\tcurrRand = rand.nextInt(99);\r\n    \t\tActionListener actionListener = new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent actionEvent) {\r\n    \t\t\t\tcurrRand = rand.nextInt(99);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tTimer timer = new Timer(2000, actionListener);\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) throws InterruptedException {\r\n    \t\tTimerExample te = new TimerExample();\r\n    \t\twhile( true ) {\r\n    \t\t\tThread.currentThread().sleep(500);\r\n    \t\t\tSystem.out.println(&quot;current value:&quot; + currRand );\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nEDIT: Of course you should set 2000 in  new Timer(2000, actionListener); to 120 000 for two minutes.\r\n","title":"How to generate random numbers at set time intervals?","body":"<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.Timer;\n\npublic class TimerExample {\n    Random rand = new Random();\n    static int currRand;\n\n    TimerExample() {\n        currRand = rand.nextInt(99);\n        ActionListener actionListener = new ActionListener() {\n            public void actionPerformed(ActionEvent actionEvent) {\n                currRand = rand.nextInt(99);\n            }\n        };\n        Timer timer = new Timer(2000, actionListener);\n        timer.start();\n    }\n\n    public static void main(String args[]) throws InterruptedException {\n        TimerExample te = new TimerExample();\n        while( true ) {\n            Thread.currentThread().sleep(500);\n            System.out.println(\"current value:\" + currRand );\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT: Of course you should set 2000 in  new Timer(2000, actionListener); to 120 000 for two minutes.</p>\n"}],"owner":{"account_id":97346,"reputation":175,"user_id":264095,"accept_rate":0,"display_name":"Aravindkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13940,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1668276518,"creation_date":1265453527,"question_id":2212848,"body_markdown":"I have developed code in Java for generating ten random numbers from a range 0 to 99.  The problem is I need to generate a random number for every 2 min.  I am new to this area and need your views.","title":"How to generate random numbers at set time intervals?","body":"<p>I have developed code in Java for generating ten random numbers from a range 0 to 99.  The problem is I need to generate a random number for every 2 min.  I am new to this area and need your views.</p>\n"},{"tags":["java","html","jsp","servlets","web-applications"],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668276101,"creation_date":1668276101,"answer_id":74415324,"question_id":74395639,"body_markdown":"You don&#39;t need eight servlets. One `ProductServlet` should be enough. You just need to have some logic in your servlet to go to one JSP or to another. \r\n\r\nYou can add links to each product in your `ProductPage.jsp` that maybe link to the address `http://your.domain/yourServletMapping?productId=1`, or `http://your.domain/yourServletMapping?productId=2`, and so on. Then in your servlet you just need to see if the request contains a `productId` parameter and then you know you have to display a detail page for the product. Your code could look like:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\t\t\t\r\n        if (request.getParameter(&quot;productId&quot;) != null) {\r\n\t\t\t// use the value from request.getParameter(&quot;productId&quot;) to get the ID of the product\r\n\t\t\tint id = ...\r\n\t\t\t\r\n\t\t\t// get the data from the data class for this product\r\n\t\t\tProduct product = ...\r\n\t\t\t\r\n\t\t\t//add products to request object\r\n\t\t\trequest.setAttribute(&quot;product-details&quot;, product);\r\n\t\t\t\r\n\t\t\t//get request dispatcher\r\n\t\t\trequest.getRequestDispatcher(&quot;ProductDetail.jsp&quot;).forward(request, response);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t// we are not looking for a particular product, so list all products\r\n\t\t\t\r\n\t\t\t// get data from data class\r\n\t\t\tArrayList&lt;Product&gt; products = ProductData.getProduct();\r\n\t\t   \r\n\t\t\t//add products to request object\r\n\t\t\trequest.setAttribute(&quot;product-list&quot;, products);\r\n\t\t\t\r\n\t\t\t//get request dispatcher\r\n\t\t\trequest.getRequestDispatcher(&quot;ProductPage.jsp&quot;).forward(request, response);\r\n\t\t}\r\n    }\r\n\r\nYou basically need to differentiate between the requests based on the presence or absence of certain parameters and then do the corresponding logic. It&#39;s just like you differentiate between the type of request (GET vs POST) by having two methods in your servlet to handle them.\r\n\r\nYou can also have different URLs to handle each situation, like `http://your.domain/products` to list the products and `http://your.domain/products/{productId}` that you can map to the same servlet and extract the path parameter from there, instead of a request parameter. \r\n\r\nYou can also have multiple servlets if things get more complicated, but considering the question you asked is simple, just try to keep things simple. \r\n\r\n","title":"Is it possible to use one Servlet to dispatch data to multiple JSP&#39;s using Request Dispatcher?","body":"<p>You don't need eight servlets. One <code>ProductServlet</code> should be enough. You just need to have some logic in your servlet to go to one JSP or to another.</p>\n<p>You can add links to each product in your <code>ProductPage.jsp</code> that maybe link to the address <code>http://your.domain/yourServletMapping?productId=1</code>, or <code>http://your.domain/yourServletMapping?productId=2</code>, and so on. Then in your servlet you just need to see if the request contains a <code>productId</code> parameter and then you know you have to display a detail page for the product. Your code could look like:</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        \n    if (request.getParameter(&quot;productId&quot;) != null) {\n        // use the value from request.getParameter(&quot;productId&quot;) to get the ID of the product\n        int id = ...\n        \n        // get the data from the data class for this product\n        Product product = ...\n        \n        //add products to request object\n        request.setAttribute(&quot;product-details&quot;, product);\n        \n        //get request dispatcher\n        request.getRequestDispatcher(&quot;ProductDetail.jsp&quot;).forward(request, response);\n        \n    } else {\n        // we are not looking for a particular product, so list all products\n        \n        // get data from data class\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\n       \n        //add products to request object\n        request.setAttribute(&quot;product-list&quot;, products);\n        \n        //get request dispatcher\n        request.getRequestDispatcher(&quot;ProductPage.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>You basically need to differentiate between the requests based on the presence or absence of certain parameters and then do the corresponding logic. It's just like you differentiate between the type of request (GET vs POST) by having two methods in your servlet to handle them.</p>\n<p>You can also have different URLs to handle each situation, like <code>http://your.domain/products</code> to list the products and <code>http://your.domain/products/{productId}</code> that you can map to the same servlet and extract the path parameter from there, instead of a request parameter.</p>\n<p>You can also have multiple servlets if things get more complicated, but considering the question you asked is simple, just try to keep things simple.</p>\n"}],"owner":{"account_id":19987284,"reputation":11,"user_id":14649174,"display_name":"Chris Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74415324,"answer_count":1,"score":-1,"last_activity_date":1668276101,"creation_date":1668116846,"question_id":74395639,"body_markdown":"So I&#39;ve got an &quot;online shop&quot; set up using Java where I have one .jsp &#39;Products Page&#39; which shows 8 different products. The user can click on any of those products and be brought to another .jsp page for that individual product. I have a servlet set up like this:\r\n\r\n```@Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        // get data from data class\r\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\r\n       \r\n        //add products to request object\r\n        request.setAttribute(&quot;product-list&quot;, products);\r\n        \r\n        //get requesr dispatcher\r\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ProductPage.jsp&quot;);\r\n        \r\n        //forward to jsp\r\n        dispatcher.forward(request, response);\r\n        \r\n    }\r\n```\r\n\r\nIt works so far with me being able to see the products on the &#39;Product Page&#39; but I&#39;m now trying to use the same servlet to send the same info to each of the 8 individual product pages as well. Is this possible ? Or do I need to create 8 individual servlets too for each jsp page?\r\n\r\nI know it would be possible to use a session but to save time explaining why, just assume for this project that I can&#39;t use a session.\r\n\r\nThanks!","title":"Is it possible to use one Servlet to dispatch data to multiple JSP&#39;s using Request Dispatcher?","body":"<p>So I've got an &quot;online shop&quot; set up using Java where I have one .jsp 'Products Page' which shows 8 different products. The user can click on any of those products and be brought to another .jsp page for that individual product. I have a servlet set up like this:</p>\n<pre><code>    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        // get data from data class\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\n       \n        //add products to request object\n        request.setAttribute(&quot;product-list&quot;, products);\n        \n        //get requesr dispatcher\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ProductPage.jsp&quot;);\n        \n        //forward to jsp\n        dispatcher.forward(request, response);\n        \n    }\n</code></pre>\n<p>It works so far with me being able to see the products on the 'Product Page' but I'm now trying to use the same servlet to send the same info to each of the 8 individual product pages as well. Is this possible ? Or do I need to create 8 individual servlets too for each jsp page?</p>\n<p>I know it would be possible to use a session but to save time explaining why, just assume for this project that I can't use a session.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","bean-validation"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1668268364,"post_id":74414178,"comment_id":131366402,"body_markdown":"Can you please share full pom.xml file","body":"Can you please share full pom.xml file"},{"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"score":1,"creation_date":1668269690,"post_id":74414178,"comment_id":131366670,"body_markdown":"Shared ful pom.","body":"Shared ful pom."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668275653,"creation_date":1668275291,"answer_id":74415223,"question_id":74414178,"body_markdown":"I replicated this issue and fixed it by removing some unnecessary dependencies available in ```pom.xml```\r\n\r\n**Issue:** \r\n\r\nSome unnecessary dependencies are available in ```pom.xml``` that is causing this issue.\r\n\r\n**Solution:**\r\n\r\nPlease remove the following dependencies from ```pom.xml``` and try again.\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n```\r\n \r\n**Why?:**\r\n\r\nIf you are using SpringBoot framework then following dependencies are enough to do database connectivity\r\n\r\n```\r\n&lt;dependency&gt;  \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.2.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nand this dependency is enough to do Hibernate-related validations like annotations```@NotEmpty```, ```@Pattern```, ```@Min```, ```@Max``` etc\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error creating Bean with name &#39;defaultValidator&#39;","body":"<p>I replicated this issue and fixed it by removing some unnecessary dependencies available in <code>pom.xml</code></p>\n<p><strong>Issue:</strong></p>\n<p>Some unnecessary dependencies are available in <code>pom.xml</code> that is causing this issue.</p>\n<p><strong>Solution:</strong></p>\n<p>Please remove the following dependencies from <code>pom.xml</code> and try again.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Why?:</strong></p>\n<p>If you are using SpringBoot framework then following dependencies are enough to do database connectivity</p>\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>and this dependency is enough to do Hibernate-related validations like annotations<code>@NotEmpty</code>, <code>@Pattern</code>, <code>@Min</code>, <code>@Max</code> etc</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74415223,"answer_count":1,"score":1,"last_activity_date":1668275653,"creation_date":1668266665,"question_id":74414178,"body_markdown":"I have an entity class InAppNotification.java that looks like this:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;notification&quot;)\r\npublic class InAppNotification {\r\n    \r\n    @Column(name = &quot;inapptext&quot;)\r\n    String text;\r\n    \r\n    @Column(name = &quot;deeplink&quot;)\r\n    String deepLink;\r\n    \r\n    @Column(name = &quot;userid&quot;)\r\n    Integer userId;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    Long id;\r\n    \r\n    @Column(name = &quot;isread&quot;)\r\n    Boolean isRead = false;\r\n```\r\n\r\nAm using JPA to handle the database queries and this is how the jpa interface is defined:\r\n\r\n```\r\npublic interface InAppNotificationRepository extends JpaRepository&lt;InAppNotification, Long&gt; {\r\n\r\n    List&lt;InAppNotification&gt; findByUserId(@Param(&quot;userid&quot;) Integer userId);\r\n    \r\n}\r\n```\r\n\r\nThis is how my application.properties looks like:\r\n\r\n```\r\nspring.datasource.url= jdbc:postgresql://....\r\nspring.datasource.username= ....\r\nspring.datasource.password= ....\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n\r\n# Hibernate ddl auto (create, create-drop, validate, update)\r\nspring.jpa.hibernate.ddl-auto= update\r\n```\r\n\r\nHowever, when I try to package the application after building by running `mvn clean package`  \r\nThis is the issue that I am getting:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/rkWDJ.png)](https://i.stack.imgur.com/rkWDJ.png)\r\n\r\n[An attempt was made to call a method that does not exist. The attempt was made from the following location: javax.el.ELManager.getExpressionFactory(ELManager.java:38)][1]\r\n\r\n[[EDIT]] This is how my pom.xml looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demoproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;chart&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;chat&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-social-facebook&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.social/spring-social-linkedin --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-linkedin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    &lt;version&gt;4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20080701&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/javax.json/javax.json-api --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.2.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11.773&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lettuce&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.reflections&lt;/groupId&gt; &lt;artifactId&gt;reflections&lt;/artifactId&gt; &lt;version&gt;0.9.9-RC1&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n     &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt; --&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;  \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAny help would be appreciated!\r\n\r\nTried with mvn clean install, and the suggestions listed over here - https://stackoverflow.com/questions/51853200/error-creating-bean-with-name-defaultvalidator-defined-in-class-path-resource.\r\n\r\nDidn&#39;t help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LjgUx.png","title":"Error creating Bean with name &#39;defaultValidator&#39;","body":"<p>I have an entity class InAppNotification.java that looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;notification&quot;)\npublic class InAppNotification {\n    \n    @Column(name = &quot;inapptext&quot;)\n    String text;\n    \n    @Column(name = &quot;deeplink&quot;)\n    String deepLink;\n    \n    @Column(name = &quot;userid&quot;)\n    Integer userId;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n    \n    @Column(name = &quot;isread&quot;)\n    Boolean isRead = false;\n</code></pre>\n<p>Am using JPA to handle the database queries and this is how the jpa interface is defined:</p>\n<pre><code>public interface InAppNotificationRepository extends JpaRepository&lt;InAppNotification, Long&gt; {\n\n    List&lt;InAppNotification&gt; findByUserId(@Param(&quot;userid&quot;) Integer userId);\n    \n}\n</code></pre>\n<p>This is how my application.properties looks like:</p>\n<pre><code>spring.datasource.url= jdbc:postgresql://....\nspring.datasource.username= ....\nspring.datasource.password= ....\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>However, when I try to package the application after building by running <code>mvn clean package</code><br />\nThis is the issue that I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/rkWDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkWDJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LjgUx.png\" rel=\"nofollow noreferrer\">An attempt was made to call a method that does not exist. The attempt was made from the following location: javax.el.ELManager.getExpressionFactory(ELManager.java:38)</a></p>\n<p>[[EDIT]] This is how my pom.xml looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demoproject&lt;/groupId&gt;\n    &lt;artifactId&gt;chart&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;chat&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-social-facebook&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        \n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.social/spring-social-linkedin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-linkedin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20080701&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/javax.json/javax.json-api --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n  &lt;version&gt;1.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.11.773&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n    &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\n    &lt;artifactId&gt;lettuce&lt;/artifactId&gt;\n    &lt;version&gt;3.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.reflections&lt;/groupId&gt; &lt;artifactId&gt;reflections&lt;/artifactId&gt; &lt;version&gt;0.9.9-RC1&lt;/version&gt; &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt; --&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Any help would be appreciated!</p>\n<p>Tried with mvn clean install, and the suggestions listed over here - <a href=\"https://stackoverflow.com/questions/51853200/error-creating-bean-with-name-defaultvalidator-defined-in-class-path-resource\">Error creating bean with name &#39;defaultValidator&#39; defined in class path resource</a>.</p>\n<p>Didn't help.</p>\n"},{"tags":["java","time","localization","utc","datetimeformatter"],"comments":[{"owner":{"account_id":6384033,"reputation":1817,"user_id":5202007,"accept_rate":83,"display_name":"Mohammad Tauqir"},"score":0,"creation_date":1451440574,"post_id":34521733,"comment_id":56785260,"body_markdown":"see here http://www.journaldev.com/2800/java-8-date-time-api-example-tutorial-localdate-instant-localdatetime-parse-and-format","body":"see here <a href=\"http://www.journaldev.com/2800/java-8-date-time-api-example-tutorial-localdate-instant-localdatetime-parse-and-format\" rel=\"nofollow noreferrer\">journaldev.com/2800/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1451441612,"creation_date":1451441612,"answer_id":34522022,"question_id":34521733,"body_markdown":"From [Wikipedia][1]:\r\n\r\n&gt; [YYYY] indicates the ISO week-numbering year which is slightly\r\n&gt; different from the traditional Gregorian calendar year (see below).\r\n\r\n1. `YYYY` is an ISO-8601 style representation of the year. \r\n2. `yyyy` is the Gregorian year-of-era representation. \r\n\r\nSince the the calculation of the two can be different by +1 or -1, hence the formatting. More useful info at [`YEAR_OF_ERA`][2], [`YEAR`][3], and [`weekBasedYear`][4].\r\n\r\n[1]: https://en.wikipedia.org/wiki/ISO_8601#Week_dates\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\r\n[3]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR\r\n[4]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear\r\n","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<p>From <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>[YYYY] indicates the ISO week-numbering year which is slightly\n  different from the traditional Gregorian calendar year (see below).</p>\n</blockquote>\n\n<ol>\n<li><code>YYYY</code> is an ISO-8601 style representation of the year. </li>\n<li><code>yyyy</code> is the Gregorian year-of-era representation. </li>\n</ol>\n\n<p>Since the the calculation of the two can be different by +1 or -1, hence the formatting. More useful info at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\" rel=\"noreferrer\"><code>YEAR_OF_ERA</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR\" rel=\"noreferrer\"><code>YEAR</code></a>, and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear\" rel=\"noreferrer\"><code>weekBasedYear</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668275044,"creation_date":1668273985,"answer_id":74415056,"question_id":34521733,"body_markdown":"There are FIVE problems in your code\r\n--\r\n\r\n**Problem#1**:\r\n\r\n[`LocalDateTime`](https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html) is not supposed to have time-zone information but you have formatted it in that way by forcibly putting a `&#39;Z&#39;` in the `DateTimeFormatter` pattern.\r\n\r\n**Problem#2**:\r\n\r\nNote that [&#39;Z&#39; is not the same as Z](https://stackoverflow.com/a/67953075/10819573). So, you should never use &#39;Z&#39; in the date-time formatting/parsing API.\r\n\r\n**Problem#3**:\r\n\r\n`Y` ([week-based-year](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--)) is not the same as `y` ([year-of-era](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA)). Check [this Q/A](https://stackoverflow.com/q/26431882/10819573) to understand more about the difference between these two.\r\n\r\n**Problem#4**:\r\n\r\nIf all you need to specify is the UTC time-zone offset, you should use `ZoneOffset.UTC`. A `ZoneId` is more appropriate to specify a [time-zone ID](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) in the *Region/Time-zone-reference-city* format e.g. `Europe/London`.\r\n\r\n**Problem#5**:\r\n\r\nYou do not need a `DateTimeFormatter` for the output you want. The `java.time` API is based on **[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)** standards and therefore the [`toString`](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--) implementation of a `java.time` type returns a string in ISO 8601 format by default. All you needed is the [string representation of `Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--):\r\n\r\n    String output = Instant.ofEpochMilli(1451438792953L).toString();\r\n\r\nThe `Z` (stands for Zulu) in the output represents a date-time in UTC and has a `ZoneOffset` of `+00:00`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String output = Instant.ofEpochMilli(1451438792953L).toString();\r\n            System.out.println(output);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-12-30T01:26:32.953Z\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<h2>There are FIVE problems in your code</h2>\n<p><strong>Problem#1</strong>:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> is not supposed to have time-zone information but you have formatted it in that way by forcibly putting a <code>'Z'</code> in the <code>DateTimeFormatter</code> pattern.</p>\n<p><strong>Problem#2</strong>:</p>\n<p>Note that <a href=\"https://stackoverflow.com/a/67953075/10819573\">'Z' is not the same as Z</a>. So, you should never use 'Z' in the date-time formatting/parsing API.</p>\n<p><strong>Problem#3</strong>:</p>\n<p><code>Y</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--\" rel=\"nofollow noreferrer\">week-based-year</a>) is not the same as <code>y</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\" rel=\"nofollow noreferrer\">year-of-era</a>). Check <a href=\"https://stackoverflow.com/q/26431882/10819573\">this Q/A</a> to understand more about the difference between these two.</p>\n<p><strong>Problem#4</strong>:</p>\n<p>If all you need to specify is the UTC time-zone offset, you should use <code>ZoneOffset.UTC</code>. A <code>ZoneId</code> is more appropriate to specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time-zone ID</a> in the <em>Region/Time-zone-reference-city</em> format e.g. <code>Europe/London</code>.</p>\n<p><strong>Problem#5</strong>:</p>\n<p>You do not need a <code>DateTimeFormatter</code> for the output you want. The <code>java.time</code> API is based on <strong><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></strong> standards and therefore the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a> implementation of a <code>java.time</code> type returns a string in ISO 8601 format by default. All you needed is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"nofollow noreferrer\">string representation of <code>Instant</code></a>:</p>\n<pre><code>String output = Instant.ofEpochMilli(1451438792953L).toString();\n</code></pre>\n<p>The <code>Z</code> (stands for Zulu) in the output represents a date-time in UTC and has a <code>ZoneOffset</code> of <code>+00:00</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\n\npublic class Main {\n    public static void main(String[] args) {\n        String output = Instant.ofEpochMilli(1451438792953L).toString();\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-12-30T01:26:32.953Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3961317,"reputation":227,"user_id":3268232,"display_name":"user3268232"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34522022,"answer_count":2,"score":2,"last_activity_date":1668275044,"creation_date":1451439372,"question_id":34521733,"body_markdown":"This is the code:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1451438792953L), ZoneId.of(&quot;UTC&quot;));\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    String output = dateTimeFormatter.format(localDateTime);\r\n\r\nThis is the value of `localDateTime`:\r\n\r\n    2015-12-30T01:26:32.953\r\n\r\nThis is the value of `output`:\r\n\r\n    2016-12-30T01:26:32.953Z\r\n\r\nWhy does it add a year?\r\n\r\nIn `java.time.temporal.WeekFields` there are a couple of methods with a `newYearWeek` which increment the year by `1` on occasion. Why?\r\n\r\nThis is a strange bug.","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<p>This is the code:</p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1451438792953L), ZoneId.of(\"UTC\"));\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"YYYY-MM-dd'T'HH:mm:ss.SSS'Z'\");\nString output = dateTimeFormatter.format(localDateTime);\n</code></pre>\n\n<p>This is the value of <code>localDateTime</code>:</p>\n\n<pre><code>2015-12-30T01:26:32.953\n</code></pre>\n\n<p>This is the value of <code>output</code>:</p>\n\n<pre><code>2016-12-30T01:26:32.953Z\n</code></pre>\n\n<p>Why does it add a year?</p>\n\n<p>In <code>java.time.temporal.WeekFields</code> there are a couple of methods with a <code>newYearWeek</code> which increment the year by <code>1</code> on occasion. Why?</p>\n\n<p>This is a strange bug.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1662560,"reputation":6894,"user_id":1530549,"accept_rate":81,"display_name":"Scooter"},"score":0,"creation_date":1668229075,"post_id":74410442,"comment_id":131360298,"body_markdown":"How many parts of the output are incorrect?","body":"How many parts of the output are incorrect?"},{"owner":{"account_id":26906781,"reputation":1,"user_id":20482989,"display_name":"PP-M_"},"score":0,"creation_date":1668230473,"post_id":74410442,"comment_id":131360436,"body_markdown":"sorry, the post doesn&#39;t look like I wanted it to. The spaces of the output are wrong, and the issue is the spaces vary, and i cannot custimize the spaces in each loop. so I would say the spaceses is the only wrong part of the output.","body":"sorry, the post doesn&#39;t look like I wanted it to. The spaces of the output are wrong, and the issue is the spaces vary, and i cannot custimize the spaces in each loop. so I would say the spaceses is the only wrong part of the output."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668233942,"creation_date":1668233892,"answer_id":74410793,"question_id":74410442,"body_markdown":"\r\n\r\n    package Tests;\r\n    \r\n    public class st1 {\r\n        public  static void main(String[] args) {\r\n           String[] stockNameList = {&quot;Saudi Aram&quot;,&quot;SAB&quot;,&quot;ALINAM BANK&quot;};\r\n           String[] stockSymbols = {&quot;SR&quot;,&quot;ABC!!&quot;,&quot;A&quot;};\r\n           String[] previousClosingPrice = {&quot;222.22&quot;,&quot;123456.55&quot;,&quot;1.00&quot;};\r\n          \r\n           System.out.println(padString(&quot;STOCK NAME&quot;,20)+padString(&quot;Stock Symbol&quot;,20)\r\n                   +padString(&quot;PREVIOUS CLOSING PRICE&quot;,20));\r\n         for(int i = 0 ; i &lt; 3;i++)\r\n         {\r\n             System.out.println(padString(stockNameList[i],20)+padString(stockSymbols[i],20)\r\n                   +padString(previousClosingPrice[i],20));\r\n         }\r\n    }\r\n        public static String padString(String s, int len)\r\n        {\r\n           String formatString = &quot;%-&quot;+len+&quot;s&quot;;\r\n           return String.format(formatString, s);\r\n        }\r\n    } \r\n","title":"Making a table printed from an array by a loop","body":"<pre><code>package Tests;\n\npublic class st1 {\n    public  static void main(String[] args) {\n       String[] stockNameList = {&quot;Saudi Aram&quot;,&quot;SAB&quot;,&quot;ALINAM BANK&quot;};\n       String[] stockSymbols = {&quot;SR&quot;,&quot;ABC!!&quot;,&quot;A&quot;};\n       String[] previousClosingPrice = {&quot;222.22&quot;,&quot;123456.55&quot;,&quot;1.00&quot;};\n      \n       System.out.println(padString(&quot;STOCK NAME&quot;,20)+padString(&quot;Stock Symbol&quot;,20)\n               +padString(&quot;PREVIOUS CLOSING PRICE&quot;,20));\n     for(int i = 0 ; i &lt; 3;i++)\n     {\n         System.out.println(padString(stockNameList[i],20)+padString(stockSymbols[i],20)\n               +padString(previousClosingPrice[i],20));\n     }\n}\n    public static String padString(String s, int len)\n    {\n       String formatString = &quot;%-&quot;+len+&quot;s&quot;;\n       return String.format(formatString, s);\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":26906781,"reputation":1,"user_id":20482989,"display_name":"PP-M_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668274995,"creation_date":1668228619,"question_id":74410442,"body_markdown":"I&#39;m trying to make a table using a loop but, the strings and numbers that make the table have different sizes so I can&#39;t a fixed size for the spaces. I can&#39;t just straight-up print the table because I&#39;m specifically to use a loop to print it from the array.\r\n\r\nThe print statement looks like this:\r\n\r\n~~~\r\ncase 2:\r\n    System.out.println(&quot;Stock Name\\t&quot; + &quot;Stock Symbol\\t&quot; + &quot;Previous Closing Price\\t &quot;\r\n                              &quot;\\t&quot; + &quot;Current Price\\t&quot; + &quot;Change Percet\\t&quot;);\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        System.out.println(stockNameList[i] + &quot;\\t&quot; + stockSymbol[i] + PreviousClosingPrice[i] \r\n                            + &quot;\\t&quot; + CurrentPrice[i] + &quot;\\t&quot; + GetChangePercent(CurrentPrice, PreviousClosingPrice) + &quot;\\t&quot;);\r\n~~~\r\n\r\nand the output looks like this:\r\n~~~ none\r\nStock Name\tStock Symbol\tPrevious Closing Price\t \tCurrent Price\tChange Percent\t\r\nSaudi Aramco\t2222.SR30.91\t35.85\t-66.3013687133789\t\r\nSABIC\t2010.SR89.29\t88.8\t-66.3013687133789\t\r\nAlinam Bank\t1150.SR12.3\t36.5\t-66.3013687133789\r\n~~~\r\n\r\nwhat I want it to look like is like this:\r\n~~~ none\r\nStock Name\tStock Symbol\tPrevious Closing Price\t    Current Price\tChange Percent\t\r\nSaudi Aramco\t 2222.SR                30.91                  35.85\t        -66.3013687133789                 \t\r\nSABIC\t         2010.SR                89.29                  88.8             -66.3013687133789\t\r\nAlinam Bank\t     1150.SR                12.3\t               36.5             -66.3013687133789\r\n~~~\r\nI tried doing different print patterns but none of them seemed to work.  \r\nwould appreciate any help.","title":"Making a table printed from an array by a loop","body":"<p>I'm trying to make a table using a loop but, the strings and numbers that make the table have different sizes so I can't a fixed size for the spaces. I can't just straight-up print the table because I'm specifically to use a loop to print it from the array.</p>\n<p>The print statement looks like this:</p>\n<pre><code>case 2:\n    System.out.println(&quot;Stock Name\\t&quot; + &quot;Stock Symbol\\t&quot; + &quot;Previous Closing Price\\t &quot;\n                              &quot;\\t&quot; + &quot;Current Price\\t&quot; + &quot;Change Percet\\t&quot;);\n    for (int i = 0; i &lt; 3; i++) {\n        System.out.println(stockNameList[i] + &quot;\\t&quot; + stockSymbol[i] + PreviousClosingPrice[i] \n                            + &quot;\\t&quot; + CurrentPrice[i] + &quot;\\t&quot; + GetChangePercent(CurrentPrice, PreviousClosingPrice) + &quot;\\t&quot;);\n</code></pre>\n<p>and the output looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Stock Name  Stock Symbol    Previous Closing Price      Current Price   Change Percent  \nSaudi Aramco    2222.SR30.91    35.85   -66.3013687133789   \nSABIC   2010.SR89.29    88.8    -66.3013687133789   \nAlinam Bank 1150.SR12.3 36.5    -66.3013687133789\n</code></pre>\n<p>what I want it to look like is like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Stock Name  Stock Symbol    Previous Closing Price      Current Price   Change Percent  \nSaudi Aramco     2222.SR                30.91                  35.85            -66.3013687133789                   \nSABIC            2010.SR                89.29                  88.8             -66.3013687133789   \nAlinam Bank      1150.SR                12.3                   36.5             -66.3013687133789\n</code></pre>\n<p>I tried doing different print patterns but none of them seemed to work.<br />\nwould appreciate any help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","testing","automation"],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668367228,"answer_count":0,"score":0,"last_activity_date":1668274683,"creation_date":1668274683,"question_id":74415144,"body_markdown":"I have a button that adds a post request URL in the browser&#39;s address bar. The post request downloads a file. The post request only works if some cookies are sent to it. Before clicking the button, I could see the cookies are present, but after I click on it, the download doesn&#39;t work as the cookies are not being sent. I am trying to test all this using selenium, could someone please help to resolve?\r\n\r\nThanks\r\n\r\n","title":"Cookies lost on redirect in selenium","body":"<p>I have a button that adds a post request URL in the browser's address bar. The post request downloads a file. The post request only works if some cookies are sent to it. Before clicking the button, I could see the cookies are present, but after I click on it, the download doesn't work as the cookies are not being sent. I am trying to test all this using selenium, could someone please help to resolve?</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":4680540,"reputation":91,"user_id":3789359,"display_name":"LanaLang"},"score":0,"creation_date":1668153136,"post_id":74399368,"comment_id":131340947,"body_markdown":"possible duplicate of  https://stackoverflow.com/questions/19319712/hibernate-classnotfoundexception-com-mysql-jdbc-driver","body":"possible duplicate of  <a href=\"https://stackoverflow.com/questions/19319712/hibernate-classnotfoundexception-com-mysql-jdbc-driver\" title=\"hibernate classnotfoundexception com mysql jdbc driver\">stackoverflow.com/questions/19319712/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668161158,"post_id":74399368,"comment_id":131343501,"body_markdown":"You made a typo, the class name is `com.mysql.jdbc.Driver`, not Driver**s**. With your version of MySQL Connector/J, it is recommended to use `com.mysql.cj.jdbc.Driver` instead (though `com.mysql.jdbc.Driver` still works). As an aside, you&#39;re using a pretty old version of MySQL Connector/J, please upgrade to a newer version (the latest is 8.0.31).","body":"You made a typo, the class name is <code>com.mysql.jdbc.Driver</code>, not Driver<b>s</b>. With your version of MySQL Connector/J, it is recommended to use <code>com.mysql.cj.jdbc.Driver</code> instead (though <code>com.mysql.jdbc.Driver</code> still works). As an aside, you&#39;re using a pretty old version of MySQL Connector/J, please upgrade to a newer version (the latest is 8.0.31)."}],"owner":{"account_id":21816360,"reputation":1,"user_id":16113130,"display_name":"Nishant Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668274487,"creation_date":1668152465,"question_id":74399368,"body_markdown":"While mapping data to database (MySQL) this error pop up. I am new to Hibernate.\r\n\r\nVersions of Maven dependencies are listed in below images\r\n\r\n```none\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: BookStoreWebsite\r\n\t...]\r\nNov 11, 2022 12:50:45 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.2.12.Final}\r\nNov 11, 2022 12:50:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nNov 11, 2022 12:50:45 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\nNov 11, 2022 12:50:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:858)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:885)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n\tat UsersTest.main(UsersTest.java:16)\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.Drivers]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:348)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:160)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:116)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:100)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:72)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n\t... 14 more\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.Drivers\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:336)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:488)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:345)\r\n\t... 26 more\r\n```\r\n\r\n[![](https://i.stack.imgur.com/kwFSZ.png)](https://i.stack.imgur.com/kwFSZ.png)\r\n\r\nUserTest.java class.....to enter data into database and establish connection\r\n\r\npersistence.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n          http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n        version=&quot;2.1&quot;&gt;\r\n\t\r\n\t&lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\r\n\t&lt;properties&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Drivers&quot;/&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```","title":"Hibernate and MySQL connector error.Unable to connect to database and map data","body":"<p>While mapping data to database (MySQL) this error pop up. I am new to Hibernate.</p>\n<p>Versions of Maven dependencies are listed in below images</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO: HHH000204: Processing PersistenceUnitInfo [\n    name: BookStoreWebsite\n    ...]\nNov 11, 2022 12:50:45 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.12.Final}\nNov 11, 2022 12:50:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nNov 11, 2022 12:50:45 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nNov 11, 2022 12:50:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:858)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:885)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    at UsersTest.main(UsersTest.java:16)\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.Drivers]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:348)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:160)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:116)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:100)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:72)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.Drivers\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:336)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:488)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:345)\n    ... 26 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kwFSZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kwFSZ.png\" alt=\"\" /></a></p>\n<p>UserTest.java class.....to enter data into database and establish connection</p>\n<p>persistence.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n          http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n        version=&quot;2.1&quot;&gt;\n    \n    &lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\n    &lt;properties&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Drivers&quot;/&gt;\n    &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1329310290,"post_id":9293626,"comment_id":11720256,"body_markdown":"+1...  Finding the window&#39;s position and bringing it to front cannot be done in pure Java (at least not if it&#39;s a window belonging to another app), so JNA is great here but...  The mouse click can be done using a Java Robot.  Would it be an option for you to keep using your JNA to find the window and then bring it to front and *then* use a simple Java Robot to simulate the click?","body":"+1...  Finding the window&#39;s position and bringing it to front cannot be done in pure Java (at least not if it&#39;s a window belonging to another app), so JNA is great here but...  The mouse click can be done using a Java Robot.  Would it be an option for you to keep using your JNA to find the window and then bring it to front and <i>then</i> use a simple Java Robot to simulate the click?"},{"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"score":0,"creation_date":1329310739,"post_id":9293626,"comment_id":11720438,"body_markdown":"Robot moves real cursor and it&#39;s really annoying. Also it require the target window isn&#39;t overlapped with something else. But with PostMessage this will work without moving my cursor and even if the window is somewhere in background.","body":"Robot moves real cursor and it&#39;s really annoying. Also it require the target window isn&#39;t overlapped with something else. But with PostMessage this will work without moving my cursor and even if the window is somewhere in background."},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1329310948,"post_id":9293626,"comment_id":11720520,"body_markdown":"a) *&quot;Robot moves real cursor and it&#39;s really annoying&quot;* [sic]  With Robot you can: save the mouse position, move the mouse, click, move back the mouse to the old location.  It&#39;s so fast users won&#39;t even see it (been there, done that ; )    b) *&quot;it require the target window isn&#39;t overlapped with something else&quot;* [sic]  You said you were bringing your window to front?  (in most cases once a window is in front, it&#39;s in front...  Although I agree in some cases there may still be some thing even more &quot;in front&quot;, but this should be more than rare no!?","body":"a) <i>&quot;Robot moves real cursor and it&#39;s really annoying&quot;</i> [sic]  With Robot you can: save the mouse position, move the mouse, click, move back the mouse to the old location.  It&#39;s so fast users won&#39;t even see it (been there, done that ; )    b) <i>&quot;it require the target window isn&#39;t overlapped with something else&quot;</i> [sic]  You said you were bringing your window to front?  (in most cases once a window is in front, it&#39;s in front...  Although I agree in some cases there may still be some thing even more &quot;in front&quot;, but this should be more than rare no!?"},{"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"score":0,"creation_date":1329311943,"post_id":9293626,"comment_id":11720899,"body_markdown":"I know what is robot and I can imagine many different workarounds about mouse clicking and emulation other events. But robot is still unreliable workaround. Yes, in this example the window is in front and robot will work fine. But in real word application the window can be in background. Also double click can take more time and it will not be so fast. If application needs series of clicks and other actions it can take some time. I already have JNA in this project and it can send any messages to any window.","body":"I know what is robot and I can imagine many different workarounds about mouse clicking and emulation other events. But robot is still unreliable workaround. Yes, in this example the window is in front and robot will work fine. But in real word application the window can be in background. Also double click can take more time and it will not be so fast. If application needs series of clicks and other actions it can take some time. I already have JNA in this project and it can send any messages to any window."}],"answers":[{"tags":[],"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1329310302,"creation_date":1329310302,"answer_id":9293748,"question_id":9293626,"body_markdown":"Just a wild guess: The click events should not be delivered to the main window but to the destination button objects themselves. On the given coordinates the button lay above the main window &quot;hiding&quot; it when a real click happens.","title":"Mouse click with JNA","body":"<p>Just a wild guess: The click events should not be delivered to the main window but to the destination button objects themselves. On the given coordinates the button lay above the main window \"hiding\" it when a real click happens.</p>\n"}],"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5546,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9293748,"answer_count":1,"score":7,"last_activity_date":1668273952,"creation_date":1329309869,"question_id":9293626,"body_markdown":"I&#39;m trying to simulate mouse click at window with JNA.\r\n\r\n    public class App {\r\n\r\n    public static final int WM_LBUTTONUP = 514;\r\n    public static final int WM_LBUTTONDOWN = 513;\r\n    public static final int WM_LBUTTONDBLCLK = 0x203;\r\n    static int WM_CLOSE = 0x10;\r\n    final static String winTitle = &quot;Untitled - Notepad&quot;;\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        User32Extra user32 = (User32Extra) Native.loadLibrary(&quot;user32&quot;, User32Extra.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n        WinDef.HWND hwnd = user32.FindWindow(null, winTitle);\r\n        user32.SetForegroundWindow(hwnd);\r\n        Thread.sleep(1000);\r\n        \r\n        long y = 77 + (22 &lt;&lt; 16);//x + (y &lt;&lt; 16)\r\n        WinDef.LPARAM l = new WinDef.LPARAM(y);\r\n        WinDef.WPARAM w = new WinDef.WPARAM(0);\r\n        user32.PostMessage(hwnd, WM_LBUTTONDOWN, w, l);\r\n        Thread.sleep(1000);\r\n        user32.PostMessage(hwnd, WM_LBUTTONUP, w, l);\r\n    }\r\n    }\r\n\r\nIt find the window and bring it to front. but mouse click doesn&#39;t work. Also sending WM_CLOSE works. \r\nWhat&#39;s wrong with mouse click?\r\nTested on calculator and notepad. \r\nCoordinates are relative to the window.","title":"Mouse click with JNA","body":"<p>I'm trying to simulate mouse click at window with JNA.</p>\n\n<pre><code>public class App {\n\npublic static final int WM_LBUTTONUP = 514;\npublic static final int WM_LBUTTONDOWN = 513;\npublic static final int WM_LBUTTONDBLCLK = 0x203;\nstatic int WM_CLOSE = 0x10;\nfinal static String winTitle = \"Untitled - Notepad\";\n\npublic static void main(String[] args) throws InterruptedException {\n    User32Extra user32 = (User32Extra) Native.loadLibrary(\"user32\", User32Extra.class, W32APIOptions.DEFAULT_OPTIONS);\n\n    WinDef.HWND hwnd = user32.FindWindow(null, winTitle);\n    user32.SetForegroundWindow(hwnd);\n    Thread.sleep(1000);\n\n    long y = 77 + (22 &lt;&lt; 16);//x + (y &lt;&lt; 16)\n    WinDef.LPARAM l = new WinDef.LPARAM(y);\n    WinDef.WPARAM w = new WinDef.WPARAM(0);\n    user32.PostMessage(hwnd, WM_LBUTTONDOWN, w, l);\n    Thread.sleep(1000);\n    user32.PostMessage(hwnd, WM_LBUTTONUP, w, l);\n}\n}\n</code></pre>\n\n<p>It find the window and bring it to front. but mouse click doesn't work. Also sending WM_CLOSE works. \nWhat's wrong with mouse click?\nTested on calculator and notepad. \nCoordinates are relative to the window.</p>\n"},{"tags":["java","spring","pyspark","salesforce"],"comments":[{"owner":{"account_id":1042850,"reputation":306,"user_id":1048488,"accept_rate":42,"display_name":"Whitey Winn"},"score":0,"creation_date":1671021453,"post_id":74415033,"comment_id":132006333,"body_markdown":"Hi Dinesh, any update on this? I am facing the same issue. Please let me know if you have resolved it. Thanks!","body":"Hi Dinesh, any update on this? I am facing the same issue. Please let me know if you have resolved it. Thanks!"},{"owner":{"account_id":7957268,"reputation":95,"user_id":6006108,"display_name":"Dinesh Kumar"},"score":0,"creation_date":1671262666,"post_id":74415033,"comment_id":132065749,"body_markdown":"No. Not yet. I tried with different versions of jars. But still no luck. We may need to increase or decrease the spark version I guess. Let me know if you get any workaround.","body":"No. Not yet. I tried with different versions of jars. But still no luck. We may need to increase or decrease the spark version I guess. Let me know if you get any workaround."},{"owner":{"account_id":1042850,"reputation":306,"user_id":1048488,"accept_rate":42,"display_name":"Whitey Winn"},"score":0,"creation_date":1672162480,"post_id":74415033,"comment_id":132233568,"body_markdown":"Hey, we decided to use the SalesForce Bulk API","body":"Hey, we decided to use the SalesForce Bulk API"}],"owner":{"account_id":7957268,"reputation":95,"user_id":6006108,"display_name":"Dinesh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668273682,"creation_date":1668273682,"question_id":74415033,"body_markdown":"I am trying to write the spark dataframe into salesforce object. But its failing with the below error.\r\n**java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)**\r\n\r\nI am able to read the data. But the write operation is failing. Not sure, I need to add any additional dependency or not.\r\n\r\n**Dependencies used:**\r\n\r\n    spark-salesforce_2.12-1.1.4.jar\r\n    force-partner-api-40.0.0.jar\r\n    force-wsc-40.0.0.jar\r\n    jackson-dataformat-xml-2.4.4.jar\r\n    java-sizeof_2.11-0.1.jar\r\n    mockito-core-2.0.31-beta.jar\r\n    salesforce-wave-api-1.0.10.jar\r\n    scala-library-2.12.10.jar\r\n    woodstox-core-asl-4.4.0.jar\r\n    stax2-api-4.2.1\r\n\r\n**Pyspark Version : 3.3.0**\r\n\r\nBelow is my code.\r\n\r\n    spark = SparkSession.builder.appName(&quot;salesforce_connect&quot;).master(&quot;local[*]&quot;).getOrCreate()\r\n    sc    = spark.sparkContext\r\n    sc.setLogLevel(&quot;Error&quot;)\r\n\r\n    soql = &quot;SELECT name, industry, type, billingaddress, sic, Phone, YearStarted FROM Account&quot;\r\n    df = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\\r\n                     .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\r\n                     .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\r\n                     .option(&quot;soql&quot;, soql) \\\r\n                     .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\r\n                     .load()\r\n    df.show()\r\n    \r\n    #Transformation\r\n    df = df.withColumn(&quot;YearStarted|&quot;, F.lit(&quot;2020&quot;))\\\r\n            .na.replace(&quot;null&quot;, &quot;Agriculture&quot;, &quot;Industry&quot;)\\\r\n            .na.replace(&quot;null&quot;, &quot;Default&quot;, &quot;Type&quot;)\r\n    df.show()\r\n    \r\n    df.write.format(&quot;com.springml.spark.salesforce&quot;) \\\r\n        .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\r\n        .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\r\n        .option(&quot;sfObject&quot;, &quot;Account&quot;) \\\r\n        .option(&quot;login&quot;, &quot;https://sect-d3-dev-ed.develop.my.salesforce.com/&quot;)\\\r\n        .option(&quot;bulk&quot;, True)\\\r\n        .option(&quot;upsert&quot;, True)\\\r\n        .save()\r\n\r\n\r\n**Below is the Error:**\r\n   \r\n\r\n    java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)\r\n    at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createSR(WstxInputFactory.java:802) at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createXMLStreamReader(WstxInputFactory.java:358) at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:580)\r\n    at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:28) \r\n    at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1122) \r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690) \r\n    at com.springml.salesforce.wave.impl.BulkAPIImpl.addBatch(BulkAPIImpl.java:76) \r\n    at com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3(SFObjectWriter.scala:45) \r\n    at com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3$adapted(SFObjectWriter.scala:39) at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:907) \r\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:907) \r\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) \r\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365) \r\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329) \r\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) \r\n    at org.apache.spark.scheduler.Task.run(Task.scala:136) \r\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) \r\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) \r\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) \r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) \r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"Unable to write dataframe into salesforce object. Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource","body":"<p>I am trying to write the spark dataframe into salesforce object. But its failing with the below error.\n<strong>java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)</strong></p>\n<p>I am able to read the data. But the write operation is failing. Not sure, I need to add any additional dependency or not.</p>\n<p><strong>Dependencies used:</strong></p>\n<pre><code>spark-salesforce_2.12-1.1.4.jar\nforce-partner-api-40.0.0.jar\nforce-wsc-40.0.0.jar\njackson-dataformat-xml-2.4.4.jar\njava-sizeof_2.11-0.1.jar\nmockito-core-2.0.31-beta.jar\nsalesforce-wave-api-1.0.10.jar\nscala-library-2.12.10.jar\nwoodstox-core-asl-4.4.0.jar\nstax2-api-4.2.1\n</code></pre>\n<p><strong>Pyspark Version : 3.3.0</strong></p>\n<p>Below is my code.</p>\n<pre><code>spark = SparkSession.builder.appName(&quot;salesforce_connect&quot;).master(&quot;local[*]&quot;).getOrCreate()\nsc    = spark.sparkContext\nsc.setLogLevel(&quot;Error&quot;)\n\nsoql = &quot;SELECT name, industry, type, billingaddress, sic, Phone, YearStarted FROM Account&quot;\ndf = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\\n                 .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\n                 .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\n                 .option(&quot;soql&quot;, soql) \\\n                 .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\n                 .load()\ndf.show()\n\n#Transformation\ndf = df.withColumn(&quot;YearStarted|&quot;, F.lit(&quot;2020&quot;))\\\n        .na.replace(&quot;null&quot;, &quot;Agriculture&quot;, &quot;Industry&quot;)\\\n        .na.replace(&quot;null&quot;, &quot;Default&quot;, &quot;Type&quot;)\ndf.show()\n\ndf.write.format(&quot;com.springml.spark.salesforce&quot;) \\\n    .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\n    .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\n    .option(&quot;sfObject&quot;, &quot;Account&quot;) \\\n    .option(&quot;login&quot;, &quot;https://sect-d3-dev-ed.develop.my.salesforce.com/&quot;)\\\n    .option(&quot;bulk&quot;, True)\\\n    .option(&quot;upsert&quot;, True)\\\n    .save()\n</code></pre>\n<p><strong>Below is the Error:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)\nat org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createSR(WstxInputFactory.java:802) at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createXMLStreamReader(WstxInputFactory.java:358) at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:580)\nat com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:28) \nat com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1122) \nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690) \nat com.springml.salesforce.wave.impl.BulkAPIImpl.addBatch(BulkAPIImpl.java:76) \nat com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3(SFObjectWriter.scala:45) \nat com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3$adapted(SFObjectWriter.scala:39) at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:907) \nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:907) \nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) \nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365) \nat org.apache.spark.rdd.RDD.iterator(RDD.scala:329) \nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) \nat org.apache.spark.scheduler.Task.run(Task.scala:136) \nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) \nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) \nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) \nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) \nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","bufferedreader","tcpclient","tcpserver"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668273670,"creation_date":1668272100,"answer_id":74414843,"question_id":74414606,"body_markdown":"It is only reading one sentence because the server does not repeatedly ask for new input. Sure, you have a `while(true)` loop, but that loop is repeatedly accepting new connections (this is what `welcomeSocket.accept()` does). Once you asked for one line input, you go back to the start of the loop, and waits for another connection to come. Of course, no more connections are coming, so the server just does nothing forever.\r\n\r\nYou should add an inner loop,\r\n\r\n    while (true){\r\n        Socket connectionSocket = welcomeSocket.accept();\r\n        BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\r\n        DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\r\n        while(true) {\r\n            clientSentence = inFromClient.readLine();\r\n            if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\r\n                connectionSocket.close();\r\n                break;\r\n            }\r\n            capitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n            outToClient.writeBytes(capitalizedSentence);\r\n        }\r\n    }\r\n\r\nOnce the server receives &quot;stop&quot;, it would close the connection with the current client, and wait for another client to connect as it goes back to the top of the outer loop. If you want the server to terminate completely (so only accepting one connection), just remove the outer loop, and close the `welcomeSocket`:\r\n\r\n    ServerSocket welcomeSocket = new ServerSocket(6789);\r\n    Socket connectionSocket = welcomeSocket.accept();\r\n    BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\r\n    DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\r\n    while(true) {\r\n        clientSentence = inFromClient.readLine();\r\n        if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\r\n            connectionSocket.close();\r\n            break;\r\n        }\r\n        capitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n        outToClient.writeBytes(capitalizedSentence);\r\n    }\r\n    welcomeSocket.close();\r\n\r\nAs for the client, it can break out of the loop when `inFromServer.readLine` returns null, which is indication that the connection has been closed.\r\n\r\n    while (true){\r\n        sentence = inFromUser.readLine();\r\n        outToServer.writeBytes(sentence + &#39;\\n&#39;);\r\n        modifiedSentence = inFromServer.readLine();\r\n        if (modifiedSentence == null) {\r\n            break;\r\n        }\r\n        System.out.println(modifiedSentence);\r\n    }","title":"How to read data until eof() using BufferdReader in java","body":"<p>It is only reading one sentence because the server does not repeatedly ask for new input. Sure, you have a <code>while(true)</code> loop, but that loop is repeatedly accepting new connections (this is what <code>welcomeSocket.accept()</code> does). Once you asked for one line input, you go back to the start of the loop, and waits for another connection to come. Of course, no more connections are coming, so the server just does nothing forever.</p>\n<p>You should add an inner loop,</p>\n<pre><code>while (true){\n    Socket connectionSocket = welcomeSocket.accept();\n    BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\n    DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\n    while(true) {\n        clientSentence = inFromClient.readLine();\n        if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\n            connectionSocket.close();\n            break;\n        }\n        capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n        outToClient.writeBytes(capitalizedSentence);\n    }\n}\n</code></pre>\n<p>Once the server receives &quot;stop&quot;, it would close the connection with the current client, and wait for another client to connect as it goes back to the top of the outer loop. If you want the server to terminate completely (so only accepting one connection), just remove the outer loop, and close the <code>welcomeSocket</code>:</p>\n<pre><code>ServerSocket welcomeSocket = new ServerSocket(6789);\nSocket connectionSocket = welcomeSocket.accept();\nBufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\nDataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\nwhile(true) {\n    clientSentence = inFromClient.readLine();\n    if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\n        connectionSocket.close();\n        break;\n    }\n    capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n    outToClient.writeBytes(capitalizedSentence);\n}\nwelcomeSocket.close();\n</code></pre>\n<p>As for the client, it can break out of the loop when <code>inFromServer.readLine</code> returns null, which is indication that the connection has been closed.</p>\n<pre><code>while (true){\n    sentence = inFromUser.readLine();\n    outToServer.writeBytes(sentence + '\\n');\n    modifiedSentence = inFromServer.readLine();\n    if (modifiedSentence == null) {\n        break;\n    }\n    System.out.println(modifiedSentence);\n}\n</code></pre>\n"}],"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74414843,"answer_count":1,"score":1,"last_activity_date":1668273670,"creation_date":1668270243,"question_id":74414606,"body_markdown":"Hi I&#39;m facing a little problem with eof() \r\n\r\nI created a tcp connection between a client and a server to send text to the server and \r\n\r\nreceive it back in capital letters but the problem is that it&#39;s reading one line only so\r\n\r\nI would like to modify the code so it reads until I type &quot;stopp&quot;. When I type stop both\r\n\r\nthe client and the receiver terminate at the same time. \r\n\r\n\r\n\r\n\r\nThis is the client class\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\npublic class Klient {\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t * @throws UnknownHostException \r\n\t */\r\n\tpublic static void main(String[] args) throws UnknownHostException, \r\n\t\tIOException {\r\n\t\tString sentence;\r\n\t\tString modifiedSentence;\r\n\t\tBufferedReader inFromUser = new BufferedReader(new \r\n\t\t\t\tInputStreamReader(System.in));\r\n\t\tSocket clientSocket = new Socket(&quot;127.0.0.1&quot;, 6789);\r\n\t\tDataOutputStream outToServer = new \r\n\t\t\t\tDataOutputStream(clientSocket.getOutputStream());\r\n\t\tBufferedReader inFromServer = new BufferedReader(new \r\n\t\t\t\tInputStreamReader(clientSocket.getInputStream()));\r\n\t\twhile (true){\r\n\t\t\tsentence = inFromUser.readLine();\r\n\t\t\toutToServer.writeBytes(sentence + &#39;\\n&#39;);\r\n\t\t\tmodifiedSentence = inFromServer.readLine();\r\n\t\t\tSystem.out.println(modifiedSentence);\r\n\t\t}\r\n\t\t//clientSocket.close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the server class\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\npublic class TCPServer {\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t */\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString clientSentence;\r\n\t\tString capitalizedSentence;\r\n\t\tServerSocket welcomeSocket = new ServerSocket(6789);\r\n\t\twhile (true){\r\n\t\t\tSocket connectionSocket = welcomeSocket.accept();\r\n\t\t\tBufferedReader inFromClient = new BufferedReader(new \r\n\t\t\t\t\tInputStreamReader(connectionSocket.getInputStream()));\r\n\t\t\tDataOutputStream outToClient = new \r\n\t\t\t\t\tDataOutputStream(connectionSocket.getOutputStream());\r\n\t\t\tclientSentence = inFromClient.readLine();\r\n\t\t\tcapitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n\t\t\toutToClient.writeBytes(capitalizedSentence);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to read data until eof() using BufferdReader in java","body":"<p>Hi I'm facing a little problem with eof()</p>\n<p>I created a tcp connection between a client and a server to send text to the server and</p>\n<p>receive it back in capital letters but the problem is that it's reading one line only so</p>\n<p>I would like to modify the code so it reads until I type &quot;stopp&quot;. When I type stop both</p>\n<p>the client and the receiver terminate at the same time.</p>\n<p>This is the client class</p>\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class Klient {\n    /**\n     * @param args\n     * @throws IOException \n     * @throws UnknownHostException \n     */\n    public static void main(String[] args) throws UnknownHostException, \n        IOException {\n        String sentence;\n        String modifiedSentence;\n        BufferedReader inFromUser = new BufferedReader(new \n                InputStreamReader(System.in));\n        Socket clientSocket = new Socket(&quot;127.0.0.1&quot;, 6789);\n        DataOutputStream outToServer = new \n                DataOutputStream(clientSocket.getOutputStream());\n        BufferedReader inFromServer = new BufferedReader(new \n                InputStreamReader(clientSocket.getInputStream()));\n        while (true){\n            sentence = inFromUser.readLine();\n            outToServer.writeBytes(sentence + '\\n');\n            modifiedSentence = inFromServer.readLine();\n            System.out.println(modifiedSentence);\n        }\n        //clientSocket.close();\n    }\n}\n</code></pre>\n<p>This is the server class</p>\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class TCPServer {\n    /**\n     * @param args\n     * @throws IOException \n     */\n    public static void main(String[] args) throws IOException {\n        String clientSentence;\n        String capitalizedSentence;\n        ServerSocket welcomeSocket = new ServerSocket(6789);\n        while (true){\n            Socket connectionSocket = welcomeSocket.accept();\n            BufferedReader inFromClient = new BufferedReader(new \n                    InputStreamReader(connectionSocket.getInputStream()));\n            DataOutputStream outToClient = new \n                    DataOutputStream(connectionSocket.getOutputStream());\n            clientSentence = inFromClient.readLine();\n            capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n            outToClient.writeBytes(capitalizedSentence);\n        }\n    }\n</code></pre>\n"},{"tags":["java","xml","exception"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1274178147,"post_id":2856126,"comment_id":2899862,"body_markdown":"tried escaping the `\\\\`?","body":"tried escaping the `\\`?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1582078101,"creation_date":1274180325,"answer_id":2856542,"question_id":2856126,"body_markdown":"A valid URI does not contain backslashes, and if it contains a `:` then the characters before the first `:` must be a &quot;protocol&quot;.\r\n\r\nBasically `&quot;C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml&quot;` is a pathname, and not a valid URI.  \r\n\r\nIf you want to turn a pathname into a &quot;file:&quot; URI, then do the following:\r\n\r\n    File f = new File(&quot;C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml&quot;);\r\n    URI u = f.toURI();\r\n\r\nThis is the simplest, and most reliable and portable way to turn a pathname into a valid URI in Java.  It should work on Windows, Mac, Linux and any other platform that supports Java.  (Other solutions that involve using string bashing on a pathname are not portable.)\r\n\r\nBut you need to realize that &quot;file:&quot; URIs have a number of caveats, as described in the javadocs for the [`File.toURI()`][1] method.  For example, a &quot;file:&quot; URI created on one machine usually denotes a different resource (or no resource at all) on another machine.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#toURI()","title":"java.net.URISyntaxException","body":"<p>A valid URI does not contain backslashes, and if it contains a <code>:</code> then the characters before the first <code>:</code> must be a \"protocol\".</p>\n\n<p>Basically <code>\"C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\"</code> is a pathname, and not a valid URI.  </p>\n\n<p>If you want to turn a pathname into a \"file:\" URI, then do the following:</p>\n\n<pre><code>File f = new File(\"C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\");\nURI u = f.toURI();\n</code></pre>\n\n<p>This is the simplest, and most reliable and portable way to turn a pathname into a valid URI in Java.  It should work on Windows, Mac, Linux and any other platform that supports Java.  (Other solutions that involve using string bashing on a pathname are not portable.)</p>\n\n<p>But you need to realize that \"file:\" URIs have a number of caveats, as described in the javadocs for the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#toURI()\" rel=\"noreferrer\"><code>File.toURI()</code></a> method.  For example, a \"file:\" URI created on one machine usually denotes a different resource (or no resource at all) on another machine.</p>\n"},{"tags":[],"owner":{"account_id":801427,"reputation":89,"user_id":914974,"display_name":"sizu"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1316222334,"creation_date":1316222334,"answer_id":7451828,"question_id":2856126,"body_markdown":"You must have the string like so:\r\n\r\n    String windowsPath = file:/C:/Users/sizu/myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\nUsually, people do something like this:\r\n\r\n    String windowsPath = file:C:/Users/sizu/myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\nor something like this:\r\n\r\n    String windowsPath = file:C:\\Users\\sizu\\myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\n","title":"java.net.URISyntaxException","body":"<p>You must have the string like so:</p>\n\n<pre><code>String windowsPath = file:/C:/Users/sizu/myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n\n<p>Usually, people do something like this:</p>\n\n<pre><code>String windowsPath = file:C:/Users/sizu/myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n\n<p>or something like this:</p>\n\n<pre><code>String windowsPath = file:C:\\Users\\sizu\\myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":982515,"reputation":83,"user_id":1001890,"display_name":"britt"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400858275,"creation_date":1400858275,"answer_id":23832907,"question_id":2856126,"body_markdown":"I had the same &quot;opaque&quot; error while passing a URI on the command line to a script. This was on windows. I had to use forward slashes, NOT backslashes. This resolved it for me.","title":"java.net.URISyntaxException","body":"<p>I had the same \"opaque\" error while passing a URI on the command line to a script. This was on windows. I had to use forward slashes, NOT backslashes. This resolved it for me.</p>\n"},{"tags":[],"owner":{"account_id":917806,"reputation":1834,"user_id":950212,"display_name":"Ankireddy Polu"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1406027586,"creation_date":1406026109,"answer_id":24885306,"question_id":2856126,"body_markdown":"The root cause for this is file path contains the forward slashes instead of backward slashes in windows.\r\n\r\nTry like this to resolve the problem:\r\n\r\n    &quot;file:&quot; + string.replace(&quot;\\\\&quot;, &quot;/&quot;);  ","title":"java.net.URISyntaxException","body":"<p>The root cause for this is file path contains the forward slashes instead of backward slashes in windows.</p>\n\n<p>Try like this to resolve the problem:</p>\n\n<pre><code>\"file:\" + string.replace(\"\\\\\", \"/\");  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2814998,"reputation":2666,"user_id":2420329,"accept_rate":83,"display_name":"sampopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504363652,"creation_date":1504363652,"answer_id":46014946,"question_id":2856126,"body_markdown":"It needs a complete uri with type/protocol\r\ne.g \r\n\r\n    file:/C:/Users/Sumit/Desktop/s%20folder/SAMPLETEXT.txt\r\n\r\n\r\n    File file = new File(&quot;C:/Users/Sumit/Desktop/s folder/SAMPLETEXT.txt&quot;);\r\n    file.toURI();//This will return the same string for you.\r\n\r\nI will rather use direct string to avoid creating extra file object.\r\n","title":"java.net.URISyntaxException","body":"<p>It needs a complete uri with type/protocol\ne.g </p>\n\n<pre><code>file:/C:/Users/Sumit/Desktop/s%20folder/SAMPLETEXT.txt\n\n\nFile file = new File(\"C:/Users/Sumit/Desktop/s folder/SAMPLETEXT.txt\");\nfile.toURI();//This will return the same string for you.\n</code></pre>\n\n<p>I will rather use direct string to avoid creating extra file object.</p>\n"},{"tags":[],"owner":{"account_id":10541959,"reputation":8906,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668273167,"creation_date":1668273167,"answer_id":74414968,"question_id":2856126,"body_markdown":"it doesn&#39;t like spaces as well and it has to be / instead of \\\\ or `\\\\ or //\r\n\r\nzipFilePath = &quot;C:/test/v&quot;;","title":"java.net.URISyntaxException","body":"<p>it doesn't like spaces as well and it has to be / instead of \\ or `\\ or //</p>\n<p>zipFilePath = &quot;C:/test/v&quot;;</p>\n"}],"owner":{"account_id":614668,"reputation":331,"user_id":343873,"display_name":"aayushi soni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80908,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":6,"score":33,"last_activity_date":1668273167,"creation_date":1274176261,"question_id":2856126,"body_markdown":"I have get this exception. but this exception is not reproduced again. I want to get the cause of this \r\n\r\n    Exception Caught while Checking tag in XMLjava.net.URISyntaxException:\r\n    Illegal character in opaque part at index 2:\r\n    C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\r\n    stacktrace net.sf.saxon.trans.XPathException.\r\n\r\nWhy this exception occured. How to deal with so it will not reproduce.\r\n","title":"java.net.URISyntaxException","body":"<p>I have get this exception. but this exception is not reproduced again. I want to get the cause of this </p>\n\n<pre><code>Exception Caught while Checking tag in XMLjava.net.URISyntaxException:\nIllegal character in opaque part at index 2:\nC:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\nstacktrace net.sf.saxon.trans.XPathException.\n</code></pre>\n\n<p>Why this exception occured. How to deal with so it will not reproduce.</p>\n"},{"tags":["java","intervals","calc"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1668273051,"post_id":74414920,"comment_id":131367309,"body_markdown":"Why use arithmetic? Perhaps it should be `return this.lowerBound &gt;= other.lowerBound &amp;&amp; this.upperBound &lt;= other.upperBound;` You could write some *tests* to validate that it behaves as you expect. Then you would know if it is correct (or how it is not).","body":"Why use arithmetic? Perhaps it should be <code>return this.lowerBound &gt;= other.lowerBound &amp;&amp; this.upperBound &lt;= other.upperBound;</code> You could write some <i>tests</i> to validate that it behaves as you expect. Then you would know if it is correct (or how it is not)."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668273197,"post_id":74414920,"comment_id":131367343,"body_markdown":"you should have a main method to do some boundary testing and show the code and output.","body":"you should have a main method to do some boundary testing and show the code and output."},{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":2,"creation_date":1668273332,"post_id":74414920,"comment_id":131367367,"body_markdown":"When invoking, it will be `A.isSubsetOf(B)`. You would want to make it behave exactly as it naturally sounds. For Interval A to be a subset of Interval B, `A.lowerBound &gt;= B.lowerBound` and `A.upperBound &lt;= B.upperBound`. Remove the equals if you want a strict subset.","body":"When invoking, it will be <code>A.isSubsetOf(B)</code>. You would want to make it behave exactly as it naturally sounds. For Interval A to be a subset of Interval B, <code>A.lowerBound &gt;= B.lowerBound</code> and <code>A.upperBound &lt;= B.upperBound</code>. Remove the equals if you want a strict subset."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668275029,"post_id":74414920,"comment_id":131367679,"body_markdown":"Your approach of checking the difference of two int values to be greater than, equal to, or less than 0 instead of comparing the two values directly is error-prone because of the possibility of integer overflow. E.g. compare the results of `Integer.MIN_VALUE &lt; 10` and `Integer.MIN_VALUE - 10 &lt; 0`.","body":"Your approach of checking the difference of two int values to be greater than, equal to, or less than 0 instead of comparing the two values directly is error-prone because of the possibility of integer overflow. E.g. compare the results of <code>Integer.MIN_VALUE &lt; 10</code> and <code>Integer.MIN_VALUE - 10 &lt; 0</code>."}],"owner":{"account_id":26466763,"reputation":11,"user_id":20107844,"display_name":"Finn A."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668272789,"creation_date":1668272789,"question_id":74414920,"body_markdown":"I wrote this method for my Interval class with has 2 int-attributes. One for the lower Bound and one for the upper Bound. With this method i want to compare the given Interval other to the already existing Interval this and see, if other is a part or the whole Interval of this.\r\n\r\n```\r\nclass Interval {\r\n    int lowerBound;\r\n    int upperBound;\r\n    Interval(int lowerBound, int upperBound){\r\n        this.lowerBound = lowerBound;\r\n        this.upperBound = upperBound;\r\n    }\r\n\r\n    /**\r\n     * @return Gets the value of lowerBound and returns lowerBound.\r\n     */\r\n    public int getLowerBound() {\r\n        return lowerBound;\r\n    }\r\n\r\n    /**\r\n     * @return Gets the value of upperBound and returns upperBound.\r\n     */\r\n    public int getUpperBound() {\r\n        return upperBound;\r\n    }\r\n\r\nboolean isSubsetOf(Interval other){\r\n    return this.lowerBound - other.getLowerBound() &lt;= 0 &amp;&amp; this.upperBound - other.getUpperBound() &gt;= 0;\r\n}\r\n```\r\n\r\n\r\nI handed in this solution but got told that the calculation is wrong and I don&#39;t get where my mistake is.","title":"What is wrong with this isSubsetOf-Method?","body":"<p>I wrote this method for my Interval class with has 2 int-attributes. One for the lower Bound and one for the upper Bound. With this method i want to compare the given Interval other to the already existing Interval this and see, if other is a part or the whole Interval of this.</p>\n<pre><code>class Interval {\n    int lowerBound;\n    int upperBound;\n    Interval(int lowerBound, int upperBound){\n        this.lowerBound = lowerBound;\n        this.upperBound = upperBound;\n    }\n\n    /**\n     * @return Gets the value of lowerBound and returns lowerBound.\n     */\n    public int getLowerBound() {\n        return lowerBound;\n    }\n\n    /**\n     * @return Gets the value of upperBound and returns upperBound.\n     */\n    public int getUpperBound() {\n        return upperBound;\n    }\n\nboolean isSubsetOf(Interval other){\n    return this.lowerBound - other.getLowerBound() &lt;= 0 &amp;&amp; this.upperBound - other.getUpperBound() &gt;= 0;\n}\n</code></pre>\n<p>I handed in this solution but got told that the calculation is wrong and I don't get where my mistake is.</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668267175,"post_id":74414212,"comment_id":131366130,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267338,"post_id":74414212,"comment_id":131366180,"body_markdown":"... and what is &quot;the base satement&quot;? For me, it enters the `if(...)` when `n` is `0`.","body":"... and what is &quot;the base satement&quot;? For me, it enters the <code>if(...)</code> when <code>n</code> is <code>0</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267379,"post_id":74414212,"comment_id":131366187,"body_markdown":"@neo-code The question is &quot;a solution maybe&quot;? This is not a question.","body":"@neo-code The question is &quot;a solution maybe&quot;? This is not a question."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267398,"post_id":74414212,"comment_id":131366192,"body_markdown":"for me the debugger skips the if statement and gives errore","body":"for me the debugger skips the if statement and gives errore"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267461,"post_id":74414212,"comment_id":131366210,"body_markdown":"[Cannot reproduce](https://ideone.com/VsUlGQ).","body":"<a href=\"https://ideone.com/VsUlGQ\" rel=\"nofollow noreferrer\">Cannot reproduce</a>."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1668267466,"post_id":74414212,"comment_id":131366212,"body_markdown":"@neo-code If you get an error, please post the error message.","body":"@neo-code If you get an error, please post the error message."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267514,"post_id":74414212,"comment_id":131366226,"body_markdown":"@Turing85 yes I came here looking for solutions to my problem or if someone has better code. hope you understand.","body":"@Turing85 yes I came here looking for solutions to my problem or if someone has better code. hope you understand."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267593,"post_id":74414212,"comment_id":131366242,"body_markdown":"This is not how Stack Overflow works. We do not do code review here (That is what [CodeReview](https://codereview.stackexchange.com/) is for). And we do not rewrite your program. We answer specific questions. So please provide the necessary information. I recommend taking the [tour].","body":"This is not how Stack Overflow works. We do not do code review here (That is what <a href=\"https://codereview.stackexchange.com/\">CodeReview</a> is for). And we do not rewrite your program. We answer specific questions. So please provide the necessary information. I recommend taking the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267614,"post_id":74414212,"comment_id":131366246,"body_markdown":"@ThomasBehr no sorry not a error but always prompts the false value.","body":"@ThomasBehr no sorry not a error but always prompts the false value."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267669,"post_id":74414212,"comment_id":131366256,"body_markdown":"@Turing85 thank you this is my first time using overflow","body":"@Turing85 thank you this is my first time using overflow"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333017,"post_id":74414212,"comment_id":131375546,"body_markdown":"Please [edit] clarifications into to the question, rather than leaving [comments](/help/privileges/comment). For one thing, a question should be understandable without reading comments. For another, SO is a Q&amp;A site, not a forum, and comments aren&#39;t intended (nor are they well suited) for discussions. See the [help] for more, especially &quot;[ask]&quot;.","body":"Please <a href=\"https://stackoverflow.com/posts/74414212/edit\">edit</a> clarifications into to the question, rather than leaving <a href=\"/help/privileges/comment\">comments</a>. For one thing, a question should be understandable without reading comments. For another, SO is a Q&amp;A site, not a forum, and comments aren&#39;t intended (nor are they well suited) for discussions. See the <a href=\"https://stackoverflow.com/help\">help center</a> for more, especially &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333254,"post_id":74414212,"comment_id":131375582,"body_markdown":"On an unrelated topic, see [using optional parameters in Java](/a/12994104/90527) for how to avoid having to pass initial values to `isArm`.","body":"On an unrelated topic, see <a href=\"/a/12994104/90527\">using optional parameters in Java</a> for how to avoid having to pass initial values to <code>isArm</code>."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333314,"post_id":74414212,"comment_id":131375589,"body_markdown":"Using Stack Overflow as an interactive debugger is notoriously inefficient. Instead, find and learn to use whatever [debugger](/q/25385173/90527) your development suite provides. At that point, if you encounter a problem you can&#39;t solve you can then post a question about that specific issue. See &quot;[How much research effort is expected of Stack Overflow users?](//meta.stackoverflow.com/q/261592/90527)&quot;","body":"Using Stack Overflow as an interactive debugger is notoriously inefficient. Instead, find and learn to use whatever <a href=\"/q/25385173/90527\">debugger</a> your development suite provides. At that point, if you encounter a problem you can&#39;t solve you can then post a question about that specific issue. See &quot;<a href=\"//meta.stackoverflow.com/q/261592/90527\">How much research effort is expected of Stack Overflow users?</a>&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668350434,"post_id":74414212,"comment_id":131378759,"body_markdown":"Probably you&#39;ve meant that when `last` is `4` the `if`-statement in the *Base case* gets executed and the `sum` happens to be incorrect? Please [**fix the last sentence**](https://stackoverflow.com/posts/74414212/edit) of the question. It&#39;s important because Questions on StackOverflow are supposed to **provide value to Future Readers**.","body":"Probably you&#39;ve meant that when <code>last</code> is <code>4</code> the <code>if</code>-statement in the <i>Base case</i> gets executed and the <code>sum</code> happens to be incorrect? Please <a href=\"https://stackoverflow.com/posts/74414212/edit\"><b>fix the last sentence</b></a> of the question. It&#39;s important because Questions on StackOverflow are supposed to <b>provide value to Future Readers</b>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668267593,"creation_date":1668267593,"answer_id":74414282,"question_id":74414212,"body_markdown":"Your code will instantly jump to the answer (`if (n &lt;= 0)`) __before__ applying the cube of the last digit.\r\n\r\nFor example, trivially, let&#39;s try `9`, which obviously isn&#39;t armstrong.\r\n\r\nYour code will first check if 9 is 0 - it&#39;s not. So, we recurse, which will go with `self(0, 9, 0+0)`. The next run is supposed to then recurse once more, so that the `sum + last*last*last` can actually get some cubing done. But it&#39;ll never get there - n is 0, so, you jump into the `if`.\r\n\r\nAs your variable name kinda gives away `last` is referring to the digit that the previous run lopped off, and yet you aren&#39;t cubing it.\r\n\r\nThe solution is to simply get the cubing in _before_ checking if `n` is null:\r\n\r\nThe first thing your method should do is\r\n\r\n```\r\nsum += last*last*last;\r\n```\r\n\r\nThen, the second problem shows up: This correctly calculates your sum to be 407, but you check this against `n`, which is, obviously, `0` - you are &#39;destroying&#39; n as you go through. One trivial way to solve that is to pass the original n, unmolested, through, as a 4th parameter. I&#39;ll leave that as an exercise for the reader.\r\n","title":"Validating an Armstrong number using Recursion in Java","body":"<p>Your code will instantly jump to the answer (<code>if (n &lt;= 0)</code>) <strong>before</strong> applying the cube of the last digit.</p>\n<p>For example, trivially, let's try <code>9</code>, which obviously isn't armstrong.</p>\n<p>Your code will first check if 9 is 0 - it's not. So, we recurse, which will go with <code>self(0, 9, 0+0)</code>. The next run is supposed to then recurse once more, so that the <code>sum + last*last*last</code> can actually get some cubing done. But it'll never get there - n is 0, so, you jump into the <code>if</code>.</p>\n<p>As your variable name kinda gives away <code>last</code> is referring to the digit that the previous run lopped off, and yet you aren't cubing it.</p>\n<p>The solution is to simply get the cubing in <em>before</em> checking if <code>n</code> is null:</p>\n<p>The first thing your method should do is</p>\n<pre><code>sum += last*last*last;\n</code></pre>\n<p>Then, the second problem shows up: This correctly calculates your sum to be 407, but you check this against <code>n</code>, which is, obviously, <code>0</code> - you are 'destroying' n as you go through. One trivial way to solve that is to pass the original n, unmolested, through, as a 4th parameter. I'll leave that as an exercise for the reader.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668271769,"creation_date":1668271769,"answer_id":74414809,"question_id":74414212,"body_markdown":"Although *@rzwitserloot* has pointed at an issue which is rooted in the way you&#39;ve designed the recursion, the problem is still **not** resolved.\r\n\r\nYes, the recursive calls go &quot;one step ahead&quot; the calculation of the `sum` of digits, which happens in the *Recursive case*, and the left-most digit of the given number doesn&#39;t contribute the `sum`, since `n` is zero and recursion hits the *Base case*. That&#39;s true, but it&#39;s not the only thing you need to fix.\r\n\r\nHere&#39;s the definition of so-called [Narcissistic numbers](https://en.wikipedia.org/wiki/Narcissistic_number) (aka Armstrong numbers):\r\n\r\n&gt; In number theory, a narcissistic number (also known as a pluperfect digital invariant (PPDI), an Armstrong number (after Michael F. Armstrong)or a plus perfect number) in a given number base b b is a number that is the sum of its own digits each **raised to the power of the number of digits**.\r\n\r\nTherefore, a method with hard-coded power of `3` is capable to validate only three-digit Armstrong numbers. There are only few of them, for other valid Armstrong numbers it would produce an incorrect result.\r\n\r\nSo, before calculating the sum you need to know the numbers of digits there&#39;s no workaround. If you want to address the problem only by using Recursion, the numbers of digits can be also calculated recursively. If we take this route, the solution boils down to implementing two recursive methods.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public static boolean isArm(int n) {\r\n        return n == getSum(n, getDigitCount(n));\r\n    }\r\n\r\n    public static int getSum(int n, int power) {\r\n        return n == 0 ? 0 : (int) Math.pow(n % 10, power) + getSum(n / 10, power);\r\n    }\r\n\r\n    public static int getDigitCount(int n) {\r\n        return n == 0 ? 0 : 1 + getDigitCount(n / 10);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isArm(10));  // is not an Armstrong number\r\n        System.out.println(isArm(21));  // is not an Armstrong number\r\n        System.out.println(isArm(407)); // is an Armstrong number\r\n        System.out.println(isArm(153)); // is an Armstrong number\r\n        System.out.println(isArm(9));   // is an Armstrong number\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nfalse // 10\r\nfalse // 21\r\ntrue  // 407\r\ntrue  // 153\r\ntrue  // 9\r\n```","title":"Validating an Armstrong number using Recursion in Java","body":"<p>Although <em>@rzwitserloot</em> has pointed at an issue which is rooted in the way you've designed the recursion, the problem is still <strong>not</strong> resolved.</p>\n<p>Yes, the recursive calls go &quot;one step ahead&quot; the calculation of the <code>sum</code> of digits, which happens in the <em>Recursive case</em>, and the left-most digit of the given number doesn't contribute the <code>sum</code>, since <code>n</code> is zero and recursion hits the <em>Base case</em>. That's true, but it's not the only thing you need to fix.</p>\n<p>Here's the definition of so-called <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Narcissistic numbers</a> (aka Armstrong numbers):</p>\n<blockquote>\n<p>In number theory, a narcissistic number (also known as a pluperfect digital invariant (PPDI), an Armstrong number (after Michael F. Armstrong)or a plus perfect number) in a given number base b b is a number that is the sum of its own digits each <strong>raised to the power of the number of digits</strong>.</p>\n</blockquote>\n<p>Therefore, a method with hard-coded power of <code>3</code> is capable to validate only three-digit Armstrong numbers. There are only few of them, for other valid Armstrong numbers it would produce an incorrect result.</p>\n<p>So, before calculating the sum you need to know the numbers of digits there's no workaround. If you want to address the problem only by using Recursion, the numbers of digits can be also calculated recursively. If we take this route, the solution boils down to implementing two recursive methods.</p>\n<p>That's how it might look like:</p>\n<pre><code>public static boolean isArm(int n) {\n    return n == getSum(n, getDigitCount(n));\n}\n\npublic static int getSum(int n, int power) {\n    return n == 0 ? 0 : (int) Math.pow(n % 10, power) + getSum(n / 10, power);\n}\n\npublic static int getDigitCount(int n) {\n    return n == 0 ? 0 : 1 + getDigitCount(n / 10);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(isArm(10));  // is not an Armstrong number\n    System.out.println(isArm(21));  // is not an Armstrong number\n    System.out.println(isArm(407)); // is an Armstrong number\n    System.out.println(isArm(153)); // is an Armstrong number\n    System.out.println(isArm(9));   // is an Armstrong number\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>false // 10\nfalse // 21\ntrue  // 407\ntrue  // 153\ntrue  // 9\n</code></pre>\n"}],"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74414809,"answer_count":2,"score":0,"last_activity_date":1668272189,"creation_date":1668266971,"question_id":74414212,"body_markdown":"I have to check whether a number is an [Armstrong number](https://en.wikipedia.org/wiki/Narcissistic_number) or not, using a recursive method.\r\n\r\n```\r\npublic class ArmStrong {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isArm(407, 0, 0));\r\n    }\r\n\r\n    static boolean isArm(int n,int last,int sum) {\r\n        if (n &lt;= 0 ) {\r\n            if (sum == n) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return isArm(n / 10, n % 10,sum + last * last * last);\r\n    }\r\n}\r\n```\r\n\r\nWhen I debug, in the last call of `isArm` when `n` is 4, the base statement is skipped.","title":"Validating an Armstrong number using Recursion in Java","body":"<p>I have to check whether a number is an <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Armstrong number</a> or not, using a recursive method.</p>\n<pre><code>public class ArmStrong {\n\n    public static void main(String[] args) {\n        System.out.println(isArm(407, 0, 0));\n    }\n\n    static boolean isArm(int n,int last,int sum) {\n        if (n &lt;= 0 ) {\n            if (sum == n) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        return isArm(n / 10, n % 10,sum + last * last * last);\n    }\n}\n</code></pre>\n<p>When I debug, in the last call of <code>isArm</code> when <code>n</code> is 4, the base statement is skipped.</p>\n"},{"tags":["java","android","java-time","week-number","java.util.date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668275095,"post_id":74414707,"comment_id":131367692,"body_markdown":"I strongly recommend you dont use `SimpleDateFormat`, `Date` and `Calendar`. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). And find a date picker that supports java.time.","body":"I strongly recommend you dont use <code>SimpleDateFormat</code>, <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And find a date picker that supports java.time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668275389,"post_id":74414707,"comment_id":131367758,"body_markdown":"I cant reproduce. When I set `dateofweek` to `11/11/2022`. I get 45. When instead I set it to `01/11/2022`, I get only 44. How come you are getting the date as a string in a non-standard format from the date picker? Shouldnt you be getting a `LocalDate` object (or some other date object)?","body":"I cant reproduce. When I set <code>dateofweek</code> to <code>11&#47;11&#47;2022</code>. I get 45. When instead I set it to <code>01&#47;11&#47;2022</code>, I get only 44. How come you are getting the date as a string in a non-standard format from the date picker? Shouldnt you be getting a <code>LocalDate</code> object (or some other date object)?"}],"owner":{"account_id":26911463,"reputation":1,"user_id":20486958,"display_name":"VANSH AMBAWAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668271620,"answer_count":0,"score":0,"last_activity_date":1668271739,"creation_date":1668271006,"question_id":74414707,"body_markdown":"I want to get the week number from the date picker that user select even if the date was past date; \r\n\r\n\r\n\r\n\r\n\r\n```\r\nString dateofweek= dateselect.getText().toString();\r\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\nDate date = null;\r\n\r\n\r\n\r\ntry {\r\n    date=format.parse(dateofweek);\r\n} catch (ParseException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n\r\nCalendar cal2 = Calendar.getInstance();\r\ncal2.setTime(date);\r\n\r\nint weekofdate= cal2.get(Calendar.WEEK_OF_YEAR);\r\n````\r\n\r\n\r\n\r\n\r\n\r\nI tried this but it is showing same week number for every week. \r\n","title":"week number of anydate from datepicker","body":"<p>I want to get the week number from the date picker that user select even if the date was past date;</p>\n<pre><code>String dateofweek= dateselect.getText().toString();\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nDate date = null;\n\n\n\ntry {\n    date=format.parse(dateofweek);\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n\n\nCalendar cal2 = Calendar.getInstance();\ncal2.setTime(date);\n\nint weekofdate= cal2.get(Calendar.WEEK_OF_YEAR);\n</code></pre>\n<p>I tried this but it is showing same week number for every week.</p>\n"},{"tags":["java","scala","concurrency","thread-safety","thread-synchronization"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1668256677,"post_id":74412931,"comment_id":131364078,"body_markdown":"Nothing guarantees order of execution of the threads. `t3` could print before `t1` or `t2` had the chance to run. To convince yourself, add some logging statement ;)","body":"Nothing guarantees order of execution of the threads. <code>t3</code> could print before <code>t1</code> or <code>t2</code> had the chance to run. To convince yourself, add some logging statement ;)"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1668256767,"post_id":74412931,"comment_id":131364086,"body_markdown":"On a side note, we don&#39;t usually write code that uses Thread directly in Scala but we use higher abstractions like `Future`.","body":"On a side note, we don&#39;t usually write code that uses Thread directly in Scala but we use higher abstractions like <code>Future</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668258232,"post_id":74412931,"comment_id":131364370,"body_markdown":"I don&#39;t know Scala syntax. Is there a different `this` instance in each thread? or is `this` the same object in all three threads? Synchronization in the JVM has no effect between threads that are `synchronized` on different instances. It only works when the threads are all synchronized on the same, shared instance.","body":"I don&#39;t know Scala syntax. Is there a different <code>this</code> instance in each thread? or is <code>this</code> the same object in all three threads? Synchronization in the JVM has no effect between threads that are <code>synchronized</code> on different instances. It only works when the threads are all synchronized on the same, shared instance."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1668260948,"post_id":74412931,"comment_id":131364877,"body_markdown":"If you want to write **Java** code then use **Java**","body":"If you want to write <b>Java</b> code then use <b>Java</b>"}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668271447,"creation_date":1668265434,"answer_id":74414016,"question_id":74412931,"body_markdown":"Very entertaining example! It&#39;s so broken that it actually fails at failing to fail:\r\n\r\n  * It was already failing right from the beginning, because it started with the wrong assumption that the `synchronized` keyword would somehow force the `t3` to execute last. But that&#39;s simply not the case, the `synchronized` has nothing to do with the order in which the threads are executed. The threads can still run in arbitrary order, the `synchronized` merely ensures that they don&#39;t enter the `synchronized` block simultaneously.\r\n\r\n  * Then it additionally fails at generating a random `0` / `1` / `2` output, because there is no `synchronized` block around the `counter` in the `println`, i.e. there is no actual guarantee that the printing thread will see the random changes made by the two other threads. As it is, the printing thread had every right to print `0`, without being obliged to do so.\r\n  * The statements that are executed in the initializer of the `object` attempt to acquire `this` in `this.synchronized`. If one additionally adds `tN.join()` into the initializer, everything freezes with a deadlock (because the initialization cannot finish before `t1`, `t2`, `t3` can `join`, and they cannot `join` before they can enter a `this.synchronized`, and they cannot enter `this.synchronized` before the initialization has unlocked `this`).\r\n\r\n\r\nHere is the example that fixes all three problems:\r\n```\r\nobject Example {\r\n  def injectFunction(body: =&gt;Unit): Thread = {\r\n    val t = new Thread {\r\n      override def run() = body\r\n    }\r\n    t\r\n  }\r\n\r\n  private var counter: Int = 0\r\n  def increaseCounter(): Unit = {\r\n    // \r\n    Thread.sleep(util.Random.nextInt(1000))\r\n    this.synchronized {\r\n      counter += 1\r\n    }\r\n  }\r\n\r\n  def printCounter(): Unit = {\r\n    Thread.sleep(util.Random.nextInt(1000))\r\n    println(&quot;Random state: &quot; + this.synchronized { counter })\r\n  }\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val t1: Thread = injectFunction(increaseCounter())\r\n    val t2: Thread = injectFunction(increaseCounter())\r\n    val t3: Thread = injectFunction(printCounter())\r\n    t1.start()\r\n    t2.start()\r\n    t3.start()\r\n    t1.join()\r\n    t2.join()\r\n    t3.join()\r\n    println(&quot;Final state:  &quot; + counter)\r\n  }\r\n}\r\n```\r\nNow this will indeed randomly output\r\n```\r\nRandom state: 0\r\nFinal state:  2\r\n```\r\nor\r\n```\r\nRandom state: 1\r\nFinal state:  2\r\n```\r\nor\r\n```\r\nRandom state: 2\r\nFinal state:  2\r\n```\r\n\r\nThe crucial differences to your code are:\r\n\r\n  * random `sleep`s make the parallelism at least somewhat visible. Without this, you might get `2` &amp; `2` repeatedly.\r\n  * the reading access to `counter` in `println(counter)` must also be synchronized\r\n  * if you want to demonstrate that the final state of the counter is `2`, you have to wait for all three threads to `join`.\r\n  * All the statements are in the `main`, so that the `object` can be initialized correctly.","title":"Scala thread safety","body":"<p>Very entertaining example! It's so broken that it actually fails at failing to fail:</p>\n<ul>\n<li><p>It was already failing right from the beginning, because it started with the wrong assumption that the <code>synchronized</code> keyword would somehow force the <code>t3</code> to execute last. But that's simply not the case, the <code>synchronized</code> has nothing to do with the order in which the threads are executed. The threads can still run in arbitrary order, the <code>synchronized</code> merely ensures that they don't enter the <code>synchronized</code> block simultaneously.</p>\n</li>\n<li><p>Then it additionally fails at generating a random <code>0</code> / <code>1</code> / <code>2</code> output, because there is no <code>synchronized</code> block around the <code>counter</code> in the <code>println</code>, i.e. there is no actual guarantee that the printing thread will see the random changes made by the two other threads. As it is, the printing thread had every right to print <code>0</code>, without being obliged to do so.</p>\n</li>\n<li><p>The statements that are executed in the initializer of the <code>object</code> attempt to acquire <code>this</code> in <code>this.synchronized</code>. If one additionally adds <code>tN.join()</code> into the initializer, everything freezes with a deadlock (because the initialization cannot finish before <code>t1</code>, <code>t2</code>, <code>t3</code> can <code>join</code>, and they cannot <code>join</code> before they can enter a <code>this.synchronized</code>, and they cannot enter <code>this.synchronized</code> before the initialization has unlocked <code>this</code>).</p>\n</li>\n</ul>\n<p>Here is the example that fixes all three problems:</p>\n<pre><code>object Example {\n  def injectFunction(body: =&gt;Unit): Thread = {\n    val t = new Thread {\n      override def run() = body\n    }\n    t\n  }\n\n  private var counter: Int = 0\n  def increaseCounter(): Unit = {\n    // \n    Thread.sleep(util.Random.nextInt(1000))\n    this.synchronized {\n      counter += 1\n    }\n  }\n\n  def printCounter(): Unit = {\n    Thread.sleep(util.Random.nextInt(1000))\n    println(&quot;Random state: &quot; + this.synchronized { counter })\n  }\n\n  def main(args: Array[String]): Unit = {\n    val t1: Thread = injectFunction(increaseCounter())\n    val t2: Thread = injectFunction(increaseCounter())\n    val t3: Thread = injectFunction(printCounter())\n    t1.start()\n    t2.start()\n    t3.start()\n    t1.join()\n    t2.join()\n    t3.join()\n    println(&quot;Final state:  &quot; + counter)\n  }\n}\n</code></pre>\n<p>Now this will indeed randomly output</p>\n<pre><code>Random state: 0\nFinal state:  2\n</code></pre>\n<p>or</p>\n<pre><code>Random state: 1\nFinal state:  2\n</code></pre>\n<p>or</p>\n<pre><code>Random state: 2\nFinal state:  2\n</code></pre>\n<p>The crucial differences to your code are:</p>\n<ul>\n<li>random <code>sleep</code>s make the parallelism at least somewhat visible. Without this, you might get <code>2</code> &amp; <code>2</code> repeatedly.</li>\n<li>the reading access to <code>counter</code> in <code>println(counter)</code> must also be synchronized</li>\n<li>if you want to demonstrate that the final state of the counter is <code>2</code>, you have to wait for all three threads to <code>join</code>.</li>\n<li>All the statements are in the <code>main</code>, so that the <code>object</code> can be initialized correctly.</li>\n</ul>\n"}],"owner":{"account_id":17225050,"reputation":25,"user_id":12955251,"display_name":"matti1499"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74414016,"answer_count":1,"score":1,"last_activity_date":1668271447,"creation_date":1668256027,"question_id":74412931,"body_markdown":"I&#39;m running this code in Scala: \r\n\r\n```\r\n  def injectFunction(body: =&gt;Unit): Thread = {\r\n    val t = new Thread {\r\n      override def run() = body\r\n    }\r\n    t\r\n  }\r\n\r\n  private var counter: Int = 0\r\n  def increaseCounter(): Unit = this.synchronized {\r\n    //putting this as synchronized doesn&#39;t work for some reason..\r\n    counter = counter + 1\r\n    counter\r\n  }\r\n\r\n  def printCounter(): Unit = {\r\n    println(counter)\r\n  }\r\n\r\n  val t1: Thread = injectFunction(increaseCounter())\r\n  val t2: Thread = injectFunction(increaseCounter())\r\n  val t3: Thread = injectFunction(printCounter())\r\n  t1.start()\r\n  t2.start()\r\n  t3.start()\r\n```\r\n\r\nThis prints out 1 most of the time, though sometimes 2 and 0 a few times. Shouldn&#39;t the this.synchronized before the increaseCounter() method ensure that it&#39;s thread safe, and print 2 every time? I&#39;ve also tried adding this.synchronized in the definition of printCounter(), with no luck.","title":"Scala thread safety","body":"<p>I'm running this code in Scala:</p>\n<pre><code>  def injectFunction(body: =&gt;Unit): Thread = {\n    val t = new Thread {\n      override def run() = body\n    }\n    t\n  }\n\n  private var counter: Int = 0\n  def increaseCounter(): Unit = this.synchronized {\n    //putting this as synchronized doesn't work for some reason..\n    counter = counter + 1\n    counter\n  }\n\n  def printCounter(): Unit = {\n    println(counter)\n  }\n\n  val t1: Thread = injectFunction(increaseCounter())\n  val t2: Thread = injectFunction(increaseCounter())\n  val t3: Thread = injectFunction(printCounter())\n  t1.start()\n  t2.start()\n  t3.start()\n</code></pre>\n<p>This prints out 1 most of the time, though sometimes 2 and 0 a few times. Shouldn't the this.synchronized before the increaseCounter() method ensure that it's thread safe, and print 2 every time? I've also tried adding this.synchronized in the definition of printCounter(), with no luck.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":0,"creation_date":1668260788,"post_id":74412699,"comment_id":131364847,"body_markdown":"Have you considered swapping your actions? So that the primary button is Cancel and the secondary action is Delete. To me that would feel more appropriate than focusing the secondary action by default.","body":"Have you considered swapping your actions? So that the primary button is Cancel and the secondary action is Delete. To me that would feel more appropriate than focusing the secondary action by default."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1668271596,"post_id":74412699,"comment_id":131367029,"body_markdown":"@MarcusHellberg. No I haven&#39;t. But I have tested it out now and added it to the question. It is not a solution I like, I&#39;m afraid. I&#39;ve been toying with having Cancel Button as a component (the API for ConfirmDialog allows this) and then calling `btnCancel.focus()`, but I cannot make it work. It doesn&#39;t seem to have any effect.","body":"@MarcusHellberg. No I haven&#39;t. But I have tested it out now and added it to the question. It is not a solution I like, I&#39;m afraid. I&#39;ve been toying with having Cancel Button as a component (the API for ConfirmDialog allows this) and then calling <code>btnCancel.focus()</code>, but I cannot make it work. It doesn&#39;t seem to have any effect."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668274063,"post_id":74412699,"comment_id":131367480,"body_markdown":"would you consider disabling the enter key via javascript? or intercept that keypress event and close the modal?","body":"would you consider disabling the enter key via javascript? or intercept that keypress event and close the modal?"},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1668281844,"post_id":74412699,"comment_id":131369094,"body_markdown":"Instead of using the pre-build component that doesn&#39;t fit your needs, you can also use the Dialog and build it like you need it. There you can also listen for an open event to focus the button you want.","body":"Instead of using the pre-build component that doesn&#39;t fit your needs, you can also use the Dialog and build it like you need it. There you can also listen for an open event to focus the button you want."}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668271435,"creation_date":1668253995,"question_id":74412699,"body_markdown":"Using Vaadin Flow [Confirm Dialog][1] I&#39;m creating a dialog like below:\r\n\r\n```java\r\nConfirmDialog dialog = new ConfirmDialog(\r\n    &quot;Delete Person&quot;,\r\n    &quot;Do you really want to delete Person?&quot;,\r\n    &quot;Delete&quot;,\r\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);},\r\n    &quot;Cancel&quot;,\r\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);}\r\n);\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSince this is a **destructive action**, it is important that the initial focus is not on the \r\nDelete button, for example if user simply hits the Enter key. How can it be achieved that the initial focus is on the Cancel button? \r\n\r\n\r\n## MarcusHellberg suggestion for solution\r\n\r\nThe idea is to swap the actions. Like this:\r\n```java\r\nConfirmDialog dialog = new ConfirmDialog(\r\n    &quot;Delete Person&quot;,\r\n    &quot;Do you really want to delete Person?&quot;,\r\n    &quot;Cancel&quot;,\r\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);},\r\n    &quot;Delete&quot;,\r\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);}\r\n);\r\n// We need to re-style the buttons:\r\ndialog.setCancelButtonTheme(ButtonVariant.LUMO_PRIMARY.getVariantName());    // Style the &quot;Confirm&quot; button\r\ndialog.setConfirmButtonTheme(ButtonVariant.LUMO_TERTIARY.getVariantName());  // Style the &quot;Cancel&quot; button\r\n```\r\n[![enter image description here][3]][3]\r\n\r\nAs can be seen it creates a different user experience where the primary action is now on the left.\r\nAlso, for the developer, it gets kind of confusing because developer has to remember that all actions are opposite, so for example calling method `addCancelListener()` actually refers to the Confirm action and vice versa. Very dangerous if developer forgets.\r\n\r\n  [1]: https://vaadin.com/docs/latest/components/confirm-dialog\r\n  [2]: https://i.stack.imgur.com/0i3fC.png\r\n  [3]: https://i.stack.imgur.com/5xMK1.png","title":"Vaadin ConfirmDialog - set focus to Cancel button","body":"<p>Using Vaadin Flow <a href=\"https://vaadin.com/docs/latest/components/confirm-dialog\" rel=\"nofollow noreferrer\">Confirm Dialog</a> I'm creating a dialog like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfirmDialog dialog = new ConfirmDialog(\n    &quot;Delete Person&quot;,\n    &quot;Do you really want to delete Person?&quot;,\n    &quot;Delete&quot;,\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);},\n    &quot;Cancel&quot;,\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);}\n);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0i3fC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0i3fC.png\" alt=\"enter image description here\" /></a></p>\n<p>Since this is a <strong>destructive action</strong>, it is important that the initial focus is not on the\nDelete button, for example if user simply hits the Enter key. How can it be achieved that the initial focus is on the Cancel button?</p>\n<h2>MarcusHellberg suggestion for solution</h2>\n<p>The idea is to swap the actions. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfirmDialog dialog = new ConfirmDialog(\n    &quot;Delete Person&quot;,\n    &quot;Do you really want to delete Person?&quot;,\n    &quot;Cancel&quot;,\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);},\n    &quot;Delete&quot;,\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);}\n);\n// We need to re-style the buttons:\ndialog.setCancelButtonTheme(ButtonVariant.LUMO_PRIMARY.getVariantName());    // Style the &quot;Confirm&quot; button\ndialog.setConfirmButtonTheme(ButtonVariant.LUMO_TERTIARY.getVariantName());  // Style the &quot;Cancel&quot; button\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5xMK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5xMK1.png\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen it creates a different user experience where the primary action is now on the left.\nAlso, for the developer, it gets kind of confusing because developer has to remember that all actions are opposite, so for example calling method <code>addCancelListener()</code> actually refers to the Confirm action and vice versa. Very dangerous if developer forgets.</p>\n"},{"tags":["java","spring-integration","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668270818,"creation_date":1446665705,"answer_id":33530497,"question_id":33524606,"body_markdown":"No, it isn&#39;t possible, because Java DSL doesn&#39;t generate XML at all. But that STS graph is fully based on the XML. \r\n\r\nWe are working for the `Flo for SI DSL` project to do something similar for Java DSL, but it is private yet. \r\n","title":"STS Visualisation of Spring Integration Java DSL flow","body":"<p>No, it isn't possible, because Java DSL doesn't generate XML at all. But that STS graph is fully based on the XML.</p>\n<p>We are working for the <code>Flo for SI DSL</code> project to do something similar for Java DSL, but it is private yet.</p>\n"}],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":33530497,"answer_count":1,"score":3,"last_activity_date":1668270818,"creation_date":1446647936,"question_id":33524606,"body_markdown":"Does anybody know if there is currently a way, in STS/Eclipse, to visualise an `IntegrationFlow` defined as a bean using **Spring Integration Java DSL**, as is possible via the &#39;integration-graph&#39; tab available when editing SI-XML-defined flows?","title":"STS Visualisation of Spring Integration Java DSL flow","body":"<p>Does anybody know if there is currently a way, in STS/Eclipse, to visualise an <code>IntegrationFlow</code> defined as a bean using <strong>Spring Integration Java DSL</strong>, as is possible via the 'integration-graph' tab available when editing SI-XML-defined flows?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668269978,"post_id":74414551,"comment_id":131366719,"body_markdown":"Does this answer your question? [List all files from a directory recursively with Java](https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java\">List all files from a directory recursively with Java</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668270078,"post_id":74414551,"comment_id":131366735,"body_markdown":"Can you show me how I need to modify my code in order to implement the functionality?","body":"Can you show me how I need to modify my code in order to implement the functionality?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668270153,"post_id":74414551,"comment_id":131366752,"body_markdown":"What part is unclear?","body":"What part is unclear?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668270244,"post_id":74414551,"comment_id":131366765,"body_markdown":"I want to implement this functionality with less memory usage maybe with Stream if possible because I have hundreds of files for read.","body":"I want to implement this functionality with less memory usage maybe with Stream if possible because I have hundreds of files for read."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668270401,"post_id":74414551,"comment_id":131366791,"body_markdown":"Doesn&#39;t sound like a big issue to me. Have you verified that there *is* actually a performance-/memory-problem with the solutions provided in the post I linked?","body":"Doesn&#39;t sound like a big issue to me. Have you verified that there <i>is</i> actually a performance-/memory-problem with the solutions provided in the post I linked?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1668270699,"post_id":74414551,"comment_id":131366839,"body_markdown":"@PeterPenzov The answers linked in Turing85&#39;s first comment contain an example that uses [java.nio.file.DirectoryStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/DirectoryStream.html). I do not know if that is more memory-efficient (I somehow doubt it), but it is a &quot;streaming&quot; approach.","body":"@PeterPenzov The answers linked in Turing85&#39;s first comment contain an example that uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/DirectoryStream.html\" rel=\"nofollow noreferrer\">java.nio.file.DirectoryStream</a>. I do not know if that is more memory-efficient (I somehow doubt it), but it is a &quot;streaming&quot; approach."}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668269744,"creation_date":1668269744,"question_id":74414551,"body_markdown":"I use this code to read all .csv files into directory:\r\n\r\n            File directoryPath = new File(&quot;C:\\\\in_progress&quot;);\r\n            FilenameFilter textFileFilter = (dir, name) -&gt; {\r\n                String lowercaseName = name.toLowerCase();\r\n                if (lowercaseName.endsWith(&quot;.csv&quot;)) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            };\r\n            // List of all the csv files\r\n            File filesList[] = directoryPath.listFiles(textFileFilter);\r\n            System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n            for(File file : filesList) {\r\n                System.out.println(&quot;File name: &quot;+file.getName());\r\n                System.out.println(&quot;File path: &quot;+file.getAbsolutePath());\r\n                System.out.println(&quot;Size :&quot;+file.getTotalSpace());\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\nI want also to list all files which are located in many sub directories into the main directory.\r\nHow this can be implemented?","title":"List files in sub directories","body":"<p>I use this code to read all .csv files into directory:</p>\n<pre><code>        File directoryPath = new File(&quot;C:\\\\in_progress&quot;);\n        FilenameFilter textFileFilter = (dir, name) -&gt; {\n            String lowercaseName = name.toLowerCase();\n            if (lowercaseName.endsWith(&quot;.csv&quot;)) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n        // List of all the csv files\n        File filesList[] = directoryPath.listFiles(textFileFilter);\n        System.out.println(&quot;List of the text files in the specified directory:&quot;);\n        for(File file : filesList) {\n            System.out.println(&quot;File name: &quot;+file.getName());\n            System.out.println(&quot;File path: &quot;+file.getAbsolutePath());\n            System.out.println(&quot;Size :&quot;+file.getTotalSpace());\n            System.out.println(&quot; &quot;);\n        }\n</code></pre>\n<p>I want also to list all files which are located in many sub directories into the main directory.\nHow this can be implemented?</p>\n"},{"tags":["java","python","py4j"],"owner":{"account_id":9650315,"reputation":1378,"user_id":7161679,"accept_rate":100,"display_name":"littlely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668268076,"creation_date":1577516674,"question_id":59508849,"body_markdown":"I want python to call java method using py4j, when I packaged the java file as jar, and run in windows, it went wrong:\r\n\r\n    &gt;java -jar spark-1.0-SNAPSHOT.jar\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: py4j/GatewayServer\r\n        at com.littlely.AddNum.main(AddNum.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: py4j.GatewayServer\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n\r\nthe java:\r\n\r\n    package com.littlely;\r\n    import py4j.GatewayServer;\r\n\r\n    public class AddNum{\r\n        public float add(float a, float b){\r\n            return a + b;\r\n    }\r\n\r\n        public static void main(String[] args) {\r\n            GatewayServer server = new GatewayServer(new AddNum());\r\n            server.start();\r\n            System.out.println(&quot;server started!&quot;);\r\n    }}\r\n\r\nthe python:\r\n\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n\r\n    def main():\r\n        jvm = JavaGateway().jvm\r\n        myadd = jvm.com.littlely.AddNum()\r\n        print(myadd.add(40.0, 80.0))\r\n\r\n\r\n    if __name__ == &quot;__main__&quot;:\r\n        main()\r\n\r\n\r\nI have add the main-class to the manifest.MF file, what is wrong with it? How can I deal with it, and I&#39;m new to java, please give me an example.\r\n\r\n\r\n","title":"Py4j Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: py4j/GatewayServer","body":"<p>I want python to call java method using py4j, when I packaged the java file as jar, and run in windows, it went wrong:</p>\n\n<pre><code>&gt;java -jar spark-1.0-SNAPSHOT.jar\n\nException in thread \"main\" java.lang.NoClassDefFoundError: py4j/GatewayServer\n    at com.littlely.AddNum.main(AddNum.java:11)\nCaused by: java.lang.ClassNotFoundException: py4j.GatewayServer\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 1 more\n</code></pre>\n\n<p>the java:</p>\n\n<pre><code>package com.littlely;\nimport py4j.GatewayServer;\n\npublic class AddNum{\n    public float add(float a, float b){\n        return a + b;\n}\n\n    public static void main(String[] args) {\n        GatewayServer server = new GatewayServer(new AddNum());\n        server.start();\n        System.out.println(\"server started!\");\n}}\n</code></pre>\n\n<p>the python:</p>\n\n<pre><code>from py4j.java_gateway import JavaGateway\n\ndef main():\n    jvm = JavaGateway().jvm\n    myadd = jvm.com.littlely.AddNum()\n    print(myadd.add(40.0, 80.0))\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>I have add the main-class to the manifest.MF file, what is wrong with it? How can I deal with it, and I'm new to java, please give me an example.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668008226,"post_id":74376979,"comment_id":131304498,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":18002275,"reputation":1,"user_id":13083960,"display_name":"paolo_1955"},"score":0,"creation_date":1668265073,"post_id":74376979,"comment_id":131365676,"body_markdown":"I am using android studio Dolphin  2021.3.1 Patch 1, using the supplied primary/details template. I found the folllowing code in the main activity:","body":"I am using android studio Dolphin  2021.3.1 Patch 1, using the supplied primary/details template. I found the folllowing code in the main activity:"}],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668006398,"creation_date":1668006398,"answer_id":74377073,"question_id":74376979,"body_markdown":"It looks like the project is using `DataBinding`. Classes `*DataBinding` are not classes(in core meaning) but they are layout resources for which the binding is generated.\r\n\r\nFor your case, it is `activity_item_detail.xml`","title":"using fragment following the template primary/details on android studio","body":"<p>It looks like the project is using <code>DataBinding</code>. Classes <code>*DataBinding</code> are not classes(in core meaning) but they are layout resources for which the binding is generated.</p>\n<p>For your case, it is <code>activity_item_detail.xml</code></p>\n"}],"owner":{"account_id":18002275,"reputation":1,"user_id":13083960,"display_name":"paolo_1955"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668268042,"creation_date":1668006045,"question_id":74376979,"body_markdown":"I tried using the template primary/details in Android studio.\r\nin the first rows I found in ItemDetailsHostActivity the element &quot;ActivityItemDetailBinding&quot; in onCreate method, but I have not found docs about that class, neither in android.developers nor in google.\r\nsomeone can explain me the use and where  found docs?.\r\nthanks\r\n\r\nP.B.\r\n\r\nI try using fragment and I would like some suggestions to understand in code found in template\r\n\r\nI found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1.\r\nthe code is the following:\r\n    \r\n```\r\npublic class ItemDetailHostActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.nav_host_fragment_item_detail);\r\n        NavController navController = navHostFragment.getNavController();\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.\r\n                Builder(navController.getGraph())\r\n                .build();\r\n\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n    }\r\n```\r\n\r\nthe xml file is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_fragment_item_detail&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/primary_details_nav_graph&quot;\r\n        tools:layout=&quot;@layout/fragment_item_detail&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\nI do not understand what is:\r\n\r\nActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\r\n\r\nit seems a class, but where are the docs?.\r\nif it is a resource..I don&#39;t understand where to find the related information.\r\n\r\nI am new to android programming, although i know java and c ++ quite well. i&#39;m new in stackoverflow too and i apologize if i&#39;m breaking any post management rules..\r\nthanks","title":"using fragment following the template primary/details on android studio","body":"<p>I tried using the template primary/details in Android studio.\nin the first rows I found in ItemDetailsHostActivity the element &quot;ActivityItemDetailBinding&quot; in onCreate method, but I have not found docs about that class, neither in android.developers nor in google.\nsomeone can explain me the use and where  found docs?.\nthanks</p>\n<p>P.B.</p>\n<p>I try using fragment and I would like some suggestions to understand in code found in template</p>\n<p>I found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1.\nthe code is the following:</p>\n<pre><code>public class ItemDetailHostActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.nav_host_fragment_item_detail);\n        NavController navController = navHostFragment.getNavController();\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.\n                Builder(navController.getGraph())\n                .build();\n\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n    }\n</code></pre>\n<p>the xml file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n        \n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/nav_host_fragment_item_detail&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/primary_details_nav_graph&quot;\n        tools:layout=&quot;@layout/fragment_item_detail&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>I do not understand what is:</p>\n<p>ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());</p>\n<p>it seems a class, but where are the docs?.\nif it is a resource..I don't understand where to find the related information.</p>\n<p>I am new to android programming, although i know java and c ++ quite well. i'm new in stackoverflow too and i apologize if i'm breaking any post management rules..\nthanks</p>\n"},{"tags":["java","exe","executable-jar","launch4j"],"owner":{"account_id":26910877,"reputation":1,"user_id":20486464,"display_name":"Carlos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668320765,"answer_count":0,"score":-2,"last_activity_date":1668267854,"creation_date":1668267854,"question_id":74414318,"body_markdown":"I have been trying to create an .exe file using launch4j to no avail. Every time i try to build the .exe the program says that can&#39;t find my jre.\r\n\r\nI wrote a short code in eclipse to test the .exe and successfully exported it as a.jar, i can open it with no problems. I&#39;ve also checked my environment variables, completely deleted and reinstalled java and took a look at the windows Registry but everything seems to be ok.\r\n\r\n```\r\npackage launchTest;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class ma {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tJOptionPane.showMessageDialog(null,&quot;Hola mundo&quot;);\r\n\t}\r\n```\r\nI would like to know what i&#39;m doing wrong and, if possible, how is Launch4j supposed to be configured.","title":"How to create an .EXE file for a .jar with Launch4j","body":"<p>I have been trying to create an .exe file using launch4j to no avail. Every time i try to build the .exe the program says that can't find my jre.</p>\n<p>I wrote a short code in eclipse to test the .exe and successfully exported it as a.jar, i can open it with no problems. I've also checked my environment variables, completely deleted and reinstalled java and took a look at the windows Registry but everything seems to be ok.</p>\n<pre><code>package launchTest;\n\nimport javax.swing.JOptionPane;\n\npublic class ma {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        JOptionPane.showMessageDialog(null,&quot;Hola mundo&quot;);\n    }\n</code></pre>\n<p>I would like to know what i'm doing wrong and, if possible, how is Launch4j supposed to be configured.</p>\n"},{"tags":["java","hibernate","jdbc","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668268187,"post_id":74414239,"comment_id":131366359,"body_markdown":"You just need a connection, right? No injectable bean? If so, this has nothing to do with quarkus and is outlined in the [JDBC Documentation of postgres (`jdbc.postgres.org`)](https://jdbc.postgresql.org/documentation/use/).","body":"You just need a connection, right? No injectable bean? If so, this has nothing to do with quarkus and is outlined in the <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">JDBC Documentation of postgres (<code>jdbc.postgres.org</code>)</a>."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1668268393,"post_id":74414239,"comment_id":131366408,"body_markdown":"@Turing85 I suppose you are right, i was just wondering if i was missing something obvious here. It felt so &quot;hacky&quot; to just make a raw JDBC connection, but at the end of the day not everything needs to be abstracted away behind complex frameworks.","body":"@Turing85 I suppose you are right, i was just wondering if i was missing something obvious here. It felt so &quot;hacky&quot; to just make a raw JDBC connection, but at the end of the day not everything needs to be abstracted away behind complex frameworks."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1668268448,"post_id":74414239,"comment_id":131366416,"body_markdown":"I guess i need to find out where the driver class is sitting hibernate is using, but maybe that is something about hibernate API rather than Quarkus as well.","body":"I guess i need to find out where the driver class is sitting hibernate is using, but maybe that is something about hibernate API rather than Quarkus as well."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668268718,"post_id":74414239,"comment_id":131366472,"body_markdown":"I am confused. You said you wanted a `Connection`, and by using the postgres driver directly, we can create a `Connection`. What exactly do you mean by the &quot;*driver class [...] hibernate is using*&quot;? The driver class is loaded explicitly. In our `pom.xml`, we should see a dependency to `quarkus-jdbc-postgresql`.","body":"I am confused. You said you wanted a <code>Connection</code>, and by using the postgres driver directly, we can create a <code>Connection</code>. What exactly do you mean by the &quot;<i>driver class [...] hibernate is using</i>&quot;? The driver class is loaded explicitly. In our <code>pom.xml</code>, we should see a dependency to <code>quarkus-jdbc-postgresql</code>."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668267226,"creation_date":1668267226,"question_id":74414239,"body_markdown":"I have a java REST API application using Quarkus as the framework. The application uses a PostgreSQL database, which is configured via the *application.properties* config file for hibernate entities (using &quot;quarkus-hibernate-orm&quot; module) etc. However, there are cases where i will have to dynamically connect to a remote database (connection info will be supplied by parameters) to read and write data from during runtime as well. How do i go about this the best way with Quarkus? For simplicity reasons we can assume that the remote databases are of the same type (PostgreSQL) so we don&#39;t have to worry about whether the correct driver is locally available or not. \r\n\r\nIs there something provided by Quarkus or the environment to establish these connections and read/write? i dont need an ORM layer here necessarily, as i may not know the structure beforehand either. Simple queries are also sufficient. When i try to research this subject i can only get information about static hibernate or datasource configurations in Quarkus, but i won&#39;t know what they look like beforehand. Basically, is there some kind of &quot;db connection provider&quot; etc. i should use or do i simply have to manually create new plain JDBC connections in my own code for it?","title":"Create new database connections in Quarkus during runtime","body":"<p>I have a java REST API application using Quarkus as the framework. The application uses a PostgreSQL database, which is configured via the <em>application.properties</em> config file for hibernate entities (using &quot;quarkus-hibernate-orm&quot; module) etc. However, there are cases where i will have to dynamically connect to a remote database (connection info will be supplied by parameters) to read and write data from during runtime as well. How do i go about this the best way with Quarkus? For simplicity reasons we can assume that the remote databases are of the same type (PostgreSQL) so we don't have to worry about whether the correct driver is locally available or not.</p>\n<p>Is there something provided by Quarkus or the environment to establish these connections and read/write? i dont need an ORM layer here necessarily, as i may not know the structure beforehand either. Simple queries are also sufficient. When i try to research this subject i can only get information about static hibernate or datasource configurations in Quarkus, but i won't know what they look like beforehand. Basically, is there some kind of &quot;db connection provider&quot; etc. i should use or do i simply have to manually create new plain JDBC connections in my own code for it?</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1552575263,"post_id":496651,"comment_id":97070431,"body_markdown":"Check here:https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java","body":"Check here:<a href=\"https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java\" title=\"how to send http request in java\">stackoverflow.com/questions/1359689/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"down_vote_count":4,"up_vote_count":146,"is_accepted":true,"score":142,"last_activity_date":1233341890,"creation_date":1233341475,"answer_id":496707,"question_id":496651,"body_markdown":"You can set the default authenticator for http requests like this:\r\n\r\n    Authenticator.setDefault (new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication (&quot;username&quot;, &quot;password&quot;.toCharArray());\r\n        }\r\n    });\r\n\r\nAlso, if you require more flexibility, you can check out the [Apache HttpClient][1], which will give you more authentication options (as well as session support, etc.)\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"Connecting to remote URL which requires authentication using Java","body":"<p>You can set the default authenticator for http requests like this:</p>\n\n<pre><code>Authenticator.setDefault (new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication (\"username\", \"password\".toCharArray());\n    }\n});\n</code></pre>\n\n<p>Also, if you require more flexibility, you can check out the <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"noreferrer\">Apache HttpClient</a>, which will give you more authentication options (as well as session support, etc.)</p>\n"},{"tags":[],"owner":{"account_id":43995,"reputation":2927,"user_id":128857,"display_name":"Wanderson Santos"},"down_vote_count":2,"up_vote_count":150,"is_accepted":false,"score":148,"last_activity_date":1528009214,"creation_date":1298857349,"answer_id":5137446,"question_id":496651,"body_markdown":"There&#39;s a native and less intrusive alternative, which works only for your call.\r\n\r\n    URL url = new URL(location address);\r\n    URLConnection uc = url.openConnection();\r\n    String userpass = username + &quot;:&quot; + password;\r\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n    uc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    InputStream in = uc.getInputStream();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>There's a native and less intrusive alternative, which works only for your call.</p>\n\n<pre><code>URL url = new URL(location address);\nURLConnection uc = url.openConnection();\nString userpass = username + \":\" + password;\nString basicAuth = \"Basic \" + new String(Base64.getEncoder().encode(userpass.getBytes()));\nuc.setRequestProperty (\"Authorization\", basicAuth);\nInputStream in = uc.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543885,"reputation":931,"user_id":913153,"display_name":"gloo"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1348668917,"creation_date":1348668505,"answer_id":12603622,"question_id":496651,"body_markdown":"You can also use the following, which does not require using external packages:\r\n\r\n    URL url = new URL(location address);\r\n    URLConnection uc = url.openConnection();\r\n\r\n    String userpass = username + &quot;:&quot; + password;\r\n    String basicAuth = &quot;Basic &quot; + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\r\n\r\n    uc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    InputStream in = uc.getInputStream();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>You can also use the following, which does not require using external packages:</p>\n\n<pre><code>URL url = new URL(location address);\nURLConnection uc = url.openConnection();\n\nString userpass = username + \":\" + password;\nString basicAuth = \"Basic \" + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\n\nuc.setRequestProperty (\"Authorization\", basicAuth);\nInputStream in = uc.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1988279,"reputation":7009,"user_id":1782954,"accept_rate":71,"display_name":"javabeangrinder"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1657032624,"creation_date":1351515612,"answer_id":13122190,"question_id":496651,"body_markdown":"If you are using the normal login whilst entering the username and password between the protocol and the domain this is simpler. It also works with and without login.\r\n\r\nSample URL: http://user:pass@example.com/url\r\n\r\n    URL url = new URL(&quot;http://user:pass@example.com/url&quot;);\r\n    URLConnection urlConnection = url.openConnection();\r\n\r\n    if (url.getUserInfo() != null) {\r\n    \tString basicAuth = &quot;Basic &quot; + new String(new Base64().encode(url.getUserInfo().getBytes()));\r\n    \turlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n    }\r\n\r\n    InputStream inputStream = urlConnection.getInputStream();\r\n\r\nPlease note in the comment, from valerybodak, below how it is done in an Android development environment.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>If you are using the normal login whilst entering the username and password between the protocol and the domain this is simpler. It also works with and without login.</p>\n<p>Sample URL: http://user:pass@example.com/url</p>\n<pre><code>URL url = new URL(&quot;http://user:pass@example.com/url&quot;);\nURLConnection urlConnection = url.openConnection();\n\nif (url.getUserInfo() != null) {\n    String basicAuth = &quot;Basic &quot; + new String(new Base64().encode(url.getUserInfo().getBytes()));\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n}\n\nInputStream inputStream = urlConnection.getInputStream();\n</code></pre>\n<p>Please note in the comment, from valerybodak, below how it is done in an Android development environment.</p>\n"},{"tags":[],"owner":{"account_id":3490255,"reputation":969,"user_id":2920131,"display_name":"Lucien Boix"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402007014,"creation_date":1402007014,"answer_id":24071189,"question_id":496651,"body_markdown":"Be really careful with the &quot;Base64().encode()&quot;approach, my team and I got 400 Apache bad request issues because it adds a \\r\\n at the end of the string generated.\r\n\r\nWe found it sniffing packets thanks to Wireshark.\r\n\r\nHere is our solution :\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    HttpGet getRequest = new HttpGet(endpoint);\r\n    getRequest.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + getBasicAuthenticationEncoding());\r\n    \r\n    private String getBasicAuthenticationEncoding() {\r\n    \r\n            String userPassword = username + &quot;:&quot; + password;\r\n            return new String(Base64.encodeBase64(userPassword.getBytes()));\r\n        }\r\n\r\nHope it helps!","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Be really careful with the \"Base64().encode()\"approach, my team and I got 400 Apache bad request issues because it adds a \\r\\n at the end of the string generated.</p>\n\n<p>We found it sniffing packets thanks to Wireshark.</p>\n\n<p>Here is our solution :</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\nHttpGet getRequest = new HttpGet(endpoint);\ngetRequest.addHeader(\"Authorization\", \"Basic \" + getBasicAuthenticationEncoding());\n\nprivate String getBasicAuthenticationEncoding() {\n\n        String userPassword = username + \":\" + password;\n        return new String(Base64.encodeBase64(userPassword.getBytes()));\n    }\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4964872,"reputation":1022,"user_id":3994580,"display_name":"DaniEll"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657032652,"creation_date":1417862561,"answer_id":27330777,"question_id":496651,"body_markdown":"As I have came here looking for an Android-Java-Answer I am going to do a short summary:\r\n\r\n 1. Use *java.net.Authenticator* as shown by [James van Huis][1]\r\n 2. Use *Apache Commons HTTP Client*, as in [this Answer][2]\r\n 3. Use basic *java.net.URLConnection* and set the Authentication-Header manually like shown [here][3]\r\n\r\nIf you want to use *java.net.URLConnection* with Basic Authentication in **Android** try this code:\r\n\r\n    URL url = new URL(&quot;http://www.example.com/resource&quot;);\r\n\tURLConnection urlConnection = url.openConnection();\r\n\tString header = &quot;Basic &quot; + new String(android.util.Base64.encode(&quot;user:pass&quot;.getBytes(), android.util.Base64.NO_WRAP));\r\n\turlConnection.addRequestProperty(&quot;Authorization&quot;, header);\r\n\t// go on setting more request headers, reading the response, etc\r\n\r\n  [1]: https://stackoverflow.com/a/496707\r\n  [2]: https://stackoverflow.com/a/24071189\r\n  [3]: https://stackoverflow.com/a/5137446","title":"Connecting to remote URL which requires authentication using Java","body":"<p>As I have came here looking for an Android-Java-Answer I am going to do a short summary:</p>\n<ol>\n<li>Use <em>java.net.Authenticator</em> as shown by <a href=\"https://stackoverflow.com/a/496707\">James van Huis</a></li>\n<li>Use <em>Apache Commons HTTP Client</em>, as in <a href=\"https://stackoverflow.com/a/24071189\">this Answer</a></li>\n<li>Use basic <em>java.net.URLConnection</em> and set the Authentication-Header manually like shown <a href=\"https://stackoverflow.com/a/5137446\">here</a></li>\n</ol>\n<p>If you want to use <em>java.net.URLConnection</em> with Basic Authentication in <strong>Android</strong> try this code:</p>\n<pre><code>URL url = new URL(&quot;http://www.example.com/resource&quot;);\nURLConnection urlConnection = url.openConnection();\nString header = &quot;Basic &quot; + new String(android.util.Base64.encode(&quot;user:pass&quot;.getBytes(), android.util.Base64.NO_WRAP));\nurlConnection.addRequestProperty(&quot;Authorization&quot;, header);\n// go on setting more request headers, reading the response, etc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481843711,"creation_date":1481843058,"answer_id":41174761,"question_id":496651,"body_markdown":"**ANDROD IMPLEMENTATION**\r\nA complete method to request data/string response from web service requesting authorization with username and password\r\n\r\n    public static String getData(String uri, String userName, String userPassword) {\r\n            BufferedReader reader = null;\r\n            byte[] loginBytes = (userName + &quot;:&quot; + userPassword).getBytes();\r\n    \r\n            StringBuilder loginBuilder = new StringBuilder()\r\n                    .append(&quot;Basic &quot;)\r\n                    .append(Base64.encodeToString(loginBytes, Base64.DEFAULT));\r\n    \r\n            try {\r\n                URL url = new URL(uri);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.addRequestProperty(&quot;Authorization&quot;, loginBuilder.toString());\r\n    \r\n                StringBuilder sb = new StringBuilder();\r\n                reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line;\r\n                while ((line = reader.readLine())!= null){\r\n                    sb.append(line);\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                return  sb.toString();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            } finally {\r\n                if (null != reader){\r\n                    try {\r\n                        reader.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n   ","title":"Connecting to remote URL which requires authentication using Java","body":"<p><strong>ANDROD IMPLEMENTATION</strong>\nA complete method to request data/string response from web service requesting authorization with username and password</p>\n\n<pre><code>public static String getData(String uri, String userName, String userPassword) {\n        BufferedReader reader = null;\n        byte[] loginBytes = (userName + \":\" + userPassword).getBytes();\n\n        StringBuilder loginBuilder = new StringBuilder()\n                .append(\"Basic \")\n                .append(Base64.encodeToString(loginBytes, Base64.DEFAULT));\n\n        try {\n            URL url = new URL(uri);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.addRequestProperty(\"Authorization\", loginBuilder.toString());\n\n            StringBuilder sb = new StringBuilder();\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            while ((line = reader.readLine())!= null){\n                sb.append(line);\n                sb.append(\"\\n\");\n            }\n\n            return  sb.toString();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        } finally {\n            if (null != reader){\n                try {\n                    reader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9281243,"reputation":43,"user_id":6892380,"display_name":"Sarith Nob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496044680,"creation_date":1496044680,"answer_id":44237347,"question_id":496651,"body_markdown":"Use this code for basic authentication.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    URL url = new URL(path);\r\n    String userPass = &quot;username:password&quot;;\r\n    String basicAuth = &quot;Basic &quot; + Base64.encodeToString(userPass.getBytes(), Base64.DEFAULT);//or\r\n    //String basicAuth = &quot;Basic &quot; + new String(Base64.encode(userPass.getBytes(), Base64.No_WRAP));\r\n    HttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();\r\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n    urlConnection.connect();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Use this code for basic authentication.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>URL url = new URL(path);\r\nString userPass = \"username:password\";\r\nString basicAuth = \"Basic \" + Base64.encodeToString(userPass.getBytes(), Base64.DEFAULT);//or\r\n//String basicAuth = \"Basic \" + new String(Base64.encode(userPass.getBytes(), Base64.No_WRAP));\r\nHttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();\r\nurlConnection.setRequestProperty(\"Authorization\", basicAuth);\r\nurlConnection.connect();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535718635,"creation_date":1514821713,"answer_id":48051026,"question_id":496651,"body_markdown":"I&#39;d like to provide an answer for the case that you do not have control over the code that opens the connection. Like I did when using the `URLClassLoader` to load a jar file from a password protected server.\r\n\r\nThe `Authenticator` solution would work but has the drawback that it first tries to reach the server without a password and only after the server asks for a password provides one. That&#39;s an unnecessary roundtrip if you already know the server would need a password.\r\n\r\n    public class MyStreamHandlerFactory implements URLStreamHandlerFactory {\r\n    \r\n        private final ServerInfo serverInfo;\r\n    \r\n        public MyStreamHandlerFactory(ServerInfo serverInfo) {\r\n            this.serverInfo = serverInfo;\r\n        }\r\n    \r\n        @Override\r\n        public URLStreamHandler createURLStreamHandler(String protocol) {\r\n            switch (protocol) {\r\n                case &quot;my&quot;:\r\n                    return new MyStreamHandler(serverInfo);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    public class MyStreamHandler extends URLStreamHandler {\r\n    \r\n        private final String encodedCredentials;\r\n    \r\n        public MyStreamHandler(ServerInfo serverInfo) {\r\n            String strCredentials = serverInfo.getUsername() + &quot;:&quot; + serverInfo.getPassword();\r\n            this.encodedCredentials = Base64.getEncoder().encodeToString(strCredentials.getBytes());\r\n        }\r\n    \r\n        @Override\r\n        protected URLConnection openConnection(URL url) throws IOException {\r\n            String authority = url.getAuthority();\r\n            String protocol = &quot;http&quot;;\r\n            URL directUrl = new URL(protocol, url.getHost(), url.getPort(), url.getFile());\r\n    \r\n            HttpURLConnection connection = (HttpURLConnection) directUrl.openConnection();\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n    \r\n            return connection;\r\n        }\r\n    \r\n    }\r\n    \r\nThis registers a new protocol `my` that is replaced by `http` when credentials are added. So when creating the new `URLClassLoader` just replace `http` with `my` and everything is fine. I know `URLClassLoader` provides a constructor that takes an `URLStreamHandlerFactory` but this factory is not used if the URL points to a jar file.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>I'd like to provide an answer for the case that you do not have control over the code that opens the connection. Like I did when using the <code>URLClassLoader</code> to load a jar file from a password protected server.</p>\n\n<p>The <code>Authenticator</code> solution would work but has the drawback that it first tries to reach the server without a password and only after the server asks for a password provides one. That's an unnecessary roundtrip if you already know the server would need a password.</p>\n\n<pre><code>public class MyStreamHandlerFactory implements URLStreamHandlerFactory {\n\n    private final ServerInfo serverInfo;\n\n    public MyStreamHandlerFactory(ServerInfo serverInfo) {\n        this.serverInfo = serverInfo;\n    }\n\n    @Override\n    public URLStreamHandler createURLStreamHandler(String protocol) {\n        switch (protocol) {\n            case \"my\":\n                return new MyStreamHandler(serverInfo);\n            default:\n                return null;\n        }\n    }\n\n}\n\npublic class MyStreamHandler extends URLStreamHandler {\n\n    private final String encodedCredentials;\n\n    public MyStreamHandler(ServerInfo serverInfo) {\n        String strCredentials = serverInfo.getUsername() + \":\" + serverInfo.getPassword();\n        this.encodedCredentials = Base64.getEncoder().encodeToString(strCredentials.getBytes());\n    }\n\n    @Override\n    protected URLConnection openConnection(URL url) throws IOException {\n        String authority = url.getAuthority();\n        String protocol = \"http\";\n        URL directUrl = new URL(protocol, url.getHost(), url.getPort(), url.getFile());\n\n        HttpURLConnection connection = (HttpURLConnection) directUrl.openConnection();\n        connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedCredentials);\n\n        return connection;\n    }\n\n}\n</code></pre>\n\n<p>This registers a new protocol <code>my</code> that is replaced by <code>http</code> when credentials are added. So when creating the new <code>URLClassLoader</code> just replace <code>http</code> with <code>my</code> and everything is fine. I know <code>URLClassLoader</code> provides a constructor that takes an <code>URLStreamHandlerFactory</code> but this factory is not used if the URL points to a jar file.</p>\n"},{"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657032733,"creation_date":1522915043,"answer_id":49667059,"question_id":496651,"body_markdown":"i did that this way you need to do this just copy paste it be happy\r\n\r\n        HttpURLConnection urlConnection;\r\n        String url;\r\n     //   String data = json;\r\n        String result = null;\r\n        try {\r\n            String username =&quot;user@gmail.com&quot;;\r\n            String password = &quot;12345678&quot;;\r\n\r\n            String auth =new String(username + &quot;:&quot; + password);\r\n            byte[] data1 = auth.getBytes(UTF_8);\r\n            String base64 = Base64.encodeToString(data1, Base64.NO_WRAP);\r\n            //Connect\r\n            urlConnection = (HttpURLConnection) ((new URL(urlBasePath).openConnection()));\r\n            urlConnection.setDoOutput(true);\r\n            urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+base64);\r\n            urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            urlConnection.setRequestMethod(&quot;POST&quot;);\r\n            urlConnection.setConnectTimeout(10000);\r\n            urlConnection.connect();\r\n            JSONObject obj = new JSONObject();\r\n\r\n            obj.put(&quot;MobileNumber&quot;, &quot;+97333746934&quot;);\r\n            obj.put(&quot;EmailAddress&quot;, &quot;danish.hussain@example.com&quot;);\r\n            obj.put(&quot;FirstName&quot;, &quot;Danish&quot;);\r\n            obj.put(&quot;LastName&quot;, &quot;Hussain&quot;);\r\n            obj.put(&quot;Country&quot;, &quot;BH&quot;);\r\n            obj.put(&quot;Language&quot;, &quot;EN&quot;);\r\n            String data = obj.toString();\r\n            //Write\r\n            OutputStream outputStream = urlConnection.getOutputStream();\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\r\n            writer.write(data);\r\n            writer.close();\r\n            outputStream.close();\r\n            int responseCode=urlConnection.getResponseCode();\r\n            if (responseCode == HttpsURLConnection.HTTP_OK) {\r\n                //Read\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;UTF-8&quot;));\r\n\r\n            String line = null;\r\n            StringBuilder sb = new StringBuilder();\r\n\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n\r\n            bufferedReader.close();\r\n            result = sb.toString();\r\n\r\n            }else {\r\n            //    return new String(&quot;false : &quot;+responseCode);\r\n            new String(&quot;false : &quot;+responseCode);\r\n            }\r\n\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }","title":"Connecting to remote URL which requires authentication using Java","body":"<p>i did that this way you need to do this just copy paste it be happy</p>\n<pre><code>    HttpURLConnection urlConnection;\n    String url;\n //   String data = json;\n    String result = null;\n    try {\n        String username =&quot;user@gmail.com&quot;;\n        String password = &quot;12345678&quot;;\n\n        String auth =new String(username + &quot;:&quot; + password);\n        byte[] data1 = auth.getBytes(UTF_8);\n        String base64 = Base64.encodeToString(data1, Base64.NO_WRAP);\n        //Connect\n        urlConnection = (HttpURLConnection) ((new URL(urlBasePath).openConnection()));\n        urlConnection.setDoOutput(true);\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+base64);\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        urlConnection.setRequestMethod(&quot;POST&quot;);\n        urlConnection.setConnectTimeout(10000);\n        urlConnection.connect();\n        JSONObject obj = new JSONObject();\n\n        obj.put(&quot;MobileNumber&quot;, &quot;+97333746934&quot;);\n        obj.put(&quot;EmailAddress&quot;, &quot;danish.hussain@example.com&quot;);\n        obj.put(&quot;FirstName&quot;, &quot;Danish&quot;);\n        obj.put(&quot;LastName&quot;, &quot;Hussain&quot;);\n        obj.put(&quot;Country&quot;, &quot;BH&quot;);\n        obj.put(&quot;Language&quot;, &quot;EN&quot;);\n        String data = obj.toString();\n        //Write\n        OutputStream outputStream = urlConnection.getOutputStream();\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\n        writer.write(data);\n        writer.close();\n        outputStream.close();\n        int responseCode=urlConnection.getResponseCode();\n        if (responseCode == HttpsURLConnection.HTTP_OK) {\n            //Read\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;UTF-8&quot;));\n\n        String line = null;\n        StringBuilder sb = new StringBuilder();\n\n        while ((line = bufferedReader.readLine()) != null) {\n            sb.append(line);\n        }\n\n        bufferedReader.close();\n        result = sb.toString();\n\n        }else {\n        //    return new String(&quot;false : &quot;+responseCode);\n        new String(&quot;false : &quot;+responseCode);\n        }\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2494354,"reputation":379,"user_id":2171179,"display_name":"Punyapat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531999378,"creation_date":1531999378,"answer_id":51421404,"question_id":496651,"body_markdown":"Since Java 9, you can do this\r\n    \r\n    URL url = new URL(&quot;http://www.example.com&quot;);\r\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n    connection.setAuthenticator(new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication (&quot;USER&quot;, &quot;PASS&quot;.toCharArray());\r\n        }\r\n    });","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Since Java 9, you can do this</p>\n\n<pre><code>URL url = new URL(\"http://www.example.com\");\nHttpURLConnection connection = (HttpURLConnection)url.openConnection();\nconnection.setAuthenticator(new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication (\"USER\", \"PASS\".toCharArray());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553626400,"creation_date":1553626400,"answer_id":55364396,"question_id":496651,"body_markdown":"Was able to set the auth using the HttpsURLConnection \r\n           \r\n\r\n               URL myUrl = new URL(httpsURL);\r\n                HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\r\n                String userpass = username + &quot;:&quot; + password;\r\n                String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n                //httpsurlconnection\r\n                conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n\r\nfew of the changes fetched from this post. and Base64 is from java.util package.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Was able to set the auth using the HttpsURLConnection </p>\n\n<pre><code>           URL myUrl = new URL(httpsURL);\n            HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\n            String userpass = username + \":\" + password;\n            String basicAuth = \"Basic \" + new String(Base64.getEncoder().encode(userpass.getBytes()));\n            //httpsurlconnection\n            conn.setRequestProperty(\"Authorization\", basicAuth);\n</code></pre>\n\n<p>few of the changes fetched from this post. and Base64 is from java.util package.</p>\n"}],"owner":{"account_id":8005,"reputation":2537,"user_id":14128,"accept_rate":33,"display_name":"user14128"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292311,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":496707,"answer_count":12,"score":137,"last_activity_date":1668266737,"creation_date":1233340713,"question_id":496651,"body_markdown":"How do I connect to a remote URL in Java which requires authentication. I&#39;m trying to find a way to modify the following code to be able to programatically provide a username/password so it doesn&#39;t throw a 401.\r\n\r\n    URL url = new URL(String.format(&quot;http://%s/manager/list&quot;, _host + &quot;:8080&quot;));\r\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>How do I connect to a remote URL in Java which requires authentication. I'm trying to find a way to modify the following code to be able to programatically provide a username/password so it doesn't throw a 401.</p>\n\n<pre><code>URL url = new URL(String.format(\"http://%s/manager/list\", _host + \":8080\"));\nHttpURLConnection connection = (HttpURLConnection)url.openConnection();\n</code></pre>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668266505,"post_id":74414125,"comment_id":131365974,"body_markdown":"For me, the question is unclear. You speak of `case 6`, but then of `case 5`. Please [edit] the post, provide a [MRE] (with input, expected and observe output) and clarify the question.","body":"For me, the question is unclear. You speak of <code>case 6</code>, but then of <code>case 5</code>. Please <a href=\"https://stackoverflow.com/posts/74414125/edit\">edit</a> the post, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (with input, expected and observe output) and clarify the question."},{"owner":{"account_id":2678539,"reputation":1388,"user_id":2314347,"display_name":"Kurohige"},"score":0,"creation_date":1668266587,"post_id":74414125,"comment_id":131365988,"body_markdown":"a new MainChar Stats = new MainChar(); is created each time you call the southValley method","body":"a new MainChar Stats = new MainChar(); is created each time you call the southValley method"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668266722,"post_id":74414125,"comment_id":131366022,"body_markdown":"Some remarks: In Java, variable names should be writtein in `lowerCamelCase` (MainChar Stats = ...` -&gt; `MainChar stats = ...`) --- I would advice to use more descriptive variable names: `MainChar Stats` seems unintutiive. It&#39;s either some stats  or a character, using those names interchangably is confusing.","body":"Some remarks: In Java, variable names should be writtein in <code>lowerCamelCase</code> (MainChar Stats = ...` -&gt; <code>MainChar stats = ...</code>) --- I would advice to use more descriptive variable names: <code>MainChar Stats</code> seems unintutiive. It&#39;s either some stats  or a character, using those names interchangably is confusing."}],"answers":[{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668266624,"creation_date":1668266624,"answer_id":74414174,"question_id":74414125,"body_markdown":"The loop creates a new Mainchar every time. Every one of those objects have their own int stored as defence. If you create new one instead of using the one you previously created, it will create a new Mainchar with your default value, 25. thats why you get 25 instead of 50.","title":"Java setter does not update value","body":"<p>The loop creates a new Mainchar every time. Every one of those objects have their own int stored as defence. If you create new one instead of using the one you previously created, it will create a new Mainchar with your default value, 25. thats why you get 25 instead of 50.</p>\n"}],"owner":{"account_id":26910910,"reputation":1,"user_id":20486488,"display_name":"Isak Lockman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668266624,"creation_date":1668266196,"question_id":74414125,"body_markdown":"I am trying to make a menu system where the value of some attributes will be updated in another class.\r\n\r\nFirst method\r\n\r\n```\r\n public static void startmenu(){ \r\n        int path;\r\n        Scanner startscan = new Scanner(System.in); \r\n        System.out.println(&quot;-----------------------&quot;);\r\n        System.out.println(&quot;Enter Shop : 1&quot;); \r\n        System.out.println(&quot;Enter house : 2&quot;); \r\n        System.out.println(&quot;Enter town square : 3&quot;); \r\n        System.out.println(&quot;Leave town : 4&quot;); \r\n        System.out.println(&quot;Check stats : 5&quot;); \r\n        System.out.println(&quot;Chosen path: &quot;); \r\n        System.out.println(&quot;update defence : &quot;); \r\n        path = startscan.nextInt(); \r\n        SouthValley(path); \r\n    }\r\n```\r\n\r\nSecond method in same class as above where case 6 should update defence to 50 and restart the menu but when I chooose case 5 after it prints 25\r\n\r\n```\r\npublic static void SouthValley(int selectedPath){\r\n    MainChar Stats = new MainChar();\r\n    do {\r\n        switch(selectedPath){\r\n            case 1: \r\n                System.out.println(&quot;You Entered shop&quot;);\r\n                System.out.println(&quot;-----------------------------&quot;);\r\n                break;\r\n            case 2: \r\n                System.out.println(&quot;You Entered you house&quot;);\r\n                break;\r\n            case 3: \r\n                System.out.println(&quot;You Entered Town Square&quot;);\r\n                break;\r\n            case 4:\r\n                System.out.println(&quot;You left the town&quot;);\r\n                FirstPath();\r\n                break;\r\n            case 5:\r\n                System.out.println(&quot;--------------------------------&quot;);\r\n                System.out.println(&quot;Defence: &quot; + Stats.getDefence());\r\n                System.out.println(&quot;Strength: &quot; + Stats.getStrength());\r\n                System.out.println(&quot;Mana: &quot; + Stats.getMana());\r\n                System.out.println(&quot;Health: &quot; + Stats.gethealth());\r\n                startmenu();\r\n                break;\r\n            case 6:\r\n                Stats.setDefence(50);\r\n                System.out.println(Stats.getDefence());\r\n                startmenu();\r\n                break;\r\n            default:\r\n                startmenu();\r\n                break;\r\n        }\r\n    }\r\n    while(selectedPath &lt; 7);\r\n}\r\n```\r\n\r\nClass with the defined variables\r\n\r\n```\r\npublic class MainChar {\r\n    private int health = 100;\r\n    private int defence = 25;\r\n    private int strength = 15;\r\n    private int mana = 10;\r\n\r\n    public int gethealth(){\r\n        return health;\r\n    }\r\n\r\n    public int getStrength() {\r\n        return strength;\r\n    }\r\n\r\n    public int getDefence() {\r\n        return defence;\r\n    }\r\n\r\n    public int getMana() {\r\n        return mana;\r\n    }\r\n\r\n    public void setDefence(int Newdefence) {\r\n        this.defence = Newdefence;\r\n    }\r\n\r\n    public void setHealth(int Newhealth) {\r\n        this.health = Newhealth;\r\n    }\r\n\r\n    public void setMana(int Newmana) {\r\n        this.mana = Newmana;\r\n    }\r\n\r\n    public void setStrength(int Newstrength) {\r\n        this.strength = Newstrength;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried googling a lot but have not fins a solution. This code is just trying to get the value updating to work.","title":"Java setter does not update value","body":"<p>I am trying to make a menu system where the value of some attributes will be updated in another class.</p>\n<p>First method</p>\n<pre><code> public static void startmenu(){ \n        int path;\n        Scanner startscan = new Scanner(System.in); \n        System.out.println(&quot;-----------------------&quot;);\n        System.out.println(&quot;Enter Shop : 1&quot;); \n        System.out.println(&quot;Enter house : 2&quot;); \n        System.out.println(&quot;Enter town square : 3&quot;); \n        System.out.println(&quot;Leave town : 4&quot;); \n        System.out.println(&quot;Check stats : 5&quot;); \n        System.out.println(&quot;Chosen path: &quot;); \n        System.out.println(&quot;update defence : &quot;); \n        path = startscan.nextInt(); \n        SouthValley(path); \n    }\n</code></pre>\n<p>Second method in same class as above where case 6 should update defence to 50 and restart the menu but when I chooose case 5 after it prints 25</p>\n<pre><code>public static void SouthValley(int selectedPath){\n    MainChar Stats = new MainChar();\n    do {\n        switch(selectedPath){\n            case 1: \n                System.out.println(&quot;You Entered shop&quot;);\n                System.out.println(&quot;-----------------------------&quot;);\n                break;\n            case 2: \n                System.out.println(&quot;You Entered you house&quot;);\n                break;\n            case 3: \n                System.out.println(&quot;You Entered Town Square&quot;);\n                break;\n            case 4:\n                System.out.println(&quot;You left the town&quot;);\n                FirstPath();\n                break;\n            case 5:\n                System.out.println(&quot;--------------------------------&quot;);\n                System.out.println(&quot;Defence: &quot; + Stats.getDefence());\n                System.out.println(&quot;Strength: &quot; + Stats.getStrength());\n                System.out.println(&quot;Mana: &quot; + Stats.getMana());\n                System.out.println(&quot;Health: &quot; + Stats.gethealth());\n                startmenu();\n                break;\n            case 6:\n                Stats.setDefence(50);\n                System.out.println(Stats.getDefence());\n                startmenu();\n                break;\n            default:\n                startmenu();\n                break;\n        }\n    }\n    while(selectedPath &lt; 7);\n}\n</code></pre>\n<p>Class with the defined variables</p>\n<pre><code>public class MainChar {\n    private int health = 100;\n    private int defence = 25;\n    private int strength = 15;\n    private int mana = 10;\n\n    public int gethealth(){\n        return health;\n    }\n\n    public int getStrength() {\n        return strength;\n    }\n\n    public int getDefence() {\n        return defence;\n    }\n\n    public int getMana() {\n        return mana;\n    }\n\n    public void setDefence(int Newdefence) {\n        this.defence = Newdefence;\n    }\n\n    public void setHealth(int Newhealth) {\n        this.health = Newhealth;\n    }\n\n    public void setMana(int Newmana) {\n        this.mana = Newmana;\n    }\n\n    public void setStrength(int Newstrength) {\n        this.strength = Newstrength;\n    }\n}\n</code></pre>\n<p>I have tried googling a lot but have not fins a solution. This code is just trying to get the value updating to work.</p>\n"},{"tags":["java","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1612554431,"post_id":66069592,"comment_id":116812661,"body_markdown":"Can you check what&#39;s the JAVA_HOME set in your mvn.bat","body":"Can you check what&#39;s the JAVA_HOME set in your mvn.bat"},{"owner":{"account_id":19916779,"reputation":123,"user_id":14593547,"display_name":"ThePorcius"},"score":0,"creation_date":1612554917,"post_id":66069592,"comment_id":116812865,"body_markdown":"Where is the mvn.bat stored by default?","body":"Where is the mvn.bat stored by default?"},{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1612555092,"post_id":66069592,"comment_id":116812925,"body_markdown":"Check-in Maven installation folder--&gt;bin","body":"Check-in Maven installation folder--&gt;bin"}],"answers":[{"tags":[],"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612554848,"creation_date":1612554299,"answer_id":66069655,"question_id":66069592,"body_markdown":"In your `pom.xml` add your own context as below. Paste this code in `effective POM` before the root element ends, after declaring dependencies, and adjust the version as per your requirement.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>In your <code>pom.xml</code> add your own context as below. Paste this code in <code>effective POM</code> before the root element ends, after declaring dependencies, and adjust the version as per your requirement.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11849391,"reputation":56,"user_id":8671123,"display_name":"Sravan Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630917720,"creation_date":1630917720,"answer_id":69071641,"question_id":66069592,"body_markdown":"I faced the same issue while deploying on Heroku, I solved it by creating a **system.properties** file in the root folder of your project, with the below content:\r\n\r\n`java.runtime.version=15`\r\n\r\nThe version should be same as the java version in pom.xml","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>I faced the same issue while deploying on Heroku, I solved it by creating a <strong>system.properties</strong> file in the root folder of your project, with the below content:</p>\n<p><code>java.runtime.version=15</code></p>\n<p>The version should be same as the java version in pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668266420,"creation_date":1668266420,"answer_id":74414153,"question_id":66069592,"body_markdown":"for ***Gradle*** based projects:\r\nhere are few steps:\r\n\r\n 1. pres `ctrl+alt+s` and verify your project sdk version\r\n 2. goto root of your project where build.gradle and setting.gradle files are present\r\n 3. here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)\r\n 4. in this newly created file write this piece of line `java.runtime.version=17.0.5` or what  ever jdk version you want to deploy with..\r\n 5. update the repo with this file using `add.`&#39; &#39;`commit`&#39; and `git push heroku master`\r\nthats all :)","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>for <em><strong>Gradle</strong></em> based projects:\nhere are few steps:</p>\n<ol>\n<li>pres <code>ctrl+alt+s</code> and verify your project sdk version</li>\n<li>goto root of your project where build.gradle and setting.gradle files are present</li>\n<li>here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)</li>\n<li>in this newly created file write this piece of line <code>java.runtime.version=17.0.5</code> or what  ever jdk version you want to deploy with..</li>\n<li>update the repo with this file using <code>add.</code>' '<code>commit</code>' and <code>git push heroku master</code>\nthats all :)</li>\n</ol>\n"}],"owner":{"account_id":19916779,"reputation":123,"user_id":14593547,"display_name":"ThePorcius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66069655,"answer_count":3,"score":1,"last_activity_date":1668266420,"creation_date":1612553998,"question_id":66069592,"body_markdown":"I&#39;m trying to deploy my spring boot app (JDK 15.0.1) on heroku through github, but I get the error message\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project conference-demo: Fatal error compiling: invalid target release: 15 -&gt; [Help 1]\r\n\r\nI already added a file called system.properties to my application resources folder, with the following content \r\n\r\n    java.runtime.version =15\r\n\r\nAnd here&#39;s the pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myPackage&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;myApp&lt;/name&gt;\r\n    \t&lt;description&gt;Something&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.23&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBut heroku still seems to be trying to deploy with Java 1.8. The first message the build log shows is \r\n\r\n    -----&gt; Building on the Heroku-20 stack\r\n    \r\n    -----&gt; Java app detected\r\n    \r\n    -----&gt; Installing JDK 1.8... done\r\n\r\nIs there something I&#39;m missing?","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>I'm trying to deploy my spring boot app (JDK 15.0.1) on heroku through github, but I get the error message</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project conference-demo: Fatal error compiling: invalid target release: 15 -&gt; [Help 1]\n</code></pre>\n<p>I already added a file called system.properties to my application resources folder, with the following content</p>\n<pre><code>java.runtime.version =15\n</code></pre>\n<p>And here's the pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myPackage&lt;/groupId&gt;\n    &lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myApp&lt;/name&gt;\n    &lt;description&gt;Something&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.23&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>But heroku still seems to be trying to deploy with Java 1.8. The first message the build log shows is</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n\n-----&gt; Java app detected\n\n-----&gt; Installing JDK 1.8... done\n</code></pre>\n<p>Is there something I'm missing?</p>\n"},{"tags":["java","gradle","heroku","deployment"],"comments":[{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641573616,"post_id":70606370,"comment_id":124847402,"body_markdown":"Hey, i have same issue.  Do you find solution?","body":"Hey, i have same issue.  Do you find solution?"},{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641575030,"post_id":70606370,"comment_id":124848015,"body_markdown":"I just found that you can deploy app to heroku without git. Instead you can use gradle and heroku plugin for it https://github.com/heroku/heroku-gradle","body":"I just found that you can deploy app to heroku without git. Instead you can use gradle and heroku plugin for it <a href=\"https://github.com/heroku/heroku-gradle\" rel=\"nofollow noreferrer\">github.com/heroku/heroku-gradle</a>"},{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641811040,"post_id":70606370,"comment_id":124895269,"body_markdown":"I was finally able to deploy war file to heroku with appropriate java version.\nIn terminal: heroku deploy:war &lt;path to your .war file&gt; --app &lt;your app name&gt; --jdk 11","body":"I was finally able to deploy war file to heroku with appropriate java version. In terminal: heroku deploy:war &lt;path to your .war file&gt; --app &lt;your app name&gt; --jdk 11"},{"owner":{"account_id":23845291,"reputation":11,"user_id":17849847,"display_name":"NinoH"},"score":0,"creation_date":1641820804,"post_id":70606370,"comment_id":124898931,"body_markdown":"thanks alot! going to try it later this day","body":"thanks alot! going to try it later this day"}],"answers":[{"tags":[],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668266324,"creation_date":1668266324,"answer_id":74414139,"question_id":70606370,"body_markdown":"here are few steps:\r\n\r\n 1. pres `ctrl+alt+s` and verify your project sdk version\r\n 2. goto root of your project where build.gradle and setting.gradle files are present\r\n 3. here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)\r\n 4. in this newly created file write this piece of line `java.runtime.version=17.0.5` or what  ever jdk version you want to deploy with..\r\n 5. update the repo with this file using `add.`&#39; &#39;`commit`&#39; and `git push heroku master`\r\nthats all :)\r\n","title":"Wrong Java version when deploying on heroku","body":"<p>here are few steps:</p>\n<ol>\n<li>pres <code>ctrl+alt+s</code> and verify your project sdk version</li>\n<li>goto root of your project where build.gradle and setting.gradle files are present</li>\n<li>here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)</li>\n<li>in this newly created file write this piece of line <code>java.runtime.version=17.0.5</code> or what  ever jdk version you want to deploy with..</li>\n<li>update the repo with this file using <code>add.</code>' '<code>commit</code>' and <code>git push heroku master</code>\nthats all :)</li>\n</ol>\n"}],"owner":{"account_id":23845291,"reputation":11,"user_id":17849847,"display_name":"NinoH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668266324,"creation_date":1641468191,"question_id":70606370,"body_markdown":"I build a little rest service to store data in a mongodb atlas db.\r\nEverything is working and I get no errors when I build with ./gradlew clean build.\r\n\r\nThe project is written in Java 11 and gradle is set to Java 11 too.\r\nBut when I try do deploy the app on heroku I get the following error : \r\n\r\n    -----&gt; Building on the Heroku-20 stack\r\n    -----&gt; Determining which buildpack to use for this app\r\n    -----&gt; Gradle app detected\r\n    -----&gt; Spring Boot detected\r\n    -----&gt; Installing **JDK 1.8**... done\r\n    -----&gt; Building Gradle app...\r\n    -----&gt; executing ./gradlew build -x check\r\n           Downloading https://services.gradle.org/distributions/gradle-7.3.2-bin.zip\r\n           ...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\r\n           To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\n           Daemon will be stopped at the end of the build \r\n           &gt; Task :compileJava FAILED\r\n           \r\n           FAILURE: Build failed with an exception.\r\n           \r\n           * What went wrong:\r\n           Execution failed for task &#39;:compileJava&#39;.\r\n           &gt; invalid source release: 11\r\n\r\nI added a system.properties to my resources with :\r\njava.runtime.version=11\r\n\r\nBut it still seems to install java 8.\r\n\r\n\r\nCan anyone help me on this?\r\n\r\nGreetings from Berlin \r\nNino","title":"Wrong Java version when deploying on heroku","body":"<p>I build a little rest service to store data in a mongodb atlas db.\nEverything is working and I get no errors when I build with ./gradlew clean build.</p>\n<p>The project is written in Java 11 and gradle is set to Java 11 too.\nBut when I try do deploy the app on heroku I get the following error :</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n-----&gt; Determining which buildpack to use for this app\n-----&gt; Gradle app detected\n-----&gt; Spring Boot detected\n-----&gt; Installing **JDK 1.8**... done\n-----&gt; Building Gradle app...\n-----&gt; executing ./gradlew build -x check\n       Downloading https://services.gradle.org/distributions/gradle-7.3.2-bin.zip\n       ...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\n       To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\n       Daemon will be stopped at the end of the build \n       &gt; Task :compileJava FAILED\n       \n       FAILURE: Build failed with an exception.\n       \n       * What went wrong:\n       Execution failed for task ':compileJava'.\n       &gt; invalid source release: 11\n</code></pre>\n<p>I added a system.properties to my resources with :\njava.runtime.version=11</p>\n<p>But it still seems to install java 8.</p>\n<p>Can anyone help me on this?</p>\n<p>Greetings from Berlin\nNino</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1618649304,"creation_date":1618605393,"answer_id":67131903,"question_id":67129283,"body_markdown":"## Static pagination ##\r\nIf you know the page indexes in advance and you have a rule to generate it.\r\n\r\n```java\r\nvar elementsPerPage = 10;\r\n\r\nFlux.generate(\r\n        () -&gt; 0,\r\n        (pageIndex, emitter) -&gt; {\r\n            if (pageIndex &lt; 30) {\r\n                emitter.next(pageIndex);\r\n            } else {\r\n                emitter.complete();\r\n            }\r\n            return pageIndex + elementsPerPage;\r\n        })\r\n        .flatMap(pageIndex -&gt; webClient\r\n                .get()\r\n                .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n                .retrieve()\r\n                .bodyToMono(BlahServiceResponse.class))\r\n        .subscribe(System.out::println);\r\n```\r\n\r\n## Dynamic pagination ##\r\nIf the next page index depends on the last queried page.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    var elementsPerPage = 10;\r\n\r\n    callWithPageIndex(0)\r\n            .expand(pagedResponse -&gt; {\r\n                if (pagedResponse.getResponse().isEmpty()) {\r\n                    return Mono.empty();\r\n                } else {\r\n                    return callWithPageIndex(pagedResponse.getPageIndex() + elementsPerPage);\r\n                }\r\n            })\r\n            .subscribe(System.out::println);\r\n}\r\n\r\nprivate static Mono&lt;PagedResponse&lt;BlahServiceResponse&gt;&gt; callWithPageIndex(Integer pageIndex) {\r\n    return webClient\r\n            .get()\r\n            .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n            .retrieve()\r\n            .bodyToMono(BlahServiceResponse.class)\r\n            .map(response -&gt; new PagedResponse&lt;&gt;(pageIndex, response));\r\n}\r\n\r\n@lombok.Value\r\nstatic class PagedResponse&lt;T&gt; {\r\n    int pageIndex;\r\n    T response;\r\n}\r\n```","title":"How to do pagination in Reactor?","body":"<h2>Static pagination</h2>\n<p>If you know the page indexes in advance and you have a rule to generate it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var elementsPerPage = 10;\n\nFlux.generate(\n        () -&gt; 0,\n        (pageIndex, emitter) -&gt; {\n            if (pageIndex &lt; 30) {\n                emitter.next(pageIndex);\n            } else {\n                emitter.complete();\n            }\n            return pageIndex + elementsPerPage;\n        })\n        .flatMap(pageIndex -&gt; webClient\n                .get()\n                .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n                .retrieve()\n                .bodyToMono(BlahServiceResponse.class))\n        .subscribe(System.out::println);\n</code></pre>\n<h2>Dynamic pagination</h2>\n<p>If the next page index depends on the last queried page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var elementsPerPage = 10;\n\n    callWithPageIndex(0)\n            .expand(pagedResponse -&gt; {\n                if (pagedResponse.getResponse().isEmpty()) {\n                    return Mono.empty();\n                } else {\n                    return callWithPageIndex(pagedResponse.getPageIndex() + elementsPerPage);\n                }\n            })\n            .subscribe(System.out::println);\n}\n\nprivate static Mono&lt;PagedResponse&lt;BlahServiceResponse&gt;&gt; callWithPageIndex(Integer pageIndex) {\n    return webClient\n            .get()\n            .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n            .retrieve()\n            .bodyToMono(BlahServiceResponse.class)\n            .map(response -&gt; new PagedResponse&lt;&gt;(pageIndex, response));\n}\n\n@lombok.Value\nstatic class PagedResponse&lt;T&gt; {\n    int pageIndex;\n    T response;\n}\n</code></pre>\n"}],"owner":{"account_id":318890,"reputation":2484,"user_id":636334,"accept_rate":50,"display_name":"Babu Subburathinam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67131903,"answer_count":1,"score":2,"last_activity_date":1668266311,"creation_date":1618592029,"question_id":67129283,"body_markdown":"I make repeated paged WebClient requests to a third-party web service. The implementation I have now works *but is blocking*. \r\n\r\nMy implementation so far:\r\n\r\n    var elementsPerPage = 10;\r\n    Flux\r\n        .generate(\r\n            () -&gt; 0,\r\n            (pageIndex, emitter) -&gt; {\r\n                BlahServiceResponse blahServiceResponse =\r\n                    webClient\r\n                        .get()\r\n                        .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n                        .retrieve()\r\n                        .bodyToMono(BlahServiceResponse.class)\r\n                        .block(); // Yuck!!!\r\n                if (blahServiceResponse.getStudents().size() &gt; 0) {\r\n                    emitter.next(blahServiceResponse);\r\n                } else {\r\n                    emitter.complete();\r\n                }\r\n                return pageIndex + elementsPerPage;\r\n            }\r\n        )\r\n        .subscribe(System.out::println); // Replace me with actual logic\r\n\r\nFor understandable reasons, an &quot;IllegalStateException: The generator didn&#39;t call any of the SynchronousSink method&quot; exception is thrown if the code above is changed to the following:\r\n\r\n    webClient\r\n        .get()\r\n        ...\r\n        .bodyToMono(BlahServiceResponse.class)\r\n        .subscribe(emitter::next);\r\n\r\nSo I started looking for an async Sink and [realized it was Flux|MonoSink][1]. But as far as I can see there is no builder method in Flux that supports stateful element generation with Flux|MonoSink.\r\n\r\nAm I missing something and is there a more elegant approach to this?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/SynchronousSink.html","title":"How to do pagination in Reactor?","body":"<p>I make repeated paged WebClient requests to a third-party web service. The implementation I have now works <em>but is blocking</em>.</p>\n<p>My implementation so far:</p>\n<pre><code>var elementsPerPage = 10;\nFlux\n    .generate(\n        () -&gt; 0,\n        (pageIndex, emitter) -&gt; {\n            BlahServiceResponse blahServiceResponse =\n                webClient\n                    .get()\n                    .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n                    .retrieve()\n                    .bodyToMono(BlahServiceResponse.class)\n                    .block(); // Yuck!!!\n            if (blahServiceResponse.getStudents().size() &gt; 0) {\n                emitter.next(blahServiceResponse);\n            } else {\n                emitter.complete();\n            }\n            return pageIndex + elementsPerPage;\n        }\n    )\n    .subscribe(System.out::println); // Replace me with actual logic\n</code></pre>\n<p>For understandable reasons, an &quot;IllegalStateException: The generator didn't call any of the SynchronousSink method&quot; exception is thrown if the code above is changed to the following:</p>\n<pre><code>webClient\n    .get()\n    ...\n    .bodyToMono(BlahServiceResponse.class)\n    .subscribe(emitter::next);\n</code></pre>\n<p>So I started looking for an async Sink and <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/SynchronousSink.html\" rel=\"nofollow noreferrer\">realized it was Flux|MonoSink</a>. But as far as I can see there is no builder method in Flux that supports stateful element generation with Flux|MonoSink.</p>\n<p>Am I missing something and is there a more elegant approach to this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14980463,"reputation":31,"user_id":11242814,"display_name":"Vladimir Belanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553375863,"creation_date":1553375863,"answer_id":55318490,"question_id":55318393,"body_markdown":"Your first loop is itterating over all chars in the first string of array. Second loop is checking char at `i` posistion of all strings of array. If characters do not match, or length of string is the same as `i` it returns substring result.\r\n\r\nI think the best way to understand is debug this example.","title":"LeetCode 14. longest common prefix","body":"<p>Your first loop is itterating over all chars in the first string of array. Second loop is checking char at <code>i</code> posistion of all strings of array. If characters do not match, or length of string is the same as <code>i</code> it returns substring result.</p>\n\n<p>I think the best way to understand is debug this example.</p>\n"},{"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553375913,"creation_date":1553375913,"answer_id":55318500,"question_id":55318393,"body_markdown":"If the char in the second string is different than the char in the first one, then it is correct to return, since it means that the common prefix ends there. Checking the third and following strings is not necessary.\r\n\r\nBasically it returns as soon as it finds a mismatch char.","title":"LeetCode 14. longest common prefix","body":"<p>If the char in the second string is different than the char in the first one, then it is correct to return, since it means that the common prefix ends there. Checking the third and following strings is not necessary.</p>\n\n<p>Basically it returns as soon as it finds a mismatch char.</p>\n"},{"tags":[],"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553384146,"creation_date":1553384146,"answer_id":55319369,"question_id":55318393,"body_markdown":"You have to check same position in all of the words and just compare it.\r\n```\r\n         positions\r\nword    0 1 2 3 4 5\r\n=====================\r\nw[0]    F L O W E R\r\nw[1]    F L O W\r\nw[2]    F L I G H T\r\n```\r\n\r\n\r\nIn Java:\r\n\r\n```\r\nclass Main {\r\n\r\n    public static void main(String[] args) {\r\n        String[] words = {&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;};\r\n\r\n        String prefix = commonPrefix(words);\r\n\r\n        System.out.println(prefix);\r\n        // return empty string\r\n\r\n        String[] words2 = {&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;};\r\n\r\n        String prefix2 = commonPrefix(words2);\r\n\r\n        System.out.println(prefix2);\r\n        // Return &quot;fl&quot; (2 letters)\r\n    }\r\n\r\n    private static String commonPrefix(String[] words) {\r\n        // Common letter counter\r\n        int counter = 0;\r\n\r\n        external:\r\n        for (int i = 0; i &lt; words[0].length(); i++) {\r\n\r\n            // Get letter from first word\r\n            char letter = words[0].charAt(i);\r\n\r\n            // Check rest of the words on that same positions\r\n            for (int j = 1; j &lt; words.length; j++) {\r\n                // Break when word is shorter or letter is different\r\n                if (words[j].length() &lt;= i || letter != words[j].charAt(i)) {\r\n                    break external;\r\n                }\r\n            }\r\n\r\n            // Increase counter, because all of words\r\n            // has the same letter (e.g. &quot;E&quot;) on the same position (e.g. position &quot;5&quot;)\r\n            counter++;\r\n        }\r\n\r\n        // Return proper substring\r\n        return words[0].substring(0, counter);\r\n    }\r\n\r\n}\r\n```","title":"LeetCode 14. longest common prefix","body":"<p>You have to check same position in all of the words and just compare it.</p>\n\n<pre><code>         positions\nword    0 1 2 3 4 5\n=====================\nw[0]    F L O W E R\nw[1]    F L O W\nw[2]    F L I G H T\n</code></pre>\n\n<p>In Java:</p>\n\n<pre><code>class Main {\n\n    public static void main(String[] args) {\n        String[] words = {\"dog\",\"racecar\",\"car\"};\n\n        String prefix = commonPrefix(words);\n\n        System.out.println(prefix);\n        // return empty string\n\n        String[] words2 = {\"dog\",\"racecar\",\"car\"};\n\n        String prefix2 = commonPrefix(words2);\n\n        System.out.println(prefix2);\n        // Return \"fl\" (2 letters)\n    }\n\n    private static String commonPrefix(String[] words) {\n        // Common letter counter\n        int counter = 0;\n\n        external:\n        for (int i = 0; i &lt; words[0].length(); i++) {\n\n            // Get letter from first word\n            char letter = words[0].charAt(i);\n\n            // Check rest of the words on that same positions\n            for (int j = 1; j &lt; words.length; j++) {\n                // Break when word is shorter or letter is different\n                if (words[j].length() &lt;= i || letter != words[j].charAt(i)) {\n                    break external;\n                }\n            }\n\n            // Increase counter, because all of words\n            // has the same letter (e.g. \"E\") on the same position (e.g. position \"5\")\n            counter++;\n        }\n\n        // Return proper substring\n        return words[0].substring(0, counter);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14973311,"reputation":81,"user_id":12143521,"display_name":"TerenceP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583997311,"creation_date":1583997311,"answer_id":60649215,"question_id":55318393,"body_markdown":"If we first sort them then it would be very easy we have to only go and compare the first and the last element in the vector present there so, \r\nthe code would be like,This is C++ code for the implementation.\r\n\r\n    class Solution {\r\n    public:\r\n        string longestCommonPrefix(vector&lt;string&gt;&amp; str) {\r\n            int n = str.size();\r\n            if(n==0) return &quot;&quot;;\r\n            \r\n            string ans  = &quot;&quot;;\r\n            sort(begin(str), end(str));\r\n            string a = str[0];\r\n            string b = str[n-1];\r\n            \r\n            for(int i=0; i&lt;a.size(); i++){\r\n                if(a[i]==b[i]){\r\n                    ans = ans + a[i];\r\n                }\r\n                else{\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            return ans;\r\n            \r\n        }\r\n    };","title":"LeetCode 14. longest common prefix","body":"<p>If we first sort them then it would be very easy we have to only go and compare the first and the last element in the vector present there so, \nthe code would be like,This is C++ code for the implementation.</p>\n\n<pre><code>class Solution {\npublic:\n    string longestCommonPrefix(vector&lt;string&gt;&amp; str) {\n        int n = str.size();\n        if(n==0) return \"\";\n\n        string ans  = \"\";\n        sort(begin(str), end(str));\n        string a = str[0];\n        string b = str[n-1];\n\n        for(int i=0; i&lt;a.size(); i++){\n            if(a[i]==b[i]){\n                ans = ans + a[i];\n            }\n            else{\n                break;\n            }\n        }\n\n        return ans;\n\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24674280,"reputation":1,"user_id":18568887,"display_name":"BerCodingLive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265833,"creation_date":1668265715,"answer_id":74414063,"question_id":55318393,"body_markdown":"    public class Solution {\r\n    public string LongestCommonPrefix(string[] strs) {\r\n\r\n\r\n        if(strs.Length == 0)\r\n        {\r\n            return string.Empty;\r\n\r\n        }\r\n\r\n        var prefix = strs[0];\r\n        for(int i=1; i&lt;strs.Length; i++) //always start from 1.index\r\n        {\r\n            while(!strs[i].StartsWith(prefix)) \r\n            {\r\n                prefix = prefix.Substring(0, prefix.Length-1);\r\n\r\n            }\r\n\r\n        }\r\n        return prefix;\r\n\r\n        \r\n    }\r\n    }","title":"LeetCode 14. longest common prefix","body":"<pre><code>public class Solution {\npublic string LongestCommonPrefix(string[] strs) {\n\n\n    if(strs.Length == 0)\n    {\n        return string.Empty;\n\n    }\n\n    var prefix = strs[0];\n    for(int i=1; i&lt;strs.Length; i++) //always start from 1.index\n    {\n        while(!strs[i].StartsWith(prefix)) \n        {\n            prefix = prefix.Substring(0, prefix.Length-1);\n\n        }\n\n    }\n    return prefix;\n\n    \n}\n}\n</code></pre>\n"}],"owner":{"account_id":15354818,"reputation":19,"user_id":11077365,"display_name":"beautifuldog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3190,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1668265833,"creation_date":1553375232,"question_id":55318393,"body_markdown":"Question:\r\n  \r\nWrite a function to find the longest common prefix string among an array of strings. If there is no common prefix, return an empty string &quot;&quot;.\r\n\r\nExample 1:\r\n\r\n&amp;nbsp;&amp;nbsp;Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]  \r\n&amp;nbsp;&amp;nbsp;Output: &quot;fl&quot;\r\n\r\nExample 2:\r\n\r\n&amp;nbsp;&amp;nbsp;Input: [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]  \r\n&amp;nbsp;&amp;nbsp;Output: &quot;&quot;\r\n\r\nExplanation: There is no common prefix among the input strings.\r\n\r\nCode:\r\n\r\n```java\r\npublic class Solution {\r\n    public String longestCommonPrefix(String[] strs) {\r\n        if(strs==null || strs.length==0)\r\n            return &quot;&quot;;\r\n        for(int i=0;i&lt;strs[0].length();i++) {\r\n            char x = strs[0].charAt(i);\r\n            for(int j=0;j&lt;strs.length;j++) {\r\n                if((strs[j].length()==i)||(strs[j].charAt(i)!=x)) {\r\n                    return strs[0].substring(0,i);\r\n                }\r\n            }\r\n        }\r\n        return strs[0];\r\n    }\r\n}\r\n```\r\nThis is the second solution, but I don&#39;t understand the inner loop.\r\nI think if the second element in strs returns a string and ends the for loop, the third element will not have a chance to be compared.","title":"LeetCode 14. longest common prefix","body":"<p>Question:</p>\n\n<p>Write a function to find the longest common prefix string among an array of strings. If there is no common prefix, return an empty string \"\".</p>\n\n<p>Example 1:</p>\n\n<p>&nbsp;&nbsp;Input: [\"flower\",\"flow\",\"flight\"]<br>\n&nbsp;&nbsp;Output: \"fl\"</p>\n\n<p>Example 2:</p>\n\n<p>&nbsp;&nbsp;Input: [\"dog\",\"racecar\",\"car\"]<br>\n&nbsp;&nbsp;Output: \"\"</p>\n\n<p>Explanation: There is no common prefix among the input strings.</p>\n\n<p>Code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public String longestCommonPrefix(String[] strs) {\n        if(strs==null || strs.length==0)\n            return \"\";\n        for(int i=0;i&lt;strs[0].length();i++) {\n            char x = strs[0].charAt(i);\n            for(int j=0;j&lt;strs.length;j++) {\n                if((strs[j].length()==i)||(strs[j].charAt(i)!=x)) {\n                    return strs[0].substring(0,i);\n                }\n            }\n        }\n        return strs[0];\n    }\n}\n</code></pre>\n\n<p>This is the second solution, but I don't understand the inner loop.\nI think if the second element in strs returns a string and ends the for loop, the third element will not have a chance to be compared.</p>\n"},{"tags":["java","command-line","classpath"],"comments":[{"owner":{"account_id":7696,"reputation":13316,"user_id":13435,"accept_rate":82,"display_name":"Chris Serra"},"score":4,"creation_date":1301324578,"post_id":219585,"comment_id":6189311,"body_markdown":"Sorry I&#39;ve never accepted this.  It should be a community wiki.  Never used one of the provided answers.  I believe I created a shell script that just scanned the lib/ directory and created the classpath from parsing file names.","body":"Sorry I&#39;ve never accepted this.  It should be a community wiki.  Never used one of the provided answers.  I believe I created a shell script that just scanned the lib/ directory and created the classpath from parsing file names."},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1301789841,"post_id":219585,"comment_id":6278451,"body_markdown":"There&#39;s some kind of bug in this new Java feature, because it does not work as described. I gave up and used Ant to work around it, as described in one of the answers.","body":"There&#39;s some kind of bug in this new Java feature, because it does not work as described. I gave up and used Ant to work around it, as described in one of the answers."},{"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":1,"creation_date":1343033072,"post_id":219585,"comment_id":15368963,"body_markdown":"There is issue with wildcard processing in Windows.\r\nhttp://stackoverflow.com/questions/11607873/escape-wildcard-processing-in-java-classpath/11608165#comment15368871_11608165","body":"There is issue with wildcard processing in Windows.  <a href=\"http://stackoverflow.com/questions/11607873/escape-wildcard-processing-in-java-classpath/11608165#comment15368871_11608165\" title=\"escape wildcard processing in java classpath\">stackoverflow.com/questions/11607873/&hellip;</a>"},{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":0,"creation_date":1416482468,"post_id":219585,"comment_id":42596253,"body_markdown":"At first I thought the `.` after `jar:` is put by mistake but..... The standard symbol for `current directory&#39; is a single period (.) in both Unix and Windows systems.","body":"At first I thought the <code>.</code> after <code>jar:</code> is put by mistake but..... The standard symbol for `current directory&#39; is a single period (.) in both Unix and Windows systems."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":8,"creation_date":1418348325,"post_id":219585,"comment_id":43311959,"body_markdown":"Short answer: (1) drop the `.jar` part, (2) must have **at least 2 parts, separated by a `;` on Windows** (which is usually `:` elsewhere). For example: `java -classpath &quot;.;lib/*&quot; Program`","body":"Short answer: (1) drop the <code>.jar</code> part, (2) must have <b>at least 2 parts, separated by a <code>;</code> on Windows</b> (which is usually <code>:</code> elsewhere). For example: <code>java -classpath &quot;.;lib&#47;*&quot; Program</code>"},{"owner":{"account_id":10692592,"reputation":369,"user_id":7870928,"display_name":"Sagar Kharab"},"score":0,"creation_date":1624492484,"post_id":219585,"comment_id":120376737,"body_markdown":"Really sorry but since this is a popular question and I can&#39;t ask my own question, I am seeking Java Expert Answer for what is the difference between the flag create vs create new at here\nhttps://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixChannelFactory.java","body":"Really sorry but since this is a popular question and I can&#39;t ask my own question, I am seeking Java Expert Answer for what is the difference between the flag create vs create new at here <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixChannelFactory.java\" rel=\"nofollow noreferrer\">github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5947,"reputation":54623,"user_id":9815,"accept_rate":100,"display_name":"Daniel Spiewak"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1224531363,"creation_date":1224531363,"answer_id":219595,"question_id":219585,"body_markdown":"You need to add them all separately.  Alternatively, if you *really* need to just specify a directory, you can unjar everything into one dir and add that to your classpath.  I don&#39;t recommend this approach however as you risk bizarre problems in classpath versioning and unmanagability.","title":"Including all the jars in a directory within the Java classpath","body":"<p>You need to add them all separately.  Alternatively, if you <em>really</em> need to just specify a directory, you can unjar everything into one dir and add that to your classpath.  I don't recommend this approach however as you risk bizarre problems in classpath versioning and unmanagability.</p>\n"},{"tags":[],"owner":{"account_id":209530,"reputation":203,"user_id":460599,"accept_rate":75,"display_name":"Robert Van Hoose"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1224531469,"creation_date":1224531469,"answer_id":219603,"question_id":219585,"body_markdown":"Think of a jar file as the root of a directory structure. Yes, you need to add them all separately.","title":"Including all the jars in a directory within the Java classpath","body":"<p>Think of a jar file as the root of a directory structure. Yes, you need to add them all separately.</p>\n"},{"tags":[],"owner":{"display_name":"user7094"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1224532527,"creation_date":1224532527,"answer_id":219663,"question_id":219585,"body_markdown":"If you really need to specify all the .jar files dynamically you could use shell scripts, or [Apache Ant][1]. There&#39;s a commons project called [Commons Launcher][2] which basically lets you specify your startup script as an ant build file (if you see what I mean).\r\n\r\nThen, you can specify something like:\r\n\r\n    &lt;path id=&quot;base.class.path&quot;&gt;\r\n        &lt;pathelement path=&quot;${resources.dir}&quot;/&gt;\r\n\t\t&lt;fileset dir=&quot;${extensions.dir}&quot; includes=&quot;*.jar&quot; /&gt;\r\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;*.jar&quot;/&gt;\r\n    &lt;/path&gt;\r\n\r\nIn your launch build file, which will launch your application with the correct classpath.\r\n\r\n  [1]: http://ant.apache.org/\r\n  [2]: http://commons.apache.org/launcher/","title":"Including all the jars in a directory within the Java classpath","body":"<p>If you really need to specify all the .jar files dynamically you could use shell scripts, or <a href=\"http://ant.apache.org/\" rel=\"noreferrer\">Apache Ant</a>. There's a commons project called <a href=\"http://commons.apache.org/launcher/\" rel=\"noreferrer\">Commons Launcher</a> which basically lets you specify your startup script as an ant build file (if you see what I mean).</p>\n\n<p>Then, you can specify something like:</p>\n\n<pre><code>&lt;path id=\"base.class.path\"&gt;\n    &lt;pathelement path=\"${resources.dir}\"/&gt;\n    &lt;fileset dir=\"${extensions.dir}\" includes=\"*.jar\" /&gt;\n    &lt;fileset dir=\"${lib.dir}\" includes=\"*.jar\"/&gt;\n&lt;/path&gt;\n</code></pre>\n\n<p>In your launch build file, which will launch your application with the correct classpath.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":3,"up_vote_count":79,"is_accepted":false,"score":76,"last_activity_date":1412847827,"creation_date":1224533296,"answer_id":219706,"question_id":219585,"body_markdown":"We get around this problem by deploying a **main** jar file `myapp.jar` which contains a **manifest** (`Manifest.mf`) file specifying a classpath with the other required jars, which are then deployed alongside it. In this case, you only need to declare `java -jar myapp.jar` when running the code. \r\n\r\nSo if you deploy the main `jar` into some directory, and then put the dependent jars into a `lib` folder beneath that, the manifest looks like:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: myapp\r\n    Implementation-Version: 1.0.1\r\n    Class-Path: lib/dep1.jar lib/dep2.jar\r\n\r\nNB: this is platform-independent - we can use the same jars to launch on a UNIX server or on a Windows PC.","title":"Including all the jars in a directory within the Java classpath","body":"<p>We get around this problem by deploying a <strong>main</strong> jar file <code>myapp.jar</code> which contains a <strong>manifest</strong> (<code>Manifest.mf</code>) file specifying a classpath with the other required jars, which are then deployed alongside it. In this case, you only need to declare <code>java -jar myapp.jar</code> when running the code. </p>\n\n<p>So if you deploy the main <code>jar</code> into some directory, and then put the dependent jars into a <code>lib</code> folder beneath that, the manifest looks like:</p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: myapp\nImplementation-Version: 1.0.1\nClass-Path: lib/dep1.jar lib/dep2.jar\n</code></pre>\n\n<p>NB: this is platform-independent - we can use the same jars to launch on a UNIX server or on a Windows PC.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":12,"up_vote_count":1328,"is_accepted":false,"score":1316,"last_activity_date":1597394699,"creation_date":1224534734,"answer_id":219801,"question_id":219585,"body_markdown":"Using Java 6 or later, the classpath option supports wildcards. Note the following:\r\n\r\n - Use straight quotes (`&quot;`)\r\n - Use `*`, not `*.jar`\r\n\r\n**Windows**\r\n\r\n&gt; `java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass`\r\n\r\n**Unix**\r\n\r\n&gt; `java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass`\r\n\r\nThis is similar to Windows, but uses `:` instead of `;`. If you cannot use wildcards, `bash` allows the following syntax (where `lib` is the directory containing all the Java archive files):\r\n\r\n&gt; `java -cp &quot;$(printf %s: lib/*.jar)&quot;`\r\n\r\n(Note that using a classpath is incompatible with the `-jar` option. See also: https://stackoverflow.com/questions/13018100/execute-jar-file-with-multiple-classpath-libraries-from-command-prompt)\r\n\r\n\r\n**Understanding Wildcards**\r\n\r\nFrom the [Classpath][1] document:\r\n\r\n&gt; Class path entries can contain the basename wildcard character `*`, which is considered equivalent to specifying a list of all the files\r\n&gt; in the directory with the extension `.jar` or `.JAR`. For example, the\r\n&gt; class path entry `foo/*` specifies all JAR files in the directory named\r\n&gt; foo. A classpath entry consisting simply of `*` expands to a list of all\r\n&gt; the jar files in the current directory.\r\n&gt; \r\n&gt; A class path entry that contains `*` will not match class files. To\r\n&gt; match both classes and JAR files in a single directory foo, use either\r\n&gt; `foo;foo/*` or `foo/*;foo`. The order chosen determines whether the\r\n&gt; classes and resources in `foo` are loaded before JAR files in `foo`, or\r\n&gt; vice versa.\r\n&gt; \r\n&gt; Subdirectories are not searched recursively. For example, `foo/*` looks\r\n&gt; for JAR files only in `foo`, not in `foo/bar`, `foo/baz`, etc.\r\n&gt; \r\n&gt; The order in which the JAR files in a directory are enumerated in the\r\n&gt; expanded class path is not specified and may vary from platform to\r\n&gt; platform and even from moment to moment on the same machine. A\r\n&gt; well-constructed application should not depend upon any particular\r\n&gt; order. If a specific order is required then the JAR files can be\r\n&gt; enumerated explicitly in the class path.\r\n&gt; \r\n&gt; Expansion of wildcards is done early, prior to the invocation of a\r\n&gt; program&#39;s main method, rather than late, during the class-loading\r\n&gt; process itself. Each element of the input class path containing a\r\n&gt; wildcard is replaced by the (possibly empty) sequence of elements\r\n&gt; generated by enumerating the JAR files in the named directory. For\r\n&gt; example, if the directory `foo` contains `a.jar`, `b.jar`, and `c.jar`, then\r\n&gt; the class path `foo/*` is expanded into `foo/a.jar;foo/b.jar;foo/c.jar`,\r\n&gt; and that string would be the value of the system property\r\n&gt; `java.class.path`.\r\n&gt; \r\n&gt; The `CLASSPATH` environment variable is not treated any differently from\r\n&gt; the `-classpath` (or `-cp`) command-line option. That is, wildcards are\r\n&gt; honored in all these cases. However, class path wildcards are not\r\n&gt; honored in the `Class-Path jar-manifest` header.\r\n\r\nNote: due to a known bug in java 8, the windows examples must use a backslash preceding entries with a trailing asterisk: https://bugs.openjdk.java.net/browse/JDK-8131329\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html","title":"Including all the jars in a directory within the Java classpath","body":"<p>Using Java 6 or later, the classpath option supports wildcards. Note the following:</p>\n<ul>\n<li>Use straight quotes (<code>&quot;</code>)</li>\n<li>Use <code>*</code>, not <code>*.jar</code></li>\n</ul>\n<p><strong>Windows</strong></p>\n<blockquote>\n<p><code>java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass</code></p>\n</blockquote>\n<p><strong>Unix</strong></p>\n<blockquote>\n<p><code>java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass</code></p>\n</blockquote>\n<p>This is similar to Windows, but uses <code>:</code> instead of <code>;</code>. If you cannot use wildcards, <code>bash</code> allows the following syntax (where <code>lib</code> is the directory containing all the Java archive files):</p>\n<blockquote>\n<p><code>java -cp &quot;$(printf %s: lib/*.jar)&quot;</code></p>\n</blockquote>\n<p>(Note that using a classpath is incompatible with the <code>-jar</code> option. See also: <a href=\"https://stackoverflow.com/questions/13018100/execute-jar-file-with-multiple-classpath-libraries-from-command-prompt\">Execute jar file with multiple classpath libraries from command prompt</a>)</p>\n<p><strong>Understanding Wildcards</strong></p>\n<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Classpath</a> document:</p>\n<blockquote>\n<p>Class path entries can contain the basename wildcard character <code>*</code>, which is considered equivalent to specifying a list of all the files\nin the directory with the extension <code>.jar</code> or <code>.JAR</code>. For example, the\nclass path entry <code>foo/*</code> specifies all JAR files in the directory named\nfoo. A classpath entry consisting simply of <code>*</code> expands to a list of all\nthe jar files in the current directory.</p>\n<p>A class path entry that contains <code>*</code> will not match class files. To\nmatch both classes and JAR files in a single directory foo, use either\n<code>foo;foo/*</code> or <code>foo/*;foo</code>. The order chosen determines whether the\nclasses and resources in <code>foo</code> are loaded before JAR files in <code>foo</code>, or\nvice versa.</p>\n<p>Subdirectories are not searched recursively. For example, <code>foo/*</code> looks\nfor JAR files only in <code>foo</code>, not in <code>foo/bar</code>, <code>foo/baz</code>, etc.</p>\n<p>The order in which the JAR files in a directory are enumerated in the\nexpanded class path is not specified and may vary from platform to\nplatform and even from moment to moment on the same machine. A\nwell-constructed application should not depend upon any particular\norder. If a specific order is required then the JAR files can be\nenumerated explicitly in the class path.</p>\n<p>Expansion of wildcards is done early, prior to the invocation of a\nprogram's main method, rather than late, during the class-loading\nprocess itself. Each element of the input class path containing a\nwildcard is replaced by the (possibly empty) sequence of elements\ngenerated by enumerating the JAR files in the named directory. For\nexample, if the directory <code>foo</code> contains <code>a.jar</code>, <code>b.jar</code>, and <code>c.jar</code>, then\nthe class path <code>foo/*</code> is expanded into <code>foo/a.jar;foo/b.jar;foo/c.jar</code>,\nand that string would be the value of the system property\n<code>java.class.path</code>.</p>\n<p>The <code>CLASSPATH</code> environment variable is not treated any differently from\nthe <code>-classpath</code> (or <code>-cp</code>) command-line option. That is, wildcards are\nhonored in all these cases. However, class path wildcards are not\nhonored in the <code>Class-Path jar-manifest</code> header.</p>\n</blockquote>\n<p>Note: due to a known bug in java 8, the windows examples must use a backslash preceding entries with a trailing asterisk: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8131329\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8131329</a></p>\n"},{"tags":[],"owner":{"account_id":16574,"reputation":147,"user_id":36268,"display_name":"ParseTheData"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1372671418,"creation_date":1228504048,"answer_id":344818,"question_id":219585,"body_markdown":"The only way I know how is to do it individually, for example:\r\n\r\n    setenv CLASSPATH /User/username/newfolder/jarfile.jar:jarfile2.jar:jarfile3.jar:.\r\n\r\nHope that helps!\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>The only way I know how is to do it individually, for example:</p>\n\n<pre><code>setenv CLASSPATH /User/username/newfolder/jarfile.jar:jarfile2.jar:jarfile3.jar:.\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":18334,"reputation":4176,"user_id":41939,"accept_rate":60,"display_name":"davorp"},"down_vote_count":0,"up_vote_count":280,"is_accepted":false,"score":280,"last_activity_date":1612794636,"creation_date":1250210526,"answer_id":1275467,"question_id":219585,"body_markdown":"Under Windows this works:\r\n\r\n    java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass\r\n\r\nand this does not work:\r\n\r\n    java -cp &quot;Test.jar;lib/*.jar&quot; my.package.MainClass\r\n\r\nNotice the `*.jar`, **so the * wildcard should be used alone**.\r\n\r\n----\r\nOn Linux, the following works:\r\n    \r\n    java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass\r\n\r\nThe separators are ***colons*** instead of *semicolons*.","title":"Including all the jars in a directory within the Java classpath","body":"<p>Under Windows this works:</p>\n<pre><code>java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass\n</code></pre>\n<p>and this does not work:</p>\n<pre><code>java -cp &quot;Test.jar;lib/*.jar&quot; my.package.MainClass\n</code></pre>\n<p>Notice the <code>*.jar</code>, <strong>so the * wildcard should be used alone</strong>.</p>\n<hr />\n<p>On Linux, the following works:</p>\n<pre><code>java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass\n</code></pre>\n<p>The separators are <em><strong>colons</strong></em> instead of <em>semicolons</em>.</p>\n"},{"tags":[],"owner":{"account_id":43300,"reputation":9257,"user_id":126529,"accept_rate":54,"display_name":"Alexey"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1372671377,"creation_date":1261706939,"answer_id":1960268,"question_id":219585,"body_markdown":"For windows quotes are required and ; should be used as separator. e.g.:\r\n\r\n    java -cp &quot;target\\\\*;target\\\\dependency\\\\*&quot; my.package.Main","title":"Including all the jars in a directory within the Java classpath","body":"<p>For windows quotes are required and ; should be used as separator. e.g.:</p>\n\n<pre><code>java -cp \"target\\\\*;target\\\\dependency\\\\*\" my.package.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108387,"reputation":8648,"user_id":287727,"accept_rate":100,"display_name":"Navi"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1446047634,"creation_date":1267909217,"answer_id":2394082,"question_id":219585,"body_markdown":"You can try java `-Djava.ext.dirs=jarDirectory` \r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html\r\n\r\nDirectory for external jars when running java","title":"Including all the jars in a directory within the Java classpath","body":"<p>You can try java <code>-Djava.ext.dirs=jarDirectory</code> \n<a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html</a></p>\n\n<p>Directory for external jars when running java</p>\n"},{"tags":[],"owner":{"account_id":665067,"reputation":136,"user_id":494130,"display_name":"prakash"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1407931619,"creation_date":1288650691,"answer_id":4073636,"question_id":219585,"body_markdown":"If you are using Java 6, then you can use wildcards in the classpath.\r\n\r\nNow it is possible to use wildcards in classpath definition:\r\n\r\n    javac -cp libs/* -verbose -encoding UTF-8 src/mypackage/*.java  -d build/classes\r\n\r\nRef: http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/","title":"Including all the jars in a directory within the Java classpath","body":"<p>If you are using Java 6, then you can use wildcards in the classpath.</p>\n\n<p>Now it is possible to use wildcards in classpath definition:</p>\n\n<pre><code>javac -cp libs/* -verbose -encoding UTF-8 src/mypackage/*.java  -d build/classes\n</code></pre>\n\n<p>Ref: <a href=\"http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/\" rel=\"noreferrer\">http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/</a></p>\n"},{"tags":[],"owner":{"account_id":725726,"reputation":549,"user_id":664167,"display_name":"Habi"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1300359682,"creation_date":1300359328,"answer_id":5338035,"question_id":219585,"body_markdown":"My solution on Ubuntu 10.04 using java-sun 1.6.0_24 having all jars in &quot;lib&quot; directory:\r\n\r\n&lt;pre&gt;java -cp .:lib/* my.main.Class&lt;/pre&gt;\r\n\r\nIf this fails, the following command should work (prints out all *.jars in lib directory to the classpath param)\r\n\r\n&lt;pre&gt;java -cp $(for i in lib/*.jar ; do echo -n $i: ; done). my.main.Class&lt;/pre&gt;\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>My solution on Ubuntu 10.04 using java-sun 1.6.0_24 having all jars in \"lib\" directory:</p>\n\n<pre>java -cp .:lib/* my.main.Class</pre>\n\n<p>If this fails, the following command should work (prints out all *.jars in lib directory to the classpath param)</p>\n\n<pre>java -cp $(for i in lib/*.jar ; do echo -n $i: ; done). my.main.Class</pre>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321847679,"creation_date":1321847679,"answer_id":8207081,"question_id":219585,"body_markdown":"All the above solutions work great if you develop and run the Java application outside any IDE like Eclipse or Netbeans.\r\n\r\nIf you are on Windows 7 and used Eclipse IDE for Development in Java, you might run into issues if using Command Prompt to run the class files built inside Eclipse.\r\n\r\nE.g. Your source code in Eclipse is having the following package hierarchy:\r\nedu.sjsu.myapp.Main.java\r\n\r\nYou have json.jar as an external dependency for the Main.java\r\n\r\nWhen you try running Main.java from within Eclipse, it will run without any issues.\r\n\r\nBut when you try running this using Command Prompt after compiling Main.java in Eclipse, it will shoot some weird errors saying &quot;ClassNotDef Error blah blah&quot;.\r\n\r\n**I assume you are in the working directory of your source code !!**\r\n\r\nUse the following syntax to run it from command prompt:\r\n\r\n 1. &gt;javac -cp **&quot;.;json.jar&quot;** Main.java\r\n  \r\n 2. &gt;java -cp **&quot;.;json.jar&quot;** edu.sjsu.myapp.Main\r\n\r\n  [Don&#39;t miss the . above]\r\n\r\nThis is because you have placed the Main.java inside the package edu.sjsu.myapp and java.exe will look for the exact pattern.\r\n\r\nHope it helps !!","title":"Including all the jars in a directory within the Java classpath","body":"<p>All the above solutions work great if you develop and run the Java application outside any IDE like Eclipse or Netbeans.</p>\n\n<p>If you are on Windows 7 and used Eclipse IDE for Development in Java, you might run into issues if using Command Prompt to run the class files built inside Eclipse.</p>\n\n<p>E.g. Your source code in Eclipse is having the following package hierarchy:\nedu.sjsu.myapp.Main.java</p>\n\n<p>You have json.jar as an external dependency for the Main.java</p>\n\n<p>When you try running Main.java from within Eclipse, it will run without any issues.</p>\n\n<p>But when you try running this using Command Prompt after compiling Main.java in Eclipse, it will shoot some weird errors saying \"ClassNotDef Error blah blah\".</p>\n\n<p><strong>I assume you are in the working directory of your source code !!</strong></p>\n\n<p>Use the following syntax to run it from command prompt:</p>\n\n<ol>\n<li><blockquote>\n  <p>javac -cp <strong>\".;json.jar\"</strong> Main.java</p>\n</blockquote></li>\n<li><blockquote>\n  <p>java -cp <strong>\".;json.jar\"</strong> edu.sjsu.myapp.Main</p>\n</blockquote>\n\n<p>[Don't miss the . above]</p></li>\n</ol>\n\n<p>This is because you have placed the Main.java inside the package edu.sjsu.myapp and java.exe will look for the exact pattern.</p>\n\n<p>Hope it helps !!</p>\n"},{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1324495929,"creation_date":1324495929,"answer_id":8595267,"question_id":219585,"body_markdown":"Short answer: `java -classpath lib/*:. my.package.Program`\r\n\r\nOracle provides documentation on using wildcards in classpaths [here for Java 6](http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html) and [here for Java 7](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html), under the section heading __Understanding class path wildcards__. (As I write this, the two pages contain the same information.) Here&#39;s a summary of the highlights:\r\n\r\n- In general, to include all of the JARs in a given directory, you can use the wildcard `*` (__not__ `*.jar`).\r\n\r\n- The wildcard only matches JARs, not class files; to get all classes in a directory, just end the classpath entry at the directory name.\r\n\r\n- The above two options can be combined to include all JAR and class files in a directory, and the usual classpath precedence rules apply. E.g. `-cp /classes;/jars/*`\r\n\r\n- The wildcard will __not__ search for JARs in subdirectories.\r\n\r\n- The above bullet points are true if you use the `CLASSPATH` system property or the `-cp` or `-classpath` command line flags. However, if you use the `Class-Path` JAR manifest header (as you might do with an ant build file), wildcards will __not__ be honored.\r\n\r\n_Yes, my first link is the same one provided in the top-scoring answer (which I have no hope of overtaking), but that answer doesn&#39;t provide much explanation beyond the link. Since that sort of behavior is [discouraged](https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers) on Stack Overflow [these days](https://meta.stackexchange.com/q/116301/131713), I thought I&#39;d expand on it._","title":"Including all the jars in a directory within the Java classpath","body":"<p>Short answer: <code>java -classpath lib/*:. my.package.Program</code></p>\n\n<p>Oracle provides documentation on using wildcards in classpaths <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">here for Java 6</a> and <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">here for Java 7</a>, under the section heading <strong>Understanding class path wildcards</strong>. (As I write this, the two pages contain the same information.) Here's a summary of the highlights:</p>\n\n<ul>\n<li><p>In general, to include all of the JARs in a given directory, you can use the wildcard <code>*</code> (<strong>not</strong> <code>*.jar</code>).</p></li>\n<li><p>The wildcard only matches JARs, not class files; to get all classes in a directory, just end the classpath entry at the directory name.</p></li>\n<li><p>The above two options can be combined to include all JAR and class files in a directory, and the usual classpath precedence rules apply. E.g. <code>-cp /classes;/jars/*</code></p></li>\n<li><p>The wildcard will <strong>not</strong> search for JARs in subdirectories.</p></li>\n<li><p>The above bullet points are true if you use the <code>CLASSPATH</code> system property or the <code>-cp</code> or <code>-classpath</code> command line flags. However, if you use the <code>Class-Path</code> JAR manifest header (as you might do with an ant build file), wildcards will <strong>not</strong> be honored.</p></li>\n</ul>\n\n<p><em>Yes, my first link is the same one provided in the top-scoring answer (which I have no hope of overtaking), but that answer doesn't provide much explanation beyond the link. Since that sort of behavior is <a href=\"https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers\">discouraged</a> on Stack Overflow <a href=\"https://meta.stackexchange.com/q/116301/131713\">these days</a>, I thought I'd expand on it.</em></p>\n"},{"tags":[],"owner":{"account_id":183388,"reputation":1208,"user_id":418730,"display_name":"rvernica"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1329155826,"creation_date":1329155826,"answer_id":9265429,"question_id":219585,"body_markdown":"**Correct**:\r\n\r\n    java -classpath &quot;lib/*:.&quot; my.package.Program\r\n\r\nIncorrect:\r\n\r\n    java -classpath &quot;lib/a*.jar:.&quot; my.package.Program\r\n    java -classpath &quot;lib/a*:.&quot;     my.package.Program\r\n    java -classpath &quot;lib/*.jar:.&quot;  my.package.Program\r\n    java -classpath  lib/*:.       my.package.Program\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p><strong>Correct</strong>:</p>\n\n<pre><code>java -classpath \"lib/*:.\" my.package.Program\n</code></pre>\n\n<p>Incorrect:</p>\n\n<pre><code>java -classpath \"lib/a*.jar:.\" my.package.Program\njava -classpath \"lib/a*:.\"     my.package.Program\njava -classpath \"lib/*.jar:.\"  my.package.Program\njava -classpath  lib/*:.       my.package.Program\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1415864559,"creation_date":1350287024,"answer_id":12891240,"question_id":219585,"body_markdown":"For me this works in windows .\r\n\r\n    java -cp &quot;/lib/*;&quot; sample\r\n\r\nFor linux\r\n   \r\n\r\n    java -cp &quot;/lib/*:&quot; sample\r\n\r\nI am using [Java 6][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>For me this works in windows .</p>\n\n<pre><code>java -cp \"/lib/*;\" sample\n</code></pre>\n\n<p>For linux</p>\n\n<pre><code>java -cp \"/lib/*:\" sample\n</code></pre>\n\n<p>I am using <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Java 6</a></p>\n"},{"tags":[],"owner":{"account_id":52081,"reputation":888,"user_id":155631,"accept_rate":78,"display_name":"Matt S."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480406739,"creation_date":1372492135,"answer_id":17377968,"question_id":219585,"body_markdown":"Short Form: If your main is within a jar, you&#39;ll probably need an additional &#39;-jar pathTo/yourJar/YourJarsName.jar &#39;  explicitly declared to get it working (even though &#39;YourJarsName.jar&#39; was on the classpath)\r\n(or, expressed to answer the original question that was asked 5 years ago: you don&#39;t need to redeclare each jar explicitly, but does seem, even with java6 you need to redeclare your own jar ...) \r\n\r\n-----------------------------------------\r\nLong Form: \r\n(I&#39;ve made this explicit to the point that I hope even interlopers to java can make use of this) \r\n\r\nLike many here I&#39;m using eclipse to export jars: (File-&gt;Export--&gt;&#39;Runnable JAR File&#39;). There are three options on &#39;Library handling&#39; eclipse (Juno) offers:\r\n\r\n    opt1: &quot;Extract required libraries into generated JAR&quot;\r\n    opt2: &quot;Package required libraries into generated JAR&quot;\r\n    opt3: &quot;Copy required libraries into a sub-folder next to the generated JAR&quot;\r\n\r\nTypically I&#39;d use opt2 (and opt1 was definitely breaking), however native code in one of the jars I&#39;m using I discovered breaks with the handy &quot;jarinjar&quot; trick that eclipse leverages when you choose that option. Even after realizing I needed opt3, and then finding this StackOverflow entry, it still took me some time to figure it out how to launch my main outside of eclipse, so here&#39;s what worked for me, as it&#39;s useful for others...\r\n\r\n---\r\nIf  you named your jar: &quot;fooBarTheJarFile.jar&quot; \r\nand all is set to export to the  dir:     &quot;/theFully/qualifiedPath/toYourChosenDir&quot;. \r\n\r\n(meaning the  &#39;Export destination&#39; field will read:   &#39;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar&#39; )\r\n\r\nAfter you hit finish, you&#39;ll find eclipse then puts all the libraries into a folder named &#39;fooBarTheJarFile_lib&#39; within that export directory, giving you something like:\r\n\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar01.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar02.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar03.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar04.jar\r\n\r\n\r\n---   \r\nYou can then launch from anywhere on your system with: \r\n\r\n    java -classpath &quot;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*&quot; -jar  /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar   package.path_to.the_class_with.your_main.TheClassWithYourMain\r\n\r\n(For Java Newbies:  &#39;package.path_to.the_class_with.your_main&#39; is the declared package-path that you&#39;ll find at the top of the &#39;TheClassWithYourMain.java&#39; file that contains the &#39;main(String[] args){...}&#39; that you wish to run from outside java)\r\n\r\n-------------\r\nThe pitfall to notice: is that having &#39;fooBarTheJarFile.jar&#39; within the list of jars on your declared classpath is not enough.  You need to explicitly declare &#39;-jar&#39;, and redeclare the location of that jar. \r\n\r\n e.g. this breaks:  \r\n \r\n     java -classpath &quot;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*&quot;  somepackages.inside.yourJar.leadingToTheMain.TheClassWithYourMain\r\n \r\n restated with relative paths:\r\n \r\n    cd /theFully/qualifiedPath/toYourChosenDir/;\r\n    BREAKS:  java -cp &quot;fooBarTheJarFile_lib/*&quot;                                package.path_to.the_class_with.your_main.TheClassWithYourMain    \r\n    BREAKS:  java -cp &quot;.;fooBarTheJarFile_lib/*&quot;                              package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n    BREAKS:  java -cp &quot;.;fooBarTheJarFile_lib/*&quot;   -jar                       package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n    WORKS:   java -cp &quot;.;fooBarTheJarFile_lib/*&quot;   -jar  fooBarTheJarFile.jar package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n           \r\n  \r\n(using java version &quot;1.6.0_27&quot;; via  OpenJDK 64-Bit Server VM  on ubuntu 12.04)","title":"Including all the jars in a directory within the Java classpath","body":"<p>Short Form: If your main is within a jar, you'll probably need an additional '-jar pathTo/yourJar/YourJarsName.jar '  explicitly declared to get it working (even though 'YourJarsName.jar' was on the classpath)\n(or, expressed to answer the original question that was asked 5 years ago: you don't need to redeclare each jar explicitly, but does seem, even with java6 you need to redeclare your own jar ...) </p>\n\n<hr>\n\n<p>Long Form: \n(I've made this explicit to the point that I hope even interlopers to java can make use of this) </p>\n\n<p>Like many here I'm using eclipse to export jars: (File->Export-->'Runnable JAR File'). There are three options on 'Library handling' eclipse (Juno) offers:</p>\n\n<pre><code>opt1: \"Extract required libraries into generated JAR\"\nopt2: \"Package required libraries into generated JAR\"\nopt3: \"Copy required libraries into a sub-folder next to the generated JAR\"\n</code></pre>\n\n<p>Typically I'd use opt2 (and opt1 was definitely breaking), however native code in one of the jars I'm using I discovered breaks with the handy \"jarinjar\" trick that eclipse leverages when you choose that option. Even after realizing I needed opt3, and then finding this StackOverflow entry, it still took me some time to figure it out how to launch my main outside of eclipse, so here's what worked for me, as it's useful for others...</p>\n\n<hr>\n\n<p>If  you named your jar: \"fooBarTheJarFile.jar\" \nand all is set to export to the  dir:     \"/theFully/qualifiedPath/toYourChosenDir\". </p>\n\n<p>(meaning the  'Export destination' field will read:   '/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar' )</p>\n\n<p>After you hit finish, you'll find eclipse then puts all the libraries into a folder named 'fooBarTheJarFile_lib' within that export directory, giving you something like:</p>\n\n<pre><code>/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar01.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar02.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar03.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar04.jar\n</code></pre>\n\n<hr>\n\n<p>You can then launch from anywhere on your system with: </p>\n\n<pre><code>java -classpath \"/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*\" -jar  /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar   package.path_to.the_class_with.your_main.TheClassWithYourMain\n</code></pre>\n\n<p>(For Java Newbies:  'package.path_to.the_class_with.your_main' is the declared package-path that you'll find at the top of the 'TheClassWithYourMain.java' file that contains the 'main(String[] args){...}' that you wish to run from outside java)</p>\n\n<hr>\n\n<p>The pitfall to notice: is that having 'fooBarTheJarFile.jar' within the list of jars on your declared classpath is not enough.  You need to explicitly declare '-jar', and redeclare the location of that jar. </p>\n\n<p>e.g. this breaks:  </p>\n\n<pre><code> java -classpath \"/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*\"  somepackages.inside.yourJar.leadingToTheMain.TheClassWithYourMain\n</code></pre>\n\n<p>restated with relative paths:</p>\n\n<pre><code>cd /theFully/qualifiedPath/toYourChosenDir/;\nBREAKS:  java -cp \"fooBarTheJarFile_lib/*\"                                package.path_to.the_class_with.your_main.TheClassWithYourMain    \nBREAKS:  java -cp \".;fooBarTheJarFile_lib/*\"                              package.path_to.the_class_with.your_main.TheClassWithYourMain   \nBREAKS:  java -cp \".;fooBarTheJarFile_lib/*\"   -jar                       package.path_to.the_class_with.your_main.TheClassWithYourMain   \nWORKS:   java -cp \".;fooBarTheJarFile_lib/*\"   -jar  fooBarTheJarFile.jar package.path_to.the_class_with.your_main.TheClassWithYourMain   \n</code></pre>\n\n<p>(using java version \"1.6.0_27\"; via  OpenJDK 64-Bit Server VM  on ubuntu 12.04)</p>\n"},{"tags":[],"owner":{"account_id":2181152,"reputation":3524,"user_id":1930619,"display_name":"Jake Toronto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1379101085,"creation_date":1379101085,"answer_id":18793968,"question_id":219585,"body_markdown":"Please note that wildcard expansion is broken for Java 7 on Windows.\r\n\r\nCheck out [this StackOverflow issue](https://stackoverflow.com/questions/9195073/broken-wildcard-expansion-for-java7-commandline-on-windows7) for more information.\r\n\r\nThe workaround is to put a semicolon right after the wildcard. `java -cp &quot;somewhere/*;&quot;`\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>Please note that wildcard expansion is broken for Java 7 on Windows.</p>\n\n<p>Check out <a href=\"https://stackoverflow.com/questions/9195073/broken-wildcard-expansion-for-java7-commandline-on-windows7\">this StackOverflow issue</a> for more information.</p>\n\n<p>The workaround is to put a semicolon right after the wildcard. <code>java -cp \"somewhere/*;\"</code></p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1418348010,"creation_date":1418348010,"answer_id":27435495,"question_id":219585,"body_markdown":"To whom it may concern,\r\n\r\nI found this strange behaviour on Windows under an MSYS/MinGW shell.\r\n\r\n**Works:**\r\n\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    $ javac -cp &#39;.;c:\\Programs\\COMSOL44\\plugins\\*&#39; Reclaim.java\r\n\r\n**Doesn&#39;t work:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    $ javac -cp &#39;c:\\Programs\\COMSOL44\\plugins\\*&#39; Reclaim.java\r\n    javac: invalid flag: c:\\Programs\\COMSOL44\\plugins\\com.comsol.aco_1.0.0.jar\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options\r\n    \r\nI am quite sure that the wildcard is not expanded by the shell, because e.g.\r\n\r\n    $ echo &#39;./*&#39;\r\n    ./*\r\n\r\n(Tried it with another program too, rather than the built-in `echo`, with the same result.)\r\n\r\nI believe that it&#39;s `javac` which is trying to expand it, and it behaves differently whether there is a semicolon in the argument or not. First, it may be trying to expand all arguments that look like paths. And only then it would parse them, with `-cp` taking only the following token. (Note that `com.comsol.aco_1.0.0.jar` is the second JAR in that directory.) That&#39;s all a guess.\r\n\r\nThis is \r\n\r\n    $ javac -version\r\n    javac 1.7.0\r\n\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>To whom it may concern,</p>\n\n<p>I found this strange behaviour on Windows under an MSYS/MinGW shell.</p>\n\n<p><strong>Works:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ javac -cp '.;c:\\Programs\\COMSOL44\\plugins\\*' Reclaim.java\n</code></pre>\n\n<p><strong>Doesn't work:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ javac -cp 'c:\\Programs\\COMSOL44\\plugins\\*' Reclaim.java\njavac: invalid flag: c:\\Programs\\COMSOL44\\plugins\\com.comsol.aco_1.0.0.jar\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n\n<p>I am quite sure that the wildcard is not expanded by the shell, because e.g.</p>\n\n<pre><code>$ echo './*'\n./*\n</code></pre>\n\n<p>(Tried it with another program too, rather than the built-in <code>echo</code>, with the same result.)</p>\n\n<p>I believe that it's <code>javac</code> which is trying to expand it, and it behaves differently whether there is a semicolon in the argument or not. First, it may be trying to expand all arguments that look like paths. And only then it would parse them, with <code>-cp</code> taking only the following token. (Note that <code>com.comsol.aco_1.0.0.jar</code> is the second JAR in that directory.) That's all a guess.</p>\n\n<p>This is </p>\n\n<pre><code>$ javac -version\njavac 1.7.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430290556,"creation_date":1430290556,"answer_id":29936380,"question_id":219585,"body_markdown":"class from wepapp:\r\n\r\n      &gt; mvn clean install\r\n      \r\n      &gt; java -cp &quot;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/tool-jar-1.17.0-SNAPSHOT.jar;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/*&quot; com.xx.xx.util.EncryptorUtils param1 param2","title":"Including all the jars in a directory within the Java classpath","body":"<p>class from wepapp:</p>\n\n<pre><code>  &gt; mvn clean install\n\n  &gt; java -cp \"webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/tool-jar-1.17.0-SNAPSHOT.jar;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/*\" com.xx.xx.util.EncryptorUtils param1 param2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916790,"reputation":299,"user_id":1729234,"display_name":"Sreesankar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467029144,"creation_date":1467029144,"answer_id":38053543,"question_id":219585,"body_markdown":"Not a direct solution to being able to set /* to -cp but I hope you could use the following script to ease the situation a bit for dynamic class-paths and lib directories.\r\n\r\n     libDir2Scan4jars=&quot;../test&quot;;cp=&quot;&quot;; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ &quot;$j&quot; != &quot;&quot; ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ &quot;$tmpCLASSPATH&quot; != &quot;&quot; ]; then echo .; echo &quot;classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH&quot;; echo .; else echo .; echo &quot;Error please check libDir2Scan4jars path&quot;; echo .; fi; \r\n\r\nScripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the &quot;libDir2Scan4jars&quot;; the script will scan all the jars and create a classpath string and export it to a env variable &quot;tmpCLASSPATH&quot;. \r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>Not a direct solution to being able to set /* to -cp but I hope you could use the following script to ease the situation a bit for dynamic class-paths and lib directories.</p>\n\n<pre><code> libDir2Scan4jars=\"../test\";cp=\"\"; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ \"$j\" != \"\" ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ \"$tmpCLASSPATH\" != \"\" ]; then echo .; echo \"classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH\"; echo .; else echo .; echo \"Error please check libDir2Scan4jars path\"; echo .; fi; \n</code></pre>\n\n<p>Scripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the \"libDir2Scan4jars\"; the script will scan all the jars and create a classpath string and export it to a env variable \"tmpCLASSPATH\". </p>\n"},{"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1467308801,"creation_date":1467308801,"answer_id":38130048,"question_id":219585,"body_markdown":"Set the classpath in a way suitable multiple jars and current directory&#39;s class files. \r\n\r\n    CLASSPATH=${ORACLE_HOME}/jdbc/lib/ojdbc6.jar:${ORACLE_HOME}/jdbc/lib/ojdbc14.jar:${ORACLE_HOME}/jdbc/lib/nls_charset12.jar; \r\n    CLASSPATH=$CLASSPATH:/export/home/gs806e/tops/jconn2.jar:.;\r\n    export CLASSPATH","title":"Including all the jars in a directory within the Java classpath","body":"<p>Set the classpath in a way suitable multiple jars and current directory's class files. </p>\n\n<pre><code>CLASSPATH=${ORACLE_HOME}/jdbc/lib/ojdbc6.jar:${ORACLE_HOME}/jdbc/lib/ojdbc14.jar:${ORACLE_HOME}/jdbc/lib/nls_charset12.jar; \nCLASSPATH=$CLASSPATH:/export/home/gs806e/tops/jconn2.jar:.;\nexport CLASSPATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1552622455,"creation_date":1468868596,"answer_id":38444175,"question_id":219585,"body_markdown":"**Windows**:&lt;br/&gt;\r\n```lang-bash\r\n java -cp file.jar;dir/* my.app.ClassName\r\n```\r\n\r\n**Linux**:&lt;br/&gt;\r\n```lang-bash\r\n java -cp file.jar:dir/* my.app.ClassName\r\n```\r\n\r\n\r\nRemind:&lt;br/&gt;\r\n- **Windows** path separator is `;`&lt;br/&gt;\r\n- **Linux** path separator is `:`&lt;br/&gt;\r\n- In Windows if cp argument does not contains white space, the &quot;quotes&quot; is optional","title":"Including all the jars in a directory within the Java classpath","body":"<p><strong>Windows</strong>:<br/></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -cp file.jar;dir/* my.app.ClassName\n</code></pre>\n\n<p><strong>Linux</strong>:<br/></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -cp file.jar:dir/* my.app.ClassName\n</code></pre>\n\n<p>Remind:<br/>\n- <strong>Windows</strong> path separator is <code>;</code><br/>\n- <strong>Linux</strong> path separator is <code>:</code><br/>\n- In Windows if cp argument does not contains white space, the \"quotes\" is optional</p>\n"},{"tags":[],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552537127,"creation_date":1552531618,"answer_id":55154206,"question_id":219585,"body_markdown":"I have multiple jars in a folder. The below command worked for me in `JDK1.8` to include all jars present in the folder. Please note that to include in quotes if you have a space in the classpath\r\n\r\n**Windows**\r\n\r\nCompiling: `javac -classpath &quot;C:\\My Jars\\sdk\\lib\\*&quot; c:\\programs\\MyProgram.java`\r\n\r\nRunning: `java -classpath &quot;C:\\My Jars\\sdk\\lib\\*;c:\\programs&quot; MyProgram`\r\n\r\n**Linux**\r\n\r\nCompiling: `javac -classpath &quot;/home/guestuser/My Jars/sdk/lib/*&quot; MyProgram.java`\r\n\r\nRunning: `java -classpath &quot;/home/guestuser/My Jars/sdk/lib/*:/home/guestuser/programs&quot; MyProgram`\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>I have multiple jars in a folder. The below command worked for me in <code>JDK1.8</code> to include all jars present in the folder. Please note that to include in quotes if you have a space in the classpath</p>\n\n<p><strong>Windows</strong></p>\n\n<p>Compiling: <code>javac -classpath \"C:\\My Jars\\sdk\\lib\\*\" c:\\programs\\MyProgram.java</code></p>\n\n<p>Running: <code>java -classpath \"C:\\My Jars\\sdk\\lib\\*;c:\\programs\" MyProgram</code></p>\n\n<p><strong>Linux</strong></p>\n\n<p>Compiling: <code>javac -classpath \"/home/guestuser/My Jars/sdk/lib/*\" MyProgram.java</code></p>\n\n<p>Running: <code>java -classpath \"/home/guestuser/My Jars/sdk/lib/*:/home/guestuser/programs\" MyProgram</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573339293,"creation_date":1573338963,"answer_id":58784144,"question_id":219585,"body_markdown":"# macOS, current folder\r\n\r\nFor Java 13 on [macOS Mojave][1]\r\n\r\nIf all your `.jar` files are in the same folder, use [`cd`][2] to make that your [current working directory][3]. Verify with [`pwd`][4]. \r\n\r\nFor the `-classpath` you must first list the [JAR file][5] for your app. Using a colon character `:` as a delimiter, append an asterisk `*` to get all other JAR files within the same folder. Lastly, pass the full package name of the class with your [`main` method][6]. \r\n\r\nFor example, for an app in a JAR file named `my_app.jar` with a `main` method in a class named `App` in a package named `com.example`, alongside some needed jars in the same folder:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    java -classpath my_app.jar:* com.example.App\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MacOS_Mojave\r\n  [2]: https://en.wikipedia.org/wiki/Cd_(command)\r\n  [3]: https://en.wikipedia.org/wiki/Working_directory\r\n  [4]: https://en.wikipedia.org/wiki/Pwd\r\n  [5]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [6]: https://en.wikipedia.org/wiki/Entry_point#Java","title":"Including all the jars in a directory within the Java classpath","body":"<h1>macOS, current folder</h1>\n\n<p>For Java 13 on <a href=\"https://en.wikipedia.org/wiki/MacOS_Mojave\" rel=\"noreferrer\">macOS Mojave</a></p>\n\n<p>If all your <code>.jar</code> files are in the same folder, use <a href=\"https://en.wikipedia.org/wiki/Cd_(command)\" rel=\"noreferrer\"><code>cd</code></a> to make that your <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"noreferrer\">current working directory</a>. Verify with <a href=\"https://en.wikipedia.org/wiki/Pwd\" rel=\"noreferrer\"><code>pwd</code></a>. </p>\n\n<p>For the <code>-classpath</code> you must first list the <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"noreferrer\">JAR file</a> for your app. Using a colon character <code>:</code> as a delimiter, append an asterisk <code>*</code> to get all other JAR files within the same folder. Lastly, pass the full package name of the class with your <a href=\"https://en.wikipedia.org/wiki/Entry_point#Java\" rel=\"noreferrer\"><code>main</code> method</a>. </p>\n\n<p>For example, for an app in a JAR file named <code>my_app.jar</code> with a <code>main</code> method in a class named <code>App</code> in a package named <code>com.example</code>, alongside some needed jars in the same folder:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -classpath my_app.jar:* com.example.App\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88053,"reputation":2847,"user_id":243827,"accept_rate":67,"display_name":"kellogs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611777607,"creation_date":1611777607,"answer_id":65926518,"question_id":219585,"body_markdown":"Order of arguments to `java` command is also important:\r\n\r\n    c:\\projects\\CloudMirror&gt;java Javaside -cp &quot;jna-5.6.0.jar;.\\&quot;\r\n    Error: Unable to initialize main class Javaside\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jna/Callback\r\n\r\nversus\r\n\r\n    c:\\projects\\CloudMirror&gt;java -cp &quot;jna-5.6.0.jar;.\\&quot; Javaside\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Unable","title":"Including all the jars in a directory within the Java classpath","body":"<p>Order of arguments to <code>java</code> command is also important:</p>\n<pre><code>c:\\projects\\CloudMirror&gt;java Javaside -cp &quot;jna-5.6.0.jar;.\\&quot;\nError: Unable to initialize main class Javaside\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/Callback\n</code></pre>\n<p>versus</p>\n<pre><code>c:\\projects\\CloudMirror&gt;java -cp &quot;jna-5.6.0.jar;.\\&quot; Javaside\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Unable\n</code></pre>\n"}],"owner":{"account_id":7696,"reputation":13316,"user_id":13435,"accept_rate":82,"display_name":"Chris Serra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269255,"favorite_count":0,"down_vote_count":2,"up_vote_count":1179,"answer_count":25,"score":1177,"last_activity_date":1668265740,"creation_date":1224531165,"question_id":219585,"body_markdown":"Is there a way to include all the jar files within a directory in the classpath?\r\n\r\nI&#39;m trying `java -classpath lib/*.jar:. my.package.Program` and it is not able to find class files that are certainly in those jars.  Do I need to add each jar file to the classpath separately? ","title":"Including all the jars in a directory within the Java classpath","body":"<p>Is there a way to include all the jar files within a directory in the classpath?</p>\n\n<p>I'm trying <code>java -classpath lib/*.jar:. my.package.Program</code> and it is not able to find class files that are certainly in those jars.  Do I need to add each jar file to the classpath separately? </p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","arraylist"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265568,"creation_date":1668265568,"answer_id":74414034,"question_id":74411827,"body_markdown":"The Firebase SDK always loads complete nodes from the Realtime Database. \r\n\r\nThere is no way to get `a` without also getting `b` in your current data model. In your code you can exclude `b` by looping over the children of your `snapshot` too, and check [if they have any children](https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#hasChildren()).\r\n\r\nIf this is a common use-case for your app, consider changing your data structure, or adding an additional node where you only have `a`, to save bandwidth.\r\n\r\n","title":"ValueEventListener read only one layer","body":"<p>The Firebase SDK always loads complete nodes from the Realtime Database.</p>\n<p>There is no way to get <code>a</code> without also getting <code>b</code> in your current data model. In your code you can exclude <code>b</code> by looping over the children of your <code>snapshot</code> too, and check <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#hasChildren()\" rel=\"nofollow noreferrer\">if they have any children</a>.</p>\n<p>If this is a common use-case for your app, consider changing your data structure, or adding an additional node where you only have <code>a</code>, to save bandwidth.</p>\n"}],"owner":{"account_id":9571851,"reputation":807,"user_id":7109256,"accept_rate":71,"display_name":"random1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668265568,"creation_date":1668245782,"question_id":74411827,"body_markdown":"I have a Firebase database and I am using `addValueEventListener` to populate an `ArrayList` which is then displayed in a `RecyclerView` however I want the `ArrayList` to be populated with only one layer of the data and not the embedded data in another branch. Here is an example of how the database could look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fjeo5.png\r\n\r\nThe desired outcome is that my `RecyclerView` will be populated with the objects that is the content of branch `a` but the current outcome is that it is also being populated with the object `b` as one object with the children of it as values, I want only the values of branch `a` in my list. Is this possible, if so, how?\r\n\r\nCode:\r\n\r\n    databaseReference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            list.clear();\r\n            recyclerViewAdapter.notifyDataSetChanged();\r\n\r\n            progressBar.setVisibility(View.VISIBLE);\r\n\r\n            for (DataSnapshot snapshot : dataSnapshot.getChildren())\r\n            {\r\n                Object value = snapshot.getValue();\r\n                if (value != null)\r\n                {\r\n                    list.add(new Task(value.toString(), snapshot.getKey()));\r\n                    recyclerViewAdapter.notifyItemInserted(list.size() - 1);\r\n                }\r\n            }\r\n\r\n            progressBar.setVisibility(View.GONE);\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n        }\r\n    });","title":"ValueEventListener read only one layer","body":"<p>I have a Firebase database and I am using <code>addValueEventListener</code> to populate an <code>ArrayList</code> which is then displayed in a <code>RecyclerView</code> however I want the <code>ArrayList</code> to be populated with only one layer of the data and not the embedded data in another branch. Here is an example of how the database could look like:</p>\n<p><a href=\"https://i.stack.imgur.com/fjeo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjeo5.png\" alt=\"enter image description here\" /></a></p>\n<p>The desired outcome is that my <code>RecyclerView</code> will be populated with the objects that is the content of branch <code>a</code> but the current outcome is that it is also being populated with the object <code>b</code> as one object with the children of it as values, I want only the values of branch <code>a</code> in my list. Is this possible, if so, how?</p>\n<p>Code:</p>\n<pre><code>databaseReference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        list.clear();\n        recyclerViewAdapter.notifyDataSetChanged();\n\n        progressBar.setVisibility(View.VISIBLE);\n\n        for (DataSnapshot snapshot : dataSnapshot.getChildren())\n        {\n            Object value = snapshot.getValue();\n            if (value != null)\n            {\n                list.add(new Task(value.toString(), snapshot.getKey()));\n                recyclerViewAdapter.notifyItemInserted(list.size() - 1);\n            }\n        }\n\n        progressBar.setVisibility(View.GONE);\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n    }\n});\n</code></pre>\n"},{"tags":["java","logging","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597848473,"creation_date":1597848473,"answer_id":63489584,"question_id":63489477,"body_markdown":"You need a configuration file in your resources folder with STDOUT appender.\r\n\r\nFor example:\r\n```\r\nlog4j.xml\r\n```\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n \r\n  &lt;root level=&quot;debug&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\nOr in `application.properties` file, eg:\r\n```\r\nlog4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\n```","title":"Java - Slf4j not showing on the console :","body":"<p>You need a configuration file in your resources folder with STDOUT appender.</p>\n<p>For example:</p>\n<pre><code>log4j.xml\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n \n  &lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Or in <code>application.properties</code> file, eg:</p>\n<pre><code>log4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12491957,"reputation":154,"user_id":9093208,"display_name":"Rohit Maurya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597850158,"creation_date":1597850158,"answer_id":63490130,"question_id":63489477,"body_markdown":"You need to add the below line in your XML file inside &lt;configuration&gt;...&lt;/configuration&gt;\r\nref=&quot;CONSOLE&quot; will help to print on console.\r\n          \t\r\n        \t&lt;root&gt;\r\n        \t\t&lt;level value=&quot;INFO&quot; /&gt;\r\n        \t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        \t&lt;/root&gt;\r\n        ","title":"Java - Slf4j not showing on the console :","body":"<p>You need to add the below line in your XML file inside ...\nref=&quot;CONSOLE&quot; will help to print on console.</p>\n<pre><code>        &lt;root&gt;\n            &lt;level value=&quot;INFO&quot; /&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n        &lt;/root&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6271996,"reputation":2560,"user_id":4957620,"accept_rate":88,"display_name":"chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654320747,"creation_date":1654320747,"answer_id":72497336,"question_id":63489477,"body_markdown":"It is not required to have a log4j.xml or logback.xml files for logging configuration.\r\n\r\n**If you are importing Slf4j with Lombok,** **make sure you have the following dependencies in your pom.xml file**:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java - Slf4j not showing on the console :","body":"<p>It is not required to have a log4j.xml or logback.xml files for logging configuration.</p>\n<p><strong>If you are importing Slf4j with Lombok,</strong> <strong>make sure you have the following dependencies in your pom.xml file</strong>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.24&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;1.7.26&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n  &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19322488,"reputation":273,"user_id":14125901,"display_name":"san"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668265295,"creation_date":1597848130,"question_id":63489477,"body_markdown":" I am trying to display this log.info(&quot;String is:&quot;+str1); on the console but it doesn&#39;t show at all, how do I display log.info on the console?\r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class TTD {\r\n\r\n    public ResponseEntity&lt;InputStreamResource&gt; transform() {\r\n\r\n\r\n        try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Jsonb jsonb = JsonbBuilder.create();\r\n\r\n            EcrionIntegration ei = new EcrionIntegration();\r\n            ei.setHelloWord(&quot;Hello Sharon&quot;);\r\n\r\n\r\n            String str1 = mapper.writeValueAsString(ei);\r\n\r\n            log.info(&quot;String is:&quot;+str1);\r\n\r\n        } catch (Exception ex) {\r\n  \r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nThe console is displaying the attached image:\r\n\r\n[The console without the logs][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mwVFy.png","title":"Java - Slf4j not showing on the console :","body":"<p>I am trying to display this log.info(&quot;String is:&quot;+str1); on the console but it doesn't show at all, how do I display log.info on the console?</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class TTD {\n\npublic ResponseEntity&lt;InputStreamResource&gt; transform() {\n\n\n    try {\n        ObjectMapper mapper = new ObjectMapper();\n        Jsonb jsonb = JsonbBuilder.create();\n\n        EcrionIntegration ei = new EcrionIntegration();\n        ei.setHelloWord(&quot;Hello Sharon&quot;);\n\n\n        String str1 = mapper.writeValueAsString(ei);\n\n        log.info(&quot;String is:&quot;+str1);\n\n    } catch (Exception ex) {\n\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n<p>The console is displaying the attached image:</p>\n<p><a href=\"https://i.stack.imgur.com/mwVFy.png\" rel=\"nofollow noreferrer\">The console without the logs</a></p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1668264027,"post_id":74413818,"comment_id":131365475,"body_markdown":"Why not just use a **JSpinner**  or **JSpinField** component instead of a JTextField, Buttons, icons, etc, etc?","body":"Why not just use a <b>JSpinner</b>  or <b>JSpinField</b> component instead of a JTextField, Buttons, icons, etc, etc?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1668264994,"post_id":74413818,"comment_id":131365662,"body_markdown":"Make your variable an &quot;instance&quot; variable, not a &quot;local&quot; variable.","body":"Make your variable an &quot;instance&quot; variable, not a &quot;local&quot; variable."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668264353,"creation_date":1668264353,"answer_id":74413888,"question_id":74413818,"body_markdown":"Your first approach is not far off. There is just a little error in line `pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));`: the `+1` should not be inside `Integer.value(...)` but right after it.\r\nYour current code gets the text, appends the character `1` to the text, and parses the modified text as number. But you need to get the text, parse the text as number, and then add `1` to the parsed number.\r\nIt might help to do each step in a separate line and assign each intermediate result to a local variable instead of doing everything in one statement.\r\n\r\n\r\nStill, the idea from the second approach is the better one. Change your `int counter` from a local variable to a field of your class and it will work.","title":"How can I increase the value in the text field with JButton?","body":"<p>Your first approach is not far off. There is just a little error in line <code>pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));</code>: the <code>+1</code> should not be inside <code>Integer.value(...)</code> but right after it.\nYour current code gets the text, appends the character <code>1</code> to the text, and parses the modified text as number. But you need to get the text, parse the text as number, and then add <code>1</code> to the parsed number.\nIt might help to do each step in a separate line and assign each intermediate result to a local variable instead of doing everything in one statement.</p>\n<p>Still, the idea from the second approach is the better one. Change your <code>int counter</code> from a local variable to a field of your class and it will work.</p>\n"}],"owner":{"account_id":26910433,"reputation":13,"user_id":20486093,"display_name":"Quarinal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413888,"answer_count":1,"score":0,"last_activity_date":1668264535,"creation_date":1668263744,"question_id":74413818,"body_markdown":"I have a school project and I want to do an online shopping cart with Java. It has a frame, 4 different types of clothing with JLabels, one text field that displays 0 in the starting for each of them and two JButtons that have plus and minus icons for each text fields. I want to increase the number which is in the text field with plus button and decrease it with minus button. Also it needs to count how many clothes I want to buy, for calculating the money.\r\n\r\npa = JButton which has a plus sign and need to increase the number of Pants.\r\npt = JTextField which shows us the number of pants.\r\n```\r\npa.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent actionEvent) {\r\n        pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));\r\n    }\r\n});\r\n```\r\nOutput:\r\nPants: 0    (*Press + button once*)    Pants: 1    (*Press + button once*)    Pants: 11\r\n\r\nMy expectation:\r\nPants: 0    (*Press + button once*)    Pants: 1    (*Press + button once*)    Pants: 2 \r\n\r\nAlso, decreasing similarly with - button, but I can&#39;t.\r\n\r\nAlso, I tried this one but it didn&#39;t work:\r\n\r\n```\r\nint counter = 0;\r\npa.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent actionEvent) {\r\n        counter++;\r\n        pt.setText(String.valueOf(counter));\r\n    }\r\n});\r\n```\r\nError: java: local variables referenced from an inner class must be final or effectively final\r\n","title":"How can I increase the value in the text field with JButton?","body":"<p>I have a school project and I want to do an online shopping cart with Java. It has a frame, 4 different types of clothing with JLabels, one text field that displays 0 in the starting for each of them and two JButtons that have plus and minus icons for each text fields. I want to increase the number which is in the text field with plus button and decrease it with minus button. Also it needs to count how many clothes I want to buy, for calculating the money.</p>\n<p>pa = JButton which has a plus sign and need to increase the number of Pants.\npt = JTextField which shows us the number of pants.</p>\n<pre><code>pa.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent actionEvent) {\n        pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));\n    }\n});\n</code></pre>\n<p>Output:\nPants: 0    (<em>Press + button once</em>)    Pants: 1    (<em>Press + button once</em>)    Pants: 11</p>\n<p>My expectation:\nPants: 0    (<em>Press + button once</em>)    Pants: 1    (<em>Press + button once</em>)    Pants: 2</p>\n<p>Also, decreasing similarly with - button, but I can't.</p>\n<p>Also, I tried this one but it didn't work:</p>\n<pre><code>int counter = 0;\npa.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent actionEvent) {\n        counter++;\n        pt.setText(String.valueOf(counter));\n    }\n});\n</code></pre>\n<p>Error: java: local variables referenced from an inner class must be final or effectively final</p>\n"},{"tags":["java","maven","unit-testing","gradle","junit"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668265238,"post_id":74413900,"comment_id":131365718,"body_markdown":"As an aside: I would advice to use [`Arrays.toString(...)` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)).","body":"As an aside: I would advice to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.toString(...)</code> (<code>docs.oracle.com</code>)</a>."},{"owner":{"account_id":26739101,"reputation":1,"user_id":20340181,"display_name":"raj7vasani"},"score":0,"creation_date":1668271556,"post_id":74413900,"comment_id":131367018,"body_markdown":"I was able to solve the Problem. Thank you very much for your help:).","body":"I was able to solve the Problem. Thank you very much for your help:)."}],"owner":{"account_id":26739101,"reputation":1,"user_id":20340181,"display_name":"raj7vasani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668265388,"answer_count":0,"score":0,"last_activity_date":1668264444,"creation_date":1668264444,"question_id":74413900,"body_markdown":"This is the code snippet I have to test. I am not able to figure out how to test the following method which takes an array as a parameter and returns nothing. Is there a function on JUnit which tests this. \r\n```\r\ndefault void print(int[] a) {\r\n   System.out.print(&quot;{&quot;);\r\n   if (a.length &gt; 0) {\r\n      System.out.print(a[0]);\r\n      for (int i = 1; i &lt; a.length; i++) {\r\n         System.out.print(&quot;, &quot; + a[i]);\r\n      }\r\n   }\r\n   System.out.println(&quot;}&quot;);\r\n}\r\n\r\n```\r\n\r\n\r\nIf I put an Array in the expected field it tells me that an int[] output cannot be compared with a void function. This is what I have written. \r\n```\r\n@Test\r\nvoid test() {\r\n   var arr = new Array();\r\n   assertArrayEquals(new int[]{1, 2, 3}, arr.print(new int[]{1, 2, 3}));\r\n\r\n}\r\n```\r\n","title":"How to test a void Method on JUnit 5 which takes Array as an input","body":"<p>This is the code snippet I have to test. I am not able to figure out how to test the following method which takes an array as a parameter and returns nothing. Is there a function on JUnit which tests this.</p>\n<pre><code>default void print(int[] a) {\n   System.out.print(&quot;{&quot;);\n   if (a.length &gt; 0) {\n      System.out.print(a[0]);\n      for (int i = 1; i &lt; a.length; i++) {\n         System.out.print(&quot;, &quot; + a[i]);\n      }\n   }\n   System.out.println(&quot;}&quot;);\n}\n\n</code></pre>\n<p>If I put an Array in the expected field it tells me that an int[] output cannot be compared with a void function. This is what I have written.</p>\n<pre><code>@Test\nvoid test() {\n   var arr = new Array();\n   assertArrayEquals(new int[]{1, 2, 3}, arr.print(new int[]{1, 2, 3}));\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":9122362,"reputation":103,"user_id":6787372,"display_name":"Julia Williams"},"score":0,"creation_date":1633581646,"post_id":66813668,"comment_id":122798916,"body_markdown":"Hello @fohibi, did you get code for showing app icon in share dialog top bar.","body":"Hello @fohibi, did you get code for showing app icon in share dialog top bar."},{"owner":{"account_id":10517980,"reputation":409,"user_id":7751464,"display_name":"venu46"},"score":0,"creation_date":1642665672,"post_id":66813668,"comment_id":125132683,"body_markdown":"HI @fohibi , if you get the solution please let me know , actually i am waiting for this","body":"HI @fohibi , if you get the solution please let me know , actually i am waiting for this"},{"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"score":0,"creation_date":1651164027,"post_id":66813668,"comment_id":127304246,"body_markdown":"@fohibi, Did you get a solution. I have the same issue.","body":"@fohibi, Did you get a solution. I have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668264363,"creation_date":1668264363,"answer_id":74413889,"question_id":66813668,"body_markdown":"Congratulations guys, you waited for this :)\r\n\r\nIn some cases you need to add several Intent filters:\r\n\r\n    &lt;activity\r\n\t\t\tandroid:name=&quot;.activity.FeedActivity&quot;\r\n\t\t\tandroid:exported=&quot;true&quot;\r\n\t\t\tandroid:label=&quot;@string/app_name&quot;\r\n\t\t\t&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t&lt;/activity&gt;\r\n\r\nAnd be sure you add the `android:exported=&quot;true&quot;` tag otherwise you app won&#39;t appear in other share intents.","title":"How to show App icon in ACTION_SEND intent - android","body":"<p>Congratulations guys, you waited for this :)</p>\n<p>In some cases you need to add several Intent filters:</p>\n<pre><code>&lt;activity\n        android:name=&quot;.activity.FeedActivity&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        &gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n    &lt;/activity&gt;\n</code></pre>\n<p>And be sure you add the <code>android:exported=&quot;true&quot;</code> tag otherwise you app won't appear in other share intents.</p>\n"}],"owner":{"account_id":21067528,"reputation":51,"user_id":15484400,"display_name":"fohibi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668264363,"creation_date":1616748651,"question_id":66813668,"body_markdown":"I want the app icon to be shown when sharing my app inside my app. When clicking the Share the App button in my App. It works but instead of my icon, it shows some other icon.\r\nIt shows like Below\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere&#39;s the code I used:\r\n\r\n    Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n    shareIntent.setType(&quot;text/plain&quot;);\r\n    shareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot; Knowledge&quot;);\r\n    String shareMessage= &quot;\\n Download now for free !\\n\\n&quot;;\r\n    shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID +&quot;\\n\\n&quot;;\r\n    shareIntent.putExtra(Intent.EXTRA_TEXT, shareMessage);\r\n    context.startActivity(Intent.createChooser(shareIntent, &quot;choose one&quot;));\r\n\r\n\r\nHow can I set my icon in here? Please help me with some solution\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUNSz.png","title":"How to show App icon in ACTION_SEND intent - android","body":"<p>I want the app icon to be shown when sharing my app inside my app. When clicking the Share the App button in my App. It works but instead of my icon, it shows some other icon.\nIt shows like Below</p>\n<p><a href=\"https://i.stack.imgur.com/VUNSz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUNSz.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the code I used:</p>\n<pre><code>Intent shareIntent = new Intent(Intent.ACTION_SEND);\nshareIntent.setType(&quot;text/plain&quot;);\nshareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot; Knowledge&quot;);\nString shareMessage= &quot;\\n Download now for free !\\n\\n&quot;;\nshareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID +&quot;\\n\\n&quot;;\nshareIntent.putExtra(Intent.EXTRA_TEXT, shareMessage);\ncontext.startActivity(Intent.createChooser(shareIntent, &quot;choose one&quot;));\n</code></pre>\n<p>How can I set my icon in here? Please help me with some solution</p>\n"},{"tags":["java","methods","calculation","pi"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1668264097,"post_id":74413843,"comment_id":131365489,"body_markdown":"The format specifier for floating point numbers (`float` and `double`) is `%f`, not `%d`.","body":"The format specifier for floating point numbers (<code>float</code> and <code>double</code>) is <code>%f</code>, not <code>%d</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1668264678,"post_id":74413843,"comment_id":131365596,"body_markdown":"Cast to **int**: `int calCircumference(int radius) { return (int) (2 * PI * radius); }` and `int calArea(int radius) { return (int) (PI * radius * radius); }`.","body":"Cast to <b>int</b>: <code>int calCircumference(int radius) { return (int) (2 * PI * radius); }</code> and <code>int calArea(int radius) { return (int) (PI * radius * radius); }</code>."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668265584,"post_id":74413843,"comment_id":131365793,"body_markdown":"You can also use `Math.PI` as the value.  Check out the [Math](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html) class for more useful methods and constants.","body":"You can also use <code>Math.PI</code> as the value.  Check out the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">Math</a> class for more useful methods and constants."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668272109,"post_id":74413843,"comment_id":131367122,"body_markdown":"for your `int calCircumference(int radius)` and `int calArea (int radius)`, you should consider if you just want to get the whole number portion of the floating number result. or do you want to round up/down the number. e.g., if the calculated value is 5.678. doing type casting like what @DevilsHnd suggested will result in an integer of 5. you can also use `.intValue()` function which can give you the same outcome. But if you are expecting 5.678 to round to 6 instead of 5, you should use Math.round() in combination with type casting. like this `return (int) Math.round(2 * PI * radius);`","body":"for your <code>int calCircumference(int radius)</code> and <code>int calArea (int radius)</code>, you should consider if you just want to get the whole number portion of the floating number result. or do you want to round up/down the number. e.g., if the calculated value is 5.678. doing type casting like what @DevilsHnd suggested will result in an integer of 5. you can also use <code>.intValue()</code> function which can give you the same outcome. But if you are expecting 5.678 to round to 6 instead of 5, you should use Math.round() in combination with type casting. like this <code>return (int) Math.round(2 * PI * radius);</code>"}],"owner":{"account_id":26910511,"reputation":1,"user_id":20486162,"display_name":"z2214562712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668264026,"creation_date":1668263948,"question_id":74413843,"body_markdown":"I&#39;m a very beginner in programming Java and I need to solve this task. I&#39;ve got a preset and need to implement a method. The method needs to contain the contant PI. \r\nMy task is &quot;The radius is set via the parameter list either in mm (double)\r\nor passed in px(int). The calculated value is returned in the same unit of measurement via the return interface\r\nreturned (with return). If the radius is &lt; 0, the calculation of the perimeter and area is 0&quot;\r\n\r\n```\r\npublic class Methods {\r\n\r\n\t public static final double PI = 3.14159265358979323846;\r\n\r\n\t static double calCircumference(double radius) {\r\n\t return 2 * PI * radius;\r\n}\r\n\r\n\t static double calArea(double radius) {\r\n\t return PI * radius * radius;\r\n}\r\n\r\n\t static int calCircumference(int radius) {\r\n\t return 2 * PI * radius;\r\n}\r\n\r\n\t static int calArea(int radius) {\r\n\t return PI * radius * radius;\r\n}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t{ // Test Calculate Circle double\r\n\t\t    double radius = 5.00;\r\n\t\t    System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\r\n\t\t    radius = -5.00;\r\n\t\t    System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\r\n\t\t}\r\n\t\t{ // Test Calculate Circle int\r\n\t\t    int radius = 5;\r\n\t\t    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\r\n\t\t    radius = -5;\r\n\r\n                    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy output is:\r\n\r\n\r\n```\r\nRadius =        5,00 mm.\r\nCircumference =       31,42 mm.\r\nArea =      78,54 mm.^2\r\nRadius =       -5,00 mm.\r\nCircumference =      -31,42 mm.\r\nArea =      78,54 mm.^2\r\nRadius =           5 px.\r\nCircumference =  Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\r\n\tat java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2689)\r\n\tat java.base/java.io.PrintStream.format(PrintStream.java:1209)\r\n\tat java.base/java.io.PrintStream.printf(PrintStream.java:1105)\r\n\tat Methoden.main(Methoden.java:40)\r\n```\r\n","title":"Java calculating area/circumference of a circle using double and int w/ return","body":"<p>I'm a very beginner in programming Java and I need to solve this task. I've got a preset and need to implement a method. The method needs to contain the contant PI.\nMy task is &quot;The radius is set via the parameter list either in mm (double)\nor passed in px(int). The calculated value is returned in the same unit of measurement via the return interface\nreturned (with return). If the radius is &lt; 0, the calculation of the perimeter and area is 0&quot;</p>\n<pre><code>public class Methods {\n\n     public static final double PI = 3.14159265358979323846;\n\n     static double calCircumference(double radius) {\n     return 2 * PI * radius;\n}\n\n     static double calArea(double radius) {\n     return PI * radius * radius;\n}\n\n     static int calCircumference(int radius) {\n     return 2 * PI * radius;\n}\n\n     static int calArea(int radius) {\n     return PI * radius * radius;\n}\n\n\n    public static void main(String[] args) {\n        { // Test Calculate Circle double\n            double radius = 5.00;\n            System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\n            radius = -5.00;\n            System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\n        }\n        { // Test Calculate Circle int\n            int radius = 5;\n            System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\n            radius = -5;\n\n                    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\n        }\n    }\n}\n</code></pre>\n<p>My output is:</p>\n<pre><code>Radius =        5,00 mm.\nCircumference =       31,42 mm.\nArea =      78,54 mm.^2\nRadius =       -5,00 mm.\nCircumference =      -31,42 mm.\nArea =      78,54 mm.^2\nRadius =           5 px.\nCircumference =  Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\n    at java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\n    at java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\n    at java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\n    at java.base/java.util.Formatter.format(Formatter.java:2689)\n    at java.base/java.io.PrintStream.format(PrintStream.java:1209)\n    at java.base/java.io.PrintStream.printf(PrintStream.java:1105)\n    at Methoden.main(Methoden.java:40)\n</code></pre>\n"},{"tags":["java","spring-boot","hsqldb"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668253050,"post_id":74409956,"comment_id":131363439,"body_markdown":"You could start the DB server from within your Spring Boot App, see end of https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application","body":"You could start the DB server from within your Spring Boot App, see end of <a href=\"https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application\" title=\"how to start hsqldb in server mode from spring boot application\">stackoverflow.com/questions/40114231/&hellip;</a>"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668257086,"post_id":74409956,"comment_id":131364142,"body_markdown":"First or second answer?","body":"First or second answer?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668257510,"post_id":74409956,"comment_id":131364214,"body_markdown":"second/last one","body":"second/last one"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668259345,"post_id":74409956,"comment_id":131364576,"body_markdown":"unfortunatle doesnt work for me... ;/","body":"unfortunatle doesnt work for me... ;/"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668260326,"post_id":74409956,"comment_id":131364765,"body_markdown":"Not adoptable or technical error?","body":"Not adoptable or technical error?"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668260986,"post_id":74409956,"comment_id":131364886,"body_markdown":"I copied the first answer and I have errors.","body":"I copied the first answer and I have errors."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1668278388,"post_id":74409956,"comment_id":131368416,"body_markdown":"This issue can be solved using Docker. Let me know if you are interested to use Docker.","body":"This issue can be solved using Docker. Let me know if you are interested to use Docker."},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668292115,"post_id":74409956,"comment_id":131371026,"body_markdown":"If it&#39;s easy to make with Docker, of course we can do it. But I didnt use docker before, so that will be my first time.","body":"If it&#39;s easy to make with Docker, of course we can do it. But I didnt use docker before, so that will be my first time."}],"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668263049,"creation_date":1668220092,"question_id":74409956,"body_markdown":"I decited to build a spring boot app using javafx. And I want to have a &quot;light&quot; database. I selected a HSQL database. The problem is when I run my database in powershell\r\n\r\n&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX\r\n\r\nthen my database is turn on and my spring app works fine. But when I dont turn on my database by that script, it won&#39;t work. Can I somehow execute that script before a springboot app start? And what is the best/the easiest way.\r\n\r\nMaybe some can help you:\r\n1.Command in Powershell:\r\n\r\n    PS C:\\Users\\knapi\\IdeaProjects\\demo1\\myAppSpring\\database&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX [Server@76707e36]: Startup sequence initiated from main() method [Server@76707e36]: Could not load properties from file [Server@76707e36]: Using cli/default properties only [Server@76707e36]: Initiating startup sequence... [Server@76707e36]: Server socket opened successfully in 4 ms. [Server@76707e36]: Database [index=0, id=0, db=file:bazaX, alias=] opened successfully in 233 ms. [Server@76707e36]: Startup sequence completed in 274 ms. [Server@76707e36]: 2022-11-12 13:52:01.856 HSQLDB server 2.6.1 is online on port 9001 [Server@76707e36]: To close normally, connect and execute SHUTDOWN SQL [Server@76707e36]: From command line, use [Ctrl]+[C] to abort abruptly\r\n\r\n\r\nmy hsqlConfigFile.xml:\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\r\n            &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\r\n                &lt;constructor-arg&gt;&lt;props&gt;\r\n                    &lt;prop key=&quot;server.database.0&quot;&gt;file:bazaX&lt;/prop&gt;\r\n                    &lt;prop key=&quot;server.dbname.0&quot;&gt;bazaX&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\r\n                    &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\r\n                &lt;/props&gt;&lt;/constructor-arg&gt;\r\n            &lt;/bean&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n```\r\nmy main file:\r\n\r\n```java\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.ImportResource;\r\n    import org.springframework.context.event.ContextRefreshedEvent;\r\n    import org.springframework.context.event.EventListener;\r\n    \r\n    @SpringBootApplication\r\n    @ImportResource(value=&quot;classpath:/hsqlConfigFile.xml&quot;)\r\n    public class MyAppSpringApplication extends Application {\r\n    \r\n        private ConfigurableApplicationContext springContext;\r\n        private FXMLLoader fxmlLoader;\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            fxmlLoader.setLocation(getClass().getResource(&quot;/sample.fxml&quot;));\r\n            Parent root = fxmlLoader.load();\r\n            stage.setTitle(&quot;Sample app&quot;);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() throws Exception {\r\n            springContext.stop();\r\n        }\r\n    \r\n        @Override\r\n        public void init() throws Exception {\r\n            springContext = SpringApplication.run(MyAppSpringApplication.class);\r\n            fxmlLoader = new FXMLLoader();\r\n            fxmlLoader.setControllerFactory(springContext::getBean);\r\n        }\r\n    }\r\n```\r\n\r\nAnd erros are in files.\r\nhttps://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link\r\n\r\n","title":"How to turn on a hsql before spring boot app start?","body":"<p>I decited to build a spring boot app using javafx. And I want to have a &quot;light&quot; database. I selected a HSQL database. The problem is when I run my database in powershell</p>\n<blockquote>\n<p>java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX</p>\n</blockquote>\n<p>then my database is turn on and my spring app works fine. But when I dont turn on my database by that script, it won't work. Can I somehow execute that script before a springboot app start? And what is the best/the easiest way.</p>\n<p>Maybe some can help you:\n1.Command in Powershell:</p>\n<pre><code>PS C:\\Users\\knapi\\IdeaProjects\\demo1\\myAppSpring\\database&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX [Server@76707e36]: Startup sequence initiated from main() method [Server@76707e36]: Could not load properties from file [Server@76707e36]: Using cli/default properties only [Server@76707e36]: Initiating startup sequence... [Server@76707e36]: Server socket opened successfully in 4 ms. [Server@76707e36]: Database [index=0, id=0, db=file:bazaX, alias=] opened successfully in 233 ms. [Server@76707e36]: Startup sequence completed in 274 ms. [Server@76707e36]: 2022-11-12 13:52:01.856 HSQLDB server 2.6.1 is online on port 9001 [Server@76707e36]: To close normally, connect and execute SHUTDOWN SQL [Server@76707e36]: From command line, use [Ctrl]+[C] to abort abruptly\n</code></pre>\n<p>my hsqlConfigFile.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n        &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\n            &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\n                &lt;constructor-arg&gt;&lt;props&gt;\n                    &lt;prop key=&quot;server.database.0&quot;&gt;file:bazaX&lt;/prop&gt;\n                    &lt;prop key=&quot;server.dbname.0&quot;&gt;bazaX&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\n                    &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\n                    &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\n                &lt;/props&gt;&lt;/constructor-arg&gt;\n            &lt;/bean&gt;&lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n<p>my main file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import javafx.application.Application;\n    import javafx.fxml.FXMLLoader;\n    import javafx.scene.Parent;\n    import javafx.scene.Scene;\n    import javafx.stage.Stage;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\n    import org.springframework.context.ConfigurableApplicationContext;\n    import org.springframework.context.annotation.ImportResource;\n    import org.springframework.context.event.ContextRefreshedEvent;\n    import org.springframework.context.event.EventListener;\n    \n    @SpringBootApplication\n    @ImportResource(value=&quot;classpath:/hsqlConfigFile.xml&quot;)\n    public class MyAppSpringApplication extends Application {\n    \n        private ConfigurableApplicationContext springContext;\n        private FXMLLoader fxmlLoader;\n    \n        public static void main(String[] args) {\n            Application.launch(args);\n        }\n    \n        @Override\n        public void start(Stage stage) throws Exception {\n            fxmlLoader.setLocation(getClass().getResource(&quot;/sample.fxml&quot;));\n            Parent root = fxmlLoader.load();\n            stage.setTitle(&quot;Sample app&quot;);\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }\n    \n        @Override\n        public void stop() throws Exception {\n            springContext.stop();\n        }\n    \n        @Override\n        public void init() throws Exception {\n            springContext = SpringApplication.run(MyAppSpringApplication.class);\n            fxmlLoader = new FXMLLoader();\n            fxmlLoader.setControllerFactory(springContext::getBean);\n        }\n    }\n</code></pre>\n<p>And erros are in files.\n<a href=\"https://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link</a></p>\n"},{"tags":["java","android","kotlin","admob"],"comments":[{"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"score":0,"creation_date":1655573907,"post_id":71455403,"comment_id":128366091,"body_markdown":"did you found a fix","body":"did you found a fix"},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1655621555,"post_id":71455403,"comment_id":128371962,"body_markdown":"no, not yet. and the issue still exists in my project.","body":"no, not yet. and the issue still exists in my project."},{"owner":{"account_id":25417380,"reputation":526,"user_id":19224040,"display_name":"Rob"},"score":0,"creation_date":1668571441,"post_id":71455403,"comment_id":131435642,"body_markdown":"It would be helpful to share how you init AdMob. I use AdMob and I have not seen this problem before.","body":"It would be helpful to share how you init AdMob. I use AdMob and I have not seen this problem before."},{"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1668634274,"post_id":71455403,"comment_id":131456454,"body_markdown":"@Rob I just call MobileAds.intialize in the application class. it is weird that it only happens on android 11.","body":"@Rob I just call MobileAds.intialize in the application class. it is weird that it only happens on android 11."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1668762760,"post_id":71455403,"comment_id":131489963,"body_markdown":"can you share your gradle and Manifest file?","body":"can you share your gradle and Manifest file?"}],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1668262796,"creation_date":1647163418,"question_id":71455403,"body_markdown":"I am initilizing AdMob in application class. for some devices with android 11 a crash occurs. \r\nrelated logs:\r\n\r\n```\r\njava.lang.SecurityException: Package android does not belong to 10275\r\n```\r\n\r\n```\r\nRemote stack trace:\r\n\tat android.app.AppOpsManager.checkPackage(AppOpsManager.java:7794)\r\n\tat com.android.server.ConnectivityService.ensureSufficientPermissionsForRequest(ConnectivityService.java:5672)\r\n\tat com.android.server.ConnectivityService.requestNetwork(ConnectivityService.java:5767)\r\n\tat android.net.IConnectivityManager$Stub.onTransact(IConnectivityManager.java:1570)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1154)\r\n```\r\n\r\nI was not able to reproduce the crash and I was wondering if anyone else encountered this issue.","title":"crash on initialization of AdMob, occuring on android 11 devices","body":"<p>I am initilizing AdMob in application class. for some devices with android 11 a crash occurs.\nrelated logs:</p>\n<pre><code>java.lang.SecurityException: Package android does not belong to 10275\n</code></pre>\n<pre><code>Remote stack trace:\n    at android.app.AppOpsManager.checkPackage(AppOpsManager.java:7794)\n    at com.android.server.ConnectivityService.ensureSufficientPermissionsForRequest(ConnectivityService.java:5672)\n    at com.android.server.ConnectivityService.requestNetwork(ConnectivityService.java:5767)\n    at android.net.IConnectivityManager$Stub.onTransact(IConnectivityManager.java:1570)\n    at android.os.Binder.execTransactInternal(Binder.java:1154)\n</code></pre>\n<p>I was not able to reproduce the crash and I was wondering if anyone else encountered this issue.</p>\n"},{"tags":["java","build","maven-3","pom.xml"],"owner":{"account_id":26157996,"reputation":1,"user_id":19844985,"display_name":"cong zhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668324299,"answer_count":0,"score":-3,"last_activity_date":1668262560,"creation_date":1668262560,"question_id":74413680,"body_markdown":"i defined the dependency version in pom (such as 2.7.1),but the downloaded package version was 2.5.2!\r\n\r\nsomebody who can give me some advise to fix the problem?","title":"The version downloaded by the MAVEN is inconsistent with that defined in the POM","body":"<p>i defined the dependency version in pom (such as 2.7.1),but the downloaded package version was 2.5.2!</p>\n<p>somebody who can give me some advise to fix the problem?</p>\n"},{"tags":["java","macos","java-8","homebrew"],"comments":[{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1640786355,"post_id":70475814,"comment_id":124658331,"body_markdown":"I faced the same problem. I install the arm64 OpenJDK from binary dmg, but it is not the decision.","body":"I faced the same problem. I install the arm64 OpenJDK from binary dmg, but it is not the decision."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640938108,"post_id":70475814,"comment_id":124694261,"body_markdown":"Try installing everything manually, outside of homebrew","body":"Try installing everything manually, outside of homebrew"},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1640968356,"post_id":70475814,"comment_id":124701352,"body_markdown":"Thank you @OneCricketeer for your suggestion. I downloaded from below site &quot;https://downloads.apache.org/hive/stable-2/&quot;. After downloading, when I click hive cmd file from bin folder it gave me below text..\n\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n\n[Process completed]","body":"Thank you @OneCricketeer for your suggestion. I downloaded from below site &quot;<a href=\"https://downloads.apache.org/hive/stable-2/\" rel=\"nofollow noreferrer\">downloads.apache.org/hive/stable-2</a>&quot;. After downloading, when I click hive cmd file from bin folder it gave me below text..  Saving session... ...copying shared history... ...saving history...truncating history files... ...completed.  [Process completed]"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640969593,"post_id":70475814,"comment_id":124701620,"body_markdown":"Not sure what you ran... cmd files are for windows, not Mac, and you don&#39;t &quot;click&quot; on any of the executables because most of them accept arguments from the CLI","body":"Not sure what you ran... cmd files are for windows, not Mac, and you don&#39;t &quot;click&quot; on any of the executables because most of them accept arguments from the CLI"},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1641091201,"post_id":70475814,"comment_id":124718792,"body_markdown":"It is Unix Executable File. \nCan you help me how to install hive outside of homebrew. I have been trying since a week and I ain&#39;t getting any source.  \nMuch appreciated in advance.","body":"It is Unix Executable File.  Can you help me how to install hive outside of homebrew. I have been trying since a week and I ain&#39;t getting any source.   Much appreciated in advance."},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1641091426,"post_id":70475814,"comment_id":124718819,"body_markdown":"@GlebYan - Installing arm64 OpenJDK solved the issue? I mean are you able to install Hive, Sqoop everything? Basically we need a solution to bypass or override &quot;Error: openjdk@8: no bottle available!&quot; error.","body":"@GlebYan - Installing arm64 OpenJDK solved the issue? I mean are you able to install Hive, Sqoop everything? Basically we need a solution to bypass or override &quot;Error: openjdk@8: no bottle available!&quot; error."},{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1641995215,"post_id":70475814,"comment_id":124954010,"body_markdown":"@SainathBysani nope, it&#39;s the wrong way. You should install another `homebrew` copy and launch it with `arch -x86_64` as I described in answer to the topic question.","body":"@SainathBysani nope, it&#39;s the wrong way. You should install another <code>homebrew</code> copy and launch it with <code>arch -x86_64</code> as I described in answer to the topic question."}],"answers":[{"tags":[],"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641405207,"creation_date":1641405207,"answer_id":70597422,"question_id":70475814,"body_markdown":"Finally, I found a solution. First, We need to install Homebrew with Rosetta under /usr/local and then we can try installing everything the same way.\r\n","title":"openjdk@8: no bottle available","body":"<p>Finally, I found a solution. First, We need to install Homebrew with Rosetta under /usr/local and then we can try installing everything the same way.</p>\n"},{"tags":[],"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641994325,"creation_date":1641994325,"answer_id":70682446,"question_id":70475814,"body_markdown":"Apple silicone M1 and similar processors have the `ARMv8.4` architecture and `rosetta2` to launch native amd64 binaries on the arm64 processor. So apple silicone may launch nearly any app compiled for the Intel platform (there is some exception, for example, the older version of PostgreSQL won&#39;t be launched by rosetta2). \r\n\r\nBy default, `homebrew` detects the platform that is installed and tries to find the bottle that is appropriate for arm64. In some cases, there is no bottle for some applications (for example, you can&#39;t install `openjdk@8` on arm64 because there is no bottle). But you can install, for example, oracle JDK because there is the bottle for arm64 (but it will install amd64 binaries). It is a pretty confusing situation, isn&#39;t it? \r\n\r\nThe decision is to install the second copy of homebrew into the `/usr/local/homebrew` directory and launch it in compatibility mode with the command `arch -x86_64`. You won&#39;t start the original `homebrew` with this command because it will lid to mix arm64 and amd64 binaries (and what you will do, if you need the same library for both platforms? libpq as an example).\r\n\r\nSo there is the step-by-step guide:\r\n\r\n 1. Download homebrew `curl -L\r\n    https://github.com/Homebrew/brew/tarball/master --output homebrew.tar`\r\n2. Extract tarball to `/usr/local/homebrew` \r\n3. chown -R to     allow start apps from this folder \r\n4. Add aliases to your ~/.zshrc file\r\n\r\n&gt;     # If you come from bash you might have to change your $PATH.\r\n&gt;     # need this for x86_64 brew\r\n&gt;     export PATH=$HOME/bin:/usr/local/bin:$PATH\r\n&gt;     # for intel x86_64 brew\r\n&gt;     alias axbrew=&#39;arch -x86_64 /usr/local/homebrew/bin/brew&#39;\r\n5. Now start new console and launch installation, for example `axbrew install openjdk@8`\r\n\r\nInstall other Intel binaries you need the same way. Remember that it will be installed into the `/usr/local/homebrew/` directory - fill free to create a symlink if you wanna use it something else. \r\nThe slight disadvantage - the `java_version` tool won&#39;t see the OpenJDK in `/user/local directory`, but symlink to `/Library/Java/JavaVirtualMachines/` will solve this problem. ","title":"openjdk@8: no bottle available","body":"<p>Apple silicone M1 and similar processors have the <code>ARMv8.4</code> architecture and <code>rosetta2</code> to launch native amd64 binaries on the arm64 processor. So apple silicone may launch nearly any app compiled for the Intel platform (there is some exception, for example, the older version of PostgreSQL won't be launched by rosetta2).</p>\n<p>By default, <code>homebrew</code> detects the platform that is installed and tries to find the bottle that is appropriate for arm64. In some cases, there is no bottle for some applications (for example, you can't install <code>openjdk@8</code> on arm64 because there is no bottle). But you can install, for example, oracle JDK because there is the bottle for arm64 (but it will install amd64 binaries). It is a pretty confusing situation, isn't it?</p>\n<p>The decision is to install the second copy of homebrew into the <code>/usr/local/homebrew</code> directory and launch it in compatibility mode with the command <code>arch -x86_64</code>. You won't start the original <code>homebrew</code> with this command because it will lid to mix arm64 and amd64 binaries (and what you will do, if you need the same library for both platforms? libpq as an example).</p>\n<p>So there is the step-by-step guide:</p>\n<ol>\n<li>Download homebrew <code>curl -L https://github.com/Homebrew/brew/tarball/master --output homebrew.tar</code></li>\n<li>Extract tarball to <code>/usr/local/homebrew</code></li>\n<li>chown -R to     allow start apps from this folder</li>\n<li>Add aliases to your ~/.zshrc file</li>\n</ol>\n<blockquote>\n<pre><code># If you come from bash you might have to change your $PATH.\n# need this for x86_64 brew\nexport PATH=$HOME/bin:/usr/local/bin:$PATH\n# for intel x86_64 brew\nalias axbrew='arch -x86_64 /usr/local/homebrew/bin/brew'\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>Now start new console and launch installation, for example <code>axbrew install openjdk@8</code></li>\n</ol>\n<p>Install other Intel binaries you need the same way. Remember that it will be installed into the <code>/usr/local/homebrew/</code> directory - fill free to create a symlink if you wanna use it something else.\nThe slight disadvantage - the <code>java_version</code> tool won't see the OpenJDK in <code>/user/local directory</code>, but symlink to <code>/Library/Java/JavaVirtualMachines/</code> will solve this problem.</p>\n"},{"tags":[],"owner":{"account_id":12800181,"reputation":365,"user_id":9261745,"display_name":"Youshikyou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642785187,"creation_date":1642785187,"answer_id":70805107,"question_id":70475814,"body_markdown":"Combine Gleb Yan&#39;s answer and another website&#39;s solution [https://github.com/Homebrew/discussions/discussions/2723][1]. What I do is \r\n\r\n    arch -x86_64 /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\r\n\r\nThen run \r\n \r\n\r\n    arch -x86_64 /usr/local/homebrew/bin/brew install openjdk@8\r\n\r\n\r\nThen \r\n\r\n    arch -x86_64 /usr/local/homebrew/bin/brew install hive\r\n\r\nReminder two separate Homebrew hierarchies on your machine, an Intel-only one under /usr/local, and an M1-only one under /opt/homebrew\r\n\r\n  [1]: https://github.com/Homebrew/discussions/discussions/2723","title":"openjdk@8: no bottle available","body":"<p>Combine Gleb Yan's answer and another website's solution <a href=\"https://github.com/Homebrew/discussions/discussions/2723\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/discussions/discussions/2723</a>. What I do is</p>\n<pre><code>arch -x86_64 /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\n</code></pre>\n<p>Then run</p>\n<pre><code>arch -x86_64 /usr/local/homebrew/bin/brew install openjdk@8\n</code></pre>\n<p>Then</p>\n<pre><code>arch -x86_64 /usr/local/homebrew/bin/brew install hive\n</code></pre>\n<p>Reminder two separate Homebrew hierarchies on your machine, an Intel-only one under /usr/local, and an M1-only one under /opt/homebrew</p>\n"}],"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668262469,"creation_date":1640371579,"question_id":70475814,"body_markdown":"When I tried to install Hive through homebrew it throws below error:\r\n\r\n    homebrew install hive\r\n    Error: openjdk@8: no bottle available!\r\n\r\nHas anyone solved this issue?\r\nI did a bit of research in google and someone said &quot;this is because the M1 chip needs it&#39;s own special version of OpenJDK &quot;. \r\n\r\n","title":"openjdk@8: no bottle available","body":"<p>When I tried to install Hive through homebrew it throws below error:</p>\n<pre><code>homebrew install hive\nError: openjdk@8: no bottle available!\n</code></pre>\n<p>Has anyone solved this issue?\nI did a bit of research in google and someone said &quot;this is because the M1 chip needs it's own special version of OpenJDK &quot;.</p>\n"},{"tags":["java","selenium","selenium-webdriver","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1668260331,"post_id":74413394,"comment_id":131364766,"body_markdown":"Most likely you have mix of conflicting dependencies in your pom.xml","body":"Most likely you have mix of conflicting dependencies in your pom.xml"},{"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"score":0,"creation_date":1668260713,"post_id":74413394,"comment_id":131364833,"body_markdown":"I have added these dependency&lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;","body":"I have added these dependency&lt;dependency&gt;       &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;       &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;       &lt;version&gt;4.1.1&lt;/version&gt;   &lt;/dependency&gt; &lt;dependency&gt;           &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;           &lt;artifactId&gt;json-path&lt;/artifactId&gt;           &lt;version&gt;4.3.3&lt;/version&gt;           &lt;scope&gt;test&lt;/scope&gt;         &lt;/dependency&gt;         &lt;dependency&gt;           &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;           &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;           &lt;version&gt;4.3.3&lt;/version&gt;           &lt;scope&gt;test&lt;/scope&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1668260781,"post_id":74413394,"comment_id":131364844,"body_markdown":"Add the pom to your question not as unreadable comment","body":"Add the pom to your question not as unreadable comment"}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668261844,"creation_date":1668261844,"answer_id":74413585,"question_id":74413394,"body_markdown":"Add this dependency and remove all other rest assured dependencies.\r\njson-path is already included in rest-assured dependency.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf you need schema validator you can add:\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nMake sure you have JDK/JAVA_HOME env variable properly installed. The abouve depedencies should work with JDK 8+","title":"Getting an error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache","body":"<p>Add this dependency and remove all other rest assured dependencies.\njson-path is already included in rest-assured dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you need schema validator you can add:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Make sure you have JDK/JAVA_HOME env variable properly installed. The abouve depedencies should work with JDK 8+</p>\n"}],"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74413585,"answer_count":1,"score":-1,"last_activity_date":1668261844,"creation_date":1668260277,"question_id":74413394,"body_markdown":"getting an error while executing the Rest Assured program\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n\tat org.codehaus.groovy.runtime.dgmimpl.NumberNumberMetaMethod.&lt;clinit&gt;(NumberNumberMetaMethod.java:33)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n```\r\n\r\n```\r\nResponse response = RestAssured.get(&quot;https://reqres.in/api/users/2&quot;);\r\nAssert.assertEquals(response.getStatusCode(), 200);\r\n```\r\nCode\r\n[Maven Dependency][1]\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iq4Tv.png","title":"Getting an error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache","body":"<p>getting an error while executing the Rest Assured program</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\n    at org.codehaus.groovy.runtime.dgmimpl.NumberNumberMetaMethod.&lt;clinit&gt;(NumberNumberMetaMethod.java:33)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n</code></pre>\n<pre><code>Response response = RestAssured.get(&quot;https://reqres.in/api/users/2&quot;);\nAssert.assertEquals(response.getStatusCode(), 200);\n</code></pre>\n<p>Code\n<a href=\"https://i.stack.imgur.com/Iq4Tv.png\" rel=\"nofollow noreferrer\">Maven Dependency</a></p>\n"},{"tags":["java","arrays","list","difference"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668260815,"post_id":74413458,"comment_id":131364852,"body_markdown":"Read the java doc","body":"Read the java doc"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668260932,"post_id":74413458,"comment_id":131364872,"body_markdown":"The [javadoc on `Deque` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html) to be exact.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">javadoc on <code>Deque</code> (<code>docs.oracle.com</code>)</a> to be exact."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668261054,"post_id":74413458,"comment_id":131364901,"body_markdown":"`List&lt;Integer&gt;::remove(int x)` *is* somewhat tricky, though! ;(https://stackoverflow.com/q/4534146/592355, https://stackoverflow.com/q/21795376/592355)","body":"<code>List&lt;Integer&gt;::remove(int x)</code> <i>is</i> somewhat tricky, though! ;(<a href=\"https://stackoverflow.com/q/4534146/592355\">stackoverflow.com/q/4534146/592355</a>, <a href=\"https://stackoverflow.com/q/21795376/592355\">stackoverflow.com/q/21795376/592355</a>)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668261136,"post_id":74413458,"comment_id":131364916,"body_markdown":"`list.remove(int n)` will remove the `n`th element. `list.remove(Integer x)` will remove the first occurrence of element with value `x` from the list.","body":"<code>list.remove(int n)</code> will remove the <code>n</code>th element. <code>list.remove(Integer x)</code> will remove the first occurrence of element with value <code>x</code> from the list."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668261650,"creation_date":1668261650,"answer_id":74413565,"question_id":74413458,"body_markdown":"Technically, `LinkedList` has three `remove` methods. They have the same name, but differ in their parameter lists. Having several methods by the same name, but different parameter lists, is called &quot;overloading&quot;.\r\n\r\nSo, to answer your question: There is no difference between `pop()` and `remove()`, but there is a difference between `pop()` and `remove(int index)`.\r\n\r\nThis is possible, because `remove()` and `remove(int index)` are two different methods. (Technically, `remove()` and `remove(int index)` could do totally different things. But that would be very bad practice, because any sensible person expects two methods that share the same name to do similar things.)\r\n\r\nThe [Java API documentation for LinkedList](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html) lists all available methods and explains their behavior.","title":"The real differences between pop(), remove() and poll() in LinkedList&lt;E&gt;","body":"<p>Technically, <code>LinkedList</code> has three <code>remove</code> methods. They have the same name, but differ in their parameter lists. Having several methods by the same name, but different parameter lists, is called &quot;overloading&quot;.</p>\n<p>So, to answer your question: There is no difference between <code>pop()</code> and <code>remove()</code>, but there is a difference between <code>pop()</code> and <code>remove(int index)</code>.</p>\n<p>This is possible, because <code>remove()</code> and <code>remove(int index)</code> are two different methods. (Technically, <code>remove()</code> and <code>remove(int index)</code> could do totally different things. But that would be very bad practice, because any sensible person expects two methods that share the same name to do similar things.)</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">Java API documentation for LinkedList</a> lists all available methods and explains their behavior.</p>\n"}],"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74413565,"answer_count":1,"score":0,"last_activity_date":1668261650,"creation_date":1668260708,"question_id":74413458,"body_markdown":"I&#39;ve tried to find some information about differences between pop(), poll() and remove() in LinkedList&lt;E&gt; but unfortunately I didn&#39;t find out any precision answer. The only information I have got was that:\r\n\r\n-pop() removes first element of the list and throws exception if the list is empty\r\n-remove() works the same as pop()\r\n-poll() removes first element of the list but if the list is empty return null\r\n\r\nAnd here&#39;s my question. Is it true that remove() and pop() have one small difference that I can add an Index to remove method? For example list.remove(3). I see that it is impossible to do with pop()\r\n\r\n`````\r\nLinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n\r\nlist.push(1);\r\nlist.push(2);\r\nlist.push(3);\r\nlist.push(4);\r\nlist.push(5);\r\n```\r\nlist.pop(); //Output: 4, 3, 2, 1\r\n//or\r\nlist.poll(); //Output: 4, 3, 2, 1\r\n//or\r\nlist.remove(3); //Output: 5, 4, 3, 1","title":"The real differences between pop(), remove() and poll() in LinkedList&lt;E&gt;","body":"<p>I've tried to find some information about differences between pop(), poll() and remove() in LinkedList but unfortunately I didn't find out any precision answer. The only information I have got was that:</p>\n<p>-pop() removes first element of the list and throws exception if the list is empty\n-remove() works the same as pop()\n-poll() removes first element of the list but if the list is empty return null</p>\n<p>And here's my question. Is it true that remove() and pop() have one small difference that I can add an Index to remove method? For example list.remove(3). I see that it is impossible to do with pop()</p>\n<pre><code>LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n\nlist.push(1);\nlist.push(2);\nlist.push(3);\nlist.push(4);\nlist.push(5);\n```\nlist.pop(); //Output: 4, 3, 2, 1\n//or\nlist.poll(); //Output: 4, 3, 2, 1\n//or\nlist.remove(3); //Output: 5, 4, 3, 1\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668260990,"creation_date":1668260990,"question_id":74413492,"body_markdown":"I have two gradle projects:\r\n\r\n - core project (Built `jar` file for this)\r\n - client project (This uses the core project)\r\n\r\nFor the client project, I added the jar file dependency (`local jar file`) in `build.gradle` like below:\r\n\r\n```\r\n\timplementation files(&#39;/core-service/build/libs/food-app-service-0.0.1-SNAPSHOT.jar&#39;)\r\n\r\n```\r\n\r\nI can see that core project dependencies are resolving in the client project:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut, when I add it in the client project, I get errors like this:\r\n[![enter image description here][2]][2]\r\n\r\nIt is not properly detecting the package/package structure. \r\n\r\nI&#39;m not sure whats going wrong here. Is there anything I need to add in `build.gradle` or `settings.gradle` ?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9SwL.png\r\n  [2]: https://i.stack.imgur.com/ydh12.png","title":"Gradle unable to resolve the package from external dependencies","body":"<p>I have two gradle projects:</p>\n<ul>\n<li>core project (Built <code>jar</code> file for this)</li>\n<li>client project (This uses the core project)</li>\n</ul>\n<p>For the client project, I added the jar file dependency (<code>local jar file</code>) in <code>build.gradle</code> like below:</p>\n<pre><code>    implementation files('/core-service/build/libs/food-app-service-0.0.1-SNAPSHOT.jar')\n\n</code></pre>\n<p>I can see that core project dependencies are resolving in the client project:\n<a href=\"https://i.stack.imgur.com/R9SwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9SwL.png\" alt=\"enter image description here\" /></a></p>\n<p>But, when I add it in the client project, I get errors like this:\n<a href=\"https://i.stack.imgur.com/ydh12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydh12.png\" alt=\"enter image description here\" /></a></p>\n<p>It is not properly detecting the package/package structure.</p>\n<p>I'm not sure whats going wrong here. Is there anything I need to add in <code>build.gradle</code> or <code>settings.gradle</code> ?</p>\n"},{"tags":["java","spring","maven","querydsl"],"comments":[{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458310471,"post_id":36086193,"comment_id":59817694,"body_markdown":"too less information ... sorry","body":"too less information ... sorry"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458310666,"post_id":36086193,"comment_id":59817841,"body_markdown":"So, here is my pom.xml  https://github.com/TheNakedMan/remindme.server/blob/master/pom.xml    What kind of information do you need?","body":"So, here is my pom.xml  <a href=\"https://github.com/TheNakedMan/remindme.server/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/TheNakedMan/remindme.server/blob/master/pom.xml</a>    What kind of information do you need?"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458310923,"post_id":36086193,"comment_id":59818029,"body_markdown":"what type of error, log messages, minimal example ... see http://stackoverflow.com/help/how-to-ask","body":"what type of error, log messages, minimal example ... see <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458311355,"post_id":36086193,"comment_id":59818317,"body_markdown":"Ok, Log message was added.","body":"Ok, Log message was added."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458315298,"post_id":36086193,"comment_id":59821116,"body_markdown":"remove this dependency from your pom com.qoobico.remindme.server ?!","body":"remove this dependency from your pom com.qoobico.remindme.server ?!"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458315391,"post_id":36086193,"comment_id":59821175,"body_markdown":"or if this is a valid dependency ... run mvn install in that project... after that it is installed in your local repository and you should be able to build this project","body":"or if this is a valid dependency ... run mvn install in that project... after that it is installed in your local repository and you should be able to build this project"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316247,"post_id":36086193,"comment_id":59821818,"body_markdown":"Thanks! After deleting the wrong dependency and command mvn install, class QUser was install!","body":"Thanks! After deleting the wrong dependency and command mvn install, class QUser was install!"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316289,"post_id":36086193,"comment_id":59821841,"body_markdown":"But during the install I&#39;ve got this:  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on project com.qoobico.remindme.server: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt;","body":"But during the install I&#39;ve got this:  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on project com.qoobico.remindme.server: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt;"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316356,"post_id":36086193,"comment_id":59821886,"body_markdown":"I, perhaps that will not be problem for using QueryDsl...","body":"I, perhaps that will not be problem for using QueryDsl..."},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458317864,"post_id":36086193,"comment_id":59822945,"body_markdown":"@Meiko, Please, add  command run mvn  to your answer, and I will mark answer as useful. Because, there a lot of noobs like me, that will not find this command in QueryDSL plugin instruction.","body":"@Meiko, Please, add  command run mvn  to your answer, and I will mark answer as useful. Because, there a lot of noobs like me, that will not find this command in QueryDSL plugin instruction."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458327973,"post_id":36086193,"comment_id":59829081,"body_markdown":"Yes you are right, It is not documented. I edited my Post!","body":"Yes you are right, It is not documented. I edited my Post!"}],"answers":[{"tags":[],"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1458329802,"creation_date":1458312933,"answer_id":36087555,"question_id":36086193,"body_markdown":"In your sources you did not import the generated classes, for instance:\r\n\r\n    import com.qoobico.remindme.server.entity.QUser;\r\n\r\nIf you want to generate the classes without compile and/or install the package use the [maven goal][1] `apt:process`. \r\n\r\nYou can use IntelliJ to start such a maven goal, use the [Maven Projects window][2]. The window will show you all available goals. \r\n\r\nOn the commandline you could use the `mvn` cli, which can be downloaded [here][3]. \r\nHint: the command from the [help plugin][4] `mvn help:describe -Dplugin=com.mysema.maven:apt-maven-plugin` will show you a list of all available apt-maven-plugin goals.\r\n\r\nYou configured the outputDirectory to: `target/generated-sources/java`\r\nTo let your IDE find that classes, put them into your class path. Some IDEs like IntelliJ will do this automatically for maven projects, because that folder is the default.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\r\n  [2]: https://www.jetbrains.com/help/idea/2016.1/maven-projects-tool-window.html?origin=old_help\r\n  [3]: https://maven.apache.org/download.cgi\r\n  [4]: https://maven.apache.org/plugins/maven-help-plugin/describe-mojo.html","title":"QueryDsl error. Q classes not generated","body":"<p>In your sources you did not import the generated classes, for instance:</p>\n\n<pre><code>import com.qoobico.remindme.server.entity.QUser;\n</code></pre>\n\n<p>If you want to generate the classes without compile and/or install the package use the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">maven goal</a> <code>apt:process</code>. </p>\n\n<p>You can use IntelliJ to start such a maven goal, use the <a href=\"https://www.jetbrains.com/help/idea/2016.1/maven-projects-tool-window.html?origin=old_help\" rel=\"noreferrer\">Maven Projects window</a>. The window will show you all available goals. </p>\n\n<p>On the commandline you could use the <code>mvn</code> cli, which can be downloaded <a href=\"https://maven.apache.org/download.cgi\" rel=\"noreferrer\">here</a>. \nHint: the command from the <a href=\"https://maven.apache.org/plugins/maven-help-plugin/describe-mojo.html\" rel=\"noreferrer\">help plugin</a> <code>mvn help:describe -Dplugin=com.mysema.maven:apt-maven-plugin</code> will show you a list of all available apt-maven-plugin goals.</p>\n\n<p>You configured the outputDirectory to: <code>target/generated-sources/java</code>\nTo let your IDE find that classes, put them into your class path. Some IDEs like IntelliJ will do this automatically for maven projects, because that folder is the default.</p>\n"}],"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12987,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36087555,"answer_count":1,"score":4,"last_activity_date":1668260818,"creation_date":1458309148,"question_id":36086193,"body_markdown":"I try to generate query type classes (e.g. `QUser`) but got errors... \r\n\r\nYou can find my source code here: [https://github.com/TheNakedMan/remindme.server/][1]\r\n\r\nI&#39;am working with IntelliJ IDEA, and it seems like I have working plugin.\r\nHelp me, please.\r\n\r\nLog message:\r\n\r\n&gt; /remindme.server/src/main/java/com/qoobico/remindme/server/repository/UserRepository.java\r\n&gt; Error:(21, 126) java: cannot find symbol   symbol: class QUser\r\n&gt; \r\n&gt; Error:(25, 62) java: cannot find symbol   symbol:   class QUser  \r\n&gt; location: interface\r\n&gt; com.qoobico.remindme.server.repository.UserRepository\r\n\r\n\r\n**UPDATE:**\r\n\r\nAfter `LifeCycle-&gt;clean` and run `apt:process` in IntelliJ, I have this error:\r\n\r\n&gt; [ERROR] Failed to execute goal on project com.qoobico.remindme.server:\r\n&gt; Could not resolve dependencies for project\r\n&gt; com.qoobico.remindme.server:com.qoobico.remindme.server:war:1.0-SNAPSHOT:\r\n&gt; Could not find artifact\r\n&gt; com.qoobico.remindme.server:com.qoobico.remindme.server:jar:1.0-SNAPSHOT\r\n\r\n \r\n\r\n\r\n  [1]: http://UserRepository","title":"QueryDsl error. Q classes not generated","body":"<p>I try to generate query type classes (e.g. <code>QUser</code>) but got errors... </p>\n\n<p>You can find my source code here: <a href=\"http://UserRepository\" rel=\"nofollow\">https://github.com/TheNakedMan/remindme.server/</a></p>\n\n<p>I'am working with IntelliJ IDEA, and it seems like I have working plugin.\nHelp me, please.</p>\n\n<p>Log message:</p>\n\n<blockquote>\n  <p>/remindme.server/src/main/java/com/qoobico/remindme/server/repository/UserRepository.java\n  Error:(21, 126) java: cannot find symbol   symbol: class QUser</p>\n  \n  <p>Error:(25, 62) java: cannot find symbol   symbol:   class QUser<br>\n  location: interface\n  com.qoobico.remindme.server.repository.UserRepository</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>After <code>LifeCycle-&gt;clean</code> and run <code>apt:process</code> in IntelliJ, I have this error:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal on project com.qoobico.remindme.server:\n  Could not resolve dependencies for project\n  com.qoobico.remindme.server:com.qoobico.remindme.server:war:1.0-SNAPSHOT:\n  Could not find artifact\n  com.qoobico.remindme.server:com.qoobico.remindme.server:jar:1.0-SNAPSHOT</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668257238,"post_id":74413002,"comment_id":131364167,"body_markdown":"The terminal is just that: a terminal. It will use whatever `java` executable it can find on the `$PATH` / `%PATH%` first. In your case, this seems to be a Java 11 JRE.","body":"The terminal is just that: a terminal. It will use whatever <code>java</code> executable it can find on the <code>$PATH</code> / <code>%PATH%</code> first. In your case, this seems to be a Java 11 JRE."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668257364,"post_id":74413002,"comment_id":131364188,"body_markdown":"Try to print result of `System.getProperty(&quot;java.version&quot;)` like `System.out.println(System.getProperty(&quot;java.version&quot;));` to see what java version is used by IDE to *run* your code.","body":"Try to print result of <code>System.getProperty(&quot;java.version&quot;)</code> like <code>System.out.println(System.getProperty(&quot;java.version&quot;));</code> to see what java version is used by IDE to <i>run</i> your code."}],"answers":[{"tags":[],"owner":{"account_id":16346435,"reputation":324,"user_id":11806050,"display_name":"Thaiminhpv"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668260802,"creation_date":1668257441,"answer_id":74413077,"question_id":74413002,"body_markdown":"Changing the JDK in IntelliJ UI [does not affect](https://www.baeldung.com/intellij-change-java-version#gotchas:~:text=this%20only%20affects%20the%20JDK%20used%20by%20IntelliJ) its Intellij terminal:\r\n\r\n&gt; When changing the JDK, we need to remember that this only affects the JDK used by IntelliJ. Therefore, **when running the Java project via the command line, it&#39;ll still use the JDK specified in the JAVA_HOME environment variable**\r\n\r\nSo when running `java` on Intellij terminal, you still have to [set `JAVA_HOME`](https://stackoverflow.com/a/65661794/11806050) to change java version","title":"How to change java version in Intellij?","body":"<p>Changing the JDK in IntelliJ UI <a href=\"https://www.baeldung.com/intellij-change-java-version#gotchas:%7E:text=this%20only%20affects%20the%20JDK%20used%20by%20IntelliJ\" rel=\"nofollow noreferrer\">does not affect</a> its Intellij terminal:</p>\n<blockquote>\n<p>When changing the JDK, we need to remember that this only affects the JDK used by IntelliJ. Therefore, <strong>when running the Java project via the command line, it'll still use the JDK specified in the JAVA_HOME environment variable</strong></p>\n</blockquote>\n<p>So when running <code>java</code> on Intellij terminal, you still have to <a href=\"https://stackoverflow.com/a/65661794/11806050\">set <code>JAVA_HOME</code></a> to change java version</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11950,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74413077,"answer_count":1,"score":4,"last_activity_date":1668260802,"creation_date":1668256765,"question_id":74413002,"body_markdown":"I have a simple java project and I try to change java version in Intellij from java 11 to java 8. It isn&#39;t a maven project. I found something on google and it looks easy, but it&#39;s not working.\r\n\r\nSo, I pressed ctrl + shift + alt + s and here I changed jdk11 with jdk1.8:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut now if I run java -version on Intellij terminal I get this in the console:\r\n\r\n    java version &quot;11.0.14&quot; 2022-01-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\r\n\r\nIt looks that it continue to use java 11. What else should I do?\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MFkDW.jpg","title":"How to change java version in Intellij?","body":"<p>I have a simple java project and I try to change java version in Intellij from java 11 to java 8. It isn't a maven project. I found something on google and it looks easy, but it's not working.</p>\n<p>So, I pressed ctrl + shift + alt + s and here I changed jdk11 with jdk1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/MFkDW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MFkDW.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But now if I run java -version on Intellij terminal I get this in the console:</p>\n<pre><code>java version &quot;11.0.14&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\n</code></pre>\n<p>It looks that it continue to use java 11. What else should I do?\nThank you!</p>\n"},{"tags":["java","spring","eclipse","querydsl"],"comments":[{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1503309531,"post_id":45794079,"comment_id":78546062,"body_markdown":"Have you tried debugging via maven debug output like `mvn -X clean install`. That will give you better info on what is happening in that plugin. If possible, can you post the relevant console output for this plugin?","body":"Have you tried debugging via maven debug output like <code>mvn -X clean install</code>. That will give you better info on what is happening in that plugin. If possible, can you post the relevant console output for this plugin?"},{"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"score":0,"creation_date":1503310128,"post_id":45794079,"comment_id":78546469,"body_markdown":"@yaswanth Thanks for the reply. Without using the QReportingParamDAO in the class, when I do mvn -X clean install I don&#39;t get any error.","body":"@yaswanth Thanks for the reply. Without using the QReportingParamDAO in the class, when I do mvn -X clean install I don&#39;t get any error."},{"owner":{"account_id":1475853,"reputation":1017,"user_id":1386245,"accept_rate":50,"display_name":"tim-phillips"},"score":0,"creation_date":1691777572,"post_id":45794079,"comment_id":135542558,"body_markdown":"For those using Kotlin, you&#39;ll have to generate the Q-classes before compiling your sources: https://felixzett.com/articles/minimal-maven-kotlin-querydsl-example/","body":"For those using Kotlin, you&#39;ll have to generate the Q-classes before compiling your sources: <a href=\"https://felixzett.com/articles/minimal-maven-kotlin-querydsl-example/\" rel=\"nofollow noreferrer\">felixzett.com/articles/minimal-maven-kotlin-querydsl-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1503311367,"creation_date":1503311367,"answer_id":45794836,"question_id":45794079,"body_markdown":"I have tested with your pom.xml. The Q classes were generated for me but I couldn&#39;t access them from my source code. The problem is that the generated-sources is not on classpath by default. Add that on the classpath and you will be able to use them in your source code.\r\n\r\n 1. Check the target/generated-sources directory to see if the classes are actually there. (You should be able to find them because I tested with your pom.xml)\r\n 2. If you add target/generated-sources to classpath, you application will work. But I don&#39;t think that is a good idea. Because all the files in the classpath will be indexed by the IDE and your IDE will be slower. All the files in the generated-sources folder need not be indexed. So add `target/generated-sources/java` to classpath and change your query-dsl plugin to generated Q class to `target/generated-sources/java`","title":"Query DSL Q type classes not generated","body":"<p>I have tested with your pom.xml. The Q classes were generated for me but I couldn't access them from my source code. The problem is that the generated-sources is not on classpath by default. Add that on the classpath and you will be able to use them in your source code.</p>\n\n<ol>\n<li>Check the target/generated-sources directory to see if the classes are actually there. (You should be able to find them because I tested with your pom.xml)</li>\n<li>If you add target/generated-sources to classpath, you application will work. But I don't think that is a good idea. Because all the files in the classpath will be indexed by the IDE and your IDE will be slower. All the files in the generated-sources folder need not be indexed. So add <code>target/generated-sources/java</code> to classpath and change your query-dsl plugin to generated Q class to <code>target/generated-sources/java</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17492398,"reputation":929,"user_id":12684279,"display_name":"Ruokki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608666600,"creation_date":1606835840,"answer_id":65093255,"question_id":45794079,"body_markdown":"I recently have the same issue has you. \r\n\r\nIt seems apt-maven-plugin doesn&#39;t like empty .java file.\r\nIf you have one in your project he will not generate any class without indication about the empty file, which can be very hard to find.\r\n\r\n\r\n","title":"Query DSL Q type classes not generated","body":"<p>I recently have the same issue has you.</p>\n<p>It seems apt-maven-plugin doesn't like empty .java file.\nIf you have one in your project he will not generate any class without indication about the empty file, which can be very hard to find.</p>\n"},{"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608666968,"creation_date":1608666968,"answer_id":65415059,"question_id":45794079,"body_markdown":"In my case, here, what was causing the error was the `&quot;&quot;&quot; multiline string &quot;&quot;&quot;` syntax from Java 14 (preview feature).\r\n\r\nI figured it out by `mvn clean compile -e`.\r\n","title":"Query DSL Q type classes not generated","body":"<p>In my case, here, what was causing the error was the <code>&quot;&quot;&quot; multiline string &quot;&quot;&quot;</code> syntax from Java 14 (preview feature).</p>\n<p>I figured it out by <code>mvn clean compile -e</code>.</p>\n"},{"tags":[],"owner":{"account_id":21789643,"reputation":36,"user_id":16090047,"display_name":"Guilherme Alves Silveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637866570,"creation_date":1637866570,"answer_id":70116091,"question_id":45794079,"body_markdown":"To solve the problem, i put the plugin com.mysema.maven before the plugin org.codehaus.mojo, this made the generated-source be put in the correct folder and was recognized by the intelijj. Example:\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n           ...\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${build.helper.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;target/generated-sources&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n            ....\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Query DSL Q type classes not generated","body":"<p>To solve the problem, i put the plugin com.mysema.maven before the plugin org.codehaus.mojo, this made the generated-source be put in the correct folder and was recognized by the intelijj. Example:\n\n</p>\n<pre><code>       ...\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${basedir}/target/generated-sources&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${build.helper.maven.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;target/generated-sources&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        ....\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668260752,"creation_date":1668260752,"answer_id":74413465,"question_id":45794079,"body_markdown":"**Note: I am using IntelliJ**\r\n\r\nI was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:\r\n```\r\n./mvnw install\r\n```\r\nAnd the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\r\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:\r\n```\r\ntarget/generated-sources/java\r\n```\r\nright mouse click on **java** folder --&gt; mark directory as --&gt; Generated Sources Root.\r\n\r\nAfter this you will be able to import these Q classes in your source code.","title":"Query DSL Q type classes not generated","body":"<p><strong>Note: I am using IntelliJ</strong></p>\n<p>I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:</p>\n<pre><code>./mvnw install\n</code></pre>\n<p>And the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:</p>\n<pre><code>target/generated-sources/java\n</code></pre>\n<p>right mouse click on <strong>java</strong> folder --&gt; mark directory as --&gt; Generated Sources Root.</p>\n<p>After this you will be able to import these Q classes in your source code.</p>\n"}],"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23472,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45794836,"answer_count":5,"score":5,"last_activity_date":1668260752,"creation_date":1503308968,"question_id":45794079,"body_markdown":"I am trying to use QueryDSL in my eclipse maven project. These are the dependencies.\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;!-- The main class to start by executing java -jar --&gt;\r\n    \t\t&lt;start-class&gt;my.app.market.DBApp&lt;/start-class&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;querydsl.version&gt;4.1.4&lt;/querydsl.version&gt;\r\n    \t\t&lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\r\n    \r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nAfter this I try to write the queries.\r\n\r\n    @Repository\r\n    public class QueryDSLRepo {\r\n    \t\r\n    \t@PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public ReportingParamDAO save(final ReportingParamDAO reportingParamDAO) {\r\n            em.persist(reportingParamDAO);\r\n            return reportingParamDAO;\r\n        }\r\n    \r\n        public List&lt;ReportingParamDAO&gt; findreportingParamDAOsByIdQueryDSL(final Integer id) {\r\n            final JPAQuery&lt;ReportingParamDAO&gt; query = new JPAQuery&lt;&gt;(em);\r\n            final QReportingParamDAO reportingParamDAO = QReportingParamDAO.reportingParamDAO;\r\n    \r\n            return query.from(reportingParamDAO).where(reportingParamDAO.id.eq(id)).fetch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nBut I get the error\r\n\r\n    QReportingParamDAO cannot be resolved to a type\r\n\r\nNote: `ReportingParamDAO` is an entity class.\r\n\r\nThis means that the Q type class for my DAO is not generated. I am not sure why it wasn&#39;t generated. Do I need to do something else? I came across [this][1] post but the user is working on `IntelliJ` and I can&#39;t seem to make it work in my case. Can someone please help me. Thanks !!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36086193/querydsl-error-q-classes-not-generated","title":"Query DSL Q type classes not generated","body":"<p>I am trying to use QueryDSL in my eclipse maven project. These are the dependencies.</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;!-- The main class to start by executing java -jar --&gt;\n        &lt;start-class&gt;my.app.market.DBApp&lt;/start-class&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;querydsl.version&gt;4.1.4&lt;/querydsl.version&gt;\n        &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\n\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>After this I try to write the queries.</p>\n\n<pre><code>@Repository\npublic class QueryDSLRepo {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public ReportingParamDAO save(final ReportingParamDAO reportingParamDAO) {\n        em.persist(reportingParamDAO);\n        return reportingParamDAO;\n    }\n\n    public List&lt;ReportingParamDAO&gt; findreportingParamDAOsByIdQueryDSL(final Integer id) {\n        final JPAQuery&lt;ReportingParamDAO&gt; query = new JPAQuery&lt;&gt;(em);\n        final QReportingParamDAO reportingParamDAO = QReportingParamDAO.reportingParamDAO;\n\n        return query.from(reportingParamDAO).where(reportingParamDAO.id.eq(id)).fetch();\n    }\n\n\n}\n</code></pre>\n\n<p>But I get the error</p>\n\n<pre><code>QReportingParamDAO cannot be resolved to a type\n</code></pre>\n\n<p>Note: <code>ReportingParamDAO</code> is an entity class.</p>\n\n<p>This means that the Q type class for my DAO is not generated. I am not sure why it wasn't generated. Do I need to do something else? I came across <a href=\"https://stackoverflow.com/questions/36086193/querydsl-error-q-classes-not-generated\">this</a> post but the user is working on <code>IntelliJ</code> and I can't seem to make it work in my case. Can someone please help me. Thanks !!</p>\n"},{"tags":["java","recursion","tree","iteration","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668260652,"creation_date":1666269747,"answer_id":74140072,"question_id":74132878,"body_markdown":"But recursion *is* a kind of iteration.\r\n\r\nA conventional loop repeats a computational recipe, a loop&#39;s body, with (potentially) new values of the loop variables on each repetition, until the stopping condition is met.\r\n\r\nA recursive function repeats a computational recipe, a function&#39;s body, with (potentially) new values of its parameter variables on each invocation, until the base test condition is met -- then, the preceding invocations are returned to, and continue executing their computational recipe(s) -- which is the same recipe, since it&#39;s the same function -- until all computations are finished.\r\n\r\nConceptually, it&#39;s the same thing.\r\n\r\nSpecifically, your example invokes the same recipe -- the function for calculating the height of a binary tree -- separately for each of the argument tree&#39;s branches, which _are_ themselves trees as well, just like the argument tree itself. Just like a loop&#39;s body is the same for all the iterations.\r\n\r\nSo your *function* calculates the height of the left branch, saves it in a temporary variable; calculates the height of the right branch, saves it in another temporary variable; and then combines the two results to produce *its own* result.\r\n\r\nThus it repeats a lot of computational steps over and over.\r\n\r\nWhen a particular invocation encounters a leaf, this is treated as a base case. This invocation then just returns its result directly, without invoking any more instances of the same recipe.\r\n\r\nAs an illustration, (writing `height &lt;tree&gt;` to mean `&lt;tree&gt;.height()`),\r\n```\r\nheight { {{* 1 *} 2 *} 3 {* 4 {{* 5 *} 6 *}} }\r\n=\r\n set\r\n  a = height {{* 1 *} 2 *}\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = height {* 1 *}\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = height *\r\n                       b3 = height *\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = -1\r\n                       b3 = height *\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = -1\r\n                       b3 = -1\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                       return max(-1,-1)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = 0\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = 0\r\n            b2 = -1\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n            return max(0,-1)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n```\r\ncontinuing,\r\n```\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n            return max(0,-1)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = 1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = 1\r\n  b = /// height {* 4 {{* 5 *} 6 *}}\r\n        set a2 = height *\r\n            b2 = height {{* 5 *} 6 *}\r\n            return max(a2,b2)+1\r\n  return max(a,b)+1\r\n=\r\n...... etc.\r\n```\r\nJust as outer variables&#39; values are remembered between each invocation of *a loop*&#39;s body, the variables belonging to outer invocation of a *recursive function* are remembered while the inner invocations do their work.\r\n\r\n**The key** here is that each invocation of a recursive function is a **copy** of the same computational recipe, together with its own set of variables whose use is prescribed by that recipe.\r\n\r\nSo the recipe is the same, but each copy is separate, independent, different. A *given copy* (i.e. invocation) works with its own set of the function recipe&#39;s variables, and remembers by which copy *it* was invoked -- so that&#39;s where its result will be returned to, when this copy finishes its work.\r\n\r\nAnd when the topmost copy -- the very first to be invoked -- finishes up, the whole work is done, and [the final result is returned][1] as the overall value.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46613542/849891","title":"why is this recursive method work in this BST","body":"<p>But recursion <em>is</em> a kind of iteration.</p>\n<p>A conventional loop repeats a computational recipe, a loop's body, with (potentially) new values of the loop variables on each repetition, until the stopping condition is met.</p>\n<p>A recursive function repeats a computational recipe, a function's body, with (potentially) new values of its parameter variables on each invocation, until the base test condition is met -- then, the preceding invocations are returned to, and continue executing their computational recipe(s) -- which is the same recipe, since it's the same function -- until all computations are finished.</p>\n<p>Conceptually, it's the same thing.</p>\n<p>Specifically, your example invokes the same recipe -- the function for calculating the height of a binary tree -- separately for each of the argument tree's branches, which <em>are</em> themselves trees as well, just like the argument tree itself. Just like a loop's body is the same for all the iterations.</p>\n<p>So your <em>function</em> calculates the height of the left branch, saves it in a temporary variable; calculates the height of the right branch, saves it in another temporary variable; and then combines the two results to produce <em>its own</em> result.</p>\n<p>Thus it repeats a lot of computational steps over and over.</p>\n<p>When a particular invocation encounters a leaf, this is treated as a base case. This invocation then just returns its result directly, without invoking any more instances of the same recipe.</p>\n<p>As an illustration, (writing <code>height &lt;tree&gt;</code> to mean <code>&lt;tree&gt;.height()</code>),</p>\n<pre><code>height { {{* 1 *} 2 *} 3 {* 4 {{* 5 *} 6 *}} }\n=\n set\n  a = height {{* 1 *} 2 *}\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = height {* 1 *}\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = height *\n                       b3 = height *\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = -1\n                       b3 = height *\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = -1\n                       b3 = -1\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                       return max(-1,-1)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = 0\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = 0\n            b2 = -1\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n            return max(0,-1)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n</code></pre>\n<p>continuing,</p>\n<pre><code>=\n set\n  a = /// height {{* 1 *} 2 *}\n            return max(0,-1)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = 1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = 1\n  b = /// height {* 4 {{* 5 *} 6 *}}\n        set a2 = height *\n            b2 = height {{* 5 *} 6 *}\n            return max(a2,b2)+1\n  return max(a,b)+1\n=\n...... etc.\n</code></pre>\n<p>Just as outer variables' values are remembered between each invocation of <em>a loop</em>'s body, the variables belonging to outer invocation of a <em>recursive function</em> are remembered while the inner invocations do their work.</p>\n<p><strong>The key</strong> here is that each invocation of a recursive function is a <strong>copy</strong> of the same computational recipe, together with its own set of variables whose use is prescribed by that recipe.</p>\n<p>So the recipe is the same, but each copy is separate, independent, different. A <em>given copy</em> (i.e. invocation) works with its own set of the function recipe's variables, and remembers by which copy <em>it</em> was invoked -- so that's where its result will be returned to, when this copy finishes its work.</p>\n<p>And when the topmost copy -- the very first to be invoked -- finishes up, the whole work is done, and <a href=\"https://stackoverflow.com/a/46613542/849891\">the final result is returned</a> as the overall value.</p>\n"}],"owner":{"account_id":26676206,"reputation":13,"user_id":20286886,"display_name":"Sexual2Chocolate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74140072,"answer_count":1,"score":1,"last_activity_date":1668260652,"creation_date":1666221539,"question_id":74132878,"body_markdown":"I&#39;m having a hard time trying to understand why this code works\r\n\r\nso we have a tree which we use this method to calculate the height\r\n\r\nthe problem for me is how does this method work to calculate the total height of the tree without a loop or something like that from my own understanding this can only work for 1 node but i cant see how is it possible to work for the whole tree without any kind of iteration \r\n\r\n\r\n\r\n    public int height() {\r\n        if (isEmpty()) {\r\n            return -1;\r\n        }\r\n        else {\r\n            int leftHeight = left.height();\r\n            int rightHeight = right.height();\r\n            return Math.max(leftHeight, rightHeight)+1;\r\n        }\r\n    }","title":"why is this recursive method work in this BST","body":"<p>I'm having a hard time trying to understand why this code works</p>\n<p>so we have a tree which we use this method to calculate the height</p>\n<p>the problem for me is how does this method work to calculate the total height of the tree without a loop or something like that from my own understanding this can only work for 1 node but i cant see how is it possible to work for the whole tree without any kind of iteration</p>\n<pre><code>public int height() {\n    if (isEmpty()) {\n        return -1;\n    }\n    else {\n        int leftHeight = left.height();\n        int rightHeight = right.height();\n        return Math.max(leftHeight, rightHeight)+1;\n    }\n}\n</code></pre>\n"},{"tags":["java","code-generation","querydsl"],"answers":[{"tags":[],"owner":{"display_name":"user10527814"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540040865,"creation_date":1540040865,"answer_id":52906002,"question_id":52905768,"body_markdown":"Here is a working *pom.xml*\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.hello&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;querydsl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;querydsl&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;querydsl.version&gt;4.1.0&lt;/querydsl.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand the generated class:\r\n\r\n    /**\r\n     * QPermission is a Querydsl query type for Permission\r\n     */\r\n    @Generated(&quot;com.querydsl.codegen.EntitySerializer&quot;)\r\n    public class QPermission extends EntityPathBase&lt;Permission&gt; {\r\n    \r\n        private static final long serialVersionUID = -479242270L;\r\n    \r\n        public static final QPermission permission = new QPermission(&quot;permission&quot;);\r\n    \r\n        public final NumberPath&lt;Long&gt; id = createNumber(&quot;id&quot;, Long.class);\r\n    \r\n        public final StringPath name = createString(&quot;name&quot;);\r\n    \r\n        public QPermission(String variable) {\r\n            super(Permission.class, forVariable(variable));\r\n        }\r\n    \r\n        public QPermission(Path&lt;? extends Permission&gt; path) {\r\n            super(path.getType(), path.getMetadata());\r\n        }\r\n    \r\n        public QPermission(PathMetadata metadata) {\r\n            super(Permission.class, metadata);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Here is a working <em>pom.xml</em></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.hello&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;querydsl&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;querydsl.version&gt;4.1.0&lt;/querydsl.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and the generated class:</p>\n\n<pre><code>/**\n * QPermission is a Querydsl query type for Permission\n */\n@Generated(\"com.querydsl.codegen.EntitySerializer\")\npublic class QPermission extends EntityPathBase&lt;Permission&gt; {\n\n    private static final long serialVersionUID = -479242270L;\n\n    public static final QPermission permission = new QPermission(\"permission\");\n\n    public final NumberPath&lt;Long&gt; id = createNumber(\"id\", Long.class);\n\n    public final StringPath name = createString(\"name\");\n\n    public QPermission(String variable) {\n        super(Permission.class, forVariable(variable));\n    }\n\n    public QPermission(Path&lt;? extends Permission&gt; path) {\n        super(path.getType(), path.getMetadata());\n    }\n\n    public QPermission(PathMetadata metadata) {\n        super(Permission.class, metadata);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6599982,"reputation":201,"user_id":5098594,"display_name":"Julien O"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1540042322,"creation_date":1540042322,"answer_id":52906209,"question_id":52905768,"body_markdown":"Can you show the dependencies you put in your pom.xml ?\r\n\r\nI&#39;ve made some tests starting from scratch\r\n\r\nHere are the dependencies :\r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n\r\nAnd the plugin :\r\n\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nThe complete source code I&#39;ve tried to generate QFiles and that worked :\r\n\r\nhttps://github.com/githubjul/test-so-querydsl\r\n\r\nI don&#39;t run the project, only compile it to verify it works.\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Can you show the dependencies you put in your pom.xml ?</p>\n\n<p>I've made some tests starting from scratch</p>\n\n<p>Here are the dependencies :</p>\n\n<pre><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And the plugin :</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>The complete source code I've tried to generate QFiles and that worked :</p>\n\n<p><a href=\"https://github.com/githubjul/test-so-querydsl\" rel=\"nofollow noreferrer\">https://github.com/githubjul/test-so-querydsl</a></p>\n\n<p>I don't run the project, only compile it to verify it works.</p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610957626,"creation_date":1610957626,"answer_id":65770834,"question_id":52905768,"body_markdown":"Adding the following dependency did it for me:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can look up the latest version here:\r\n\r\nhttps://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa\r\n\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Adding the following dependency did it for me:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can look up the latest version here:</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa</a></p>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634149856,"creation_date":1634149856,"answer_id":69560586,"question_id":52905768,"body_markdown":"I was having this issue using IntelliJ.\r\n\r\nThe following steps worked for me:\r\n\r\n 1. Right-clicked my POM, \r\n 2. Clicked &#39;Maven&#39;, \r\n 3. Clicked &#39;reload project&#39;.\r\n\r\nThis seemed to do the trick.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I was having this issue using IntelliJ.</p>\n<p>The following steps worked for me:</p>\n<ol>\n<li>Right-clicked my POM,</li>\n<li>Clicked 'Maven',</li>\n<li>Clicked 'reload project'.</li>\n</ol>\n<p>This seemed to do the trick.</p>\n"},{"tags":[],"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668260609,"creation_date":1668260609,"answer_id":74413444,"question_id":52905768,"body_markdown":"I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:\r\n```\r\n./mvnw install\r\n```\r\nAnd the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\r\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:\r\n```\r\ntarget/generated-sources/java\r\n```\r\nright mouse click on **java** folder --&gt; mark directory as --&gt; Generated Sources Root.\r\n\r\nAfter this you will be able to import these Q classes in your source code.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:</p>\n<pre><code>./mvnw install\n</code></pre>\n<p>And the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:</p>\n<pre><code>target/generated-sources/java\n</code></pre>\n<p>right mouse click on <strong>java</strong> folder --&gt; mark directory as --&gt; Generated Sources Root.</p>\n<p>After this you will be able to import these Q classes in your source code.</p>\n"}],"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12214,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52906209,"answer_count":5,"score":2,"last_activity_date":1668260609,"creation_date":1540039323,"question_id":52905768,"body_markdown":"I&#39;m making a Spring project, where i&#39;m using QueryDsl for the entities. I&#39;m picking up this project from a few months back, where i already had 1 generated class (QUser). Now i made a new entity called Permission, and modified the User entity. When i&#39;m building the project, the QUser doesn&#39;t change, and the QPermission class is not generating either. What am i doing wrong? Here&#39;s the entity and pom.xml for QueryDsl.\r\n\r\n    @Entity\r\n    @Table(name = &quot;permission&quot;)\r\n    public class Permission {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n\r\n       @Column(name = &quot;name&quot;, length = 100, nullable = false)\r\n       private String name;\r\n\r\n\r\n       public Long getId() {\r\n           return id;\r\n       }\r\n\r\n       public void setId(Long id) {\r\n           this.id = id;\r\n      }\r\n\r\n        public String getName() {\r\n           return name;\r\n       }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd the pom.xml: \r\n\r\n    [..]\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    [...]\r\n\r\nI was following the documentation:\r\nhttp://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html\r\nI&#39;m using IntellIJ IDEA and tried the &quot;Rebuild project&quot; option as well.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I'm making a Spring project, where i'm using QueryDsl for the entities. I'm picking up this project from a few months back, where i already had 1 generated class (QUser). Now i made a new entity called Permission, and modified the User entity. When i'm building the project, the QUser doesn't change, and the QPermission class is not generating either. What am i doing wrong? Here's the entity and pom.xml for QueryDsl.</p>\n\n<pre><code>@Entity\n@Table(name = \"permission\")\npublic class Permission {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(name = \"name\", length = 100, nullable = false)\n   private String name;\n\n\n   public Long getId() {\n       return id;\n   }\n\n   public void setId(Long id) {\n       this.id = id;\n  }\n\n    public String getName() {\n       return name;\n   }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>And the pom.xml: </p>\n\n<pre><code>[..]\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n[...]\n</code></pre>\n\n<p>I was following the documentation:\n<a href=\"http://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html\" rel=\"nofollow noreferrer\">http://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html</a>\nI'm using IntellIJ IDEA and tried the \"Rebuild project\" option as well.</p>\n"},{"tags":["java","filter","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1397656574,"creation_date":1397654800,"answer_id":23110891,"question_id":23110853,"body_markdown":"Try:\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.field &gt; 10).mapToInt(o -&gt; o.field).sum();","title":"Sum values from specific field of the objects in a list","body":"<p>Try:</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.field &gt; 10).mapToInt(o -&gt; o.field).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1501769294,"creation_date":1397655832,"answer_id":23111269,"question_id":23110853,"body_markdown":"You can do\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(o -&gt; o.getField()).sum();\r\n\r\nor (using Method reference)\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(Obj::getField).sum();","title":"Sum values from specific field of the objects in a list","body":"<p>You can do</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(o -&gt; o.getField()).sum();\n</code></pre>\n\n<p>or (using Method reference)</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(Obj::getField).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354706,"reputation":151,"user_id":693210,"display_name":"Pawe wik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1397656481,"creation_date":1397656481,"answer_id":23111529,"question_id":23110853,"body_markdown":"You can try\r\n\r\n    int sum = list.stream().filter(o-&gt;o.field&gt;10).mapToInt(o-&gt;o.field).sum();\r\n\r\nLike explained [here](http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html)","title":"Sum values from specific field of the objects in a list","body":"<p>You can try</p>\n\n<pre><code>int sum = list.stream().filter(o-&gt;o.field&gt;10).mapToInt(o-&gt;o.field).sum();\n</code></pre>\n\n<p>Like explained <a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1483460826,"creation_date":1483460826,"answer_id":41447948,"question_id":23110853,"body_markdown":"You can also `collect` with an appropriate summing collector like [`Collectors#summingInt(ToIntFunction)`][1]\r\n\r\n&gt; Returns a `Collector` that produces the sum of a integer-valued function\r\n&gt; applied to the input elements. If no elements are present, the result\r\n&gt; is 0.\r\n\r\nFor example\r\n\r\n    Stream&lt;Obj&gt; filtered = list.stream().filter(o -&gt; o.field &gt; 10);\r\n    int sum = filtered.collect(Collectors.summingInt(o -&gt; o.field));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-","title":"Sum values from specific field of the objects in a list","body":"<p>You can also <code>collect</code> with an appropriate summing collector like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Collectors#summingInt(ToIntFunction)</code></a></p>\n\n<blockquote>\n  <p>Returns a <code>Collector</code> that produces the sum of a integer-valued function\n  applied to the input elements. If no elements are present, the result\n  is 0.</p>\n</blockquote>\n\n<p>For example</p>\n\n<pre><code>Stream&lt;Obj&gt; filtered = list.stream().filter(o -&gt; o.field &gt; 10);\nint sum = filtered.collect(Collectors.summingInt(o -&gt; o.field));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668259709,"creation_date":1547135249,"answer_id":54132244,"question_id":23110853,"body_markdown":"In Java 8 for an `Obj` entity with `field` and getField() method you can use:\r\n\r\n    List&lt;Obj&gt; objs ...\r\n\r\n    Double sum = objs.stream()\r\n      .filter(Objects::notNull);\r\n      .mapToDouble(Obj::getField)\r\n      .sum();","title":"Sum values from specific field of the objects in a list","body":"<p>In Java 8 for an <code>Obj</code> entity with <code>field</code> and getField() method you can use:</p>\n<pre><code>List&lt;Obj&gt; objs ...\n\nDouble sum = objs.stream()\n  .filter(Objects::notNull);\n  .mapToDouble(Obj::getField)\n  .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12654863,"reputation":97,"user_id":9197698,"display_name":"Muruganandam C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598860023,"creation_date":1598859671,"answer_id":63666713,"question_id":23110853,"body_markdown":"You can do this method: &quot;IntSummaryStatistics&quot;\r\n\r\n\r\n    IntSummaryStatistics insum = li.stream().filter(v-&gt; v%2==0).mapToInt(mapper-&gt;mapper).summaryStatistics();","title":"Sum values from specific field of the objects in a list","body":"<p>You can do this method: &quot;IntSummaryStatistics&quot;</p>\n<pre><code>IntSummaryStatistics insum = li.stream().filter(v-&gt; v%2==0).mapToInt(mapper-&gt;mapper).summaryStatistics();\n</code></pre>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178513,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":23111269,"answer_count":6,"score":111,"last_activity_date":1668259709,"creation_date":1397654724,"question_id":23110853,"body_markdown":"Suppose to have a class `Obj`:\r\n\r\n    class Obj {\r\n      int field;\r\n    }\r\n\r\n...and that you have a list of `Obj` instances, i.e. `List&lt;Obj&gt; lst`.\r\n\r\nNow, how can I find with streams the sum of the values of the int fields `field` from the objects in list `lst` under a filtering criterion (e.g. for an object `o`, the criterion is `o.field &gt; 10`)?","title":"Sum values from specific field of the objects in a list","body":"<p>Suppose to have a class <code>Obj</code>:</p>\n<pre><code>class Obj {\n  int field;\n}\n</code></pre>\n<p>...and that you have a list of <code>Obj</code> instances, i.e. <code>List&lt;Obj&gt; lst</code>.</p>\n<p>Now, how can I find with streams the sum of the values of the int fields <code>field</code> from the objects in list <code>lst</code> under a filtering criterion (e.g. for an object <code>o</code>, the criterion is <code>o.field &gt; 10</code>)?</p>\n"},{"tags":["java","mongodb","spring-boot","sorting"],"answers":[{"tags":[],"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668259531,"creation_date":1668259531,"answer_id":74413315,"question_id":74409984,"body_markdown":"Is this not simply a Java convention?\r\n\r\n```\r\nThe L suffix tells the compiler that we have a long number literal.\r\n\r\nJava byte, short, int and long types are used do represent fixed precision numbers.q This means that they can represent a limited amount of integers\r\n```\r\nfrom: https://zetcode.com/java/data-type/#:~:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807.\r\n\r\nAs these are values are ultimately being collated into a request to Mongo, I don&#39;t think it should really make a difference in this instance as there would be not difference in the type instances sent to Mongo. I&#39;m sure you could look in the MongoDriver code and see this fairly easily. I may link it. ","title":"-1L Sort Field Value in Mongodb With Spring Boot","body":"<p>Is this not simply a Java convention?</p>\n<pre><code>The L suffix tells the compiler that we have a long number literal.\n\nJava byte, short, int and long types are used do represent fixed precision numbers.q This means that they can represent a limited amount of integers\n</code></pre>\n<p>from: <a href=\"https://zetcode.com/java/data-type/#:%7E:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807\" rel=\"nofollow noreferrer\">https://zetcode.com/java/data-type/#:~:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807</a>.</p>\n<p>As these are values are ultimately being collated into a request to Mongo, I don't think it should really make a difference in this instance as there would be not difference in the type instances sent to Mongo. I'm sure you could look in the MongoDriver code and see this fairly easily. I may link it.</p>\n"}],"owner":{"account_id":18610690,"reputation":27,"user_id":13563196,"display_name":"HannibalTN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413315,"answer_count":1,"score":0,"last_activity_date":1668259531,"creation_date":1668220485,"question_id":74409984,"body_markdown":"I came across a solution when I was working on a basic join within an aggregation pipeline.\r\n\r\nThe Solution&#39;s Code Snippet:\r\n```\r\npublic Document getMovie(String movieId) {\r\n        if (!validIdValue(movieId)) {\r\n            return null;\r\n        }\r\n        \r\n        List&lt;Bson&gt; pipeline = new ArrayList&lt;&gt;();\r\n        // match stage to find movie\r\n        Bson match = Aggregates.match(Filters.eq(&quot;_id&quot;, new ObjectId(movieId)));\r\n        pipeline.add(match);\r\n        // TODO&gt; Ticket: Get Comments - implement the lookup stage that allows the comments to\r\n        // retrieved with Movies.\r\n        pipeline.addAll(Arrays.asList(new Document(&quot;$lookup&quot;,\r\n                new Document(&quot;from&quot;, &quot;comments&quot;)\r\n                        .append(&quot;let&quot;,\r\n                                new Document(&quot;id&quot;, &quot;$_id&quot;))\r\n                        .append(&quot;pipeline&quot;, Arrays.asList(new Document(&quot;$match&quot;,\r\n                                        new Document(&quot;$expr&quot;,\r\n                                                new Document(&quot;$eq&quot;, Arrays.asList(&quot;$movie_id&quot;, &quot;$$id&quot;)))),\r\n                                new Document(&quot;$sort&quot;,\r\n                                        new Document(&quot;date&quot;, -1L))))\r\n                        .append(&quot;as&quot;, &quot;comments&quot;))));\r\n        \r\n        Document movie = moviesCollection.aggregate(pipeline).first();\r\n        \r\n        return movie;\r\n    }\r\n```\r\n\r\nI am simply wondering what was the purpose of `-1L` in this case? As the tests have already passed with only `-1` value.\r\n\r\nI tried searching for it but in vain.\r\n\r\nThe Tests Code Snippet:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n  @Test\r\n  public void testGetMovieComments() {\r\n    String movieId = &quot;573a13b5f29313caabd42c2f&quot;;\r\n    Document movieDocument = dao.getMovie(movieId);\r\n    Assert.assertNotNull(&quot;Should not return null. Check getMovie()&quot;, movieDocument);\r\n\r\n    List&lt;Document&gt; commentDocs = (List&lt;Document&gt;) movieDocument.get(&quot;comments&quot;);\r\n    int expectedSize = 147;\r\n    Assert.assertEquals(\r\n        &quot;Comments list size does not match expected&quot;, expectedSize, commentDocs.size());\r\n\r\n    String expectedName = &quot;Arya Stark&quot;;\r\n    Assert.assertEquals(\r\n        &quot;Expected `name` field does match: check your &quot; + &quot;getMovie() comments sort order.&quot;,\r\n        expectedName,\r\n        commentDocs.get(1).getString(&quot;name&quot;));\r\n  }\r\n```\r\n\r\n\r\nThank you.","title":"-1L Sort Field Value in Mongodb With Spring Boot","body":"<p>I came across a solution when I was working on a basic join within an aggregation pipeline.</p>\n<p>The Solution's Code Snippet:</p>\n<pre><code>public Document getMovie(String movieId) {\n        if (!validIdValue(movieId)) {\n            return null;\n        }\n        \n        List&lt;Bson&gt; pipeline = new ArrayList&lt;&gt;();\n        // match stage to find movie\n        Bson match = Aggregates.match(Filters.eq(&quot;_id&quot;, new ObjectId(movieId)));\n        pipeline.add(match);\n        // TODO&gt; Ticket: Get Comments - implement the lookup stage that allows the comments to\n        // retrieved with Movies.\n        pipeline.addAll(Arrays.asList(new Document(&quot;$lookup&quot;,\n                new Document(&quot;from&quot;, &quot;comments&quot;)\n                        .append(&quot;let&quot;,\n                                new Document(&quot;id&quot;, &quot;$_id&quot;))\n                        .append(&quot;pipeline&quot;, Arrays.asList(new Document(&quot;$match&quot;,\n                                        new Document(&quot;$expr&quot;,\n                                                new Document(&quot;$eq&quot;, Arrays.asList(&quot;$movie_id&quot;, &quot;$$id&quot;)))),\n                                new Document(&quot;$sort&quot;,\n                                        new Document(&quot;date&quot;, -1L))))\n                        .append(&quot;as&quot;, &quot;comments&quot;))));\n        \n        Document movie = moviesCollection.aggregate(pipeline).first();\n        \n        return movie;\n    }\n</code></pre>\n<p>I am simply wondering what was the purpose of <code>-1L</code> in this case? As the tests have already passed with only <code>-1</code> value.</p>\n<p>I tried searching for it but in vain.</p>\n<p>The Tests Code Snippet:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n  @Test\n  public void testGetMovieComments() {\n    String movieId = &quot;573a13b5f29313caabd42c2f&quot;;\n    Document movieDocument = dao.getMovie(movieId);\n    Assert.assertNotNull(&quot;Should not return null. Check getMovie()&quot;, movieDocument);\n\n    List&lt;Document&gt; commentDocs = (List&lt;Document&gt;) movieDocument.get(&quot;comments&quot;);\n    int expectedSize = 147;\n    Assert.assertEquals(\n        &quot;Comments list size does not match expected&quot;, expectedSize, commentDocs.size());\n\n    String expectedName = &quot;Arya Stark&quot;;\n    Assert.assertEquals(\n        &quot;Expected `name` field does match: check your &quot; + &quot;getMovie() comments sort order.&quot;,\n        expectedName,\n        commentDocs.get(1).getString(&quot;name&quot;));\n  }\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","multithreading","synchronization","thread-safety","synchronized"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":5,"creation_date":1668255716,"post_id":74412824,"comment_id":131363926,"body_markdown":"Looks totally crazy to me; if they use the same locking object in other classes, then all of those will block eachother.   Typically you want to block  only those threads performing the same operation, so a good practice is to generates a unique object (eg a random string)","body":"Looks totally crazy to me; if they use the same locking object in other classes, then all of those will block eachother.   Typically you want to block  only those threads performing the same operation, so a good practice is to generates a unique object (eg a random string)"},{"owner":{"account_id":5629853,"reputation":91,"user_id":4457102,"display_name":"Santanu Guha"},"score":1,"creation_date":1668256007,"post_id":74412824,"comment_id":131363970,"body_markdown":"Yes I totally agree with you. If we use synchronized on Stiring.class then the lock will be on the String class during the period when that operation is performing. Does that mean other section of code which is using String will also be blocked as the whole String class is synchronized ? If the answer is yes then it&#39;s dangerous. Please suggest .","body":"Yes I totally agree with you. If we use synchronized on Stiring.class then the lock will be on the String class during the period when that operation is performing. Does that mean other section of code which is using String will also be blocked as the whole String class is synchronized ? If the answer is yes then it&#39;s dangerous. Please suggest ."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1668256843,"post_id":74412824,"comment_id":131364097,"body_markdown":"It&#39;ll only block other code that also synchronizes on String.class, not all code that merely uses Strings.  There probably isn&#39;t a lot of code doing that.  Still, it&#39;s a nutty thing to do in the first place.","body":"It&#39;ll only block other code that also synchronizes on String.class, not all code that merely uses Strings.  There probably isn&#39;t a lot of code doing that.  Still, it&#39;s a nutty thing to do in the first place."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668259275,"creation_date":1668256101,"answer_id":74412938,"question_id":74412824,"body_markdown":"There is no _need_ to use `String.class`. You can synchronize on any object, including any `Class` instance. Using the `String` class is a poor choice, but it would work.\r\n\r\nThe reason it&#39;s a poor choice is because (a) it&#39;s `public`your code could interact in unexpected ways with some other part of a large program where some other programmer also decided to write `synchronized(String.class)`But more important is (b) it&#39;s completely demented. It will make other programmers waste time trying to understand what you did and why you thought it was smart to do it.\r\n\r\nThere&#39;s maybe a third reason (c) but hard to tell without seeing more of your code. Reason (c) would be that `String.class` is a `static` instance, and if you&#39;re using that one global object to synchronize many different `MyTimerTask` instances, and if those instances do not interact with each other through shared, `static` variables, then using the one global synchronization object probably adds an un-necessary performance bottleneck.\r\n\r\nThis would be better (takes care of reasons (a) and (b)):\r\n\r\n``` lang-java\r\npublic class MyTimerTask extends TimerTask{\r\n    private final static Object mutex = new Object();\r\n    ...\r\n    public void run(){    \r\n        synchronized(mutex){\r\n            service.callSomeMethod();\r\n        }    \r\n    }   \r\n}\r\n```\r\n\r\nOr, depending on how `MyTimerTask` is used, removing `static` from the declaration of `mutex` might be better still (takes care of reason (c)).","title":"Synchronized on String.class","body":"<p>There is no <em>need</em> to use <code>String.class</code>. You can synchronize on any object, including any <code>Class</code> instance. Using the <code>String</code> class is a poor choice, but it would work.</p>\n<p>The reason it's a poor choice is because (a) it's <code>public</code>your code could interact in unexpected ways with some other part of a large program where some other programmer also decided to write <code>synchronized(String.class)</code>But more important is (b) it's completely demented. It will make other programmers waste time trying to understand what you did and why you thought it was smart to do it.</p>\n<p>There's maybe a third reason (c) but hard to tell without seeing more of your code. Reason (c) would be that <code>String.class</code> is a <code>static</code> instance, and if you're using that one global object to synchronize many different <code>MyTimerTask</code> instances, and if those instances do not interact with each other through shared, <code>static</code> variables, then using the one global synchronization object probably adds an un-necessary performance bottleneck.</p>\n<p>This would be better (takes care of reasons (a) and (b)):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTimerTask extends TimerTask{\n    private final static Object mutex = new Object();\n    ...\n    public void run(){    \n        synchronized(mutex){\n            service.callSomeMethod();\n        }    \n    }   \n}\n</code></pre>\n<p>Or, depending on how <code>MyTimerTask</code> is used, removing <code>static</code> from the declaration of <code>mutex</code> might be better still (takes care of reason (c)).</p>\n"}],"owner":{"account_id":5629853,"reputation":91,"user_id":4457102,"display_name":"Santanu Guha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668259275,"creation_date":1668255240,"question_id":74412824,"body_markdown":"In one of my existing Spring Java code some one has written code like below : \r\nI am not sure why we need to synchronize String class for thread safety. Can anyone suggest?\r\n```\r\npublic class MyTimerTask extends TimerTask{\r\n    \r\n    @Autowired \r\n    MyService service;\r\n    \r\n    public void run(){\r\n        synchronized(String.class){\r\n            service.callSomeMethod();\r\n        }\r\n    }   \r\n    \r\n}\r\n```","title":"Synchronized on String.class","body":"<p>In one of my existing Spring Java code some one has written code like below :\nI am not sure why we need to synchronize String class for thread safety. Can anyone suggest?</p>\n<pre><code>public class MyTimerTask extends TimerTask{\n    \n    @Autowired \n    MyService service;\n    \n    public void run(){\n        synchronized(String.class){\n            service.callSomeMethod();\n        }\n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","random","duplicates","set","hashset"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668258463,"post_id":74412863,"comment_id":131364421,"body_markdown":"`nextInt` can return &quot;duplicates&quot; -- it&#39;s just a stream of random numbers.","body":"<code>nextInt</code> can return &quot;duplicates&quot; -- it&#39;s just a stream of random numbers."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668290000,"post_id":74412863,"comment_id":131370614,"body_markdown":"And by the way your `indexes` array is unused, other than providing its size.","body":"And by the way your <code>indexes</code> array is unused, other than providing its size."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668259229,"creation_date":1668259229,"answer_id":74413288,"question_id":74412863,"body_markdown":"Removing from a shuffled `List` is the way to go for something like this, so:\r\n\r\n       int numQuestions = quizQuestions.size();\r\n        List&lt;Integer&gt; randomQuestionIndexes = IntStream.range(0, numQuestions)\r\n            .boxed()\r\n            .collect(Collectors.toList());\r\n        Collections.shuffle(randomQuestionIndexes);\r\n        // Now *remove* n indexes at a time to ensure no repeat questions\r\n\r\nHere&#39;s how to [remove](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#remove(int))","title":"Quiz Application returning duplicates","body":"<p>Removing from a shuffled <code>List</code> is the way to go for something like this, so:</p>\n<pre><code>   int numQuestions = quizQuestions.size();\n    List&lt;Integer&gt; randomQuestionIndexes = IntStream.range(0, numQuestions)\n        .boxed()\n        .collect(Collectors.toList());\n    Collections.shuffle(randomQuestionIndexes);\n    // Now *remove* n indexes at a time to ensure no repeat questions\n</code></pre>\n<p>Here's how to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\">remove</a></p>\n"}],"owner":{"account_id":26909590,"reputation":1,"user_id":20485396,"display_name":"TeeDeey M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668259229,"creation_date":1668255499,"question_id":74412863,"body_markdown":"I&#39;m relatively new to programming , and I&#39;m creating a quiz application. The problem is it keeps on repeating questions\r\n```\r\nRandom random = new Random();\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nwhile (set.size() &lt; 3) {\r\n    set.add(random.nextInt(quizQuestions.size())); }\r\n// three random QuizQuestion indexes. e.g., [2, 6, 9] which may represent: [run, cry, jump]\r\nInteger[] answers = set.toArray(new Integer[set.size()]);\r\n// indexes [0, 1 , 2] to randomly fetch the QuizQuestion indexes:\r\nArrayList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(Arrays.asList(0, 1, 2));\r\n//set the animation question and increment:\r\nfor (int index = 0; index &lt; indexes.size(); index++){\r\nquizAnswer = quizQuestions.get(answers[index]);}\r\n```\r\n\r\n\r\nCan someone please direct me to where I&#39;m getting it wrong , and a solution with code will be highly appreciated.","title":"Quiz Application returning duplicates","body":"<p>I'm relatively new to programming , and I'm creating a quiz application. The problem is it keeps on repeating questions</p>\n<pre><code>Random random = new Random();\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\nwhile (set.size() &lt; 3) {\n    set.add(random.nextInt(quizQuestions.size())); }\n// three random QuizQuestion indexes. e.g., [2, 6, 9] which may represent: [run, cry, jump]\nInteger[] answers = set.toArray(new Integer[set.size()]);\n// indexes [0, 1 , 2] to randomly fetch the QuizQuestion indexes:\nArrayList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(Arrays.asList(0, 1, 2));\n//set the animation question and increment:\nfor (int index = 0; index &lt; indexes.size(); index++){\nquizAnswer = quizQuestions.get(answers[index]);}\n</code></pre>\n<p>Can someone please direct me to where I'm getting it wrong , and a solution with code will be highly appreciated.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1530675571,"post_id":51165280,"comment_id":89314004,"body_markdown":"What does your catch clause look like for these exceptions?  Can&#39;t you just have some different Java methods depending on what the exception is?","body":"What does your catch clause look like for these exceptions?  Can&#39;t you just have some different Java methods depending on what the exception is?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1530685445,"post_id":51165280,"comment_id":89317120,"body_markdown":"Visitor patterns won&#39;t help you if you can&#39;t implement `accept` methods in the element classes.","body":"Visitor patterns won&#39;t help you if you can&#39;t implement <code>accept</code> methods in the element classes."},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1530799541,"post_id":51165280,"comment_id":89368181,"body_markdown":"Who&#39;s calling `someJavaMethod`? Can you give more details about the method you&#39;re calling that generates the exception? Adapter might be possible, but more info is needed. Otherwise, couldn&#39;t Template method work? The if/then/else block would be an abstract polymorphic method to log the exceptions. With more info I could maybe write up a design as an answer.","body":"Who&#39;s calling <code>someJavaMethod</code>? Can you give more details about the method you&#39;re calling that generates the exception? Adapter might be possible, but more info is needed. Otherwise, couldn&#39;t Template method work? The if/then/else block would be an abstract polymorphic method to log the exceptions. With more info I could maybe write up a design as an answer."},{"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"score":0,"creation_date":1530810050,"post_id":51165280,"comment_id":89374843,"body_markdown":"AWS allows attaching an instance of RequestHandler2 with every request. If the request fails, it calls the afterError(Request, Response, Exception) method from the catch block. (We have a lot of such requests and catch blocks)\n\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/handlers/RequestHandler2.html#afterError-com.amazonaws.Request-com.amazonaws.Response-java.lang.Exception-","body":"AWS allows attaching an instance of RequestHandler2 with every request. If the request fails, it calls the afterError(Request, Response, Exception) method from the catch block. (We have a lot of such requests and catch blocks)  <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/handlers/RequestHandler2.html#afterError-com.amazonaws.Request-com.amazonaws.Response-java.lang.Exception-\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1531368968,"post_id":51165280,"comment_id":89571567,"body_markdown":"I appreciate the quick comeback!","body":"I appreciate the quick comeback!"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530674833,"creation_date":1530674833,"answer_id":51165336,"question_id":51165280,"body_markdown":"There are no fundamentally different ways of solving this (at least not in Java). If you were using a language that allows for multi-dispatch, you could overload the message for the different exception types.\r\n\r\nI would rather suggest to simply accept it. If at all I would see how the clean code rules help here, for example by making sure that each if block goes into a distinct method.\r\n\r\nWell, there is one slightly different approach: you could potentially use a map. Keys would be the exception class, the values would be *something* that contains the values for your different variables that need to be assigned. ","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>There are no fundamentally different ways of solving this (at least not in Java). If you were using a language that allows for multi-dispatch, you could overload the message for the different exception types.</p>\n\n<p>I would rather suggest to simply accept it. If at all I would see how the clean code rules help here, for example by making sure that each if block goes into a distinct method.</p>\n\n<p>Well, there is one slightly different approach: you could potentially use a map. Keys would be the exception class, the values would be <em>something</em> that contains the values for your different variables that need to be assigned. </p>\n"},{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530674970,"creation_date":1530674970,"answer_id":51165349,"question_id":51165280,"body_markdown":"What about throwing the exception in a try-catch block and using the catch clauses to identify which exception it is?","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>What about throwing the exception in a try-catch block and using the catch clauses to identify which exception it is?</p>\n"},{"tags":[],"owner":{"account_id":262777,"reputation":77,"user_id":547885,"accept_rate":0,"display_name":"Gfalco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668259207,"creation_date":1668259207,"answer_id":74413286,"question_id":51165280,"body_markdown":"Where you get the exception you define a map `Map&lt;String, ExceptionHandler&gt;` and call something like this:\r\n\r\n    Optional.of(stringExceptionMap.get(throwable.getClass().getSimpleName()))\r\n                                     .map(errorHandlers -&gt; errorHandlers.handle(throwable).orElseGet(() -&gt;  whatever));  \r\n\r\nwhere\r\n\r\n    public interface ExceptionHandler {\r\n    \r\n        T handle(Throwable throwable);\r\n    }\r\n\r\nhave strategies like \r\n\r\n    @Component(&quot;WebExchangeBindException&quot;)\r\n    public class WebExchangeBindExceptionErrorsExtractor implements ErrorsExtractor {\r\n    \r\n        @Override\r\n        public T handle(Throwable throwable) { ... } \r\n    }\r\n\r\n","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>Where you get the exception you define a map <code>Map&lt;String, ExceptionHandler&gt;</code> and call something like this:</p>\n<pre><code>Optional.of(stringExceptionMap.get(throwable.getClass().getSimpleName()))\n                                 .map(errorHandlers -&gt; errorHandlers.handle(throwable).orElseGet(() -&gt;  whatever));  \n</code></pre>\n<p>where</p>\n<pre><code>public interface ExceptionHandler {\n\n    T handle(Throwable throwable);\n}\n</code></pre>\n<p>have strategies like</p>\n<pre><code>@Component(&quot;WebExchangeBindException&quot;)\npublic class WebExchangeBindExceptionErrorsExtractor implements ErrorsExtractor {\n\n    @Override\n    public T handle(Throwable throwable) { ... } \n}\n</code></pre>\n"}],"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51165336,"answer_count":3,"score":2,"last_activity_date":1668259207,"creation_date":1530674298,"question_id":51165280,"body_markdown":"I am overriding a method provided by third-party library class and trying to record exceptions that occur:\r\n\r\n    @Override\r\n    someJavaMethod(arg1, arg2, Exception ex){\r\n            //Declare some variables with default values\r\n        if (ex instanceof SpecificException1)\r\n            //Set values for the variables\r\n        else if (ex instanceof SpecificException2)\r\n            //Set some other values for the variables\r\n        else\r\n            //Do nothing\r\n    }\r\n\r\nThe issue here is that `SpecificException1` and `SpecificException2` are both third-party exceptions and I cannot modify them.\r\n\r\nI understand that using `instanceof` is not a great way to handle this. What design pattern / OO principles I should use to handle this?\r\n\r\n(Also, I was advised to see the visitor and acyclic visitor design pattern, but I am not sure if they can be applied to classes that cannot be modified)\r\n","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>I am overriding a method provided by third-party library class and trying to record exceptions that occur:</p>\n\n<pre><code>@Override\nsomeJavaMethod(arg1, arg2, Exception ex){\n        //Declare some variables with default values\n    if (ex instanceof SpecificException1)\n        //Set values for the variables\n    else if (ex instanceof SpecificException2)\n        //Set some other values for the variables\n    else\n        //Do nothing\n}\n</code></pre>\n\n<p>The issue here is that <code>SpecificException1</code> and <code>SpecificException2</code> are both third-party exceptions and I cannot modify them.</p>\n\n<p>I understand that using <code>instanceof</code> is not a great way to handle this. What design pattern / OO principles I should use to handle this?</p>\n\n<p>(Also, I was advised to see the visitor and acyclic visitor design pattern, but I am not sure if they can be applied to classes that cannot be modified)</p>\n"},{"tags":["java","bouncycastle","pgp"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1494977632,"creation_date":1287116307,"answer_id":3939475,"question_id":3939447,"body_markdown":"Looking at the [source of PGPUtil][1] you can see what API to call when working with streams or arrays directly:\r\n  \r\n    \r\n\r\n    public static void writeFileToLiteralData(OutputStream out,\r\n                   char fileType, File file, byte[] buffer) throws IOException {\r\n       PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n       OutputStream pOut = lData.open(out, fileType, file.getName(),\r\n                       new Date(file.lastModified()), buffer);\r\n       FileInputStream in = new FileInputStream(file);\r\n       byte[] buf = new byte[buffer.length];\r\n       int len;\r\n\r\n       while ((len = in.read(buf)) &gt; 0) {\r\n             pOut.write(buf, 0, len);\r\n       }\r\n\r\n       lData.close();\r\n       in.close();\r\n    }\r\n\r\n\r\n  [1]: http://www.docjar.org/html/api/org/bouncycastle/openpgp/PGPUtil.java.html","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Looking at the <a href=\"http://www.docjar.org/html/api/org/bouncycastle/openpgp/PGPUtil.java.html\" rel=\"noreferrer\">source of PGPUtil</a> you can see what API to call when working with streams or arrays directly:</p>\n\n<pre><code>public static void writeFileToLiteralData(OutputStream out,\n               char fileType, File file, byte[] buffer) throws IOException {\n   PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n   OutputStream pOut = lData.open(out, fileType, file.getName(),\n                   new Date(file.lastModified()), buffer);\n   FileInputStream in = new FileInputStream(file);\n   byte[] buf = new byte[buffer.length];\n   int len;\n\n   while ((len = in.read(buf)) &gt; 0) {\n         pOut.write(buf, 0, len);\n   }\n\n   lData.close();\n   in.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28367,"reputation":131,"user_id":75739,"display_name":"JWHardcastle"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1347394782,"creation_date":1347394782,"answer_id":12377301,"question_id":3939447,"body_markdown":"Your code was extremely useful to me.  I am working in ColdFusion (with Java) and needed to take passwords, encode them in a short import file for LDIFDE (to be used in Active Directory on another server) and I never wanted the passwords to touch the disk in plaintext.  I modified it only slightly to add two functions that abstract out the common use case of encrypting a string *to* disk and decrypting *from* disk. Thank you @dstarh.\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPLiteralDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPObjectFactory;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    /**\r\n     * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\r\n     * routine provides the basic PGP services between byte arrays.\r\n     * \r\n     */\r\n    public class PgpEncryption {\r\n    \t\r\n    \tpublic PgpEncryption() {\r\n    \t\t// Empty constructor\r\n    \t}\r\n    \r\n        private static PGPPrivateKey findSecretKey(\r\n                PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\r\n                throws PGPException, NoSuchProviderException {\r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n    \r\n            if (pgpSecKey == null) {\r\n                return null;\r\n            }\r\n    \r\n            return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n        }\r\n    \r\n        /**\r\n         * decrypt the passed in message stream\r\n         * \r\n         * @param encrypted\r\n         *            The message to be decrypted.\r\n         * @param passPhrase\r\n         *            Pass phrase (key)\r\n         * \r\n         * @return Clear text as a byte array. I18N considerations are not handled\r\n         *         by this routine\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            InputStream in = new ByteArrayInputStream(encrypted);\r\n    \r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n            PGPEncryptedDataList enc = null;\r\n            Object o = pgpF.nextObject();\r\n    \r\n            //\r\n            // the first object might be a PGP marker packet.\r\n            //\r\n            if (o instanceof PGPEncryptedDataList) {\r\n                enc = (PGPEncryptedDataList) o;\r\n            } else {\r\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n            }\r\n    \r\n    \r\n    \r\n            //\r\n            // find the secret key\r\n            //\r\n            Iterator it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey sKey = null;\r\n            PGPPublicKeyEncryptedData pbe = null;\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(keyIn));\r\n    \r\n            while (sKey == null &amp;&amp; it.hasNext()) {\r\n                pbe = (PGPPublicKeyEncryptedData) it.next();\r\n    \r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\r\n            }\r\n    \r\n            if (sKey == null) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;secret key for message not found.&quot;);\r\n            }\r\n    \r\n            InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n    \r\n    \r\n    \r\n            PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\r\n    \r\n            PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\r\n    \r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n    \r\n            InputStream unc = ld.getInputStream();\r\n    \r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int ch;\r\n    \r\n            while ((ch = unc.read()) &gt;= 0) {\r\n                out.write(ch);\r\n    \r\n            }\r\n    \r\n            byte[] returnBytes = out.toByteArray();\r\n            out.close();\r\n            return returnBytes;\r\n        }\r\n    \r\n        /**\r\n         * Simple PGP encryptor between byte[].\r\n         * \r\n         * @param clearData\r\n         *            The test to be encrypted\r\n         * @param passPhrase\r\n         *            The pass phrase (key). This method assumes that the key is a\r\n         *            simple pass phrase, and does not yet support RSA or more\r\n         *            sophisiticated keying.\r\n         * @param fileName\r\n         *            File name. This is used in the Literal Data Packet (tag 11)\r\n         *            which is really inly important if the data is to be related to\r\n         *            a file to be recovered later. Because this routine does not\r\n         *            know the source of the information, the caller can set\r\n         *            something here for file name use that will be carried. If this\r\n         *            routine is being used to encrypt SOAP MIME bodies, for\r\n         *            example, use the file name from the MIME type, if applicable.\r\n         *            Or anything else appropriate.\r\n         * \r\n         * @param armor\r\n         * \r\n         * @return encrypted data.\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\r\n                String fileName,boolean withIntegrityCheck, boolean armor)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            if (fileName == null) {\r\n                fileName = PGPLiteralData.CONSOLE;\r\n            }\r\n    \r\n            ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n    \r\n            OutputStream out = encOut;\r\n            if (armor) {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n    \r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\r\n                    PGPCompressedDataGenerator.ZIP);\r\n            OutputStream cos = comData.open(bOut); // open it with the final\r\n            // destination\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n    \r\n            // we want to generate compressed data. This might be a user option\r\n            // later,\r\n            // in which case we would pass in bOut.\r\n            OutputStream pOut = lData.open(cos, // the compressed output stream\r\n                    PGPLiteralData.BINARY, fileName, // &quot;filename&quot; to store\r\n                    clearData.length, // length of clear data\r\n                    new Date() // current time\r\n                    );\r\n            pOut.write(clearData);\r\n    \r\n            lData.close();\r\n            comData.close();\r\n    \r\n            PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\r\n                    PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\r\n                    &quot;BC&quot;);\r\n    \r\n            cPk.addMethod(encKey);\r\n    \r\n            byte[] bytes = bOut.toByteArray();\r\n    \r\n            OutputStream cOut = cPk.open(out, bytes.length);\r\n    \r\n            cOut.write(bytes); // obtain the actual bytes from the compressed stream\r\n    \r\n            cOut.close();\r\n    \r\n            out.close();\r\n    \r\n            return encOut.toByteArray();\r\n        }\r\n    \r\n        private static PGPPublicKey readPublicKey(InputStream in)\r\n                throws IOException, PGPException {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for\r\n            // encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            //\r\n            // iterate through the key rings.\r\n            //\r\n            Iterator rIt = pgpPub.getKeyRings();\r\n    \r\n            while (rIt.hasNext()) {\r\n                PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n                Iterator kIt = kRing.getPublicKeys();\r\n    \r\n                while (kIt.hasNext()) {\r\n                    PGPPublicKey k = (PGPPublicKey) kIt.next();\r\n    \r\n                    if (k.isEncryptionKey()) {\r\n                        return k;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    \r\n        public static byte[] getBytesFromFile(File file) throws IOException {\r\n            InputStream is = new FileInputStream(file);\r\n    \r\n            // Get the size of the file\r\n            long length = file.length();\r\n    \r\n            if (length &gt; Integer.MAX_VALUE) {\r\n                // File is too large\r\n            }\r\n    \r\n            // Create the byte array to hold the data\r\n            byte[] bytes = new byte[(int)length];\r\n    \r\n            // Read in the bytes\r\n            int offset = 0;\r\n            int numRead = 0;\r\n            while (offset &lt; bytes.length\r\n                   &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n                offset += numRead;\r\n            }\r\n    \r\n            // Ensure all the bytes have been read in\r\n            if (offset &lt; bytes.length) {\r\n                throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n            }\r\n    \r\n            // Close the input stream and return bytes\r\n            is.close();\r\n            return bytes;\r\n        }\r\n    \t\r\n    \tpublic static String encryptToFile(String inputStr, String keyFile, String outFile) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \t\t\r\n    \t\tbyte[] original = inputStr.getBytes();\r\n    \t\t\r\n            FileInputStream pubKey = new FileInputStream(keyFile);\r\n            byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\r\n                    true, true);\r\n    \r\n            FileOutputStream dfis = new FileOutputStream(outFile);\r\n            dfis.write(encrypted);\r\n            dfis.close();\r\n    \t\t\r\n    \t\treturn new String(encrypted);\r\n    \t}\r\n    \t\r\n    \tpublic static String decryptFromFile(String passphrase, String keyFile, String inputFile) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \t\t\r\n            byte[] encFromFile = getBytesFromFile(new File(inputFile));\r\n            FileInputStream secKey = new FileInputStream(keyFile);\r\n    \r\n            byte[] decrypted = decrypt(encFromFile, secKey, passphrase.toCharArray());\r\n    \r\n    \t\treturn new String(decrypted);\r\n    \t}\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \t\tString encrypted = encryptToFile(&quot;Hello world&quot;,&quot;pub.asc&quot;,&quot;enc.asc&quot;);\r\n            System.out.println(&quot;\\nencrypted data = &#39;&quot; + new String(encrypted) + &quot;&#39;&quot;);\r\n    \r\n    \t\tString decrypted = decryptFromFile(&quot;open sesame&quot;, &quot;secret.asc&quot;, &quot;enc.asc&quot;);\r\n            System.out.println(&quot;\\ndecrypted data = &#39;&quot; + decrypted + &quot;&#39;&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Your code was extremely useful to me.  I am working in ColdFusion (with Java) and needed to take passwords, encode them in a short import file for LDIFDE (to be used in Active Directory on another server) and I never wanted the passwords to touch the disk in plaintext.  I modified it only slightly to add two functions that abstract out the common use case of encrypting a string <em>to</em> disk and decrypting <em>from</em> disk. Thank you @dstarh.</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPLiteralDataGenerator;\nimport org.bouncycastle.openpgp.PGPObjectFactory;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\n/**\n * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\n * routine provides the basic PGP services between byte arrays.\n * \n */\npublic class PgpEncryption {\n\n    public PgpEncryption() {\n        // Empty constructor\n    }\n\n    private static PGPPrivateKey findSecretKey(\n            PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\n            throws PGPException, NoSuchProviderException {\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(pass, \"BC\");\n    }\n\n    /**\n     * decrypt the passed in message stream\n     * \n     * @param encrypted\n     *            The message to be decrypted.\n     * @param passPhrase\n     *            Pass phrase (key)\n     * \n     * @return Clear text as a byte array. I18N considerations are not handled\n     *         by this routine\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\n            throws IOException, PGPException, NoSuchProviderException {\n        InputStream in = new ByteArrayInputStream(encrypted);\n\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc = null;\n        Object o = pgpF.nextObject();\n\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n\n\n        //\n        // find the secret key\n        //\n        Iterator it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(keyIn));\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\n        }\n\n        if (sKey == null) {\n            throw new IllegalArgumentException(\n                    \"secret key for message not found.\");\n        }\n\n        InputStream clear = pbe.getDataStream(sKey, \"BC\");\n\n\n\n        PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\n\n        PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\n\n        pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n        InputStream unc = ld.getInputStream();\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int ch;\n\n        while ((ch = unc.read()) &gt;= 0) {\n            out.write(ch);\n\n        }\n\n        byte[] returnBytes = out.toByteArray();\n        out.close();\n        return returnBytes;\n    }\n\n    /**\n     * Simple PGP encryptor between byte[].\n     * \n     * @param clearData\n     *            The test to be encrypted\n     * @param passPhrase\n     *            The pass phrase (key). This method assumes that the key is a\n     *            simple pass phrase, and does not yet support RSA or more\n     *            sophisiticated keying.\n     * @param fileName\n     *            File name. This is used in the Literal Data Packet (tag 11)\n     *            which is really inly important if the data is to be related to\n     *            a file to be recovered later. Because this routine does not\n     *            know the source of the information, the caller can set\n     *            something here for file name use that will be carried. If this\n     *            routine is being used to encrypt SOAP MIME bodies, for\n     *            example, use the file name from the MIME type, if applicable.\n     *            Or anything else appropriate.\n     * \n     * @param armor\n     * \n     * @return encrypted data.\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\n            String fileName,boolean withIntegrityCheck, boolean armor)\n            throws IOException, PGPException, NoSuchProviderException {\n        if (fileName == null) {\n            fileName = PGPLiteralData.CONSOLE;\n        }\n\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n\n        OutputStream out = encOut;\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\n                PGPCompressedDataGenerator.ZIP);\n        OutputStream cos = comData.open(bOut); // open it with the final\n        // destination\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n\n        // we want to generate compressed data. This might be a user option\n        // later,\n        // in which case we would pass in bOut.\n        OutputStream pOut = lData.open(cos, // the compressed output stream\n                PGPLiteralData.BINARY, fileName, // \"filename\" to store\n                clearData.length, // length of clear data\n                new Date() // current time\n                );\n        pOut.write(clearData);\n\n        lData.close();\n        comData.close();\n\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\n                PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\n                \"BC\");\n\n        cPk.addMethod(encKey);\n\n        byte[] bytes = bOut.toByteArray();\n\n        OutputStream cOut = cPk.open(out, bytes.length);\n\n        cOut.write(bytes); // obtain the actual bytes from the compressed stream\n\n        cOut.close();\n\n        out.close();\n\n        return encOut.toByteArray();\n    }\n\n    private static PGPPublicKey readPublicKey(InputStream in)\n            throws IOException, PGPException {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\n\n        //\n        // we just loop through the collection till we find a key suitable for\n        // encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator rIt = pgpPub.getKeyRings();\n\n        while (rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n\n            while (kIt.hasNext()) {\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\n\n                if (k.isEncryptionKey()) {\n                    return k;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(\n                \"Can't find encryption key in key ring.\");\n    }\n\n    public static byte[] getBytesFromFile(File file) throws IOException {\n        InputStream is = new FileInputStream(file);\n\n        // Get the size of the file\n        long length = file.length();\n\n        if (length &gt; Integer.MAX_VALUE) {\n            // File is too large\n        }\n\n        // Create the byte array to hold the data\n        byte[] bytes = new byte[(int)length];\n\n        // Read in the bytes\n        int offset = 0;\n        int numRead = 0;\n        while (offset &lt; bytes.length\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n            offset += numRead;\n        }\n\n        // Ensure all the bytes have been read in\n        if (offset &lt; bytes.length) {\n            throw new IOException(\"Could not completely read file \"+file.getName());\n        }\n\n        // Close the input stream and return bytes\n        is.close();\n        return bytes;\n    }\n\n    public static String encryptToFile(String inputStr, String keyFile, String outFile) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n        byte[] original = inputStr.getBytes();\n\n        FileInputStream pubKey = new FileInputStream(keyFile);\n        byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\n                true, true);\n\n        FileOutputStream dfis = new FileOutputStream(outFile);\n        dfis.write(encrypted);\n        dfis.close();\n\n        return new String(encrypted);\n    }\n\n    public static String decryptFromFile(String passphrase, String keyFile, String inputFile) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n        byte[] encFromFile = getBytesFromFile(new File(inputFile));\n        FileInputStream secKey = new FileInputStream(keyFile);\n\n        byte[] decrypted = decrypt(encFromFile, secKey, passphrase.toCharArray());\n\n        return new String(decrypted);\n    }\n\n    public static void main(String[] args) throws Exception {\n        String encrypted = encryptToFile(\"Hello world\",\"pub.asc\",\"enc.asc\");\n        System.out.println(\"\\nencrypted data = '\" + new String(encrypted) + \"'\");\n\n        String decrypted = decryptFromFile(\"open sesame\", \"secret.asc\", \"enc.asc\");\n        System.out.println(\"\\ndecrypted data = '\" + decrypted + \"'\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3486446,"reputation":51,"user_id":2917263,"display_name":"Dima Katzir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396363150,"creation_date":1396363150,"answer_id":22789151,"question_id":3939447,"body_markdown":"Found at [grepcode repository - payneteasy superfly sources](http://grepcode.com/file/repo1.maven.org/maven2/com.payneteasy.superfly/superfly-crypto/1.6-1/com/payneteasy/superfly/crypto/pgp/PGPUtils.java#PGPUtils.writeBytesToLiteralData%28java.io.OutputStream%2Cchar%2Cjava.lang.String%2Cbyte%5B%5D%29)\r\n\r\n    private static void writeBytesToLiteralData(OutputStream out,\r\n        char fileType, String name, byte[] bytes) throws IOException {\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n            OutputStream pOut = lData.open(out, fileType, name,bytes.length, new Date());\r\n            pOut.write(bytes);\r\n    }\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Found at <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.payneteasy.superfly/superfly-crypto/1.6-1/com/payneteasy/superfly/crypto/pgp/PGPUtils.java#PGPUtils.writeBytesToLiteralData%28java.io.OutputStream%2Cchar%2Cjava.lang.String%2Cbyte%5B%5D%29\" rel=\"nofollow\">grepcode repository - payneteasy superfly sources</a></p>\n\n<pre><code>private static void writeBytesToLiteralData(OutputStream out,\n    char fileType, String name, byte[] bytes) throws IOException {\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(out, fileType, name,bytes.length, new Date());\n        pOut.write(bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613618,"reputation":991,"user_id":2263214,"display_name":"Rasheed"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1539339797,"creation_date":1539339797,"answer_id":52777466,"question_id":3939447,"body_markdown":"This post may be old but this answer may be useful to someone else. To avoid writing to disk, if all you want to do is encrypt and decrypt text. You can do something like this (from the code snippet in the original post)...\r\n\r\n        // the string you will like to encrypt\r\n        byte[] original = &quot;I love programming&quot;.getBytes(); \r\n\r\n        // KeyProvider.PUBLIC_KEY this is just a string holding your public key. you can have it stored in memory or something. \r\n        byte[] encrypted = encrypt(original, readPublicKey(new ByteArrayInputStream(KeyProvider.PUBLIC_KEY.getBytes())), null, true, true); \r\n\r\n        System.out.println(new String(encrypted)); // this will output your encrypted message\r\n\r\n        //encryted here is the encrypted string in byte array you will like to decrypt and also the KeyProvider.PRIVATE_KEY is string holding your private key\r\n        byte[] decrypted = decrypt(encrypted, new ByteArrayInputStream(KeyProvider.PRIVATE_KEY.getBytes()), &quot;&quot;.toCharArray());\r\n\r\n\r\n        System.out.println(new String(decrypted)); //output the decrypted message\r\n\r\nHope this helps","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>This post may be old but this answer may be useful to someone else. To avoid writing to disk, if all you want to do is encrypt and decrypt text. You can do something like this (from the code snippet in the original post)...</p>\n\n<pre><code>    // the string you will like to encrypt\n    byte[] original = \"I love programming\".getBytes(); \n\n    // KeyProvider.PUBLIC_KEY this is just a string holding your public key. you can have it stored in memory or something. \n    byte[] encrypted = encrypt(original, readPublicKey(new ByteArrayInputStream(KeyProvider.PUBLIC_KEY.getBytes())), null, true, true); \n\n    System.out.println(new String(encrypted)); // this will output your encrypted message\n\n    //encryted here is the encrypted string in byte array you will like to decrypt and also the KeyProvider.PRIVATE_KEY is string holding your private key\n    byte[] decrypted = decrypt(encrypted, new ByteArrayInputStream(KeyProvider.PRIVATE_KEY.getBytes()), \"\".toCharArray());\n\n\n    System.out.println(new String(decrypted)); //output the decrypted message\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622426539,"creation_date":1622426539,"answer_id":67767170,"question_id":3939447,"body_markdown":"Here is my solution.  No file is created throughout the compress and encryption processes.\r\n\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.*;\r\n    \r\n    import java.io.*;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    public class PgpHelper {\r\n    \r\n        public static byte[] encrypt(String fileName, String content, String pgpPublicKey) throws IOException, PGPException, NoSuchProviderException {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            ByteArrayOutputStream zipOut = new ByteArrayOutputStream();\r\n            PGPCompressedDataGenerator zipData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\r\n            OutputStream zipPacket = new PGPLiteralDataGenerator()\r\n                .open(zipData.open(zipOut), PGPLiteralData.BINARY, fileName, content.length(), new Date());\r\n            zipPacket.write(content.getBytes(StandardCharsets.UTF_8));\r\n            zipPacket.close();\r\n            zipData.close();\r\n            byte[] zipBytes = zipOut.toByteArray();\r\n            zipOut.close();\r\n    \r\n            PGPEncryptedDataGenerator encryptor = new PGPEncryptedDataGenerator(\r\n                PGPEncryptedData.CAST5, true, new SecureRandom(), &quot;BC&quot;);\r\n            InputStream keyIn = new ByteArrayInputStream(pgpPublicKey.getBytes());\r\n            encryptor.addMethod(readPublicKey(keyIn));\r\n            keyIn.close();\r\n    \r\n            ByteArrayOutputStream encryptOut = new ByteArrayOutputStream();\r\n            OutputStream encryptPacket = encryptor.open(encryptOut, zipBytes.length);\r\n            encryptPacket.write(zipBytes);\r\n            encryptPacket.close();\r\n            byte[] encryptBytes = encryptOut.toByteArray();\r\n            encryptOut.close();\r\n            return encryptBytes;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\r\n            Iterator&lt;PGPPublicKeyRing&gt; itKeyRings = pgpPub.getKeyRings();\r\n            while (itKeyRings.hasNext()) {\r\n                PGPPublicKeyRing keyRing = itKeyRings.next();\r\n                Iterator&lt;PGPPublicKey&gt; itKeys = keyRing.getPublicKeys();\r\n                while (itKeys.hasNext()) {\r\n                    PGPPublicKey key = itKeys.next();\r\n                    if (key.isEncryptionKey()) {\r\n                        return key;\r\n                    }\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Here is my solution.  No file is created throughout the compress and encryption processes.</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.*;\n\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\npublic class PgpHelper {\n\n    public static byte[] encrypt(String fileName, String content, String pgpPublicKey) throws IOException, PGPException, NoSuchProviderException {\n        Security.addProvider(new BouncyCastleProvider());\n\n        ByteArrayOutputStream zipOut = new ByteArrayOutputStream();\n        PGPCompressedDataGenerator zipData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\n        OutputStream zipPacket = new PGPLiteralDataGenerator()\n            .open(zipData.open(zipOut), PGPLiteralData.BINARY, fileName, content.length(), new Date());\n        zipPacket.write(content.getBytes(StandardCharsets.UTF_8));\n        zipPacket.close();\n        zipData.close();\n        byte[] zipBytes = zipOut.toByteArray();\n        zipOut.close();\n\n        PGPEncryptedDataGenerator encryptor = new PGPEncryptedDataGenerator(\n            PGPEncryptedData.CAST5, true, new SecureRandom(), &quot;BC&quot;);\n        InputStream keyIn = new ByteArrayInputStream(pgpPublicKey.getBytes());\n        encryptor.addMethod(readPublicKey(keyIn));\n        keyIn.close();\n\n        ByteArrayOutputStream encryptOut = new ByteArrayOutputStream();\n        OutputStream encryptPacket = encryptor.open(encryptOut, zipBytes.length);\n        encryptPacket.write(zipBytes);\n        encryptPacket.close();\n        byte[] encryptBytes = encryptOut.toByteArray();\n        encryptOut.close();\n        return encryptBytes;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\n        Iterator&lt;PGPPublicKeyRing&gt; itKeyRings = pgpPub.getKeyRings();\n        while (itKeyRings.hasNext()) {\n            PGPPublicKeyRing keyRing = itKeyRings.next();\n            Iterator&lt;PGPPublicKey&gt; itKeys = keyRing.getPublicKeys();\n            while (itKeys.hasNext()) {\n                PGPPublicKey key = itKeys.next();\n                if (key.isEncryptionKey()) {\n                    return key;\n                }\n            }\n        }\n        throw new IllegalArgumentException(&quot;Can't find encryption key in key ring.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810132,"reputation":245,"user_id":6583432,"display_name":"Malkeith Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668259133,"creation_date":1668259133,"answer_id":74413277,"question_id":3939447,"body_markdown":"I also had the exact same use case, where I could not store the unencrypted data anywhere and I had to encrypt both bytes and inputstream. So I wrote a utility for it:\r\n\r\nFeel free to browse and use whatever chunk of code of code you want. Hope it helps !\r\n\r\nHere is the [repo link][1]\r\n\r\nThe [readme.md][2] contains instructions on how to use it\r\n\r\n[Here][3] is also a full fledged article on it.\r\n\r\nBelow is a snippet of the [test class][4], where I have working test cases for the **PGP encryption and decryption** of **bytes**, **inputstreams**, **outputstreams** and **files** which I guess covers every use case.\r\n\r\n\r\n    @Test\r\n    public void testByteEncryption() throws IOException, PGPException {\r\n        // Encrypting the test bytes\r\n        byte[] encryptedBytes = pgpEncryptionUtil.encrypt(testString.getBytes(Charset.defaultCharset()),\r\n                publicKey.openStream());\r\n        // Decrypting the generated encrypted bytes\r\n        byte[] decryptedBytes = pgpDecryptionUtil.decrypt(encryptedBytes);\r\n        // Comparing the original test string with string generated using the decrypted bytes\r\n        assertEquals(testString, new String(decryptedBytes, Charset.defaultCharset()));\r\n    }\r\n\r\n    @Test\r\n    public void testFileEncryption() throws IOException, URISyntaxException, PGPException {\r\n        // Generating a pgp encrypted temp file from the test file\r\n        File encryptedFile = tempFolder.newFile();\r\n        File originalFile = new File(testFile.toURI());\r\n        try (OutputStream fos = Files.newOutputStream(encryptedFile.toPath())) {\r\n            pgpEncryptionUtil.encrypt(fos, Files.newInputStream(originalFile.toPath()), originalFile.length(),\r\n                    publicKey.openStream());\r\n        }\r\n        // Decrypting the generated pgp encrypted temp file and writing to another temp file\r\n        File decryptedFile = tempFolder.newFile();\r\n        pgpDecryptionUtil.decrypt(Files.newInputStream(encryptedFile.toPath()),\r\n                Files.newOutputStream(decryptedFile.toPath()));\r\n        // Comparing the original file contents with the decrypted file contents\r\n        assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\r\n                IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\r\n    }\r\n\r\n    @Test\r\n    public void testInputStreamEncryption() throws IOException, URISyntaxException, PGPException {\r\n        // Generating a pgp encrypted input stream from the test file\r\n        File originalFile = new File(testFile.toURI());\r\n        InputStream encryptedIn = pgpEncryptionUtil.encrypt(Files.newInputStream(originalFile.toPath()),\r\n                originalFile.length(), publicKey.openStream());\r\n        // Decrypting the generated input stream and writing to a temp file\r\n        File decryptedFile = tempFolder.newFile();\r\n        pgpDecryptionUtil.decrypt(encryptedIn, Files.newOutputStream(decryptedFile.toPath()));\r\n        // Comparing the original file contents with the decrypted file contents\r\n        assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\r\n                IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/keith0591/pgp-encryption\r\n  [2]: https://github.com/keith0591/pgp-encryption/blob/main/README.md\r\n  [3]: https://medium.com/@kthsingh.ms/encrypt-and-decrypt-anything-bytes-files-streams-with-pgp-using-bouncy-castle-and-java-ad335ae9f747\r\n  [4]: https://github.com/keith0591/pgp-encryption/blob/main/src/test/java/com/malkeith/pgpUtils/PgpEncryptionTest.java","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>I also had the exact same use case, where I could not store the unencrypted data anywhere and I had to encrypt both bytes and inputstream. So I wrote a utility for it:</p>\n<p>Feel free to browse and use whatever chunk of code of code you want. Hope it helps !</p>\n<p>Here is the <a href=\"https://github.com/keith0591/pgp-encryption\" rel=\"nofollow noreferrer\">repo link</a></p>\n<p>The <a href=\"https://github.com/keith0591/pgp-encryption/blob/main/README.md\" rel=\"nofollow noreferrer\">readme.md</a> contains instructions on how to use it</p>\n<p><a href=\"https://medium.com/@kthsingh.ms/encrypt-and-decrypt-anything-bytes-files-streams-with-pgp-using-bouncy-castle-and-java-ad335ae9f747\" rel=\"nofollow noreferrer\">Here</a> is also a full fledged article on it.</p>\n<p>Below is a snippet of the <a href=\"https://github.com/keith0591/pgp-encryption/blob/main/src/test/java/com/malkeith/pgpUtils/PgpEncryptionTest.java\" rel=\"nofollow noreferrer\">test class</a>, where I have working test cases for the <strong>PGP encryption and decryption</strong> of <strong>bytes</strong>, <strong>inputstreams</strong>, <strong>outputstreams</strong> and <strong>files</strong> which I guess covers every use case.</p>\n<pre><code>@Test\npublic void testByteEncryption() throws IOException, PGPException {\n    // Encrypting the test bytes\n    byte[] encryptedBytes = pgpEncryptionUtil.encrypt(testString.getBytes(Charset.defaultCharset()),\n            publicKey.openStream());\n    // Decrypting the generated encrypted bytes\n    byte[] decryptedBytes = pgpDecryptionUtil.decrypt(encryptedBytes);\n    // Comparing the original test string with string generated using the decrypted bytes\n    assertEquals(testString, new String(decryptedBytes, Charset.defaultCharset()));\n}\n\n@Test\npublic void testFileEncryption() throws IOException, URISyntaxException, PGPException {\n    // Generating a pgp encrypted temp file from the test file\n    File encryptedFile = tempFolder.newFile();\n    File originalFile = new File(testFile.toURI());\n    try (OutputStream fos = Files.newOutputStream(encryptedFile.toPath())) {\n        pgpEncryptionUtil.encrypt(fos, Files.newInputStream(originalFile.toPath()), originalFile.length(),\n                publicKey.openStream());\n    }\n    // Decrypting the generated pgp encrypted temp file and writing to another temp file\n    File decryptedFile = tempFolder.newFile();\n    pgpDecryptionUtil.decrypt(Files.newInputStream(encryptedFile.toPath()),\n            Files.newOutputStream(decryptedFile.toPath()));\n    // Comparing the original file contents with the decrypted file contents\n    assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\n            IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\n}\n\n@Test\npublic void testInputStreamEncryption() throws IOException, URISyntaxException, PGPException {\n    // Generating a pgp encrypted input stream from the test file\n    File originalFile = new File(testFile.toURI());\n    InputStream encryptedIn = pgpEncryptionUtil.encrypt(Files.newInputStream(originalFile.toPath()),\n            originalFile.length(), publicKey.openStream());\n    // Decrypting the generated input stream and writing to a temp file\n    File decryptedFile = tempFolder.newFile();\n    pgpDecryptionUtil.decrypt(encryptedIn, Files.newOutputStream(decryptedFile.toPath()));\n    // Comparing the original file contents with the decrypted file contents\n    assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\n            IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\n}\n</code></pre>\n"}],"owner":{"account_id":46937,"reputation":4996,"user_id":138883,"accept_rate":90,"display_name":"dstarh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55618,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":3939475,"answer_count":6,"score":45,"last_activity_date":1668259133,"creation_date":1287115786,"question_id":3939447,"body_markdown":"I need to encrypt a stream with pgp using the bouncycastle provider.  All of the examples I can find are about taking a plain text file and encrypting that however I won&#39;t have a file and it&#39;s important that the plain text never be written to disk.\r\n\r\nMost of the methods I&#39;ve seen are using\r\n\r\nPGPUtil.writeFileToLiteralData which wants the plaintext passed in.  I&#39;d rather passin a byte[] or an inputStream.\r\n\r\nCan someone point me to an example that \r\n\r\n - starts from string/byte[]/inputstream\r\n - encrypts said string/byte[] to an outputStrem that I can write to a file\r\n - decrypts from an inputStream\r\n\r\nIn case anyone else stumbles upon this and wants the full solution\r\n\r\n\r\n    package com.common.security.pgp;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPLiteralDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPObjectFactory;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    /**\r\n     * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\r\n     * routine provides the basic PGP services between byte arrays.\r\n     * \r\n     */\r\n    public class PgpEncryption {\r\n    \r\n    \r\n        private static PGPPrivateKey findSecretKey(\r\n                PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\r\n                throws PGPException, NoSuchProviderException {\r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n    \r\n            if (pgpSecKey == null) {\r\n                return null;\r\n            }\r\n    \r\n            return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n        }\r\n    \r\n        /**\r\n         * decrypt the passed in message stream\r\n         * \r\n         * @param encrypted\r\n         *            The message to be decrypted.\r\n         * @param passPhrase\r\n         *            Pass phrase (key)\r\n         * \r\n         * @return Clear text as a byte array. I18N considerations are not handled\r\n         *         by this routine\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            InputStream in = new ByteArrayInputStream(encrypted);\r\n    \r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n            PGPEncryptedDataList enc = null;\r\n            Object o = pgpF.nextObject();\r\n    \r\n            //\r\n            // the first object might be a PGP marker packet.\r\n            //\r\n            if (o instanceof PGPEncryptedDataList) {\r\n                enc = (PGPEncryptedDataList) o;\r\n            } else {\r\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n            }\r\n    \r\n    \r\n    \r\n            //\r\n            // find the secret key\r\n            //\r\n            Iterator it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey sKey = null;\r\n            PGPPublicKeyEncryptedData pbe = null;\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(keyIn));\r\n    \r\n            while (sKey == null &amp;&amp; it.hasNext()) {\r\n                pbe = (PGPPublicKeyEncryptedData) it.next();\r\n    \r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\r\n            }\r\n    \r\n            if (sKey == null) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;secret key for message not found.&quot;);\r\n            }\r\n    \r\n            InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n    \r\n    \r\n    \r\n            PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\r\n    \r\n            PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\r\n    \r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n    \r\n            InputStream unc = ld.getInputStream();\r\n    \r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int ch;\r\n    \r\n            while ((ch = unc.read()) &gt;= 0) {\r\n                out.write(ch);\r\n    \r\n            }\r\n    \r\n            byte[] returnBytes = out.toByteArray();\r\n            out.close();\r\n            return returnBytes;\r\n        }\r\n    \r\n        /**\r\n         * Simple PGP encryptor between byte[].\r\n         * \r\n         * @param clearData\r\n         *            The test to be encrypted\r\n         * @param passPhrase\r\n         *            The pass phrase (key). This method assumes that the key is a\r\n         *            simple pass phrase, and does not yet support RSA or more\r\n         *            sophisiticated keying.\r\n         * @param fileName\r\n         *            File name. This is used in the Literal Data Packet (tag 11)\r\n         *            which is really inly important if the data is to be related to\r\n         *            a file to be recovered later. Because this routine does not\r\n         *            know the source of the information, the caller can set\r\n         *            something here for file name use that will be carried. If this\r\n         *            routine is being used to encrypt SOAP MIME bodies, for\r\n         *            example, use the file name from the MIME type, if applicable.\r\n         *            Or anything else appropriate.\r\n         * \r\n         * @param armor\r\n         * \r\n         * @return encrypted data.\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\r\n                String fileName,boolean withIntegrityCheck, boolean armor)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            if (fileName == null) {\r\n                fileName = PGPLiteralData.CONSOLE;\r\n            }\r\n    \r\n            ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n    \r\n            OutputStream out = encOut;\r\n            if (armor) {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n    \r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\r\n                    PGPCompressedDataGenerator.ZIP);\r\n            OutputStream cos = comData.open(bOut); // open it with the final\r\n            // destination\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n    \r\n            // we want to generate compressed data. This might be a user option\r\n            // later,\r\n            // in which case we would pass in bOut.\r\n            OutputStream pOut = lData.open(cos, // the compressed output stream\r\n                    PGPLiteralData.BINARY, fileName, // &quot;filename&quot; to store\r\n                    clearData.length, // length of clear data\r\n                    new Date() // current time\r\n                    );\r\n            pOut.write(clearData);\r\n    \r\n            lData.close();\r\n            comData.close();\r\n    \r\n            PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\r\n                    PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\r\n                    &quot;BC&quot;);\r\n    \r\n            cPk.addMethod(encKey);\r\n    \r\n            byte[] bytes = bOut.toByteArray();\r\n    \r\n            OutputStream cOut = cPk.open(out, bytes.length);\r\n    \r\n            cOut.write(bytes); // obtain the actual bytes from the compressed stream\r\n    \r\n            cOut.close();\r\n    \r\n            out.close();\r\n    \r\n            return encOut.toByteArray();\r\n        }\r\n    \r\n        private static PGPPublicKey readPublicKey(InputStream in)\r\n                throws IOException, PGPException {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for\r\n            // encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            //\r\n            // iterate through the key rings.\r\n            //\r\n            Iterator rIt = pgpPub.getKeyRings();\r\n    \r\n            while (rIt.hasNext()) {\r\n                PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n                Iterator kIt = kRing.getPublicKeys();\r\n    \r\n                while (kIt.hasNext()) {\r\n                    PGPPublicKey k = (PGPPublicKey) kIt.next();\r\n    \r\n                    if (k.isEncryptionKey()) {\r\n                        return k;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    \r\n        public static byte[] getBytesFromFile(File file) throws IOException {\r\n            InputStream is = new FileInputStream(file);\r\n    \r\n            // Get the size of the file\r\n            long length = file.length();\r\n    \r\n            if (length &gt; Integer.MAX_VALUE) {\r\n                // File is too large\r\n            }\r\n    \r\n            // Create the byte array to hold the data\r\n            byte[] bytes = new byte[(int)length];\r\n    \r\n            // Read in the bytes\r\n            int offset = 0;\r\n            int numRead = 0;\r\n            while (offset &lt; bytes.length\r\n                   &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n                offset += numRead;\r\n            }\r\n    \r\n            // Ensure all the bytes have been read in\r\n            if (offset &lt; bytes.length) {\r\n                throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n            }\r\n    \r\n            // Close the input stream and return bytes\r\n            is.close();\r\n            return bytes;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n    \r\n            byte[] original = &quot;Hello world&quot;.getBytes();\r\n            System.out.println(&quot;Starting PGP test&quot;);\r\n    \r\n            FileInputStream pubKey = new FileInputStream(&quot;/Users/me/pub.key&quot;);\r\n            byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\r\n                    true, true);\r\n    \r\n            FileOutputStream dfis = new FileOutputStream(&quot;/Users/me/enc.asc&quot;);\r\n            dfis.write(encrypted);\r\n            dfis.close();\r\n    \r\n            byte[] encFromFile = getBytesFromFile(new File(&quot;/Users/me/enc.asc&quot;));\r\n            FileInputStream secKey = new FileInputStream(&quot;/Users/me/sec.key&quot;);\r\n    \r\n            System.out.println(&quot;\\nencrypted data = &#39;&quot; + new String(encrypted) + &quot;&#39;&quot;);\r\n    \r\n            byte[] decrypted = decrypt(encFromFile, secKey, &quot;passphrase&quot;.toCharArray());\r\n    \r\n            System.out.println(&quot;\\ndecrypted data = &#39;&quot; + new String(decrypted) + &quot;&#39;&quot;);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>I need to encrypt a stream with pgp using the bouncycastle provider.  All of the examples I can find are about taking a plain text file and encrypting that however I won't have a file and it's important that the plain text never be written to disk.</p>\n\n<p>Most of the methods I've seen are using</p>\n\n<p>PGPUtil.writeFileToLiteralData which wants the plaintext passed in.  I'd rather passin a byte[] or an inputStream.</p>\n\n<p>Can someone point me to an example that </p>\n\n<ul>\n<li>starts from string/byte[]/inputstream</li>\n<li>encrypts said string/byte[] to an outputStrem that I can write to a file</li>\n<li>decrypts from an inputStream</li>\n</ul>\n\n<p>In case anyone else stumbles upon this and wants the full solution</p>\n\n<pre><code>package com.common.security.pgp;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPLiteralDataGenerator;\nimport org.bouncycastle.openpgp.PGPObjectFactory;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\n/**\n * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\n * routine provides the basic PGP services between byte arrays.\n * \n */\npublic class PgpEncryption {\n\n\n    private static PGPPrivateKey findSecretKey(\n            PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\n            throws PGPException, NoSuchProviderException {\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(pass, \"BC\");\n    }\n\n    /**\n     * decrypt the passed in message stream\n     * \n     * @param encrypted\n     *            The message to be decrypted.\n     * @param passPhrase\n     *            Pass phrase (key)\n     * \n     * @return Clear text as a byte array. I18N considerations are not handled\n     *         by this routine\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\n            throws IOException, PGPException, NoSuchProviderException {\n        InputStream in = new ByteArrayInputStream(encrypted);\n\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc = null;\n        Object o = pgpF.nextObject();\n\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n\n\n        //\n        // find the secret key\n        //\n        Iterator it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(keyIn));\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\n        }\n\n        if (sKey == null) {\n            throw new IllegalArgumentException(\n                    \"secret key for message not found.\");\n        }\n\n        InputStream clear = pbe.getDataStream(sKey, \"BC\");\n\n\n\n        PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\n\n        PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\n\n        pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n        InputStream unc = ld.getInputStream();\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int ch;\n\n        while ((ch = unc.read()) &gt;= 0) {\n            out.write(ch);\n\n        }\n\n        byte[] returnBytes = out.toByteArray();\n        out.close();\n        return returnBytes;\n    }\n\n    /**\n     * Simple PGP encryptor between byte[].\n     * \n     * @param clearData\n     *            The test to be encrypted\n     * @param passPhrase\n     *            The pass phrase (key). This method assumes that the key is a\n     *            simple pass phrase, and does not yet support RSA or more\n     *            sophisiticated keying.\n     * @param fileName\n     *            File name. This is used in the Literal Data Packet (tag 11)\n     *            which is really inly important if the data is to be related to\n     *            a file to be recovered later. Because this routine does not\n     *            know the source of the information, the caller can set\n     *            something here for file name use that will be carried. If this\n     *            routine is being used to encrypt SOAP MIME bodies, for\n     *            example, use the file name from the MIME type, if applicable.\n     *            Or anything else appropriate.\n     * \n     * @param armor\n     * \n     * @return encrypted data.\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\n            String fileName,boolean withIntegrityCheck, boolean armor)\n            throws IOException, PGPException, NoSuchProviderException {\n        if (fileName == null) {\n            fileName = PGPLiteralData.CONSOLE;\n        }\n\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n\n        OutputStream out = encOut;\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\n                PGPCompressedDataGenerator.ZIP);\n        OutputStream cos = comData.open(bOut); // open it with the final\n        // destination\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n\n        // we want to generate compressed data. This might be a user option\n        // later,\n        // in which case we would pass in bOut.\n        OutputStream pOut = lData.open(cos, // the compressed output stream\n                PGPLiteralData.BINARY, fileName, // \"filename\" to store\n                clearData.length, // length of clear data\n                new Date() // current time\n                );\n        pOut.write(clearData);\n\n        lData.close();\n        comData.close();\n\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\n                PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\n                \"BC\");\n\n        cPk.addMethod(encKey);\n\n        byte[] bytes = bOut.toByteArray();\n\n        OutputStream cOut = cPk.open(out, bytes.length);\n\n        cOut.write(bytes); // obtain the actual bytes from the compressed stream\n\n        cOut.close();\n\n        out.close();\n\n        return encOut.toByteArray();\n    }\n\n    private static PGPPublicKey readPublicKey(InputStream in)\n            throws IOException, PGPException {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\n\n        //\n        // we just loop through the collection till we find a key suitable for\n        // encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator rIt = pgpPub.getKeyRings();\n\n        while (rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n\n            while (kIt.hasNext()) {\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\n\n                if (k.isEncryptionKey()) {\n                    return k;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(\n                \"Can't find encryption key in key ring.\");\n    }\n\n    public static byte[] getBytesFromFile(File file) throws IOException {\n        InputStream is = new FileInputStream(file);\n\n        // Get the size of the file\n        long length = file.length();\n\n        if (length &gt; Integer.MAX_VALUE) {\n            // File is too large\n        }\n\n        // Create the byte array to hold the data\n        byte[] bytes = new byte[(int)length];\n\n        // Read in the bytes\n        int offset = 0;\n        int numRead = 0;\n        while (offset &lt; bytes.length\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n            offset += numRead;\n        }\n\n        // Ensure all the bytes have been read in\n        if (offset &lt; bytes.length) {\n            throw new IOException(\"Could not completely read file \"+file.getName());\n        }\n\n        // Close the input stream and return bytes\n        is.close();\n        return bytes;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n\n        byte[] original = \"Hello world\".getBytes();\n        System.out.println(\"Starting PGP test\");\n\n        FileInputStream pubKey = new FileInputStream(\"/Users/me/pub.key\");\n        byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\n                true, true);\n\n        FileOutputStream dfis = new FileOutputStream(\"/Users/me/enc.asc\");\n        dfis.write(encrypted);\n        dfis.close();\n\n        byte[] encFromFile = getBytesFromFile(new File(\"/Users/me/enc.asc\"));\n        FileInputStream secKey = new FileInputStream(\"/Users/me/sec.key\");\n\n        System.out.println(\"\\nencrypted data = '\" + new String(encrypted) + \"'\");\n\n        byte[] decrypted = decrypt(encFromFile, secKey, \"passphrase\".toCharArray());\n\n        System.out.println(\"\\ndecrypted data = '\" + new String(decrypted) + \"'\");\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","google-play","google-play-console","android-app-bundle"],"owner":{"account_id":24618580,"reputation":11,"user_id":18519242,"display_name":"carlvindevzw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668259039,"creation_date":1668253609,"question_id":74412639,"body_markdown":"I just deployed my app on the play store. It crashed when users downloaded it and does not open. Here are screenshots from Google&#39;s crash report. I don&#39;t understand the errors. Please help. [Screenshot1][1] and [Screenshot2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cICN7.png\r\n  [2]: https://i.stack.imgur.com/FaZUh.png","title":"App crashing on launch when downloaded from google playstore","body":"<p>I just deployed my app on the play store. It crashed when users downloaded it and does not open. Here are screenshots from Google's crash report. I don't understand the errors. Please help. <a href=\"https://i.stack.imgur.com/cICN7.png\" rel=\"nofollow noreferrer\">Screenshot1</a> and <a href=\"https://i.stack.imgur.com/FaZUh.png\" rel=\"nofollow noreferrer\">Screenshot2</a></p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":272038,"reputation":16255,"user_id":562906,"accept_rate":60,"display_name":"sinelaw"},"score":1,"creation_date":1344740656,"post_id":11919400,"comment_id":15871370,"body_markdown":"Check out this related question: http://stackoverflow.com/q/1481178/562906","body":"Check out this related question: <a href=\"http://stackoverflow.com/q/1481178/562906\">stackoverflow.com/q/1481178/562906</a>"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344740693,"creation_date":1344740693,"answer_id":11919414,"question_id":11919400,"body_markdown":"You can dispose of objects and suggest the garbage collector do its work, but if the GC does not feel it is necessary, the request will be ignored.  So in summary, &#39;no&#39;.\r\n\r\nNote that memory assigned to Java apps. is set before the app. starts, and is not adjustable.","title":"Release java memory for OS at runtime","body":"<p>You can dispose of objects and suggest the garbage collector do its work, but if the GC does not feel it is necessary, the request will be ignored.  So in summary, 'no'.</p>\n\n<p>Note that memory assigned to Java apps. is set before the app. starts, and is not adjustable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427627828,"creation_date":1344744405,"answer_id":11919654,"question_id":11919400,"body_markdown":"&gt; I want my application release the memory to the OS when it doesn&#39;t need to use a big memory. Can I do it at runtime with java app?\r\n\r\nNo you can&#39;t.\r\n\r\nUnder some circumstances, the GC will release memory back to the OS of its own accord, but I&#39;m not aware of any JVM that allows an application to tell the GC to do this.  And on top of that, the GC is rather conservative about doing this because ... as a general rule ... the JVM will operate more efficiently with more memory, and continually requesting / giving back memory to the OS is inefficient.\r\n\r\n----------------\r\n\r\nNote that the GC tuning option `-XX:MaxHeapFreeRatio` can be used to specify the maximum ratio of free to used heap before the GC will give memory back.  However, there are complications.  For example, not all available GCs respect this option.  If you are going to try this approach, I suggest you do some research ... and don&#39;t expect miracles.","title":"Release java memory for OS at runtime","body":"<blockquote>\n  <p>I want my application release the memory to the OS when it doesn't need to use a big memory. Can I do it at runtime with java app?</p>\n</blockquote>\n\n<p>No you can't.</p>\n\n<p>Under some circumstances, the GC will release memory back to the OS of its own accord, but I'm not aware of any JVM that allows an application to tell the GC to do this.  And on top of that, the GC is rather conservative about doing this because ... as a general rule ... the JVM will operate more efficiently with more memory, and continually requesting / giving back memory to the OS is inefficient.</p>\n\n<hr>\n\n<p>Note that the GC tuning option <code>-XX:MaxHeapFreeRatio</code> can be used to specify the maximum ratio of free to used heap before the GC will give memory back.  However, there are complications.  For example, not all available GCs respect this option.  If you are going to try this approach, I suggest you do some research ... and don't expect miracles.</p>\n"},{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502981206,"creation_date":1344744880,"answer_id":11919681,"question_id":11919400,"body_markdown":"The serialgc in hotspot will give memory back... at least it used to. Your performance will nose dive.\r\n\r\nAll of the garbage collectors in IBM J9 jvm will release memory. I&#39;m not sure this jvm is a free download...\r\n\r\n\r\nThe best answer is, why are you concerned? Memory is dirt cheap these days and free memory is wasted memory. Is this *actually* a problem? The OS will page the extra unused memory to disk anyway. The best answer is to ignore it. :)\r\n\r\n\r\nYou might also consider Googling off-heap storage, perhaps Teracotta/eh cache.\r\n\r\nEDIT:\r\n\r\nI just noticed in JDK1.7u6, that using G1GC with a small Xms and large Xmx, the garbage collector will reduce the size of the heap after a few garbage collections where excess objects have been freed.","title":"Release java memory for OS at runtime","body":"<p>The serialgc in hotspot will give memory back... at least it used to. Your performance will nose dive.</p>\n\n<p>All of the garbage collectors in IBM J9 jvm will release memory. I'm not sure this jvm is a free download...</p>\n\n<p>The best answer is, why are you concerned? Memory is dirt cheap these days and free memory is wasted memory. Is this <em>actually</em> a problem? The OS will page the extra unused memory to disk anyway. The best answer is to ignore it. :)</p>\n\n<p>You might also consider Googling off-heap storage, perhaps Teracotta/eh cache.</p>\n\n<p>EDIT:</p>\n\n<p>I just noticed in JDK1.7u6, that using G1GC with a small Xms and large Xmx, the garbage collector will reduce the size of the heap after a few garbage collections where excess objects have been freed.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363815490,"creation_date":1363815490,"answer_id":15535249,"question_id":11919400,"body_markdown":"I have posted my test results [over there][1]. Basically, MaxHeapFreeRatio is not respected by every GC implementation, and, to make it worse, it seems to be necessary that there is enough heap activity in order to trigger it in a timely manner, ie. could be that you require 2 full GC runs to actually release the memory to the OS. And if you have a burst memory footprint of X GB, then you probably have to allocate 1 or 2 times of that amount in order to trigger the heap downsize. Or you call System.gc() manually.\r\n\r\nIf performance is not an issue, and memory footprint is all that counts, try:\r\n\r\n    -XX:UseSerialGC -Xms16M -Xminf=5 -Xmaxf=10\r\n\r\n  [1]: http://javagc.blogspot.de/2013/03/java-hotspot-vm-footprint-optimization.html","title":"Release java memory for OS at runtime","body":"<p>I have posted my test results <a href=\"http://javagc.blogspot.de/2013/03/java-hotspot-vm-footprint-optimization.html\" rel=\"noreferrer\">over there</a>. Basically, MaxHeapFreeRatio is not respected by every GC implementation, and, to make it worse, it seems to be necessary that there is enough heap activity in order to trigger it in a timely manner, ie. could be that you require 2 full GC runs to actually release the memory to the OS. And if you have a burst memory footprint of X GB, then you probably have to allocate 1 or 2 times of that amount in order to trigger the heap downsize. Or you call System.gc() manually.</p>\n\n<p>If performance is not an issue, and memory footprint is all that counts, try:</p>\n\n<pre><code>-XX:UseSerialGC -Xms16M -Xminf=5 -Xmaxf=10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375725240,"creation_date":1375725240,"answer_id":18064531,"question_id":11919400,"body_markdown":"Try forking parts of your code to a separate thread and dispose it when you don&#39;t need it anymore.","title":"Release java memory for OS at runtime","body":"<p>Try forking parts of your code to a separate thread and dispose it when you don't need it anymore.</p>\n"}],"owner":{"account_id":1741732,"reputation":71,"user_id":1592936,"display_name":"user1592936"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6870,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1668258146,"creation_date":1344740526,"question_id":11919400,"body_markdown":"Suppose I have a Swings Java Application,\r\nI set the min Heap is 64MB and max Heap 2GB,\r\nwhen the user start the application, the log in screen\r\nwill be displayed, at this time the app uses 64MB, rights?\r\nFrom my Windows 7, I can see the java application is allocated 64MB\r\nfrom the Memory Resource Monitor of the OS (actually, it&#39;s more than 64MB because JVM need some memory for it&#39;s task).\r\n\r\nAfter that the user does some very heavy job then the application uses 2G.\r\nThen the user log out the application, the log in screen is displayed again (the application is not closed yet). At this time the real memory that the application\r\nis using 64MB (suppose this is the perfect memory management application),\r\nbut with the OS this application is still using 2G of RAM, I can see it on the resource monitor of the OS.\r\n\r\nI want my application release the memory to the OS when it doesn&#39;t need to use a big memory. Can I do it at runtime with java app?\r\n\r\nI mean when my application need to use 64MB of Ram,\r\nthen the OS gives it 64MB only,\r\nwhen it need 2GB of ram then the OS gives it 2GB,\r\nafter that it need 64MB of ram then the OS gives it 64MB only again,\r\nI don&#39;t want it waste 2000MB - 64MB = 1936MB.\r\n\r\nCan I do that?\r\n\r\n","title":"Release java memory for OS at runtime","body":"<p>Suppose I have a Swings Java Application,\nI set the min Heap is 64MB and max Heap 2GB,\nwhen the user start the application, the log in screen\nwill be displayed, at this time the app uses 64MB, rights?\nFrom my Windows 7, I can see the java application is allocated 64MB\nfrom the Memory Resource Monitor of the OS (actually, it's more than 64MB because JVM need some memory for it's task).</p>\n<p>After that the user does some very heavy job then the application uses 2G.\nThen the user log out the application, the log in screen is displayed again (the application is not closed yet). At this time the real memory that the application\nis using 64MB (suppose this is the perfect memory management application),\nbut with the OS this application is still using 2G of RAM, I can see it on the resource monitor of the OS.</p>\n<p>I want my application release the memory to the OS when it doesn't need to use a big memory. Can I do it at runtime with java app?</p>\n<p>I mean when my application need to use 64MB of Ram,\nthen the OS gives it 64MB only,\nwhen it need 2GB of ram then the OS gives it 2GB,\nafter that it need 64MB of ram then the OS gives it 64MB only again,\nI don't want it waste 2000MB - 64MB = 1936MB.</p>\n<p>Can I do that?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668258048,"post_id":74413111,"comment_id":131364340,"body_markdown":"Depending on the garbage collector Java uses (either automatically configured, or explicitly by you), and its configuration, the Java process might not release memory back to the OS once allocated.","body":"Depending on the garbage collector Java uses (either automatically configured, or explicitly by you), and its configuration, the Java process might not release memory back to the OS once allocated."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668258141,"post_id":74413111,"comment_id":131364354,"body_markdown":"Furthermore, if H2 runs in-memory, then all data related to the H2 database is kept in-memory. This data can obviously not be deleted and can only be removed when the application stops (and tears down the in-memory H2 database as well).","body":"Furthermore, if H2 runs in-memory, then all data related to the H2 database is kept in-memory. This data can obviously not be deleted and can only be removed when the application stops (and tears down the in-memory H2 database as well)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668269368,"post_id":74413111,"comment_id":131366609,"body_markdown":"please try these: `System.gc();` and `System.out.println(Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory());` (before/after gc)","body":"please try these: <code>System.gc();</code> and <code>System.out.println(Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory());</code> (before/after gc)"},{"owner":{"account_id":23517909,"reputation":11,"user_id":20485663,"display_name":"drevnicky"},"score":0,"creation_date":1668276306,"post_id":74413111,"comment_id":131367941,"body_markdown":"The value 110184176 is displayed before System.gc() is executed, and 9480752 is displayed afterwards. In Task Manager, the maximum value of occupied RAM is 250 MB. This is much smaller than in the photo attached to the question. It turns out that the garbage collector partially helps to solve the problem","body":"The value 110184176 is displayed before System.gc() is executed, and 9480752 is displayed afterwards. In Task Manager, the maximum value of occupied RAM is 250 MB. This is much smaller than in the photo attached to the question. It turns out that the garbage collector partially helps to solve the problem"}],"owner":{"account_id":23517909,"reputation":11,"user_id":20485663,"display_name":"drevnicky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668257993,"creation_date":1668257721,"question_id":74413111,"body_markdown":"Below is my test code. H2 database. In the example, at startup, the first 15 seconds of RAM consumption is 11 MB. Next comes the creation of a table and repeated access to the database to write data. At this point, the consumption of RAM increases. After the cycle with calls is completed, there is no connection to the database, but the RAM is still busy. Why is that? Shouldn&#39;t the memory be freed? And how to achieve this? And in general, what is this occupied volume? If you increase the number of repetitions of the loop, the occupied memory will no longer be, or it will become slightly larger. \r\n\r\nI tried to change the fields of the created table. Tried to forcefully close the connection to the database. I expected that the DBMS, after accessing it, would not take up space in RAM\r\n\r\n\r\n[![](https://i.stack.imgur.com/YWeQb.png)](https://i.stack.imgur.com/YWeQb.png)\r\n\r\n[![](https://i.stack.imgur.com/kqCgM.png)](https://i.stack.imgur.com/kqCgM.png)\r\n\r\n\r\n```package h2test;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.Date;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\n\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\n\r\npublic class H2CreateExample {\r\n    \r\n    private static String jdbcURL = &quot;jdbc:h2:~/biba&quot;;\r\n    private static String jdbcUsername = &quot;sa&quot;;\r\n    private static String jdbcPassword = &quot;&quot;;\r\n\r\n    private static Connection getConnection() {\r\n        Connection connection = null;\r\n        try {\r\n            connection = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return connection;\r\n    }\r\n\r\n    private static void printSQLException(SQLException ex) {\r\n        for(Throwable e: ex) {\r\n            if(e instanceof SQLException) {\r\n                e.printStackTrace(System.err);\r\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\r\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\r\n                System.err.println(&quot;Message: &quot; + e.getMessage());\r\n                Throwable t = ex.getCause();\r\n                while (t != null) {\r\n                    System.out.println(&quot;Cause: &quot; + t);\r\n                    t = t.getCause();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static final String createTableSQL = &quot;CREATE TABLE `data` (\\n&quot;\r\n            + &quot; `id` BIGINT auto_increment,\\n&quot;\r\n            + &quot; `date` DATE NOT NULL,\\n&quot;\r\n            + &quot; `dataText` TEXT,\\n&quot;\r\n            + &quot; `dataImage` JAVA_OBJECT,\\n&quot;\r\n            + &quot; PRIMARY KEY (`id`)&quot;\r\n            + &quot;);&quot;;\r\n    \r\n    private static void createDataTable() throws SQLException {\r\n        try (Connection connection = getConnection(); Statement statement = connection.createStatement()) {\r\n            statement.execute(createTableSQL);\r\n        } catch (SQLException e) {\r\n            printSQLException(e);\r\n        }\r\n    }\r\n    \r\n    private static final String INSERT_USERS_SQL = &quot;INSERT INTO `data`&quot; +\r\n            &quot; (`date`, `dataText`, `dataImage`) VALUES &quot; +\r\n            &quot; (?, ?, ?);&quot;; // \r\n    \r\n    public static long add(Date date,\r\n            String dataText,\r\n            ImageIcon image) throws SQLException {\r\n        \r\n        long result = -1;\r\n        \r\n        try (Connection connection = getConnection();\r\n                PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\r\n            preparedStatement.setDate(1, new java.sql.Date(date.getTime()));\r\n            preparedStatement.setString(2, dataText);\r\n            preparedStatement.setObject(3, image);\r\n            \r\n            preparedStatement.executeUpdate();\r\n            \r\n        } catch (SQLException e) {\r\n            printSQLException(e);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] argv) throws SQLException {\r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) { }\r\n        \r\n        createDataTable();\r\n        System.out.println(&quot; &quot;);\r\n        \r\n        File file = new File(&quot;/home/drevnicky/Images/black.jpg&quot;);\r\n        ImageIcon image = null;\r\n        \r\n        try {\r\n            image = new ImageIcon(ImageIO.read(file));\r\n        } catch (IOException e) { }\r\n        \r\n        for(int k = 0; k&lt;50; k++) {\r\n            add(new Date(), &quot;Text 123&quot;, image);\r\n            System.out.println(&quot;k &quot; + k);\r\n        }\r\n        \r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) { }\r\n        \r\n    }\r\n}```","title":"Why does my application occupy and not release memory?","body":"<p>Below is my test code. H2 database. In the example, at startup, the first 15 seconds of RAM consumption is 11 MB. Next comes the creation of a table and repeated access to the database to write data. At this point, the consumption of RAM increases. After the cycle with calls is completed, there is no connection to the database, but the RAM is still busy. Why is that? Shouldn't the memory be freed? And how to achieve this? And in general, what is this occupied volume? If you increase the number of repetitions of the loop, the occupied memory will no longer be, or it will become slightly larger.</p>\n<p>I tried to change the fields of the created table. Tried to forcefully close the connection to the database. I expected that the DBMS, after accessing it, would not take up space in RAM</p>\n<p><a href=\"https://i.stack.imgur.com/YWeQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YWeQb.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kqCgM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqCgM.png\" alt=\"\" /></a></p>\n<pre><code>\nimport java.io.File;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Date;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\n\npublic class H2CreateExample {\n    \n    private static String jdbcURL = &quot;jdbc:h2:~/biba&quot;;\n    private static String jdbcUsername = &quot;sa&quot;;\n    private static String jdbcPassword = &quot;&quot;;\n\n    private static Connection getConnection() {\n        Connection connection = null;\n        try {\n            connection = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return connection;\n    }\n\n    private static void printSQLException(SQLException ex) {\n        for(Throwable e: ex) {\n            if(e instanceof SQLException) {\n                e.printStackTrace(System.err);\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\n                System.err.println(&quot;Message: &quot; + e.getMessage());\n                Throwable t = ex.getCause();\n                while (t != null) {\n                    System.out.println(&quot;Cause: &quot; + t);\n                    t = t.getCause();\n                }\n            }\n        }\n    }\n    \n    private static final String createTableSQL = &quot;CREATE TABLE `data` (\\n&quot;\n            + &quot; `id` BIGINT auto_increment,\\n&quot;\n            + &quot; `date` DATE NOT NULL,\\n&quot;\n            + &quot; `dataText` TEXT,\\n&quot;\n            + &quot; `dataImage` JAVA_OBJECT,\\n&quot;\n            + &quot; PRIMARY KEY (`id`)&quot;\n            + &quot;);&quot;;\n    \n    private static void createDataTable() throws SQLException {\n        try (Connection connection = getConnection(); Statement statement = connection.createStatement()) {\n            statement.execute(createTableSQL);\n        } catch (SQLException e) {\n            printSQLException(e);\n        }\n    }\n    \n    private static final String INSERT_USERS_SQL = &quot;INSERT INTO `data`&quot; +\n            &quot; (`date`, `dataText`, `dataImage`) VALUES &quot; +\n            &quot; (?, ?, ?);&quot;; // \n    \n    public static long add(Date date,\n            String dataText,\n            ImageIcon image) throws SQLException {\n        \n        long result = -1;\n        \n        try (Connection connection = getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\n            preparedStatement.setDate(1, new java.sql.Date(date.getTime()));\n            preparedStatement.setString(2, dataText);\n            preparedStatement.setObject(3, image);\n            \n            preparedStatement.executeUpdate();\n            \n        } catch (SQLException e) {\n            printSQLException(e);\n        }\n        return result;\n    }\n\n    public static void main(String[] argv) throws SQLException {\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) { }\n        \n        createDataTable();\n        System.out.println(&quot; &quot;);\n        \n        File file = new File(&quot;/home/drevnicky/Images/black.jpg&quot;);\n        ImageIcon image = null;\n        \n        try {\n            image = new ImageIcon(ImageIO.read(file));\n        } catch (IOException e) { }\n        \n        for(int k = 0; k&lt;50; k++) {\n            add(new Date(), &quot;Text 123&quot;, image);\n            System.out.println(&quot;k &quot; + k);\n        }\n        \n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) { }\n        \n    }\n}```\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668252505,"post_id":74412440,"comment_id":131363333,"body_markdown":"Convert and join both arrays into java.util.List, sort it using Collections.sort (descending) and pick the 2nd element.","body":"Convert and join both arrays into java.util.List, sort it using Collections.sort (descending) and pick the 2nd element."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668252656,"post_id":74412440,"comment_id":131363365,"body_markdown":"...or do it in O(N) ;) https://jdoodle.com/ia/zdo","body":"...or do it in O(N) ;) <a href=\"https://jdoodle.com/ia/zdo\" rel=\"nofollow noreferrer\">jdoodle.com/ia/zdo</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668253156,"post_id":74412440,"comment_id":131363469,"body_markdown":"only &quot;corner case&quot; I see: multiple players have max score. with the above solution the output would be (equal to) max score.","body":"only &quot;corner case&quot; I see: multiple players have max score. with the above solution the output would be (equal to) max score."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668253263,"post_id":74412440,"comment_id":131363490,"body_markdown":"..and &quot;absolute corner case&quot;: all players have same score/0 ...","body":"..and &quot;absolute corner case&quot;: all players have same score/0 ..."},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1668255550,"post_id":74412440,"comment_id":131363899,"body_markdown":"@xerx593 Can you please tell me what does &quot;int[]... arrs&quot; mean. I have never used this. Does it combine both the arrays as one?","body":"@xerx593 Can you please tell me what does &quot;int[]... arrs&quot; mean. I have never used this. Does it combine both the arrays as one?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668255941,"post_id":74412440,"comment_id":131363964,"body_markdown":"Not combine..., this method accepts (1-)N (int) arrays... It&#39;s called &quot;varargs&quot; https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html , then just iterate over all `arrs`","body":"Not combine..., this method accepts (1-)N (int) arrays... It&#39;s called &quot;varargs&quot; <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/language/&hellip;</a> , then just iterate over all <code>arrs</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668257621,"post_id":74412440,"comment_id":131364239,"body_markdown":"More corner cases: - only 1 player;(( - invalid/negative score...;(;(","body":"More corner cases: - only 1 player;(( - invalid/negative score...;(;("}],"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668257955,"answer_count":0,"score":0,"last_activity_date":1668257978,"creation_date":1668252041,"question_id":74412440,"body_markdown":"In a cricket match, the runs made by players of both teams are stored in two arrays. The sizes of the array can be variable based on the wickets being taken by the other team. Find the second highest score after the entire match.\r\n\r\nExample Input: arr1 = {25, 45, 43, 67, 82};\r\n\r\narr2 = {30, 18, 10, 90, 85};\r\n\r\nOutput: 85\r\n\r\nMy Approach: Sort both the arrays and then take two variables max and second_Max and based on conditioning find the second highest score. But, I am not able to get efficient solution.\r\n\r\nPlease help me in solving this array based problem. And if you could consider all the corner cases.\r\n\r\nThanks in advance","title":"Find the second highest Score in a cricket match","body":"<p>In a cricket match, the runs made by players of both teams are stored in two arrays. The sizes of the array can be variable based on the wickets being taken by the other team. Find the second highest score after the entire match.</p>\n<p>Example Input: arr1 = {25, 45, 43, 67, 82};</p>\n<p>arr2 = {30, 18, 10, 90, 85};</p>\n<p>Output: 85</p>\n<p>My Approach: Sort both the arrays and then take two variables max and second_Max and based on conditioning find the second highest score. But, I am not able to get efficient solution.</p>\n<p>Please help me in solving this array based problem. And if you could consider all the corner cases.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":12,"creation_date":1401278066,"post_id":428918,"comment_id":36819518,"body_markdown":"If you are using Java 8 or newer you can use the new date/time api. See this answer: http://stackoverflow.com/a/23910924/1115554","body":"If you are using Java 8 or newer you can use the new date/time api. See this answer: <a href=\"http://stackoverflow.com/a/23910924/1115554\">stackoverflow.com/a/23910924/1115554</a>"},{"owner":{"account_id":227011,"reputation":1825,"user_id":488413,"accept_rate":85,"display_name":"Pietro"},"score":6,"creation_date":1422368495,"post_id":428918,"comment_id":44714452,"body_markdown":"new DateTime().plusDays(1).toDate() ???","body":"new DateTime().plusDays(1).toDate() ???"}],"answers":[{"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1641836842,"creation_date":1231522046,"answer_id":428942,"question_id":428918,"body_markdown":"Construct a Calendar object and call `add(Calendar.DATE, 1);`","title":"How can I increment a date by one day in Java?","body":"<p>Construct a Calendar object and call <code>add(Calendar.DATE, 1);</code></p>\n"},{"tags":[],"owner":{"account_id":14254,"reputation":9688,"user_id":29173,"accept_rate":86,"display_name":"Ross"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1231522128,"creation_date":1231522128,"answer_id":428947,"question_id":428918,"body_markdown":"Use the [`DateFormat`][1] API to convert the String into a Date object, then use the [`Calendar`][2] API to add one day. Let me know if you want specific code examples, and I can update my answer.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html","title":"How can I increment a date by one day in Java?","body":"<p>Use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"noreferrer\"><code>DateFormat</code></a> API to convert the String into a Date object, then use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> API to add one day. Let me know if you want specific code examples, and I can update my answer.</p>\n"},{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"down_vote_count":2,"up_vote_count":72,"is_accepted":false,"score":70,"last_activity_date":1247845249,"creation_date":1231522246,"answer_id":428953,"question_id":428918,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd&quot; );\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime( dateFormat.parse( inputString ) );\r\n    cal.add( Calendar.DATE, 1 );\r\n","title":"How can I increment a date by one day in Java?","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyy-MM-dd\" );\nCalendar cal = Calendar.getInstance();\ncal.setTime( dateFormat.parse( inputString ) );\ncal.add( Calendar.DATE, 1 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18677,"reputation":7818,"user_id":43016,"display_name":"Dave"},"down_vote_count":3,"up_vote_count":759,"is_accepted":false,"score":756,"last_activity_date":1247844684,"creation_date":1231522433,"answer_id":428966,"question_id":428918,"body_markdown":"Something like this should do the trick:\r\n\r\n    String dt = &quot;2008-01-01&quot;;  // Start date\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTime(sdf.parse(dt));\r\n    c.add(Calendar.DATE, 1);  // number of days to add\r\n    dt = sdf.format(c.getTime());  // dt is now the new date","title":"How can I increment a date by one day in Java?","body":"<p>Something like this should do the trick:</p>\n\n<pre><code>String dt = \"2008-01-01\";  // Start date\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nCalendar c = Calendar.getInstance();\nc.setTime(sdf.parse(dt));\nc.add(Calendar.DATE, 1);  // number of days to add\ndt = sdf.format(c.getTime());  // dt is now the new date\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15869,"reputation":4818,"user_id":33974,"display_name":"DaWilli"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1549360663,"creation_date":1231524785,"answer_id":429100,"question_id":428918,"body_markdown":"Take a look at Joda-Time (https://www.joda.org/joda-time/).\r\n\r\n    DateTimeFormatter parser = ISODateTimeFormat.date();\r\n\r\n    DateTime date = parser.parseDateTime(dateString);\r\n\r\n    String nextDay = parser.print(date.plusDays(1));\r\n    ","title":"How can I increment a date by one day in Java?","body":"<p>Take a look at Joda-Time (<a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">https://www.joda.org/joda-time/</a>).</p>\n\n<pre><code>DateTimeFormatter parser = ISODateTimeFormat.date();\n\nDateTime date = parser.parseDateTime(dateString);\n\nString nextDay = parser.print(date.plusDays(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":680062,"reputation":441,"user_id":528112,"display_name":"Florian R."},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1291300650,"creation_date":1291300650,"answer_id":4336131,"question_id":428918,"body_markdown":"Please note that this line adds 24 hours:\r\n\r\n    d1.getTime() + 1 * 24 * 60 * 60 * 1000\r\n\r\nbut this line adds one day\r\n\r\n    cal.add( Calendar.DATE, 1 );\r\nOn days with a daylight savings time change (25 or 23 hours) you will get different results!\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>Please note that this line adds 24 hours:</p>\n\n<pre><code>d1.getTime() + 1 * 24 * 60 * 60 * 1000\n</code></pre>\n\n<p>but this line adds one day</p>\n\n<pre><code>cal.add( Calendar.DATE, 1 );\n</code></pre>\n\n<p>On days with a daylight savings time change (25 or 23 hours) you will get different results!</p>\n"},{"tags":[],"owner":{"account_id":121289,"reputation":4343,"user_id":314283,"accept_rate":92,"display_name":"Lisa"},"down_vote_count":4,"up_vote_count":259,"is_accepted":false,"score":255,"last_activity_date":1620970576,"creation_date":1331188003,"answer_id":9613729,"question_id":428918,"body_markdown":"UPDATE (May 2021): This is a really outdated answer for old, old Java. For Java 8 and above, see https://stackoverflow.com/a/20906602/314283\r\n\r\nJava does appear to be well behind the eight-ball compared to C#. This utility method shows the way to do in Java SE 6 using the [Calendar.add method][1] (presumably the only easy way).\r\n\r\n    public class DateUtil\r\n    {\r\n        public static Date addDays(Date date, int days)\r\n        {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return cal.getTime();\r\n        }\r\n    }\r\n\r\nTo add one day, per the question asked, call it as follows:\r\n\r\n    String sourceDate = &quot;2012-02-29&quot;;\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date myDate = format.parse(sourceDate);\r\n    myDate = DateUtil.addDays(myDate, 1);\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#add%28int,%20int%29","title":"How can I increment a date by one day in Java?","body":"<p>UPDATE (May 2021): This is a really outdated answer for old, old Java. For Java 8 and above, see <a href=\"https://stackoverflow.com/a/20906602/314283\">https://stackoverflow.com/a/20906602/314283</a></p>\n<p>Java does appear to be well behind the eight-ball compared to C#. This utility method shows the way to do in Java SE 6 using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#add%28int,%20int%29\" rel=\"noreferrer\">Calendar.add method</a> (presumably the only easy way).</p>\n<pre><code>public class DateUtil\n{\n    public static Date addDays(Date date, int days)\n    {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return cal.getTime();\n    }\n}\n</code></pre>\n<p>To add one day, per the question asked, call it as follows:</p>\n<pre><code>String sourceDate = &quot;2012-02-29&quot;;\nSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nDate myDate = format.parse(sourceDate);\nmyDate = DateUtil.addDays(myDate, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220512,"reputation":936,"user_id":1187246,"display_name":"Risav Karna"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1376102832,"creation_date":1344861204,"answer_id":11934356,"question_id":428918,"body_markdown":"I prefer to use **DateUtils** from Apache. Check this http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html. It is handy especially when you have to use it multiple places in your project and would not want to write your one liner method for this. \r\n\r\nThe API says: \r\n\r\n&gt; addDays(Date date, int amount) : Adds a number of days to a date returning a new object.\r\n\r\nNote that it returns a new Date object and does not make changes to the previous one itself.","title":"How can I increment a date by one day in Java?","body":"<p>I prefer to use <strong>DateUtils</strong> from Apache. Check this <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html\">http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html</a>. It is handy especially when you have to use it multiple places in your project and would not want to write your one liner method for this. </p>\n\n<p>The API says: </p>\n\n<blockquote>\n  <p>addDays(Date date, int amount) : Adds a number of days to a date returning a new object.</p>\n</blockquote>\n\n<p>Note that it returns a new Date object and does not make changes to the previous one itself.</p>\n"},{"tags":[],"owner":{"account_id":425560,"reputation":71,"user_id":806232,"display_name":"Filip Trajcevski"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1344937490,"creation_date":1344937490,"answer_id":11949674,"question_id":428918,"body_markdown":"    Date newDate = new Date();\r\n    newDate.setDate(newDate.getDate()+1);\r\n    System.out.println(newDate);\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<pre><code>Date newDate = new Date();\nnewDate.setDate(newDate.getDate()+1);\nSystem.out.println(newDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559868,"reputation":1793,"user_id":2221087,"accept_rate":83,"display_name":"ROCKY"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364496578,"creation_date":1364496578,"answer_id":15689884,"question_id":428918,"body_markdown":"Apache Commons already has this DateUtils.addDays(Date date, int amount)     http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29 which you use or you could go with the JodaTime to make it more cleaner.","title":"How can I increment a date by one day in Java?","body":"<p>Apache Commons already has this DateUtils.addDays(Date date, int amount)     <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29\">http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29</a> which you use or you could go with the JodaTime to make it more cleaner.</p>\n"},{"tags":[],"owner":{"account_id":3707694,"reputation":261,"user_id":3085767,"display_name":"Akhilesh T."},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1509469386,"creation_date":1386658807,"answer_id":20488107,"question_id":428918,"body_markdown":"    Date today = new Date();               \r\n    SimpleDateFormat formattedDate = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\t\t\t  \r\n    Calendar c = Calendar.getInstance();\t\t\r\n    c.add(Calendar.DATE, 1);  // number of days to add\t\t\r\n    String tomorrow = (String)(formattedDate.format(c.getTime()));\r\n    System.out.println(&quot;Tomorrows date is &quot; + tomorrow);\r\n\r\nThis will give tomorrow&#39;s date. `c.add(...)` parameters could be changed from 1 to another number for appropriate increment.","title":"How can I increment a date by one day in Java?","body":"<pre><code>Date today = new Date();               \nSimpleDateFormat formattedDate = new SimpleDateFormat(\"yyyyMMdd\");            \nCalendar c = Calendar.getInstance();        \nc.add(Calendar.DATE, 1);  // number of days to add      \nString tomorrow = (String)(formattedDate.format(c.getTime()));\nSystem.out.println(\"Tomorrows date is \" + tomorrow);\n</code></pre>\n\n<p>This will give tomorrow's date. <code>c.add(...)</code> parameters could be changed from 1 to another number for appropriate increment.</p>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"down_vote_count":1,"up_vote_count":106,"is_accepted":false,"score":105,"last_activity_date":1435685614,"creation_date":1388761697,"answer_id":20906602,"question_id":428918,"body_markdown":"# java.time\n\nOn Java 8 and later, the [java.time package][1] makes this pretty much automatic. ([Tutorial][2])\n\nAssuming `String` input and output:\r\n\r\n    import java.time.LocalDate;\r\n\r\n    public class DateIncrementer {\r\n      static public String addOneDay(String date) {\r\n        return LocalDate.parse(date).plusDays(1).toString();\r\n      }\r\n    }\r\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/overview/index.html","title":"How can I increment a date by one day in Java?","body":"<h1>java.time</h1>\n\n<p>On Java 8 and later, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\">java.time package</a> makes this pretty much automatic. (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/overview/index.html\">Tutorial</a>)</p>\n\n<p>Assuming <code>String</code> input and output:</p>\n\n<pre><code>import java.time.LocalDate;\n\npublic class DateIncrementer {\n  static public String addOneDay(String date) {\n    return LocalDate.parse(date).plusDays(1).toString();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1473630080,"creation_date":1401278028,"answer_id":23910924,"question_id":428918,"body_markdown":"Java 8 added a new API for working with dates and times.\r\n\r\nWith Java 8 you can use the following lines of code:\r\n\r\n    // parse date from yyyy-mm-dd pattern\r\n    LocalDate januaryFirst = LocalDate.parse(&quot;2014-01-01&quot;);\r\n\r\n    // add one day\r\n    LocalDate januarySecond = januaryFirst.plusDays(1);\r\n    \r\n\r\n    ","title":"How can I increment a date by one day in Java?","body":"<p>Java 8 added a new API for working with dates and times.</p>\n\n<p>With Java 8 you can use the following lines of code:</p>\n\n<pre><code>// parse date from yyyy-mm-dd pattern\nLocalDate januaryFirst = LocalDate.parse(\"2014-01-01\");\n\n// add one day\nLocalDate januarySecond = januaryFirst.plusDays(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524897,"reputation":2922,"user_id":2194456,"accept_rate":47,"display_name":"LMK"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1402921675,"creation_date":1402921675,"answer_id":24243737,"question_id":428918,"body_markdown":"Just pass date in String and number of next days  \r\n  \r\n     private String getNextDate(String givenDate,int noOfDays) {\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            Calendar cal = Calendar.getInstance();\r\n            String nextDaysDate = null;\r\n        try {\r\n            cal.setTime(dateFormat.parse(givenDate));\r\n            cal.add(Calendar.DATE, noOfDays);\r\n            \r\n           nextDaysDate = dateFormat.format(cal.getTime());\r\n            \r\n        } catch (ParseException ex) {\r\n            Logger.getLogger(GR_TravelRepublic.class.getName()).log(Level.SEVERE, null, ex);\r\n        }finally{\r\n        dateFormat = null;\r\n        cal = null;\r\n        }\r\n\r\n        return nextDaysDate;\r\n\r\n    }","title":"How can I increment a date by one day in Java?","body":"<p>Just pass date in String and number of next days  </p>\n\n<pre><code> private String getNextDate(String givenDate,int noOfDays) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n        Calendar cal = Calendar.getInstance();\n        String nextDaysDate = null;\n    try {\n        cal.setTime(dateFormat.parse(givenDate));\n        cal.add(Calendar.DATE, noOfDays);\n\n       nextDaysDate = dateFormat.format(cal.getTime());\n\n    } catch (ParseException ex) {\n        Logger.getLogger(GR_TravelRepublic.class.getName()).log(Level.SEVERE, null, ex);\n    }finally{\n    dateFormat = null;\n    cal = null;\n    }\n\n    return nextDaysDate;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4997827,"reputation":310,"user_id":4017733,"display_name":"dvaey"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1410804933,"creation_date":1410804933,"answer_id":25854287,"question_id":428918,"body_markdown":"    long timeadj = 24*60*60*1000;\n    Date newDate = new Date (oldDate.getTime ()+timeadj);\n\nThis takes the number of milliseconds since epoch from oldDate and adds 1 day worth of milliseconds then uses the Date() public constructor to create a date using the new value. This method allows you to add 1 day, or any number of hours/minutes, not only whole days.","title":"How can I increment a date by one day in Java?","body":"<pre><code>long timeadj = 24*60*60*1000;\nDate newDate = new Date (oldDate.getTime ()+timeadj);\n</code></pre>\n\n<p>This takes the number of milliseconds since epoch from oldDate and adds 1 day worth of milliseconds then uses the Date() public constructor to create a date using the new value. This method allows you to add 1 day, or any number of hours/minutes, not only whole days.</p>\n"},{"tags":[],"owner":{"account_id":1813321,"reputation":113,"user_id":1648958,"display_name":"terrmith"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423490320,"creation_date":1423490320,"answer_id":28411462,"question_id":428918,"body_markdown":"If you want to add a single unit of time and you expect that other fields to be incremented as well, you can safely use add method. See example below:\r\n\r\n    SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(1970,Calendar.DECEMBER,31);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n    cal.add(Calendar.DATE, 1);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n    cal.add(Calendar.DATE, -1);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n\r\nWill Print:\r\n\r\n    1970-12-31\r\n    1971-01-01\r\n    1970-12-31","title":"How can I increment a date by one day in Java?","body":"<p>If you want to add a single unit of time and you expect that other fields to be incremented as well, you can safely use add method. See example below:</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nCalendar cal = Calendar.getInstance();\ncal.set(1970,Calendar.DECEMBER,31);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\ncal.add(Calendar.DATE, 1);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\ncal.add(Calendar.DATE, -1);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\n</code></pre>\n\n<p>Will Print:</p>\n\n<pre><code>1970-12-31\n1971-01-01\n1970-12-31\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5516732,"reputation":479,"user_id":4381218,"display_name":"Pawan Pareek"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1435577080,"creation_date":1435577080,"answer_id":31114423,"question_id":428918,"body_markdown":"you can use Simple java.util lib\r\n\r\n    Calendar cal = Calendar.getInstance(); \r\n    cal.setTime(yourDate); \r\n    cal.add(Calendar.DATE, 1);\r\n    yourDate = cal.getTime();","title":"How can I increment a date by one day in Java?","body":"<p>you can use Simple java.util lib</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(); \ncal.setTime(yourDate); \ncal.add(Calendar.DATE, 1);\nyourDate = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3204517,"reputation":4873,"user_id":2924323,"accept_rate":96,"display_name":"Ramesh-X"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1448958022,"creation_date":1448958022,"answer_id":34015665,"question_id":428918,"body_markdown":"In java 8 you can use `java.time.LocalDate`\r\n\r\n    LocalDate parsedDate = LocalDate.parse(&quot;2015-10-30&quot;); //Parse date from String\r\n    LocalDate addedDate = parsedDate.plusDays(1);   //Add one to the day field\r\n\r\nYou can convert in into `java.util.Date` object as follows.\r\n\r\n    Date date = Date.from(addedDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\r\nYou can formate `LocalDate` into a String as follows.\r\n\r\n    String str = addedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));","title":"How can I increment a date by one day in Java?","body":"<p>In java 8 you can use <code>java.time.LocalDate</code></p>\n\n<pre><code>LocalDate parsedDate = LocalDate.parse(\"2015-10-30\"); //Parse date from String\nLocalDate addedDate = parsedDate.plusDays(1);   //Add one to the day field\n</code></pre>\n\n<p>You can convert in into <code>java.util.Date</code> object as follows.</p>\n\n<pre><code>Date date = Date.from(addedDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n\n<p>You can formate <code>LocalDate</code> into a String as follows.</p>\n\n<pre><code>String str = addedDate.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5149275,"reputation":955,"user_id":4124310,"display_name":"realhu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454313024,"creation_date":1454313024,"answer_id":35125368,"question_id":428918,"body_markdown":"If you are using Java 8, ```java.time.LocalDate``` and ```java.time.format.DateTimeFormatter``` can make this work quite simple.\r\n    \r\n    public String nextDate(String date){\r\n          LocalDate parsedDate = LocalDate.parse(date);\r\n          LocalDate addedDate = parsedDate.plusDays(1);\r\n          DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd&quot;);\r\n          return addedDate.format(formatter); \r\n    }\r\n","title":"How can I increment a date by one day in Java?","body":"<p>If you are using Java 8, <code>java.time.LocalDate</code> and <code>java.time.format.DateTimeFormatter</code> can make this work quite simple.</p>\n\n<pre><code>public String nextDate(String date){\n      LocalDate parsedDate = LocalDate.parse(date);\n      LocalDate addedDate = parsedDate.plusDays(1);\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-mm-dd\");\n      return addedDate.format(formatter); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031960,"reputation":1619,"user_id":1040124,"display_name":"Jens"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1487966692,"creation_date":1487966692,"answer_id":42447357,"question_id":428918,"body_markdown":"Since **Java 1.5** [TimeUnit.DAYS.toMillis(1)][1] looks more clean to me.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd&quot; );\r\n    Date day = dateFormat.parse(string);\r\n    // add the day\r\n    Date dayAfter = new Date(day.getTime() + TimeUnit.DAYS.toMillis(1));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html","title":"How can I increment a date by one day in Java?","body":"<p>Since <strong>Java 1.5</strong> <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit.DAYS.toMillis(1)</a> looks more clean to me.</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyy-MM-dd\" );\nDate day = dateFormat.parse(string);\n// add the day\nDate dayAfter = new Date(day.getTime() + TimeUnit.DAYS.toMillis(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890350,"reputation":9028,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1515925555,"creation_date":1495865352,"answer_id":44213568,"question_id":428918,"body_markdown":"If you are using **Java 8**, then do it like this.\r\n\r\n    LocalDate sourceDate = LocalDate.of(2017, Month.MAY, 27);  // Source Date\r\n    LocalDate destDate = sourceDate.plusDays(1); // Adding a day to source date.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); // Setting date format\r\n\r\n    String destDate = destDate.format(formatter));  // End date\r\n\r\nIf you want to use **SimpleDateFormat**, then do it like this.\r\n\r\n    String sourceDate = &quot;2017-05-27&quot;;  // Start date\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(sdf.parse(sourceDate)); // parsed date and setting to calendar\r\n\r\n    calendar.add(Calendar.DATE, 1);  // number of days to add\r\n    String destDate = sdf.format(calendar.getTime());  // End date","title":"How can I increment a date by one day in Java?","body":"<p>If you are using <strong>Java 8</strong>, then do it like this.</p>\n\n<pre><code>LocalDate sourceDate = LocalDate.of(2017, Month.MAY, 27);  // Source Date\nLocalDate destDate = sourceDate.plusDays(1); // Adding a day to source date.\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"); // Setting date format\n\nString destDate = destDate.format(formatter));  // End date\n</code></pre>\n\n<p>If you want to use <strong>SimpleDateFormat</strong>, then do it like this.</p>\n\n<pre><code>String sourceDate = \"2017-05-27\";  // Start date\n\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(sdf.parse(sourceDate)); // parsed date and setting to calendar\n\ncalendar.add(Calendar.DATE, 1);  // number of days to add\nString destDate = sdf.format(calendar.getTime());  // End date\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1532551359,"creation_date":1514278704,"answer_id":47976131,"question_id":428918,"body_markdown":"It&#39;s very simple, trying to explain in a simple word.\r\nget the today&#39;s date as below \r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    System.out.println(calendar.getTime());// print today&#39;s date\r\n    calendar.add(Calendar.DATE, 1);\r\n\r\nNow set one day ahead with this date by calendar.add method which takes (constant, value). Here constant could be DATE, hours, min, sec etc. and value is the value of constant. Like for one day, ahead constant is Calendar.DATE and its value are 1 because we want one day ahead value.\r\n\t\t\r\n`System.out.println(calendar.getTime());// print modified date which is` tomorrow&#39;s date\r\n\r\nThanks","title":"How can I increment a date by one day in Java?","body":"<p>It's very simple, trying to explain in a simple word.\nget the today's date as below </p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nSystem.out.println(calendar.getTime());// print today's date\ncalendar.add(Calendar.DATE, 1);\n</code></pre>\n\n<p>Now set one day ahead with this date by calendar.add method which takes (constant, value). Here constant could be DATE, hours, min, sec etc. and value is the value of constant. Like for one day, ahead constant is Calendar.DATE and its value are 1 because we want one day ahead value.</p>\n\n<p><code>System.out.println(calendar.getTime());// print modified date which is</code> tomorrow's date</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":7730752,"reputation":92,"user_id":5853985,"display_name":"Shaheed"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1519761671,"creation_date":1519756426,"answer_id":49015643,"question_id":428918,"body_markdown":"You can use this package from &quot;org.apache.commons.lang3.time&quot;:\r\n \r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n     Date myNewDate = DateUtils.addDays(myDate, 4);\r\n     Date yesterday = DateUtils.addDays(myDate, -1);\r\n     String formatedDate = sdf.format(myNewDate);  \r\n","title":"How can I increment a date by one day in Java?","body":"<p>You can use this package from \"org.apache.commons.lang3.time\":</p>\n\n<pre><code> SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n Date myNewDate = DateUtils.addDays(myDate, 4);\n Date yesterday = DateUtils.addDays(myDate, -1);\n String formatedDate = sdf.format(myNewDate);  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3659366,"reputation":641,"user_id":3049589,"display_name":"dpk"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1533017347,"creation_date":1533017347,"answer_id":51606457,"question_id":428918,"body_markdown":"In Java 8 simple way to do is:\r\n\r\n    Date.from(Instant.now().plusSeconds(SECONDS_PER_DAY))\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>In Java 8 simple way to do is:</p>\n\n<pre><code>Date.from(Instant.now().plusSeconds(SECONDS_PER_DAY))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5423691,"reputation":1195,"user_id":4316647,"display_name":"Chad Juliano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543349482,"creation_date":1543349482,"answer_id":53507387,"question_id":428918,"body_markdown":"Let&#39;s clarify the use case: You want to do calendar arithmetic and start/end with a [java.util.Date][1]. \r\n\r\nSome approaches:\r\n\r\n1. Convert to string and back with [SimpleDateFormat][2]: This is an inefficient solution.\r\n2. Convert to [LocalDate][3]: You would lose any time-of-day information.\r\n3. Convert to [LocalDateTime][4]: This involves more steps and you need to worry about timezone.\r\n4. Convert to epoch with [Date.getTime()][5]: This is efficient but you are calculating with milliseconds.\r\n\r\nConsider using [java.time.Instant][6]:\r\n\r\n    Date _now = new Date();\r\n    Instant _instant = _now.toInstant().minus(5, ChronoUnit.DAYS);\r\n    Date _newDate = Date.from(_instant);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"How can I increment a date by one day in Java?","body":"<p>Let's clarify the use case: You want to do calendar arithmetic and start/end with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">java.util.Date</a>. </p>\n\n<p>Some approaches:</p>\n\n<ol>\n<li>Convert to string and back with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a>: This is an inefficient solution.</li>\n<li>Convert to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>: You would lose any time-of-day information.</li>\n<li>Convert to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a>: This involves more steps and you need to worry about timezone.</li>\n<li>Convert to epoch with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\" rel=\"nofollow noreferrer\">Date.getTime()</a>: This is efficient but you are calculating with milliseconds.</li>\n</ol>\n\n<p>Consider using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\">java.time.Instant</a>:</p>\n\n<pre><code>Date _now = new Date();\nInstant _instant = _now.toInstant().minus(5, ChronoUnit.DAYS);\nDate _newDate = Date.from(_instant);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13880155,"reputation":2869,"user_id":10020712,"display_name":"Abdurahman Popal"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1550476172,"creation_date":1550476172,"answer_id":54742578,"question_id":428918,"body_markdown":"    startCalendar.add(Calendar.DATE, 1); //Add 1 Day to the current Calender","title":"How can I increment a date by one day in Java?","body":"<pre><code>startCalendar.add(Calendar.DATE, 1); //Add 1 Day to the current Calender\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12271551,"reputation":105,"user_id":8956569,"display_name":"Mike T"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557412388,"creation_date":1557405405,"answer_id":56059611,"question_id":428918,"body_markdown":"It&#39;s simple actually.\r\nOne day contains 86400000 milliSeconds. \r\nSo first you get the current time in millis from The System by using`System.currentTimeMillis()` then\r\nadd the 84000000 milliSeconds and use the `Date` Class to generate A date format for the milliseconds.\r\n\r\nExample \r\n\r\n`String Today = new Date(System.currentTimeMillis()).toString();`\r\n\r\nString Today will be 2019-05-9 \r\n\r\n`String Tommorow = new Date(System.currentTimeMillis() + 86400000).toString();`\r\n\r\nString Tommorow will be 2019-05-10\r\n\r\n`String DayAfterTommorow = new Date(System.currentTimeMillis() + (2 * 86400000)).toString();`\r\n\r\nString DayAfterTommorow will be 2019-05-11","title":"How can I increment a date by one day in Java?","body":"<p>It's simple actually.\nOne day contains 86400000 milliSeconds. \nSo first you get the current time in millis from The System by using<code>System.currentTimeMillis()</code> then\nadd the 84000000 milliSeconds and use the <code>Date</code> Class to generate A date format for the milliseconds.</p>\n\n<p>Example </p>\n\n<p><code>String Today = new Date(System.currentTimeMillis()).toString();</code></p>\n\n<p>String Today will be 2019-05-9 </p>\n\n<p><code>String Tommorow = new Date(System.currentTimeMillis() + 86400000).toString();</code></p>\n\n<p>String Tommorow will be 2019-05-10</p>\n\n<p><code>String DayAfterTommorow = new Date(System.currentTimeMillis() + (2 * 86400000)).toString();</code></p>\n\n<p>String DayAfterTommorow will be 2019-05-11</p>\n"},{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602438320,"creation_date":1561391076,"answer_id":56739994,"question_id":428918,"body_markdown":"With Java SE 8 or higher you should use the new [Date/Time API][1]\r\n  \r\n\r\n     int days = 7;       \r\n     LocalDate dateRedeemed = LocalDate.now();\r\n     DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;);\r\n\r\n     String newDate = dateRedeemed.plusDays(days).format(formatter);   \r\n     System.out.println(newDate);\r\n\r\nIf you need to convert from `java.util.Date` to `java.time.LocalDate`, you may use this method.\r\n\r\n      public LocalDate asLocalDate(Date date) {\r\n          Instant instant = date.toInstant();\r\n          ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\r\n          return zdt.toLocalDate();\r\n      }\r\n\r\nWith a version prior to Java SE 8 you may use [Joda-Time][2]\r\n\r\n&gt; Joda-Time provides a quality replacement for the Java date and time\r\n&gt; classes and is the de facto standard date and time library for Java\r\n&gt; prior to Java SE 8\r\n\r\n       int days = 7;       \r\n       DateTime dateRedeemed = DateTime.now();\r\n       DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/uuuu&quot;);\r\n            \r\n       String newDate = dateRedeemed.plusDays(days).toString(formatter);   \r\n       System.out.println(newDate);\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-8-date-time-intro\r\n  [2]: https://www.joda.org/joda-time/","title":"How can I increment a date by one day in Java?","body":"<p>With Java SE 8 or higher you should use the new <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">Date/Time API</a></p>\n<pre><code> int days = 7;       \n LocalDate dateRedeemed = LocalDate.now();\n DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;);\n\n String newDate = dateRedeemed.plusDays(days).format(formatter);   \n System.out.println(newDate);\n</code></pre>\n<p>If you need to convert from <code>java.util.Date</code> to <code>java.time.LocalDate</code>, you may use this method.</p>\n<pre><code>  public LocalDate asLocalDate(Date date) {\n      Instant instant = date.toInstant();\n      ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\n      return zdt.toLocalDate();\n  }\n</code></pre>\n<p>With a version prior to Java SE 8 you may use <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a></p>\n<blockquote>\n<p>Joda-Time provides a quality replacement for the Java date and time\nclasses and is the de facto standard date and time library for Java\nprior to Java SE 8</p>\n</blockquote>\n<pre><code>   int days = 7;       \n   DateTime dateRedeemed = DateTime.now();\n   DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/uuuu&quot;);\n        \n   String newDate = dateRedeemed.plusDays(days).toString(formatter);   \n   System.out.println(newDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6614846,"reputation":115,"user_id":5108504,"display_name":"Z4n3tti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610713825,"creation_date":1610713825,"answer_id":65736169,"question_id":428918,"body_markdown":"Try this method:\r\n\r\n    public static Date addDay(int day) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.setTime(new Date());\r\n    \t\tcalendar.add(Calendar.DATE, day);\r\n    \t\treturn calendar.getTime();\r\n    }\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>Try this method:</p>\n<pre><code>public static Date addDay(int day) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(new Date());\n        calendar.add(Calendar.DATE, day);\n        return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018718,"reputation":634,"user_id":5053475,"display_name":"Daniele Rugginenti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617485615,"creation_date":1617485615,"answer_id":66936080,"question_id":428918,"body_markdown":"I think the fastest one, that never will be deprecated, it&#39;s the one that go to the core\r\n\r\n    let d=new Date();\r\n    d.setTime(d.getTime()+86400000);\r\n    console.log(d);\r\n\r\nIt&#39;s just one line,\r\nand just 2 commands.\r\nIt works on Date type, without using calendar.\r\n\r\nI always think it&#39;s better to work with unix times on code side, and present the date just when it&#39;s ready to be shown to the user.\r\n\r\nTo print a date d, I use \r\n\r\n    let format1 = new Intl.DateTimeFormat(&#39;en&#39;, { year: &#39;numeric&#39;, month: &#39;numeric&#39;, month: &#39;2-digit&#39;, day: &#39;2-digit&#39;});\r\n    let [{ value: month },,{ value: day },,{ value: year }] = format1.formatToParts(d);\r\n\r\nIt sets vars month year and day but can be extended to hours minutes and seconds and can be used also in standard rapresentations depending on country flag.","title":"How can I increment a date by one day in Java?","body":"<p>I think the fastest one, that never will be deprecated, it's the one that go to the core</p>\n<pre><code>let d=new Date();\nd.setTime(d.getTime()+86400000);\nconsole.log(d);\n</code></pre>\n<p>It's just one line,\nand just 2 commands.\nIt works on Date type, without using calendar.</p>\n<p>I always think it's better to work with unix times on code side, and present the date just when it's ready to be shown to the user.</p>\n<p>To print a date d, I use</p>\n<pre><code>let format1 = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'numeric', month: '2-digit', day: '2-digit'});\nlet [{ value: month },,{ value: day },,{ value: year }] = format1.formatToParts(d);\n</code></pre>\n<p>It sets vars month year and day but can be extended to hours minutes and seconds and can be used also in standard rapresentations depending on country flag.</p>\n"},{"tags":[],"owner":{"account_id":7029640,"reputation":884,"user_id":5385845,"display_name":"samtax01"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626456215,"creation_date":1626456215,"answer_id":68413024,"question_id":428918,"body_markdown":"You can do this just in one line.\r\n\r\ne.g to add 5 days\r\n\r\n    Date newDate = Date.from(Date().toInstant().plus(5, ChronoUnit.DAYS));\r\n\r\nto subtract 5 days\r\n\r\n    Date newDate = Date.from(Date().toInstant().minus(5, ChronoUnit.DAYS));","title":"How can I increment a date by one day in Java?","body":"<p>You can do this just in one line.</p>\n<p>e.g to add 5 days</p>\n<pre><code>Date newDate = Date.from(Date().toInstant().plus(5, ChronoUnit.DAYS));\n</code></pre>\n<p>to subtract 5 days</p>\n<pre><code>Date newDate = Date.from(Date().toInstant().minus(5, ChronoUnit.DAYS));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668257865,"creation_date":1668257865,"answer_id":74413124,"question_id":428918,"body_markdown":"The [highest voted answer](https://stackoverflow.com/a/428966/10819573) uses legacy `java.util` date-time API which was the correct thing to do in 2009 when the question was asked. In March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it is strongly recommended to use this modern date-time API.\r\n\r\n&gt; I&#39;m working with a date in this format: `yyyy-mm-dd`\r\n\r\nYou have used the wrong letter for the month, irrespective of whether you are using the [legacy parsing/formatting API](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) or the [modern one](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html). The letter `m` is used for *minute-of-hour* and the correct letter for *month-of-year* is `M`.\r\n\r\n`yyyy-MM-dd` is the default format of `java.time.LocalDate`\r\n--\r\n\r\nThe `java.time` API is based on **[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)** standards and therefore it does not require specifying a `DateTimeFormatter` explicitly to parse a date-time string if it is already in ISO 8601 format. Similarly, the [`toString`](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--) implementation of a `java.time` type returns a string in ISO 8601 format. Check [`LocalDate#parse`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-) and [`LocalDate#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--) for more information.\r\n\r\nWays to increment a local date by one day\r\n--\r\n\r\nThere are three options:\r\n\r\n 1. [`LocalDate#plusDays(long daysToAdd)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusDays-long-)\r\n 2. [`LocalDate#plus(long amountToAdd, TemporalUnit unit)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-long-java.time.temporal.TemporalUnit-): It has got some additional capabilities e.g. you can use it to increment a local date by days, weeks, months, years etc.\r\n 3. [`LocalDate#plus(TemporalAmount amountToAdd)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-java.time.temporal.TemporalAmount-): You can specify a `Period` (or any other type implementing the `TemporalAmount`) to add.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Parsing\r\n            LocalDate ldt = LocalDate.parse(&quot;2020-10-20&quot;);\r\n            System.out.println(ldt);\r\n    \r\n            // Incrementing by one day\r\n            LocalDate oneDayLater = ldt.plusDays(1);\r\n            System.out.println(oneDayLater);\r\n    \r\n            // Alternatively\r\n            oneDayLater = ldt.plus(1, ChronoUnit.DAYS);\r\n            System.out.println(oneDayLater);\r\n    \r\n            oneDayLater = ldt.plus(Period.ofDays(1));\r\n            System.out.println(oneDayLater);\r\n    \r\n            String desiredString = oneDayLater.toString();\r\n            System.out.println(desiredString);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2020-10-20\r\n    2020-10-21\r\n    2020-10-21\r\n    2020-10-21\r\n    2020-10-21\r\n\r\nHow to switch from the legacy to the modern date-time API?\r\n--\r\n\r\nYou can switch from the legacy to the modern date-time API using [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) on a java-util-date instance. Once you have an `Instant`, you can easily obtain other date-time types of `java.time` API. An `Instant` represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as `Z` which stands for Zulu-time and has a `ZoneOffset` of `+00:00`).\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Date date = new Date();\r\n            Instant instant = date.toInstant();\r\n            System.out.println(instant);\r\n    \r\n            ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(zdt);\r\n    \r\n            OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\r\n            System.out.println(odt);\r\n            // Alternatively, using time-zone\r\n            odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\r\n            System.out.println(odt);\r\n    \r\n            LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(ldt);\r\n            // Alternatively,\r\n            ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-12T12:52:18.016Z\r\n    2022-11-12T18:22:18.016+05:30[Asia/Kolkata]\r\n    2022-11-12T18:22:18.016+05:30\r\n    2022-11-12T18:22:18.016+05:30\r\n    2022-11-12T18:22:18.016\r\n    2022-11-12T18:22:18.016\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How can I increment a date by one day in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/428966/10819573\">highest voted answer</a> uses legacy <code>java.util</code> date-time API which was the correct thing to do in 2009 when the question was asked. In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it is strongly recommended to use this modern date-time API.</p>\n<blockquote>\n<p>I'm working with a date in this format: <code>yyyy-mm-dd</code></p>\n</blockquote>\n<p>You have used the wrong letter for the month, irrespective of whether you are using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">legacy parsing/formatting API</a> or the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">modern one</a>. The letter <code>m</code> is used for <em>minute-of-hour</em> and the correct letter for <em>month-of-year</em> is <code>M</code>.</p>\n<h2><code>yyyy-MM-dd</code> is the default format of <code>java.time.LocalDate</code></h2>\n<p>The <code>java.time</code> API is based on <strong><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></strong> standards and therefore it does not require specifying a <code>DateTimeFormatter</code> explicitly to parse a date-time string if it is already in ISO 8601 format. Similarly, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a> implementation of a <code>java.time</code> type returns a string in ISO 8601 format. Check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>LocalDate#parse</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalDate#toString</code></a> for more information.</p>\n<h2>Ways to increment a local date by one day</h2>\n<p>There are three options:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusDays-long-\" rel=\"nofollow noreferrer\"><code>LocalDate#plusDays(long daysToAdd)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-long-java.time.temporal.TemporalUnit-\" rel=\"nofollow noreferrer\"><code>LocalDate#plus(long amountToAdd, TemporalUnit unit)</code></a>: It has got some additional capabilities e.g. you can use it to increment a local date by days, weeks, months, years etc.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-java.time.temporal.TemporalAmount-\" rel=\"nofollow noreferrer\"><code>LocalDate#plus(TemporalAmount amountToAdd)</code></a>: You can specify a <code>Period</code> (or any other type implementing the <code>TemporalAmount</code>) to add.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.Period;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Parsing\n        LocalDate ldt = LocalDate.parse(&quot;2020-10-20&quot;);\n        System.out.println(ldt);\n\n        // Incrementing by one day\n        LocalDate oneDayLater = ldt.plusDays(1);\n        System.out.println(oneDayLater);\n\n        // Alternatively\n        oneDayLater = ldt.plus(1, ChronoUnit.DAYS);\n        System.out.println(oneDayLater);\n\n        oneDayLater = ldt.plus(Period.ofDays(1));\n        System.out.println(oneDayLater);\n\n        String desiredString = oneDayLater.toString();\n        System.out.println(desiredString);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2020-10-20\n2020-10-21\n2020-10-21\n2020-10-21\n2020-10-21\n</code></pre>\n<h2>How to switch from the legacy to the modern date-time API?</h2>\n<p>You can switch from the legacy to the modern date-time API using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> on a java-util-date instance. Once you have an <code>Instant</code>, you can easily obtain other date-time types of <code>java.time</code> API. An <code>Instant</code> represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as <code>Z</code> which stands for Zulu-time and has a <code>ZoneOffset</code> of <code>+00:00</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\n\npublic class Main {\n    public static void main(String[] args) {\n        Date date = new Date();\n        Instant instant = date.toInstant();\n        System.out.println(instant);\n\n        ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(zdt);\n\n        OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\n        System.out.println(odt);\n        // Alternatively, using time-zone\n        odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\n        System.out.println(odt);\n\n        LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(ldt);\n        // Alternatively,\n        ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-12T12:52:18.016Z\n2022-11-12T18:22:18.016+05:30[Asia/Kolkata]\n2022-11-12T18:22:18.016+05:30\n2022-11-12T18:22:18.016+05:30\n2022-11-12T18:22:18.016\n2022-11-12T18:22:18.016\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":20215,"reputation":10531,"user_id":48094,"accept_rate":0,"display_name":"user48094"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159535,"favorite_count":0,"down_vote_count":1,"up_vote_count":664,"answer_count":32,"score":663,"last_activity_date":1668257865,"creation_date":1231521609,"question_id":428918,"body_markdown":"I&#39;m working with a date in this format: `yyyy-mm-dd`.\r\n\r\nHow can I increment this date by one day?\r\n","title":"How can I increment a date by one day in Java?","body":"<p>I'm working with a date in this format: <code>yyyy-mm-dd</code>.</p>\n\n<p>How can I increment this date by one day?</p>\n"},{"tags":["java","hibernate","h2"],"comments":[{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1668086873,"post_id":74389094,"comment_id":131324877,"body_markdown":"Does doing `EntityManager.clear()` to clear the cache after the delete&#39;s commit help things?","body":"Does doing <code>EntityManager.clear()</code> to clear the cache after the delete&#39;s commit help things?"},{"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"score":0,"creation_date":1668116282,"post_id":74389094,"comment_id":131334826,"body_markdown":"Hi, yes, it has helped! Thank you! Add an answer and I will accept it.","body":"Hi, yes, it has helped! Thank you! Add an answer and I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668257518,"creation_date":1668257518,"answer_id":74413090,"question_id":74389094,"body_markdown":"The JPA `EntityManager` may be caching the result from your query, even across transactions (not sure whether the spec says this should or should not happen).  Try doing an `EntityManager.clear()` to clear its cache after the delete&#39;s commit so that the subsequent queries go to the real database.","title":"Deleting entity in in-memory H2 database","body":"<p>The JPA <code>EntityManager</code> may be caching the result from your query, even across transactions (not sure whether the spec says this should or should not happen).  Try doing an <code>EntityManager.clear()</code> to clear its cache after the delete's commit so that the subsequent queries go to the real database.</p>\n"}],"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413090,"answer_count":1,"score":0,"last_activity_date":1668257518,"creation_date":1668083659,"question_id":74389094,"body_markdown":"In my test I have an in-memory H2 DB and I want to test deleting an entity.\r\n\r\nMy entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;REPORT_BLOB&quot;)\r\npublic class BlobInfoDBVO {\r\n\r\n  @Id\r\n  @Column(name = &quot;REPORT_ID&quot;)\r\n  private long reportId;\r\n\r\n}\r\n```\r\n\r\nTest code\r\n\r\n```\r\n @Test\r\n  void deleteByReportId() {\r\n    var reportId = 1L;\r\n\r\n    EntityTransaction tx = em.getTransaction();\r\n\r\n    tx.begin();\r\n\r\n    var blobInfo = new BlobInfoDBVO();\r\n    blobInfo.setReportId(reportId);\r\n    em.persist(blobInfo);\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    BlobInfoDBVO findByReportId1 = em.find(BlobInfoDBVO.class, reportId);\r\n    assertNotNull(findByReportId1); // ---- OK\r\n\r\n    var getByReportId1 = blobInfoDao.getByReportId(reportId);\r\n    assertTrue(getByReportId1.isPresent()); // ---- OK\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    blobInfoDao.deleteByReportId(reportId);\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    var getByReportId2 = blobInfoDao.getByReportId(reportId);\r\n    assertFalse(getByReportId2.isPresent()); // ---- OK\r\n\r\n    BlobInfoDBVO findByReportId2 = em.find(BlobInfoDBVO.class, reportId);\r\n    assertNull(findByReportId2); // ---- FAILS\r\n\r\n    tx.commit();\r\n  }\r\n```\r\n\r\nAnd here is my DAO code to find and delete an entity by `reportId`:\r\n```\r\npublic class BlobInfoDaoImpl {\r\n\r\n  EntityManager em;\r\n\r\n  public BlobInfoDaoImpl(EntityManager em) {\r\n    super();\r\n    this.em = em;\r\n  }\r\n\r\n  public Optional&lt;BlobInfoDBVO&gt; getByReportId(long reportId) {\r\n    var query =\r\n        em.createQuery(\r\n            &quot;&quot;&quot;\r\n            select blobInfo\r\n              from BlobInfoDBVO blobInfo\r\n             where blobInfo.reportId = :reportId\r\n            &quot;&quot;&quot;,\r\n            BlobInfoDBVO.class);\r\n    query.setParameter(&quot;reportId&quot;, reportId);\r\n    return query\r\n        .getResultStream()\r\n        .findFirst();\r\n  }\r\n\r\n  public void deleteByReportId(long reportId) {\r\n    var query =\r\n        em.createQuery(\r\n            &quot;&quot;&quot;\r\n            delete from BlobInfoDBVO\r\n             where reportId = :reportId\r\n            &quot;&quot;&quot;);\r\n    query.setParameter(&quot;reportId&quot;, reportId);\r\n\r\n    query.executeUpdate();\r\n  }\r\n}\r\n```\r\n\r\nAfter deleting an entity, I cannot find it anymore using manually executing a query by calling my DAO (`getByReportId`) what is correct and expected.\r\n\r\nBut when I use a `find` method from an `EntityManager` using a `reportId` field as a primary key (it&#39;s marked as `@Id`) - it still returns not deleted entity, even if transaction was commited before.\r\n\r\nAny idea?\r\n\r\nhobernate-core 5.6.14\r\n\r\nquarkus-test-h2 2.14.0.Final","title":"Deleting entity in in-memory H2 database","body":"<p>In my test I have an in-memory H2 DB and I want to test deleting an entity.</p>\n<p>My entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;REPORT_BLOB&quot;)\npublic class BlobInfoDBVO {\n\n  @Id\n  @Column(name = &quot;REPORT_ID&quot;)\n  private long reportId;\n\n}\n</code></pre>\n<p>Test code</p>\n<pre><code> @Test\n  void deleteByReportId() {\n    var reportId = 1L;\n\n    EntityTransaction tx = em.getTransaction();\n\n    tx.begin();\n\n    var blobInfo = new BlobInfoDBVO();\n    blobInfo.setReportId(reportId);\n    em.persist(blobInfo);\n\n    tx.commit();\n    tx.begin();\n\n    BlobInfoDBVO findByReportId1 = em.find(BlobInfoDBVO.class, reportId);\n    assertNotNull(findByReportId1); // ---- OK\n\n    var getByReportId1 = blobInfoDao.getByReportId(reportId);\n    assertTrue(getByReportId1.isPresent()); // ---- OK\n\n    tx.commit();\n    tx.begin();\n\n    blobInfoDao.deleteByReportId(reportId);\n\n    tx.commit();\n    tx.begin();\n\n    var getByReportId2 = blobInfoDao.getByReportId(reportId);\n    assertFalse(getByReportId2.isPresent()); // ---- OK\n\n    BlobInfoDBVO findByReportId2 = em.find(BlobInfoDBVO.class, reportId);\n    assertNull(findByReportId2); // ---- FAILS\n\n    tx.commit();\n  }\n</code></pre>\n<p>And here is my DAO code to find and delete an entity by <code>reportId</code>:</p>\n<pre><code>public class BlobInfoDaoImpl {\n\n  EntityManager em;\n\n  public BlobInfoDaoImpl(EntityManager em) {\n    super();\n    this.em = em;\n  }\n\n  public Optional&lt;BlobInfoDBVO&gt; getByReportId(long reportId) {\n    var query =\n        em.createQuery(\n            &quot;&quot;&quot;\n            select blobInfo\n              from BlobInfoDBVO blobInfo\n             where blobInfo.reportId = :reportId\n            &quot;&quot;&quot;,\n            BlobInfoDBVO.class);\n    query.setParameter(&quot;reportId&quot;, reportId);\n    return query\n        .getResultStream()\n        .findFirst();\n  }\n\n  public void deleteByReportId(long reportId) {\n    var query =\n        em.createQuery(\n            &quot;&quot;&quot;\n            delete from BlobInfoDBVO\n             where reportId = :reportId\n            &quot;&quot;&quot;);\n    query.setParameter(&quot;reportId&quot;, reportId);\n\n    query.executeUpdate();\n  }\n}\n</code></pre>\n<p>After deleting an entity, I cannot find it anymore using manually executing a query by calling my DAO (<code>getByReportId</code>) what is correct and expected.</p>\n<p>But when I use a <code>find</code> method from an <code>EntityManager</code> using a <code>reportId</code> field as a primary key (it's marked as <code>@Id</code>) - it still returns not deleted entity, even if transaction was commited before.</p>\n<p>Any idea?</p>\n<p>hobernate-core 5.6.14</p>\n<p>quarkus-test-h2 2.14.0.Final</p>\n"},{"tags":["java","foreach","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668257093,"creation_date":1668256544,"answer_id":74412987,"question_id":74412930,"body_markdown":"Don&#39;t get obsessed with streams, trying to apply them everywhere.\r\n\r\nThe operations you&#39;re performing doesn&#39;t require a generating a Stream. You can use [`Iterable.forEach`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)) if you want to express it with a lambda.\r\n\r\n```\r\nList&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList = new ArrayList&lt;&gt;();\r\n    \r\nctStaticIPDetailsList.forEach(l -&gt; {\r\n    l.setIsDeleted(true);\r\n    l.setModifiedDate(new Date());\r\n    l.setModifiedBy(boqCreationDTO.getUserId());\r\n});\r\n```\r\n\r\nAlso avoid using `java.util.Date`, this class is obsolete. Sinse Java 8 we have new Time API represented by classes like `Instant`, `LocalDateTime`, etc. which reside in the [`java.time`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) package.","title":"Setting multiple values in stream list using for each reference in Java 8","body":"<p>Don't get obsessed with streams, trying to apply them everywhere.</p>\n<p>The operations you're performing doesn't require a generating a Stream. You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a> if you want to express it with a lambda.</p>\n<pre><code>List&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList = new ArrayList&lt;&gt;();\n    \nctStaticIPDetailsList.forEach(l -&gt; {\n    l.setIsDeleted(true);\n    l.setModifiedDate(new Date());\n    l.setModifiedBy(boqCreationDTO.getUserId());\n});\n</code></pre>\n<p>Also avoid using <code>java.util.Date</code>, this class is obsolete. Sinse Java 8 we have new Time API represented by classes like <code>Instant</code>, <code>LocalDateTime</code>, etc. which reside in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package.</p>\n"}],"owner":{"account_id":9276213,"reputation":44,"user_id":6888806,"display_name":"Rachit07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668257166,"creation_date":1668255997,"question_id":74412930,"body_markdown":"Below is the code snippet, I want to set `isDeleted`, `modifiedDate` &amp; `modifiedBy` in a single statement using Stream API.\r\n\r\nHow can I do it?\r\n\r\n```\r\nList&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList =new ArrayList()&lt;&gt;;\r\n\r\nctStaticIPDetailsList.stream().forEach(l -&gt; l.setIsDeleted(true));\r\n\r\nctStaticIPDetailsList.stream()\r\n    .forEach(l -&gt; l.setModifiedDate(new Date()));\r\n\r\nctStaticIPDetailsList.stream()\r\n    .forEach(l -&gt; l.setModifiedBy(boqCreationDTO.getUserId()));\r\n```","title":"Setting multiple values in stream list using for each reference in Java 8","body":"<p>Below is the code snippet, I want to set <code>isDeleted</code>, <code>modifiedDate</code> &amp; <code>modifiedBy</code> in a single statement using Stream API.</p>\n<p>How can I do it?</p>\n<pre><code>List&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList =new ArrayList()&lt;&gt;;\n\nctStaticIPDetailsList.stream().forEach(l -&gt; l.setIsDeleted(true));\n\nctStaticIPDetailsList.stream()\n    .forEach(l -&gt; l.setModifiedDate(new Date()));\n\nctStaticIPDetailsList.stream()\n    .forEach(l -&gt; l.setModifiedBy(boqCreationDTO.getUserId()));\n</code></pre>\n"},{"tags":["java","android","push-notification","ringtone"],"comments":[{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1668257456,"post_id":74412993,"comment_id":131364205,"body_markdown":"did you checked this - [click here](https://stackoverflow.com/a/71159936/14682570) and add some info like what Android version you tested,notifcation from firebase or locally.","body":"did you checked this - <a href=\"https://stackoverflow.com/a/71159936/14682570\">click here</a> and add some info like what Android version you tested,notifcation from firebase or locally."},{"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"score":0,"creation_date":1668402624,"post_id":74412993,"comment_id":131387996,"body_markdown":"Yes but my situation is set ringtone from application","body":"Yes but my situation is set ringtone from application"}],"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668256614,"creation_date":1668256586,"question_id":74412993,"body_markdown":"I need to set `custom sound` for `only my application`. I&#39;ve assigned a custom ringtone from my storage to be used in notifications.\r\n\r\n**What did I try...**\r\n```java\r\n(NotificationChannel) channel.setSound(Uri.parse(&quot;MY_PATH&quot;), audio_atrr);\r\n```\r\n```java\r\n(NotificationCompact.Builder) mBuilder.setSound(Uri.parse(&quot;MY_PATH&quot;));\r\n```\r\n```java\r\n(Notification) mNotification.sound = Uri.parse(&quot;MY_PATH&quot;);\r\n```\r\n\r\nIt&#39;s useless for me, my device always plays the default sound when a notification is coming. what can i do?","title":"set custom Sound from only my application in push notification android","body":"<p>I need to set <code>custom sound</code> for <code>only my application</code>. I've assigned a custom ringtone from my storage to be used in notifications.</p>\n<p><strong>What did I try...</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>(NotificationChannel) channel.setSound(Uri.parse(&quot;MY_PATH&quot;), audio_atrr);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(NotificationCompact.Builder) mBuilder.setSound(Uri.parse(&quot;MY_PATH&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(Notification) mNotification.sound = Uri.parse(&quot;MY_PATH&quot;);\n</code></pre>\n<p>It's useless for me, my device always plays the default sound when a notification is coming. what can i do?</p>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1528871129,"creation_date":1528871129,"answer_id":50830372,"question_id":50828209,"body_markdown":"I am able to use _springboot_ with _hikari_. I do not see following class. Can you add and check? \r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    public class CustomHikariConfig extends HikariConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\treturn new HikariDataSource(this);\r\n    \t}\r\n    \r\n    }\r\n\r\n  Though you already mentioned that you have used _spring.datasource.hikari.*_, you can recheck one more time with below mentioned properties(In case if you have missed any)\r\n\r\n    ###\r\n    # HikariCP Properties\r\n    ###\r\n    \r\n    spring.datasource.hikari.connection-timeout=60000\r\n    spring.datasource.hikari.maximum-pool-size=200\r\n    spring.datasource.hikari.minimum-idle=30\r\n    spring.datasource.hikari.idle-timeout=3000\r\n    spring.datasource.hikari.poolName=HikariCP\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n    \r\n    \r\n    \r\n    spring.datasource.hikari.jdbcUrl=**data source url**\r\n    spring.datasource.hikari.username=**username**\r\n    spring.datasource.hikari.password=**password**\r\n    spring.datasource.hikari.driverClassName=com.mysql.jdbc.Driver\r\n","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>I am able to use <em>springboot</em> with <em>hikari</em>. I do not see following class. Can you add and check? </p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"spring.datasource.hikari\")\npublic class CustomHikariConfig extends HikariConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        return new HikariDataSource(this);\n    }\n\n}\n</code></pre>\n\n<p>Though you already mentioned that you have used <em>spring.datasource.hikari.*</em>, you can recheck one more time with below mentioned properties(In case if you have missed any)</p>\n\n<pre><code>###\n# HikariCP Properties\n###\n\nspring.datasource.hikari.connection-timeout=60000\nspring.datasource.hikari.maximum-pool-size=200\nspring.datasource.hikari.minimum-idle=30\nspring.datasource.hikari.idle-timeout=3000\nspring.datasource.hikari.poolName=HikariCP\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\n\n\n\nspring.datasource.hikari.jdbcUrl=**data source url**\nspring.datasource.hikari.username=**username**\nspring.datasource.hikari.password=**password**\nspring.datasource.hikari.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256497,"creation_date":1668256497,"answer_id":74412979,"question_id":50828209,"body_markdown":"mycase is problem in pom.xml\r\ni use oracle and i add this one. it works\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.nls&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;orai18n&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>mycase is problem in pom.xml\ni use oracle and i add this one. it works</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.nls&lt;/groupId&gt;\n        &lt;artifactId&gt;orai18n&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3989215,"reputation":107,"user_id":3288756,"display_name":"user3288756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34109,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50830372,"answer_count":2,"score":7,"last_activity_date":1668256497,"creation_date":1528856167,"question_id":50828209,"body_markdown":"I&#39;m upgrading to Spring Boot 2.0.1.RELEASE, using Spring data JPA with Eclipselink as my provider and Liquibase. I&#39;m encountering the following error trying to start the server:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [com/zoomdata/scheduler/service/dao/JPASpringConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:137)\r\n    \tat com.zoomdata.scheduler.service.Main.main(Main.java:54)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:353)\r\n    \tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:385)\r\n    \tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:184)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:350)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$fea845fa.getConnection(&lt;generated&gt;)\r\n    \tat com.zoomdata.scheduler.service.dao.JPASpringConfiguration$1.afterPropertiesSet(JPASpringConfiguration.java:85)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698)\r\n    \t... 17 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:172)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579)\r\n    \t... 32 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 33 common frames omitted\r\n\r\nThe dependencies in my POM are:\r\n\r\n    &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0.RC1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-actuator-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.10.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMy JPA Configuration class looks like:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;com.example.my.classes&quot;)\r\n    @EntityScan({&quot;com.example.entities&quot;})\r\n    public class JPASpringConfiguration extends JpaBaseConfiguration {\r\n    \r\n        private String targetDatabase;\r\n        private final String sqlLoggingLevel;\r\n    \r\n        @Autowired\r\n        public JPASpringConfiguration(\r\n            @Value(&quot;${spring.datasource.target-database}&quot;) String targetDatabase,\r\n            @Value(&quot;${eclipselink.logging.level.sql:INFO}&quot;) String sqlLoggingLevel,\r\n            DataSource dataSource,\r\n            JpaProperties jpaProperties,\r\n            ObjectProvider&lt;JtaTransactionManager&gt; transactionManagerObjectProvider,\r\n            ObjectProvider&lt;TransactionManagerCustomizers&gt; transactionManagerCustomizers) {\r\n            super(dataSource, jpaProperties, transactionManagerObjectProvider, transactionManagerCustomizers);\r\n            this.targetDatabase = targetDatabase;\r\n            this.sqlLoggingLevel = sqlLoggingLevel;\r\n        }\r\n    \r\n        @Override\r\n        protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\r\n            return new EclipseLinkJpaVendorAdapter();\r\n        }\r\n    \r\n        @Override\r\n        protected Map&lt;String, Object&gt; getVendorProperties() {\r\n            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;eclipselink.weaving&quot;, &quot;false&quot;);\r\n            map.put(&quot;eclipselink.target-database&quot;, targetDatabase);\r\n            map.put(&quot;eclipselink.logging.level.sql&quot;, sqlLoggingLevel);\r\n            map.put(&quot;eclipselink.cache.shared.default&quot;, &quot;false&quot;);\r\n            map.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, IDSequenceRegistrar.class.getName());\r\n            return map;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringLiquibase liquibase(DataSource dataSource) {\r\n            SpringLiquibase springLiquibase = new SpringLiquibase() {\r\n    \r\n                @Override\r\n                public void afterPropertiesSet() throws LiquibaseException {\r\n                    configureLiquibase();\r\n                    Liquibase liquibase = null;\r\n                    try (Connection versionConnection = dataSource.getConnection()) {\r\n                        versionConnection.setAutoCommit(true);\r\n                        liquibase = createLiquibase(dataSource.getConnection());\r\n    \r\n                        String version = getDbVersion(versionConnection);\r\n                        String previous = null;\r\n                        while (!Objects.equals(version, previous)) {\r\n                            setContexts(version);\r\n                            performUpdate(liquibase);\r\n                            previous = version;\r\n                            version = getDbVersion(versionConnection);\r\n                        }\r\n                    } catch (SQLException e) {\r\n                        throw new RuntimeException(e);\r\n                    } finally {\r\n                        if (liquibase != null &amp;&amp; liquibase.getDatabase() != null) {\r\n                            liquibase.getDatabase().close();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            springLiquibase.setDataSource(dataSource);\r\n            springLiquibase.setChangeLog(&quot;classpath:/upgrade/db-changelog.xml&quot;);\r\n            return springLiquibase;\r\n        }\r\n    \r\n        private String getDbVersion(Connection connection) throws SQLException {\r\n            String sql = &quot;select tag from databasechangelog where tag is not null order by dateexecuted desc&quot;;\r\n            try (Statement statement = connection.createStatement();\r\n                 ResultSet rs = statement.executeQuery(sql)) {\r\n                if (rs.next()) {\r\n                    return rs.getString(1);\r\n                }\r\n                return &quot;initial&quot;;\r\n            } catch (SQLException e) {\r\n                try (ResultSet rs = connection.getMetaData().getTables(null, null, &quot;databasechangelog&quot;, null)) {\r\n                    if (rs.next()) {\r\n                        throw e;\r\n                    } else {\r\n                        return &quot;initial&quot;;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void configureLiquibase() {\r\n            ChangeFactory.getInstance().register(ChangeSetAwareCustomChangeWrapper.class);\r\n        }\r\n    }\r\n\r\nIn my application.properties, I have defined:\r\n\r\n    spring.datasource.target-database=PostgreSQL\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\r\n    spring.datasource.username=myuser\r\n    spring.datasource.password=mypassword\r\n    \r\n    spring.datasource.max-active=20\r\n    spring.datasource.max-idle=4\r\n    spring.datasource.max-wait=60000\r\n    spring.datasource.min-idle=2\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.test-on-return=true\r\n    spring.datasource.time-between-eviction-runs-millis=120000\r\n    spring.datasource.validation-query=select 1\r\n\r\nThis worked previously in Spring Boot 1.3.5 (before the HikariCP switch in Spring Boot 2). JPASpringConfiguration was formerly able to invoke super() without the additional arguments.\r\n\r\nWhen I put a breakpoint in SimpleInstantiationStrategy, I can see the args passed are null.\r\n\r\nSo far I&#39;ve tried:\r\n\r\n - Using spring.datasource.hikari.* properties \r\n - Adding @AutoConfigureAfter({ DataSourceAutoConfiguration.class }) to my\r\n   configuration class\r\n - Upgrading HikariCP to 3.2.0 from what&#39;s currently provided by Spring Boot\r\n - Several other reworkings of various config options, properties, and classes\r\n\r\nThank you to anyone who can help!","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>I'm upgrading to Spring Boot 2.0.1.RELEASE, using Spring data JPA with Eclipselink as my provider and Liquibase. I'm encountering the following error trying to start the server:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [com/zoomdata/scheduler/service/dao/JPASpringConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:137)\n    at com.zoomdata.scheduler.service.Main.main(Main.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:353)\n    at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:385)\n    at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:184)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:350)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$fea845fa.getConnection(&lt;generated&gt;)\n    at com.zoomdata.scheduler.service.dao.JPASpringConfiguration$1.afterPropertiesSet(JPASpringConfiguration.java:85)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698)\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:172)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579)\n    ... 32 common frames omitted\nCaused by: java.lang.IllegalArgumentException: wrong number of arguments\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 33 common frames omitted\n</code></pre>\n\n<p>The dependencies in my POM are:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;!-- Import dependency management from Spring Boot --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RC1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.0.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My JPA Configuration class looks like:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\"com.example.my.classes\")\n@EntityScan({\"com.example.entities\"})\npublic class JPASpringConfiguration extends JpaBaseConfiguration {\n\n    private String targetDatabase;\n    private final String sqlLoggingLevel;\n\n    @Autowired\n    public JPASpringConfiguration(\n        @Value(\"${spring.datasource.target-database}\") String targetDatabase,\n        @Value(\"${eclipselink.logging.level.sql:INFO}\") String sqlLoggingLevel,\n        DataSource dataSource,\n        JpaProperties jpaProperties,\n        ObjectProvider&lt;JtaTransactionManager&gt; transactionManagerObjectProvider,\n        ObjectProvider&lt;TransactionManagerCustomizers&gt; transactionManagerCustomizers) {\n        super(dataSource, jpaProperties, transactionManagerObjectProvider, transactionManagerCustomizers);\n        this.targetDatabase = targetDatabase;\n        this.sqlLoggingLevel = sqlLoggingLevel;\n    }\n\n    @Override\n    protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\n        return new EclipseLinkJpaVendorAdapter();\n    }\n\n    @Override\n    protected Map&lt;String, Object&gt; getVendorProperties() {\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(\"eclipselink.weaving\", \"false\");\n        map.put(\"eclipselink.target-database\", targetDatabase);\n        map.put(\"eclipselink.logging.level.sql\", sqlLoggingLevel);\n        map.put(\"eclipselink.cache.shared.default\", \"false\");\n        map.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, IDSequenceRegistrar.class.getName());\n        return map;\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(DataSource dataSource) {\n        SpringLiquibase springLiquibase = new SpringLiquibase() {\n\n            @Override\n            public void afterPropertiesSet() throws LiquibaseException {\n                configureLiquibase();\n                Liquibase liquibase = null;\n                try (Connection versionConnection = dataSource.getConnection()) {\n                    versionConnection.setAutoCommit(true);\n                    liquibase = createLiquibase(dataSource.getConnection());\n\n                    String version = getDbVersion(versionConnection);\n                    String previous = null;\n                    while (!Objects.equals(version, previous)) {\n                        setContexts(version);\n                        performUpdate(liquibase);\n                        previous = version;\n                        version = getDbVersion(versionConnection);\n                    }\n                } catch (SQLException e) {\n                    throw new RuntimeException(e);\n                } finally {\n                    if (liquibase != null &amp;&amp; liquibase.getDatabase() != null) {\n                        liquibase.getDatabase().close();\n                    }\n                }\n            }\n        };\n        springLiquibase.setDataSource(dataSource);\n        springLiquibase.setChangeLog(\"classpath:/upgrade/db-changelog.xml\");\n        return springLiquibase;\n    }\n\n    private String getDbVersion(Connection connection) throws SQLException {\n        String sql = \"select tag from databasechangelog where tag is not null order by dateexecuted desc\";\n        try (Statement statement = connection.createStatement();\n             ResultSet rs = statement.executeQuery(sql)) {\n            if (rs.next()) {\n                return rs.getString(1);\n            }\n            return \"initial\";\n        } catch (SQLException e) {\n            try (ResultSet rs = connection.getMetaData().getTables(null, null, \"databasechangelog\", null)) {\n                if (rs.next()) {\n                    throw e;\n                } else {\n                    return \"initial\";\n                }\n            }\n        }\n    }\n\n    private void configureLiquibase() {\n        ChangeFactory.getInstance().register(ChangeSetAwareCustomChangeWrapper.class);\n    }\n}\n</code></pre>\n\n<p>In my application.properties, I have defined:</p>\n\n<pre><code>spring.datasource.target-database=PostgreSQL\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\nspring.datasource.username=myuser\nspring.datasource.password=mypassword\n\nspring.datasource.max-active=20\nspring.datasource.max-idle=4\nspring.datasource.max-wait=60000\nspring.datasource.min-idle=2\nspring.datasource.test-on-borrow=true\nspring.datasource.test-on-return=true\nspring.datasource.time-between-eviction-runs-millis=120000\nspring.datasource.validation-query=select 1\n</code></pre>\n\n<p>This worked previously in Spring Boot 1.3.5 (before the HikariCP switch in Spring Boot 2). JPASpringConfiguration was formerly able to invoke super() without the additional arguments.</p>\n\n<p>When I put a breakpoint in SimpleInstantiationStrategy, I can see the args passed are null.</p>\n\n<p>So far I've tried:</p>\n\n<ul>\n<li>Using spring.datasource.hikari.* properties </li>\n<li>Adding @AutoConfigureAfter({ DataSourceAutoConfiguration.class }) to my\nconfiguration class</li>\n<li>Upgrading HikariCP to 3.2.0 from what's currently provided by Spring Boot</li>\n<li>Several other reworkings of various config options, properties, and classes</li>\n</ul>\n\n<p>Thank you to anyone who can help!</p>\n"},{"tags":["java","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":2399,"reputation":3795,"user_id":3335,"accept_rate":80,"display_name":"Kyle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360631403,"creation_date":1360631403,"answer_id":14823879,"question_id":14823772,"body_markdown":"I guess I don&#39;t see the point of the library checking for null. Sure, the library won&#39;t throw a NPE, but the caller is eventually going to have to check for it. What is the caller of your above multiply going to do? It can&#39;t just use the output. It&#39;s going to have to check to see if the returned value is null at some point before it can do anything with the value. \r\n\r\nAlso, for any application I&#39;ve ever written, a null is much different than zero. I wouldn&#39;t want to use one that treated a null as zero.\r\n\r\nIf your requirement is that nulls aren&#39;t allowed in your DB, I would check for nulls in your DAO layer before writing to the DB. \r\n\r\n\r\n","title":"java math library for BigDecimal which allows null values","body":"<p>I guess I don't see the point of the library checking for null. Sure, the library won't throw a NPE, but the caller is eventually going to have to check for it. What is the caller of your above multiply going to do? It can't just use the output. It's going to have to check to see if the returned value is null at some point before it can do anything with the value. </p>\n\n<p>Also, for any application I've ever written, a null is much different than zero. I wouldn't want to use one that treated a null as zero.</p>\n\n<p>If your requirement is that nulls aren't allowed in your DB, I would check for nulls in your DAO layer before writing to the DB. </p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":5,"up_vote_count":31,"is_accepted":true,"score":26,"last_activity_date":1360631512,"creation_date":1360631512,"answer_id":14823899,"question_id":14823772,"body_markdown":"Save the coding, just don&#39;t allow null values in the database. Make the default value zero.\r\n\r\nAs for `new BigDecimal(0)`: no, use `BigDecimal.ZERO`.","title":"java math library for BigDecimal which allows null values","body":"<p>Save the coding, just don't allow null values in the database. Make the default value zero.</p>\n\n<p>As for <code>new BigDecimal(0)</code>: no, use <code>BigDecimal.ZERO</code>.</p>\n"},{"tags":[],"owner":{"account_id":1872284,"reputation":1600,"user_id":1694265,"display_name":"Bunarro"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1642773049,"creation_date":1426861194,"answer_id":29168720,"question_id":14823772,"body_markdown":"I had a similar problem (not related to a database though, just needed to sum up a couple of nullable `BigDecimal`s). Did not find any library, so had to write the following function myself:\r\n\r\n    public static BigDecimal add(BigDecimal... addends) {\r\n        BigDecimal sum = BigDecimal.ZERO;\r\n        if (addends != null) {\r\n            for (BigDecimal addend : addends) {\r\n                if (addend == null) {\r\n                    addend = BigDecimal.ZERO;\r\n                }\r\n                sum = sum.add(addend);\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\r\nThe same in Java 8:\r\n\r\n    public static BigDecimal add(BigDecimal... addends) {\r\n        if (addends == null) {\r\n            return BigDecimal.ZERO;\r\n        }\r\n        return Arrays.stream(addends)\r\n                .filter(Objects::nonNull)\r\n                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    }","title":"java math library for BigDecimal which allows null values","body":"<p>I had a similar problem (not related to a database though, just needed to sum up a couple of nullable <code>BigDecimal</code>s). Did not find any library, so had to write the following function myself:</p>\n<pre><code>public static BigDecimal add(BigDecimal... addends) {\n    BigDecimal sum = BigDecimal.ZERO;\n    if (addends != null) {\n        for (BigDecimal addend : addends) {\n            if (addend == null) {\n                addend = BigDecimal.ZERO;\n            }\n            sum = sum.add(addend);\n        }\n    }\n    return sum;\n}\n</code></pre>\n<p>The same in Java 8:</p>\n<pre><code>public static BigDecimal add(BigDecimal... addends) {\n    if (addends == null) {\n        return BigDecimal.ZERO;\n    }\n    return Arrays.stream(addends)\n            .filter(Objects::nonNull)\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531336,"reputation":447,"user_id":1428467,"accept_rate":100,"display_name":"slim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256095,"creation_date":1617791711,"answer_id":66984298,"question_id":14823772,"body_markdown":"If the list contains null elements, it doesn&#39;t equals null... \r\nSo here is a unit test that test all the cases and its implementation :\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;shouldSumBigDecimalsParams&quot;)\r\n        void shouldSumBigDecimals(BigDecimal expectedSum, BigDecimal first, BigDecimal second) {\r\n            BigDecimal sum = bigDecimalsSum(first, second);\r\n            assertThat(sum).isEqualTo(expectedSum);\r\n        }\r\n    \r\n        private static Stream&lt;Arguments&gt; shouldSumBigDecimalsParams() {\r\n            return Stream.of(\r\n                Arguments.of(new BigDecimal(&quot;1010&quot;), new BigDecimal(&quot;1000&quot;), BigDecimal.TEN),\r\n                Arguments.of(new BigDecimal(&quot;1000&quot;), new BigDecimal(&quot;1000&quot;), null),\r\n                Arguments.of(BigDecimal.TEN, null, BigDecimal.TEN),\r\n                Arguments.of(BigDecimal.ZERO, null, BigDecimal.ZERO),\r\n                Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, null),\r\n                Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, BigDecimal.ZERO),\r\n                Arguments.of(null, null, null)\r\n            );\r\n        }\r\n\r\nThe implementation : \r\n\r\n    static BigDecimal bigDecimalsSum(BigDecimal... bigdecimals) {\r\n        if (bigdecimals == null || Arrays.stream(bigdecimals).allMatch(Objects::isNull)) {\r\n            return null;\r\n        }\r\n        return Arrays.stream(bigdecimals)\r\n                .filter(Objects::nonNull)\r\n                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    }","title":"java math library for BigDecimal which allows null values","body":"<p>If the list contains null elements, it doesn't equals null...\nSo here is a unit test that test all the cases and its implementation :</p>\n<pre><code>    @ParameterizedTest\n    @MethodSource(&quot;shouldSumBigDecimalsParams&quot;)\n    void shouldSumBigDecimals(BigDecimal expectedSum, BigDecimal first, BigDecimal second) {\n        BigDecimal sum = bigDecimalsSum(first, second);\n        assertThat(sum).isEqualTo(expectedSum);\n    }\n\n    private static Stream&lt;Arguments&gt; shouldSumBigDecimalsParams() {\n        return Stream.of(\n            Arguments.of(new BigDecimal(&quot;1010&quot;), new BigDecimal(&quot;1000&quot;), BigDecimal.TEN),\n            Arguments.of(new BigDecimal(&quot;1000&quot;), new BigDecimal(&quot;1000&quot;), null),\n            Arguments.of(BigDecimal.TEN, null, BigDecimal.TEN),\n            Arguments.of(BigDecimal.ZERO, null, BigDecimal.ZERO),\n            Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, null),\n            Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, BigDecimal.ZERO),\n            Arguments.of(null, null, null)\n        );\n    }\n</code></pre>\n<p>The implementation :</p>\n<pre><code>static BigDecimal bigDecimalsSum(BigDecimal... bigdecimals) {\n    if (bigdecimals == null || Arrays.stream(bigdecimals).allMatch(Objects::isNull)) {\n        return null;\n    }\n    return Arrays.stream(bigdecimals)\n            .filter(Objects::nonNull)\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648409114,"creation_date":1648409114,"answer_id":71639599,"question_id":14823772,"body_markdown":"You can have a look on this library: https://github.com/MatWein/SCalc\r\n\r\nIt can handle every number (BigDecimal, Double, custom types, ...) and handles null values as zero.","title":"java math library for BigDecimal which allows null values","body":"<p>You can have a look on this library: <a href=\"https://github.com/MatWein/SCalc\" rel=\"nofollow noreferrer\">https://github.com/MatWein/SCalc</a></p>\n<p>It can handle every number (BigDecimal, Double, custom types, ...) and handles null values as zero.</p>\n"}],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135217,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":14823899,"answer_count":5,"score":30,"last_activity_date":1668256095,"creation_date":1360630552,"question_id":14823772,"body_markdown":"Is there a BigDecimal library with the basic operations of BigDecimal which allows null values?\r\n\r\nNull should be treated as 0 for mathematical purpose.\r\n\r\nI don&#39;t want to do all the null checks for possible null values.\r\n\r\nYou either never allow null values in database, application or view and initialize everything with `new BigDecimal(0)` or perform null checks on every usage for nullable values.\r\n\r\nSomething like:\r\n\r\n\r\n\tpublic static BigDecimal add(final BigDecimal value, final BigDecimal augend)\r\n\t{\r\n\t\tif (value == null)\r\n\t\t\treturn augend;\r\n\t\telse if (augend == null)\r\n\t\t\treturn value;\r\n\t\telse\r\n\t\t\treturn value.add(augend);\r\n\t}\r\n\r\n\tpublic static BigDecimal multiply(final BigDecimal value, final BigDecimal multiplicand)\r\n\t{\r\n\t\tif (value == null || multiplicand == null)\r\n\t\t\treturn null;\r\n\r\n\t\treturn value.multiply(multiplicand);\r\n\t}","title":"java math library for BigDecimal which allows null values","body":"<p>Is there a BigDecimal library with the basic operations of BigDecimal which allows null values?</p>\n\n<p>Null should be treated as 0 for mathematical purpose.</p>\n\n<p>I don't want to do all the null checks for possible null values.</p>\n\n<p>You either never allow null values in database, application or view and initialize everything with <code>new BigDecimal(0)</code> or perform null checks on every usage for nullable values.</p>\n\n<p>Something like:</p>\n\n<pre><code>public static BigDecimal add(final BigDecimal value, final BigDecimal augend)\n{\n    if (value == null)\n        return augend;\n    else if (augend == null)\n        return value;\n    else\n        return value.add(augend);\n}\n\npublic static BigDecimal multiply(final BigDecimal value, final BigDecimal multiplicand)\n{\n    if (value == null || multiplicand == null)\n        return null;\n\n    return value.multiply(multiplicand);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1668167610,"post_id":74401671,"comment_id":131345710,"body_markdown":"No there isn&#39;t. The `@Order` doesn&#39;t support SpEL.","body":"No there isn&#39;t. The <code>@Order</code> doesn&#39;t support SpEL."},{"owner":{"account_id":14117715,"reputation":29,"user_id":10199082,"display_name":"developer"},"score":0,"creation_date":1668431639,"post_id":74401671,"comment_id":131396013,"body_markdown":"Okay, so in that case, is it possible to switch different WebSecurityConfigurerAdapter based on environment variables?","body":"Okay, so in that case, is it possible to switch different WebSecurityConfigurerAdapter based on environment variables?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668436032,"post_id":74401671,"comment_id":131397670,"body_markdown":"Use a conditionalOn.. .Apparently you want to load something based on profile Use an `@Profile` or else an `@ConditionalOnProperty` if you want properties.","body":"Use a conditionalOn.. .Apparently you want to load something based on profile Use an <code>@Profile</code> or else an <code>@ConditionalOnProperty</code> if you want properties."}],"answers":[{"tags":[],"owner":{"account_id":15785289,"reputation":42,"user_id":11390260,"display_name":"Khair Muhammad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668170724,"creation_date":1668170724,"answer_id":74402710,"question_id":74401671,"body_markdown":"The `@Order` annotation does not support this.","title":"How to set Spring annotation value from environment variable?","body":"<p>The <code>@Order</code> annotation does not support this.</p>\n"}],"owner":{"account_id":14117715,"reputation":29,"user_id":10199082,"display_name":"developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74402710,"answer_count":1,"score":1,"last_activity_date":1668255769,"creation_date":1668165333,"question_id":74401671,"body_markdown":"I am trying to set the value for `@Order` annotation in the following way:\r\n \r\n```java \r\n@Order(value = &quot;#{environment.orderConfig}&quot;)\r\n@EnableWebSecurity\r\npublic class LocalDevSecurityConfig extends WebSecurityConfigurerAdapter {\r\n...\r\n}\r\n```\r\n\r\nIn my environment file, I have the value of `orderConfig` as an integer.\r\nThe issue here is that `value` expects an `int` whereas `#{environment.orderConfig}` is a `String`. Is there any way to use the value stored in the environment variable?\r\n","title":"How to set Spring annotation value from environment variable?","body":"<p>I am trying to set the value for <code>@Order</code> annotation in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(value = &quot;#{environment.orderConfig}&quot;)\n@EnableWebSecurity\npublic class LocalDevSecurityConfig extends WebSecurityConfigurerAdapter {\n...\n}\n</code></pre>\n<p>In my environment file, I have the value of <code>orderConfig</code> as an integer.\nThe issue here is that <code>value</code> expects an <code>int</code> whereas <code>#{environment.orderConfig}</code> is a <code>String</code>. Is there any way to use the value stored in the environment variable?</p>\n"},{"tags":["java","insert","binary-tree"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668253675,"post_id":74412574,"comment_id":131363569,"body_markdown":"If reaches `return false;` for any but the root element.","body":"If reaches <code>return false;</code> for any but the root element."},{"owner":{"account_id":24171958,"reputation":1,"user_id":18133904,"display_name":"Sza2002"},"score":0,"creation_date":1668254172,"post_id":74412574,"comment_id":131363672,"body_markdown":"@ChristophDahlen any help on where i should put it? i&#39;m trying to make it return false if the t.root.data==data","body":"@ChristophDahlen any help on where i should put it? i&#39;m trying to make it return false if the t.root.data==data"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668254656,"post_id":74412574,"comment_id":131363752,"body_markdown":"As you said: Return false if t.root.data == data, true in any other case.","body":"As you said: Return false if t.root.data == data, true in any other case."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668255237,"creation_date":1668255237,"answer_id":74412823,"question_id":74412574,"body_markdown":"Your code is modifying `t.root` when the tree is not empty. This is wrong. During the decent through the tree, the root reference should not be changed. \r\n\r\nSecondly, your algorithm is using *both* iteration (`while`) and recursion. But these are alternatives that you should not *combine*: choose either the iterative version or the recursive version.\r\n\r\nSince your function takes a `BTree` instance, and there is only one such instance at play, a recursive implementation would need a different function; one that takes a `Node` type as argument.\r\n\r\nHere I will just stick to the iterative idea and remove the recursion. Use a separate variable for traversing down the tree:\r\n\r\n```\r\n        else {\r\n            Node node = t.root;\r\n            while (node.data != data) {\r\n                if (node.data &gt; data) {\r\n                    if (node.left == null) {\r\n                        node.left = newNode;\r\n                        return true;\r\n                    }\r\n                    node = node.left;\r\n                } else if (node.data &lt; data) {\r\n                    if (node.right == null) {\r\n                        node.right = newNode;\r\n                        return true;\r\n                    }\r\n                    node = node.right;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n```\r\n\r\n","title":"Binary tree insert - java","body":"<p>Your code is modifying <code>t.root</code> when the tree is not empty. This is wrong. During the decent through the tree, the root reference should not be changed.</p>\n<p>Secondly, your algorithm is using <em>both</em> iteration (<code>while</code>) and recursion. But these are alternatives that you should not <em>combine</em>: choose either the iterative version or the recursive version.</p>\n<p>Since your function takes a <code>BTree</code> instance, and there is only one such instance at play, a recursive implementation would need a different function; one that takes a <code>Node</code> type as argument.</p>\n<p>Here I will just stick to the iterative idea and remove the recursion. Use a separate variable for traversing down the tree:</p>\n<pre><code>        else {\n            Node node = t.root;\n            while (node.data != data) {\n                if (node.data &gt; data) {\n                    if (node.left == null) {\n                        node.left = newNode;\n                        return true;\n                    }\n                    node = node.left;\n                } else if (node.data &lt; data) {\n                    if (node.right == null) {\n                        node.right = newNode;\n                        return true;\n                    }\n                    node = node.right;\n                }\n            }\n            return false;\n        }\n</code></pre>\n"}],"owner":{"account_id":24171958,"reputation":1,"user_id":18133904,"display_name":"Sza2002"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668255553,"creation_date":1668253094,"question_id":74412574,"body_markdown":"I&#39;m trying to insert elements into binary tree, if the element is inserted it should return true and if the element is already in the tree it should return false. \r\n\r\n\r\n\r\nHere is what i did, It doesn&#39;t give me any error message but it only returns true for the first element inserted and for the rest of them false even if they are not the same as the first element.\r\n\r\n\r\n\r\n  \r\n```\r\n\tpublic static class Node { \r\n\t\tint data;\r\n\t\tNode left;\r\n\t\tNode right;\r\n\t\t\r\n\t\tNode(int d) \r\n\t\t{data=d;\r\n\t\tleft=null;\r\n\t\tright=null;}\r\n\t\t\r\n\t}\r\n\tstatic class BTree{\r\n\t\tNode root;\r\n\t}\r\n\t\r\n\t\r\n\tstatic boolean insert(BTree t,int data) {\r\n\t\tNode newNode=new Node(data);\r\n\t\tif (t.root==null) {\r\n\t\t\tt.root=newNode;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\twhile (t.root.data!=data) {\r\n\t\t\t\tif (t.root.data&gt;data) \r\n\t\t\t\t{t.root=t.root.left;  insert(t, data);}\r\n\t\t\t\telse if (t.root.data&lt;data) \r\n\t\t\t\t{t.root=t.root.right; insert(t, data);}}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\n\r\n","title":"Binary tree insert - java","body":"<p>I'm trying to insert elements into binary tree, if the element is inserted it should return true and if the element is already in the tree it should return false.</p>\n<p>Here is what i did, It doesn't give me any error message but it only returns true for the first element inserted and for the rest of them false even if they are not the same as the first element.</p>\n<pre><code>    public static class Node { \n        int data;\n        Node left;\n        Node right;\n        \n        Node(int d) \n        {data=d;\n        left=null;\n        right=null;}\n        \n    }\n    static class BTree{\n        Node root;\n    }\n    \n    \n    static boolean insert(BTree t,int data) {\n        Node newNode=new Node(data);\n        if (t.root==null) {\n            t.root=newNode;\n            return true;\n        }\n        \n        else {\n            while (t.root.data!=data) {\n                if (t.root.data&gt;data) \n                {t.root=t.root.left;  insert(t, data);}\n                else if (t.root.data&lt;data) \n                {t.root=t.root.right; insert(t, data);}}\n            return false;\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","arrays","java-stream","groupingby"],"comments":[{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1668175926,"post_id":74402900,"comment_id":131348649,"body_markdown":"I wanted to group it with mentioned fields only(0,1,3,5). dataLines might be this","body":"I wanted to group it with mentioned fields only(0,1,3,5). dataLines might be this"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668187715,"post_id":74402900,"comment_id":131352903,"body_markdown":"Please don&#39;t add comments to clarify. They can be hard to read. [Edit] your question instead.","body":"Please don&#39;t add comments to clarify. They can be hard to read. <a href=\"https://stackoverflow.com/posts/74402900/edit\">Edit</a> your question instead."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668255240,"creation_date":1668174226,"answer_id":74403419,"question_id":74402900,"body_markdown":"&gt; I want the new list List&lt;String[]&gt; newDataLine as if 0th,1st,3rd,5th are same then do the addition of 6th element\r\n\r\nTo group these arrays in the required way and merge their data, you can use a `HashMap`, non-nested one. Nested maps, like the one in your code, are cumbersome and difficult to deal with.\r\n\r\nFor that, we need an object which would serve as a *Key*. I&#39;ll use a [Java 16 `record`](https://docs.oracle.com/en/java/javase/18/language/records.html), but it can be implemented a `class` as well.\r\n\r\n    public record Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\r\n        public Key(String[] line) {\r\n            this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Key key = (Key) o;\r\n            return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(s0, s1, s3, s5);\r\n        }\r\n        \r\n        public String[] toArray(Double s6) {\r\n            return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\r\n        }\r\n    }\r\n\r\nIf we translate it into a `class` here&#39;s how it would look like:\r\n\r\n    public class Key {\r\n        private final String s0;\r\n        private final String s1;\r\n        private final String s2;\r\n        private final String s3;\r\n        private final String s4;\r\n        private final String s5;\r\n        private final String s7;\r\n        \r\n        public Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\r\n            this.s0 = s0;\r\n            this.s1 = s1;\r\n            this.s2 = s2;\r\n            this.s3 = s3;\r\n            this.s4 = s4;\r\n            this.s5 = s5;\r\n            this.s7 = s7;\r\n        }\r\n        \r\n        public Key(String[] line) {\r\n            this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Key key = (Key) o;\r\n            return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(s0, s1, s3, s5);\r\n        }\r\n        \r\n        public String[] toArray(Double s6) {\r\n            return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\r\n        }\r\n    }\r\n\r\n**Note:**\r\n\r\n* `List&lt;String[]&gt;` - is not the most convenient type to dial with, and it&#39;s better to avoid mixing arrays and Collections.\r\n\r\n* These **Arrays should be custom Objects**, to begin with, because you&#39;re expecting them to contain a particular number of elements and each to have a certain shape. If you organize them into a class, your data would have a structure, each element would become a property with an appropriate data type, instead of being a nameless String.\r\n\r\n* It&#39;s highly advisable to use `BigDecimal` instead of `Double` for floating-point calculations when don&#39;t want to lose precision (e.g.). Although Collector `summingDouble()` is implemented to mitigate inaccuracies, `double` is not a good choice for calculating prices, tax rates, etc.\r\n\r\nAnd here how the stream would look like:\r\n\r\n```\r\nList&lt;String[]&gt; dataLines = List.of(\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\r\n);\r\n        \r\nList&lt;String[]&gt; amountByKey = dataLines.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Key::new,\r\n        Collectors.summingDouble(s -&gt; Double.parseDouble(s[6]))\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; entry.getKey().toArray(entry.getValue()))\r\n    .collect(Collectors.toList());\r\n\r\nnewDataLine.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 84M, -101.87, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 60M, -214.14, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 120M, -124.08000000000001, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4066, 20M, -10.8, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, CZK, 12670012.4055, 60M, -103.75, 0]\r\n```","title":"Java-Stream - Group by Array 4 elements and add up threir last elements using Java 8","body":"<blockquote>\n<p>I want the new list List&lt;String[]&gt; newDataLine as if 0th,1st,3rd,5th are same then do the addition of 6th element</p>\n</blockquote>\n<p>To group these arrays in the required way and merge their data, you can use a <code>HashMap</code>, non-nested one. Nested maps, like the one in your code, are cumbersome and difficult to deal with.</p>\n<p>For that, we need an object which would serve as a <em>Key</em>. I'll use a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a>, but it can be implemented a <code>class</code> as well.</p>\n<pre><code>public record Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\n    public Key(String[] line) {\n        this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Key key = (Key) o;\n        return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(s0, s1, s3, s5);\n    }\n    \n    public String[] toArray(Double s6) {\n        return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\n    }\n}\n</code></pre>\n<p>If we translate it into a <code>class</code> here's how it would look like:</p>\n<pre><code>public class Key {\n    private final String s0;\n    private final String s1;\n    private final String s2;\n    private final String s3;\n    private final String s4;\n    private final String s5;\n    private final String s7;\n    \n    public Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\n        this.s0 = s0;\n        this.s1 = s1;\n        this.s2 = s2;\n        this.s3 = s3;\n        this.s4 = s4;\n        this.s5 = s5;\n        this.s7 = s7;\n    }\n    \n    public Key(String[] line) {\n        this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Key key = (Key) o;\n        return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(s0, s1, s3, s5);\n    }\n    \n    public String[] toArray(Double s6) {\n        return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li><p><code>List&lt;String[]&gt;</code> - is not the most convenient type to dial with, and it's better to avoid mixing arrays and Collections.</p>\n</li>\n<li><p>These <strong>Arrays should be custom Objects</strong>, to begin with, because you're expecting them to contain a particular number of elements and each to have a certain shape. If you organize them into a class, your data would have a structure, each element would become a property with an appropriate data type, instead of being a nameless String.</p>\n</li>\n<li><p>It's highly advisable to use <code>BigDecimal</code> instead of <code>Double</code> for floating-point calculations when don't want to lose precision (e.g.). Although Collector <code>summingDouble()</code> is implemented to mitigate inaccuracies, <code>double</code> is not a good choice for calculating prices, tax rates, etc.</p>\n</li>\n</ul>\n<p>And here how the stream would look like:</p>\n<pre><code>List&lt;String[]&gt; dataLines = List.of(\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\n);\n        \nList&lt;String[]&gt; amountByKey = dataLines.stream()\n    .collect(Collectors.groupingBy(\n        Key::new,\n        Collectors.summingDouble(s -&gt; Double.parseDouble(s[6]))\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; entry.getKey().toArray(entry.getValue()))\n    .collect(Collectors.toList());\n\nnewDataLine.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 84M, -101.87, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 60M, -214.14, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 120M, -124.08000000000001, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4066, 20M, -10.8, 0]\n[2002, BRBTSS, BRSTNCNTF212, CZK, 12670012.4055, 60M, -103.75, 0]\n</code></pre>\n"}],"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668255240,"creation_date":1668171766,"question_id":74402900,"body_markdown":"I have a list of string arrays `List&lt;String[]&gt;` which looks like this:\r\n```\r\nList&lt;String[]&gt; dataLines = List.of(\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\r\n);\r\n```\r\n\r\nI want to create a new list of arrays `List&lt;String[]&gt;` `newDataLine` by grouping arrays where the `0th`, `1st`, `3rd`, and `5th` elements are same and add up their `6th` elements.\r\n\r\n*Expected Output:*\r\n\r\n```none\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;84M&quot;,&quot;-101.87&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;120M&quot;,&quot;-124.08000000000001&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-214.14&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;CZK&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-103.75&quot;,&quot;0&quot;], \r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4066&quot;,&quot;20M&quot;,&quot;-10.8&quot;,&quot;0&quot;]\r\n```\r\n\r\nI&#39;ve tried the following:\r\n```\r\nMap&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Double&gt;&gt;&gt;&gt; map = \r\n    dataLines.stream()\r\n    .collect(Collectors.groupingBy(\r\n        s -&gt; s[0],\r\n        Collectors.groupingBy(s -&gt; s[1],\r\n            Collectors.groupingBy(s -&gt; s[3],\r\n                Collectors.groupingBy(s -&gt; s[5],\r\n                    Collectors.summingDouble(s -&gt; Double.valueOf(s[6])))))\r\n    ));\r\n```\r\n\r\nWhich gives me the following output:\r\n\r\n```\r\n{2002={BRBTSS={BRL={84M=-101.87, 60M=-214.14, 120M=-124.08000000000001}}}}\r\n```\r\n\r\nHow can group the data in a way described above?\r\n","title":"Java-Stream - Group by Array 4 elements and add up threir last elements using Java 8","body":"<p>I have a list of string arrays <code>List&lt;String[]&gt;</code> which looks like this:</p>\n<pre><code>List&lt;String[]&gt; dataLines = List.of(\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\n);\n</code></pre>\n<p>I want to create a new list of arrays <code>List&lt;String[]&gt;</code> <code>newDataLine</code> by grouping arrays where the <code>0th</code>, <code>1st</code>, <code>3rd</code>, and <code>5th</code> elements are same and add up their <code>6th</code> elements.</p>\n<p><em>Expected Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;84M&quot;,&quot;-101.87&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;120M&quot;,&quot;-124.08000000000001&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-214.14&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;CZK&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-103.75&quot;,&quot;0&quot;], \n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4066&quot;,&quot;20M&quot;,&quot;-10.8&quot;,&quot;0&quot;]\n</code></pre>\n<p>I've tried the following:</p>\n<pre><code>Map&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Double&gt;&gt;&gt;&gt; map = \n    dataLines.stream()\n    .collect(Collectors.groupingBy(\n        s -&gt; s[0],\n        Collectors.groupingBy(s -&gt; s[1],\n            Collectors.groupingBy(s -&gt; s[3],\n                Collectors.groupingBy(s -&gt; s[5],\n                    Collectors.summingDouble(s -&gt; Double.valueOf(s[6])))))\n    ));\n</code></pre>\n<p>Which gives me the following output:</p>\n<pre><code>{2002={BRBTSS={BRL={84M=-101.87, 60M=-214.14, 120M=-124.08000000000001}}}}\n</code></pre>\n<p>How can group the data in a way described above?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668212183,"post_id":74406539,"comment_id":131358481,"body_markdown":"Have you tried to url encode it?","body":"Have you tried to url encode it?"},{"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"score":0,"creation_date":1668452524,"post_id":74406539,"comment_id":131403613,"body_markdown":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?","body":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453268,"post_id":74406539,"comment_id":131403861,"body_markdown":"_&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;_ - I don&#39;t know if by delimiter, they mean curly brackets.","body":"<i>&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;</i> - I don&#39;t know if by delimiter, they mean curly brackets."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453394,"post_id":74406539,"comment_id":131403907,"body_markdown":"Yea I&#39;m not sure how that works at all.","body":"Yea I&#39;m not sure how that works at all."}],"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668254386,"creation_date":1668190099,"question_id":74406539,"body_markdown":"Trying to use this UriBuilder class to create an endpoint for my Http client to hit https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\r\n\r\n```\r\n        String key = &quot;b4o3h4{g}fghg3&quot;;\r\n        String uri = UriBuilder.fromUri(getUriForName(name))\r\n            .queryParam(&quot;name&quot;, name)\r\n            .queryParam(&quot;key&quot;, key)\r\n            .build();\r\n```\r\n\r\nBut I&#39;m getting the following stacktrace:\r\n\r\n```\r\nThe template variable &#39;g&#39; has no value\r\njava.lang.IllegalArgumentException: The template variable &#39;g&#39; has no value\r\n\tat org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\r\n\tat org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\r\n```\r\n\r\nThis is due to my query parameter&#39;s value just happening to look like a template. Is there a way for me to pass this value in if that&#39;s my actual value and not a template?","title":"UriBuilder doesn&#39;t work if parameter&#39;s value happens to look like a template?","body":"<p>Trying to use this UriBuilder class to create an endpoint for my Http client to hit <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder</a></p>\n<pre><code>        String key = &quot;b4o3h4{g}fghg3&quot;;\n        String uri = UriBuilder.fromUri(getUriForName(name))\n            .queryParam(&quot;name&quot;, name)\n            .queryParam(&quot;key&quot;, key)\n            .build();\n</code></pre>\n<p>But I'm getting the following stacktrace:</p>\n<pre><code>The template variable 'g' has no value\njava.lang.IllegalArgumentException: The template variable 'g' has no value\n    at org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\n    at org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\n    at org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\n    at org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\n</code></pre>\n<p>This is due to my query parameter's value just happening to look like a template. Is there a way for me to pass this value in if that's my actual value and not a template?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1668263399,"post_id":74412724,"comment_id":131365363,"body_markdown":"Have you considered looking at the error instead of ignoring it?","body":"Have you considered looking at the error instead of ignoring it?"},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1668306436,"post_id":74412724,"comment_id":131372732,"body_markdown":"I just left try-catch there if someone tries to link unexisting id. I will, thanks","body":"I just left try-catch there if someone tries to link unexisting id. I will, thanks"},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1668338037,"post_id":74412724,"comment_id":131376293,"body_markdown":"The error is:\n`Exception in thread &quot;Timer-0&quot; net.dv8tion.jda.api.exceptions.ErrorResponseException: 10013: Unknown User`\nWhat should I do with it?","body":"The error is: <code>Exception in thread &quot;Timer-0&quot; net.dv8tion.jda.api.exceptions.ErrorResponseException: 10013: Unknown User</code> What should I do with it?"}],"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668254217,"creation_date":1668254217,"question_id":74412724,"body_markdown":"This is just sheet which links ingame characters with their discord accounts. I use thhis method to return IDs.\r\n\r\n[![List of ID-username sheet][1]][1]\r\n\r\n```\r\npublic static List&lt;String&gt; idsToUsernames(List&lt;String&gt; ids){\r\n\r\n        ArrayList&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n        for(String id : ids) {\r\n            try {\r\n                usernames.add(bot.retrieveUserById(id).complete().getAsTag());\r\n            }catch (ErrorResponseException e){\r\n                usernames.add(&quot;User is unknown&quot;);\r\n            }\r\n        }\r\n\r\n        return usernames;\r\n    }\r\n```\r\n\r\nI am just very curious about it. Was there any update which affected this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i8VKQ.png","title":"Bot cannot return Username from IDs which are below certain number","body":"<p>This is just sheet which links ingame characters with their discord accounts. I use thhis method to return IDs.</p>\n<p><a href=\"https://i.stack.imgur.com/i8VKQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i8VKQ.png\" alt=\"List of ID-username sheet\" /></a></p>\n<pre><code>public static List&lt;String&gt; idsToUsernames(List&lt;String&gt; ids){\n\n        ArrayList&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n        for(String id : ids) {\n            try {\n                usernames.add(bot.retrieveUserById(id).complete().getAsTag());\n            }catch (ErrorResponseException e){\n                usernames.add(&quot;User is unknown&quot;);\n            }\n        }\n\n        return usernames;\n    }\n</code></pre>\n<p>I am just very curious about it. Was there any update which affected this?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668167866,"post_id":74401764,"comment_id":131345800,"body_markdown":"Yet another variation of [How to force max to return ALL maximum values in a Java Stream?](https://stackoverflow.com/q/29334404/2711488) Using e.g. `int max = Collections.max(map.values()); List&lt;String&gt; keys = map.entrySet() .filter(e -&gt; e.getValue() == max) .map(Map.Entry::getKey) .toList();` isnt that bad. It doesnt have to be crammed into a single Stream operation.","body":"Yet another variation of <a href=\"https://stackoverflow.com/q/29334404/2711488\">How to force max to return ALL maximum values in a Java Stream?</a> Using e.g. <code>int max = Collections.max(map.values()); List&lt;String&gt; keys = map.entrySet() .filter(e -&gt; e.getValue() == max) .map(Map.Entry::getKey) .toList();</code> isnt that bad. It doesnt have to be crammed into a single Stream operation."}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668253647,"creation_date":1668166432,"answer_id":74401856,"question_id":74401764,"body_markdown":"# Easy solution with streams\r\n\r\nStep 1 : get the maxValue       \r\n\r\n```\r\nfinal Integer maxValue = map.values()\r\n    .stream()\r\n    .max(Comparator.naturalOrder())\r\n    .orElse(null);\r\n```\r\nor more simply:\r\n\r\n```\r\n// But be aware of NoSuchElementException if the the map is empty.\r\nfinal Integer maxValue = Collections.max(map.values());\r\n```\r\nStep 2 : get keys associated with this max value: \r\n\r\n```\r\nList&lt;String&gt; result = map.entrySet()\r\n    .stream()\r\n    .filter(e -&gt; e.getValue().equals(maxValue))\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n# Only one pass\r\n\r\nOP asked if we can do it one pass. I really don&#39;t think it&#39;s necessary as you can&#39;t do better than O(n) and it&#39;s likely that a one pass solution could be slower (as you need to keep a list of the keys that you might not need).\r\n\r\n### With a for loop\r\n\r\nQuite easy and clear\r\n\r\n```\r\nArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\nint max = Integer.MIN_VALUE;\r\n\r\nfor (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    Integer value = entry.getValue();\r\n    if(value &lt; max) continue;\r\n    if(value &gt; max){\r\n        max = value;\r\n        result = new ArrayList&lt;&gt;();\r\n    } \r\n    // this applies in both &gt; max and == max cases\r\n    result.add(entry.getKey());\r\n}\r\n```\r\n\r\n### With streams\r\n If we absolutely want to use `streams`, we can actually convert the code above to streams and we can use `collect`. But **I really wouldn&#39;t suggest this approach** as it makes everything more complicated. Also since the accumulator needs to keep both the keys and the max value, you need to create a private class to hold the data.\r\nSo **this is just for the sake of the exercise/brain teaser.**\r\n```\r\nList&lt;String&gt; result = map.entrySet()\r\n        .stream()\r\n        .collect(MaxData::supply, MaxData::accumulate, MaxData::combine)\r\n        .keys;\r\n```\r\nAnd the accumulator class:\r\n\r\n```\r\n public static class MaxData {\r\n        int max;\r\n        List&lt;String&gt; keys;\r\n\r\n        private MaxData(int max, List&lt;String&gt; keys) {\r\n            this.max = max;\r\n            this.keys = keys;\r\n        }\r\n\r\n        public static MaxData supply() {\r\n            return new MaxData(Integer.MIN_VALUE, null);\r\n        }\r\n\r\n        public void accumulate(Map.Entry&lt;String, Integer&gt; entry) {\r\n            Integer entryValue = entry.getValue();\r\n            if (entryValue &gt; max) {\r\n                max = entryValue;\r\n                keys = new ArrayList&lt;&gt;();\r\n                keys.add(entry.getKey());\r\n            } else if (entryValue == max) {\r\n                keys.add(entry.getKey());\r\n            }\r\n            // last case is entryValue &lt; max, we keep the current max\r\n        }\r\n\r\n        public void combine(MaxData other) {\r\n            if (other.max &gt; max){\r\n               max = other.max;\r\n               keys = other.keys;\r\n            } else if(other.max == max) {\r\n                keys.addAll(other.keys);\r\n            }\r\n            // last case is entryValue &lt; max, we keep the current max\r\n        }\r\n    }\r\n```","title":"How to collect same maximum numbers keys as List in Java 8","body":"<h1>Easy solution with streams</h1>\n<p>Step 1 : get the maxValue</p>\n<pre><code>final Integer maxValue = map.values()\n    .stream()\n    .max(Comparator.naturalOrder())\n    .orElse(null);\n</code></pre>\n<p>or more simply:</p>\n<pre><code>// But be aware of NoSuchElementException if the the map is empty.\nfinal Integer maxValue = Collections.max(map.values());\n</code></pre>\n<p>Step 2 : get keys associated with this max value:</p>\n<pre><code>List&lt;String&gt; result = map.entrySet()\n    .stream()\n    .filter(e -&gt; e.getValue().equals(maxValue))\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n<h1>Only one pass</h1>\n<p>OP asked if we can do it one pass. I really don't think it's necessary as you can't do better than O(n) and it's likely that a one pass solution could be slower (as you need to keep a list of the keys that you might not need).</p>\n<h3>With a for loop</h3>\n<p>Quite easy and clear</p>\n<pre><code>ArrayList&lt;String&gt; result = new ArrayList&lt;&gt;();\nint max = Integer.MIN_VALUE;\n\nfor (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n    Integer value = entry.getValue();\n    if(value &lt; max) continue;\n    if(value &gt; max){\n        max = value;\n        result = new ArrayList&lt;&gt;();\n    } \n    // this applies in both &gt; max and == max cases\n    result.add(entry.getKey());\n}\n</code></pre>\n<h3>With streams</h3>\n<p>If we absolutely want to use <code>streams</code>, we can actually convert the code above to streams and we can use <code>collect</code>. But <strong>I really wouldn't suggest this approach</strong> as it makes everything more complicated. Also since the accumulator needs to keep both the keys and the max value, you need to create a private class to hold the data.\nSo <strong>this is just for the sake of the exercise/brain teaser.</strong></p>\n<pre><code>List&lt;String&gt; result = map.entrySet()\n        .stream()\n        .collect(MaxData::supply, MaxData::accumulate, MaxData::combine)\n        .keys;\n</code></pre>\n<p>And the accumulator class:</p>\n<pre><code> public static class MaxData {\n        int max;\n        List&lt;String&gt; keys;\n\n        private MaxData(int max, List&lt;String&gt; keys) {\n            this.max = max;\n            this.keys = keys;\n        }\n\n        public static MaxData supply() {\n            return new MaxData(Integer.MIN_VALUE, null);\n        }\n\n        public void accumulate(Map.Entry&lt;String, Integer&gt; entry) {\n            Integer entryValue = entry.getValue();\n            if (entryValue &gt; max) {\n                max = entryValue;\n                keys = new ArrayList&lt;&gt;();\n                keys.add(entry.getKey());\n            } else if (entryValue == max) {\n                keys.add(entry.getKey());\n            }\n            // last case is entryValue &lt; max, we keep the current max\n        }\n\n        public void combine(MaxData other) {\n            if (other.max &gt; max){\n               max = other.max;\n               keys = other.keys;\n            } else if(other.max == max) {\n                keys.addAll(other.keys);\n            }\n            // last case is entryValue &lt; max, we keep the current max\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668167023,"creation_date":1668166672,"answer_id":74401916,"question_id":74401764,"body_markdown":"Group by the values, giving a `Map&lt;Integer, List&lt;String&gt;&gt;`, then take the value of the biggest key\r\n\r\n    List&lt;String&gt; maxKeys = map.entrySet()\r\n            .stream()\r\n            .collect(groupingBy(Map.Entry::getValue, mapping(Map.Entry::getKey, toList())))\r\n            .entrySet()\r\n            .stream()\r\n            .max(Map.Entry.&lt;Integer, List&lt;String&gt;&gt;comparingByKey())\r\n            .orElseThrow().getValue();\r\n\r\nThat iterates twice, but the second time the map is smallest\r\n\r\n----\r\n\r\nBest performant solution still is one-iteration for-loop\r\n\r\n    List&lt;String&gt; maxKeys = new ArrayList&lt;&gt;();\r\n    int maxValue = Integer.MIN_VALUE;\r\n    \r\n    for (Map.Entry&lt;String, Integer&gt; e : map.entrySet()) {\r\n        if (e.getValue() &lt; maxValue) continue;\r\n        if (e.getValue() &gt; maxValue) maxKeys.clear();\r\n        maxValue = e.getValue();\r\n        maxKeys.add(e.getKey());\r\n    }\r\n\r\n","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>Group by the values, giving a <code>Map&lt;Integer, List&lt;String&gt;&gt;</code>, then take the value of the biggest key</p>\n<pre><code>List&lt;String&gt; maxKeys = map.entrySet()\n        .stream()\n        .collect(groupingBy(Map.Entry::getValue, mapping(Map.Entry::getKey, toList())))\n        .entrySet()\n        .stream()\n        .max(Map.Entry.&lt;Integer, List&lt;String&gt;&gt;comparingByKey())\n        .orElseThrow().getValue();\n</code></pre>\n<p>That iterates twice, but the second time the map is smallest</p>\n<hr />\n<p>Best performant solution still is one-iteration for-loop</p>\n<pre><code>List&lt;String&gt; maxKeys = new ArrayList&lt;&gt;();\nint maxValue = Integer.MIN_VALUE;\n\nfor (Map.Entry&lt;String, Integer&gt; e : map.entrySet()) {\n    if (e.getValue() &lt; maxValue) continue;\n    if (e.getValue() &gt; maxValue) maxKeys.clear();\n    maxValue = e.getValue();\n    maxKeys.add(e.getKey());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668170929,"creation_date":1668166694,"answer_id":74401922,"question_id":74401764,"body_markdown":"Slight unclearness; take max value first.\r\n\r\n        final Integer maxValue = map.values()\r\n            .stream()\r\n            .max(Function.identity())\r\n            .map(Map.Entry::getKey)\r\n            .orElse(Integer.MIN_VALUE);\r\n\r\n        final List&lt;String&gt; keysInDescending = map.entrySet()\r\n            .stream()\r\n            .filter(e -&gt; maxValue.equals(e.getValue()))\r\n            .map(e -&gt; e.getKey())\r\n            //.sorted(Comparator.reverseOrder())\r\n            .collect(Collectors.toList());\r\n\r\nSorting probably is not needed.","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>Slight unclearness; take max value first.</p>\n<pre><code>    final Integer maxValue = map.values()\n        .stream()\n        .max(Function.identity())\n        .map(Map.Entry::getKey)\n        .orElse(Integer.MIN_VALUE);\n\n    final List&lt;String&gt; keysInDescending = map.entrySet()\n        .stream()\n        .filter(e -&gt; maxValue.equals(e.getValue()))\n        .map(e -&gt; e.getKey())\n        //.sorted(Comparator.reverseOrder())\n        .collect(Collectors.toList());\n</code></pre>\n<p>Sorting probably is not needed.</p>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668253647,"creation_date":1668165882,"question_id":74401764,"body_markdown":"I want to collect the associated keys of List of maximum numbers from Map&lt;String,Integer&gt; in Java 8+\r\n\r\nFor example:\r\n\r\n```java\r\nfinal Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;first&quot;, 50);\r\nmap.put(&quot;second&quot;, 10);\r\nmap.put(&quot;third&quot;, 50);\r\n```\r\n\r\nhere I want to return the List of keys associated with maximum values.\r\n\r\nFor the above example, expected output is [first,third]. Because these 2 keys having the same max value.\r\n\r\nI tried with below approach, but able to get single max key only.\r\n\r\n```java\r\nfinal String maxKey = map.entrySet()\r\n    .stream()\r\n    .max(Map.Entry.comparingByValue())\r\n    .map(Map.Entry::getKey)\r\n    .orElse(null);\r\n\r\nfinal List&lt;String&gt; keysInDescending = map.entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n\r\nSystem.out.println(maxKey); // third\r\nSystem.out.println(keysInDescending); //[third, first, second]\r\n```\r\n\r\nBut my expected output is [first, third]. How can we achieve it in Java 8+ versions?","title":"How to collect same maximum numbers keys as List in Java 8","body":"<p>I want to collect the associated keys of List of maximum numbers from Map&lt;String,Integer&gt; in Java 8+</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;first&quot;, 50);\nmap.put(&quot;second&quot;, 10);\nmap.put(&quot;third&quot;, 50);\n</code></pre>\n<p>here I want to return the List of keys associated with maximum values.</p>\n<p>For the above example, expected output is [first,third]. Because these 2 keys having the same max value.</p>\n<p>I tried with below approach, but able to get single max key only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String maxKey = map.entrySet()\n    .stream()\n    .max(Map.Entry.comparingByValue())\n    .map(Map.Entry::getKey)\n    .orElse(null);\n\nfinal List&lt;String&gt; keysInDescending = map.entrySet()\n    .stream()\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n\nSystem.out.println(maxKey); // third\nSystem.out.println(keysInDescending); //[third, first, second]\n</code></pre>\n<p>But my expected output is [first, third]. How can we achieve it in Java 8+ versions?</p>\n"},{"tags":["java","mysql","jdbc","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668190600,"post_id":74406455,"comment_id":131353807,"body_markdown":"The `setConnectionTimeout` and `setIdleTimeout` are configuration of the HikariCP connection pool and do not affect (or effect) the MySQL side of things.","body":"The <code>setConnectionTimeout</code> and <code>setIdleTimeout</code> are configuration of the HikariCP connection pool and do not affect (or effect) the MySQL side of things."},{"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"score":0,"creation_date":1668191066,"post_id":74406455,"comment_id":131353931,"body_markdown":"@MarkRotteveel agreed. I want to know way for setting mysql connection properties like wait_timeout/interactive_timeout that hikaricp would be maintaining.","body":"@MarkRotteveel agreed. I want to know way for setting mysql connection properties like wait_timeout/interactive_timeout that hikaricp would be maintaining."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668239015,"post_id":74406455,"comment_id":131361289,"body_markdown":"I don&#39;t normally use MySQL, check the documentation of MySQL Connector/J if it has [connection property](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html) for it. At first glance, the only likely candidate is `connectionAttributes`, but that is only a guess on my part.","body":"I don&#39;t normally use MySQL, check the documentation of MySQL Connector/J if it has <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">connection property</a> for it. At first glance, the only likely candidate is <code>connectionAttributes</code>, but that is only a guess on my part."}],"answers":[{"tags":[],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668252484,"creation_date":1668252484,"answer_id":74412494,"question_id":74406455,"body_markdown":"got it, we can set datasource properties via \r\n```\r\nhikariConfig.addDataSourceProperty()\r\n```\r\nref: https://www.baeldung.com/hikaricp","title":"Unable to set timeout variables in JDBC","body":"<p>got it, we can set datasource properties via</p>\n<pre><code>hikariConfig.addDataSourceProperty()\n</code></pre>\n<p>ref: <a href=\"https://www.baeldung.com/hikaricp\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hikaricp</a></p>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74412494,"answer_count":1,"score":0,"last_activity_date":1668252484,"creation_date":1668189526,"question_id":74406455,"body_markdown":"I want to set common timeout variables in JDBC/Hikari pool.  \r\nTo do this, I tried variables in JDBC URL and in Hikari config, but none seems to work.\r\n\r\n```java\r\nHikariConfig hikariConfig = new HikariConfig();\r\nhikariConfig.setJdbcUrl(&quot;jdbc:mysql://*/*?wait_timeout=77&amp;interactive_timeout=78&quot;);\r\nhikariConfig.setUsername(&quot;*&quot;);\r\nhikariConfig.setPassword(&quot;*&quot;);\r\nhikariConfig.setConnectionTimeout(65 * 1000);\r\nhikariConfig.setIdleTimeout(66 * 1000);\r\n\r\nHikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\r\nConnection connection1 = hikariDataSource.getConnection();\r\nStatement statement1 = connection1.createStatement();\r\nResultSet resultSet1 = null;\r\n\r\nresultSet1 = statement1.executeQuery(&quot;show variables like &#39;%timeout%&#39;&quot;);\r\n```\r\n\r\n **Still getting default values here**\r\n\r\n```java\r\nwhile (resultSet1.next()) {\r\n    System.out.println(resultSet1.getString(1) + &quot; &quot; + resultSet1.getString(2));\r\n}\r\n```","title":"Unable to set timeout variables in JDBC","body":"<p>I want to set common timeout variables in JDBC/Hikari pool.<br />\nTo do this, I tried variables in JDBC URL and in Hikari config, but none seems to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig hikariConfig = new HikariConfig();\nhikariConfig.setJdbcUrl(&quot;jdbc:mysql://*/*?wait_timeout=77&amp;interactive_timeout=78&quot;);\nhikariConfig.setUsername(&quot;*&quot;);\nhikariConfig.setPassword(&quot;*&quot;);\nhikariConfig.setConnectionTimeout(65 * 1000);\nhikariConfig.setIdleTimeout(66 * 1000);\n\nHikariDataSource hikariDataSource = new HikariDataSource(hikariConfig);\nConnection connection1 = hikariDataSource.getConnection();\nStatement statement1 = connection1.createStatement();\nResultSet resultSet1 = null;\n\nresultSet1 = statement1.executeQuery(&quot;show variables like '%timeout%'&quot;);\n</code></pre>\n<p><strong>Still getting default values here</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>while (resultSet1.next()) {\n    System.out.println(resultSet1.getString(1) + &quot; &quot; + resultSet1.getString(2));\n}\n</code></pre>\n"},{"tags":["java","algorithm","loops","conditional-statements","logical-operators"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1668347486,"post_id":74396876,"comment_id":131378086,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/249554/discussion-on-question-by-brandon-nolan-algorithm-which-checks-for-ascending-des).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/249554/discussion-on-question-by-brandon-nolan-algorithm-which-checks-for-ascending-des\">moved to chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668140834,"creation_date":1668140834,"answer_id":74398014,"question_id":74396876,"body_markdown":"We don&#39;t want to give the O/P a complete answer. If we did that, the O/P could hand in code he / she  didn&#39;t write and doesn&#39;t understand. Instead, we want to guide the O/P toward a solution. We feel the O/P will learn more that way.\r\n\r\nI&#39;m looking at the 2nd version of the O/P code. \r\n\r\nThere are at least 3 problems with the 2nd attempt.\r\n\r\n(1) It appears the code intends zero to be a sentinel value. When the user enters zero, the program is supposed to exit the loop and print the results. The problem is, the code processes the sentinel value before the terminating condition in the `do { } while ()` loop is reached. This could make a strictly ascending sequence appear to be a mixed sequence. \r\n\r\nThere are several ways this can be fixed, but one has already been suggested in the comments:  \r\n\r\n    do {\r\n         System.out.println(&quot;Enter a Number:&quot;);\r\n         numToAdd = input.nextInt();\r\n         if (numToAdd == 0) break;\r\n\r\n(2) The variable `loopFor` is written as if it is a sum of the numbers entered. The sum of the numbers entered is irrelevant to what the program is supposed to be doing. From the rest of the code, it seems `loopFor` is intended to be the previous value entered. \r\n\r\nTo fix this, the `loopFor +=  numToAdd;` statement should be deleted. The statement `loopFor = numToAdd` should be added to the code, but *in a different place*. The proper place is *after* all comparison of `loopFor` with `numToAdd` has been completed. \r\n\r\nRefactor suggestion: Rename `loopFor` to `previousNum`. \r\n\r\nHowever, that change still leaves a problem. The variable `loopFor` needs an initial value. Because the programmer doesn&#39;t know if the user will enter an increasing sequence or a decreasing sequence, the initial value can be neither an artificially high value nor an artificially low value.\r\n\r\nI&#39;ll leave it to the O/P to figure out how to solve that.\r\n\r\n(3) The way the `boolean` values `up`, `down`, `mixed` are managed is not reliable. If, for example, `up` is set to `true`, it can later be set to `false`. Still later, it can be set to `true` again. \r\n\r\nThese should each be set to an initial value. Upon detection of an appropriate condition, the value is flipped, and is never set to the initial value again.\r\n\r\nMy suggestion is set `up` and `down` to `true` **only** at the beginning of the program. When a sequence of numbers is detected that shows one of them to be `false`, set that one to `false`. \r\n\r\nNote that &quot;mixed&quot; can be detected at the end by something like this:\r\n\r\n      boolean mixed =  !up &amp;&amp; !down; \r\n\r\nSo, that variable isn&#39;t really needed. \r\n\r\nAgain, I&#39;ll leave it to the O/P how to make the change. \r\n\r\n       \r\n            \r\n\r\n","title":"Algorithm which checks for ascending descending order","body":"<p>We don't want to give the O/P a complete answer. If we did that, the O/P could hand in code he / she  didn't write and doesn't understand. Instead, we want to guide the O/P toward a solution. We feel the O/P will learn more that way.</p>\n<p>I'm looking at the 2nd version of the O/P code.</p>\n<p>There are at least 3 problems with the 2nd attempt.</p>\n<p>(1) It appears the code intends zero to be a sentinel value. When the user enters zero, the program is supposed to exit the loop and print the results. The problem is, the code processes the sentinel value before the terminating condition in the <code>do { } while ()</code> loop is reached. This could make a strictly ascending sequence appear to be a mixed sequence.</p>\n<p>There are several ways this can be fixed, but one has already been suggested in the comments:</p>\n<pre><code>do {\n     System.out.println(&quot;Enter a Number:&quot;);\n     numToAdd = input.nextInt();\n     if (numToAdd == 0) break;\n</code></pre>\n<p>(2) The variable <code>loopFor</code> is written as if it is a sum of the numbers entered. The sum of the numbers entered is irrelevant to what the program is supposed to be doing. From the rest of the code, it seems <code>loopFor</code> is intended to be the previous value entered.</p>\n<p>To fix this, the <code>loopFor +=  numToAdd;</code> statement should be deleted. The statement <code>loopFor = numToAdd</code> should be added to the code, but <em>in a different place</em>. The proper place is <em>after</em> all comparison of <code>loopFor</code> with <code>numToAdd</code> has been completed.</p>\n<p>Refactor suggestion: Rename <code>loopFor</code> to <code>previousNum</code>.</p>\n<p>However, that change still leaves a problem. The variable <code>loopFor</code> needs an initial value. Because the programmer doesn't know if the user will enter an increasing sequence or a decreasing sequence, the initial value can be neither an artificially high value nor an artificially low value.</p>\n<p>I'll leave it to the O/P to figure out how to solve that.</p>\n<p>(3) The way the <code>boolean</code> values <code>up</code>, <code>down</code>, <code>mixed</code> are managed is not reliable. If, for example, <code>up</code> is set to <code>true</code>, it can later be set to <code>false</code>. Still later, it can be set to <code>true</code> again.</p>\n<p>These should each be set to an initial value. Upon detection of an appropriate condition, the value is flipped, and is never set to the initial value again.</p>\n<p>My suggestion is set <code>up</code> and <code>down</code> to <code>true</code> <strong>only</strong> at the beginning of the program. When a sequence of numbers is detected that shows one of them to be <code>false</code>, set that one to <code>false</code>.</p>\n<p>Note that &quot;mixed&quot; can be detected at the end by something like this:</p>\n<pre><code>  boolean mixed =  !up &amp;&amp; !down; \n</code></pre>\n<p>So, that variable isn't really needed.</p>\n<p>Again, I'll leave it to the O/P how to make the change.</p>\n"}],"owner":{"account_id":26895410,"reputation":3,"user_id":20473417,"display_name":"Brandon Nolan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668186641,"accepted_answer_id":74398014,"answer_count":1,"score":-2,"last_activity_date":1668252370,"creation_date":1668127372,"question_id":74396876,"body_markdown":"I&#39;m beginner in Java, so hope you&#39;ll understand it. I tried a few different ways, but it always has a problem with the logic: it cannot save a variable and check it in while loop or cannot go right through the if else statements. There is supposed to be some trick and I cannot find it. \r\n\r\nFor example:\r\n\r\nIf input is 1, 47, 89, 98, 165,256,300 **0**, it stops and prints _&quot;End of the program, numbers been entered in regular order&quot;_.\r\n\r\nIf input is 86,75,32,11,**0**, it stops and prints _&quot;End of the program, numbers been entered in reversed order&quot;_.\r\n\r\nIf input is 43, 54,11,6,7,45,44,44,44,56,33**0**, it stops and prints _&quot;End of the program, numbers been entered in mixed or same order&quot;_\r\n\r\n\r\nHere is the updated version of the code(2):\r\n```\r\n\t\tboolean  mixed;\r\n\t\tboolean up  =true;\r\n\t\tboolean down =true; \r\n\t\tint numToAdd;\r\n\t\tSystem.out.println(&quot;Enter a Number:&quot;);\r\n\t\t int previousNum = input.nextInt();\r\n\r\n\t\tdo {\r\n\t\t     System.out.println(&quot;Enter a Number:&quot;);\r\n\t\t    numToAdd = input.nextInt();\r\n\t\t     if (numToAdd == 0) break;\r\n\t\t     \r\n\t\t     \r\n\r\n\t\t    if (numToAdd &gt; previousNum ) {\r\n\t\t     up = true;\r\n\r\n\r\n\t\t    }\r\n\t\t    if (numToAdd &lt; previousNum) {\r\n\t\t         down = true;\r\n\t\t    }\r\n\r\n\t\t    mixed =  !up &amp;&amp; !down; \r\n\t\t    previousNum = numToAdd;\r\n\t\t} while (numToAdd != 0);\r\n\r\n\t\tif (up = true ) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in regular order&quot;);\r\n\t\t}\r\n\r\n\t\tif (down = true) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in reversed order&quot;);\r\n\t\t}\r\n\t\tif (mixed = true) {\r\n\t\t    System.out.println(&quot;End of the program, numbers been entered in mixed or same order&quot;);\r\n\t\t}   \r\n\t\t\r\n```\r\n","title":"Algorithm which checks for ascending descending order","body":"<p>I'm beginner in Java, so hope you'll understand it. I tried a few different ways, but it always has a problem with the logic: it cannot save a variable and check it in while loop or cannot go right through the if else statements. There is supposed to be some trick and I cannot find it.</p>\n<p>For example:</p>\n<p>If input is 1, 47, 89, 98, 165,256,300 <strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in regular order&quot;</em>.</p>\n<p>If input is 86,75,32,11,<strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in reversed order&quot;</em>.</p>\n<p>If input is 43, 54,11,6,7,45,44,44,44,56,33<strong>0</strong>, it stops and prints <em>&quot;End of the program, numbers been entered in mixed or same order&quot;</em></p>\n<p>Here is the updated version of the code(2):</p>\n<pre><code>        boolean  mixed;\n        boolean up  =true;\n        boolean down =true; \n        int numToAdd;\n        System.out.println(&quot;Enter a Number:&quot;);\n         int previousNum = input.nextInt();\n\n        do {\n             System.out.println(&quot;Enter a Number:&quot;);\n            numToAdd = input.nextInt();\n             if (numToAdd == 0) break;\n             \n             \n\n            if (numToAdd &gt; previousNum ) {\n             up = true;\n\n\n            }\n            if (numToAdd &lt; previousNum) {\n                 down = true;\n            }\n\n            mixed =  !up &amp;&amp; !down; \n            previousNum = numToAdd;\n        } while (numToAdd != 0);\n\n        if (up = true ) {\n            System.out.println(&quot;End of the program, numbers been entered in regular order&quot;);\n        }\n\n        if (down = true) {\n            System.out.println(&quot;End of the program, numbers been entered in reversed order&quot;);\n        }\n        if (mixed = true) {\n            System.out.println(&quot;End of the program, numbers been entered in mixed or same order&quot;);\n        }   \n        \n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1297392,"reputation":371,"user_id":1248092,"accept_rate":31,"display_name":"user1248092"},"score":0,"creation_date":1337353948,"post_id":10655085,"comment_id":13818180,"body_markdown":"my mistake. isDirectory. Probably, I put some letter in this name by mistake","body":"my mistake. isDirectory. Probably, I put some letter in this name by mistake"}],"answers":[{"tags":[],"owner":{"account_id":25137,"reputation":25266,"user_id":64376,"display_name":"Antti Huima"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337353799,"creation_date":1337353799,"answer_id":10655169,"question_id":10655085,"body_markdown":"You need to print out &quot;|&quot; whenever on the corresponding level you are *not* processing the last entry, but one of the entries before the last. You need to know this for every level separately, so you could add a bit mask or a string (say) as an extra argument to &#39;getInto&#39;.","title":"print directory tree","body":"<p>You need to print out \"|\" whenever on the corresponding level you are <em>not</em> processing the last entry, but one of the entries before the last. You need to know this for every level separately, so you could add a bit mask or a string (say) as an extra argument to 'getInto'.</p>\n"},{"tags":[],"owner":{"account_id":156080,"reputation":34079,"user_id":373151,"accept_rate":74,"display_name":"Hari Menon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337354380,"creation_date":1337354380,"answer_id":10655336,"question_id":10655085,"body_markdown":"Think of it like this - \r\n\r\n    procedure printOutput(file, depth):\r\n        print &quot;|   &quot; depth times;\r\n        print &quot;+---&quot; + file name;\r\n        print new line\r\n        if(file is a directory):\r\n            for(each file inside file, say innerFile):\r\n                call printOutput(innerFile, depth + 1);\r\n\r\nHope that helps.\r\n            ","title":"print directory tree","body":"<p>Think of it like this - </p>\n\n<pre><code>procedure printOutput(file, depth):\n    print \"|   \" depth times;\n    print \"+---\" + file name;\n    print new line\n    if(file is a directory):\n        for(each file inside file, say innerFile):\n            call printOutput(innerFile, depth + 1);\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":1193081,"reputation":575,"user_id":1250357,"display_name":"Priyanshu Jha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337354638,"creation_date":1337354638,"answer_id":10655409,"question_id":10655085,"body_markdown":"    import java.io.File;\r\n \r\n    public class MainEntry {\r\n    public static void main(String[] args) {\r\n        walkin(new File(&quot;/home/user&quot;)); //Replace this with a suitable directory\r\n    }\r\n \r\n    /**\r\n     * Recursive function to descend into the directory tree and find all the files \r\n      @param dir A file object defining the top directory\r\n     **/\r\n    public static void walkin(File dir) {\r\n       \r\n        File listFile[] = dir.listFiles();\r\n        if (listFile != null) {\r\n            for (int i=0; i&lt;listFile.length; i++) {\r\n                if (listFile[i].isDirectory()) {\r\n                  System.out.println(&quot;|\\t\\t&quot;);  \r\n                  walkin(listFile[i]);\r\n                } else {\r\n                    \r\n                    System.out.println(&quot;+---&quot;+listFile[i].getName().toString());\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nWill work fine..The Logic is correct","title":"print directory tree","body":"<pre><code>import java.io.File;\n\npublic class MainEntry {\npublic static void main(String[] args) {\n    walkin(new File(\"/home/user\")); //Replace this with a suitable directory\n}\n\n/**\n * Recursive function to descend into the directory tree and find all the files \n  @param dir A file object defining the top directory\n **/\npublic static void walkin(File dir) {\n\n    File listFile[] = dir.listFiles();\n    if (listFile != null) {\n        for (int i=0; i&lt;listFile.length; i++) {\n            if (listFile[i].isDirectory()) {\n              System.out.println(\"|\\t\\t\");  \n              walkin(listFile[i]);\n            } else {\n\n                System.out.println(\"+---\"+listFile[i].getName().toString());\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Will work fine..The Logic is correct</p>\n"},{"tags":[],"owner":{"account_id":129720,"reputation":603,"user_id":328473,"display_name":"TAN70"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1352268264,"creation_date":1351552125,"answer_id":13130974,"question_id":10655085,"body_markdown":"This is how I did it.\r\n\r\nThe Code\r\n\r\n    import java.io.File;\r\n    public class FileAssert {\r\n\r\n\t/**\r\n\t * Pretty print the directory tree and its file names.\r\n\t * \r\n\t * @param folder\r\n\t *            must be a folder.\r\n\t * @return\r\n\t */\r\n\tpublic static String printDirectoryTree(File folder) {\r\n\t\tif (!folder.isDirectory()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n\t\t}\r\n\t\tint indent = 0;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tprintDirectoryTree(folder, indent, sb);\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tprivate static void printDirectoryTree(File folder, int indent,\r\n\t\t\tStringBuilder sb) {\r\n\t\tif (!folder.isDirectory()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n\t\t}\r\n\t\tsb.append(getIndentString(indent));\r\n\t\tsb.append(&quot;+--&quot;);\r\n\t\tsb.append(folder.getName());\r\n\t\tsb.append(&quot;/&quot;);\r\n\t\tsb.append(&quot;\\n&quot;);\r\n\t\tfor (File file : folder.listFiles()) {\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tprintDirectoryTree(file, indent + 1, sb);\r\n\t\t\t} else {\r\n\t\t\t\tprintFile(file, indent + 1, sb);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void printFile(File file, int indent, StringBuilder sb) {\r\n\t\tsb.append(getIndentString(indent));\r\n\t\tsb.append(&quot;+--&quot;);\r\n\t\tsb.append(file.getName());\r\n\t\tsb.append(&quot;\\n&quot;);\r\n\t}\r\n\r\n\tprivate static String getIndentString(int indent) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; indent; i++) {\r\n\t\t\tsb.append(&quot;|  &quot;);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n    }\r\n\r\nThe Result\r\n\r\n    +--folder1/\r\n    |  +--a.txt\r\n    |  +--folder2/\r\n    |  |  +--b1.txt\r\n    |  |  +--b2.txt\r\n    |  |  +--b3.txt\r\n    |  |  +--folder3/\r\n    |  +--folder4/\r\n\r\nThe UnitTest\r\n\r\n    import static org.junit.Assert.*;\r\n\r\n    import java.io.File;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.TemporaryFolder;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.JUnit4;\r\n\r\n    @RunWith(JUnit4.class)\r\n    public class FileAssertTest {\r\n\r\n\t@Rule\r\n\tpublic TemporaryFolder temporaryFolder = new TemporaryFolder();\r\n\tprivate File folder1;\r\n\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tfolder1 = temporaryFolder.newFolder(&quot;folder1&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeWhenFolderIsEmpty() {\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(&quot;+--folder1/\\n&quot;, actual);\r\n\t}\r\n\r\n\tprivate static final String EXPECTED_FCOF = &quot;&quot; + &quot;+--folder1/\\n&quot;\r\n\t\t\t+ &quot;|  +--a.txt\\n&quot;;\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeWhenFolderContainsOneFile()\r\n\t\t\tthrows Exception {\r\n\t\t// Setup\r\n\t\tFile aFile = new File(folder1, &quot;a.txt&quot;);\r\n\t\tassertTrue(aFile.createNewFile());\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(EXPECTED_FCOF, actual);\r\n\t}\r\n\r\n\tprivate static final String EXPECTED_COMPLEX = &quot;+--folder1/\\n&quot;\r\n\t\t\t+ &quot;|  +--a.txt\\n&quot; + &quot;|  +--folder2/\\n&quot; + &quot;|  |  +--b1.txt\\n&quot;\r\n\t\t\t+ &quot;|  |  +--b2.txt\\n&quot; + &quot;|  |  +--b3.txt\\n&quot; + &quot;|  |  +--folder3/\\n&quot;\r\n\t\t\t+ &quot;|  +--folder4/\\n&quot;;\r\n\r\n\t@Test\r\n\tpublic void testPrintDirectoryTreeComplex() throws Exception {\r\n\t\t// Setup\r\n\t\tFile aFile = new File(folder1, &quot;a.txt&quot;);\r\n\t\tassertTrue(aFile.createNewFile());\r\n\t\tFile folder2 = new File(folder1, &quot;folder2&quot;);\r\n\t\tassertTrue(folder2.mkdir());\r\n\t\tFile b1File = new File(folder2, &quot;b1.txt&quot;);\r\n\t\tassertTrue(b1File.createNewFile());\r\n\t\tFile b2File = new File(folder2, &quot;b2.txt&quot;);\r\n\t\tassertTrue(b2File.createNewFile());\r\n\t\tFile folder3 = new File(folder2, &quot;folder3&quot;);\r\n\t\tassertTrue(folder3.mkdir());\r\n\t\tFile b3File = new File(folder2, &quot;b3.txt&quot;);\r\n\t\tassertTrue(b3File.createNewFile());\r\n\t\tFile folder4 = new File(folder1, &quot;folder4&quot;);\r\n\t\tassertTrue(folder4.mkdir());\r\n\r\n\t\t// Invoke\r\n\t\tString actual = FileAssert.printDirectoryTree(folder1);\r\n\t\t// Verify\r\n\t\tassertEquals(EXPECTED_COMPLEX, actual);\r\n\t}\r\n\r\n    }\r\n [tag:file] [tag:directory] [tag:printing] [tag:pretty-printing]","title":"print directory tree","body":"<p>This is how I did it.</p>\n\n<p>The Code</p>\n\n<pre><code>import java.io.File;\npublic class FileAssert {\n\n/**\n * Pretty print the directory tree and its file names.\n * \n * @param folder\n *            must be a folder.\n * @return\n */\npublic static String printDirectoryTree(File folder) {\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    int indent = 0;\n    StringBuilder sb = new StringBuilder();\n    printDirectoryTree(folder, indent, sb);\n    return sb.toString();\n}\n\nprivate static void printDirectoryTree(File folder, int indent,\n        StringBuilder sb) {\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    sb.append(folder.getName());\n    sb.append(\"/\");\n    sb.append(\"\\n\");\n    for (File file : folder.listFiles()) {\n        if (file.isDirectory()) {\n            printDirectoryTree(file, indent + 1, sb);\n        } else {\n            printFile(file, indent + 1, sb);\n        }\n    }\n\n}\n\nprivate static void printFile(File file, int indent, StringBuilder sb) {\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    sb.append(file.getName());\n    sb.append(\"\\n\");\n}\n\nprivate static String getIndentString(int indent) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; indent; i++) {\n        sb.append(\"|  \");\n    }\n    return sb.toString();\n}\n}\n</code></pre>\n\n<p>The Result</p>\n\n<pre><code>+--folder1/\n|  +--a.txt\n|  +--folder2/\n|  |  +--b1.txt\n|  |  +--b2.txt\n|  |  +--b3.txt\n|  |  +--folder3/\n|  +--folder4/\n</code></pre>\n\n<p>The UnitTest</p>\n\n<pre><code>import static org.junit.Assert.*;\n\nimport java.io.File;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TemporaryFolder;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.JUnit4;\n\n@RunWith(JUnit4.class)\npublic class FileAssertTest {\n\n@Rule\npublic TemporaryFolder temporaryFolder = new TemporaryFolder();\nprivate File folder1;\n\n@Before\npublic void setUp() {\n    folder1 = temporaryFolder.newFolder(\"folder1\");\n}\n\n@Test\npublic void testPrintDirectoryTreeWhenFolderIsEmpty() {\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(\"+--folder1/\\n\", actual);\n}\n\nprivate static final String EXPECTED_FCOF = \"\" + \"+--folder1/\\n\"\n        + \"|  +--a.txt\\n\";\n\n@Test\npublic void testPrintDirectoryTreeWhenFolderContainsOneFile()\n        throws Exception {\n    // Setup\n    File aFile = new File(folder1, \"a.txt\");\n    assertTrue(aFile.createNewFile());\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(EXPECTED_FCOF, actual);\n}\n\nprivate static final String EXPECTED_COMPLEX = \"+--folder1/\\n\"\n        + \"|  +--a.txt\\n\" + \"|  +--folder2/\\n\" + \"|  |  +--b1.txt\\n\"\n        + \"|  |  +--b2.txt\\n\" + \"|  |  +--b3.txt\\n\" + \"|  |  +--folder3/\\n\"\n        + \"|  +--folder4/\\n\";\n\n@Test\npublic void testPrintDirectoryTreeComplex() throws Exception {\n    // Setup\n    File aFile = new File(folder1, \"a.txt\");\n    assertTrue(aFile.createNewFile());\n    File folder2 = new File(folder1, \"folder2\");\n    assertTrue(folder2.mkdir());\n    File b1File = new File(folder2, \"b1.txt\");\n    assertTrue(b1File.createNewFile());\n    File b2File = new File(folder2, \"b2.txt\");\n    assertTrue(b2File.createNewFile());\n    File folder3 = new File(folder2, \"folder3\");\n    assertTrue(folder3.mkdir());\n    File b3File = new File(folder2, \"b3.txt\");\n    assertTrue(b3File.createNewFile());\n    File folder4 = new File(folder1, \"folder4\");\n    assertTrue(folder4.mkdir());\n\n    // Invoke\n    String actual = FileAssert.printDirectoryTree(folder1);\n    // Verify\n    assertEquals(EXPECTED_COMPLEX, actual);\n}\n\n}\n</code></pre>\n\n<p><a href=\"/questions/tagged/file\" class=\"post-tag\" title=\"show questions tagged 'file'\" rel=\"tag\">file</a> <a href=\"/questions/tagged/directory\" class=\"post-tag\" title=\"show questions tagged 'directory'\" rel=\"tag\">directory</a> <a href=\"/questions/tagged/printing\" class=\"post-tag\" title=\"show questions tagged 'printing'\" rel=\"tag\">printing</a> <a href=\"/questions/tagged/pretty-printing\" class=\"post-tag\" title=\"show questions tagged 'pretty-printing'\" rel=\"tag\">pretty-printing</a></p>\n"},{"tags":[],"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392966065,"creation_date":1392966065,"answer_id":21927515,"question_id":10655085,"body_markdown":"      import java.io.File;\r\n      \r\n      public class Tree\r\n      {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n          File folder = new File((args.length &gt;= 1 &amp;&amp; args[0].length() &gt; 0)\r\n            ? args[0]\r\n            : &quot;.&quot;);\r\n      \r\n          if (!folder.isDirectory())\r\n          {\r\n            throw new IllegalArgumentException(&quot;Invalid directory: &quot; + folder.getName());\r\n          }\r\n      \r\n          int level = 0;\r\n          System.out.println(renderFolder(folder, level, new StringBuilder(), false));\r\n        }\r\n      \r\n        private static StringBuilder renderFolder(File folder, int level, StringBuilder sb, boolean isLast)\r\n        {\r\n          indent(sb, level, isLast).append(&quot;[D] &quot;).append(folder.getName()).append(&quot;\\n&quot;);\r\n      \r\n          File[] objects = folder.listFiles();\r\n      \r\n          for (int i = 0; i &lt; objects.length; i++)\r\n          {\r\n            boolean last = ((i + 1) == objects.length);\r\n      \r\n            if (objects[i].isDirectory())\r\n            {\r\n              renderFolder(objects[i], level + 1, sb, last);\r\n            }\r\n            else\r\n            {\r\n              renderFile(objects[i], level + 1, sb, last);\r\n            }\r\n          }\r\n      \r\n          return sb;\r\n        }\r\n      \r\n        private static StringBuilder renderFile(File file, int level, StringBuilder sb, boolean isLast)\r\n        {\r\n          return indent(sb, level, isLast).append(&quot;--- &quot;).append(file.getName()).append(&quot;\\n&quot;);\r\n        }\r\n      \r\n        private static StringBuilder indent(StringBuilder sb, int level, boolean isLast)\r\n        {\r\n          for (int i = 1; i &lt; level; i++)\r\n          {\r\n            sb.append(&quot;|  &quot;);\r\n          }\r\n      \r\n          if (level &gt; 0)\r\n          {\r\n            sb.append(isLast\r\n              ? &quot;`-&quot;\r\n              : &quot;|-&quot;);\r\n          }\r\n      \r\n          return sb;\r\n        }\r\n      \r\n      }\r\n      \r\n      \r\n      \r\n      \r\n      [D] .\r\n      |-[D] classes\r\n      |  |-[D] .data\r\n      |  |  `---- Play.cdi_javac\r\n      |  |---- ArrayListTest$Pair.class\r\n      |  |---- ArrayListTest.class\r\n      |  |---- ArrayTest.class\r\n      |  |-[D] fruit\r\n      |  |  |---- Apple.class\r\n      |  |  `---- GrannySmith.class\r\n      |  |---- IfTest.class\r\n      |  |-[D] interview\r\n      |  |  |---- Q1.class\r\n      |  |  |---- Q2.class\r\n      |  |  |---- Q3.class\r\n      |  |  |---- Q3Sub.class\r\n      |  |  |---- Q9Sub.class\r\n      |  |  `---- Q9Super.class\r\n      |  |---- IntOverflowTest.class\r\n      |  |---- LinkedMapTest.class\r\n      |  |-[D] log\r\n      |  |  `---- Logger.class\r\n      |  |---- log.properties\r\n      |  |---- StringCaseTest.class\r\n      |  |-[D] test\r\n      |  |  |-[D] cache\r\n      |  |  |  |-[D] test1\r\n      |  |  |  |  |---- Cache.class\r\n      |  |  |  |  |---- CacheEntry.class\r\n      |  |  |  |  `---- RevisedCacheTest.class\r\n      |  |  |  |-[D] test2\r\n      |  |  |  |  |---- Cache.class\r\n      |  |  |  |  |---- Log.class\r\n      |  |  |  |  `---- RevisedCacheTest.class\r\n      |  |  |  `-[D] test3\r\n      |  |  |  |  |---- ConcurrentCache.class\r\n      |  |  |  |  `---- ConcurrentCacheTest.class\r\n      |  |  |---- Test.class\r\n      |  |  `---- Test2.class\r\n      |  |---- Test.class\r\n      |  |---- Test2.class\r\n      |  `---- ZipTest.class\r\n      `---- Play.jpr","title":"print directory tree","body":"<pre><code>  import java.io.File;\n\n  public class Tree\n  {\n    public static void main(String[] args) throws Exception\n    {\n      File folder = new File((args.length &gt;= 1 &amp;&amp; args[0].length() &gt; 0)\n        ? args[0]\n        : \".\");\n\n      if (!folder.isDirectory())\n      {\n        throw new IllegalArgumentException(\"Invalid directory: \" + folder.getName());\n      }\n\n      int level = 0;\n      System.out.println(renderFolder(folder, level, new StringBuilder(), false));\n    }\n\n    private static StringBuilder renderFolder(File folder, int level, StringBuilder sb, boolean isLast)\n    {\n      indent(sb, level, isLast).append(\"[D] \").append(folder.getName()).append(\"\\n\");\n\n      File[] objects = folder.listFiles();\n\n      for (int i = 0; i &lt; objects.length; i++)\n      {\n        boolean last = ((i + 1) == objects.length);\n\n        if (objects[i].isDirectory())\n        {\n          renderFolder(objects[i], level + 1, sb, last);\n        }\n        else\n        {\n          renderFile(objects[i], level + 1, sb, last);\n        }\n      }\n\n      return sb;\n    }\n\n    private static StringBuilder renderFile(File file, int level, StringBuilder sb, boolean isLast)\n    {\n      return indent(sb, level, isLast).append(\"--- \").append(file.getName()).append(\"\\n\");\n    }\n\n    private static StringBuilder indent(StringBuilder sb, int level, boolean isLast)\n    {\n      for (int i = 1; i &lt; level; i++)\n      {\n        sb.append(\"|  \");\n      }\n\n      if (level &gt; 0)\n      {\n        sb.append(isLast\n          ? \"`-\"\n          : \"|-\");\n      }\n\n      return sb;\n    }\n\n  }\n\n\n\n\n  [D] .\n  |-[D] classes\n  |  |-[D] .data\n  |  |  `---- Play.cdi_javac\n  |  |---- ArrayListTest$Pair.class\n  |  |---- ArrayListTest.class\n  |  |---- ArrayTest.class\n  |  |-[D] fruit\n  |  |  |---- Apple.class\n  |  |  `---- GrannySmith.class\n  |  |---- IfTest.class\n  |  |-[D] interview\n  |  |  |---- Q1.class\n  |  |  |---- Q2.class\n  |  |  |---- Q3.class\n  |  |  |---- Q3Sub.class\n  |  |  |---- Q9Sub.class\n  |  |  `---- Q9Super.class\n  |  |---- IntOverflowTest.class\n  |  |---- LinkedMapTest.class\n  |  |-[D] log\n  |  |  `---- Logger.class\n  |  |---- log.properties\n  |  |---- StringCaseTest.class\n  |  |-[D] test\n  |  |  |-[D] cache\n  |  |  |  |-[D] test1\n  |  |  |  |  |---- Cache.class\n  |  |  |  |  |---- CacheEntry.class\n  |  |  |  |  `---- RevisedCacheTest.class\n  |  |  |  |-[D] test2\n  |  |  |  |  |---- Cache.class\n  |  |  |  |  |---- Log.class\n  |  |  |  |  `---- RevisedCacheTest.class\n  |  |  |  `-[D] test3\n  |  |  |  |  |---- ConcurrentCache.class\n  |  |  |  |  `---- ConcurrentCacheTest.class\n  |  |  |---- Test.class\n  |  |  `---- Test2.class\n  |  |---- Test.class\n  |  |---- Test2.class\n  |  `---- ZipTest.class\n  `---- Play.jpr\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1904988,"reputation":96,"user_id":1720042,"display_name":"BaiJie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420993989,"creation_date":1420993989,"answer_id":27889424,"question_id":10655085,"body_markdown":"This is my solution:\r\n\r\n(The `TreeNode` Class is copied from [there](https://stackoverflow.com/questions/3522454/java-tree-data-structure#17490124).)\r\n\r\n    public static String renderDirectoryTree(TreeNode&lt;FileInformation&gt; tree) {\r\n        List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\r\n        String newline = System.getProperty(&quot;line.separator&quot;);\r\n        StringBuilder sb = new StringBuilder(lines.size() * 20);\r\n        for (StringBuilder line : lines) {\r\n            sb.append(line);\r\n            sb.append(newline);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    public static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;FileInformation&gt; tree) {\r\n        List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\r\n        result.add(new StringBuilder().append(tree.getData().getPath().getFileName()));\r\n        Iterator&lt;TreeNode&lt;FileInformation&gt;&gt; iterator = tree.getChildren().iterator();\r\n        while (iterator.hasNext()) {\r\n            List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\r\n            if (iterator.hasNext()) {\r\n                addSubtree(result, subtree);\r\n            } else {\r\n                addLastSubtree(result, subtree);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n        //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\r\n        result.add(iterator.next().insert(0, &quot; &quot;));\r\n        while (iterator.hasNext()) {\r\n            result.add(iterator.next().insert(0, &quot;   &quot;));\r\n        }\r\n    }\r\n\r\n    private static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\r\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n        //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\r\n        result.add(iterator.next().insert(0, &quot; &quot;));\r\n        while (iterator.hasNext()) {\r\n            result.add(iterator.next().insert(0, &quot;    &quot;));\r\n        }\r\n    }\r\n\r\nwith this output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    DirectoryCatalog\r\n     .git\r\n        COMMIT_EDITMSG\r\n        config\r\n        description\r\n        HEAD\r\n        hooks\r\n           applypatch-msg.sample\r\n           commit-msg.sample\r\n           post-commit.sample\r\n           post-receive.sample\r\n           post-update.sample\r\n           pre-applypatch.sample\r\n           pre-commit.sample\r\n           pre-push.sample\r\n           pre-rebase.sample\r\n           prepare-commit-msg.sample\r\n           update.sample\r\n        index\r\n        info\r\n           exclude\r\n        logs\r\n           HEAD\r\n           refs\r\n               heads\r\n                  master\r\n               remotes\r\n                   origin\r\n                       master\r\n        objects\r\n           0b\r\n              b3fb0a15268c9770220938b1048305429527c7\r\n           0d\r\n              e508f20f1cb44ff543cec54ea93a71e5e40d1d\r\n           10\r\n              9c753f3aab08f167f8409e6c9abec27cad6548\r\n           15\r\n              7602556ebd120e656ae8dcd00cb361bfb3ef79\r\n           16\r\n              952a5d1f5f3d15199f3e85b3d895a81990024e\r\n           1c\r\n              5b36cd4d41b9b7d0df46d4184512098186c904\r\n           20\r\n              ae5cc82ebbb85f9161d8fd9783905e4cbee72c\r\n           21\r\n              e42add0fb2205a75ff621dbeb6d76455816b79\r\n           23\r\n              af4eaa4007ca941e562406b7b329c6ba4b395e\r\n           28\r\n              6caf4b7be3ac85a476f3782220fe167a040971\r\n           2b\r\n              f6743fb97162e999fb6429510bb8a52114bc31\r\n           35\r\n              acd4ab6acb599d4e3244be2a8dc3a0161bcb3c\r\n           46\r\n              1ef7c4db86e0466bb8f1f81dc25f12e3598db6\r\n           47\r\n              4ce7f18330e5295ab1ef2eea66505235819e22\r\n           4b\r\n              825dc642cb6eb9a060e54bf8d69288fbee4904\r\n           4e\r\n              4e047c077c7825a845deebda7f97832cee847b\r\n           4f\r\n              20b118269d71535e469966fdb5fe8a78ae6c9a\r\n           51\r\n              677b295b4cd9931354dd52fb6050015d524fea\r\n           52\r\n              9c34997d8262bd207037f0373703d68d4e1a4e\r\n           5b\r\n              928f45816cc51609861f0930251accbe7de7f9\r\n           5d\r\n              7cdbe029c6eff99c72d09b0a81347b605e77d7\r\n           61\r\n              2b9d86f6ac365ede894e13a6273fd13833f44f\r\n           67\r\n              2209cb240eac0303d6e3b6c7eb04242d661fad\r\n           6b\r\n              c84e19913908f16141677b9d66abdb620350a0\r\n              d278b63be854ccd3c02b9038ee43366021b1a1\r\n           6c\r\n              9d10e91679988caaee6759d48daf336f28a9a3\r\n           70\r\n              4284c78f1c664c1348af5a784cca55c51fd66a\r\n           72\r\n              1ab5fe4e4226930668048d97331103a92751be\r\n           78\r\n              64a41eaf50f32ae8d2cab1acd200c405215c1a\r\n           82\r\n              36f772feca12b3e301eea50774458a7e77c7fb\r\n           83\r\n              bc1e2a1f3187f28d63d7fa334744810d80c20d\r\n           87\r\n              3ce97f624e9a1ae4a1bbf41218d50dc3503d6f\r\n           8a\r\n              0b282aa6885fb573c106b3551f7275c5f17e8e\r\n           91\r\n              a7e269e19dfc62e27137a0b57ef3e430cee4fd\r\n           94\r\n              065a39b0dd7ce05604b96aff84d984493553e2\r\n              5cbc994fb2d251437e71edf3a6eb289c5836ec\r\n           95\r\n              f481326b62c9adff2a0dad47480e279adb518f\r\n           9e\r\n              1f7de67de38e67479cb8e38ad92d6354838393\r\n           a1\r\n              e385dff1fb08b7a45ea52af43b22d240f0adab\r\n           a7\r\n              8934a5a81d95a85b9c97a3e1c1429186feb83d\r\n           ab\r\n              855c3379bdb3e4a22605de58f3438148d6ffe7\r\n           b7\r\n              64eafa2ba4e7f8f52a4e96da61b3d77f262d16\r\n           bd\r\n              9374662b409bb364779212874e7cf611541c38\r\n           c1\r\n              f858c163f9c8cb89a145a60e87c9e35c97fb93\r\n           c3\r\n              35d07a1078656646ca6e980b468b938106d357\r\n           c5\r\n              ac562c59d6a0430fa0ccd1fa6318fa5d48604f\r\n           c8\r\n              f3d9284a65afbff6640da7970664ee2134c85b\r\n           c9\r\n              7a8bdb9088d370da7e88784a7a093b971aa23a\r\n           cc\r\n              a6a5141b614b5e351c7e5b6b677ef09a931786\r\n           d1\r\n              76229a9e1d0172f84d060904d171be51f9d0f6\r\n           d3\r\n              2f0a1ba59a0c52d3acc62de1d624fb68423ee3\r\n              b9dfcb3216a2feab03b1ae96280e3c1c963953\r\n           e0\r\n              6d2081865a766a8668acc12878f98b27fc9ea0\r\n           e5\r\n              3106578cd8adcd085c5c63c05fc49d5a5a3dbb\r\n           info\r\n           pack\r\n        refs\r\n            heads\r\n               master\r\n            remotes\r\n               origin\r\n                   master\r\n            tags\r\n     .gitattributes\r\n     .gitignore\r\n     .gradle\r\n        2.2.1\r\n            taskArtifacts\r\n                cache.properties\r\n                cache.properties.lock\r\n                fileHashes.bin\r\n                fileSnapshots.bin\r\n                outputFileStates.bin\r\n                taskArtifacts.bin\r\n     .idea\r\n        .name\r\n        compiler.xml\r\n        copyright\r\n           profiles_settings.xml\r\n        encodings.xml\r\n        gradle.xml\r\n        libraries\r\n           Gradle__commons_io_commons_io_2_4.xml\r\n           Gradle__junit_junit_4_11.xml\r\n           Gradle__org_hamcrest_hamcrest_core_1_3.xml\r\n        misc.xml\r\n        modules.xml\r\n        scopes\r\n           scope_settings.xml\r\n        uiDesigner.xml\r\n        vcs.xml\r\n        workspace.xml\r\n     app\r\n        app.iml\r\n        build\r\n           classes\r\n              main\r\n                  gq\r\n                      baijie\r\n                          catalog\r\n                              controllor\r\n                                 FilesScanner$MyFileVisitor.class\r\n                                 FilesScanner.class\r\n                              entity\r\n                                 FileInformation.class\r\n                              Main.class\r\n                              util\r\n                                  FileAssert.class\r\n                                  Hash.class\r\n                                  HEX.class\r\n                                  Printer$1.class\r\n                                  Printer$DirectoryTreeRender.class\r\n                                  Printer.class\r\n                                  TreeNode.class\r\n           dependency-cache\r\n           resources\r\n              main\r\n           tmp\r\n               compileJava\r\n        build.gradle\r\n        src\r\n            main\r\n               java\r\n                   gq\r\n                       baijie\r\n                           catalog\r\n                               controllor\r\n                                  FilesScanner.java\r\n                               entity\r\n                                  FileInformation.java\r\n                               Main.java\r\n                               util\r\n                                   FileAssert.java\r\n                                   Hash.java\r\n                                   HEX.java\r\n                                   Printer.java\r\n                                   TreeNode.java\r\n            test\r\n                java\r\n     DirectoryCatalog.iml\r\n     gradle\r\n        wrapper\r\n            gradle-wrapper.jar\r\n            gradle-wrapper.properties\r\n     gradlew\r\n     gradlew.bat\r\n     LICENSE\r\n     README.md\r\n     settings.gradle\r\n     temp\r\n         150110161006.txt\r\n         150110173453.txt\r\n         150110175353.txt\r\n         150111111311.txt\r\n         150111112500.txt\r\n         150111113411.txt\r\n         150111155619.txt\r\n         150111161958.txt\r\n         150111162230.txt\r\n         150111162632.txt\r\n         150111163225.txt\r\n         150111163330.txt\r\n         150111164526.txt\r\n         150111205412.txt\r\n         150111210322.txt\r\n         150111210506.txt\r\n         150111210927.txt\r\n         150111211249.txt\r\n         150111211321.txt\r\n         150111220750.txt\r\n         150111220822.txt\r\n         150111221437.txt\r\n         150111221842.txt\r\n         150111222437.txt\r\n         150111234344.txt\r\n         150111234433.txt\r\n         150112000034.txt\r\n","title":"print directory tree","body":"<p>This is my solution:</p>\n\n<p>(The <code>TreeNode</code> Class is copied from <a href=\"https://stackoverflow.com/questions/3522454/java-tree-data-structure#17490124\">there</a>.)</p>\n\n<pre><code>public static String renderDirectoryTree(TreeNode&lt;FileInformation&gt; tree) {\n    List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\n    String newline = System.getProperty(\"line.separator\");\n    StringBuilder sb = new StringBuilder(lines.size() * 20);\n    for (StringBuilder line : lines) {\n        sb.append(line);\n        sb.append(newline);\n    }\n    return sb.toString();\n}\n\npublic static List&lt;StringBuilder&gt; renderDirectoryTreeLines(TreeNode&lt;FileInformation&gt; tree) {\n    List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\n    result.add(new StringBuilder().append(tree.getData().getPath().getFileName()));\n    Iterator&lt;TreeNode&lt;FileInformation&gt;&gt; iterator = tree.getChildren().iterator();\n    while (iterator.hasNext()) {\n        List&lt;StringBuilder&gt; subtree = renderDirectoryTreeLines(iterator.next());\n        if (iterator.hasNext()) {\n            addSubtree(result, subtree);\n        } else {\n            addLastSubtree(result, subtree);\n        }\n    }\n    return result;\n}\n\nprivate static void addSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n    Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n    //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\n    result.add(iterator.next().insert(0, \" \"));\n    while (iterator.hasNext()) {\n        result.add(iterator.next().insert(0, \"   \"));\n    }\n}\n\nprivate static void addLastSubtree(List&lt;StringBuilder&gt; result, List&lt;StringBuilder&gt; subtree) {\n    Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n    //subtree generated by renderDirectoryTreeLines has at least one line which is tree.getData()\n    result.add(iterator.next().insert(0, \" \"));\n    while (iterator.hasNext()) {\n        result.add(iterator.next().insert(0, \"    \"));\n    }\n}\n</code></pre>\n\n<p>with this output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DirectoryCatalog\n .git\n    COMMIT_EDITMSG\n    config\n    description\n    HEAD\n    hooks\n       applypatch-msg.sample\n       commit-msg.sample\n       post-commit.sample\n       post-receive.sample\n       post-update.sample\n       pre-applypatch.sample\n       pre-commit.sample\n       pre-push.sample\n       pre-rebase.sample\n       prepare-commit-msg.sample\n       update.sample\n    index\n    info\n       exclude\n    logs\n       HEAD\n       refs\n           heads\n              master\n           remotes\n               origin\n                   master\n    objects\n       0b\n          b3fb0a15268c9770220938b1048305429527c7\n       0d\n          e508f20f1cb44ff543cec54ea93a71e5e40d1d\n       10\n          9c753f3aab08f167f8409e6c9abec27cad6548\n       15\n          7602556ebd120e656ae8dcd00cb361bfb3ef79\n       16\n          952a5d1f5f3d15199f3e85b3d895a81990024e\n       1c\n          5b36cd4d41b9b7d0df46d4184512098186c904\n       20\n          ae5cc82ebbb85f9161d8fd9783905e4cbee72c\n       21\n          e42add0fb2205a75ff621dbeb6d76455816b79\n       23\n          af4eaa4007ca941e562406b7b329c6ba4b395e\n       28\n          6caf4b7be3ac85a476f3782220fe167a040971\n       2b\n          f6743fb97162e999fb6429510bb8a52114bc31\n       35\n          acd4ab6acb599d4e3244be2a8dc3a0161bcb3c\n       46\n          1ef7c4db86e0466bb8f1f81dc25f12e3598db6\n       47\n          4ce7f18330e5295ab1ef2eea66505235819e22\n       4b\n          825dc642cb6eb9a060e54bf8d69288fbee4904\n       4e\n          4e047c077c7825a845deebda7f97832cee847b\n       4f\n          20b118269d71535e469966fdb5fe8a78ae6c9a\n       51\n          677b295b4cd9931354dd52fb6050015d524fea\n       52\n          9c34997d8262bd207037f0373703d68d4e1a4e\n       5b\n          928f45816cc51609861f0930251accbe7de7f9\n       5d\n          7cdbe029c6eff99c72d09b0a81347b605e77d7\n       61\n          2b9d86f6ac365ede894e13a6273fd13833f44f\n       67\n          2209cb240eac0303d6e3b6c7eb04242d661fad\n       6b\n          c84e19913908f16141677b9d66abdb620350a0\n          d278b63be854ccd3c02b9038ee43366021b1a1\n       6c\n          9d10e91679988caaee6759d48daf336f28a9a3\n       70\n          4284c78f1c664c1348af5a784cca55c51fd66a\n       72\n          1ab5fe4e4226930668048d97331103a92751be\n       78\n          64a41eaf50f32ae8d2cab1acd200c405215c1a\n       82\n          36f772feca12b3e301eea50774458a7e77c7fb\n       83\n          bc1e2a1f3187f28d63d7fa334744810d80c20d\n       87\n          3ce97f624e9a1ae4a1bbf41218d50dc3503d6f\n       8a\n          0b282aa6885fb573c106b3551f7275c5f17e8e\n       91\n          a7e269e19dfc62e27137a0b57ef3e430cee4fd\n       94\n          065a39b0dd7ce05604b96aff84d984493553e2\n          5cbc994fb2d251437e71edf3a6eb289c5836ec\n       95\n          f481326b62c9adff2a0dad47480e279adb518f\n       9e\n          1f7de67de38e67479cb8e38ad92d6354838393\n       a1\n          e385dff1fb08b7a45ea52af43b22d240f0adab\n       a7\n          8934a5a81d95a85b9c97a3e1c1429186feb83d\n       ab\n          855c3379bdb3e4a22605de58f3438148d6ffe7\n       b7\n          64eafa2ba4e7f8f52a4e96da61b3d77f262d16\n       bd\n          9374662b409bb364779212874e7cf611541c38\n       c1\n          f858c163f9c8cb89a145a60e87c9e35c97fb93\n       c3\n          35d07a1078656646ca6e980b468b938106d357\n       c5\n          ac562c59d6a0430fa0ccd1fa6318fa5d48604f\n       c8\n          f3d9284a65afbff6640da7970664ee2134c85b\n       c9\n          7a8bdb9088d370da7e88784a7a093b971aa23a\n       cc\n          a6a5141b614b5e351c7e5b6b677ef09a931786\n       d1\n          76229a9e1d0172f84d060904d171be51f9d0f6\n       d3\n          2f0a1ba59a0c52d3acc62de1d624fb68423ee3\n          b9dfcb3216a2feab03b1ae96280e3c1c963953\n       e0\n          6d2081865a766a8668acc12878f98b27fc9ea0\n       e5\n          3106578cd8adcd085c5c63c05fc49d5a5a3dbb\n       info\n       pack\n    refs\n        heads\n           master\n        remotes\n           origin\n               master\n        tags\n .gitattributes\n .gitignore\n .gradle\n    2.2.1\n        taskArtifacts\n            cache.properties\n            cache.properties.lock\n            fileHashes.bin\n            fileSnapshots.bin\n            outputFileStates.bin\n            taskArtifacts.bin\n .idea\n    .name\n    compiler.xml\n    copyright\n       profiles_settings.xml\n    encodings.xml\n    gradle.xml\n    libraries\n       Gradle__commons_io_commons_io_2_4.xml\n       Gradle__junit_junit_4_11.xml\n       Gradle__org_hamcrest_hamcrest_core_1_3.xml\n    misc.xml\n    modules.xml\n    scopes\n       scope_settings.xml\n    uiDesigner.xml\n    vcs.xml\n    workspace.xml\n app\n    app.iml\n    build\n       classes\n          main\n              gq\n                  baijie\n                      catalog\n                          controllor\n                             FilesScanner$MyFileVisitor.class\n                             FilesScanner.class\n                          entity\n                             FileInformation.class\n                          Main.class\n                          util\n                              FileAssert.class\n                              Hash.class\n                              HEX.class\n                              Printer$1.class\n                              Printer$DirectoryTreeRender.class\n                              Printer.class\n                              TreeNode.class\n       dependency-cache\n       resources\n          main\n       tmp\n           compileJava\n    build.gradle\n    src\n        main\n           java\n               gq\n                   baijie\n                       catalog\n                           controllor\n                              FilesScanner.java\n                           entity\n                              FileInformation.java\n                           Main.java\n                           util\n                               FileAssert.java\n                               Hash.java\n                               HEX.java\n                               Printer.java\n                               TreeNode.java\n        test\n            java\n DirectoryCatalog.iml\n gradle\n    wrapper\n        gradle-wrapper.jar\n        gradle-wrapper.properties\n gradlew\n gradlew.bat\n LICENSE\n README.md\n settings.gradle\n temp\n     150110161006.txt\n     150110173453.txt\n     150110175353.txt\n     150111111311.txt\n     150111112500.txt\n     150111113411.txt\n     150111155619.txt\n     150111161958.txt\n     150111162230.txt\n     150111162632.txt\n     150111163225.txt\n     150111163330.txt\n     150111164526.txt\n     150111205412.txt\n     150111210322.txt\n     150111210506.txt\n     150111210927.txt\n     150111211249.txt\n     150111211321.txt\n     150111220750.txt\n     150111220822.txt\n     150111221437.txt\n     150111221842.txt\n     150111222437.txt\n     150111234344.txt\n     150111234433.txt\n     150112000034.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10260369,"reputation":1,"user_id":7571895,"display_name":"pepino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487203231,"creation_date":1487203231,"answer_id":42262392,"question_id":10655085,"body_markdown":"This is my solution:\r\n\r\n    import java.io.File;\r\n\r\n    public class MostrarArbol {\r\n\r\n        public static void main(String args[]) {\r\n    \t\tFile carpeta = new File(args[0]);\r\n    \t\t// File carpeta = new File(&quot;.&quot;);\r\n    \t\tif (!carpeta.exists()) {\r\n    \t\t\tSystem.out.println(args[0] + &quot; NO existe.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\timprimeArbol(carpeta, &quot;&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void imprimeArbol(File carpeta, String tabulador) {\r\n    \t\tFile contenido[] = carpeta.listFiles();\r\n    \t\tif (contenido != null) {\r\n    \t\t\tfor (int i = 0; i &lt; contenido.length; i++) \r\n    \t\t\t\tif (contenido[i].isDirectory()) {\r\n    \t\t\t\t\tSystem.out.println(tabulador + &quot;|-&quot; + contenido[i].getName());\r\n    \t\t\t\t\timprimeArbol(contenido[i], tabulador + &quot;|  &quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(tabulador + &quot;+-&quot; + contenido[i].getName().toString());\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"print directory tree","body":"<p>This is my solution:</p>\n\n<pre><code>import java.io.File;\n\npublic class MostrarArbol {\n\n    public static void main(String args[]) {\n        File carpeta = new File(args[0]);\n        // File carpeta = new File(\".\");\n        if (!carpeta.exists()) {\n            System.out.println(args[0] + \" NO existe.\");\n            return;\n        }\n        imprimeArbol(carpeta, \"\");\n    }\n\n    public static void imprimeArbol(File carpeta, String tabulador) {\n        File contenido[] = carpeta.listFiles();\n        if (contenido != null) {\n            for (int i = 0; i &lt; contenido.length; i++) \n                if (contenido[i].isDirectory()) {\n                    System.out.println(tabulador + \"|-\" + contenido[i].getName());\n                    imprimeArbol(contenido[i], tabulador + \"|  \");\n                } else {\n                    System.out.println(tabulador + \"+-\" + contenido[i].getName().toString());\n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959307,"reputation":170,"user_id":8558398,"display_name":"13hola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529672841,"creation_date":1529672841,"answer_id":50988639,"question_id":10655085,"body_markdown":"This is My Code. its Work\r\n\r\n    package DIRS;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class LISTDIR\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString path = System.getProperty(&quot;user.dir&quot;)+File.separator;\r\n    \t\t\r\n    \t\tFile file[] = new File(path).listFiles();\r\n    \t\t\r\n    \t\tfor(int i = 0 ; i &lt; file.length ; i++)\r\n    \t\t{\r\n    \t\t\tif(file[i].isDirectory())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;-&gt;&quot;+file[i].getName());\r\n    \t\t\t\tnew LISTDIR().listfiles(file[i],&quot;--&quot;);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;-&gt; &quot;+file[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void listfiles(File f,String sprtr)\r\n    \t{\r\n    \t\tFile file[] = f.listFiles();\r\n    \t\tfor(int i = 0 ; i &lt; file.length ; i++)\r\n    \t\t{\r\n    \t\t\tif(file[i].isDirectory())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(sprtr+file[i].getName());\r\n    \t\t\t\t\r\n    \t\t\t\tnew LISTDIR().listfiles(file[i],&quot;--&quot;+sprtr);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(sprtr+file[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"print directory tree","body":"<p>This is My Code. its Work</p>\n\n<pre><code>package DIRS;\n\nimport java.io.File;\n\npublic class LISTDIR\n{\n    public static void main(String[] args)\n    {\n        String path = System.getProperty(\"user.dir\")+File.separator;\n\n        File file[] = new File(path).listFiles();\n\n        for(int i = 0 ; i &lt; file.length ; i++)\n        {\n            if(file[i].isDirectory())\n            {\n                System.out.println(\"-&gt;\"+file[i].getName());\n                new LISTDIR().listfiles(file[i],\"--\");\n            }\n            else\n            {\n                System.out.println(\"-&gt; \"+file[i].getName());\n            }\n        }\n    }\n\n    public void listfiles(File f,String sprtr)\n    {\n        File file[] = f.listFiles();\n        for(int i = 0 ; i &lt; file.length ; i++)\n        {\n            if(file[i].isDirectory())\n            {\n                System.out.println(sprtr+file[i].getName());\n\n                new LISTDIR().listfiles(file[i],\"--\"+sprtr);\n            }\n            else\n            {\n                System.out.println(sprtr+file[i].getName());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542974293,"creation_date":1542974293,"answer_id":53446301,"question_id":10655085,"body_markdown":"I was testing the solution with the most upticks written by @tan70 however it caused a null pointer exception on printing my home directory. I did some investigation and found that listFiles() can return null.\r\n\r\npublic File[] listFiles()\r\n\r\nReturns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.\r\n\r\nIf this abstract pathname does not denote a directory, then this method returns **null**. Otherwise an array of File objects is returned, one for each file or directory in the directory\r\n\r\n\r\n    /**\r\n     * Pretty print the directory tree and its file names.\r\n     *\r\n     * @param path\r\n     * @return\r\n     */\r\n    public static String printDirectoryTree(String path) {\r\n        File folder = new File(path);\r\n        if (!folder.isDirectory()) {\r\n            throw new IllegalArgumentException(&quot;folder is not a Directory&quot;);\r\n        }\r\n        int indent = 0;\r\n        StringBuilder sb = new StringBuilder();\r\n        printDirectoryTree(folder, indent, sb);\r\n        return sb.toString();\r\n    }\r\n    \r\n    private static void printDirectoryTree(File folder, int indent, StringBuilder sb) {\r\n    \r\n        if (folder != null &amp;&amp; folder.isDirectory() &amp;&amp; folder.listFiles() != null) {\r\n            sb.append(getIndentString(indent));\r\n            sb.append(&quot;+--&quot;);\r\n            sb.append(folder.getName());\r\n            sb.append(&quot;/&quot;);\r\n            sb.append(&quot;\\n&quot;);\r\n    \r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    printDirectoryTree(file, indent + 1, sb);\r\n                } else {\r\n                    printFile(file, indent + 1, sb);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void printFile(File file, int indent, StringBuilder sb) {\r\n        sb.append(getIndentString(indent));\r\n        sb.append(&quot;+--&quot;);\r\n        if (file != null) {\r\n            sb.append(file.getName());\r\n        } else {\r\n            sb.append(&quot;null file name&quot;);\r\n        }\r\n        sb.append(&quot;\\n&quot;);\r\n    }\r\n    \r\n    private static String getIndentString(int indent) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; indent; i++) {\r\n            sb.append(&quot;|  &quot;);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n","title":"print directory tree","body":"<p>I was testing the solution with the most upticks written by @tan70 however it caused a null pointer exception on printing my home directory. I did some investigation and found that listFiles() can return null.</p>\n\n<p>public File[] listFiles()</p>\n\n<p>Returns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.</p>\n\n<p>If this abstract pathname does not denote a directory, then this method returns <strong>null</strong>. Otherwise an array of File objects is returned, one for each file or directory in the directory</p>\n\n<pre><code>/**\n * Pretty print the directory tree and its file names.\n *\n * @param path\n * @return\n */\npublic static String printDirectoryTree(String path) {\n    File folder = new File(path);\n    if (!folder.isDirectory()) {\n        throw new IllegalArgumentException(\"folder is not a Directory\");\n    }\n    int indent = 0;\n    StringBuilder sb = new StringBuilder();\n    printDirectoryTree(folder, indent, sb);\n    return sb.toString();\n}\n\nprivate static void printDirectoryTree(File folder, int indent, StringBuilder sb) {\n\n    if (folder != null &amp;&amp; folder.isDirectory() &amp;&amp; folder.listFiles() != null) {\n        sb.append(getIndentString(indent));\n        sb.append(\"+--\");\n        sb.append(folder.getName());\n        sb.append(\"/\");\n        sb.append(\"\\n\");\n\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                printDirectoryTree(file, indent + 1, sb);\n            } else {\n                printFile(file, indent + 1, sb);\n            }\n        }\n    }\n}\n\nprivate static void printFile(File file, int indent, StringBuilder sb) {\n    sb.append(getIndentString(indent));\n    sb.append(\"+--\");\n    if (file != null) {\n        sb.append(file.getName());\n    } else {\n        sb.append(\"null file name\");\n    }\n    sb.append(\"\\n\");\n}\n\nprivate static String getIndentString(int indent) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; indent; i++) {\n        sb.append(\"|  \");\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15184724,"reputation":51,"user_id":10957072,"display_name":"Medium core"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548296189,"creation_date":1548295692,"answer_id":54338414,"question_id":10655085,"body_markdown":"Reference and modify fucntions of tree structures from [this](https://github.com/gt4dev/yet-another-tree-structure/tree/master/java/src/com/tree):\r\n      \r\n    import org.apache.commons.io.FileUtils;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n\r\n    public class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\r\n\r\n        public T data;\r\n        public TreeNode&lt;T&gt; parent;\r\n        public List&lt;TreeNode&lt;T&gt;&gt; children;\r\n\r\n        public boolean isRoot() {\r\n            return parent == null;\r\n        }\r\n\r\n        public boolean isLeaf() {\r\n            return children.size() == 0;\r\n        }\r\n\r\n        private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\r\n\r\n        public TreeNode(T data) {\r\n            this.data = data;\r\n            this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n            this.elementsIndex.add(this);\r\n        }\r\n\r\n        public TreeNode&lt;T&gt; addChild(T child) {\r\n            TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\r\n            childNode.parent = this;\r\n            this.children.add(childNode);\r\n            this.registerChildForSearch(childNode);\r\n            return childNode;\r\n        }\r\n\r\n        public int getLevel() {\r\n            if (this.isRoot())\r\n                return 0;\r\n            else\r\n                return parent.getLevel() + 1;\r\n        }\r\n\r\n        private void registerChildForSearch(TreeNode&lt;T&gt; node) {\r\n            elementsIndex.add(node);\r\n            if (parent != null)\r\n                parent.registerChildForSearch(node);\r\n        }\r\n\r\n        public TreeNode&lt;T&gt; findTreeNode(Comparable&lt;T&gt; cmp) {\r\n            for (TreeNode&lt;T&gt; element : this.elementsIndex) {\r\n                T elData = element.data;\r\n                if (cmp.compareTo(elData) == 0)\r\n                    return element;\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return data != null ? data.toString() : &quot;[data null]&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\r\n            TreeNodeIter&lt;T&gt; iter = new TreeNodeIter&lt;T&gt;(this);\r\n            return iter;\r\n        }\r\n\r\n        public static TreeNode&lt;File&gt; createDirTree(File folder) {\r\n            if (!folder.isDirectory()) {\r\n                throw new IllegalArgumentException(&quot;folder is not a\r\n                        Directory&quot;);\r\n            }\r\n            TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file, DirRoot);\r\n                } else {\r\n                    appendFile(file, DirRoot);\r\n                }\r\n            }\r\n            return DirRoot;\r\n        }\r\n\r\n        public static void appendDirTree(File folder, TreeNode&lt;File&gt; DirRoot)\r\n        {\r\n            DirRoot.addChild(folder);\r\n            for (File file : folder.listFiles()) {\r\n                if (file.isDirectory()) {\r\n                    appendDirTree(file,\r\n                            DirRoot.children.get(DirRoot.children.size() - 1));\r\n                } else {\r\n                    appendFile(file,\r\n                            DirRoot.children.get(DirRoot.children.size() - 1));\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\r\n            filenode.addChild(file);\r\n        }\r\n\r\n\r\n        public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\r\n            List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\r\n            String newline = System.getProperty(&quot;line.separator&quot;);\r\n            StringBuilder sb = new StringBuilder(lines.size() * 20);\r\n            for (StringBuilder line : lines) {\r\n                sb.append(line);\r\n                sb.append(newline);\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n        public static List&lt;StringBuilder&gt;\r\n            renderDirectoryTreeLines(TreeNode&lt;File&gt;\r\n                    tree) {\r\n                List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\r\n                result.add(new StringBuilder().append(tree.data.getName()));\r\n                Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\r\n                while (iterator.hasNext()) {\r\n                    List&lt;StringBuilder&gt; subtree =\r\n                        renderDirectoryTreeLines(iterator.next());\r\n                    if (iterator.hasNext()) {\r\n                        addSubtree(result, subtree);\r\n                    } else {\r\n                        addLastSubtree(result, subtree);\r\n                    }\r\n                }\r\n                return result;\r\n                    }\r\n\r\n        private static void addSubtree(List&lt;StringBuilder&gt; result,\r\n                List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            //subtree generated by renderDirectoryTreeLines has at least one\r\n            line which is tree.getData()\r\n                result.add(iterator.next().insert(0, &quot; &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;   &quot;));\r\n            }\r\n        }\r\n\r\n        private static void addLastSubtree(List&lt;StringBuilder&gt; result,\r\n                List&lt;StringBuilder&gt; subtree) {\r\n            Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\r\n            //subtree generated by renderDirectoryTreeLines has at least\r\n            one\r\n                line which is tree.getData()\r\n                result.add(iterator.next().insert(0, &quot; &quot;));\r\n            while (iterator.hasNext()) {\r\n                result.add(iterator.next().insert(0, &quot;    &quot;));\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            File file = new File(&quot;./&quot;);\r\n            TreeNode&lt;File&gt; DirTree = createDirTree(file);\r\n            String result = renderDirectoryTree(DirTree);\r\n            System.out.println(result);\r\n            try {\r\n                File newTextFile = new File(&quot;./DirectoryTree.txt&quot;);\r\n\r\n                FileWriter fw = new FileWriter(newTextFile);\r\n                fw.write(result);\r\n                fw.close();\r\n\r\n            } catch (IOException iox) {\r\n                iox.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nwith this output:\r\n\r\n\r\n    .\r\n     .DS_Store\r\n     .idea\r\n        compiler.xml\r\n        dictionaries\r\n           yankai01.xml\r\n        encodings.xml\r\n        misc.xml\r\n        workspace.xml\r\n     data_exploring.iml\r\n     pom.xml\r\n     src\r\n        .DS_Store\r\n        main\r\n           .DS_Store\r\n           java\r\n              FileAssert.java\r\n              HttpUtils.java\r\n              QuerySaveToCsv.java\r\n              SampleData.java\r\n              SampleIterating.java\r\n              SampleSearching.java\r\n              TreeNode.java\r\n              TreeNodeIter.java\r\n           resources\r\n        test\r\n            java\r\n     target\r\n         classes\r\n            FileAssert.class\r\n            HttpUtils.class\r\n            QuerySaveToCsv.class\r\n            SampleData.class\r\n            SampleIterating.class\r\n            SampleSearching$1.class\r\n            SampleSearching.class\r\n            TreeNode.class\r\n            TreeNodeIter$ProcessStages.class\r\n            TreeNodeIter.class\r\n         generated-sources\r\n             annotations","title":"print directory tree","body":"<p>Reference and modify fucntions of tree structures from <a href=\"https://github.com/gt4dev/yet-another-tree-structure/tree/master/java/src/com/tree\" rel=\"noreferrer\">this</a>:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\n\n    public T data;\n    public TreeNode&lt;T&gt; parent;\n    public List&lt;TreeNode&lt;T&gt;&gt; children;\n\n    public boolean isRoot() {\n        return parent == null;\n    }\n\n    public boolean isLeaf() {\n        return children.size() == 0;\n    }\n\n    private List&lt;TreeNode&lt;T&gt;&gt; elementsIndex;\n\n    public TreeNode(T data) {\n        this.data = data;\n        this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n        this.elementsIndex.add(this);\n    }\n\n    public TreeNode&lt;T&gt; addChild(T child) {\n        TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\n        childNode.parent = this;\n        this.children.add(childNode);\n        this.registerChildForSearch(childNode);\n        return childNode;\n    }\n\n    public int getLevel() {\n        if (this.isRoot())\n            return 0;\n        else\n            return parent.getLevel() + 1;\n    }\n\n    private void registerChildForSearch(TreeNode&lt;T&gt; node) {\n        elementsIndex.add(node);\n        if (parent != null)\n            parent.registerChildForSearch(node);\n    }\n\n    public TreeNode&lt;T&gt; findTreeNode(Comparable&lt;T&gt; cmp) {\n        for (TreeNode&lt;T&gt; element : this.elementsIndex) {\n            T elData = element.data;\n            if (cmp.compareTo(elData) == 0)\n                return element;\n        }\n\n        return null;\n    }\n\n    @Override\n    public String toString() {\n        return data != null ? data.toString() : \"[data null]\";\n    }\n\n    @Override\n    public Iterator&lt;TreeNode&lt;T&gt;&gt; iterator() {\n        TreeNodeIter&lt;T&gt; iter = new TreeNodeIter&lt;T&gt;(this);\n        return iter;\n    }\n\n    public static TreeNode&lt;File&gt; createDirTree(File folder) {\n        if (!folder.isDirectory()) {\n            throw new IllegalArgumentException(\"folder is not a\n                    Directory\");\n        }\n        TreeNode&lt;File&gt; DirRoot = new TreeNode&lt;File&gt;(folder);\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                appendDirTree(file, DirRoot);\n            } else {\n                appendFile(file, DirRoot);\n            }\n        }\n        return DirRoot;\n    }\n\n    public static void appendDirTree(File folder, TreeNode&lt;File&gt; DirRoot)\n    {\n        DirRoot.addChild(folder);\n        for (File file : folder.listFiles()) {\n            if (file.isDirectory()) {\n                appendDirTree(file,\n                        DirRoot.children.get(DirRoot.children.size() - 1));\n            } else {\n                appendFile(file,\n                        DirRoot.children.get(DirRoot.children.size() - 1));\n            }\n        }\n    }\n\n    public static void appendFile(File file, TreeNode&lt;File&gt; filenode) {\n        filenode.addChild(file);\n    }\n\n\n    public static String renderDirectoryTree(TreeNode&lt;File&gt; tree) {\n        List&lt;StringBuilder&gt; lines = renderDirectoryTreeLines(tree);\n        String newline = System.getProperty(\"line.separator\");\n        StringBuilder sb = new StringBuilder(lines.size() * 20);\n        for (StringBuilder line : lines) {\n            sb.append(line);\n            sb.append(newline);\n        }\n        return sb.toString();\n    }\n\n    public static List&lt;StringBuilder&gt;\n        renderDirectoryTreeLines(TreeNode&lt;File&gt;\n                tree) {\n            List&lt;StringBuilder&gt; result = new LinkedList&lt;&gt;();\n            result.add(new StringBuilder().append(tree.data.getName()));\n            Iterator&lt;TreeNode&lt;File&gt;&gt; iterator = tree.children.iterator();\n            while (iterator.hasNext()) {\n                List&lt;StringBuilder&gt; subtree =\n                    renderDirectoryTreeLines(iterator.next());\n                if (iterator.hasNext()) {\n                    addSubtree(result, subtree);\n                } else {\n                    addLastSubtree(result, subtree);\n                }\n            }\n            return result;\n                }\n\n    private static void addSubtree(List&lt;StringBuilder&gt; result,\n            List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        //subtree generated by renderDirectoryTreeLines has at least one\n        line which is tree.getData()\n            result.add(iterator.next().insert(0, \" \"));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, \"   \"));\n        }\n    }\n\n    private static void addLastSubtree(List&lt;StringBuilder&gt; result,\n            List&lt;StringBuilder&gt; subtree) {\n        Iterator&lt;StringBuilder&gt; iterator = subtree.iterator();\n        //subtree generated by renderDirectoryTreeLines has at least\n        one\n            line which is tree.getData()\n            result.add(iterator.next().insert(0, \" \"));\n        while (iterator.hasNext()) {\n            result.add(iterator.next().insert(0, \"    \"));\n        }\n    }\n\n    public static void main(String[] args) {\n        File file = new File(\"./\");\n        TreeNode&lt;File&gt; DirTree = createDirTree(file);\n        String result = renderDirectoryTree(DirTree);\n        System.out.println(result);\n        try {\n            File newTextFile = new File(\"./DirectoryTree.txt\");\n\n            FileWriter fw = new FileWriter(newTextFile);\n            fw.write(result);\n            fw.close();\n\n        } catch (IOException iox) {\n            iox.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>with this output:</p>\n\n<pre><code>.\n .DS_Store\n .idea\n    compiler.xml\n    dictionaries\n       yankai01.xml\n    encodings.xml\n    misc.xml\n    workspace.xml\n data_exploring.iml\n pom.xml\n src\n    .DS_Store\n    main\n       .DS_Store\n       java\n          FileAssert.java\n          HttpUtils.java\n          QuerySaveToCsv.java\n          SampleData.java\n          SampleIterating.java\n          SampleSearching.java\n          TreeNode.java\n          TreeNodeIter.java\n       resources\n    test\n        java\n target\n     classes\n        FileAssert.class\n        HttpUtils.class\n        QuerySaveToCsv.class\n        SampleData.class\n        SampleIterating.class\n        SampleSearching$1.class\n        SampleSearching.class\n        TreeNode.class\n        TreeNodeIter$ProcessStages.class\n        TreeNodeIter.class\n     generated-sources\n         annotations\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013906,"reputation":144,"user_id":2556651,"accept_rate":75,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668251562,"creation_date":1668251562,"answer_id":74412380,"question_id":10655085,"body_markdown":"Here&#39;s my solution based on @BaiJie answer but 3x faster. It also supports corner case when null is provided (there is no tree). It creates rows node by node using stack to keep information if all parent&#39;s children were already processed instead of updating list of `StringBuilder`s multiple times.\r\n\r\nSample usage can be found in [my project][1].\r\n\r\n    public class TreePrinter {\r\n    public static final String PARENT_PIPE = &quot;   &quot;;\r\n    public static final String PARENT_EMPTY = &quot;    &quot;;\r\n\r\n    public static final String CHILD_POINTER = &quot; &quot;;\r\n    public static final String LAST_CHILD_POINTER = &quot; &quot;;\r\n\r\n    public static &lt;T&gt; String print(TreeNode&lt;T&gt; tree) {\r\n        if(null == tree) {\r\n            return &quot;&quot;;\r\n        }\r\n        return print(tree, new StringBuilder(), new ArrayList&lt;&gt;(), System.lineSeparator()).toString();\r\n    }\r\n\r\n    private static &lt;T&gt; StringBuilder print(TreeNode&lt;T&gt; tree, StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren, String lineSeparator) {\r\n        List&lt;TreeNode&lt;T&gt;&gt; children = tree.getChildren();\r\n\r\n        sb.append(tree.getValue()).append(lineSeparator);\r\n\r\n        for(int i = 0; i &lt; children.size(); i++) {\r\n            if(i == children.size() - 1) {\r\n                addLastNode(sb, hasUnprocessedChildren);\r\n                hasUnprocessedChildren.add(false);\r\n            } else {\r\n                addNode(sb, hasUnprocessedChildren);\r\n                hasUnprocessedChildren.add(true);\r\n            }\r\n\r\n            sb = print(children.get(i), sb, hasUnprocessedChildren, lineSeparator);\r\n\r\n            hasUnprocessedChildren.remove(hasUnprocessedChildren.size() - 1);\r\n        }\r\n\r\n        return sb;\r\n    }\r\n\r\n    private static void addNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\r\n        for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\r\n            sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\r\n        }\r\n        sb.append(CHILD_POINTER);\r\n    }\r\n\r\n    private static void addLastNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\r\n        for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\r\n            sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\r\n        }\r\n        sb.append(LAST_CHILD_POINTER);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/RHarryH/precedence-parsers","title":"print directory tree","body":"<p>Here's my solution based on @BaiJie answer but 3x faster. It also supports corner case when null is provided (there is no tree). It creates rows node by node using stack to keep information if all parent's children were already processed instead of updating list of <code>StringBuilder</code>s multiple times.</p>\n<p>Sample usage can be found in <a href=\"https://github.com/RHarryH/precedence-parsers\" rel=\"nofollow noreferrer\">my project</a>.</p>\n<pre><code>public class TreePrinter {\npublic static final String PARENT_PIPE = &quot;   &quot;;\npublic static final String PARENT_EMPTY = &quot;    &quot;;\n\npublic static final String CHILD_POINTER = &quot; &quot;;\npublic static final String LAST_CHILD_POINTER = &quot; &quot;;\n\npublic static &lt;T&gt; String print(TreeNode&lt;T&gt; tree) {\n    if(null == tree) {\n        return &quot;&quot;;\n    }\n    return print(tree, new StringBuilder(), new ArrayList&lt;&gt;(), System.lineSeparator()).toString();\n}\n\nprivate static &lt;T&gt; StringBuilder print(TreeNode&lt;T&gt; tree, StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren, String lineSeparator) {\n    List&lt;TreeNode&lt;T&gt;&gt; children = tree.getChildren();\n\n    sb.append(tree.getValue()).append(lineSeparator);\n\n    for(int i = 0; i &lt; children.size(); i++) {\n        if(i == children.size() - 1) {\n            addLastNode(sb, hasUnprocessedChildren);\n            hasUnprocessedChildren.add(false);\n        } else {\n            addNode(sb, hasUnprocessedChildren);\n            hasUnprocessedChildren.add(true);\n        }\n\n        sb = print(children.get(i), sb, hasUnprocessedChildren, lineSeparator);\n\n        hasUnprocessedChildren.remove(hasUnprocessedChildren.size() - 1);\n    }\n\n    return sb;\n}\n\nprivate static void addNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\n    for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\n        sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\n    }\n    sb.append(CHILD_POINTER);\n}\n\nprivate static void addLastNode(StringBuilder sb, List&lt;Boolean&gt; hasUnprocessedChildren) {\n    for(boolean hasUnprocessedChild : hasUnprocessedChildren) {\n        sb.append(hasUnprocessedChild ? PARENT_PIPE : PARENT_EMPTY);\n    }\n    sb.append(LAST_CHILD_POINTER);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1297392,"reputation":371,"user_id":1248092,"accept_rate":31,"display_name":"user1248092"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34224,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":11,"score":17,"last_activity_date":1668251562,"creation_date":1337353465,"question_id":10655085,"body_markdown":"I have to print a directory tree (like tree command), example:\r\n\r\n     .\r\n     +---A\r\n     |   +---IMAGES\r\n     |       +---BACKUP\r\n     +---ADOKS\r\n     |   +---ROZDZIAL_2\r\n     |   +---ROZDZIAL_3\r\n     |   +---ROZDZIAL_4\r\n     +---AMSC2005\r\n     |   +---AMSC2004\r\n     +---FCCS2005\r\n     |   +---source\r\n     |   +---TMP\r\n     +---LODZ2004\r\n     +---ZAKOPANE2004\r\n     +---DYDAKTYKA\r\n     |   +---DYDAKTYKA_ISI\r\n     |   |   +---COLLS\r\n     |   |   |   +---Q1\r\n     |   |   |   +---Q2\r\n     |   |   |   +---RAZEM\r\n     |   |   |       +---RYSUNKI_COLL1\r\n     |   |   |       +---RYSUNKI_COLL2\r\n     |   |   +---IMAGES\r\n     |   |   +---src\r\n     |   |   +---WYKLAD5\r\n     |   +---DYDAKTYKA_PRG\r\n     |       +---images\r\n     |       +---POMOC\r\n     +---DYDAKTYKA_KST\r\n     |   +---images\r\n     |   +---src\r\n     +---DYDAKTYKA_WPR\r\n         +---images\r\n         +---src\r\n\r\n\r\nI tried with the following Code:\r\n\r\n\tprivate static void getInto(String p, int n) {\r\n\t\tFile path = new File(p);\r\n\t\tFile[] list = path.listFiles();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.length; i++) {\r\n\t\t\tif (list[i].isDirectorhowny()) {\r\n\t\t\t\tfor (int j = 0; j &lt; n; j++)\r\n\t\t\t\t\tif (WHAT HERE?)\r\n\t\t\t\t\t\tSystem.out.print(&quot;|  &quot;);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tSystem.out.print(&quot;   &quot;);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;+--&quot; + list[i].getName().toString());\r\n\t\t\t\t\r\n\t\t\t\tgetInto(list[i].getPath(), n + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried few version, but it&#39;s still not work. How to do this? What condition should be put in If? I know is pretty simple, but I can&#39;t do  this.","title":"print directory tree","body":"<p>I have to print a directory tree (like tree command), example:</p>\n\n<pre><code> .\n +---A\n |   +---IMAGES\n |       +---BACKUP\n +---ADOKS\n |   +---ROZDZIAL_2\n |   +---ROZDZIAL_3\n |   +---ROZDZIAL_4\n +---AMSC2005\n |   +---AMSC2004\n +---FCCS2005\n |   +---source\n |   +---TMP\n +---LODZ2004\n +---ZAKOPANE2004\n +---DYDAKTYKA\n |   +---DYDAKTYKA_ISI\n |   |   +---COLLS\n |   |   |   +---Q1\n |   |   |   +---Q2\n |   |   |   +---RAZEM\n |   |   |       +---RYSUNKI_COLL1\n |   |   |       +---RYSUNKI_COLL2\n |   |   +---IMAGES\n |   |   +---src\n |   |   +---WYKLAD5\n |   +---DYDAKTYKA_PRG\n |       +---images\n |       +---POMOC\n +---DYDAKTYKA_KST\n |   +---images\n |   +---src\n +---DYDAKTYKA_WPR\n     +---images\n     +---src\n</code></pre>\n\n<p>I tried with the following Code:</p>\n\n<pre><code>private static void getInto(String p, int n) {\n    File path = new File(p);\n    File[] list = path.listFiles();\n\n    for (int i = 0; i &lt; list.length; i++) {\n        if (list[i].isDirectorhowny()) {\n            for (int j = 0; j &lt; n; j++)\n                if (WHAT HERE?)\n                    System.out.print(\"|  \");\n                else\n                    System.out.print(\"   \");\n\n            System.out.println(\"+--\" + list[i].getName().toString());\n\n            getInto(list[i].getPath(), n + 1);\n        }\n    }\n}\n</code></pre>\n\n<p>I tried few version, but it's still not work. How to do this? What condition should be put in If? I know is pretty simple, but I can't do  this.</p>\n"},{"tags":["java","spring-boot","annotations","inversion-of-control","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668250236,"creation_date":1668146769,"answer_id":74398601,"question_id":74398582,"body_markdown":"You can add specific logic to the method by custom annotation in Spring boot by using the @Component annotation.\r\nYou can use &lt;code&gt;@Configuration&lt;/code&gt; annotation to add your custom logic.\r\n```\r\n&lt;code&gt;@Configuration\r\npublic class MyCustomAnnotationConfig {\r\n\r\n    @Bean\r\n    public MyCustomAnnotationBean myCustomAnnotationBean() {\r\n        return new MyCustomAnnotationBean();\r\n    }\r\n}\r\n```\r\n&lt;/code&gt;\r\nAnd then you can use &lt;code&gt;@Autowired&lt;/code&gt; to inject your bean into your controller.\r\n```\r\n&lt;code&gt;@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n\r\n    @Autowired\r\n    private MyCustomAnnotationBean myCustomAnnotationBean;\r\n\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        myCustomAnnotationBean.doSomething();\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n&lt;/code&gt;\r\n```","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>You can add specific logic to the method by custom annotation in Spring boot by using the @Component annotation.\nYou can use <code>@Configuration</code> annotation to add your custom logic.</p>\n<pre><code>&lt;code&gt;@Configuration\npublic class MyCustomAnnotationConfig {\n\n    @Bean\n    public MyCustomAnnotationBean myCustomAnnotationBean() {\n        return new MyCustomAnnotationBean();\n    }\n}\n</code></pre>\n\nAnd then you can use <code>@Autowired</code> to inject your bean into your controller.\n```\n<code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n<pre><code>@Autowired\nprivate MyCustomAnnotationBean myCustomAnnotationBean;\n\n@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\npublic String index(Model model){\n    myCustomAnnotationBean.doSomething();\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>}\n</code></p>\n<pre><code></code></pre>\n"},{"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668148091,"creation_date":1668148091,"answer_id":74398767,"question_id":74398582,"body_markdown":"\r\n@RequestParam is a Spring annotation that is used to bind a parameter to the value of a method parameter.\r\nIf you want to add logic to your method, you can do so without any annotations.\r\n&lt;code&gt;public ResponseEntity&amp;lt;String&amp;gt; myMethod(@RequestParam(required = false) String param) {\r\n    //additional logic\r\n    return new ResponseEntity&amp;lt;&amp;gt;(HttpStatus.OK);\r\n}\r\n&lt;/code&gt;\r\nThe above code will add additional logic to the method.\r\n\r\ni hope this can be helpful i am new to this .","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>@RequestParam is a Spring annotation that is used to bind a parameter to the value of a method parameter.\nIf you want to add logic to your method, you can do so without any annotations.\n<code>public ResponseEntity&lt;String&gt; myMethod(@RequestParam(required = false) String param) {\n//additional logic\nreturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code>\nThe above code will add additional logic to the method.</p>\n<p>i hope this can be helpful i am new to this .</p>\n"}],"owner":{"account_id":26135806,"reputation":21,"user_id":19825816,"display_name":"terius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668250236,"creation_date":1668146602,"question_id":74398582,"body_markdown":"My question is this.\r\n\r\nI would like to add custom annotation to spring boot and designate it as declared without declaring a specific logic.\r\n\r\n\r\n\r\nSuppose you have the following code:\r\n```\r\n@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\nI want the above code to perform the following logic.\r\n\r\n\r\n```\r\n@MyCustomAnnotation\r\n@Controller\r\npublic class ExController {\r\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\r\n    public String index(Model model){\r\n        \r\n        //Code added because it has an annotation\r\n        \r\n           model.addAttribute(&quot;key&quot;,&quot;value&quot;);  \r\n\r\n        //Code added because it has an annotation\r\n        \r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been thinking about Reflection and other methods, but I can&#39;t think of the right way \r\n\r\nCan someone grateful give a solution or keyword for this problem?\r\n","title":"how to add specific logic to the method by custom annotation in Spring boot?","body":"<p>My question is this.</p>\n<p>I would like to add custom annotation to spring boot and designate it as declared without declaring a specific logic.</p>\n<p>Suppose you have the following code:</p>\n<pre><code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\n    public String index(Model model){\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>I want the above code to perform the following logic.</p>\n<pre><code>@MyCustomAnnotation\n@Controller\npublic class ExController {\n    @RequestMapping(value = &quot;/index&quot;, method = RequestMethod.GET)\n    public String index(Model model){\n        \n        //Code added because it has an annotation\n        \n           model.addAttribute(&quot;key&quot;,&quot;value&quot;);  \n\n        //Code added because it has an annotation\n        \n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>I've been thinking about Reflection and other methods, but I can't think of the right way</p>\n<p>Can someone grateful give a solution or keyword for this problem?</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":0,"creation_date":1667989135,"post_id":74373131,"comment_id":131297308,"body_markdown":"The header of your csv file looks incorrect - maybe it is causing the issue","body":"The header of your csv file looks incorrect - maybe it is causing the issue"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667991044,"post_id":74373131,"comment_id":131297996,"body_markdown":"The output does not match the code you have quoted. Also - the CSV file is invalid, as it is using the separator char (&quot; &quot;) in the field values.\n\nWhat does &quot;for delimiter I have empty space(Tab)&quot; actually mean? Tab and Space are two different things.","body":"The output does not match the code you have quoted. Also - the CSV file is invalid, as it is using the separator char (&quot; &quot;) in the field values.  What does &quot;for delimiter I have empty space(Tab)&quot; actually mean? Tab and Space are two different things."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1668239560,"post_id":74373131,"comment_id":131361351,"body_markdown":"You should provide your CSV file.","body":"You should provide your CSV file."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668249774,"post_id":74373131,"comment_id":131362840,"body_markdown":"I added test file link.","body":"I added test file link."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1668250899,"post_id":74373131,"comment_id":131363025,"body_markdown":"The file is encoded in UTF-16, which explains the issue.","body":"The file is encoded in UTF-16, which explains the issue."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668255754,"post_id":74373131,"comment_id":131363935,"body_markdown":"How I can read it properly?","body":"How I can read it properly?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667991396,"creation_date":1667991396,"answer_id":74373741,"question_id":74373131,"body_markdown":"If your CSV file really uses the Tab character as field delimitier, it should be sufficient to change to:\r\n\r\n```java\r\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\r\n                    .withType(CsvLine.class)\r\n                    .withSeparator(&#39;\\t&#39;)\r\n                    .withSkipLines(2)\r\n                    .build()\r\n                    .parse();\r\n```\r\n\r\nI changed `withSeparator` argument and increased the number of lines to skip to 2","title":"Read csv file with Java OpenCSV","body":"<p>If your CSV file really uses the Tab character as field delimitier, it should be sufficient to change to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\n                    .withType(CsvLine.class)\n                    .withSeparator('\\t')\n                    .withSkipLines(2)\n                    .build()\n                    .parse();\n</code></pre>\n<p>I changed <code>withSeparator</code> argument and increased the number of lines to skip to 2</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373741,"answer_count":1,"score":1,"last_activity_date":1668249754,"creation_date":1667988867,"question_id":74373131,"body_markdown":"\r\n\r\nI have the following .csv file:\r\n\r\n    Company ABC\t\t\t\t\t\t\t\t\r\n    &quot;Jan 1, 2020 - Sep 30, 2020&quot;\t\t\t\t\t\t\t\t\r\n    Product\tCountry\tAvg. monthly clients\tAvg. month charge\tParts change\tImpact\tIn stock\tClients in list\tCity\r\n    Nissan Maxima\tUSA\t6600\t0%\t-18%\tLow\t18\t\t\r\n    BMW X7 M50i\tUSA\t18100\t22%\t0%\tLow\t28\t\t\r\n    Volvo XC90 \tUSA\t880\t0%\t-12%\tLow\t10\t\t\r\n    Opel Insignia\tUSA\t320\t-34%\t-34%\tLow\t23\t\t\r\n    Renult Triber \tUSA\t140\t-18%\t-36%\tLow\t8\t\t\r\n    Toyota Yaris\tUSA\t880\t0%\t-28%\tLow\t30\t\t\r\n    Ford Mondeo\tUSA\t70\t-20%\t-71%\tLow\t1\t\t\r\n\r\nfor delimiter I have empty space(Tab). I tried to use this code in order to read the file using Opencsv:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CsvLine {\r\n    \r\n        @CsvBindByPosition(position = 1)\r\n        private String model;\r\n    \r\n        @CsvBindByPosition(position = 2)\r\n        private String country;\r\n    }\r\n    \r\n                String fileName = &quot;C:\\\\in_progress\\\\zzz.csv&quot;;\r\n    \r\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\r\n                        .withType(CsvLine.class)\r\n                        .withSeparator(&#39; &#39;)\r\n                        .withSkipLines(1)\r\n                        .build()\r\n                        .parse();\r\n    \r\n                for(CsvLine item: beans){\r\n                    System.out.println(item.getModel());\r\n                }\r\n\r\nBut I get this output:\r\n\r\n     X C 9 0 \r\n    null\r\n     I n s i g n i a \t U S A \t 3 2 0 \t - 3 4 % \t - 3 4 % \t L o w \t 2 3 \t \t \r\n    null\r\n     T r i b e r \r\n    null\r\n     Y a r i s \t U S A \t 8 8 0 \t 0 % \t - 2 8 % \t L o w \t 3 0 \t \t \r\n    null\r\n     M o n d e o \t U S A \t 7 0 \t - 2 0 % \t - 7 1 % \t L o w \t 1 \t \t \r\n    null\r\n    null\r\n\r\nDo you know how I can the file properly with Java preferably with OpenCSV?\r\n\r\nTest file https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0","title":"Read csv file with Java OpenCSV","body":"<p>I have the following .csv file:</p>\n<pre><code>Company ABC                             \n&quot;Jan 1, 2020 - Sep 30, 2020&quot;                                \nProduct Country Avg. monthly clients    Avg. month charge   Parts change    Impact  In stock    Clients in list City\nNissan Maxima   USA 6600    0%  -18%    Low 18      \nBMW X7 M50i USA 18100   22% 0%  Low 28      \nVolvo XC90  USA 880 0%  -12%    Low 10      \nOpel Insignia   USA 320 -34%    -34%    Low 23      \nRenult Triber   USA 140 -18%    -36%    Low 8       \nToyota Yaris    USA 880 0%  -28%    Low 30      \nFord Mondeo USA 70  -20%    -71%    Low 1       \n</code></pre>\n<p>for delimiter I have empty space(Tab). I tried to use this code in order to read the file using Opencsv:</p>\n<pre><code>@Getter\n@Setter\npublic class CsvLine {\n\n    @CsvBindByPosition(position = 1)\n    private String model;\n\n    @CsvBindByPosition(position = 2)\n    private String country;\n}\n\n            String fileName = &quot;C:\\\\in_progress\\\\zzz.csv&quot;;\n\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(new FileReader(fileName))\n                    .withType(CsvLine.class)\n                    .withSeparator(' ')\n                    .withSkipLines(1)\n                    .build()\n                    .parse();\n\n            for(CsvLine item: beans){\n                System.out.println(item.getModel());\n            }\n</code></pre>\n<p>But I get this output:</p>\n<pre><code> X C 9 0 \nnull\n I n s i g n i a     U S A   3 2 0   - 3 4 %     - 3 4 %     L o w   2 3         \nnull\n T r i b e r \nnull\n Y a r i s   U S A   8 8 0   0 %     - 2 8 %     L o w   3 0         \nnull\n M o n d e o     U S A   7 0     - 2 0 %     - 7 1 %     L o w   1       \nnull\nnull\n</code></pre>\n<p>Do you know how I can the file properly with Java preferably with OpenCSV?</p>\n<p>Test file <a href=\"https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/7jo4i3bs6h8at25/zzz.csv?dl=0</a></p>\n"},{"tags":["java","join","stream","zip","streamex"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1668246338,"post_id":74411834,"comment_id":131362301,"body_markdown":"It&#39;s much more convenient to post the actual code than a picture of it. For starters, users can copy it and start tweaking it to answer your question.","body":"It&#39;s much more convenient to post the actual code than a picture of it. For starters, users can copy it and start tweaking it to answer your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668248140,"post_id":74411834,"comment_id":131362575,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249693,"creation_date":1668249693,"answer_id":74412185,"question_id":74411834,"body_markdown":"Please post your code it&#39;s hard to read the screenshot.\r\nFrom your output it seems you are printing the StreamEx object from convert method. That will not output what you need.\r\n\r\nWhen you print a java object it invokes toString() method which all Objects inherit. By default the toString() method will return a string that lists the name of the class followed by an @ sign and then a hexadecimal representation of the memory location the instantiated object has been assigned to.\r\n\r\nThis is why you get an output like this,\r\n\r\n&gt; one.util.streamex.StreamEx@2e817b38\r\n\r\nFirst you need to iterate the StreamEx stream and then print the object.\r\nNotice that in Racer class toString method is overridden. So when we call print on racer object it will invoke toString() method that we have written.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import one.util.streamex.StreamEx;\r\n    \r\n    class PopupMenuExample {\r\n        \r\n        public static void main(String args[]) {\r\n    \r\n            StreamEx&lt;Racer&gt; racerStream = convert();\r\n            System.out.println(&quot;this is wrong: &quot; + racerStream);\r\n    \r\n            System.out.println(&quot;this is correct: &quot;);\r\n            racerStream.forEach(\r\n                    racer -&gt; {\r\n                        System.out.println(racer);\r\n                    }\r\n            );\r\n        }\r\n    \r\n        private static StreamEx&lt;Racer&gt; convert() {\r\n            Racer r1 = new Racer(&quot;one&quot;, 40);\r\n            Racer r2 = new Racer(&quot;two&quot;, 100);\r\n            List&lt;Racer&gt; racers = new ArrayList&lt;&gt;();\r\n            racers.add(r1);\r\n            racers.add(r2);\r\n            return StreamEx.of(racers);\r\n        }\r\n    }\r\n    \r\n    class Racer {\r\n        String name;\r\n        Integer speed;\r\n    \r\n        public Racer(String name, Integer speed) {\r\n            this.name = name;\r\n            this.speed =speed;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ name:%s, speed: %d }&quot;, name, speed);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; this is wrong: one.util.streamex.StreamEx@7229724f\r\n&gt; \r\n&gt; this is correct:  { name:one, speed: 40 } { name:two, speed: 100 }","title":"How to print streamex on the console","body":"<p>Please post your code it's hard to read the screenshot.\nFrom your output it seems you are printing the StreamEx object from convert method. That will not output what you need.</p>\n<p>When you print a java object it invokes toString() method which all Objects inherit. By default the toString() method will return a string that lists the name of the class followed by an @ sign and then a hexadecimal representation of the memory location the instantiated object has been assigned to.</p>\n<p>This is why you get an output like this,</p>\n<blockquote>\n<p>one.util.streamex.StreamEx@2e817b38</p>\n</blockquote>\n<p>First you need to iterate the StreamEx stream and then print the object.\nNotice that in Racer class toString method is overridden. So when we call print on racer object it will invoke toString() method that we have written.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport one.util.streamex.StreamEx;\n\nclass PopupMenuExample {\n    \n    public static void main(String args[]) {\n\n        StreamEx&lt;Racer&gt; racerStream = convert();\n        System.out.println(&quot;this is wrong: &quot; + racerStream);\n\n        System.out.println(&quot;this is correct: &quot;);\n        racerStream.forEach(\n                racer -&gt; {\n                    System.out.println(racer);\n                }\n        );\n    }\n\n    private static StreamEx&lt;Racer&gt; convert() {\n        Racer r1 = new Racer(&quot;one&quot;, 40);\n        Racer r2 = new Racer(&quot;two&quot;, 100);\n        List&lt;Racer&gt; racers = new ArrayList&lt;&gt;();\n        racers.add(r1);\n        racers.add(r2);\n        return StreamEx.of(racers);\n    }\n}\n\nclass Racer {\n    String name;\n    Integer speed;\n\n    public Racer(String name, Integer speed) {\n        this.name = name;\n        this.speed =speed;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;{ name:%s, speed: %d }&quot;, name, speed);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>this is wrong: one.util.streamex.StreamEx@7229724f</p>\n<p>this is correct:  { name:one, speed: 40 } { name:two, speed: 100 }</p>\n</blockquote>\n"}],"owner":{"account_id":25954119,"reputation":1,"user_id":19671704,"display_name":"Berder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249693,"creation_date":1668245899,"question_id":74411834,"body_markdown":"i try to print all elements of the streamex on the console, but I get always this issue \r\n\r\none.util.streamex.StreamEx@2e817b38\r\n\r\nSo I call &quot;convert&quot; method from the main, but i doesn&#39;t work.. Do you have any idea, how can I make it right?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uYS7J.png)](https://i.stack.imgur.com/uYS7J.png)\r\n\r\nI hope to get helpful answer for my question.","title":"How to print streamex on the console","body":"<p>i try to print all elements of the streamex on the console, but I get always this issue</p>\n<p>one.util.streamex.StreamEx@2e817b38</p>\n<p>So I call &quot;convert&quot; method from the main, but i doesn't work.. Do you have any idea, how can I make it right?</p>\n<p><a href=\"https://i.stack.imgur.com/uYS7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYS7J.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope to get helpful answer for my question.</p>\n"},{"tags":["java","spring","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1668170377,"post_id":74402457,"comment_id":131346648,"body_markdown":"The most likely case is a leak or excessive loading of data.  Monitor the container. Increase the heap and see what is happening. If it happens after some time regardless the traffic, it&#39;s most likely a leak.  If it is happening due to some user action it&#39;s most likely loading to much.","body":"The most likely case is a leak or excessive loading of data.  Monitor the container. Increase the heap and see what is happening. If it happens after some time regardless the traffic, it&#39;s most likely a leak.  If it is happening due to some user action it&#39;s most likely loading to much."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1668170469,"post_id":74402457,"comment_id":131346677,"body_markdown":"And the error there is `OutOfMemoryError` - maybe you see a GC death spiral first. But in general it&#39;s _very_ unlikely that there is a generic problem an outsider can solve. If you really think, that Vaadin 19 is the sole culprit, then I&#39;d suggest updating away from the no longer supported version. 23 is the new LTS version.","body":"And the error there is <code>OutOfMemoryError</code> - maybe you see a GC death spiral first. But in general it&#39;s <i>very</i> unlikely that there is a generic problem an outsider can solve. If you really think, that Vaadin 19 is the sole culprit, then I&#39;d suggest updating away from the no longer supported version. 23 is the new LTS version."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1668174156,"post_id":74402457,"comment_id":131348005,"body_markdown":"How much Xmx and Xms did you specifiy for your Tomcat","body":"How much Xmx and Xms did you specifiy for your Tomcat"},{"owner":{"account_id":3050848,"reputation":1,"user_id":2585440,"display_name":"user2585440"},"score":0,"creation_date":1668176503,"post_id":74402457,"comment_id":131348913,"body_markdown":"It&#39;s a bitnami server and I see on the folder /opt/bitnami/tomcat/conf/bitnami some scripts for the heap space: Currently -Xms2G -Xmx4G but testing it with -Xms4G -Xmx8G I saw issues too","body":"It&#39;s a bitnami server and I see on the folder /opt/bitnami/tomcat/conf/bitnami some scripts for the heap space: Currently -Xms2G -Xmx4G but testing it with -Xms4G -Xmx8G I saw issues too"}],"answers":[{"tags":[],"owner":{"account_id":1359686,"reputation":12150,"user_id":1297272,"accept_rate":86,"display_name":"Javier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249501,"creation_date":1668249501,"answer_id":74412169,"question_id":74402457,"body_markdown":"If it fails with Xmx4G and also with Xmx8G, then it looks like there is a memory leak (and more memory will only postpone the problem).\r\n\r\nThe memory leak may be caused by the framework, or by your own code. For instance, just keeping a reference to one component will cause the whole `HttpSession` to be reachable. You may run into this scenario if you keep references to components that outlive the session (e.g. components subscribe to some global event and forgot to unsuscribe when detached).\r\nIt may help to run a [memory dump][1] and analyze what is the cause of the OutOfMemoryError.\r\n\r\nAs @cfrick noted, Vaadin 19 is [no longer maintained][2] (last release June 2021). Some memory leaks have been fixed after Vaadin 19 end-of-life:\r\n- [Memory leak on adding and removing components][3] (fixed on 22+)\r\n- [Memory leak: button&#39;s ShortcutRegistration is not removed after detach][4]  (fixed on 22+)\r\n\r\nUpgrading to Vaadin 22 shouldn&#39;t be too difficult (although you may run into some changes that affect custom styling of components, see [Upgrade Guide][5]). \r\nVaadin 23 requires Java 11, and there are some changes in the frontend building (23.1 defaults to npm instead of pnpm, and 23.2 defaults to vite instead of webpack)\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-heap-dump-capture\r\n  [2]: https://vaadin.com/roadmap\r\n  [3]: https://github.com/vaadin/flow/issues/13851\r\n  [4]: https://github.com/vaadin/flow/issues/11939\r\n  [5]: https://vaadin.com/docs/latest/upgrading/upgrade-tool","title":"Vaadin 19 stopping tomcatserver","body":"<p>If it fails with Xmx4G and also with Xmx8G, then it looks like there is a memory leak (and more memory will only postpone the problem).</p>\n<p>The memory leak may be caused by the framework, or by your own code. For instance, just keeping a reference to one component will cause the whole <code>HttpSession</code> to be reachable. You may run into this scenario if you keep references to components that outlive the session (e.g. components subscribe to some global event and forgot to unsuscribe when detached).\nIt may help to run a <a href=\"https://www.baeldung.com/java-heap-dump-capture\" rel=\"nofollow noreferrer\">memory dump</a> and analyze what is the cause of the OutOfMemoryError.</p>\n<p>As @cfrick noted, Vaadin 19 is <a href=\"https://vaadin.com/roadmap\" rel=\"nofollow noreferrer\">no longer maintained</a> (last release June 2021). Some memory leaks have been fixed after Vaadin 19 end-of-life:</p>\n<ul>\n<li><a href=\"https://github.com/vaadin/flow/issues/13851\" rel=\"nofollow noreferrer\">Memory leak on adding and removing components</a> (fixed on 22+)</li>\n<li><a href=\"https://github.com/vaadin/flow/issues/11939\" rel=\"nofollow noreferrer\">Memory leak: button's ShortcutRegistration is not removed after detach</a>  (fixed on 22+)</li>\n</ul>\n<p>Upgrading to Vaadin 22 shouldn't be too difficult (although you may run into some changes that affect custom styling of components, see <a href=\"https://vaadin.com/docs/latest/upgrading/upgrade-tool\" rel=\"nofollow noreferrer\">Upgrade Guide</a>).\nVaadin 23 requires Java 11, and there are some changes in the frontend building (23.1 defaults to npm instead of pnpm, and 23.2 defaults to vite instead of webpack)</p>\n"}],"owner":{"account_id":3050848,"reputation":1,"user_id":2585440,"display_name":"user2585440"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249501,"creation_date":1668169410,"question_id":74402457,"body_markdown":"I&#39;m mantaining a vaadin application with a backend neo4j. Two tomcats (9.0.55) on the same server (using ports 80 and 5005 for the backend)\r\n\r\nWhen I use it intensively, loading lots of data, vaadin crashes and tomcat stop responding.\r\n\r\nIf I check catalina.out log I can see some errors before te crash:\r\n\r\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n\r\nInvalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x03R/S0x0e0xa3-s0xc0{0xf00x88l0xe3\\0xb30xcf0xf90x1b0x870xb90x11=0xab0xaf)0xf10xdd0x890x13+0x930x11 ]. HTTP method names must be tokens\r\n\r\n2022-11-10 08:55:31.015 ERROR 5115 --- [0.1-8009-exec-7] c.v.flow.server.DefaultErrorHandler      : \r\njava.lang.RuntimeException: java.lang.NullPointerException\r\nCaused by: java.lang.NullPointerException: null\r\n\r\njava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\nException in thread &quot;ajp-nio-127.0.0.1-8009-Poller&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\n10-Nov-2022 09:45:19.259 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[\r\n\r\nI don&#39;t know which of the errors causes the web server to crash but it seems that only tomcat of the frontend is stopping the service. Backend is still running.\r\n\r\nCould incrementing max threads resolve this issue?\r\n\r\nMany thanks\r\nJV\r\n\r\n\r\n\r\n\r\n\r\nAll webpage is shutting down. I have to restart tomcat frontend to restore the service.","title":"Vaadin 19 stopping tomcatserver","body":"<p>I'm mantaining a vaadin application with a backend neo4j. Two tomcats (9.0.55) on the same server (using ports 80 and 5005 for the backend)</p>\n<p>When I use it intensively, loading lots of data, vaadin crashes and tomcat stop responding.</p>\n<p>If I check catalina.out log I can see some errors before te crash:</p>\n<p>org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe</p>\n<p>Invalid character found in method name [0x160x030x010x000xee0x010x000x000xea0x030x03R/S0x0e0xa3-s0xc0{0xf00x88l0xe3\\0xb30xcf0xf90x1b0x870xb90x11=0xab0xaf)0xf10xdd0x890x13+0x930x11 ]. HTTP method names must be tokens</p>\n<p>2022-11-10 08:55:31.015 ERROR 5115 --- [0.1-8009-exec-7] c.v.flow.server.DefaultErrorHandler      :\njava.lang.RuntimeException: java.lang.NullPointerException\nCaused by: java.lang.NullPointerException: null</p>\n<p>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</p>\n<p>Exception in thread &quot;ajp-nio-127.0.0.1-8009-Poller&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</p>\n<p>10-Nov-2022 09:45:19.259 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[</p>\n<p>I don't know which of the errors causes the web server to crash but it seems that only tomcat of the frontend is stopping the service. Backend is still running.</p>\n<p>Could incrementing max threads resolve this issue?</p>\n<p>Many thanks\nJV</p>\n<p>All webpage is shutting down. I have to restart tomcat frontend to restore the service.</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1393523039,"post_id":22076083,"comment_id":33479172,"body_markdown":"Uh, you deal into... Unsafe... Territory. However, my guess here is that a cmpxchg is involved at the CPU level (CoMPare and eXCHanGe). Not sure, though.","body":"Uh, you deal into... Unsafe... Territory. However, my guess here is that a cmpxchg is involved at the CPU level (CoMPare and eXCHanGe). Not sure, though."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1393951624,"post_id":22076083,"comment_id":33661636,"body_markdown":"`cas` means compare and set and it does what the name suggests, it will compare the old value with the specified first argument (here `null`) and set to the specified second argument (here `newNode`) if the comparison was successful. The special thing is that it is performed *atomically*. There is a [public API providing the same functionality to applications](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html#compareAndSet(T,%20V,%20V))","body":"<code>cas</code> means compare and set and it does what the name suggests, it will compare the old value with the specified first argument (here <code>null</code>) and set to the specified second argument (here <code>newNode</code>) if the comparison was successful. The special thing is that it is performed <i>atomically</i>. There is a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html#compareAndSet(T,%20V,%20V)\" rel=\"nofollow noreferrer\">public API providing the same functionality to applications</a>"},{"owner":{"account_id":1351503,"reputation":747,"user_id":1290983,"accept_rate":82,"display_name":"chain ro"},"score":0,"creation_date":1437019859,"post_id":22076083,"comment_id":50859204,"body_markdown":"In many cases, compareAndSet invokes the `native` api. @fge, your guess is right.","body":"In many cases, compareAndSet invokes the <code>native</code> api. @fge, your guess is right."}],"answers":[{"tags":[],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249408,"creation_date":1668241171,"answer_id":74411395,"question_id":22076083,"body_markdown":"It may operate similar to below pseudo-code, but written in so called native-code (C/C++), which is normally far faster than Java:\r\n```\r\nboolean compareAndSwapObject(Object obj, long fieldId, Object expectedValue, Object newValue) {\r\n    synchronized (globalExchangeLock) {\r\n        if (obj.fieldArray.get(fieldId) == expectedValue) {\r\n            obj.fieldArray.set(fieldId, newValue);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate static final Object globalExchangeLock = new Object();\r\n```\r\n\r\nHowever, passing `fieldId` is little complicated, and maybe should be cached, like below Java code (not pseudo-code this time):\r\n```java\r\npublic class MyClass {\r\n    int myField;\r\n\r\n    // ...\r\n\r\n    private static final sun.misc.Unsafe U = UnsafeAcc.unsafe;\r\n    private static final long MY_FIELD_ID;\r\n\r\n    static {\r\n        try {\r\n            MY_FIELD_ID = U.objectFieldOffset(\r\n                MyClass.class.getDeclaredField(&quot;myField&quot;)\r\n            );\r\n        } catch (Exception e) {\r\n            throw new ExceptionInInitializerError(e);\r\n        }\r\n    }\r\n}\r\n```\r\nWhich for my Android project uses:\r\n```\r\n/*\r\n * Written by Stefan Zobel and released to the\r\n * public domain, as explained at\r\n * http://creativecommons.org/publicdomain/zero/1.0/\r\n */\r\npackage java8.util.concurrent;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\nimport sun.misc.Unsafe;\r\n\r\nfinal class UnsafeAcc {\r\n\r\n    static final Unsafe unsafe;\r\n\r\n    static {\r\n        try {\r\n            Field field = null;\r\n            try {\r\n                field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            } catch (NoSuchFieldException ignored) {\r\n                // For older Androids.\r\n                field = Unsafe.class.getDeclaredField(&quot;THE_ONE&quot;);\r\n            }\r\n            field.setAccessible(true);\r\n            unsafe = (Unsafe) field.get(null);\r\n        } catch (Exception e) {\r\n            throw new Error(e);\r\n        }\r\n    }\r\n\r\n    private UnsafeAcc() {\r\n    }\r\n}\r\n```","title":"What exactly UNSAFE.compareAndSwapObject does","body":"<p>It may operate similar to below pseudo-code, but written in so called native-code (C/C++), which is normally far faster than Java:</p>\n<pre><code>boolean compareAndSwapObject(Object obj, long fieldId, Object expectedValue, Object newValue) {\n    synchronized (globalExchangeLock) {\n        if (obj.fieldArray.get(fieldId) == expectedValue) {\n            obj.fieldArray.set(fieldId, newValue);\n            return true;\n        }\n    }\n    return false;\n}\n\nprivate static final Object globalExchangeLock = new Object();\n</code></pre>\n<p>However, passing <code>fieldId</code> is little complicated, and maybe should be cached, like below Java code (not pseudo-code this time):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    int myField;\n\n    // ...\n\n    private static final sun.misc.Unsafe U = UnsafeAcc.unsafe;\n    private static final long MY_FIELD_ID;\n\n    static {\n        try {\n            MY_FIELD_ID = U.objectFieldOffset(\n                MyClass.class.getDeclaredField(&quot;myField&quot;)\n            );\n        } catch (Exception e) {\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n}\n</code></pre>\n<p>Which for my Android project uses:</p>\n<pre><code>/*\n * Written by Stefan Zobel and released to the\n * public domain, as explained at\n * http://creativecommons.org/publicdomain/zero/1.0/\n */\npackage java8.util.concurrent;\n\nimport java.lang.reflect.Field;\n\nimport sun.misc.Unsafe;\n\nfinal class UnsafeAcc {\n\n    static final Unsafe unsafe;\n\n    static {\n        try {\n            Field field = null;\n            try {\n                field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n            } catch (NoSuchFieldException ignored) {\n                // For older Androids.\n                field = Unsafe.class.getDeclaredField(&quot;THE_ONE&quot;);\n            }\n            field.setAccessible(true);\n            unsafe = (Unsafe) field.get(null);\n        } catch (Exception e) {\n            throw new Error(e);\n        }\n    }\n\n    private UnsafeAcc() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3476529,"reputation":151,"user_id":2909563,"display_name":"chaopeng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3639,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1668249408,"creation_date":1393522615,"question_id":22076083,"body_markdown":"I found UNSAFE.compareAndSwapObject very strange when reading the JDK ConcurrentLinkedQueue. (class CLQ is copy from ConcurrentLinkedQueue for easy debug...)\r\n\r\nWhen I offer the first item to ConcurrentLinkedQueue. \r\n\r\n* before\r\n    ```\r\n    p.casNext(null, newNode)\r\n    ```\r\n    head==tail==p==t ref the same object, like this.\r\n\r\n    https://i.stack.imgur.com/8dCO0.png\r\n\r\n* step into casNext after\r\n    ```\r\n    UNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\r\n    ```\r\n\r\n    p.next is ref to the newNode as expected, like this. \r\n\r\n    https://i.stack.imgur.com/mNtUN.png\r\n\r\n* step out to offer\r\n\r\n    Everything become strange... I can understand why p.next ref wound change to p, how head ref newNode automatically...\r\n\r\n    https://i.stack.imgur.com/Pvvcy.png\r\n\r\n\r\n\r\ncode: ConcurrentLinkedQueue.class offer()\r\n\r\n\r\n    public boolean offer(E e) {\r\n        checkNotNull(e);\r\n        final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\r\n\r\n        for (Node&lt;E&gt; t = tail, p = t;;) {\r\n            Node&lt;E&gt; q = p.next;\r\n            if (q == null) {\r\n                // p is last node\r\n                if (p.casNext(null, newNode)) {\r\n                    // Successful CAS is the linearization point\r\n                    // for e to become an element of this queue,\r\n                    // and for newNode to become &quot;live&quot;.\r\n                    if (p != t) // hop two nodes at a time\r\n                        casTail(t, newNode);  // Failure is OK.\r\n                    return true;\r\n                }\r\n                // Lost CAS race to another thread; re-read next\r\n            }\r\n            else if (p == q)\r\n                // We have fallen off list.  If tail is unchanged, it\r\n                // will also be off-list, in which case we need to\r\n                // jump to head, from which all live nodes are always\r\n                // reachable.  Else the new tail is a better bet.\r\n                p = (t != (t = tail)) ? t : head;\r\n            else\r\n                // Check for tail updates after two hops.\r\n                p = (p != t &amp;&amp; t != (t = tail)) ? t : q;\r\n        }\r\n    }\r\n","title":"What exactly UNSAFE.compareAndSwapObject does","body":"<p>I found UNSAFE.compareAndSwapObject very strange when reading the JDK ConcurrentLinkedQueue. (class CLQ is copy from ConcurrentLinkedQueue for easy debug...)</p>\n\n<p>When I offer the first item to ConcurrentLinkedQueue. </p>\n\n<ul>\n<li><p>before\n<code>\np.casNext(null, newNode)\n</code>\nhead==tail==p==t ref the same object, like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8dCO0.png\" rel=\"noreferrer\">https://i.stack.imgur.com/8dCO0.png</a></p></li>\n<li><p>step into casNext after\n<code>\nUNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\n</code></p>\n\n<p>p.next is ref to the newNode as expected, like this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/mNtUN.png\" rel=\"noreferrer\">https://i.stack.imgur.com/mNtUN.png</a></p></li>\n<li><p>step out to offer</p>\n\n<p>Everything become strange... I can understand why p.next ref wound change to p, how head ref newNode automatically...</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pvvcy.png\" rel=\"noreferrer\">https://i.stack.imgur.com/Pvvcy.png</a></p></li>\n</ul>\n\n<p>code: ConcurrentLinkedQueue.class offer()</p>\n\n<pre><code>public boolean offer(E e) {\n    checkNotNull(e);\n    final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\n\n    for (Node&lt;E&gt; t = tail, p = t;;) {\n        Node&lt;E&gt; q = p.next;\n        if (q == null) {\n            // p is last node\n            if (p.casNext(null, newNode)) {\n                // Successful CAS is the linearization point\n                // for e to become an element of this queue,\n                // and for newNode to become \"live\".\n                if (p != t) // hop two nodes at a time\n                    casTail(t, newNode);  // Failure is OK.\n                return true;\n            }\n            // Lost CAS race to another thread; re-read next\n        }\n        else if (p == q)\n            // We have fallen off list.  If tail is unchanged, it\n            // will also be off-list, in which case we need to\n            // jump to head, from which all live nodes are always\n            // reachable.  Else the new tail is a better bet.\n            p = (t != (t = tail)) ? t : head;\n        else\n            // Check for tail updates after two hops.\n            p = (p != t &amp;&amp; t != (t = tail)) ? t : q;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","h2","r2dbc","badsqlgrammarexception"],"comments":[{"owner":{"account_id":9572646,"reputation":1,"user_id":8195095,"display_name":"WarDen"},"score":0,"creation_date":1667380526,"post_id":74278128,"comment_id":131151267,"body_markdown":"The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir.\n\nsrc/test/resources/application-test.yaml\n```\nspring:\n  r2dbc:\n    url: r2dbc:h2:mem:///~/db/testdb\n    username: sa\n    password: password\n\n  liquibase:\n    url: jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\n    user: sa\n    password: password\n    enabled: true\n    contexts: &quot;test&quot;\n```\n\nhttps://stackoverflow.com/questions/64355106/setup-h2-in-spring-boot-application-with-r2dbc-and-flyway","body":"The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir.  src/test/resources/application-test.yaml ``` spring:   r2dbc:     url: r2dbc:h2:mem:///~/db/testdb     username: sa     password: password    liquibase:     url: jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1     user: sa     password: password     enabled: true     contexts: &quot;test&quot; ```  <a href=\"https://stackoverflow.com/questions/64355106/setup-h2-in-spring-boot-application-with-r2dbc-and-flyway\" title=\"setup h2 in spring boot application with r2dbc and flyway\">stackoverflow.com/questions/64355106/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249269,"creation_date":1668244612,"answer_id":74411708,"question_id":74278128,"body_markdown":"1. Currently(Spring Boot 2.7.x) it seems we can not activate flyway/liquibase in a Spring Boot WebFlux application,the Jdbc datasource auto configuration can not be activated. (both flyway/liquibase are based on blocking Jdbc APIs, these projects have no plan to support R2dbc till now). \r\n   \r\n   And in a traditional blocking-APIs based WebMvc application, WebFlux/Reactive compatible R2dbc can not be activated by default unless you excludes auto configs, and configure them yourself.\r\n   \r\n   In your case, I think you have mixed both(WebMvc and WebFlux) in one project, but from the message, the webflux should not be activated. But I am not sure how you configured your project, I noticed the liquibase and r2dbc logs.\r\n\r\n2. When activating a R2dbc connection in a WebFlux application, the auto configuration properties prefix is `spring.r2dbc`, for example, `spring.r2dbc.url`,etc, [here is an example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/r2dbc-migrate/src/main/resources/application.properties#L1-L3).\r\n3. As an alternative solution of Flyway/Liquibase, consider [R2dbc Migrate](https://github.com/nkonev/r2dbc-migrate) in a WebFlux application, which follows the same file patterns of Flyway. Check [my WebFlux/R2dbc example project using r2dbc-migrate](https://github.com/hantsy/spring-r2dbc-sample/tree/master/r2dbc-migrate).","title":"r2dbc.BadSqlGrammarException: Table not found","body":"<ol>\n<li><p>Currently(Spring Boot 2.7.x) it seems we can not activate flyway/liquibase in a Spring Boot WebFlux application,the Jdbc datasource auto configuration can not be activated. (both flyway/liquibase are based on blocking Jdbc APIs, these projects have no plan to support R2dbc till now).</p>\n<p>And in a traditional blocking-APIs based WebMvc application, WebFlux/Reactive compatible R2dbc can not be activated by default unless you excludes auto configs, and configure them yourself.</p>\n<p>In your case, I think you have mixed both(WebMvc and WebFlux) in one project, but from the message, the webflux should not be activated. But I am not sure how you configured your project, I noticed the liquibase and r2dbc logs.</p>\n</li>\n<li><p>When activating a R2dbc connection in a WebFlux application, the auto configuration properties prefix is <code>spring.r2dbc</code>, for example, <code>spring.r2dbc.url</code>,etc, <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/r2dbc-migrate/src/main/resources/application.properties#L1-L3\" rel=\"nofollow noreferrer\">here is an example</a>.</p>\n</li>\n<li><p>As an alternative solution of Flyway/Liquibase, consider <a href=\"https://github.com/nkonev/r2dbc-migrate\" rel=\"nofollow noreferrer\">R2dbc Migrate</a> in a WebFlux application, which follows the same file patterns of Flyway. Check <a href=\"https://github.com/hantsy/spring-r2dbc-sample/tree/master/r2dbc-migrate\" rel=\"nofollow noreferrer\">my WebFlux/R2dbc example project using r2dbc-migrate</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9572646,"reputation":1,"user_id":8195095,"display_name":"WarDen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668249269,"creation_date":1667316236,"question_id":74278128,"body_markdown":"I write an integraton test betwen **EventRepository and a H2 database.**  \r\nI use for these liquibase.\r\nI&#39;m trying to get data from a test H2 database, but I&#39;m getting an error that it&#39;s empty.\r\n**If you do not use liquidbase, but simply put the scripts in src/test/resources, then everything works fine!!!! Why?**\r\n\r\napplication-test.yaml\r\n\\`\r\n\r\n```\r\nspring:\r\n  h2:\r\n    console:\r\n      enabled: true\r\n  datasource:\r\n    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;\r\n    username: sa\r\n    password: password\r\n    driver-class-name: org.h2.Driver\r\n  liquibase:\r\n    url: jdbc:h2:mem:///testdb\r\n    user: sa\r\n    password: password\r\n    change-log: classpath:db.changelog/db.changelog-master.yaml\r\n    enabled: true\r\n```\r\n\r\n**EventRepository.java**\r\n\r\n```\r\npublic interface EventRepository extends R2dbcRepository&lt;Event, Long&gt; {}\r\n```\r\n\r\n**EventRepositoryTest**\r\n\r\n```\r\n@DataR2dbcTest\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass EventRepositoryTest {\r\n\r\n  @Autowired\r\n  private EventRepository eventRepository;\r\n\r\n  @Test\r\n  @DisplayName(&quot;when find all when receive expected event&quot;)\r\n  void findAll(){\r\n    Flux&lt;Event&gt; events = eventRepository.findAll();\r\n    events.doOnNext(e -&gt; System.out.println(&quot;events received &quot; + e)).blockLast();\r\n  }\r\n}\r\n```\r\n\r\n**db.changelog-master.yaml**\r\n**\\`**\r\n\r\n```\r\ndatabaseChangeLog:\r\n  - include:\r\n      file: db.changelog/db.changelog-1.0.sql\r\n```\r\n\r\n**db.changelog-1.0.sql** \r\n\r\n```\r\n--liquibase formatted sql\r\n\r\n--changeset deniskaydunov:1\r\nCREATE TABLE IF NOT EXISTS public.event\r\n(\r\n    seq SERIAL PRIMARY KEY,\r\n    type VARCHAR (32) NOT NULL,\r\n    id VARCHAR (32) NOT NULL,\r\n    received TIMESTAMP NOT NULL\r\n);\r\n\r\n--changeset deniskaydunov:2 contextFilter:test\r\nINSERT INTO public.event (type, id, received, data) VALUES\r\n(&#39;IRS&#39;, &#39;123&#39;, &#39;2018-02-05 11:59:19&#39;);\r\n```\r\n\r\n**LOG:**\r\n\r\n```\r\n2022-11-01 17:53:29.004  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Starting EventRepositoryTest using Java 19 on LXIBY1300 with PID 13320 (started by denis.kaydunov in C:\\\\Users\\\\denis.kaydunov\\\\IdeaProjects\\\\axetrade\\\\event-api)\r\n\r\n2022-11-01 17:53:29.005  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : The following 1 profile is active: &quot;test&quot;\r\n\r\n2022-11-01 17:53:29.259  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n\r\n2022-11-01 17:53:29.260  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n\r\n2022-11-01 17:53:29.427  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 1 R2DBC repository interfaces.\r\n\r\n2022-11-01 17:53:30.353  INFO 13320 --- \\[           main\\] liquibase.database                       : Set default schema name to PUBLIC\r\n\r\n2022-11-01 17:53:30.566  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully acquired change log lock\r\n\r\n2022-11-01 17:53:30.625  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG\r\n\r\n2022-11-01 17:53:30.629  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG\r\n\r\nRunning Changeset: db.changelog/db.changelog-1.0.sql::1::deniskaydunov\r\n\r\n2022-11-01 17:53:30.676  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\r\n\r\n2022-11-01 17:53:30.677  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::1::deniskaydunov ran successfully in 13ms\r\n\r\nRunning Changeset: db.changelog/db.changelog-1.0.sql::2::deniskaydunov\r\n\r\n2022-11-01 17:53:30.713  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\r\n\r\n2022-11-01 17:53:30.714  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::2::deniskaydunov ran successfully in 9ms\r\n\r\n2022-11-01 17:53:30.719  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully released change log lock\r\n\r\n2022-11-01 17:53:30.799  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Started EventRepositoryTest in 2.202 seconds (JVM running for 3.193)\r\n\r\n2022-11-01 17:53:31.305 DEBUG 13320 --- \\[           main\\] o.s.r2dbc.core.DefaultDatabaseClient     : Executing SQL statement \\[SELECT event.\\* FROM event\\]\r\n\r\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar \\[SELECT event.\\* FROM event\\]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: \\[42104\\] \\[42S04\\] Table &quot;EVENT&quot; not found (this database is empty); SQL statement:\r\n\r\nSELECT event.\\* FROM event \\[42104-214\\]\r\n```\r\n[enter image description here][1]\r\nI expect to receive an event, but table not found, what am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9HpU.png","title":"r2dbc.BadSqlGrammarException: Table not found","body":"<p>I write an integraton test betwen <strong>EventRepository and a H2 database.</strong><br />\nI use for these liquibase.\nI'm trying to get data from a test H2 database, but I'm getting an error that it's empty.\n<strong>If you do not use liquidbase, but simply put the scripts in src/test/resources, then everything works fine!!!! Why?</strong></p>\n<p>application-test.yaml\n`</p>\n<pre><code>spring:\n  h2:\n    console:\n      enabled: true\n  datasource:\n    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;\n    username: sa\n    password: password\n    driver-class-name: org.h2.Driver\n  liquibase:\n    url: jdbc:h2:mem:///testdb\n    user: sa\n    password: password\n    change-log: classpath:db.changelog/db.changelog-master.yaml\n    enabled: true\n</code></pre>\n<p><strong>EventRepository.java</strong></p>\n<pre><code>public interface EventRepository extends R2dbcRepository&lt;Event, Long&gt; {}\n</code></pre>\n<p><strong>EventRepositoryTest</strong></p>\n<pre><code>@DataR2dbcTest\n@ActiveProfiles(&quot;test&quot;)\nclass EventRepositoryTest {\n\n  @Autowired\n  private EventRepository eventRepository;\n\n  @Test\n  @DisplayName(&quot;when find all when receive expected event&quot;)\n  void findAll(){\n    Flux&lt;Event&gt; events = eventRepository.findAll();\n    events.doOnNext(e -&gt; System.out.println(&quot;events received &quot; + e)).blockLast();\n  }\n}\n</code></pre>\n<p><strong>db.changelog-master.yaml</strong>\n<strong>`</strong></p>\n<pre><code>databaseChangeLog:\n  - include:\n      file: db.changelog/db.changelog-1.0.sql\n</code></pre>\n<p><strong>db.changelog-1.0.sql</strong></p>\n<pre><code>--liquibase formatted sql\n\n--changeset deniskaydunov:1\nCREATE TABLE IF NOT EXISTS public.event\n(\n    seq SERIAL PRIMARY KEY,\n    type VARCHAR (32) NOT NULL,\n    id VARCHAR (32) NOT NULL,\n    received TIMESTAMP NOT NULL\n);\n\n--changeset deniskaydunov:2 contextFilter:test\nINSERT INTO public.event (type, id, received, data) VALUES\n('IRS', '123', '2018-02-05 11:59:19');\n</code></pre>\n<p><strong>LOG:</strong></p>\n<pre><code>2022-11-01 17:53:29.004  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Starting EventRepositoryTest using Java 19 on LXIBY1300 with PID 13320 (started by denis.kaydunov in C:\\\\Users\\\\denis.kaydunov\\\\IdeaProjects\\\\axetrade\\\\event-api)\n\n2022-11-01 17:53:29.005  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : The following 1 profile is active: &quot;test&quot;\n\n2022-11-01 17:53:29.259  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n\n2022-11-01 17:53:29.260  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n\n2022-11-01 17:53:29.427  INFO 13320 --- \\[           main\\] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 1 R2DBC repository interfaces.\n\n2022-11-01 17:53:30.353  INFO 13320 --- \\[           main\\] liquibase.database                       : Set default schema name to PUBLIC\n\n2022-11-01 17:53:30.566  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully acquired change log lock\n\n2022-11-01 17:53:30.625  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG\n\n2022-11-01 17:53:30.629  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG\n\nRunning Changeset: db.changelog/db.changelog-1.0.sql::1::deniskaydunov\n\n2022-11-01 17:53:30.676  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\n\n2022-11-01 17:53:30.677  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::1::deniskaydunov ran successfully in 13ms\n\nRunning Changeset: db.changelog/db.changelog-1.0.sql::2::deniskaydunov\n\n2022-11-01 17:53:30.713  INFO 13320 --- \\[           main\\] liquibase.changelog                      : Custom SQL executed\n\n2022-11-01 17:53:30.714  INFO 13320 --- \\[           main\\] liquibase.changelog                      : ChangeSet db.changelog/db.changelog-1.0.sql::2::deniskaydunov ran successfully in 9ms\n\n2022-11-01 17:53:30.719  INFO 13320 --- \\[           main\\] liquibase.lockservice                    : Successfully released change log lock\n\n2022-11-01 17:53:30.799  INFO 13320 --- \\[           main\\] c.a.a.e.a.r.EventRepositoryTest          : Started EventRepositoryTest in 2.202 seconds (JVM running for 3.193)\n\n2022-11-01 17:53:31.305 DEBUG 13320 --- \\[           main\\] o.s.r2dbc.core.DefaultDatabaseClient     : Executing SQL statement \\[SELECT event.\\* FROM event\\]\n\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar \\[SELECT event.\\* FROM event\\]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: \\[42104\\] \\[42S04\\] Table &quot;EVENT&quot; not found (this database is empty); SQL statement:\n\nSELECT event.\\* FROM event \\[42104-214\\]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/l9HpU.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI expect to receive an event, but table not found, what am I doing wrong?</p>\n"},{"tags":["java","while-loop","floating-point","integer","processing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1668179868,"post_id":74404562,"comment_id":131350178,"body_markdown":"Code is text. Please post it as text, not as pictures.","body":"Code is text. Please post it as text, not as pictures."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1668179875,"post_id":74404562,"comment_id":131350183,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":2,"creation_date":1668179875,"post_id":74404562,"comment_id":131350182,"body_markdown":"See [Discourage screenshots of code and/or errors](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code in the question.","body":"See <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">Discourage screenshots of code and/or errors</a>. Paste the code in the question."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1668179962,"post_id":74404562,"comment_id":131350219,"body_markdown":"By the way `2 &lt; 2` is false. You&#39;ll never get to 2.","body":"By the way <code>2 &lt; 2</code> is false. You&#39;ll never get to 2."},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":1,"creation_date":1668181165,"post_id":74404562,"comment_id":131350623,"body_markdown":"`println( String.format(&quot;%.2f&quot;, height01) + &quot; , &quot; + BMI );`","body":"<code>println( String.format(&quot;%.2f&quot;, height01) + &quot; , &quot; + BMI );</code>"}],"answers":[{"tags":[],"owner":{"account_id":23960824,"reputation":1,"user_id":17950927,"display_name":"jtryon"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1668180052,"creation_date":1668180052,"answer_id":74404631,"question_id":74404562,"body_markdown":"Try using the &lt;= operator in your while loop.\r\n\r\n```\r\nwhile(height01 &lt;= height02) {\r\n...\r\n}\r\n```\r\n\r\nAs you have it, your loop stops *before* it reaches 2.0, you want it to actually reach that value first, before it stops.","title":"While loop not stopping at float 2.00","body":"<p>Try using the &lt;= operator in your while loop.</p>\n<pre><code>while(height01 &lt;= height02) {\n...\n}\n</code></pre>\n<p>As you have it, your loop stops <em>before</em> it reaches 2.0, you want it to actually reach that value first, before it stops.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668181533,"creation_date":1668181533,"answer_id":74404941,"question_id":74404562,"body_markdown":"There are many ways to deal with the lack of precision introduced by floating-point operations. One that may serve you well here is upscaling your float into the domain of integers, such that you can perform most calculations with said integer. For displaying the result, you can _then_ divide and round, to provide a more consistently accurate variable:\r\n\r\n    float weight = 60 ;\r\n    int height01 = 120 ; //scaled by 100\r\n    int height02 = 200 ; //scaled by 100 (think centimeters!)\r\n\r\n    while( height01 &lt; height02 ) {\r\n        //100*100 in denominator, multiply numerator by 10000\r\n        float BMI = ( (weight * 10000) / (height01 * height01) ) ;\r\n        //scale our integer into a float (100F == (float) 100.0)\r\n        println( (height01 / 100F) + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + 2 ;\r\n    }\r\n\r\nThere are also many alternative solutions like using `BigDecimal#scale`, upscaling your float after calculations into an int and back, or perhaps even using `double` instead of `float` here (since it has _double_ precision). However, the main takeaway is that floating-point arithmetic is accurate, but not perfectly precise. You will end up having to deal with thresholds or small tricks at times to make the output what you desire.\r\n\r\n@geocodezip posted an even further solution that merits pointing out specifically:\r\n\r\n    String.format(&quot;%.2f&quot;, height01)\r\n\r\nThis will not truncate the decimal place, but will in fact round it. This may be suitable for your needs as a drop-in replacement as well.","title":"While loop not stopping at float 2.00","body":"<p>There are many ways to deal with the lack of precision introduced by floating-point operations. One that may serve you well here is upscaling your float into the domain of integers, such that you can perform most calculations with said integer. For displaying the result, you can <em>then</em> divide and round, to provide a more consistently accurate variable:</p>\n<pre><code>float weight = 60 ;\nint height01 = 120 ; //scaled by 100\nint height02 = 200 ; //scaled by 100 (think centimeters!)\n\nwhile( height01 &lt; height02 ) {\n    //100*100 in denominator, multiply numerator by 10000\n    float BMI = ( (weight * 10000) / (height01 * height01) ) ;\n    //scale our integer into a float (100F == (float) 100.0)\n    println( (height01 / 100F) + &quot; , &quot; + BMI ) ;\n    height01 = height01 + 2 ;\n}\n</code></pre>\n<p>There are also many alternative solutions like using <code>BigDecimal#scale</code>, upscaling your float after calculations into an int and back, or perhaps even using <code>double</code> instead of <code>float</code> here (since it has <em>double</em> precision). However, the main takeaway is that floating-point arithmetic is accurate, but not perfectly precise. You will end up having to deal with thresholds or small tricks at times to make the output what you desire.</p>\n<p>@geocodezip posted an even further solution that merits pointing out specifically:</p>\n<pre><code>String.format(&quot;%.2f&quot;, height01)\n</code></pre>\n<p>This will not truncate the decimal place, but will in fact round it. This may be suitable for your needs as a drop-in replacement as well.</p>\n"},{"tags":[],"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668185943,"creation_date":1668185251,"answer_id":74405713,"question_id":74404562,"body_markdown":"Answer from a C point-of-view which applies to this Java post.\r\n\r\nA 32-bit `float` can exactly encode about 2&lt;sup&gt;32&lt;/sup&gt; different values.  1.20 is **not** one of them.  Finite `float` values are always a [dyadic rational](https://en.wikipedia.org/wiki/Dyadic_rational), some integer times a power of 2.  \r\nWith `float height01 = 1.20 ;`, `height01` has a nearby value of 1.2000000476837158203125\r\n\r\nAdding 1.2000000476837158203125 often incurs a rounded sum.  That sum is never 2.0.\r\n\r\n    1.2000000476837158203125000\r\n    1.2200000286102294921875000\r\n    1.2400000095367431640625000\r\n    ...\r\n    1.9799993038177490234375000\r\n    1.9999992847442626953125000\r\n    2.0199992656707763671875000\r\n\r\n---\r\n\r\nTo fix, \r\n\r\nUse an integer loop count:\r\n\r\n    float weight = 60.0f;\r\n    float height01 = 1.20f;\r\n    float height02 = 2.00f;\r\n    float delta = 0.02f;\r\n    long n = lround((height02 - height01)/delta);\r\n    \r\n    // iterate 0,1,2, ... n\r\n    for (long i = 0; i &lt;= n; i++) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + delta;\r\n    }\r\n\r\nOr add tolerance to the limit detection of 1/2 the step\r\n\r\n    float weight = 60.0f ;\r\n    float height01 = 1.20f;\r\n    float height02 = 2.00f;\r\n    float delta = 0.02f;\r\n    float height02plus = height02 + delta/2;\r\n    \r\n    while( height01 &lt;= height02plus) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + delta;\r\n    }\r\n\r\n----\r\n\r\nUse `f` suffix for `float` constants.  It makes a [difference](https://stackoverflow.com/q/66631288/2410359).\r\n\r\n\r\n---\r\n\r\nNote: [BMI is higher for taller individuals than shorter ones with the same body fat ratio.](https://blogs.umb.edu/mccormack-speaks/2018/01/01/i-am-not-a-cardboard-cutout-the-bias-of-body-mass-index-bmi/).","title":"While loop not stopping at float 2.00","body":"<p>Answer from a C point-of-view which applies to this Java post.</p>\n<p>A 32-bit <code>float</code> can exactly encode about 2<sup>32</sup> different values.  1.20 is <strong>not</strong> one of them.  Finite <code>float</code> values are always a <a href=\"https://en.wikipedia.org/wiki/Dyadic_rational\" rel=\"nofollow noreferrer\">dyadic rational</a>, some integer times a power of 2.<br />\nWith <code>float height01 = 1.20 ;</code>, <code>height01</code> has a nearby value of 1.2000000476837158203125</p>\n<p>Adding 1.2000000476837158203125 often incurs a rounded sum.  That sum is never 2.0.</p>\n<pre><code>1.2000000476837158203125000\n1.2200000286102294921875000\n1.2400000095367431640625000\n...\n1.9799993038177490234375000\n1.9999992847442626953125000\n2.0199992656707763671875000\n</code></pre>\n<hr />\n<p>To fix,</p>\n<p>Use an integer loop count:</p>\n<pre><code>float weight = 60.0f;\nfloat height01 = 1.20f;\nfloat height02 = 2.00f;\nfloat delta = 0.02f;\nlong n = lround((height02 - height01)/delta);\n\n// iterate 0,1,2, ... n\nfor (long i = 0; i &lt;= n; i++) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + delta;\n}\n</code></pre>\n<p>Or add tolerance to the limit detection of 1/2 the step</p>\n<pre><code>float weight = 60.0f ;\nfloat height01 = 1.20f;\nfloat height02 = 2.00f;\nfloat delta = 0.02f;\nfloat height02plus = height02 + delta/2;\n\nwhile( height01 &lt;= height02plus) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + delta;\n}\n</code></pre>\n<hr />\n<p>Use <code>f</code> suffix for <code>float</code> constants.  It makes a <a href=\"https://stackoverflow.com/q/66631288/2410359\">difference</a>.</p>\n<hr />\n<p>Note: <a href=\"https://blogs.umb.edu/mccormack-speaks/2018/01/01/i-am-not-a-cardboard-cutout-the-bias-of-body-mass-index-bmi/\" rel=\"nofollow noreferrer\">BMI is higher for taller individuals than shorter ones with the same body fat ratio.</a>.</p>\n"},{"tags":[],"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668249212,"creation_date":1668249212,"answer_id":74412124,"question_id":74404562,"body_markdown":"To clarify, I am presuming by &quot;println table reads 2.00 15.000010&quot; the OP actually meant &quot;***last println* reads 2.00 15.000010**&quot;.\r\n\r\nTo accomplish this, **change &quot;&lt;&quot; to &quot;&lt;=&quot; and change the precision**.  Here it is in c (sorry, I hate java):\r\n\r\n    Mac_3.2.57$cat floatPlayground1.c\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void){\r\n        float weight = 60;\r\n        float height01 = 1.20;\r\n        float height02 = 2.00;\r\n    \r\n        while(height01 &lt;= height02){\r\n            float BMI = (weight/(height01 * height01));\r\n            printf(&quot;%10.2f, %10.6fi\\n&quot;, height01, BMI);\r\n            height01 = height01 + 0.02;\r\n        }\r\n    \r\n        return(0);\r\n    }\r\n    Mac_3.2.57$cc floatPlayground1.c\r\n    Mac_3.2.57$./a.out \r\n          1.20,  41.666664\r\n          1.22,  40.311741\r\n          1.24,  39.021851\r\n    ...\r\n          1.96,  15.618504\r\n          1.98,  15.304571\r\n          2.00,  15.000010\r\n    Mac_3.2.57$\r\n\r\n   ","title":"While loop not stopping at float 2.00","body":"<p>To clarify, I am presuming by &quot;println table reads 2.00 15.000010&quot; the OP actually meant &quot;<strong><em>last println</em> reads 2.00 15.000010</strong>&quot;.</p>\n<p>To accomplish this, <strong>change &quot;&lt;&quot; to &quot;&lt;=&quot; and change the precision</strong>.  Here it is in c (sorry, I hate java):</p>\n<pre><code>Mac_3.2.57$cat floatPlayground1.c\n#include &lt;stdio.h&gt;\n\nint main(void){\n    float weight = 60;\n    float height01 = 1.20;\n    float height02 = 2.00;\n\n    while(height01 &lt;= height02){\n        float BMI = (weight/(height01 * height01));\n        printf(&quot;%10.2f, %10.6fi\\n&quot;, height01, BMI);\n        height01 = height01 + 0.02;\n    }\n\n    return(0);\n}\nMac_3.2.57$cc floatPlayground1.c\nMac_3.2.57$./a.out \n      1.20,  41.666664\n      1.22,  40.311741\n      1.24,  39.021851\n...\n      1.96,  15.618504\n      1.98,  15.304571\n      2.00,  15.000010\nMac_3.2.57$\n</code></pre>\n"}],"owner":{"account_id":18953445,"reputation":23,"user_id":13830594,"display_name":"fireandwater17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74405713,"answer_count":4,"score":0,"last_activity_date":1668249212,"creation_date":1668179738,"question_id":74404562,"body_markdown":"I&#39;m a beginner trying to get this while loop so that the println table reads 2.00 15.000010, however it consistently stops on 1.9999993.\r\n\r\n    float weight = 60 ;\r\n    float height01 = 1.20 ;\r\n    float height02 = 2.00 ;\r\n\r\n    while( height01 &lt; height02 ) {\r\n        float BMI = ( weight / (height01 * height01) ) ;\r\n        println( height01 + &quot; , &quot; + BMI ) ;\r\n        height01 = height01 + 0.02 ;\r\n    }\r\n\r\nThe output reads:\r\n\r\n    1.9999993 , 15.0000105\r\n\r\nI&#39;ve tried using Math.round(height01) in order to convert the float to an int but this seems to do absolutely nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9JUiP.png\r\n  [2]: https://i.stack.imgur.com/9i9Ub.png","title":"While loop not stopping at float 2.00","body":"<p>I'm a beginner trying to get this while loop so that the println table reads 2.00 15.000010, however it consistently stops on 1.9999993.</p>\n<pre><code>float weight = 60 ;\nfloat height01 = 1.20 ;\nfloat height02 = 2.00 ;\n\nwhile( height01 &lt; height02 ) {\n    float BMI = ( weight / (height01 * height01) ) ;\n    println( height01 + &quot; , &quot; + BMI ) ;\n    height01 = height01 + 0.02 ;\n}\n</code></pre>\n<p>The output reads:</p>\n<pre><code>1.9999993 , 15.0000105\n</code></pre>\n<p>I've tried using Math.round(height01) in order to convert the float to an int but this seems to do absolutely nothing.</p>\n"},{"tags":["java","spring-boot","javafx","spring-data-jpa","autowired"],"comments":[{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668248247,"post_id":74411947,"comment_id":131362593,"body_markdown":"I already have rest applications working only with spring boot and they work fine, but in this case I want JavaFX as well","body":"I already have rest applications working only with spring boot and they work fine, but in this case I want JavaFX as well"},{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668248428,"post_id":74411947,"comment_id":131362632,"body_markdown":"Your opinion, as any other opinion has my respect. I&#39;m just trying to give as much information about my problema as possible.","body":"Your opinion, as any other opinion has my respect. I&#39;m just trying to give as much information about my problema as possible."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668248996,"post_id":74411947,"comment_id":131362727,"body_markdown":"Related question on [JavaFX and Spring](https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service/57896435#57896435).","body":"Related question on <a href=\"https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service/57896435#57896435\">JavaFX and Spring</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1668249506,"post_id":74411947,"comment_id":131362798,"body_markdown":"I dont see a reason to use Servlets and Spring Web or Rest here, you dont need that to use a repository.  Id also remove the Lombok dependency.  Lombok doesnt interoperate well with JavaFX properties, among other reasons not to use it.  You arent hooking the spring context into your JavaFX app at all, so the two things wont be aware of each other.  Create a [mcve] hello world  JavaFX + spring, then spring + repository, then spring + JavaFX + repository.  Build slowly from scratch and test each addition.","body":"I dont see a reason to use Servlets and Spring Web or Rest here, you dont need that to use a repository.  Id also remove the Lombok dependency.  Lombok doesnt interoperate well with JavaFX properties, among other reasons not to use it.  You arent hooking the spring context into your JavaFX app at all, so the two things wont be aware of each other.  Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> hello world  JavaFX + spring, then spring + repository, then spring + JavaFX + repository.  Build slowly from scratch and test each addition."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668249850,"post_id":74411947,"comment_id":131362853,"body_markdown":"Dont call new on Spring components like the Service class.  These need to be created and injected by Spring.","body":"Dont call new on Spring components like the Service class.  These need to be created and injected by Spring."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668249929,"post_id":74411947,"comment_id":131362867,"body_markdown":"Dont make a JavaFX application a controller, maintain separation of concerns.","body":"Dont make a JavaFX application a controller, maintain separation of concerns."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668250266,"post_id":74411947,"comment_id":131362914,"body_markdown":"See this [spring data tutorial](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa). it shows you some of the config and dependencies you need and how to declare a repository interface, there is no need for a repository impl.","body":"See this <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">spring data tutorial</a>. it shows you some of the config and dependencies you need and how to declare a repository interface, there is no need for a repository impl."},{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1668255531,"post_id":74411947,"comment_id":131363896,"body_markdown":"@jewelsea The reason I called the Service by usint ght eocnstructor is because I was having the same problema I have now, but with the Service instead of the repo. However, I could use the constructor on the service because it&#39;s a class but not on the Repo because it&#39;s an interface.","body":"@jewelsea The reason I called the Service by usint ght eocnstructor is because I was having the same problema I have now, but with the Service instead of the repo. However, I could use the constructor on the service because it&#39;s a class but not on the Repo because it&#39;s an interface."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668277807,"post_id":74411947,"comment_id":131368293,"body_markdown":"But it is an auto wired service.  If you call new on it rather than using a spring created object and injected reference, Spring cannot auto wire it and any auto wired values it has will be null, which is exactly what is happening.","body":"But it is an auto wired service.  If you call new on it rather than using a spring created object and injected reference, Spring cannot auto wire it and any auto wired values it has will be null, which is exactly what is happening."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668285322,"post_id":74411947,"comment_id":131369792,"body_markdown":"Dependency injection (DI) only works when the object which has dependencies injected is managed by the DI framework. Your service must be managed by Spring, because it has &quot;autowired&quot; fields, which means you can&#39;t manually create an instance yourself. In other words, your service also needs to be autowired. This is a problem, because you have the service as part of the `Application` implementation, but JavaFX manages its own instance of that class (`launch` creates an instance of your application class for you, separate from whatever Spring does).","body":"Dependency injection (DI) only works when the object which has dependencies injected is managed by the DI framework. Your service must be managed by Spring, because it has &quot;autowired&quot; fields, which means you can&#39;t manually create an instance yourself. In other words, your service also needs to be autowired. This is a problem, because you have the service as part of the <code>Application</code> implementation, but JavaFX manages its own instance of that class (<code>launch</code> creates an instance of your application class for you, separate from whatever Spring does)."}],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668249017,"creation_date":1668247042,"question_id":74411947,"body_markdown":"I&#39;m building a project where I&#39;m using Spring Boot and JavaFX. In the main scene I push a button that calls a method in a service and this one calls a method in the repository, but I&#39;m getting an error saying the repository is null.\r\n\r\nI have read a lot of answer because there are a lot of posts describing the same problem and tried everything I found but can&#39;t get it to work. \r\n\r\nPlease can you help me?\r\n\r\nHere is the error:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.lista.project.repository.AlimentoRepository.findAll()&quot; because &quot;this.alimentoRepository&quot; is null\r\n\tat com.lista.project.service.AlimentoService.getAll(AlimentoService.java:19)\r\n\tat com.lista.project.controller.MainController.getAllAlimentos(MainController.java:48)\r\n\t... 57 more\r\n\r\n\r\nHere is the structure of the project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the Application class:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @EnableJpaRepositories(basePackages = {&quot;com.lista.project.repository&quot;, &quot;com.lista.project.repository.custom&quot;})\r\n    //@EnableTransactionManagement\r\n    @EntityScan(basePackages = {&quot;com.lista.project.*&quot;})\r\n    @ComponentScan(basePackages = {&quot;com.lista.project.*&quot;})\r\n    public class MiListaCompraApplication extends SpringBootServletInitializer{\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MiListaCompraApplication.class, args);\r\n    \t\tMainController.main(args);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(MiListaCompraApplication.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the main scene controller:\r\n\r\n    @RestController // Don&#39;t think I really need this annotation\r\n    public class MainController extends Application {\r\n    \r\n    \tAlimentoService alimentoService = new AlimentoService();\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/com/lista/project/scene/Main.fxml&quot;));\r\n    \t\t\t\r\n    \t\t\t//First I was defining the controller in the Main.fxml file, but tried to change into this as I read somewhere\r\n    \t\t\tloader.setController(this);\t\r\n    \t\t\tParent parent = loader.load();\r\n    \t\t\t\r\n    \t\t\tScene scene = new Scene(parent,400,400);\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.setTitle(&quot;Mi lista de la compra&quot;);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t\t\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Alimento&gt; getAllAlimentos() {\r\n    \t\t\r\n    \t\tList&lt;Alimento&gt; response = alimentoService.getAll();\r\n    \t\tSystem.out.println(&quot;Bien!&quot;);\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nHere is the service:\r\n\r\n    @Service\r\n    public class AlimentoService {\r\n    \r\n    \t@Autowired\r\n    \tprivate AlimentoRepository alimentoRepository;\r\n    \t\r\n    \t\r\n    \tpublic List&lt;Alimento&gt; getAll() {\r\n    \t\treturn alimentoRepository.findAll(); \r\n    \t}\r\n    }\r\n\r\nHere is the Repository:\r\n\r\n    @Component //Don&#39;t think I need this annotation, but also tried @Repository just in case\r\n    public interface AlimentoRepository extends AlimentoRepositoryI, JpaRepository&lt;Alimento, Integer&gt; {\r\n    \r\n    }\r\n\r\nMore parts of the same repository:\r\n\r\n    @Component //Don&#39;t think I need this annotation, but also tried @Repository just in case\r\n    public interface AlimentoRepositoryI {\r\n    \r\n    }\r\n\r\n    @Component //Here is where I actually have to put the annotation, right? (Tried @Repository too)\r\n    public class AlimentoRepositoryImpl implements AlimentoRepositoryI {\r\n    \r\n    }\r\n\r\nMy entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;alimento&quot;)\r\n    public class Alimento {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate int id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, length = 100, nullable = false)\r\n    \tprivate String name;\r\n    }\r\n\r\nThe FXML file:\r\n\r\n    &lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n       \t\t&lt;!-- Initially, the controller was defined here --&gt;\r\n          &lt;Button fx:id=&quot;btnAlimentos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getAllAlimentos&quot; text=&quot;Alimentos&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnPlatos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;70.0&quot; text=&quot;Platos&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nProperties file:\r\n\r\n    server.port=8090\r\n    server.servlet.context-path=\r\n    \r\n    spring.jmx.enabled= false\r\n    spring.jpa.open-in-view=false\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\r\n    spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n    spring.jpa.properties.hibernate.format_sql=false\r\n    spring.jpa.show-sql=false\r\n    \r\n    spring.datasource.url = jdbc:mysql://localhost:3306/mimenu?useSSL=false&amp;useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    #spring.main.web-application-type=none\r\n    \r\n    logging.level.org.hibernate.sql= error\r\n            \r\n    debug=true\r\n\r\nMy POM.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lista&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MiListaCompra&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;MiListaCompra&lt;/name&gt;\r\n    \t&lt;description&gt;Generador de lista de la compra con JavaFX y SpringBoot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;!-- \t\t&lt;dependency&gt; --&gt;\r\n    &lt;!-- \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\r\n    &lt;!-- \t\t    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nBuild path:\r\n[![enter image description here][13]][13]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/yVilP.png\r\n  [13]: https://i.stack.imgur.com/YCkuU.png\r\n","title":"Sprinb Boot + JavaFX injected repository is null","body":"<p>I'm building a project where I'm using Spring Boot and JavaFX. In the main scene I push a button that calls a method in a service and this one calls a method in the repository, but I'm getting an error saying the repository is null.</p>\n<p>I have read a lot of answer because there are a lot of posts describing the same problem and tried everything I found but can't get it to work.</p>\n<p>Please can you help me?</p>\n<p>Here is the error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\nat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\nat javafx.fxml@19/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\nat javafx.graphics@19/javafx.scene.Node.fireEvent(Node.java:8923)\nat javafx.controls@19/javafx.scene.control.Button.fire(Button.java:203)\nat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\nat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\nat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\nat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\nat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\nat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\nat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\nat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\nat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\nat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\nat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\nat jdk.internal.reflect.GeneratedMethodAccessor60.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\nat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\nat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.lista.project.repository.AlimentoRepository.findAll()&quot; because &quot;this.alimentoRepository&quot; is null\nat com.lista.project.service.AlimentoService.getAll(AlimentoService.java:19)\nat com.lista.project.controller.MainController.getAllAlimentos(MainController.java:48)\n... 57 more\n</code></pre>\n<p>Here is the structure of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/yVilP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVilP.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Application class:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@EnableJpaRepositories(basePackages = {&quot;com.lista.project.repository&quot;, &quot;com.lista.project.repository.custom&quot;})\n//@EnableTransactionManagement\n@EntityScan(basePackages = {&quot;com.lista.project.*&quot;})\n@ComponentScan(basePackages = {&quot;com.lista.project.*&quot;})\npublic class MiListaCompraApplication extends SpringBootServletInitializer{\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(MiListaCompraApplication.class, args);\n        MainController.main(args);\n    }\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(MiListaCompraApplication.class);\n    }\n\n}\n</code></pre>\n<p>Here is the main scene controller:</p>\n<pre><code>@RestController // Don't think I really need this annotation\npublic class MainController extends Application {\n\n    AlimentoService alimentoService = new AlimentoService();\n    \n    \n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            \n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/com/lista/project/scene/Main.fxml&quot;));\n            \n            //First I was defining the controller in the Main.fxml file, but tried to change into this as I read somewhere\n            loader.setController(this); \n            Parent parent = loader.load();\n            \n            Scene scene = new Scene(parent,400,400);\n            primaryStage.setScene(scene);\n            primaryStage.setTitle(&quot;Mi lista de la compra&quot;);\n            primaryStage.show();\n            \n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    public List&lt;Alimento&gt; getAllAlimentos() {\n        \n        List&lt;Alimento&gt; response = alimentoService.getAll();\n        System.out.println(&quot;Bien!&quot;);\n        return response;\n    }\n}\n</code></pre>\n<p>Here is the service:</p>\n<pre><code>@Service\npublic class AlimentoService {\n\n    @Autowired\n    private AlimentoRepository alimentoRepository;\n    \n    \n    public List&lt;Alimento&gt; getAll() {\n        return alimentoRepository.findAll(); \n    }\n}\n</code></pre>\n<p>Here is the Repository:</p>\n<pre><code>@Component //Don't think I need this annotation, but also tried @Repository just in case\npublic interface AlimentoRepository extends AlimentoRepositoryI, JpaRepository&lt;Alimento, Integer&gt; {\n\n}\n</code></pre>\n<p>More parts of the same repository:</p>\n<pre><code>@Component //Don't think I need this annotation, but also tried @Repository just in case\npublic interface AlimentoRepositoryI {\n\n}\n\n@Component //Here is where I actually have to put the annotation, right? (Tried @Repository too)\npublic class AlimentoRepositoryImpl implements AlimentoRepositoryI {\n\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;alimento&quot;)\npublic class Alimento {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, length = 100, nullable = false)\n    private String name;\n}\n</code></pre>\n<p>The FXML file:</p>\n<pre><code>&lt;AnchorPane minHeight=&quot;400.0&quot; minWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n        &lt;!-- Initially, the controller was defined here --&gt;\n      &lt;Button fx:id=&quot;btnAlimentos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;26.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getAllAlimentos&quot; text=&quot;Alimentos&quot; /&gt;\n      &lt;Button fx:id=&quot;btnPlatos&quot; layoutX=&quot;30.0&quot; layoutY=&quot;75.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;70.0&quot; text=&quot;Platos&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Properties file:</p>\n<pre><code>server.port=8090\nserver.servlet.context-path=\n\nspring.jmx.enabled= false\nspring.jpa.open-in-view=false\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyHbmImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL57Dialect\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.format_sql=false\nspring.jpa.show-sql=false\n\nspring.datasource.url = jdbc:mysql://localhost:3306/mimenu?useSSL=false&amp;useUnicode=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n#spring.main.web-application-type=none\n\nlogging.level.org.hibernate.sql= error\n        \ndebug=true\n</code></pre>\n<p>My POM.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lista&lt;/groupId&gt;\n    &lt;artifactId&gt;MiListaCompra&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;MiListaCompra&lt;/name&gt;\n    &lt;description&gt;Generador de lista de la compra con JavaFX y SpringBoot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; --&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Build path:\n<a href=\"https://i.stack.imgur.com/YCkuU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCkuU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jakarta-ee","jca"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1299155221,"post_id":5180535,"comment_id":5820500,"body_markdown":"what kind of mainframe?  as400?  s390?","body":"what kind of mainframe?  as400?  s390?"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1325543551,"post_id":5180535,"comment_id":10833794,"body_markdown":"If you found any of the answers useful or informative, you should accept one of them and vote it up.","body":"If you found any of the answers useful or informative, you should accept one of them and vote it up."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299158226,"creation_date":1299158226,"answer_id":5181199,"question_id":5180535,"body_markdown":"IBM&#39;s approach should be pretty good.\r\n\r\nHere&#39;s an IBM tutorial to get you started: [Introduction to the J2EE Connector Architecture][1]\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/tutorials/j-jca/","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>IBM's approach should be pretty good.</p>\n\n<p>Here's an IBM tutorial to get you started: <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jca/\" rel=\"nofollow\">Introduction to the J2EE Connector Architecture</a></p>\n"},{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324488447,"creation_date":1324488447,"answer_id":8593839,"question_id":5180535,"body_markdown":"You have many options... I&#39;ve tried them all.\r\n\r\nTheir CTG product can be a bottleneck and the licensing is ridiculously expensive. I recommend staying away from the Cics Transaction gateway.\r\n\r\nYou can homebrew a solution using just plain data sockets. We&#39;re currently doing this. We developed a standard Java annotation library and a standard COBOL copybook.\r\n\r\nConsider mainframe webservices. The XML parsing/marshaling can be ZIIP/ZAAP eligible, so you don&#39;t incur those MIPS charges.\r\n\r\nYou may also consider an ESB like Sonic from progressive software. They offer a product called Shadow that takes the guesswork out of mainframe webservices. ","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>You have many options... I've tried them all.</p>\n\n<p>Their CTG product can be a bottleneck and the licensing is ridiculously expensive. I recommend staying away from the Cics Transaction gateway.</p>\n\n<p>You can homebrew a solution using just plain data sockets. We're currently doing this. We developed a standard Java annotation library and a standard COBOL copybook.</p>\n\n<p>Consider mainframe webservices. The XML parsing/marshaling can be ZIIP/ZAAP eligible, so you don't incur those MIPS charges.</p>\n\n<p>You may also consider an ESB like Sonic from progressive software. They offer a product called Shadow that takes the guesswork out of mainframe webservices. </p>\n"},{"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566491780,"creation_date":1566491780,"answer_id":57613728,"question_id":5180535,"body_markdown":"This is not a JCA solution, but you can also use telnet and screen scraping. This is pretty simple, but not the most efficient way as to have to wait for the screen to appear, etc","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>This is not a JCA solution, but you can also use telnet and screen scraping. This is pretty simple, but not the most efficient way as to have to wait for the screen to appear, etc</p>\n"},{"tags":[],"owner":{"account_id":6638472,"reputation":1,"user_id":5124958,"display_name":"Resident Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668248658,"creation_date":1668248658,"answer_id":74412077,"question_id":5180535,"body_markdown":"DAO Design Pattern approach\r\n\r\nCould connect using the DB2 connector db2jcc-db2jcc4.jar\r\n\r\nMy Connection Factory (excerpt from the Class):\r\n\r\n    `Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\r\n     uniqueConn = \r\n     DriverManager.getConnection(&quot;jdbc:db2://204.90.115.200:5040/DALLASC&quot;, &quot;Zxxxxx&quot;, &quot;********&quot;);`\r\n\r\nUsed the IBM zxplore learning platform mainframe - https://www.ibm.com/it-infrastructure/z/education/zxplore. Replace Zxxxxx with your zxplore user id and ******** with your password.\r\n\r\nUsed 3 packages: dao (Data Access Object), model, ctrl (control)\r\n\r\nClasses:\r\n- under model package: Employee class with 4 attibutes: First Name, Last Name, Work Dept and Job (a subset of all colunms from DB2 table IBMUSER.EMP)\r\n- under dao package: ConnFactoryDB2 - a class using the Singleton Design Pattern to connect to the database (main point shared above)\r\n- under dao package: EmployeeDAO class, with only a getList method, containing the code including the &quot;select FIRSTNME, LASTNAME, WORKDEPT, JOB from IBMUSER.EMP&quot;\r\n- under ctrl package: a &quot;test drive&quot; class, putting together the DAO Design Pattern approach used:\r\n  - database connection using the ConnFactoryDB2 class;\r\n  - database browsing using the combination of the dao.EmployeeDAO and model.Employee\r\n\r\nFinal result:\r\n\r\nrun:\r\nStarting Employee Display - S&#225;b 2022.11.12 at 08:22:52 AM BRST\r\nConnecting DB DALLASC - IBM Zxplore!\r\n1st Name |  Last Name  |   Dept  |  Job  &lt;List Header&gt;\r\n\r\nCHRISTINE  |  HAAS  |  A00  |  PRES    \r\n\r\nMICHAEL  |  THOMPSON  |  B01  |  MANAGER \r\n\r\nSALLY  |  KWAN  |  C01  |  MANAGER \r\n\r\nJOHN  |  GEYER  |  E01  |  MANAGER \r\n\r\nIRVING  |  STERN  |  D11  |  MANAGER \r\n\r\nEVA  |  PULASKI  |  D21  |  MANAGER \r\n\r\nEILEEN  |  HENDERSON  |  E11  |  MANAGER \r\n\r\nTHEODORE  |  SPENSER  |  E21  |  MANAGER \r\n\r\nVINCENZO  |  LUCCHESI  |  A00  |  SALESREP\r\n\r\nSEAN  |  O&#39;CONNELL  |  A00  |  CLERK   \r\n\r\nDOLORES  |  QUINTANA  |  C01  |  ANALYST \r\n\r\nHEATHER  |  NICHOLLS  |  C01  |  ANALYST \r\n\r\nBRUCE  |  ADAMSON  |  D11  |  DESIGNER\r\n\r\nELIZABETH  |  PIANKA  |  D11  |  DESIGNER\r\n\r\nMASATOSHI  |  YOSHIMURA  |  D11  |  DESIGNER\r\n\r\nMARILYN  |  SCOUTTEN  |  D11  |  DESIGNER\r\n\r\nJAMES  |  WALKER  |  D11  |  DESIGNER\r\n\r\nDAVID  |  BROWN  |  D11  |  DESIGNER\r\n\r\nWILLIAM  |  JONES  |  D11  |  DESIGNER\r\n\r\nJENNIFER  |  LUTZ  |  D11  |  DESIGNER\r\n\r\nJAMES  |  JEFFERSON  |  D21  |  CLERK   \r\n\r\nSALVATORE  |  MARINO  |  D21  |  CLERK   \r\n\r\nDANIEL  |  SMITH  |  D21  |  CLERK   \r\n\r\nSYBIL  |  JOHNSON  |  D21  |  CLERK   \r\n\r\nMARIA  |  PEREZ  |  D21  |  CLERK   \r\n\r\nETHEL  |  SCHNEIDER  |  E11  |  OPERATOR\r\n\r\nJOHN  |  PARKER  |  E11  |  OPERATOR\r\n\r\nPHILIP  |  SMITH  |  E11  |  OPERATOR\r\n\r\nMAUDE  |  SETRIGHT  |  E11  |  OPERATOR\r\n\r\nRAMLAL  |  MEHTA  |  E21  |  FIELDREP\r\n\r\nWING  |  LEE  |  E21  |  FIELDREP\r\n\r\nJASON  |  GOUNOT  |  E21  |  FIELDREP\r\n\r\nDIAN  |  HEMMINGER  |  A00  |  SALESREP\r\n\r\nGREG  |  ORLANDO  |  A00  |  CLERK   \r\n\r\nKIM  |  NATZ  |  C01  |  ANALYST \r\n\r\nKIYOSHI  |  YAMAMOTO  |  D11  |  DESIGNER\r\n\r\nREBA  |  JOHN  |  D11  |  DESIGNER\r\n\r\nROBERT  |  MONTEVERDE  |  D21  |  CLERK   \r\n\r\nEILEEN  |  SCHWARTZ  |  E11  |  OPERATOR\r\n\r\nMICHELLE  |  SPRINGER  |  E11  |  OPERATOR\r\n\r\nHELENA  |  WONG  |  E21  |  FIELDREP\r\n\r\nROY  |  ALONZO  |  E21  |  FIELDREP\r\n\r\nEmployees List Completed - Total Employees Listed = 42\r\nFim do Processamento - S&#225;b 2022.11.12 at 08:22:54 AM BRST\r\nCONSTRU&#205;DO COM SUCESSO (tempo total: 1 segundo)\r\n","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>DAO Design Pattern approach</p>\n<p>Could connect using the DB2 connector db2jcc-db2jcc4.jar</p>\n<p>My Connection Factory (excerpt from the Class):</p>\n<pre><code>`Class.forName(&quot;com.ibm.db2.jcc.DB2Driver&quot;);\n uniqueConn = \n DriverManager.getConnection(&quot;jdbc:db2://204.90.115.200:5040/DALLASC&quot;, &quot;Zxxxxx&quot;, &quot;********&quot;);`\n</code></pre>\n<p>Used the IBM zxplore learning platform mainframe - <a href=\"https://www.ibm.com/it-infrastructure/z/education/zxplore\" rel=\"nofollow noreferrer\">https://www.ibm.com/it-infrastructure/z/education/zxplore</a>. Replace Zxxxxx with your zxplore user id and ******** with your password.</p>\n<p>Used 3 packages: dao (Data Access Object), model, ctrl (control)</p>\n<p>Classes:</p>\n<ul>\n<li>under model package: Employee class with 4 attibutes: First Name, Last Name, Work Dept and Job (a subset of all colunms from DB2 table IBMUSER.EMP)</li>\n<li>under dao package: ConnFactoryDB2 - a class using the Singleton Design Pattern to connect to the database (main point shared above)</li>\n<li>under dao package: EmployeeDAO class, with only a getList method, containing the code including the &quot;select FIRSTNME, LASTNAME, WORKDEPT, JOB from IBMUSER.EMP&quot;</li>\n<li>under ctrl package: a &quot;test drive&quot; class, putting together the DAO Design Pattern approach used:\n<ul>\n<li>database connection using the ConnFactoryDB2 class;</li>\n<li>database browsing using the combination of the dao.EmployeeDAO and model.Employee</li>\n</ul>\n</li>\n</ul>\n<p>Final result:</p>\n<p>run:\nStarting Employee Display - Sb 2022.11.12 at 08:22:52 AM BRST\nConnecting DB DALLASC - IBM Zxplore!\n1st Name |  Last Name  |   Dept  |  Job  </p>\n<p>CHRISTINE  |  HAAS  |  A00  |  PRES</p>\n<p>MICHAEL  |  THOMPSON  |  B01  |  MANAGER</p>\n<p>SALLY  |  KWAN  |  C01  |  MANAGER</p>\n<p>JOHN  |  GEYER  |  E01  |  MANAGER</p>\n<p>IRVING  |  STERN  |  D11  |  MANAGER</p>\n<p>EVA  |  PULASKI  |  D21  |  MANAGER</p>\n<p>EILEEN  |  HENDERSON  |  E11  |  MANAGER</p>\n<p>THEODORE  |  SPENSER  |  E21  |  MANAGER</p>\n<p>VINCENZO  |  LUCCHESI  |  A00  |  SALESREP</p>\n<p>SEAN  |  O'CONNELL  |  A00  |  CLERK</p>\n<p>DOLORES  |  QUINTANA  |  C01  |  ANALYST</p>\n<p>HEATHER  |  NICHOLLS  |  C01  |  ANALYST</p>\n<p>BRUCE  |  ADAMSON  |  D11  |  DESIGNER</p>\n<p>ELIZABETH  |  PIANKA  |  D11  |  DESIGNER</p>\n<p>MASATOSHI  |  YOSHIMURA  |  D11  |  DESIGNER</p>\n<p>MARILYN  |  SCOUTTEN  |  D11  |  DESIGNER</p>\n<p>JAMES  |  WALKER  |  D11  |  DESIGNER</p>\n<p>DAVID  |  BROWN  |  D11  |  DESIGNER</p>\n<p>WILLIAM  |  JONES  |  D11  |  DESIGNER</p>\n<p>JENNIFER  |  LUTZ  |  D11  |  DESIGNER</p>\n<p>JAMES  |  JEFFERSON  |  D21  |  CLERK</p>\n<p>SALVATORE  |  MARINO  |  D21  |  CLERK</p>\n<p>DANIEL  |  SMITH  |  D21  |  CLERK</p>\n<p>SYBIL  |  JOHNSON  |  D21  |  CLERK</p>\n<p>MARIA  |  PEREZ  |  D21  |  CLERK</p>\n<p>ETHEL  |  SCHNEIDER  |  E11  |  OPERATOR</p>\n<p>JOHN  |  PARKER  |  E11  |  OPERATOR</p>\n<p>PHILIP  |  SMITH  |  E11  |  OPERATOR</p>\n<p>MAUDE  |  SETRIGHT  |  E11  |  OPERATOR</p>\n<p>RAMLAL  |  MEHTA  |  E21  |  FIELDREP</p>\n<p>WING  |  LEE  |  E21  |  FIELDREP</p>\n<p>JASON  |  GOUNOT  |  E21  |  FIELDREP</p>\n<p>DIAN  |  HEMMINGER  |  A00  |  SALESREP</p>\n<p>GREG  |  ORLANDO  |  A00  |  CLERK</p>\n<p>KIM  |  NATZ  |  C01  |  ANALYST</p>\n<p>KIYOSHI  |  YAMAMOTO  |  D11  |  DESIGNER</p>\n<p>REBA  |  JOHN  |  D11  |  DESIGNER</p>\n<p>ROBERT  |  MONTEVERDE  |  D21  |  CLERK</p>\n<p>EILEEN  |  SCHWARTZ  |  E11  |  OPERATOR</p>\n<p>MICHELLE  |  SPRINGER  |  E11  |  OPERATOR</p>\n<p>HELENA  |  WONG  |  E21  |  FIELDREP</p>\n<p>ROY  |  ALONZO  |  E21  |  FIELDREP</p>\n<p>Employees List Completed - Total Employees Listed = 42\nFim do Processamento - Sb 2022.11.12 at 08:22:54 AM BRST\nCONSTRUDO COM SUCESSO (tempo total: 1 segundo)</p>\n"}],"owner":{"display_name":"user486631"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668248658,"creation_date":1299154242,"question_id":5180535,"body_markdown":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","title":"Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?","body":"<p>Which is the best approach to connect IBM Mainframe application using Java Connector Architecture (JCA)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1668206340,"post_id":74408327,"comment_id":131357523,"body_markdown":"1. Replace `if (col==1 || row == 1 || col == height || row == length)`  with `if (col==1 || row == 1 || col == length || row == height)`  2. Remove the Blank in `&quot;* &quot;` or add a Blank in `&quot; &quot;`","body":"1. Replace <code>if (col==1 || row == 1 || col == height || row == length)</code>  with <code>if (col==1 || row == 1 || col == length || row == height)</code>  2. Remove the Blank in <code>&quot;* &quot;</code> or add a Blank in <code>&quot; &quot;</code>"}],"owner":{"account_id":26556560,"reputation":11,"user_id":20185082,"display_name":"Zee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668248149,"creation_date":1668202244,"question_id":74408327,"body_markdown":"I have an exercise within my course that asks us to build a program that makes a rectangle made of &quot;*&quot; with the middle being empty. I know I am close as my code almost prints it but it does not produce a full rectangle \r\n\r\nany ideas?\r\n\r\n \r\n\r\n```\r\n/**\r\n * Week 4, Exercise 7.\r\n * @author INSERT YOUR NAME HERE\r\n */\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Exercise7 {\r\n\t\r\n\tstatic Scanner Scan = new Scanner(System.in);\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tint height ;\r\n\t\tint length;\r\n\t\t\r\n\t\tSystem.out.println(&quot;what is the height of the rectangle&quot;);\r\n\t\theight = Scan.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;what is the legnth of the rectangle&quot;);\r\n\t\tlength = Scan.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tfor (int row = 1; row &lt;= height; row ++) {\r\n\t\t\t\r\n\t\t\tfor (int col=1; col&lt;= length; col ++) {\r\n\t\t\t\t\r\n\t\t\t\tif (col==1 || row == 1 || col == height || row == length) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(&quot;* &quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Cant figure out how get the last line of the rectangle to work","body":"<p>I have an exercise within my course that asks us to build a program that makes a rectangle made of &quot;*&quot; with the middle being empty. I know I am close as my code almost prints it but it does not produce a full rectangle</p>\n<p>any ideas?</p>\n<pre><code>/**\n * Week 4, Exercise 7.\n * @author INSERT YOUR NAME HERE\n */\n\nimport java.util.Scanner;\n\n\npublic class Exercise7 {\n    \n    static Scanner Scan = new Scanner(System.in);   \n\n    public static void main(String[] args) {\n        \n        \n        \n        int height ;\n        int length;\n        \n        System.out.println(&quot;what is the height of the rectangle&quot;);\n        height = Scan.nextInt();\n        \n        System.out.println(&quot;what is the legnth of the rectangle&quot;);\n        length = Scan.nextInt();\n        \n        \n        for (int row = 1; row &lt;= height; row ++) {\n            \n            for (int col=1; col&lt;= length; col ++) {\n                \n                if (col==1 || row == 1 || col == height || row == length) {\n                \n                System.out.print(&quot;* &quot;);\n                }\n                else {\n                    System.out.print(&quot; &quot;);\n                };\n                \n                \n            };\n            \n            System.out.println();\n            \n        };\n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668188260,"post_id":74406222,"comment_id":131353107,"body_markdown":"&quot;Any advice is appreciated.&quot; - use Apache Maven or Gradle. Honestly. Btw.: package names are expected to be lowercase.","body":"&quot;Any advice is appreciated.&quot; - use Apache Maven or Gradle. Honestly. Btw.: package names are expected to be lowercase."},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668189602,"post_id":74406222,"comment_id":131353507,"body_markdown":"@ChristophDahlen  Use a tool that obfuscates and doesn&#39;t let you understand:  Not good advice from my experience. I&#39;ve had enough difficulty with Android Studio, CCS, Eclipse, and others hiding what&#39;s going on.  I intend to understand this.  Also, the &quot;package&quot; is lowercase, I made sure of that. The classes in the package aren&#39;t.  The test shell (test.java) isn&#39;t going to in package so I blew that off as irrelevant.  And the same error occurs even without the package declaration in the test shell.","body":"@ChristophDahlen  Use a tool that obfuscates and doesn&#39;t let you understand:  Not good advice from my experience. I&#39;ve had enough difficulty with Android Studio, CCS, Eclipse, and others hiding what&#39;s going on.  I intend to understand this.  Also, the &quot;package&quot; is lowercase, I made sure of that. The classes in the package aren&#39;t.  The test shell (test.java) isn&#39;t going to in package so I blew that off as irrelevant.  And the same error occurs even without the package declaration in the test shell."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668190278,"post_id":74406222,"comment_id":131353722,"body_markdown":"Full marks for posting text and not images. I can therefore copy and paste and correct `C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar -C classes com\\company\\functions`\nYou could put the main class in there and make an executable jar with `cvfe`. e.g. `C:\\JavaPackages\\JavaPackage&gt;jar cvfe mypackage.jar com.company.functions.Main -C classes com\\company\\functions`","body":"Full marks for posting text and not images. I can therefore copy and paste and correct <code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar -C classes com\\company\\functions</code> You could put the main class in there and make an executable jar with <code>cvfe</code>. e.g. <code>C:\\JavaPackages\\JavaPackage&gt;jar cvfe mypackage.jar com.company.functions.Main -C classes com\\company\\functions</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668190620,"post_id":74406222,"comment_id":131353814,"body_markdown":"You probably don&#39;t have a main class, but imagine you did have one ;)","body":"You probably don&#39;t have a main class, but imagine you did have one ;)"},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668190684,"post_id":74406222,"comment_id":131353830,"body_markdown":"@g00se Thx.  However, the final goal is we have to provide this package to an outside customer.  It&#39;s hundreds of lines of code.  So it&#39;s their executable that has to &quot;link&quot; to it (to use the C vernacular)","body":"@g00se Thx.  However, the final goal is we have to provide this package to an outside customer.  It&#39;s hundreds of lines of code.  So it&#39;s their executable that has to &quot;link&quot; to it (to use the C vernacular)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668191287,"post_id":74406222,"comment_id":131353998,"body_markdown":"That&#39;s fine. Just ignore the bit about the main class","body":"That&#39;s fine. Just ignore the bit about the main class"},{"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"score":0,"creation_date":1668192113,"post_id":74406222,"comment_id":131354196,"body_markdown":"@g00se If the additional command line arg `-C` was supposed to be significant, it didn&#39;t help.  I used it to regenerate hte package, moved it, and I am still getting a **package does not exist error**","body":"@g00se If the additional command line arg <code>-C</code> was supposed to be significant, it didn&#39;t help.  I used it to regenerate hte package, moved it, and I am still getting a <b>package does not exist error</b>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668192232,"post_id":74406222,"comment_id":131354235,"body_markdown":"Got to leave now but you could usefully post jar tf ...","body":"Got to leave now but you could usefully post jar tf ..."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668248058,"post_id":74406222,"comment_id":131362556,"body_markdown":"The JAR is not on the classpath. The JAR file itself must be on the classpath, Having it within a directory that is on the classpath is not sufficient.","body":"The JAR is not on the classpath. The JAR file itself must be on the classpath, Having it within a directory that is on the classpath is not sufficient."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668198266,"creation_date":1668198266,"answer_id":74407751,"question_id":74406222,"body_markdown":"&gt; I create the JAR file fine\r\n&gt; \r\n&gt;     C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\r\n&gt;     added manifest\r\n&gt;     adding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n&gt;     adding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\r\n\r\nIt looks like it will place the files inside the JAR file in a sub directory `classes/`. The package path should begin at the root directory of the JAR file, not inside other directories like `classes/`. The ClassLoader will not be able to find the classes if you do. Create the JAR file in a way, that the `.class` files are in directories like `com/company/functions/MyFunctions.class`. Then the ClassLoader will be able to find the class `com.company.functions.MyFunctions` by checking the JAR file directory `com/company/functions/`.\r\n\r\n&gt; I attempt to compile with\r\n&gt; \r\n&gt;     C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\r\n\r\nYou have not specified the JAR file in your classpath. Java will not look randomly inside any JAR file. See https://stackoverflow.com/questions/10386869/how-do-i-add-jar-files-to-the-classpath on how to add a JAR file to the classpath. You might want to use something like\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes\\mypackage.jar  TestProgram\\*.java\r\n\r\n*(with the fixed issue about the content of the JAR file above)*\r\n\r\nBut you might need to add the current directory `.` to your classpath as well to find your other java files or classes, which are not in the JAR file.","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<blockquote>\n<p>I create the JAR file fine</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\nadded manifest\nadding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\n</code></pre>\n</blockquote>\n<p>It looks like it will place the files inside the JAR file in a sub directory <code>classes/</code>. The package path should begin at the root directory of the JAR file, not inside other directories like <code>classes/</code>. The ClassLoader will not be able to find the classes if you do. Create the JAR file in a way, that the <code>.class</code> files are in directories like <code>com/company/functions/MyFunctions.class</code>. Then the ClassLoader will be able to find the class <code>com.company.functions.MyFunctions</code> by checking the JAR file directory <code>com/company/functions/</code>.</p>\n<blockquote>\n<p>I attempt to compile with</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\n</code></pre>\n</blockquote>\n<p>You have not specified the JAR file in your classpath. Java will not look randomly inside any JAR file. See <a href=\"https://stackoverflow.com/questions/10386869/how-do-i-add-jar-files-to-the-classpath\">How do I add jar files to the Classpath?</a> on how to add a JAR file to the classpath. You might want to use something like</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes\\mypackage.jar  TestProgram\\*.java\n</code></pre>\n<p><em>(with the fixed issue about the content of the JAR file above)</em></p>\n<p>But you might need to add the current directory <code>.</code> to your classpath as well to find your other java files or classes, which are not in the JAR file.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668242100,"creation_date":1668210169,"answer_id":74409247,"question_id":74406222,"body_markdown":"    goose@t410:/tmp/src$ find\r\n    .\r\n    ./start.java\r\n    ./MyFunctions.java\r\n    ./classes\r\n    ./Test.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ cat start.java \r\n    package testprogram;\r\n    \r\n    public class start {\r\n        public static void main(String args[]) {\r\n            m_test = new Test();\r\n            //m_test.RunScanner();\r\n            m_test.Run();\r\n        }\r\n    \r\n        static private Test m_test;\r\n    }\r\n    \r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ head -n 1 *.java\r\n    ==&gt; MyFunctions.java &lt;==\r\n    package com.company.functions;\r\n    \r\n    ==&gt; start.java &lt;==\r\n    package testprogram;\r\n    \r\n    ==&gt; Test.java &lt;==\r\n    package testprogram;\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ javac -d classes *.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ find\r\n    .\r\n    ./start.java\r\n    ./MyFunctions.java\r\n    ./classes\r\n    ./classes/testprogram\r\n    ./classes/testprogram/Test.class\r\n    ./classes/testprogram/start.class\r\n    ./classes/com\r\n    ./classes/com/company\r\n    ./classes/com/company/functions\r\n    ./classes/com/company/functions/MyFunctions.class\r\n    ./Test.java\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ jar cvf functions.jar -C classes com/company/functions\r\n    added manifest\r\n    adding: com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n    adding: com/company/functions/MyFunctions.class(in = 285) (out= 219)(deflated 23%)\r\n    goose@t410:/tmp/src$ \r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ jar cvfe mypackage.jar testprogram.start -C classes testprogram\r\n    added manifest\r\n    adding: testprogram/(in = 0) (out= 0)(stored 0%)\r\n    adding: testprogram/Test.class(in = 567) (out= 380)(deflated 32%)\r\n    adding: testprogram/start.class(in = 382) (out= 273)(deflated 28%)\r\n    ===========================================================================================\r\n    goose@t410:/tmp/src$ java -cp mypackage.jar:functions.jar testprogram.start\r\n    Exiting\r\n\r\n\r\n\r\n\r\nYou can ignore any commands that are not `java`,`javac` or `jar` when you run them yourself. Other commands are informational. NB, you need to get your [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) right.\r\nTwo points: a) you&#39;ll notice I had to correct an error preventing the main class from running, and b) you&#39;ll need to use a semicolon instead of a colon for the `java` command on Windows.\r\nYou&#39;ll notice that the whole classpath was needed for the `java` command. If you want to be able to use the `-jar` parameter, you&#39;ll need to use your own manifest. e.g.:\r\n\r\n    jar cvf functions.jar -C classes com/company/functions\r\n    ================================================================================\r\n    (Creation of manifest - Unixes:)\r\n    ================================================================================\r\n    echo -e &quot;Main-Class: testprogram.start\\nClass-Path: functions.jar&quot; &gt;manifest.txt\r\n    cat manifest.txt\r\n    ================================================================================\r\n    (Creation of manifest - Windows: [untested])\r\n    ================================================================================\r\n    echo  &quot;Main-Class: testprogram.start&quot; &amp; echo &quot;Class-Path: functions.jar&quot; &gt;manifest.txt\r\n    type manifest.txt\r\n    ================================================================================\r\n    jar cvfm mypackage.jar manifest.txt -C classes testprogram\r\n    ================================================================================\r\n    java -jar mypackage.jar","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<pre><code>goose@t410:/tmp/src$ find\n.\n./start.java\n./MyFunctions.java\n./classes\n./Test.java\n===========================================================================================\ngoose@t410:/tmp/src$ cat start.java \npackage testprogram;\n\npublic class start {\n    public static void main(String args[]) {\n        m_test = new Test();\n        //m_test.RunScanner();\n        m_test.Run();\n    }\n\n    static private Test m_test;\n}\n\n===========================================================================================\ngoose@t410:/tmp/src$ head -n 1 *.java\n==&gt; MyFunctions.java &lt;==\npackage com.company.functions;\n\n==&gt; start.java &lt;==\npackage testprogram;\n\n==&gt; Test.java &lt;==\npackage testprogram;\n===========================================================================================\ngoose@t410:/tmp/src$ javac -d classes *.java\n===========================================================================================\ngoose@t410:/tmp/src$ find\n.\n./start.java\n./MyFunctions.java\n./classes\n./classes/testprogram\n./classes/testprogram/Test.class\n./classes/testprogram/start.class\n./classes/com\n./classes/com/company\n./classes/com/company/functions\n./classes/com/company/functions/MyFunctions.class\n./Test.java\n===========================================================================================\ngoose@t410:/tmp/src$ jar cvf functions.jar -C classes com/company/functions\nadded manifest\nadding: com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: com/company/functions/MyFunctions.class(in = 285) (out= 219)(deflated 23%)\ngoose@t410:/tmp/src$ \n===========================================================================================\ngoose@t410:/tmp/src$ jar cvfe mypackage.jar testprogram.start -C classes testprogram\nadded manifest\nadding: testprogram/(in = 0) (out= 0)(stored 0%)\nadding: testprogram/Test.class(in = 567) (out= 380)(deflated 32%)\nadding: testprogram/start.class(in = 382) (out= 273)(deflated 28%)\n===========================================================================================\ngoose@t410:/tmp/src$ java -cp mypackage.jar:functions.jar testprogram.start\nExiting\n</code></pre>\n<p>You can ignore any commands that are not <code>java</code>,<code>javac</code> or <code>jar</code> when you run them yourself. Other commands are informational. NB, you need to get your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a> right.\nTwo points: a) you'll notice I had to correct an error preventing the main class from running, and b) you'll need to use a semicolon instead of a colon for the <code>java</code> command on Windows.\nYou'll notice that the whole classpath was needed for the <code>java</code> command. If you want to be able to use the <code>-jar</code> parameter, you'll need to use your own manifest. e.g.:</p>\n<pre><code>jar cvf functions.jar -C classes com/company/functions\n================================================================================\n(Creation of manifest - Unixes:)\n================================================================================\necho -e &quot;Main-Class: testprogram.start\\nClass-Path: functions.jar&quot; &gt;manifest.txt\ncat manifest.txt\n================================================================================\n(Creation of manifest - Windows: [untested])\n================================================================================\necho  &quot;Main-Class: testprogram.start&quot; &amp; echo &quot;Class-Path: functions.jar&quot; &gt;manifest.txt\ntype manifest.txt\n================================================================================\njar cvfm mypackage.jar manifest.txt -C classes testprogram\n================================================================================\njava -jar mypackage.jar\n</code></pre>\n"}],"owner":{"account_id":3373466,"reputation":953,"user_id":2832155,"accept_rate":57,"display_name":"SpacemanScott"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1668247985,"answer_count":2,"score":1,"last_activity_date":1668247955,"creation_date":1668188113,"question_id":74406222,"body_markdown":"I&#39;m trying to import a self made package into a Java project.  I got it to work once with some test class.  So, when I tried to change it to an official, approved class name, the compiling stopped working.  I can&#39;t explain why it worked, nor why the changes made it stop working.\r\n\r\nThis is super annoying.  So, I&#39;ve been digging for a few days.\r\n\r\nI&#39;ve search over a dozen posts here, plus many other sites, and cannot find an explanation of how this is supposed to be structured.\r\n\r\nFinally I gutted everything and put together this example that should work according to everything I&#39;ve searched, but it doesn&#39;t. It is a stripped down version of something that should import my own package and call a function. Minuscule code showing what I am trying to do, and what is failing.\r\n\r\nIn this minuscule example, I am building a package, as &quot;com.company.functions&quot; with a MyFunctions.java.  All of one function inside to demonstrate it.\r\n\r\nI do not have a classpath set up in my  environment.  Only a path to the JDK binaries.  I do that so I can keep control and understanding at the command line level.\r\n\r\nThe &quot;package&quot; is located in folder JavaPackage. The folders are:\r\n\r\n    JavaPackage\\\r\n        com\\\r\n            company\\\r\n                functions\\  (the MyFunctions.java is here)\r\n        classes\\\r\n\r\n\t\r\nI compile it fine.\r\n\r\n    C:\\JavaPackages\\JavaPackage&gt;javac -d classes -classpath classes com\\company\\functions\\*.java\r\n\r\nI create the JAR file fine\r\n\r\n    C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\r\n    added manifest\r\n    adding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\r\n    adding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\r\n\t\r\nI look in the JAR with 7-Zip,and everything looks fine. (I compared this 7-Zip autopsy to the package that was working, as mentioned at the beginning of this post, and the class names all line up correctly, from what I can understand.  Everything looks correct)\r\n\r\nNow, I am creating a test program.  Called, for lack of a better name, Java_Test.\r\n\r\n    Java_Test\\\r\n        TestProgram\\  (source files here)\r\n        classes\\\r\n\r\nI move my jar file to Java_Test\\classes\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;dir classes\r\n    11/11/2022  10:16 AM             1,325 mypackage.jar\r\n\r\nI have two files in Java_Test\\TestProgram: start.java and Test.java.  Start is just the location of the static main, and it invokes the Test class.  That&#39;s not any issue.  It&#39;s the following compile failure.\r\n\r\nI attempt to compile with \r\n\r\n    C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\r\n\r\nWhich should specify that the output *.class files go into the folder &quot;classes&quot;, and that the class path to import things is in the (same) folder &quot;classes&quot;\r\n\r\nI get the following error\r\n\r\n    TestProgram\\Test.java:3: error: package com.company.functions does not exist\r\n    import com.company.functions.*;\r\n    ^\r\n\r\nWell, it does exist. I can see it right there in the classes folder.\r\n\r\nMaybe it&#39;s got something to do with the JAR name.  Who knows? I can&#39;t find a good explanation of how this is supposed to work, so I even rebuilt the JAR file using the main name of the class:  &quot;functions&quot;\r\n\r\nSo, now I have two JAR files of different names, but their contents are exactly the same.  I figure the compiler should find one of them.  The one it needs.\r\n\r\n    C:\\JavaPackages\\Java_Test&gt;dir classes\r\n    11/11/2022  10:28 AM             1,325 functions.jar\r\n    11/11/2022  10:16 AM             1,325 mypackage.jar\r\n\r\nHowever, the Java compiler still refuses to see it.\r\n \r\nCan some *please* explain what is going on?  This is frustrating, and making no sense.  Since I come from the C/C++ world, linking to a lib is easy. Yet this package concept in Java is a confusing nightmare.\r\n\r\nThe full source files are below, not that it makes any difference, because it&#39;s the package that can&#39;t be found.\r\n\r\nThis is what is in MyFunctions.java for the package file\r\n\r\n    package com.company.functions;\r\n    public class MyFunctions {\r\n    \tpublic int SomthingToDo() {\r\n        int x = 1;\r\n        return 0;\r\n        }\r\n    }\r\n\r\nTest program that should call the function from the package.  Except fails at line 2\r\n\r\n    package TestProgram;\r\n    import com.company.functions.*; \r\n    import java.io.*;\r\n\r\n    public class Test  {\t\t\r\n        public void Run() {\r\n            m_functions = new MyFunctions();\r\n            m_functions.SomthingToDo();\r\n            System.out.println(&quot;Exiting&quot;);\r\n        }\r\n        private MyFunctions m_functions;\r\n    }\r\n\r\nFor your reading enjoyment, this is start.java, which is not significant to my issue:\r\n\r\n    package TestProgram;\r\n    public class start {\r\n        public static void main(String args[]) {\r\n            m_test = new Test();\r\n            m_test.RunScanner();\r\n        }\r\n    static private Test m_test;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"&quot;Error: Package does not exist&quot; ... Where does the JAR file belong?","body":"<p>I'm trying to import a self made package into a Java project.  I got it to work once with some test class.  So, when I tried to change it to an official, approved class name, the compiling stopped working.  I can't explain why it worked, nor why the changes made it stop working.</p>\n<p>This is super annoying.  So, I've been digging for a few days.</p>\n<p>I've search over a dozen posts here, plus many other sites, and cannot find an explanation of how this is supposed to be structured.</p>\n<p>Finally I gutted everything and put together this example that should work according to everything I've searched, but it doesn't. It is a stripped down version of something that should import my own package and call a function. Minuscule code showing what I am trying to do, and what is failing.</p>\n<p>In this minuscule example, I am building a package, as &quot;com.company.functions&quot; with a MyFunctions.java.  All of one function inside to demonstrate it.</p>\n<p>I do not have a classpath set up in my  environment.  Only a path to the JDK binaries.  I do that so I can keep control and understanding at the command line level.</p>\n<p>The &quot;package&quot; is located in folder JavaPackage. The folders are:</p>\n<pre><code>JavaPackage\\\n    com\\\n        company\\\n            functions\\  (the MyFunctions.java is here)\n    classes\\\n</code></pre>\n<p>I compile it fine.</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;javac -d classes -classpath classes com\\company\\functions\\*.java\n</code></pre>\n<p>I create the JAR file fine</p>\n<pre><code>C:\\JavaPackages\\JavaPackage&gt;jar cvf mypackage.jar  classes\\com\\company\\functions\\\nadded manifest\nadding: classes/com/company/functions/(in = 0) (out= 0)(stored 0%)\nadding: classes/com/company/functions/MyFunctions.class(in = 285) (out= 220)(deflated 22%)\n</code></pre>\n<p>I look in the JAR with 7-Zip,and everything looks fine. (I compared this 7-Zip autopsy to the package that was working, as mentioned at the beginning of this post, and the class names all line up correctly, from what I can understand.  Everything looks correct)</p>\n<p>Now, I am creating a test program.  Called, for lack of a better name, Java_Test.</p>\n<pre><code>Java_Test\\\n    TestProgram\\  (source files here)\n    classes\\\n</code></pre>\n<p>I move my jar file to Java_Test\\classes</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;dir classes\n11/11/2022  10:16 AM             1,325 mypackage.jar\n</code></pre>\n<p>I have two files in Java_Test\\TestProgram: start.java and Test.java.  Start is just the location of the static main, and it invokes the Test class.  That's not any issue.  It's the following compile failure.</p>\n<p>I attempt to compile with</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;javac -d classes -cp classes  TestProgram\\*.java\n</code></pre>\n<p>Which should specify that the output *.class files go into the folder &quot;classes&quot;, and that the class path to import things is in the (same) folder &quot;classes&quot;</p>\n<p>I get the following error</p>\n<pre><code>TestProgram\\Test.java:3: error: package com.company.functions does not exist\nimport com.company.functions.*;\n^\n</code></pre>\n<p>Well, it does exist. I can see it right there in the classes folder.</p>\n<p>Maybe it's got something to do with the JAR name.  Who knows? I can't find a good explanation of how this is supposed to work, so I even rebuilt the JAR file using the main name of the class:  &quot;functions&quot;</p>\n<p>So, now I have two JAR files of different names, but their contents are exactly the same.  I figure the compiler should find one of them.  The one it needs.</p>\n<pre><code>C:\\JavaPackages\\Java_Test&gt;dir classes\n11/11/2022  10:28 AM             1,325 functions.jar\n11/11/2022  10:16 AM             1,325 mypackage.jar\n</code></pre>\n<p>However, the Java compiler still refuses to see it.</p>\n<p>Can some <em>please</em> explain what is going on?  This is frustrating, and making no sense.  Since I come from the C/C++ world, linking to a lib is easy. Yet this package concept in Java is a confusing nightmare.</p>\n<p>The full source files are below, not that it makes any difference, because it's the package that can't be found.</p>\n<p>This is what is in MyFunctions.java for the package file</p>\n<pre><code>package com.company.functions;\npublic class MyFunctions {\n    public int SomthingToDo() {\n    int x = 1;\n    return 0;\n    }\n}\n</code></pre>\n<p>Test program that should call the function from the package.  Except fails at line 2</p>\n<pre><code>package TestProgram;\nimport com.company.functions.*; \nimport java.io.*;\n\npublic class Test  {        \n    public void Run() {\n        m_functions = new MyFunctions();\n        m_functions.SomthingToDo();\n        System.out.println(&quot;Exiting&quot;);\n    }\n    private MyFunctions m_functions;\n}\n</code></pre>\n<p>For your reading enjoyment, this is start.java, which is not significant to my issue:</p>\n<pre><code>package TestProgram;\npublic class start {\n    public static void main(String args[]) {\n        m_test = new Test();\n        m_test.RunScanner();\n    }\nstatic private Test m_test;\n}\n</code></pre>\n"},{"tags":["java","arrays","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491762047,"creation_date":1491762047,"answer_id":43310291,"question_id":43310262,"body_markdown":"All of the array you are initializing are of size 0. initialize the arrays like following.\r\n\r\n\r\n    Double[] sortedArray = new Double[array.length];","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>All of the array you are initializing are of size 0. initialize the arrays like following.</p>\n\n<pre><code>Double[] sortedArray = new Double[array.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491762360,"creation_date":1491762059,"answer_id":43310292,"question_id":43310262,"body_markdown":"Shorthand array initializers (example like `{1, 2, 3, 4}`) automatically calculate the size of the array depending upon the elements that you have placed, but you did not place any elements in `arrayOdd`, `arrayEven` arrays, so it will be of zero size.\r\n\r\nIn short, you have created **`arrayOdd`, `arrayEven` arrays with zero size** and you are trying place/access the array elements(of that 0 sized array) which is causing the `ArrayIndexOutOfBoundsException`, so you need to create the array with size as shown below:\r\n\r\n    Double[] arrayOdd = new Double[array.length];\r\n    Double[] arrayEven = new Double[array.length];\r\n    Double[] sortedArray = new Double[array.length];","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>Shorthand array initializers (example like <code>{1, 2, 3, 4}</code>) automatically calculate the size of the array depending upon the elements that you have placed, but you did not place any elements in <code>arrayOdd</code>, <code>arrayEven</code> arrays, so it will be of zero size.</p>\n\n<p>In short, you have created <strong><code>arrayOdd</code>, <code>arrayEven</code> arrays with zero size</strong> and you are trying place/access the array elements(of that 0 sized array) which is causing the <code>ArrayIndexOutOfBoundsException</code>, so you need to create the array with size as shown below:</p>\n\n<pre><code>Double[] arrayOdd = new Double[array.length];\nDouble[] arrayEven = new Double[array.length];\nDouble[] sortedArray = new Double[array.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668245090,"creation_date":1668245090,"answer_id":74411757,"question_id":43310262,"body_markdown":"I think you should try this.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\r\n\r\n        List sortingArray = SortingArray.sortItOut(array);\r\n\r\n        for (Object item : sortingArray) {\r\n            System.out.print(item);\r\n        }\r\n     }\r\n\r\n   }\r\n\r\n    class SortingArray {\r\n\r\n    public static List sortItOut(Double[] array) {\r\n\r\n        ArrayList&lt;Double&gt; arrayOdd = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Double&gt; arrayEven = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Double&gt; sortedArray = new ArrayList&lt;&gt;();\r\n\r\n\r\n        for(Double item : array){\r\n            if(item % 2 == 0){\r\n                arrayOdd.add(item);\r\n            }else{\r\n                arrayEven.add(item);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        Arrays.sort(new ArrayList[]{arrayOdd}, Collections.reverseOrder());\r\n        Arrays.sort(new ArrayList[]{arrayEven});\r\n\r\n        ArrayList list = new ArrayList(Arrays.asList(arrayOdd));\r\n        list.addAll(Arrays.asList(arrayEven));\r\n        sortedArray = list;\r\n\r\n        return sortedArray;\r\n    }\r\n\r\n}","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>I think you should try this.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\n\n    List sortingArray = SortingArray.sortItOut(array);\n\n    for (Object item : sortingArray) {\n        System.out.print(item);\n    }\n }\n</code></pre>\n<p>}</p>\n<pre><code>class SortingArray {\n\npublic static List sortItOut(Double[] array) {\n\n    ArrayList&lt;Double&gt; arrayOdd = new ArrayList&lt;&gt;();\n    ArrayList&lt;Double&gt; arrayEven = new ArrayList&lt;&gt;();\n    ArrayList&lt;Double&gt; sortedArray = new ArrayList&lt;&gt;();\n\n\n    for(Double item : array){\n        if(item % 2 == 0){\n            arrayOdd.add(item);\n        }else{\n            arrayEven.add(item);\n        }\n    }\n\n\n\n    Arrays.sort(new ArrayList[]{arrayOdd}, Collections.reverseOrder());\n    Arrays.sort(new ArrayList[]{arrayEven});\n\n    ArrayList list = new ArrayList(Arrays.asList(arrayOdd));\n    list.addAll(Arrays.asList(arrayEven));\n    sortedArray = list;\n\n    return sortedArray;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5500865,"reputation":41,"user_id":5764356,"accept_rate":43,"display_name":"Fatih Svk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668247644,"answer_count":3,"score":0,"last_activity_date":1668247729,"creation_date":1491761894,"question_id":43310262,"body_markdown":"I try to sorting a double array.An odd element should ascending order.An even element should descending.My classes is as follow.\r\nWhen I runned project I show \r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0\r\n\r\n    package com.fatih.sortarray;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class SortingArray {\r\n\r\n\tpublic static Double[] sortItOut(Double[] array) {\r\n\r\n\t\tDouble[] arrayOdd = {};\r\n\t\tDouble[] arrayEven = {};\r\n\t\tDouble[] sortedArray = {};\r\n\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\r\n\t\t\tint k = 0;\r\n\t\t\tint j = 0;\r\n\r\n\t\t\tif (array[i] % 2 == 0) {\r\n\t\t\t\tarrayOdd[k] = array[i];\r\n\t\t\t\tk++;\r\n\t\t\t} else {\r\n\t\t\t\tarrayEven[j] = array[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tArrays.sort(arrayOdd, Collections.reverseOrder());\r\n\t\tArrays.sort(arrayEven);\r\n\r\n\t\tList list = new ArrayList(Arrays.asList(arrayOdd));\r\n\t\tlist.addAll(Arrays.asList(arrayEven));\r\n\t\tsortedArray = (Double[]) list.toArray();\r\n\r\n\t\treturn sortedArray;\r\n\t}\r\n\r\n    }\r\n\r\n....\r\n    \r\n    public class SortingArrayTestt {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tDouble[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\r\n\r\n\t\tDouble[] sortingArray = SortingArray.sortItOut(array);\r\n\r\n\t\tfor (int i = 0; i &lt; sortingArray.length; i++) {\r\n\t\t\tSystem.out.print(sortingArray[i]);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n...\r\n    \r\nThe console output is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat com.fatih.sortarray.SortingArray.sortItOut(SortingArray.java:25)\r\n\tat com.fatih.sortarray.SortingArrayTestt.main(SortingArrayTestt.java:9)\r\n\r\nHow can I fix this error?\r\nThanks for everything.\r\n\r\n","title":"thread &quot;main&quot; java.lang.Array Index Out Of Bounds Exception 0","body":"<p>I try to sorting a double array.An odd element should ascending order.An even element should descending.My classes is as follow.\nWhen I runned project I show </p>\n\n<p>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0</p>\n\n<pre><code>package com.fatih.sortarray;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class SortingArray {\n\npublic static Double[] sortItOut(Double[] array) {\n\n    Double[] arrayOdd = {};\n    Double[] arrayEven = {};\n    Double[] sortedArray = {};\n\n    for (int i = 0; i &lt; array.length; i++) {\n\n        int k = 0;\n        int j = 0;\n\n        if (array[i] % 2 == 0) {\n            arrayOdd[k] = array[i];\n            k++;\n        } else {\n            arrayEven[j] = array[i];\n            j++;\n        }\n\n    }\n\n    Arrays.sort(arrayOdd, Collections.reverseOrder());\n    Arrays.sort(arrayEven);\n\n    List list = new ArrayList(Arrays.asList(arrayOdd));\n    list.addAll(Arrays.asList(arrayEven));\n    sortedArray = (Double[]) list.toArray();\n\n    return sortedArray;\n}\n\n}\n</code></pre>\n\n<p>....</p>\n\n<pre><code>public class SortingArrayTestt {\n\npublic static void main(String[] args) {\n\n    Double[] array = { 1d, 2d, 3d, 4d, 5d, 6d, 7d, 8d, 9d };\n\n    Double[] sortingArray = SortingArray.sortItOut(array);\n\n    for (int i = 0; i &lt; sortingArray.length; i++) {\n        System.out.print(sortingArray[i]);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>...</p>\n\n<p>The console output is:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 0\nat com.fatih.sortarray.SortingArray.sortItOut(SortingArray.java:25)\nat com.fatih.sortarray.SortingArrayTestt.main(SortingArrayTestt.java:9)\n</code></pre>\n\n<p>How can I fix this error?\nThanks for everything.</p>\n"},{"tags":["java","string","sorting","char","substring"],"owner":{"account_id":25039866,"reputation":1,"user_id":18896854,"display_name":"Eman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668369745,"answer_count":0,"score":-2,"last_activity_date":1668246556,"creation_date":1668205088,"question_id":74408694,"body_markdown":"So I have the string AcademiC and I want to display the letters from the middle out. The output being deamciAC I cant use any arrays or any other data collectors for this assignment because I want to understand the process. I figured out a way to do this but I need help on logic because it prints everything else but the C in the end  and d  in the beginning. Also throws up the error string out of index -1  How do I fix this?\r\n\r\nI expected to print everything but the d because I excluded it in my code. I tried what I could think of which was changing value of int i and changing indexOf value by adding one or subtracting 1 \r\n\r\n```\r\npublic class Arrange { \r\n  public  static void main(String [] args) {\r\n    String str = AcademiC;\r\n\r\n    int i = 1;\r\n\r\n  \r\n    while(condition == false) {\r\n      char  m = str.charAt(str.length() / 2 - 1);\r\n      String base = &quot;&quot;  + str.charAt(str.indexOf(m) + i) + str.charAt(str.indexOf(m) - i);\r\n      \r\n      System.out.print(base);\r\n      i++;\r\n      \r\n      if(str.length() == base.length() &amp;&amp; base.charAt(base.length()) == str.charAt(1)) {\r\n        condition = true;\r\n      }\r\n    \r\n    }\r\n  }\r\n}\r\n```","title":"Arranging a string","body":"<p>So I have the string AcademiC and I want to display the letters from the middle out. The output being deamciAC I cant use any arrays or any other data collectors for this assignment because I want to understand the process. I figured out a way to do this but I need help on logic because it prints everything else but the C in the end  and d  in the beginning. Also throws up the error string out of index -1  How do I fix this?</p>\n<p>I expected to print everything but the d because I excluded it in my code. I tried what I could think of which was changing value of int i and changing indexOf value by adding one or subtracting 1</p>\n<pre><code>public class Arrange { \n  public  static void main(String [] args) {\n    String str = AcademiC;\n\n    int i = 1;\n\n  \n    while(condition == false) {\n      char  m = str.charAt(str.length() / 2 - 1);\n      String base = &quot;&quot;  + str.charAt(str.indexOf(m) + i) + str.charAt(str.indexOf(m) - i);\n      \n      System.out.print(base);\n      i++;\n      \n      if(str.length() == base.length() &amp;&amp; base.charAt(base.length()) == str.charAt(1)) {\n        condition = true;\n      }\n    \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668185735,"creation_date":1668185735,"answer_id":74405793,"question_id":74405476,"body_markdown":"For a JSP *scriptlet* (using `&lt;% %&gt;`) you must print your output. With Java this is through `out.println()` since `out` is provided in the scriptlet context.\r\n\r\nTry the following JSP:\r\n\r\n    &lt;%\r\n    int [][] arr = {{1,2,3}, {4,5,6}, {7,8,9}};\r\n    out.println(&quot;&lt;table&gt;&quot;);\r\n    for (int[] row : arr) {\r\n        out.println(&quot;&lt;tr&gt;&quot;);\r\n        for (int val : row) {\r\n            out.println(&quot;&lt;td&gt;&quot; + val + &quot;&lt;/td&gt;&quot;);\r\n        }\r\n        out.println(&quot;&lt;/tr&gt;&quot;);\r\n    }\r\n    out.println(&quot;&lt;/table&gt;&quot;);\r\n    %&gt;\r\n\r\nIf this works for you then please accept this as the answer.","title":"Display the array on the page as an HTML table. Use output scriptlet","body":"<p>For a JSP <em>scriptlet</em> (using <code>&lt;% %&gt;</code>) you must print your output. With Java this is through <code>out.println()</code> since <code>out</code> is provided in the scriptlet context.</p>\n<p>Try the following JSP:</p>\n<pre><code>&lt;%\nint [][] arr = {{1,2,3}, {4,5,6}, {7,8,9}};\nout.println(&quot;&lt;table&gt;&quot;);\nfor (int[] row : arr) {\n    out.println(&quot;&lt;tr&gt;&quot;);\n    for (int val : row) {\n        out.println(&quot;&lt;td&gt;&quot; + val + &quot;&lt;/td&gt;&quot;);\n    }\n    out.println(&quot;&lt;/tr&gt;&quot;);\n}\nout.println(&quot;&lt;/table&gt;&quot;);\n%&gt;\n</code></pre>\n<p>If this works for you then please accept this as the answer.</p>\n"}],"owner":{"account_id":26902408,"reputation":13,"user_id":20479563,"display_name":"without name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74405793,"answer_count":1,"score":1,"last_activity_date":1668246467,"creation_date":1668184138,"question_id":74405476,"body_markdown":"java Create an array with the following content: 1 2 3 4 5 6 7 8 9 Display the array on the page as an HTML table.\r\n\r\nI did this like this:\r\n\r\n```\r\n&lt;%\r\n  int [][] Array = {{1,2,3}, {4,5,6}, {7,8,9}};\r\n  for (int i = 0; i &lt; a.length; i++) {\r\n    for (int j = 0; j &lt; a[i].length; j++)\r\n      Array &lt;%=Array[i][j]%&gt;\r\n  }\r\n%&gt;\r\n```\r\n\r\nbut it doesn&#39;t work\r\n\r\n","title":"Display the array on the page as an HTML table. Use output scriptlet","body":"<p>java Create an array with the following content: 1 2 3 4 5 6 7 8 9 Display the array on the page as an HTML table.</p>\n<p>I did this like this:</p>\n<pre><code>&lt;%\n  int [][] Array = {{1,2,3}, {4,5,6}, {7,8,9}};\n  for (int i = 0; i &lt; a.length; i++) {\n    for (int j = 0; j &lt; a[i].length; j++)\n      Array &lt;%=Array[i][j]%&gt;\n  }\n%&gt;\n</code></pre>\n<p>but it doesn't work</p>\n"},{"tags":["java","sockets","client","sslsocketfactory"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668248733,"post_id":74411742,"comment_id":131362680,"body_markdown":"You would [bind](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/Socket.html#bind(java.net.SocketAddress)) it to the [address](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/InetSocketAddress.html)","body":"You would <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/Socket.html#bind(java.net.SocketAddress)\" rel=\"nofollow noreferrer\">bind</a> it to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/net/InetSocketAddress.html\" rel=\"nofollow noreferrer\">address</a>"},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668256684,"post_id":74411742,"comment_id":131364079,"body_markdown":"Thank you for the answer but as far as I understood, binding is for servers. I need a SSLSocket acting as a client.","body":"Thank you for the answer but as far as I understood, binding is for servers. I need a SSLSocket acting as a client."},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668257052,"post_id":74411742,"comment_id":131364136,"body_markdown":"Could I use the connect() method and then startHandshake()?","body":"Could I use the connect() method and then startHandshake()?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668257170,"post_id":74411742,"comment_id":131364156,"body_markdown":"*&#39;binding is for servers&#39;* - not so.  It is perhaps less usual to bind a client TCP socket to a particular network address and even less usual to bind it to a particular TCP port, but there&#39;s nothing to stop you.","body":"<i>&#39;binding is for servers&#39;</i> - not so.  It is perhaps less usual to bind a client TCP socket to a particular network address and even less usual to bind it to a particular TCP port, but there&#39;s nothing to stop you."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1668267703,"post_id":74411742,"comment_id":131366267,"body_markdown":"There is a perfectly useful no-args call to createSocket that creates an unconnected SSLSocket, e.g. `SSLSocket sock = (SSLSocket) SSLSocketFactory.getDefault().createSocket();`.","body":"There is a perfectly useful no-args call to createSocket that creates an unconnected SSLSocket, e.g. <code>SSLSocket sock = (SSLSocket) SSLSocketFactory.getDefault().createSocket();</code>."},{"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"score":0,"creation_date":1668364287,"post_id":74411742,"comment_id":131381819,"body_markdown":"But how can I connect to a remote address and port the socket?","body":"But how can I connect to a remote address and port the socket?"}],"owner":{"account_id":16922972,"reputation":105,"user_id":12239319,"display_name":"Maurizio Cimino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668244932,"creation_date":1668244932,"question_id":74411742,"body_markdown":"Id like to create an unconnected SSLSocket (and I can using the SSLSocketFactory createSocket() method) but then I need to specify address and port to connect the socket. But, apparently theres not a way to do so. Why? So why this method exists?\r\n\r\nIt looks like it works with a Socket, you can create a Socket and then connect it toward a server, but not with a SSLSocket. The only way seems to be to use the SSLSocketFactory createSocket method passing there address and port to connect to, but if I want my socket to be unconnected at the beginning, is there a way?","title":"Address and port of unconnected SSLSocket","body":"<p>Id like to create an unconnected SSLSocket (and I can using the SSLSocketFactory createSocket() method) but then I need to specify address and port to connect the socket. But, apparently theres not a way to do so. Why? So why this method exists?</p>\n<p>It looks like it works with a Socket, you can create a Socket and then connect it toward a server, but not with a SSLSocket. The only way seems to be to use the SSLSocketFactory createSocket method passing there address and port to connect to, but if I want my socket to be unconnected at the beginning, is there a way?</p>\n"},{"tags":["java","lambda","java-stream","bigdecimal"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668165059,"post_id":74401353,"comment_id":131344860,"body_markdown":"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html Of interest are `signum()` and `new BigDecimal(&quot;76.2372&quot;)`.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html</a> Of interest are <code>signum()</code> and <code>new BigDecimal(&quot;76.2372&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668244773,"creation_date":1668212576,"answer_id":74409440,"question_id":74401353,"body_markdown":"# TL;DR\r\n\r\nThis problem can be solved by implementing a custom Linked List and representing sequences of elements from the initial list terminated by zero as separate Linked Lists.\r\n\r\n# The Core idea\r\n\r\nTo generate differences between elements with are not followed by an element having a value of zero (i.e. `new BigDecimal(&quot;0E-4&quot;)`, `new BigDecimal(&quot;0.00&quot;)` which can be translated to `double` as `0.0`) we can represent each part of the list terminated by a zero-valued element as a [*Linked List*][1]. And then we can fairly easy calculated difference between the values of Nodes in each Linked List.\r\n\r\nBut there&#39;s **caveat**: everything that you&#39;re doing with streams even if you&#39;re planing to run it sequentially should also work correctly in parallel, because one day one of your colleagues (or even you) can switch it to parallel, and the code appear to be broken.\r\n\r\nWhile executing the stream in parallel, each thread would get its portion of data to process, and then results produced by each thread should be merged. At this point, we should be able to distinguish between a Linked List terminated by a zero-valued element and a non-terminated Linked List (*its thread simply run out of elements*).\r\n\r\nTo visualize this concept, I&#39;ve named the implementation of the Linked List, a `Chain`. An attempt to add a zero-valued element into a Chain causes the Chain to be qualified as broken. If the Chain is not broken, we can append another Chain to it, even if another Chain is broken (in this case the resulting chain also becomes broken). But note that we can&#39;t append another chain to a broken chain.\r\n\r\n# Implementing a Custom Comparator\r\n\r\nSince we need to perform a lot of stateful mutating operations, the proper way to implement it with Stream API is to create a custom Collector. For that, we can make use of the static method [`Collector.of()`][2], expecting:\r\n\r\n* a `Supplier` of accumulation type, providing a mutable container;\r\n* a *consumer* which defines a logic for populating the container;\r\n* a *combiner* which tells how to merge containers while executing in parallel;\r\n* and a *finisher* function performing the final transformation.\r\n\r\nNote that it could be also implemented as generic and initialized with a `Predicate` for discarding elements and a `Function` for performing the final transformation, but to avoid complicating the code I would focus only on dialing with `BigDecimal`.\r\n\r\n    public static Collector&lt;BigDecimal, ?, List&lt;BigDecimal&gt;&gt; getDiffCollector() {\r\n        \r\n        return Collector.of(\r\n            ArrayDeque::new,\r\n            (Deque&lt;Chain&gt; chains, BigDecimal next) -&gt; {\r\n                if (chains.isEmpty() || chains.getLast().isBroken()) chains.add(new Chain());\r\n                chains.getLast().accept(next);\r\n            },\r\n            (left, right) -&gt; {\r\n                Chain merged = left.pollLast().merge(right.pollFirst()); // merging the last Chain of the left Deque and the first Chain of the right Deque\r\n                left.add(merged);\r\n                left.addAll(right);\r\n                return left;\r\n            },\r\n            deque -&gt; deque.stream()\r\n                .flatMap(chain -&gt; chain.toDifferences().stream())\r\n                .toList()\r\n        );\r\n    }\r\n\r\n# Implementing the Chain\r\n\r\nIn a nutshell, `Chain` is a Singly linked list that has inner class `Node`. For convenience, I&#39;ve implemented `Consumer` interface, and its method `accept()` appends a new Node to the tail if the offered value is not zero.\r\n\r\n    public class Chain implements Consumer&lt;BigDecimal&gt; {\r\n        private Node head;\r\n        private Node tail;\r\n        private boolean isBroken;\r\n        private boolean isInitialized;\r\n        \r\n        @Override\r\n        public void accept(BigDecimal value) {\r\n            if (value.doubleValue() == 0) {         // ignore the value, doubleValue() is used because new BigDecimal(&quot;0E-4&quot;) and new BigDecimal(&quot;0.00&quot;) are not equal to BigDecimal.ZERO\r\n                if (isInitialized) isBroken = true; // break the Chain\r\n                return;\r\n            }\r\n            Node newNode = new Node(value);\r\n            \r\n            if (!isInitialized) {      // edge-case - adding the first Node, we need initialize the head\r\n                isInitialized = true;\r\n                head = newNode;\r\n            } else {\r\n                tail.setNext(newNode); // general case - add a new Node to the tail\r\n            }\r\n            tail = newNode;            // new Node always becomes a new tail\r\n        }\r\n        \r\n        public Chain merge(Chain other) {\r\n            if (isBroken) throw new IllegalStateException(); // we can&#39;t append another Chain to a Chain that is broken\r\n            if (!isInitialized) return other;\r\n            if (!other.isInitialized) return this;\r\n            \r\n            tail.setNext(other.head);  // joining the Linked Lists\r\n            tail = other.tail;         // reassigning the tail Node\r\n            isBroken = other.isBroken; // is the next Chain was broken a merged Chain also becomes broken\r\n            return this;\r\n        }\r\n        \r\n        public List&lt;BigDecimal&gt; toDifferences() {\r\n            if (head == null) return Collections.emptyList();\r\n            \r\n            List&lt;BigDecimal&gt; result = new ArrayList&lt;&gt;();\r\n            \r\n            Node current = head;\r\n            while (current.next != null) {     // iterate over the List until we hit the tail Node\r\n                result.add(current.getDiff());\r\n                current = current.next;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public boolean isBroken() {\r\n            return isBroken;\r\n        }\r\n    \r\n        public boolean isInitialized() {\r\n            return isInitialized;\r\n        }\r\n    \r\n        private class Node {\r\n            private BigDecimal value;\r\n            private Node next;\r\n            \r\n            public Node(BigDecimal value) {\r\n                this.value = value;\r\n            }\r\n            \r\n            public BigDecimal getDiff() {\r\n                return value.subtract(next.value);\r\n            }\r\n            \r\n            public void setNext(Node next) {\r\n                this.next = next;\r\n            }\r\n        }\r\n    }\r\n\r\n# Usage example\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;BigDecimal&gt; values = List.of(\r\n            new BigDecimal(&quot;76.2372&quot;),\r\n            new BigDecimal(&quot;0E-4&quot;),\r\n            new BigDecimal(&quot;80.2318&quot;),\r\n            new BigDecimal(&quot;82.1111&quot;),\r\n            new BigDecimal(&quot;88.0937&quot;)\r\n        );\r\n\r\n        List&lt;BigDecimal&gt; differences = values.stream()\r\n            .collect(getDiffCollector());\r\n    \r\n        System.out.println(differences);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[-1.8793, -5.9826] // 80.2318 - 82.1111, 82.1111 - 88.0937\r\n```\r\n\r\n\r\n\r\n   [1]: https://en.wikipedia.org/wiki/Linked_list\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)","title":"List of BigDecimal: how to calculate absolute difference between elements not adjacent to Zero value using Java 8 Stream?","body":"<h1>TL;DR</h1>\n<p>This problem can be solved by implementing a custom Linked List and representing sequences of elements from the initial list terminated by zero as separate Linked Lists.</p>\n<h1>The Core idea</h1>\n<p>To generate differences between elements with are not followed by an element having a value of zero (i.e. <code>new BigDecimal(&quot;0E-4&quot;)</code>, <code>new BigDecimal(&quot;0.00&quot;)</code> which can be translated to <code>double</code> as <code>0.0</code>) we can represent each part of the list terminated by a zero-valued element as a <a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\"><em>Linked List</em></a>. And then we can fairly easy calculated difference between the values of Nodes in each Linked List.</p>\n<p>But there's <strong>caveat</strong>: everything that you're doing with streams even if you're planing to run it sequentially should also work correctly in parallel, because one day one of your colleagues (or even you) can switch it to parallel, and the code appear to be broken.</p>\n<p>While executing the stream in parallel, each thread would get its portion of data to process, and then results produced by each thread should be merged. At this point, we should be able to distinguish between a Linked List terminated by a zero-valued element and a non-terminated Linked List (<em>its thread simply run out of elements</em>).</p>\n<p>To visualize this concept, I've named the implementation of the Linked List, a <code>Chain</code>. An attempt to add a zero-valued element into a Chain causes the Chain to be qualified as broken. If the Chain is not broken, we can append another Chain to it, even if another Chain is broken (in this case the resulting chain also becomes broken). But note that we can't append another chain to a broken chain.</p>\n<h1>Implementing a Custom Comparator</h1>\n<p>Since we need to perform a lot of stateful mutating operations, the proper way to implement it with Stream API is to create a custom Collector. For that, we can make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>, expecting:</p>\n<ul>\n<li>a <code>Supplier</code> of accumulation type, providing a mutable container;</li>\n<li>a <em>consumer</em> which defines a logic for populating the container;</li>\n<li>a <em>combiner</em> which tells how to merge containers while executing in parallel;</li>\n<li>and a <em>finisher</em> function performing the final transformation.</li>\n</ul>\n<p>Note that it could be also implemented as generic and initialized with a <code>Predicate</code> for discarding elements and a <code>Function</code> for performing the final transformation, but to avoid complicating the code I would focus only on dialing with <code>BigDecimal</code>.</p>\n<pre><code>public static Collector&lt;BigDecimal, ?, List&lt;BigDecimal&gt;&gt; getDiffCollector() {\n    \n    return Collector.of(\n        ArrayDeque::new,\n        (Deque&lt;Chain&gt; chains, BigDecimal next) -&gt; {\n            if (chains.isEmpty() || chains.getLast().isBroken()) chains.add(new Chain());\n            chains.getLast().accept(next);\n        },\n        (left, right) -&gt; {\n            Chain merged = left.pollLast().merge(right.pollFirst()); // merging the last Chain of the left Deque and the first Chain of the right Deque\n            left.add(merged);\n            left.addAll(right);\n            return left;\n        },\n        deque -&gt; deque.stream()\n            .flatMap(chain -&gt; chain.toDifferences().stream())\n            .toList()\n    );\n}\n</code></pre>\n<h1>Implementing the Chain</h1>\n<p>In a nutshell, <code>Chain</code> is a Singly linked list that has inner class <code>Node</code>. For convenience, I've implemented <code>Consumer</code> interface, and its method <code>accept()</code> appends a new Node to the tail if the offered value is not zero.</p>\n<pre><code>public class Chain implements Consumer&lt;BigDecimal&gt; {\n    private Node head;\n    private Node tail;\n    private boolean isBroken;\n    private boolean isInitialized;\n    \n    @Override\n    public void accept(BigDecimal value) {\n        if (value.doubleValue() == 0) {         // ignore the value, doubleValue() is used because new BigDecimal(&quot;0E-4&quot;) and new BigDecimal(&quot;0.00&quot;) are not equal to BigDecimal.ZERO\n            if (isInitialized) isBroken = true; // break the Chain\n            return;\n        }\n        Node newNode = new Node(value);\n        \n        if (!isInitialized) {      // edge-case - adding the first Node, we need initialize the head\n            isInitialized = true;\n            head = newNode;\n        } else {\n            tail.setNext(newNode); // general case - add a new Node to the tail\n        }\n        tail = newNode;            // new Node always becomes a new tail\n    }\n    \n    public Chain merge(Chain other) {\n        if (isBroken) throw new IllegalStateException(); // we can't append another Chain to a Chain that is broken\n        if (!isInitialized) return other;\n        if (!other.isInitialized) return this;\n        \n        tail.setNext(other.head);  // joining the Linked Lists\n        tail = other.tail;         // reassigning the tail Node\n        isBroken = other.isBroken; // is the next Chain was broken a merged Chain also becomes broken\n        return this;\n    }\n    \n    public List&lt;BigDecimal&gt; toDifferences() {\n        if (head == null) return Collections.emptyList();\n        \n        List&lt;BigDecimal&gt; result = new ArrayList&lt;&gt;();\n        \n        Node current = head;\n        while (current.next != null) {     // iterate over the List until we hit the tail Node\n            result.add(current.getDiff());\n            current = current.next;\n        }\n        return result;\n    }\n\n    public boolean isBroken() {\n        return isBroken;\n    }\n\n    public boolean isInitialized() {\n        return isInitialized;\n    }\n\n    private class Node {\n        private BigDecimal value;\n        private Node next;\n        \n        public Node(BigDecimal value) {\n            this.value = value;\n        }\n        \n        public BigDecimal getDiff() {\n            return value.subtract(next.value);\n        }\n        \n        public void setNext(Node next) {\n            this.next = next;\n        }\n    }\n}\n</code></pre>\n<h1>Usage example</h1>\n<pre><code>public static void main(String[] args) {\n    List&lt;BigDecimal&gt; values = List.of(\n        new BigDecimal(&quot;76.2372&quot;),\n        new BigDecimal(&quot;0E-4&quot;),\n        new BigDecimal(&quot;80.2318&quot;),\n        new BigDecimal(&quot;82.1111&quot;),\n        new BigDecimal(&quot;88.0937&quot;)\n    );\n\n    List&lt;BigDecimal&gt; differences = values.stream()\n        .collect(getDiffCollector());\n\n    System.out.println(differences);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[-1.8793, -5.9826] // 80.2318 - 82.1111, 82.1111 - 88.0937\n</code></pre>\n"}],"owner":{"account_id":15546910,"reputation":391,"user_id":11215814,"display_name":"OutOfMemoryError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74409440,"answer_count":1,"score":0,"last_activity_date":1668244773,"creation_date":1668163564,"question_id":74401353,"body_markdown":"I have a list of `BigDecimal` that could be as elements:\r\n\r\n    1 = &quot;76.2372&quot;\r\n    2 = &quot;0E-4&quot;\r\n    3 = &quot;80.2318&quot;\r\n    4 = &quot;82.1111&quot;\r\n    5 = &quot;88.0937&quot;\r\n\r\nI would like to calculate the absolute difference between elements not next to Zero value, in this example difference between `3 and 4`, `4 and 5`.\r\n\r\nExpected result should be also of type `List&lt;BigDecimal&gt;`.\r\n\r\nOf course, the value of Zero could be in any position and I should keep calculating couples of values not adjacent to Zero.\r\n","title":"List of BigDecimal: how to calculate absolute difference between elements not adjacent to Zero value using Java 8 Stream?","body":"<p>I have a list of <code>BigDecimal</code> that could be as elements:</p>\n<pre><code>1 = &quot;76.2372&quot;\n2 = &quot;0E-4&quot;\n3 = &quot;80.2318&quot;\n4 = &quot;82.1111&quot;\n5 = &quot;88.0937&quot;\n</code></pre>\n<p>I would like to calculate the absolute difference between elements not next to Zero value, in this example difference between <code>3 and 4</code>, <code>4 and 5</code>.</p>\n<p>Expected result should be also of type <code>List&lt;BigDecimal&gt;</code>.</p>\n<p>Of course, the value of Zero could be in any position and I should keep calculating couples of values not adjacent to Zero.</p>\n"},{"tags":["java","generics","overloading","type-erasure"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1314343232,"creation_date":1314343232,"answer_id":7201299,"question_id":7201231,"body_markdown":"I think your best option is to simply name the method differently.\r\n\r\n    public void clawBackFinReqs(Collection&lt;FinanceRequest&gt; financeRequestList) {\r\n\r\n    }\r\n\r\n    public void clawBackComTrans(Collection&lt;CommissionTrns&gt; commissionTrnsList) {\r\n\r\n    }\r\n\r\n\r\nIn fact, it&#39;s not too bad, since you don&#39;t get anything extra out of having the same name on them.\r\n\r\nKeep in mind, that the JVM will **not** decide which method to call at runtime. As opposed to virtual methods / method **overriding** resolution of overloaded methods are done at compile time. The Java Tutorials on [method overloading](http://download.oracle.com/javase/tutorial/java/javaOO/methods.html) even points out that *&quot;Overloaded methods should be used sparingly...&quot;*.","title":"Java erasure with generic overloading (not overriding)","body":"<p>I think your best option is to simply name the method differently.</p>\n\n<pre><code>public void clawBackFinReqs(Collection&lt;FinanceRequest&gt; financeRequestList) {\n\n}\n\npublic void clawBackComTrans(Collection&lt;CommissionTrns&gt; commissionTrnsList) {\n\n}\n</code></pre>\n\n<p>In fact, it's not too bad, since you don't get anything extra out of having the same name on them.</p>\n\n<p>Keep in mind, that the JVM will <strong>not</strong> decide which method to call at runtime. As opposed to virtual methods / method <strong>overriding</strong> resolution of overloaded methods are done at compile time. The Java Tutorials on <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"noreferrer\">method overloading</a> even points out that <em>\"Overloaded methods should be used sparingly...\"</em>.</p>\n"},{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1314343566,"creation_date":1314343566,"answer_id":7201347,"question_id":7201231,"body_markdown":"Either rename the methods, or use polymorphism: use an interface, and then either put the clawback code in the objects themselves, or use double-dispatch (depending on your design paradigm and taste).\r\n\r\nWith code in objects that would be:\r\n\r\n    public interface Clawbackable{\r\n        void clawBack()\r\n    }\r\n    \r\n    \r\n    public class CommissionFacade\r\n    {\r\n    \r\n        public &lt;T extends Clawbackable&gt; void clawBack(Collection&lt;T&gt; objects)\r\n        {\r\n            for(T object: objects) \r\n            {\r\n                object.clawBack();\r\n            }           \r\n        }\r\n    }\r\n    \r\n    public class CommissionTrns implements Clawbackable {\r\n    \r\n        public void clawback(){\r\n           // do clawback for commissions\r\n        }\r\n    }\r\n    \r\n    public class FinanceRequest implements Clawbackable {\r\n    \r\n        public void clawBack(){\r\n          // do clwaback for FinanceRequest\r\n        }\r\n    \r\n    }\r\n\r\nI prefer this approach, since I&#39;m of the belief your domain should contain your logic; but I&#39;m not fully aware of your exact wishes, so I&#39;ll leave it up to you.\r\n\r\nWith a double dispatch, you would pass the &quot;ClawbackHandler&quot; to the clawback method, and on the handler call the appropriate method depending on the type.\r\n\r\n","title":"Java erasure with generic overloading (not overriding)","body":"<p>Either rename the methods, or use polymorphism: use an interface, and then either put the clawback code in the objects themselves, or use double-dispatch (depending on your design paradigm and taste).</p>\n\n<p>With code in objects that would be:</p>\n\n<pre><code>public interface Clawbackable{\n    void clawBack()\n}\n\n\npublic class CommissionFacade\n{\n\n    public &lt;T extends Clawbackable&gt; void clawBack(Collection&lt;T&gt; objects)\n    {\n        for(T object: objects) \n        {\n            object.clawBack();\n        }           \n    }\n}\n\npublic class CommissionTrns implements Clawbackable {\n\n    public void clawback(){\n       // do clawback for commissions\n    }\n}\n\npublic class FinanceRequest implements Clawbackable {\n\n    public void clawBack(){\n      // do clwaback for FinanceRequest\n    }\n\n}\n</code></pre>\n\n<p>I prefer this approach, since I'm of the belief your domain should contain your logic; but I'm not fully aware of your exact wishes, so I'll leave it up to you.</p>\n\n<p>With a double dispatch, you would pass the \"ClawbackHandler\" to the clawback method, and on the handler call the appropriate method depending on the type.</p>\n"},{"tags":[],"owner":{"account_id":19413575,"reputation":381,"user_id":14197561,"display_name":"Aleksandr Baklanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668243730,"creation_date":1668243730,"answer_id":74411632,"question_id":7201231,"body_markdown":"Here is a trick with overloading by the second [varargs][1] parameter for the `CommissionFacade` class from the question:\r\n\r\n    public class CommissionFacade {\r\n        public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList, FinanceRequestType ...ignore) {\r\n            // code          \r\n        }\r\n    \r\n        public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList, CommissionTrnsType ...ignore) {\r\n            // code\r\n        }\r\n    \r\n        /*******TYPES TO TRICK TYPE ERASURE*******/\r\n        private static class FinanceRequestType {}\r\n        private static class CommissionTrnsType {}\r\n    }\r\n\r\nThe code snippet to fast-check this trick works:\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    class HelloType {\r\n        public static void main(String[] args) {\r\n            method(new ArrayList&lt;Integer&gt;());\r\n            method(new ArrayList&lt;Double&gt;());\r\n        }\r\n        \r\n        static void method(ArrayList&lt;Integer&gt; ints, IntegerType ...ignore) {\r\n            System.out.println(&quot;Hello, Integer!&quot;);\r\n        }\r\n        \r\n        static void method(ArrayList&lt;Double&gt; dbs, DoubleType ...ignore) {\r\n            System.out.println(&quot;Hello, Double!&quot;);\r\n        }\r\n        \r\n        static class IntegerType {}\r\n        static class DoubleType {}\r\n    }\r\n\r\n \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html","title":"Java erasure with generic overloading (not overriding)","body":"<p>Here is a trick with overloading by the second <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a> parameter for the <code>CommissionFacade</code> class from the question:</p>\n<pre><code>public class CommissionFacade {\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList, FinanceRequestType ...ignore) {\n        // code          \n    }\n\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList, CommissionTrnsType ...ignore) {\n        // code\n    }\n\n    /*******TYPES TO TRICK TYPE ERASURE*******/\n    private static class FinanceRequestType {}\n    private static class CommissionTrnsType {}\n}\n</code></pre>\n<p>The code snippet to fast-check this trick works:</p>\n<pre><code>import java.util.ArrayList;\n\nclass HelloType {\n    public static void main(String[] args) {\n        method(new ArrayList&lt;Integer&gt;());\n        method(new ArrayList&lt;Double&gt;());\n    }\n    \n    static void method(ArrayList&lt;Integer&gt; ints, IntegerType ...ignore) {\n        System.out.println(&quot;Hello, Integer!&quot;);\n    }\n    \n    static void method(ArrayList&lt;Double&gt; dbs, DoubleType ...ignore) {\n        System.out.println(&quot;Hello, Double!&quot;);\n    }\n    \n    static class IntegerType {}\n    static class DoubleType {}\n}\n</code></pre>\n"}],"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15675,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":7201347,"answer_count":3,"score":21,"last_activity_date":1668243730,"creation_date":1314342785,"question_id":7201231,"body_markdown":"I have FinanceRequests and CommisionTransactions in my domain.\r\nIf I have a list of FinanceRequests each FinanceRequest could contain multiple CommisionTransactions that need to be clawed back. Dont worry how exactly that is done.\r\n\r\nThe class below (very bottom) makes me feel all fuzzy and warm since its succint and reuses existing code nicely. One problem Type erasure.\r\n\r\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)  \r\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\r\n\r\nThey both have the same signature after erasure, ie:  \r\n\r\n    Collection&lt;FinanceRequest&gt; --&gt; Collection&lt;Object&gt;  \r\n    Collection&lt;CommissionTrns&gt; --&gt; Collection&lt;Object&gt;  \r\n\r\nSo eclipse complainst that:  \r\nMethod clawBack(Collection&lt;CommissionTrns&gt;) has the same erasure clawBack(Collection&lt;E&gt;) as another method in type CommissionFacade\r\n\r\nAny suggestions to restructure this so that it still an elegant solution that makes good code reuse?\r\n\r\n--------------\r\n\r\n    public class CommissionFacade\r\n    {\r\n    \t/********FINANCE REQUESTS****************/\r\n        public void clawBack(FinanceRequest financeRequest)\r\n        {\r\n    \t\tCollection&lt;CommissionTrns&gt; commTrnsList = financeRequest.getCommissionTrnsList();\t\t\t\r\n    \t\tthis.clawBack(commTrnsList);\r\n        }\r\n    \t\r\n    \tpublic void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)\r\n    \t{\r\n    \t\tfor(FinanceRequest finReq : financeRequestList) \r\n    \t\t{\r\n    \t\t\tthis.clawBack(finReq);\r\n    \t\t}\t\t\t\r\n    \t}\r\n    \t\r\n        /********COMMISSION TRANSACTIOS****************/\r\n        public void clawBack(CommissionTrns commissionTrns)\r\n    \t{\r\n    \t\t//Do clawback for single CommissionTrns    \t\t\r\n    \t}\r\n        \r\n        public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\r\n    \t{\r\n    \t\tfor(CommissionTrns commTrn : commissionTrnsList) \r\n    \t\t{\r\n    \t\t\tthis.clawBack(commTrn);\r\n    \t\t}\r\n    \t}\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"Java erasure with generic overloading (not overriding)","body":"<p>I have FinanceRequests and CommisionTransactions in my domain.\nIf I have a list of FinanceRequests each FinanceRequest could contain multiple CommisionTransactions that need to be clawed back. Dont worry how exactly that is done.</p>\n\n<p>The class below (very bottom) makes me feel all fuzzy and warm since its succint and reuses existing code nicely. One problem Type erasure.</p>\n\n<pre><code>public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)  \npublic void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\n</code></pre>\n\n<p>They both have the same signature after erasure, ie:  </p>\n\n<pre><code>Collection&lt;FinanceRequest&gt; --&gt; Collection&lt;Object&gt;  \nCollection&lt;CommissionTrns&gt; --&gt; Collection&lt;Object&gt;  \n</code></pre>\n\n<p>So eclipse complainst that:<br>\nMethod clawBack(Collection) has the same erasure clawBack(Collection) as another method in type CommissionFacade</p>\n\n<p>Any suggestions to restructure this so that it still an elegant solution that makes good code reuse?</p>\n\n<hr>\n\n<pre><code>public class CommissionFacade\n{\n    /********FINANCE REQUESTS****************/\n    public void clawBack(FinanceRequest financeRequest)\n    {\n        Collection&lt;CommissionTrns&gt; commTrnsList = financeRequest.getCommissionTrnsList();           \n        this.clawBack(commTrnsList);\n    }\n\n    public void clawBack(Collection&lt;FinanceRequest&gt; financeRequestList)\n    {\n        for(FinanceRequest finReq : financeRequestList) \n        {\n            this.clawBack(finReq);\n        }           \n    }\n\n    /********COMMISSION TRANSACTIOS****************/\n    public void clawBack(CommissionTrns commissionTrns)\n    {\n        //Do clawback for single CommissionTrns         \n    }\n\n    public void clawBack(Collection&lt;CommissionTrns&gt; commissionTrnsList)\n    {\n        for(CommissionTrns commTrn : commissionTrnsList) \n        {\n            this.clawBack(commTrn);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","glassfish","paypal-sandbox"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668243578,"creation_date":1668241494,"answer_id":74411424,"question_id":74410934,"body_markdown":"First of all, this is due to a webapp misconfiguration.  You need to read that link and take the action recommended to get properly functioning logging.\r\n\r\n    Severe: SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    Severe: SLF4J: Defaulting to no-operation (NOP) logger implementation \r\n    Severe: SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nThen these come from different editions of Java 8 \r\n\r\n    java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\r\n    java.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\r\nThe `HelloExtension` and `SSLExtension` classes are internal classes with the former replaced by the latter.\r\n\r\nBut note that the `NoClassDefFoundError` exceptions probably don&#39;t mean that the class is missing.  They probably mean that the classes static initialization failed ... or that a class that the class depends on failed static initialization.\r\n\r\nI would have expected there to be **other stacktraces** that correspond to the initialization failure.   Maybe they are missing because of the logging config problem.\r\n\r\n-------------------------\r\n\r\nIt is not clear what the actual problem is, but it looks like something is failing during initialization of the SSL code.  One possibility is that there is a problem with your SSL settings.  \r\n\r\nMy advice:\r\n\r\n1.  First fix the logging problem.\r\n2.  Next use the latest version of Java 8.  The chance that using an out-of-date Java 8 release will help is almost precisely zero.\r\n3.  Check any SSL settings that you are using in your web container.\r\n4.  Look for *other* stacktraces that explain *why* the following is happened:\r\n\r\n         Could not initialize class sun.security.ssl.SSLExtension","title":"java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension","body":"<p>First of all, this is due to a webapp misconfiguration.  You need to read that link and take the action recommended to get properly functioning logging.</p>\n<pre><code>Severe: SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSevere: SLF4J: Defaulting to no-operation (NOP) logger implementation \nSevere: SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>Then these come from different editions of Java 8</p>\n<pre><code>java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\n</code></pre>\n<p>The <code>HelloExtension</code> and <code>SSLExtension</code> classes are internal classes with the former replaced by the latter.</p>\n<p>But note that the <code>NoClassDefFoundError</code> exceptions probably don't mean that the class is missing.  They probably mean that the classes static initialization failed ... or that a class that the class depends on failed static initialization.</p>\n<p>I would have expected there to be <strong>other stacktraces</strong> that correspond to the initialization failure.   Maybe they are missing because of the logging config problem.</p>\n<hr />\n<p>It is not clear what the actual problem is, but it looks like something is failing during initialization of the SSL code.  One possibility is that there is a problem with your SSL settings.</p>\n<p>My advice:</p>\n<ol>\n<li><p>First fix the logging problem.</p>\n</li>\n<li><p>Next use the latest version of Java 8.  The chance that using an out-of-date Java 8 release will help is almost precisely zero.</p>\n</li>\n<li><p>Check any SSL settings that you are using in your web container.</p>\n</li>\n<li><p>Look for <em>other</em> stacktraces that explain <em>why</em> the following is happened:</p>\n<pre><code> Could not initialize class sun.security.ssl.SSLExtension\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26239832,"reputation":13,"user_id":19914311,"display_name":"user19914311"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668243578,"creation_date":1668235790,"question_id":74410934,"body_markdown":"I&#39;m currently working on a project which integrates PayPal payment into Java Maven web application using **NetBeans 8.2, jdk 1.8.0_311, and glassfish 5.0**.\r\n\r\nThere are **two **files, \r\n\r\n**checkout.jsp :**\r\n\r\n```\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Check Out&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;\r\n            table { border: 0; }\r\n            table td { padding: 10px; }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div align=&quot;center&quot;&gt;\r\n            &lt;h1&gt;Check Out&lt;/h1&gt;\r\n            &lt;br/&gt;\r\n            &lt;form action=&quot;./authorize_payment&quot; method=&quot;post&quot;&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Product/Service:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;product&quot; value=&quot;Next iPhone&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Sub Total:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subtotal&quot; value=&quot;100&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Shipping:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;shipping&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;    \r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Tax:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;tax&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;    \r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Total Amount:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;total&quot; value=&quot;120&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;\r\n                        &lt;input type=&quot;submit&quot; value=&quot;Checkout&quot; /&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n   &lt;/html&gt;\r\n\r\n```\r\n\r\nand \r\n**authorize_payment.java (servlet):**\r\n\r\n\r\n```\r\n\r\n```\r\n    package net.codejava.mavenproject1;\r\n \r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.*;\r\n \r\n    import com.paypal.base.rest.PayPalRESTException;\r\n \r\n    @WebServlet(&quot;/authorize_payment&quot;)\r\n    public class authorize_payment extends HttpServlet {\r\n    private static final long serialVersionUID = 1L;\r\n \r\n    public authorize_payment() {\r\n    }\r\n \r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String product = request.getParameter(&quot;product&quot;);\r\n        String subtotal = request.getParameter(&quot;subtotal&quot;);\r\n        String shipping = request.getParameter(&quot;shipping&quot;);\r\n        String tax = request.getParameter(&quot;tax&quot;);\r\n        String total = request.getParameter(&quot;total&quot;);\r\n         \r\n        OrderDetail orderDetail = new OrderDetail(product, subtotal, shipping, tax, total);\r\n \r\n        try {\r\n            PaymentServices paymentServices = new PaymentServices();\r\n            String approvalLink = paymentServices.authorizePayment(orderDetail);\r\n \r\n            response.sendRedirect(approvalLink);\r\n             \r\n        } catch (PayPalRESTException ex) {\r\n            request.setAttribute(&quot;errorMessage&quot;, ex.getMessage());\r\n            ex.printStackTrace();\r\n            request.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\r\n        }\r\n    }\r\n \r\n    }\r\n```\r\n\r\n```\r\n\r\nWhen I clicked the &quot;checkout&quot; button on checkout.jsp, it showed : \r\n\r\n**exception**\r\n\r\njavax.servlet.ServletException: The HTTP Monitor server side component intercepted and rethrew an error while processing a JSP or servlet. Please see the stack trace under the root cause message below to identify the problem.\r\n\r\n**root cause**\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\r\n**Full Stack Traces**\r\n\r\n\r\nSevere:   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSevere:   SLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSevere:   SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\r\njava.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\r\n\tat sun.security.ssl.SSLExtension.&lt;clinit&gt;(SSLExtension.java:225)\r\n\tat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\r\n\tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\r\n\tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\r\n\tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\r\n\tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\r\n\tat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\r\n\tat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\r\n\tat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\r\n\tat com.paypal.api.payments.Payment.create(Payment.java:149)\r\n\tat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\r\n\tat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\r\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\r\n\tat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\r\n\tat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\r\n\tat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\r\n\tat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\r\n\tat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\r\n\tat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\r\n\tat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\r\n\tat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\r\n\tat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\r\n\tat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\r\n\tat com.paypal.api.payments.Payment.create(Payment.java:149)\r\n\tat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\r\n\tat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\nI&#39;ve tried to downgrade the jdk version to **jdk1.8.0_151, jdk1.8.0_181, jdk1.8.0_221, and jdk1.8.0_291**, but I still got the same error.\r\nI&#39;ve also tried to run the program using **glassfish server 5.1** but still no luck.\r\nI&#39;ve also tried the to **remove sun file in the grizzly-npn-bootstrap.jar** as suggested in [this post](https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found), but unfortunately it didn&#39;t work.\r\n\r\nI&#39;m hoping someone can help me in identifying what the problem is, as I&#39;ve been trying to solve it for nearly a week and it&#39;s driving me insane.","title":"java.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension","body":"<p>I'm currently working on a project which integrates PayPal payment into Java Maven web application using <strong>NetBeans 8.2, jdk 1.8.0_311, and glassfish 5.0</strong>.</p>\n<p>There are **two **files,</p>\n<p><strong>checkout.jsp :</strong></p>\n<pre><code>    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Check Out&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;\n            table { border: 0; }\n            table td { padding: 10px; }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div align=&quot;center&quot;&gt;\n            &lt;h1&gt;Check Out&lt;/h1&gt;\n            &lt;br/&gt;\n            &lt;form action=&quot;./authorize_payment&quot; method=&quot;post&quot;&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Product/Service:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;product&quot; value=&quot;Next iPhone&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Sub Total:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;subtotal&quot; value=&quot;100&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Shipping:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;shipping&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;    \n                &lt;tr&gt;\n                    &lt;td&gt;Tax:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;tax&quot; value=&quot;10&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;    \n                &lt;tr&gt;\n                    &lt;td&gt;Total Amount:&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;total&quot; value=&quot;120&quot; /&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;\n                        &lt;input type=&quot;submit&quot; value=&quot;Checkout&quot; /&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n   &lt;/html&gt;\n\n</code></pre>\n<p>and\n<strong>authorize_payment.java (servlet):</strong></p>\n<pre><code>\n</code></pre>\n<pre><code>package net.codejava.mavenproject1;\n\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.*;\n\nimport com.paypal.base.rest.PayPalRESTException;\n\n@WebServlet(&quot;/authorize_payment&quot;)\npublic class authorize_payment extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\npublic authorize_payment() {\n}\n\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    String product = request.getParameter(&quot;product&quot;);\n    String subtotal = request.getParameter(&quot;subtotal&quot;);\n    String shipping = request.getParameter(&quot;shipping&quot;);\n    String tax = request.getParameter(&quot;tax&quot;);\n    String total = request.getParameter(&quot;total&quot;);\n     \n    OrderDetail orderDetail = new OrderDetail(product, subtotal, shipping, tax, total);\n\n    try {\n        PaymentServices paymentServices = new PaymentServices();\n        String approvalLink = paymentServices.authorizePayment(orderDetail);\n\n        response.sendRedirect(approvalLink);\n         \n    } catch (PayPalRESTException ex) {\n        request.setAttribute(&quot;errorMessage&quot;, ex.getMessage());\n        ex.printStackTrace();\n        request.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\n    }\n}\n\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>When I clicked the &quot;checkout&quot; button on checkout.jsp, it showed :</p>\n<p><strong>exception</strong></p>\n<p>javax.servlet.ServletException: The HTTP Monitor server side component intercepted and rethrew an error while processing a JSP or servlet. Please see the stack trace under the root cause message below to identify the problem.</p>\n<p><strong>root cause</strong></p>\n<p>java.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension</p>\n<p><strong>Full Stack Traces</strong></p>\n<p>Severe:   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSevere:   SLF4J: Defaulting to no-operation (NOP) logger implementation\nSevere:   SLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nWarning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\njava.lang.NoClassDefFoundError: sun/security/ssl/HelloExtension\nat sun.security.ssl.SSLExtension.(SSLExtension.java:225)\nat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\nat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\nat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\nat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\nat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\nat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\nat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\nat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\nat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\nat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\nat com.paypal.api.payments.Payment.create(Payment.java:149)\nat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\nat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>Warning:   StandardWrapperValve[net.codejava.mavenproject1.authorize_payment]: Servlet.service() for servlet net.codejava.mavenproject1.authorize_payment threw exception\njava.lang.NoClassDefFoundError: Could not initialize class sun.security.ssl.SSLExtension\nat sun.security.ssl.SSLConfiguration.getEnabledExtensions(SSLConfiguration.java:380)\nat sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:562)\nat sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:509)\nat sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:115)\nat sun.security.ssl.TransportContext.kickstart(TransportContext.java:250)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:394)\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:373)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\nat com.paypal.base.HttpConnection.executeWithStream(HttpConnection.java:111)\nat com.paypal.base.HttpConnection.execute(HttpConnection.java:65)\nat com.paypal.base.rest.OAuthTokenCredential.generateAccessToken(OAuthTokenCredential.java:383)\nat com.paypal.base.rest.OAuthTokenCredential.getAccessToken(OAuthTokenCredential.java:230)\nat com.paypal.base.rest.APIContext.fetchAccessToken(APIContext.java:303)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:282)\nat com.paypal.base.rest.PayPalResource.configureAndExecute(PayPalResource.java:228)\nat com.paypal.api.payments.Payment.create(Payment.java:149)\nat net.codejava.mavenproject1.PaymentServices.authorizePayment(PaymentServices.java:35)\nat net.codejava.mavenproject1.authorize_payment.doPost(authorize_payment.java:29)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1540)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:297)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:167)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:215)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:119)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:611)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:550)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:75)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:114)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:332)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:199)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:439)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:515)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>I've tried to downgrade the jdk version to <strong>jdk1.8.0_151, jdk1.8.0_181, jdk1.8.0_221, and jdk1.8.0_291</strong>, but I still got the same error.\nI've also tried to run the program using <strong>glassfish server 5.1</strong> but still no luck.\nI've also tried the to <strong>remove sun file in the grizzly-npn-bootstrap.jar</strong> as suggested in <a href=\"https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found\">this post</a>, but unfortunately it didn't work.</p>\n<p>I'm hoping someone can help me in identifying what the problem is, as I've been trying to solve it for nearly a week and it's driving me insane.</p>\n"},{"tags":["java","cryptography"],"answers":[{"tags":[],"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354467984,"creation_date":1354467984,"answer_id":13671583,"question_id":13671487,"body_markdown":"The below code may help you\r\n\r\n    CertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\r\n    X509CertSelector certSelector = new X509CertSelector();\r\n    certSelector.setCertificate((X509Certificate) myKeyStore.getCertificate(&quot;mykey&quot;));\r\n    PKIXBuilderParameters cpp = new PKIXBuilderParameters(trustAnchors, certSelector);\r\n    cpp.addCertStore(cs);\r\n    cpp.setRevocationEnabled(true);\r\n    cpp.setMaxPathLength(6);\r\n    cpp.setDate(new Date());\r\n    \r\n    CertPathBuilderResult a = cpb.build(cpp);\r\n    CertPath certPath = a.getCertPath();","title":"Generate x509certificate certpath in JAVA","body":"<p>The below code may help you</p>\n\n<pre><code>CertPathBuilder cpb = CertPathBuilder.getInstance(\"PKIX\");\nX509CertSelector certSelector = new X509CertSelector();\ncertSelector.setCertificate((X509Certificate) myKeyStore.getCertificate(\"mykey\"));\nPKIXBuilderParameters cpp = new PKIXBuilderParameters(trustAnchors, certSelector);\ncpp.addCertStore(cs);\ncpp.setRevocationEnabled(true);\ncpp.setMaxPathLength(6);\ncpp.setDate(new Date());\n\nCertPathBuilderResult a = cpb.build(cpp);\nCertPath certPath = a.getCertPath();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7143977,"reputation":61,"user_id":5460448,"display_name":"zhezha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668242634,"creation_date":1668242634,"answer_id":74411524,"question_id":13671487,"body_markdown":"CSR reply is normally signed by intermediate CA, hence the cert chain is incomplete missing root CA. Suppose you have all the root CA certs in the collection `trustCerts`, and the cert array `certChain` from CSR reply.\r\n\r\nTo build complete cert chain, firstly, add all the root CA certs to `trustAnchors`.\r\n\r\n```Java\r\nSet&lt;TrustAnchor&gt; trustAnchors = new HashSet&lt;&gt;();\r\ntrustAnchors.addAll(trustCerts.stream.map(cert -&gt; new TrustAnchors(cert, null)).toList());\r\n```\r\n\r\nThen configure `CertSelector` with the targeting end certificate.\r\n```Java\r\nX509CertSelector selector = new X509CertSelector();\r\nselector.setCertificate(certChain[0]);\r\n```\r\n\r\nCreate build parameters. Disable revocation check if not using it.\r\n```Java\r\nPKIXBuilderParameters parameters = new PKIXBuilderParameters(trustAnchors, selector);\r\nparameters.setRevocationEnabled(false);\r\n```\r\n\r\nAdd intermediate CA certs into build parameters. Since `certChain` contains both intermediate CA and end certificate, just add it to parameter.\r\n```Java\r\nCertStore intermediate = CertStore.getInstance(&quot;Collection&quot;, new CollectionCertStoreParameters(Arrays.asList(certChain)));\r\nparameters.addCertStore(intermediate);\r\n```\r\n\r\nInstantiate builder instance and build path\r\n```Java\r\nCertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\r\nPKIXCertPathBuilderResult cpbResult = (PKIXCertPathBuilderResult) cpb.build(parameters);\r\nCertPath cp = cpbResult.getCertPath();\r\nList&lt;X509Certificate&gt; completeCertChain = (List&lt;X509Certificate&gt;) cp.getCertificates();\r\n```","title":"Generate x509certificate certpath in JAVA","body":"<p>CSR reply is normally signed by intermediate CA, hence the cert chain is incomplete missing root CA. Suppose you have all the root CA certs in the collection <code>trustCerts</code>, and the cert array <code>certChain</code> from CSR reply.</p>\n<p>To build complete cert chain, firstly, add all the root CA certs to <code>trustAnchors</code>.</p>\n<pre><code>Set&lt;TrustAnchor&gt; trustAnchors = new HashSet&lt;&gt;();\ntrustAnchors.addAll(trustCerts.stream.map(cert -&gt; new TrustAnchors(cert, null)).toList());\n</code></pre>\n<p>Then configure <code>CertSelector</code> with the targeting end certificate.</p>\n<pre><code>X509CertSelector selector = new X509CertSelector();\nselector.setCertificate(certChain[0]);\n</code></pre>\n<p>Create build parameters. Disable revocation check if not using it.</p>\n<pre><code>PKIXBuilderParameters parameters = new PKIXBuilderParameters(trustAnchors, selector);\nparameters.setRevocationEnabled(false);\n</code></pre>\n<p>Add intermediate CA certs into build parameters. Since <code>certChain</code> contains both intermediate CA and end certificate, just add it to parameter.</p>\n<pre><code>CertStore intermediate = CertStore.getInstance(&quot;Collection&quot;, new CollectionCertStoreParameters(Arrays.asList(certChain)));\nparameters.addCertStore(intermediate);\n</code></pre>\n<p>Instantiate builder instance and build path</p>\n<pre><code>CertPathBuilder cpb = CertPathBuilder.getInstance(&quot;PKIX&quot;);\nPKIXCertPathBuilderResult cpbResult = (PKIXCertPathBuilderResult) cpb.build(parameters);\nCertPath cp = cpbResult.getCertPath();\nList&lt;X509Certificate&gt; completeCertChain = (List&lt;X509Certificate&gt;) cp.getCertificates();\n</code></pre>\n"}],"owner":{"account_id":1425867,"reputation":622,"user_id":1349407,"accept_rate":76,"display_name":"user1349407"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2180,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":13671583,"answer_count":2,"score":2,"last_activity_date":1668242634,"creation_date":1354467463,"question_id":13671487,"body_markdown":"I successfully make X.509 certificate from certificate request.\r\n\r\nHowever, I need to insert CERT Path informatin in the X.509 certificate.\r\n\r\nI know that I have to use CertPathBuilder method but I don&#39;t know how to use it.\r\n\r\ncould you give me an code example that suitable for the following code?\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileWriter;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.math.BigInteger;\r\n    import java.security.KeyPair;\r\n    import java.security.SecureRandom;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Date;\r\n    import java.util.Enumeration;\r\n    import org.bouncycastle.asn1.ASN1Set;\r\n    import org.bouncycastle.asn1.DERObjectIdentifier;\r\n    import org.bouncycastle.asn1.pkcs.Attribute;\r\n    import org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers;\r\n    import org.bouncycastle.asn1.x509.BasicConstraints;\r\n    import org.bouncycastle.asn1.x509.ExtendedKeyUsage;\r\n    import org.bouncycastle.asn1.x509.KeyPurposeId;\r\n    import org.bouncycastle.asn1.x509.KeyUsage;\r\n    import org.bouncycastle.asn1.x509.X509Extension;\r\n    import org.bouncycastle.asn1.x509.X509Extensions;\r\n    import org.bouncycastle.jce.PKCS10CertificationRequest;\r\n    import org.bouncycastle.openssl.PEMReader;\r\n    import org.bouncycastle.openssl.PEMWriter;\r\n    import org.bouncycastle.x509.X509V3CertificateGenerator;\r\n    import org.bouncycastle.x509.extension.AuthorityKeyIdentifierStructure;\r\n    import org.bouncycastle.x509.extension.SubjectKeyIdentifierStructure;\r\n    import chapter6.X509V1CreateExample;\r\n\r\n\r\n    //example of a basic CA\r\n    public class PKCS10CertCreateExample\r\n    {\r\n    \tpublic static X509Certificate[] buildChain() throws Exception\r\n    \t{\r\n    \t\t\r\n    \t\tPEMReader pRd = new PEMReader(\r\n    \t\t\t\t     new InputStreamReader(\r\n    \t\t\t\t         new FileInputStream(&quot;pkcs10.req&quot;)));\r\n    \t\t\r\n    \t\tPKCS10CertificationRequest request = (PKCS10CertificationRequest)pRd.readObject();\r\n    \t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n    \t\t//create a root certificate\r\n    \t\tKeyPair rootPair=chapter6.Utils.generateRSAKeyPair();\r\n\t\tX509Certificate rootCert = X509V1CreateExample.generateV1Certificate(rootPair);\r\n\t\t\t\t\r\n\t\t//validate the certification request\r\n\t\tif(!request.verify(&quot;BC&quot;))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;request failed to verify!&quot;);\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\t\r\n\t\t//create the certificate using the information in the request\r\n\t\tX509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\r\n\t\t\r\n\t\tcertGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\r\n\t\tcertGen.setIssuerDN(rootCert.getSubjectX500Principal());\r\n\t\tcertGen.setNotBefore(new Date(System.currentTimeMillis()));\r\n\t\tcertGen.setNotAfter(new Date(System.currentTimeMillis()+50000));\r\n\t\tcertGen.setSubjectDN(request.getCertificationRequestInfo().getSubject());\r\n\t\tcertGen.setPublicKey(request.getPublicKey(&quot;BC&quot;));\r\n\t\tcertGen.setSignatureAlgorithm(&quot;SHA256WithRSAEncryption&quot;);\r\n\t\t\r\n\t\tcertGen.addExtension(X509Extensions.AuthorityKeyIdentifier, false, new AuthorityKeyIdentifierStructure(rootCert));\r\n\t\tcertGen.addExtension(X509Extensions.SubjectKeyIdentifier, false, new SubjectKeyIdentifierStructure(request.getPublicKey(&quot;BC&quot;)));\r\n\t\tcertGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\r\n\t\t//certGen.addExtension(X509Extensions.KeyUsage, true, new BasicConstraints(false));\r\n\t\tcertGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\r\n\t\tcertGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\r\n\t\t\r\n\t\t//extract the extension request attribute\r\n\t\tASN1Set attributes = request.getCertificationRequestInfo().getAttributes();\r\n\t\t\r\n\t\tfor(int i=0;i!=attributes.size();i++)\r\n\t\t{\r\n\t\t   Attribute attr = Attribute.getInstance(attributes.getObjectAt(i));\r\n\t\t   \r\n\t\t   //process extension request\r\n\t\t   if(attr.getAttrType().equals(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest))\r\n\t\t   {\r\n\t\t\t\t   X509Extensions extensions = X509Extensions.getInstance(attr.getAttrValues().getObjectAt(0));\r\n\t\t\t\t   \r\n\t\t\t\t   Enumeration&lt;?&gt; e = extensions.oids();\r\n\t\t\t\t   while(e.hasMoreElements())\r\n\t\t\t\t   {\r\n\t\t\t\t\t   DERObjectIdentifier oid = (DERObjectIdentifier)e.nextElement();\r\n\t\t\t\t\t   X509Extension ext = extensions.getExtension(oid);\r\n\t\t\t\t\t   \r\n\t\t\t\t\t   certGen.addExtension(oid, ext.isCritical(), ext.getValue().getOctets());\r\n\t\t\t\t   }   \r\n\t\t\t   }\t   \r\n\t\t   }\r\n\t\tX509Certificate issuedCert = certGen.generateX509Certificate(rootPair.getPrivate());\r\n\t    return new X509Certificate[]{issuedCert, rootCert};\r\n\t\t}\r\n\t\t\r\n\t    public static void pemEncodeToFile(String filename, Object obj, char[] password) throws Exception{\r\n\t\tPEMWriter pw = new PEMWriter(new FileWriter(filename));\r\n\t\t   if (password != null &amp;&amp; password.length &gt; 0) {\r\n\t\t\t   pw.writeObject(obj, &quot;DESEDE&quot;, password, new SecureRandom());\r\n\t\t   } else {\r\n\t\t\t   pw.writeObject(obj);\r\n\t\t   }\r\n\t\t   pw.flush();\r\n\t\t   pw.close();\r\n    \t}\r\n\t    \r\n  \t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tX509Certificate[] chain = buildChain();\r\n\t\t\tPEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\r\n\t\t\tpemWrt.writeObject(chain[0]);\r\n\t\t\tpemEncodeToFile(&quot;pkcs10.pem&quot;, chain[0], null);\r\n\t\t\tpemWrt.close();\r\n\r\n\t\t}\r\n\t\t   \r\n\t}\r\n","title":"Generate x509certificate certpath in JAVA","body":"<p>I successfully make X.509 certificate from certificate request.</p>\n\n<p>However, I need to insert CERT Path informatin in the X.509 certificate.</p>\n\n<p>I know that I have to use CertPathBuilder method but I don't know how to use it.</p>\n\n<p>could you give me an code example that suitable for the following code?</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileWriter;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.math.BigInteger;\nimport java.security.KeyPair;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport java.util.Date;\nimport java.util.Enumeration;\nimport org.bouncycastle.asn1.ASN1Set;\nimport org.bouncycastle.asn1.DERObjectIdentifier;\nimport org.bouncycastle.asn1.pkcs.Attribute;\nimport org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers;\nimport org.bouncycastle.asn1.x509.BasicConstraints;\nimport org.bouncycastle.asn1.x509.ExtendedKeyUsage;\nimport org.bouncycastle.asn1.x509.KeyPurposeId;\nimport org.bouncycastle.asn1.x509.KeyUsage;\nimport org.bouncycastle.asn1.x509.X509Extension;\nimport org.bouncycastle.asn1.x509.X509Extensions;\nimport org.bouncycastle.jce.PKCS10CertificationRequest;\nimport org.bouncycastle.openssl.PEMReader;\nimport org.bouncycastle.openssl.PEMWriter;\nimport org.bouncycastle.x509.X509V3CertificateGenerator;\nimport org.bouncycastle.x509.extension.AuthorityKeyIdentifierStructure;\nimport org.bouncycastle.x509.extension.SubjectKeyIdentifierStructure;\nimport chapter6.X509V1CreateExample;\n\n\n//example of a basic CA\npublic class PKCS10CertCreateExample\n{\n    public static X509Certificate[] buildChain() throws Exception\n    {\n\n        PEMReader pRd = new PEMReader(\n                     new InputStreamReader(\n                         new FileInputStream(\"pkcs10.req\")));\n\n        PKCS10CertificationRequest request = (PKCS10CertificationRequest)pRd.readObject();\n\n\n\n\n\n        //create a root certificate\n        KeyPair rootPair=chapter6.Utils.generateRSAKeyPair();\n    X509Certificate rootCert = X509V1CreateExample.generateV1Certificate(rootPair);\n\n    //validate the certification request\n    if(!request.verify(\"BC\"))\n    {\n        System.out.println(\"request failed to verify!\");\n        System.exit(1);\n    }\n\n    //create the certificate using the information in the request\n    X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();\n\n    certGen.setSerialNumber(BigInteger.valueOf(System.currentTimeMillis()));\n    certGen.setIssuerDN(rootCert.getSubjectX500Principal());\n    certGen.setNotBefore(new Date(System.currentTimeMillis()));\n    certGen.setNotAfter(new Date(System.currentTimeMillis()+50000));\n    certGen.setSubjectDN(request.getCertificationRequestInfo().getSubject());\n    certGen.setPublicKey(request.getPublicKey(\"BC\"));\n    certGen.setSignatureAlgorithm(\"SHA256WithRSAEncryption\");\n\n    certGen.addExtension(X509Extensions.AuthorityKeyIdentifier, false, new AuthorityKeyIdentifierStructure(rootCert));\n    certGen.addExtension(X509Extensions.SubjectKeyIdentifier, false, new SubjectKeyIdentifierStructure(request.getPublicKey(\"BC\")));\n    certGen.addExtension(X509Extensions.BasicConstraints, true, new BasicConstraints(false));\n    //certGen.addExtension(X509Extensions.KeyUsage, true, new BasicConstraints(false));\n    certGen.addExtension(X509Extensions.KeyUsage, true, new KeyUsage(KeyUsage.digitalSignature | KeyUsage.keyEncipherment));\n    certGen.addExtension(X509Extensions.ExtendedKeyUsage, true, new ExtendedKeyUsage(KeyPurposeId.id_kp_serverAuth));\n\n    //extract the extension request attribute\n    ASN1Set attributes = request.getCertificationRequestInfo().getAttributes();\n\n    for(int i=0;i!=attributes.size();i++)\n    {\n       Attribute attr = Attribute.getInstance(attributes.getObjectAt(i));\n\n       //process extension request\n       if(attr.getAttrType().equals(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest))\n       {\n               X509Extensions extensions = X509Extensions.getInstance(attr.getAttrValues().getObjectAt(0));\n\n               Enumeration&lt;?&gt; e = extensions.oids();\n               while(e.hasMoreElements())\n               {\n                   DERObjectIdentifier oid = (DERObjectIdentifier)e.nextElement();\n                   X509Extension ext = extensions.getExtension(oid);\n\n                   certGen.addExtension(oid, ext.isCritical(), ext.getValue().getOctets());\n               }   \n           }       \n       }\n    X509Certificate issuedCert = certGen.generateX509Certificate(rootPair.getPrivate());\n    return new X509Certificate[]{issuedCert, rootCert};\n    }\n\n    public static void pemEncodeToFile(String filename, Object obj, char[] password) throws Exception{\n    PEMWriter pw = new PEMWriter(new FileWriter(filename));\n       if (password != null &amp;&amp; password.length &gt; 0) {\n           pw.writeObject(obj, \"DESEDE\", password, new SecureRandom());\n       } else {\n           pw.writeObject(obj);\n       }\n       pw.flush();\n       pw.close();\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        X509Certificate[] chain = buildChain();\n        PEMWriter pemWrt = new PEMWriter(new OutputStreamWriter(System.out));\n        pemWrt.writeObject(chain[0]);\n        pemEncodeToFile(\"pkcs10.pem\", chain[0], null);\n        pemWrt.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668244079,"post_id":74411505,"comment_id":131361960,"body_markdown":"check the &quot;Project &quot;Structure&quot; in IDEA, it should have some setting for the &quot;Compiler Output&quot; (or similar, usually not an IDEA user myself)","body":"check the &quot;Project &quot;Structure&quot; in IDEA, it should have some setting for the &quot;Compiler Output&quot; (or similar, usually not an IDEA user myself)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668248905,"post_id":74411505,"comment_id":131362707,"body_markdown":"I don&#39;t use it either but am going to take a wild guess that the &#39;bin files&#39; are created when you compile the source and none has been compiled yet","body":"I don&#39;t use it either but am going to take a wild guess that the &#39;bin files&#39; are created when you compile the source and none has been compiled yet"},{"owner":{"account_id":139677,"reputation":1799,"user_id":345427,"accept_rate":88,"display_name":"phreed"},"score":1,"creation_date":1668441120,"post_id":74411505,"comment_id":131399657,"body_markdown":"Are you referring to generated files, dependencies, something else?\nIt is not clear which window is being displayed.","body":"Are you referring to generated files, dependencies, something else? It is not clear which window is being displayed."},{"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"score":0,"creation_date":1668573209,"post_id":74411505,"comment_id":131435931,"body_markdown":"Hi @phreed,  It has not compiled yet. and I have to refer this bin files to add as a path.","body":"Hi @phreed,  It has not compiled yet. and I have to refer this bin files to add as a path."}],"owner":{"account_id":25872845,"reputation":23,"user_id":19603435,"display_name":"Arunprashath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668242410,"creation_date":1668242410,"question_id":74411505,"body_markdown":"I could not able to find bin files in my Intellij project, How can I add them ? Can anyone help me ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZEQqn.png","title":"Not able to find &#39;bin&#39; files in IntelliJ IDE Project","body":"<p>I could not able to find bin files in my Intellij project, How can I add them ? Can anyone help me ?</p>\n<p><a href=\"https://i.stack.imgur.com/ZEQqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZEQqn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","android-layout"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1668241981,"post_id":74411383,"comment_id":131361667,"body_markdown":"I did some Googling for this.  It seems that this message is a &quot;analyzer warning&quot; that doesn&#39;t prevent your code from trying to run, and your code may run fine even if you&#39;re getting this warning.  Does this track with your experience?  Is your code able to run?  Is it giving the right result?  If so, then you might want/need to just figure out a way to suppress the warning.","body":"I did some Googling for this.  It seems that this message is a &quot;analyzer warning&quot; that doesn&#39;t prevent your code from trying to run, and your code may run fine even if you&#39;re getting this warning.  Does this track with your experience?  Is your code able to run?  Is it giving the right result?  If so, then you might want/need to just figure out a way to suppress the warning."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668242355,"creation_date":1668242355,"answer_id":74411501,"question_id":74411383,"body_markdown":"It is an Android lint warning, not an error. Some options:\r\n\r\n 1. Suppress the warning with e.g. `@SuppressLint(&quot;Range&quot;)`\r\n\r\n 2. Use `getColumnIndexOrThrow()` instead of `getColumnIndex()`. The first throws an exception on missing columns, the latter returns -1.\r\n\r\n 3. Move the `getColumnIndex()` outside of the `get...()` call and store the index to a variable. That prevents lint from seeing the issue; you can also check for `&gt;= 0` yourself and act accordingly.","title":"How to solve this error Value must be  0 but `getColumnIndex` can be -1","body":"<p>It is an Android lint warning, not an error. Some options:</p>\n<ol>\n<li><p>Suppress the warning with e.g. <code>@SuppressLint(&quot;Range&quot;)</code></p>\n</li>\n<li><p>Use <code>getColumnIndexOrThrow()</code> instead of <code>getColumnIndex()</code>. The first throws an exception on missing columns, the latter returns -1.</p>\n</li>\n<li><p>Move the <code>getColumnIndex()</code> outside of the <code>get...()</code> call and store the index to a variable. That prevents lint from seeing the issue; you can also check for <code>&gt;= 0</code> yourself and act accordingly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19447379,"reputation":11,"user_id":14224557,"display_name":"Black_Devil007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668242355,"creation_date":1668241093,"question_id":74411383,"body_markdown":"error comes in this code\r\n\r\n    String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n    \r\n    String phoneNo=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))\r\n\r\n\r\n```\r\nprivate ArrayList getAllPhoneContacts(){\r\n    ArrayList&lt;String&gt; phoneList = new ArrayList&lt;&gt;();\r\n    ContentResolver contentResolver = getContentResolver();\r\n    Cursor cursor = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);\r\n    if ((cursor !=null ? cursor.getCount() : 0) &gt; 0){\r\n        while(cursor.moveToNext()){\r\n            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n  \r\n            if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0){\r\n                Cursor phoneCursor = contentResolver.query(\r\n                        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                        null,\r\n                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n                        new String[]{id},null);\r\n                while(phoneCursor.moveToNext()){\r\n                    String phoneNo = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                    phoneList.add(phoneNo);\r\n                }\r\n                phoneCursor.close();\r\n            }\r\n        }\r\n    }\r\n    if (cursor !=null){\r\n        cursor.close();\r\n    }\r\n    return phoneList;\r\n}\r\n```\r\n\r\n","title":"How to solve this error Value must be  0 but `getColumnIndex` can be -1","body":"<p>error comes in this code</p>\n<pre><code>String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n\nString phoneNo=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER))\n</code></pre>\n<pre><code>private ArrayList getAllPhoneContacts(){\n    ArrayList&lt;String&gt; phoneList = new ArrayList&lt;&gt;();\n    ContentResolver contentResolver = getContentResolver();\n    Cursor cursor = contentResolver.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);\n    if ((cursor !=null ? cursor.getCount() : 0) &gt; 0){\n        while(cursor.moveToNext()){\n            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n  \n            if (cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) &gt; 0){\n                Cursor phoneCursor = contentResolver.query(\n                        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                        null,\n                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n                        new String[]{id},null);\n                while(phoneCursor.moveToNext()){\n                    String phoneNo = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                    phoneList.add(phoneNo);\n                }\n                phoneCursor.close();\n            }\n        }\n    }\n    if (cursor !=null){\n        cursor.close();\n    }\n    return phoneList;\n}\n</code></pre>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1668153299,"post_id":74399481,"comment_id":131341005,"body_markdown":"`HashMap.containsKey()` is O(1)","body":"<code>HashMap.containsKey()</code> is O(1)"}],"answers":[{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668153840,"creation_date":1668153378,"answer_id":74399518,"question_id":74399481,"body_markdown":"It actually depends on which implementation of the map is being used on your code.Suppose, for HashMap implementaion, it is **O(1)**, but for TreeMap implementaion it **O(log(N))**. For details, you can see these:\r\n\r\n[https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations][1]\r\n\r\n[https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-][2]\r\n\r\nSo, if you use HashMap, then time complexity is **O(N^2)**, and if you use TreeMap, it will be **O(N^2)(log(N))** in your case.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-","title":"What is the time complexity of this bit of pseudocode","body":"<p>It actually depends on which implementation of the map is being used on your code.Suppose, for HashMap implementaion, it is <strong>O(1)</strong>, but for TreeMap implementaion it <strong>O(log(N))</strong>. For details, you can see these:</p>\n<p><a href=\"https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\">Big-O summary for Java Collections Framework implementations?</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#containsKey-java.lang.Object-</a></p>\n<p>So, if you use HashMap, then time complexity is <strong>O(N^2)</strong>, and if you use TreeMap, it will be <strong>O(N^2)(log(N))</strong> in your case.</p>\n"}],"owner":{"account_id":26898163,"reputation":1,"user_id":20475752,"display_name":"Rattla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668241881,"creation_date":1668153162,"question_id":74399481,"body_markdown":"    for loop {\r\n        initialize new hashmap \r\n        for loop {\r\n            if (hashmap.containsKey(i)\r\n                 map.put(something)\r\n        }\r\n    }\r\n\r\nbasically 2 nested for loops with a containsKey function inside it.\r\n\r\nim thinking its O(n^2) because of the nested loops but it could also be O(n^3) because of the containsKey function. could someone help me out here?","title":"What is the time complexity of this bit of pseudocode","body":"<pre><code>for loop {\n    initialize new hashmap \n    for loop {\n        if (hashmap.containsKey(i)\n             map.put(something)\n    }\n}\n</code></pre>\n<p>basically 2 nested for loops with a containsKey function inside it.</p>\n<p>im thinking its O(n^2) because of the nested loops but it could also be O(n^3) because of the containsKey function. could someone help me out here?</p>\n"},{"tags":["java","amazon-web-services","aws-java-sdk-2.x","aws-java-sdk-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":14101577,"reputation":9535,"user_id":10186808,"display_name":"Balu Vyamajala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613434500,"creation_date":1613354476,"answer_id":66201920,"question_id":66200980,"body_markdown":"Primary key &gt;&gt; Partition + HashKey \r\n\r\n[GetItem][1] is used to get one item by primary key.\r\n\r\n[BatchGetItem][2] is used to get multiple items from multiple tables using multiple primary keys. so, we need to pass list of Partition &amp; HashKey\r\n\r\nWe can never do a getItem or batchGetItem with partial key i.e just Partition Key.\r\n\r\nTo fetch items just by partition key, we must use [query][3] api, which returns maximum of 1 MB of data. To fetch all the records with a particular partition key, we can paginate by calling query api multiple times with exclusiveStartKey\r\n\r\n`.exclusiveStartKey(exclusiveStartKey)` helps us to start after a particular record.\r\n\r\n`.limit(10)` usually set to a reasonable number that doesn&#39;t exceed total size beyond 1 MB. if no of items is not a concern, we can exclude this.\r\n\r\n`response.lastEvaluatedKey()` capture this from the response to be used for next query.\r\n\r\n\tpublic static Map&lt;String, AttributeValue&gt; queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName,\r\n\t\t\tString partitionKeyVal, Map&lt;String, AttributeValue&gt; exclusiveStartKey) {\r\n\r\n\t\tMap&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\r\n\r\n\t\tHashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;String, AttributeValue&gt;();\r\n\t\tattrValues.put(&quot;:&quot; + partitionKeyName, AttributeValue.builder().s(partitionKeyVal).build());\r\n\t\tQueryRequest queryReq = QueryRequest.builder().tableName(tableName).exclusiveStartKey(exclusiveStartKey)\r\n\t\t\t\t.keyConditionExpression(partitionKeyName + &quot; = :&quot; + partitionKeyName)\r\n\t\t\t\t.expressionAttributeValues(attrValues).limit(10).build();\r\n\r\n\t\ttry {\r\n\t\t\tQueryResponse response = ddb.query(queryReq);\r\n\t\t\tlastEvaluatedKey = response.lastEvaluatedKey();\r\n\t\t} catch (DynamoDbException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t\treturn lastEvaluatedKey;\r\n\t}\r\n\r\nsample test on table `test` with `pk` as partition key for value `1` \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tRegion region = Region.US_EAST_1;\r\n\t\tDynamoDbClient ddb = DynamoDbClient.builder().region(region).build();\r\n\r\n\t\tMap&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\r\n\t\t// Loop until we don&#39;t get lastEvaluatedKey \r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;---------DynamoDb Query with Exclusive Start Key------------&quot; + lastEvaluatedKey);\r\n\t\t\tlastEvaluatedKey = queryTable(ddb, &quot;test&quot;, &quot;pk&quot;, &quot;1&quot;, lastEvaluatedKey);\r\n\t\t} while (lastEvaluatedKey != null &amp;&amp; !lastEvaluatedKey.isEmpty());\r\n\r\n\t\tddb.close();\r\n\t}\r\n\r\n\r\n  [1]: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/get-item.html\r\n  [2]: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/batch-get-item.html\r\n  [3]: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p>Primary key &gt;&gt; Partition + HashKey</p>\n<p><a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/get-item.html\" rel=\"nofollow noreferrer\">GetItem</a> is used to get one item by primary key.</p>\n<p><a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/dynamodb/batch-get-item.html\" rel=\"nofollow noreferrer\">BatchGetItem</a> is used to get multiple items from multiple tables using multiple primary keys. so, we need to pass list of Partition &amp; HashKey</p>\n<p>We can never do a getItem or batchGetItem with partial key i.e just Partition Key.</p>\n<p>To fetch items just by partition key, we must use <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html\" rel=\"nofollow noreferrer\">query</a> api, which returns maximum of 1 MB of data. To fetch all the records with a particular partition key, we can paginate by calling query api multiple times with exclusiveStartKey</p>\n<p><code>.exclusiveStartKey(exclusiveStartKey)</code> helps us to start after a particular record.</p>\n<p><code>.limit(10)</code> usually set to a reasonable number that doesn't exceed total size beyond 1 MB. if no of items is not a concern, we can exclude this.</p>\n<p><code>response.lastEvaluatedKey()</code> capture this from the response to be used for next query.</p>\n<pre><code>public static Map&lt;String, AttributeValue&gt; queryTable(DynamoDbClient ddb, String tableName, String partitionKeyName,\n        String partitionKeyVal, Map&lt;String, AttributeValue&gt; exclusiveStartKey) {\n\n    Map&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\n\n    HashMap&lt;String, AttributeValue&gt; attrValues = new HashMap&lt;String, AttributeValue&gt;();\n    attrValues.put(&quot;:&quot; + partitionKeyName, AttributeValue.builder().s(partitionKeyVal).build());\n    QueryRequest queryReq = QueryRequest.builder().tableName(tableName).exclusiveStartKey(exclusiveStartKey)\n            .keyConditionExpression(partitionKeyName + &quot; = :&quot; + partitionKeyName)\n            .expressionAttributeValues(attrValues).limit(10).build();\n\n    try {\n        QueryResponse response = ddb.query(queryReq);\n        lastEvaluatedKey = response.lastEvaluatedKey();\n    } catch (DynamoDbException e) {\n        System.err.println(e.getMessage());\n        System.exit(1);\n    }\n    return lastEvaluatedKey;\n}\n</code></pre>\n<p>sample test on table <code>test</code> with <code>pk</code> as partition key for value <code>1</code></p>\n<pre><code>public static void main(String[] args) {\n\n    Region region = Region.US_EAST_1;\n    DynamoDbClient ddb = DynamoDbClient.builder().region(region).build();\n\n    Map&lt;String, AttributeValue&gt; lastEvaluatedKey = null;\n    // Loop until we don't get lastEvaluatedKey \n    do {\n        System.out.println(&quot;---------DynamoDb Query with Exclusive Start Key------------&quot; + lastEvaluatedKey);\n        lastEvaluatedKey = queryTable(ddb, &quot;test&quot;, &quot;pk&quot;, &quot;1&quot;, lastEvaluatedKey);\n    } while (lastEvaluatedKey != null &amp;&amp; !lastEvaluatedKey.isEmpty());\n\n    ddb.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400796,"reputation":1,"user_id":1329619,"display_name":"Bill Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668241132,"creation_date":1667946545,"answer_id":74367854,"question_id":66200980,"body_markdown":"The accepted answer above is partially wrong (at least as of v2 of the Java SDK), you can do a batch get item with only a primary key. \r\n\r\nUnfortunately, the code I have is proprietary therefore I can&#39;t share it but just look at the Javadocs around batch get item. \r\n\r\nFor example: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html\r\n","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p>The accepted answer above is partially wrong (at least as of v2 of the Java SDK), you can do a batch get item with only a primary key.</p>\n<p>Unfortunately, the code I have is proprietary therefore I can't share it but just look at the Javadocs around batch get item.</p>\n<p>For example: <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemResponse.html</a></p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66201920,"answer_count":2,"score":1,"last_activity_date":1668241132,"creation_date":1613343982,"question_id":66200980,"body_markdown":"**How can more than 100 items from a dynamodb table, matching a particular partition key, be queried using aws java sdk 2?**\r\n\r\nIf the number of rows that match a hash key [exceeds 100 then the batchGetItemPaginator method][1] needs to be used.  This method accepts a [`BatchGetItemRequest`][2] which requires a [`KeysAndAttributes`][3].\r\n\r\nWhen I construct a KeysAndAttributes with just a hash key, but not a sort key, I get the following exception\r\n\r\n&gt; DynamoDbException: The provided key element does not match the schema\r\n\r\nHowever, if I provide a sort key in the KeysAndAttributes then the batchGetItemPaginator method works fine.\r\n\r\nSo how can a BatchGetItemRequest be constructed with **just** a primary key (no sort key)?\r\n\r\nNote: my question is not a duplicate of [this question][4].  That other question does not involve the required pagination if the number of rows exceeds 100.\r\n\r\nThank you in advance for your consideration and response.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#batchGetItemPaginator-software.amazon.awssdk.services.dynamodb.model.BatchGetItemRequest-\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemRequest.html\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/KeysAndAttributes.Builder.html#keys-java.util.Collection-\r\n  [4]: https://stackoverflow.com/questions/30969594/query-all-items-in-dynamodb-from-a-given-hash-key-with-a-hash-range-schema-using","title":"Query More Than 100 DynamoDB Items that match a Partition Key using Java SDK 2?","body":"<p><strong>How can more than 100 items from a dynamodb table, matching a particular partition key, be queried using aws java sdk 2?</strong></p>\n<p>If the number of rows that match a hash key <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/DynamoDbClient.html#batchGetItemPaginator-software.amazon.awssdk.services.dynamodb.model.BatchGetItemRequest-\" rel=\"nofollow noreferrer\">exceeds 100 then the batchGetItemPaginator method</a> needs to be used.  This method accepts a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/BatchGetItemRequest.html\" rel=\"nofollow noreferrer\"><code>BatchGetItemRequest</code></a> which requires a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/dynamodb/model/KeysAndAttributes.Builder.html#keys-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>KeysAndAttributes</code></a>.</p>\n<p>When I construct a KeysAndAttributes with just a hash key, but not a sort key, I get the following exception</p>\n<blockquote>\n<p>DynamoDbException: The provided key element does not match the schema</p>\n</blockquote>\n<p>However, if I provide a sort key in the KeysAndAttributes then the batchGetItemPaginator method works fine.</p>\n<p>So how can a BatchGetItemRequest be constructed with <strong>just</strong> a primary key (no sort key)?</p>\n<p>Note: my question is not a duplicate of <a href=\"https://stackoverflow.com/questions/30969594/query-all-items-in-dynamodb-from-a-given-hash-key-with-a-hash-range-schema-using\">this question</a>.  That other question does not involve the required pagination if the number of rows exceeds 100.</p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","loops","input","while-loop"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668217301,"creation_date":1668217301,"answer_id":74409772,"question_id":74409162,"body_markdown":"Try this.\r\n\r\n        System.out.print(&quot;tell me first number: &quot;);\r\n        while (!scan.hasNextInt()) scan.next();\r\n        num1 = scan.nextInt();\r\n        System.out.print(&quot;tell me second number: &quot;);\r\n        while (!scan.hasNextInt()) scan.next();\r\n        num2 = scan.nextInt();\r\n","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<p>Try this.</p>\n<pre><code>    System.out.print(&quot;tell me first number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num1 = scan.nextInt();\n    System.out.print(&quot;tell me second number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num2 = scan.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26905083,"reputation":3,"user_id":20481566,"display_name":"spinandspin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668240725,"creation_date":1668240725,"answer_id":74411340,"question_id":74409162,"body_markdown":"\r\n``` java\r\n    System.out.print(&quot;tell me first number: &quot;);\r\n    while (!scan.hasNextInt()) scan.next();\r\n    num1 = scan.nextInt();\r\n    System.out.print(&quot;tell me second number: &quot;);\r\n    while (!scan.hasNextInt()) scan.next();\r\n    num2 = scan.nextInt();\r\n```\r\nWith this, wrong answer was looping till i got correct input, but I could not get it to print me &quot;**Wrong Input! Try again!:** &quot; with wrong input without starting to loop infinitely, so i tried to edit and came up with this.\r\n\r\n  ``` java\r\n //////////////////first number////////////////////\t\r\n    \tSystem.out.print(&quot;tell me first number: &quot;);\r\n    \t\twhile(!scan.hasNextInt()) { \r\n    \t\t\tSystem.out.print(&quot;Wrong Input! Try again!: &quot;); scan.next();\t\t\t\r\n    \t\t\t\tif(scan.hasNextInt() == true) {\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t\t\tnum1 = scan.nextInt();\r\n    //////////////////second number///////////////////\t\r\n    \tSystem.out.print(&quot;tell me second number: &quot;);\r\n    \t\twhile(!scan.hasNextInt()) {\r\n    \t\t\tSystem.out.print(&quot;Wrong input! Try again!: &quot;); scan.next();\r\n    \t\t\t\tif(scan.hasNextInt() == true) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\tnum2 = scan.nextInt();\r\n```\r\nSomehow it helped lol.\r\nThanks @ for help. ","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<pre class=\"lang-java prettyprint-override\"><code>    System.out.print(&quot;tell me first number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num1 = scan.nextInt();\n    System.out.print(&quot;tell me second number: &quot;);\n    while (!scan.hasNextInt()) scan.next();\n    num2 = scan.nextInt();\n</code></pre>\n<p>With this, wrong answer was looping till i got correct input, but I could not get it to print me &quot;<strong>Wrong Input! Try again!:</strong> &quot; with wrong input without starting to loop infinitely, so i tried to edit and came up with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//////////////////first number//////////////////// \n      System.out.print(&quot;tell me first number: &quot;);\n          while(!scan.hasNextInt()) { \n              System.out.print(&quot;Wrong Input! Try again!: &quot;); scan.next();         \n                  if(scan.hasNextInt() == true) {\n              }\n          }   \n              num1 = scan.nextInt();\n  //////////////////second number///////////////////  \n      System.out.print(&quot;tell me second number: &quot;);\n          while(!scan.hasNextInt()) {\n              System.out.print(&quot;Wrong input! Try again!: &quot;); scan.next();\n                  if(scan.hasNextInt() == true) {\n              }\n          }\n              num2 = scan.nextInt();\n</code></pre>\n<p>Somehow it helped lol.\nThanks @ for help.</p>\n"}],"owner":{"account_id":26905083,"reputation":3,"user_id":20481566,"display_name":"spinandspin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74409772,"answer_count":2,"score":0,"last_activity_date":1668240725,"creation_date":1668209179,"question_id":74409162,"body_markdown":"Somehow I got operator looping till I get correct input. When i try to put num1 or num2 in &quot;if&quot; statement, It says that I cannot convert &quot;int&quot; to &quot;boolean&quot;. Please help\r\n\r\n```java\r\npublic class main {\r\n\r\npublic static void main(String[] args) {\r\n\tint num1;\r\n\tint num2;\r\n\tString operator;\r\n\t\r\n\tScanner scan = new Scanner(System.in);\t\r\n\tSystem.out.print(&quot;tell me first number: &quot;);\r\n\t\tnum1 = scan.nextInt();               //&lt;--input only numbers, loop if not\t\r\n\tSystem.out.print(&quot;tell me second number: &quot;);\r\n\t\tnum2 = scan.nextInt();               //&lt;--input only numbers, loop if not\r\n//////////////////operator////////////////////////\r\n\tSystem.out.print(&quot;tell me operator: &quot;);\r\n\t\toperator = scan.next();\r\n\t\t\twhile(true) {\t\r\n\t\t\t\tif(operator.equals(&quot;+&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 + num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if(operator.equals(&quot;-&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 - num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\t\r\n\t\t\t\telse if(operator.equals(&quot;*&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 * num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if(operator.equals(&quot;/&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;answer is: &quot; +(num1 / num2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.print(&quot;wrong input! try again!: &quot;);\r\n\t\t\t\t\toperator = scan.next();\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t}\r\n}\r\n```","title":"How to make this calculator to only accept numbers in first two input&#39;s and loop till they are correct","body":"<p>Somehow I got operator looping till I get correct input. When i try to put num1 or num2 in &quot;if&quot; statement, It says that I cannot convert &quot;int&quot; to &quot;boolean&quot;. Please help</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class main {\n\npublic static void main(String[] args) {\n    int num1;\n    int num2;\n    String operator;\n    \n    Scanner scan = new Scanner(System.in);  \n    System.out.print(&quot;tell me first number: &quot;);\n        num1 = scan.nextInt();               //&lt;--input only numbers, loop if not   \n    System.out.print(&quot;tell me second number: &quot;);\n        num2 = scan.nextInt();               //&lt;--input only numbers, loop if not\n//////////////////operator////////////////////////\n    System.out.print(&quot;tell me operator: &quot;);\n        operator = scan.next();\n            while(true) {   \n                if(operator.equals(&quot;+&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 + num2));\n                    break;\n                }\n                else if(operator.equals(&quot;-&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 - num2));\n                    break;\n                }   \n                else if(operator.equals(&quot;*&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 * num2));\n                    break;\n                }\n                else if(operator.equals(&quot;/&quot;)) {\n                    System.out.println(&quot;answer is: &quot; +(num1 / num2));\n                    break;\n                }\n                else {\n                    System.out.print(&quot;wrong input! try again!: &quot;);\n                    operator = scan.next();\n                }   \n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","sorting"],"comments":[{"owner":{"account_id":5060613,"reputation":74056,"user_id":4062354,"accept_rate":100,"display_name":"MikeCAT"},"score":0,"creation_date":1456971069,"post_id":35761864,"comment_id":59196763,"body_markdown":"By implementing sort by yourself?","body":"By implementing sort by yourself?"},{"owner":{"display_name":"user4780686"},"score":0,"creation_date":1456971105,"post_id":35761864,"comment_id":59196773,"body_markdown":"No, could be a Java function.","body":"No, could be a Java function."},{"owner":{"account_id":6325135,"reputation":24436,"user_id":4911842,"accept_rate":76,"display_name":"developer033"},"score":0,"creation_date":1456971438,"post_id":35761864,"comment_id":59196851,"body_markdown":"http://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically","body":"<a href=\"http://stackoverflow.com/questions/2999129/how-do-i-sort-an-arraylist-lexicographically\" title=\"how do i sort an arraylist lexicographically\">stackoverflow.com/questions/2999129/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7737658,"reputation":2769,"user_id":5858704,"display_name":"MartinS"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1456971466,"creation_date":1456971466,"answer_id":35761935,"question_id":35761864,"body_markdown":"You will have to implement your own `Comparator` class and pass in an instance to `Collections.sort()`\r\n\r\n    class ListComparator&lt;T extends Comparable&lt;T&gt;&gt; implements Comparator&lt;List&lt;T&gt;&gt; {\r\n    \r\n      @Override\r\n      public int compare(List&lt;T&gt; o1, List&lt;T&gt; o2) {\r\n        for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\r\n    \t  int c = o1.get(i).compareTo(o2.get(i));\r\n    \t  if (c != 0) {\r\n    \t    return c;\r\n    \t  }\r\n    \t}\r\n    \treturn Integer.compare(o1.size(), o2.size());\r\n      }\r\n    \r\n    }\r\n\r\nThen sorting is easy\r\n\r\n\tList&lt;List&lt;Integer&gt;&gt; listOfLists = ...;\r\n\t\t\r\n\tCollections.sort(listOfLists, new ListComparator&lt;&gt;());","title":"Java Sort List of Lists","body":"<p>You will have to implement your own <code>Comparator</code> class and pass in an instance to <code>Collections.sort()</code></p>\n\n<pre><code>class ListComparator&lt;T extends Comparable&lt;T&gt;&gt; implements Comparator&lt;List&lt;T&gt;&gt; {\n\n  @Override\n  public int compare(List&lt;T&gt; o1, List&lt;T&gt; o2) {\n    for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\n      int c = o1.get(i).compareTo(o2.get(i));\n      if (c != 0) {\n        return c;\n      }\n    }\n    return Integer.compare(o1.size(), o2.size());\n  }\n\n}\n</code></pre>\n\n<p>Then sorting is easy</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; listOfLists = ...;\n\nCollections.sort(listOfLists, new ListComparator&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538114539,"creation_date":1538114539,"answer_id":52549240,"question_id":35761864,"body_markdown":"Improved MartinS answer using Java 8 stream API\r\n\r\n    possiblePoles = possiblePoles.stream().sorted((o1,o2) -&gt; {\r\n    \t\t\t for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\r\n    \t\t\t      int c = o1.get(i).compareTo(o2.get(i));\r\n    \t\t\t      if (c != 0) {\r\n    \t\t\t        return c;\r\n    \t\t\t      }\r\n    \t\t\t    }\r\n    \t\t\t    return Integer.compare(o1.size(), o2.size());\r\n    \t\t }).collect(Collectors.toList());\r\n\r\n","title":"Java Sort List of Lists","body":"<p>Improved MartinS answer using Java 8 stream API</p>\n\n<pre><code>possiblePoles = possiblePoles.stream().sorted((o1,o2) -&gt; {\n             for (int i = 0; i &lt; Math.min(o1.size(), o2.size()); i++) {\n                  int c = o1.get(i).compareTo(o2.get(i));\n                  if (c != 0) {\n                    return c;\n                  }\n                }\n                return Integer.compare(o1.size(), o2.size());\n         }).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15633628,"reputation":31,"user_id":11279246,"display_name":"Camilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619573968,"creation_date":1619573968,"answer_id":67292670,"question_id":35761864,"body_markdown":"For this example [[1, 3], [1, 2]], if you want to sort the list by both elements you can use sorted from Java 8 manually implemented the comparator method, validating all cases like the following example:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; result = contests.stream().sorted((o1, o2) -&gt; {\r\n            if (o1.get(1) &gt; o2.get(1) ||\r\n                (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\r\n                return -1;\r\n            } else if (o1.get(1) &lt; o2.get(1) ||\r\n                (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        }).collect(Collectors.toList());\r\n\r\n**OR**\r\n\r\n   \r\n\r\n    contests.sort((o1, o2) -&gt; {\r\n                    if (o1.get(1) &gt; o2.get(1) ||\r\n                        (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\r\n                        return -1;\r\n                    } else if (o1.get(1) &lt; o2.get(1) ||\r\n                        (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n\r\n   \r\n","title":"Java Sort List of Lists","body":"<p>For this example [[1, 3], [1, 2]], if you want to sort the list by both elements you can use sorted from Java 8 manually implemented the comparator method, validating all cases like the following example:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; result = contests.stream().sorted((o1, o2) -&gt; {\n        if (o1.get(1) &gt; o2.get(1) ||\n            (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\n            return -1;\n        } else if (o1.get(1) &lt; o2.get(1) ||\n            (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\n            return 1;\n        }\n        return 0;\n    }).collect(Collectors.toList());\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>contests.sort((o1, o2) -&gt; {\n                if (o1.get(1) &gt; o2.get(1) ||\n                    (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &gt; o2.get(0))) {\n                    return -1;\n                } else if (o1.get(1) &lt; o2.get(1) ||\n                    (o1.get(1).equals(o2.get(1)) &amp;&amp; o1.get(0) &lt; o2.get(0))) {\n                    return 1;\n                }\n                return 0;\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8396193,"reputation":71,"user_id":13547476,"display_name":"Chaman Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661422656,"creation_date":1661422656,"answer_id":73485805,"question_id":35761864,"body_markdown":" \r\n\r\n      possiblePoles.sort((l1, l2) -&gt; {\r\n            int minLength = Math.min(l1.size(), l2.size());\r\n            for (int i = 0; i &lt; minLength; i++) {\r\n                int lexicographicalPosition = l1.get(i).compareTo(l2.get(i));\r\n                if (lexicographicalPosition != 0) {\r\n                    return lexicographicalPosition;\r\n                }\r\n            }\r\n            return Integer.compare(l1.size(), l2.size());\r\n        });\r\nSame logic with java 8 ","title":"Java Sort List of Lists","body":"<pre><code>  possiblePoles.sort((l1, l2) -&gt; {\n        int minLength = Math.min(l1.size(), l2.size());\n        for (int i = 0; i &lt; minLength; i++) {\n            int lexicographicalPosition = l1.get(i).compareTo(l2.get(i));\n            if (lexicographicalPosition != 0) {\n                return lexicographicalPosition;\n            }\n        }\n        return Integer.compare(l1.size(), l2.size());\n    });\n</code></pre>\n<p>Same logic with java 8</p>\n"},{"tags":[],"owner":{"account_id":23563494,"reputation":1,"user_id":17604557,"display_name":"R..V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668239863,"creation_date":1668239863,"answer_id":74411259,"question_id":35761864,"body_markdown":"Try Using this code.\r\n\r\n`Collections.sort(list, (a,b) -&gt; a.get(0) - b.get(0));`","title":"Java Sort List of Lists","body":"<p>Try Using this code.</p>\n<p><code>Collections.sort(list, (a,b) -&gt; a.get(0) - b.get(0));</code></p>\n"}],"owner":{"display_name":"user4780686"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39999,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35761935,"answer_count":5,"score":26,"last_activity_date":1668239863,"creation_date":1456970965,"question_id":35761864,"body_markdown":"How would I sort a list of lists in Java in lexicographical order using Collections.sort() or another sorting method?\r\n\r\n    private List&lt;List&lt;Integer&gt;&gt; possiblePoles = setPoles();    \r\n    System.out.println(possiblePoles)\r\n    [[1, 3, 5], [1, 2, 3]]","title":"Java Sort List of Lists","body":"<p>How would I sort a list of lists in Java in lexicographical order using Collections.sort() or another sorting method?</p>\n\n<pre><code>private List&lt;List&lt;Integer&gt;&gt; possiblePoles = setPoles();    \nSystem.out.println(possiblePoles)\n[[1, 3, 5], [1, 2, 3]]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9103,"page":889,"page_size":100}
