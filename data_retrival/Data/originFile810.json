{"items":[{"tags":["java","eclipse","crash","sapjvm"],"answers":[{"tags":[],"owner":{"account_id":27248493,"reputation":1,"user_id":20773383,"display_name":"Sriganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015791,"creation_date":1671006460,"answer_id":74795405,"question_id":74795332,"body_markdown":"Reinstalling the JRE with all the optional Features set to Entire feature will be installed on the local drive solved this issue.\r\n[JRE Installation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0QH8v.png","title":"Eclipse Crashing While trying to launch it with hs_err_pid****.log SAPMachine 11.0.17 JDK","body":"<p>Reinstalling the JRE with all the optional Features set to Entire feature will be installed on the local drive solved this issue.\n<a href=\"https://i.stack.imgur.com/0QH8v.png\" rel=\"nofollow noreferrer\">JRE Installation</a></p>\n"}],"owner":{"account_id":27248493,"reputation":1,"user_id":20773383,"display_name":"Sriganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671015791,"creation_date":1671006069,"question_id":74795332,"body_markdown":"When trying to launch the eclipse its creating a hs_err_pid****.log file and crashing. This started after I upgraded the Windows to Win11 I&#39;m using sapmachine-11.0.17 JDK\r\nThe content of the log file.\r\n```\r\n A fatal error has been detected by the Java Runtime Environment:\r\n\r\n  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe3d789033, pid=10104, tid=18992\r\n\r\n JRE version:  (11.0.17+8) (build )\r\n Java VM: OpenJDK 64-Bit Server VM (11.0.17+8-LTS-sapmachine, mixed mode, sharing, tiered, compressed oops, g1 gc, windows-amd64)\r\n Problematic frame:\r\n V  [jvm.dll+0x1d9033]  protected: static void __cdecl ClassLoader::setup_boot_search_path(char const * __ptr64)+0x33\r\n\r\n No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n```\r\n\r\nI was trying to launch the Eclipse IDE ( Eclipse IDE for Java Developers - 2022-06) it was crashing","title":"Eclipse Crashing While trying to launch it with hs_err_pid****.log SAPMachine 11.0.17 JDK","body":"<p>When trying to launch the eclipse its creating a hs_err_pid****.log file and crashing. This started after I upgraded the Windows to Win11 I'm using sapmachine-11.0.17 JDK\nThe content of the log file.</p>\n<pre><code> A fatal error has been detected by the Java Runtime Environment:\n\n  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe3d789033, pid=10104, tid=18992\n\n JRE version:  (11.0.17+8) (build )\n Java VM: OpenJDK 64-Bit Server VM (11.0.17+8-LTS-sapmachine, mixed mode, sharing, tiered, compressed oops, g1 gc, windows-amd64)\n Problematic frame:\n V  [jvm.dll+0x1d9033]  protected: static void __cdecl ClassLoader::setup_boot_search_path(char const * __ptr64)+0x33\n\n No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n</code></pre>\n<p>I was trying to launch the Eclipse IDE ( Eclipse IDE for Java Developers - 2022-06) it was crashing</p>\n"},{"tags":["java","mongodb","maven","junit","azure-functions"],"owner":{"account_id":27249945,"reputation":11,"user_id":20774573,"display_name":"Shaik Muzammil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671015607,"creation_date":1671015439,"question_id":74797162,"body_markdown":"Exception I am getting\r\n\r\nCannot instantiate @InjectMocks field named &#39;csoKpiBlobTriggerFunction&#39; of type &#39;class com.stellantis.cso.kpi.function.CsoKpiBlobTriggerFunction&#39;.\r\nYou haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null\r\n\r\n\r\n\r\n\t@Mock\r\n    MongoCollection mockCollection;\r\n\t\r\n\t@Mock\r\n\tMongoClient mongoClient;\r\n\t\r\n\t@Mock\r\n\tMongoDatabase database;\r\n\t\r\n\t@InjectMocks\r\n\tCsoKpiBlobTriggerFunction csoKpiBlobTriggerFunction;\r\n\t\r\n\t\r\n\t@InjectMocks\r\n\tExecutionContextMock executionContext;\r\n\t\r\n\t\r\n\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Test\r\n\tvoid TestRun() throws Exception {\r\n\t\tFile file = new File(&quot;/src/test/resources/json/10Q3EG1421896.json&quot;);\r\n\t\tbyte[] arr = new byte[(int)file.length()];\r\n\t\t\r\n\t\tMockito.when(mongoClient.getDatabase(Mockito.anyString())).thenReturn(database);\r\n\t\t\r\n\t\tMockito.when(database.getCollection(Mockito.anyString())).thenReturn(mockCollection);\r\n\t\t\r\n\r\n        csoKpiBlobTriggerFunction.run(arr,&quot;10Q3EG1421896.json&quot;,executionContext);\r\n\t\t//PowerMockito.whenNew(MongoClient.class).withArguments(Mockito.anyString()).thenReturn(mongoClient);\r\n\t\t//PowerMockito.whenNew(MongoClientURI.class).withArguments(Mockito.anyString(),Mockito.any()).thenReturn(Mockito.any());\r\n\t\t//PowerMockito.whenNew(ConnectionString.class).withArguments(&quot;mongodb://&quot;).thenReturn(Mockito.any());\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\n```\r\n","title":"I am working on Azure Functions and trying to test by mocking my MongoDB. Help me to run my test successfully","body":"<p>Exception I am getting</p>\n<p>Cannot instantiate @InjectMocks field named 'csoKpiBlobTriggerFunction' of type 'class com.stellantis.cso.kpi.function.CsoKpiBlobTriggerFunction'.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null</p>\n<pre><code>@Mock\nMongoCollection mockCollection;\n\n@Mock\nMongoClient mongoClient;\n\n@Mock\nMongoDatabase database;\n\n@InjectMocks\nCsoKpiBlobTriggerFunction csoKpiBlobTriggerFunction;\n\n\n@InjectMocks\nExecutionContextMock executionContext;\n\n\n\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@Test\nvoid TestRun() throws Exception {\n    File file = new File(&quot;/src/test/resources/json/10Q3EG1421896.json&quot;);\n    byte[] arr = new byte[(int)file.length()];\n    \n    Mockito.when(mongoClient.getDatabase(Mockito.anyString())).thenReturn(database);\n    \n    Mockito.when(database.getCollection(Mockito.anyString())).thenReturn(mockCollection);\n    \n\n    csoKpiBlobTriggerFunction.run(arr,&quot;10Q3EG1421896.json&quot;,executionContext);\n    //PowerMockito.whenNew(MongoClient.class).withArguments(Mockito.anyString()).thenReturn(mongoClient);\n    //PowerMockito.whenNew(MongoClientURI.class).withArguments(Mockito.anyString(),Mockito.any()).thenReturn(Mockito.any());\n    //PowerMockito.whenNew(ConnectionString.class).withArguments(&quot;mongodb://&quot;).thenReturn(Mockito.any());\n    \n    \n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670860306,"post_id":74773726,"comment_id":131965220,"body_markdown":"How should this be stored in the database? Will you create a email type in the database as well","body":"How should this be stored in the database? Will you create a email type in the database as well"},{"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1670959521,"post_id":74773726,"comment_id":131992518,"body_markdown":"please update your question and describe if you want to persist the `EmailAddress` class in the db or want to store just the email-string as varchar-column in the customer-table.","body":"please update your question and describe if you want to persist the <code>EmailAddress</code> class in the db or want to store just the email-string as varchar-column in the customer-table."}],"answers":[{"tags":[],"owner":{"account_id":25255912,"reputation":21,"user_id":19087646,"display_name":"Seifeldin Sabry"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670868740,"creation_date":1670868740,"answer_id":74775537,"question_id":74773726,"body_markdown":"Here is some example of making your own custom type. \r\n\r\n```java\r\npublic class EmailAddressDescriptor extends AbstractTypeDescriptor&lt;String&gt; {\r\n\r\n\tprotected EmailAddressDescriptor() {\r\n\t\tsuper(String.class, new ImmutableMutabilityPlan&lt;&gt;());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString(String value) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String fromString(String string) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;X&gt; X unwrap(String value, Class&lt;X&gt; type, WrapperOptions options) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;X&gt; String wrap(X value, WrapperOptions options) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SqlTypeDescriptor getJdbcRecommendedSqlType(JdbcRecommendedSqlTypeMappingContext context) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n}\r\n```\r\nThen you would make the Email address class with all your methods\r\n```java\r\npublic class EmailAddress extends AbstractSingleColumnStandardBasicType&lt;String&gt; {\r\n\tprivate String value;\r\n\r\n\tpublic EmailAddress() {\r\n\t\tsuper(new VarcharTypeDescriptor(), new EmailAddressDescriptor());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn &quot;EmailAddress&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object resolve(Object value, SharedSessionContractImplementor session, Object owner, Boolean overridingEager) throws HibernateException {\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n public String mailbox() ...\r\n   public String host() ...\r\n   public String tld() ...\r\n```\r\nHow you would use it with your entity will be something like this\r\n```java\r\n@Entity\r\n@TypeDef(name = &quot;emailAddress&quot;, typeClass = EmailAddress.class)\r\npublic class customer {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Type (type = &quot;emailAddress&quot;)\r\n\tprivate EmailAddress emailAddress;\r\n}\r\n\r\n```\r\nHope this helps\r\n","title":"How to implement a Custom DataType in Hibernate?","body":"<p>Here is some example of making your own custom type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailAddressDescriptor extends AbstractTypeDescriptor&lt;String&gt; {\n\n    protected EmailAddressDescriptor() {\n        super(String.class, new ImmutableMutabilityPlan&lt;&gt;());\n    }\n\n    @Override\n    public String toString(String value) {\n        return null;\n    }\n\n    @Override\n    public String fromString(String string) {\n        return null;\n    }\n\n    @Override\n    public &lt;X&gt; X unwrap(String value, Class&lt;X&gt; type, WrapperOptions options) {\n        return null;\n    }\n\n    @Override\n    public &lt;X&gt; String wrap(X value, WrapperOptions options) {\n        return null;\n    }\n\n    @Override\n    public SqlTypeDescriptor getJdbcRecommendedSqlType(JdbcRecommendedSqlTypeMappingContext context) {\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>Then you would make the Email address class with all your methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailAddress extends AbstractSingleColumnStandardBasicType&lt;String&gt; {\n    private String value;\n\n    public EmailAddress() {\n        super(new VarcharTypeDescriptor(), new EmailAddressDescriptor());\n    }\n\n    @Override\n    public String getName() {\n        return &quot;EmailAddress&quot;;\n    }\n\n    @Override\n    public Object resolve(Object value, SharedSessionContractImplementor session, Object owner, Boolean overridingEager) throws HibernateException {\n        return null;\n    }\n\n}\n public String mailbox() ...\n   public String host() ...\n   public String tld() ...\n</code></pre>\n<p>How you would use it with your entity will be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@TypeDef(name = &quot;emailAddress&quot;, typeClass = EmailAddress.class)\npublic class customer {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @Type (type = &quot;emailAddress&quot;)\n    private EmailAddress emailAddress;\n}\n\n</code></pre>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671015104,"creation_date":1670929901,"answer_id":74783915,"question_id":74773726,"body_markdown":"it is much easier. An AttributeConverter make it very easy.\r\n\r\nhttps://thorben-janssen.com/jpa-attribute-converter/\r\n\r\nThank you very much\r\n\r\nEDIT:\r\nHere is the Code:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    \r\n    @Converter(autoApply = true)\r\n    public class EmailAddressConverter implements AttributeConverter&lt;EmailAddress, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(EmailAddress emailAddress) {\r\n    \t\treturn emailAddress.value;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic EmailAddress convertToEntityAttribute(String s) {\r\n    \t\treturn new EmailAddress(s);\r\n    \t}\r\n    }\r\n\r\nAnd in the Entity:\r\n\r\n    @Convert(converter = EmailAddressConverter.class)\r\n\tprivate EmailAddress email;","title":"How to implement a Custom DataType in Hibernate?","body":"<p>it is much easier. An AttributeConverter make it very easy.</p>\n<p><a href=\"https://thorben-janssen.com/jpa-attribute-converter/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/jpa-attribute-converter/</a></p>\n<p>Thank you very much</p>\n<p>EDIT:\nHere is the Code:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class EmailAddressConverter implements AttributeConverter&lt;EmailAddress, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(EmailAddress emailAddress) {\n        return emailAddress.value;\n    }\n\n    @Override\n    public EmailAddress convertToEntityAttribute(String s) {\n        return new EmailAddress(s);\n    }\n}\n</code></pre>\n<p>And in the Entity:</p>\n<pre><code>@Convert(converter = EmailAddressConverter.class)\nprivate EmailAddress email;\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783915,"answer_count":2,"score":0,"last_activity_date":1671015232,"creation_date":1670860203,"question_id":74773726,"body_markdown":"We would like to type various properties in Java.\r\ne.g. the e-mail address\r\n\r\nBut now I get the message all the time:\r\n\r\n    Could not set field value [test@test.de] value by reflection : [class customer.email] setter of customer.email;\r\n    \r\n    Can not set dataType.EmailAddress field customer.email to java.lang.String\r\n\r\nHow should I proceed? \r\n\r\n    @Entity\r\n    public class customer {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private EmailAddress email;\r\n    }\r\n\r\n\r\n    public class EmailAddress {\r\n    \r\n        public String value;\r\n    \r\n        public EmailAddress(String value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n        public String getValue() {\r\n    \t\treturn this.value;\r\n    \t}\r\n    \r\n    \tpublic boolean setValue(String s) {\r\n    \t\tthis.value = s;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n       public String mailbox() ...\r\n       public String host() ...\r\n       public String tld() ...\r\n    }\r\n\r\nGetter and Setter from HibernateDefaultType not called.\r\n\r\nEDIT:\r\nAt the end. I want to store a String in the database with the email-Address. In Java I want the EmailAddress Object.\r\n","title":"How to implement a Custom DataType in Hibernate?","body":"<p>We would like to type various properties in Java.\ne.g. the e-mail address</p>\n<p>But now I get the message all the time:</p>\n<pre><code>Could not set field value [test@test.de] value by reflection : [class customer.email] setter of customer.email;\n\nCan not set dataType.EmailAddress field customer.email to java.lang.String\n</code></pre>\n<p>How should I proceed?</p>\n<pre><code>@Entity\npublic class customer {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    private EmailAddress email;\n}\n\n\npublic class EmailAddress {\n\n    public String value;\n\n    public EmailAddress(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return this.value;\n    }\n\n    public boolean setValue(String s) {\n        this.value = s;\n        return true;\n    }\n\n   public String mailbox() ...\n   public String host() ...\n   public String tld() ...\n}\n</code></pre>\n<p>Getter and Setter from HibernateDefaultType not called.</p>\n<p>EDIT:\nAt the end. I want to store a String in the database with the email-Address. In Java I want the EmailAddress Object.</p>\n"},{"tags":["java","jackson-databind","jackson-modules","jackson-module-scala"],"owner":{"account_id":26376781,"reputation":11,"user_id":20030606,"display_name":"Niharika Baruah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671015188,"creation_date":1671015188,"question_id":74797102,"body_markdown":"I am getting the exception &quot; Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1&quot; even though I have upgraded the Jackson Databind version tp 2.14.1 in the build.gardle file? How to resolve this issue?\r\n\r\nHow to resolve this issue?","title":"Exception: Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1","body":"<p>I am getting the exception &quot; Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1&quot; even though I have upgraded the Jackson Databind version tp 2.14.1 in the build.gardle file? How to resolve this issue?</p>\n<p>How to resolve this issue?</p>\n"},{"tags":["java","sorting","recursion","quicksort"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1670801217,"post_id":74764914,"comment_id":131951538,"body_markdown":"Please provide a sample input, with its expected and actual output.","body":"Please provide a sample input, with its expected and actual output."},{"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"score":0,"creation_date":1670842694,"post_id":74764914,"comment_id":131958943,"body_markdown":"Thanks for the feedback I&#39;ll try to stick to Java conventions from now on.\nI&#39;ve posted the expected and actual Output, while doing so i realized that the second Iteration does&#39;nt return the full list twice. Thanks again and all help and feedback is greatly appreciated.","body":"Thanks for the feedback I&#39;ll try to stick to Java conventions from now on. I&#39;ve posted the expected and actual Output, while doing so i realized that the second Iteration does&#39;nt return the full list twice. Thanks again and all help and feedback is greatly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671015097,"creation_date":1671015097,"answer_id":74797079,"question_id":74764914,"body_markdown":"Okay so I&#39;ve solved it, the Doublylinked List sortedList was static and kept all the results from the throughout every Iteration which led to the List getting bigger. The Solution to clear the List by designating all the Nodes to null did not work because that also cleared the origin of the Pointers, so the Original List also became a null list.\r\n\r\nAfter every sort I assign a null list to the variable sortedList, maybe not the most elegant Solution because I now have a null list in my code for only this purpose, but it works...\r\n    \r\n    \r\n    dlinkedList empty = new dlinkedList();\r\n    dlinkedList sortedList = sortMenuSwitch(mainMenuInput());\r\n    dlinkedList.sortedList = empty;\r\n\r\n    ","title":"Java recursive Quicksort problem with persistent variables","body":"<p>Okay so I've solved it, the Doublylinked List sortedList was static and kept all the results from the throughout every Iteration which led to the List getting bigger. The Solution to clear the List by designating all the Nodes to null did not work because that also cleared the origin of the Pointers, so the Original List also became a null list.</p>\n<p>After every sort I assign a null list to the variable sortedList, maybe not the most elegant Solution because I now have a null list in my code for only this purpose, but it works...</p>\n<pre><code>dlinkedList empty = new dlinkedList();\ndlinkedList sortedList = sortMenuSwitch(mainMenuInput());\ndlinkedList.sortedList = empty;\n</code></pre>\n"}],"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74797079,"answer_count":1,"score":-2,"last_activity_date":1671015097,"creation_date":1670796391,"question_id":74764914,"body_markdown":"I&#39;m trying to Sort a list of Items using a recursive Quicksort, while testing i noticed that repeated use of the Method makes the size of my list double which is not intended.\r\n\r\n        /*list is filled with four Items:\r\n        item test = new item(234, 44.2, &quot;wardrobe&quot;, &quot;Example Wardrobe&quot;);\r\n        item test1 = new item(432, 87.2, &quot;Chair&quot;, &quot;Example Table&quot;);\r\n        item test2 = new item(007, 600.666, &quot;Table&quot;, &quot;Example Table&quot;);\r\n        item test3 = new item(02,5.4,&quot;Jar&quot;,&quot;Example Jar&quot;);*/\r\n\r\n        dlinkedList dList=Operations.fillList(); \r\n        dlinkedList list = dlinkedList.quicksortPrice(dList);\r\n        dlinkedList.printAllElements(list);\r\n        System.out.println(&quot; sorted once &quot;);\r\n        list = dlinkedList.quicksortPrice(dList);\r\n        dlinkedList.printAllElements(list);\r\n        System.out.println(&quot; sorted twice &quot;);\r\n\r\nExpected Output:\r\n\r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n sorted once\r\n \r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\nsorted twice\r\n\r\n\r\nActual Output:\r\n\r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n sorted once\r\n \r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table\r\nsorted twice\r\n\r\n\r\n``` \r\n\r\n    static dlinkedList sortedList = new dlinkedList();\r\n    public static dlinkedList quicksortPrice(dlinkedList list) {\r\n        dlinkedList smaller = new dlinkedList();\r\n        dlinkedList greater = new dlinkedList();\r\n        Node y = list.head;\r\n        pivot = list.tail;\r\n            if (pivot == null) {\r\n                return sortedList;\r\n            } else {\r\n                if (numberOfElements(sortedList) == 0){\r\n                    sortedList.addAtEndOfList(pivot.data);\r\n                }\r\n                while (y.next != null) {\r\n                    if (y.data.price &lt; pivot.data.price) {\r\n                        smaller.addAtEndOfList(y.data);\r\n                        y = y.next;\r\n                    } else if (y.data.price &gt; pivot.data.price) {\r\n                        greater.addAtEndOfList(y.data);\r\n                        y = y.next;\r\n                    } else {\r\n                        sortedList.insertAfterNode(sortedList.tail, y.data, sortedList);\r\n                        y = y.next;\r\n                    }\r\n                }\r\n                if(numberOfElements(greater) == 0){\r\n                }else{\r\n                    sortedList.insertAfterNode(sortedList.searchByPrice(pivot.data.price),   greater.tail.data,sortedList);\r\n                }\r\n                if (numberOfElements(smaller) == 0) {\r\n                }else{\r\n                  sortedList.insertBeforeNode(sortedList.searchByPrice(pivot.data.price),smaller.tail.data,sortedList  );\r\n                }\r\n                if(numberOfElements(smaller) == 0 &amp;&amp; numberOfElements(greater) == 0){\r\n                return sortedList;\r\n                }else{\r\n                    quicksortPrice(smaller);\r\n                    quicksortPrice(greater);}\r\n            }\r\n        return sortedList;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve narrowed my problem down to the static list I use to store the sorted Items between the recursive Iterations, but sadly I don&#39;t know how to solve the Problem. I&#39;ve tried to clear the list between every sort but that empties the whole list for some reason... \r\nAny Help would be much appreciated.","title":"Java recursive Quicksort problem with persistent variables","body":"<p>I'm trying to Sort a list of Items using a recursive Quicksort, while testing i noticed that repeated use of the Method makes the size of my list double which is not intended.</p>\n<pre><code>    /*list is filled with four Items:\n    item test = new item(234, 44.2, &quot;wardrobe&quot;, &quot;Example Wardrobe&quot;);\n    item test1 = new item(432, 87.2, &quot;Chair&quot;, &quot;Example Table&quot;);\n    item test2 = new item(007, 600.666, &quot;Table&quot;, &quot;Example Table&quot;);\n    item test3 = new item(02,5.4,&quot;Jar&quot;,&quot;Example Jar&quot;);*/\n\n    dlinkedList dList=Operations.fillList(); \n    dlinkedList list = dlinkedList.quicksortPrice(dList);\n    dlinkedList.printAllElements(list);\n    System.out.println(&quot; sorted once &quot;);\n    list = dlinkedList.quicksortPrice(dList);\n    dlinkedList.printAllElements(list);\n    System.out.println(&quot; sorted twice &quot;);\n</code></pre>\n<p>Expected Output:</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted once</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted twice</p>\n<p>Actual Output:</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted once</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table\nsorted twice</p>\n<pre><code>\n    static dlinkedList sortedList = new dlinkedList();\n    public static dlinkedList quicksortPrice(dlinkedList list) {\n        dlinkedList smaller = new dlinkedList();\n        dlinkedList greater = new dlinkedList();\n        Node y = list.head;\n        pivot = list.tail;\n            if (pivot == null) {\n                return sortedList;\n            } else {\n                if (numberOfElements(sortedList) == 0){\n                    sortedList.addAtEndOfList(pivot.data);\n                }\n                while (y.next != null) {\n                    if (y.data.price &lt; pivot.data.price) {\n                        smaller.addAtEndOfList(y.data);\n                        y = y.next;\n                    } else if (y.data.price &gt; pivot.data.price) {\n                        greater.addAtEndOfList(y.data);\n                        y = y.next;\n                    } else {\n                        sortedList.insertAfterNode(sortedList.tail, y.data, sortedList);\n                        y = y.next;\n                    }\n                }\n                if(numberOfElements(greater) == 0){\n                }else{\n                    sortedList.insertAfterNode(sortedList.searchByPrice(pivot.data.price),   greater.tail.data,sortedList);\n                }\n                if (numberOfElements(smaller) == 0) {\n                }else{\n                  sortedList.insertBeforeNode(sortedList.searchByPrice(pivot.data.price),smaller.tail.data,sortedList  );\n                }\n                if(numberOfElements(smaller) == 0 &amp;&amp; numberOfElements(greater) == 0){\n                return sortedList;\n                }else{\n                    quicksortPrice(smaller);\n                    quicksortPrice(greater);}\n            }\n        return sortedList;\n    }\n\n\n</code></pre>\n<p>I've narrowed my problem down to the static list I use to store the sorted Items between the recursive Iterations, but sadly I don't know how to solve the Problem. I've tried to clear the list between every sort but that empties the whole list for some reason...\nAny Help would be much appreciated.</p>\n"},{"tags":["java","android","sockets","socket.io"],"answers":[{"tags":[],"owner":{"account_id":3044819,"reputation":8098,"user_id":2580791,"accept_rate":82,"display_name":"Mike Laren"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1475520603,"creation_date":1475520603,"answer_id":39838432,"question_id":39838376,"body_markdown":"You can extract the file descriptor of a socket using:\r\n\r\n    ParcelFileDescriptor.fromSocket(socket).getFileDescriptor(); \r\n\r\nSource: [android-developers][1]\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/android-developers/38Y4L3Sliak","title":"File descriptor for socket.io in Java (android)?","body":"<p>You can extract the file descriptor of a socket using:</p>\n\n<pre><code>ParcelFileDescriptor.fromSocket(socket).getFileDescriptor(); \n</code></pre>\n\n<p>Source: <a href=\"https://groups.google.com/forum/#!topic/android-developers/38Y4L3Sliak\" rel=\"nofollow\">android-developers</a></p>\n"},{"tags":[],"owner":{"account_id":10963162,"reputation":61,"user_id":8055779,"display_name":"Vlad Bellegar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015085,"creation_date":1671015085,"answer_id":74797077,"question_id":39838376,"body_markdown":"Mike Jaren&#39;s answer about using ParcelFileDescriptor is no so correct, due to this method creates new file descriptor, reflecting the original.\r\nWorking method for Java7+ (which android supports) for getting correct file descriptor of socket:\r\n\r\n    FileDescriptor fd = ((FileInputStream)socket.getInputStream()).getFD();\r\n\r\nSource: [other stackoverflow answer][1]\r\n\r\nAlso other method of getting socket&#39;s file descriptor on andorid (but complicated) with using java reflection may be seen [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11456019/8055779\r\n  [2]: https://stackoverflow.com/a/31885114/8055779","title":"File descriptor for socket.io in Java (android)?","body":"<p>Mike Jaren's answer about using ParcelFileDescriptor is no so correct, due to this method creates new file descriptor, reflecting the original.\nWorking method for Java7+ (which android supports) for getting correct file descriptor of socket:</p>\n<pre><code>FileDescriptor fd = ((FileInputStream)socket.getInputStream()).getFD();\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/a/11456019/8055779\">other stackoverflow answer</a></p>\n<p>Also other method of getting socket's file descriptor on andorid (but complicated) with using java reflection may be seen <a href=\"https://stackoverflow.com/a/31885114/8055779\">here</a>.</p>\n"}],"owner":{"account_id":2934391,"reputation":16039,"user_id":2513722,"accept_rate":50,"display_name":"mehulmpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671015085,"creation_date":1475520295,"question_id":39838376,"body_markdown":"I&#39;m creating a program to record the screen and use a socket to send the data over socket to server. I&#39;ve successfully implemented it on my sdcard but how do I create a socket from Socket.io library? setOutputFile asks for filedescriptor. Where is it in socket.io?\r\n\r\nSocket.io code:\r\n\r\n    try {\r\n                socket = IO.socket(&quot;http://192.168.0.105:3000&quot;);\r\n                socket.connect();\r\n    // works\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nNow for mediarecorder:\r\n\r\n    mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n    mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n    // ... some more props...\r\n    mMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n    mMediaRecorder.setOutputFile(NEED A FILE DESCRIPTOR HERE);\r\n\r\nHow do I go about this? Help!","title":"File descriptor for socket.io in Java (android)?","body":"<p>I'm creating a program to record the screen and use a socket to send the data over socket to server. I've successfully implemented it on my sdcard but how do I create a socket from Socket.io library? setOutputFile asks for filedescriptor. Where is it in socket.io?</p>\n\n<p>Socket.io code:</p>\n\n<pre><code>try {\n            socket = IO.socket(\"http://192.168.0.105:3000\");\n            socket.connect();\n// works\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>Now for mediarecorder:</p>\n\n<pre><code>mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\nmMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n// ... some more props...\nmMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\nmMediaRecorder.setOutputFile(NEED A FILE DESCRIPTOR HERE);\n</code></pre>\n\n<p>How do I go about this? Help!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1582025572,"post_id":60279722,"comment_id":106626560,"body_markdown":"https://stackoverflow.com/a/44033816/733345 has an example of this.","body":"<a href=\"https://stackoverflow.com/a/44033816/733345\">stackoverflow.com/a/44033816/733345</a> has an example of this."},{"owner":{"account_id":7194846,"reputation":411,"user_id":5493996,"display_name":"Gevorg Harutyunyan"},"score":0,"creation_date":1582025857,"post_id":60279722,"comment_id":106626709,"body_markdown":"Thanks @Joe it solved my problem.","body":"Thanks @Joe it solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":2139333,"reputation":1649,"user_id":1898397,"accept_rate":67,"display_name":"Tarun Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1582025610,"creation_date":1582025610,"answer_id":60279963,"question_id":60279722,"body_markdown":"According to the [Javadocs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/i18n/LocaleContextHolder.html) \r\n\r\n&gt; The LocaleContext will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.\r\n\r\nThis means locale can be set using the method  `setLocale(Locale locale, boolean inheritable)` by passing `inheritable` as true. So before spawning a new child thread you can call setLocale with `inheritable` equals to `true`.\r\n\r\n","title":"How to keep context when creating new thread in spring?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/i18n/LocaleContextHolder.html\" rel=\"nofollow noreferrer\">Javadocs</a> </p>\n\n<blockquote>\n  <p>The LocaleContext will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.</p>\n</blockquote>\n\n<p>This means locale can be set using the method  <code>setLocale(Locale locale, boolean inheritable)</code> by passing <code>inheritable</code> as true. So before spawning a new child thread you can call setLocale with <code>inheritable</code> equals to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015045,"creation_date":1671015045,"answer_id":74797070,"question_id":60279722,"body_markdown":"use `transmittable-thread-local`,add dependence to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n      &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt;\r\n      &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nconvert you executorService like this\r\n\r\n    ExecutorService executorService = ...\r\n    executorService = TtlExecutors.getTtlExecutorService(executorService);","title":"How to keep context when creating new thread in spring?","body":"<p>use <code>transmittable-thread-local</code>,add dependence to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n  &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt;\n  &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>convert you executorService like this</p>\n<pre><code>ExecutorService executorService = ...\nexecutorService = TtlExecutors.getTtlExecutorService(executorService);\n</code></pre>\n"}],"owner":{"account_id":7194846,"reputation":411,"user_id":5493996,"display_name":"Gevorg Harutyunyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1786,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60279963,"answer_count":2,"score":4,"last_activity_date":1671015045,"creation_date":1582024813,"question_id":60279722,"body_markdown":"    System.out.println(LocaleContextHolder.getLocale()); // zh\r\n    new Thread(() -&gt; {\r\n        System.out.println(LocaleContextHolder.getLocale()); // en_US\r\n    }).start();\r\n\r\nFrom parent thread, I see that context locale is &quot;zh&quot; from child thread, I see &quot;en_US&quot;. New thread is losing the context locale. Is there a way to pass context to new created thread?\r\n","title":"How to keep context when creating new thread in spring?","body":"<pre><code>System.out.println(LocaleContextHolder.getLocale()); // zh\nnew Thread(() -&gt; {\n    System.out.println(LocaleContextHolder.getLocale()); // en_US\n}).start();\n</code></pre>\n\n<p>From parent thread, I see that context locale is \"zh\" from child thread, I see \"en_US\". New thread is losing the context locale. Is there a way to pass context to new created thread?</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670955691,"creation_date":1670955691,"answer_id":74789334,"question_id":74788767,"body_markdown":"Based on the JSON structure, let&#39;s assume you have the following POJOs:\r\n```java\r\npublic class Report implements Serializable {\r\n    private Map&lt;String, Link&gt; links;\r\n    // getters, setters\r\n}\r\n\r\npublic class Link {\r\n    private String href;\r\n    // getters, setters\r\n}\r\n```\r\n\r\nNow instead of extracting the response body as a JSON `String`, convert it to POJO directly.\r\n```java\r\npublic Report getReportListByClientId(String clientId) {\r\n        \r\n        ResponseEntity&lt;Report&gt; responseEntity = null;\r\n        \r\n        try {\r\n            ..\r\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, Report.class);\r\n            \r\n            return responseEntity.getBody();\r\n\r\n        } catch (Exception e) {\r\n           ..\r\n        }\r\n}\r\n```\r\n\r\nAssumption: the project has `Jackson` in classpath, so `MappingJacksonHttpMessageConverter` will be enabled by default with `RestTemplate` for the above method to work.","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>Based on the JSON structure, let's assume you have the following POJOs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Report implements Serializable {\n    private Map&lt;String, Link&gt; links;\n    // getters, setters\n}\n\npublic class Link {\n    private String href;\n    // getters, setters\n}\n</code></pre>\n<p>Now instead of extracting the response body as a JSON <code>String</code>, convert it to POJO directly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Report getReportListByClientId(String clientId) {\n        \n        ResponseEntity&lt;Report&gt; responseEntity = null;\n        \n        try {\n            ..\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, Report.class);\n            \n            return responseEntity.getBody();\n\n        } catch (Exception e) {\n           ..\n        }\n}\n</code></pre>\n<p>Assumption: the project has <code>Jackson</code> in classpath, so <code>MappingJacksonHttpMessageConverter</code> will be enabled by default with <code>RestTemplate</code> for the above method to work.</p>\n"},{"tags":[],"owner":{"account_id":24626922,"reputation":59,"user_id":18526553,"display_name":"Beksultan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670955765,"creation_date":1670955765,"answer_id":74789357,"question_id":74788767,"body_markdown":"I will try to help u. You can use JsonPath to manipulate your string json.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nadd this library to your code\r\nand then try to use this \r\n\r\n            String json = &quot;&quot;&quot;\r\n                {\r\n                    &quot;links&quot;: {\r\n                        &quot;RCDSO - Production Environment Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 1&quot;\r\n                        },\r\n                        &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 2&quot;\r\n                        },\r\n                        &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n                            &quot;href&quot;: &quot;href 3&quot;\r\n                        },\r\n                        &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 4&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 5&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n                            &quot;href&quot;: &quot;href 6&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure App Services Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 7&quot;\r\n                        }\r\n                    }\r\n                }\r\n                &quot;&quot;&quot;;\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; links = JsonPath.read(json, &quot;$.links&quot;);\r\n        links.forEach((key, value) -&gt; {\r\n            System.out.println(&quot;k = &quot; + key);\r\n            System.out.print(&quot;v = &quot;);\r\n            value.forEach((key2, value2) -&gt; {\r\n                System.out.println(&quot;key = &quot; + key2 + &quot; : value = &quot; + value2);\r\n            });\r\n        });","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>I will try to help u. You can use JsonPath to manipulate your string json.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>add this library to your code\nand then try to use this</p>\n<pre><code>        String json = &quot;&quot;&quot;\n            {\n                &quot;links&quot;: {\n                    &quot;RCDSO - Production Environment Cost&quot;: {\n                        &quot;href&quot;: &quot;href 1&quot;\n                    },\n                    &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n                        &quot;href&quot;: &quot;href 2&quot;\n                    },\n                    &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n                        &quot;href&quot;: &quot;href 3&quot;\n                    },\n                    &quot;RCDSO - Virtual Machine Cost&quot;: {\n                        &quot;href&quot;: &quot;href 4&quot;\n                    },\n                    &quot;RCDSO - Azure File Storage Cost&quot;: {\n                        &quot;href&quot;: &quot;href 5&quot;\n                    },\n                    &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n                        &quot;href&quot;: &quot;href 6&quot;\n                    },\n                    &quot;RCDSO - Azure App Services Cost&quot;: {\n                        &quot;href&quot;: &quot;href 7&quot;\n                    }\n                }\n            }\n            &quot;&quot;&quot;;\n    Map&lt;String, Map&lt;String, String&gt;&gt; links = JsonPath.read(json, &quot;$.links&quot;);\n    links.forEach((key, value) -&gt; {\n        System.out.println(&quot;k = &quot; + key);\n        System.out.print(&quot;v = &quot;);\n        value.forEach((key2, value2) -&gt; {\n            System.out.println(&quot;key = &quot; + key2 + &quot; : value = &quot; + value2);\n        });\n    });\n</code></pre>\n"}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671015015,"creation_date":1670952640,"question_id":74788767,"body_markdown":"I am working on spring boot application for consuming external API using RestTemplate.\r\n\r\nBelow is the service class that I have written to get response from external API:\r\n\r\n    public CustomOlapReports getReportListByClientId(String clientId) {\r\n    \t\tResponseEntity&lt;CustomOlapReports&gt; responseEntity = null;\r\n    \t\tCustomOlapReports jsonResponse = null;\r\n    \t\ttry {\r\n    \t\t\tfinal String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\r\n    \t\t\theader.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    \t\t\t\r\n    \t\t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\t\tresponseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, CustomOlapReports.class);\r\n    \t\t\t\r\n    \t\t\tjsonResponse =  responseEntity.getBody();\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \treturn jsonResponse;\r\n    }\r\n\r\nThe following is the response that I am getting using exchange() method:\r\n\r\n    {\r\n        &quot;responseMessage&quot;: &quot;SUCCESS&quot;,\r\n        &quot;status&quot;: &quot;OK&quot;,\r\n        &quot;statusCode&quot;: 1,\r\n        &quot;response&quot;: {\r\n            &quot;links&quot;: {\r\n                &quot;RCDSO - Production Environment Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 1&quot;\r\n                },\r\n                &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 2&quot;\r\n                },\r\n                &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n                    &quot;href&quot;: &quot;href 3&quot;\r\n                },\r\n                &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 4&quot;\r\n                },\r\n                &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 5&quot;\r\n                },\r\n                &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n                    &quot;href&quot;: &quot;href 6&quot;\r\n                },\r\n                &quot;RCDSO - Azure App Services Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 7&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /********************** CustomOlapReports.java *************************/\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class CustomOlapReports {\r\n    \t\r\n    \t @JsonProperty(&quot;links&quot;) \r\n    \t private Links links;\r\n    }\r\n    /********************** Links.java *************************/\r\n    @Setter\r\n    @Getter\r\n    public class Links {\r\n    \t@JsonProperty(&quot;RCDSO - Production Environment Cost&quot;)\r\n    \tprivate RCDSOProductionEnvironmentCost rCDSOProductionEnvironmentCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Development &amp; UAT Environment Cost&quot;)\r\n    \tprivate RCDSODevelopmentUATEnvironmentCost rCDSODevelopmentUATEnvironmentCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;)\r\n    \tprivate RCDSOTotalCostForProdCompugenManaged rCDSOTotalCostForProdCompugenManaged;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Virtual Machine Cost&quot;)\r\n    \tprivate RCDSOVirtualMachineCost rCDSOVirtualMachineCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure File Storage Cost&quot;)\r\n    \tprivate RCDSOAzureFileStorageCost rCDSOAzureFileStorageCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure Backup and Site Recovery&quot;)\r\n    \tprivate RCDSOAzureBackupAndSiteRecovery rCDSOAzureBackupAndSiteRecovery;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure App Services Cost&quot;)\r\n    \tprivate RCDSOAzureAppServicesCost rCDSOAzureAppServicesCost;\r\n    }\r\n    /********************** RCDSOProductionEnvironmentCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOProductionEnvironmentCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSODevelopmentUATEnvironmentCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSODevelopmentUATEnvironmentCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOTotalCostForProdCompugenManaged.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOTotalCostForProdCompugenManaged {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOVirtualMachineCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOVirtualMachineCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOAzureFileStorageCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureFileStorageCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n    /********************** RCDSOAzureBackupAndSiteRecovery.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureBackupAndSiteRecovery {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n    /********************** RCDSOAzureAppServicesCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureAppServicesCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n\r\nSo now, before sending response to client side in my application. I want to fetch data from this response and want to do some manipulation and convert that into custom POJO class. I tried using JSONObject but got some exceptions. \r\n\r\nI want to display this JSON data in HTML table using AJAX.\r\n\r\n**So how should I extract or get individual data from above JSON?**","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>I am working on spring boot application for consuming external API using RestTemplate.</p>\n<p>Below is the service class that I have written to get response from external API:</p>\n<pre><code>public CustomOlapReports getReportListByClientId(String clientId) {\n        ResponseEntity&lt;CustomOlapReports&gt; responseEntity = null;\n        CustomOlapReports jsonResponse = null;\n        try {\n            final String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders header = new HttpHeaders();\n            header.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\n            header.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n            \n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, CustomOlapReports.class);\n            \n            jsonResponse =  responseEntity.getBody();   \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    return jsonResponse;\n}\n</code></pre>\n<p>The following is the response that I am getting using exchange() method:</p>\n<pre><code>{\n    &quot;responseMessage&quot;: &quot;SUCCESS&quot;,\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;statusCode&quot;: 1,\n    &quot;response&quot;: {\n        &quot;links&quot;: {\n            &quot;RCDSO - Production Environment Cost&quot;: {\n                &quot;href&quot;: &quot;href 1&quot;\n            },\n            &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n                &quot;href&quot;: &quot;href 2&quot;\n            },\n            &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n                &quot;href&quot;: &quot;href 3&quot;\n            },\n            &quot;RCDSO - Virtual Machine Cost&quot;: {\n                &quot;href&quot;: &quot;href 4&quot;\n            },\n            &quot;RCDSO - Azure File Storage Cost&quot;: {\n                &quot;href&quot;: &quot;href 5&quot;\n            },\n            &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n                &quot;href&quot;: &quot;href 6&quot;\n            },\n            &quot;RCDSO - Azure App Services Cost&quot;: {\n                &quot;href&quot;: &quot;href 7&quot;\n            }\n        }\n    }\n}\n\n/********************** CustomOlapReports.java *************************/\n\n@Getter\n@Setter\npublic class CustomOlapReports {\n    \n     @JsonProperty(&quot;links&quot;) \n     private Links links;\n}\n/********************** Links.java *************************/\n@Setter\n@Getter\npublic class Links {\n    @JsonProperty(&quot;RCDSO - Production Environment Cost&quot;)\n    private RCDSOProductionEnvironmentCost rCDSOProductionEnvironmentCost;\n    \n    @JsonProperty(&quot;RCDSO - Development &amp; UAT Environment Cost&quot;)\n    private RCDSODevelopmentUATEnvironmentCost rCDSODevelopmentUATEnvironmentCost;\n    \n    @JsonProperty(&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;)\n    private RCDSOTotalCostForProdCompugenManaged rCDSOTotalCostForProdCompugenManaged;\n    \n    @JsonProperty(&quot;RCDSO - Virtual Machine Cost&quot;)\n    private RCDSOVirtualMachineCost rCDSOVirtualMachineCost;\n    \n    @JsonProperty(&quot;RCDSO - Azure File Storage Cost&quot;)\n    private RCDSOAzureFileStorageCost rCDSOAzureFileStorageCost;\n    \n    @JsonProperty(&quot;RCDSO - Azure Backup and Site Recovery&quot;)\n    private RCDSOAzureBackupAndSiteRecovery rCDSOAzureBackupAndSiteRecovery;\n    \n    @JsonProperty(&quot;RCDSO - Azure App Services Cost&quot;)\n    private RCDSOAzureAppServicesCost rCDSOAzureAppServicesCost;\n}\n/********************** RCDSOProductionEnvironmentCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOProductionEnvironmentCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSODevelopmentUATEnvironmentCost.java *************************/\n@Getter\n@Setter\npublic class RCDSODevelopmentUATEnvironmentCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOTotalCostForProdCompugenManaged.java *************************/\n@Getter\n@Setter\npublic class RCDSOTotalCostForProdCompugenManaged {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOVirtualMachineCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOVirtualMachineCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOAzureFileStorageCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureFileStorageCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n/********************** RCDSOAzureBackupAndSiteRecovery.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureBackupAndSiteRecovery {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n/********************** RCDSOAzureAppServicesCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureAppServicesCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n</code></pre>\n<p>So now, before sending response to client side in my application. I want to fetch data from this response and want to do some manipulation and convert that into custom POJO class. I tried using JSONObject but got some exceptions.</p>\n<p>I want to display this JSON data in HTML table using AJAX.</p>\n<p><strong>So how should I extract or get individual data from above JSON?</strong></p>\n"},{"tags":["java","rest","jersey","form-submit","jersey-2.0"],"comments":[{"owner":{"account_id":1001388,"reputation":498,"user_id":1016161,"display_name":"Marek Potociar"},"score":0,"creation_date":1414166058,"post_id":26053697,"comment_id":41725401,"body_markdown":"For large entities, you need to manually buffer the entity into a temp file and then replace the entity stream to point to a stream that would read the entity from the temp file. There is no other off-the-shelf support in Jersey for this use case at this point available, I&#39;m afraid.","body":"For large entities, you need to manually buffer the entity into a temp file and then replace the entity stream to point to a stream that would read the entity from the temp file. There is no other off-the-shelf support in Jersey for this use case at this point available, I&#39;m afraid."}],"answers":[{"tags":[],"owner":{"account_id":1001388,"reputation":498,"user_id":1016161,"display_name":"Marek Potociar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414166340,"creation_date":1414166340,"answer_id":26551708,"question_id":26053697,"body_markdown":"See my comment to your [issue opened against Jersey][1].\r\n\r\nEssentially you have already answered your question in the edited text. And, unfortunately, in case you need to deal with very large entities, you need to do the heavy lifting (buffering &amp; processing &amp; serving &amp; cleanup of the entity stream) manually at the moment.\r\n\r\n\r\n  [1]: https://java.net/jira/browse/JERSEY-2664?focusedCommentId=381362&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-381362","title":"How to get form data parameters from ContainerRequestContext","body":"<p>See my comment to your <a href=\"https://java.net/jira/browse/JERSEY-2664?focusedCommentId=381362&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-381362\" rel=\"nofollow\">issue opened against Jersey</a>.</p>\n\n<p>Essentially you have already answered your question in the edited text. And, unfortunately, in case you need to deal with very large entities, you need to do the heavy lifting (buffering &amp; processing &amp; serving &amp; cleanup of the entity stream) manually at the moment.</p>\n"}],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8190,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671014721,"creation_date":1411714429,"question_id":26053697,"body_markdown":"I have used Jersey 2 to expose functionality (restful API).\r\n\r\nWhere I want to access form parameter at filter level, the way we have accessed `pathparam`,`queryparam` from `ContainerRequestContext.\r\n\r\nFilter:-\r\n\r\n    public class SecurityFilter implements ContainerRequestFilter, ContainerResponseFilter\r\n    {\r\n      private ResourceInfo ResourceInfo;\r\n    \r\n        // ignore this\r\n        public SecurityFilter(ResourceInfo ResourceInfo)\r\n        {\r\n           \r\n        }\r\n    \r\n        @Override\r\n    \tpublic void filter(ContainerRequestContext ctx) throws IOException\r\n    \t{\r\n            MultivaluedMap&lt;String, String&gt; pathparam = ctx.getUriInfo().getPathParameters();\r\n    \t\tMultivaluedMap&lt;String, String&gt; queryparam = ctx.getUriInfo().getQueryParameters();\r\n          // Here I want all form parameters \r\n        }    \r\n    \r\n        // ignore this     \r\n        @Override\r\n    \tpublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException\r\n    \t{\r\n    \r\n        }    \r\n    }\r\n\r\n\r\nSo how can I get the form parameters from `ContainerRequestContext` in above filter?\r\n\r\n---\r\n**EDIT :**\r\n\r\nI have one way to get form data is \r\n\r\n    ((ContainerRequest) context).bufferEntity();\r\n    // Read entity\r\n    FormDataMultiPart multiPart = ((ContainerRequest) context).readEntity(FormDataMultiPart.class);\r\n    String myValue =  multiPart.getField(&quot;foo&quot;).getValue();\r\n\r\nBut this won&#39;t work for large file because `((ContainerRequest) context).bufferEntity()` contain entity in memory so `Exceptionorg.glassfish.jersey.server.ContainerException: java.lang.OutOfMemoryError: Java heap space` exception occur.","title":"How to get form data parameters from ContainerRequestContext","body":"<p>I have used Jersey 2 to expose functionality (restful API).</p>\n<p>Where I want to access form parameter at filter level, the way we have accessed <code>pathparam</code>,<code>queryparam</code> from `ContainerRequestContext.</p>\n<p>Filter:-</p>\n<pre><code>public class SecurityFilter implements ContainerRequestFilter, ContainerResponseFilter\n{\n  private ResourceInfo ResourceInfo;\n\n    // ignore this\n    public SecurityFilter(ResourceInfo ResourceInfo)\n    {\n       \n    }\n\n    @Override\n    public void filter(ContainerRequestContext ctx) throws IOException\n    {\n        MultivaluedMap&lt;String, String&gt; pathparam = ctx.getUriInfo().getPathParameters();\n        MultivaluedMap&lt;String, String&gt; queryparam = ctx.getUriInfo().getQueryParameters();\n      // Here I want all form parameters \n    }    \n\n    // ignore this     \n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException\n    {\n\n    }    \n}\n</code></pre>\n<p>So how can I get the form parameters from <code>ContainerRequestContext</code> in above filter?</p>\n<hr />\n<p><strong>EDIT :</strong></p>\n<p>I have one way to get form data is</p>\n<pre><code>((ContainerRequest) context).bufferEntity();\n// Read entity\nFormDataMultiPart multiPart = ((ContainerRequest) context).readEntity(FormDataMultiPart.class);\nString myValue =  multiPart.getField(&quot;foo&quot;).getValue();\n</code></pre>\n<p>But this won't work for large file because <code>((ContainerRequest) context).bufferEntity()</code> contain entity in memory so <code>Exceptionorg.glassfish.jersey.server.ContainerException: java.lang.OutOfMemoryError: Java heap space</code> exception occur.</p>\n"},{"tags":["java","popup","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1671013968,"creation_date":1393520744,"answer_id":22075357,"question_id":22074499,"body_markdown":"Looking though the Eclipse source there does not seem to be a definitive way. The closest is some variant of \r\n\r\n    PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\r\n\r\nEven if this returns `null` that is still acceptable to `MessageDialog`.\r\n\r\n`DebugUIPlugin` has this more elaborate version:\r\n\r\n    public static Shell getShell() {\r\n      IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\r\n      if (window == null) {\r\n        IWorkbenchWindow[] windows = PlatformUI.getWorkbench().getWorkbenchWindows();\r\n        if (windows.length &gt; 0) {\r\n           return windows[0].getShell();\r\n        }\r\n      }\r\n      else {\r\n        return window.getShell();\r\n      }\r\n      return null;\r\n    }\r\n\r\nUse of `MessageDialog` from a `Job` is rare in the Eclipse source. As the Job runs asynchronously a popup from the Job could be rather unexpected.\r\n\r\nIn Eclipse 4 applications if you can get the `IEclipseContext` there should be an `IShellProvider` in the context. e4 apps can also use `StatusReporter` which does not need a shell.\r\n\r\nIn e4 applications you can also inject the active shell using:\r\n```java\r\n@Named(IServiceConstants.ACTIVE_SHELL) Shell shell\r\n```","title":"Eclipse RCP which shell to use for popups","body":"<p>Looking though the Eclipse source there does not seem to be a definitive way. The closest is some variant of</p>\n<pre><code>PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\n</code></pre>\n<p>Even if this returns <code>null</code> that is still acceptable to <code>MessageDialog</code>.</p>\n<p><code>DebugUIPlugin</code> has this more elaborate version:</p>\n<pre><code>public static Shell getShell() {\n  IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\n  if (window == null) {\n    IWorkbenchWindow[] windows = PlatformUI.getWorkbench().getWorkbenchWindows();\n    if (windows.length &gt; 0) {\n       return windows[0].getShell();\n    }\n  }\n  else {\n    return window.getShell();\n  }\n  return null;\n}\n</code></pre>\n<p>Use of <code>MessageDialog</code> from a <code>Job</code> is rare in the Eclipse source. As the Job runs asynchronously a popup from the Job could be rather unexpected.</p>\n<p>In Eclipse 4 applications if you can get the <code>IEclipseContext</code> there should be an <code>IShellProvider</code> in the context. e4 apps can also use <code>StatusReporter</code> which does not need a shell.</p>\n<p>In e4 applications you can also inject the active shell using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Named(IServiceConstants.ACTIVE_SHELL) Shell shell\n</code></pre>\n"}],"owner":{"account_id":1192805,"reputation":586,"user_id":1165215,"accept_rate":59,"display_name":"Link19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5686,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1671013968,"creation_date":1393518530,"question_id":22074499,"body_markdown":"I am trying to get hold of a shell in Eclipse RCP and bring up popups in my application and had gone through several resources/tutorials to achieve the task but without much luck.\r\n\r\nTried:\r\n--------\r\n\r\n    Display.getCurrent().getActiveShell();\r\nor\r\n\r\n    Display.getDefault().getActiveShell();\r\nor\r\n  \r\n      PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\r\n\r\nor sometimes even\r\n   \r\n\r\n     Display.getDefault().getShells()[0];\r\n\r\nBut different things seem to work in different situations.\r\n\r\nResources online have different views and most things I find say you shouldn&#39;t really use the `Display` class at all but I am trying to bring up a popup from within an eclipse Job. It&#39;s got to the end and failed and the popup needs to be displayed using:\r\n\r\nCode:\r\n---------\r\n\r\n\t\t\tDisplay.getCurrent().syncExec(new Runnable() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\r\n\t\t\t\t\t\tMessageDialog.openError(Display.getDefault().getActiveShell(), &quot;Publish&quot;, e.getMessage());\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\nThe popup is inside a Runnable being executed from a Thread started from an Eclipse Job. It&#39;s complex but necessary to provide progress bar updates whilst calling a synchronous method on a server.\r\n\r\nIt doesn&#39;t work and I don&#39;t know why. Just getting a null from the getActiveShell() call.\r\n\r\nThe real question though isn&#39;t &#39;why doesn&#39;t my code work&#39; but was is the definitively correct way to get a shell for a popup in Eclipse RCP framework, and especial in situations where you can&#39;t access a workbench?\r\n","title":"Eclipse RCP which shell to use for popups","body":"<p>I am trying to get hold of a shell in Eclipse RCP and bring up popups in my application and had gone through several resources/tutorials to achieve the task but without much luck.</p>\n\n<h2>Tried:</h2>\n\n<pre><code>Display.getCurrent().getActiveShell();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Display.getDefault().getActiveShell();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\n</code></pre>\n\n<p>or sometimes even</p>\n\n<pre><code> Display.getDefault().getShells()[0];\n</code></pre>\n\n<p>But different things seem to work in different situations.</p>\n\n<p>Resources online have different views and most things I find say you shouldn't really use the <code>Display</code> class at all but I am trying to bring up a popup from within an eclipse Job. It's got to the end and failed and the popup needs to be displayed using:</p>\n\n<h2>Code:</h2>\n\n<pre><code>        Display.getCurrent().syncExec(new Runnable() {\n\n            @Override\n            public void run() {\n\n                    MessageDialog.openError(Display.getDefault().getActiveShell(), \"Publish\", e.getMessage());\n\n\n            }\n        });\n    }\n</code></pre>\n\n<p>The popup is inside a Runnable being executed from a Thread started from an Eclipse Job. It's complex but necessary to provide progress bar updates whilst calling a synchronous method on a server.</p>\n\n<p>It doesn't work and I don't know why. Just getting a null from the getActiveShell() call.</p>\n\n<p>The real question though isn't 'why doesn't my code work' but was is the definitively correct way to get a shell for a popup in Eclipse RCP framework, and especial in situations where you can't access a workbench?</p>\n"},{"tags":["java","spring-boot","caching"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671036402,"post_id":74796843,"comment_id":132012327,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27249644,"reputation":1,"user_id":20774319,"display_name":"2Na1Ve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671013880,"creation_date":1671013880,"question_id":74796843,"body_markdown":"Requirements:\r\nThere has a huge number of data from rabbitMq every hour, but the environment is not stable and may cause the project restart and data lack. I want to know the number of the data lack when it occure everyday. Beacuse the volume of data is huge I have to use caffine cache. The large volume of data led me to use caffine caching instead of using database record information. Now the problem is that when the project is restarted, the data in the Caffine cache is cleared and I have no way of knowing when a data miss occurs.\r\n\r\nI used to use mongodb to record the time I received data and calcute the time period ","title":"How to get the time when Caffine cache is emptied due to project restart","body":"<p>Requirements:\nThere has a huge number of data from rabbitMq every hour, but the environment is not stable and may cause the project restart and data lack. I want to know the number of the data lack when it occure everyday. Beacuse the volume of data is huge I have to use caffine cache. The large volume of data led me to use caffine caching instead of using database record information. Now the problem is that when the project is restarted, the data in the Caffine cache is cleared and I have no way of knowing when a data miss occurs.</p>\n<p>I used to use mongodb to record the time I received data and calcute the time period</p>\n"},{"tags":["java","asynchronous","grpc","nonblocking","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1670239665,"post_id":74683791,"comment_id":131822388,"body_markdown":"For question 1, you will reduce the number of threads if you rely on asynchronous I/O, if your RPC client allows for it. For question 3 you should definitely use different thread-pools for CPU-bound and I/O-bound tasks. And if you have tasks that mix the two, you should use a thread-pool that is appropriately sized for it, depending on the percentage of time spent on each. If you are worried about the complexity of async code, maybe have a look at [ea-async](https://github.com/electronicarts/ea-async/).","body":"For question 1, you will reduce the number of threads if you rely on asynchronous I/O, if your RPC client allows for it. For question 3 you should definitely use different thread-pools for CPU-bound and I/O-bound tasks. And if you have tasks that mix the two, you should use a thread-pool that is appropriately sized for it, depending on the percentage of time spent on each. If you are worried about the complexity of async code, maybe have a look at <a href=\"https://github.com/electronicarts/ea-async/\" rel=\"nofollow noreferrer\">ea-async</a>."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1670268182,"post_id":74683791,"comment_id":131832515,"body_markdown":"Thanks a lot for the response! QQ, for question 1 you are saying it leads to less thread. Looking at my Java example above, I feel like I am just moving the problem from the &quot;request thread&quot; to whatever thread CompletableFuture ends-up spawning in methodD, is that not correct? (i.e. MethodD thread need to remain alive waiting for the IO output). How can the RPC Client wait for a response without having any thread alive to listen to the response? Even if it was possible, do you feel like saving that thread is worth all the overhead of CompletableFuture and spawning multiple extra async thread?","body":"Thanks a lot for the response! QQ, for question 1 you are saying it leads to less thread. Looking at my Java example above, I feel like I am just moving the problem from the &quot;request thread&quot; to whatever thread CompletableFuture ends-up spawning in methodD, is that not correct? (i.e. MethodD thread need to remain alive waiting for the IO output). How can the RPC Client wait for a response without having any thread alive to listen to the response? Even if it was possible, do you feel like saving that thread is worth all the overhead of CompletableFuture and spawning multiple extra async thread?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1670269591,"post_id":74683791,"comment_id":131832947,"body_markdown":"As with most performance issues, the best thing you can do is measure your throughput and compare between the different options. Your thoughts all sound reasonable, but performance is often counterintuitive, and definitely depends on many factors (eg your &quot;some functions are CPU-expensive&quot;).","body":"As with most performance issues, the best thing you can do is measure your throughput and compare between the different options. Your thoughts all sound reasonable, but performance is often counterintuitive, and definitely depends on many factors (eg your &quot;some functions are CPU-expensive&quot;)."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1670272244,"post_id":74683791,"comment_id":131833696,"body_markdown":"I’m saying it reduces thge number of threads _if you rely on asynchronous I/O_. It’s the whole point of this approach. [gRPC appears to support it](https://grpc.io/docs/languages/java/basics/#instantiating-a-stub). In that case, no thread is waiting for the response. The JVM will invoke a callback (on another thread) when data is available. Reducing the number of threads usually improves performance by reducing the amount of context switching between those threads (as well as the amount of memory used).","body":"I’m saying it reduces thge number of threads <i>if you rely on asynchronous I/O</i>. It’s the whole point of this approach. <a href=\"https://grpc.io/docs/languages/java/basics/#instantiating-a-stub\" rel=\"nofollow noreferrer\">gRPC appears to support it</a>. In that case, no thread is waiting for the response. The JVM will invoke a callback (on another thread) when data is available. Reducing the number of threads usually improves performance by reducing the amount of context switching between those threads (as well as the amount of memory used)."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670462685,"post_id":74683791,"comment_id":131883884,"body_markdown":"I don&#39;t understand. Are you asking to run `methodB` and `methodC` in parallel? And kicking off `methodB` would then kick off `methodD` and `methodE` in parallel? Or are you asking something different? Please explain in detail the order of method execution, and specify which methods are running in parallel, and which are running sequentially.","body":"I don&#39;t understand. Are you asking to run <code>methodB</code> and <code>methodC</code> in parallel? And kicking off <code>methodB</code> would then kick off <code>methodD</code> and <code>methodE</code> in parallel? Or are you asking something different? Please explain in detail the order of method execution, and specify which methods are running in parallel, and which are running sequentially."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670465027,"post_id":74683791,"comment_id":131884195,"body_markdown":"In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage  of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?","body":"In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage  of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670528514,"post_id":74683791,"comment_id":131901549,"body_markdown":"@HenriLapierre Ahhhh, I understand your question much better now. I would copy and paste your comment into your question - future readers will understand your dilemma much better. I am writing up an answer for you now.","body":"@HenriLapierre Ahhhh, I understand your question much better now. I would copy and paste your comment into your question - future readers will understand your dilemma much better. I am writing up an answer for you now."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671007769,"post_id":74683791,"comment_id":132001798,"body_markdown":"There’s a contradiction in your statement “*all methods are running sequentially*” and the fact that you are using `supplyAsync`. The operation within the supplier is *not* running sequentially.","body":"There’s a contradiction in your statement “<i>all methods are running sequentially</i>” and the fact that you are using <code>supplyAsync</code>. The operation within the supplier is <i>not</i> running sequentially."}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670443950,"creation_date":1670443950,"answer_id":74722404,"question_id":74683791,"body_markdown":"On the first question: there is no need to wrap all intermediate calls into `CompleteableFuture`s if these are all sequential. You can as well wrap the chain of sequential calls into one single `CompleteableFuture`: \r\n\r\n    public void myEndpoint() throws ExecutionException, InterruptedException {\r\n        CompletableFuture.supplyAsync(() -&gt; methodA(10))\r\n            .thenApply((response) -&gt; responseObserver.next(response));\r\n    }\r\n\r\n    public int methodA(Integer input) {\r\n        var i = methodC((methodB(input)));\r\n        System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public int methodB(Integer input) {\r\n        var i = methodE(methodD(input));\r\n        System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public int methodC(Integer input) {\r\n        var i = methodG(methodF(input));\r\n        System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public Integer methodD(Integer input) {\r\n        try {\r\n            // Assume it&#39;s a RPC call that takes 5-30ms\r\n            Thread.sleep(20);\r\n            System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodE(Integer input) {\r\n        System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodF(Integer input) {\r\n        try {\r\n            // Let&#39;s assume it&#39;s a CPU intensive work that takes 2-5ms\r\n            Thread.sleep(5);\r\n            System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodG(Integer input) {\r\n        System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        return input + 1;\r\n    }\r\n\r\nThe result is the same and the main thread gets not blocked. Since there are far less `CompleteableFuture` instances, there is less overhead from handing calls over from one thread to another. \r\n\r\nThus for question 2, no this is not best practices the way your example code is structured. Use `CompleteableFuture` if you must, avoid it otherwise. For example you need to use `CompleteableFuture#thenCompose` when you don&#39;t have control over the API you are calling (i.e. you can&#39;t change the return type from `CompleteableFuture&lt;T&gt;` to plain `T`). Another case is when you want to take advantage of parallelism. But this is not applicable here. ","title":"Java CompletableFuture for sequential code","body":"<p>On the first question: there is no need to wrap all intermediate calls into <code>CompleteableFuture</code>s if these are all sequential. You can as well wrap the chain of sequential calls into one single <code>CompleteableFuture</code>:</p>\n<pre><code>public void myEndpoint() throws ExecutionException, InterruptedException {\n    CompletableFuture.supplyAsync(() -&gt; methodA(10))\n        .thenApply((response) -&gt; responseObserver.next(response));\n}\n\npublic int methodA(Integer input) {\n    var i = methodC((methodB(input)));\n    System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic int methodB(Integer input) {\n    var i = methodE(methodD(input));\n    System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic int methodC(Integer input) {\n    var i = methodG(methodF(input));\n    System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic Integer methodD(Integer input) {\n    try {\n        // Assume it's a RPC call that takes 5-30ms\n        Thread.sleep(20);\n        System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return input + 1;\n}\n\npublic int methodE(Integer input) {\n    System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    return input + 1;\n}\n\npublic int methodF(Integer input) {\n    try {\n        // Let's assume it's a CPU intensive work that takes 2-5ms\n        Thread.sleep(5);\n        System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return input + 1;\n}\n\npublic int methodG(Integer input) {\n    System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    return input + 1;\n}\n</code></pre>\n<p>The result is the same and the main thread gets not blocked. Since there are far less <code>CompleteableFuture</code> instances, there is less overhead from handing calls over from one thread to another.</p>\n<p>Thus for question 2, no this is not best practices the way your example code is structured. Use <code>CompleteableFuture</code> if you must, avoid it otherwise. For example you need to use <code>CompleteableFuture#thenCompose</code> when you don't have control over the API you are calling (i.e. you can't change the return type from <code>CompleteableFuture&lt;T&gt;</code> to plain <code>T</code>). Another case is when you want to take advantage of parallelism. But this is not applicable here.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670573715,"creation_date":1670532915,"answer_id":74736229,"question_id":74683791,"body_markdown":"Your question is a little unclear, and I think your comment phrases the real question better. Copied and pasted below.\r\n\r\n&gt; In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?\r\n\r\nGreat question. \r\n\r\nWhen you write plain, sequential code with no `CompletableFuture&lt;T&gt;`, your code runs synchronously on a single thread. No new threads are made to run your code. However, when you make a `CompletableFuture&lt;T&gt;` and put a task on it, a couple of things occur.\r\n\r\n* A new thread is created\r\n* The task given to the `CompletableFuture&lt;T&gt;` is placed onto this new thread\r\n* ***Java then uses a scheduler to jump back and forth between the main thread and the new thread when doing work.***\r\n  * Now, if your computer has multiple cores, and the number of cores is larger than the number of threads, then the above may not happen. But typically, the number of threads your application uses is way more than 2/4/8, so the point I am making above is almost always true\r\n\r\nAs you can see, the 3rd bullet is the most important because this is where the biggest benefit of multithreading occurs. The Java scheduler allows you to pause and continue threads on the fly, so that every thread can make some progress over time.\r\n\r\nThis is powerful because ***some threads may be waiting on IO work to be completed.*** A thread that is waiting on IO work is essentially ***doing nothing and wasting its turn on the CPU core.*** \r\n\r\nBy using a Java scheduler, you can minimize (if not eliminate) the time wasted on a core, and quickly switch to a thread that is not waiting on IO work to continue.\r\n\r\nAnd this is probably the big benefit that your teammates are striving for. They want to ensure that all work that is being done wastes as little time as possible on the core. That is the big point.\r\n\r\n***That said***, whether or not they actually succeeded depends on a couple of different questions that I need you to answer.\r\n\r\n1. You mentioned `methodB` and `methodC`. Can any of these methods be run in parallel? Does `methodB` have to ***fully complete*** before `methodC` can be executed? Or can `methodC` ***run in parallel*** to `methodB`? The same question applies to `methodD` and `methodE`, or `methodF` and `methodG`. I understand that currently, they run sequentially and wait for each other to finish. That&#39;s not my question. I am asking if it is possible for them to run in parallel.\r\n\r\n2. Are you using rate limiting tools like `Semaphore` anywhere in your code? Ideally, I would limit the scope of your answer to explicit code that your team writes, but if you know for sure that one of your dependencies does it, then feel free to mention it too.\r\n\r\n* If your answers to question 1 is no, then 99% of the time, doing what your team is doing is a terrible idea. The only method that should be in its own separate thread is `methodA`, but it sounds like you are already doing that.\r\n* If you answer to question 1 is at least partly yes but question 2 is no, then your teammates are pretty much correct. Over time, try to get an idea about where and when it makes the most sense. But as a first pass solution? This isn&#39;t a horrible idea.\r\n    * If you said that B and C can be parallel, but D and E cannot, then wrapping B and C in `CompletableFuture&lt;T&gt;` makes sense, but not for D and E. They should just be basic sequential Java code. Unless of course, this a modular method/class that can be used in other code and might be parallel there. Nuance is required here, but starting with all of them being `CompletableFuture&lt;T&gt;` isn&#39;t a terrible first solution.\r\n* If your answer to question 1 is at least partly yes and your answer to question 2 is also yes, then you&#39;ll have to take a deep dive into your profiler to find the answer. Things like `Semaphore` are a different type of IO since they are a &quot;context-dependent&quot; tax that you pay depending on the state of your program around you. But since they are a construct that exists inside of your code, it becomes a dependable and measurable sort of IO that you can build deductions and assumptions off of. To keep my answer short, rate-limiting tools will allow you to make dependable assumptions about your code, and thus, any results from your profiler will be way more useful than they would be else where. `methodA` should definitely still be in its own separate thread.\r\n\r\nSo in short.\r\n* If 1 and 2 are yes, the answer is going to require nuance. Go into your profiler and find out.\r\n* If 1 is yes but 2 is no, your teammates are right. Change as needed, but go ahead with this solution.\r\n* If 1 is no, then your teammates are wrong. Make them change.\r\n\r\nAnd for all of these, `methodA` should be in its own separate thread no matter what.\r\n\r\n***EDIT*** - the original poster of the question has confirmed that the answer to question 1 and 2 are both no. Therefore, the team is wrong and should pull back this change. I will take this opportunity to explain in better detail why their decision is wrong.\r\n\r\nAs mentioned before, the big utility behind `CompletableFuture&lt;T&gt;` and other threading tools is that they allow you to do work on specific threads while other specific threads are waiting on some IO operation to finish. This is accomplished by switching between threads.\r\n\r\nHowever, if there is no IO operation being done, then you are not saving time because none of the threads were ever waiting. So you gain nothing by having `CompletableFuture&lt;T&gt;`. And worse yet, you actually lose performance by doing this.\r\n\r\nSee, when switching between threads like I just mentioned, you have to &quot;*page state*&quot;, which is the short way of saying &quot;*grab all the variables in scope for that thread and load them into main memory, while unloading all the data from the previous thread*&quot;. &quot;*Paging state*&quot; like this is fast, but it&#39;s not instantaneous. It costs you performance to switch threads like that.\r\n\r\nAnd to make matters worse, your teammates put this on ***every method***. So not only are they slowing down their code by a nontrivial amount just to pointlessly spin their wheels, but they are doing it extremely frequently, since this *de*optimization is occurring on every method.\r\n\r\nI would confront your team immediately and point out how damaging this is. They are explicitly in the wrong for doing this, and even if they were preparing for some inevitable future, this is still a terrible time to implement this. Wait until that time comes and build it out as the need arises. As is now, they are gutting their performance for no good reason.","title":"Java CompletableFuture for sequential code","body":"<p>Your question is a little unclear, and I think your comment phrases the real question better. Copied and pasted below.</p>\n<blockquote>\n<p>In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?</p>\n</blockquote>\n<p>Great question.</p>\n<p>When you write plain, sequential code with no <code>CompletableFuture&lt;T&gt;</code>, your code runs synchronously on a single thread. No new threads are made to run your code. However, when you make a <code>CompletableFuture&lt;T&gt;</code> and put a task on it, a couple of things occur.</p>\n<ul>\n<li>A new thread is created</li>\n<li>The task given to the <code>CompletableFuture&lt;T&gt;</code> is placed onto this new thread</li>\n<li><em><strong>Java then uses a scheduler to jump back and forth between the main thread and the new thread when doing work.</strong></em>\n<ul>\n<li>Now, if your computer has multiple cores, and the number of cores is larger than the number of threads, then the above may not happen. But typically, the number of threads your application uses is way more than 2/4/8, so the point I am making above is almost always true</li>\n</ul>\n</li>\n</ul>\n<p>As you can see, the 3rd bullet is the most important because this is where the biggest benefit of multithreading occurs. The Java scheduler allows you to pause and continue threads on the fly, so that every thread can make some progress over time.</p>\n<p>This is powerful because <em><strong>some threads may be waiting on IO work to be completed.</strong></em> A thread that is waiting on IO work is essentially <em><strong>doing nothing and wasting its turn on the CPU core.</strong></em></p>\n<p>By using a Java scheduler, you can minimize (if not eliminate) the time wasted on a core, and quickly switch to a thread that is not waiting on IO work to continue.</p>\n<p>And this is probably the big benefit that your teammates are striving for. They want to ensure that all work that is being done wastes as little time as possible on the core. That is the big point.</p>\n<p><em><strong>That said</strong></em>, whether or not they actually succeeded depends on a couple of different questions that I need you to answer.</p>\n<ol>\n<li><p>You mentioned <code>methodB</code> and <code>methodC</code>. Can any of these methods be run in parallel? Does <code>methodB</code> have to <em><strong>fully complete</strong></em> before <code>methodC</code> can be executed? Or can <code>methodC</code> <em><strong>run in parallel</strong></em> to <code>methodB</code>? The same question applies to <code>methodD</code> and <code>methodE</code>, or <code>methodF</code> and <code>methodG</code>. I understand that currently, they run sequentially and wait for each other to finish. That's not my question. I am asking if it is possible for them to run in parallel.</p>\n</li>\n<li><p>Are you using rate limiting tools like <code>Semaphore</code> anywhere in your code? Ideally, I would limit the scope of your answer to explicit code that your team writes, but if you know for sure that one of your dependencies does it, then feel free to mention it too.</p>\n</li>\n</ol>\n<ul>\n<li>If your answers to question 1 is no, then 99% of the time, doing what your team is doing is a terrible idea. The only method that should be in its own separate thread is <code>methodA</code>, but it sounds like you are already doing that.</li>\n<li>If you answer to question 1 is at least partly yes but question 2 is no, then your teammates are pretty much correct. Over time, try to get an idea about where and when it makes the most sense. But as a first pass solution? This isn't a horrible idea.\n<ul>\n<li>If you said that B and C can be parallel, but D and E cannot, then wrapping B and C in <code>CompletableFuture&lt;T&gt;</code> makes sense, but not for D and E. They should just be basic sequential Java code. Unless of course, this a modular method/class that can be used in other code and might be parallel there. Nuance is required here, but starting with all of them being <code>CompletableFuture&lt;T&gt;</code> isn't a terrible first solution.</li>\n</ul>\n</li>\n<li>If your answer to question 1 is at least partly yes and your answer to question 2 is also yes, then you'll have to take a deep dive into your profiler to find the answer. Things like <code>Semaphore</code> are a different type of IO since they are a &quot;context-dependent&quot; tax that you pay depending on the state of your program around you. But since they are a construct that exists inside of your code, it becomes a dependable and measurable sort of IO that you can build deductions and assumptions off of. To keep my answer short, rate-limiting tools will allow you to make dependable assumptions about your code, and thus, any results from your profiler will be way more useful than they would be else where. <code>methodA</code> should definitely still be in its own separate thread.</li>\n</ul>\n<p>So in short.</p>\n<ul>\n<li>If 1 and 2 are yes, the answer is going to require nuance. Go into your profiler and find out.</li>\n<li>If 1 is yes but 2 is no, your teammates are right. Change as needed, but go ahead with this solution.</li>\n<li>If 1 is no, then your teammates are wrong. Make them change.</li>\n</ul>\n<p>And for all of these, <code>methodA</code> should be in its own separate thread no matter what.</p>\n<p><em><strong>EDIT</strong></em> - the original poster of the question has confirmed that the answer to question 1 and 2 are both no. Therefore, the team is wrong and should pull back this change. I will take this opportunity to explain in better detail why their decision is wrong.</p>\n<p>As mentioned before, the big utility behind <code>CompletableFuture&lt;T&gt;</code> and other threading tools is that they allow you to do work on specific threads while other specific threads are waiting on some IO operation to finish. This is accomplished by switching between threads.</p>\n<p>However, if there is no IO operation being done, then you are not saving time because none of the threads were ever waiting. So you gain nothing by having <code>CompletableFuture&lt;T&gt;</code>. And worse yet, you actually lose performance by doing this.</p>\n<p>See, when switching between threads like I just mentioned, you have to &quot;<em>page state</em>&quot;, which is the short way of saying &quot;<em>grab all the variables in scope for that thread and load them into main memory, while unloading all the data from the previous thread</em>&quot;. &quot;<em>Paging state</em>&quot; like this is fast, but it's not instantaneous. It costs you performance to switch threads like that.</p>\n<p>And to make matters worse, your teammates put this on <em><strong>every method</strong></em>. So not only are they slowing down their code by a nontrivial amount just to pointlessly spin their wheels, but they are doing it extremely frequently, since this <em>de</em>optimization is occurring on every method.</p>\n<p>I would confront your team immediately and point out how damaging this is. They are explicitly in the wrong for doing this, and even if they were preparing for some inevitable future, this is still a terrible time to implement this. Wait until that time comes and build it out as the need arises. As is now, they are gutting their performance for no good reason.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671013838,"creation_date":1671013838,"answer_id":74796834,"question_id":74683791,"body_markdown":"The premise is that threads are a scarce resource, which is not intrinsic to threads but a consequence of using a pool of threads with a configured maximum. The reason today’s frameworks use a pool is that threads, as implemented today, are expensive and creating too many of them can cause significant performance problems.\r\n\r\nYou wrote\r\n\r\n&gt; My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation…\r\n\r\nwhich is going into the right direction, but it’s important to keep in mind that there might be more constraints than memory. Some operating system’s schedulers become significantly less efficient with a large number of threads, some may even have a fixed limit on how many threads a process is allowed to create.\r\n\r\nSo, when you block a thread by waiting for another, you are limiting the parallel processing capabilities of the thread pool. This applies if you are using, as you put it, a “true non-blocking” API, or just any already existing API that returns futures. Submitting your own operations via `supplyAsync` has no point as the supplier’s code still is executed by a thread, as you correctly pointed out.\r\n\r\nBut when you have an existing future returned by an operation, you should rather chain dependent processing steps instead of waiting for its result via `join` and friends. Note that calling `join()` on existing futures can make things even worse than just blocking threads:\r\n\r\nWhen you call `join()` on a `CompletableFuture`, it tries to compensate the problem. When the caller is a worker thread of a Fork/Join pool, one of two things can happen:\r\n\r\n - Instead of doing nothing, it may try to fetch pending jobs and execute them in-place, similar to [`awaitQuiescence`].\r\n   - In the best case, it will directly pick up the job you just scheduled with `supplyAsync` (if using the same pool) and execute it, almost as if you executed it without `CompletableFuture` (just consuming far more stack space).\r\n   - In the worst case, the thread will be busy executing a long running, entirely unrelated job while the job it’s actually waiting for has been completed long ago. Imagine what happens if that unrelated job also calls `join`.\r\n - It may end up actually blocking the thread but using [`ForkJoinPool.managedBlock(…)`], which may start a new worker thread to ensure that the pool’s configured parallelism is kept. Great to solve the problem of reduced parallelism, but on the other hand, reintroducing the very problem of resource consumption you actually wanted to solve with thread pools.\r\n\r\nThe worst of all is that you can’t even predict which of the two things will happen.\r\n\r\n---\r\n\r\nThere are, however, cases where not blocking a request thread by utilizing other threads has a point. Most notably when the response time for the request itself matters and the results of the background computation are delivered independent of the initial response. The most prominent example of this pattern is the event dispatch thread of GUI frameworks which must be kept free of long running operations, to be able to process subsequent user input.\r\n\r\n---\r\n\r\nNote that there is a general solution on the way, to make 99% of all future chains obsolete. [Virtual Threads], which are in preview state in JDK&#160;19, are cheap to create and allow to create one thread per request, just like you envisioned in the cite above. When a virtual thread gets blocked, it will release the underlying platform thread for the next virtual thread, so there is no reason to hesitate to call `join()` on any future, even those belonging to “true non-blocking” APIs.\r\n\r\nThe best way to interoperate with this concept and the status quo is to design methods to *not* return futures, but perform the operation in-place. It’s still possible to design a future chain when necessary, i.e. by using `.thenApplyAsync(this::inPlaceEvalMethod)` instead of `.thenCompose(this::futureReturningMethod)`. But at the same time, you can write a plain sequential version just calling these methods, which can be executed by a virtual thread. In fact, you could even add the plain sequential version today and benchmark both approaches. The results might convince your team members that “not blocking the request thread” is not necessarily an improvement.\r\n\r\n[`awaitQuiescence`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#awaitQuiescence(long,java.util.concurrent.TimeUnit)\r\n[`ForkJoinPool.managedBlock(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#managedBlock(java.util.concurrent.ForkJoinPool.ManagedBlocker)\r\n[Virtual Threads]: https://bugs.openjdk.org/browse/JDK-8277131","title":"Java CompletableFuture for sequential code","body":"<p>The premise is that threads are a scarce resource, which is not intrinsic to threads but a consequence of using a pool of threads with a configured maximum. The reason today’s frameworks use a pool is that threads, as implemented today, are expensive and creating too many of them can cause significant performance problems.</p>\n<p>You wrote</p>\n<blockquote>\n<p>My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation…</p>\n</blockquote>\n<p>which is going into the right direction, but it’s important to keep in mind that there might be more constraints than memory. Some operating system’s schedulers become significantly less efficient with a large number of threads, some may even have a fixed limit on how many threads a process is allowed to create.</p>\n<p>So, when you block a thread by waiting for another, you are limiting the parallel processing capabilities of the thread pool. This applies if you are using, as you put it, a “true non-blocking” API, or just any already existing API that returns futures. Submitting your own operations via <code>supplyAsync</code> has no point as the supplier’s code still is executed by a thread, as you correctly pointed out.</p>\n<p>But when you have an existing future returned by an operation, you should rather chain dependent processing steps instead of waiting for its result via <code>join</code> and friends. Note that calling <code>join()</code> on existing futures can make things even worse than just blocking threads:</p>\n<p>When you call <code>join()</code> on a <code>CompletableFuture</code>, it tries to compensate the problem. When the caller is a worker thread of a Fork/Join pool, one of two things can happen:</p>\n<ul>\n<li>Instead of doing nothing, it may try to fetch pending jobs and execute them in-place, similar to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#awaitQuiescence(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>awaitQuiescence</code></a>.\n<ul>\n<li>In the best case, it will directly pick up the job you just scheduled with <code>supplyAsync</code> (if using the same pool) and execute it, almost as if you executed it without <code>CompletableFuture</code> (just consuming far more stack space).</li>\n<li>In the worst case, the thread will be busy executing a long running, entirely unrelated job while the job it’s actually waiting for has been completed long ago. Imagine what happens if that unrelated job also calls <code>join</code>.</li>\n</ul>\n</li>\n<li>It may end up actually blocking the thread but using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#managedBlock(java.util.concurrent.ForkJoinPool.ManagedBlocker)\" rel=\"nofollow noreferrer\"><code>ForkJoinPool.managedBlock(…)</code></a>, which may start a new worker thread to ensure that the pool’s configured parallelism is kept. Great to solve the problem of reduced parallelism, but on the other hand, reintroducing the very problem of resource consumption you actually wanted to solve with thread pools.</li>\n</ul>\n<p>The worst of all is that you can’t even predict which of the two things will happen.</p>\n<hr />\n<p>There are, however, cases where not blocking a request thread by utilizing other threads has a point. Most notably when the response time for the request itself matters and the results of the background computation are delivered independent of the initial response. The most prominent example of this pattern is the event dispatch thread of GUI frameworks which must be kept free of long running operations, to be able to process subsequent user input.</p>\n<hr />\n<p>Note that there is a general solution on the way, to make 99% of all future chains obsolete. <a href=\"https://bugs.openjdk.org/browse/JDK-8277131\" rel=\"nofollow noreferrer\">Virtual Threads</a>, which are in preview state in JDK 19, are cheap to create and allow to create one thread per request, just like you envisioned in the cite above. When a virtual thread gets blocked, it will release the underlying platform thread for the next virtual thread, so there is no reason to hesitate to call <code>join()</code> on any future, even those belonging to “true non-blocking” APIs.</p>\n<p>The best way to interoperate with this concept and the status quo is to design methods to <em>not</em> return futures, but perform the operation in-place. It’s still possible to design a future chain when necessary, i.e. by using <code>.thenApplyAsync(this::inPlaceEvalMethod)</code> instead of <code>.thenCompose(this::futureReturningMethod)</code>. But at the same time, you can write a plain sequential version just calling these methods, which can be executed by a virtual thread. In fact, you could even add the plain sequential version today and benchmark both approaches. The results might convince your team members that “not blocking the request thread” is not necessarily an improvement.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1251,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74796834,"answer_count":3,"score":8,"last_activity_date":1671013838,"creation_date":1670218690,"question_id":74683791,"body_markdown":"My new team is writing a Java gRPC service and to ensure that we never block the request thread we ended-up wrapping more or less ALL methods inside a [CompletableFuture][1] even if those endpoints are conceptually a sequential list of operation (no parallelism).\r\n\r\nSo the code look something like (a Java example is available at the end if needed) :\r\n\r\n      methodA()\r\n        methodB()\r\n          methodD() (let say this one is a 15ms RPC call)\r\n          methodE()\r\n        methodC()\r\n          methodF() (let say this one is a 5ms CPU intensive work)\r\n          methodG()\r\n     \r\n\r\nContext:\r\n- In practice the application is much bigger and there&#39;re many more layers of functions\r\n- Each application host need to handle 1000 QPS, so you can imagine that methodA is called at that rate\r\n- Some function (few) make a RPC call that can take 5-30ms (IO)\r\n- Some function (very few) run CPU intensive work (&lt; 5ms)\r\n\r\n**Edit 1:** After more reading online yesterday, I understand that **if, and only if, we are using true non-blocking HTTP and DB Client (and it doesn&#39;t seem like JDBC is non-blocking)**, this pattern can reduce the total number of threads required. My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation (reduce the overhead of switching threads and loading data), but if we didn&#39;t have enough memory to keep that many threads alive, then this notion of making the whole code non-blocking can reduce the number of thread and thus allow the application to scale to more request.\r\n\r\n\r\n**Question 1:** \r\nI understand this unblocks the &quot;request thread&quot;, but in practice what&#39;s the advantage? Are we truly saving CPU time? In the example below, it feels like &quot;some&quot; thread will be alive the whole time anyways (in the example below, mostly the thread from CompletableFuture.supplyAsync in methodD), it just happens that it’s not the same thread as the one who received the initial request.\r\n\r\n**Question 2:**\r\nIs that pattern truly a &quot;best practice&quot; and all services should follow a similar pattern? Outside of making the code a bit harder to read I feel, per request 50+ methods gets invoked and 50+ times we call a mix of CompletableFuture `.thenCompose()` or `.supplyAsync`. It seems like it&#39;s would be adding some overhead. Was `CompletableFuture` designed to be used that way across the whole code base in every method?\r\n\r\n**Annex (java example):**\r\n\r\n\r\n      public void myEndpoint(MyRequest request, StreamObserver&lt;MyResponse&gt; responseObserver) {\r\n        methodA(10)\r\n            .thenApply((response) -&gt; responseObserver.next(response));\r\n        \r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodA(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodB)\r\n            .thenCompose(this::methodC)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodB(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodD)\r\n            .thenCompose(this::methodE)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodC(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodF)\r\n            .thenCompose(this::methodG)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodD(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          try {\r\n            // Assume it&#39;s a RPC call that takes 5-30ms\r\n            Thread.sleep(20);\r\n            System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodE(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodF(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          try {\r\n            // Let&#39;s assume it&#39;s a CPU intensive work that takes 2-5ms\r\n            Thread.sleep(5);\r\n            System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodG(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          return input + 1;\r\n        });\r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Java CompletableFuture for sequential code","body":"<p>My new team is writing a Java gRPC service and to ensure that we never block the request thread we ended-up wrapping more or less ALL methods inside a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> even if those endpoints are conceptually a sequential list of operation (no parallelism).</p>\n<p>So the code look something like (a Java example is available at the end if needed) :</p>\n<pre><code>  methodA()\n    methodB()\n      methodD() (let say this one is a 15ms RPC call)\n      methodE()\n    methodC()\n      methodF() (let say this one is a 5ms CPU intensive work)\n      methodG()\n \n</code></pre>\n<p>Context:</p>\n<ul>\n<li>In practice the application is much bigger and there're many more layers of functions</li>\n<li>Each application host need to handle 1000 QPS, so you can imagine that methodA is called at that rate</li>\n<li>Some function (few) make a RPC call that can take 5-30ms (IO)</li>\n<li>Some function (very few) run CPU intensive work (&lt; 5ms)</li>\n</ul>\n<p><strong>Edit 1:</strong> After more reading online yesterday, I understand that <strong>if, and only if, we are using true non-blocking HTTP and DB Client (and it doesn't seem like JDBC is non-blocking)</strong>, this pattern can reduce the total number of threads required. My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation (reduce the overhead of switching threads and loading data), but if we didn't have enough memory to keep that many threads alive, then this notion of making the whole code non-blocking can reduce the number of thread and thus allow the application to scale to more request.</p>\n<p><strong>Question 1:</strong>\nI understand this unblocks the &quot;request thread&quot;, but in practice what's the advantage? Are we truly saving CPU time? In the example below, it feels like &quot;some&quot; thread will be alive the whole time anyways (in the example below, mostly the thread from CompletableFuture.supplyAsync in methodD), it just happens that it’s not the same thread as the one who received the initial request.</p>\n<p><strong>Question 2:</strong>\nIs that pattern truly a &quot;best practice&quot; and all services should follow a similar pattern? Outside of making the code a bit harder to read I feel, per request 50+ methods gets invoked and 50+ times we call a mix of CompletableFuture <code>.thenCompose()</code> or <code>.supplyAsync</code>. It seems like it's would be adding some overhead. Was <code>CompletableFuture</code> designed to be used that way across the whole code base in every method?</p>\n<p><strong>Annex (java example):</strong></p>\n<pre><code>  public void myEndpoint(MyRequest request, StreamObserver&lt;MyResponse&gt; responseObserver) {\n    methodA(10)\n        .thenApply((response) -&gt; responseObserver.next(response));\n    \n  }\n\n  public CompletableFuture&lt;Integer&gt; methodA(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodB)\n        .thenCompose(this::methodC)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodB(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodD)\n        .thenCompose(this::methodE)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodC(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodF)\n        .thenCompose(this::methodG)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodD(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      try {\n        // Assume it's a RPC call that takes 5-30ms\n        Thread.sleep(20);\n        System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodE(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodF(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      try {\n        // Let's assume it's a CPU intensive work that takes 2-5ms\n        Thread.sleep(5);\n        System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodG(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      return input + 1;\n    });\n  }\n</code></pre>\n"},{"tags":["java","opengl","glsl","transparency","lwjgl"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1670974997,"post_id":74791940,"comment_id":131996232,"body_markdown":"Did you enable mipmaps? When it generates the mipmaps, there is a tendency for some bleed over the edges on some textures due to the reduced pixel count. One of the easiest solutions is to just add a couple extra pixels on the edges (either in code or the image file) to avoid the problem. However, I highly doubt this is the recommended solution. The proper solution is probably to generate the mipmaps in a way that it knows where the boundaries between sprites (letters in your case) are so it can avoid bleed.","body":"Did you enable mipmaps? When it generates the mipmaps, there is a tendency for some bleed over the edges on some textures due to the reduced pixel count. One of the easiest solutions is to just add a couple extra pixels on the edges (either in code or the image file) to avoid the problem. However, I highly doubt this is the recommended solution. The proper solution is probably to generate the mipmaps in a way that it knows where the boundaries between sprites (letters in your case) are so it can avoid bleed."},{"owner":{"account_id":8892914,"reputation":241,"user_id":6638889,"accept_rate":100,"display_name":"Andreas Sandberg"},"score":0,"creation_date":1670975795,"post_id":74791940,"comment_id":131996376,"body_markdown":"@Locke I am not using mipmapping. The game is in a very early stage right now so the texture rendering is very basic and straight forward.","body":"@Locke I am not using mipmapping. The game is in a very early stage right now so the texture rendering is very basic and straight forward."}],"answers":[{"tags":[],"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1671012830,"creation_date":1671012830,"answer_id":74796635,"question_id":74791940,"body_markdown":"These artefacts seem to be caused by linear interpolation in combination with repeat wrapping. With this modes, a texture coordinate of 0 will be an interpolation of the first texel with the last texel in the row which will cause the other side to bleed in.\r\n\r\nYou can, for example, set the wrapping mode to something else where the interpolation will not take texels from the other side like `GL_CLAMP_TO_EDGE`.\r\n\r\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\r\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);","title":"Visual artifacts in LWJGL (OpenGL) when rendering transparent 2D images","body":"<p>These artefacts seem to be caused by linear interpolation in combination with repeat wrapping. With this modes, a texture coordinate of 0 will be an interpolation of the first texel with the last texel in the row which will cause the other side to bleed in.</p>\n<p>You can, for example, set the wrapping mode to something else where the interpolation will not take texels from the other side like <code>GL_CLAMP_TO_EDGE</code>.</p>\n<pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n</code></pre>\n"}],"owner":{"account_id":8892914,"reputation":241,"user_id":6638889,"accept_rate":100,"display_name":"Andreas Sandberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74796635,"answer_count":1,"score":2,"last_activity_date":1671012830,"creation_date":1670973573,"question_id":74791940,"body_markdown":"I am using LWJGL to make a 2D game and my transparent textures have visual artifacts in them when rendered onto the screen.\r\n[![How it is supposed to look like][1]][1]\r\n\r\n\r\n[![What is looks like in game][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXUC4.png\r\n  [2]: https://i.stack.imgur.com/om3jB.png\r\n\r\nThe top image is how it is supposed to look like, and the bottom one is how it looks like in game. These visual artifacts are even bigger on larger images. I have tried turning off texture wrapping and I&#39;ve tried changing the MIN and MAG filter to GL_LINEAER.\r\n\r\nThis is what my fragment shader looks like:\r\n\r\n    #version 430\r\n    \r\n    uniform sampler2D sampler;\r\n    uniform float opacities[5];\r\n    uniform int opacityIndex;\r\n\r\n    in vec2 tex_coords;\r\n\r\n    out vec4 out_Color;\r\n\r\n    void main() {\r\n\t    out_Color = texture2D(sampler, tex_coords);\r\n\t    out_Color.a *= opacities[opacityIndex];\r\n    }\r\n\r\nThe opacities are all 1f when rendering, and I&#39;ve tried removing the last line of the main method all togehter but the artifacts still appear. \r\n\r\nHow do I get rid of these visual artifacts?\r\n\r\nEDIT: I forgot to add that when I upscale or downscale some of the images, the artifacts disappear, but they shouldn&#39;t be where they are in the first place since the one shown here is not being scaled at all to begin with.","title":"Visual artifacts in LWJGL (OpenGL) when rendering transparent 2D images","body":"<p>I am using LWJGL to make a 2D game and my transparent textures have visual artifacts in them when rendered onto the screen.\n<a href=\"https://i.stack.imgur.com/BXUC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXUC4.png\" alt=\"How it is supposed to look like\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/om3jB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/om3jB.png\" alt=\"What is looks like in game\" /></a></p>\n<p>The top image is how it is supposed to look like, and the bottom one is how it looks like in game. These visual artifacts are even bigger on larger images. I have tried turning off texture wrapping and I've tried changing the MIN and MAG filter to GL_LINEAER.</p>\n<p>This is what my fragment shader looks like:</p>\n<pre><code>#version 430\n\nuniform sampler2D sampler;\nuniform float opacities[5];\nuniform int opacityIndex;\n\nin vec2 tex_coords;\n\nout vec4 out_Color;\n\nvoid main() {\n    out_Color = texture2D(sampler, tex_coords);\n    out_Color.a *= opacities[opacityIndex];\n}\n</code></pre>\n<p>The opacities are all 1f when rendering, and I've tried removing the last line of the main method all togehter but the artifacts still appear.</p>\n<p>How do I get rid of these visual artifacts?</p>\n<p>EDIT: I forgot to add that when I upscale or downscale some of the images, the artifacts disappear, but they shouldn't be where they are in the first place since the one shown here is not being scaled at all to begin with.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","multiple-databases"],"owner":{"account_id":2220534,"reputation":276,"user_id":2128554,"accept_rate":62,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671012773,"creation_date":1669191504,"question_id":74543637,"body_markdown":"In [this][1] official example of configuring 2 data sources, they have used embedded DB.\r\nSo, with the help of Spring boot&#39;s How to documentations, [Configure Two DataSources][2] and [Using Multiple EntityManagerFactories][3], I customized that to use MySQL DB.\r\n\r\nYou can find the complete code under this [Github repository][4]. Don&#39;t forget to checkout the **&quot;two_data_sources_in_separate_files&quot;** branch.\r\n\r\nBut with this modification, **&quot;secondDBTransactionManager&quot;** is not pointing second_db. Instead, it is inserting data into first_db.\r\n\r\n**FirstDataSource.java**\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;, transactionManagerRef = &quot;firstDBTransactionManager&quot;)\r\n\r\n    public class FirstDataSource {\r\n\t@Bean\r\n\tPlatformTransactionManager firstDBTransactionManager(DataSourceProperties firstDataSourceProperties) {\r\n\t\treturn new JpaTransactionManager(firstDBEntityManagerFactory(firstDataSourceProperties).getObject());\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tLocalContainerEntityManagerFactoryBean firstDBEntityManagerFactory(DataSourceProperties firstDataSourceProperties) {\r\n\r\n\t\tHibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tjpaVendorAdapter.setGenerateDdl(true);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\r\n\t\tfactoryBean.setDataSource(firstDS(firstDataSourceProperties));\r\n\t\tfactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n\t\tfactoryBean.setPackagesToScan(FirstDataSource.class.getPackage().getName());\r\n\r\n\t\treturn factoryBean;\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;app.datasource.first&quot;)\r\n\tpublic DataSourceProperties firstDataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;app.datasource.first.configuration&quot;)\r\n\tpublic HikariDataSource firstDS(DataSourceProperties firstDataSourceProperties) {\r\n\t\treturn firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**SecondDataSource.java**\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;, transactionManagerRef = &quot;secondDBTransactionManager&quot;)\r\n    public class SecondDataSource {\r\n\r\n\t@Bean\r\n\tPlatformTransactionManager secondDBTransactionManager(DataSourceProperties secondDataSourceProperties) {\r\n\t\treturn new JpaTransactionManager(secondDBEntityManagerFactory(secondDataSourceProperties).getObject());\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;app.datasource.second&quot;)\r\n\tpublic DataSourceProperties secondDataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;app.datasource.second.configuration&quot;)\r\n\tpublic HikariDataSource secondDS(\r\n\t\t\t@Qualifier(&quot;secondDataSourceProperties&quot;) DataSourceProperties secondDataSourceProperties) {\r\n\t\treturn secondDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(DataSourceProperties secondDataSourceProperties) {\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tvendorAdapter.setGenerateDdl(true);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactoryBean.setDataSource(secondDS(secondDataSourceProperties));\r\n\t\tfactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n\t\tfactoryBean.setPackagesToScan(SecondDataSource.class.getPackage().getName());\r\n\r\n\t\treturn factoryBean;\r\n\t}\r\n\r\n    }\r\n\r\n**FetchData.java**\r\n\r\n    @Controller // This means that this class is a Controller\r\n    @RequestMapping(path = &quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path)\r\n    public class FetchData {\r\n\t\r\n\t@Autowired\r\n\tprivate TableARepository tableARepository;\r\n\r\n\t@Autowired\r\n\tprivate TableCRepository tableCRepository;\r\n\r\n\t@GetMapping(path = &quot;/addDataToFirstDB&quot;)\r\n\tpublic @ResponseBody void addDataToFirstDB() {\r\n\t\t// This returns a JSON or XML with the users\r\n\t\tTable_A tableA = new Table_A();\r\n\t\ttableA.setTable_a_col_1(&quot;test1&quot;);\r\n\t\ttableA.setTable_a_col_2(&quot;test2&quot;);\r\n\t\ttableA.setTable_a_col_3(&quot;test3&quot;);\r\n\t\ttableA.setTable_a_col_4(&quot;test4&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Inserting data into first DB.&quot;);\r\n\t\ttableARepository.save(tableA);\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/addDataToSecondDB&quot;)\r\n\t@Transactional(&quot;secondDBTransactionManager&quot;)\r\n\tpublic @ResponseBody void addDataToSecondDB() {\r\n\t\t// This returns a JSON or XML with the users\r\n\t\tTable_C tableC = new Table_C();\r\n\t\ttableC.setTable_c_col_1(&quot;test1&quot;);\r\n\t\ttableC.setTable_c_col_2(&quot;test2&quot;);\r\n\t\ttableC.setTable_c_col_3(&quot;test3&quot;);\r\n\t\ttableC.setTable_c_col_4(&quot;test4&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Inserting data into second DB.&quot;);\r\n\t\ttableCRepository.save(tableC);\r\n\t}\r\n    }\r\n\r\nObserve that, I&#39;ve used `@Transactional(&quot;secondDBTransactionManager&quot;)` for second REST API, **&quot;addDataToSecondDB&quot;**.\r\nIt is easy to resolve issue if any Exception is thrown. There is no Exception here but the behavior is not as expected.\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-examples/tree/main/jpa/multiple-datasources\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\r\n  [4]: https://github.com/Padmahas/accessing-data-mysql-multiple-datasources/tree/two_data_sources_in_separate_files","title":"Configured two data source in spring data JPA but second data source still considering first DB URL","body":"<p>In <a href=\"https://github.com/spring-projects/spring-data-examples/tree/main/jpa/multiple-datasources\" rel=\"nofollow noreferrer\">this</a> official example of configuring 2 data sources, they have used embedded DB.\nSo, with the help of Spring boot's How to documentations, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">Configure Two DataSources</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\" rel=\"nofollow noreferrer\">Using Multiple EntityManagerFactories</a>, I customized that to use MySQL DB.</p>\n<p>You can find the complete code under this <a href=\"https://github.com/Padmahas/accessing-data-mysql-multiple-datasources/tree/two_data_sources_in_separate_files\" rel=\"nofollow noreferrer\">Github repository</a>. Don't forget to checkout the <strong>&quot;two_data_sources_in_separate_files&quot;</strong> branch.</p>\n<p>But with this modification, <strong>&quot;secondDBTransactionManager&quot;</strong> is not pointing second_db. Instead, it is inserting data into first_db.</p>\n<p><strong>FirstDataSource.java</strong></p>\n<pre><code>@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;, transactionManagerRef = &quot;firstDBTransactionManager&quot;)\n\npublic class FirstDataSource {\n@Bean\nPlatformTransactionManager firstDBTransactionManager(DataSourceProperties firstDataSourceProperties) {\n    return new JpaTransactionManager(firstDBEntityManagerFactory(firstDataSourceProperties).getObject());\n}\n\n@Bean\n@Primary\nLocalContainerEntityManagerFactoryBean firstDBEntityManagerFactory(DataSourceProperties firstDataSourceProperties) {\n\n    HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n    jpaVendorAdapter.setGenerateDdl(true);\n\n    LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n\n    factoryBean.setDataSource(firstDS(firstDataSourceProperties));\n    factoryBean.setJpaVendorAdapter(jpaVendorAdapter);\n    factoryBean.setPackagesToScan(FirstDataSource.class.getPackage().getName());\n\n    return factoryBean;\n}\n\n@Bean\n@Primary\n@ConfigurationProperties(&quot;app.datasource.first&quot;)\npublic DataSourceProperties firstDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n@Bean\n@Primary\n@ConfigurationProperties(&quot;app.datasource.first.configuration&quot;)\npublic HikariDataSource firstDS(DataSourceProperties firstDataSourceProperties) {\n    return firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n}\n\n}\n</code></pre>\n<p><strong>SecondDataSource.java</strong></p>\n<pre><code>@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;, transactionManagerRef = &quot;secondDBTransactionManager&quot;)\npublic class SecondDataSource {\n\n@Bean\nPlatformTransactionManager secondDBTransactionManager(DataSourceProperties secondDataSourceProperties) {\n    return new JpaTransactionManager(secondDBEntityManagerFactory(secondDataSourceProperties).getObject());\n}\n\n@Bean\n@ConfigurationProperties(&quot;app.datasource.second&quot;)\npublic DataSourceProperties secondDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n@Bean\n@ConfigurationProperties(&quot;app.datasource.second.configuration&quot;)\npublic HikariDataSource secondDS(\n        @Qualifier(&quot;secondDataSourceProperties&quot;) DataSourceProperties secondDataSourceProperties) {\n    return secondDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n}\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(DataSourceProperties secondDataSourceProperties) {\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    vendorAdapter.setGenerateDdl(true);\n\n    LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n    factoryBean.setDataSource(secondDS(secondDataSourceProperties));\n    factoryBean.setJpaVendorAdapter(vendorAdapter);\n    factoryBean.setPackagesToScan(SecondDataSource.class.getPackage().getName());\n\n    return factoryBean;\n}\n\n}\n</code></pre>\n<p><strong>FetchData.java</strong></p>\n<pre><code>@Controller // This means that this class is a Controller\n@RequestMapping(path = &quot;/demo&quot;) // This means URL's start with /demo (after Application path)\npublic class FetchData {\n\n@Autowired\nprivate TableARepository tableARepository;\n\n@Autowired\nprivate TableCRepository tableCRepository;\n\n@GetMapping(path = &quot;/addDataToFirstDB&quot;)\npublic @ResponseBody void addDataToFirstDB() {\n    // This returns a JSON or XML with the users\n    Table_A tableA = new Table_A();\n    tableA.setTable_a_col_1(&quot;test1&quot;);\n    tableA.setTable_a_col_2(&quot;test2&quot;);\n    tableA.setTable_a_col_3(&quot;test3&quot;);\n    tableA.setTable_a_col_4(&quot;test4&quot;);\n    \n    System.out.println(&quot;Inserting data into first DB.&quot;);\n    tableARepository.save(tableA);\n    \n}\n\n@GetMapping(path = &quot;/addDataToSecondDB&quot;)\n@Transactional(&quot;secondDBTransactionManager&quot;)\npublic @ResponseBody void addDataToSecondDB() {\n    // This returns a JSON or XML with the users\n    Table_C tableC = new Table_C();\n    tableC.setTable_c_col_1(&quot;test1&quot;);\n    tableC.setTable_c_col_2(&quot;test2&quot;);\n    tableC.setTable_c_col_3(&quot;test3&quot;);\n    tableC.setTable_c_col_4(&quot;test4&quot;);\n    \n    System.out.println(&quot;Inserting data into second DB.&quot;);\n    tableCRepository.save(tableC);\n}\n}\n</code></pre>\n<p>Observe that, I've used <code>@Transactional(&quot;secondDBTransactionManager&quot;)</code> for second REST API, <strong>&quot;addDataToSecondDB&quot;</strong>.\nIt is easy to resolve issue if any Exception is thrown. There is no Exception here but the behavior is not as expected.</p>\n"},{"tags":["java","android","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1670516556,"post_id":74733208,"comment_id":131897896,"body_markdown":"Try to use this flag `PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_ONE_SHOT`","body":"Try to use this flag <code>PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_ONE_SHOT</code>"},{"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"score":0,"creation_date":1670516920,"post_id":74733208,"comment_id":131898026,"body_markdown":"Hello!,  thankyou for your response, in my case, normal notification (without action) is showing but if the notfication has a action, this is not working @Zain","body":"Hello!,  thankyou for your response, in my case, normal notification (without action) is showing but if the notfication has a action, this is not working @Zain"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1670520949,"post_id":74733208,"comment_id":131899333,"body_markdown":"Yeah I see, could you try this `PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE` in the boradcast PendingIntent `receiveCallPendingIntent` &amp; `cancelCallPendingIntent`","body":"Yeah I see, could you try this <code>PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE</code> in the boradcast PendingIntent <code>receiveCallPendingIntent</code> &amp; <code>cancelCallPendingIntent</code>"}],"answers":[{"tags":[],"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671012762,"creation_date":1671012762,"answer_id":74796618,"question_id":74733208,"body_markdown":"i solve this problem by this code\r\n\r\n     PendingIntent receiveCallPendingIntent;\r\n            PendingIntent cancelCallPendingIntent;\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n                receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n                cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }else{\r\n                receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n\r\nalso add this permission for force Android 12^ (AndroidManifest.xml)\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;&lt;receiver\r\n            android:name=&quot;.receiver.CallReceiver&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; &gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;","title":"Notification Builder action not working on API 31 (Android 12)","body":"<p>i solve this problem by this code</p>\n<pre><code> PendingIntent receiveCallPendingIntent;\n        PendingIntent cancelCallPendingIntent;\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n            receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n            cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n        }else{\n            receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n            cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n</code></pre>\n<p>also add this permission for force Android 12^ (AndroidManifest.xml)</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;&lt;receiver\n        android:name=&quot;.receiver.CallReceiver&quot;\n        android:exported=&quot;false&quot;\n        android:enabled=&quot;true&quot;\n        android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; &gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74796618,"answer_count":1,"score":2,"last_activity_date":1671012762,"creation_date":1670515921,"question_id":74733208,"body_markdown":"I&#39;m stuck while dealing with this api 31. i made a chat app. When I create an action button to receive a phone call it works on android below API 31 or below Android 12, but it doesn&#39;t work on Android 12 (only work if the notification is not has action). maybe someone here can help me in finding a solution to this problem?\r\n\r\nFirebaseService.java\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        boolean cancelNotification = false;\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        Map&lt;String, String&gt; params = remoteMessage.getData();\r\n        JSONObject data = new JSONObject(params);\r\n\r\n        PendingIntent pendingIntent;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n            pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n        }\r\n        else {\r\n            pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\r\n        }\r\n\r\n        String channel_id = getNotificationData(data, &quot;channel&quot;);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channel_id)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentTitle(getNotificationData(data, &quot;title&quot;))\r\n                .setContentText(getNotificationData(data, &quot;body&quot;))\r\n                .setAutoCancel(true)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;open&quot;)){\r\n            playCallSound(this);\r\n\r\n            if(WindowUtil.isAppOnBackground(this) || isScreenOff()){\r\n                ArrayList&lt;String&gt; par = new ArrayList&lt;&gt;();\r\n\r\n                par.add(&quot;call_channel&quot;);\r\n                par.add(&quot;call_type&quot;);\r\n                par.add(&quot;call_token&quot;);\r\n                par.add(&quot;call_peer&quot;);\r\n\r\n                String callType = getNotificationData(data, &quot;call_type&quot;);\r\n\r\n                if(callType.equals(&quot;3&quot;) || callType.equals(&quot;4&quot;)){\r\n                    par.add(&quot;call_group_name&quot;);\r\n                    par.add(&quot;call_group_caller&quot;);\r\n                }\r\n\r\n                Intent receiveCallAction = new Intent(this, CallReceiver.class);\r\n                receiveCallAction.putExtra(&quot;action&quot;, &quot;ANSWER&quot;);\r\n\r\n                Intent cancelCallAction = new Intent(this, CallReceiver.class);\r\n                cancelCallAction.putExtra(&quot;action&quot;, &quot;DECLINE&quot;);\r\n\r\n                for (String s : par) {\r\n                    receiveCallAction.putExtra(s, getNotificationData(data, s));\r\n                    cancelCallAction.putExtra(s, getNotificationData(data, s));\r\n                }\r\n\r\n                notificationBuilder.setOngoing(true);\r\n\r\n                receiveCallAction.setAction(&quot;RECEIVE_CALL&quot;);\r\n                cancelCallAction.setAction(&quot;CANCEL_CALL&quot;);\r\n\r\n                PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n                notificationBuilder\r\n                        .addAction(R.drawable.ic_baseline_call_24_green, &quot;Answer&quot;, receiveCallPendingIntent)\r\n                        .addAction(R.drawable.ic_baseline_call_red_24, &quot;Decline&quot;, cancelCallPendingIntent);\r\n            }else{\r\n                cancelNotification = true;\r\n            }\r\n        }if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;end_timeout&quot;)){\r\n            stopRinging();\r\n        }else if(channel_id.equals(&quot;ntf1&quot;)){\r\n            if(UserUtil.IS_CHAT_ACTIVITY){\r\n                cancelNotification = true;\r\n            }\r\n\r\n            if(!cancelNotification){\r\n                playNotificationSound(this);\r\n            }\r\n        }\r\n\r\n        if(!cancelNotification){\r\n            NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\r\n                NotificationChannel channel = new NotificationChannel(channel_id,\r\n                        getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n                channel.enableLights(true);\r\n                channel.enableVibration(true);\r\n                mNotificationManager.createNotificationChannel(channel);\r\n            }\r\n\r\n            mNotificationManager.notify(1000, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\nCallReceiver.java (Broadcast Receiver)\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (intent != null &amp;&amp; intent.getExtras() != null) {\r\n            String action = intent.getStringExtra(&quot;action&quot;);\r\n\r\n            // Perform the action\r\n            performClickAction(context, action, intent.getExtras());\r\n\r\n            // Close the notification after the click action is performed.\r\n            NotificationManager mNotificationManager = (NotificationManager)\r\n                    context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            mNotificationManager.cancel(1000);\r\n\r\n            // Stop the ringtone\r\n            stopRinging();\r\n        }\r\n    }\r\n\r\non my AndroidManifest.xml\r\n\r\n    &lt;service\r\n            android:name=&quot;.services.FirebaseService&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.receiver.CallReceiver&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;CALL_RECEIVER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\nThank you","title":"Notification Builder action not working on API 31 (Android 12)","body":"<p>I'm stuck while dealing with this api 31. i made a chat app. When I create an action button to receive a phone call it works on android below API 31 or below Android 12, but it doesn't work on Android 12 (only work if the notification is not has action). maybe someone here can help me in finding a solution to this problem?</p>\n<p>FirebaseService.java</p>\n<pre><code>@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n\n    boolean cancelNotification = false;\n\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    Map&lt;String, String&gt; params = remoteMessage.getData();\n    JSONObject data = new JSONObject(params);\n\n    PendingIntent pendingIntent;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n        pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\n    }\n    else {\n        pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n    }\n\n    String channel_id = getNotificationData(data, &quot;channel&quot;);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channel_id)\n            .setSmallIcon(R.mipmap.ic_launcher)\n            .setContentTitle(getNotificationData(data, &quot;title&quot;))\n            .setContentText(getNotificationData(data, &quot;body&quot;))\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent);\n\n    if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;open&quot;)){\n        playCallSound(this);\n\n        if(WindowUtil.isAppOnBackground(this) || isScreenOff()){\n            ArrayList&lt;String&gt; par = new ArrayList&lt;&gt;();\n\n            par.add(&quot;call_channel&quot;);\n            par.add(&quot;call_type&quot;);\n            par.add(&quot;call_token&quot;);\n            par.add(&quot;call_peer&quot;);\n\n            String callType = getNotificationData(data, &quot;call_type&quot;);\n\n            if(callType.equals(&quot;3&quot;) || callType.equals(&quot;4&quot;)){\n                par.add(&quot;call_group_name&quot;);\n                par.add(&quot;call_group_caller&quot;);\n            }\n\n            Intent receiveCallAction = new Intent(this, CallReceiver.class);\n            receiveCallAction.putExtra(&quot;action&quot;, &quot;ANSWER&quot;);\n\n            Intent cancelCallAction = new Intent(this, CallReceiver.class);\n            cancelCallAction.putExtra(&quot;action&quot;, &quot;DECLINE&quot;);\n\n            for (String s : par) {\n                receiveCallAction.putExtra(s, getNotificationData(data, s));\n                cancelCallAction.putExtra(s, getNotificationData(data, s));\n            }\n\n            notificationBuilder.setOngoing(true);\n\n            receiveCallAction.setAction(&quot;RECEIVE_CALL&quot;);\n            cancelCallAction.setAction(&quot;CANCEL_CALL&quot;);\n\n            PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n            PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n\n            notificationBuilder\n                    .addAction(R.drawable.ic_baseline_call_24_green, &quot;Answer&quot;, receiveCallPendingIntent)\n                    .addAction(R.drawable.ic_baseline_call_red_24, &quot;Decline&quot;, cancelCallPendingIntent);\n        }else{\n            cancelNotification = true;\n        }\n    }if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;end_timeout&quot;)){\n        stopRinging();\n    }else if(channel_id.equals(&quot;ntf1&quot;)){\n        if(UserUtil.IS_CHAT_ACTIVITY){\n            cancelNotification = true;\n        }\n\n        if(!cancelNotification){\n            playNotificationSound(this);\n        }\n    }\n\n    if(!cancelNotification){\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\n            NotificationChannel channel = new NotificationChannel(channel_id,\n                    getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n            channel.enableLights(true);\n            channel.enableVibration(true);\n            mNotificationManager.createNotificationChannel(channel);\n        }\n\n        mNotificationManager.notify(1000, notificationBuilder.build());\n    }\n}\n</code></pre>\n<p>CallReceiver.java (Broadcast Receiver)</p>\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n    if (intent != null &amp;&amp; intent.getExtras() != null) {\n        String action = intent.getStringExtra(&quot;action&quot;);\n\n        // Perform the action\n        performClickAction(context, action, intent.getExtras());\n\n        // Close the notification after the click action is performed.\n        NotificationManager mNotificationManager = (NotificationManager)\n                context.getSystemService(Context.NOTIFICATION_SERVICE);\n        mNotificationManager.cancel(1000);\n\n        // Stop the ringtone\n        stopRinging();\n    }\n}\n</code></pre>\n<p>on my AndroidManifest.xml</p>\n<pre><code>&lt;service\n        android:name=&quot;.services.FirebaseService&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;receiver\n        android:name=&quot;.receiver.CallReceiver&quot;\n        android:exported=&quot;false&quot;\n        android:enabled=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;CALL_RECEIVER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671012488,"creation_date":1671012488,"answer_id":74796556,"question_id":74796162,"body_markdown":"Most constraint annotations, including `@Length` and `@Pattern`, regard `null` as valid input. That&#39;s why you won&#39;t get what you want by just using these annotations.\r\n\r\nFortunately, it&#39;s really easy to do what you want by introducing a new constraint annotation:\r\n```java\r\n@Constraint(validatedBy = {}) // no validator needed, it delegates to other constraints\r\n@NotNull\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\n@ReportAsSingleViolation // to prevent separate violations for the other constraints\r\n@Target(FIELD)\r\n@Retention(RUNTIME)\r\npublic @interface ValidUsername {\r\n\r\n    String message() default &quot;&quot;&quot;\r\n        {jakarta.validation.constraints.NotNull.message} \r\n        AND {org.hibernate.validator.constraints.Length.message} \r\n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nThis is annotated with your constraints, which means these are applied when this annotation is checked.\r\n\r\nThe message will still contain place holders `{min}` etc., because these are not properties of this constraint itself. You can solve that in two ways:\r\n\r\n1. Don&#39;t use the templates but hard-code the message\r\n2. Add these properties to your annotation as well, and tell the Bean Validation framework to use these for the other annotations:\r\n\r\n```java\r\n    @OverridesAttribute(constraint = Length.class)\r\n    int min() default 4;\r\n\r\n    @OverridesAttribute(constraint = Length.class)\r\n    int max() default 64;\r\n\r\n    @OverridesAttribute(constraint = Pattern.class)\r\n    String regexp() default &quot;[A-Za-z0-9]+&quot;;\r\n```\r\n\r\nNow all you need to do is replace the annotations on the `username` field with `@ValidUsername`.","title":"Java @NotNull violation message to show other constraints&#39; details","body":"<p>Most constraint annotations, including <code>@Length</code> and <code>@Pattern</code>, regard <code>null</code> as valid input. That's why you won't get what you want by just using these annotations.</p>\n<p>Fortunately, it's really easy to do what you want by introducing a new constraint annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {}) // no validator needed, it delegates to other constraints\n@NotNull\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\n@ReportAsSingleViolation // to prevent separate violations for the other constraints\n@Target(FIELD)\n@Retention(RUNTIME)\npublic @interface ValidUsername {\n\n    String message() default &quot;&quot;&quot;\n        {jakarta.validation.constraints.NotNull.message} \n        AND {org.hibernate.validator.constraints.Length.message} \n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>This is annotated with your constraints, which means these are applied when this annotation is checked.</p>\n<p>The message will still contain place holders <code>{min}</code> etc., because these are not properties of this constraint itself. You can solve that in two ways:</p>\n<ol>\n<li>Don't use the templates but hard-code the message</li>\n<li>Add these properties to your annotation as well, and tell the Bean Validation framework to use these for the other annotations:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @OverridesAttribute(constraint = Length.class)\n    int min() default 4;\n\n    @OverridesAttribute(constraint = Length.class)\n    int max() default 64;\n\n    @OverridesAttribute(constraint = Pattern.class)\n    String regexp() default &quot;[A-Za-z0-9]+&quot;;\n</code></pre>\n<p>Now all you need to do is replace the annotations on the <code>username</code> field with <code>@ValidUsername</code>.</p>\n"}],"owner":{"account_id":15273588,"reputation":71,"user_id":13427345,"display_name":"O1G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796556,"answer_count":1,"score":0,"last_activity_date":1671012488,"creation_date":1671010593,"question_id":74796162,"body_markdown":"Given a `username` field which cannot be `null`, must be between 4 and 64 characters long and match the regexp `[A-Za-z0-9]+`, when the `username` field is null, the error message is simply: `must not be null`. The desired outcome is `must not be null AND length must be between 4 and 64 characters AND must match &quot;[A-Za-z0-9]+&quot;`.\r\n\r\nInitial setup:\r\n```java\r\n@NotNull\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\nString username;\r\n```\r\n\r\nWhat I also tried:\r\n```java\r\n@NotNull(message = &quot;&quot;&quot;\r\n        {jakarta.validation.constraints.NotNull.message} \r\n        AND {org.hibernate.validator.constraints.Length.message} \r\n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;)\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\nString username;\r\n```\r\n\r\nBut this latter&#39;s outcome is:\r\n```\r\nConstraintViolationImpl{\r\n  interpolatedMessage=&#39;must not be null AND length must be between {min} and {max} AND must match &quot;{regexp}&quot;&#39;,\r\n  propertyPath=username, rootBeanClass=class app.User,\r\n  messageTemplate=&#39;{jakarta.validation.constraints.NotNull.message} AND {org.hibernate.validator.constraints.Length.message} AND {jakarta.validation.constraints.Pattern.message}&#39;}\r\n```\r\nThe values for the constraints (`min`, `max`, `regexp`) are not accessed. How to render the actual values of these in the error message?","title":"Java @NotNull violation message to show other constraints&#39; details","body":"<p>Given a <code>username</code> field which cannot be <code>null</code>, must be between 4 and 64 characters long and match the regexp <code>[A-Za-z0-9]+</code>, when the <code>username</code> field is null, the error message is simply: <code>must not be null</code>. The desired outcome is <code>must not be null AND length must be between 4 and 64 characters AND must match &quot;[A-Za-z0-9]+&quot;</code>.</p>\n<p>Initial setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\nString username;\n</code></pre>\n<p>What I also tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull(message = &quot;&quot;&quot;\n        {jakarta.validation.constraints.NotNull.message} \n        AND {org.hibernate.validator.constraints.Length.message} \n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;)\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\nString username;\n</code></pre>\n<p>But this latter's outcome is:</p>\n<pre><code>ConstraintViolationImpl{\n  interpolatedMessage='must not be null AND length must be between {min} and {max} AND must match &quot;{regexp}&quot;',\n  propertyPath=username, rootBeanClass=class app.User,\n  messageTemplate='{jakarta.validation.constraints.NotNull.message} AND {org.hibernate.validator.constraints.Length.message} AND {jakarta.validation.constraints.Pattern.message}'}\n</code></pre>\n<p>The values for the constraints (<code>min</code>, <code>max</code>, <code>regexp</code>) are not accessed. How to render the actual values of these in the error message?</p>\n"},{"tags":["java","string","pagination"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671012078,"post_id":74796300,"comment_id":132003142,"body_markdown":"So you want to check whether the url ends with a slash followed by one or more digits and get those digits?","body":"So you want to check whether the url ends with a slash followed by one or more digits and get those digits?"},{"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"score":0,"creation_date":1671014081,"post_id":74796300,"comment_id":132003794,"body_markdown":"yes basically i want to check url end with slash(/) followed by numberic digit but whole url is string so i cannot know it ends with numeric digit","body":"yes basically i want to check url end with slash(/) followed by numberic digit but whole url is string so i cannot know it ends with numeric digit"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671014565,"post_id":74796300,"comment_id":132003933,"body_markdown":"Sure you can. A simple regex like `/(\\d+)$` should do the trick. If it matches you can then extract the group and parse it as a number.","body":"Sure you can. A simple regex like <code>&#47;(\\d+)$</code> should do the trick. If it matches you can then extract the group and parse it as a number."}],"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671012096,"creation_date":1671011312,"question_id":74796300,"body_markdown":"iam given with a some-url which may or may-not contains integer at last i want to check \r\nwhether integer is present and if present what is the value of it.\r\n\r\n\r\nex: `localhost:8200/videos`\r\n    `localhost:8200/videos/1`\r\n    `localhost:8200/videos/2` \r\n    `localhost:8200/videos/popular-entertainment`\r\n    `localhost:8200/videos/popular-entertainment/1`\r\n    `localhost:8200/videos/popular-entertainment/2`   \r\n    `localhost:8200/videos-funny/popular-entertainment`\r\n    `localhost:8200/videos-funny/popular-entertainment/1`\r\n    `localhost:8200/videos-funny/popular-entertainment/2`\r\n    `localhost:8200/videos-funny/popular-entertainment/3`\r\n    \r\ni want get the pagination id at last of url if present in java","title":"check url contains pagination id","body":"<p>iam given with a some-url which may or may-not contains integer at last i want to check\nwhether integer is present and if present what is the value of it.</p>\n<p>ex: <code>localhost:8200/videos</code>\n<code>localhost:8200/videos/1</code>\n<code>localhost:8200/videos/2</code>\n<code>localhost:8200/videos/popular-entertainment</code>\n<code>localhost:8200/videos/popular-entertainment/1</code>\n<code>localhost:8200/videos/popular-entertainment/2</code><br />\n<code>localhost:8200/videos-funny/popular-entertainment</code>\n<code>localhost:8200/videos-funny/popular-entertainment/1</code>\n<code>localhost:8200/videos-funny/popular-entertainment/2</code>\n<code>localhost:8200/videos-funny/popular-entertainment/3</code></p>\n<p>i want get the pagination id at last of url if present in java</p>\n"},{"tags":["java","html","spring","spring-boot"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1671000075,"post_id":74794306,"comment_id":131999960,"body_markdown":"You can try using the HTML `required` attribute for the form input fields.","body":"You can try using the HTML <code>required</code> attribute for the form input fields."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671007400,"post_id":74794306,"comment_id":132001686,"body_markdown":"Add `required` on the HTML side and add `spring-boot-starter-validation` as a dependency and add the validations uou need `@NotNUll`/`@NotBlank` and add `@Valid` on the method argument in your controller.","body":"Add <code>required</code> on the HTML side and add <code>spring-boot-starter-validation</code> as a dependency and add the validations uou need <code>@NotNUll</code>/<code>@NotBlank</code> and add <code>@Valid</code> on the method argument in your controller."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671007451,"creation_date":1671007451,"answer_id":74795577,"question_id":74794306,"body_markdown":"Add `spring-boot-starter-validation` as a dependency. Add the annotations to your `Product` and use `Product` as a model object instead of requst parameters. \r\n\r\n```java\r\n@RequestMapping(&quot;/save&quot;)\r\npublic String save(@Valid @ModelAttribute Product product) {\r\n    productRepository.save(product);\r\n    return &quot;redirect:/show/&quot; + product.getId();\r\n}\r\n```\r\n\r\n```java\r\n@Document(collection = &quot;products&quot;)\r\npublic class Product {\r\n    \r\n    @Id\r\n    String id;\r\n    \r\n    @NotBlank\r\n    String prodName;\r\n    @NotBlank\r\n    String prodDesc;\r\n    @Min(0.01d)\r\n    Double prodPrice;\r\n    String prodImage;\r\n```\r\n\r\nSome of that for validation (ofcourse you would need to determine which to use based on your requirements. \r\n\r\nAdditionally use proper types and `required` keyword in your HTML templates. \r\n\r\n```html\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; required /&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodDesc&quot;&gt;Product Description&lt;/label&gt;\r\n    &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodPrice&quot;&gt;Product Price&lt;/label&gt;\r\n    &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodImage&quot;&gt;Product Image URL:&lt;/label&gt;\r\n    &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\r\n&lt;/div&gt;\r\n```","title":"How can I make it so that my form requires certain fields","body":"<p>Add <code>spring-boot-starter-validation</code> as a dependency. Add the annotations to your <code>Product</code> and use <code>Product</code> as a model object instead of requst parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/save&quot;)\npublic String save(@Valid @ModelAttribute Product product) {\n    productRepository.save(product);\n    return &quot;redirect:/show/&quot; + product.getId();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection = &quot;products&quot;)\npublic class Product {\n    \n    @Id\n    String id;\n    \n    @NotBlank\n    String prodName;\n    @NotBlank\n    String prodDesc;\n    @Min(0.01d)\n    Double prodPrice;\n    String prodImage;\n</code></pre>\n<p>Some of that for validation (ofcourse you would need to determine which to use based on your requirements.</p>\n<p>Additionally use proper types and <code>required</code> keyword in your HTML templates.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; required /&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodDesc&quot;&gt;Product Description&lt;/label&gt;\n    &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodPrice&quot;&gt;Product Price&lt;/label&gt;\n    &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodImage&quot;&gt;Product Image URL:&lt;/label&gt;\n    &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671012035,"creation_date":1670998989,"question_id":74794306,"body_markdown":"I am trying to make a Spring Boot project that works like an e-commerce website.\r\n\r\nIn the forms for creating and editing a product, I want to make it so that all fields are required, because if I do not input a price, then I get the &quot;Whitelabel Error Page: This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot; error.\r\n\r\nMain class\r\n````java\r\n@SpringBootApplication\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nProductController\r\n````java\r\n/**This is the product controller class. It has different mappings as well as the methods that allow \r\n * the user to perform the different CRUD operations with regard to the products. */\r\n@Controller\r\npublic class ProductController {\r\n\r\n    @Autowired\r\n    ProductRepository productRepository;\r\n\r\n    @RequestMapping(&quot;/product&quot;)\r\n    public String product(Model model) {\r\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\r\n\r\n        return &quot;product&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/create&quot;)\r\n    public String create(Model model) {\r\n        return &quot;create&quot;;\r\n    }\r\n \r\n    @RequestMapping(&quot;/save&quot;)\r\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n        Product product = new Product();\r\n        product.setProdName(prodName);\r\n        product.setProdDesc(prodDesc);\r\n        product.setProdPrice(prodPrice);\r\n        product.setProdImage(prodImage);\r\n        \r\n        productRepository.save(product);\r\n        \r\n        return &quot;redirect:/show/&quot; + product.getId();\r\n    }\r\n    \r\n    @RequestMapping(&quot;/show/{id}&quot;)\r\n    public String show(@PathVariable String id, Model model) {\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n       \r\n        return &quot;show&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/delete&quot;)\r\n    public String delete(@RequestParam String id) {\r\n        Optional&lt;Product&gt; product = productRepository.findById(id);\r\n        productRepository.delete(product.get());\r\n\r\n        return &quot;redirect:/product&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/edit/{id}&quot;)\r\n    public String edit(@PathVariable String id, Model model) {\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n        \r\n        return &quot;edit&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/update&quot;)\r\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n    \tOptional&lt;Product&gt; product = productRepository.findById(id);\r\n    \t\r\n        product.get().setProdName(prodName);\r\n        product.get().setProdDesc(prodDesc);\r\n        product.get().setProdPrice(prodPrice);\r\n        product.get().setProdImage(prodImage);\r\n        \r\n        productRepository.save(product.get());\r\n\r\n        return &quot;redirect:/show/&quot; + product.get().getId();\r\n    }\r\n}\r\n````\r\n\r\nProduct POJO\r\n````java\r\n\r\n@Document(collection = &quot;products&quot;)\r\npublic class Product {\r\n\t\r\n    @Id\r\n    String id;\r\n    \r\n    String prodName;\r\n    String prodDesc;\r\n    Double prodPrice;\r\n    String prodImage;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String prodName, String prodDesc, Double prodPrice, String prodImage) {\r\n        this.prodName = prodName;\r\n        this.prodDesc = prodDesc;\r\n        this.prodPrice = prodPrice;\r\n        this.prodImage = prodImage;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getProdName() {\r\n        return prodName;\r\n    }\r\n\r\n    public void setProdName(String prodName) {\r\n        this.prodName = prodName;\r\n    }\r\n\r\n    public String getProdDesc() {\r\n        return prodDesc;\r\n    }\r\n\r\n    public void setProdDesc(String prodDesc) {\r\n        this.prodDesc = prodDesc;\r\n    }\r\n\r\n    public Double getProdPrice() {\r\n        return prodPrice;\r\n    }\r\n\r\n    public void setProdPrice(Double prodPrice) {\r\n        this.prodPrice = prodPrice;\r\n    }\r\n\r\n    public String getProdImage() {\r\n        return prodImage;\r\n    }\r\n\r\n    public void setProdImage(String prodImage) {\r\n        this.prodImage = prodImage;\r\n    }\r\n}\r\n````\r\n\r\ncreate.html form page\r\n````html\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorator=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Create Product&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\r\n                &lt;/h3&gt;\r\n                \r\n                &lt;h2&gt;Create Product&lt;/h2&gt;\r\n                \r\n                &lt;form action=&quot;/save&quot;&gt;\r\n                \r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\r\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\r\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nedit.html form page\r\n````\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Edit Product&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\r\n                &lt;/h3&gt;\r\n                \r\n                &lt;h2&gt;Edit Product&lt;/h2&gt;\r\n                \r\n                &lt;form action=&quot;/update&quot;&gt;\r\n                \r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; th:value=&quot;${product.prodName}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\r\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; th:value=&quot;${product.prodPrice}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\r\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; th:value=&quot;${product.prodImage}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    \r\n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\r\n                    \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\npom.xml\r\n````xml\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ecommerce-website&lt;/name&gt;\r\n\t&lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\nI tried looking on different forms, and I saw answers that involved using annotations like @NotNull or creating a configuration class, but neither of those have worked for me. ","title":"How can I make it so that my form requires certain fields","body":"<p>I am trying to make a Spring Boot project that works like an e-commerce website.</p>\n<p>In the forms for creating and editing a product, I want to make it so that all fields are required, because if I do not input a price, then I get the &quot;Whitelabel Error Page: This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot; error.</p>\n<p>Main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>ProductController</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**This is the product controller class. It has different mappings as well as the methods that allow \n * the user to perform the different CRUD operations with regard to the products. */\n@Controller\npublic class ProductController {\n\n    @Autowired\n    ProductRepository productRepository;\n\n    @RequestMapping(&quot;/product&quot;)\n    public String product(Model model) {\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\n\n        return &quot;product&quot;;\n    }\n\n    @RequestMapping(&quot;/create&quot;)\n    public String create(Model model) {\n        return &quot;create&quot;;\n    }\n \n    @RequestMapping(&quot;/save&quot;)\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        Product product = new Product();\n        product.setProdName(prodName);\n        product.setProdDesc(prodDesc);\n        product.setProdPrice(prodPrice);\n        product.setProdImage(prodImage);\n        \n        productRepository.save(product);\n        \n        return &quot;redirect:/show/&quot; + product.getId();\n    }\n    \n    @RequestMapping(&quot;/show/{id}&quot;)\n    public String show(@PathVariable String id, Model model) {\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n       \n        return &quot;show&quot;;\n    }\n    \n    @RequestMapping(&quot;/delete&quot;)\n    public String delete(@RequestParam String id) {\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        productRepository.delete(product.get());\n\n        return &quot;redirect:/product&quot;;\n    }\n    \n    @RequestMapping(&quot;/edit/{id}&quot;)\n    public String edit(@PathVariable String id, Model model) {\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n        \n        return &quot;edit&quot;;\n    }\n    \n    @RequestMapping(&quot;/update&quot;)\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        \n        product.get().setProdName(prodName);\n        product.get().setProdDesc(prodDesc);\n        product.get().setProdPrice(prodPrice);\n        product.get().setProdImage(prodImage);\n        \n        productRepository.save(product.get());\n\n        return &quot;redirect:/show/&quot; + product.get().getId();\n    }\n}\n</code></pre>\n<p>Product POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Document(collection = &quot;products&quot;)\npublic class Product {\n    \n    @Id\n    String id;\n    \n    String prodName;\n    String prodDesc;\n    Double prodPrice;\n    String prodImage;\n\n    public Product() {\n    }\n\n    public Product(String prodName, String prodDesc, Double prodPrice, String prodImage) {\n        this.prodName = prodName;\n        this.prodDesc = prodDesc;\n        this.prodPrice = prodPrice;\n        this.prodImage = prodImage;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getProdName() {\n        return prodName;\n    }\n\n    public void setProdName(String prodName) {\n        this.prodName = prodName;\n    }\n\n    public String getProdDesc() {\n        return prodDesc;\n    }\n\n    public void setProdDesc(String prodDesc) {\n        this.prodDesc = prodDesc;\n    }\n\n    public Double getProdPrice() {\n        return prodPrice;\n    }\n\n    public void setProdPrice(Double prodPrice) {\n        this.prodPrice = prodPrice;\n    }\n\n    public String getProdImage() {\n        return prodImage;\n    }\n\n    public void setProdImage(String prodImage) {\n        this.prodImage = prodImage;\n    }\n}\n</code></pre>\n<p>create.html form page</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorator=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Create Product&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;h3&gt;\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\n                &lt;/h3&gt;\n                \n                &lt;h2&gt;Create Product&lt;/h2&gt;\n                \n                &lt;form action=&quot;/save&quot;&gt;\n                \n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>edit.html form page</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Edit Product&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;h3&gt;\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\n                &lt;/h3&gt;\n                \n                &lt;h2&gt;Edit Product&lt;/h2&gt;\n                \n                &lt;form action=&quot;/update&quot;&gt;\n                \n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; th:value=&quot;${product.prodName}&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; th:value=&quot;${product.prodPrice}&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; th:value=&quot;${product.prodImage}&quot; /&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\n                    \n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-website&lt;/name&gt;\n    &lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried looking on different forms, and I saw answers that involved using annotations like @NotNull or creating a configuration class, but neither of those have worked for me.</p>\n"},{"tags":["java","android","xml","android-studio","android-manifest"],"comments":[{"owner":{"account_id":3820680,"reputation":14746,"user_id":3168859,"accept_rate":88,"display_name":"Lal"},"score":0,"creation_date":1441733716,"post_id":32463917,"comment_id":52789739,"body_markdown":"As the error suggests, you are missing `android:name` for the activity in your manifest.","body":"As the error suggests, you are missing <code>android:name</code> for the activity in your manifest."}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441733935,"creation_date":1441733935,"answer_id":32464015,"question_id":32463917,"body_markdown":"in the Manifest you posted in the screenshot you are using `android:title` instead of `android:name` for your `Activity`s. Change it with \r\n\r\n     android:name=&quot;.MainActivity&quot;\r\n\r\nthe property is mandatory. You can read more [here][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/manifest/activity-element.html#nm","title":"Android Studio Manifest file error","body":"<p>in the Manifest you posted in the screenshot you are using <code>android:title</code> instead of <code>android:name</code> for your <code>Activity</code>s. Change it with </p>\n\n<pre><code> android:name=\".MainActivity\"\n</code></pre>\n\n<p>the property is mandatory. You can read more <a href=\"http://developer.android.com/guide/topics/manifest/activity-element.html#nm\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441734071,"creation_date":1441734071,"answer_id":32464058,"question_id":32463917,"body_markdown":"    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nTry changing your manifest file to this","title":"Android Studio Manifest file error","body":"<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>Try changing your manifest file to this</p>\n"},{"tags":[],"owner":{"account_id":18602768,"reputation":1,"user_id":13557209,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589660041,"creation_date":1589660041,"answer_id":61842970,"question_id":32463917,"body_markdown":"this is the problem its not pulling from the string it should be showing the app name\r\n\r\n*android:label=&quot;@string/app_name&quot;*\r\n\r\nthe easiest solution create new app proyect open manifest copy that line make user not to press it or you will break string again paste line over your broken string if you want change name go to the strings xml change name there\r\n","title":"Android Studio Manifest file error","body":"<p>this is the problem its not pulling from the string it should be showing the app name</p>\n\n<p><em>android:label=\"@string/app_name\"</em></p>\n\n<p>the easiest solution create new app proyect open manifest copy that line make user not to press it or you will break string again paste line over your broken string if you want change name go to the strings xml change name there</p>\n"}],"owner":{"account_id":3398327,"reputation":197,"user_id":2851275,"accept_rate":54,"display_name":"Serhii Tereshchenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32464015,"answer_count":3,"score":0,"last_activity_date":1671012012,"creation_date":1441733577,"question_id":32463917,"body_markdown":"Something went wrong with my AndroidManifest.xml file. I was launching tests one more time when suddenly Android Studio crashed, launched again and then next error occured (I&#39;m sorry, I don&#39;t have enough rating to upload pictures directly):\r\n[![enter image description here][1]][1]\r\n\r\nHere is the gradle console:\r\n[![enter image description here][2]][2]\r\n\r\nMy strings.xml file is ok:\r\n\r\n    &lt;resources&gt;\r\n    &lt;string title=&quot;app_name&quot;&gt;PaySpaceMagazine&lt;/string&gt;\r\n    &lt;string title=&quot;hello_world&quot;&gt;Hello world!&lt;/string&gt;\r\n    &lt;string title=&quot;action_settings&quot;&gt;Settings&lt;/string&gt;\r\n\r\n    &lt;string title=&quot;actual&quot;&gt;Актуально&lt;/string&gt;\r\n    &lt;string title=&quot;last_news&quot;&gt;Последние известия&lt;/string&gt;\r\n&lt;/resources&gt;\r\n\r\nAlso there is other manifest file without any errors:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;sunshine.ssidit.pp.ua.sunshineproject&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nDid anyone have same problem?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tw4q1.png\r\n  [2]: http://i.stack.imgur.com/sSuW6.png","title":"Android Studio Manifest file error","body":"<p>Something went wrong with my AndroidManifest.xml file. I was launching tests one more time when suddenly Android Studio crashed, launched again and then next error occured (I'm sorry, I don't have enough rating to upload pictures directly):\n<a href=\"https://i.stack.imgur.com/tw4q1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tw4q1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the gradle console:\n<a href=\"https://i.stack.imgur.com/sSuW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSuW6.png\" alt=\"enter image description here\"></a></p>\n\n<p>My strings.xml file is ok:</p>\n\n<pre><code>&lt;resources&gt;\n&lt;string title=\"app_name\"&gt;PaySpaceMagazine&lt;/string&gt;\n&lt;string title=\"hello_world\"&gt;Hello world!&lt;/string&gt;\n&lt;string title=\"action_settings\"&gt;Settings&lt;/string&gt;\n\n&lt;string title=\"actual\"&gt;Актуально&lt;/string&gt;\n&lt;string title=\"last_news\"&gt;Последние известия&lt;/string&gt;\n</code></pre>\n\n<p></p>\n\n<p>Also there is other manifest file without any errors:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Did anyone have same problem?</p>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":1699755,"reputation":1,"user_id":1560185,"display_name":"user1560185"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424088061,"creation_date":1424088061,"answer_id":28540992,"question_id":28539915,"body_markdown":"Define your @SequenceGenerator at column level rather than at class level. So you can create two separate sequenceGenerator - a1_seq and b1 for two different columns.\r\n\r\n    @Data\r\n    @Table(name=&quot;a_b&quot;)\r\n    \r\n    public class ABC {\r\n\r\n      @Id\r\n      @Column(name = &quot;id&quot;)\r\n      @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n      private Integer id;\r\n\r\n      @Column(name = &quot;c&quot;)\r\n      private String c;\r\n\r\n      @SequenceGenerator(name = &quot;b1_seq&quot;, sequenceName = &quot;b1_seq&quot;, allocationSize = 1)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;b1&quot;)\r\n      @Column(name = &quot;b)\r\n      private Integer b;\r\n\r\n}\r\n\r\nThis should work. I have not tested it but since SequenceGenerator is allowed at field level, it should work.","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Define your @SequenceGenerator at column level rather than at class level. So you can create two separate sequenceGenerator - a1_seq and b1 for two different columns.</p>\n\n<pre><code>@Data\n@Table(name=\"a_b\")\n\npublic class ABC {\n\n  @Id\n  @Column(name = \"id\")\n  @SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\n  private Integer id;\n\n  @Column(name = \"c\")\n  private String c;\n\n  @SequenceGenerator(name = \"b1_seq\", sequenceName = \"b1_seq\", allocationSize = 1)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"b1\")\n  @Column(name = \"b)\n  private Integer b;\n</code></pre>\n\n<p>}</p>\n\n<p>This should work. I have not tested it but since SequenceGenerator is allowed at field level, it should work.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424122219,"creation_date":1424122219,"answer_id":28550689,"question_id":28539915,"body_markdown":"You should have only one SequenceGenerator for the Primary Key:\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n    private Integer id;\r\n\r\nand for the foreign key you could have:\r\n\r\n    @Column(name = &quot;b, columnDefinition=&quot;serial&quot;)\r\n    private Integer b;\r\n\r\nwhich should work for PostgreSQL.","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>You should have only one SequenceGenerator for the Primary Key:</p>\n\n<pre><code>@Id\n@Column(name = \"id\")\n@SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\nprivate Integer id;\n</code></pre>\n\n<p>and for the foreign key you could have:</p>\n\n<pre><code>@Column(name = \"b, columnDefinition=\"serial\")\nprivate Integer b;\n</code></pre>\n\n<p>which should work for PostgreSQL.</p>\n"},{"tags":[],"owner":{"account_id":17872540,"reputation":1,"user_id":12983449,"display_name":"Gayath Halanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671011795,"creation_date":1671011727,"answer_id":74796393,"question_id":28539915,"body_markdown":"Trick is to add @Id annotation to both Sequence Generators. You can achieve this by using @IdClass().\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_name&quot;)\r\n    @IdClass(DBSequenceId.class)\r\n    public class DBSequence implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;yourName1&quot;, sequenceName = &quot;yourSeqName1&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName1&quot;)\r\n    \t@Column(name = &quot;first_seq&quot;, updatable = false)\r\n    \tprotected int firstSeq;\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;yourName2&quot;, sequenceName = &quot;yourSeqName2&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName2&quot;)\r\n    \t@Column(name = &quot;second_seq&quot;, updatable = false)\r\n    \tprotected int secondSeq;\r\n    \r\n    }\r\n    \r\n    class DBSequenceId implements Serializable {\r\n    \r\n    \tprivate int firstSeq;\r\n    \tprivate int secondSeq;\r\n    \r\n    \t//Setters and getters are omitted \r\n    }\r\n\r\nTested on MariaDB","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Trick is to add @Id annotation to both Sequence Generators. You can achieve this by using @IdClass().</p>\n<pre><code>@Entity\n@Table(name = &quot;table_name&quot;)\n@IdClass(DBSequenceId.class)\npublic class DBSequence implements Serializable {\n\n    @Id\n    @SequenceGenerator(name = &quot;yourName1&quot;, sequenceName = &quot;yourSeqName1&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName1&quot;)\n    @Column(name = &quot;first_seq&quot;, updatable = false)\n    protected int firstSeq;\n\n    @Id\n    @SequenceGenerator(name = &quot;yourName2&quot;, sequenceName = &quot;yourSeqName2&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName2&quot;)\n    @Column(name = &quot;second_seq&quot;, updatable = false)\n    protected int secondSeq;\n\n}\n\nclass DBSequenceId implements Serializable {\n\n    private int firstSeq;\n    private int secondSeq;\n\n    //Setters and getters are omitted \n}\n</code></pre>\n<p>Tested on MariaDB</p>\n"}],"owner":{"account_id":1804059,"reputation":115,"user_id":1641603,"accept_rate":62,"display_name":"Siddharth Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5194,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28550689,"answer_count":3,"score":3,"last_activity_date":1671011795,"creation_date":1424084479,"question_id":28539915,"body_markdown":"Is it possible to use 2 sequence generators in Hibernate  Entity Class. I  want to use two sequence generator for my case one for the primary key and other for a simple field. How can i achieve the same?\r\n\r\n    @Data\r\n    @Table(name=&quot;a_b&quot;)\r\n    @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n    @SequenceGenerator(name = &quot;b1_seq&quot;, sequenceName = &quot;b1_seq&quot;, allocationSize = 1)\r\n    public class ABC {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;c&quot;)\r\n        private String c;\r\n    \r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;b1&quot;)\r\n        @Column(name = &quot;b)\r\n        private Integer b;\r\n\r\n    }","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Is it possible to use 2 sequence generators in Hibernate  Entity Class. I  want to use two sequence generator for my case one for the primary key and other for a simple field. How can i achieve the same?</p>\n\n<pre><code>@Data\n@Table(name=\"a_b\")\n@SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n@SequenceGenerator(name = \"b1_seq\", sequenceName = \"b1_seq\", allocationSize = 1)\npublic class ABC {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\n    private Integer id;\n\n    @Column(name = \"c\")\n    private String c;\n\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"b1\")\n    @Column(name = \"b)\n    private Integer b;\n\n}\n</code></pre>\n"},{"tags":["java","android","sim-card"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671006863,"post_id":74795202,"comment_id":132001571,"body_markdown":"You can use `getActiveSubscriptionInfoForSimSlotIndex` from `SubscriptionManager` Class https://developer.android.com/reference/android/telephony/SubscriptionManager#getActiveSubscriptionInfoForSimSlotIndex(int)","body":"You can use <code>getActiveSubscriptionInfoForSimSlotIndex</code> from <code>SubscriptionManager</code> Class <a href=\"https://developer.android.com/reference/android/telephony/SubscriptionManager#getActiveSubscriptionInfoForSimSlotIndex(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/telephony/&hellip;</a>"},{"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"score":0,"creation_date":1671185456,"post_id":74795202,"comment_id":132049212,"body_markdown":"@SaifAhmad I&#39;ve tried that but it is returning empty strings.","body":"@SaifAhmad I&#39;ve tried that but it is returning empty strings."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671192037,"post_id":74795202,"comment_id":132051263,"body_markdown":"Have you added read phone state manifest? https://developer.android.com/reference/android/Manifest.permission#READ_PHONE_STATE","body":"Have you added read phone state manifest? <a href=\"https://developer.android.com/reference/android/Manifest.permission#READ_PHONE_STATE\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/&hellip;</a>"},{"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"score":0,"creation_date":1671442960,"post_id":74795202,"comment_id":132092513,"body_markdown":"Yes and requested for it too but it too didn&#39;t worked @SaifAhmad","body":"Yes and requested for it too but it too didn&#39;t worked @SaifAhmad"}],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671011525,"creation_date":1671005269,"question_id":74795202,"body_markdown":"I want to add the functionality of login similar to UPI apps. The user will select the SIM card from his phone and I will send an SMS from that SIM and will verify his phone number using that SMS. But I have to compare the number in the back-end or in API. So, I want to acquire the phone numbers of both SIM cards or the phone number of the SIM card user selects (Get the phone number from SMS or while sending SMS).\r\n\r\nI am putting a generic class that I made for SIM selections and SMS. I have tried getting the mobile number from SubscriptionInfo, but it gives the operator name and all details right except the mobile number which returns an empty string. I have found in different blogs or my R&amp;D that it is up to the operator whether to put the number there or not. So, if I am getting the mobile number, it is not 100% guaranteed that I will get the mobile number every time.\r\n\r\nHere&#39;s my generic class: SimUtil.java\r\n\r\n```java\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.telephony.SmsManager;\r\nimport android.telephony.SubscriptionInfo;\r\nimport android.telephony.SubscriptionManager;\r\n\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class SimUtil {\r\n\r\n    List&lt;SimCard&gt; simCards = new ArrayList&lt;&gt;();\r\n    Context context;\r\n\r\n    public SimUtil(Context context) {\r\n        this.context = context;\r\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n            setupPermissions();\r\n            return;\r\n        }\r\n        List&lt;SubscriptionInfo&gt; subscriptionInfos = SubscriptionManager.from(context.getApplicationContext()).getActiveSubscriptionInfoList();\r\n        for (int i = 0; i &lt; subscriptionInfos.size(); i++) {\r\n            SubscriptionInfo currentCard = subscriptionInfos.get(i);\r\n            SimCard simCard = new SimCard(i,currentCard);\r\n            simCards.add(simCard);\r\n        }\r\n    }\r\n\r\n    public int getSimCardCount() {\r\n        return this.simCards.size();\r\n    }\r\n\r\n    public List&lt;SimCard&gt; getSimCardList() {\r\n        if(simCards.size() &gt; 0)\r\n            return simCards;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public SimCard getFirstSimCard() {\r\n        return simCards.get(0);\r\n    }\r\n\r\n    public boolean hasDualSim() {\r\n        return simCards.size() &gt; 1;\r\n    }\r\n\r\n    public SimCard getSecondSimCard() {\r\n        if(hasDualSim())\r\n            return simCards.get(1);\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public static void sendSMSFromSim1(String message) {\r\n        SmsManager.getSmsManagerForSubscriptionId(0)\r\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\r\n    }\r\n\r\n    public static void sendSMSFromSim2(String message) {\r\n        SmsManager.getSmsManagerForSubscriptionId(1)\r\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\r\n    }\r\n\r\n    private void setupPermissions() {\r\n        int permission = ContextCompat.checkSelfPermission(context, Manifest.permission.SEND_SMS);\r\n        if(permission != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.SEND_SMS}, 1);\r\n        }\r\n\r\n        int permission2 = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE);\r\n        if(permission2 != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.READ_PHONE_STATE}, 1);\r\n        }\r\n    }\r\n\r\n    public static class SimCard {\r\n        int index;\r\n        String operatorName;\r\n        String mobileNumber;\r\n        String countryISO;\r\n\r\n        public SimCard(int index, String operatorName, String countryISO, String mobileNumber) {\r\n            this.index = index;\r\n            this.operatorName = operatorName;\r\n            this.countryISO = countryISO;\r\n            this.mobileNumber = mobileNumber;\r\n        }\r\n\r\n        public SimCard(int index,SubscriptionInfo subscriptionInfo) {\r\n            this.index = index;\r\n            this.operatorName = subscriptionInfo.getCarrierName().toString();\r\n            this.countryISO = subscriptionInfo.getCountryIso();\r\n            this.mobileNumber = subscriptionInfo.getNumber();\r\n        }\r\n\r\n        public int getIndex() {\r\n            return index;\r\n        }\r\n\r\n        public String getOperatorName() {\r\n            return operatorName;\r\n        }\r\n\r\n        public String getCountryISO() {\r\n            return countryISO;\r\n        }\r\n\r\n        public String getMobileNumber() {\r\n            return mobileNumber;\r\n        }\r\n    }\r\n}\r\n```","title":"Is there anyway I can get mobile number of both SIM cards in android Java?","body":"<p>I want to add the functionality of login similar to UPI apps. The user will select the SIM card from his phone and I will send an SMS from that SIM and will verify his phone number using that SMS. But I have to compare the number in the back-end or in API. So, I want to acquire the phone numbers of both SIM cards or the phone number of the SIM card user selects (Get the phone number from SMS or while sending SMS).</p>\n<p>I am putting a generic class that I made for SIM selections and SMS. I have tried getting the mobile number from SubscriptionInfo, but it gives the operator name and all details right except the mobile number which returns an empty string. I have found in different blogs or my R&amp;D that it is up to the operator whether to put the number there or not. So, if I am getting the mobile number, it is not 100% guaranteed that I will get the mobile number every time.</p>\n<p>Here's my generic class: SimUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.Manifest;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.telephony.SmsManager;\nimport android.telephony.SubscriptionInfo;\nimport android.telephony.SubscriptionManager;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class SimUtil {\n\n    List&lt;SimCard&gt; simCards = new ArrayList&lt;&gt;();\n    Context context;\n\n    public SimUtil(Context context) {\n        this.context = context;\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n            setupPermissions();\n            return;\n        }\n        List&lt;SubscriptionInfo&gt; subscriptionInfos = SubscriptionManager.from(context.getApplicationContext()).getActiveSubscriptionInfoList();\n        for (int i = 0; i &lt; subscriptionInfos.size(); i++) {\n            SubscriptionInfo currentCard = subscriptionInfos.get(i);\n            SimCard simCard = new SimCard(i,currentCard);\n            simCards.add(simCard);\n        }\n    }\n\n    public int getSimCardCount() {\n        return this.simCards.size();\n    }\n\n    public List&lt;SimCard&gt; getSimCardList() {\n        if(simCards.size() &gt; 0)\n            return simCards;\n        else\n            return null;\n    }\n\n    public SimCard getFirstSimCard() {\n        return simCards.get(0);\n    }\n\n    public boolean hasDualSim() {\n        return simCards.size() &gt; 1;\n    }\n\n    public SimCard getSecondSimCard() {\n        if(hasDualSim())\n            return simCards.get(1);\n        else\n            return null;\n    }\n\n    public static void sendSMSFromSim1(String message) {\n        SmsManager.getSmsManagerForSubscriptionId(0)\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\n    }\n\n    public static void sendSMSFromSim2(String message) {\n        SmsManager.getSmsManagerForSubscriptionId(1)\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\n    }\n\n    private void setupPermissions() {\n        int permission = ContextCompat.checkSelfPermission(context, Manifest.permission.SEND_SMS);\n        if(permission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.SEND_SMS}, 1);\n        }\n\n        int permission2 = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE);\n        if(permission2 != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.READ_PHONE_STATE}, 1);\n        }\n    }\n\n    public static class SimCard {\n        int index;\n        String operatorName;\n        String mobileNumber;\n        String countryISO;\n\n        public SimCard(int index, String operatorName, String countryISO, String mobileNumber) {\n            this.index = index;\n            this.operatorName = operatorName;\n            this.countryISO = countryISO;\n            this.mobileNumber = mobileNumber;\n        }\n\n        public SimCard(int index,SubscriptionInfo subscriptionInfo) {\n            this.index = index;\n            this.operatorName = subscriptionInfo.getCarrierName().toString();\n            this.countryISO = subscriptionInfo.getCountryIso();\n            this.mobileNumber = subscriptionInfo.getNumber();\n        }\n\n        public int getIndex() {\n            return index;\n        }\n\n        public String getOperatorName() {\n            return operatorName;\n        }\n\n        public String getCountryISO() {\n            return countryISO;\n        }\n\n        public String getMobileNumber() {\n            return mobileNumber;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","nacos"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1671028616,"post_id":74795448,"comment_id":132009117,"body_markdown":"With the introduction of spring.config.import we decided bootstrap should no longer be the default. It is still available, but it&#39;s now opt in","body":"With the introduction of spring.config.import we decided bootstrap should no longer be the default. It is still available, but it&#39;s now opt in"},{"owner":{"account_id":17110868,"reputation":1,"user_id":12381716,"display_name":"Autrui"},"score":0,"creation_date":1671094718,"post_id":74795448,"comment_id":132024966,"body_markdown":"I can use spring.config.import now ,but in nacos ,the configuration in different group still cant resolve , the idea console show the order-dev.yml is empty .","body":"I can use spring.config.import now ,but in nacos ,the configuration in different group still cant resolve , the idea console show the order-dev.yml is empty ."}],"owner":{"account_id":17110868,"reputation":1,"user_id":12381716,"display_name":"Autrui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671011419,"creation_date":1671006694,"question_id":74795448,"body_markdown":"This is my Spring Cloud test project. As the java version is 1.8, I try to build the cloud project with some new version.\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;mysql.version&gt;8.0.30&lt;/mysql.version&gt;\r\n    &lt;mybatis.version&gt;3.0.0&lt;/mybatis.version&gt;\r\n    &lt;mybatis-plus.version&gt;3.5.2&lt;/mybatis-plus.version&gt;\r\n    &lt;spring-boot.version&gt;2.6.11&lt;/spring-boot.version&gt;\r\n    &lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;spring-cloud-alibaba.version&gt;2021.0.4.0&lt;/spring-cloud-alibaba.version&gt;\r\n    &lt;alibaba.nacos.version&gt;2.0.4&lt;/alibaba.nacos.version&gt;\r\n    &lt;freemarker.version&gt;2.3.31&lt;/freemarker.version&gt;\r\n    &lt;swagger.version&gt;1.6.2&lt;/swagger.version&gt;\r\n    &lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\r\n    &lt;openfeign.version&gt;3.1.5&lt;/openfeign.version&gt;\r\n    &lt;loadbalance.version&gt;3.1.4&lt;/loadbalance.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/iAJG1.png)\r\n\r\nhttps://github.com/Autrui/cloud_test\r\n\r\nThen I get the problem. In order and user module, I use bootstrap.yml to config name and nacos, it actually worked. But in gateway module, at first, I set the port 10010 in bootstrap.yml, but the gateway still runs at port 8080. The configuration in application.yml worked. \r\n\r\nThen I Google and found that Spring Boot disabled the bootstrap.yml after 2.4.0. Then I have three problems:  \r\n\r\n1.  If the bootstrap is actually be abandoned, why my order and user modules can work as usual? \r\n\r\n2. I find we can add the bootstrap dependency in pom, then bootstrap will be loaded again, but I think this is not a elegant way to program.\r\n\r\n```yaml\r\nconfig:\r\n  import:\r\n    - optional: nacos:order-dev.yaml\r\n    - nacos: order-dev.yaml\r\n```\r\n\r\nI try to  use spring.config.import, but IDEA shows Cannot resolve property &#39;optional&#39; in java.lang.String. How can I replace bootstrap in my project?\r\n\r\n3. Why Spring disabled the bootstrap? I didn&#39;t find the reason also don&#39;t know why.","title":"Why doesn&#39;t Spring Cloud use bootstrap.yml by default anymore?","body":"<p>This is my Spring Cloud test project. As the java version is 1.8, I try to build the cloud project with some new version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;mysql.version&gt;8.0.30&lt;/mysql.version&gt;\n    &lt;mybatis.version&gt;3.0.0&lt;/mybatis.version&gt;\n    &lt;mybatis-plus.version&gt;3.5.2&lt;/mybatis-plus.version&gt;\n    &lt;spring-boot.version&gt;2.6.11&lt;/spring-boot.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-alibaba.version&gt;2021.0.4.0&lt;/spring-cloud-alibaba.version&gt;\n    &lt;alibaba.nacos.version&gt;2.0.4&lt;/alibaba.nacos.version&gt;\n    &lt;freemarker.version&gt;2.3.31&lt;/freemarker.version&gt;\n    &lt;swagger.version&gt;1.6.2&lt;/swagger.version&gt;\n    &lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\n    &lt;openfeign.version&gt;3.1.5&lt;/openfeign.version&gt;\n    &lt;loadbalance.version&gt;3.1.4&lt;/loadbalance.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iAJG1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://github.com/Autrui/cloud_test\" rel=\"nofollow noreferrer\">https://github.com/Autrui/cloud_test</a></p>\n<p>Then I get the problem. In order and user module, I use bootstrap.yml to config name and nacos, it actually worked. But in gateway module, at first, I set the port 10010 in bootstrap.yml, but the gateway still runs at port 8080. The configuration in application.yml worked.</p>\n<p>Then I Google and found that Spring Boot disabled the bootstrap.yml after 2.4.0. Then I have three problems:</p>\n<ol>\n<li><p>If the bootstrap is actually be abandoned, why my order and user modules can work as usual?</p>\n</li>\n<li><p>I find we can add the bootstrap dependency in pom, then bootstrap will be loaded again, but I think this is not a elegant way to program.</p>\n</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>config:\n  import:\n    - optional: nacos:order-dev.yaml\n    - nacos: order-dev.yaml\n</code></pre>\n<p>I try to  use spring.config.import, but IDEA shows Cannot resolve property 'optional' in java.lang.String. How can I replace bootstrap in my project?</p>\n<ol start=\"3\">\n<li>Why Spring disabled the bootstrap? I didn't find the reason also don't know why.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671010774,"post_id":74796019,"comment_id":132002765,"body_markdown":"`SecurityConfig` depends on `JwtAuthenticate` bean, which is instantiated in `SecurityConfig`","body":"<code>SecurityConfig</code> depends on <code>JwtAuthenticate</code> bean, which is instantiated in <code>SecurityConfig</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671011340,"creation_date":1671011340,"answer_id":74796308,"question_id":74796019,"body_markdown":"The field `JwtAuthenticate jwtAuthenticate` is redundant - remove it. \r\n\r\nAnd while constructing the `SecurityFilterChain` refer to the method producing `JwtAuthenticate` Bean:\r\n\r\n```\r\n.exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPointBean())\r\n```","title":"Circular Dependency in my SecurityConfig with Spring Boot","body":"<p>The field <code>JwtAuthenticate jwtAuthenticate</code> is redundant - remove it.</p>\n<p>And while constructing the <code>SecurityFilterChain</code> refer to the method producing <code>JwtAuthenticate</code> Bean:</p>\n<pre><code>.exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPointBean())\n</code></pre>\n"}],"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74796308,"answer_count":1,"score":2,"last_activity_date":1671011340,"creation_date":1671009856,"question_id":74796019,"body_markdown":"I tried to create a simple login module with Spring Boot and Spring Boot Security.\r\n\r\nOne of the updates happens in creating SecurityConfig is some of classes like \r\n```WebSecurityConfigurerAdapter``` is now deprecated so I try the following code to make a SecurityConfig but unfortunately, I caught in a circular dependency.\r\n\r\nActually, I used Lombok to minimize the used of @Autowired in every field injection.\r\n\r\nI tried the following approach:\r\n1. I create another class for PasswordEncoder to avoid circular dependency if I used Password Encoder in the other parts of the Application.\r\n\r\n**Error Message**.\r\n```\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌──-&gt;──┐\r\n|  securityConfig defined in file [C:\\Users\\jgeronimo\\Documents\\jp_geronimo\\sample_projects\\spring-security-tutorial\\target\\classes\\com\\workshop\\application\\config\\SecurityConfig.class]\r\n└──&lt;-──┘\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\n```\r\n\r\n\r\n**SecurityConfig.java**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthFilter jwtAuthFilter;\r\n\r\n    private final JwtUserDetailsService userDetailsService;\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    private final JwtAuthenticate jwtAuthenticate;\r\n\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticate jwtAuthenticationEntryPointBean() throws Exception{\r\n        return new JwtAuthenticate();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticate).and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        final DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        return daoAuthenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n```\r\n\r\n**Encoder.config**\r\n```\r\n@Configuration\r\npublic class EncoderConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```","title":"Circular Dependency in my SecurityConfig with Spring Boot","body":"<p>I tried to create a simple login module with Spring Boot and Spring Boot Security.</p>\n<p>One of the updates happens in creating SecurityConfig is some of classes like\n<code>WebSecurityConfigurerAdapter</code> is now deprecated so I try the following code to make a SecurityConfig but unfortunately, I caught in a circular dependency.</p>\n<p>Actually, I used Lombok to minimize the used of @Autowired in every field injection.</p>\n<p>I tried the following approach:</p>\n<ol>\n<li>I create another class for PasswordEncoder to avoid circular dependency if I used Password Encoder in the other parts of the Application.</li>\n</ol>\n<p><strong>Error Message</strong>.</p>\n<pre><code>\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌──-&gt;──┐\n|  securityConfig defined in file [C:\\Users\\jgeronimo\\Documents\\jp_geronimo\\sample_projects\\spring-security-tutorial\\target\\classes\\com\\workshop\\application\\config\\SecurityConfig.class]\n└──&lt;-──┘\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\n</code></pre>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthFilter jwtAuthFilter;\n\n    private final JwtUserDetailsService userDetailsService;\n\n    private final PasswordEncoder passwordEncoder;\n\n    private final JwtAuthenticate jwtAuthenticate;\n\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Bean\n    public JwtAuthenticate jwtAuthenticationEntryPointBean() throws Exception{\n        return new JwtAuthenticate();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticate).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        final DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p><strong>Encoder.config</strong></p>\n<pre><code>@Configuration\npublic class EncoderConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"score":1,"creation_date":1671010471,"post_id":74796043,"comment_id":132002673,"body_markdown":"Check this answer https://stackoverflow.com/a/45194502/11712628","body":"Check this answer <a href=\"https://stackoverflow.com/a/45194502/11712628\">stackoverflow.com/a/45194502/11712628</a>"}],"owner":{"account_id":19001868,"reputation":11,"user_id":13869216,"display_name":"Megha Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671010667,"answer_count":0,"score":0,"last_activity_date":1671011000,"creation_date":1671009950,"question_id":74796043,"body_markdown":"I am testing a REST API. During execution, I receive below stack trace\r\n\r\n```none\r\nSEVERE: StandardWrapper.Throwable\r\njava.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\r\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:331)\r\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:392)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:177)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:369)\r\n        at javax.servlet.GenericServlet.init(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.initServlet(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.loadServlet(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.allocate(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(Unknown Source)\r\n        at org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(Unknown Source)\r\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(Unknown Source)\r\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Unknown Source)\r\n        at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(Unknown Source)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n```\r\n\r\nI am using javax.ws.rs-api-2.0.1.jar which contains below method but still it giving me above error\r\n\r\n```\r\npublic Map&lt;String, Object&gt; getProperties() {\r\n    return Collections.emptyMap();\r\n}\r\n```\r\n\r\n[Screenshot of uncompiled class file](https://i.stack.imgur.com/FNumZ.png)","title":"Getting NoSuchMethodError from api developed using Maven","body":"<p>I am testing a REST API. During execution, I receive below stack trace</p>\n<pre class=\"lang-none prettyprint-override\"><code>SEVERE: StandardWrapper.Throwable\njava.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:331)\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:392)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:177)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:369)\n        at javax.servlet.GenericServlet.init(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.initServlet(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.allocate(Unknown Source)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(Unknown Source)\n        at org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\n        at org.apache.catalina.connector.CoyoteAdapter.service(Unknown Source)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(Unknown Source)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Unknown Source)\n        at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(Unknown Source)\n        at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>I am using javax.ws.rs-api-2.0.1.jar which contains below method but still it giving me above error</p>\n<pre><code>public Map&lt;String, Object&gt; getProperties() {\n    return Collections.emptyMap();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FNumZ.png\" rel=\"nofollow noreferrer\">Screenshot of uncompiled class file</a></p>\n"},{"tags":["java","windows-installer","jpackage"],"answers":[{"tags":[],"owner":{"account_id":26571685,"reputation":11,"user_id":20197816,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670954829,"creation_date":1670954829,"answer_id":74789202,"question_id":74788949,"body_markdown":"--win-dir-chooser solves this problem.\r\n","title":"How to define path where generated output file is placed using jpackage (windows)","body":"<p>--win-dir-chooser solves this problem.</p>\n"}],"owner":{"account_id":26571685,"reputation":11,"user_id":20197816,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671010539,"creation_date":1670953605,"question_id":74788949,"body_markdown":"Im trying to create an installer for my java app using jpackage.\r\nThis is what I have right now:\r\n`jpackage --type msi --app-version &quot;2.0&quot; --input . --dest . --main-jar .\\FitnessGUI.jar --main-class Main --win-shortcut --win-menu `\r\nThis works fine, but I want to be able to choose where the program will be stored when installed.\r\nWhat I have, according to [oracle](https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html), defaults to the current working directory.\r\nIm not sure what this means.\r\nI have no idea where the app will be outputed on another person&#39;s computer.\r\n\r\n\r\n\r\n\r\nI tried to use `--dest &quot;C:\\ &quot;`, but i get:\r\n`Destination directory C:\\ is not writable`\r\nAlso tried `--dest &quot;C:\\Program Files&quot;`, but get the same error.","title":"How to define path where generated output file is placed using jpackage (windows)","body":"<p>Im trying to create an installer for my java app using jpackage.\nThis is what I have right now:\n<code>jpackage --type msi --app-version &quot;2.0&quot; --input . --dest . --main-jar .\\FitnessGUI.jar --main-class Main --win-shortcut --win-menu </code>\nThis works fine, but I want to be able to choose where the program will be stored when installed.\nWhat I have, according to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">oracle</a>, defaults to the current working directory.\nIm not sure what this means.\nI have no idea where the app will be outputed on another person's computer.</p>\n<p>I tried to use <code>--dest &quot;C:\\ &quot;</code>, but i get:\n<code>Destination directory C:\\ is not writable</code>\nAlso tried <code>--dest &quot;C:\\Program Files&quot;</code>, but get the same error.</p>\n"},{"tags":["java","spring-security","thymeleaf","spring-3"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670933473,"post_id":74783754,"comment_id":131983153,"body_markdown":"is that a Maven project? If so, do you have &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt; in your pom?","body":"is that a Maven project? If so, do you have &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt; in your pom?"},{"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"score":0,"creation_date":1670934830,"post_id":74783754,"comment_id":131983670,"body_markdown":"@dsp_user, Thank you, but I tried to add it and for some reason maven cannot find the dependency","body":"@dsp_user, Thank you, but I tried to add it and for some reason maven cannot find the dependency"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670934973,"post_id":74783754,"comment_id":131983729,"body_markdown":"that&#39;s another problem, and you can post a separate question for that. Still, I think you need that dependency.","body":"that&#39;s another problem, and you can post a separate question for that. Still, I think you need that dependency."}],"answers":[{"tags":[],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671010045,"creation_date":1671010045,"answer_id":74796065,"question_id":74783754,"body_markdown":"Thanks to [@dsp_user][1].\r\nProblem solved by adding `thymeleaf-extras-springsecurity5` dependency\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1119161/dsp-user","title":"Unexpected error (type=Forbidden, status=403) using csrf with Spring Security v3.0.0 and Thymeleaf","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1119161/dsp-user\">@dsp_user</a>.\nProblem solved by adding <code>thymeleaf-extras-springsecurity5</code> dependency</p>\n"}],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796065,"answer_count":1,"score":0,"last_activity_date":1671010045,"creation_date":1670929113,"question_id":74783754,"body_markdown":"I try to configure security of my application but I get &quot;Unexpected error (type=Forbidden, status=403)&quot; and I don&#39;t know what is the problem. I register a user then login, do some stuff on a &quot;/design&quot; page, press submit and get the Error. As I know (from Spring in Action book) Thymeleaf automatically include hidden field with CSRF token for each html page.\r\n\r\nWhen I disable csrf in SecurityFilterChain my web application works fine. My SecurityConfig class is shown below: I only exclude H2Console path.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(UserRepository userRepo) {\r\n        return username -&gt; {\r\n            User user = userRepo.findByUsername(username);\r\n\r\n            if(user != null) {\r\n                return user;\r\n            }\r\n          throw new UsernameNotFoundException(&quot;User \\&quot;&quot; + username + &quot;\\&quot; not found&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().ignoringRequestMatchers(PathRequest.toH2Console())\r\n                .and()\r\n                .headers((headers) -&gt; headers.frameOptions().sameOrigin())\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/design&quot;,&quot;/orders&quot;).hasRole(&quot;USER&quot;)\r\n                .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\r\n                .and()\r\n                .formLogin(\r\n                        form -&gt; form\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .loginProcessingUrl(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/design&quot;)\r\n                                .permitAll()\r\n                ).logout(\r\n                        logout -&gt; logout\r\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Unexpected error (type=Forbidden, status=403) using csrf with Spring Security v3.0.0 and Thymeleaf","body":"<p>I try to configure security of my application but I get &quot;Unexpected error (type=Forbidden, status=403)&quot; and I don't know what is the problem. I register a user then login, do some stuff on a &quot;/design&quot; page, press submit and get the Error. As I know (from Spring in Action book) Thymeleaf automatically include hidden field with CSRF token for each html page.</p>\n<p>When I disable csrf in SecurityFilterChain my web application works fine. My SecurityConfig class is shown below: I only exclude H2Console path.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private UserRepository userRepository;\n\n\n    @Bean\n    public UserDetailsService userDetailsService(UserRepository userRepo) {\n        return username -&gt; {\n            User user = userRepo.findByUsername(username);\n\n            if(user != null) {\n                return user;\n            }\n          throw new UsernameNotFoundException(&quot;User \\&quot;&quot; + username + &quot;\\&quot; not found&quot;);\n        };\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().ignoringRequestMatchers(PathRequest.toH2Console())\n                .and()\n                .headers((headers) -&gt; headers.frameOptions().sameOrigin())\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/design&quot;,&quot;/orders&quot;).hasRole(&quot;USER&quot;)\n                .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\n                .and()\n                .formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/design&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","entitymanager","persistence-unit","entitymanagerfactory"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670507429,"post_id":74262360,"comment_id":131894424,"body_markdown":"This would rather sound like you want a [`RoutingDataSource`](https://www.baeldung.com/spring-abstract-routing-data-source). Or different profiles that you load depending on who uses the application","body":"This would rather sound like you want a <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\"><code>RoutingDataSource</code></a>. Or different profiles that you load depending on who uses the application"}],"answers":[{"tags":[],"owner":{"account_id":27200560,"reputation":86,"user_id":20732854,"display_name":"user20732854"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670681845,"creation_date":1670681845,"answer_id":74753697,"question_id":74262360,"body_markdown":"You could achieve multitenancy by using [Hibernate&#39;s Mulit tenant facilities][1] by implementing a `MultitenantConnectionProvider` and a `CurrentTenantIdentifierResolver` that would need to have access to your Session / Transaction Context.\r\nHere&#39;s a tutorial on [Baeldung][2].\r\n\r\n\r\nDisclaimer: I&#39;m not familiar with Wildfly, so maybe there&#39;s a native way to do it, similar to Springs RoutingDataSource (refer to XtremerBaumers comment in your question)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html/ch16.html\r\n  [2]: https://www.baeldung.com/hibernate-5-multitenancy","title":"How to use same Persistence Unit to access different datasources with the same entities using EntityManager and EntityManagerFactory","body":"<p>You could achieve multitenancy by using <a href=\"https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html/ch16.html\" rel=\"nofollow noreferrer\">Hibernate's Mulit tenant facilities</a> by implementing a <code>MultitenantConnectionProvider</code> and a <code>CurrentTenantIdentifierResolver</code> that would need to have access to your Session / Transaction Context.\nHere's a tutorial on <a href=\"https://www.baeldung.com/hibernate-5-multitenancy\" rel=\"nofollow noreferrer\">Baeldung</a>.</p>\n<p>Disclaimer: I'm not familiar with Wildfly, so maybe there's a native way to do it, similar to Springs RoutingDataSource (refer to XtremerBaumers comment in your question)</p>\n"}],"owner":{"account_id":1085509,"reputation":1381,"user_id":1081313,"accept_rate":60,"display_name":"Faliorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74753697,"answer_count":1,"score":0,"last_activity_date":1671010034,"creation_date":1667214497,"question_id":74262360,"body_markdown":"I&#39;m currently working with Java 17, Wildfly 25.0.1 and JPA over Hibernate 5.3.\r\n\r\nI have an application that uses annotations and entities mapped to access a single database. I&#39;m using a PersistenceUnit with a Datasource, and it works fine.\r\n\r\nWhat I&#39;m trying to achieve is programatically choosing different datasources, with the same PersistenceUnit, to access different copies of the same database for different customers. The number of customers can grow, so I cannot use multiple PU&#39;s.\r\n\r\nSo far, I&#39;ve worked with an injected EntityManager such as this:\r\n\r\n    @PersistenceContext(unitName = PERSISTENCE_UNIT)\r\n    protected EntityManager     em;\r\n\r\nI went in the direction of creating my own instances of EntityManager, so I tried injecting the EntityManagerFactory instead of the EntityManager itself:\r\n\r\n    @PersistenceUnit(unitName = PERSISTENCE_UNIT)\r\n    EntityManagerFactory        emf;\r\n\r\nThe originally injected EntityManager, when inspected, belongs to the class org.jboss.as.jpa.container.TransactionScopedEntityManager. \r\nHowever, when I create an EntityManager using the injected EntityManagerFactory, I receive an org.hibernate.internal.SessionImpl instead.\r\n\r\nThe point is that, though many things work fine, the behaviour in the application is somewhat different. It&#39;s a very big application with a lot of transactions, and sometimes data is not correct, etc.\r\n\r\nIs there any way to create or ask the server for a TransactionScopedEntityManager? I&#39;ve searched through Wildfly source code, but I can&#39;t find it.\r\n\r\nAlso, any other approach to achieve this goal would be appreciated.\r\n\r\nThanks and kind regards.\r\n\r\n","title":"How to use same Persistence Unit to access different datasources with the same entities using EntityManager and EntityManagerFactory","body":"<p>I'm currently working with Java 17, Wildfly 25.0.1 and JPA over Hibernate 5.3.</p>\n<p>I have an application that uses annotations and entities mapped to access a single database. I'm using a PersistenceUnit with a Datasource, and it works fine.</p>\n<p>What I'm trying to achieve is programatically choosing different datasources, with the same PersistenceUnit, to access different copies of the same database for different customers. The number of customers can grow, so I cannot use multiple PU's.</p>\n<p>So far, I've worked with an injected EntityManager such as this:</p>\n<pre><code>@PersistenceContext(unitName = PERSISTENCE_UNIT)\nprotected EntityManager     em;\n</code></pre>\n<p>I went in the direction of creating my own instances of EntityManager, so I tried injecting the EntityManagerFactory instead of the EntityManager itself:</p>\n<pre><code>@PersistenceUnit(unitName = PERSISTENCE_UNIT)\nEntityManagerFactory        emf;\n</code></pre>\n<p>The originally injected EntityManager, when inspected, belongs to the class org.jboss.as.jpa.container.TransactionScopedEntityManager.\nHowever, when I create an EntityManager using the injected EntityManagerFactory, I receive an org.hibernate.internal.SessionImpl instead.</p>\n<p>The point is that, though many things work fine, the behaviour in the application is somewhat different. It's a very big application with a lot of transactions, and sometimes data is not correct, etc.</p>\n<p>Is there any way to create or ask the server for a TransactionScopedEntityManager? I've searched through Wildfly source code, but I can't find it.</p>\n<p>Also, any other approach to achieve this goal would be appreciated.</p>\n<p>Thanks and kind regards.</p>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail"],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671009920,"creation_date":1671009920,"question_id":74796040,"body_markdown":"i am trying to use javamail api to send send mail using host as smtp.\r\n\r\ndependencies :\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4&lt;/version&gt;\r\n\r\n  &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;smtp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.5&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n\r\nError i am getting is :\r\n\r\n    java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader &#39;app&#39;)\r\n\tat javax.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:140) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.CommandMap.getDefaultCommandMap(CommandMap.java:61) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.getCommandMap(DataHandler.java:153) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:611) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.writeTo(DataHandler.java:315) ~[activation-1.1.jar:1.1]\r\n\tat javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:340) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1575) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2271) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2231) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.Transport.send(Transport.java:123) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat example.controller.AuthController.otpInput(AuthController.java:127) ~[classes/:na] \r\n","title":"failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap","body":"<p>i am trying to use javamail api to send send mail using host as smtp.</p>\n<p>dependencies :</p>\n\n<pre><code>&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n&lt;version&gt;1.6.2&lt;/version&gt;\n</code></pre>\n\n  \n<pre><code>&lt;groupId&gt;javax.mail&lt;/groupId&gt;\n&lt;artifactId&gt;mail&lt;/artifactId&gt;\n&lt;version&gt;1.4&lt;/version&gt;\n</code></pre>\n  \n\n<pre><code>&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n&lt;artifactId&gt;smtp&lt;/artifactId&gt;\n&lt;version&gt;1.4.5&lt;/version&gt;\n</code></pre>\n\n\n<pre><code>&lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n</code></pre>\n\n<p>Error i am getting is :</p>\n<pre><code>java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader 'app')\nat javax.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:140) ~[activation-1.1.jar:1.1]\nat javax.activation.CommandMap.getDefaultCommandMap(CommandMap.java:61) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.getCommandMap(DataHandler.java:153) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:611) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.writeTo(DataHandler.java:315) ~[activation-1.1.jar:1.1]\nat javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:340) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1575) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2271) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2231) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.Transport.send(Transport.java:123) ~[javax.mail-1.6.2.jar:1.6.2]\nat example.controller.AuthController.otpInput(AuthController.java:127) ~[classes/:na] \n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670955114,"post_id":74789166,"comment_id":131991124,"body_markdown":"You can use the [regex](https://regex101.com/r/jiov1m/1), `\\[MSG:(.*?)\\]` and extract the value of group(1). [Java demo](https://ideone.com/n7OJ0O). I suggest you learn some basics of regex.","body":"You can use the <a href=\"https://regex101.com/r/jiov1m/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\[MSG:(.*?)\\]</code> and extract the value of group(1). <a href=\"https://ideone.com/n7OJ0O\" rel=\"nofollow noreferrer\">Java demo</a>. I suggest you learn some basics of regex."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670955482,"post_id":74789166,"comment_id":131991246,"body_markdown":"Not my downvote. I suggest you [start here](https://stackoverflow.com/questions/4736/learning-regular-expressions). It&#39;s fun to learn the basics of regex.","body":"Not my downvote. I suggest you <a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">start here</a>. It&#39;s fun to learn the basics of regex."},{"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"score":0,"creation_date":1670991929,"post_id":74789166,"comment_id":131998654,"body_markdown":"Thank you  @ArvindKumarAvinash . This is what i was looking for. I will learn basics. Many thanks. I am unable to accept it as answer.","body":"Thank you  @ArvindKumarAvinash . This is what i was looking for. I will learn basics. Many thanks. I am unable to accept it as answer."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671009886,"post_id":74789166,"comment_id":132002453,"body_markdown":"You are most welcome,  Nagaraja. I have converted my comment into an answer now.","body":"You are most welcome,  Nagaraja. I have converted my comment into an answer now."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670961632,"creation_date":1670955369,"answer_id":74789286,"question_id":74789166,"body_markdown":"Your requirement would be something like\r\n\r\n/\\\\[MSG:.+\\\\]/ in standard regex notation. But I would suggest to you that you could use String.indexOf to extract your information\r\n\r\n    String str = ...\r\n    int idx = str.indexOf(&quot;MSG:&quot;);\r\n    int idx2 = str.indexOf(&quot;]&quot;, idx);\r\n    val = str.substring(idx + &quot;MSG:&quot;.length(), idx2);\r\n\r\n","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>Your requirement would be something like</p>\n<p>/\\[MSG:.+\\]/ in standard regex notation. But I would suggest to you that you could use String.indexOf to extract your information</p>\n<pre><code>String str = ...\nint idx = str.indexOf(&quot;MSG:&quot;);\nint idx2 = str.indexOf(&quot;]&quot;, idx);\nval = str.substring(idx + &quot;MSG:&quot;.length(), idx2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671009839,"creation_date":1671009839,"answer_id":74796016,"question_id":74789166,"body_markdown":"You can use the [regex](https://regex101.com/r/jiov1m/1), `\\[MSG:(.*?)\\]` and extract the value of group(1). \r\n\r\n**Demo**:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n     \r\n    class Main {\r\n        public static void main(String args[]) {\r\n            String str = &quot;[ABCD:defg] [MSG:information] [MSG2:hello]&quot;;\r\n            Matcher matcher = Pattern.compile(&quot;\\\\[MSG:(.*?)\\\\]&quot;).matcher(str);\r\n            if (matcher.find())\r\n                System.out.println(matcher.group(1));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    information","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>You can use the <a href=\"https://regex101.com/r/jiov1m/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\[MSG:(.*?)\\]</code> and extract the value of group(1).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n \nclass Main {\n    public static void main(String args[]) {\n        String str = &quot;[ABCD:defg] [MSG:information] [MSG2:hello]&quot;;\n        Matcher matcher = Pattern.compile(&quot;\\\\[MSG:(.*?)\\\\]&quot;).matcher(str);\n        if (matcher.find())\n            System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>information\n</code></pre>\n"}],"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74796016,"answer_count":2,"score":-1,"last_activity_date":1671009839,"creation_date":1670954649,"question_id":74789166,"body_markdown":"Considering a string in following format,\r\n\r\n&gt; [ABCD:defg] [MSG:information] [MSG2:hello]\r\n\r\nHow to write regex to check if the line has &#39;[MSG:&#39; followed by some message &amp; &#39;]&#39; and extract text &#39;information&#39; from above string?","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>Considering a string in following format,</p>\n<blockquote>\n<p>[ABCD:defg] [MSG:information] [MSG2:hello]</p>\n</blockquote>\n<p>How to write regex to check if the line has '[MSG:' followed by some message &amp; ']' and extract text 'information' from above string?</p>\n"},{"tags":["java","intellij-idea","javafx","dll","jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671009444,"post_id":74795035,"comment_id":132002290,"body_markdown":"Read the info at openjfx.io on [runtime images](https://openjfx.io/openjfx-docs/).","body":"Read the info at openjfx.io on <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">runtime images</a>."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671009468,"creation_date":1671009114,"answer_id":74795887,"question_id":74795035,"body_markdown":"This is not true. If you, e.g., download JavaFX from Gluon and unpack the distribution file all the .dylibs, .dlls, etc. are contained in the lib/ folder. (Just verified with openjfx-20-ea+11_osx-x64_bin-sdk.zip)\r\n\r\nThe jars in the maven repository are structured a little bit differently. The have platform specific variant, e.g., javafx-graphics-20-ea+11-mac.jar which contain the binary libs at the top-level folder.\r\n\r\nGoing modular, as @jewelsea suggested above, is yet another option, depending on what you want to achieve.","title":"JavaFX SDK 19 contain no .dll Files to create JAR with external libraries","body":"<p>This is not true. If you, e.g., download JavaFX from Gluon and unpack the distribution file all the .dylibs, .dlls, etc. are contained in the lib/ folder. (Just verified with openjfx-20-ea+11_osx-x64_bin-sdk.zip)</p>\n<p>The jars in the maven repository are structured a little bit differently. The have platform specific variant, e.g., javafx-graphics-20-ea+11-mac.jar which contain the binary libs at the top-level folder.</p>\n<p>Going modular, as @jewelsea suggested above, is yet another option, depending on what you want to achieve.</p>\n"}],"owner":{"account_id":20398686,"reputation":11,"user_id":14964930,"display_name":"Jett Black"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671009468,"creation_date":1671004228,"question_id":74795035,"body_markdown":"in previous versions of JavaFX, you could build jar files from project by building artifacts using .dll files within the bin folder of JavaFX. However, in later versions of JavaFX, there are absolutely no bin files or .dll files. Does anyone know a work around this? ","title":"JavaFX SDK 19 contain no .dll Files to create JAR with external libraries","body":"<p>in previous versions of JavaFX, you could build jar files from project by building artifacts using .dll files within the bin folder of JavaFX. However, in later versions of JavaFX, there are absolutely no bin files or .dll files. Does anyone know a work around this?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":2968223,"reputation":81,"user_id":2520929,"display_name":"GauravS"},"score":12,"creation_date":1374698298,"post_id":12348170,"comment_id":26055564,"body_markdown":"If you are using eclipse you can right click on your server and select &quot;Clean Tomcat Work Directory&quot; also.","body":"If you are using eclipse you can right click on your server and select &quot;Clean Tomcat Work Directory&quot; also."}],"answers":[{"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1671009445,"creation_date":1356086527,"answer_id":13988564,"question_id":12348170,"body_markdown":"You can delete `${catalina.home}/work/Catalina/localhost/&lt;app&gt;/SESSION.ser` where app is your application.","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>You can delete <code>${catalina.home}/work/Catalina/localhost/&lt;app&gt;/SESSION.ser</code> where app is your application.</p>\n"},{"tags":[],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1368610583,"creation_date":1368610583,"answer_id":16561569,"question_id":12348170,"body_markdown":"You can delete ${CATALINA_HOME}/work/Catalina/localhost/test \r\n\r\nwhere test is your application folder (war name).\r\n\r\nThis solved my issue","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>You can delete ${CATALINA_HOME}/work/Catalina/localhost/test </p>\n\n<p>where test is your application folder (war name).</p>\n\n<p>This solved my issue</p>\n"},{"tags":[],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392618893,"creation_date":1392618893,"answer_id":21822312,"question_id":12348170,"body_markdown":"I am having a project in eclipse and using tomcat plugin to run it, I tried this but it didn&#39;t help, so I observed in my project directory structure there is one more work directory, I removed that directory and everything started working. Just wanted to share this one more possible answer for others like me.","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I am having a project in eclipse and using tomcat plugin to run it, I tried this but it didn't help, so I observed in my project directory structure there is one more work directory, I removed that directory and everything started working. Just wanted to share this one more possible answer for others like me.</p>\n"},{"tags":[],"owner":{"account_id":1084957,"reputation":1067,"user_id":1080874,"display_name":"maoyang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412934315,"creation_date":1412934315,"answer_id":26296458,"question_id":12348170,"body_markdown":"I tried the methods above : &quot;delete work directory&quot; in the ${CATALINA_HOME}/work/Catalina/localhost, &quot;uncomment manager pathname&quot; in the ${CATALINA_HOME}/conf/context.xml. Not worked.\r\n\r\nAnd I found that in my eclipse projects, the server project had a file called &quot;context.xml&quot; too, it must be copied when the server project was created.  And I &quot;uncomment manager pathname&quot; there, it worked finally!\r\n\r\nHope it will help someone!","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I tried the methods above : \"delete work directory\" in the ${CATALINA_HOME}/work/Catalina/localhost, \"uncomment manager pathname\" in the ${CATALINA_HOME}/conf/context.xml. Not worked.</p>\n\n<p>And I found that in my eclipse projects, the server project had a file called \"context.xml\" too, it must be copied when the server project was created.  And I \"uncomment manager pathname\" there, it worked finally!</p>\n\n<p>Hope it will help someone!</p>\n"},{"tags":[],"owner":{"account_id":5259160,"reputation":31,"user_id":4201135,"display_name":"user4201135"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414731137,"creation_date":1414731137,"answer_id":26667744,"question_id":12348170,"body_markdown":"Try deleting tomcat&#39;s Work folder, then restart tomcat. It worked for me!","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>Try deleting tomcat's Work folder, then restart tomcat. It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469605708,"creation_date":1469605708,"answer_id":38606906,"question_id":12348170,"body_markdown":"As @GauravS said. I am using eclipse so when I right click on tomcat Server (in Servers window) and clean it it worked... \r\n\r\nSometimes I have to remove the war from tomcat, clean than run it again.\r\n\r\nSometimes I delete tomcat and right click on Servers window, New , Server and I use same ports I was using and delete the old server.\r\n\r\nPS: to open Servers window: \r\n\r\n    Window - Show View - Other - write &quot;Servers&quot; and choose it from the list - OK","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>As @GauravS said. I am using eclipse so when I right click on tomcat Server (in Servers window) and clean it it worked... </p>\n\n<p>Sometimes I have to remove the war from tomcat, clean than run it again.</p>\n\n<p>Sometimes I delete tomcat and right click on Servers window, New , Server and I use same ports I was using and delete the old server.</p>\n\n<p>PS: to open Servers window: </p>\n\n<pre><code>Window - Show View - Other - write \"Servers\" and choose it from the list - OK\n</code></pre>\n"}],"owner":{"account_id":1541835,"reputation":291,"user_id":1436285,"display_name":"user1436285"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42581,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":6,"score":29,"last_activity_date":1671009445,"creation_date":1347266975,"question_id":12348170,"body_markdown":"I have a web program using struts2, spring3 and hibernate 4 running in Tomcat. It can work, but Tomcat reports a `java.io.EOFException`.\r\n\r\nThe following is the tomcat log:\r\n\r\n    INFO: Deploying web application directory D:\\apache-tomcat-7.0.29\\webapps\\manager\r\n    九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager doLoad\r\n    SEVERE: IOException while loading persisted sessions: java.io.EOFException\r\n    java.io.EOFException\r\n        at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\r\n        at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\r\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\r\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\r\n        at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\r\n        at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\r\n        at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\r\n        at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\r\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\r\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:722)\r\n\r\n    九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager startInternal\r\n    SEVERE: Exception loading sessions from persistent storage\r\n    java.io.EOFException\r\n        at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\r\n        at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\r\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\r\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\r\n        at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\r\n        at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\r\n        at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\r\n        at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\r\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\r\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:722)\r\n\r\n","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I have a web program using struts2, spring3 and hibernate 4 running in Tomcat. It can work, but Tomcat reports a <code>java.io.EOFException</code>.</p>\n\n<p>The following is the tomcat log:</p>\n\n<pre><code>INFO: Deploying web application directory D:\\apache-tomcat-7.0.29\\webapps\\manager\n九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager doLoad\nSEVERE: IOException while loading persisted sessions: java.io.EOFException\njava.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\n    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\n    at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\n    at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\n    at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\n    at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n\n九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager startInternal\nSEVERE: Exception loading sessions from persistent storage\njava.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\n    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\n    at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\n    at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\n    at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\n    at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":3065469,"reputation":1545,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1557996663,"post_id":56164029,"comment_id":98956176,"body_markdown":"How do you index those fields, do you index them as terms or you index them as a text?","body":"How do you index those fields, do you index them as terms or you index them as a text?"},{"owner":{"account_id":15941864,"reputation":31,"user_id":11503490,"display_name":"fred_novak"},"score":0,"creation_date":1557997700,"post_id":56164029,"comment_id":98956755,"body_markdown":"Hi, Borislav, I save them with ElasticsearchRepository, and through mapping I saw they are index as text.","body":"Hi, Borislav, I save them with ElasticsearchRepository, and through mapping I saw they are index as text."},{"owner":{"account_id":7184178,"reputation":1055,"user_id":8162407,"display_name":"a.k"},"score":0,"creation_date":1560939064,"post_id":56164029,"comment_id":99898535,"body_markdown":"Can you add your mapping? full mapping of all fields","body":"Can you add your mapping? full mapping of all fields"}],"answers":[{"tags":[],"owner":{"account_id":3065469,"reputation":1545,"user_id":2597267,"display_name":"Borislav Markov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557998380,"creation_date":1557998380,"answer_id":56165079,"question_id":56164029,"body_markdown":"I think you need to index your properties as Terms, because you use them as some codes(nomenclatures). You can keep the existing indexing as text if you need it in future. So I found this tutorial which looks easy to implement for your case.\r\n\r\n&gt; https://www.baeldung.com/spring-data-elasticsearch-queries\r\n\r\nSo if you add @InnerField on your fields and use query 2. but use `verbatim` suffix on fields it should work with query number 2 from your list. Your fields will be like `code.verbatim`, etc...\r\n\r\nAlso you can think of moving to `NativeSearchQueryBuilder`.","title":"how to use &quot;or&quot; operator with CriteriaQuery in spring-data-elasticsearch","body":"<p>I think you need to index your properties as Terms, because you use them as some codes(nomenclatures). You can keep the existing indexing as text if you need it in future. So I found this tutorial which looks easy to implement for your case.</p>\n\n<blockquote>\n  <p><a href=\"https://www.baeldung.com/spring-data-elasticsearch-queries\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-elasticsearch-queries</a></p>\n</blockquote>\n\n<p>So if you add @InnerField on your fields and use query 2. but use <code>verbatim</code> suffix on fields it should work with query number 2 from your list. Your fields will be like <code>code.verbatim</code>, etc...</p>\n\n<p>Also you can think of moving to <code>NativeSearchQueryBuilder</code>.</p>\n"}],"owner":{"account_id":15941864,"reputation":31,"user_id":11503490,"display_name":"fred_novak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671009346,"creation_date":1557994967,"question_id":56164029,"body_markdown":"Recently, I am trying use `spring-data-elasticsearch` in my project and met lots of problems. I asked a question about `not` operation yesterday but I solved by myself. And now I met another problem when trying to use `or` operator.\r\n\r\nHere is what I want:\r\n\r\nI want to query an object with a `code` that is not &quot;11&quot; and its `symbol` is &quot;22&quot; or its `subSymbol` is &quot;33&quot;. I have tried many times in many ways and failed.It seems that I have no way to make it work with `CriteriaQuery`. I don&#39;t know if I described my question clearly. And in SQL, it should be written like this,\r\n```\r\nselect from x where x.code!=&#39;11&#39; and (x.symbol=&#39;22&#39; or x.subSymbol=&#39;33&#39;)\r\n```\r\nBut with `CriteriaQuery`, I always get the results if `symbol/subSymbol` value is matched and `code` condition seems missing, its SQL works like below:\r\n```\r\nselect from x where x.code!=&#39;11&#39; or x.symbol=&#39;22&#39; or x.subSymbol=&#39;33&#39;\r\n```\r\n\r\nHere is what I tried:\r\n\r\n\r\n```\r\n1.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.or(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\r\n2.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.or(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).and(&quot;subSymbol&quot;).is(&quot;33&quot;)));\r\n\r\n3.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.and(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;)));\r\n\r\n4.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not())\r\n    \t\t\t.addCriteria(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\r\n\r\n\r\nList&lt;xx&gt; sampleEntities =\r\n    \t\t    elasticsearchTemplate.queryForList(criteriaQuery,xx.class);\r\n```\r\n\r\nAll of the above failed.\r\n\r\nSo any solution to deal with my problem? Or I need to try `NativeSearchQueryBuilder` maybe? It is so frustrating.","title":"how to use &quot;or&quot; operator with CriteriaQuery in spring-data-elasticsearch","body":"<p>Recently, I am trying use <code>spring-data-elasticsearch</code> in my project and met lots of problems. I asked a question about <code>not</code> operation yesterday but I solved by myself. And now I met another problem when trying to use <code>or</code> operator.</p>\n<p>Here is what I want:</p>\n<p>I want to query an object with a <code>code</code> that is not &quot;11&quot; and its <code>symbol</code> is &quot;22&quot; or its <code>subSymbol</code> is &quot;33&quot;. I have tried many times in many ways and failed.It seems that I have no way to make it work with <code>CriteriaQuery</code>. I don't know if I described my question clearly. And in SQL, it should be written like this,</p>\n<pre><code>select from x where x.code!='11' and (x.symbol='22' or x.subSymbol='33')\n</code></pre>\n<p>But with <code>CriteriaQuery</code>, I always get the results if <code>symbol/subSymbol</code> value is matched and <code>code</code> condition seems missing, its SQL works like below:</p>\n<pre><code>select from x where x.code!='11' or x.symbol='22' or x.subSymbol='33'\n</code></pre>\n<p>Here is what I tried:</p>\n<pre><code>1.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .or(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\n2.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .or(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).and(&quot;subSymbol&quot;).is(&quot;33&quot;)));\n\n3.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .and(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;)));\n\n4.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not())\n                .addCriteria(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\n\n\nList&lt;xx&gt; sampleEntities =\n                elasticsearchTemplate.queryForList(criteriaQuery,xx.class);\n</code></pre>\n<p>All of the above failed.</p>\n<p>So any solution to deal with my problem? Or I need to try <code>NativeSearchQueryBuilder</code> maybe? It is so frustrating.</p>\n"},{"tags":["java","jackson","json-deserialization","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671008684,"post_id":74795557,"comment_id":132002046,"body_markdown":"I feel like you posted too much and also too little code: Are all of these classes with all of the fields really necessary to demonstrate the problem, or could the set of classes/fields be further reduced? Additionally you also didn&#39;t post the code that demonstrates the actual problem (some serialization/deserialization code with an assert, for example). And last but not least: you seem to have inconsistently renamed your classes: There&#39;s references to `A.class` and `B.class` as well as `classZ` and a class apparently just named `class` (which isn&#39;t allowed in Java). Please provide a [mre].","body":"I feel like you posted too much and also too little code: Are all of these classes with all of the fields really necessary to demonstrate the problem, or could the set of classes/fields be further reduced? Additionally you also didn&#39;t post the code that demonstrates the actual problem (some serialization/deserialization code with an assert, for example). And last but not least: you seem to have inconsistently renamed your classes: There&#39;s references to <code>A.class</code> and <code>B.class</code> as well as <code>classZ</code> and a class apparently just named <code>class</code> (which isn&#39;t allowed in Java). Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1671027318,"post_id":74795557,"comment_id":132008564,"body_markdown":"See `java.io.Serializable` interface.","body":"See <code>java.io.Serializable</code> interface."}],"owner":{"account_id":26449544,"reputation":1,"user_id":20092937,"display_name":"sg23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671009053,"creation_date":1671007349,"question_id":74795557,"body_markdown":"```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;@type&quot;)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = A.class, name = &quot;a&quot;), \r\n  @JsonSubTypes.Type(value = B.class, name = &quot;b&quot;) )\r\npublic interface classX&lt;T extends P, I extends Q&gt; {\r\n\r\n  /** @return */ String getProp();\r\n\r\n  JavaObjectClass getJavaObjectClass();\r\n}\r\n```\r\n\r\n```\r\n@Getter \r\n@EqualsAndHashCode \r\n@ToString \r\n@NoArgsConstructor \r\npublic abstract class classY&lt;T extends P, I extends Q&gt; implements class&lt;Event, Identifier&gt; {\r\n\r\nprivate T obj1;\r\n\r\nprivate String obj2;\r\n\r\nprivate I obj3;\r\n\r\nprivate JavaObjectClass obj4;\r\n\r\nprotected classY( T obj1, String obj2, I obj3, JavaObjectClass obj4) \r\n{\r\n  this.obj1 = obj1; \r\n  this.obj2 = obj2;\r\n  this.obj3 = obj3;\r\n  this.obj4 = obj4; \r\n}\r\n\r\n@Override\r\npublic final String getProp() \r\n    { return obj1.getSubProp(); }\r\n\r\n@Override \r\npublic JavaObjectClass getJavaObjectClass() \r\n    { return obj4; }\r\n\r\n}\r\n```\r\n\r\n```\r\n@ToString \r\n@Getter \r\n@NoArgsConstructor \r\n@AllArgsConstructor \r\npublic class JavaObjectClass {\r\n\r\nprivate String L; \r\nprivate String M; \r\npublic Instant N; \r\npublic Date O;\r\n\r\npublic JavaObjectClass(AnotherClass input) { \r\nthis.N= input.getN(); \r\nthis.M = input.getM(); \r\nthis.L = input.getL(); \r\nthis.O = Date.from(N); \r\n  \r\n }\r\n}\r\n```\r\n\r\n```\r\n@Getter \r\n@EqualsAndHashCode(callSuper = true) \r\n@ToString(callSuper = true) \r\n@NoArgsConstructor \r\npublic class A extends classZ&lt;EnumClass&gt; {\r\n\r\nprivate K k;\r\n\r\n@Builder //... }\r\n\r\n```\r\n\r\nI have these following code. When deserializing using object mapper, I get the values of `JavaObjectClass=null` but for `K` I am able to get all the values. I can&#39;t figure out why this is happening. For string dataTypes i am able to get the value but when its a java object, then its coming as null.  Basically what i can understand is that it is not able to recognize the object itself.\r\n\r\nIs there a way to unwrap the **JavaObjectClass?**","title":"Deserializer not unwrapping java objects","body":"<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;@type&quot;)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = A.class, name = &quot;a&quot;), \n  @JsonSubTypes.Type(value = B.class, name = &quot;b&quot;) )\npublic interface classX&lt;T extends P, I extends Q&gt; {\n\n  /** @return */ String getProp();\n\n  JavaObjectClass getJavaObjectClass();\n}\n</code></pre>\n<pre><code>@Getter \n@EqualsAndHashCode \n@ToString \n@NoArgsConstructor \npublic abstract class classY&lt;T extends P, I extends Q&gt; implements class&lt;Event, Identifier&gt; {\n\nprivate T obj1;\n\nprivate String obj2;\n\nprivate I obj3;\n\nprivate JavaObjectClass obj4;\n\nprotected classY( T obj1, String obj2, I obj3, JavaObjectClass obj4) \n{\n  this.obj1 = obj1; \n  this.obj2 = obj2;\n  this.obj3 = obj3;\n  this.obj4 = obj4; \n}\n\n@Override\npublic final String getProp() \n    { return obj1.getSubProp(); }\n\n@Override \npublic JavaObjectClass getJavaObjectClass() \n    { return obj4; }\n\n}\n</code></pre>\n<pre><code>@ToString \n@Getter \n@NoArgsConstructor \n@AllArgsConstructor \npublic class JavaObjectClass {\n\nprivate String L; \nprivate String M; \npublic Instant N; \npublic Date O;\n\npublic JavaObjectClass(AnotherClass input) { \nthis.N= input.getN(); \nthis.M = input.getM(); \nthis.L = input.getL(); \nthis.O = Date.from(N); \n  \n }\n}\n</code></pre>\n<pre><code>@Getter \n@EqualsAndHashCode(callSuper = true) \n@ToString(callSuper = true) \n@NoArgsConstructor \npublic class A extends classZ&lt;EnumClass&gt; {\n\nprivate K k;\n\n@Builder //... }\n\n</code></pre>\n<p>I have these following code. When deserializing using object mapper, I get the values of <code>JavaObjectClass=null</code> but for <code>K</code> I am able to get all the values. I can't figure out why this is happening. For string dataTypes i am able to get the value but when its a java object, then its coming as null.  Basically what i can understand is that it is not able to recognize the object itself.</p>\n<p>Is there a way to unwrap the <strong>JavaObjectClass?</strong></p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1671007426,"post_id":74795543,"comment_id":132001697,"body_markdown":"Instead of retrying 3 times, why not just wait 3 times as long ?","body":"Instead of retrying 3 times, why not just wait 3 times as long ?"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671008952,"creation_date":1671008952,"answer_id":74795854,"question_id":74795543,"body_markdown":"How about this:\r\n \r\n    for(int i = 1; i &lt;= retryCount; i++) {\r\n        try { \r\n            WebElement element = new WebDriverWait(driver, 30).until(ExpectedConditions.visibilityOfElementLocated(by));\r\n            if (element.isDisplayed()) {\r\n                return element\r\n            }\r\n        }\r\n        catch(TimeOutException e) {\r\n            // ignore\r\n        }\r\n    }\r\n    throw new ValueError(String.format(&quot;Element %s not found after %s retries&quot;, by, retryCount));\r\n","title":"If the element is not available on a web page how to retry upto 3 times before failing in selenium","body":"<p>How about this:</p>\n<pre><code>for(int i = 1; i &lt;= retryCount; i++) {\n    try { \n        WebElement element = new WebDriverWait(driver, 30).until(ExpectedConditions.visibilityOfElementLocated(by));\n        if (element.isDisplayed()) {\n            return element\n        }\n    }\n    catch(TimeOutException e) {\n        // ignore\n    }\n}\nthrow new ValueError(String.format(&quot;Element %s not found after %s retries&quot;, by, retryCount));\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671008952,"creation_date":1671007281,"question_id":74795543,"body_markdown":"I am implementing a wrapper method for a retry mechanism for finding WebElements on a web page, my requirement is **If the element is not available , retry upto 3 times before failing** how do i implement this method, below is my code is it correct ?\r\n\r\n```\r\npublic static WebElement findElementWithRetry(WebDriver driver, By by, int retryCount){\r\n\t\t\tWebElement element = null;\r\n\t\t\ttry {\r\n\t\t\t\twait = new WebDriverWait(driver, 30);\r\n\t\t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(by));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t//TODO: handle exception\r\n\t\t\t\tfor(int i=0; i&lt;retryCount; i++){\r\n\t\t\t\t\telement = driver.findElement(by);\r\n\t\t\t\t\tif(element.isDisplayed())\r\n\t\t\t\t\t\treturn element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n```","title":"If the element is not available on a web page how to retry upto 3 times before failing in selenium","body":"<p>I am implementing a wrapper method for a retry mechanism for finding WebElements on a web page, my requirement is <strong>If the element is not available , retry upto 3 times before failing</strong> how do i implement this method, below is my code is it correct ?</p>\n<pre><code>public static WebElement findElementWithRetry(WebDriver driver, By by, int retryCount){\n            WebElement element = null;\n            try {\n                wait = new WebDriverWait(driver, 30);\n                element = wait.until(ExpectedConditions.visibilityOfElementLocated(by));\n            } catch (Exception e) {\n                //TODO: handle exception\n                for(int i=0; i&lt;retryCount; i++){\n                    element = driver.findElement(by);\n                    if(element.isDisplayed())\n                        return element;\n                }\n            }\n            return element;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","eclipse","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670858507,"post_id":74772599,"comment_id":131964486,"body_markdown":"The system library of Java 17 contains the module `java.base` which contains the package `jdk.internal.jimage.decompressor`. The system library of Java 17 does not contain the module `jrt.fs`, so it comes from your code or more likely from a dependency. Two modules must not contain the same package, and of course the system library follows this rule.","body":"The system library of Java 17 contains the module <code>java.base</code> which contains the package <code>jdk.internal.jimage.decompressor</code>. The system library of Java 17 does not contain the module <code>jrt.fs</code>, so it comes from your code or more likely from a dependency. Two modules must not contain the same package, and of course the system library follows this rule."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1670860303,"post_id":74772599,"comment_id":131965218,"body_markdown":"Which version of **Spring Boot** are you using? Is it compatible with Java 17?","body":"Which version of <b>Spring Boot</b> are you using? Is it compatible with Java 17?"},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1670921673,"post_id":74772599,"comment_id":131979009,"body_markdown":"@nitind I use **Spring boot 3.0.0** , from  [the documentaion](https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements) this version of spring boot is **compatible** with **Java 17**. I use **Spring Tools 4** (4.17.0), can this affect the project?","body":"@nitind I use <b>Spring boot 3.0.0</b> , from  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\" rel=\"nofollow noreferrer\">the documentaion</a> this version of spring boot is <b>compatible</b> with <b>Java 17</b>. I use <b>Spring Tools 4</b> (4.17.0), can this affect the project?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670922014,"post_id":74772599,"comment_id":131979129,"body_markdown":"The answer you have linked doesn’t say anything about javafx. As it says, you have to remove the `jrt-fs.jar` from the module path, regardless of how it got there.","body":"The answer you have linked doesn’t say anything about javafx. As it says, you have to remove the <code>jrt-fs.jar</code> from the module path, regardless of how it got there."},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1670922214,"post_id":74772599,"comment_id":131979207,"body_markdown":"@howlger from the exception, I understand the opposite of what you have said. We have two emplacement of the package `jdk.internal.jimage.decompressor`, the first one is on `java.base` and the other one is on `jrt.fs`. This is the same thing that confirm [this answer](https://stackoverflow.com/a/43014416/20757134)","body":"@howlger from the exception, I understand the opposite of what you have said. We have two emplacement of the package <code>jdk.internal.jimage.decompressor</code>, the first one is on <code>java.base</code> and the other one is on <code>jrt.fs</code>. This is the same thing that confirm <a href=\"https://stackoverflow.com/a/43014416/20757134\">this answer</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670924336,"post_id":74772599,"comment_id":131979994,"body_markdown":"The mentioned answer does not apply to an unmodified Java 17 JDK. Please go to your run configuration and click the _Show command line_ button and add the command line to your question. The command line tells which Java installation is used. Maybe you are looking at the wrong one. Please also show your `pom.xml`. If possible, provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"The mentioned answer does not apply to an unmodified Java 17 JDK. Please go to your run configuration and click the <i>Show command line</i> button and add the command line to your question. The command line tells which Java installation is used. Maybe you are looking at the wrong one. Please also show your <code>pom.xml</code>. If possible, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671008779,"creation_date":1671008779,"answer_id":74795819,"question_id":74772599,"body_markdown":"@Holger and @nitind, Thank you for your help. In fact, i was using bad way to run my app. I was using : `Run As` then `Run Configuration` then `Spring Boot` then `new configuration`. Now I go to the **Main class** and I `Run As` `Java Application`.","title":"Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base","body":"<p>@Holger and @nitind, Thank you for your help. In fact, i was using bad way to run my app. I was using : <code>Run As</code> then <code>Run Configuration</code> then <code>Spring Boot</code> then <code>new configuration</code>. Now I go to the <strong>Main class</strong> and I <code>Run As</code> <code>Java Application</code>.</p>\n"}],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74795819,"answer_count":1,"score":1,"last_activity_date":1671008779,"creation_date":1670855268,"question_id":74772599,"body_markdown":"I have just start a **SPRING BOOT** project using :\r\n - **Jdk-17.0.5**\r\n - **Maven**\r\n\r\nWhen I run the project I get the exception below : **Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base**\r\n\r\n\r\n\r\nI have read [this answer ](https://stackoverflow.com/a/43014416/20757134) , but I did not find this folder **javafx** in **JAVA_HOME/lib/** as it was montioned in the solution.\r\n\r\n\r\nThis is what I have at lib folder :\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rNBR.png","title":"Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base","body":"<p>I have just start a <strong>SPRING BOOT</strong> project using :</p>\n<ul>\n<li><strong>Jdk-17.0.5</strong></li>\n<li><strong>Maven</strong></li>\n</ul>\n<p>When I run the project I get the exception below : <strong>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base</strong></p>\n<p>I have read <a href=\"https://stackoverflow.com/a/43014416/20757134\">this answer </a> , but I did not find this folder <strong>javafx</strong> in <strong>JAVA_HOME/lib/</strong> as it was montioned in the solution.</p>\n<p>This is what I have at lib folder :</p>\n<p><a href=\"https://i.stack.imgur.com/6rNBR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","xml","kafka-consumer-api","objectmapper","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671008774,"creation_date":1670983894,"answer_id":74792888,"question_id":74791989,"body_markdown":"You can use `XmlMapper` pretty much the same way you have been using `ObjectMapper. Here is a sample code that I tested with:\r\n    \r\n    public static void main(String[] args) {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        \r\n        String myXML = &quot;&lt;cookies&gt;&quot; + \r\n                            &quot;&lt;cookie&gt;&lt;type&gt;Chocolate&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt; &quot; + \r\n                            &quot;&lt;cookie&gt;&lt;type&gt;Sugar&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt;&quot; + \r\n                       &quot;&lt;/cookies&gt;&quot;;  \r\n        try {\r\n            // Note that the readTree method returns a `JsonNode` result\r\n            JsonNode root = xmlMapper.readTree(myXML);\r\n            System.out.println(root);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis produces the below output:\r\n\r\n```\r\n{&quot;cookie&quot;:[{&quot;type&quot;:&quot;Chocolate&quot;,&quot;price&quot;:&quot;5.0&quot;},{&quot;type&quot;:&quot;Sugar&quot;,&quot;price&quot;:&quot;5.0&quot;}]}\r\n```\r\n\r\nEDIT: Adding the Maven co-ordinates for the dependency that I used, just in case \r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n   &lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo get a &#39;Document&#39; from the string you can do something like this:\r\n    \r\n    ...\r\n        StringReader strReader = new StringReader(myXML);\r\n        InputSource inSource = new InputSource(strReader);\r\n            \r\n        // Get a DocumentBuilder instance\r\n        DocumentBuilder docBuilder = \r\n        DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n            \r\n        // Parse String to Document\r\n        Document doc = docBuilder.parse(inSource);\r\n            \r\n            \r\n        // Printing the &#39;document&#39; element name\r\n        System.out.println(doc.getDocumentElement().getTagName());\r\n\r\n    ...\r\n","title":"Mapping ConsumerRecord to Element - What are JsonFactory and ObjectMapper equivalent for XML?","body":"<p>You can use <code>XmlMapper</code> pretty much the same way you have been using `ObjectMapper. Here is a sample code that I tested with:</p>\n<pre><code>public static void main(String[] args) {\n    XmlMapper xmlMapper = new XmlMapper();\n    \n    String myXML = &quot;&lt;cookies&gt;&quot; + \n                        &quot;&lt;cookie&gt;&lt;type&gt;Chocolate&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt; &quot; + \n                        &quot;&lt;cookie&gt;&lt;type&gt;Sugar&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt;&quot; + \n                   &quot;&lt;/cookies&gt;&quot;;  \n    try {\n        // Note that the readTree method returns a `JsonNode` result\n        JsonNode root = xmlMapper.readTree(myXML);\n        System.out.println(root);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This produces the below output:</p>\n<pre><code>{&quot;cookie&quot;:[{&quot;type&quot;:&quot;Chocolate&quot;,&quot;price&quot;:&quot;5.0&quot;},{&quot;type&quot;:&quot;Sugar&quot;,&quot;price&quot;:&quot;5.0&quot;}]}\n</code></pre>\n<p>EDIT: Adding the Maven co-ordinates for the dependency that I used, just in case</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n   &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To get a 'Document' from the string you can do something like this:</p>\n<pre><code>...\n    StringReader strReader = new StringReader(myXML);\n    InputSource inSource = new InputSource(strReader);\n        \n    // Get a DocumentBuilder instance\n    DocumentBuilder docBuilder = \n    DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        \n    // Parse String to Document\n    Document doc = docBuilder.parse(inSource);\n        \n        \n    // Printing the 'document' element name\n    System.out.println(doc.getDocumentElement().getTagName());\n\n...\n</code></pre>\n"}],"owner":{"account_id":19859481,"reputation":1,"user_id":14548119,"display_name":"Kal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671008774,"creation_date":1670973950,"question_id":74791989,"body_markdown":"I have a function that takes in kafka **ConsumerRecords&lt;Object, Object&gt; records** and what I need to do is make an Element object out of each record.\r\n\r\nBelow is how it works for the Json implementation where I create a JsonNode object for each record.\r\n\r\n```\r\nfor (ConsumerRecord&lt;Object, Object&gt; record: records) {\r\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\r\n   String rawJson = kafkaMsgVal.getMsgValue();\r\n   JsonNode jsonNode = null;\r\n   \r\n   try {\r\n     JsonFactory factory = new JsonFactory();\r\n     ObjectMapper mapper = new ObjectMapper(factory);\r\n     jsonNode = mapper.readTree(rawJson);\r\n   }\r\n}\r\n```\r\n\r\nI would like to do the same thing as above but for XML. So instead of JsonNode, I believe I have to use Element, or Document and then use the document.getRootElement(). What is the best way to do this? As you can see above, I was able to simply use JsonFactory and Object mapper to convert the record into a JsonNode, what would be the equivalent for XML?\r\n\r\n\r\n\r\nBelow is the idea for what I&#39;m going for:\r\n\r\n```\r\nfor (ConsumerRecord&lt;Object, Object&gt; record: records) {\r\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\r\n   String rawXml = kafkaMsgVal.getMsgValue();\r\n   Element element = null;\r\n   \r\n   try {\r\n     //What to do here to convert the rawXml into an Element or Document object? \r\n   }\r\n}\r\n```\r\n\r\n","title":"Mapping ConsumerRecord to Element - What are JsonFactory and ObjectMapper equivalent for XML?","body":"<p>I have a function that takes in kafka <strong>ConsumerRecords&lt;Object, Object&gt; records</strong> and what I need to do is make an Element object out of each record.</p>\n<p>Below is how it works for the Json implementation where I create a JsonNode object for each record.</p>\n<pre><code>for (ConsumerRecord&lt;Object, Object&gt; record: records) {\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\n   String rawJson = kafkaMsgVal.getMsgValue();\n   JsonNode jsonNode = null;\n   \n   try {\n     JsonFactory factory = new JsonFactory();\n     ObjectMapper mapper = new ObjectMapper(factory);\n     jsonNode = mapper.readTree(rawJson);\n   }\n}\n</code></pre>\n<p>I would like to do the same thing as above but for XML. So instead of JsonNode, I believe I have to use Element, or Document and then use the document.getRootElement(). What is the best way to do this? As you can see above, I was able to simply use JsonFactory and Object mapper to convert the record into a JsonNode, what would be the equivalent for XML?</p>\n<p>Below is the idea for what I'm going for:</p>\n<pre><code>for (ConsumerRecord&lt;Object, Object&gt; record: records) {\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\n   String rawXml = kafkaMsgVal.getMsgValue();\n   Element element = null;\n   \n   try {\n     //What to do here to convert the rawXml into an Element or Document object? \n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1671008193,"post_id":74795649,"comment_id":132001909,"body_markdown":"You shouldn&#39;t use double for this if you want the precision all the way down to 28 digits. A double only has limited precision. The format itself is just a matter of printing (research  number formatting), but you may get something like 387492837492375000000000000000.","body":"You shouldn&#39;t use double for this if you want the precision all the way down to 28 digits. A double only has limited precision. The format itself is just a matter of printing (research  number formatting), but you may get something like 387492837492375000000000000000."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1671008422,"post_id":74795649,"comment_id":132001971,"body_markdown":"You should use BigDecimal instead, but then no operators but functions. Look into the javadoc and remember `toPlainString`. I assume you are aware that floating point is just an approximation, a sum of (negative) powers of 2.","body":"You should use BigDecimal instead, but then no operators but functions. Look into the javadoc and remember <code>toPlainString</code>. I assume you are aware that floating point is just an approximation, a sum of (negative) powers of 2."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":0,"creation_date":1671096026,"post_id":74795649,"comment_id":132025419,"body_markdown":"@JoopEggen: I change to use BigDecimal, however in response return it still have E","body":"@JoopEggen: I change to use BigDecimal, however in response return it still have E"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1671098435,"post_id":74795649,"comment_id":132026264,"body_markdown":"`interest.toPlainString()` would not use the scientific notation with `E`.","body":"<code>interest.toPlainString()</code> would not use the scientific notation with <code>E</code>."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":0,"creation_date":1671289945,"post_id":74795649,"comment_id":132069876,"body_markdown":"@JoopEggen but the type of data of &quot;interest&quot; I return in response DTO is Double and currently, I don&#39;t want to change the type to String so I think I can&#39;t use interest.toPlainString()","body":"@JoopEggen but the type of data of &quot;interest&quot; I return in response DTO is Double and currently, I don&#39;t want to change the type to String so I think I can&#39;t use interest.toPlainString()"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1671437607,"post_id":74795649,"comment_id":132091055,"body_markdown":"Then first check that 23874928374923749823749823749 can be held in a double, is not equal to the value 1 lower.  The double has a resolution of 1 at that magnitude. I doubt that a bit. **But** simply formatting to a non-E string can be done with ``%f&quot;.formatted(x)` But also `...5E28` already hints at an imprecision.","body":"Then first check that 23874928374923749823749823749 can be held in a double, is not equal to the value 1 lower.  The double has a resolution of 1 at that magnitude. I doubt that a bit. <b>But</b> simply formatting to a non-E string can be done with ``%f&quot;.formatted(x)` But also <code>...5E28</code> already hints at an imprecision."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":1,"creation_date":1671597127,"post_id":74795649,"comment_id":132131007,"body_markdown":"@JoopEggen: thanks so much, I create class extends JsonSerializer to over function serialize, use &quot;interest.toPlainString()&quot; resolved my problem.","body":"@JoopEggen: thanks so much, I create class extends JsonSerializer to over function serialize, use &quot;interest.toPlainString()&quot; resolved my problem."}],"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671007944,"creation_date":1671007944,"question_id":74795649,"body_markdown":"My problem is value of variable &quot;**interest**&quot; is showned in format number scientist have E. for example: i want value when return is **23874928374923749823749823749** but actually is **387492837492375E28**\r\n\r\nHow do i resolve it?\r\nThanks so much!\r\n\r\nController:\r\n\r\n```\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/api/i/v1/calculate&quot;)\r\npublic class CalculateController {    \r\n@RequestMapping(value = &quot;/calculate&quot;, method = RequestMethod.GET, produces = { MediaType.APPLICATION_JSON })\r\n    public ResponseEntity&lt;List&lt;RespDto&gt;&gt; calculate() {\r\n        return ResponseEntity.ok(service.calculate());\r\n    }\r\n}\r\n```\r\n\r\nFile response dto: RespDto\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class RespDto implements Serializable {\r\n    private Double interest;\r\n}\r\n```","title":"How to format double to raw number, not format in number scientist","body":"<p>My problem is value of variable &quot;<strong>interest</strong>&quot; is showned in format number scientist have E. for example: i want value when return is <strong>23874928374923749823749823749</strong> but actually is <strong>387492837492375E28</strong></p>\n<p>How do i resolve it?\nThanks so much!</p>\n<p>Controller:</p>\n<pre><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/api/i/v1/calculate&quot;)\npublic class CalculateController {    \n@RequestMapping(value = &quot;/calculate&quot;, method = RequestMethod.GET, produces = { MediaType.APPLICATION_JSON })\n    public ResponseEntity&lt;List&lt;RespDto&gt;&gt; calculate() {\n        return ResponseEntity.ok(service.calculate());\n    }\n}\n</code></pre>\n<p>File response dto: RespDto</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class RespDto implements Serializable {\n    private Double interest;\n}\n</code></pre>\n"},{"tags":["java","dependency-injection","decorator","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671007916,"creation_date":1671007916,"answer_id":74795640,"question_id":74795501,"body_markdown":"An interceptor can still be used:\r\n```java\r\n@AroundInvoke\r\nObject intercept(InvocationContext context) throws Exception {\r\n    Object result = context.proceed();\r\n    // do stuff; possibly update or replace result\r\n    return result;\r\n}\r\n```","title":"Is there an @After advice Spring equivalent in Quarkus?","body":"<p>An interceptor can still be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AroundInvoke\nObject intercept(InvocationContext context) throws Exception {\n    Object result = context.proceed();\n    // do stuff; possibly update or replace result\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":1174380,"reputation":1876,"user_id":1150744,"accept_rate":67,"display_name":"Chexpir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795640,"answer_count":1,"score":0,"last_activity_date":1671007916,"creation_date":1671006969,"question_id":74795501,"body_markdown":"In a **Quarkus application**, I want to fire events with the results of a method, and we think the equivalent of an @After advice in Spring, which:\r\n\r\n&gt; &quot;runs after the target method is finished, including when the target\r\n&gt; method results in exception. This advice is similar to the finally\r\n&gt; block in Java that it always executes irrespective of the outcome.&quot;\r\n\r\nBut I cannot find the equivalent on Quarkus, I can only use Interceptors/Decorators, which intercepts/modifies the payload on method entry.\r\n\r\nIs there anything equivalent, or how would you suggest to do it?\r\n","title":"Is there an @After advice Spring equivalent in Quarkus?","body":"<p>In a <strong>Quarkus application</strong>, I want to fire events with the results of a method, and we think the equivalent of an @After advice in Spring, which:</p>\n<blockquote>\n<p>&quot;runs after the target method is finished, including when the target\nmethod results in exception. This advice is similar to the finally\nblock in Java that it always executes irrespective of the outcome.&quot;</p>\n</blockquote>\n<p>But I cannot find the equivalent on Quarkus, I can only use Interceptors/Decorators, which intercepts/modifies the payload on method entry.</p>\n<p>Is there anything equivalent, or how would you suggest to do it?</p>\n"},{"tags":["java","android","rx-java","rx-android"],"answers":[{"tags":[],"owner":{"account_id":5035925,"reputation":444,"user_id":4044704,"display_name":"zz-m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671007382,"creation_date":1671007382,"answer_id":74795568,"question_id":74401049,"body_markdown":"You are misusing Rx-java.\r\n\r\nCorrect way:\r\n\r\n**WordRepository**\r\n\r\n    public Single&lt;Boolean&gt; isWordRedundant(String word) {\r\n        return mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.io()) //computation() is for CPU intensive operation. Not for DB read/write. This is a tiny error.\r\n                .map(i -&gt; i == 1 ? true : false)\r\n    }\r\n\r\n**WordViewModel**\r\n\r\n    public Single&lt;Boolean&gt; isWordRedundant(String word) {\r\n        return mRepository.isWordRedundant(word);\r\n    }\r\n\r\n**NewWordActivity**\r\n\r\n        button.setOnClickListener(view -&gt; {\r\n            Intent replyIntent = new Intent();\r\n\r\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\r\n                System.out.println(&quot;Word empty&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n                finish();\r\n            } else {\r\n                //Your CompositDisposable in activity\r\n                compositDisposable.add(\r\n                    mWordViewModel.isWordRedundant(mEditWordView.getText().toString())\r\n                        .observeOn(AndroidSchedulers.mainThread())\r\n                        .subscribe(isRedundant -&gt; {\r\n                            if (isRedundant) {\r\n                                System.out.println(&quot;Word redundant&quot;);\r\n                                setResult(RESULT_CANCELED, replyIntent);\r\n                            } else {\r\n                                String word = mEditWordView.getText().toString();\r\n                                System.out.println(&quot;Word acceptable&quot;);\r\n                                replyIntent.putExtra(EXTRA_REPLY, word);\r\n                                setResult(RESULT_OK, replyIntent);\r\n                            }\r\n                            finish();\r\n                        }, error -&gt; {/* handle error here. Maybe a Toast or something. */})\r\n                );\r\n            }\r\n        });\r\n\r\nSo why your before code is not working? Let&#39;s see the code in **WordRepository** before (note the comments):\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nclass WordRepository {\r\n\r\n    private WordDao mWordDao;\r\n    private boolean mWordRedundant; //field variable. Not initiate. So is the default value: **false**.\r\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        //Main thread enter here.\r\n        //Main thread step 1: Create an Observable i.e.(mWordDao.wordExists(word)). And subscribe on it.\r\n        mCompositeDisposable.add(\r\n            mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.computation())\r\n                .subscribe(integer -&gt; mWordRedundant = integer == 1)); //We process it and observe the result in computation() thread. Then change the filed variable &quot;mWordRedundant&quot; value.\r\n        \r\n        //Main thread step 2: return the field variable **immediately**! Not wait for the result from computation() thread. That is why you can not get the right result.\r\n        return mWordRedundant;\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Android - RxJava - Race condition","body":"<p>You are misusing Rx-java.</p>\n<p>Correct way:</p>\n<p><strong>WordRepository</strong></p>\n<pre><code>public Single&lt;Boolean&gt; isWordRedundant(String word) {\n    return mWordDao.wordExists(word)\n            .subscribeOn(Schedulers.io()) //computation() is for CPU intensive operation. Not for DB read/write. This is a tiny error.\n            .map(i -&gt; i == 1 ? true : false)\n}\n</code></pre>\n<p><strong>WordViewModel</strong></p>\n<pre><code>public Single&lt;Boolean&gt; isWordRedundant(String word) {\n    return mRepository.isWordRedundant(word);\n}\n</code></pre>\n<p><strong>NewWordActivity</strong></p>\n<pre><code>    button.setOnClickListener(view -&gt; {\n        Intent replyIntent = new Intent();\n\n        if (TextUtils.isEmpty(mEditWordView.getText())) {\n            System.out.println(&quot;Word empty&quot;);\n            setResult(RESULT_CANCELED, replyIntent);\n            finish();\n        } else {\n            //Your CompositDisposable in activity\n            compositDisposable.add(\n                mWordViewModel.isWordRedundant(mEditWordView.getText().toString())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(isRedundant -&gt; {\n                        if (isRedundant) {\n                            System.out.println(&quot;Word redundant&quot;);\n                            setResult(RESULT_CANCELED, replyIntent);\n                        } else {\n                            String word = mEditWordView.getText().toString();\n                            System.out.println(&quot;Word acceptable&quot;);\n                            replyIntent.putExtra(EXTRA_REPLY, word);\n                            setResult(RESULT_OK, replyIntent);\n                        }\n                        finish();\n                    }, error -&gt; {/* handle error here. Maybe a Toast or something. */})\n            );\n        }\n    });\n</code></pre>\n<p>So why your before code is not working? Let's see the code in <strong>WordRepository</strong> before (note the comments):</p>\n<pre><code>\nclass WordRepository {\n\n    private WordDao mWordDao;\n    private boolean mWordRedundant; //field variable. Not initiate. So is the default value: **false**.\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\n\n    public boolean isWordRedundant(String word) {\n        //Main thread enter here.\n        //Main thread step 1: Create an Observable i.e.(mWordDao.wordExists(word)). And subscribe on it.\n        mCompositeDisposable.add(\n            mWordDao.wordExists(word)\n                .subscribeOn(Schedulers.computation())\n                .subscribe(integer -> mWordRedundant = integer == 1)); //We process it and observe the result in computation() thread. Then change the filed variable \"mWordRedundant\" value.\n        \n        //Main thread step 2: return the field variable **immediately**! Not wait for the result from computation() thread. That is why you can not get the right result.\n        return mWordRedundant;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795568,"answer_count":1,"score":0,"last_activity_date":1671007382,"creation_date":1668162058,"question_id":74401049,"body_markdown":"I am new to the concept of multi-threading and also new to RxJava. I think I ran into a race condition in my Android project.\r\nTo be able to demonstrate it better, I downloaded the google codelabs example RoomWithAView and implemented the same race condition as in my own project.\r\n\r\n**WordDao**\r\n```\r\n@Dao\r\npublic interface WordDao {\r\n    @Insert()\r\n    void insert(Word word);\r\n\r\n    @Query(&quot;SELECT EXISTS(SELECT word FROM WORD_TABLE WHERE word = :word)&quot;)\r\n    Single&lt;Integer&gt; wordExists(String word);\r\n}\r\n```\r\n\r\n**WordRepository**\r\n```\r\nclass WordRepository {\r\n\r\n    private WordDao mWordDao;\r\n    private boolean mWordRedundant;\r\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\r\n\r\n    WordRepository(Application application) {\r\n        WordRoomDatabase db = WordRoomDatabase.getDatabase(application);\r\n        mWordDao = db.wordDao();\r\n    }\r\n\r\n    void insert(Word word) {\r\n        WordRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\r\n            mWordDao.insert(word);\r\n        });\r\n    }\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        mCompositeDisposable.add(\r\n        mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.computation())\r\n                .subscribe(integer -&gt; mWordRedundant = integer == 1));\r\n        return mWordRedundant;\r\n    }\r\n```\r\n\r\n**WordViewModel**\r\n```\r\npublic class WordViewModel extends AndroidViewModel {\r\n\r\n    private WordRepository mRepository;\r\n\r\n    public WordViewModel(Application application) {\r\n        super(application);\r\n        mRepository = new WordRepository(application);\r\n    }\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        return mRepository.isWordRedundant(word);\r\n    }\r\n\r\n    public void insert(Word word) {\r\n        mRepository.insert(word);\r\n    }\r\n}\r\n```\r\n\r\n**NewWordActivity**\r\n```\r\npublic class NewWordActivity extends AppCompatActivity {\r\n\r\n    public static final String EXTRA_REPLY = &quot;com.example.android.wordlistsql.REPLY&quot;;\r\n\r\n    private EditText mEditWordView;\r\n    private WordViewModel mWordViewModel;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_word);\r\n        mWordViewModel = new ViewModelProvider(this).get(WordViewModel.class);\r\n        mEditWordView = findViewById(R.id.edit_word);\r\n\r\n        final Button button = findViewById(R.id.button_save);\r\n        button.setOnClickListener(view -&gt; {\r\n            Intent replyIntent = new Intent();\r\n\r\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\r\n                System.out.println(&quot;Word empty&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n            }\r\n\r\n            // possible race condition?\r\n            else if (mWordViewModel.isWordRedundant(mEditWordView.getText().toString())) {\r\n                System.out.println(&quot;Word redundant&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n            }\r\n\r\n            else {\r\n                String word = mEditWordView.getText().toString();\r\n                System.out.println(&quot;Word acceptable&quot;);\r\n                replyIntent.putExtra(EXTRA_REPLY, word);\r\n                setResult(RESULT_OK, replyIntent);\r\n            }\r\n            finish();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe method ```isPlayerNameRedundant()``` always returns ```false``` in my case. I tested the SQL query in App Inspection and it returns 1, so the ```isPlayerNameRedundant()``` method should return ```true```.\r\nI suspect that since I use ```Schedulers.computation()``` in the repository the query is being executed on a background thread and before this thread is finished with its task the main thread returns ```mWordRedundant```. \r\nIs that correct?\r\n\r\nIf so, what would be the way to resolve this?\r\n\r\nThank you in advance.\r\n","title":"Android - RxJava - Race condition","body":"<p>I am new to the concept of multi-threading and also new to RxJava. I think I ran into a race condition in my Android project.\nTo be able to demonstrate it better, I downloaded the google codelabs example RoomWithAView and implemented the same race condition as in my own project.</p>\n<p><strong>WordDao</strong></p>\n<pre><code>@Dao\npublic interface WordDao {\n    @Insert()\n    void insert(Word word);\n\n    @Query(&quot;SELECT EXISTS(SELECT word FROM WORD_TABLE WHERE word = :word)&quot;)\n    Single&lt;Integer&gt; wordExists(String word);\n}\n</code></pre>\n<p><strong>WordRepository</strong></p>\n<pre><code>class WordRepository {\n\n    private WordDao mWordDao;\n    private boolean mWordRedundant;\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\n\n    WordRepository(Application application) {\n        WordRoomDatabase db = WordRoomDatabase.getDatabase(application);\n        mWordDao = db.wordDao();\n    }\n\n    void insert(Word word) {\n        WordRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\n            mWordDao.insert(word);\n        });\n    }\n\n    public boolean isWordRedundant(String word) {\n        mCompositeDisposable.add(\n        mWordDao.wordExists(word)\n                .subscribeOn(Schedulers.computation())\n                .subscribe(integer -&gt; mWordRedundant = integer == 1));\n        return mWordRedundant;\n    }\n</code></pre>\n<p><strong>WordViewModel</strong></p>\n<pre><code>public class WordViewModel extends AndroidViewModel {\n\n    private WordRepository mRepository;\n\n    public WordViewModel(Application application) {\n        super(application);\n        mRepository = new WordRepository(application);\n    }\n\n    public boolean isWordRedundant(String word) {\n        return mRepository.isWordRedundant(word);\n    }\n\n    public void insert(Word word) {\n        mRepository.insert(word);\n    }\n}\n</code></pre>\n<p><strong>NewWordActivity</strong></p>\n<pre><code>public class NewWordActivity extends AppCompatActivity {\n\n    public static final String EXTRA_REPLY = &quot;com.example.android.wordlistsql.REPLY&quot;;\n\n    private EditText mEditWordView;\n    private WordViewModel mWordViewModel;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_word);\n        mWordViewModel = new ViewModelProvider(this).get(WordViewModel.class);\n        mEditWordView = findViewById(R.id.edit_word);\n\n        final Button button = findViewById(R.id.button_save);\n        button.setOnClickListener(view -&gt; {\n            Intent replyIntent = new Intent();\n\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\n                System.out.println(&quot;Word empty&quot;);\n                setResult(RESULT_CANCELED, replyIntent);\n            }\n\n            // possible race condition?\n            else if (mWordViewModel.isWordRedundant(mEditWordView.getText().toString())) {\n                System.out.println(&quot;Word redundant&quot;);\n                setResult(RESULT_CANCELED, replyIntent);\n            }\n\n            else {\n                String word = mEditWordView.getText().toString();\n                System.out.println(&quot;Word acceptable&quot;);\n                replyIntent.putExtra(EXTRA_REPLY, word);\n                setResult(RESULT_OK, replyIntent);\n            }\n            finish();\n        });\n    }\n}\n</code></pre>\n<p>The method <code>isPlayerNameRedundant()</code> always returns <code>false</code> in my case. I tested the SQL query in App Inspection and it returns 1, so the <code>isPlayerNameRedundant()</code> method should return <code>true</code>.\nI suspect that since I use <code>Schedulers.computation()</code> in the repository the query is being executed on a background thread and before this thread is finished with its task the main thread returns <code>mWordRedundant</code>.\nIs that correct?</p>\n<p>If so, what would be the way to resolve this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","dns","glassfish","windows-server-2019","virtual-server"],"owner":{"account_id":12005566,"reputation":1,"user_id":8784075,"display_name":"Eser Bilici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671007376,"creation_date":1671007376,"question_id":74795564,"body_markdown":"I have a problem about Glassfish Server 5.0 . I have a virtual server in Glassfish in Windows Server 2019. Although not often, sometimes dns resolution cannot be performed at uncertain times. However, the application can be accessed from the IP.\r\n\r\nThis problem goes away when I restart the operating system. Has anyone encountered this situation and know how to avoid it?","title":"Glassfish 5.0 virtual server dns resolution problem in the running system","body":"<p>I have a problem about Glassfish Server 5.0 . I have a virtual server in Glassfish in Windows Server 2019. Although not often, sometimes dns resolution cannot be performed at uncertain times. However, the application can be accessed from the IP.</p>\n<p>This problem goes away when I restart the operating system. Has anyone encountered this situation and know how to avoid it?</p>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671006992,"creation_date":1671006992,"answer_id":74795504,"question_id":74786146,"body_markdown":"The easiest solution is to replace your custom `ServletContextListener` with the `log4j-web` module (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/webapp.html)).\r\n\r\nThe `log4j-web` module uses the servlet context parameter &quot;log4jConfiguration&quot;, which accepts string interpolation. If for any reason you can not change the old parameter name, you can set the value of &quot;log4jConfiguration&quot; to `${web:initParam.old_param_name}` (cf. [Web Lookup](https://logging.apache.org/log4j/2.x/manual/lookups.html#WebLookup)).\r\n\r\n**Remark**: Log4j 1.x and 2.x configuration formats are incompatible. You need to convert the configuration files before migrating.","title":"Loading log4j in ContextListener","body":"<p>The easiest solution is to replace your custom <code>ServletContextListener</code> with the <code>log4j-web</code> module (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/webapp.html\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>The <code>log4j-web</code> module uses the servlet context parameter &quot;log4jConfiguration&quot;, which accepts string interpolation. If for any reason you can not change the old parameter name, you can set the value of &quot;log4jConfiguration&quot; to <code>${web:initParam.old_param_name}</code> (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#WebLookup\" rel=\"nofollow noreferrer\">Web Lookup</a>).</p>\n<p><strong>Remark</strong>: Log4j 1.x and 2.x configuration formats are incompatible. You need to convert the configuration files before migrating.</p>\n"}],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74795504,"answer_count":1,"score":1,"last_activity_date":1671006992,"creation_date":1670940562,"question_id":74786146,"body_markdown":"I&#39;m trying to move from log4j 1.x to 2.x and I&#39;m having some trouble. I was using slf4j/log4j1.2.x but am trying to get off the slf4j stuff and just use log4j.\r\n\r\nI have a web application that uses two shared jars that have their own log4j configuration files. Previously I was able to load them using DOMConfigurator:\r\n```\r\nDOMConfigurator.configure(Loader.getResource(sContext.getInitParameter(CoreServicesListener.INIT_SYSLOGGING_FILE)));\r\n```\r\nNot sure how to do this anymore in log4j2. I&#39;ve checked several resources on the web and nothing seems to be getting me to the right path. I&#39;m hoping someone can help.","title":"Loading log4j in ContextListener","body":"<p>I'm trying to move from log4j 1.x to 2.x and I'm having some trouble. I was using slf4j/log4j1.2.x but am trying to get off the slf4j stuff and just use log4j.</p>\n<p>I have a web application that uses two shared jars that have their own log4j configuration files. Previously I was able to load them using DOMConfigurator:</p>\n<pre><code>DOMConfigurator.configure(Loader.getResource(sContext.getInitParameter(CoreServicesListener.INIT_SYSLOGGING_FILE)));\n</code></pre>\n<p>Not sure how to do this anymore in log4j2. I've checked several resources on the web and nothing seems to be getting me to the right path. I'm hoping someone can help.</p>\n"},{"tags":["java","svg","truetype","apache-fop","batik"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":0,"creation_date":1513679480,"post_id":47884893,"comment_id":82735511,"body_markdown":"Try embedding the font as a data URL.","body":"Try embedding the font as a data URL."},{"owner":{"account_id":1220983,"reputation":121,"user_id":1187645,"display_name":"odoko"},"score":0,"creation_date":1513680740,"post_id":47884893,"comment_id":82736311,"body_markdown":"Tried it, still no embedded font in pdf output...","body":"Tried it, still no embedded font in pdf output..."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1592598396,"post_id":47884893,"comment_id":110493315,"body_markdown":"Does this answer your question? [How I use a custom font with the Batik SVG library?](https://stackoverflow.com/questions/11851821/how-i-use-a-custom-font-with-the-batik-svg-library)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11851821/how-i-use-a-custom-font-with-the-batik-svg-library\">How I use a custom font with the Batik SVG library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671006925,"creation_date":1671006925,"answer_id":74795492,"question_id":47884893,"body_markdown":"Update the config file and move fonts section outside the renderers section, like this:\r\n\r\nMy config file: \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;fop version=&quot;1.0&quot;&gt;\r\n         &lt;fonts&gt;\r\n         \t&lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt; \t\r\n            &lt;auto-detect/&gt;\r\n         &lt;/fonts&gt;\r\n     &lt;/fop&gt;\r\n\r\nBulk font configuration from Apache website is simply wrong:\r\nhttps://xmlgraphics.apache.org/fop/2.2/fonts.html\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted as an [edit](https://stackoverflow.com/revisions/47884893/2) to the question https://stackoverflow.com/questions/47884893/configure-batik-to-utilize-custom-fonts by the OP [odoko](https://stackoverflow.com/users/1187645/odoko) under CC BY-SA 3.0.&lt;/sub&gt;","title":"Configure Batik to utilize custom fonts","body":"<p>Update the config file and move fonts section outside the renderers section, like this:</p>\n<p>My config file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;fop version=&quot;1.0&quot;&gt;\n     &lt;fonts&gt;\n        &lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt;   \n        &lt;auto-detect/&gt;\n     &lt;/fonts&gt;\n &lt;/fop&gt;\n</code></pre>\n<p>Bulk font configuration from Apache website is simply wrong:\n<a href=\"https://xmlgraphics.apache.org/fop/2.2/fonts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.2/fonts.html</a></p>\n<hr />\n<p><sub>This answer was posted as an <a href=\"https://stackoverflow.com/revisions/47884893/2\">edit</a> to the question <a href=\"https://stackoverflow.com/questions/47884893/configure-batik-to-utilize-custom-fonts\">Configure Batik to utilize custom fonts</a> by the OP <a href=\"https://stackoverflow.com/users/1187645/odoko\">odoko</a> under CC BY-SA 3.0.</sub></p>\n"}],"owner":{"account_id":1220983,"reputation":121,"user_id":1187645,"display_name":"odoko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2639,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1671006986,"creation_date":1513679319,"question_id":47884893,"body_markdown":"I have an issue configuring Batik PDFTranscoder for  Svg to Pdf conversion.\r\nI want to embed custom truetype fonts to PDF output, therefore I utilize Batik transcoder. I supply font configuration in fop config file, as described here: https://xmlgraphics.apache.org/fop/2.2/fonts.html\r\n\r\nI tried conversion with org.apache.xmlgraphics.Fop versions 2.1 and 2.2. Without any success.\r\n\r\nMy pdf output, comes with &#39;Times New Roman&#39; font instead of coming with embedded font &#39;Arial&#39;, as it should, based on example below:\r\n\r\n \r\nMy config file: \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;fop version=&quot;1.0&quot;&gt;\r\n      &lt;renderers&gt;\r\n       &lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n         &lt;fonts&gt;\r\n         \t&lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt; \t\r\n            &lt;auto-detect/&gt;\r\n         &lt;/fonts&gt;\r\n       &lt;/renderer&gt;\r\n      &lt;/renderers&gt;\r\n     &lt;/fop&gt;\r\n\r\n\r\n\r\nHere&#39;s my transcoder code:\r\n\r\n     import org.apache.batik.transcoder.*;\r\n     import org.apache.fop.svg.PDFTranscoder; \r\n     import org.w3c.dom.Document;\r\n \r\n \r\n     PDFTranscoder transcoder = new PDFTranscoder();\r\n \r\n     try {\r\n       DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\r\n       Configuration cfg = cfgBuilder.buildFromFile(new File(&quot;path-to-xml-config-file&quot;));\r\n       ContainerUtil.configure(transcoder, cfg);\r\n     } catch (Exception e) {\r\n       throw new TranscoderException(e);\r\n     }\r\n \t   transcoder.transcode(new TranscoderInput(doc),\r\n                          new TranscoderOutput(os));\r\n\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t \r\n Sample svg file:\r\n\r\n    &lt;defs&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n         @font-face{font-family:&#39;Arial&#39;;font-style: normal;font-weight:\r\n         400;src:url(&#39;C:/path/to/fontsfolder/arial.ttf&#39;)\r\n         format(&#39;truetype&#39;);}\r\n    &lt;/style&gt;\r\n    &lt;/defs&gt;\r\n       \r\n     \r\n      &lt;text x=&quot;55&quot; y=&quot;245&quot; style=&quot;font-family: &#39;Arial&#39;; font-weight:normal;\r\n    font-style: normal&quot; &gt;Sample text&lt;/text&gt;\r\n\r\nCan anyone tell me what I am missing here with Transcoder configuration? Embedding svg fonts into svg file is not an option in this case.","title":"Configure Batik to utilize custom fonts","body":"<p>I have an issue configuring Batik PDFTranscoder for  Svg to Pdf conversion.\nI want to embed custom truetype fonts to PDF output, therefore I utilize Batik transcoder. I supply font configuration in fop config file, as described here: <a href=\"https://xmlgraphics.apache.org/fop/2.2/fonts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.2/fonts.html</a></p>\n<p>I tried conversion with org.apache.xmlgraphics.Fop versions 2.1 and 2.2. Without any success.</p>\n<p>My pdf output, comes with 'Times New Roman' font instead of coming with embedded font 'Arial', as it should, based on example below:</p>\n<p>My config file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;fop version=&quot;1.0&quot;&gt;\n  &lt;renderers&gt;\n   &lt;renderer mime=&quot;application/pdf&quot;&gt;\n     &lt;fonts&gt;\n        &lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt;   \n        &lt;auto-detect/&gt;\n     &lt;/fonts&gt;\n   &lt;/renderer&gt;\n  &lt;/renderers&gt;\n &lt;/fop&gt;\n</code></pre>\n<p>Here's my transcoder code:</p>\n<pre><code> import org.apache.batik.transcoder.*;\n import org.apache.fop.svg.PDFTranscoder; \n import org.w3c.dom.Document;\n\n\n PDFTranscoder transcoder = new PDFTranscoder();\n\n try {\n   DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\n   Configuration cfg = cfgBuilder.buildFromFile(new File(&quot;path-to-xml-config-file&quot;));\n   ContainerUtil.configure(transcoder, cfg);\n } catch (Exception e) {\n   throw new TranscoderException(e);\n }\n   transcoder.transcode(new TranscoderInput(doc),\n                      new TranscoderOutput(os));\n\n                     \n                     \n</code></pre>\n<p>Sample svg file:</p>\n<pre><code>&lt;defs&gt;\n&lt;style type=&quot;text/css&quot;&gt;\n     @font-face{font-family:'Arial';font-style: normal;font-weight:\n     400;src:url('C:/path/to/fontsfolder/arial.ttf')\n     format('truetype');}\n&lt;/style&gt;\n&lt;/defs&gt;\n   \n \n  &lt;text x=&quot;55&quot; y=&quot;245&quot; style=&quot;font-family: 'Arial'; font-weight:normal;\nfont-style: normal&quot; &gt;Sample text&lt;/text&gt;\n</code></pre>\n<p>Can anyone tell me what I am missing here with Transcoder configuration? Embedding svg fonts into svg file is not an option in this case.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1671007068,"post_id":74788275,"comment_id":132001615,"body_markdown":"Does this answer your question? [How to JPA Query for Postgresql array?](https://stackoverflow.com/questions/63619548/how-to-jpa-query-for-postgresql-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63619548/how-to-jpa-query-for-postgresql-array\">How to JPA Query for Postgresql array?</a>"},{"owner":{"account_id":7111886,"reputation":625,"user_id":5439438,"accept_rate":20,"display_name":"Utsav Sinha"},"score":0,"creation_date":1671258323,"post_id":74788275,"comment_id":132065272,"body_markdown":"Hey @MarcBannout. It might work, but I wanted to check if this could be done via Specification API","body":"Hey @MarcBannout. It might work, but I wanted to check if this could be done via Specification API"}],"owner":{"account_id":7111886,"reputation":625,"user_id":5439438,"accept_rate":20,"display_name":"Utsav Sinha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671006670,"creation_date":1670950193,"question_id":74788275,"body_markdown":"I use Postgres in my application. I have a table where I store list of string in a column which is of type text[]. \r\nI want to use the Spring JPA Specification API to search the elements in the column.\r\n\r\nI would like to use *Specification API* to search a list of entities where industries are in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]. \r\nThis is how my entity class looks like. \r\n\r\n```\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;TABLE_NAME&quot;)\r\n@TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\r\npublic class TableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Type(type = &quot;list-array&quot;)\r\n    @Column(name = &quot;INDUSTRIES&quot;, columnDefinition = &quot;text[]&quot;)\r\n    private List&lt;String&gt; industries;\r\n}","title":"Search in TEXT[] column in Spring JPA Specification API","body":"<p>I use Postgres in my application. I have a table where I store list of string in a column which is of type text[].\nI want to use the Spring JPA Specification API to search the elements in the column.</p>\n<p>I would like to use <em>Specification API</em> to search a list of entities where industries are in ['a', 'b', 'c'].\nThis is how my entity class looks like.</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;TABLE_NAME&quot;)\n@TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\npublic class TableEntity {\n\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    @Type(type = &quot;list-array&quot;)\n    @Column(name = &quot;INDUSTRIES&quot;, columnDefinition = &quot;text[]&quot;)\n    private List&lt;String&gt; industries;\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","saxon","xml-validation"],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671006611,"creation_date":1671006611,"answer_id":74795434,"question_id":45692818,"body_markdown":"We used probatron4j for java based schematron handling:\r\n\r\nJava source part:\r\n\r\n    javax.xml.transform.TransformerFactory t = org.probatron.Utils.getTransformerFactory();\r\n    // create xml readers, perfor template processing, apply xslt\r\n    // as stated in the probatron4j examples\r\n    // ...\r\n \r\n    t.transform(getCandidateSource(), new StreamResult(baos));\r\n\r\n\r\nour fix includes:\r\n\r\n    Source source = new StreamSource(new FileInputStream(..\r\n    \r\n    // or\r\n    \r\n    Source source = new StreamSource(canditateURL.openStream()..\r\n    \r\n    // depending on whether input source is file or url based\r\n    \r\n    // below is the fix, we set path of file or exteral form of the url\r\n    \r\n    source.setSystemId(pathOrUrl);\r\n\r\nFinal result: The value we set as systemid is set into the return value of the `base-uri()` function val in the schema.\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted ahttps://stackoverflow.com/questions/45692818/base-uri-function-in-schematron-for-validating-xml-probatron-saxon by the OP [benchpresser](https://stackoverflow.com/users/2082488/benchpresser) under CC BY-SA 3.0.&lt;/sub&gt;","title":"base-uri function in schematron for validating xml probatron + saxon","body":"<p>We used probatron4j for java based schematron handling:</p>\n<p>Java source part:</p>\n<pre><code>javax.xml.transform.TransformerFactory t = org.probatron.Utils.getTransformerFactory();\n// create xml readers, perfor template processing, apply xslt\n// as stated in the probatron4j examples\n// ...\n\nt.transform(getCandidateSource(), new StreamResult(baos));\n</code></pre>\n<p>our fix includes:</p>\n<pre><code>Source source = new StreamSource(new FileInputStream(..\n\n// or\n\nSource source = new StreamSource(canditateURL.openStream()..\n\n// depending on whether input source is file or url based\n\n// below is the fix, we set path of file or exteral form of the url\n\nsource.setSystemId(pathOrUrl);\n</code></pre>\n<p>Final result: The value we set as systemid is set into the return value of the <code>base-uri()</code> function val in the schema.</p>\n<hr />\n<p><sub>This answer was posted ahttps://stackoverflow.com/questions/45692818/base-uri-function-in-schematron-for-validating-xml-probatron-saxon by the OP <a href=\"https://stackoverflow.com/users/2082488/benchpresser\">benchpresser</a> under CC BY-SA 3.0.</sub></p>\n"}],"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1671006631,"creation_date":1502799999,"question_id":45692818,"body_markdown":"We used *probatron* and *saxon* to validate a test xml using a given **sch** file in our java application. Recently, a new rule has been added to the **sch** file such as\r\n\r\n    &lt;let name=&quot;foo&quot; value=&quot;base-uri()&quot;&gt;\r\n\r\nand some rules use that value, but $foo contains empty string and the rules fail. Where do I have to set this value? I added xml:base tags to the test xml as stated in https://www.w3.org/TR/xmlbase/ but it did not worked. Do I have to set sth in the java side? \r\n\r\n\r\n","title":"base-uri function in schematron for validating xml probatron + saxon","body":"<p>We used <em>probatron</em> and <em>saxon</em> to validate a test xml using a given <strong>sch</strong> file in our java application. Recently, a new rule has been added to the <strong>sch</strong> file such as</p>\n<pre><code>&lt;let name=&quot;foo&quot; value=&quot;base-uri()&quot;&gt;\n</code></pre>\n<p>and some rules use that value, but $foo contains empty string and the rules fail. Where do I have to set this value? I added xml:base tags to the test xml as stated in <a href=\"https://www.w3.org/TR/xmlbase/\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xmlbase/</a> but it did not worked. Do I have to set sth in the java side?</p>\n"},{"tags":["java","spring","spring-boot","exception","jackson"],"comments":[{"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"score":0,"creation_date":1552879420,"post_id":55214077,"comment_id":97164255,"body_markdown":"First guess: You are getting the 400 because you are sending json as the body of a post or put, your web service framework (spring mvc?) tries to deserialize the json and fails. It would generate the 400, regardless of the original cause, because the expected input is non-valid, and this may happen before even routing the request to your code. Your handler may not get to see the exception. I wold suggest putting a breakpoint or logging in your handler to see if it is ever called.","body":"First guess: You are getting the 400 because you are sending json as the body of a post or put, your web service framework (spring mvc?) tries to deserialize the json and fails. It would generate the 400, regardless of the original cause, because the expected input is non-valid, and this may happen before even routing the request to your code. Your handler may not get to see the exception. I wold suggest putting a breakpoint or logging in your handler to see if it is ever called."},{"owner":{"account_id":5299479,"reputation":4080,"user_id":4229637,"accept_rate":50,"display_name":"nirvair"},"score":0,"creation_date":1552879719,"post_id":55214077,"comment_id":97164307,"body_markdown":"So, I added the log in Deserializer and the log enters the catch statement.","body":"So, I added the log in Deserializer and the log enters the catch statement."},{"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"score":0,"creation_date":1552881078,"post_id":55214077,"comment_id":97164536,"body_markdown":"Did you log in the handler, does the handler ever get called?","body":"Did you log in the handler, does the handler ever get called?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1552891624,"post_id":55214077,"comment_id":97166770,"body_markdown":"Do you want the status to be show 422 instead of 400 in final response when Jackson deserialization fails?","body":"Do you want the status to be show 422 instead of 400 in final response when Jackson deserialization fails?"}],"answers":[{"tags":[],"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552890612,"creation_date":1552886075,"answer_id":55214883,"question_id":55214077,"body_markdown":"**Your Controller method is never called because JSON body parsing threw an exception.**\r\n\r\n - Your @ContollerAdvice is not applied because the Controller method is not called.\r\n\r\n - Your handleIOException method is not called, and your 422 status is not applied.\r\n\r\nI suspect this is the situation in more detail...\r\n\r\n 1. An HTTP request includes a json body.\r\n\r\n 2. The controller method matching the @RequestMapping and other annotations of the request takes an instance of your DTO Class as a parameter.\r\n\r\n 3. Spring attempts to deserialize the incoming json body **before** calling your controlling method. It must do this in order to pass the DTO object.\r\n\r\n 4. Deserialization uses your custom deserializer which throws an IOException.\r\n\r\n 5. This IOException occurs **before** your controller method is called. In fact, your controller method is never called for this request.\r\n\r\n 6. Spring handles the exception using its default behavior, returning an HTTP 400. Spring has a very broad RFC 7231 conception of HTTP 400.\r\n\r\n 7. Since your controller method is never called, the @ControllerAdvice is never applied and your @ExceptionHandler does not see the exception. Status is not set to 422.\r\n\r\n**Why do I believe this?**\r\n\r\nI frequently see this kind of behavior from Spring, and I think it is the expected behavior. But I have not tracked down the documentation or read the source to be sure.\r\n\r\n**What can you do about it?**\r\n\r\nA simple approach which you may not like is to declare your controller method to take inputs that almost never fail, such as String.\r\n\r\n - You take over the responsibility for validating and deserializing inputs, and you decide what status and messages to return. \r\n\r\n - You call Jackson to deserialize. Your @ExceptionHandler methods are used.\r\n\r\n - Bonus: You can return the text of Jackson&#39;s often useful parse error messages. Those can help clients figure out why their json is rejected.\r\n\r\nI would not be surprised if Spring offers a more stylish approach, a class to be subclassed, a special annotation. I have not pursued that.\r\n\r\n**What should you do about it?**\r\n\r\n400 vs. 422 is a case I prefer not to litigate. Depending on your priorities it might be best to accept Spring&#39;s convention.\r\n\r\nRFC 7231 On Status 400\r\n\r\n&gt; The 400 (Bad Request) status code indicates that the server cannot or\r\n   will not process the request due to something that is perceived to be\r\n   a client error (e.g., malformed request syntax, invalid request\r\n   message framing, or deceptive request routing).\r\n\r\nIf the HTTP status code police pick on you, you could point to this and say &quot;_I perceive this input to be a client error._&quot; Then argue that 422 is inappropriate unless you are serving WebDAV just to keep them off balance.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advice_(programming)","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p><strong>Your Controller method is never called because JSON body parsing threw an exception.</strong></p>\n\n<ul>\n<li><p>Your @ContollerAdvice is not applied because the Controller method is not called.</p></li>\n<li><p>Your handleIOException method is not called, and your 422 status is not applied.</p></li>\n</ul>\n\n<p>I suspect this is the situation in more detail...</p>\n\n<ol>\n<li><p>An HTTP request includes a json body.</p></li>\n<li><p>The controller method matching the @RequestMapping and other annotations of the request takes an instance of your DTO Class as a parameter.</p></li>\n<li><p>Spring attempts to deserialize the incoming json body <strong>before</strong> calling your controlling method. It must do this in order to pass the DTO object.</p></li>\n<li><p>Deserialization uses your custom deserializer which throws an IOException.</p></li>\n<li><p>This IOException occurs <strong>before</strong> your controller method is called. In fact, your controller method is never called for this request.</p></li>\n<li><p>Spring handles the exception using its default behavior, returning an HTTP 400. Spring has a very broad RFC 7231 conception of HTTP 400.</p></li>\n<li><p>Since your controller method is never called, the @ControllerAdvice is never applied and your @ExceptionHandler does not see the exception. Status is not set to 422.</p></li>\n</ol>\n\n<p><strong>Why do I believe this?</strong></p>\n\n<p>I frequently see this kind of behavior from Spring, and I think it is the expected behavior. But I have not tracked down the documentation or read the source to be sure.</p>\n\n<p><strong>What can you do about it?</strong></p>\n\n<p>A simple approach which you may not like is to declare your controller method to take inputs that almost never fail, such as String.</p>\n\n<ul>\n<li><p>You take over the responsibility for validating and deserializing inputs, and you decide what status and messages to return. </p></li>\n<li><p>You call Jackson to deserialize. Your @ExceptionHandler methods are used.</p></li>\n<li><p>Bonus: You can return the text of Jackson's often useful parse error messages. Those can help clients figure out why their json is rejected.</p></li>\n</ul>\n\n<p>I would not be surprised if Spring offers a more stylish approach, a class to be subclassed, a special annotation. I have not pursued that.</p>\n\n<p><strong>What should you do about it?</strong></p>\n\n<p>400 vs. 422 is a case I prefer not to litigate. Depending on your priorities it might be best to accept Spring's convention.</p>\n\n<p>RFC 7231 On Status 400</p>\n\n<blockquote>\n  <p>The 400 (Bad Request) status code indicates that the server cannot or\n     will not process the request due to something that is perceived to be\n     a client error (e.g., malformed request syntax, invalid request\n     message framing, or deceptive request routing).</p>\n</blockquote>\n\n<p>If the HTTP status code police pick on you, you could point to this and say \"<em>I perceive this input to be a client error.</em>\" Then argue that 422 is inappropriate unless you are serving WebDAV just to keep them off balance.</p>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552991110,"creation_date":1552991110,"answer_id":55238702,"question_id":55214077,"body_markdown":"You do not need an `handleIOException` method, just add  `@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)`  \r\nto your CustomException.\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    public class MyException extends JsonProcessingException {\r\n        public MyException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nSo when you make invalid request\r\nwith body\r\n\r\n    {&quot;timestamp&quot;:&quot;2018-04-2311:32:22&quot;,&quot;id&quot;:&quot;132&quot;}\r\n\r\nResponse will be:\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1552990867074,\r\n        &quot;status&quot;: 422,\r\n        &quot;error&quot;: &quot;Unprocessable Entity&quot;,\r\n        &quot;message&quot;: &quot;JSON parse error: Instant field deserialization failed; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Instant field deserialization failed (through reference chain: TestDto[\\&quot;timestamp\\&quot;])&quot;\r\n    }\r\n\r\n[![Postman Response][1]][1]\r\n\r\nWith valid request works fine:\r\n\r\n    {&quot;timestamp&quot;:&quot;2018-04-23T11:32:22.213Z&quot;,&quot;id&quot;:&quot;132&quot;}\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;132&quot;,\r\n        &quot;timestamp&quot;: {\r\n            &quot;nano&quot;: 213000000,\r\n            &quot;epochSecond&quot;: 1514700142\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XPg7H.png","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>You do not need an <code>handleIOException</code> method, just add  <code>@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)</code><br>\nto your CustomException.</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\npublic class MyException extends JsonProcessingException {\n    public MyException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>So when you make invalid request\nwith body</p>\n\n<pre><code>{\"timestamp\":\"2018-04-2311:32:22\",\"id\":\"132\"}\n</code></pre>\n\n<p>Response will be:</p>\n\n<pre><code>{\n    \"timestamp\": 1552990867074,\n    \"status\": 422,\n    \"error\": \"Unprocessable Entity\",\n    \"message\": \"JSON parse error: Instant field deserialization failed; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Instant field deserialization failed (through reference chain: TestDto[\\\"timestamp\\\"])\"\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XPg7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XPg7H.png\" alt=\"Postman Response\"></a></p>\n\n<p>With valid request works fine:</p>\n\n<pre><code>{\"timestamp\":\"2018-04-23T11:32:22.213Z\",\"id\":\"132\"}\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>{\n    \"id\": \"132\",\n    \"timestamp\": {\n        \"nano\": 213000000,\n        \"epochSecond\": 1514700142\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27248679,"reputation":1,"user_id":20773524,"display_name":"Adnd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671006263,"creation_date":1671006263,"answer_id":74795366,"question_id":55214077,"body_markdown":"The exception thrown by Jackson in case of a deserialization error is HttpMessageNotReadableException.\r\n\r\nIn your custom deserializer, you can throw your own deserialization exception which extends JsonProcessingException.\r\n\r\nIn your ControllerAdvice you can handle the HttpMessageNotReadableException and get the cause of this which is your custom exception.\r\nThis way, you can throw the http code you want.\r\n\r\n```\r\n\t@ExceptionHandler({HttpMessageNotReadableException.class})\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex) {\r\n\t\tThrowable cause = ex.getCause();\r\n\t\tif (cause.getCause() instanceof YourOwnException) {\r\n\t\t\t//Return your response entity with your custom HTTP code\r\n\t\t} \r\n\r\n\t\t//Default exception handling\r\n\t}\r\n```","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>The exception thrown by Jackson in case of a deserialization error is HttpMessageNotReadableException.</p>\n<p>In your custom deserializer, you can throw your own deserialization exception which extends JsonProcessingException.</p>\n<p>In your ControllerAdvice you can handle the HttpMessageNotReadableException and get the cause of this which is your custom exception.\nThis way, you can throw the http code you want.</p>\n<pre><code>    @ExceptionHandler({HttpMessageNotReadableException.class})\n    @ResponseBody\n    public ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex) {\n        Throwable cause = ex.getCause();\n        if (cause.getCause() instanceof YourOwnException) {\n            //Return your response entity with your custom HTTP code\n        } \n\n        //Default exception handling\n    }\n</code></pre>\n"}],"owner":{"account_id":5299479,"reputation":4080,"user_id":4229637,"accept_rate":50,"display_name":"nirvair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5025,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1671006263,"creation_date":1552876902,"question_id":55214077,"body_markdown":"I have this InstantDesrializer \r\n\r\n    @Slf4j\r\n    public class InstantDeserializer extends StdDeserializer&lt;Instant&gt; {\r\n    \r\n        public InstantDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public InstantDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public Instant deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n            log.info(node.asText());\r\n            TemporalAccessor parse = null;\r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT).withZone(ZoneOffset.UTC);\r\n            try {\r\n                parse = dateTimeFormatter.parse(node.asText());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new IOException();\r\n            }\r\n            log.info(Instant.from(parse).toString());\r\n            return Instant.from(parse);\r\n        }\r\n    }\r\n\r\n\r\nAnd then corresponding IOException in `@ControllerAdvice`\r\n\r\n    @ExceptionHandler(IOException.class)\r\n    public ResponseEntity&lt;String&gt; handleIOException(IOException e) {\r\n        return ResponseEntity.status(422).build();\r\n    }\r\n\r\nAnd this in my DTO:\r\n\r\n        @NotNull\r\n        @JsonDeserialize(using = InstantDeserializer.class)\r\n    //    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n        private Instant timestamp;\r\n\r\nEven when uncommented `@DateTimeFormat`, it&#39;s not working \r\n\r\nIdeally, it should return 422 status. But, it returns 400. \r\n\r\n\r\nMaybe I&#39;m just missing something so small, which I&#39;m not able to figure out. \r\n\r\nThis approach was suggested here: \r\nhttps://stackoverflow.com/questions/55209807/throw-custom-exception-while-deserializing-the-date-field-using-jackson-in-java","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>I have this InstantDesrializer </p>\n\n<pre><code>@Slf4j\npublic class InstantDeserializer extends StdDeserializer&lt;Instant&gt; {\n\n    public InstantDeserializer() {\n        this(null);\n    }\n\n    public InstantDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Instant deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n        log.info(node.asText());\n        TemporalAccessor parse = null;\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT).withZone(ZoneOffset.UTC);\n        try {\n            parse = dateTimeFormatter.parse(node.asText());\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new IOException();\n        }\n        log.info(Instant.from(parse).toString());\n        return Instant.from(parse);\n    }\n}\n</code></pre>\n\n<p>And then corresponding IOException in <code>@ControllerAdvice</code></p>\n\n<pre><code>@ExceptionHandler(IOException.class)\npublic ResponseEntity&lt;String&gt; handleIOException(IOException e) {\n    return ResponseEntity.status(422).build();\n}\n</code></pre>\n\n<p>And this in my DTO:</p>\n\n<pre><code>    @NotNull\n    @JsonDeserialize(using = InstantDeserializer.class)\n//    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")\n    private Instant timestamp;\n</code></pre>\n\n<p>Even when uncommented <code>@DateTimeFormat</code>, it's not working </p>\n\n<p>Ideally, it should return 422 status. But, it returns 400. </p>\n\n<p>Maybe I'm just missing something so small, which I'm not able to figure out. </p>\n\n<p>This approach was suggested here: \n<a href=\"https://stackoverflow.com/questions/55209807/throw-custom-exception-while-deserializing-the-date-field-using-jackson-in-java\">Throw custom exception while deserializing the Date field using jackson in java</a></p>\n"},{"tags":["java","rest","maven","groovy"],"answers":[{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457536573,"creation_date":1457536573,"answer_id":35895500,"question_id":35893488,"body_markdown":"I am not sure why you need the ivy dependency there? It&#39;s probably a good idea to let Maven manage all the dependencies, including the HTTP builder one, rather than using Grape:\r\n\r\n&lt;!-- lang: xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;cache-loading&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;execute&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.6&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.codehaus.groovy.modules.http-builder&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;http-builder&lt;/artifactId&gt;\r\n\t        &lt;version&gt;0.7.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"How to execute groovy file with maven?","body":"<p>I am not sure why you need the ivy dependency there? It's probably a good idea to let Maven manage all the dependencies, including the HTTP builder one, rather than using Grape:</p>\n\n\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;cache-loading&lt;/id&gt;\n        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;execute&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.4.6&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy.modules.http-builder&lt;/groupId&gt;\n        &lt;artifactId&gt;http-builder&lt;/artifactId&gt;\n        &lt;version&gt;0.7.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35895500,"answer_count":1,"score":1,"last_activity_date":1671006244,"creation_date":1457531470,"question_id":35893488,"body_markdown":"I am searching for a maven plugin that triggers a rest call at `pre-integrate-test`.\r\n\r\nI just need a plugin which does this for me.\r\n\r\nFor now I tried using `groovy-maven-plugin version 2.0`\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ivy&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;execute&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\ngroovy file:\r\n\r\n    @Grab(group=&#39;org.codehaus.groovy.modules.http-builder&#39;, module=&#39;http-builder&#39;, version=&#39;0.7&#39; )\r\n    import groovyx.net.http.RESTClient\r\n    \r\n    import static groovyx.net.http.ContentType.XML\r\n    \r\n    solr = new RESTClient(&#39;http://localhost:8080/endpoint&#39;)\r\n    \r\n    log.info &quot;----------------------------------- START GROOVY REST CALL -----------------------------------&quot;;\r\n    \r\n    def response = solr.post(\r\n        contentType: XML,\r\n        requestContentType: XML,\r\n        body: { }\r\n    )\r\n    log.info &quot;Solr response status: ${response.status}&quot;\r\n    \r\n    log.info &quot;----------------------------------- END GROOVY REST CALL -----------------------------------&quot;;\r\n\r\nand I get:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute (default-cli) on project reg-reporting: Execution default-cli of goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute failed: A required class was missing while executing org.codehaus.gmaven:groovy-maven-plugin:2.0:execute: org/apache/ivy/core/report/ResolveReport\r\n    ...\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR] \r\n    [ERROR] -----------------------------------------------------: org.apache.ivy.core.report.ResolveReport","title":"How to execute groovy file with maven?","body":"<p>I am searching for a maven plugin that triggers a rest call at <code>pre-integrate-test</code>.</p>\n\n<p>I just need a plugin which does this for me.</p>\n\n<p>For now I tried using <code>groovy-maven-plugin version 2.0</code></p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;\n                    &lt;artifactId&gt;ivy&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;execute&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>groovy file:</p>\n\n<pre><code>@Grab(group='org.codehaus.groovy.modules.http-builder', module='http-builder', version='0.7' )\nimport groovyx.net.http.RESTClient\n\nimport static groovyx.net.http.ContentType.XML\n\nsolr = new RESTClient('http://localhost:8080/endpoint')\n\nlog.info \"----------------------------------- START GROOVY REST CALL -----------------------------------\";\n\ndef response = solr.post(\n    contentType: XML,\n    requestContentType: XML,\n    body: { }\n)\nlog.info \"Solr response status: ${response.status}\"\n\nlog.info \"----------------------------------- END GROOVY REST CALL -----------------------------------\";\n</code></pre>\n\n<p>and I get:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute (default-cli) on project reg-reporting: Execution default-cli of goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute failed: A required class was missing while executing org.codehaus.gmaven:groovy-maven-plugin:2.0:execute: org/apache/ivy/core/report/ResolveReport\n...\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------: org.apache.ivy.core.report.ResolveReport\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","cluster-computing","amazon-dynamodb-dax"],"answers":[{"tags":[],"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499278753,"creation_date":1499278753,"answer_id":44933374,"question_id":44928457,"body_markdown":"We will need to know more info about how you setup your DAX cluster and client instances to be able to help. Some general ideas to try:\r\n\r\n 1. Are you able to connect to the DAX cluster from the EC2 client instance? Try running:\r\n`nc -z mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111`\r\n 2. Have you used the default security group for your VPC to create DAX cluster? You will need to authorize inbound traffic on TCP port 8111 to the security group used to create the DAX cluster from the security group of the client instance. Please follow the steps for [configuring security group rules for your VPC][1]\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>We will need to know more info about how you setup your DAX cluster and client instances to be able to help. Some general ideas to try:</p>\n\n<ol>\n<li>Are you able to connect to the DAX cluster from the EC2 client instance? Try running:\n<code>nc -z mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111</code></li>\n<li>Have you used the default security group for your VPC to create DAX cluster? You will need to authorize inbound traffic on TCP port 8111 to the security group used to create the DAX cluster from the security group of the client instance. Please follow the steps for <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html\" rel=\"noreferrer\">configuring security group rules for your VPC</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18126408,"reputation":1,"user_id":13181903,"display_name":"Adithya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005693,"creation_date":1671005693,"answer_id":74795266,"question_id":44928457,"body_markdown":"I had faced the same issue, when I tried to connect to a Dax cluster from ECS containers.\r\n\r\nHere is the thing that worked for me, as suggested by [Abdelrahman Elhaddad](https://stackoverflow.com/a/44933374/13181903)\r\n\r\n 1. Make sure the subnets and the VPC of the application server and the dax cluster is same.\r\n\r\n 2. On your Dax Cluster&#39;s security group, ensure inbound TCP traffic is enabled on port 8111 (if your DAX cluster is unencrypted) and 9111 (for encrypted).\r\n\r\n 3. And on your server&#39;s security group, make sure that TCP outbound requests on 8111/9111 are allowed.\r\n\r\n\r\nPS: If you are on ECS, modifying docker images can be very cumbersome, use any EC2 instances and try to alter the variables if needed. Also, you can make use of command line network tool to check your security group rules ","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>I had faced the same issue, when I tried to connect to a Dax cluster from ECS containers.</p>\n<p>Here is the thing that worked for me, as suggested by <a href=\"https://stackoverflow.com/a/44933374/13181903\">Abdelrahman Elhaddad</a></p>\n<ol>\n<li><p>Make sure the subnets and the VPC of the application server and the dax cluster is same.</p>\n</li>\n<li><p>On your Dax Cluster's security group, ensure inbound TCP traffic is enabled on port 8111 (if your DAX cluster is unencrypted) and 9111 (for encrypted).</p>\n</li>\n<li><p>And on your server's security group, make sure that TCP outbound requests on 8111/9111 are allowed.</p>\n</li>\n</ol>\n<p>PS: If you are on ECS, modifying docker images can be very cumbersome, use any EC2 instances and try to alter the variables if needed. Also, you can make use of command line network tool to check your security group rules</p>\n"}],"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1671005693,"creation_date":1499263390,"question_id":44928457,"body_markdown":"I created a cluster according to AWS&#39; tutorials and it supposed to be working just fine but when I try to connect to it, I get the following error \r\n&gt;java.io.IOException: failed to configure cluster endpoints from hosts: [mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com:8111]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:128) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.update(Source.java:60) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.refresh(Source.java:51) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:311) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:294) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:191) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:143) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.ClusterDaxClient.&lt;init&gt;(ClusterDaxClient.java:159) [DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.ClusterDaxClient.&lt;init&gt;(ClusterDaxClient.java:130) [DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.poc.dynamo.controller.DataController.testDax(DataController.java:190) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\r\nCaused by: java.net.ConnectException: timeout waiting for an available tube\r\n\tat com.amazon.dax.client.SocketTubePool.alloc(SocketTubePool.java:77) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.generated.DaxClientStubs.endpoints_455855874_1(DaxClientStubs.java:449) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.DaxClient.endpoints(DaxClient.java:1825) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pullFrom(Source.java:138) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:106) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\t... 75 common frames omitted\r\n\tSuppressed: java.net.ConnectException: timeout waiting for an available tube\r\n\t\t... 80 common frames omitted\r\n\tSuppressed: java.net.ConnectException: timeout waiting for an available tube\r\n\t\t... 80 common frames omitted\r\n\r\nUnable to read item\r\nUnable to call cluster endpoint: No endpoints available","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>I created a cluster according to AWS' tutorials and it supposed to be working just fine but when I try to connect to it, I get the following error </p>\n\n<blockquote>\n  <p>java.io.IOException: failed to configure cluster endpoints from hosts: [mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com:8111]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:128) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.update(Source.java:60) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.refresh(Source.java:51) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:311) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:294) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:191) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:143) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.ClusterDaxClient.(ClusterDaxClient.java:159) [DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.ClusterDaxClient.(ClusterDaxClient.java:130) [DaxJavaClient-latest.jar:1.0.792.0]\n      at com.poc.dynamo.controller.DataController.testDax(DataController.java:190) [classes/:na]\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\n      at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\n      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:648) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\n  Caused by: java.net.ConnectException: timeout waiting for an available tube\n      at com.amazon.dax.client.SocketTubePool.alloc(SocketTubePool.java:77) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.generated.DaxClientStubs.endpoints_455855874_1(DaxClientStubs.java:449) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.DaxClient.endpoints(DaxClient.java:1825) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pullFrom(Source.java:138) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:106) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      ... 75 common frames omitted\n      Suppressed: java.net.ConnectException: timeout waiting for an available tube\n          ... 80 common frames omitted\n      Suppressed: java.net.ConnectException: timeout waiting for an available tube\n          ... 80 common frames omitted</p>\n</blockquote>\n\n<p>Unable to read item\nUnable to call cluster endpoint: No endpoints available</p>\n"},{"tags":["java","xml","certificate","ssl-certificate","digital-signature"],"answers":[{"tags":[],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575667985,"creation_date":1575667985,"answer_id":59220607,"question_id":59218272,"body_markdown":"I could not find a way to do it &quot;the right way&quot; so wrote a hack to modify it after it got generated.  Here it is:\r\n\r\n    //hack to remove unwanted CR at the end of each line in SignatureValue and X509Certificate\r\n    private void removeWhitespaceFromSignature() {\r\n    \tElement sig = (Element) document.getElementsByTagName(&quot;SignatureValue&quot;).item(0);\r\n    \tString sigValue = sig.getTextContent().replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \tsig.setTextContent(sigValue);\r\n    \t\r\n    \tElement cert = (Element) document.getElementsByTagName(&quot;X509Certificate&quot;).item(0);\r\n    \tString certValue = cert.getTextContent().replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \tcert.setTextContent(certValue);\r\n    }\r\nSeems ridiculous to have to resort to this but hours of searching produced no other alternatives.","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>I could not find a way to do it \"the right way\" so wrote a hack to modify it after it got generated.  Here it is:</p>\n\n<pre><code>//hack to remove unwanted CR at the end of each line in SignatureValue and X509Certificate\nprivate void removeWhitespaceFromSignature() {\n    Element sig = (Element) document.getElementsByTagName(\"SignatureValue\").item(0);\n    String sigValue = sig.getTextContent().replaceAll(\"\\r\\n\", \"\");\n    sig.setTextContent(sigValue);\n\n    Element cert = (Element) document.getElementsByTagName(\"X509Certificate\").item(0);\n    String certValue = cert.getTextContent().replaceAll(\"\\r\\n\", \"\");\n    cert.setTextContent(certValue);\n}\n</code></pre>\n\n<p>Seems ridiculous to have to resort to this but hours of searching produced no other alternatives.</p>\n"},{"tags":[],"owner":{"account_id":24552954,"reputation":19,"user_id":18461923,"display_name":"J&#243;zsef Mecsei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669122930,"creation_date":1669122930,"answer_id":74533242,"question_id":59218272,"body_markdown":"Try this parameter : -Dorg.apache.xml.security.ignoreLineBreaks=true\r\n\r\nReference : [https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java][1]\r\n","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>Try this parameter : -Dorg.apache.xml.security.ignoreLineBreaks=true</p>\n<p>Reference : [https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java][1]</p>\n"},{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005514,"creation_date":1671005514,"answer_id":74795245,"question_id":59218272,"body_markdown":"Which xml security library do you use?  If you use `org.apache.santuario:xmlsec:3.0.1`, you could try\r\n\r\n    static {\r\n        System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\r\n        org.apache.xml.security.Init.init();\r\n    }\r\n\r\nIt works fine for me.\r\n\r\n","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>Which xml security library do you use?  If you use <code>org.apache.santuario:xmlsec:3.0.1</code>, you could try</p>\n<pre><code>static {\n    System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n    org.apache.xml.security.Init.init();\n}\n</code></pre>\n<p>It works fine for me.</p>\n"}],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59220607,"answer_count":3,"score":0,"last_activity_date":1671005514,"creation_date":1575655686,"question_id":59218272,"body_markdown":"I&#39;m signing part of an xml document but the resulting signature and certificate have unwanted whitespace in them.  For example, here is the signature:\r\n\r\n        &lt;SignatureValue&gt;QcjPfiZcmqE8aMNH5AKVk+oFBYQ4LynV3a5YlJIxuf0y22QQ0NA2BTkRriI85dd/6Qcezf5xFguJ&amp;#13;\r\n    V+Mlk44c0uZD7TE+NlsFz3q1vtHHPi/9ygc2kJgQeSzxiCR2AHCONN3UN89RjidIqnN1qtKrBhc+&amp;#13;\r\n    GNeEGhjqgV7DHvzK7tHVkC6c1EevsOV5bH2Gu0X5JsGwOtSHWe6eyOXue0TW7XWrqOLmOusWYhRR&amp;#13;\r\n    ONJFoa49LQ4WV/RP498rp2TJ0bNE36PMWD6sMh52ERTj6NhngIl2cGjbbwzYteDN/ujo5bHmosmC&amp;#13;\r\n    dVKBmgaw2YAICJy4BROyK7AmZI5BxKoZ6CY1Tw==&lt;/SignatureValue&gt;\r\n\r\nand here is part of the certificate:\r\n\r\n            \r\n\r\n        &lt;X509Certificate&gt;MIIFtTCCBJ2gAwIBAgIQBsK927DS8wePBQjvzVX9BjANBgkqhkiG9w0BAQsFADBeMQswCQYDVQQG&amp;#13;\r\n    EwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR0w&amp;#13;\r\n    GwYDVQQDExRSYXBpZFNTTCBSU0EgQ0EgMjAxODAeFw0xOTA2MDcwMDAwMDBaFw0yMDA2MDYxMjAw&amp;#13;\r\n\r\nnotice how both have &quot;$#13;&quot; appended?\r\n\r\nHere is the code that does the signing:\r\n\r\n        private void buildSignatureBlock5(String privateKeyPath, String publicKeyPath) {\r\n    \t// Create a DOM XMLSignatureFactory that will be used to\r\n    \t// generate the enveloped signature.\r\n    \tXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\r\n    \t// Create a Reference to the enveloped document (in this case,\r\n    \t// you are signing just the element with Id=&quot;Body&quot;, so a URI of &quot;#Body&quot; signifies\r\n    \t// that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\r\n    \tReference ref = null;\r\n\t\ttry {\r\n\t\t\tref = fac.newReference\r\n\t\t\t (&quot;#Body&quot;, fac.newDigestMethod(DigestMethod.SHA1, null),\r\n\t\t\t  Collections.singletonList\r\n\t\t\t   (fac.newTransform\r\n\t\t\t    (Transform.ENVELOPED, (TransformParameterSpec) null)),\r\n\t\t\t     null, null);\r\n\t\t} catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n    \t// Create the SignedInfo.\r\n\t\tSignedInfo si = null;\r\n    \ttry {\r\n\t\t\tsi = fac.newSignedInfo\r\n\t\t\t (fac.newCanonicalizationMethod\r\n\t\t\t  (CanonicalizationMethod.INCLUSIVE,\r\n\t\t\t   (C14NMethodParameterSpec) null),\r\n\t\t\t    fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\r\n\t\t\t     Collections.singletonList(ref));\r\n\t\t} catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n    \t\r\n    \t// Load the KeyStore and get the signing key and certificate.\r\n    \tKeyStore ks = null;\r\n\t\ttry {\r\n\t\t\tks = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t} catch (KeyStoreException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \ttry {\r\n\t\t\tks.load(new FileInputStream(storage_path +&quot;/keys/myproject.jks&quot;), &quot;changeit&quot;.toCharArray());\r\n\t\t} catch (NoSuchAlgorithmException | CertificateException | IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \t\r\n    \tKeyStore.PrivateKeyEntry keyEntry = null;\r\n\t\ttry {\r\n\t\t\tkeyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry\r\n    \t        (&quot;1&quot;, new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray()));\r\n\t\t} catch (NoSuchAlgorithmException | UnrecoverableEntryException | KeyStoreException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \tX509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n\r\n    \t// Create the KeyInfo containing the X509Data.\r\n    \tKeyInfoFactory kif = fac.getKeyInfoFactory();\r\n    \tList x509Content = new ArrayList();\r\n    \tString issuerName = cert.getIssuerX500Principal().getName();\r\n    \tBigInteger serialNumber = cert.getSerialNumber();\r\n    \tX509IssuerSerial issuer = kif.newX509IssuerSerial(issuerName, serialNumber);\r\n    \tx509Content.add(issuer);\r\n    \tx509Content.add(cert);\r\n    \tX509Data xd = kif.newX509Data(x509Content);\r\n    \tKeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd));    \r\n    \t\r\n    \t// Create a DOMSignContext and specify the RSA PrivateKey and location of the resulting XMLSignature&#39;s parent element.\r\n    \tElement envHeaderSig = (Element) document.getElementsByTagName(&quot;SOAP-SEC:Signature&quot;).item(0);\r\n\t\tDOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), envHeaderSig);\r\n\r\n    \t// Create the XMLSignature, but don&#39;t sign it yet.\r\n    \tXMLSignature signature = fac.newXMLSignature(si, ki);\r\n\r\n    \ttry {\r\n\t\t\tsignature.sign(dsc);\t//ResourceResolverException: Cannot resolve element with ID Body\r\n\t\t} catch (MarshalException | XMLSignatureException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\nI have tried the solutions suggested here:\r\n\r\n&gt; https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java\r\n\r\nBut nothing worked.  Any ideas?  \r\n\r\nI have an example signature block created by PHP that I know works which doesn&#39;t have that whitespace.  I&#39;m trying to make my java output look just like it.","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>I'm signing part of an xml document but the resulting signature and certificate have unwanted whitespace in them.  For example, here is the signature:</p>\n\n<pre><code>    &lt;SignatureValue&gt;QcjPfiZcmqE8aMNH5AKVk+oFBYQ4LynV3a5YlJIxuf0y22QQ0NA2BTkRriI85dd/6Qcezf5xFguJ&amp;#13;\nV+Mlk44c0uZD7TE+NlsFz3q1vtHHPi/9ygc2kJgQeSzxiCR2AHCONN3UN89RjidIqnN1qtKrBhc+&amp;#13;\nGNeEGhjqgV7DHvzK7tHVkC6c1EevsOV5bH2Gu0X5JsGwOtSHWe6eyOXue0TW7XWrqOLmOusWYhRR&amp;#13;\nONJFoa49LQ4WV/RP498rp2TJ0bNE36PMWD6sMh52ERTj6NhngIl2cGjbbwzYteDN/ujo5bHmosmC&amp;#13;\ndVKBmgaw2YAICJy4BROyK7AmZI5BxKoZ6CY1Tw==&lt;/SignatureValue&gt;\n</code></pre>\n\n<p>and here is part of the certificate:</p>\n\n<pre><code>    &lt;X509Certificate&gt;MIIFtTCCBJ2gAwIBAgIQBsK927DS8wePBQjvzVX9BjANBgkqhkiG9w0BAQsFADBeMQswCQYDVQQG&amp;#13;\nEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR0w&amp;#13;\nGwYDVQQDExRSYXBpZFNTTCBSU0EgQ0EgMjAxODAeFw0xOTA2MDcwMDAwMDBaFw0yMDA2MDYxMjAw&amp;#13;\n</code></pre>\n\n<p>notice how both have \"$#13;\" appended?</p>\n\n<p>Here is the code that does the signing:</p>\n\n<pre><code>    private void buildSignatureBlock5(String privateKeyPath, String publicKeyPath) {\n    // Create a DOM XMLSignatureFactory that will be used to\n    // generate the enveloped signature.\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\n    // Create a Reference to the enveloped document (in this case,\n    // you are signing just the element with Id=\"Body\", so a URI of \"#Body\" signifies\n    // that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\n    Reference ref = null;\n    try {\n        ref = fac.newReference\n         (\"#Body\", fac.newDigestMethod(DigestMethod.SHA1, null),\n          Collections.singletonList\n           (fac.newTransform\n            (Transform.ENVELOPED, (TransformParameterSpec) null)),\n             null, null);\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    // Create the SignedInfo.\n    SignedInfo si = null;\n    try {\n        si = fac.newSignedInfo\n         (fac.newCanonicalizationMethod\n          (CanonicalizationMethod.INCLUSIVE,\n           (C14NMethodParameterSpec) null),\n            fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\n             Collections.singletonList(ref));\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }       \n\n    // Load the KeyStore and get the signing key and certificate.\n    KeyStore ks = null;\n    try {\n        ks = KeyStore.getInstance(\"JKS\");\n    } catch (KeyStoreException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    try {\n        ks.load(new FileInputStream(storage_path +\"/keys/myproject.jks\"), \"changeit\".toCharArray());\n    } catch (NoSuchAlgorithmException | CertificateException | IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    KeyStore.PrivateKeyEntry keyEntry = null;\n    try {\n        keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry\n            (\"1\", new KeyStore.PasswordProtection(\"changeit\".toCharArray()));\n    } catch (NoSuchAlgorithmException | UnrecoverableEntryException | KeyStoreException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n\n    // Create the KeyInfo containing the X509Data.\n    KeyInfoFactory kif = fac.getKeyInfoFactory();\n    List x509Content = new ArrayList();\n    String issuerName = cert.getIssuerX500Principal().getName();\n    BigInteger serialNumber = cert.getSerialNumber();\n    X509IssuerSerial issuer = kif.newX509IssuerSerial(issuerName, serialNumber);\n    x509Content.add(issuer);\n    x509Content.add(cert);\n    X509Data xd = kif.newX509Data(x509Content);\n    KeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd));    \n\n    // Create a DOMSignContext and specify the RSA PrivateKey and location of the resulting XMLSignature's parent element.\n    Element envHeaderSig = (Element) document.getElementsByTagName(\"SOAP-SEC:Signature\").item(0);\n    DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), envHeaderSig);\n\n    // Create the XMLSignature, but don't sign it yet.\n    XMLSignature signature = fac.newXMLSignature(si, ki);\n\n    try {\n        signature.sign(dsc);    //ResourceResolverException: Cannot resolve element with ID Body\n    } catch (MarshalException | XMLSignatureException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I have tried the solutions suggested here:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java\">How to produce XML signature with no whitespaces and line-breaks in Java?</a></p>\n</blockquote>\n\n<p>But nothing worked.  Any ideas?  </p>\n\n<p>I have an example signature block created by PHP that I know works which doesn't have that whitespace.  I'm trying to make my java output look just like it.</p>\n"},{"tags":["java","spring-boot","application.properties"],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671005486,"creation_date":1671004754,"question_id":74795126,"body_markdown":"I have a SB application. Here are my configurations :\r\n\r\n**bootstrap.yml** \r\n\r\n    spring:\r\n      profiles:\r\n        active: ${ACTIVE_PROFILE}\r\n    \r\n    aws:\r\n      paramstore:\r\n        enabled: true\r\n        prefix: /abc\r\n        name: xyz/jkl/wer\r\n\r\nThen I have the below `application.yml` where I intend to keep common properties :\r\n\r\n    spring:\r\n      datasource:\r\n        url: ${DB_URL}\r\n        username: ${DB_USER}\r\n        password: ${DB_PASS}\r\n        driver-class-name: org.postgresql.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      flyway:\r\n        baseline-on-migrate: true\r\n    \r\n    hibernate:\r\n      dialect: org.hibernate.dialect.PostgreSQLDialect\r\n      show_sql: true\r\n      #format_sql: true\r\n      #default_schema: operations\r\n    \r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,info,metrics,env,flyway\r\n      endpoint:\r\n        health:\r\n          probes:\r\n            enabled: true\r\n      health:\r\n        livenessState:\r\n          enabled: true\r\n        readinessState:\r\n          enabled: true\r\n\r\nThen I have env specific **application-local.yml :**\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\r\n        username: postgres\r\n        password: abc\r\n        driver-class-name: org.postgresql.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      flyway:\r\n        baseline-on-migrate: true\r\n    \r\n    hibernate:\r\n      dialect: org.hibernate.dialect.PostgreSQLDialect\r\n      show_sql: true\r\n      #format_sql: true\r\n      #default_schema: operations\r\n    \r\n    # logback\r\n    logging:\r\n      level:\r\n        root: debug\r\n\r\nWhen I run the application I pass the env variable :**${ACTIVE_PROFILE}**  as  **local**.\r\n\r\nI get this error on running the app :\r\n\r\n    nested exception is java.lang.RuntimeException: \r\n    Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}\r\n\r\nActive Profile from Log :\r\n\r\n    The following 1 profile is active: &quot;local&quot;\r\n\r\nWhen I remove the db specific properties from application.yml, I get the below error :\r\n\r\n    Description:\r\n\r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\r\n\r\n**UPDATE:**\r\n\r\nI dont have the below configured for local, that is why I am overriding them in `application-local.yml`. But for higher env I have them configured.\r\n\r\n    url: ${DB_URL}\r\n    username: ${DB_USER}\r\n    password: ${DB_PASS}\r\nWhat I am expecting is `application-local.yml` file should override the `application.yml` file but I am not sure why `application-local.yml` is not getting read at all and why the properties are being taken from `application.yml` instead.","title":"application.yml is not getting overriden by application-local.yml","body":"<p>I have a SB application. Here are my configurations :</p>\n<p><strong>bootstrap.yml</strong></p>\n<pre><code>spring:\n  profiles:\n    active: ${ACTIVE_PROFILE}\n\naws:\n  paramstore:\n    enabled: true\n    prefix: /abc\n    name: xyz/jkl/wer\n</code></pre>\n<p>Then I have the below <code>application.yml</code> where I intend to keep common properties :</p>\n<pre><code>spring:\n  datasource:\n    url: ${DB_URL}\n    username: ${DB_USER}\n    password: ${DB_PASS}\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n  flyway:\n    baseline-on-migrate: true\n\nhibernate:\n  dialect: org.hibernate.dialect.PostgreSQLDialect\n  show_sql: true\n  #format_sql: true\n  #default_schema: operations\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,metrics,env,flyway\n  endpoint:\n    health:\n      probes:\n        enabled: true\n  health:\n    livenessState:\n      enabled: true\n    readinessState:\n      enabled: true\n</code></pre>\n<p>Then I have env specific <strong>application-local.yml :</strong></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\n    username: postgres\n    password: abc\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n  flyway:\n    baseline-on-migrate: true\n\nhibernate:\n  dialect: org.hibernate.dialect.PostgreSQLDialect\n  show_sql: true\n  #format_sql: true\n  #default_schema: operations\n\n# logback\nlogging:\n  level:\n    root: debug\n</code></pre>\n<p>When I run the application I pass the env variable :<strong>${ACTIVE_PROFILE}</strong>  as  <strong>local</strong>.</p>\n<p>I get this error on running the app :</p>\n<pre><code>nested exception is java.lang.RuntimeException: \nDriver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}\n</code></pre>\n<p>Active Profile from Log :</p>\n<pre><code>The following 1 profile is active: &quot;local&quot;\n</code></pre>\n<p>When I remove the db specific properties from application.yml, I get the below error :</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I dont have the below configured for local, that is why I am overriding them in <code>application-local.yml</code>. But for higher env I have them configured.</p>\n<pre><code>url: ${DB_URL}\nusername: ${DB_USER}\npassword: ${DB_PASS}\n</code></pre>\n<p>What I am expecting is <code>application-local.yml</code> file should override the <code>application.yml</code> file but I am not sure why <code>application-local.yml</code> is not getting read at all and why the properties are being taken from <code>application.yml</code> instead.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005166,"creation_date":1671005166,"answer_id":74795182,"question_id":74786817,"body_markdown":"The documentation you linked to seems clear to me. Emphasise is mine.\r\n\r\n&gt; Auto-configuration is non-invasive. At any point, you can start to define your own configuration to replace specific parts of the auto-configuration. For example, **if you add your own DataSource bean, the default embedded database support backs away**.\r\n\r\n`@Primary` or the bean name is not mentioned at all, so I&#39;m not sure why you would expect it to be relevant.\r\n\r\nIt even describes in the following paragraph how to run you application so you can see which autoconfigurations are applied and why (not).\r\n\r\n&gt; If you need to find out what auto-configuration is currently being applied, and why, start your application with the --debug switch. Doing so enables debug logs for a selection of core loggers and logs a conditions report to the console.\r\n","title":"Does defining a DataSource bean automatically stop spring auto-config, even if the data source is not annotated with @Primary?","body":"<p>The documentation you linked to seems clear to me. Emphasise is mine.</p>\n<blockquote>\n<p>Auto-configuration is non-invasive. At any point, you can start to define your own configuration to replace specific parts of the auto-configuration. For example, <strong>if you add your own DataSource bean, the default embedded database support backs away</strong>.</p>\n</blockquote>\n<p><code>@Primary</code> or the bean name is not mentioned at all, so I'm not sure why you would expect it to be relevant.</p>\n<p>It even describes in the following paragraph how to run you application so you can see which autoconfigurations are applied and why (not).</p>\n<blockquote>\n<p>If you need to find out what auto-configuration is currently being applied, and why, start your application with the --debug switch. Doing so enables debug logs for a selection of core loggers and logs a conditions report to the console.</p>\n</blockquote>\n"}],"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671005166,"creation_date":1670943658,"question_id":74786817,"body_markdown":"The Spring Boot [documentation][1] states that if you add your own `DataSource` bean, spring will not handle the Auto-configuration anymore.\r\n\r\nBasically, I want to have two data sources in my project. I was thinking that I can explicitly config the second ds, and not annotate it with `@Primary`, and Spring will do the auto-config for the primary data source. After trying to do this without any success and reading the docs, it is still unclear to me what they really mean. Does declaring any bean of type `DataSource` stop the auto config, even if it&#39;s not the primary one? Or is the auto config stopped only if you annotate the bean with `@Primary` / leave it with the default name (which I believe is simply &quot;dataSource&quot;). I have manually configured the default data source so I know how to do that, but I want to know if it&#39;s really necessary.\r\n\r\nThanks, any help would be really appreciated, as I have been stuck on this one for a while now.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration.replacing","title":"Does defining a DataSource bean automatically stop spring auto-config, even if the data source is not annotated with @Primary?","body":"<p>The Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration.replacing\" rel=\"nofollow noreferrer\">documentation</a> states that if you add your own <code>DataSource</code> bean, spring will not handle the Auto-configuration anymore.</p>\n<p>Basically, I want to have two data sources in my project. I was thinking that I can explicitly config the second ds, and not annotate it with <code>@Primary</code>, and Spring will do the auto-config for the primary data source. After trying to do this without any success and reading the docs, it is still unclear to me what they really mean. Does declaring any bean of type <code>DataSource</code> stop the auto config, even if it's not the primary one? Or is the auto config stopped only if you annotate the bean with <code>@Primary</code> / leave it with the default name (which I believe is simply &quot;dataSource&quot;). I have manually configured the default data source so I know how to do that, but I want to know if it's really necessary.</p>\n<p>Thanks, any help would be really appreciated, as I have been stuck on this one for a while now.</p>\n"},{"tags":["java","set","cartesian-product"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":3,"up_vote_count":50,"is_accepted":true,"score":47,"last_activity_date":1403085769,"creation_date":1238770112,"answer_id":714256,"question_id":714108,"body_markdown":"***Edit:** Previous solutions for two sets removed. See edit history for details.*\r\n\r\nHere is a way to do it recursively for an arbitrary number of sets:\r\n\r\n    public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\r\n        if (sets.length &lt; 2)\r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t have a product of fewer than two sets (got &quot; +\r\n                    sets.length + &quot;)&quot;);\r\n\r\n        return _cartesianProduct(0, sets);\r\n    }\r\n\r\n    private static Set&lt;Set&lt;Object&gt;&gt; _cartesianProduct(int index, Set&lt;?&gt;... sets) {\r\n        Set&lt;Set&lt;Object&gt;&gt; ret = new HashSet&lt;Set&lt;Object&gt;&gt;();\r\n        if (index == sets.length) {\r\n            ret.add(new HashSet&lt;Object&gt;());\r\n        } else {\r\n            for (Object obj : sets[index]) {\r\n                for (Set&lt;Object&gt; set : _cartesianProduct(index+1, sets)) {\r\n                    set.add(obj);\r\n                    ret.add(set);\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\nNote that it is impossible to keep any generic type information with the returned sets. If you knew in advance how many sets you wanted to take the product of, you could define a generic tuple to hold that many elements (for instance `Triple&lt;A, B, C&gt;`), but there is no way to have an arbitrary number of generic parameters in Java.","title":"Cartesian product of an arbitrary number of sets","body":"<p><strong><em>Edit:</strong> Previous solutions for two sets removed. See edit history for details.</em></p>\n\n<p>Here is a way to do it recursively for an arbitrary number of sets:</p>\n\n<pre><code>public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\n    if (sets.length &lt; 2)\n        throw new IllegalArgumentException(\n                \"Can't have a product of fewer than two sets (got \" +\n                sets.length + \")\");\n\n    return _cartesianProduct(0, sets);\n}\n\nprivate static Set&lt;Set&lt;Object&gt;&gt; _cartesianProduct(int index, Set&lt;?&gt;... sets) {\n    Set&lt;Set&lt;Object&gt;&gt; ret = new HashSet&lt;Set&lt;Object&gt;&gt;();\n    if (index == sets.length) {\n        ret.add(new HashSet&lt;Object&gt;());\n    } else {\n        for (Object obj : sets[index]) {\n            for (Set&lt;Object&gt; set : _cartesianProduct(index+1, sets)) {\n                set.add(obj);\n                ret.add(set);\n            }\n        }\n    }\n    return ret;\n}\n</code></pre>\n\n<p>Note that it is impossible to keep any generic type information with the returned sets. If you knew in advance how many sets you wanted to take the product of, you could define a generic tuple to hold that many elements (for instance <code>Triple&lt;A, B, C&gt;</code>), but there is no way to have an arbitrary number of generic parameters in Java.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":6,"up_vote_count":18,"is_accepted":false,"score":12,"last_activity_date":1238773958,"creation_date":1238773958,"answer_id":714547,"question_id":714108,"body_markdown":"&gt; The number of sets might vary so I\r\n&gt; cannot do this in nested foreach loop.\r\n\r\nTwo hints:\r\n\r\n - A x B x C = A x (B x C)\r\n - Recursion ","title":"Cartesian product of an arbitrary number of sets","body":"<blockquote>\n  <p>The number of sets might vary so I\n  cannot do this in nested foreach loop.</p>\n</blockquote>\n\n<p>Two hints:</p>\n\n<ul>\n<li>A x B x C = A x (B x C)</li>\n<li>Recursion </li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"Tony Morrris"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1627140659,"creation_date":1238794921,"answer_id":715838,"question_id":714108,"body_markdown":"Yes, there is [Functional Java][1].\r\n\r\nFor a set `s`:\r\n\r\n    s.bind(P.p2(), s);\r\n\r\n\r\n  [1]: http://functionaljava.org/","title":"Cartesian product of an arbitrary number of sets","body":"<p>Yes, there is <a href=\"http://functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java</a>.</p>\n<p>For a set <code>s</code>:</p>\n<pre><code>s.bind(P.p2(), s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1286917,"reputation":241,"user_id":1239812,"display_name":"Philipp Meister"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1399562551,"creation_date":1330506449,"answer_id":9496234,"question_id":714108,"body_markdown":"The method below creates the cartesian product of a list of list of strings:\r\n\r\n    protected &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(List&lt;List&lt;T&gt;&gt; lists) {\r\n        List&lt;List&lt;T&gt;&gt; resultLists = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n        if (lists.size() == 0) {\r\n            resultLists.add(new ArrayList&lt;T&gt;());\r\n            return resultLists;\r\n        } else {\r\n            List&lt;T&gt; firstList = lists.get(0);\r\n            List&lt;List&lt;T&gt;&gt; remainingLists = cartesianProduct(lists.subList(1, lists.size()));\r\n            for (T condition : firstList) {\r\n                for (List&lt;T&gt; remainingList : remainingLists) {\r\n                    ArrayList&lt;T&gt; resultList = new ArrayList&lt;T&gt;();\r\n                    resultList.add(condition);\r\n                    resultList.addAll(remainingList);\r\n                    resultLists.add(resultList);\r\n                }\r\n            }\r\n        }\r\n        return resultLists;\r\n    }\r\n\r\nExample:\r\n\r\n    System.out.println(cartesianProduct(Arrays.asList(Arrays.asList(&quot;Apple&quot;, &quot;Banana&quot;), Arrays.asList(&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;))));\r\n\r\nwould yield this:\r\n\r\n    [[Apple, Red], [Apple, Green], [Apple, Blue], [Banana, Red], [Banana, Green], [Banana, Blue]]\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>The method below creates the cartesian product of a list of list of strings:</p>\n\n<pre><code>protected &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(List&lt;List&lt;T&gt;&gt; lists) {\n    List&lt;List&lt;T&gt;&gt; resultLists = new ArrayList&lt;List&lt;T&gt;&gt;();\n    if (lists.size() == 0) {\n        resultLists.add(new ArrayList&lt;T&gt;());\n        return resultLists;\n    } else {\n        List&lt;T&gt; firstList = lists.get(0);\n        List&lt;List&lt;T&gt;&gt; remainingLists = cartesianProduct(lists.subList(1, lists.size()));\n        for (T condition : firstList) {\n            for (List&lt;T&gt; remainingList : remainingLists) {\n                ArrayList&lt;T&gt; resultList = new ArrayList&lt;T&gt;();\n                resultList.add(condition);\n                resultList.addAll(remainingList);\n                resultLists.add(resultList);\n            }\n        }\n    }\n    return resultLists;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(cartesianProduct(Arrays.asList(Arrays.asList(\"Apple\", \"Banana\"), Arrays.asList(\"Red\", \"Green\", \"Blue\"))));\n</code></pre>\n\n<p>would yield this:</p>\n\n<pre><code>[[Apple, Red], [Apple, Green], [Apple, Blue], [Banana, Red], [Banana, Green], [Banana, Blue]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1334035246,"creation_date":1334035246,"answer_id":10083452,"question_id":714108,"body_markdown":"Here is an Iterable, which allows you to use a simplified for-loop: \r\n\r\n    import java.util.*;\r\n    \r\n    // let&#39;s begin with the demo. Instead of Person and Gift, \r\n    // I use the well known char and int. \r\n    class CartesianIteratorTest {\r\n    \r\n    \tpublic static void main (String[] args) {\r\n    \t\tList &lt;Object&gt; lc = Arrays.asList (new Object [] {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;});\r\n    \t\tList &lt;Object&gt; lC = Arrays.asList (new Object [] {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;});  \t\r\n    \t\tList &lt;Object&gt; li = Arrays.asList (new Object [] {1, 2, 3, 4});\r\n                // sometimes, a generic solution like List &lt;List &lt;String&gt;&gt;\r\n                // might be possible to use - typically, a mixture of types is \r\n                // the common nominator \r\n    \t\tList &lt;List &lt;Object&gt;&gt; llo = new ArrayList &lt;List &lt;Object&gt;&gt; ();\r\n    \t\tllo.add (lc);\r\n    \t\tllo.add (lC);\r\n    \t\tllo.add (li);\r\n\r\n            // Preparing the List of Lists is some work, but then ...    \r\n\t \t    CartesianIterable &lt;Object&gt; ci = new CartesianIterable &lt;Object&gt; (llo);\r\n\r\n    \t\tfor (List &lt;Object&gt; lo: ci)\r\n    \t\t\tshow (lo);\r\n    \t}\r\n    \r\n    \tpublic static void show (List &lt;Object&gt; lo) {\r\n    \t\tSystem.out.print (&quot;(&quot;);\r\n    \t\tfor (Object o: lo)\r\n    \t\t  \tSystem.out.print (o + &quot;, &quot;);\r\n    \t\tSystem.out.println (&quot;)&quot;);\r\n    \t}\r\n    }\r\n\r\nHow is it done? We need an Iterable, to use the simplified for-loop, and an Iterator has to be returned from the Iterable. \r\nWe return a List of Objects - this could be a Set instead of List, but Set has no indexed access, so it would be a bit more complicated, to implement it with Set instead of List. Instead of a generic solution, Object would have been fine for many purposes, but generics allow for more restrictions. \r\n    \r\n    class CartesianIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\r\n    \t\r\n    \tprivate final List &lt;List &lt;T&gt;&gt; lilio;\t\r\n    \tprivate int current = 0;\r\n    \tprivate final long last;\r\n    \t\r\n    \tpublic CartesianIterator (final List &lt;List &lt;T&gt;&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t\tlong product = 1L;\r\n    \t\tfor (List &lt;T&gt; lio: lilio)\r\n    \t\t\tproduct *= lio.size ();\r\n    \t\tlast = product;\r\n    \t} \r\n    \r\n    \tpublic boolean hasNext () {\r\n    \t\treturn current != last;\r\n    \t}\r\n    \r\n    \tpublic List &lt;T&gt; next () {\r\n    \t\t++current;\r\n    \t\treturn get (current - 1, lilio);\r\n    \t}\r\n    \r\n    \tpublic void remove () {\r\n    \t\t++current;\r\n    \t}\r\n    \t\t\r\n    \tprivate List&lt;T&gt; get (final int n, final List &lt;List &lt;T&gt;&gt; lili) {\r\n    \t\tswitch (lili.size ())\r\n    \t\t{\r\n    \t\t\tcase 0: return new ArrayList &lt;T&gt; (); // no break past return;\r\n    \t\t\tdefault: {\r\n    \t\t\t\tList &lt;T&gt; inner = lili.get (0);\r\n    \t\t\t\tList &lt;T&gt; lo = new ArrayList &lt;T&gt; ();\r\n    \t\t\t\tlo.add (inner.get (n % inner.size ()));\r\n    \t\t\t\tlo.addAll (get (n / inner.size (), lili.subList (1, lili.size ())));\r\n    \t\t\t\treturn lo;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe mathematical work is done in the &#39;get&#39;-method. Think about 2 sets of 10 elements. You have a total of 100 combinations, enumerated from 00, 01, 02, ... 10, ... to 99. For 5 X 10 elements 50, for 2 X 3 elements 6 combinations. The modulo of the sublist size helps to pick one element for each iteration. \r\n    \r\nIterable i the least interesting thing here: \r\n\r\n    class CartesianIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\r\n    \r\n    \tprivate List &lt;List &lt;T&gt;&gt; lilio;\t\r\n    \t\t\r\n    \tpublic CartesianIterable (List &lt;List &lt;T&gt;&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t}\r\n    \r\n    \tpublic Iterator &lt;List &lt;T&gt;&gt; iterator () {\r\n    \t\treturn new CartesianIterator &lt;T&gt; (lilio);\r\n    \t}\r\n    }\r\n        \r\n\r\nTo implement Iterable, which allows the for-each kind of loop, we have to implement iterator (), and for Iterator we have to implement hasNext (), next () and remove (). \r\n\r\nResult: \r\n\r\n    (A, a, 1, )\r\n    (B, a, 1, )\r\n    (C, a, 1, )\r\n    (D, a, 1, )\r\n    (A, b, 1, )\r\n    (B, b, 1, )\r\n    (C, b, 1, )\r\n    (D, b, 1, )\r\n    ...\r\n    (A, a, 2, )\r\n    ...\r\n    (C, c, 4, )\r\n    (D, c, 4, )\r\n\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>Here is an Iterable, which allows you to use a simplified for-loop: </p>\n\n<pre><code>import java.util.*;\n\n// let's begin with the demo. Instead of Person and Gift, \n// I use the well known char and int. \nclass CartesianIteratorTest {\n\n    public static void main (String[] args) {\n        List &lt;Object&gt; lc = Arrays.asList (new Object [] {'A', 'B', 'C', 'D'});\n        List &lt;Object&gt; lC = Arrays.asList (new Object [] {'a', 'b', 'c'});   \n        List &lt;Object&gt; li = Arrays.asList (new Object [] {1, 2, 3, 4});\n            // sometimes, a generic solution like List &lt;List &lt;String&gt;&gt;\n            // might be possible to use - typically, a mixture of types is \n            // the common nominator \n        List &lt;List &lt;Object&gt;&gt; llo = new ArrayList &lt;List &lt;Object&gt;&gt; ();\n        llo.add (lc);\n        llo.add (lC);\n        llo.add (li);\n\n        // Preparing the List of Lists is some work, but then ...    \n        CartesianIterable &lt;Object&gt; ci = new CartesianIterable &lt;Object&gt; (llo);\n\n        for (List &lt;Object&gt; lo: ci)\n            show (lo);\n    }\n\n    public static void show (List &lt;Object&gt; lo) {\n        System.out.print (\"(\");\n        for (Object o: lo)\n            System.out.print (o + \", \");\n        System.out.println (\")\");\n    }\n}\n</code></pre>\n\n<p>How is it done? We need an Iterable, to use the simplified for-loop, and an Iterator has to be returned from the Iterable. \nWe return a List of Objects - this could be a Set instead of List, but Set has no indexed access, so it would be a bit more complicated, to implement it with Set instead of List. Instead of a generic solution, Object would have been fine for many purposes, but generics allow for more restrictions. </p>\n\n<pre><code>class CartesianIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\n\n    private final List &lt;List &lt;T&gt;&gt; lilio;    \n    private int current = 0;\n    private final long last;\n\n    public CartesianIterator (final List &lt;List &lt;T&gt;&gt; llo) {\n        lilio = llo;\n        long product = 1L;\n        for (List &lt;T&gt; lio: lilio)\n            product *= lio.size ();\n        last = product;\n    } \n\n    public boolean hasNext () {\n        return current != last;\n    }\n\n    public List &lt;T&gt; next () {\n        ++current;\n        return get (current - 1, lilio);\n    }\n\n    public void remove () {\n        ++current;\n    }\n\n    private List&lt;T&gt; get (final int n, final List &lt;List &lt;T&gt;&gt; lili) {\n        switch (lili.size ())\n        {\n            case 0: return new ArrayList &lt;T&gt; (); // no break past return;\n            default: {\n                List &lt;T&gt; inner = lili.get (0);\n                List &lt;T&gt; lo = new ArrayList &lt;T&gt; ();\n                lo.add (inner.get (n % inner.size ()));\n                lo.addAll (get (n / inner.size (), lili.subList (1, lili.size ())));\n                return lo;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The mathematical work is done in the 'get'-method. Think about 2 sets of 10 elements. You have a total of 100 combinations, enumerated from 00, 01, 02, ... 10, ... to 99. For 5 X 10 elements 50, for 2 X 3 elements 6 combinations. The modulo of the sublist size helps to pick one element for each iteration. </p>\n\n<p>Iterable i the least interesting thing here: </p>\n\n<pre><code>class CartesianIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\n\n    private List &lt;List &lt;T&gt;&gt; lilio;  \n\n    public CartesianIterable (List &lt;List &lt;T&gt;&gt; llo) {\n        lilio = llo;\n    }\n\n    public Iterator &lt;List &lt;T&gt;&gt; iterator () {\n        return new CartesianIterator &lt;T&gt; (lilio);\n    }\n}\n</code></pre>\n\n<p>To implement Iterable, which allows the for-each kind of loop, we have to implement iterator (), and for Iterator we have to implement hasNext (), next () and remove (). </p>\n\n<p>Result: </p>\n\n<pre><code>(A, a, 1, )\n(B, a, 1, )\n(C, a, 1, )\n(D, a, 1, )\n(A, b, 1, )\n(B, b, 1, )\n(C, b, 1, )\n(D, b, 1, )\n...\n(A, a, 2, )\n...\n(C, c, 4, )\n(D, c, 4, )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1551949,"reputation":121,"user_id":1444139,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1463943953,"creation_date":1339146759,"answer_id":10946027,"question_id":714108,"body_markdown":"**Index-based solution**\r\n\r\nWorking with the indices is an alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.\r\n\r\n    public class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\r\n    \r\n    \tprivate final int[] _lengths;\r\n    \tprivate final int[] _indices;\r\n    \tprivate boolean _hasNext = true;\r\n    \r\n    \tpublic CartesianProduct(int[] lengths) {\r\n    \t\t_lengths = lengths;\r\n    \t\t_indices = new int[lengths.length];\r\n    \t}\r\n    \r\n    \tpublic boolean hasNext() {\r\n    \t\treturn _hasNext;\r\n    \t}\r\n    \r\n    \tpublic int[] next() {\r\n    \t\tint[] result = Arrays.copyOf(_indices, _indices.length);\r\n    \t\tfor (int i = _indices.length - 1; i &gt;= 0; i--) {\r\n    \t\t\tif (_indices[i] == _lengths[i] - 1) {\r\n    \t\t\t\t_indices[i] = 0;\r\n    \t\t\t\tif (i == 0) {\r\n    \t\t\t\t\t_hasNext = false;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\t_indices[i]++;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic Iterator&lt;int[]&gt; iterator() {\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic void remove() {\r\n    \t\tthrow new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Usage example. Prints out\r\n    \t * \r\n    \t * &lt;pre&gt;\r\n    \t * [0, 0, 0] a, NANOSECONDS, 1\r\n    \t * [0, 0, 1] a, NANOSECONDS, 2\r\n    \t * [0, 0, 2] a, NANOSECONDS, 3\r\n    \t * [0, 0, 3] a, NANOSECONDS, 4\r\n    \t * [0, 1, 0] a, MICROSECONDS, 1\r\n    \t * [0, 1, 1] a, MICROSECONDS, 2\r\n    \t * [0, 1, 2] a, MICROSECONDS, 3\r\n    \t * [0, 1, 3] a, MICROSECONDS, 4\r\n    \t * [0, 2, 0] a, MILLISECONDS, 1\r\n    \t * [0, 2, 1] a, MILLISECONDS, 2\r\n    \t * [0, 2, 2] a, MILLISECONDS, 3\r\n    \t * [0, 2, 3] a, MILLISECONDS, 4\r\n    \t * [0, 3, 0] a, SECONDS, 1\r\n    \t * [0, 3, 1] a, SECONDS, 2\r\n    \t * [0, 3, 2] a, SECONDS, 3\r\n    \t * [0, 3, 3] a, SECONDS, 4\r\n    \t * [0, 4, 0] a, MINUTES, 1\r\n    \t * [0, 4, 1] a, MINUTES, 2\r\n    \t * ...\r\n    \t * &lt;/pre&gt;\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] list1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, };\r\n    \t\tTimeUnit[] list2 = TimeUnit.values();\r\n    \t\tint[] list3 = new int[] { 1, 2, 3, 4 };\r\n    \r\n    \t\tint[] lengths = new int[] { list1.length, list2.length, list3.length };\r\n    \t\tfor (int[] indices : new CartesianProduct(lengths)) {\r\n    \t\t\tSystem.out.println(Arrays.toString(indices) //\r\n    \t\t\t\t\t+ &quot; &quot; + list1[indices[0]] //\r\n    \t\t\t\t\t+ &quot;, &quot; + list2[indices[1]] //\r\n    \t\t\t\t\t+ &quot;, &quot; + list3[indices[2]]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p><strong>Index-based solution</strong></p>\n\n<p>Working with the indices is an alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.</p>\n\n<pre><code>public class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\n\n    private final int[] _lengths;\n    private final int[] _indices;\n    private boolean _hasNext = true;\n\n    public CartesianProduct(int[] lengths) {\n        _lengths = lengths;\n        _indices = new int[lengths.length];\n    }\n\n    public boolean hasNext() {\n        return _hasNext;\n    }\n\n    public int[] next() {\n        int[] result = Arrays.copyOf(_indices, _indices.length);\n        for (int i = _indices.length - 1; i &gt;= 0; i--) {\n            if (_indices[i] == _lengths[i] - 1) {\n                _indices[i] = 0;\n                if (i == 0) {\n                    _hasNext = false;\n                }\n            } else {\n                _indices[i]++;\n                break;\n            }\n        }\n        return result;\n    }\n\n    public Iterator&lt;int[]&gt; iterator() {\n        return this;\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n    /**\n     * Usage example. Prints out\n     * \n     * &lt;pre&gt;\n     * [0, 0, 0] a, NANOSECONDS, 1\n     * [0, 0, 1] a, NANOSECONDS, 2\n     * [0, 0, 2] a, NANOSECONDS, 3\n     * [0, 0, 3] a, NANOSECONDS, 4\n     * [0, 1, 0] a, MICROSECONDS, 1\n     * [0, 1, 1] a, MICROSECONDS, 2\n     * [0, 1, 2] a, MICROSECONDS, 3\n     * [0, 1, 3] a, MICROSECONDS, 4\n     * [0, 2, 0] a, MILLISECONDS, 1\n     * [0, 2, 1] a, MILLISECONDS, 2\n     * [0, 2, 2] a, MILLISECONDS, 3\n     * [0, 2, 3] a, MILLISECONDS, 4\n     * [0, 3, 0] a, SECONDS, 1\n     * [0, 3, 1] a, SECONDS, 2\n     * [0, 3, 2] a, SECONDS, 3\n     * [0, 3, 3] a, SECONDS, 4\n     * [0, 4, 0] a, MINUTES, 1\n     * [0, 4, 1] a, MINUTES, 2\n     * ...\n     * &lt;/pre&gt;\n     */\n    public static void main(String[] args) {\n        String[] list1 = { \"a\", \"b\", \"c\", };\n        TimeUnit[] list2 = TimeUnit.values();\n        int[] list3 = new int[] { 1, 2, 3, 4 };\n\n        int[] lengths = new int[] { list1.length, list2.length, list3.length };\n        for (int[] indices : new CartesianProduct(lengths)) {\n            System.out.println(Arrays.toString(indices) //\n                    + \" \" + list1[indices[0]] //\n                    + \", \" + list2[indices[1]] //\n                    + \", \" + list3[indices[2]]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6469,"reputation":1801,"user_id":10889,"accept_rate":73,"display_name":"Martin Andersson"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1493897025,"creation_date":1384519310,"answer_id":20001337,"question_id":714108,"body_markdown":"This is a pretty old question, but why not use [Guava&#39;s cartesianProduct][1]?\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-","title":"Cartesian product of an arbitrary number of sets","body":"<p>This is a pretty old question, but why not use <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-\" rel=\"noreferrer\">Guava's cartesianProduct</a>?</p>\n"},{"tags":[],"owner":{"account_id":473776,"reputation":4299,"user_id":883073,"accept_rate":76,"display_name":"bisgardo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477573668,"creation_date":1429482240,"answer_id":29736597,"question_id":714108,"body_markdown":"Here is an `Iterator` that gives the cartesian product of a two-dimensional array, where the arrays components represent the sets from the question (one can always convert actual `Set`s to arrays):\r\n\r\n    public class CartesianIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\r\n        private final T[][] sets;\r\n        private final IntFunction&lt;T[]&gt; arrayConstructor;\r\n        \r\n        private int count = 0;\r\n        private T[] next = null;\r\n        \r\n        public CartesianIterator(T[][] sets, IntFunction&lt;T[]&gt; arrayConstructor) {\r\n            Objects.requireNonNull(sets);\r\n            Objects.requireNonNull(arrayConstructor);\r\n            \r\n            this.sets = copySets(sets);\r\n            this.arrayConstructor = arrayConstructor;\r\n        }\r\n        \r\n        private static &lt;T&gt; T[][] copySets(T[][] sets) {\r\n            // If any of the arrays are empty, then the entire iterator is empty.\r\n            // This prevents division by zero in `hasNext`.\r\n            for (T[] set : sets) {\r\n                if (set.length == 0) {\r\n                    return Arrays.copyOf(sets, 0);\r\n                }\r\n            }\r\n            return sets.clone();\r\n        }\r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n            if (next != null) {\r\n                return true;\r\n            }\r\n            \r\n            int tmp = count;\r\n            T[] value = arrayConstructor.apply(sets.length);\r\n            for (int i = 0; i &lt; value.length; i++) {\r\n                T[] set = sets[i];\r\n                \r\n                int radix = set.length;\r\n                int index = tmp % radix;\r\n                \r\n                value[i] = set[index];\r\n                \r\n                tmp /= radix;\r\n            }\r\n            \r\n            if (tmp != 0) {\r\n                // Overflow.\r\n                return false;\r\n            }\r\n            \r\n            next = value;\r\n            count++;\r\n            \r\n            return true;\r\n        }\r\n        \r\n        @Override\r\n        public T[] next() {\r\n            if (!hasNext()) {\r\n                throw new NoSuchElementException();\r\n            }\r\n            \r\n            T[] tmp = next;\r\n            next = null;\r\n            return tmp;\r\n        }\r\n    }\r\n\r\nThe basic idea is to treat `count` as a multi-radix number (digit `i` has its own radix which equals the length of the `i`&#39;th &quot;set&quot;). Whenever we have to resolve `next` (that is, when `hasNext()` is called and `next` is `null`), we decompose the number into its digits in this multi-radix. These digits are now used as the indices from which we draw elements from the different sets.\r\n\r\nExample use:\r\n\r\n    String[] a = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String[] b = { &quot;X&quot; };\r\n    String[] c = { &quot;r&quot;, &quot;s&quot; };\r\n    \r\n    String[][] abc = { a, b, c };\r\n    \r\n    Iterable&lt;String[]&gt; it = () -&gt; new CartesianIterator&lt;&gt;(abc, String[]::new);\r\n    for (String[] s : it) {\r\n        System.out.println(Arrays.toString(s));\r\n    }\r\n\r\nOutput:\r\n\r\n    [a, X, r]\r\n    [b, X, r]\r\n    [c, X, r]\r\n    [a, X, s]\r\n    [b, X, s]\r\n    [c, X, s]\r\n\r\nIf one doesn&#39;t like arrays, the code is trivially convertible into using collections.\r\n\r\nI guess this is more or less similar to the answer given by &quot;user unknown&quot;, only without recursion and collections.","title":"Cartesian product of an arbitrary number of sets","body":"<p>Here is an <code>Iterator</code> that gives the cartesian product of a two-dimensional array, where the arrays components represent the sets from the question (one can always convert actual <code>Set</code>s to arrays):</p>\n\n<pre><code>public class CartesianIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\n    private final T[][] sets;\n    private final IntFunction&lt;T[]&gt; arrayConstructor;\n\n    private int count = 0;\n    private T[] next = null;\n\n    public CartesianIterator(T[][] sets, IntFunction&lt;T[]&gt; arrayConstructor) {\n        Objects.requireNonNull(sets);\n        Objects.requireNonNull(arrayConstructor);\n\n        this.sets = copySets(sets);\n        this.arrayConstructor = arrayConstructor;\n    }\n\n    private static &lt;T&gt; T[][] copySets(T[][] sets) {\n        // If any of the arrays are empty, then the entire iterator is empty.\n        // This prevents division by zero in `hasNext`.\n        for (T[] set : sets) {\n            if (set.length == 0) {\n                return Arrays.copyOf(sets, 0);\n            }\n        }\n        return sets.clone();\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (next != null) {\n            return true;\n        }\n\n        int tmp = count;\n        T[] value = arrayConstructor.apply(sets.length);\n        for (int i = 0; i &lt; value.length; i++) {\n            T[] set = sets[i];\n\n            int radix = set.length;\n            int index = tmp % radix;\n\n            value[i] = set[index];\n\n            tmp /= radix;\n        }\n\n        if (tmp != 0) {\n            // Overflow.\n            return false;\n        }\n\n        next = value;\n        count++;\n\n        return true;\n    }\n\n    @Override\n    public T[] next() {\n        if (!hasNext()) {\n            throw new NoSuchElementException();\n        }\n\n        T[] tmp = next;\n        next = null;\n        return tmp;\n    }\n}\n</code></pre>\n\n<p>The basic idea is to treat <code>count</code> as a multi-radix number (digit <code>i</code> has its own radix which equals the length of the <code>i</code>'th \"set\"). Whenever we have to resolve <code>next</code> (that is, when <code>hasNext()</code> is called and <code>next</code> is <code>null</code>), we decompose the number into its digits in this multi-radix. These digits are now used as the indices from which we draw elements from the different sets.</p>\n\n<p>Example use:</p>\n\n<pre><code>String[] a = { \"a\", \"b\", \"c\"};\nString[] b = { \"X\" };\nString[] c = { \"r\", \"s\" };\n\nString[][] abc = { a, b, c };\n\nIterable&lt;String[]&gt; it = () -&gt; new CartesianIterator&lt;&gt;(abc, String[]::new);\nfor (String[] s : it) {\n    System.out.println(Arrays.toString(s));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[a, X, r]\n[b, X, r]\n[c, X, r]\n[a, X, s]\n[b, X, s]\n[c, X, s]\n</code></pre>\n\n<p>If one doesn't like arrays, the code is trivially convertible into using collections.</p>\n\n<p>I guess this is more or less similar to the answer given by \"user unknown\", only without recursion and collections.</p>\n"},{"tags":[],"owner":{"display_name":"user15675591"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619364544,"creation_date":1618904652,"answer_id":67174557,"question_id":714108,"body_markdown":"You can get the *Cartesian product* of an arbitrary number of sets of *different types* and store it into a *set of sets* of objects `Set&lt;Set&lt;Object&gt;&gt;` using *Java 9 Streams* as follows:\r\n\r\n[Try it online!][1]\r\n\r\n```java\r\npublic static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\r\n    // incorrect incoming data\r\n    if (sets == null) return Collections.emptySet();\r\n    return Arrays.stream(sets)\r\n            // non-null and non-empty sets\r\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\r\n            // represent each set element as Set&lt;Object&gt;\r\n            .map(set -&gt; set.stream().map(Set::&lt;Object&gt;of)\r\n                    // Stream&lt;Set&lt;Set&lt;Object&gt;&gt;&gt;\r\n                    .collect(Collectors.toSet()))\r\n            // summation of pairs of inner sets\r\n            .reduce((set1, set2) -&gt; set1.stream()\r\n                    // combinations of inner sets\r\n                    .flatMap(inner1 -&gt; set2.stream()\r\n                            // merge two inner sets into one\r\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\r\n                                    .flatMap(Set::stream)\r\n                                    .collect(Collectors.toCollection(\r\n                                            LinkedHashSet::new))))\r\n                    // set of combinations\r\n                    .collect(Collectors.toCollection(LinkedHashSet::new)))\r\n            // returns Set&lt;Set&lt;Object&gt;&gt;, otherwise an empty set\r\n            .orElse(Collections.emptySet());\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    Set&lt;Integer&gt; set1 = Set.of(1, 2, 3);\r\n    Set&lt;String&gt; set2 = Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    Set&lt;Object&gt; set3 = Set.of(new Time(0));\r\n\r\n    Set&lt;Set&lt;Object&gt;&gt; sets = cartesianProduct(set1, set2, set3);\r\n    // output\r\n    sets.forEach(System.out::println);\r\n}\r\n```\r\nOutput:\r\n```none\r\n[1, A, 03:00:00]\r\n[1, B, 03:00:00]\r\n[1, C, 03:00:00]\r\n[2, A, 03:00:00]\r\n[2, B, 03:00:00]\r\n[2, C, 03:00:00]\r\n[3, A, 03:00:00]\r\n[3, B, 03:00:00]\r\n[3, C, 03:00:00]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to create a data structure similar to the cartesian product of three lists of different types?][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://tio.run/##nVVRb9owEH7nV9x4qJIJ3ELf2pKpqyZt0qpNYm/THky4gKljZ7ZT1E397fTsBJI26dgWCUgud/fdd3f@2PB7Pt4s73Y7kRfaONiQgdmfkn0TOV4O2tbSCcne9tisM8hz/2pQlAspUkgltxZuuVDwewB01XbruKOfObor//my2GDqkgRSbhxawdVXo5dl6iL/9l3CGAOLzsZ1Fn@dnoJQqTaGIsNdLtQKltzxg4vIIPJhMJuBKqWMwaArjYIbLSWFCa0sw7xwDwQTxZeHwNrt2hj@YGtaIVN8cGmVobQa@/TA1TI8hJSh4I47y4R0aHwyGCfeB95UxcHJiX9kVvzCKIYEznrBDBYGLSoHyNN1SIASc2/gFlrN7ELnvGjh7mnFwU6BFxf7UJ11oVslzEPg1cvhJa/GsLTqd1T3XRvLnA49j3tJ2jLPuR8P6AwKLoz1N0IpNK@01SCtC0ae32TkfaZxzXNyIPonTrQ@C6EC5jGsZpSSu1vqXfCd1HDT43At2BzNCsFtdQuQbp0GrfBogjC5EDj16NVcmM7qikZV0unxSjqUwjpURP4hunfMzVmL/jrT/vos1B0uP3K7DgUp3MZ9G9PeHNpvGl97nIP/rrcXvv9Qer2wHT0bgXZrNFthkcQBDrrQ3V9tPkiLUb8w1cr0OOiR0HstlpCTwEY0flLA7z@Am9UzpfQVfVIOV2iqEwEzb/OLQjsyHcF5S/oChZCpWufGd3g9HMHwvf@6Gb6IqAn7iPMmghoG/u8jOvMUnkO0Vb/S6K74N4c5fLfLpKbr0hVl00qfhGXUR5LFaP5gHdJRKGlsBZFxUh2a@LjbPQE &quot;Java (JDK) – Try It Online&quot;\r\n  [2]: https://stackoverflow.com/a/67165269/15675591\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>You can get the <em>Cartesian product</em> of an arbitrary number of sets of <em>different types</em> and store it into a <em>set of sets</em> of objects <code>Set&lt;Set&lt;Object&gt;&gt;</code> using <em>Java 9 Streams</em> as follows:</p>\n<p><a href=\"https://tio.run/##nVVRb9owEH7nV9x4qJIJ3ELf2pKpqyZt0qpNYm/THky4gKljZ7ZT1E397fTsBJI26dgWCUgud/fdd3f@2PB7Pt4s73Y7kRfaONiQgdmfkn0TOV4O2tbSCcne9tisM8hz/2pQlAspUkgltxZuuVDwewB01XbruKOfObor//my2GDqkgRSbhxawdVXo5dl6iL/9l3CGAOLzsZ1Fn@dnoJQqTaGIsNdLtQKltzxg4vIIPJhMJuBKqWMwaArjYIbLSWFCa0sw7xwDwQTxZeHwNrt2hj@YGtaIVN8cGmVobQa@/TA1TI8hJSh4I47y4R0aHwyGCfeB95UxcHJiX9kVvzCKIYEznrBDBYGLSoHyNN1SIASc2/gFlrN7ELnvGjh7mnFwU6BFxf7UJ11oVslzEPg1cvhJa/GsLTqd1T3XRvLnA49j3tJ2jLPuR8P6AwKLoz1N0IpNK@01SCtC0ae32TkfaZxzXNyIPonTrQ@C6EC5jGsZpSSu1vqXfCd1HDT43At2BzNCsFtdQuQbp0GrfBogjC5EDj16NVcmM7qikZV0unxSjqUwjpURP4hunfMzVmL/jrT/vos1B0uP3K7DgUp3MZ9G9PeHNpvGl97nIP/rrcXvv9Qer2wHT0bgXZrNFthkcQBDrrQ3V9tPkiLUb8w1cr0OOiR0HstlpCTwEY0flLA7z@Am9UzpfQVfVIOV2iqEwEzb/OLQjsyHcF5S/oChZCpWufGd3g9HMHwvf@6Gb6IqAn7iPMmghoG/u8jOvMUnkO0Vb/S6K74N4c5fLfLpKbr0hVl00qfhGXUR5LFaP5gHdJRKGlsBZFxUh2a@LjbPQE\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\n    // incorrect incoming data\n    if (sets == null) return Collections.emptySet();\n    return Arrays.stream(sets)\n            // non-null and non-empty sets\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\n            // represent each set element as Set&lt;Object&gt;\n            .map(set -&gt; set.stream().map(Set::&lt;Object&gt;of)\n                    // Stream&lt;Set&lt;Set&lt;Object&gt;&gt;&gt;\n                    .collect(Collectors.toSet()))\n            // summation of pairs of inner sets\n            .reduce((set1, set2) -&gt; set1.stream()\n                    // combinations of inner sets\n                    .flatMap(inner1 -&gt; set2.stream()\n                            // merge two inner sets into one\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\n                                    .flatMap(Set::stream)\n                                    .collect(Collectors.toCollection(\n                                            LinkedHashSet::new))))\n                    // set of combinations\n                    .collect(Collectors.toCollection(LinkedHashSet::new)))\n            // returns Set&lt;Set&lt;Object&gt;&gt;, otherwise an empty set\n            .orElse(Collections.emptySet());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Set&lt;Integer&gt; set1 = Set.of(1, 2, 3);\n    Set&lt;String&gt; set2 = Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n    Set&lt;Object&gt; set3 = Set.of(new Time(0));\n\n    Set&lt;Set&lt;Object&gt;&gt; sets = cartesianProduct(set1, set2, set3);\n    // output\n    sets.forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, A, 03:00:00]\n[1, B, 03:00:00]\n[1, C, 03:00:00]\n[2, A, 03:00:00]\n[2, B, 03:00:00]\n[2, C, 03:00:00]\n[3, A, 03:00:00]\n[3, B, 03:00:00]\n[3, C, 03:00:00]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67165269/15675591\">How to create a data structure similar to the cartesian product of three lists of different types?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":12688984,"reputation":13,"user_id":9219804,"display_name":"Anh Pham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627553758,"creation_date":1627553758,"answer_id":68574121,"question_id":714108,"body_markdown":"a simple solution, for example, for Integer set should be as follows: \r\n\r\n\tvoid printCombination(List&lt;Set&lt;Integer&gt;&gt; listSet, Set&lt;Integer&gt; combination) {\r\n\t\tif (listSet.isEmpty()) {\r\n\t\t\tSystem.out.println(&quot;a combination :&quot; + combination);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tSet&lt;Integer&gt; intSet = listSet.get(0);\r\n\t\tfor (Integer it : intSet) {\r\n\t\t\tSet&lt;Integer&gt; combination1 = new HashSet&lt;Integer&gt;();\r\n\t\t\tcombination1.addAll(combination);\r\n\t\t\tcombination1.add(it);\r\n\r\n\t\t\tList&lt;Set&lt;Integer&gt;&gt; listSet1 = new ArrayList&lt;Set&lt;Integer&gt;&gt;();\r\n\t\t\tlistSet1.addAll(listSet);\r\n\t\t\tlistSet1.remove(0);\r\n\t\t\tthis.printCombination(listSet1, combination1);\r\n\t\t}\r\n\r\n\t} ","title":"Cartesian product of an arbitrary number of sets","body":"<p>a simple solution, for example, for Integer set should be as follows:</p>\n<pre><code>void printCombination(List&lt;Set&lt;Integer&gt;&gt; listSet, Set&lt;Integer&gt; combination) {\n    if (listSet.isEmpty()) {\n        System.out.println(&quot;a combination :&quot; + combination);\n\n        return;\n    }\n\n    Set&lt;Integer&gt; intSet = listSet.get(0);\n    for (Integer it : intSet) {\n        Set&lt;Integer&gt; combination1 = new HashSet&lt;Integer&gt;();\n        combination1.addAll(combination);\n        combination1.add(it);\n\n        List&lt;Set&lt;Integer&gt;&gt; listSet1 = new ArrayList&lt;Set&lt;Integer&gt;&gt;();\n        listSet1.addAll(listSet);\n        listSet1.remove(0);\n        this.printCombination(listSet1, combination1);\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6788741,"reputation":24,"user_id":5226546,"display_name":"wolray"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671005019,"creation_date":1671005019,"answer_id":74795164,"question_id":714108,"body_markdown":"You can apply a simple generator interferace named `Seq` via this [library](https://github.com/wolray/seq-java). Unlike [Guava&#39;s cartesianProduct](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-), the sets/lists/iterables do not need to be within the same generic type bound `B`, all types are welcome. And all you need to do is writing the product as normal nested for-loops.\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    List&lt;String&gt; ls1 = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n    List&lt;Integer&gt; ls2 = Arrays.asList(1, 2);\r\n    List&lt;Character&gt; ls3 = Arrays.asList(&#39;x&#39;, &#39;y&#39;);\r\n\r\n    Seq&lt;String&gt; seq = c -&gt; {\r\n        for (String s : ls1) {\r\n            for (Integer i : ls2) {\r\n                for (Character d : ls3) {\r\n                    c.accept(s + i + d);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    System.out.println(seq.toSet());\r\n}\r\n```\r\nThe result would be\r\n```\r\n[a2x, a1y, b1x, b2y, a1x, a2y, b2x, b1y]\r\n```","title":"Cartesian product of an arbitrary number of sets","body":"<p>You can apply a simple generator interferace named <code>Seq</code> via this <a href=\"https://github.com/wolray/seq-java\" rel=\"nofollow noreferrer\">library</a>. Unlike <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-\" rel=\"nofollow noreferrer\">Guava's cartesianProduct</a>, the sets/lists/iterables do not need to be within the same generic type bound <code>B</code>, all types are welcome. And all you need to do is writing the product as normal nested for-loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;String&gt; ls1 = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\n    List&lt;Integer&gt; ls2 = Arrays.asList(1, 2);\n    List&lt;Character&gt; ls3 = Arrays.asList('x', 'y');\n\n    Seq&lt;String&gt; seq = c -&gt; {\n        for (String s : ls1) {\n            for (Integer i : ls2) {\n                for (Character d : ls3) {\n                    c.accept(s + i + d);\n                }\n            }\n        }\n    };\n\n    System.out.println(seq.toSet());\n}\n</code></pre>\n<p>The result would be</p>\n<pre><code>[a2x, a1y, b1x, b2y, a1x, a2y, b2x, b1y]\n</code></pre>\n"}],"owner":{"account_id":23724,"reputation":13660,"user_id":59666,"accept_rate":76,"display_name":"mgamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61994,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":714256,"answer_count":11,"score":62,"last_activity_date":1671005019,"creation_date":1238768260,"question_id":714108,"body_markdown":"Do you know some neat Java libaries that allow you to make cartesian product of two (or more) sets? \r\n\r\nFor example: I have three sets. One with objects of class Person, second with objects of class Gift and third with objects of class GiftExtension.\r\n\r\nI want to generate one set containing all possible triples Person-Gift-GiftExtension.\r\n\r\nThe number of sets might vary so I cannot do this in nested foreach loop. \r\nUnder some conditions my application needs to make a product of Person-Gift pair, sometimes it is triple Person-Gift-GiftExtension, sometimes there might even be sets Person-Gift-GiftExtension-GiftSecondExtension-GiftThirdExtension, etc. ","title":"Cartesian product of an arbitrary number of sets","body":"<p>Do you know some neat Java libaries that allow you to make cartesian product of two (or more) sets? </p>\n\n<p>For example: I have three sets. One with objects of class Person, second with objects of class Gift and third with objects of class GiftExtension.</p>\n\n<p>I want to generate one set containing all possible triples Person-Gift-GiftExtension.</p>\n\n<p>The number of sets might vary so I cannot do this in nested foreach loop. \nUnder some conditions my application needs to make a product of Person-Gift pair, sometimes it is triple Person-Gift-GiftExtension, sometimes there might even be sets Person-Gift-GiftExtension-GiftSecondExtension-GiftThirdExtension, etc. </p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004829,"creation_date":1671004829,"answer_id":74795137,"question_id":74791432,"body_markdown":"You have a weird and inconsistent mix of dependencies here\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen you use Spring Data JPA version 3.0.0 you should use Hibernate 6+. To get started you shouldn&#39;t specify the versions for Hibernate since those are specified in the Spring Data JPA `pom.xml`.\r\n\r\nAnd you shouldn&#39;t need `hibernate-jpa-2.0-api` at all.\r\n","title":"Type jakarta.persistence.EntityManagerFactory not present","body":"<p>You have a weird and inconsistent mix of dependencies here</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When you use Spring Data JPA version 3.0.0 you should use Hibernate 6+. To get started you shouldn't specify the versions for Hibernate since those are specified in the Spring Data JPA <code>pom.xml</code>.</p>\n<p>And you shouldn't need <code>hibernate-jpa-2.0-api</code> at all.</p>\n"}],"owner":{"account_id":26546124,"reputation":11,"user_id":20770273,"display_name":"Dmytro Sydoruk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671004829,"creation_date":1670969527,"question_id":74791432,"body_markdown":"I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don&#39;t know what\r\n\r\n**My controller:**\r\n\r\n```\r\n@Controller\r\npublic class UserController {\r\n    private final IUserService userService;\r\n\r\n    @Autowired\r\n    public UserController(IUserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/user/create&quot;)\r\n    public ResponseEntity&lt;UserPojo&gt; createUser(@RequestBody User user) {\r\n        UserPojo result = userService.createUser(user);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/user/{id}&quot;)\r\n    public ResponseEntity&lt;UserPojo&gt; getUser(@PathVariable Long id) {\r\n        UserPojo result = userService.getUser(id);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n**Service:**\r\n```\r\n@Service\r\npublic class UserService implements IUserService {\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n    private final Converter converter;\r\n\r\n    @Autowired\r\n    public UserService(Converter converter) {\r\n        this.converter = converter;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserPojo createUser(User user) {\r\n\r\n        entityManager.persist(user);\r\n\r\n        return converter.userToPojo(user);\r\n    }\r\n```\r\nBut when i ran it in Postman, i got this - I don&#39;t know why it appears:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**More info:**\r\n\r\n```\r\njava.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\r\n\tjava.base/java.lang.Class.forName0(Native Method)\r\n\tjava.base/java.lang.Class.forName(Class.java:488)\r\n\tjava.base/java.lang.Class.forName(Class.java:467)\r\n\tjava.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\r\n```\r\nMy POM and more code is here:  \r\n[GitHub](https://github.com/HosakooD/ToDo)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OAn52.png","title":"Type jakarta.persistence.EntityManagerFactory not present","body":"<p>I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don't know what</p>\n<p><strong>My controller:</strong></p>\n<pre><code>@Controller\npublic class UserController {\n    private final IUserService userService;\n\n    @Autowired\n    public UserController(IUserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(path = &quot;/user/create&quot;)\n    public ResponseEntity&lt;UserPojo&gt; createUser(@RequestBody User user) {\n        UserPojo result = userService.createUser(user);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n\n    @GetMapping(path = &quot;/user/{id}&quot;)\n    public ResponseEntity&lt;UserPojo&gt; getUser(@PathVariable Long id) {\n        UserPojo result = userService.getUser(id);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>@Service\npublic class UserService implements IUserService {\n    @PersistenceContext\n    EntityManager entityManager;\n\n    private final Converter converter;\n\n    @Autowired\n    public UserService(Converter converter) {\n        this.converter = converter;\n    }\n\n    @Override\n    @Transactional\n    public UserPojo createUser(User user) {\n\n        entityManager.persist(user);\n\n        return converter.userToPojo(user);\n    }\n</code></pre>\n<p>But when i ran it in Postman, i got this - I don't know why it appears:</p>\n<p><a href=\"https://i.stack.imgur.com/OAn52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAn52.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>More info:</strong></p>\n<pre><code>java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\n    java.base/java.lang.Class.forName0(Native Method)\n    java.base/java.lang.Class.forName(Class.java:488)\n    java.base/java.lang.Class.forName(Class.java:467)\n    java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\n</code></pre>\n<p>My POM and more code is here:<br />\n<a href=\"https://github.com/HosakooD/ToDo\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1447721146,"post_id":33747250,"comment_id":55262835,"body_markdown":"have you tried cleaning? restarting android studio? rebuilding? **tell us what you have done so far to try to solve this**","body":"have you tried cleaning? restarting android studio? rebuilding? <b>tell us what you have done so far to try to solve this</b>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1447721304,"post_id":33747250,"comment_id":55262880,"body_markdown":"Also what error messsage is there? Maybe it&#39;s just some lint warning","body":"Also what error messsage is there? Maybe it&#39;s just some lint warning"},{"owner":{"account_id":6950319,"reputation":6231,"user_id":5333147,"accept_rate":32,"display_name":"tiny sunlight"},"score":0,"creation_date":1447749063,"post_id":33747250,"comment_id":55272086,"body_markdown":"plz alt+ enter on the red line.","body":"plz alt+ enter on the red line."},{"owner":{"account_id":3793752,"reputation":491,"user_id":3149553,"display_name":"guillaume_fr"},"score":0,"creation_date":1447757947,"post_id":33747250,"comment_id":55277895,"body_markdown":"what if you write compileSdkVersion = 23","body":"what if you write compileSdkVersion = 23"},{"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"score":0,"creation_date":1447770818,"post_id":33747250,"comment_id":55286531,"body_markdown":"it&#39;s still not work @guillaume_fr","body":"it&#39;s still not work @guillaume_fr"},{"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"score":0,"creation_date":1455364444,"post_id":33747250,"comment_id":58463901,"body_markdown":"Also this solutions worked for me https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly","body":"Also this solutions worked for me <a href=\"https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly\" title=\"android studio cannot resolve symbol but code executes correctly\">stackoverflow.com/questions/18991161/&hellip;</a>"},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1455554861,"post_id":33747250,"comment_id":58530286,"body_markdown":"If my answer helped, please accept it by pressing the checkmark :)","body":"If my answer helped, please accept it by pressing the checkmark :)"},{"owner":{"account_id":9516877,"reputation":796,"user_id":7077178,"display_name":"Tricky Bay"},"score":0,"creation_date":1534710388,"post_id":33747250,"comment_id":90792787,"body_markdown":"See this: https://stackoverflow.com/a/51921539/7077178","body":"See this: <a href=\"https://stackoverflow.com/a/51921539/7077178\">stackoverflow.com/a/51921539/7077178</a>"}],"answers":[{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1450101357,"creation_date":1447721700,"answer_id":33747381,"question_id":33747250,"body_markdown":"This is extremely common, and happens to me whenever I start my Android Studio up. Follow these steps **after you have made sure that you have imported everything your code needs to import.** If you are not sure how to do that, look at the very bottom of my answer, where it says **More Issues that could be happening**.\r\n\r\n**Here are some things that you can easily do to fix it:**\r\n\r\n - Clean project\r\n\r\n - Rebuild Project\r\n\r\n - Restart IDE\r\n\r\n - Update SDK tools\r\n\r\nThis is probably not an issue with your code, so you don&#39;t have to worry about it much. If cleaning and rebuilding doesn&#39;t work, just wait for some time. \r\n\r\nGive android studio a **while** to set up, **and this could take a few minutes**. Often times, it fixes itself without even having to do **any of the steps I listed above**. Make sure you do this before trying to update your SDK or messing with any files. If you do that, I suggest you take a backup first.\r\n\r\nI suggest you take a look at this question:\r\n\r\nhttps://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio\r\n\r\n----------\r\n\r\n\r\n**MORE ISSUES THAT COULD BE HAPPENING**\r\n\r\nAlso, according to your screenshot, I saw a lot of errors in some of the same places. **This could be  because you are not importing the correct things!** Click on one of the pieces of code that has a red squiggly line on it, and wait for a message. It should say something about imports. Then press **ALT-&gt;ENTER**. This should import what you need for that line of code to work. \r\n","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>This is extremely common, and happens to me whenever I start my Android Studio up. Follow these steps <strong>after you have made sure that you have imported everything your code needs to import.</strong> If you are not sure how to do that, look at the very bottom of my answer, where it says <strong>More Issues that could be happening</strong>.</p>\n\n<p><strong>Here are some things that you can easily do to fix it:</strong></p>\n\n<ul>\n<li><p>Clean project</p></li>\n<li><p>Rebuild Project</p></li>\n<li><p>Restart IDE</p></li>\n<li><p>Update SDK tools</p></li>\n</ul>\n\n<p>This is probably not an issue with your code, so you don't have to worry about it much. If cleaning and rebuilding doesn't work, just wait for some time. </p>\n\n<p>Give android studio a <strong>while</strong> to set up, <strong>and this could take a few minutes</strong>. Often times, it fixes itself without even having to do <strong>any of the steps I listed above</strong>. Make sure you do this before trying to update your SDK or messing with any files. If you do that, I suggest you take a backup first.</p>\n\n<p>I suggest you take a look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio\">&quot;cannot resolve symbol R&quot; in Android Studio</a></p>\n\n<hr>\n\n<p><strong>MORE ISSUES THAT COULD BE HAPPENING</strong></p>\n\n<p>Also, according to your screenshot, I saw a lot of errors in some of the same places. <strong>This could be  because you are not importing the correct things!</strong> Click on one of the pieces of code that has a red squiggly line on it, and wait for a message. It should say something about imports. Then press <strong>ALT->ENTER</strong>. This should import what you need for that line of code to work. </p>\n"},{"tags":[],"owner":{"account_id":5131447,"reputation":91,"user_id":4111504,"display_name":"Mike Wallstedt"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1447748370,"creation_date":1447748370,"answer_id":33752091,"question_id":33747250,"body_markdown":"If your project builds in gradle, but Android Studio displays errors, chances are that the Intellij caches are corrupt. In some cases, the menu option you already mentioned &quot;invalidate caches / restart&quot; is not enough. You can try the following:\r\n\r\n1. Shutdown AS\r\n2. Manually delete the cache dir. On Windows, this is likely to be in a path like C:\\Users\\YOURNAME\\.AndroidStudio1.4\\system\\caches. \r\n3. Restart AS","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>If your project builds in gradle, but Android Studio displays errors, chances are that the Intellij caches are corrupt. In some cases, the menu option you already mentioned \"invalidate caches / restart\" is not enough. You can try the following:</p>\n\n<ol>\n<li>Shutdown AS</li>\n<li>Manually delete the cache dir. On Windows, this is likely to be in a path like C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches. </li>\n<li>Restart AS</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2898460,"reputation":166,"user_id":2485734,"accept_rate":83,"display_name":"agungandika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447810474,"creation_date":1447810474,"answer_id":33770309,"question_id":33747250,"body_markdown":"Adding answer from Ruchir, all the new things is good but not really good for some.\r\n\r\nI tried to re-create my environtment and found that newest AS have problem with newest SDK. So All I did was:\r\n\r\n - use AS 1.4.1 (stable)\r\n - downgrade SDK to use v23.0.1.\r\n\r\n\r\ngradle.build changes as follows:\r\n \r\n    compile &#39;com.android.support:appcompat-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:cardview-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:design:23.0.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:support-v4:23.0.1&#39;\r\n \r\nThen do the basics &quot;clean up&quot;:\r\n\r\n - Clean project\r\n - Rebuild Project\r\n\r\nDone. It&#39;s not your code, it&#39;s IDE. Consider submit error report to Google about this error.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Adding answer from Ruchir, all the new things is good but not really good for some.</p>\n\n<p>I tried to re-create my environtment and found that newest AS have problem with newest SDK. So All I did was:</p>\n\n<ul>\n<li>use AS 1.4.1 (stable)</li>\n<li>downgrade SDK to use v23.0.1.</li>\n</ul>\n\n<p>gradle.build changes as follows:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:23.0.1'\ncompile 'com.android.support:cardview-v7:23.0.1'\ncompile 'com.android.support:design:23.0.1'\ncompile 'com.android.support:recyclerview-v7:23.0.1'\ncompile 'com.android.support:support-v4:23.0.1'\n</code></pre>\n\n<p>Then do the basics \"clean up\":</p>\n\n<ul>\n<li>Clean project</li>\n<li>Rebuild Project</li>\n</ul>\n\n<p>Done. It's not your code, it's IDE. Consider submit error report to Google about this error.</p>\n"},{"tags":[],"owner":{"account_id":5128664,"reputation":3898,"user_id":4109713,"display_name":"Andre Classen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596190129,"creation_date":1448119514,"answer_id":33845088,"question_id":33747250,"body_markdown":"I got a similar problem after upgrading my PC and reinstalling Windows.\r\n\r\nThe only solution that worked for me was using `jdk 7` instead of `jdk 8`.\r\nI never run into this problem with my old machine and `jdk 8`. ","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I got a similar problem after upgrading my PC and reinstalling Windows.</p>\n<p>The only solution that worked for me was using <code>jdk 7</code> instead of <code>jdk 8</code>.\nI never run into this problem with my old machine and <code>jdk 8</code>.</p>\n"},{"tags":[],"owner":{"account_id":2392102,"reputation":118,"user_id":2091764,"display_name":"Sangharatna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596189639,"creation_date":1509822859,"answer_id":47114577,"question_id":33747250,"body_markdown":"Finally I resolved that issue just by changing JDK:\r\n\r\n1. Firstly right click on &quot;Android Project&quot;, then go to &quot;Module settings&quot;\r\n1. Select &quot;SDK Location&quot;\r\n1. Uncheck &quot;Use Embedded JDK&quot; and browse to install &quot;JDK&quot; folder.\r\n1. Rebuild your project and all your java errors related will gone.\r\n\r\nThe cause was just the embedded JDK.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Finally I resolved that issue just by changing JDK:</p>\n<ol>\n<li>Firstly right click on &quot;Android Project&quot;, then go to &quot;Module settings&quot;</li>\n<li>Select &quot;SDK Location&quot;</li>\n<li>Uncheck &quot;Use Embedded JDK&quot; and browse to install &quot;JDK&quot; folder.</li>\n<li>Rebuild your project and all your java errors related will gone.</li>\n</ol>\n<p>The cause was just the embedded JDK.</p>\n"},{"tags":[],"owner":{"account_id":12109572,"reputation":87,"user_id":8847003,"display_name":"Saurabh Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596194230,"creation_date":1525285044,"answer_id":50141098,"question_id":33747250,"body_markdown":"I ran into the same problem many times, I tried many suggested things in StackOverflow, but I would like to share the following procedure:\r\n\r\n**1)** Go to `File --&gt; Invalidate cache and restart` (this worked for me most of the times)&lt;br&gt;\r\n**2)** Then go to `Project --&gt; App --&gt; Right Click --&gt; Open module settings` and navigate in `SDK Location`, locate the java, save the settings and restart the Studio. \r\n\r\nHope this helped!","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I ran into the same problem many times, I tried many suggested things in StackOverflow, but I would like to share the following procedure:</p>\n<p><strong>1)</strong> Go to <code>File --&gt; Invalidate cache and restart</code> (this worked for me most of the times)<br>\n<strong>2)</strong> Then go to <code>Project --&gt; App --&gt; Right Click --&gt; Open module settings</code> and navigate in <code>SDK Location</code>, locate the java, save the settings and restart the Studio.</p>\n<p>Hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":12424951,"reputation":544,"user_id":9050003,"display_name":"mahmoud zaher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532939535,"creation_date":1532939535,"answer_id":51589907,"question_id":33747250,"body_markdown":"None of the things mentioned earlier here did actually work for me But then I found this menu entry in the file menu **Invalidate Caches/Restart** which appears to have fixed the problem.\r\n\r\nI don&#39;t really know what happened in the background but when Android Studio started up again the status bar said Indexing... for a minute or so which apparently did wonders.\r\n\r\nif it still not working  **solution is very simple i have tried also** \r\n\r\nit was  just go to **help** menu and **check for update** then **restart** android studio \r\n\r\nas attached photo \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ylMtp.png","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>None of the things mentioned earlier here did actually work for me But then I found this menu entry in the file menu <strong>Invalidate Caches/Restart</strong> which appears to have fixed the problem.</p>\n\n<p>I don't really know what happened in the background but when Android Studio started up again the status bar said Indexing... for a minute or so which apparently did wonders.</p>\n\n<p>if it still not working  <strong>solution is very simple i have tried also</strong> </p>\n\n<p>it was  just go to <strong>help</strong> menu and <strong>check for update</strong> then <strong>restart</strong> android studio </p>\n\n<p>as attached photo </p>\n\n<p><a href=\"https://i.stack.imgur.com/ylMtp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylMtp.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13884600,"reputation":1,"user_id":10024052,"display_name":"Abhilasha Kudesia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596179432,"creation_date":1533024003,"answer_id":51608296,"question_id":33747250,"body_markdown":"I faced the same problem and I just followed the following procedure to fix:\r\n\r\n**1)** Take the backup of your android project&lt;br&gt;\r\n**2)** Delete it from your android studio&lt;br&gt;\r\n**3)** Import it again ","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I faced the same problem and I just followed the following procedure to fix:</p>\n<p><strong>1)</strong> Take the backup of your android project<br>\n<strong>2)</strong> Delete it from your android studio<br>\n<strong>3)</strong> Import it again</p>\n"},{"tags":[],"owner":{"account_id":5879127,"reputation":4305,"user_id":4629101,"accept_rate":83,"display_name":"Pankaj Lilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533816306,"creation_date":1533816306,"answer_id":51766563,"question_id":33747250,"body_markdown":"Faced the same issue and struggled half day to resolve it.\r\n\r\n**Finally found the solution**. If you&#39;re facing the situation where the project is building successfully, but `Cannot resolve ThirdParty.class` error is coming. Than do following steps:\r\n\r\n 1. Delete **.idea** folder from your project.\r\n 2. Close Android Studio\r\n 3. Restart Android Studio and **Import**  your project.\r\n\r\nAnd you&#39;re good to go.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Faced the same issue and struggled half day to resolve it.</p>\n\n<p><strong>Finally found the solution</strong>. If you're facing the situation where the project is building successfully, but <code>Cannot resolve ThirdParty.class</code> error is coming. Than do following steps:</p>\n\n<ol>\n<li>Delete <strong>.idea</strong> folder from your project.</li>\n<li>Close Android Studio</li>\n<li>Restart Android Studio and <strong>Import</strong>  your project.</li>\n</ol>\n\n<p>And you're good to go.</p>\n"},{"tags":[],"owner":{"account_id":125332,"reputation":826,"user_id":321049,"accept_rate":9,"display_name":"tliebeck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596189839,"creation_date":1538191885,"answer_id":52564862,"question_id":33747250,"body_markdown":"I&#39;m running into this quite a bit while in the process of moving code (and libraries) from one module of a project to another.&lt;br&gt;Project compiles/runs, signed APK builds, but `Android Studio` editor insists it can&#39;t find classes.\r\n\r\nIn my particular scenario, the most effective solution I&#39;ve found is to modify `build.gradle` within `Android Studio` such that the editor indicates:\r\n\r\n&gt; Gradle files have changed, a Project Sync may be necessary.\r\n\r\nThen clicking the **Sync Now** button.  In my case, I&#39;ve not actually had any reason to change the `build.gradle` file, so I tend to just make an arbitrary change to the file and then reverse it.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I'm running into this quite a bit while in the process of moving code (and libraries) from one module of a project to another.<br>Project compiles/runs, signed APK builds, but <code>Android Studio</code> editor insists it can't find classes.</p>\n<p>In my particular scenario, the most effective solution I've found is to modify <code>build.gradle</code> within <code>Android Studio</code> such that the editor indicates:</p>\n<blockquote>\n<p>Gradle files have changed, a Project Sync may be necessary.</p>\n</blockquote>\n<p>Then clicking the <strong>Sync Now</strong> button.  In my case, I've not actually had any reason to change the <code>build.gradle</code> file, so I tend to just make an arbitrary change to the file and then reverse it.</p>\n"},{"tags":[],"owner":{"account_id":17207307,"reputation":11,"user_id":12457574,"display_name":"Vaibhav Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596159608,"creation_date":1596159608,"answer_id":63184600,"question_id":33747250,"body_markdown":"Tried Almost everything like invalidate catche and restart,rebuild,update sdk tools,delete .idea folder etc. but you need to delete catches manually from C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches.It should work.\r\n","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Tried Almost everything like invalidate catche and restart,rebuild,update sdk tools,delete .idea folder etc. but you need to delete catches manually from C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches.It should work.</p>\n"},{"tags":[],"owner":{"account_id":14375399,"reputation":145,"user_id":10383958,"display_name":"Awais Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004472,"creation_date":1671004472,"answer_id":74795066,"question_id":33747250,"body_markdown":"I tried most of these answers but it did not work for me, but following these steps did the magic:\r\n\r\n 1. Click on &quot;File&quot; at the top left corner\r\n 2. Click on &quot;Repair IDE&quot;\r\n 3. A popup will appear at the bottom right corner with 2 options   [1]: https://i.stack.imgur.com/FtXuY.png\r\n 4. Click on &quot;Rescan Project Indexes&quot;\r\n 5. If it works then its good if not than continue onto the next step\r\n\r\nHopefully it will help","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I tried most of these answers but it did not work for me, but following these steps did the magic:</p>\n<ol>\n<li>Click on &quot;File&quot; at the top left corner</li>\n<li>Click on &quot;Repair IDE&quot;</li>\n<li>A popup will appear at the bottom right corner with 2 options   [1]: <a href=\"https://i.stack.imgur.com/FtXuY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FtXuY.png</a></li>\n<li>Click on &quot;Rescan Project Indexes&quot;</li>\n<li>If it works then its good if not than continue onto the next step</li>\n</ol>\n<p>Hopefully it will help</p>\n"}],"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14023,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":33747381,"answer_count":12,"score":14,"last_activity_date":1671004472,"creation_date":1447720864,"question_id":33747250,"body_markdown":"i have problem with my code. My Code marked as an error code in Android Studio, but successfully build gradle and run on the device, like this : \r\n[![enter image description here][1]][1]\r\n\r\ncurrent configure:\r\n\r\n 1. My current project uses a lot of libraries in dependencies. But if\r\n        the project with little library will not be marked errors like this. \r\n 2. Android Studio 1.5 RC1 \r\n 3. compileSdkVersion &#39;Google Inc.:Google\r\n        APIs:23\r\n 4. buildToolsVersion &#39;23.0.2&#39; \r\n 5. classpath\r\n            &#39;com.android.tools.build:gradle:1.3.1&#39;\r\n\r\nactivity I have done but have not solved the problem:\r\n\r\n 1. always clean &gt; re-build project\r\n 2. invalidate caches / restart &gt; open Android studio &gt; open this project \r\n 3. Close android studio &gt; restart computer &gt; open again android studio &gt; open this project\r\n 4. Update Android version and SDK version\r\n5.Uninstall Android Studio &gt; Re-Install Android Studio &gt; Open Project \r\n\r\n**edited:** it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact\r\n\r\nthis my depedencies \r\n\r\n    dependencies {\r\n        compile project(&#39;:android-crop&#39;)\r\n        compile project(&#39;:RTEditor-Toolbar&#39;)\r\n        compile files(&#39;libs/apache-mime4j-0.6.jar&#39;)\r\n        compile files(&#39;libs/httpmime-4.1.3.jar&#39;)\r\n        compile files(&#39;libs/jetbrains-annotations.jar&#39;)\r\n        compile files(&#39;libs/gcm.jar&#39;)\r\n        //three party library\r\n        compile(&#39;com.crashlytics.sdk.android:crashlytics:2.5.1@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        compile(&#39;cn.trinea.android.view.autoscrollviewpager:android-auto-scroll-view-pager:1.1.2&#39;) {\r\n            exclude module: &#39;support-v4&#39;\r\n        }\r\n        compile &#39;com.google.android.gms:play-services:8.3.0&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n        compile &#39;com.vinaysshenoy:mugen:1.0.1&#39;\r\n        compile &#39;com.github.clans:fab:1.5.5&#39;\r\n        compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        compile &#39;com.github.curioustechizen.android-ago:library:1.3.0&#39;\r\n        compile &#39;com.jakewharton:butterknife:7.0.1&#39;\r\n        compile &#39;com.github.chrisbanes.photoview:library:+&#39;\r\n        compile &#39;com.subinkrishna:circularimageview:1.0.2&#39;\r\n        compile &#39;me.leolin:ShortcutBadger:1.1.3@aar&#39;\r\n        compile &#39;com.google.android.gms:play-services-ads:8.3.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-identity:8.3.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-gcm:8.3.0&#39;\r\n        compile &#39;cn.trinea.android.common:trinea-android-common:4.2.15&#39;\r\n        compile &#39;com.sothree.slidinguppanel:library:3.1.1&#39;\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:design:23.1.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:support-v4:23.1.1&#39;\r\n    }\r\n\r\nso how fix ? thanks for advance\r\n\r\n  [1]: http://i.stack.imgur.com/jBAn5.png","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>i have problem with my code. My Code marked as an error code in Android Studio, but successfully build gradle and run on the device, like this : \n<a href=\"https://i.stack.imgur.com/jBAn5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jBAn5.png\" alt=\"enter image description here\"></a></p>\n\n<p>current configure:</p>\n\n<ol>\n<li>My current project uses a lot of libraries in dependencies. But if\n    the project with little library will not be marked errors like this. </li>\n<li>Android Studio 1.5 RC1 </li>\n<li>compileSdkVersion 'Google Inc.:Google\n    APIs:23</li>\n<li>buildToolsVersion '23.0.2' </li>\n<li>classpath\n        'com.android.tools.build:gradle:1.3.1'</li>\n</ol>\n\n<p>activity I have done but have not solved the problem:</p>\n\n<ol>\n<li>always clean > re-build project</li>\n<li>invalidate caches / restart > open Android studio > open this project </li>\n<li>Close android studio > restart computer > open again android studio > open this project</li>\n<li>Update Android version and SDK version\n5.Uninstall Android Studio > Re-Install Android Studio > Open Project </li>\n</ol>\n\n<p><strong>edited:</strong> it's seems error each code from android support like recyclerview, CardView, APpCompact</p>\n\n<p>this my depedencies </p>\n\n<pre><code>dependencies {\n    compile project(':android-crop')\n    compile project(':RTEditor-Toolbar')\n    compile files('libs/apache-mime4j-0.6.jar')\n    compile files('libs/httpmime-4.1.3.jar')\n    compile files('libs/jetbrains-annotations.jar')\n    compile files('libs/gcm.jar')\n    //three party library\n    compile('com.crashlytics.sdk.android:crashlytics:2.5.1@aar') {\n        transitive = true;\n    }\n    compile('cn.trinea.android.view.autoscrollviewpager:android-auto-scroll-view-pager:1.1.2') {\n        exclude module: 'support-v4'\n    }\n    compile 'com.google.android.gms:play-services:8.3.0'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n    compile 'com.vinaysshenoy:mugen:1.0.1'\n    compile 'com.github.clans:fab:1.5.5'\n    compile 'com.nineoldandroids:library:2.4.0'\n    compile 'com.github.curioustechizen.android-ago:library:1.3.0'\n    compile 'com.jakewharton:butterknife:7.0.1'\n    compile 'com.github.chrisbanes.photoview:library:+'\n    compile 'com.subinkrishna:circularimageview:1.0.2'\n    compile 'me.leolin:ShortcutBadger:1.1.3@aar'\n    compile 'com.google.android.gms:play-services-ads:8.3.0'\n    compile 'com.google.android.gms:play-services-identity:8.3.0'\n    compile 'com.google.android.gms:play-services-gcm:8.3.0'\n    compile 'cn.trinea.android.common:trinea-android-common:4.2.15'\n    compile 'com.sothree.slidinguppanel:library:3.1.1'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:cardview-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n    compile 'com.android.support:recyclerview-v7:23.1.1'\n    compile 'com.android.support:support-v4:23.1.1'\n}\n</code></pre>\n\n<p>so how fix ? thanks for advance</p>\n"},{"tags":["java","arrays","list","performance","arraylist"],"answers":[{"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671004148,"creation_date":1670938340,"answer_id":74785685,"question_id":74785116,"body_markdown":"Your program does not print the two largest numbers. It prints the two last numbers of the array. If you add a 200 in the mid of the array, it will still print 10 and 7.\r\n\r\nAlso, the `System.out.println()`-lines are outside any loop, so they will run only once.\r\n\r\nIf you want to get the higher number out of the first and second, the third and fourth, fifth and sixth element and so on (due to the expected output, I assume this is what you want to get), then the for-loop will fail like this. On each run of the loop, it will check if a &gt; b or b &gt; a. If that&#39;s the case, a gets the value of arr[i] and b the value of arr[j]. On the last run, i will be the second last value and j the last value of the array, so you will always get the last two elements. Unless you compare two times the same value in the array, then a and b will get the same value and nothing will change anymore from there.\r\n\r\nIf you want to compare the pairs like I described, then maybe you should instead try something like this:\r\n\r\n    for(int i = 0; i &lt; arr.length; i+=2)\r\n    {\r\n        if(!(i == arr.length-1)) // in case there is no i+1 index anymore\r\n        {\r\n            if(arr[i]&gt;arr[i+1])\r\n            {\r\n                System.out.println(arr[i]);\r\n            }\r\n            else if(arr[i+1]&gt;arr[i])\r\n            {\r\n                System.out.println(arr[i+1]);\r\n            }\r\n        }\r\n    }","title":"Maximum of each pair of index of the array","body":"<p>Your program does not print the two largest numbers. It prints the two last numbers of the array. If you add a 200 in the mid of the array, it will still print 10 and 7.</p>\n<p>Also, the <code>System.out.println()</code>-lines are outside any loop, so they will run only once.</p>\n<p>If you want to get the higher number out of the first and second, the third and fourth, fifth and sixth element and so on (due to the expected output, I assume this is what you want to get), then the for-loop will fail like this. On each run of the loop, it will check if a &gt; b or b &gt; a. If that's the case, a gets the value of arr[i] and b the value of arr[j]. On the last run, i will be the second last value and j the last value of the array, so you will always get the last two elements. Unless you compare two times the same value in the array, then a and b will get the same value and nothing will change anymore from there.</p>\n<p>If you want to compare the pairs like I described, then maybe you should instead try something like this:</p>\n<pre><code>for(int i = 0; i &lt; arr.length; i+=2)\n{\n    if(!(i == arr.length-1)) // in case there is no i+1 index anymore\n    {\n        if(arr[i]&gt;arr[i+1])\n        {\n            System.out.println(arr[i]);\n        }\n        else if(arr[i+1]&gt;arr[i])\n        {\n            System.out.println(arr[i+1]);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74785685,"answer_count":1,"score":0,"last_activity_date":1671004148,"creation_date":1670935694,"question_id":74785116,"body_markdown":"I need to create an array, compare each pair of this array, and then find and print the largest element of each pair. I have created an array like below, but it&#39;s printing me only the two largest of the whole array!\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            int[] arr = {1, -5, 2, 6, 10, 7};\r\n    \r\n            int a = arr[0];\r\n            int b = arr[1];\r\n    \r\n            for (int i = 0; i&lt;arr.length; i++) {\r\n                for (int j = i + 1; j &lt; arr.length; j++) {\r\n                    if (a &gt; b || b &gt; a) {\r\n                        a = arr[i];\r\n                        b = arr[j];\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(a);\r\n            System.out.println(b);\r\n        }\r\n    }\r\n\r\nIn the example below, I have 3 pairs (6 elements) and I want to get maximum of each pair as an example:\r\n\r\n - **Input:** {1, -5, 2, 6, 10, 7}\r\n\r\n - **Output:** 1, 6, 10\r\n\r\nI appreciate any help you can provide.\r\n\r\n\r\n","title":"Maximum of each pair of index of the array","body":"<p>I need to create an array, compare each pair of this array, and then find and print the largest element of each pair. I have created an array like below, but it's printing me only the two largest of the whole array!</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        int[] arr = {1, -5, 2, 6, 10, 7};\n\n        int a = arr[0];\n        int b = arr[1];\n\n        for (int i = 0; i&lt;arr.length; i++) {\n            for (int j = i + 1; j &lt; arr.length; j++) {\n                if (a &gt; b || b &gt; a) {\n                    a = arr[i];\n                    b = arr[j];\n                }\n            }\n        }\n        System.out.println(a);\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>In the example below, I have 3 pairs (6 elements) and I want to get maximum of each pair as an example:</p>\n<ul>\n<li><p><strong>Input:</strong> {1, -5, 2, 6, 10, 7}</p>\n</li>\n<li><p><strong>Output:</strong> 1, 6, 10</p>\n</li>\n</ul>\n<p>I appreciate any help you can provide.</p>\n"},{"tags":["java","web-scraping","htmlunit"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1530428929,"post_id":51121066,"comment_id":89227561,"body_markdown":"This looks like a dependency issue. May be the Class you are looking for is present in two different jars on your CP.","body":"This looks like a dependency issue. May be the Class you are looking for is present in two different jars on your CP."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1530444618,"post_id":51121066,"comment_id":89230837,"body_markdown":"How are you building your project? If you are using maven please include the output of mvn help:dependency-tree","body":"How are you building your project? If you are using maven please include the output of mvn help:dependency-tree"},{"owner":{"account_id":13491724,"reputation":11,"user_id":9733692,"display_name":"Toship Sonkusare"},"score":0,"creation_date":1530449420,"post_id":51121066,"comment_id":89231942,"body_markdown":"@tgdavies I&#39;m using gradle to add dependency.","body":"@tgdavies I&#39;m using gradle to add dependency."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1530482969,"post_id":51121066,"comment_id":89239659,"body_markdown":"Please add the output of `gradle dependencies` to your question,","body":"Please add the output of <code>gradle dependencies</code> to your question,"}],"answers":[{"tags":[],"owner":{"account_id":17066955,"reputation":1,"user_id":12348839,"display_name":"Ganesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004037,"creation_date":1670551164,"answer_id":74738198,"question_id":51121066,"body_markdown":"If anyone is facing this issue, keep only pom.xml file version under `&quot;.m2\\repository\\net\\sourceforge\\htmlunit\\&lt;all folders&gt;&quot;`. I removed other versions, and it&#39;s working now.","title":"HtmlUnit java.lang.NoSuchFieldError: INSTANCE","body":"<p>If anyone is facing this issue, keep only pom.xml file version under <code>&quot;.m2\\repository\\net\\sourceforge\\htmlunit\\&lt;all folders&gt;&quot;</code>. I removed other versions, and it's working now.</p>\n"}],"owner":{"account_id":13491724,"reputation":11,"user_id":9733692,"display_name":"Toship Sonkusare"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671004037,"creation_date":1530427997,"question_id":51121066,"body_markdown":"I&#39;m trying to scrap link using HtmlUnit but it&#39;s showing Error on (webClient.getPage(url);) line.\r\n      \r\n    import com.gargoylesoftware.htmlunit.BrowserVersion;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Start {\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n            WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            String url = &quot;http://htmlunit.sourceforge.net/dependency-info.html&quot;;\r\n            webClient.getPage(url);\r\n        }\r\n    \r\n    }\r\n\r\nThis code showing me this error log.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:146)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:625)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClient(HttpWebConnection.java:557)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:518)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:170)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1397)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1315)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:394)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:315)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:463)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:448)\r\n\tat example.com.scrapper.Start.main(Start.java:14)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n\r\nPlease Help!","title":"HtmlUnit java.lang.NoSuchFieldError: INSTANCE","body":"<p>I'm trying to scrap link using HtmlUnit but it's showing Error on (webClient.getPage(url);) line.</p>\n\n<pre><code>import com.gargoylesoftware.htmlunit.BrowserVersion;\nimport com.gargoylesoftware.htmlunit.WebClient;\n\nimport java.io.IOException;\n\npublic class Start {\n\n    public static void main(String args[]) throws IOException {\n        WebClient webClient = new WebClient(BrowserVersion.CHROME);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        String url = \"http://htmlunit.sourceforge.net/dependency-info.html\";\n        webClient.getPage(url);\n    }\n\n}\n</code></pre>\n\n<p>This code showing me this error log.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: INSTANCE\nat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:146)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:625)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClient(HttpWebConnection.java:557)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:518)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:170)\nat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1397)\nat com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1315)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:394)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:315)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:463)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:448)\nat example.com.scrapper.Start.main(Start.java:14)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n\n<p>Please Help!</p>\n"},{"tags":["java","selenium","selenium-chromedriver","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1670931797,"post_id":74782611,"comment_id":131982535,"body_markdown":"Look at chromedriver log","body":"Look at chromedriver log"}],"answers":[{"tags":[],"owner":{"account_id":9235492,"reputation":51,"user_id":6860273,"display_name":"Vo_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671003794,"creation_date":1671003794,"answer_id":74794968,"question_id":74782611,"body_markdown":"Following my old tradition, I solved it by myself soon after I posted here. And here is what happened:\r\n Selenium was looking for the file google-chrome which is basically a link to /opt/google/chrome/google-chrome, but it turned out that I only have google-chrome-stable, which selenium does not recognize. So using the following command inside the /usr/bin directory\r\n\r\n    sudo ln -s /opt/google/chrome/google-chrome google-chrome\r\n\r\nI created another shortcut to the same location, but this time with the name google-chrome. After that everything works as charm.\r\nI hope this will come in handy for someone else too. \r\nPeace!","title":"SessionNotCreatedException from chromedriver on java selenium project","body":"<p>Following my old tradition, I solved it by myself soon after I posted here. And here is what happened:\nSelenium was looking for the file google-chrome which is basically a link to /opt/google/chrome/google-chrome, but it turned out that I only have google-chrome-stable, which selenium does not recognize. So using the following command inside the /usr/bin directory</p>\n<pre><code>sudo ln -s /opt/google/chrome/google-chrome google-chrome\n</code></pre>\n<p>I created another shortcut to the same location, but this time with the name google-chrome. After that everything works as charm.\nI hope this will come in handy for someone else too.\nPeace!</p>\n"}],"owner":{"account_id":9235492,"reputation":51,"user_id":6860273,"display_name":"Vo_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671003794,"creation_date":1670923840,"question_id":74782611,"body_markdown":"I am getting SessionNotCreatedException from chromedriver on java selenium project. I am also using TestNG and all this running on Linux mint. \r\n\r\nHere are my chrome options: \r\n\r\n     static ChromeOptions getLocalChromeOptions() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\r\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n        options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n        options.addArguments(&quot;--start-maximized&quot;);\r\n        options.setExperimentalOption(&quot;prefs&quot;, getChromeExperimentalOptions(LOCAL_DOWNLOADS_FOLDER));\r\n\r\n        return options;\r\n    }\r\n\r\nand the exception itself\r\n\r\n        org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\n    Build info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\n    System info: host: &#39;username-pc&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.4.0-131-generic&#39;, java.version: &#39;11.0.15&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/usernam/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/username/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}}]\r\n    \r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80)\r\n    \tat com.company.platform.selenium.managers.ChromeDriverManager.createDriver(ChromeDriverManager.java:12)\r\n    \tat com.company.platform.tests.BaseTest.setUp(BaseTest.java:55)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nI moved the driver from the location &quot;/usr/bin/google-chrome&quot;, but even when it was there, I had this issue. The irony is that everything operates normally on a virtual machine on the same pc. \r\n","title":"SessionNotCreatedException from chromedriver on java selenium project","body":"<p>I am getting SessionNotCreatedException from chromedriver on java selenium project. I am also using TestNG and all this running on Linux mint.</p>\n<p>Here are my chrome options:</p>\n<pre><code> static ChromeOptions getLocalChromeOptions() {\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\n    options.addArguments(&quot;--ignore-certificate-errors&quot;);\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\n    options.addArguments(&quot;--start-maximized&quot;);\n    options.setExperimentalOption(&quot;prefs&quot;, getChromeExperimentalOptions(LOCAL_DOWNLOADS_FOLDER));\n\n    return options;\n}\n</code></pre>\n<p>and the exception itself</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'username-pc', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '5.4.0-131-generic', java.version: '11.0.15'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/usernam/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/username/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}}]\n\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80)\n    at com.company.platform.selenium.managers.ChromeDriverManager.createDriver(ChromeDriverManager.java:12)\n    at com.company.platform.tests.BaseTest.setUp(BaseTest.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>I moved the driver from the location &quot;/usr/bin/google-chrome&quot;, but even when it was there, I had this issue. The irony is that everything operates normally on a virtual machine on the same pc.</p>\n"},{"tags":["java","android","kotlin","android-edittext","spannable"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670607754,"creation_date":1670607754,"answer_id":74746561,"question_id":74734903,"body_markdown":"Make sure that you are using integer colors and not color ids in your code. You, of course, could use the color ids but you will have to make the conversion to a color integer. The following demonstrates this.\r\n\r\n    val newColor =\r\n        ResourcesCompat.getColor(resources, android.R.color.holo_blue_light, null)\r\n    changeTextForegroundColor(newColor, 0, 5)\r\n\r\nThen in `changeTextForgroundColor()`\r\n\r\n    // If foregroundColor == null, then just remove the span, what we do above\r\n    if (foregroundColor != null) {\r\n        resultText.setSpan(\r\n            ForegroundColorSpan(foregroundColor),\r\n            startPosition,\r\n            endPosition,\r\n            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n        )\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gzdfN.gif","title":"How to remove a part of Spannable","body":"<p>Make sure that you are using integer colors and not color ids in your code. You, of course, could use the color ids but you will have to make the conversion to a color integer. The following demonstrates this.</p>\n<pre><code>val newColor =\n    ResourcesCompat.getColor(resources, android.R.color.holo_blue_light, null)\nchangeTextForegroundColor(newColor, 0, 5)\n</code></pre>\n<p>Then in <code>changeTextForgroundColor()</code></p>\n<pre><code>// If foregroundColor == null, then just remove the span, what we do above\nif (foregroundColor != null) {\n    resultText.setSpan(\n        ForegroundColorSpan(foregroundColor),\n        startPosition,\n        endPosition,\n        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n    )\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gzdfN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzdfN.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26248212,"reputation":11,"user_id":19921394,"display_name":"MrRuslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671003221,"creation_date":1671003221,"answer_id":74794892,"question_id":74734903,"body_markdown":"Finally, I wrote code that as I guess can resolve my problem, here I remove spans if span within selection (It won&#39;t remove span which range outside of selection), then check if color is null, then set color to white, else to another one. This code helps to to avoid issue when one span was painted over another one:\r\n\r\n    private fun changeTextForegroundColor( @ColorInt foregroundColor: Int?, startPosition: Int, endPosition: Int) {\r\n        val resultText: Spannable =\r\n            noteBinding.contentActivityInclude.contentEditText.text?.toSpannable() ?: return\r\n        \r\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\r\n                startPosition, endPosition,\r\n                ForegroundColorSpan::class.java)\r\n        spans.forEach {\r\n            val selectedSpanStart = resultText.getSpanStart(it)\r\n            val selectedSpanEnd = resultText.getSpanEnd(it)\r\n            if (selectedSpanStart &gt;= startPosition &amp;&amp; selectedSpanEnd &lt;= endPosition) {\r\n                \r\n                resultText.removeSpan(it)\r\n                \r\n            }\r\n            \r\n        }\r\n        if (foregroundColor == null) {\r\n            resultText.setSpan(\r\n                    ForegroundColorSpan(Color.WHITE),\r\n                    startPosition,\r\n                    endPosition,\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n        } else {\r\n            resultText.setSpan(\r\n                    ForegroundColorSpan(foregroundColor),\r\n                    startPosition,\r\n                    endPosition,\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n            \r\n        }\r\n        \r\n        noteBinding.contentActivityInclude.contentEditText.setText(resultText)\r\n        \r\n    }","title":"How to remove a part of Spannable","body":"<p>Finally, I wrote code that as I guess can resolve my problem, here I remove spans if span within selection (It won't remove span which range outside of selection), then check if color is null, then set color to white, else to another one. This code helps to to avoid issue when one span was painted over another one:</p>\n<pre><code>private fun changeTextForegroundColor( @ColorInt foregroundColor: Int?, startPosition: Int, endPosition: Int) {\n    val resultText: Spannable =\n        noteBinding.contentActivityInclude.contentEditText.text?.toSpannable() ?: return\n    \n    val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\n            startPosition, endPosition,\n            ForegroundColorSpan::class.java)\n    spans.forEach {\n        val selectedSpanStart = resultText.getSpanStart(it)\n        val selectedSpanEnd = resultText.getSpanEnd(it)\n        if (selectedSpanStart &gt;= startPosition &amp;&amp; selectedSpanEnd &lt;= endPosition) {\n            \n            resultText.removeSpan(it)\n            \n        }\n        \n    }\n    if (foregroundColor == null) {\n        resultText.setSpan(\n                ForegroundColorSpan(Color.WHITE),\n                startPosition,\n                endPosition,\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    } else {\n        resultText.setSpan(\n                ForegroundColorSpan(foregroundColor),\n                startPosition,\n                endPosition,\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n        \n    }\n    \n    noteBinding.contentActivityInclude.contentEditText.setText(resultText)\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26248212,"reputation":11,"user_id":19921394,"display_name":"MrRuslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74794892,"answer_count":2,"score":1,"last_activity_date":1671003221,"creation_date":1670524661,"question_id":74734903,"body_markdown":"In my android app user can change text foreground and background colors by selecting text, everything works fine, but if user created red foreground for text **Hello World**, and wants to remove red foreground in the World word, code removes the whole sentence background, if there&#39;s a way to do it, please, help me, here is the function:\r\n```\r\nprivate fun changeTextForegroundColor(\r\n\r\n        @ColorInt foregroundColor: Int?,\r\n\r\n        startPosition: Int,\r\n\r\n        endPosition: Int\r\n\r\n    ) {\r\n\r\n        val resultText: Spannable = bindingContent.contentEditText.text.toSpannable()\r\n\r\n        //Get foreground spans and remove them.\r\n\r\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\r\n\r\n                startPosition, endPosition,\r\n\r\n                ForegroundColorSpan::class.java)\r\n\r\n        repeat(spans.count()) {\r\n\r\n            resultText.removeSpan(spans[it])\r\n\r\n        }\r\n\r\n        \r\n\r\n        // If foregroundColor == null, then just remove the span, what we do above\r\n\r\n        if (foregroundColor != null) {\r\n\r\n            resultText.setSpan(\r\n\r\n                    ForegroundColorSpan(foregroundColor),\r\n\r\n                    startPosition,\r\n\r\n                    endPosition,\r\n\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n\r\n            \r\n\r\n        }\r\n\r\n        bindingContent.contentEditText.setText(resultText)\r\n\r\n        \r\n\r\n    }\r\n```\r\n\r\nI tried not to remove, but to replace the foreground color with white(my text color) but it causes lags in my app, so I need to remove a word World, without removing the Hello word foreground in my span.","title":"How to remove a part of Spannable","body":"<p>In my android app user can change text foreground and background colors by selecting text, everything works fine, but if user created red foreground for text <strong>Hello World</strong>, and wants to remove red foreground in the World word, code removes the whole sentence background, if there's a way to do it, please, help me, here is the function:</p>\n<pre><code>private fun changeTextForegroundColor(\n\n        @ColorInt foregroundColor: Int?,\n\n        startPosition: Int,\n\n        endPosition: Int\n\n    ) {\n\n        val resultText: Spannable = bindingContent.contentEditText.text.toSpannable()\n\n        //Get foreground spans and remove them.\n\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\n\n                startPosition, endPosition,\n\n                ForegroundColorSpan::class.java)\n\n        repeat(spans.count()) {\n\n            resultText.removeSpan(spans[it])\n\n        }\n\n        \n\n        // If foregroundColor == null, then just remove the span, what we do above\n\n        if (foregroundColor != null) {\n\n            resultText.setSpan(\n\n                    ForegroundColorSpan(foregroundColor),\n\n                    startPosition,\n\n                    endPosition,\n\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n\n            \n\n        }\n\n        bindingContent.contentEditText.setText(resultText)\n\n        \n\n    }\n</code></pre>\n<p>I tried not to remove, but to replace the foreground color with white(my text color) but it causes lags in my app, so I need to remove a word World, without removing the Hello word foreground in my span.</p>\n"},{"tags":["java","xml","canonicalization"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281445807,"creation_date":1281445807,"answer_id":3449249,"question_id":3449209,"body_markdown":"XML defines that the input can contain all possible kinds of EOL styles but that the parser must replace all of them with a single linefeed (`\\n`, ASCII 10) character.\r\n\r\nIf you want to protect the character, you must replace ASCII 13 with `&amp;#13;` yourself before the XML parser sees the input. If you use Java, I suggest to use a `FilterInputStream`.","title":"handling carriage return in canonicalization with java","body":"<p>XML defines that the input can contain all possible kinds of EOL styles but that the parser must replace all of them with a single linefeed (<code>\\n</code>, ASCII 10) character.</p>\n\n<p>If you want to protect the character, you must replace ASCII 13 with <code>&amp;#13;</code> yourself before the XML parser sees the input. If you use Java, I suggest to use a <code>FilterInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671003209,"creation_date":1671003209,"answer_id":74794889,"question_id":3449209,"body_markdown":"try\r\n\r\n    static {\r\n        System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\r\n        org.apache.xml.security.Init.init();\r\n    }\r\n\r\nusing the library: `org.apache.santuario:xmlsec:3.0.1`, it works fine\r\n\r\nif you are using `org.apache.xml.security:xml-security:1.4.1`, it seems not work.","title":"handling carriage return in canonicalization with java","body":"<p>try</p>\n<pre><code>static {\n    System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n    org.apache.xml.security.Init.init();\n}\n</code></pre>\n<p>using the library: <code>org.apache.santuario:xmlsec:3.0.1</code>, it works fine</p>\n<p>if you are using <code>org.apache.xml.security:xml-security:1.4.1</code>, it seems not work.</p>\n"}],"owner":{"account_id":72958,"reputation":1022,"user_id":210391,"accept_rate":60,"display_name":"artsince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671003209,"creation_date":1281445550,"question_id":3449209,"body_markdown":"I am trying to canonicalize an html text node by `com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java` class. My input file has carriage return and a line feed at the end. Upon canonicalization I expect to see the carriage return transformed into `&amp;#xD;`. However, the the output I get does not contain the carriage return. It only contains the line feed. How should I modify my code to include the carriage return?\r\n\r\nexample: my input with `cr` and `lf` at the end\r\n\r\n    &lt;MyNode xmlns=&quot;http://www.artsince.com/test#&quot;&gt;Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(crlf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(crlf)\r\n    c76LsetK8C1434K66+Q=&lt;/MyNode&gt;\r\n\r\nthis is the sample code I use\r\n\r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    dbf.setNamespaceAware(true);\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    Document doc = db.parse(new FileInputStream(new File(&quot;C:\\\\text.xml&quot;)));\r\n                \r\n    if(!Init.isInitialized())\r\n    {\r\n       Init.init();\r\n    }\r\n              \r\n    Path xPath = XPathFactory.newInstance().newXPath();\r\n    String expression = &quot;child::*/child::text()&quot;; \r\n    NodeList textNodeList = (NodeList) xPath.evaluate(expression, doc, XPathConstants.NODESET);\r\n    Canonicalizer cn = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\r\n    byte[] canonn = cn.canonicalizeXPathNodeSet(textNodeList);\r\n    System.out.println(new String(canonn).toCharArray());\r\n\r\n\r\nand the output I get has only `lf` in the end\r\n\r\n    Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(lf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(lf)\r\n    c76LsetK8C1434K66+Q=\r\n\r\nhowever, I expect to see `&amp;#xD;` and `lf` at the end of lines\r\n\r\n    Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9&amp;#xD;(lf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT&amp;#xD;(lf)\r\n    c76LsetK8C1434K66+Q=","title":"handling carriage return in canonicalization with java","body":"<p>I am trying to canonicalize an html text node by <code>com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java</code> class. My input file has carriage return and a line feed at the end. Upon canonicalization I expect to see the carriage return transformed into <code>&amp;#xD;</code>. However, the the output I get does not contain the carriage return. It only contains the line feed. How should I modify my code to include the carriage return?</p>\n\n<p>example: my input with <code>cr</code> and <code>lf</code> at the end</p>\n\n<pre><code>&lt;MyNode xmlns=\"http://www.artsince.com/test#\"&gt;Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(crlf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(crlf)\nc76LsetK8C1434K66+Q=&lt;/MyNode&gt;\n</code></pre>\n\n<p>this is the sample code I use</p>\n\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(new FileInputStream(new File(\"C:\\\\text.xml\")));\n\nif(!Init.isInitialized())\n{\n   Init.init();\n}\n\nPath xPath = XPathFactory.newInstance().newXPath();\nString expression = \"child::*/child::text()\"; \nNodeList textNodeList = (NodeList) xPath.evaluate(expression, doc, XPathConstants.NODESET);\nCanonicalizer cn = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\nbyte[] canonn = cn.canonicalizeXPathNodeSet(textNodeList);\nSystem.out.println(new String(canonn).toCharArray());\n</code></pre>\n\n<p>and the output I get has only <code>lf</code> in the end</p>\n\n<pre><code>Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(lf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(lf)\nc76LsetK8C1434K66+Q=\n</code></pre>\n\n<p>however, I expect to see <code>&amp;#xD;</code> and <code>lf</code> at the end of lines</p>\n\n<pre><code>Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9&amp;#xD;(lf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT&amp;#xD;(lf)\nc76LsetK8C1434K66+Q=\n</code></pre>\n"},{"tags":["java","eclipse","autocomplete"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1670972178,"post_id":74789566,"comment_id":131995645,"body_markdown":"`jdk.*` is filtered by default. Does in the preferences _Java &gt; Appearance &gt; Type Filters_ unchecking `jdk.*` work for you?","body":"<code>jdk.*</code> is filtered by default. Does in the preferences <i>Java &gt; Appearance &gt; Type Filters</i> unchecking <code>jdk.*</code> work for you?"},{"owner":{"account_id":19604520,"reputation":43,"user_id":14348526,"display_name":"Niccol&#242; Cavallini"},"score":0,"creation_date":1671002285,"post_id":74789566,"comment_id":132000473,"body_markdown":"Oh, thanks! It was checked, I unchecked it and now it works. Didn&#39;t know about this &quot;filter&quot; of Eclipse.","body":"Oh, thanks! It was checked, I unchecked it and now it works. Didn&#39;t know about this &quot;filter&quot; of Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671002919,"creation_date":1671002919,"answer_id":74794845,"question_id":74789566,"body_markdown":"`jdk.*` is filtered by default.\r\n\r\nWhen you want to use something of `jdk.*` in a project, go to the **preferences *Java &gt; Appearance &gt; Type Filters*** and **uncheck** the item **`jdk.*`**.","title":"Eclipse autocompletion for jdk.* packages does not work","body":"<p><code>jdk.*</code> is filtered by default.</p>\n<p>When you want to use something of <code>jdk.*</code> in a project, go to the <strong>preferences <em>Java &gt; Appearance &gt; Type Filters</em></strong> and <strong>uncheck</strong> the item <strong><code>jdk.*</code></strong>.</p>\n"}],"owner":{"account_id":19604520,"reputation":43,"user_id":14348526,"display_name":"Niccol&#242; Cavallini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74794845,"answer_count":1,"score":0,"last_activity_date":1671002919,"creation_date":1670957014,"question_id":74789566,"body_markdown":"I write here because I noticed a strange behaviour of Eclipse IDE (2022-12).\r\n\r\nBasically, the autocompletition does not work properly when I use a class from a `jdk.*` package.\r\n\r\nFor example: \r\n\r\n```java\r\nimport jdk.jshell.*;\r\npublic class Test {\r\nprivate static final JShell JSHELL = JShell.create();\r\n...\r\n...\r\npublic static void main(String[] args) {} \r\n\r\n} \r\n```\r\n\r\nNow when I write `JSHELL.` (e.g., inside the main method), I get only proposal for the methods of the `Object` class. No specific proposal is available.\r\n\r\nWhat am I doing wrong?\r\n\r\nThanks.\r\n\r\nTried updating &amp; reinstalling Eclipse.","title":"Eclipse autocompletion for jdk.* packages does not work","body":"<p>I write here because I noticed a strange behaviour of Eclipse IDE (2022-12).</p>\n<p>Basically, the autocompletition does not work properly when I use a class from a <code>jdk.*</code> package.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jdk.jshell.*;\npublic class Test {\nprivate static final JShell JSHELL = JShell.create();\n...\n...\npublic static void main(String[] args) {} \n\n} \n</code></pre>\n<p>Now when I write <code>JSHELL.</code> (e.g., inside the main method), I get only proposal for the methods of the <code>Object</code> class. No specific proposal is available.</p>\n<p>What am I doing wrong?</p>\n<p>Thanks.</p>\n<p>Tried updating &amp; reinstalling Eclipse.</p>\n"},{"tags":["java","apache-spark","janusgraph","google-cloud-bigtable"],"answers":[{"tags":[],"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671002000,"creation_date":1671002000,"answer_id":74794715,"question_id":74780364,"body_markdown":"    &lt;properties&gt;\r\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\r\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\r\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nJanusGraph-0.6.2 depends on TinkerPop-3.5.3.\r\nMixing with other TinkerPop versions can easily lead to these kind of problems.","title":"Gremlin query on Janusgraph through Spark. Error: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated","body":"<pre><code>&lt;properties&gt;\n    &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\n    &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\n    &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>JanusGraph-0.6.2 depends on TinkerPop-3.5.3.\nMixing with other TinkerPop versions can easily lead to these kind of problems.</p>\n"}],"owner":{"account_id":5434081,"reputation":69,"user_id":4324055,"display_name":"Rohit Raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671002000,"creation_date":1670909389,"question_id":74780364,"body_markdown":"**Current Architecture**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Description**\r\n\r\n 1. I am using JanusGraph 0.6.2 for graph processing. \r\n 2. GCP BigTable as JanusGraph Backend/database. \r\n 3. Spark 3.0.0 with hadoop 2.7 for data processing, setup locally (planning to setup the env in GCP after the POC). \r\n 4. Gremlin Client and Java 11 as a client to run Spark Job, to do queries like traversal, find nodes and etc through *SparkGraphComputer*\r\n\r\n**Problem**\r\n\r\nI am able to trigger a query job, to do the node count on Spark using Gremlin Client, But I am facing issues triggering a query job using Java apis. \r\n\r\n**Expectation**\r\n\r\nTrigger a Query Job using Java APIs. \r\n\r\n**Apache Spark Setup is done**\r\n[![enter image description here][2]][2]\r\n**Configuration working for Gremlin Client**\r\n\r\n```# Copyright 2020 JanusGraph Authors\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#      http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n#\r\n# Hadoop Graph Configuration\r\n#\r\ngremlin.graph=org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph\r\ngremlin.hadoop.graphReader=org.janusgraph.hadoop.formats.hbase.HBaseInputFormat\r\ngremlin.hadoop.graphWriter=org.apache.hadoop.mapreduce.lib.output.NullOutputFormat\r\n\r\ngremlin.hadoop.jarsInDistributedCache=true\r\ngremlin.hadoop.inputLocation=none\r\ngremlin.hadoop.outputLocation=output\r\ngremlin.spark.persistContext=true\r\n\r\n#\r\n# JanusGraph HBase InputFormat configuration\r\n#\r\n#janusgraphmr.ioformat.conf.storage.backend=hbase\r\n#janusgraphmr.ioformat.conf.storage.hostname=localhost\r\n#janusgraphmr.ioformat.conf.storage.port=8586\r\n#janusgraphmr.ioformat.conf.storage.hbase.table=janusgraph\r\njanusgraphmr.ioformat.conf.storage.backend=hbase\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl=com.google.cloud.bigtable.hbase2_x.BigtableConnection\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id= *****\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id= *****\r\njanusgraphmr.ioformat.conf.storage.hbase.table= ******\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable=false\r\n\r\n# This defines the indexing backend configuration used while writing data to JanusGraph.\r\njanusgraphmr.ioformat.conf.index.search.backend=elasticsearch\r\njanusgraphmr.ioformat.conf.index.search.hostname=localhost\r\n\r\n#\r\n# SparkGraphComputer Configuration\r\n#\r\nspark.master=spark://RINMAC1714:7077\r\nspark.executor.memory=1g\r\nspark.executor.extraClassPath=/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/*\r\nspark.serializer=org.apache.spark.serializer.KryoSerializer\r\nspark.kryo.registrator=org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator\r\n```\r\n\r\n\r\n**Above config works and I get the result. Please follow the screenshot**\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**Java API configuration which is not working for me**\r\n\r\nGraphTraversalProvider.java\r\n\r\n```import org.apache.commons.configuration.BaseConfiguration;\r\nimport org.apache.commons.configuration.Configuration;\r\nimport org.apache.tinkerpop.gremlin.hadoop.Constants;\r\n\r\npublic class GraphTraversalProvider {\r\n    public static Configuration makeLocal() {\r\n        return make(true);\r\n    }\r\n    public static Configuration makeRemote() {\r\n        return make(false);\r\n    }\r\n    private static Configuration make(boolean local) {\r\n        final Configuration hadoopConfig = new BaseConfiguration();\r\n        hadoopConfig.setProperty(&quot;gremlin.graph&quot;, &quot;org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_READER, &quot;org.janusgraph.hadoop.formats.hbase.HBaseInputFormat&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_WRITER, &quot;org.apache.hadoop.mapreduce.lib.output.NullOutputFormat&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_JARS_IN_DISTRIBUTED_CACHE, true);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_INPUT_LOCATION, &quot;none&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_OUTPUT_LOCATION, &quot;output&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_SPARK_PERSIST_CONTEXT, true);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.backend&quot;, &quot;hbase&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl&quot;, &quot;com.google.cloud.bigtable.hbase2_x.BigtableConnectio&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id&quot;, &quot;******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id&quot;, &quot;*******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.table&quot;, &quot;******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable&quot;, false);\r\n        \r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.backend&quot;, &quot;elasticsearch&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.hostname&quot;, &quot;localhost&quot;);\r\n        if (local) {\r\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;local[*]&quot;); // Run Spark locally with as many worker threads as logical cores on your machine.\r\n        } else {\r\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;spark://MAC1714:7077&quot;);\r\n        }\r\n        hadoopConfig.setProperty(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\r\n        hadoopConfig.setProperty(Constants.SPARK_SERIALIZER, &quot;org.apache.spark.serializer.KryoSerializer&quot;);\r\n        hadoopConfig.setProperty(&quot;spark.kryo.registrator&quot;, &quot;org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator&quot;);\r\n        hadoopConfig.setProperty(&quot;spark.kryo.registrationRequired&quot;,&quot;false&quot;);\r\n        return hadoopConfig;\r\n    }\r\n}\r\n```\r\n\r\nMain Class\r\n```public class RunSparkJob {\r\n    public static void main(String[] args) throws Exception {\r\n        runSpark();\r\n    }\r\n    private static void runSpark() throws Exception {\r\n        Configuration config = GraphTraversalProvider.makeRemote();\r\n        Graph hadoopGraph = GraphFactory.open(config);\r\n        Long totalVertices = hadoopGraph.traversal().withComputer(SparkGraphComputer.class).V().count().next();\r\n        System.out.println(&quot;IT WORKED: &quot; + totalVertices);\r\n        hadoopGraph.close();\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.janus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;janus-spark&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;janus-spark&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\r\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\r\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-bigtable --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-bigtable&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hadoop --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-hadoop&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hbase --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-hbase&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.esotericsoftware.kryo/kryo --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.esotericsoftware.kryo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kryo&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twitter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;chill_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!-- GREMLIN --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-gremlin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-gremlin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- SPARK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;27.0-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**Error Logs**\r\n```SLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n0    [main] WARN  org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer  - class org.apache.hadoop.mapreduce.lib.output.NullOutputFormat does not implement PersistResultGraphAware and thus, persistence options are unknown -- assuming all options are possible\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:88)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.hasNext(AbstractStep.java:150)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.ExpandableStepIterator.next(ExpandableStepIterator.java:55)\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.ComputerResultStep.processNextStart(ComputerResultStep.java:68)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:135)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:40)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.next(DefaultTraversal.java:240)\r\n\tat com.janus.app.services.RunSparkJob.runSpark(RunSparkJob.java:20)\r\n\tat com.janus.app.services.RunSparkJob.main(RunSparkJob.java:14)\r\nCaused by: java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:68)\r\n\t... 8 more\r\nCaused by: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1393)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.load(KryoShimServiceLoader.java:97)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.applyConfiguration(KryoShimServiceLoader.java:58)\r\n\tat org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer.lambda$submitWithExecutor$1(SparkGraphComputer.java:248)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\nCaused by: java.lang.IllegalArgumentException: Unable to create serializer &quot;org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer&quot; for class: java.util.concurrent.atomic.AtomicLong\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:67)\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:45)\r\n\tat org.apache.tinkerpop.shaded.kryo.Kryo.newDefaultSerializer(Kryo.java:380)\r\n\tat org.apache.tinkerpop.shaded.kryo.Kryo.getDefaultSerializer(Kryo.java:364)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoTypeReg.registerWith(GryoTypeReg.java:122)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:101)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:75)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:71)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:64)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader$Builder.create(GryoReader.java:302)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.createPool(GryoPool.java:126)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.access$100(GryoPool.java:40)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool$Builder.create(GryoPool.java:227)\r\n\tat org.apache.tinkerpop.gremlin.hadoop.structure.io.HadoopPools.initialize(HadoopPools.java:51)\r\n\tat org.janusgraph.hadoop.serialize.JanusGraphKryoShimService.&lt;init&gt;(JanusGraphKryoShimService.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n\t... 9 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor3.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:54)\r\n\t... 29 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile long java.util.concurrent.atomic.AtomicLong.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @1d9b7cce\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.buildValidFields(FieldSerializer.java:306)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:239)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:182)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.&lt;init&gt;(FieldSerializer.java:155)\r\n\t... 34 more\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n```\r\n\r\nI am still exploring Janusgraph and its processing capabilities with Spark. I have given all the details here, Let me know if any more details are required. It is a very new techstack for me. I would be grateful for any help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DDAzO.png\r\n  [2]: https://i.stack.imgur.com/RX8kJ.png\r\n  [3]: https://i.stack.imgur.com/KCurg.png\r\n  [4]: https://i.stack.imgur.com/hrNpt.png","title":"Gremlin query on Janusgraph through Spark. Error: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated","body":"<p><strong>Current Architecture</strong>\n<a href=\"https://i.stack.imgur.com/DDAzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DDAzO.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Description</strong></p>\n<ol>\n<li>I am using JanusGraph 0.6.2 for graph processing.</li>\n<li>GCP BigTable as JanusGraph Backend/database.</li>\n<li>Spark 3.0.0 with hadoop 2.7 for data processing, setup locally (planning to setup the env in GCP after the POC).</li>\n<li>Gremlin Client and Java 11 as a client to run Spark Job, to do queries like traversal, find nodes and etc through <em>SparkGraphComputer</em></li>\n</ol>\n<p><strong>Problem</strong></p>\n<p>I am able to trigger a query job, to do the node count on Spark using Gremlin Client, But I am facing issues triggering a query job using Java apis.</p>\n<p><strong>Expectation</strong></p>\n<p>Trigger a Query Job using Java APIs.</p>\n<p><strong>Apache Spark Setup is done</strong>\n<a href=\"https://i.stack.imgur.com/RX8kJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RX8kJ.png\" alt=\"enter image description here\" /></a>\n<strong>Configuration working for Gremlin Client</strong></p>\n<pre><code>#\n# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# Hadoop Graph Configuration\n#\ngremlin.graph=org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph\ngremlin.hadoop.graphReader=org.janusgraph.hadoop.formats.hbase.HBaseInputFormat\ngremlin.hadoop.graphWriter=org.apache.hadoop.mapreduce.lib.output.NullOutputFormat\n\ngremlin.hadoop.jarsInDistributedCache=true\ngremlin.hadoop.inputLocation=none\ngremlin.hadoop.outputLocation=output\ngremlin.spark.persistContext=true\n\n#\n# JanusGraph HBase InputFormat configuration\n#\n#janusgraphmr.ioformat.conf.storage.backend=hbase\n#janusgraphmr.ioformat.conf.storage.hostname=localhost\n#janusgraphmr.ioformat.conf.storage.port=8586\n#janusgraphmr.ioformat.conf.storage.hbase.table=janusgraph\njanusgraphmr.ioformat.conf.storage.backend=hbase\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl=com.google.cloud.bigtable.hbase2_x.BigtableConnection\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id= *****\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id= *****\njanusgraphmr.ioformat.conf.storage.hbase.table= ******\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable=false\n\n# This defines the indexing backend configuration used while writing data to JanusGraph.\njanusgraphmr.ioformat.conf.index.search.backend=elasticsearch\njanusgraphmr.ioformat.conf.index.search.hostname=localhost\n\n#\n# SparkGraphComputer Configuration\n#\nspark.master=spark://RINMAC1714:7077\nspark.executor.memory=1g\nspark.executor.extraClassPath=/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/*\nspark.serializer=org.apache.spark.serializer.KryoSerializer\nspark.kryo.registrator=org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator\n</code></pre>\n<p><strong>Above config works and I get the result. Please follow the screenshot</strong>\n<a href=\"https://i.stack.imgur.com/KCurg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KCurg.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/hrNpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrNpt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java API configuration which is not working for me</strong></p>\n<p>GraphTraversalProvider.java</p>\n<pre><code>import org.apache.commons.configuration.Configuration;\nimport org.apache.tinkerpop.gremlin.hadoop.Constants;\n\npublic class GraphTraversalProvider {\n    public static Configuration makeLocal() {\n        return make(true);\n    }\n    public static Configuration makeRemote() {\n        return make(false);\n    }\n    private static Configuration make(boolean local) {\n        final Configuration hadoopConfig = new BaseConfiguration();\n        hadoopConfig.setProperty(&quot;gremlin.graph&quot;, &quot;org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_READER, &quot;org.janusgraph.hadoop.formats.hbase.HBaseInputFormat&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_WRITER, &quot;org.apache.hadoop.mapreduce.lib.output.NullOutputFormat&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_JARS_IN_DISTRIBUTED_CACHE, true);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_INPUT_LOCATION, &quot;none&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_OUTPUT_LOCATION, &quot;output&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_SPARK_PERSIST_CONTEXT, true);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.backend&quot;, &quot;hbase&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl&quot;, &quot;com.google.cloud.bigtable.hbase2_x.BigtableConnectio&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id&quot;, &quot;******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id&quot;, &quot;*******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.table&quot;, &quot;******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable&quot;, false);\n        \n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.backend&quot;, &quot;elasticsearch&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.hostname&quot;, &quot;localhost&quot;);\n        if (local) {\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;local[*]&quot;); // Run Spark locally with as many worker threads as logical cores on your machine.\n        } else {\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;spark://MAC1714:7077&quot;);\n        }\n        hadoopConfig.setProperty(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\n        hadoopConfig.setProperty(Constants.SPARK_SERIALIZER, &quot;org.apache.spark.serializer.KryoSerializer&quot;);\n        hadoopConfig.setProperty(&quot;spark.kryo.registrator&quot;, &quot;org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator&quot;);\n        hadoopConfig.setProperty(&quot;spark.kryo.registrationRequired&quot;,&quot;false&quot;);\n        return hadoopConfig;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        runSpark();\n    }\n    private static void runSpark() throws Exception {\n        Configuration config = GraphTraversalProvider.makeRemote();\n        Graph hadoopGraph = GraphFactory.open(config);\n        Long totalVertices = hadoopGraph.traversal().withComputer(SparkGraphComputer.class).V().count().next();\n        System.out.println(&quot;IT WORKED: &quot; + totalVertices);\n        hadoopGraph.close();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.janus&lt;/groupId&gt;\n    &lt;artifactId&gt;janus-spark&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;janus-spark&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-bigtable --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-bigtable&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hadoop --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-hadoop&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hbase --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-hbase&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-solr&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.esotericsoftware.kryo/kryo --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.esotericsoftware.kryo&lt;/groupId&gt;\n            &lt;artifactId&gt;kryo&lt;/artifactId&gt;\n            &lt;version&gt;2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.twitter&lt;/groupId&gt;\n            &lt;artifactId&gt;chill_2.13&lt;/artifactId&gt;\n            &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;!-- GREMLIN --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-gremlin&lt;/artifactId&gt;\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-gremlin&lt;/artifactId&gt;\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SPARK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;27.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>Error Logs</strong></p>\n<pre><code>SLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n0    [main] WARN  org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer  - class org.apache.hadoop.mapreduce.lib.output.NullOutputFormat does not implement PersistResultGraphAware and thus, persistence options are unknown -- assuming all options are possible\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:88)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.hasNext(AbstractStep.java:150)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.ExpandableStepIterator.next(ExpandableStepIterator.java:55)\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.ComputerResultStep.processNextStart(ComputerResultStep.java:68)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:135)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:40)\n    at org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.next(DefaultTraversal.java:240)\n    at com.janus.app.services.RunSparkJob.runSpark(RunSparkJob.java:20)\n    at com.janus.app.services.RunSparkJob.main(RunSparkJob.java:14)\nCaused by: java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:68)\n    ... 8 more\nCaused by: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1393)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.load(KryoShimServiceLoader.java:97)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.applyConfiguration(KryoShimServiceLoader.java:58)\n    at org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer.lambda$submitWithExecutor$1(SparkGraphComputer.java:248)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.IllegalArgumentException: Unable to create serializer &quot;org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer&quot; for class: java.util.concurrent.atomic.AtomicLong\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:67)\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:45)\n    at org.apache.tinkerpop.shaded.kryo.Kryo.newDefaultSerializer(Kryo.java:380)\n    at org.apache.tinkerpop.shaded.kryo.Kryo.getDefaultSerializer(Kryo.java:364)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoTypeReg.registerWith(GryoTypeReg.java:122)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:101)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:75)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:71)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:64)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader$Builder.create(GryoReader.java:302)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.createPool(GryoPool.java:126)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.access$100(GryoPool.java:40)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool$Builder.create(GryoPool.java:227)\n    at org.apache.tinkerpop.gremlin.hadoop.structure.io.HadoopPools.initialize(HadoopPools.java:51)\n    at org.janusgraph.hadoop.serialize.JanusGraphKryoShimService.&lt;init&gt;(JanusGraphKryoShimService.java:30)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n    ... 9 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.GeneratedConstructorAccessor3.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:54)\n    ... 29 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile long java.util.concurrent.atomic.AtomicLong.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @1d9b7cce\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.buildValidFields(FieldSerializer.java:306)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:239)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:182)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.&lt;init&gt;(FieldSerializer.java:155)\n    ... 34 more\n\nProcess finished with exit code 1\n\n\n</code></pre>\n<p>I am still exploring Janusgraph and its processing capabilities with Spark. I have given all the details here, Let me know if any more details are required. It is a very new techstack for me. I would be grateful for any help.</p>\n"},{"tags":["java","android","selenium","testng","appium"],"comments":[{"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"score":0,"creation_date":1670998009,"post_id":74794173,"comment_id":131999565,"body_markdown":"Am i missing something?","body":"Am i missing something?"},{"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"score":0,"creation_date":1671001560,"post_id":74794173,"comment_id":132000292,"body_markdown":"It works now after changing the selector like this ---- @CacheLookup\n\t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\n\tWebElement userName;","body":"It works now after changing the selector like this ---- @CacheLookup \t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;&zwnj;&#8203;) \tWebElement userName;"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671001693,"post_id":74794173,"comment_id":132000334,"body_markdown":"Check the locator for &#39;userName&#39;, may be you mentioned the wrong type of locator, ex. - instead of XPath, you would&#39;ve mentioned as CssSelector, check that.","body":"Check the locator for &#39;userName&#39;, may be you mentioned the wrong type of locator, ex. - instead of XPath, you would&#39;ve mentioned as CssSelector, check that."}],"answers":[{"tags":[],"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671001730,"creation_date":1671001730,"answer_id":74794676,"question_id":74794173,"body_markdown":"After making some changes to the selector it worked.\r\n\r\n**here are the changes**\r\n\r\n    @CacheLookup\r\n\t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\r\n\tWebElement userName;","title":"org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute","body":"<p>After making some changes to the selector it worked.</p>\n<p><strong>here are the changes</strong></p>\n<pre><code>@CacheLookup\n@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\nWebElement userName;\n</code></pre>\n"}],"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671001730,"creation_date":1670997963,"question_id":74794173,"body_markdown":"i am trying to click an element but its throwing InvalidSelectorException.\r\n\r\nThese are my dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.6.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220320&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n\r\n**This my runner class:\r\n**\r\n```\r\npackage mobilerunner;\r\n\r\nimport java.net.MalformedURLException;\r\n\r\nimport org.apache.log4j.PropertyConfigurator;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\n\r\nimport commonuseractions.CommonActionMethods;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.android.options.UiAutomator2Options;\r\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\r\nimport mobile_pageobjects.SauceLab.Login_Page;\r\nimport utils.DriverFactory;\r\n\r\npublic class SauceLab_Aroon extends CommonActionMethods{\r\n\t\r\n\t@BeforeClass\r\n\tpublic static void setUp() throws MalformedURLException {\r\n\t\t\r\n\t\tPropertyConfigurator.configure(configFilename);\r\n\t\tUiAutomator2Options opt = new UiAutomator2Options()\r\n\t\t\t\t.setApp(&quot;D:\\\\Mobile Automation\\\\APK\\\\Android.SauceLabs.Mobile.Sample.app.2.7.1.apk&quot;)\r\n\t\t\t\t.setAppActivity(&quot;com.swaglabsmobileapp.MainActivity&quot;)\r\n\t\t\t\t.setAppPackage(&quot;com.swaglabsmobileapp&quot;)\r\n\t\t\t\t.setAutomationName(&quot;UiAutomator2&quot;)\r\n\t\t\t\t.setDeviceName(&quot;Pixel 2 XL API 31&quot;)\r\n\t\t\t\t.eventTimings();\r\n\t\tappDriver = new AndroidDriver(new java.net.URL(&quot;http://127.0.0.1:4723/wd/hub/&quot;),opt);\r\n\t\tDriverFactory.setDriver(appDriver);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test1() throws Exception {\r\n\t\tnew Login_Page().logIn();\r\n\t}\r\n\t\r\n\t@AfterClass\r\n\tpublic void tearDown() {\r\n\t}\r\n}\r\n```\r\n**This my PageObject class:\r\n**\r\n```\r\npackage mobile_pageobjects.SauceLab;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.CacheLookup;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport commonuseractions.CommonActionMethods;\r\nimport io.appium.java_client.pagefactory.AndroidFindBy;\r\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\r\n\r\npublic class Login_Page extends CommonActionMethods{\r\n\t\r\n\t@AndroidFindBy(accessibility =  &quot;test-Username&quot;)\r\n\t@CacheLookup\r\n\tWebElement userName;\r\n\t\r\n\t\r\n\tpublic Login_Page() {\r\n//\t\tPageFactory.initElements(new AppiumFieldDecorator(appDriver,Duration.ofSeconds(15)), this);\r\n\t\tPageFactory.initElements(appDriver, this);\r\n\t}\r\n\t\r\n\tpublic void logIn() throws Exception {\r\n\t\tThread.sleep(15000);\r\n\t\tclickMethod(userName,&quot; UserName input field &quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Here is the Exception printed in console.**\r\n\r\n\r\n\r\norg.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute. Supported attributes are &#39;checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name&#39;&#39;\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\r\nBuild info: version: &#39;4.7.1&#39;, revision: &#39;c6795baf1a3&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [d0d24b81-2280-4c6d-9692-afc0af6b9bf9, findElement {using=css selector, value=*[name=&#39;userName&#39;]}]\r\nCapabilities {appium:app: D:\\Mobile Automation\\APK\\An..., appium:appActivity: com.swaglabsmobileapp.MainA..., appium:appPackage: com.swaglabsmobileapp, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: D:\\Mobile Automation\\APK\\An..., appActivity: com.swaglabsmobileapp.MainA..., appPackage: com.swaglabsmobileapp, automationName: UiAutomator2, deviceName: Pixel 2 XL API 31, eventTimings: true, platformName: android}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_x86_64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 560, appium:deviceScreenSize: 1440x2880, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:pixelRatio: 3.5, appium:platformVersion: 12, appium:statBarHeight: 84, appium:takesScreenshot: true, appium:viewportRect: {height: 2628, left: 0, top: 84, width: 1440}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\nSession ID: d0d24b81-2280-4c6d-9692-afc0af6b9bf9\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\n\tat org.openqa.selenium.By$PreW3CLocator.findElement(By.java:429)\r\n\tat org.openqa.selenium.By$ByName.findElement(By.java:238)\r\n\tat org.openqa.selenium.support.ByIdOrName.findElement(ByIdOrName.java:50)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy20.click(Unknown Source)\r\n\tat commonuseractions.CommonActionMethods.clickMethod(CommonActionMethods.java:145)\r\n\tat mobile_pageobjects.SauceLab.Login_Page.logIn(Login_Page.java:27)\r\n\tat mobilerunner.SauceLab_Aroon.test1(SauceLab_Aroon.java:38)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n\r\n\r\n","title":"org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute","body":"<p>i am trying to click an element but its throwing InvalidSelectorException.</p>\n<p>These are my dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220320&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.9.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>**This my runner class:\n**</p>\n<pre><code>package mobilerunner;\n\nimport java.net.MalformedURLException;\n\nimport org.apache.log4j.PropertyConfigurator;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\n\nimport commonuseractions.CommonActionMethods;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.options.UiAutomator2Options;\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\nimport mobile_pageobjects.SauceLab.Login_Page;\nimport utils.DriverFactory;\n\npublic class SauceLab_Aroon extends CommonActionMethods{\n    \n    @BeforeClass\n    public static void setUp() throws MalformedURLException {\n        \n        PropertyConfigurator.configure(configFilename);\n        UiAutomator2Options opt = new UiAutomator2Options()\n                .setApp(&quot;D:\\\\Mobile Automation\\\\APK\\\\Android.SauceLabs.Mobile.Sample.app.2.7.1.apk&quot;)\n                .setAppActivity(&quot;com.swaglabsmobileapp.MainActivity&quot;)\n                .setAppPackage(&quot;com.swaglabsmobileapp&quot;)\n                .setAutomationName(&quot;UiAutomator2&quot;)\n                .setDeviceName(&quot;Pixel 2 XL API 31&quot;)\n                .eventTimings();\n        appDriver = new AndroidDriver(new java.net.URL(&quot;http://127.0.0.1:4723/wd/hub/&quot;),opt);\n        DriverFactory.setDriver(appDriver);\n    }\n\n    @Test\n    public void test1() throws Exception {\n        new Login_Page().logIn();\n    }\n    \n    @AfterClass\n    public void tearDown() {\n    }\n}\n</code></pre>\n<p>**This my PageObject class:\n**</p>\n<pre><code>package mobile_pageobjects.SauceLab;\n\nimport java.time.Duration;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.CacheLookup;\nimport org.openqa.selenium.support.PageFactory;\n\nimport commonuseractions.CommonActionMethods;\nimport io.appium.java_client.pagefactory.AndroidFindBy;\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\n\npublic class Login_Page extends CommonActionMethods{\n    \n    @AndroidFindBy(accessibility =  &quot;test-Username&quot;)\n    @CacheLookup\n    WebElement userName;\n    \n    \n    public Login_Page() {\n//      PageFactory.initElements(new AppiumFieldDecorator(appDriver,Duration.ofSeconds(15)), this);\n        PageFactory.initElements(appDriver, this);\n    }\n    \n    public void logIn() throws Exception {\n        Thread.sleep(15000);\n        clickMethod(userName,&quot; UserName input field &quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Here is the Exception printed in console.</strong></p>\n<p>org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector '<em>[name='userName']'. Reason: 'Error: 'name' is not a valid attribute. Supported attributes are 'checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name''\nFor documentation on this error, please visit: <a href=\"https://selenium.dev/exceptions/#invalid_selector_exception\" rel=\"nofollow noreferrer\">https://selenium.dev/exceptions/#invalid_selector_exception</a>\nBuild info: version: '4.7.1', revision: 'c6795baf1a3'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.3'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [d0d24b81-2280-4c6d-9692-afc0af6b9bf9, findElement {using=css selector, value=</em>[name='userName']}]\nCapabilities {appium:app: D:\\Mobile Automation\\APK\\An..., appium:appActivity: com.swaglabsmobileapp.MainA..., appium:appPackage: com.swaglabsmobileapp, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: D:\\Mobile Automation\\APK\\An..., appActivity: com.swaglabsmobileapp.MainA..., appPackage: com.swaglabsmobileapp, automationName: UiAutomator2, deviceName: Pixel 2 XL API 31, eventTimings: true, platformName: android}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_x86_64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 560, appium:deviceScreenSize: 1440x2880, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:pixelRatio: 3.5, appium:platformVersion: 12, appium:statBarHeight: 84, appium:takesScreenshot: true, appium:viewportRect: {height: 2628, left: 0, top: 84, width: 1440}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\nSession ID: d0d24b81-2280-4c6d-9692-afc0af6b9bf9\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\nat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.By$PreW3CLocator.findElement(By.java:429)\nat org.openqa.selenium.By$ByName.findElement(By.java:238)\nat org.openqa.selenium.support.ByIdOrName.findElement(ByIdOrName.java:50)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\nat jdk.proxy2/jdk.proxy2.$Proxy20.click(Unknown Source)\nat commonuseractions.CommonActionMethods.clickMethod(CommonActionMethods.java:145)\nat mobile_pageobjects.SauceLab.Login_Page.logIn(Login_Page.java:27)\nat mobilerunner.SauceLab_Aroon.test1(SauceLab_Aroon.java:38)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","backend","amazon-sns"],"owner":{"account_id":27247965,"reputation":1,"user_id":20772924,"display_name":"Bob Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671001662,"creation_date":1671001662,"question_id":74794664,"body_markdown":"I am using AWS SNS service for sending SMS and it is not consistent. For some phone number it works fine but for some phone number it shows an error &quot;providerResponse&quot;: &quot;Phone carrier is currently unreachable/unavailable&quot;. Sender Code is +91 57575701.\r\n\r\nActually two messages has been sent. First one successfully delivered and second one(within 10 seconds) not delivered to all networks properly.Sometimes its delivered very delayed and sometimes not delivered.\r\n\r\n\r\nHelp me to solve this. How can I successfully sent SMS through AWS SNS.\r\n\r\nThere is no filtering happening on the device. I have checked. The second SMS content is different than the first one.","title":"AWS SNS - SMS failing","body":"<p>I am using AWS SNS service for sending SMS and it is not consistent. For some phone number it works fine but for some phone number it shows an error &quot;providerResponse&quot;: &quot;Phone carrier is currently unreachable/unavailable&quot;. Sender Code is +91 57575701.</p>\n<p>Actually two messages has been sent. First one successfully delivered and second one(within 10 seconds) not delivered to all networks properly.Sometimes its delivered very delayed and sometimes not delivered.</p>\n<p>Help me to solve this. How can I successfully sent SMS through AWS SNS.</p>\n<p>There is no filtering happening on the device. I have checked. The second SMS content is different than the first one.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":12991019,"reputation":41,"user_id":9390235,"display_name":"Kippa2005"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525937140,"creation_date":1525937140,"answer_id":50267736,"question_id":50266230,"body_markdown":"This below will copy every worksheet from a workbook you set. I will copy it and paste it at the end of the list of sheets on your current workbook\r\n\r\n    Sub CopyWorkbook()\r\n    \r\n    Dim sh as Worksheet,  wb as workbook\r\n    \r\n    Set wb = workbooks(&quot;Target workbook&quot;)\r\n    For Each sh in workbooks(&quot;source workbook&quot;).Worksheets\r\n       sh.Copy After:=wb.Sheets(wb.sheets.count) \r\n    Next sh\r\n    \r\n    End Sub","title":"Copying mutiple Excel sheets of different workbook into a single workbook","body":"<p>This below will copy every worksheet from a workbook you set. I will copy it and paste it at the end of the list of sheets on your current workbook</p>\n\n<pre><code>Sub CopyWorkbook()\n\nDim sh as Worksheet,  wb as workbook\n\nSet wb = workbooks(\"Target workbook\")\nFor Each sh in workbooks(\"source workbook\").Worksheets\n   sh.Copy After:=wb.Sheets(wb.sheets.count) \nNext sh\n\nEnd Sub\n</code></pre>\n"}],"owner":{"account_id":11071818,"reputation":25,"user_id":8129702,"accept_rate":0,"display_name":"Kushal Rastogi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671000514,"creation_date":1525930954,"question_id":50266230,"body_markdown":"Problem: How to copy multiple Excel sheets of different workbook into a single workbook not by cell by cell copying as it makes performance issues as I have large data in sheets.Is there any option to copy whole sheets without iterating over every cell using Java. Just copy the whole sheets into other.","title":"Copying mutiple Excel sheets of different workbook into a single workbook","body":"<p>Problem: How to copy multiple Excel sheets of different workbook into a single workbook not by cell by cell copying as it makes performance issues as I have large data in sheets.Is there any option to copy whole sheets without iterating over every cell using Java. Just copy the whole sheets into other.</p>\n"},{"tags":["java","visual-studio-code","dll","jar","jpcap"],"comments":[{"owner":{"account_id":8729580,"reputation":6948,"user_id":6530134,"display_name":"Timothy G."},"score":1,"creation_date":1670951134,"post_id":74788251,"comment_id":131989731,"body_markdown":"Does this answer your question? [Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform](https://stackoverflow.com/questions/8113080/cant-load-ia-32-bit-dll-on-a-amd-64-bit-platform)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8113080/cant-load-ia-32-bit-dll-on-a-amd-64-bit-platform\">Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform</a>"},{"owner":{"account_id":27143499,"reputation":1,"user_id":20684059,"display_name":"Aymene"},"score":0,"creation_date":1670952404,"post_id":74788251,"comment_id":131990215,"body_markdown":"Yes, I downloaded the x64 dll and now I have another error `PacketCapture: loading native library jpcap.. ok\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;java.lang.String net.sourceforge.jpcap.capture.PacketCapture.findDevice()&#39;`","body":"Yes, I downloaded the x64 dll and now I have another error <code>PacketCapture: loading native library jpcap.. ok Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;java.lang.String net.sourceforge.jpcap.capture.PacketCapture.findDevice()&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671000176,"creation_date":1671000176,"answer_id":74794464,"question_id":74788251,"body_markdown":"Is the `jpcap.dll` file on the Java library path?\r\n\r\nAdd the `jpcap` path to ***path*** in the system environment variable.","title":"I get this &quot;UnsatisfiedLinkError &quot; while trying to use the jpcap Java library","body":"<p>Is the <code>jpcap.dll</code> file on the Java library path?</p>\n<p>Add the <code>jpcap</code> path to <em><strong>path</strong></em> in the system environment variable.</p>\n"}],"owner":{"account_id":27143499,"reputation":1,"user_id":20684059,"display_name":"Aymene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671000176,"creation_date":1670950099,"question_id":74788251,"body_markdown":"Using: windows 10, VScode, intel cpu.\r\nI&#39;m getting this error after importing the jar files into my project and running an example code from Github.\r\n\r\n[![error message stack trace][1]][1]\r\n\r\n\r\n```java\r\nimport net.sourceforge.jpcap.capture.*;\r\nimport net.sourceforge.jpcap.net.*;\r\n\r\n\r\n/**\r\n * jpcap Tutorial - Example 5\r\n *\r\n * @author Jonas Lehmann and Patrick Charles\r\n * @version $Revision: 1.2 $\r\n * @lastModifiedBy $Author: pcharles $\r\n * @lastModifiedAt $Date: 2001/07/02 16:44:21 $\r\n *\r\n * Run example and then initiate a ping on the network.\r\n * The example will produce output only if ICMP (ping)\r\n * packets are captured.\r\n */\r\npublic class App \r\n{\r\n  private static final int INFINITE = -1;\r\n  private static final int PACKET_COUNT = INFINITE; \r\n\r\n  // BPF filter for only capturing ICMP packets\r\n  private static final String FILTER = &quot;proto ICMP&quot;;\r\n\r\n  private PacketCapture m_pcap;\r\n  private String m_device;\r\n  \r\n  public App() throws Exception {\r\n    // Step 1:  Instantiate Capturing Engine\r\n    m_pcap = new PacketCapture();\r\n\r\n    // Step 2:  Check for devices \r\n    m_device = m_pcap.findDevice();\r\n\r\n    // Step 3:  Open Device for Capturing (requires root)\r\n    m_pcap.open(m_device, true);\r\n\r\n    // Step 4:  Add a BPF Filter (see tcpdump documentation)\r\n    m_pcap.setFilter(FILTER, true);\r\n\r\n    // Step 5:  Register a Listener for jpcap Packets\r\n    m_pcap.addPacketListener(new PacketHandler());\r\n\r\n    // Step 6:  Capture Data (max. PACKET_COUNT packets)\r\n    m_pcap.capture(PACKET_COUNT);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    try {\r\n        App example = new App();\r\n    } catch(Exception e) {\r\n      e.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nclass PacketHandler implements PacketListener \r\n{\r\n  private static int m_counter = 0;\r\n  private static int m_icmpCounter = 0;\r\n\r\n  public void packetArrived(Packet packet) {\r\n    m_counter++;\r\n\r\n    if(packet instanceof ICMPPacket)\r\n      m_icmpCounter++;\r\n    else\r\n      System.err.println(&quot;Packet slipped thru filter: &quot; + \r\n                         packet.getClass().getName());\r\n\r\n    System.out.println(&quot;Total Packets: &quot; + m_counter + \r\n                       &quot;   ICMP Packets: &quot; + m_icmpCounter);\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve been trying to import and use this library for two days with C++ and java, any help would be welcome\r\n\r\nI imported the dll file from lib to my JDK directory and imported the jars into the Referenced libraries in VScode, and Yeah I have npcap installed on my PC.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zNH53.png","title":"I get this &quot;UnsatisfiedLinkError &quot; while trying to use the jpcap Java library","body":"<p>Using: windows 10, VScode, intel cpu.\nI'm getting this error after importing the jar files into my project and running an example code from Github.</p>\n<p><a href=\"https://i.stack.imgur.com/zNH53.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zNH53.png\" alt=\"error message stack trace\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.sourceforge.jpcap.capture.*;\nimport net.sourceforge.jpcap.net.*;\n\n\n/**\n * jpcap Tutorial - Example 5\n *\n * @author Jonas Lehmann and Patrick Charles\n * @version $Revision: 1.2 $\n * @lastModifiedBy $Author: pcharles $\n * @lastModifiedAt $Date: 2001/07/02 16:44:21 $\n *\n * Run example and then initiate a ping on the network.\n * The example will produce output only if ICMP (ping)\n * packets are captured.\n */\npublic class App \n{\n  private static final int INFINITE = -1;\n  private static final int PACKET_COUNT = INFINITE; \n\n  // BPF filter for only capturing ICMP packets\n  private static final String FILTER = &quot;proto ICMP&quot;;\n\n  private PacketCapture m_pcap;\n  private String m_device;\n  \n  public App() throws Exception {\n    // Step 1:  Instantiate Capturing Engine\n    m_pcap = new PacketCapture();\n\n    // Step 2:  Check for devices \n    m_device = m_pcap.findDevice();\n\n    // Step 3:  Open Device for Capturing (requires root)\n    m_pcap.open(m_device, true);\n\n    // Step 4:  Add a BPF Filter (see tcpdump documentation)\n    m_pcap.setFilter(FILTER, true);\n\n    // Step 5:  Register a Listener for jpcap Packets\n    m_pcap.addPacketListener(new PacketHandler());\n\n    // Step 6:  Capture Data (max. PACKET_COUNT packets)\n    m_pcap.capture(PACKET_COUNT);\n  }\n\n  public static void main(String[] args) {\n    try {\n        App example = new App();\n    } catch(Exception e) {\n      e.printStackTrace();\n      System.exit(1);\n    }\n  }\n}\n\n\nclass PacketHandler implements PacketListener \n{\n  private static int m_counter = 0;\n  private static int m_icmpCounter = 0;\n\n  public void packetArrived(Packet packet) {\n    m_counter++;\n\n    if(packet instanceof ICMPPacket)\n      m_icmpCounter++;\n    else\n      System.err.println(&quot;Packet slipped thru filter: &quot; + \n                         packet.getClass().getName());\n\n    System.out.println(&quot;Total Packets: &quot; + m_counter + \n                       &quot;   ICMP Packets: &quot; + m_icmpCounter);\n  }\n}\n</code></pre>\n<p>I've been trying to import and use this library for two days with C++ and java, any help would be welcome</p>\n<p>I imported the dll file from lib to my JDK directory and imported the jars into the Referenced libraries in VScode, and Yeah I have npcap installed on my PC.</p>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":6543678,"reputation":3232,"user_id":5060325,"display_name":"naimdjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585653401,"creation_date":1585653005,"answer_id":60949183,"question_id":60948766,"body_markdown":"You have to copy the project files into the `/app` dir first. And you don&#39;t have the maven wrapper in the context folder where you run the `docker build`.","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>You have to copy the project files into the <code>/app</code> dir first. And you don't have the maven wrapper in the context folder where you run the <code>docker build</code>.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585655045,"creation_date":1585654682,"answer_id":60949673,"question_id":60948766,"body_markdown":"Maybe a duplicate of https://stackoverflow.com/questions/52748640/unable-to-run-mvnw-clean-install-when-building-docker-image-based-on-openjd\r\n\r\nCan you check the line endings of the `mvnw` shell script? \r\nYou could fix it by adding this before executing the `mvnw` command:\r\n\r\n    RUN dos2unix mvnw\r\n\r\nAlternatively, if the file is in git, you can also fix it by adding the following to a `.gitattributes` file and checking the file out again:\r\n\r\n    *.bat           text eol=crlf\r\n    mvnw            text eol=lf","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>Maybe a duplicate of <a href=\"https://stackoverflow.com/questions/52748640/unable-to-run-mvnw-clean-install-when-building-docker-image-based-on-openjd\">Unable to run &#39;./mvnw clean install&#39; when building docker image based on &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app</a></p>\n\n<p>Can you check the line endings of the <code>mvnw</code> shell script? \nYou could fix it by adding this before executing the <code>mvnw</code> command:</p>\n\n<pre><code>RUN dos2unix mvnw\n</code></pre>\n\n<p>Alternatively, if the file is in git, you can also fix it by adding the following to a <code>.gitattributes</code> file and checking the file out again:</p>\n\n<pre><code>*.bat           text eol=crlf\nmvnw            text eol=lf\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10087937,"reputation":1,"user_id":7455832,"display_name":"Decky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670999872,"creation_date":1670999872,"answer_id":74794423,"question_id":60948766,"body_markdown":"Try change the end of line mvnw file from Windows style CRLF to Unix style LF. Then rebuild the image. ","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>Try change the end of line mvnw file from Windows style CRLF to Unix style LF. Then rebuild the image.</p>\n"}],"owner":{"account_id":17363476,"reputation":51,"user_id":12579196,"display_name":"Lewis Ugwu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1670999872,"creation_date":1585651582,"question_id":60948766,"body_markdown":"So I am trying to run a spring boot app with maven wrapper inside the docker container. Here is my Docker file: \r\n\r\n```\r\n### Stage 1: Build the application\r\nFROM openjdk:8-jdk-alpine as build\r\n\r\nRUN mkdir -p /app\r\n#Set the current working directory inside the image\r\nWORKDIR /app\r\n\r\n#copy maven executable to the image\r\nCOPY mvnw .\r\nCOPY .mvn .mvn\r\n\r\n#Copy the pom.xml file\r\nCOPY pom.xml .\r\n\r\n#Build all the dependencies in preparation to go offline\r\n#This is a separate step so the dependencies will be cached unless\r\n#the pom.xml file has changed\r\n\r\nRUN ./mvnw dependency:go-offline -B\r\n\r\n#Copy the project source\r\nCOPY src src\r\n\r\n#Package the application\r\nRUN ./mvnw package -DskipTests\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\n```\r\n\r\nI have this error:\r\n\r\n```\r\nStep 7/16 : RUN ./mvnw dependency:go-offline -B\r\n ---&gt; Running in 642a32f86392\r\n/bin/sh: ./mvnw: not found\r\nERROR: Service &#39;app-server&#39; failed to build: The command &#39;/bin/sh -c ./mvnw dependency:go-offline -B&#39; returned a non-zero code: 127\r\n\r\n```\r\nI am working with windows 10 pro. Please I need your help","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>So I am trying to run a spring boot app with maven wrapper inside the docker container. Here is my Docker file: </p>\n\n<pre><code>### Stage 1: Build the application\nFROM openjdk:8-jdk-alpine as build\n\nRUN mkdir -p /app\n#Set the current working directory inside the image\nWORKDIR /app\n\n#copy maven executable to the image\nCOPY mvnw .\nCOPY .mvn .mvn\n\n#Copy the pom.xml file\nCOPY pom.xml .\n\n#Build all the dependencies in preparation to go offline\n#This is a separate step so the dependencies will be cached unless\n#the pom.xml file has changed\n\nRUN ./mvnw dependency:go-offline -B\n\n#Copy the project source\nCOPY src src\n\n#Package the application\nRUN ./mvnw package -DskipTests\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\n</code></pre>\n\n<p>I have this error:</p>\n\n<pre><code>Step 7/16 : RUN ./mvnw dependency:go-offline -B\n ---&gt; Running in 642a32f86392\n/bin/sh: ./mvnw: not found\nERROR: Service 'app-server' failed to build: The command '/bin/sh -c ./mvnw dependency:go-offline -B' returned a non-zero code: 127\n\n</code></pre>\n\n<p>I am working with windows 10 pro. Please I need your help</p>\n"},{"tags":["java","json","spring-boot","angular13"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1642659694,"post_id":70781588,"comment_id":125130971,"body_markdown":"What content exactly do you expect the map to contain after deserializing? You should probably use a `List&lt;SocialLink&gt;`.","body":"What content exactly do you expect the map to contain after deserializing? You should probably use a <code>List&lt;SocialLink&gt;</code>."},{"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"score":0,"creation_date":1642659904,"post_id":70781588,"comment_id":125131024,"body_markdown":"@daniu Well I expect to get a list., but where to declare this?","body":"@daniu Well I expect to get a list., but where to declare this?"},{"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"score":0,"creation_date":1642664644,"post_id":70781588,"comment_id":125132327,"body_markdown":"Also I tryed to print out some data in my converter class. And got nothin. So I think it doesn&#39;t go to a converter at all.","body":"Also I tryed to print out some data in my converter class. And got nothin. So I think it doesn&#39;t go to a converter at all."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":2,"creation_date":1642666209,"post_id":70781588,"comment_id":125132859,"body_markdown":"`private  List&lt;Map&lt;String, String&gt;&gt; sociallinks;`","body":"<code>private  List&lt;Map&lt;String, String&gt;&gt; sociallinks;</code>"}],"answers":[{"tags":[],"owner":{"account_id":12602275,"reputation":1,"user_id":9757070,"display_name":"Sib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670999664,"creation_date":1670988396,"answer_id":74793263,"question_id":70781588,"body_markdown":"You can use used `Map.Entry`\r\n\r\n    List&lt;Map.Entry&lt;String,String&gt;&gt; sociallinks\r\n\r\n\r\nafter\r\n\r\n    Map&lt;String,String&gt; sociallinksMap = sociallinks.stream().collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\r\n\r\n","title":"Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;` from Array or what would be a correct type of my field","body":"<p>You can use used <code>Map.Entry</code></p>\n<pre><code>List&lt;Map.Entry&lt;String,String&gt;&gt; sociallinks\n</code></pre>\n<p>after</p>\n<pre><code>Map&lt;String,String&gt; sociallinksMap = sociallinks.stream().collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670999664,"creation_date":1642659356,"question_id":70781588,"body_markdown":"I try to pass a json object to an api on a Spring boot. Before I was passing values using postman all worked fine. The format was as follows:\r\n\r\n    {\r\n        &quot;shortname&quot;: &quot;test2&quot;,\r\n        &quot;fullname&quot;: &quot;testing2&quot;,\r\n        &quot;address&quot;: &quot;addrtest2&quot;,\r\n        &quot;telephone&quot;: &quot;380979379993&quot;,\r\n        &quot;website&quot;: &quot;www.site2.com&quot;,\r\n        &quot;sociallinks&quot;:\r\n        {\r\n            &quot;facebook&quot;: &quot;fb2.com&quot;\r\n        },\r\n        &quot;foundationyear&quot;: &quot;1992&quot;\r\n    }\r\n\r\nNow in my Angular app I am passing json as follows:\r\n\r\n    {&quot;shortname&quot;:&quot;test&quot;,&quot;fullname&quot;:&quot;Bogdan Onyshenko&quot;,&quot;address&quot;:&quot;Пр. Победы 72в&quot;,&quot;telephone&quot;:&quot;0669829242&quot;,&quot;website&quot;:&quot;http://193.70.37.242/index.php?route=extension/feed/google_sitemap&quot;,&quot;foundationyear&quot;:&quot;2004&quot;,&quot;sociallinks&quot;:[{&quot;network&quot;:&quot;facebook&quot;,&quot;linkpage&quot;:&quot;fb.com&quot;}]}\r\n\r\nI know the value changed a bit. But now I am stuck with how to redeclare the type of a field social links it is where error is pointing to. Here is how it declared in a model class right now:\r\n\r\n    @Column(name = &quot;sociallinks&quot;)\r\n    \t  @Convert(converter = StringMapConverter.class)\r\n    \r\n    \tprivate  Map&lt;String, String&gt; sociallinks;\r\nAnd also a converter class:\r\n\r\n    package com.example.helpers;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    @Converter\r\n    public class StringMapConverter implements AttributeConverter&lt;Map&lt;String, String&gt;, String&gt; {\r\n    \r\n    \t  private static ObjectMapper mapper;\r\n    \t  static {\r\n    \t\t    // To avoid instantiating ObjectMapper again and again.\r\n    \t\t    mapper = new ObjectMapper();\r\n    \t\t  }\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(Map&lt;String, String&gt;  data) {\r\n    \t\t if (null == data) { \r\n    \t\t      // You may return null if you prefer that style\r\n    \t\t      return &quot;{}&quot;;\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    try {\r\n    \t\t      return mapper.writeValueAsString(data);\r\n    \t\t      \r\n    \t\t    } catch (IOException e) {\r\n    \t\t      throw new IllegalArgumentException(&quot;Error converting map to JSON&quot;, e);\r\n    \t\t    }\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, String&gt; convertToEntityAttribute(String s) {\r\n    \t\t if (null == s) {\r\n    \t\t      // You may return null if you prefer that style\r\n    \t\t      return new HashMap&lt;&gt;();\r\n    \t\t    }\r\n    \r\n    \t\t    try {\r\n    \t\t      return mapper.readValue(s, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {});\r\n    \t\t      \r\n    \t\t    } catch (IOException e) {\r\n    \t\t      throw new IllegalArgumentException(&quot;Error converting JSON to map&quot;, e);\r\n    \t\t    }\r\n    \t\t  \r\n    \t}\r\n    \r\n    }\r\nYet the question is how to redeclare a sociallinks field to send the second request correctly.\r\n\r\n**Update**\r\n\r\nI rediclared the field as list\r\n\r\n    @Column(name = &quot;sociallinks&quot;)\r\n    \t  //@Convert(converter = StringMapConverter.class)\r\n    \r\n    \tprivate  List&lt;String&gt; sociallinks;\r\nBut getting the following output in a terminal\r\n\r\n    2022-01-20 08:36:07.040 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/buildcompanies/add&quot;, parameters={}\r\n    2022-01-20 08:36:07.040 DEBUG 18908 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.controller.BuildingcompaniesController#createCompany(Buildcompanies)\r\n    2022-01-20 08:36:07.042 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;com.example.model.Buildcompanies&gt; com.example.controller.BuildingcompaniesController.createCompany(com.example.model.Buildcompanies): JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n     at [Source: (PushbackInputStream); line: 1, column: 230] (through reference chain: com.example.model.Buildcompanies[&quot;sociallinks&quot;]-&gt;java.util.ArrayList[0])\r\n    2022-01-20 08:36:07.042  WARN 18908 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`)&lt;EOL&gt; at [Source: (PushbackInputStream); line: 1, column: 230] (through reference chain: com.example.model.Buildcompanies[&quot;sociallinks&quot;]-&gt;java.util.ArrayList[0])]\r\n    2022-01-20 08:36:07.042 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST\r\n    2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\r\n    2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [application/json] and supported [application/json, application/*+json, application/json, application/*+json]\r\n    2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Jan 20 08:36:07 EET 2022, status=400, error=Bad Request, path=/buildcompanies/add}]\r\n    2022-01-20 08:36:07.044 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 400\r\n\r\n**Update 2**\r\nPosting the hall entety class if it is helpful\r\n\r\n    package com.example.model;\r\n    import java.beans.Transient;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Convert;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.example.helpers.StringMapConverter;\r\n    @Entity\r\n    @Table(name = &quot;buildingcompanies&quot;)\r\n    \r\n    public class Buildcompanies {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \t@Column(name = &quot;shortname&quot;)\r\n    \tprivate String shortname;\r\n    \t@Column(name = &quot;fullname&quot;)\r\n    \tprivate String fullname;\r\n    \t@Column(name = &quot;address&quot;)\r\n    \tprivate String address;\r\n    \t@Column(name = &quot;telephone&quot;)\r\n    \tprivate String telephone;\r\n    \t@Column(name = &quot;website&quot;)\r\n    \tprivate String website;\r\n    \t@Column(name = &quot;sociallinks&quot;)\r\n    \t  @Convert(converter = StringMapConverter.class)\r\n    \r\n    \tprivate  List&lt;String&gt; sociallinks;\r\n    \t@Column(name = &quot;foundationyear&quot;)\r\n    \tprivate String foundationyear;\r\n    \tprivate transient double rating;\r\n        \r\n    \tpublic Buildcompanies() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic Buildcompanies(String shortname, String fullname, String address, String telephone, String website,\r\n    \t\t\tList&lt;String&gt; map, String foundationyear) {\r\n    \t\tthis.shortname = shortname;\r\n    \t\tthis.fullname = fullname;\r\n    \t\tthis.address = address;\r\n    \t\tthis.telephone = telephone;\r\n    \t\tthis.website = website;\r\n    \t\tthis.sociallinks = map;\r\n    \t\tthis.foundationyear = foundationyear;\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getShortname() {\r\n    \t\treturn shortname;\r\n    \t}\r\n    \r\n    \tpublic void setShortname(String shortname) {\r\n    \t\tthis.shortname = shortname;\r\n    \t}\r\n    \r\n    \tpublic String getFullname() {\r\n    \t\treturn fullname;\r\n    \t}\r\n    \r\n    \tpublic void setFullname(String fullname) {\r\n    \t\tthis.fullname = fullname;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getTelephone() {\r\n    \t\treturn telephone;\r\n    \t}\r\n    \r\n    \tpublic void setTelephone(String telephone) {\r\n    \t\tthis.telephone = telephone;\r\n    \t}\r\n    \r\n    \tpublic String getWebsite() {\r\n    \t\treturn website;\r\n    \t}\r\n    \r\n    \tpublic void setWebsite(String website) {\r\n    \t\tthis.website = website;\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tpublic List&lt;String&gt; getSociallinks() {\r\n    \t\treturn sociallinks;\r\n    \t}\r\n    \r\n    \tpublic void setSociallinks(List&lt;String&gt; sociallinks) {\r\n    \t\tthis.sociallinks = sociallinks;\r\n    \t}\r\n    \r\n    \tpublic String getFoundationyear() {\r\n    \t\treturn foundationyear;\r\n    \t}\r\n    \r\n    \tpublic void setFoundationyear(String foundationyear) {\r\n    \t\tthis.foundationyear = foundationyear;\r\n    \t}\r\n    \r\n    \tpublic double getRating() {\r\n    \t\treturn rating;\r\n    \t}\r\n    \r\n    \tpublic void setRating(double rating) {\r\n    \t\tthis.rating = rating;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n**Update 3**\r\nAnd here is my controller function:\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    \tpublic ResponseEntity&lt;Buildcompanies&gt; createCompany(@RequestBody Buildcompanies company) {\r\n    \t  try {\r\n    \t    Buildcompanies _company = buildcompaniesRepository\r\n    \t        .save(new Buildcompanies(company.getFullname(), company.getShortname(), company.getAddress(), company.getTelephone(), company.getWebsite(), company.getSociallinks(), company.getFoundationyear()));\r\n    \t    return new ResponseEntity&lt;&gt;(_company, HttpStatus.CREATED);\r\n    \t  } catch (Exception e) {\r\n    \t   System.out.println(e.getMessage());\r\n    \t\t  return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t  }\r\n    \t}\r\n     \r\n\r\n","title":"Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.String&gt;` from Array or what would be a correct type of my field","body":"<p>I try to pass a json object to an api on a Spring boot. Before I was passing values using postman all worked fine. The format was as follows:</p>\n<pre><code>{\n    &quot;shortname&quot;: &quot;test2&quot;,\n    &quot;fullname&quot;: &quot;testing2&quot;,\n    &quot;address&quot;: &quot;addrtest2&quot;,\n    &quot;telephone&quot;: &quot;380979379993&quot;,\n    &quot;website&quot;: &quot;www.site2.com&quot;,\n    &quot;sociallinks&quot;:\n    {\n        &quot;facebook&quot;: &quot;fb2.com&quot;\n    },\n    &quot;foundationyear&quot;: &quot;1992&quot;\n}\n</code></pre>\n<p>Now in my Angular app I am passing json as follows:</p>\n<pre><code>{&quot;shortname&quot;:&quot;test&quot;,&quot;fullname&quot;:&quot;Bogdan Onyshenko&quot;,&quot;address&quot;:&quot;Пр. Победы 72в&quot;,&quot;telephone&quot;:&quot;0669829242&quot;,&quot;website&quot;:&quot;http://193.70.37.242/index.php?route=extension/feed/google_sitemap&quot;,&quot;foundationyear&quot;:&quot;2004&quot;,&quot;sociallinks&quot;:[{&quot;network&quot;:&quot;facebook&quot;,&quot;linkpage&quot;:&quot;fb.com&quot;}]}\n</code></pre>\n<p>I know the value changed a bit. But now I am stuck with how to redeclare the type of a field social links it is where error is pointing to. Here is how it declared in a model class right now:</p>\n<pre><code>@Column(name = &quot;sociallinks&quot;)\n      @Convert(converter = StringMapConverter.class)\n\n    private  Map&lt;String, String&gt; sociallinks;\n</code></pre>\n<p>And also a converter class:</p>\n<pre><code>package com.example.helpers;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n@Converter\npublic class StringMapConverter implements AttributeConverter&lt;Map&lt;String, String&gt;, String&gt; {\n\n      private static ObjectMapper mapper;\n      static {\n            // To avoid instantiating ObjectMapper again and again.\n            mapper = new ObjectMapper();\n          }\n\n    \n    @Override\n    public String convertToDatabaseColumn(Map&lt;String, String&gt;  data) {\n         if (null == data) { \n              // You may return null if you prefer that style\n              return &quot;{}&quot;;\n            }\n            \n            try {\n              return mapper.writeValueAsString(data);\n              \n            } catch (IOException e) {\n              throw new IllegalArgumentException(&quot;Error converting map to JSON&quot;, e);\n            }\n    }\n\n    @Override\n    public Map&lt;String, String&gt; convertToEntityAttribute(String s) {\n         if (null == s) {\n              // You may return null if you prefer that style\n              return new HashMap&lt;&gt;();\n            }\n\n            try {\n              return mapper.readValue(s, new TypeReference&lt;Map&lt;String, String&gt;&gt;() {});\n              \n            } catch (IOException e) {\n              throw new IllegalArgumentException(&quot;Error converting JSON to map&quot;, e);\n            }\n          \n    }\n\n}\n</code></pre>\n<p>Yet the question is how to redeclare a sociallinks field to send the second request correctly.</p>\n<p><strong>Update</strong></p>\n<p>I rediclared the field as list</p>\n<pre><code>@Column(name = &quot;sociallinks&quot;)\n      //@Convert(converter = StringMapConverter.class)\n\n    private  List&lt;String&gt; sociallinks;\n</code></pre>\n<p>But getting the following output in a terminal</p>\n<pre><code>2022-01-20 08:36:07.040 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/buildcompanies/add&quot;, parameters={}\n2022-01-20 08:36:07.040 DEBUG 18908 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.controller.BuildingcompaniesController#createCompany(Buildcompanies)\n2022-01-20 08:36:07.042 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity&lt;com.example.model.Buildcompanies&gt; com.example.controller.BuildingcompaniesController.createCompany(com.example.model.Buildcompanies): JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (PushbackInputStream); line: 1, column: 230] (through reference chain: com.example.model.Buildcompanies[&quot;sociallinks&quot;]-&gt;java.util.ArrayList[0])\n2022-01-20 08:36:07.042  WARN 18908 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Object&gt;` from Object value (token `JsonToken.START_OBJECT`)&lt;EOL&gt; at [Source: (PushbackInputStream); line: 1, column: 230] (through reference chain: com.example.model.Buildcompanies[&quot;sociallinks&quot;]-&gt;java.util.ArrayList[0])]\n2022-01-20 08:36:07.042 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST\n2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\n2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/json, application/*+json]\n2022-01-20 08:36:07.043 DEBUG 18908 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Thu Jan 20 08:36:07 EET 2022, status=400, error=Bad Request, path=/buildcompanies/add}]\n2022-01-20 08:36:07.044 DEBUG 18908 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 400\n</code></pre>\n<p><strong>Update 2</strong>\nPosting the hall entety class if it is helpful</p>\n<pre><code>package com.example.model;\nimport java.beans.Transient;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.persistence.Column;\nimport javax.persistence.Convert;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport com.example.helpers.StringMapConverter;\n@Entity\n@Table(name = &quot;buildingcompanies&quot;)\n\npublic class Buildcompanies {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @Column(name = &quot;shortname&quot;)\n    private String shortname;\n    @Column(name = &quot;fullname&quot;)\n    private String fullname;\n    @Column(name = &quot;address&quot;)\n    private String address;\n    @Column(name = &quot;telephone&quot;)\n    private String telephone;\n    @Column(name = &quot;website&quot;)\n    private String website;\n    @Column(name = &quot;sociallinks&quot;)\n      @Convert(converter = StringMapConverter.class)\n\n    private  List&lt;String&gt; sociallinks;\n    @Column(name = &quot;foundationyear&quot;)\n    private String foundationyear;\n    private transient double rating;\n    \n    public Buildcompanies() {\n\n    }\n\n    public Buildcompanies(String shortname, String fullname, String address, String telephone, String website,\n            List&lt;String&gt; map, String foundationyear) {\n        this.shortname = shortname;\n        this.fullname = fullname;\n        this.address = address;\n        this.telephone = telephone;\n        this.website = website;\n        this.sociallinks = map;\n        this.foundationyear = foundationyear;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getShortname() {\n        return shortname;\n    }\n\n    public void setShortname(String shortname) {\n        this.shortname = shortname;\n    }\n\n    public String getFullname() {\n        return fullname;\n    }\n\n    public void setFullname(String fullname) {\n        this.fullname = fullname;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getTelephone() {\n        return telephone;\n    }\n\n    public void setTelephone(String telephone) {\n        this.telephone = telephone;\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    \n\n    public List&lt;String&gt; getSociallinks() {\n        return sociallinks;\n    }\n\n    public void setSociallinks(List&lt;String&gt; sociallinks) {\n        this.sociallinks = sociallinks;\n    }\n\n    public String getFoundationyear() {\n        return foundationyear;\n    }\n\n    public void setFoundationyear(String foundationyear) {\n        this.foundationyear = foundationyear;\n    }\n\n    public double getRating() {\n        return rating;\n    }\n\n    public void setRating(double rating) {\n        this.rating = rating;\n    }\n    \n    \n    \n    \n    \n    \n}\n</code></pre>\n<p><strong>Update 3</strong>\nAnd here is my controller function:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Buildcompanies&gt; createCompany(@RequestBody Buildcompanies company) {\n      try {\n        Buildcompanies _company = buildcompaniesRepository\n            .save(new Buildcompanies(company.getFullname(), company.getShortname(), company.getAddress(), company.getTelephone(), company.getWebsite(), company.getSociallinks(), company.getFoundationyear()));\n        return new ResponseEntity&lt;&gt;(_company, HttpStatus.CREATED);\n      } catch (Exception e) {\n       System.out.println(e.getMessage());\n          return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n \n</code></pre>\n"},{"tags":["java","spring","redis","redis-cache"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670958452,"post_id":74789294,"comment_id":131992172,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17258352,"reputation":94,"user_id":12496947,"display_name":"Nouman Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670999251,"creation_date":1670999251,"answer_id":74794348,"question_id":74789294,"body_markdown":"If you are setting TTL for keys in redis then you can listen for expiration events. for this first you need to enable event publishing in redis server and then create a listener in java which will receive expiration events. \r\n\r\nPlease go through below is answer on stackoverflow for code help. \r\n\r\n[Spring data redis - listen to expiration event][1]  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41506606/spring-data-redis-listen-to-expiration-event","title":"How to update a table data when the redis cache expires 8n java","body":"<p>If you are setting TTL for keys in redis then you can listen for expiration events. for this first you need to enable event publishing in redis server and then create a listener in java which will receive expiration events.</p>\n<p>Please go through below is answer on stackoverflow for code help.</p>\n<p><a href=\"https://stackoverflow.com/questions/41506606/spring-data-redis-listen-to-expiration-event\">Spring data redis - listen to expiration event</a></p>\n"}],"owner":{"account_id":27243304,"reputation":1,"user_id":20769079,"display_name":"Sai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670999251,"creation_date":1670955410,"question_id":74789294,"body_markdown":"I have implemented redis cache in my springboot project. There is a date column in a table which needs to be updated when a user access a company account. This column update should be done only when redis cache expires\r\nI tried creating redisTemplate and used redis.getExpire method to know the time remains for the cache to expire. But that redisTemplate getExpire will get triggered only when the method is called. What can I do so that even when I don&#39;t call the method that condition will be checked and column gets updated","title":"How to update a table data when the redis cache expires 8n java","body":"<p>I have implemented redis cache in my springboot project. There is a date column in a table which needs to be updated when a user access a company account. This column update should be done only when redis cache expires\nI tried creating redisTemplate and used redis.getExpire method to know the time remains for the cache to expire. But that redisTemplate getExpire will get triggered only when the method is called. What can I do so that even when I don't call the method that condition will be checked and column gets updated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1578035289,"post_id":59574133,"comment_id":105315927,"body_markdown":"Simplest seems to be taking both OrderRecord and Order as type parameters.","body":"Simplest seems to be taking both OrderRecord and Order as type parameters."}],"answers":[{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578035792,"creation_date":1578035792,"answer_id":59574589,"question_id":59574133,"body_markdown":"You can create a `GenericDao` and use it in `RetryService` as below,\r\n\r\n    class GenericDao&lt;T&gt;{\r\n        //dao operations\r\n    }\r\n\r\n    class RetryService&lt;T1 , T2&gt; {\r\n    \r\n        private final RetryTemplate vcRetry;\r\n        private final GenericDao&lt;T1&gt; order1;\r\n        private final GenericDao&lt;T2&gt; order2;\r\n    \r\n    \r\n        public void saveOrder1(T1 record) {\r\n            vcRetry.execute(\r\n                    context -&gt; {\r\n                        order1.save(record);\r\n                    });\r\n        }\r\n    \r\n        public T2 UpdateOrder2(T2 record) {\r\n            return vcRetry.execute(\r\n                    context -&gt; {\r\n                        return order2.Update(record);\r\n                    });\r\n        }\r\n    \r\n        public void saveOrder2(T2 record) {\r\n            vcRetry.execute(\r\n                    context -&gt; {\r\n                        order2.save(record);\r\n                    });\r\n        }\r\n    }\r\n\r\nI hope it helps!\r\n","title":"Making Generic Class Using Lambda Expression","body":"<p>You can create a <code>GenericDao</code> and use it in <code>RetryService</code> as below,</p>\n\n<pre><code>class GenericDao&lt;T&gt;{\n    //dao operations\n}\n\nclass RetryService&lt;T1 , T2&gt; {\n\n    private final RetryTemplate vcRetry;\n    private final GenericDao&lt;T1&gt; order1;\n    private final GenericDao&lt;T2&gt; order2;\n\n\n    public void saveOrder1(T1 record) {\n        vcRetry.execute(\n                context -&gt; {\n                    order1.save(record);\n                });\n    }\n\n    public T2 UpdateOrder2(T2 record) {\n        return vcRetry.execute(\n                context -&gt; {\n                    return order2.Update(record);\n                });\n    }\n\n    public void saveOrder2(T2 record) {\n        vcRetry.execute(\n                context -&gt; {\n                    order2.save(record);\n                });\n    }\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670998889,"creation_date":1578033102,"question_id":59574133,"body_markdown":"I have the below Service class which implement retry mechanism :\r\n\r\n    @RequiredArgsConstructor(onConstructor_ = {@Autowired})\r\n    @Service\r\n    public class RetryService {\r\n    \r\n      private final RetryTemplate vcRetry;\r\n      private final Order1dao order1;\r\n      private final Order2dao order2;\r\n    \r\n    \r\n      public void saveOrder1(OrderRecord1 record) {\r\n           vcRetry.execute(\r\n                context -&gt; {\r\n                  order1.save(record);\r\n                });\r\n      }\r\n\r\n      public OrderRecord2 UpdateOrder2(OrderRecord2 record) {\r\n         return vcRetry.execute(\r\n                context -&gt; {\r\n                  return order2.Update(record);\r\n                });\r\n      }\r\n\r\n       public void saveOrder2(OrderRecord2 record) {\r\n         vcRetry.execute(\r\n                context -&gt; {\r\n                  order2.save(record);\r\n                });\r\n      }\r\n\r\n\r\nThere can be many daoBean which may uses the same RetryService class so i need to write the separate function for the individual bean.\r\n\r\nMain Class:\r\n\r\n    public class OrderProcessor {\r\n    \r\n        private final RetryService retryService;\r\n        public void SaveOrder(Order1 x, Order2 y,....) {\r\n         \r\n            retryService.saveOrder1(x);\r\n            retryService.saveOrder2(y);\r\n            retryService.Update(y);\r\n             \r\n        }\r\n    \r\n    }\r\n\r\nHow can I make my RetryService class generic ?","title":"Making Generic Class Using Lambda Expression","body":"<p>I have the below Service class which implement retry mechanism :</p>\n<pre><code>@RequiredArgsConstructor(onConstructor_ = {@Autowired})\n@Service\npublic class RetryService {\n\n  private final RetryTemplate vcRetry;\n  private final Order1dao order1;\n  private final Order2dao order2;\n\n\n  public void saveOrder1(OrderRecord1 record) {\n       vcRetry.execute(\n            context -&gt; {\n              order1.save(record);\n            });\n  }\n\n  public OrderRecord2 UpdateOrder2(OrderRecord2 record) {\n     return vcRetry.execute(\n            context -&gt; {\n              return order2.Update(record);\n            });\n  }\n\n   public void saveOrder2(OrderRecord2 record) {\n     vcRetry.execute(\n            context -&gt; {\n              order2.save(record);\n            });\n  }\n</code></pre>\n<p>There can be many daoBean which may uses the same RetryService class so i need to write the separate function for the individual bean.</p>\n<p>Main Class:</p>\n<pre><code>public class OrderProcessor {\n\n    private final RetryService retryService;\n    public void SaveOrder(Order1 x, Order2 y,....) {\n     \n        retryService.saveOrder1(x);\n        retryService.saveOrder2(y);\n        retryService.Update(y);\n         \n    }\n\n}\n</code></pre>\n<p>How can I make my RetryService class generic ?</p>\n"},{"tags":["java","spring-boot","elasticsearch","search","query-string"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1671020194,"post_id":74794263,"comment_id":132005916,"body_markdown":"you can try to use n-gram in this case.","body":"you can try to use n-gram in this case."}],"owner":{"account_id":27236768,"reputation":11,"user_id":20763566,"display_name":"HERCULE POIROT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670998706,"creation_date":1670998706,"question_id":74794263,"body_markdown":"I have text messages like -  &quot;@Someone please note%&quot;  \r\nand i need to get the search results when searching - @someone or @Someone or @some or @someone note.  \r\nAlso need to get when searched with special characters like % or @.  \r\nI&#39;m using elasticsearch&#39;s BoolqueryBuilder with query_string for fetching.  \r\nIs there any way to make this search possible, or should I use any other methods like wildcard or matchquery.\r\n\r\nThere are some messages in my index -  document.  \r\nthe key name is message.  \r\nand it can contain any type of texts.  \r\nSuppose if there is message - **Hello@#$ ther5# @Someone**  \r\nI need to get the match results when searched for the below keywords:  \r\n@someone, @Some, @some, **@#,** ther5#, @Someone\r\n\r\nIm using java backend with BoolQueryBuilder","title":"Elasticsearch query_string breaks with case insensitive search","body":"<p>I have text messages like -  &quot;@Someone please note%&quot;<br />\nand i need to get the search results when searching - @someone or @Someone or @some or @someone note.<br />\nAlso need to get when searched with special characters like % or @.<br />\nI'm using elasticsearch's BoolqueryBuilder with query_string for fetching.<br />\nIs there any way to make this search possible, or should I use any other methods like wildcard or matchquery.</p>\n<p>There are some messages in my index -  document.<br />\nthe key name is message.<br />\nand it can contain any type of texts.<br />\nSuppose if there is message - <strong>Hello@#$ ther5# @Someone</strong><br />\nI need to get the match results when searched for the below keywords:<br />\n@someone, @Some, @some, <strong>@#,</strong> ther5#, @Someone</p>\n<p>Im using java backend with BoolQueryBuilder</p>\n"},{"tags":["java","console","terminal"],"comments":[{"owner":{"account_id":13984,"reputation":52347,"user_id":28388,"accept_rate":100,"display_name":"rogeriopvl"},"score":0,"creation_date":1252567631,"post_id":1403772,"comment_id":1245335,"body_markdown":"I believe there&#39;s no such equivalent in Java. For the rest of the settings you can try this curses implementation in Java: http://javacurses.sourceforge.net","body":"I believe there&#39;s no such equivalent in Java. For the rest of the settings you can try this curses implementation in Java: <a href=\"http://javacurses.sourceforge.net\" rel=\"nofollow noreferrer\">javacurses.sourceforge.net</a>"}],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1252567601,"creation_date":1252567601,"answer_id":1403817,"question_id":1403772,"body_markdown":"[System.console()][1] will return the console your application is connected to if it is connected, otherwise it returns `null`. (Note that it’s only available from JDK 6 on.)\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#console()","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#console()\" rel=\"noreferrer\">System.console()</a> will return the console your application is connected to if it is connected, otherwise it returns <code>null</code>. (Note that it’s only available from JDK 6 on.)</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1412851431,"creation_date":1252568485,"answer_id":1403868,"question_id":1403772,"body_markdown":"The short answer is that there is no direct equivalent of &#39;isatty&#39; in standard Java.  There&#39;s been a [RFE](https://bugs.java.com/bugdatabase/view_bug?bug_id=4099017) for something like this in the Java Bug Database since 1997, but it only &lt;strike&gt;has&lt;/strike&gt; had&lt;sup&gt;1&lt;/sup&gt; one measly vote.\r\n\r\nIn theory, you might be able to implement &#39;isatty&#39; using JNI magic.  But that introduces all sorts of potential problems.  I wouldn&#39;t even contemplate doing this myself ...\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - Voting for Java bugs to be fixed went away around the time that Oracle took over Sun.&lt;/sup&gt;\r\n","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p>The short answer is that there is no direct equivalent of 'isatty' in standard Java.  There's been a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4099017\" rel=\"nofollow noreferrer\">RFE</a> for something like this in the Java Bug Database since 1997, but it only <strike>has</strike> had<sup>1</sup> one measly vote.</p>\n<p>In theory, you might be able to implement 'isatty' using JNI magic.  But that introduces all sorts of potential problems.  I wouldn't even contemplate doing this myself ...</p>\n<hr />\n<p><sup>1 - Voting for Java bugs to be fixed went away around the time that Oracle took over Sun.</sup></p>\n"},{"tags":[],"owner":{"account_id":4200427,"reputation":2406,"user_id":3440666,"display_name":"Kristian Holdhus"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1398997484,"creation_date":1398994499,"answer_id":23419451,"question_id":1403772,"body_markdown":"System.console() vs isatty()\r\n-----------\r\n\r\nSystem.console(), as already mentioned by @Bombe, works for simple use cases of checking console-connectedness. The problem with System.console() however, is that it doesn&#39;t let you determine whether it&#39;s STDIN or STDOUT (or both or neither) that is connected to a console.\r\n\r\nThe difference between Java&#39;s [System.console()][1] and C&#39;s [isatty()][2] can be illustrated in the following case-breakdown (where we pipe data to/from a hypothetical Foo.class):\r\n\r\n1) STDIN and STDOUT are tty\r\n\r\n    %&gt; java Foo\r\n    System.console() =&gt; &lt;Console instance&gt;\r\n    isatty(STDIN_FILENO) =&gt; 1\r\n    isatty(STDOUT_FILENO) =&gt; 1\r\n\r\n2) STDOUT is tty\r\n\r\n    %&gt; echo foo | java Foo\r\n    System.console() =&gt; null\r\n    isatty(STDIN_FILENO) =&gt; 0\r\n    isatty(STDOUT_FILENO) =&gt; 1\r\n\r\n3) STDIN is tty\r\n\r\n    %&gt; java Foo | cat\r\n    System.console() =&gt; null\r\n    isatty(STDIN_FILENO) =&gt; 1\r\n    isatty(STDOUT_FILENO) =&gt; 0\r\n\r\n4) Neither STDIN nor STDOUT are tty\r\n\r\n    %&gt; echo foo | java Foo | cat\r\n    System.console() =&gt; null\r\n    isatty(STDIN_FILENO) =&gt; 0\r\n    isatty(STDOUT_FILENO) =&gt; 0\r\n\r\nI can&#39;t tell you why Java doesn&#39;t support better tty-checking. I wonder if some of Java&#39;s target OS&#39;s don&#39;t support it.\r\n\r\nUsing JNI to call isatty()\r\n--------------------------\r\n\r\nIt technically *is* possible to do this in Java (as stephen-c@ pointed out) with some [fairly simple JNI][3], but it will make your application dependent on C-code that may not be portable to other systems. I can understand that some people may not want to go there.\r\n\r\nA quick example of what the JNI would look like (glossing over a lot of details):\r\n\r\nJava: *tty/TtyUtils.java*\r\n\r\n    public class TtyUtils {\r\n        static {\r\n            System.loadLibrary(&quot;ttyutils&quot;);\r\n        }\r\n        // FileDescriptor 0 for STDIN, 1 for STDOUT\r\n        public native static boolean isTty(int fileDescriptor);\r\n    }\r\n\r\nC: *ttyutils.c* (assumes matching *ttyutils.h*), compiled to *libttyutils.so*\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;unistd.h&gt;\r\n    \r\n    JNIEXPORT jboolean JNICALL Java_tty_TtyUtils_isTty\r\n              (JNIEnv *env, jclass cls, jint fileDescriptor) {\r\n        return isatty(fileDescriptor)? JNI_TRUE: JNI_FALSE;\r\n    }\r\n\r\nOther languages:\r\n----------------\r\n\r\nIf you have the option of using another language, most other languages I can think of support tty-checking. But, since you asked the question, you probably already know that. The first that come to mind for me (aside from C/C++) are [Ruby][4], [Python][5], [Golang][6] and [Perl][7].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console%28%29 &quot;System.console&amp;#40;&amp;#41;&quot;\r\n  [2]: http://man7.org/linux/man-pages/man3/isatty.3.html%20%22isatty%28%29\r\n  [3]: http://jonisalonen.com/2012/calling-c-from-java-is-easy/ &quot;fairly simple JNI&quot;\r\n  [4]: http://www.ruby-doc.org/core-2.1.1/IO.html#method-i-tty-3F &quot;Ruby&quot;\r\n  [5]: https://docs.python.org/2/library/os.html#os.isatty &quot;Python&quot;\r\n  [6]: http://godoc.org/code.google.com/p/go.crypto/ssh/terminal#IsTerminal &quot;Golang&quot;\r\n  [7]: http://perldoc.perl.org/POSIX.html#isatty &quot;Perl&quot;","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<h2>System.console() vs isatty()</h2>\n\n<p>System.console(), as already mentioned by @Bombe, works for simple use cases of checking console-connectedness. The problem with System.console() however, is that it doesn't let you determine whether it's STDIN or STDOUT (or both or neither) that is connected to a console.</p>\n\n<p>The difference between Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console%28%29\">System.console()</a> and C's <a href=\"http://man7.org/linux/man-pages/man3/isatty.3.html%20%22isatty%28%29\">isatty()</a> can be illustrated in the following case-breakdown (where we pipe data to/from a hypothetical Foo.class):</p>\n\n<p>1) STDIN and STDOUT are tty</p>\n\n<pre><code>%&gt; java Foo\nSystem.console() =&gt; &lt;Console instance&gt;\nisatty(STDIN_FILENO) =&gt; 1\nisatty(STDOUT_FILENO) =&gt; 1\n</code></pre>\n\n<p>2) STDOUT is tty</p>\n\n<pre><code>%&gt; echo foo | java Foo\nSystem.console() =&gt; null\nisatty(STDIN_FILENO) =&gt; 0\nisatty(STDOUT_FILENO) =&gt; 1\n</code></pre>\n\n<p>3) STDIN is tty</p>\n\n<pre><code>%&gt; java Foo | cat\nSystem.console() =&gt; null\nisatty(STDIN_FILENO) =&gt; 1\nisatty(STDOUT_FILENO) =&gt; 0\n</code></pre>\n\n<p>4) Neither STDIN nor STDOUT are tty</p>\n\n<pre><code>%&gt; echo foo | java Foo | cat\nSystem.console() =&gt; null\nisatty(STDIN_FILENO) =&gt; 0\nisatty(STDOUT_FILENO) =&gt; 0\n</code></pre>\n\n<p>I can't tell you why Java doesn't support better tty-checking. I wonder if some of Java's target OS's don't support it.</p>\n\n<h2>Using JNI to call isatty()</h2>\n\n<p>It technically <em>is</em> possible to do this in Java (as stephen-c@ pointed out) with some <a href=\"http://jonisalonen.com/2012/calling-c-from-java-is-easy/\">fairly simple JNI</a>, but it will make your application dependent on C-code that may not be portable to other systems. I can understand that some people may not want to go there.</p>\n\n<p>A quick example of what the JNI would look like (glossing over a lot of details):</p>\n\n<p>Java: <em>tty/TtyUtils.java</em></p>\n\n<pre><code>public class TtyUtils {\n    static {\n        System.loadLibrary(\"ttyutils\");\n    }\n    // FileDescriptor 0 for STDIN, 1 for STDOUT\n    public native static boolean isTty(int fileDescriptor);\n}\n</code></pre>\n\n<p>C: <em>ttyutils.c</em> (assumes matching <em>ttyutils.h</em>), compiled to <em>libttyutils.so</em></p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;unistd.h&gt;\n\nJNIEXPORT jboolean JNICALL Java_tty_TtyUtils_isTty\n          (JNIEnv *env, jclass cls, jint fileDescriptor) {\n    return isatty(fileDescriptor)? JNI_TRUE: JNI_FALSE;\n}\n</code></pre>\n\n<h2>Other languages:</h2>\n\n<p>If you have the option of using another language, most other languages I can think of support tty-checking. But, since you asked the question, you probably already know that. The first that come to mind for me (aside from C/C++) are <a href=\"http://www.ruby-doc.org/core-2.1.1/IO.html#method-i-tty-3F\">Ruby</a>, <a href=\"https://docs.python.org/2/library/os.html#os.isatty\">Python</a>, <a href=\"http://godoc.org/code.google.com/p/go.crypto/ssh/terminal#IsTerminal\">Golang</a> and <a href=\"http://perldoc.perl.org/POSIX.html#isatty\">Perl</a>.</p>\n"},{"tags":[],"owner":{"account_id":1239531,"reputation":50684,"user_id":1202461,"accept_rate":80,"display_name":"Leonid Beschastny"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1428030460,"creation_date":1428030460,"answer_id":29425659,"question_id":1403772,"body_markdown":"You could use [jnr-posix] library to call native posix methods from Java:\r\n\r\n    import jnr.posix.POSIX;\r\n    import jnr.posix.POSIXFactory;\r\n    import java.io.FileDescriptor;\r\n\r\n    POSIX posix = POSIXFactory.getPOSIX();\r\n\r\n    posix.isatty(FileDescriptor.out);\r\n\r\n  [jnr-posix]: http://libraries.io/maven/com.github.jnr:jnr-posix","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p>You could use <a href=\"http://libraries.io/maven/com.github.jnr:jnr-posix\" rel=\"noreferrer\">jnr-posix</a> library to call native posix methods from Java:</p>\n\n<pre><code>import jnr.posix.POSIX;\nimport jnr.posix.POSIXFactory;\nimport java.io.FileDescriptor;\n\nPOSIX posix = POSIXFactory.getPOSIX();\n\nposix.isatty(FileDescriptor.out);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670998525,"creation_date":1537998448,"answer_id":52526450,"question_id":1403772,"body_markdown":"If you don&#39;t want to compile C source yourself, you can use the [Jansi][1] library. It&#39;s a lot smaller than jnr-posix\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.fusesource.jansi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jansi&lt;/artifactId&gt;\r\n      &lt;version&gt;1.17.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n...\r\n\r\n    import static org.fusesource.jansi.internal.CLibrary.isatty;\r\n\r\n    ...\r\n\r\n    System.out.println( isatty(STDIN_FILENO) );\r\n\r\n\r\n  [1]: https://fusesource.github.io/jansi/","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p>If you don't want to compile C source yourself, you can use the <a href=\"https://fusesource.github.io/jansi/\" rel=\"nofollow noreferrer\">Jansi</a> library. It's a lot smaller than jnr-posix</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.fusesource.jansi&lt;/groupId&gt;\n  &lt;artifactId&gt;jansi&lt;/artifactId&gt;\n  &lt;version&gt;1.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>...</p>\n<pre><code>import static org.fusesource.jansi.internal.CLibrary.isatty;\n\n...\n\nSystem.out.println( isatty(STDIN_FILENO) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623161287,"creation_date":1623160850,"answer_id":67888569,"question_id":1403772,"body_markdown":"There is another way. I discovered this by chance as I needed to use `/dev/tty`. I noticed a `FileSystemException` is raised, when the Java program tries to create an `InputStream` from the tty device file if the program is not part of a TTY, like Gradle daemons. However if any of the stdin, stdout, or stderr is connected to a terminal, this code won&#39;t raise an exception with the message:\r\n\r\n* on macOS `(Device not configured)`\r\n* on Linux `No such device or address`\r\n\r\nUnfortunately checking if `/dev/tty` exists and is readable will be true. This FSE only happens when actually trying to read from the file, without reading it.\r\n\r\n    // straw man check to identify if this is running in a terminal\r\n    // System.console() requires that both stdin and stdout are connected to a terminal\r\n    // which is not always the case (eg with pipes).\r\n    // However, it happens that trying to read from /dev/tty works\r\n    // when the application is connected to a terminal, and fails when not\r\n    // with the message\r\n    //     on macOS &#39;(Device not configured)&#39;\r\n    //     on Linux &#39;No such device or address&#39;\r\n    //\r\n    // Unfortunately Files::notExists or Files::isReadable don&#39;t fail.\r\n    //noinspection EmptyTryBlock\r\n    try (var ignored = Files.newInputStream(Path.of(&quot;/dev/tty&quot;))) {\r\n      return &quot;in a tty&quot;\r\n    } catch (FileSystemException fileSystemException) {\r\n      return &quot;not in a tty&quot;;\r\n    }\r\n\r\nWhile this approach is ugly, it avoids the use of third party libraries. This doesn&#39;t answer the question which of the standard stream is connected to a terminal though, for that it might me better to rely on a terminal library, like Jansi or JLine 3.","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p>There is another way. I discovered this by chance as I needed to use <code>/dev/tty</code>. I noticed a <code>FileSystemException</code> is raised, when the Java program tries to create an <code>InputStream</code> from the tty device file if the program is not part of a TTY, like Gradle daemons. However if any of the stdin, stdout, or stderr is connected to a terminal, this code won't raise an exception with the message:</p>\n<ul>\n<li>on macOS <code>(Device not configured)</code></li>\n<li>on Linux <code>No such device or address</code></li>\n</ul>\n<p>Unfortunately checking if <code>/dev/tty</code> exists and is readable will be true. This FSE only happens when actually trying to read from the file, without reading it.</p>\n<pre><code>// straw man check to identify if this is running in a terminal\n// System.console() requires that both stdin and stdout are connected to a terminal\n// which is not always the case (eg with pipes).\n// However, it happens that trying to read from /dev/tty works\n// when the application is connected to a terminal, and fails when not\n// with the message\n//     on macOS '(Device not configured)'\n//     on Linux 'No such device or address'\n//\n// Unfortunately Files::notExists or Files::isReadable don't fail.\n//noinspection EmptyTryBlock\ntry (var ignored = Files.newInputStream(Path.of(&quot;/dev/tty&quot;))) {\n  return &quot;in a tty&quot;\n} catch (FileSystemException fileSystemException) {\n  return &quot;not in a tty&quot;;\n}\n</code></pre>\n<p>While this approach is ugly, it avoids the use of third party libraries. This doesn't answer the question which of the standard stream is connected to a terminal though, for that it might me better to rely on a terminal library, like Jansi or JLine 3.</p>\n"}],"owner":{"account_id":56610,"reputation":9047,"user_id":169603,"accept_rate":70,"display_name":"Zilk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13510,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":23419451,"answer_count":6,"score":53,"last_activity_date":1670998525,"creation_date":1252566772,"question_id":1403772,"body_markdown":"I would like a Java program to have different default settings (verbosity, possibly colored output where supported) depending on its use. In C, there is an isatty() function which will return 1 if a file descriptor is connected to a terminal, and 0 otherwise. Is there an equivalent for this in Java? I haven&#39;t seen anything in the JavaDoc for InputStream or PrintStream.","title":"How can I check if a Java program&#39;s input/output streams are connected to a terminal?","body":"<p>I would like a Java program to have different default settings (verbosity, possibly colored output where supported) depending on its use. In C, there is an isatty() function which will return 1 if a file descriptor is connected to a terminal, and 0 otherwise. Is there an equivalent for this in Java? I haven't seen anything in the JavaDoc for InputStream or PrintStream.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670936337,"post_id":74785158,"comment_id":131984199,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted more than **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted more than <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":10826829,"reputation":17,"user_id":7962501,"display_name":"Gervin"},"score":0,"creation_date":1670936618,"post_id":74785158,"comment_id":131984308,"body_markdown":"Hi @Alex this is noted.","body":"Hi @Alex this is noted."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670943346,"creation_date":1670943346,"answer_id":74786741,"question_id":74785158,"body_markdown":"&gt; The thing is whenever I delete, add or deduct an item, the cart values does not update.\r\n\r\nThat&#39;s because you load data from Firebase with `addListenerForSingleValueEvent`, which only loads the data when you call it. If you want to continue to monitor the data for changes, use `addValueEventListener` instead.","title":"Realtime Display Value Change form Firebase","body":"<blockquote>\n<p>The thing is whenever I delete, add or deduct an item, the cart values does not update.</p>\n</blockquote>\n<p>That's because you load data from Firebase with <code>addListenerForSingleValueEvent</code>, which only loads the data when you call it. If you want to continue to monitor the data for changes, use <code>addValueEventListener</code> instead.</p>\n"}],"owner":{"account_id":10826829,"reputation":17,"user_id":7962501,"display_name":"Gervin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74786741,"answer_count":1,"score":0,"last_activity_date":1670997766,"creation_date":1670935901,"question_id":74785158,"body_markdown":"I am new to android studio and currently watching tutorials. As of now I have a Shopping cart activity where I can increment, decrement and delete items in cart. The thing is whenever I delete, add or deduct an item, the cart values does not update. I still need to change activities to see the changes. Also the item that I deleted still appears at the bottom of recyclerview items after the dialog appearance unless I change the activity and go back. Please help me how to apply real time update. Below are my class files for the cart activity and adapter class.\r\n\r\n**CartActivity.java**\r\n```java\r\n\r\n        @Override\r\n    protected void onStop() {\r\n        if (EventBus.getDefault().hasSubscriberForEvent(MyUpdateCartEvent.class))\r\n            EventBus.getDefault().removeStickyEvent(MyUpdateCartEvent.class);\r\n        EventBus.getDefault().unregister(this);\r\n        super.onStop();\r\n    }\r\n\r\n    @Subscribe(threadMode = ThreadMode.MAIN_ORDERED, sticky = true)\r\n    public void onUpdateCart(MyUpdateCartEvent event) {\r\n        loadCartFromFirebase();\r\n    }\r\n\r\nprivate void loadCartFromFirebase() {\r\n        fAuth = FirebaseAuth.getInstance();\r\n        if(fAuth.getCurrentUser() != null){\r\n            userId = fAuth.getCurrentUser().getUid();\r\n        } else {\r\n            userId = &quot;UNIQUE_USER_ID&quot;;\r\n        }\r\n        List&lt;CartModel&gt; cartModels = new ArrayList&lt;&gt;();\r\n        FirebaseDatabase.getInstance()\r\n                .getReference(&quot;cart&quot;)\r\n                .child(userId)\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (snapshot.exists()) {\r\n                            for (DataSnapshot cartSnapshot : snapshot.getChildren()) {\r\n                                CartModel cartModel = cartSnapshot.getValue(CartModel.class);\r\n                                cartModel.setKey(cartSnapshot.getKey());\r\n                                cartModels.add(cartModel);\r\n                            }\r\n                            cartLoadListener.onCartLoadSuccess(cartModels);\r\n                        } else {\r\n                            cartLoadListener.onCartLoadFailed(&quot;Cart Empty&quot;);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        cartLoadListener.onCartLoadFailed(error.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void init() {\r\n        ButterKnife.bind(this);\r\n\r\n        cartLoadListener = this;\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        recycler_cart.setLayoutManager(layoutManager);\r\n        purchScrnBtn.setOnClickListener(v -&gt; startActivity(new Intent(this, PurchaseActivity.class)));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCartLoadSuccess(List&lt;CartModel&gt; cartModelList) {\r\n        double sum = 0;\r\n        for (CartModel cartModel : cartModelList) {\r\n            sum += cartModel.getTotalPrice();\r\n        }\r\n        textTotal.setText(new StringBuilder(&quot;$&quot;).append(sum));\r\n        MyCartAdapter adapter = new MyCartAdapter(this, cartModelList);\r\n        recycler_cart.setAdapter(adapter);\r\n    }\r\n```\r\n\r\n**MyCartAdapter.java**\r\n```java\r\npackage com.example.cart.adapter;\r\n\r\npublic class CartActivity extends AppCompatActivity implements CartLoadListener {\r\n\r\n\r\n    public MyCartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyCartViewHolder(LayoutInflater.from(context)\r\n                .inflate(R.layout.layout_cart_item, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyCartViewHolder holder, int position) {\r\n        holder.minus.setOnClickListener(v -&gt; {\r\n            minusCartItem(holder,cartModelList.get(position));\r\n        });\r\n        \r\n        holder.delete.setOnClickListener(v -&gt; {\r\n            AlertDialog dialog = new AlertDialog.Builder(context)\r\n                    .setTitle(&quot;Delete item&quot;)\r\n                    .setMessage(&quot;Do you really want to delete item&quot;)\r\n                    .setNegativeButton(&quot;CANCEL&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss())\r\n                    .setPositiveButton(&quot;OK&quot;, (dialogInterface2, i) -&gt; {\r\n\r\n                        //Temp remove\r\n                        notifyItemRemoved(position);\r\n                        deleteFromFirebase(cartModelList.get(position));\r\n                        dialogInterface2.dismiss();\r\n                    }).create();\r\n            dialog.show();\r\n        });\r\n\r\n    }\r\n\r\n    private void deleteFromFirebase(CartModel cartModel) {\r\n        FirebaseDatabase.getInstance()\r\n                .getReference(&quot;cart&quot;)\r\n                .child(userId)\r\n                .child(cartModel.getKey())\r\n                .removeValue()\r\n                .addOnSuccessListener(aVoid -&gt; EventBus.getDefault().postSticky(new MyUpdateCartEvent()));\r\n    }\r\n\r\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\r\n    private void minusCartItem(MyCartViewHolder holder, CartModel cartModel) {\r\n        if(cartModel.getQuantity() &gt; 1)\r\n            cartModel.setQuantity(cartModel.getQuantity()-1);\r\n            cartModel.setTotalPrice(cartModel.getQuantity()*Float.parseFloat(cartModel.getPrice()));\r\n\r\n            //update quantity\r\n            holder.txtQuantity.setText(new StringBuilder().append(cartModel.getQuantity()));\r\n            updateFirebase(cartModel);\r\n    }\r\n\r\n    public class MyCartViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        Unbinder unbinder;\r\n\r\n        public MyCartViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            unbinder = ButterKnife.bind(this, itemView);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Realtime Display Value Change form Firebase","body":"<p>I am new to android studio and currently watching tutorials. As of now I have a Shopping cart activity where I can increment, decrement and delete items in cart. The thing is whenever I delete, add or deduct an item, the cart values does not update. I still need to change activities to see the changes. Also the item that I deleted still appears at the bottom of recyclerview items after the dialog appearance unless I change the activity and go back. Please help me how to apply real time update. Below are my class files for the cart activity and adapter class.</p>\n<p><strong>CartActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        @Override\n    protected void onStop() {\n        if (EventBus.getDefault().hasSubscriberForEvent(MyUpdateCartEvent.class))\n            EventBus.getDefault().removeStickyEvent(MyUpdateCartEvent.class);\n        EventBus.getDefault().unregister(this);\n        super.onStop();\n    }\n\n    @Subscribe(threadMode = ThreadMode.MAIN_ORDERED, sticky = true)\n    public void onUpdateCart(MyUpdateCartEvent event) {\n        loadCartFromFirebase();\n    }\n\nprivate void loadCartFromFirebase() {\n        fAuth = FirebaseAuth.getInstance();\n        if(fAuth.getCurrentUser() != null){\n            userId = fAuth.getCurrentUser().getUid();\n        } else {\n            userId = &quot;UNIQUE_USER_ID&quot;;\n        }\n        List&lt;CartModel&gt; cartModels = new ArrayList&lt;&gt;();\n        FirebaseDatabase.getInstance()\n                .getReference(&quot;cart&quot;)\n                .child(userId)\n                .addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.exists()) {\n                            for (DataSnapshot cartSnapshot : snapshot.getChildren()) {\n                                CartModel cartModel = cartSnapshot.getValue(CartModel.class);\n                                cartModel.setKey(cartSnapshot.getKey());\n                                cartModels.add(cartModel);\n                            }\n                            cartLoadListener.onCartLoadSuccess(cartModels);\n                        } else {\n                            cartLoadListener.onCartLoadFailed(&quot;Cart Empty&quot;);\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        cartLoadListener.onCartLoadFailed(error.getMessage());\n                    }\n                });\n    }\n\n    private void init() {\n        ButterKnife.bind(this);\n\n        cartLoadListener = this;\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        recycler_cart.setLayoutManager(layoutManager);\n        purchScrnBtn.setOnClickListener(v -&gt; startActivity(new Intent(this, PurchaseActivity.class)));\n\n    }\n\n    @Override\n    public void onCartLoadSuccess(List&lt;CartModel&gt; cartModelList) {\n        double sum = 0;\n        for (CartModel cartModel : cartModelList) {\n            sum += cartModel.getTotalPrice();\n        }\n        textTotal.setText(new StringBuilder(&quot;$&quot;).append(sum));\n        MyCartAdapter adapter = new MyCartAdapter(this, cartModelList);\n        recycler_cart.setAdapter(adapter);\n    }\n</code></pre>\n<p><strong>MyCartAdapter.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.cart.adapter;\n\npublic class CartActivity extends AppCompatActivity implements CartLoadListener {\n\n\n    public MyCartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyCartViewHolder(LayoutInflater.from(context)\n                .inflate(R.layout.layout_cart_item, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyCartViewHolder holder, int position) {\n        holder.minus.setOnClickListener(v -&gt; {\n            minusCartItem(holder,cartModelList.get(position));\n        });\n        \n        holder.delete.setOnClickListener(v -&gt; {\n            AlertDialog dialog = new AlertDialog.Builder(context)\n                    .setTitle(&quot;Delete item&quot;)\n                    .setMessage(&quot;Do you really want to delete item&quot;)\n                    .setNegativeButton(&quot;CANCEL&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss())\n                    .setPositiveButton(&quot;OK&quot;, (dialogInterface2, i) -&gt; {\n\n                        //Temp remove\n                        notifyItemRemoved(position);\n                        deleteFromFirebase(cartModelList.get(position));\n                        dialogInterface2.dismiss();\n                    }).create();\n            dialog.show();\n        });\n\n    }\n\n    private void deleteFromFirebase(CartModel cartModel) {\n        FirebaseDatabase.getInstance()\n                .getReference(&quot;cart&quot;)\n                .child(userId)\n                .child(cartModel.getKey())\n                .removeValue()\n                .addOnSuccessListener(aVoid -&gt; EventBus.getDefault().postSticky(new MyUpdateCartEvent()));\n    }\n\n    @SuppressLint(&quot;SuspiciousIndentation&quot;)\n    private void minusCartItem(MyCartViewHolder holder, CartModel cartModel) {\n        if(cartModel.getQuantity() &gt; 1)\n            cartModel.setQuantity(cartModel.getQuantity()-1);\n            cartModel.setTotalPrice(cartModel.getQuantity()*Float.parseFloat(cartModel.getPrice()));\n\n            //update quantity\n            holder.txtQuantity.setText(new StringBuilder().append(cartModel.getQuantity()));\n            updateFirebase(cartModel);\n    }\n\n    public class MyCartViewHolder extends RecyclerView.ViewHolder{\n\n        Unbinder unbinder;\n\n        public MyCartViewHolder(@NonNull View itemView) {\n            super(itemView);\n            unbinder = ButterKnife.bind(this, itemView);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","redis","bitset","bloom-filter"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1670999804,"post_id":74794118,"comment_id":131999903,"body_markdown":"Did you try to use the server side Bloom Filter based on the Redis module RedisBloom? It should allow you to get much higher TP.","body":"Did you try to use the server side Bloom Filter based on the Redis module RedisBloom? It should allow you to get much higher TP."},{"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"score":0,"creation_date":1671033016,"post_id":74794118,"comment_id":132010936,"body_markdown":"Will look at it, though I am curious how large a filter can I configure, eventually I have to clear this one too and my concern is for flows that happen in the meanwhile. I did ponder using in memory filter for the duration but the transition will again be messy","body":"Will look at it, though I am curious how large a filter can I configure, eventually I have to clear this one too and my concern is for flows that happen in the meanwhile. I did ponder using in memory filter for the duration but the transition will again be messy"},{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1671356712,"post_id":74794118,"comment_id":132078575,"body_markdown":"Not sure I got your requirements, but notice this module also supports Cuckoo Filter which also supports deletes from the filter.","body":"Not sure I got your requirements, but notice this module also supports Cuckoo Filter which also supports deletes from the filter."}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670997458,"creation_date":1670997458,"question_id":74794118,"body_markdown":"We use BloomFilter in a pretty busy flow computing environment with about 50K operations per second. Earlier, the filters were implemented on a per node basis and would periodically be cleared, to prevent saturation.\r\n\r\nWith the current implementation based on `BloomFilterRedis`, it&#39;s been a bit of a challenge to keep the filter from saturation by persisting existing values and copying the BitSet over to a new instance, there is no provision to set the older BitSet into the new instance with a setter or a constructor. \r\nLooking to hear from somebody with experience in this library\r\n\r\n","title":"Persisting BloomFilterRedis","body":"<p>We use BloomFilter in a pretty busy flow computing environment with about 50K operations per second. Earlier, the filters were implemented on a per node basis and would periodically be cleared, to prevent saturation.</p>\n<p>With the current implementation based on <code>BloomFilterRedis</code>, it's been a bit of a challenge to keep the filter from saturation by persisting existing values and copying the BitSet over to a new instance, there is no provision to set the older BitSet into the new instance with a setter or a constructor.\nLooking to hear from somebody with experience in this library</p>\n"},{"tags":["java","maven","visual-studio-code","gradle"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670940894,"post_id":74786111,"comment_id":131985852,"body_markdown":"It may be a caching issue. Press ⌘ + ⇧ + P (Command + Shift + P) and select `Java: Clean Java Language Server Workspace`.","body":"It may be a caching issue. Press ⌘ + ⇧ + P (Command + Shift + P) and select <code>Java: Clean Java Language Server Workspace</code>."},{"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"score":0,"creation_date":1670940992,"post_id":74786111,"comment_id":131985883,"body_markdown":"Ye, i tried this already few times, but still without change","body":"Ye, i tried this already few times, but still without change"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670996976,"creation_date":1670996976,"answer_id":74794070,"question_id":74786111,"body_markdown":"Install the [**Gradle for Java**][1] extension. Check to see if all dependencies are included. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor more information on using gradle in vscode see [here][3].\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle\r\n  [2]: https://i.stack.imgur.com/Ngfxf.png\r\n  [3]: https://code.visualstudio.com/docs/java/java-build#_gradle","title":"Gradle project import work in IDEA, but don&#39;t work in VS Code","body":"<p>Install the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle\" rel=\"nofollow noreferrer\"><strong>Gradle for Java</strong></a> extension. Check to see if all dependencies are included.</p>\n<p><a href=\"https://i.stack.imgur.com/Ngfxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ngfxf.png\" alt=\"enter image description here\" /></a></p>\n<p>For more information on using gradle in vscode see <a href=\"https://code.visualstudio.com/docs/java/java-build#_gradle\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670996976,"creation_date":1670940426,"question_id":74786111,"body_markdown":"I have this gradle java project with this **setting.gradle**\r\n\r\n    pluginManagement {\r\n    repositories {\r\n        maven {\r\n            url &quot;${settings.ext.get(&quot;artifactory.contextUrl&quot;)}/example&quot;\r\n            credentials {\r\n                username = &#39;myemail&#39;\r\n                password = &#39;mypassword&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nWhen i import it into IDEA, everything works fine, but i want to import this project into VS Code, but when i try it, gradle build passed just like in IDEA, but it still shows many errors:\r\n[error][1] \r\nand java dont see imports [imports][2]\r\n\r\nobviously it shouldn&#39;t be problem with project and config, but with vs code, cause like i said, IDEA import it normally, does any have idea? \r\n\r\nI tried turn on nested projects in vs code gradle, but without change, really don&#39;t know where could be difference between IDEA and VSCODE gradle.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yd1jj.png\r\n  [2]: https://i.stack.imgur.com/uNuEh.png","title":"Gradle project import work in IDEA, but don&#39;t work in VS Code","body":"<p>I have this gradle java project with this <strong>setting.gradle</strong></p>\n<pre><code>pluginManagement {\nrepositories {\n    maven {\n        url &quot;${settings.ext.get(&quot;artifactory.contextUrl&quot;)}/example&quot;\n        credentials {\n            username = 'myemail'\n            password = 'mypassword'\n        }\n    }\n}\n</code></pre>\n<p>When i import it into IDEA, everything works fine, but i want to import this project into VS Code, but when i try it, gradle build passed just like in IDEA, but it still shows many errors:\n<a href=\"https://i.stack.imgur.com/yd1jj.png\" rel=\"nofollow noreferrer\">error</a>\nand java dont see imports <a href=\"https://i.stack.imgur.com/uNuEh.png\" rel=\"nofollow noreferrer\">imports</a></p>\n<p>obviously it shouldn't be problem with project and config, but with vs code, cause like i said, IDEA import it normally, does any have idea?</p>\n<p>I tried turn on nested projects in vs code gradle, but without change, really don't know where could be difference between IDEA and VSCODE gradle.</p>\n"},{"tags":["java","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":8795884,"reputation":17,"user_id":6573795,"display_name":"Harish K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568625666,"creation_date":1568625666,"answer_id":57953822,"question_id":57950814,"body_markdown":"I could find a solution to send post request with file as form-data. Just need to modify the EntityBuilder code as below:\r\n\r\n    final MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n        builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n        builder.addBinaryBody(&quot;filename&quot;, file, ContentType.DEFAULT_BINARY, &quot;some.xml&quot;);\r\n        final HttpEntity multiPartEntity = builder.build();","title":"Post request with form data as file (wsdl.xml)","body":"<p>I could find a solution to send post request with file as form-data. Just need to modify the EntityBuilder code as below:</p>\n\n<pre><code>final MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n    builder.addBinaryBody(\"filename\", file, ContentType.DEFAULT_BINARY, \"some.xml\");\n    final HttpEntity multiPartEntity = builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10326384,"reputation":21,"user_id":12578834,"display_name":"Kishan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670996863,"creation_date":1670996863,"answer_id":74794060,"question_id":57950814,"body_markdown":"I had similar issue.I fixed that by changing  &#39;mb.addPart(&quot;filename&quot;, file)&#39; to &#39;mb.addBinaryBody(&quot;filename&quot;, file, ContentType.DEFAULT_BINARY, &quot;some.xml&quot;);&#39;.\r\n\r\nWorking solution below : -\r\n\r\n     public  static void post() throws IOException {\r\n            CloseableHttpClient httpclient = HttpClients.createDefault();\r\n            File fileToUse = new File(&quot;/Users/username/Documents/abc.xml&quot;); //e.g. /temp/dinnerplate-special.jpg\r\n            MultipartEntityBuilder entitybuilder = MultipartEntityBuilder.create();\r\n            entitybuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n            entitybuilder.addBinaryBody(&quot;file&quot;, fileToUse,ContentType.DEFAULT_BINARY, &quot;abc.xml&quot;);\r\n            HttpEntity mutiPartHttpEntity = entitybuilder.build();\r\n            RequestBuilder reqbuilder = RequestBuilder.post(&quot;postUrl&quot;);\r\n            reqbuilder.setEntity(mutiPartHttpEntity);\r\n            reqbuilder.addHeader(&quot;Authorization&quot;,&quot;Basic &lt;token&gt;&quot;);\r\n            HttpUriRequest multipartRequest = reqbuilder.build();\r\n            HttpResponse httpresponse = httpclient.execute(multipartRequest);\r\n            System.out.println(httpresponse);\r\n        }","title":"Post request with form data as file (wsdl.xml)","body":"<p>I had similar issue.I fixed that by changing  'mb.addPart(&quot;filename&quot;, file)' to 'mb.addBinaryBody(&quot;filename&quot;, file, ContentType.DEFAULT_BINARY, &quot;some.xml&quot;);'.</p>\n<p>Working solution below : -</p>\n<pre><code> public  static void post() throws IOException {\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n        File fileToUse = new File(&quot;/Users/username/Documents/abc.xml&quot;); //e.g. /temp/dinnerplate-special.jpg\n        MultipartEntityBuilder entitybuilder = MultipartEntityBuilder.create();\n        entitybuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n        entitybuilder.addBinaryBody(&quot;file&quot;, fileToUse,ContentType.DEFAULT_BINARY, &quot;abc.xml&quot;);\n        HttpEntity mutiPartHttpEntity = entitybuilder.build();\n        RequestBuilder reqbuilder = RequestBuilder.post(&quot;postUrl&quot;);\n        reqbuilder.setEntity(mutiPartHttpEntity);\n        reqbuilder.addHeader(&quot;Authorization&quot;,&quot;Basic &lt;token&gt;&quot;);\n        HttpUriRequest multipartRequest = reqbuilder.build();\n        HttpResponse httpresponse = httpclient.execute(multipartRequest);\n        System.out.println(httpresponse);\n    }\n</code></pre>\n"}],"owner":{"account_id":8795884,"reputation":17,"user_id":6573795,"display_name":"Harish K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670996863,"creation_date":1568611592,"question_id":57950814,"body_markdown":"I am trying to make program which sends post request with form-data file attached and same being uploaded as part of post request.\r\n    \r\nI have tried lot of ways, but getting page not found.\r\nHere am trying to create multipart body with multipart entity and passing the object to http.\r\n\r\n\r\n    \r\n    public void uploadwsdl() throws Exception {\r\n\r\n\r\n\t\tMultipartEntityBuilder mb = MultipartEntityBuilder.create();\r\n\t\tFile file = new File(&quot;filpath&quot;);\r\n\t\tmb.addBinaryBody(&quot;filename&quot;, file);\r\n\t\torg.apache.http.HttpEntity fileEntity = mb.build();\r\n\r\n\t\tString wsdlUrl = &quot;url&quot;;\r\n\t\tURL serverUrl = new URL(\r\n\t\t\t\twsdlUrl);\r\n\r\n           String CompanyCodeXML = getData(&quot;CompanyCodeMS&quot;);\r\n           \r\n           System.out.println(&quot;=====Start XML Payload=====&quot;);             \r\n            \r\n           RestResponse response = retrieveStatusFromAPI(wsdlUrl,fileEntity);\r\n           Assert.assertEquals(response.getCode(), BaseHelper.HTTP_200, &quot;Response Code is not same as Expected:&quot;);\r\n           \r\n           String responseContent = response.getContent();           \r\n                      \r\n           Assert.assertEquals(verifySuccessResponse(responseContent), true, &quot;Response Message does not have JobId&quot;);\r\n           \r\n           Assert.assertNotNull(response, &quot;Response is null&quot;);\r\n          \r\n           System.out.println(&quot;=====End XML Payload=====&quot;);\r\n           \r\n    }\r\n   \r\n\t\r\n    private RestResponse retrieveStatusFromAPI (String endPointURL,HttpEntity inputEntity)\r\n                     {\r\n                    \r\n                     RestResponse response = null;\r\n                    \r\n                     try {\r\n                     String userCredentials = &quot;test&quot; + &quot;:&quot; + &quot;pwd&quot;;\r\n                     String basicAuth = &quot;Basic &quot;+ new String(Base64.getEncoder().encode(userCredentials.getBytes()));\r\n     \r\n                     HttpRequests connection = new HttpRequests();\r\n                    \r\n                     response = connection.httpPost(endPointURL, basicAuth, inputEntity);\r\n                    \r\n                     } catch (Exception ioe) {\r\n                     ioe.printStackTrace();\r\n                    \r\n                     }                    \r\n                    \r\n                     return response;\r\n              }","title":"Post request with form data as file (wsdl.xml)","body":"<p>I am trying to make program which sends post request with form-data file attached and same being uploaded as part of post request.</p>\n\n<p>I have tried lot of ways, but getting page not found.\nHere am trying to create multipart body with multipart entity and passing the object to http.</p>\n\n<pre><code>public void uploadwsdl() throws Exception {\n\n\n    MultipartEntityBuilder mb = MultipartEntityBuilder.create();\n    File file = new File(\"filpath\");\n    mb.addBinaryBody(\"filename\", file);\n    org.apache.http.HttpEntity fileEntity = mb.build();\n\n    String wsdlUrl = \"url\";\n    URL serverUrl = new URL(\n            wsdlUrl);\n\n       String CompanyCodeXML = getData(\"CompanyCodeMS\");\n\n       System.out.println(\"=====Start XML Payload=====\");             \n\n       RestResponse response = retrieveStatusFromAPI(wsdlUrl,fileEntity);\n       Assert.assertEquals(response.getCode(), BaseHelper.HTTP_200, \"Response Code is not same as Expected:\");\n\n       String responseContent = response.getContent();           \n\n       Assert.assertEquals(verifySuccessResponse(responseContent), true, \"Response Message does not have JobId\");\n\n       Assert.assertNotNull(response, \"Response is null\");\n\n       System.out.println(\"=====End XML Payload=====\");\n\n}\n\n\nprivate RestResponse retrieveStatusFromAPI (String endPointURL,HttpEntity inputEntity)\n                 {\n\n                 RestResponse response = null;\n\n                 try {\n                 String userCredentials = \"test\" + \":\" + \"pwd\";\n                 String basicAuth = \"Basic \"+ new String(Base64.getEncoder().encode(userCredentials.getBytes()));\n\n                 HttpRequests connection = new HttpRequests();\n\n                 response = connection.httpPost(endPointURL, basicAuth, inputEntity);\n\n                 } catch (Exception ioe) {\n                 ioe.printStackTrace();\n\n                 }                    \n\n                 return response;\n          }\n</code></pre>\n"},{"tags":["java","increment","final"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1670926713,"post_id":74783173,"comment_id":131980801,"body_markdown":"You likely intended to have another variable that keeps track of the next ID to use, which then would not be final and would be static. `private static int nextPassengerId = 0;`. You would then do `idOfPassenger = nextPassengerId;` and increment that by one, `nextPassengerId++;`. Be aware of multithreading issues, use `AtomicInteger` instead for `nextPassengerId`, if that is an issue.","body":"You likely intended to have another variable that keeps track of the next ID to use, which then would not be final and would be static. <code>private static int nextPassengerId = 0;</code>. You would then do <code>idOfPassenger = nextPassengerId;</code> and increment that by one, <code>nextPassengerId++;</code>. Be aware of multithreading issues, use <code>AtomicInteger</code> instead for <code>nextPassengerId</code>, if that is an issue."}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670926788,"creation_date":1670926788,"answer_id":74783266,"question_id":74783173,"body_markdown":"The point of a final field is that it cannot be reassigned to a new value. So you cannot increment it. But you misunderstand the assignment. You are not supposed to increment `private final int idOfPassenger;` of your existing objects but instead always initialize it with one value higher than the last created object when creating a new object. You can realize that behavior by introducing a static field that belongs to the class and not any specific object:\r\n\r\n    public class Passenger {\r\n\r\n        private final int idOfPassenger;\r\n        private final String name;\r\n        private static int currentId = 0;\r\n\r\n        public Passenger(String name) {\r\n            currentId++;\r\n            this.name = name;\r\n            this.idOfPassenger = currentId;\r\n        }\r\n    }\r\n\r\nThis will create a static field that belong to the class and all your objects share. It is initialized with 0, then each time a new object gets created that static field is incremented and the `final int idOfPassenger` value set to the current value of that static field.","title":"how to increment final attribute variable in constructor?","body":"<p>The point of a final field is that it cannot be reassigned to a new value. So you cannot increment it. But you misunderstand the assignment. You are not supposed to increment <code>private final int idOfPassenger;</code> of your existing objects but instead always initialize it with one value higher than the last created object when creating a new object. You can realize that behavior by introducing a static field that belongs to the class and not any specific object:</p>\n<pre><code>public class Passenger {\n\n    private final int idOfPassenger;\n    private final String name;\n    private static int currentId = 0;\n\n    public Passenger(String name) {\n        currentId++;\n        this.name = name;\n        this.idOfPassenger = currentId;\n    }\n}\n</code></pre>\n<p>This will create a static field that belong to the class and all your objects share. It is initialized with 0, then each time a new object gets created that static field is incremented and the <code>final int idOfPassenger</code> value set to the current value of that static field.</p>\n"}],"owner":{"display_name":"user19293033"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783266,"answer_count":1,"score":0,"last_activity_date":1670996719,"creation_date":1670926384,"question_id":74783173,"body_markdown":"In my homework, I have a Java class with attributes\r\n\r\n```Java\r\nprivate final int idOfPassenger;\r\nprivate final String name;\r\n```\r\n\r\nin the constructor which takes only a `String` as parameter, I am supposed to initialise both the name and the id of the passenger. But every time I create a `new Passenger`, I am supposed to increment the `idOfPassenger` variable by one (starting from 0), so no passengers have the same number.\r\n\r\nI am not allowed to change the `private final` or the constructor parameters.\r\nHow do I increment `idOfPassengers` by 1 every time I create a new passenger? \r\n\r\n\r\n```Java\r\npublic class Passenger {\r\n\r\n    private final int idOfPassenger;\r\n    private final String name;\r\n\r\n    public Passenger(String name) {\r\n        this.name = name;\r\n        this.idOfPassenger = 0;\r\n    }\r\n}\r\n```","title":"how to increment final attribute variable in constructor?","body":"<p>In my homework, I have a Java class with attributes</p>\n<pre><code>private final int idOfPassenger;\nprivate final String name;\n</code></pre>\n<p>in the constructor which takes only a <code>String</code> as parameter, I am supposed to initialise both the name and the id of the passenger. But every time I create a <code>new Passenger</code>, I am supposed to increment the <code>idOfPassenger</code> variable by one (starting from 0), so no passengers have the same number.</p>\n<p>I am not allowed to change the <code>private final</code> or the constructor parameters.\nHow do I increment <code>idOfPassengers</code> by 1 every time I create a new passenger?</p>\n<pre><code>public class Passenger {\n\n    private final int idOfPassenger;\n    private final String name;\n\n    public Passenger(String name) {\n        this.name = name;\n        this.idOfPassenger = 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","accessibility","automation-testing"],"owner":{"account_id":11556081,"reputation":1,"user_id":8467216,"display_name":"bhupathi_m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670996528,"creation_date":1670996528,"question_id":74794025,"body_markdown":"I have a Test automation framework built using Java, Selenium and trying to run HTML_CodeSniffer inside java code to get the desired Accessibility violation logs. \r\n\r\nhttps://github.com/squizlabs/HTML_CodeSniffer\r\n\r\nI tried to embed this into our Java code and run using using trireme (https://github.com/apigee/trireme) as we dont have Node.JS setup but this isn&#39;t providing desired Accessibility violation logs. \r\n\r\nHow do we get HTML CodeSniffer run inside our Java code ? \r\n\r\nTried to integrate HTML CodeSniffer with Java code using Trireme, it didn&#39;t produce desired Accessibility violation logs.","title":"How to run HTML_CodeSniffer inside Java code","body":"<p>I have a Test automation framework built using Java, Selenium and trying to run HTML_CodeSniffer inside java code to get the desired Accessibility violation logs.</p>\n<p><a href=\"https://github.com/squizlabs/HTML_CodeSniffer\" rel=\"nofollow noreferrer\">https://github.com/squizlabs/HTML_CodeSniffer</a></p>\n<p>I tried to embed this into our Java code and run using using trireme (<a href=\"https://github.com/apigee/trireme\" rel=\"nofollow noreferrer\">https://github.com/apigee/trireme</a>) as we dont have Node.JS setup but this isn't providing desired Accessibility violation logs.</p>\n<p>How do we get HTML CodeSniffer run inside our Java code ?</p>\n<p>Tried to integrate HTML CodeSniffer with Java code using Trireme, it didn't produce desired Accessibility violation logs.</p>\n"},{"tags":["java","maven","swagger","glassfish-4.1"],"answers":[{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1456074189,"creation_date":1456074189,"answer_id":35539070,"question_id":35538801,"body_markdown":"The stack trace mentions: `java.lang.ClassNotFoundException: com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found by com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider`\r\n\r\nand you are excluding the JAXB annotation module:\r\n\r\n    &lt;exclusion&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\nThe exclusion means a dependency is not resolved, and therefore you&#39;ll get the `ClassNotFoundException`","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>The stack trace mentions: <code>java.lang.ClassNotFoundException: com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found by com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider</code></p>\n\n<p>and you are excluding the JAXB annotation module:</p>\n\n<pre><code>&lt;exclusion&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n\n<p>The exclusion means a dependency is not resolved, and therefore you'll get the <code>ClassNotFoundException</code></p>\n"},{"tags":[],"owner":{"account_id":1113341,"reputation":14270,"user_id":1103327,"display_name":"Ron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456165019,"creation_date":1456165019,"answer_id":35560919,"question_id":35538801,"body_markdown":"I don&#39;t know if this applies to 4.1.1 as well, but Glassfish 4.1 was shipped with old Jackson version and that was the cause to the issue you bring above.\r\n\r\nTo solve it, you&#39;d have to force Glassfish to load Jackson 2.4.5 at least which is the minimum requirement for swagger-core. https://stackoverflow.com/questions/27334528/upgrading-jackson-in-glassfish-4-1 covers this procedure.","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>I don't know if this applies to 4.1.1 as well, but Glassfish 4.1 was shipped with old Jackson version and that was the cause to the issue you bring above.</p>\n\n<p>To solve it, you'd have to force Glassfish to load Jackson 2.4.5 at least which is the minimum requirement for swagger-core. <a href=\"https://stackoverflow.com/questions/27334528/upgrading-jackson-in-glassfish-4-1\">Upgrading Jackson in GlassFish 4.1</a> covers this procedure.</p>\n"},{"tags":[],"owner":{"account_id":4108798,"reputation":3209,"user_id":3371954,"display_name":"Roberto Rodriguez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491152834,"creation_date":1488302817,"answer_id":42515143,"question_id":35538801,"body_markdown":"This worked for me:\r\n\r\nSteps:\r\n1-Stop domain\r\n\r\n2-Remove content of this folder: Glassfish\\glassfish\\domains\\DOMAIN_NAME\\osgi-cache\\felix\r\n\r\n3-In this folder: C:\\Glassfish\\glassfish\\modules\r\nSubstitute jackson libraries by the 2.4.4 version:\r\n\r\n\r\njackson-module-jaxb-annotations-2.4.4   \r\n\r\njackson-jaxrs-json-provider-2.4.4\r\n\r\njackson-jaxrs-base-2.4.4\r\n\r\njackson-databind-2.4.4\r\n\r\njackson-annotations-2.4.4\r\n\r\njackson-core-2.4.4\r\n\r\n\r\n4-Start domain\r\n\r\nI hope it helps  :-)","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>This worked for me:</p>\n\n<p>Steps:\n1-Stop domain</p>\n\n<p>2-Remove content of this folder: Glassfish\\glassfish\\domains\\DOMAIN_NAME\\osgi-cache\\felix</p>\n\n<p>3-In this folder: C:\\Glassfish\\glassfish\\modules\nSubstitute jackson libraries by the 2.4.4 version:</p>\n\n<p>jackson-module-jaxb-annotations-2.4.4   </p>\n\n<p>jackson-jaxrs-json-provider-2.4.4</p>\n\n<p>jackson-jaxrs-base-2.4.4</p>\n\n<p>jackson-databind-2.4.4</p>\n\n<p>jackson-annotations-2.4.4</p>\n\n<p>jackson-core-2.4.4</p>\n\n<p>4-Start domain</p>\n\n<p>I hope it helps  :-)</p>\n"},{"tags":[],"owner":{"account_id":11930542,"reputation":69,"user_id":8730519,"display_name":"RiTesh SrivasTav"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580408596,"creation_date":1580408596,"answer_id":59992244,"question_id":35538801,"body_markdown":"Add 2 Dependency - it worked for me\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>Add 2 Dependency - it worked for me</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670996117,"creation_date":1670996117,"answer_id":74793981,"question_id":35538801,"body_markdown":"My application is with `springframework` and I also had this problem.\r\nI noticed that different versions of `springframework` and `Jackson` are incompatible with each other.\r\nThe problem was solved by removing all `Jackson` dependencies from the pom file.","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>My application is with <code>springframework</code> and I also had this problem.\nI noticed that different versions of <code>springframework</code> and <code>Jackson</code> are incompatible with each other.\nThe problem was solved by removing all <code>Jackson</code> dependencies from the pom file.</p>\n"}],"owner":{"account_id":7887752,"reputation":145,"user_id":5959137,"display_name":"rtnyc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25270,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35539070,"answer_count":5,"score":9,"last_activity_date":1670996117,"creation_date":1456072918,"question_id":35538801,"body_markdown":"my first post on SO and expecting good stuff in return :-)\r\n\r\nI have developed a small java restful services app and integrated with Swagger. I have @Controller -&gt; @Service -&gt; @Repository architecture. I have deployed on Glassfish (4.1.1), when I use Chrome&#39;s &#39;Advanced Rest Client&#39;, I am able to perfectly send and receive rest calls (GET/POST etc), but when I use Swagger, it throws the following exception &#39;after Controller returns the correct response&#39;.\r\n\r\nI have been struggling with this by changing the maven entry versions, changing the moxy jar, delting felix as suggested in some forums etc, none seem to help.\r\n\r\nHere are more details ...\r\n\r\nException:\r\n----------\r\n\r\n      StandardWrapperValve[com.xxx.config.ApplicationConfig]: Servlet.service() for servlet com.xxx.config.ApplicationConfig threw exception\r\n    java.lang.ClassNotFoundException: com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found by com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider [130]\r\n    \tat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1532)\r\n    \tat org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringImpl.java:75)\r\n    \tat org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1955)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\nCode:\r\n-----\r\n\r\n    @Controller\r\n    @Path(&quot;/document&quot;)\r\n    @Api(value = &quot;/document&quot;, description = &quot;Document Controller &quot;)\r\n    public class DocumentController {\r\n    \r\n    \t@Inject\r\n    \tDocumentService documentService;\r\n    \r\n    \t@GET\r\n    \t@Path(&quot;/{id}&quot;)\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \t@ApiOperation(value = &quot;Get Document.&quot;, notes = &quot;Get Document Call&quot;)\r\n    \t@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;OK&quot;),\r\n    \t\t\t@ApiResponse(code = 500, message = &quot;Something wrong in Server&quot;) })\r\n    \tpublic DtoDocument getDocument(@PathParam(&quot;id&quot;) Integer docId) {\r\n    \t\tDocument doc = documentService.getDocument(docId);\r\n    \t\tDtoDocument dto = toDto(doc);\r\n    \t\treturn dto;\r\n    \t}\r\n    }\r\n\r\n    @Service\r\n    @Transactional\r\n    public class DocumentService {\r\n    \r\n    \t@Inject\r\n    \tDocumentRepository repository;\r\n    \r\n    \tpublic Document getDocument(Integer id) {\r\n    \t\treturn repository.getDocumentById(id);\r\n    \t}\r\n    \r\n    }\r\n\r\n    @Repository\r\n    public class DocumentRepository {\r\n    \r\n    \tpublic static final String COLLECTION_NAME = &quot;document&quot;;\r\n    \r\n    \t@Inject\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \tpublic Document getDocumentById(Integer Id) {\r\n    \t\tDocument doc = getMongoTemplate().findOne(Query.query(Criteria.where(&quot;id&quot;).is(Id)), Document.class, COLLECTION_NAME);\r\n    \t\treturn doc;\r\n    \t}\r\n    \r\n    }\r\n\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class ApplicationConfig extends Application {\r\n    \r\n    \t@Override\r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n    \t\tSet&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet();\r\n    \r\n    \t\tresources.add(com.wordnik.swagger.jaxrs.listing.ApiListingResource.class);\r\n    \t\tresources.add(com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider.class);\r\n    \t\tresources.add(com.wordnik.swagger.jaxrs.listing.ApiListingResourceJSON.class);\r\n    \t\tresources.add(com.wordnik.swagger.jaxrs.listing.ResourceListingProvider.class);\r\n    \r\n    \t\taddRestResourceClasses(resources);\r\n    \r\n    \t\treturn resources;\r\n    \t}\r\n    \r\n    \tprivate void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\r\n    \t\t// Custom resources in the project (all restful services)\r\n    \t\tresources.add(com.xxx.web.rest.DocumentController.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nbeans.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n    \tbean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nswagger entry in the pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.wordnik&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-jersey-jaxrs_2.10&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.13&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-spring&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAppreciate if anyone can tell me what exactly is the issue ... its been a frustrating week &amp; am stuck with this, not making any progress.\r\n\r\n","title":"com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found --- while using Swagger","body":"<p>my first post on SO and expecting good stuff in return :-)</p>\n\n<p>I have developed a small java restful services app and integrated with Swagger. I have @Controller -> @Service -> @Repository architecture. I have deployed on Glassfish (4.1.1), when I use Chrome's 'Advanced Rest Client', I am able to perfectly send and receive rest calls (GET/POST etc), but when I use Swagger, it throws the following exception 'after Controller returns the correct response'.</p>\n\n<p>I have been struggling with this by changing the maven entry versions, changing the moxy jar, delting felix as suggested in some forums etc, none seem to help.</p>\n\n<p>Here are more details ...</p>\n\n<h2>Exception:</h2>\n\n<pre><code>  StandardWrapperValve[com.xxx.config.ApplicationConfig]: Servlet.service() for servlet com.xxx.config.ApplicationConfig threw exception\njava.lang.ClassNotFoundException: com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector not found by com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider [130]\n    at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1532)\n    at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringImpl.java:75)\n    at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1955)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n\n<h2>Code:</h2>\n\n<pre><code>@Controller\n@Path(\"/document\")\n@Api(value = \"/document\", description = \"Document Controller \")\npublic class DocumentController {\n\n    @Inject\n    DocumentService documentService;\n\n    @GET\n    @Path(\"/{id}\")\n    @Produces(MediaType.APPLICATION_JSON)\n    @ApiOperation(value = \"Get Document.\", notes = \"Get Document Call\")\n    @ApiResponses(value = { @ApiResponse(code = 200, message = \"OK\"),\n            @ApiResponse(code = 500, message = \"Something wrong in Server\") })\n    public DtoDocument getDocument(@PathParam(\"id\") Integer docId) {\n        Document doc = documentService.getDocument(docId);\n        DtoDocument dto = toDto(doc);\n        return dto;\n    }\n}\n\n@Service\n@Transactional\npublic class DocumentService {\n\n    @Inject\n    DocumentRepository repository;\n\n    public Document getDocument(Integer id) {\n        return repository.getDocumentById(id);\n    }\n\n}\n\n@Repository\npublic class DocumentRepository {\n\n    public static final String COLLECTION_NAME = \"document\";\n\n    @Inject\n    private MongoTemplate mongoTemplate;\n\n    public Document getDocumentById(Integer Id) {\n        Document doc = getMongoTemplate().findOne(Query.query(Criteria.where(\"id\").is(Id)), Document.class, COLLECTION_NAME);\n        return doc;\n    }\n\n}\n\n@ApplicationPath(\"/rest\")\npublic class ApplicationConfig extends Application {\n\n    @Override\n    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet();\n\n        resources.add(com.wordnik.swagger.jaxrs.listing.ApiListingResource.class);\n        resources.add(com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider.class);\n        resources.add(com.wordnik.swagger.jaxrs.listing.ApiListingResourceJSON.class);\n        resources.add(com.wordnik.swagger.jaxrs.listing.ResourceListingProvider.class);\n\n        addRestResourceClasses(resources);\n\n        return resources;\n    }\n\n    private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\n        // Custom resources in the project (all restful services)\n        resources.add(com.xxx.web.rest.DocumentController.class);\n    }\n\n}\n</code></pre>\n\n<p>beans.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\"\n    bean-discovery-mode=\"all\"&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>swagger entry in the pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.wordnik&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jersey-jaxrs_2.10&lt;/artifactId&gt;\n            &lt;version&gt;1.3.13&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-spring&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-servlet&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-module-jaxb-annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Appreciate if anyone can tell me what exactly is the issue ... its been a frustrating week &amp; am stuck with this, not making any progress.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","error-handling"],"answers":[{"tags":[],"owner":{"display_name":"user10871691"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1547065817,"creation_date":1547065817,"answer_id":54117864,"question_id":54116245,"body_markdown":"To make it work, you need to set `throwExceptionIfNoHandlerFound` property on DispecherServlet. You can do that with:\r\n\r\n    spring.mvc.throwExceptionIfNoHandlerFound=true\r\n\r\nin `application.properties` file, otherwise the requests will always be forwarded to the default servlet and NoHandlerFoundException would ever be thrown.\r\n\r\nThe problem is, even with this configuration, it doesn&#39;t work. From the documentation:\r\n\r\n&gt; Note that if\r\n&gt; org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler is\r\n&gt; used, then requests will always be forwarded to the default servlet\r\n&gt; and NoHandlerFoundException would never be thrown in that case.\r\n\r\nBecause Spring Boot uses by default the `org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler` you&#39;ll have to override this using your own `WebMvcConfigurer`:\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n        \t// Do nothing instead of configurer.enable();\r\n        }\r\n    } \r\n\r\nOf course, the above class might be more complicated in your case.","title":"404 Exception not handled in Spring ControllerAdvice","body":"<p>To make it work, you need to set <code>throwExceptionIfNoHandlerFound</code> property on DispecherServlet. You can do that with:</p>\n\n<pre><code>spring.mvc.throwExceptionIfNoHandlerFound=true\n</code></pre>\n\n<p>in <code>application.properties</code> file, otherwise the requests will always be forwarded to the default servlet and NoHandlerFoundException would ever be thrown.</p>\n\n<p>The problem is, even with this configuration, it doesn't work. From the documentation:</p>\n\n<blockquote>\n  <p>Note that if\n  org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler is\n  used, then requests will always be forwarded to the default servlet\n  and NoHandlerFoundException would never be thrown in that case.</p>\n</blockquote>\n\n<p>Because Spring Boot uses by default the <code>org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler</code> you'll have to override this using your own <code>WebMvcConfigurer</code>:</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@EnableWebMvc\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        // Do nothing instead of configurer.enable();\n    }\n} \n</code></pre>\n\n<p>Of course, the above class might be more complicated in your case.</p>\n"},{"tags":[],"owner":{"account_id":12057677,"reputation":311,"user_id":8817846,"display_name":"zwlxt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548519821,"creation_date":1548519821,"answer_id":54380275,"question_id":54116245,"body_markdown":"Another way to do so is `ErrorController`\r\n\r\n    @Controller\r\n    public class MyErrorController implements ErrorController {\r\n    \r\n        @GetMapping(&quot;/error&quot;)\r\n        public ModelAndView errorHandler(HttpServletRequest req) {\r\n            // Get status code to determine which view should be returned\r\n            Object statusCode = req.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n            // In this case, status code will be shown in a view\r\n            ModelAndView mav = new ModelAndView(&quot;error_default&quot;);\r\n            mav.addObject(&quot;code&quot;, statusCode.toString());\r\n            return mav;\r\n        }\r\n    \r\n        public String getErrorPath() {\r\n            return &quot;/error&quot;;\r\n        }\r\n    }","title":"404 Exception not handled in Spring ControllerAdvice","body":"<p>Another way to do so is <code>ErrorController</code></p>\n\n<pre><code>@Controller\npublic class MyErrorController implements ErrorController {\n\n    @GetMapping(\"/error\")\n    public ModelAndView errorHandler(HttpServletRequest req) {\n        // Get status code to determine which view should be returned\n        Object statusCode = req.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n        // In this case, status code will be shown in a view\n        ModelAndView mav = new ModelAndView(\"error_default\");\n        mav.addObject(\"code\", statusCode.toString());\n        return mav;\n    }\n\n    public String getErrorPath() {\n        return \"/error\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6732338,"reputation":639,"user_id":5188211,"display_name":"Mahesh Narwade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670996037,"creation_date":1670996037,"answer_id":74793973,"question_id":54116245,"body_markdown":"Add the below line in **application.properties**\r\n\r\nspring.mvc.throwExceptionIfNoHandlerFound=true\r\n\r\nand **@EnableWebMvc** with **@ControllerAdvice**, \r\nNote: add @Override over handleNoHandlerFoundException method\r\nthis worked for me!\r\n\r\n    @EnableWebMvc\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \t@Override\r\n    \tprotected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers,\r\n    \t\t\tHttpStatus status, WebRequest request) {\r\n    \t\tCustomResponse response = new CustomResponse();\r\n    \t\tresponse.setTimestamp(LocalDateTime.now());\r\n    \t\tresponse.setMessage(ApplicationErrorCodes.NO_HANDLER_FOUND.getErrorMessage());\r\n    \t\tresponse.setStatus(HttpStatus.BAD_REQUEST);\r\n    \t\tresponse.setErrorCode(ApplicationErrorCodes.NO_HANDLER_FOUND.getErrorCode());\r\n    \t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\r\n    \t}\r\n    }","title":"404 Exception not handled in Spring ControllerAdvice","body":"<p>Add the below line in <strong>application.properties</strong></p>\n<p>spring.mvc.throwExceptionIfNoHandlerFound=true</p>\n<p>and <strong>@EnableWebMvc</strong> with <strong>@ControllerAdvice</strong>,\nNote: add @Override over handleNoHandlerFoundException method\nthis worked for me!</p>\n<pre><code>@EnableWebMvc\n@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers,\n            HttpStatus status, WebRequest request) {\n        CustomResponse response = new CustomResponse();\n        response.setTimestamp(LocalDateTime.now());\n        response.setMessage(ApplicationErrorCodes.NO_HANDLER_FOUND.getErrorMessage());\n        response.setStatus(HttpStatus.BAD_REQUEST);\n        response.setErrorCode(ApplicationErrorCodes.NO_HANDLER_FOUND.getErrorCode());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7030924,"reputation":2068,"user_id":5386668,"display_name":"lch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9862,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54117864,"answer_count":3,"score":9,"last_activity_date":1670996037,"creation_date":1547058536,"question_id":54116245,"body_markdown":"I have a simple Spring MVC application in which I want to handle all the unmapped urls using `@ControllerAdvice`.\r\nHere is the controller:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerController {\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        public String handle404() {\r\n            return &quot;exceptions/404page&quot;;\r\n        }\r\n    }\r\n\r\nStill, every time get Whitelabel Error Page.\r\n\r\nI tried using `RuntimeException.class`, `HttpStatus.BAD_REQUEST` and extending the class with `NoHandlerFoundException` but no use.\r\n\r\nAny suggestions?\r\n","title":"404 Exception not handled in Spring ControllerAdvice","body":"<p>I have a simple Spring MVC application in which I want to handle all the unmapped urls using <code>@ControllerAdvice</code>.\nHere is the controller:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerController {\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ExceptionHandler(NoHandlerFoundException.class)\n    public String handle404() {\n        return \"exceptions/404page\";\n    }\n}\n</code></pre>\n\n<p>Still, every time get Whitelabel Error Page.</p>\n\n<p>I tried using <code>RuntimeException.class</code>, <code>HttpStatus.BAD_REQUEST</code> and extending the class with <code>NoHandlerFoundException</code> but no use.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670985671,"creation_date":1670980924,"answer_id":74792650,"question_id":74792570,"body_markdown":"`FileInputStream` works on files. Separately that&#39;s not how you deal with resources, and that&#39;s not how you read files in, and this isn&#39;t how to use `getResource`. Here&#39;s how to do it right:\r\n\r\n```\r\nString sourceVertex = &quot;foo.png&quot;; // if foo.png is in the same dir as shader class\r\nString sourceVertex = &quot;/imgs/foo.png&quot;; // if it&#39;s in a dir named &#39;imgs&#39; in the root of the jar\r\n\r\ntry (var in = Shader.class.getResourceAsStream(sourceVertex)) {\r\n  sourceVertex = new String(in.readAllBytes(), StandardCharsets.UTF_8);\r\n}\r\n```\r\n\r\nThis:\r\n\r\n* Uses try-with to avoid the memory leak.\r\n* Avoids the strictly inferior `getClassLoader()` - that fails in exotic circumstances and is needless typing.\r\n* avoids `FileInputStream`, which doesn&#39;t work except on literally files.\r\n* Sets charset encoding, which you should always do (or, target java17+ only with `--release 17`, where UTF_8 is now the default).\r\n","title":"Problem getting resources after building a .jar","body":"<p><code>FileInputStream</code> works on files. Separately that's not how you deal with resources, and that's not how you read files in, and this isn't how to use <code>getResource</code>. Here's how to do it right:</p>\n<pre><code>String sourceVertex = &quot;foo.png&quot;; // if foo.png is in the same dir as shader class\nString sourceVertex = &quot;/imgs/foo.png&quot;; // if it's in a dir named 'imgs' in the root of the jar\n\ntry (var in = Shader.class.getResourceAsStream(sourceVertex)) {\n  sourceVertex = new String(in.readAllBytes(), StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>This:</p>\n<ul>\n<li>Uses try-with to avoid the memory leak.</li>\n<li>Avoids the strictly inferior <code>getClassLoader()</code> - that fails in exotic circumstances and is needless typing.</li>\n<li>avoids <code>FileInputStream</code>, which doesn't work except on literally files.</li>\n<li>Sets charset encoding, which you should always do (or, target java17+ only with <code>--release 17</code>, where UTF_8 is now the default).</li>\n</ul>\n"}],"owner":{"account_id":18319346,"reputation":3,"user_id":13340508,"display_name":"Danila Maximov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74792650,"answer_count":1,"score":0,"last_activity_date":1670995285,"creation_date":1670979943,"question_id":74792570,"body_markdown":"If you run the application from the idea, everything works correctly, it finds the resources.\r\nIf I make an artifact **.jar**, there is an error.\r\nAll files are present, what&#39;s the problem?\r\n\r\n\r\n```\r\nfs = new FileInputStream(Shader.class.getClassLoader().getResource(sourceVertex).getFile().replaceFirst(&quot;/&quot;, &quot;&quot;));\r\nsourceVertex = new String(fs.readAllBytes());\r\n```\r\n\r\n**java.exe -jar OpenGL.jar**\r\nOUT:\r\n\r\n```none\r\njava.io.FileNo tFoundException:file:E:\\IdeaProjects\\MYPROJECTS\\OpenGL\\out\\artifacts\\OpenGL_jar\\OpenGL.jar!\\engine\\vs.glsl\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n        at en.toshaessential.timusengine.render.Shader.init(Shader.java:29)\r\n        at en.toshaessential.timusengine.render.Shader.&lt;init&gt;(Shader.java:23)\r\n        at en.toshaessential.timusengine.render.Engine.init(Engine.java:65)\r\n        at en.toshaessential.timusengine.render.Engine.&lt;init&gt;(Engine.java:55)\r\n        at en.toshaessential.timusengine.boot.Application.main(Application.java:11)\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at en.toshaessential.timusengine.render.Shader.init(Shader.java:37)\r\n        at en.toshaessential.timusengine.render.Shader.&lt;init&gt;(Shader.java:23)\r\n        at en.toshaessential.timusengine.render.Engine.init(Engine.java:65)\r\n        at en.toshaessential.timusengine.render.Engine.&lt;init&gt;(Engine.java:55)\r\n        at en.toshaessential.timusengine.boot.Application.main(Application.java:11)\r\n```\r\n\r\nI also noticed that when I search for files I search in **OpenGL.jar!** and not in **OpenGL.jar**. Why so?\r\n\r\n\r\nI wanted to build a .jar application and run it","title":"Problem getting resources after building a .jar","body":"<p>If you run the application from the idea, everything works correctly, it finds the resources.\nIf I make an artifact <strong>.jar</strong>, there is an error.\nAll files are present, what's the problem?</p>\n<pre><code>fs = new FileInputStream(Shader.class.getClassLoader().getResource(sourceVertex).getFile().replaceFirst(&quot;/&quot;, &quot;&quot;));\nsourceVertex = new String(fs.readAllBytes());\n</code></pre>\n<p><strong>java.exe -jar OpenGL.jar</strong>\nOUT:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.io.FileNo tFoundException:file:E:\\IdeaProjects\\MYPROJECTS\\OpenGL\\out\\artifacts\\OpenGL_jar\\OpenGL.jar!\\engine\\vs.glsl\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n        at en.toshaessential.timusengine.render.Shader.init(Shader.java:29)\n        at en.toshaessential.timusengine.render.Shader.&lt;init&gt;(Shader.java:23)\n        at en.toshaessential.timusengine.render.Engine.init(Engine.java:65)\n        at en.toshaessential.timusengine.render.Engine.&lt;init&gt;(Engine.java:55)\n        at en.toshaessential.timusengine.boot.Application.main(Application.java:11)\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at en.toshaessential.timusengine.render.Shader.init(Shader.java:37)\n        at en.toshaessential.timusengine.render.Shader.&lt;init&gt;(Shader.java:23)\n        at en.toshaessential.timusengine.render.Engine.init(Engine.java:65)\n        at en.toshaessential.timusengine.render.Engine.&lt;init&gt;(Engine.java:55)\n        at en.toshaessential.timusengine.boot.Application.main(Application.java:11)\n</code></pre>\n<p>I also noticed that when I search for files I search in <strong>OpenGL.jar!</strong> and not in <strong>OpenGL.jar</strong>. Why so?</p>\n<p>I wanted to build a .jar application and run it</p>\n"},{"tags":["java","android","webview","android-webview","chrome-custom-tabs"],"owner":{"account_id":26552408,"reputation":151,"user_id":20181506,"display_name":"Meow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670995240,"creation_date":1670901597,"question_id":74779619,"body_markdown":"guys I want to ask why every time i pressed back button will pop out chrome customtab since I set for a few url only can be pop out chrome customtab but seem not working is there any problem? \r\n\r\n\r\n**Chrome customtab**\r\n```\r\npublic class Callback extends WebViewClient {\r\n\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n if (!url.contains(&quot;.pdf&quot;) || url.contains(&quot;/report/PersonalPurchaseHistory&quot;) || \r\n  url.contains(&quot;/user/changeProfile&quot;) || url.contains(&quot;linkedin.com&quot;) || \r\n  url.contains(&quot;/bonus/MonthlyIncomeStatement&quot;)) {\r\n  CustomTabsIntent.Builder customIntent = new CustomTabsIntent.Builder();\r\n  customIntent.setToolbarColor(ContextCompat.getColor(MainActivity.this, R.color.purple_200));\r\n openCustomTab(MainActivity.this, customIntent.build(), Uri.parse(url));\r\n}\r\nelse {\r\n  view.loadUrl(url);\r\n  }\r\n return true;\r\n }\r\n}\r\n```\r\n\r\n**Back Press**\r\n\r\n```\r\n@Override\r\n    public void onBackPressed() {\r\n        if (doubleBackToExitPressed == 2) {\r\n            finishAffinity();\r\n            System.exit(0);\r\n        }\r\n        else {\r\n            doubleBackToExitPressed++;\r\n            Toast.makeText(this, &quot;Please press Back again to exit&quot;, Toast.LENGTH_SHORT).show();\r\n            web.goBack();\r\n        }\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                doubleBackToExitPressed=1;\r\n            }\r\n        }, 2000);\r\n    }\r\n```","title":"Why my chrome custom tab pops out every time I press back button","body":"<p>guys I want to ask why every time i pressed back button will pop out chrome customtab since I set for a few url only can be pop out chrome customtab but seem not working is there any problem?</p>\n<p><strong>Chrome customtab</strong></p>\n<pre><code>public class Callback extends WebViewClient {\n\n@Override\npublic boolean shouldOverrideUrlLoading(WebView view, String url) {\n if (!url.contains(&quot;.pdf&quot;) || url.contains(&quot;/report/PersonalPurchaseHistory&quot;) || \n  url.contains(&quot;/user/changeProfile&quot;) || url.contains(&quot;linkedin.com&quot;) || \n  url.contains(&quot;/bonus/MonthlyIncomeStatement&quot;)) {\n  CustomTabsIntent.Builder customIntent = new CustomTabsIntent.Builder();\n  customIntent.setToolbarColor(ContextCompat.getColor(MainActivity.this, R.color.purple_200));\n openCustomTab(MainActivity.this, customIntent.build(), Uri.parse(url));\n}\nelse {\n  view.loadUrl(url);\n  }\n return true;\n }\n}\n</code></pre>\n<p><strong>Back Press</strong></p>\n<pre><code>@Override\n    public void onBackPressed() {\n        if (doubleBackToExitPressed == 2) {\n            finishAffinity();\n            System.exit(0);\n        }\n        else {\n            doubleBackToExitPressed++;\n            Toast.makeText(this, &quot;Please press Back again to exit&quot;, Toast.LENGTH_SHORT).show();\n            web.goBack();\n        }\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                doubleBackToExitPressed=1;\n            }\n        }, 2000);\n    }\n</code></pre>\n"},{"tags":["java","android","graphql","apollo-client"],"owner":{"account_id":13997245,"reputation":1,"user_id":10109744,"display_name":"preyas patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670995158,"creation_date":1670936143,"question_id":74785217,"body_markdown":"I have successfully implmented GraphQL with Apollo. Now I want to implment subscription part to receive live updates from server.\r\nBut for that when I apply com.amazonaws.appsync plugin it throws following error.\r\n\r\n```\r\nAn exception occurred applying plugin request [id: &#39;com.amazonaws.appsync&#39;]\r\n&gt; Failed to apply plugin &#39;com.amazonaws.appsync&#39;.\r\n   &gt; Cannot add extension with name &#39;apollo&#39;, as there is an extension already registered with that name.\r\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;com.amazonaws.appsync&#39;]\r\nCaused by: java.lang.IllegalArgumentException: Cannot add extension with name &#39;apollo&#39;, as there is an extension already registered with that name.\r\n```\r\n[1]\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n    id &#39;com.apollographql.apollo&#39;\r\n    id &#39;com.amazonaws.appsync&#39;\r\n}\r\n\r\n```\r\n**when I add last appsync plugin then I got below error**\r\n\r\n\r\n```\r\nBuild file &#39;/Volumes/EVO_Data/Client_Project/Halo_Android/halo-android/app/build.gradle&#39; line: 7\r\n\r\nAn exception occurred applying plugin request [id: &#39;com.amazonaws.appsync&#39;]\r\n&gt; Failed to apply plugin &#39;com.amazonaws.appsync&#39;.\r\n   &gt; Cannot add extension with name &#39;apollo&#39;, as there is an extension already registered with that name.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;com.amazonaws.appsync&#39;]\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:148)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$200(DefaultPluginRequestApplicator.java:62)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$add$1(DefaultPluginRequestApplicator.java:121)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin &#39;com.amazonaws.appsync&#39;.\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugin$1(DefaultPluginRequestApplicator.java:150)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\r\n\t... 173 more\r\nCaused by: java.lang.IllegalArgumentException: Cannot add extension with name &#39;apollo&#39;, as there is an extension already registered with that name.\r\n\tat org.gradle.internal.extensibility.ExtensionsStorage.add(ExtensionsStorage.java:40)\r\n\tat org.gradle.internal.extensibility.DefaultConvention.add(DefaultConvention.java:120)\r\n\tat org.gradle.internal.extensibility.DefaultConvention.addWithDefaultPublicType(DefaultConvention.java:212)\r\n\tat org.gradle.internal.extensibility.DefaultConvention.create(DefaultConvention.java:126)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor153.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat com.apollographql.apollo.gradle.ApolloPlugin.applyApolloPlugin(ApolloPlugin.groovy:60)\r\n\tat com.apollographql.apollo.gradle.ApolloPlugin.apply(ApolloPlugin.groovy:51)\r\n\tat com.apollographql.apollo.gradle.ApolloPlugin.apply(ApolloPlugin.groovy)\r\n\tat org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\r\n\tat org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\r\n\t... 176 more\r\n```\r\n\r\n\r\nI&#39;ve tried solution from the same issue posted on apollo-kotlin issues 1864\r\n\r\nBut no luck.\r\n\r\nKindly help if anyone knows the fix\r\n\r\nThanks in Advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9EII3.jpg","title":"Apollo subscription only onConnected() is called. But subscription not invoked when there is update from server side","body":"<p>I have successfully implmented GraphQL with Apollo. Now I want to implment subscription part to receive live updates from server.\nBut for that when I apply com.amazonaws.appsync plugin it throws following error.</p>\n<pre><code>An exception occurred applying plugin request [id: 'com.amazonaws.appsync']\n&gt; Failed to apply plugin 'com.amazonaws.appsync'.\n   &gt; Cannot add extension with name 'apollo', as there is an extension already registered with that name.\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'com.amazonaws.appsync']\nCaused by: java.lang.IllegalArgumentException: Cannot add extension with name 'apollo', as there is an extension already registered with that name.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9EII3.jpg\" rel=\"nofollow noreferrer\">1</a></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n    id 'androidx.navigation.safeargs'\n    id 'com.apollographql.apollo'\n    id 'com.amazonaws.appsync'\n}\n\n</code></pre>\n<p><strong>when I add last appsync plugin then I got below error</strong></p>\n<pre><code>Build file '/Volumes/EVO_Data/Client_Project/Halo_Android/halo-android/app/build.gradle' line: 7\n\nAn exception occurred applying plugin request [id: 'com.amazonaws.appsync']\n&gt; Failed to apply plugin 'com.amazonaws.appsync'.\n   &gt; Cannot add extension with name 'apollo', as there is an extension already registered with that name.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'com.amazonaws.appsync']\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:228)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:210)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:148)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.access$200(DefaultPluginRequestApplicator.java:62)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator$1$1.lambda$add$1(DefaultPluginRequestApplicator.java:121)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:144)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:144)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$2(DefaultProjectStateRegistry.java:408)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:408)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:389)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:760)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:328)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:227)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:226)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:201)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:197)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:121)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:178)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:111)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:238)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:119)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin 'com.amazonaws.appsync'.\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugin$1(DefaultPluginRequestApplicator.java:150)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:206)\n    ... 173 more\nCaused by: java.lang.IllegalArgumentException: Cannot add extension with name 'apollo', as there is an extension already registered with that name.\n    at org.gradle.internal.extensibility.ExtensionsStorage.add(ExtensionsStorage.java:40)\n    at org.gradle.internal.extensibility.DefaultConvention.add(DefaultConvention.java:120)\n    at org.gradle.internal.extensibility.DefaultConvention.addWithDefaultPublicType(DefaultConvention.java:212)\n    at org.gradle.internal.extensibility.DefaultConvention.create(DefaultConvention.java:126)\n    at jdk.internal.reflect.GeneratedMethodAccessor153.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at com.apollographql.apollo.gradle.ApolloPlugin.applyApolloPlugin(ApolloPlugin.groovy:60)\n    at com.apollographql.apollo.gradle.ApolloPlugin.apply(ApolloPlugin.groovy:51)\n    at com.apollographql.apollo.gradle.ApolloPlugin.apply(ApolloPlugin.groovy)\n    at org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\n    at org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\n    at org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\n    ... 176 more\n</code></pre>\n<p>I've tried solution from the same issue posted on apollo-kotlin issues 1864</p>\n<p>But no luck.</p>\n<p>Kindly help if anyone knows the fix</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","spring","scope","singleton","instantiation"],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569783609,"creation_date":1569783609,"answer_id":58158306,"question_id":58136577,"body_markdown":"If you define a bean with a `prototype` scope, a new instance is returned by the `ApplicationContext` when the bean is referenced from the Spring context. In your first example, a new instance of `MessageBuilder` *prototype* is created when the `MessageService` *singleton* bean is created. However, as the `MessageService` is constructed only once during the Spring lifecycle (as it is a singleton), it requests only one reference of the `MessageBuilder` prototype bean to be injected.\r\n\r\nIn other words, in your first example, the `MessageBuilder` bean is only instantiated once as it is injected (autowired) into the `MessageService` once. Method calls performed on the injected prototype bean will not be proxied to a new prototype bean instance afterwards.\r\n\r\nBy setting the `proxyMode` to `TARGET_CLASS`, the `ApplicationContext` does not directly inject a new prototype bean instance in another bean, but instead injects a *proxy* of the prototype bean. Thereby, when the singleton bean calls a method from the injected singleton bean, the intermediate proxy references a new prototype bean and calls the method.\r\n\r\nMore information can be found in the [Spring documentation][1]:\r\n\r\n&gt; If you want to inject (for example) an HTTP request-scoped bean into another bean of a longer-lived scope, you may choose to inject an AOP proxy in place of the scoped bean. That is, you need to inject a proxy object that exposes the same public interface as the scoped object but that can also retrieve the real target object from the relevant scope (such as an HTTP request) and delegate method calls onto the real object.\r\n\r\n[1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-other-injection","title":"Why in case of injecting CGLIB prototype into Singleton each access to prototype creates a new object?","body":"<p>If you define a bean with a <code>prototype</code> scope, a new instance is returned by the <code>ApplicationContext</code> when the bean is referenced from the Spring context. In your first example, a new instance of <code>MessageBuilder</code> <em>prototype</em> is created when the <code>MessageService</code> <em>singleton</em> bean is created. However, as the <code>MessageService</code> is constructed only once during the Spring lifecycle (as it is a singleton), it requests only one reference of the <code>MessageBuilder</code> prototype bean to be injected.</p>\n\n<p>In other words, in your first example, the <code>MessageBuilder</code> bean is only instantiated once as it is injected (autowired) into the <code>MessageService</code> once. Method calls performed on the injected prototype bean will not be proxied to a new prototype bean instance afterwards.</p>\n\n<p>By setting the <code>proxyMode</code> to <code>TARGET_CLASS</code>, the <code>ApplicationContext</code> does not directly inject a new prototype bean instance in another bean, but instead injects a <em>proxy</em> of the prototype bean. Thereby, when the singleton bean calls a method from the injected singleton bean, the intermediate proxy references a new prototype bean and calls the method.</p>\n\n<p>More information can be found in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-other-injection\" rel=\"nofollow noreferrer\">Spring documentation</a>:</p>\n\n<blockquote>\n  <p>If you want to inject (for example) an HTTP request-scoped bean into another bean of a longer-lived scope, you may choose to inject an AOP proxy in place of the scoped bean. That is, you need to inject a proxy object that exposes the same public interface as the scoped object but that can also retrieve the real target object from the relevant scope (such as an HTTP request) and delegate method calls onto the real object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670994324,"creation_date":1670970517,"answer_id":74791565,"question_id":58136577,"body_markdown":"https://stackoverflow.com/a/21762454/2674303 was the discussion about JDK dynamic proxy and CGLIB\r\n\r\narticle http://dolszewski.com/spring/accessing-prototype-bean-in-singleton/ was about how to inject prototype bean into a singleton bean \r\n\r\nBy definition of prototype scope, when you set prototype scope for MessageBuilder, you get a different object every time. You can verify ctx.getBean(MessageBuilder.class); \r\n\r\nYou want the same behavior when it is Autowired to a singleton bean. MessageService is singleton and only initialize once. If you inject a real MessageBuilder object to it, there is no way you get a different MessageBuilder object inside MessageService. So you will need to inject an aop proxy for MessageBuilder object. Spring can handle it correctly internally and gives you different object even though there is only one MessageService.","title":"Why in case of injecting CGLIB prototype into Singleton each access to prototype creates a new object?","body":"<p><a href=\"https://stackoverflow.com/a/21762454/2674303\">https://stackoverflow.com/a/21762454/2674303</a> was the discussion about JDK dynamic proxy and CGLIB</p>\n<p>article <a href=\"http://dolszewski.com/spring/accessing-prototype-bean-in-singleton/\" rel=\"nofollow noreferrer\">http://dolszewski.com/spring/accessing-prototype-bean-in-singleton/</a> was about how to inject prototype bean into a singleton bean</p>\n<p>By definition of prototype scope, when you set prototype scope for MessageBuilder, you get a different object every time. You can verify ctx.getBean(MessageBuilder.class);</p>\n<p>You want the same behavior when it is Autowired to a singleton bean. MessageService is singleton and only initialize once. If you inject a real MessageBuilder object to it, there is no way you get a different MessageBuilder object inside MessageService. So you will need to inject an aop proxy for MessageBuilder object. Spring can handle it correctly internally and gives you different object even though there is only one MessageService.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670994324,"creation_date":1569594595,"question_id":58136577,"body_markdown":"**Disclaimer:**\r\nI&#39;ve read follownig heelpful staff about JDK dynamic proxy and CGLIB: https://stackoverflow.com/a/21762454/2674303\r\n\r\n\r\nI&#39;&#39;ve read following interesting article:[Injecting Spring Prototype bean into Singleton bean][1] \r\n\r\n\r\nFirst case:\r\n-\r\n\r\n**Prototype:**\r\n\r\n    @Service\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    class MessageBuilder {\r\n     \r\n        private static final AtomicInteger instanceCounter = new AtomicInteger(0);\r\n     \r\n        MessageBuilder() {\r\n            instanceCounter.incrementAndGet();\r\n        }\r\n     \r\n        static int getInstanceCounter() {\r\n            return instanceCounter.get();\r\n        }\r\n        ....\r\n    }\r\n\r\n**Singleton:**\r\n\r\n    @Service\r\n    class MessageService {\r\n     \r\n        private final MessageBuilder messageBuilder;\r\n     \r\n        MessageService(MessageBuilder messageBuilder) {\r\n            this.messageBuilder = messageBuilder;\r\n        }\r\n     \r\n        Message createMessage(String content, String receiver) {\r\n            return messageBuilder\r\n                    .withContent(content)\r\n                    .withReceiver(receiver)\r\n                    .build();\r\n        }     \r\n    }\r\n\r\n**Test:**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class MessageServiceTest {\r\n     \r\n        @Autowired\r\n        private MessageService messageService;\r\n     \r\n        @Test\r\n        public void shouldCreateTwoBuilders() throws Exception {\r\n            //when\r\n            messageService.createMessage(&quot;text&quot;, &quot;alice&quot;);\r\n            messageService.createMessage(&quot;msg&quot;, &quot;bob&quot;);\r\n            //then\r\n            int prototypeCounter = MessageBuilder.getInstanceCounter();\r\n            assertEquals(&quot;Wrong number of instances&quot;, 2, prototypeCounter);\r\n        }\r\n     \r\n    }\r\n\r\nObviously test fails because injection happens only once and actual result will be 1 but we expected 2.\r\n\r\n**Second case:**\r\n\r\nSingleton and Test are the same but prototype now looks like this(proxyMode was changed):\r\n\r\n    @Service\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE, \r\n           proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n    class MessageBuilder {\r\n      // ...\r\n    }\r\n\r\n\r\nWhen we start our test we see that **actual result is 6** because of inside `createMessage` method messageBuilder is accessed 3 times. and `createMessage` method is invoked twice so 3*2=6.\r\n\r\n\r\nTo explain behaviour author provided following picture:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI can&#39;t understand which bean is dependant and why each access to proxy `messageBuilder` genetares new bean instantiation. Why for first case the situation different ? Could you explain it ? As far I understand it - proxy are crated anyway - using CGLIB or using Dynamic proxy so anyway proxy is injected\r\n \r\n\r\n  [1]: http://dolszewski.com/spring/accessing-prototype-bean-in-singleton/\r\n  [2]: https://i.stack.imgur.com/0mWfN.png","title":"Why in case of injecting CGLIB prototype into Singleton each access to prototype creates a new object?","body":"<p><strong>Disclaimer:</strong>\nI've read follownig heelpful staff about JDK dynamic proxy and CGLIB: <a href=\"https://stackoverflow.com/a/21762454/2674303\">https://stackoverflow.com/a/21762454/2674303</a></p>\n\n<p>I''ve read following interesting article:<a href=\"http://dolszewski.com/spring/accessing-prototype-bean-in-singleton/\" rel=\"nofollow noreferrer\">Injecting Spring Prototype bean into Singleton bean</a> </p>\n\n<h2>First case:</h2>\n\n<p><strong>Prototype:</strong></p>\n\n<pre><code>@Service\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\nclass MessageBuilder {\n\n    private static final AtomicInteger instanceCounter = new AtomicInteger(0);\n\n    MessageBuilder() {\n        instanceCounter.incrementAndGet();\n    }\n\n    static int getInstanceCounter() {\n        return instanceCounter.get();\n    }\n    ....\n}\n</code></pre>\n\n<p><strong>Singleton:</strong></p>\n\n<pre><code>@Service\nclass MessageService {\n\n    private final MessageBuilder messageBuilder;\n\n    MessageService(MessageBuilder messageBuilder) {\n        this.messageBuilder = messageBuilder;\n    }\n\n    Message createMessage(String content, String receiver) {\n        return messageBuilder\n                .withContent(content)\n                .withReceiver(receiver)\n                .build();\n    }     \n}\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class MessageServiceTest {\n\n    @Autowired\n    private MessageService messageService;\n\n    @Test\n    public void shouldCreateTwoBuilders() throws Exception {\n        //when\n        messageService.createMessage(\"text\", \"alice\");\n        messageService.createMessage(\"msg\", \"bob\");\n        //then\n        int prototypeCounter = MessageBuilder.getInstanceCounter();\n        assertEquals(\"Wrong number of instances\", 2, prototypeCounter);\n    }\n\n}\n</code></pre>\n\n<p>Obviously test fails because injection happens only once and actual result will be 1 but we expected 2.</p>\n\n<p><strong>Second case:</strong></p>\n\n<p>Singleton and Test are the same but prototype now looks like this(proxyMode was changed):</p>\n\n<pre><code>@Service\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE, \n       proxyMode = ScopedProxyMode.TARGET_CLASS)\nclass MessageBuilder {\n  // ...\n}\n</code></pre>\n\n<p>When we start our test we see that <strong>actual result is 6</strong> because of inside <code>createMessage</code> method messageBuilder is accessed 3 times. and <code>createMessage</code> method is invoked twice so 3*2=6.</p>\n\n<p>To explain behaviour author provided following picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0mWfN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mWfN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't understand which bean is dependant and why each access to proxy <code>messageBuilder</code> genetares new bean instantiation. Why for first case the situation different ? Could you explain it ? As far I understand it - proxy are crated anyway - using CGLIB or using Dynamic proxy so anyway proxy is injected</p>\n"},{"tags":["java","android","onesignal"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671030416,"post_id":74793715,"comment_id":132009851,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4907034,"reputation":7,"user_id":3953486,"display_name":"Saurabh Gupta"},"score":0,"creation_date":1671095557,"post_id":74793715,"comment_id":132025253,"body_markdown":"Here is the Log https://hastebin.com/osefigixun.apache","body":"Here is the Log <a href=\"https://hastebin.com/osefigixun.apache\" rel=\"nofollow noreferrer\">hastebin.com/osefigixun.apache</a>"}],"owner":{"account_id":4907034,"reputation":7,"user_id":3953486,"display_name":"Saurabh Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670993501,"creation_date":1670993501,"question_id":74793715,"body_markdown":"I have implemented OneSignal in my app which is causing the Launch Activity to reload on the very first App Launch. I even removed the OneSignal initialization code and found out that just adding the OneSignal dependency in app&#39;s build.gradle is causing the issue. The weird thing is that it happens on the very first app launch and not on subsequent launches. \r\n\r\nOn investigation, I found out that some Configuration change is happening which is causing the activity to reload. By Overriding OnPause method of apps Launch Activity and calling getChangingConfigurations(); I got the int value of the config that has changed to be -2147483648 . On further investigation, I found out that the said constant value relates to SIGNAL_STRENGTH_UNSPECIFIED which can be found out [HERE](https://developer.android.com/reference/android/net/NetworkCapabilities#SIGNAL_STRENGTH_UNSPECIFIED) . Now I am out of ideas how to fix it. Any help is appreciated. TIA","title":"Adding OneSignal dependency causing Activity Reload","body":"<p>I have implemented OneSignal in my app which is causing the Launch Activity to reload on the very first App Launch. I even removed the OneSignal initialization code and found out that just adding the OneSignal dependency in app's build.gradle is causing the issue. The weird thing is that it happens on the very first app launch and not on subsequent launches.</p>\n<p>On investigation, I found out that some Configuration change is happening which is causing the activity to reload. By Overriding OnPause method of apps Launch Activity and calling getChangingConfigurations(); I got the int value of the config that has changed to be -2147483648 . On further investigation, I found out that the said constant value relates to SIGNAL_STRENGTH_UNSPECIFIED which can be found out <a href=\"https://developer.android.com/reference/android/net/NetworkCapabilities#SIGNAL_STRENGTH_UNSPECIFIED\" rel=\"nofollow noreferrer\">HERE</a> . Now I am out of ideas how to fix it. Any help is appreciated. TIA</p>\n"},{"tags":["java","kotlin","date","epoch","datetime-conversion"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1670990224,"post_id":74793327,"comment_id":131998423,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and friends. The `SimpleDateFormat` class is notoriously troublesome, and related classes like `Date` are poorly designed too. Fortunately they are all long outdated. Use `LocalDateTime`, `ZoneId`, `ZonedDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). The classes you are already importing.","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and friends. The <code>SimpleDateFormat</code> class is notoriously troublesome, and related classes like <code>Date</code> are poorly designed too. Fortunately they are all long outdated. Use <code>LocalDateTime</code>, <code>ZoneId</code>, <code>ZonedDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. The classes you are already importing."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670990503,"post_id":74793327,"comment_id":131998463,"body_markdown":"The result you report, 315531000000, agrees with 1979/12/31 23:30:00 UTC. So apparently your device or at least your JVM is set to UTC? And if this is the time zone you want, then the result is correct. The web site seems to have picked up that you are in time zone GMT-06:00, which is not a time zone, but in any case is 6 hours behind UTC. Which accounts for the difference you are observing. Which time zone *do* you want?","body":"The result you report, 315531000000, agrees with 1979/12/31 23:30:00 UTC. So apparently your device or at least your JVM is set to UTC? And if this is the time zone you want, then the result is correct. The web site seems to have picked up that you are in time zone GMT-06:00, which is not a time zone, but in any case is 6 hours behind UTC. Which accounts for the difference you are observing. Which time zone <i>do</i> you want?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670992115,"post_id":74793327,"comment_id":131998679,"body_markdown":"Declare for example `private static final DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;u/M/d H:mm:ss&quot;);`. Then `LocalDateTime.parse(startTime, DTF).atZone(ZoneId.of(&quot;America/Winnipeg&quot;)).toInstant().toEpochMilli()` yields 315552600000, same as you see in the web site. Obviously substitute your desired time zone. java.time makes it virtually impossible to forget to specify time zone. I see that as a great advantage.","body":"Declare for example <code>private static final DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;u&#47;M&#47;d H:mm:ss&quot;);</code>. Then <code>LocalDateTime.parse(startTime, DTF).atZone(ZoneId.of(&quot;America&#47;Winnipeg&quot;)).toInstant().toEpo&zwnj;&#8203;chMilli()</code> yields 315552600000, same as you see in the web site. Obviously substitute your desired time zone. java.time makes it virtually impossible to forget to specify time zone. I see that as a great advantage."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670997102,"post_id":74793327,"comment_id":131999422,"body_markdown":"WARNING: A combination of an update in the tzdata database + a mistake by the OpenJDK team they are so far unwilling to rectify against the advice of the author of the java.time package means that __all date/time math on anything prior to 1970 is broken__. For most TZs, so far, no problems, but e.g. Europe/Amsterdam? Broken. You need a very new JVM (Coretto17, or the latest openjdk snapshot). Go for dates in 1943, or before 1930.","body":"WARNING: A combination of an update in the tzdata database + a mistake by the OpenJDK team they are so far unwilling to rectify against the advice of the author of the java.time package means that <b>all date/time math on anything prior to 1970 is broken</b>. For most TZs, so far, no problems, but e.g. Europe/Amsterdam? Broken. You need a very new JVM (Coretto17, or the latest openjdk snapshot). Go for dates in 1943, or before 1930."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670997664,"post_id":74793327,"comment_id":131999509,"body_markdown":"That’s discomforting, @rzwitserloot. Can you link to sources and further info?","body":"That’s discomforting, @rzwitserloot. Can you link to sources and further info?"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670993092,"creation_date":1670989857,"answer_id":74793380,"question_id":74793327,"body_markdown":"Yes, you are missing the fact that the timezone matters.\r\nIf you don&#39;t specify a timezone, your result will be for the date/time you specify in the default timezone of the computer that the code is running on.\r\n\r\nFor me, the epoch converter website gives the result &quot;315549000000&quot; for &quot;1979/12/31 23:30:00&quot;, presumably because it&#39;s doing the conversion in JavaScript in the browser, and that is presumably using the timezone of my computer.\r\n\r\nIf, instead, I enter &quot;1979/12/31 23:30:00 GMT&quot;, I get &quot;315531000000&quot;\r\n\r\nSo, if you want the two to match, you&#39;ll need to specify the timezone in the epoch converter, and also use the timezone in your Java/Kotlin code.\r\n\r\nFor example, if you use the date string &quot;1979/12/31 23:30:00 America/New_York&quot; in the epoch converter, the following code should give you the same result:\r\n\r\n    fun main(){ \r\n        val startTime = &quot;1979/12/31 23:30:00 America/New_York&quot;\r\n        val dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss VV&quot;)\r\n        val parsed = ZonedDateTime.parse(startTime, dateFormat);\r\n        println(parsed.toInstant().toEpochMilli())\r\n    }\r\n\r\n","title":"Java/Kotlin String Date to milliseconds conversion","body":"<p>Yes, you are missing the fact that the timezone matters.\nIf you don't specify a timezone, your result will be for the date/time you specify in the default timezone of the computer that the code is running on.</p>\n<p>For me, the epoch converter website gives the result &quot;315549000000&quot; for &quot;1979/12/31 23:30:00&quot;, presumably because it's doing the conversion in JavaScript in the browser, and that is presumably using the timezone of my computer.</p>\n<p>If, instead, I enter &quot;1979/12/31 23:30:00 GMT&quot;, I get &quot;315531000000&quot;</p>\n<p>So, if you want the two to match, you'll need to specify the timezone in the epoch converter, and also use the timezone in your Java/Kotlin code.</p>\n<p>For example, if you use the date string &quot;1979/12/31 23:30:00 America/New_York&quot; in the epoch converter, the following code should give you the same result:</p>\n<pre><code>fun main(){ \n    val startTime = &quot;1979/12/31 23:30:00 America/New_York&quot;\n    val dateFormat = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss VV&quot;)\n    val parsed = ZonedDateTime.parse(startTime, dateFormat);\n    println(parsed.toInstant().toEpochMilli())\n}\n</code></pre>\n"}],"owner":{"account_id":461468,"reputation":768,"user_id":863177,"accept_rate":90,"display_name":"swap310"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74793380,"answer_count":1,"score":0,"last_activity_date":1670993092,"creation_date":1670989141,"question_id":74793327,"body_markdown":"I am trying to figure out how the https://www.epochconverter.com/ website converts a String date to milliseconds and then replicate the same logic in Java/Kotlin code. But I am unable to come up with an equivalent Java/Kotlin code.\r\n\r\nFor example, for the date &quot;1979/12/31 23:30:00&quot; is converted to 315552600000 milliseconds by https://www.epochconverter.com/\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oJs5O.png\r\n\r\nbut my below kotlin code outputs 315531000000 instead of 315552600000.\r\n\r\n```\r\nimport java.text.SimpleDateFormat\r\nimport java.time.*\r\nimport java.time.format.DateTimeFormatter\r\nimport java.util.*\r\n\r\n\r\nfun main(){ \r\n        \r\n    val startTime = &quot;1979/12/31 23:30:00&quot;\r\n    val dateFormat = SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;)\r\n\tval startTimeInMillis = dateFormat.parse(startTime).time.toString()\r\n    println(startTimeInMillis)\r\n  \r\n}\r\n```\r\n\r\nIs there anything missing in above code that is causing different results ?","title":"Java/Kotlin String Date to milliseconds conversion","body":"<p>I am trying to figure out how the <a href=\"https://www.epochconverter.com/\" rel=\"nofollow noreferrer\">https://www.epochconverter.com/</a> website converts a String date to milliseconds and then replicate the same logic in Java/Kotlin code. But I am unable to come up with an equivalent Java/Kotlin code.</p>\n<p>For example, for the date &quot;1979/12/31 23:30:00&quot; is converted to 315552600000 milliseconds by <a href=\"https://www.epochconverter.com/\" rel=\"nofollow noreferrer\">https://www.epochconverter.com/</a>\n<a href=\"https://i.stack.imgur.com/oJs5O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oJs5O.png\" alt=\"enter image description here\" /></a></p>\n<p>but my below kotlin code outputs 315531000000 instead of 315552600000.</p>\n<pre><code>import java.text.SimpleDateFormat\nimport java.time.*\nimport java.time.format.DateTimeFormatter\nimport java.util.*\n\n\nfun main(){ \n        \n    val startTime = &quot;1979/12/31 23:30:00&quot;\n    val dateFormat = SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;)\n    val startTimeInMillis = dateFormat.parse(startTime).time.toString()\n    println(startTimeInMillis)\n  \n}\n</code></pre>\n<p>Is there anything missing in above code that is causing different results ?</p>\n"},{"tags":["python","java","jvm"],"owner":{"account_id":24636556,"reputation":11,"user_id":18535146,"display_name":"zeke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670992794,"creation_date":1670992794,"question_id":74793639,"body_markdown":"when trying to install with &quot;python3 -m pip install javabridge&quot;\r\n i get a very long error message that ends with this\r\n```\r\n   25 warnings and 2 errors generated.\r\n    error: command &#39;/usr/bin/clang&#39; failed with exit code 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Library/Developer/CommandLineTools/usr/bin/python3 -u -c &#39;import io, os, sys, setuptools, tokenize; sys.argv[0] = &#39;&quot;&#39;&quot;&#39;/private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-install-uw2m_ckh/javabridge_c69e21afe5d44091bab36d7f0fddc92d/setup.py&#39;&quot;&#39;&quot;&#39;; __file__=&#39;&quot;&#39;&quot;&#39;/private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-install-uw2m_ckh/javabridge_c69e21afe5d44091bab36d7f0fddc92d/setup.py&#39;&quot;&#39;&quot;&#39;;f = getattr(tokenize, &#39;&quot;&#39;&quot;&#39;open&#39;&quot;&#39;&quot;&#39;, open)(__file__) if os.path.exists(__file__) else io.StringIO(&#39;&quot;&#39;&quot;&#39;from setuptools import setup; setup()&#39;&quot;&#39;&quot;&#39;);code = f.read().replace(&#39;&quot;&#39;&quot;&#39;\\r\\n&#39;&quot;&#39;&quot;&#39;, &#39;&quot;&#39;&quot;&#39;\\n&#39;&quot;&#39;&quot;&#39;);f.close();exec(compile(code, __file__, &#39;&quot;&#39;&quot;&#39;exec&#39;&quot;&#39;&quot;&#39;))&#39; install --record /private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-record-1kv_6_sp/install-record.txt --single-version-externally-managed --user --prefix= --compile --install-headers /Users/zeke/Library/Python/3.9/include/python3.9/javabridge Check the logs for full command output.\r\n```\r\n\r\n\r\nI have tried deleting later versions of java and re-downloading the java jdks and i made sure i have both the jre8 and jdk8 installed","title":"unable to install javabridge with pip on macOS Monterey (m1)","body":"<p>when trying to install with &quot;python3 -m pip install javabridge&quot;\ni get a very long error message that ends with this</p>\n<pre><code>   25 warnings and 2 errors generated.\n    error: command '/usr/bin/clang' failed with exit code 1\n    ----------------------------------------\nERROR: Command errored out with exit status 1: /Library/Developer/CommandLineTools/usr/bin/python3 -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '&quot;'&quot;'/private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-install-uw2m_ckh/javabridge_c69e21afe5d44091bab36d7f0fddc92d/setup.py'&quot;'&quot;'; __file__='&quot;'&quot;'/private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-install-uw2m_ckh/javabridge_c69e21afe5d44091bab36d7f0fddc92d/setup.py'&quot;'&quot;';f = getattr(tokenize, '&quot;'&quot;'open'&quot;'&quot;', open)(__file__) if os.path.exists(__file__) else io.StringIO('&quot;'&quot;'from setuptools import setup; setup()'&quot;'&quot;');code = f.read().replace('&quot;'&quot;'\\r\\n'&quot;'&quot;', '&quot;'&quot;'\\n'&quot;'&quot;');f.close();exec(compile(code, __file__, '&quot;'&quot;'exec'&quot;'&quot;'))' install --record /private/var/folders/8h/hkmcg37d1_b6f6jq7qlhzzk00000gn/T/pip-record-1kv_6_sp/install-record.txt --single-version-externally-managed --user --prefix= --compile --install-headers /Users/zeke/Library/Python/3.9/include/python3.9/javabridge Check the logs for full command output.\n</code></pre>\n<p>I have tried deleting later versions of java and re-downloading the java jdks and i made sure i have both the jre8 and jdk8 installed</p>\n"},{"tags":["java","oauth-2.0","exchange-server","imap","pop3"],"comments":[{"owner":{"account_id":8941701,"reputation":1161,"user_id":6670491,"display_name":"HardcoreGamer"},"score":0,"creation_date":1658473101,"post_id":73039215,"comment_id":129064112,"body_markdown":"Yeah I know... We are pretty much on the same boat. I&#39;m finding a workaround to access mails though https://graph.microsoft.com/.default","body":"Yeah I know... We are pretty much on the same boat. I&#39;m finding a workaround to access mails though <a href=\"https://graph.microsoft.com/.default\" rel=\"nofollow noreferrer\">graph.microsoft.com/.default</a>"},{"owner":{"account_id":8941701,"reputation":1161,"user_id":6670491,"display_name":"HardcoreGamer"},"score":0,"creation_date":1659409860,"post_id":73039215,"comment_id":129282250,"body_markdown":"I&#39;m able to send mail using **Microsoft Graph** instead of outlook scope. With `client credentials flow` and grant `Mail.Read.All`, `Mail.Write.All` ...etc. The permission has to be added as  dedicated daemon process instead of acting as certain user.","body":"I&#39;m able to send mail using <b>Microsoft Graph</b> instead of outlook scope. With <code>client credentials flow</code> and grant <code>Mail.Read.All</code>, <code>Mail.Write.All</code> ...etc. The permission has to be added as  dedicated daemon process instead of acting as certain user."}],"answers":[{"tags":[],"owner":{"account_id":25844931,"reputation":91,"user_id":19579923,"display_name":"Manish Prajapati"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660386648,"creation_date":1660386648,"answer_id":73343495,"question_id":73039215,"body_markdown":"I am now able to perform the OAuth2.0 authentication for IMAP protocol on exchange-online server.\r\nI found the issue with my approach was that, I was using some parameters from wrong places due to lack of experience on working with Azure.\r\n\r\nFollowing the instructions given in step by step guide and setting permissions of newly created application was OK. \r\nBut the real problem was with the **queries** given at the end of this post where we need to run 3 commands in order to make it possible to perform OAuth2.0 \r\n\r\nAs per my understanding, following is the list of parameters used while performing Service Principal related queries:\r\n\r\n**Parameters used** (and where to find them):\r\n - **appId**: Application (client) ID [ found in Application Overview screen, from both Enterprise and App reg]\r\n - **entObjId**: Object ID(Enterprise app) [ found in Enterprise Application Overview screen only ]\r\n - **orgId**: Directory (tenant) ID [ found in Azure AD overview screen ]\r\n\r\n**Commands**:\r\n 1. New-ServicePrincipal -AppId *appId* -ServiceId *entObjId* -Organization *orgId*\r\n 2. Get-ServicePrincipal -Organization *entObjId* | fl\r\n 3. Add-MailboxPermission -Identity &quot;&lt;email_id_here&gt;&quot; -User entObjId -AccessRights FullAccess \r\n\r\n*Confusions I faced*:\r\n - *In Add-MailboxPermission cmdlet, &lt;SERVICE_PRINCIPAL_ID&gt; creates\r\n   confusion, because in order to apply permissions like\r\n   &quot;IMAP.AccessAsApp&quot;, the internet tells that &quot;Service Principal ID&quot;\r\n   can be found at [ Azure AD -&gt; Enterprise Application -&gt; (chosen\r\n   application) -&gt; Permissions -&gt; IMAP.AccessAsApp -&gt; use the Service\r\n   Principal ID from Flyout menu ]*\r\n - *It is okay to use the Enterprise Object ID in all 3 cmdlets*\r\n\r\n ","title":"Authentication Failure for IMAP using Client Credential flow for OAuth2.0 | Java | Exchange Online","body":"<p>I am now able to perform the OAuth2.0 authentication for IMAP protocol on exchange-online server.\nI found the issue with my approach was that, I was using some parameters from wrong places due to lack of experience on working with Azure.</p>\n<p>Following the instructions given in step by step guide and setting permissions of newly created application was OK.\nBut the real problem was with the <strong>queries</strong> given at the end of this post where we need to run 3 commands in order to make it possible to perform OAuth2.0</p>\n<p>As per my understanding, following is the list of parameters used while performing Service Principal related queries:</p>\n<p><strong>Parameters used</strong> (and where to find them):</p>\n<ul>\n<li><strong>appId</strong>: Application (client) ID [ found in Application Overview screen, from both Enterprise and App reg]</li>\n<li><strong>entObjId</strong>: Object ID(Enterprise app) [ found in Enterprise Application Overview screen only ]</li>\n<li><strong>orgId</strong>: Directory (tenant) ID [ found in Azure AD overview screen ]</li>\n</ul>\n<p><strong>Commands</strong>:</p>\n<ol>\n<li>New-ServicePrincipal -AppId <em>appId</em> -ServiceId <em>entObjId</em> -Organization <em>orgId</em></li>\n<li>Get-ServicePrincipal -Organization <em>entObjId</em> | fl</li>\n<li>Add-MailboxPermission -Identity &quot;&lt;email_id_here&gt;&quot; -User entObjId -AccessRights FullAccess</li>\n</ol>\n<p><em>Confusions I faced</em>:</p>\n<ul>\n<li><em>In Add-MailboxPermission cmdlet, &lt;SERVICE_PRINCIPAL_ID&gt; creates\nconfusion, because in order to apply permissions like\n&quot;IMAP.AccessAsApp&quot;, the internet tells that &quot;Service Principal ID&quot;\ncan be found at [ Azure AD -&gt; Enterprise Application -&gt; (chosen\napplication) -&gt; Permissions -&gt; IMAP.AccessAsApp -&gt; use the Service\nPrincipal ID from Flyout menu ]</em></li>\n<li><em>It is okay to use the Enterprise Object ID in all 3 cmdlets</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3871642,"reputation":91,"user_id":3206771,"display_name":"user3206771"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1660893327,"creation_date":1660892954,"answer_id":73413054,"question_id":73039215,"body_markdown":"I was able to connect to mailbox using IMAP OAuth2 access token generated by client credential grant. Here are the details:\r\n\r\nJava code (Replace clientid, secret, authority and email id in the below code with the values from your azure app registration)\r\n\r\n```\r\n//this method returns the token\r\npublic String getAccessTokenByClientCredentialGrant()  {\r\n\t\t\r\n\tString accessToken = null;\r\n\tString clientId = &quot;&lt;client id from azure app registration&gt;&quot;;\r\n\tString secret = &quot;&lt;client secret from azure app registration&gt;&quot;;\r\n\tString authority = &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;;\r\n\tString scope = &quot;https://outlook.office365.com/.default&quot;;\r\n\tlog.info(&quot;Client ID : &quot;+clientId);\r\n\tlog.info(&quot;Client Secret : &quot;+secret);\r\n\tlog.info(&quot;Auth Server: &quot;+authority);\r\n\tlog.info(&quot;Scope: &quot;+scope);\r\n\t\r\n\ttry {\r\n\t\t\r\n\t\r\n\t\tConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n\t\t\t\tclientId,\r\n\t\t\t\tClientCredentialFactory.createFromSecret(secret))\r\n\t\t\t\t.authority(authority)\r\n\t\t\t\t.build();\t\r\n\t\t\r\n\t\t// With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\r\n\t\t// application permissions need to be set statically (in the portal), and then granted by a tenant administrator\r\n\t\tClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n\t\t\t\tCollections.singleton(scope))\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\tCompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n\t\tIAuthenticationResult result = future.get();\r\n\t\taccessToken = result.accessToken();\r\n\t\t\r\n\t} catch(Exception e) {\r\n\t\tlog.error(&quot;Exception in acquiring token: &quot;+e.getMessage());\r\n\t\te.printStackTrace();\r\n\t}\r\n\tlog.info(&quot;Access Token : &quot;+accessToken);\r\n\treturn accessToken;\r\n}\r\n\r\n//This method connects to store using the access token\r\npublic Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\r\n\r\n\tString host = &quot;outlook.office365.com&quot;;\r\n\tString port = &quot;993&quot;;\r\n\tStore store = null;\r\n\t\r\n\t\r\n\tString SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n\tProperties props= new Properties();\r\n\r\n\tprops.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.imaps.port&quot;, port);\r\n\r\n\tprops.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\tprops.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\t\r\n\tprops.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\r\n\r\n\tprops.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\r\n\tprops.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\tprops.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\r\n\tprops.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\r\n\tSession session = Session.getInstance(props);\r\n\tsession.setDebug(true);\r\n\t\r\n\tstore = session.getStore(&quot;imaps&quot;);\r\n\t\r\n\tlog.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\r\n\t\t\t+ &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\n\ttry {\r\n\t\r\n\t\tstore.connect(host, userEmailId, oauth2AccessToken);\r\n\t\tlog.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\r\n\t\t\t+ &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\r\n\t\tif(store.isConnected()){\r\n\t\t\tlog.info(&quot;Connection Established using imap protocol successfully !&quot;);\t\t\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\r\n\t\tStringWriter sw = new StringWriter();\r\n\t\te.printStackTrace(new PrintWriter(sw));\r\n\t\tString exceptionAsString = sw.toString();\r\n\t\tlog.error(exceptionAsString);\r\n\t\t\r\n\t}\r\n\r\n\treturn store;\r\n\r\n}\r\n\r\n//the main method which calls the above 2 methods.\r\npublic void getEmailContents() throws Exception {\r\n\tStore store = null;\r\n\t\r\n\tString accessToken = getAccessTokenByClientCredentialGrant();\r\n\tString emailId = &quot;&lt;email which needs to be read&gt;&quot;;\r\n\r\n\ttry {\r\n\t\tstore = connect(emailId, accessToken );\r\n\t} catch (Exception ex) {\r\n\t\tlog.error(&quot;Exception in connecting to email &quot; + ex.getMessage());\r\n\t\tex.printStackTrace();\r\n\t\t\r\n\t}\r\n\r\n\t//write code to read email using javax.mail code\r\n\r\n}\r\n\r\n```\r\n------------------------\r\n\r\nMake sure your Application is registered under Azure App Registrations and the following API permissions (Application permissions) are granted in &quot;API Permissions&quot; for the app.\r\n \r\nOffice 365 Exchange Online\r\n - full_access_as_app         \r\n - IMAP.AccessAsApp\r\n - Mail.Read \r\n - Mail.ReadWrite  \r\n - Mail.Send\r\n\r\nAlso make sure that the mailbox is linked to Azure using the command in the below link:\r\n[https://learn.microsoft.com/en-us/graph/auth-limit-mailbox-access][1]\r\n\r\n    Test-ApplicationAccessPolicy -Identity &lt;email&gt; -AppId &lt;app id&gt;\r\n\r\nYou can also decode the access token generated from java code using [https://jwt.io/][2] and verify if the permissions are correct. \r\n\r\nVerify office365 email configuration and make sure that IMAP is enabled: Help can be found in the below link.\r\n[https://www.limilabs.com/blog/office365-enable-imap-pop3-smtp][3]\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/auth-limit-mailbox-access\r\n  [2]: https://jwt.io/\r\n  [3]: https://www.limilabs.com/blog/office365-enable-imap-pop3-smtp","title":"Authentication Failure for IMAP using Client Credential flow for OAuth2.0 | Java | Exchange Online","body":"<p>I was able to connect to mailbox using IMAP OAuth2 access token generated by client credential grant. Here are the details:</p>\n<p>Java code (Replace clientid, secret, authority and email id in the below code with the values from your azure app registration)</p>\n<pre><code>//this method returns the token\npublic String getAccessTokenByClientCredentialGrant()  {\n        \n    String accessToken = null;\n    String clientId = &quot;&lt;client id from azure app registration&gt;&quot;;\n    String secret = &quot;&lt;client secret from azure app registration&gt;&quot;;\n    String authority = &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;;\n    String scope = &quot;https://outlook.office365.com/.default&quot;;\n    log.info(&quot;Client ID : &quot;+clientId);\n    log.info(&quot;Client Secret : &quot;+secret);\n    log.info(&quot;Auth Server: &quot;+authority);\n    log.info(&quot;Scope: &quot;+scope);\n    \n    try {\n        \n    \n        ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n                clientId,\n                ClientCredentialFactory.createFromSecret(secret))\n                .authority(authority)\n                .build();   \n        \n        // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\n        // application permissions need to be set statically (in the portal), and then granted by a tenant administrator\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n                Collections.singleton(scope))\n                .build();\n        \n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n        IAuthenticationResult result = future.get();\n        accessToken = result.accessToken();\n        \n    } catch(Exception e) {\n        log.error(&quot;Exception in acquiring token: &quot;+e.getMessage());\n        e.printStackTrace();\n    }\n    log.info(&quot;Access Token : &quot;+accessToken);\n    return accessToken;\n}\n\n//This method connects to store using the access token\npublic Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\n\n    String host = &quot;outlook.office365.com&quot;;\n    String port = &quot;993&quot;;\n    Store store = null;\n    \n    \n    String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n    Properties props= new Properties();\n\n    props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.port&quot;, port);\n\n    props.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    \n    props.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\n\n    props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\n    props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;false&quot;);\n    props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\n    props.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n\n    Session session = Session.getInstance(props);\n    session.setDebug(true);\n    \n    store = session.getStore(&quot;imaps&quot;);\n    \n    log.info(&quot;OAUTH2 IMAP trying to connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\n    try {\n    \n        store.connect(host, userEmailId, oauth2AccessToken);\n        log.info(&quot;IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port\n            + &quot;, userEmailId: &quot; + userEmailId+ &quot;, AccessToken: &quot; + oauth2AccessToken);\n        if(store.isConnected()){\n            log.info(&quot;Connection Established using imap protocol successfully !&quot;);      \n        }\n    } catch (Exception e) {\n        log.error(&quot;Store.Connect failed with the errror: &quot;+e.getMessage());\n        StringWriter sw = new StringWriter();\n        e.printStackTrace(new PrintWriter(sw));\n        String exceptionAsString = sw.toString();\n        log.error(exceptionAsString);\n        \n    }\n\n    return store;\n\n}\n\n//the main method which calls the above 2 methods.\npublic void getEmailContents() throws Exception {\n    Store store = null;\n    \n    String accessToken = getAccessTokenByClientCredentialGrant();\n    String emailId = &quot;&lt;email which needs to be read&gt;&quot;;\n\n    try {\n        store = connect(emailId, accessToken );\n    } catch (Exception ex) {\n        log.error(&quot;Exception in connecting to email &quot; + ex.getMessage());\n        ex.printStackTrace();\n        \n    }\n\n    //write code to read email using javax.mail code\n\n}\n\n</code></pre>\n<hr />\n<p>Make sure your Application is registered under Azure App Registrations and the following API permissions (Application permissions) are granted in &quot;API Permissions&quot; for the app.</p>\n<p>Office 365 Exchange Online</p>\n<ul>\n<li>full_access_as_app</li>\n<li>IMAP.AccessAsApp</li>\n<li>Mail.Read</li>\n<li>Mail.ReadWrite</li>\n<li>Mail.Send</li>\n</ul>\n<p>Also make sure that the mailbox is linked to Azure using the command in the below link:\n<a href=\"https://learn.microsoft.com/en-us/graph/auth-limit-mailbox-access\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/graph/auth-limit-mailbox-access</a></p>\n<pre><code>Test-ApplicationAccessPolicy -Identity &lt;email&gt; -AppId &lt;app id&gt;\n</code></pre>\n<p>You can also decode the access token generated from java code using <a href=\"https://jwt.io/\" rel=\"noreferrer\">https://jwt.io/</a> and verify if the permissions are correct.</p>\n<p>Verify office365 email configuration and make sure that IMAP is enabled: Help can be found in the below link.\n<a href=\"https://www.limilabs.com/blog/office365-enable-imap-pop3-smtp\" rel=\"noreferrer\">https://www.limilabs.com/blog/office365-enable-imap-pop3-smtp</a></p>\n"}],"owner":{"account_id":25844931,"reputation":91,"user_id":19579923,"display_name":"Manish Prajapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73343495,"answer_count":2,"score":5,"last_activity_date":1670992660,"creation_date":1658242545,"question_id":73039215,"body_markdown":"I am facing an **authentication failure** issue while trying to connect for both IMAP protocols using the Client Credential Grant flow for **OAuth2.0**.\r\nWhere, I have been following the steps suggested by Microsoft in its step-by-step guide i.e. &quot;[Authenticate an IMAP, POP or SMTP connection using OAuth][1]&quot; \r\n\r\nI have been using this github project to fetch the **Access Token** using **Client Credential Grant** flow:\r\n[MSAL Client Credential Grant using Java][2]\r\n\r\n\r\nJava Code for **IMAP**\r\n\r\n    public static void connectIMAP(String userEmail, String accessToken){\r\n\t\tString SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n\t\tProperties props= new Properties();\r\n\t\t\r\n\t\tprops.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n\t\t\r\n\t\tprops.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\t\tprops.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\t\t\r\n\t\tprops.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\tprops.setProperty(&quot;mail.imap.socketFactory.class&quot;, SSL_FACTORY);\r\n        props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;);\r\n        props.setProperty(&quot;mail.imap.socketFactory.port&quot;, &quot;993&quot;);\r\n\t\tprops.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\r\n\t\tSession session = Session.getInstance(props);\r\n\t\tsession.setDebug(true);\r\n\t\r\n\t\ttry {\r\n\t\t\tfinal Store store = session.getStore(&quot;imap&quot;);\t\t\t\t\t\r\n\t\t\tstore.connect(&quot;outlook.office365.com&quot;,userEmail, accessToken);\t\r\n\t\t\t\r\n\t\t} catch (NoSuchProviderException e) {\t// session.getStore()\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (MessagingException e) {\t\t// store.connect()\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nFollowing are the **credentials** I have used while performing the *Client Credential Grant flow* using MSAL library\r\n\r\n - *userEmail*:- Email of the user which is used to login to Azure portal (eg, &lt;registered_azure_email_id&gt;)\r\n - *authority*=https://login.microsoftonline.com/**&lt;tenant - id - here&gt;**/\r\n - *client_id*=**&lt;client(application) - id - here&gt;**\r\n[IMAGE for app overview screen containing Tenant and Client ID][3]\r\n - *secret*=**&lt;client - secret - key - here&gt;**\r\n - *scope*=**https://outlook.office.com/.default**\r\n\r\n&gt; [Note: I have been using the Default Active Directory, and the default user(Admin)\r\n&gt; for my Azure account. Is it fine this way ? or does it require a new custom Azure AD and a\r\n&gt; separate tenant for performing client credential flow]\r\n\r\nFollowing image contains list of permissions I have applied in my app:\r\n[IMAGE for list of permissions applied][4]\r\n\r\n**Error Logs:**\r\n\r\n        *** IMAP *** \r\n    \r\n    DEBUG: JavaMail version 1.5.6\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n    DEBUG: Tables of loaded providers\r\n    DEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\n    DEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: setDebug: JavaMail version 1.5.6\r\n    DEBUG: getProvider() returning javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\r\n    DEBUG IMAP: mail.imap.fetchsize: 16384\r\n    DEBUG IMAP: mail.imap.ignorebodystructuresize: false\r\n    DEBUG IMAP: mail.imap.statuscachetimeout: 1000\r\n    DEBUG IMAP: mail.imap.appendbuffersize: -1\r\n    DEBUG IMAP: mail.imap.minidletime: 10\r\n    DEBUG IMAP: enable STARTTLS\r\n    DEBUG IMAP: enable SASL\r\n    DEBUG IMAP: SASL mechanisms allowed: XOAUTH2\r\n    DEBUG IMAP: closeFoldersOnStoreFailure\r\n    DEBUG IMAP: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\r\n    * OK The Microsoft Exchange IMAP4 service is ready. [UABO......]\r\n    A0 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n    A0 OK CAPABILITY completed.\r\n    DEBUG IMAP: AUTH: PLAIN\r\n    DEBUG IMAP: AUTH: XOAUTH2\r\n    DEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=ManishPrajapati@SampleOrg2022.onmicrosoft.com, password=&lt;non-null&gt;\r\n    DEBUG IMAP: SASL Mechanisms:\r\n    DEBUG IMAP:  XOAUTH2\r\n    DEBUG IMAP: \r\n    DEBUG IMAP: SASL client XOAUTH2\r\n    DEBUG IMAP: SASL callback length: 2\r\n    DEBUG IMAP: SASL callback 0: javax.security.auth.callback.NameCallback@73f9ac\r\n    DEBUG IMAP: SASL callback 1: javax.security.auth.callback.PasswordCallback@1064425\r\n    A1 AUTHENTICATE XOAUTH2 dXNlcj.....\r\n    A1 NO AUTHENTICATE failed.\r\n    javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:725)\r\n    \tat javax.mail.Service.connect(Service.java:366)\r\n    \tat javax.mail.Service.connect(Service.java:246)\r\n    \tat test.ClientCredentialGrantAndConnect.connectIMAP(ClientCredentialGrantAndConnect.java:166)\r\n    \tat test.ClientCredentialGrantAndConnect.main(ClientCredentialGrantAndConnect.java:45)\r\n    \r\n\r\nAny help in figuring out the issue will be highly appreciated.\r\n\r\nThank you.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#get-an-access-token\r\n  [2]: https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/1.%20Server-Side%20Scenarios/msal-client-credential-secret\r\n  [3]: https://i.stack.imgur.com/vt9uV.jpg\r\n  [4]: https://i.stack.imgur.com/eXo3J.jpg\r\n\r\n","title":"Authentication Failure for IMAP using Client Credential flow for OAuth2.0 | Java | Exchange Online","body":"<p>I am facing an <strong>authentication failure</strong> issue while trying to connect for both IMAP protocols using the Client Credential Grant flow for <strong>OAuth2.0</strong>.\nWhere, I have been following the steps suggested by Microsoft in its step-by-step guide i.e. &quot;<a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#get-an-access-token\" rel=\"nofollow noreferrer\">Authenticate an IMAP, POP or SMTP connection using OAuth</a>&quot;</p>\n<p>I have been using this github project to fetch the <strong>Access Token</strong> using <strong>Client Credential Grant</strong> flow:\n<a href=\"https://github.com/Azure-Samples/ms-identity-msal-java-samples/tree/main/1.%20Server-Side%20Scenarios/msal-client-credential-secret\" rel=\"nofollow noreferrer\">MSAL Client Credential Grant using Java</a></p>\n<p>Java Code for <strong>IMAP</strong></p>\n<pre><code>public static void connectIMAP(String userEmail, String accessToken){\n    String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n    Properties props= new Properties();\n    \n    props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\n    \n    props.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    \n    props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n    \n    props.setProperty(&quot;mail.imap.socketFactory.class&quot;, SSL_FACTORY);\n    props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;);\n    props.setProperty(&quot;mail.imap.socketFactory.port&quot;, &quot;993&quot;);\n    props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n    \n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n\n    Session session = Session.getInstance(props);\n    session.setDebug(true);\n\n    try {\n        final Store store = session.getStore(&quot;imap&quot;);                   \n        store.connect(&quot;outlook.office365.com&quot;,userEmail, accessToken);  \n        \n    } catch (NoSuchProviderException e) {   // session.getStore()\n        e.printStackTrace();\n    } catch (MessagingException e) {        // store.connect()\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Following are the <strong>credentials</strong> I have used while performing the <em>Client Credential Grant flow</em> using MSAL library</p>\n<ul>\n<li><em>userEmail</em>:- Email of the user which is used to login to Azure portal (eg, &lt;registered_azure_email_id&gt;)</li>\n<li><em>authority</em>=https://login.microsoftonline.com/<strong>&lt;tenant - id - here&gt;</strong>/</li>\n<li><em>client_id</em>=<strong>&lt;client(application) - id - here&gt;</strong>\n<a href=\"https://i.stack.imgur.com/vt9uV.jpg\" rel=\"nofollow noreferrer\">IMAGE for app overview screen containing Tenant and Client ID</a></li>\n<li><em>secret</em>=<strong>&lt;client - secret - key - here&gt;</strong></li>\n<li><em>scope</em>=<strong><a href=\"https://outlook.office.com/.default\" rel=\"nofollow noreferrer\">https://outlook.office.com/.default</a></strong></li>\n</ul>\n<blockquote>\n<p>[Note: I have been using the Default Active Directory, and the default user(Admin)\nfor my Azure account. Is it fine this way ? or does it require a new custom Azure AD and a\nseparate tenant for performing client credential flow]</p>\n</blockquote>\n<p>Following image contains list of permissions I have applied in my app:\n<a href=\"https://i.stack.imgur.com/eXo3J.jpg\" rel=\"nofollow noreferrer\">IMAGE for list of permissions applied</a></p>\n<p><strong>Error Logs:</strong></p>\n<pre><code>    *** IMAP *** \n\nDEBUG: JavaMail version 1.5.6\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: setDebug: JavaMail version 1.5.6\nDEBUG: getProvider() returning javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\nDEBUG IMAP: mail.imap.fetchsize: 16384\nDEBUG IMAP: mail.imap.ignorebodystructuresize: false\nDEBUG IMAP: mail.imap.statuscachetimeout: 1000\nDEBUG IMAP: mail.imap.appendbuffersize: -1\nDEBUG IMAP: mail.imap.minidletime: 10\nDEBUG IMAP: enable STARTTLS\nDEBUG IMAP: enable SASL\nDEBUG IMAP: SASL mechanisms allowed: XOAUTH2\nDEBUG IMAP: closeFoldersOnStoreFailure\nDEBUG IMAP: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\n* OK The Microsoft Exchange IMAP4 service is ready. [UABO......]\nA0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nA0 OK CAPABILITY completed.\nDEBUG IMAP: AUTH: PLAIN\nDEBUG IMAP: AUTH: XOAUTH2\nDEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=ManishPrajapati@SampleOrg2022.onmicrosoft.com, password=&lt;non-null&gt;\nDEBUG IMAP: SASL Mechanisms:\nDEBUG IMAP:  XOAUTH2\nDEBUG IMAP: \nDEBUG IMAP: SASL client XOAUTH2\nDEBUG IMAP: SASL callback length: 2\nDEBUG IMAP: SASL callback 0: javax.security.auth.callback.NameCallback@73f9ac\nDEBUG IMAP: SASL callback 1: javax.security.auth.callback.PasswordCallback@1064425\nA1 AUTHENTICATE XOAUTH2 dXNlcj.....\nA1 NO AUTHENTICATE failed.\njavax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:725)\n    at javax.mail.Service.connect(Service.java:366)\n    at javax.mail.Service.connect(Service.java:246)\n    at test.ClientCredentialGrantAndConnect.connectIMAP(ClientCredentialGrantAndConnect.java:166)\n    at test.ClientCredentialGrantAndConnect.main(ClientCredentialGrantAndConnect.java:45)\n</code></pre>\n<p>Any help in figuring out the issue will be highly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1458512566,"post_id":36120173,"comment_id":59880840,"body_markdown":"Have you tried putting `sourceCompatibility = 1.8` in the `build.gradle` file?","body":"Have you tried putting <code>sourceCompatibility = 1.8</code> in the <code>build.gradle</code> file?"}],"answers":[{"tags":[],"owner":{"account_id":1778654,"reputation":730,"user_id":1621904,"accept_rate":100,"display_name":"koto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1458575814,"creation_date":1458575814,"answer_id":36135853,"question_id":36120173,"body_markdown":"As of your second screen, make sure that all your modules are using the project default SDK, like in the screen below. The module setting may somehow be set to point older java version.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VPqhY.png","title":"Intellij build after gradle refresh fails on wrong java version","body":"<p>As of your second screen, make sure that all your modules are using the project default SDK, like in the screen below. The module setting may somehow be set to point older java version.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VPqhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPqhY.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14509685,"reputation":139,"user_id":10480472,"display_name":"jeankst"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1579518053,"creation_date":1579518053,"answer_id":59821898,"question_id":36120173,"body_markdown":"Same issue; got it solved with the following:\r\n\r\n 1. Go to: File / Settings / Build,Execution,Deployment / Build Tools /\r\n    Gradle / Gradle JVM \r\n 2. Then choose: Use JAVA_HOME","title":"Intellij build after gradle refresh fails on wrong java version","body":"<p>Same issue; got it solved with the following:</p>\n\n<ol>\n<li>Go to: File / Settings / Build,Execution,Deployment / Build Tools /\nGradle / Gradle JVM </li>\n<li>Then choose: Use JAVA_HOME</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669781640,"creation_date":1669781640,"answer_id":74622826,"question_id":36120173,"body_markdown":"I had this problem while trying to build Android Studio. I kept getting\r\n```\r\nTools need to be compiled with Java 1.8, you are using Java 11\r\n```\r\n\r\nEverything in the Intellij global and &quot;Project Structure&quot; settings was set to Java 1.8 so I couldn&#39;t figure out what was going on. For whatever reason, what ended up working was going to `Build, Execution, Deployment` &gt; `Build` &gt; `Gradle` and selecting the Amazon corretto version of Java 1.8 as installed by [sdkman][1]. This is baffling since I&#39;d already tried selecting two other options for Gradle JVM that said 1.8 and both of those still resulted in the same error message as a result of Java 11 being used.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://sdkman.io/\r\n  [2]: https://i.stack.imgur.com/jvwJD.png","title":"Intellij build after gradle refresh fails on wrong java version","body":"<p>I had this problem while trying to build Android Studio. I kept getting</p>\n<pre><code>Tools need to be compiled with Java 1.8, you are using Java 11\n</code></pre>\n<p>Everything in the Intellij global and &quot;Project Structure&quot; settings was set to Java 1.8 so I couldn't figure out what was going on. For whatever reason, what ended up working was going to <code>Build, Execution, Deployment</code> &gt; <code>Build</code> &gt; <code>Gradle</code> and selecting the Amazon corretto version of Java 1.8 as installed by <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>. This is baffling since I'd already tried selecting two other options for Gradle JVM that said 1.8 and both of those still resulted in the same error message as a result of Java 11 being used.</p>\n<p><a href=\"https://i.stack.imgur.com/jvwJD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jvwJD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1089051,"reputation":106,"user_id":1084106,"display_name":"rdChris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670990711,"creation_date":1670990711,"answer_id":74793465,"question_id":36120173,"body_markdown":"I finally resolved this issue for myself. I&#39;m on Windows and it turns out the order in which the JDKs are listed in the Windows environment variable matter, and overrode what IDEA had set.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAlthough my project has JDK11 listed everywhere, JDK17 was still being used. I was able to finally resolve this issue by moving their ordering to list JDK11 first.\r\n\r\nbefore I swapped the env var order\r\n[![enter image description here][2]][2]\r\n\r\nafter (hurray!)\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c5kxZ.png\r\n  [2]: https://i.stack.imgur.com/H9uYt.png\r\n  [3]: https://i.stack.imgur.com/NZqp3.png","title":"Intellij build after gradle refresh fails on wrong java version","body":"<p>I finally resolved this issue for myself. I'm on Windows and it turns out the order in which the JDKs are listed in the Windows environment variable matter, and overrode what IDEA had set.</p>\n<p><a href=\"https://i.stack.imgur.com/c5kxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c5kxZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Although my project has JDK11 listed everywhere, JDK17 was still being used. I was able to finally resolve this issue by moving their ordering to list JDK11 first.</p>\n<p>before I swapped the env var order\n<a href=\"https://i.stack.imgur.com/H9uYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9uYt.png\" alt=\"enter image description here\" /></a></p>\n<p>after (hurray!)\n<a href=\"https://i.stack.imgur.com/NZqp3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZqp3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":203131,"reputation":17983,"user_id":450602,"accept_rate":57,"display_name":"Bick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3790,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1670990711,"creation_date":1458511374,"question_id":36120173,"body_markdown":"I am using Gradle with intellij.   \r\nI refresh Gradle and then I rebuild my project.   \r\nI get the following  \r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n* Notice the first line - Using:javac 1.8.0_65   \r\n\r\nBut I get the error that I should use -source7 or higher.  \r\nI also set the following at the settings  \r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n(With all of the inner modules are set to project sdk (1.8))\r\nBut I still can&#39;t rebuild or compile without this error. \r\nAny suggestions?\r\n\r\n(obviously i deleted all my classes and jars and then Gradle refreshed and rebuild project)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zmjgm.png\r\n  [2]: http://i.stack.imgur.com/WAhuH.png\r\n  [3]: http://i.stack.imgur.com/tPenm.png","title":"Intellij build after gradle refresh fails on wrong java version","body":"<p>I am using Gradle with intellij.<br>\nI refresh Gradle and then I rebuild my project.<br>\nI get the following  </p>\n\n<p><a href=\"https://i.stack.imgur.com/zmjgm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zmjgm.png\" alt=\"enter image description here\"></a>  </p>\n\n<ul>\n<li>Notice the first line - Using:javac 1.8.0_65   </li>\n</ul>\n\n<p>But I get the error that I should use -source7 or higher.<br>\nI also set the following at the settings  </p>\n\n<p><a href=\"https://i.stack.imgur.com/WAhuH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WAhuH.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/tPenm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tPenm.png\" alt=\"enter image description here\"></a></p>\n\n<p>(With all of the inner modules are set to project sdk (1.8))\nBut I still can't rebuild or compile without this error. \nAny suggestions?</p>\n\n<p>(obviously i deleted all my classes and jars and then Gradle refreshed and rebuild project)</p>\n"},{"tags":["java","python","iterator","generator"],"comments":[{"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"score":2,"creation_date":1342736799,"post_id":11570132,"comment_id":15306806,"body_markdown":"So, basically you want to iterate over the values in z-dimension?","body":"So, basically you want to iterate over the values in z-dimension?"},{"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"score":0,"creation_date":1342737830,"post_id":11570132,"comment_id":15307064,"body_markdown":"Yes and optionally with some predicate filter like shown.","body":"Yes and optionally with some predicate filter like shown."},{"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"score":1,"creation_date":1342994373,"post_id":11570132,"comment_id":15361460,"body_markdown":"I&#39;m a bit too lazy to write a response right at the moment, but basically you&#39;d need a custom iterator.","body":"I&#39;m a bit too lazy to write a response right at the moment, but basically you&#39;d need a custom iterator."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":5,"creation_date":1406816797,"post_id":11570132,"comment_id":38986063,"body_markdown":"BTW, you could also write this as `(z for x in array if x is not None for y in x if y is not None for z in y if z is not None)`","body":"BTW, you could also write this as <code>(z for x in array if x is not None for y in x if y is not None for z in y if z is not None)</code>"},{"owner":{"account_id":9874198,"reputation":489,"user_id":8632023,"display_name":"Daniel Zin"},"score":0,"creation_date":1538669796,"post_id":11570132,"comment_id":92234306,"body_markdown":"Another way - to write &quot;Flatten Nested&quot; iterator like:\nhttps://codereview.stackexchange.com/questions/32827/flatten-iterator-for-nested-list","body":"Another way - to write &quot;Flatten Nested&quot; iterator like: <a href=\"https://codereview.stackexchange.com/questions/32827/flatten-iterator-for-nested-list\" title=\"flatten iterator for nested list\">codereview.stackexchange.com/questions/32827/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1588847,"reputation":2126,"user_id":1472628,"display_name":"Arne"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1342737642,"creation_date":1342737642,"answer_id":11570371,"question_id":11570132,"body_markdown":"There is no yield in Java, so you have to do all these things for yourself, ending up with ridiculous code as this one: \r\n\r\n\t\tfor(Integer z : new Iterable&lt;Integer&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\t\t\r\n\t\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\r\n\t\t\t\t\tfinal Integer[][][] d3 = \r\n\t\t\t\t\t\t\t{ { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } },\r\n\t\t\t\t\t\t\t{ { 10, 11, 12 }, { 13, 14, 15 }, { 16, 17, 18 } },\r\n\t\t\t\t\t\t\t{ { 19, 20, 21 }, { 22, 23, 24 }, { 25, 26, 27 } } };\r\n\r\n\t\t\t\t\tint x = 0; \r\n\t\t\t\t\tint y = 0; \r\n\t\t\t\t\tint z = 0;\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\t\treturn !(x==3 &amp;&amp; y == 3 &amp;&amp; z == 3);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\t\tInteger result = d3[z][y][x];\r\n\t\t\t\t\t\tif (++x == 3) {\r\n\t\t\t\t\t\t\tx = 0;\r\n\t\t\t\t\t\t\tif (++y == 3) {\r\n\t\t\t\t\t\t\t\ty = 0;\r\n\t\t\t\t\t\t\t\t++z;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void remove() {\r\n\t\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}) {\r\n\t\t\tSystem.out.println(z);\r\n\t\t}\r\n\r\nBut if your sample would have more than one single `yield` it would end up even worse. ","title":"Generator functions equivalent in Java","body":"<p>There is no yield in Java, so you have to do all these things for yourself, ending up with ridiculous code as this one: </p>\n\n<pre><code>    for(Integer z : new Iterable&lt;Integer&gt;() {\n\n        @Override\n        public Iterator&lt;Integer&gt; iterator() {\n\n            return new Iterator&lt;Integer&gt;() {\n\n                final Integer[][][] d3 = \n                        { { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } },\n                        { { 10, 11, 12 }, { 13, 14, 15 }, { 16, 17, 18 } },\n                        { { 19, 20, 21 }, { 22, 23, 24 }, { 25, 26, 27 } } };\n\n                int x = 0; \n                int y = 0; \n                int z = 0;\n\n                @Override\n                public boolean hasNext() {\n                    return !(x==3 &amp;&amp; y == 3 &amp;&amp; z == 3);\n                }\n\n                @Override\n                public Integer next() {\n                    Integer result = d3[z][y][x];\n                    if (++x == 3) {\n                        x = 0;\n                        if (++y == 3) {\n                            y = 0;\n                            ++z;\n                        }\n                    }\n                    return result;\n                }\n\n                @Override\n                public void remove() {\n                    throw new UnsupportedOperationException();\n                }\n            };\n        }\n    }) {\n        System.out.println(z);\n    }\n</code></pre>\n\n<p>But if your sample would have more than one single <code>yield</code> it would end up even worse. </p>\n"},{"tags":[],"owner":{"account_id":72715,"reputation":81,"user_id":209822,"display_name":"Spen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373054785,"creation_date":1373054785,"answer_id":17496177,"question_id":11570132,"body_markdown":"I wish Java had generator/yield, but since it doesn&#39;t using Iterators is probably your best bet.\r\n\r\nIn this example I stuck with arrays, but in general I would advise using Iterable Collection instead, eg. List.  In the example I show how it&#39;s pretty easy to get iterators for arrays though:\r\n\r\n    package example.stackoverflow;\r\n\r\n    import com.sun.xml.internal.xsom.impl.scd.Iterators;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n\r\n    public class ArrayGenerator&lt;T&gt; implements Iterable&lt;T&gt; {\r\n        private final T[][][] input;\r\n\r\n        public ArrayGenerator(T[][][] input) {\r\n            this.input = input;\r\n        }\r\n\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return new Iter();\r\n        }\r\n\r\n        private class Iter implements Iterator&lt;T&gt; {\r\n            private Iterator&lt;T[][]&gt; x;\r\n            private Iterator&lt;T[]&gt; y;\r\n            private Iterator&lt;T&gt; z;\r\n\r\n            {\r\n                x = Arrays.asList(input).iterator();\r\n                y = Iterators.empty();\r\n                z = Iterators.empty();\r\n            }\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return z.hasNext() || y.hasNext() || x.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                while(! z.hasNext()) {\r\n                    while(! y.hasNext()) {\r\n                        y = Arrays.asList(x.next()).iterator();\r\n                    }\r\n                    z = Arrays.asList(y.next()).iterator();\r\n                }\r\n                return z.next();\r\n            }\r\n\r\n            @Override\r\n            public void remove() {\r\n                throw new UnsupportedOperationException(&quot;remove not supported&quot;);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            for(Integer i :\r\n                    new ArrayGenerator&lt;Integer&gt;(\r\n                            new Integer[][][]{\r\n                              {\r\n                                {1, 2, 3},\r\n                                {4, 5}\r\n                              },\r\n                              {\r\n                                {},\r\n                                {6}\r\n                              },\r\n                              {\r\n                              },\r\n                              {\r\n                                {7, 8, 9, 10, 11}\r\n                              }\r\n                            }\r\n                    )) {\r\n                System.out.print(i + &quot;, &quot;);\r\n            }\r\n        }\r\n    }\r\n","title":"Generator functions equivalent in Java","body":"<p>I wish Java had generator/yield, but since it doesn't using Iterators is probably your best bet.</p>\n\n<p>In this example I stuck with arrays, but in general I would advise using Iterable Collection instead, eg. List.  In the example I show how it's pretty easy to get iterators for arrays though:</p>\n\n<pre><code>package example.stackoverflow;\n\nimport com.sun.xml.internal.xsom.impl.scd.Iterators;\n\nimport java.util.Arrays;\nimport java.util.Iterator;\n\npublic class ArrayGenerator&lt;T&gt; implements Iterable&lt;T&gt; {\n    private final T[][][] input;\n\n    public ArrayGenerator(T[][][] input) {\n        this.input = input;\n    }\n\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new Iter();\n    }\n\n    private class Iter implements Iterator&lt;T&gt; {\n        private Iterator&lt;T[][]&gt; x;\n        private Iterator&lt;T[]&gt; y;\n        private Iterator&lt;T&gt; z;\n\n        {\n            x = Arrays.asList(input).iterator();\n            y = Iterators.empty();\n            z = Iterators.empty();\n        }\n\n        @Override\n        public boolean hasNext() {\n            return z.hasNext() || y.hasNext() || x.hasNext();\n        }\n\n        @Override\n        public T next() {\n            while(! z.hasNext()) {\n                while(! y.hasNext()) {\n                    y = Arrays.asList(x.next()).iterator();\n                }\n                z = Arrays.asList(y.next()).iterator();\n            }\n            return z.next();\n        }\n\n        @Override\n        public void remove() {\n            throw new UnsupportedOperationException(\"remove not supported\");\n        }\n    }\n\n    public static void main(String[] args) {\n        for(Integer i :\n                new ArrayGenerator&lt;Integer&gt;(\n                        new Integer[][][]{\n                          {\n                            {1, 2, 3},\n                            {4, 5}\n                          },\n                          {\n                            {},\n                            {6}\n                          },\n                          {\n                          },\n                          {\n                            {7, 8, 9, 10, 11}\n                          }\n                        }\n                )) {\n            System.out.print(i + \", \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063075,"reputation":4873,"user_id":1839209,"accept_rate":80,"display_name":"Michael Herrmann"},"down_vote_count":2,"up_vote_count":59,"is_accepted":false,"score":57,"last_activity_date":1426430638,"creation_date":1389096465,"answer_id":20971237,"question_id":11570132,"body_markdown":"Had the same need so wrote a little class for it. Here are some examples:\r\n\r\n    Generator&lt;Integer&gt; simpleGenerator = new Generator&lt;Integer&gt;() {\r\n        public void run() throws InterruptedException {\r\n            yield(1);\r\n            // Some logic here...\r\n            yield(2);\r\n        }\r\n    };\r\n    for (Integer element : simpleGenerator)\r\n        System.out.println(element);\r\n    // Prints &quot;1&quot;, then &quot;2&quot;.\r\n\r\nInfinite generators are also possible:\r\n\r\n    Generator&lt;Integer&gt; infiniteGenerator = new Generator&lt;Integer&gt;() {\r\n        public void run() throws InterruptedException {\r\n            while (true)\r\n                yield(1);\r\n        }\r\n    };\r\n\r\nThe `Generator` class internally works with a Thread to produce the items. By overriding `finalize()`, it ensures that no Threads stay around if the corresponding Generator is no longer used.\r\n\r\nThe performance is obviously not great but not too shabby either. On my machine with a dual core i5 CPU @ 2.67 GHz, 1000 items can be produced in &lt; 0.03s.\r\n\r\nThe code is on [GitHub][1]. There, you&#39;ll also find instructions on how to include it as a Maven/Gradle dependency.\r\n\r\n  [1]: https://github.com/mherrmann/java-generator-functions","title":"Generator functions equivalent in Java","body":"<p>Had the same need so wrote a little class for it. Here are some examples:</p>\n\n<pre><code>Generator&lt;Integer&gt; simpleGenerator = new Generator&lt;Integer&gt;() {\n    public void run() throws InterruptedException {\n        yield(1);\n        // Some logic here...\n        yield(2);\n    }\n};\nfor (Integer element : simpleGenerator)\n    System.out.println(element);\n// Prints \"1\", then \"2\".\n</code></pre>\n\n<p>Infinite generators are also possible:</p>\n\n<pre><code>Generator&lt;Integer&gt; infiniteGenerator = new Generator&lt;Integer&gt;() {\n    public void run() throws InterruptedException {\n        while (true)\n            yield(1);\n    }\n};\n</code></pre>\n\n<p>The <code>Generator</code> class internally works with a Thread to produce the items. By overriding <code>finalize()</code>, it ensures that no Threads stay around if the corresponding Generator is no longer used.</p>\n\n<p>The performance is obviously not great but not too shabby either. On my machine with a dual core i5 CPU @ 2.67 GHz, 1000 items can be produced in &lt; 0.03s.</p>\n\n<p>The code is on <a href=\"https://github.com/mherrmann/java-generator-functions\">GitHub</a>. There, you'll also find instructions on how to include it as a Maven/Gradle dependency.</p>\n"},{"tags":[],"owner":{"account_id":4740163,"reputation":281,"user_id":3833219,"display_name":"TheCannyCoder"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1405374165,"creation_date":1405204227,"answer_id":24717889,"question_id":11570132,"body_markdown":"Indeed Java has no yield, but you can now use Java 8 streams. IMO it&#39;s really a complicated iterator since it&#39;s backed by an array, not a function. Given it&#39;s a loop in a loop in a loop can be expressed as a Stream using filter (to skip the nulls) and flatMap to stream the inner collection. It&#39;s also about the size of the Python code. I&#39;ve converted it to an iterator to use at your leisure and printed to demonstrate, but if all you were doing was printing, you could end the stream sequence with forEach(System.out::println) instead of iterator().\r\n\r\n\r\n    public class ArrayIterate\r\n    {\r\n    \tpublic static void main(String args[])\r\n\t    {\r\n    \t\tInteger[][][] a = new Integer[][][] { { { 1, 2, null, 3 },\r\n                                                    null,\r\n                                                    { 4 }\r\n                                                  },\r\n                                                  null,\r\n                                                  { { 5 } } };\r\n\r\n\t\t    Iterator&lt;Object&gt; iterator = Arrays.stream(a)\r\n                                              .filter(ax -&gt; ax != null)\r\n\t\t\t\t                              .flatMap(ax -&gt; Arrays.stream(ax)\r\n                                                   .filter(ay -&gt; ay != null)\r\n                                                   .flatMap(ay -&gt; Arrays.stream(ay)\r\n                                                   .filter(az -&gt; az != null)))\r\n                                              .iterator();\r\n\t\t\r\n    \t\twhile (iterator.hasNext())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(iterator.next());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI&#39;m writing about implementation of generators as part of my blog on Java 8 Functional Programming and Lambda Expressions at http://thecannycoder.wordpress.com/ which might give you some more ideas for converting Python generator functions into Java equivalents.","title":"Generator functions equivalent in Java","body":"<p>Indeed Java has no yield, but you can now use Java 8 streams. IMO it's really a complicated iterator since it's backed by an array, not a function. Given it's a loop in a loop in a loop can be expressed as a Stream using filter (to skip the nulls) and flatMap to stream the inner collection. It's also about the size of the Python code. I've converted it to an iterator to use at your leisure and printed to demonstrate, but if all you were doing was printing, you could end the stream sequence with forEach(System.out::println) instead of iterator().</p>\n\n<pre><code>public class ArrayIterate\n{\n    public static void main(String args[])\n    {\n        Integer[][][] a = new Integer[][][] { { { 1, 2, null, 3 },\n                                                null,\n                                                { 4 }\n                                              },\n                                              null,\n                                              { { 5 } } };\n\n        Iterator&lt;Object&gt; iterator = Arrays.stream(a)\n                                          .filter(ax -&gt; ax != null)\n                                          .flatMap(ax -&gt; Arrays.stream(ax)\n                                               .filter(ay -&gt; ay != null)\n                                               .flatMap(ay -&gt; Arrays.stream(ay)\n                                               .filter(az -&gt; az != null)))\n                                          .iterator();\n\n        while (iterator.hasNext())\n        {\n            System.out.println(iterator.next());\n        }\n    }\n}\n</code></pre>\n\n<p>I'm writing about implementation of generators as part of my blog on Java 8 Functional Programming and Lambda Expressions at <a href=\"http://thecannycoder.wordpress.com/\" rel=\"noreferrer\">http://thecannycoder.wordpress.com/</a> which might give you some more ideas for converting Python generator functions into Java equivalents.</p>\n"},{"tags":[],"owner":{"account_id":409632,"reputation":1129,"user_id":780998,"accept_rate":76,"display_name":"Deven Phillips"},"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1449869947,"creation_date":1449869947,"answer_id":34232983,"question_id":11570132,"body_markdown":"No, Java does not have &quot;generators&quot; or &quot;yield&quot; per-se, but the same functionality is available by using the [Observer Pattern][1]. This is enhanced when using a modern implementation like [RxJava][2]. Your code would subscribe to the Obserable and whenever it tries to read the next value from the Observable it would cause it &quot;generate&quot; it&#39;s next value. The Observable can maintain it&#39;s own state just like a generator for Python or JavaScript. When there are no new values to be read, the &quot;next()&quot; method will block waiting on new data to be available. A good example of this can be found [HERE][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Observer_pattern\r\n  [2]: https://github.com/ReactiveX/RxJava\r\n  [3]: https://github.com/ReactiveX/RxJava/wiki/How-To-Use-RxJava#asynchronous-observable-example","title":"Generator functions equivalent in Java","body":"<p>No, Java does not have \"generators\" or \"yield\" per-se, but the same functionality is available by using the <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow\">Observer Pattern</a>. This is enhanced when using a modern implementation like <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">RxJava</a>. Your code would subscribe to the Obserable and whenever it tries to read the next value from the Observable it would cause it \"generate\" it's next value. The Observable can maintain it's own state just like a generator for Python or JavaScript. When there are no new values to be read, the \"next()\" method will block waiting on new data to be available. A good example of this can be found <a href=\"https://github.com/ReactiveX/RxJava/wiki/How-To-Use-RxJava#asynchronous-observable-example\" rel=\"nofollow\">HERE</a>.</p>\n"},{"tags":[],"owner":{"account_id":411673,"reputation":2882,"user_id":784284,"accept_rate":93,"display_name":"Calvin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486065484,"creation_date":1486065484,"answer_id":42011230,"question_id":11570132,"body_markdown":"The translation from Python-style generators to Java-style iterators can be automated. If you&#39;re willing to accept code generation in your build process, you might be interested in this prototype tool that does the translation for you:\r\n\r\nhttps://github.com/Calvin-L/gen2it\r\n","title":"Generator functions equivalent in Java","body":"<p>The translation from Python-style generators to Java-style iterators can be automated. If you're willing to accept code generation in your build process, you might be interested in this prototype tool that does the translation for you:</p>\n\n<p><a href=\"https://github.com/Calvin-L/gen2it\" rel=\"nofollow noreferrer\">https://github.com/Calvin-L/gen2it</a></p>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600757257,"creation_date":1599997925,"answer_id":63870436,"question_id":11570132,"body_markdown":"Assuming the Python data structure you describe in your question can be described using the following Java type:\r\n\r\n```java\r\nList&lt;List&lt;List&lt;T&gt;&gt;&gt;;\r\n```\r\n\r\nand you want to use it in an operation like this:\r\n\r\n```Java\r\nfor (T z : iterator(array)) {\r\n  // do something with z\r\n}\r\n```\r\n\r\nIf so, then one can implement your Python `iterator()` pretty trivially using Java 8 streams:\r\n\r\n```Java\r\npublic &lt;T&gt; Iterable&lt;T&gt; iterator(List&lt;List&lt;List&lt;T&gt;&gt;&gt; array) {\r\n  return array.stream()\r\n      .filter(Objects::nonNull) // -&gt; emits stream of non-null `x`s\r\n    .flatMap(x -&gt; x.stream()).filter(Objects::nonNull) // -&gt; emits […] `y`s\r\n    .flatMap(y -&gt; y.stream()).filter(Objects::nonNull) // -&gt; emits […] `z`s\r\n    .collect(Collectors.toList()); // get list of non-null `z`s to iterate on\r\n}\r\n```\r\n\r\nOf course, you can not collect the results and output a stream for further streamed processing (people tell me that it is a good idea):\r\n\r\n```java\r\npublic &lt;T&gt; Stream&lt;T&gt; streamContent(List&lt;List&lt;List&lt;T&gt;&gt;&gt; array) {\r\n  return array.stream()\r\n      .filter(Objects::nonNull) // -&gt; emits stream of non-null `x`s\r\n    .flatMap(x -&gt; x.stream()).filter(Objects::nonNull) // -&gt; emits […] `y`s\r\n    .flatMap(y -&gt; y.stream()).filter(Objects::nonNull); // -&gt; emits […] `z`s\r\n}\r\n\r\n// ...\r\n\r\nstreamContent(array).forEach(z -&gt; {\r\n  // do something with z\r\n});\r\n```","title":"Generator functions equivalent in Java","body":"<p>Assuming the Python data structure you describe in your question can be described using the following Java type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;List&lt;T&gt;&gt;&gt;;\n</code></pre>\n<p>and you want to use it in an operation like this:</p>\n<pre><code>for (T z : iterator(array)) {\n  // do something with z\n}\n</code></pre>\n<p>If so, then one can implement your Python <code>iterator()</code> pretty trivially using Java 8 streams:</p>\n<pre><code>public &lt;T&gt; Iterable&lt;T&gt; iterator(List&lt;List&lt;List&lt;T&gt;&gt;&gt; array) {\n  return array.stream()\n      .filter(Objects::nonNull) // -&gt; emits stream of non-null `x`s\n    .flatMap(x -&gt; x.stream()).filter(Objects::nonNull) // -&gt; emits […] `y`s\n    .flatMap(y -&gt; y.stream()).filter(Objects::nonNull) // -&gt; emits […] `z`s\n    .collect(Collectors.toList()); // get list of non-null `z`s to iterate on\n}\n</code></pre>\n<p>Of course, you can not collect the results and output a stream for further streamed processing (people tell me that it is a good idea):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; Stream&lt;T&gt; streamContent(List&lt;List&lt;List&lt;T&gt;&gt;&gt; array) {\n  return array.stream()\n      .filter(Objects::nonNull) // -&gt; emits stream of non-null `x`s\n    .flatMap(x -&gt; x.stream()).filter(Objects::nonNull) // -&gt; emits […] `y`s\n    .flatMap(y -&gt; y.stream()).filter(Objects::nonNull); // -&gt; emits […] `z`s\n}\n\n// ...\n\nstreamContent(array).forEach(z -&gt; {\n  // do something with z\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20702459,"reputation":11,"user_id":15201150,"display_name":"W. Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613180509,"creation_date":1613180509,"answer_id":66181152,"question_id":11570132,"body_markdown":"Very late to the game but I wanted to offer my solution as a reference.\r\nhttps://github.com/tsi-software/JavaGenerator\r\nA Java class that allows you to write &quot;Generator&quot; code as similarly as possible to Python and C#.","title":"Generator functions equivalent in Java","body":"<p>Very late to the game but I wanted to offer my solution as a reference.\n<a href=\"https://github.com/tsi-software/JavaGenerator\" rel=\"nofollow noreferrer\">https://github.com/tsi-software/JavaGenerator</a>\nA Java class that allows you to write &quot;Generator&quot; code as similarly as possible to Python and C#.</p>\n"},{"tags":[],"owner":{"account_id":2056806,"reputation":2735,"user_id":1834329,"accept_rate":60,"display_name":"Jared Beach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630869072,"creation_date":1630869072,"answer_id":69066457,"question_id":11570132,"body_markdown":"You can use the iterator of a stream to accomplish this.\r\n\r\n```java\r\n// Save the iterator of a stream that generates fib sequence\r\nIterator&lt;Integer&gt; myGenerator = Stream\r\n        .iterate(new Integer[]{ 1, 1 }, x -&gt; new Integer[] { x[1], x[0] + x[1] })\r\n        .map(x -&gt; x[0]).iterator();\r\n\r\n// Print the first 5 elements\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    System.out.println(myGenerator.next());\r\n}\r\n\r\nSystem.out.println(&quot;done with first iteration&quot;);\r\n\r\n// Print the next 5 elements\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    System.out.println(myGenerator.next());\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```txt\r\n1\r\n1\r\n2\r\n3\r\n5\r\ndone with first iteration\r\n8\r\n13\r\n21\r\n34\r\n55\r\n```","title":"Generator functions equivalent in Java","body":"<p>You can use the iterator of a stream to accomplish this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Save the iterator of a stream that generates fib sequence\nIterator&lt;Integer&gt; myGenerator = Stream\n        .iterate(new Integer[]{ 1, 1 }, x -&gt; new Integer[] { x[1], x[0] + x[1] })\n        .map(x -&gt; x[0]).iterator();\n\n// Print the first 5 elements\nfor (int i = 0; i &lt; 5; i++) {\n    System.out.println(myGenerator.next());\n}\n\nSystem.out.println(&quot;done with first iteration&quot;);\n\n// Print the next 5 elements\nfor (int i = 0; i &lt; 5; i++) {\n    System.out.println(myGenerator.next());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n1\n2\n3\n5\ndone with first iteration\n8\n13\n21\n34\n55\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6788741,"reputation":24,"user_id":5226546,"display_name":"wolray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670990326,"creation_date":1670990326,"answer_id":74793431,"question_id":11570132,"body_markdown":"Using `Seq` from a new [library](https://github.com/wolray/seq-java), which has implemented generator in Java, you can write your own generator functions just like in Python\r\n```lang-java\r\npublic Seq&lt;Integer&gt; generate(List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; array) {\r\n    return c -&gt; {\r\n        for (List&lt;List&lt;Integer&gt;&gt; x : array) {\r\n            if (x != null) {\r\n                for (List&lt;Integer&gt; y : x) {\r\n                    if (y != null) {\r\n                        for (Integer z : y) {\r\n                            if (z != null) {\r\n                                c.accept(z);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\nThen you can manipulate/collect the returned `seq` just like a normal Java `stream`.","title":"Generator functions equivalent in Java","body":"<p>Using <code>Seq</code> from a new <a href=\"https://github.com/wolray/seq-java\" rel=\"nofollow noreferrer\">library</a>, which has implemented generator in Java, you can write your own generator functions just like in Python</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Seq&lt;Integer&gt; generate(List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; array) {\n    return c -&gt; {\n        for (List&lt;List&lt;Integer&gt;&gt; x : array) {\n            if (x != null) {\n                for (List&lt;Integer&gt; y : x) {\n                    if (y != null) {\n                        for (Integer z : y) {\n                            if (z != null) {\n                                c.accept(z);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n}\n</code></pre>\n<p>Then you can manipulate/collect the returned <code>seq</code> just like a normal Java <code>stream</code>.</p>\n"}],"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80699,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":10,"score":59,"last_activity_date":1670990326,"creation_date":1342736181,"question_id":11570132,"body_markdown":"I would like to implement an `Iterator` in Java that behaves somewhat like the following generator function in Python:\r\n\r\n    def iterator(array):\r\n       for x in array:\r\n          if x!= None:\r\n            for y in x:\r\n              if y!= None:\r\n                for z in y:\r\n                  if z!= None:\r\n                    yield z\r\n\r\nx on the java side can be multi-dimensional array or some form of nested collection. I am not sure how this would work. Ideas?","title":"Generator functions equivalent in Java","body":"<p>I would like to implement an <code>Iterator</code> in Java that behaves somewhat like the following generator function in Python:</p>\n\n<pre><code>def iterator(array):\n   for x in array:\n      if x!= None:\n        for y in x:\n          if y!= None:\n            for z in y:\n              if z!= None:\n                yield z\n</code></pre>\n\n<p>x on the java side can be multi-dimensional array or some form of nested collection. I am not sure how this would work. Ideas?</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":3491211,"reputation":1083,"user_id":2920861,"accept_rate":88,"display_name":"Crigges"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670986214,"creation_date":1670985701,"answer_id":74793042,"question_id":74792844,"body_markdown":"In your code, you use `b.addA(a);` where `b` is an instance of `B` while `B` doesn&#39;t have a method `addA(A)`. Is `B` supposed to keep a list of `A`&#39;s?\r\n\r\nHowever, the answer to your question is hashing. You are looking for a [multimap](https://en.wikipedia.org/wiki/Multimap), to be specific. As a quick fix you can use a `TreeMap` that stores a List of `A`&#39;s by their id:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\tTreeMap&lt;String, ArrayList&lt;A&gt;&gt; aSet = new TreeMap&lt;&gt;();\r\n\tArrayList&lt;B&gt; bSet = new ArrayList&lt;&gt;();\r\n\r\n\tfor (int i = 0; i &lt; 100000; i++) {\r\n\t\tUUID uuid = UUID.randomUUID();\r\n\t\tString uuidAsString = uuid.toString();\r\n\r\n\t\tA a1 = new A();\r\n\t\ta1.setId(uuidAsString);\r\n\t\tArrayList&lt;A&gt; list = aSet.get(a1.getId());\r\n\t\tif (list == null) {\r\n\t\t\tlist = new ArrayList&lt;&gt;();\r\n\t\t\taSet.put(a1.getId(), list);\r\n\t\t}\r\n\t\tlist.add(a1);\r\n\r\n\t\tA a2 = new A();\r\n\t\ta2.setId(uuidAsString);\r\n\t\tlist = aSet.get(a2.getId());\r\n\t\tif (list == null) {\r\n\t\t\tlist = new ArrayList&lt;&gt;();\r\n\t\t\taSet.put(a2.getId(), list);\r\n\t\t}\r\n\t\tlist.add(a2);\r\n\r\n\t\tB b = new B();\r\n\t\tb.setId(uuidAsString);\r\n\t\tbSet.add(b);\r\n\t}\r\n\r\n\tfor (B b : bSet) {\r\n\t\tSystem.out.println(aSet.get(b.getId()));\r\n\t}\r\n\r\n}\r\n```\r\nPlease note that this isn&#39;t a good implementation and instead you should write your own multimap or use the one in [guava](http://code.google.com/p/guava-libraries/)","title":"Assign List of Class of objects to another list","body":"<p>In your code, you use <code>b.addA(a);</code> where <code>b</code> is an instance of <code>B</code> while <code>B</code> doesn't have a method <code>addA(A)</code>. Is <code>B</code> supposed to keep a list of <code>A</code>'s?</p>\n<p>However, the answer to your question is hashing. You are looking for a <a href=\"https://en.wikipedia.org/wiki/Multimap\" rel=\"nofollow noreferrer\">multimap</a>, to be specific. As a quick fix you can use a <code>TreeMap</code> that stores a List of <code>A</code>'s by their id:</p>\n<pre><code>public static void main(String[] args) {\n\n    TreeMap&lt;String, ArrayList&lt;A&gt;&gt; aSet = new TreeMap&lt;&gt;();\n    ArrayList&lt;B&gt; bSet = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 100000; i++) {\n        UUID uuid = UUID.randomUUID();\n        String uuidAsString = uuid.toString();\n\n        A a1 = new A();\n        a1.setId(uuidAsString);\n        ArrayList&lt;A&gt; list = aSet.get(a1.getId());\n        if (list == null) {\n            list = new ArrayList&lt;&gt;();\n            aSet.put(a1.getId(), list);\n        }\n        list.add(a1);\n\n        A a2 = new A();\n        a2.setId(uuidAsString);\n        list = aSet.get(a2.getId());\n        if (list == null) {\n            list = new ArrayList&lt;&gt;();\n            aSet.put(a2.getId(), list);\n        }\n        list.add(a2);\n\n        B b = new B();\n        b.setId(uuidAsString);\n        bSet.add(b);\n    }\n\n    for (B b : bSet) {\n        System.out.println(aSet.get(b.getId()));\n    }\n\n}\n</code></pre>\n<p>Please note that this isn't a good implementation and instead you should write your own multimap or use the one in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">guava</a></p>\n"}],"owner":{"account_id":1190195,"reputation":302,"user_id":1163179,"accept_rate":62,"display_name":"Sajith Dilshan Jamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74793042,"answer_count":1,"score":0,"last_activity_date":1670988455,"creation_date":1670983340,"question_id":74792844,"body_markdown":"This is mainly a question intended for me to learn about various performant ways of filtering and assigning objects to Lists.\r\n\r\nAssume\r\n\r\n    public class A implements Comparable&lt;A&gt; {\r\n    private String id;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(A o) {\r\n        return o.getId().compareTo(this.getId());\r\n    }\r\n    }\r\n\r\n\r\n    public class B implements Comparable&lt;B&gt;{\r\n    private String id;\r\n    private List&lt;A&gt; aList = new ArrayList&lt;&gt;();\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void addA(A a)\r\n    {\r\n        aList.add(a);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int compareTo(B o) {\r\n        return o.getId().compareTo(this.getId());\r\n    }\r\n    }\r\n\r\n\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n\r\n        SortedSet&lt;A&gt; aSet = new TreeSet&lt;&gt;();\r\n        SortedSet&lt;B&gt; bSet = new TreeSet&lt;&gt;();\r\n\r\n        for(int i=0;i&lt;100000;i++)\r\n        {\r\n            UUID uuid = UUID.randomUUID();\r\n            String uuidAsString = uuid.toString();\r\n\r\n            A a1 = new A();\r\n            a1.setId(uuidAsString);\r\n            aSet.add(a1);\r\n\r\n            A a2 = new A();\r\n            a2.setId(uuidAsString);\r\n            aSet.add(a2);\r\n\r\n\r\n            B b = new B();\r\n            b.setId(uuidAsString);\r\n            bSet.add(b);\r\n        }\r\n\r\n        //this is where the performance part comes in\r\n        //scenario: For each B I want to find A whose Id matches B&#39;s Id, and assign it to B\r\n        //assume B can have 1-5 instances of A (even though for this example I only initialized 2)\r\n\r\n        bSet.parallelStream().forEach(b -&gt; {\r\n            aSet.parallelStream().filter(a -&gt; {\r\n                return b.getId().equals(a.getId());\r\n            }).forEach(a -&gt; {\r\n                b.addA(a);\r\n            });\r\n        });\r\n    }\r\n    }\r\n\r\n\r\nThe solution I came up with was to combine parallelstreams and filters to find the matching IDs between the two types of objects and then to loops through the filtered results to add the instances of A to B.\r\n\r\nI used TreeSets here because I thought the ordered IDs might help speed things up, same reason I used parallelStreams.\r\n\r\nThis is mostly abstracted out from a scenario from a project I am doing at the office which I cant post here. The classes in the actual project have a lot more variables, and in the worst case - have sublists of lists (I resolved that using flatMaps in streams).\r\n\r\nHowever my inexperienced gut tells me there is a more performant way to solve this problem.\r\n\r\nI am primarily looking for practical ways to speed this up.\r\n\r\nSome ways I thought of speeding this up:\r\n\r\n -  Switch the lists and sets to [Eclipse Collections][1]\r\n - Assuming the starting point of these classes are CSV files -&gt; Maybe write an apache spark application that will map these(I assumed that Spark could have some internal clever way of doing this faster than Streams).\r\n - I dunno......write them all to sql tables....map them via foreign keys and then query them again?\r\n\r\nSpeed is the name of the game, solutions using vanilla java, different librarys (like Eclipse Collections), or entire engines like Spark are acceptable\r\n\r\nAssume the minimum list size is atleast 50,000\r\n\r\nBonus complexity: You can add another class &#39;C&#39;, with multiple instances of &#39;B&#39; in it. My inexperienced self can only think of writing another similar streaming operation as A-&gt;B and run it after the first stream is done. Is there a way to combine both A-&gt;B and B-&gt;C operations together so that they happen at once. That will definitely speed things up.\r\n\r\nSorry about my inexperienced self and sorry again if this is a duplicate too\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Assign List of Class of objects to another list","body":"<p>This is mainly a question intended for me to learn about various performant ways of filtering and assigning objects to Lists.</p>\n<p>Assume</p>\n<pre><code>public class A implements Comparable&lt;A&gt; {\nprivate String id;\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\n@Override\npublic int compareTo(A o) {\n    return o.getId().compareTo(this.getId());\n}\n}\n\n\npublic class B implements Comparable&lt;B&gt;{\nprivate String id;\nprivate List&lt;A&gt; aList = new ArrayList&lt;&gt;();\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic void addA(A a)\n{\n    aList.add(a);\n}\n\n\n@Override\npublic int compareTo(B o) {\n    return o.getId().compareTo(this.getId());\n}\n}\n\n\n\npublic class Main {\npublic static void main(String[] args) {\n\n    SortedSet&lt;A&gt; aSet = new TreeSet&lt;&gt;();\n    SortedSet&lt;B&gt; bSet = new TreeSet&lt;&gt;();\n\n    for(int i=0;i&lt;100000;i++)\n    {\n        UUID uuid = UUID.randomUUID();\n        String uuidAsString = uuid.toString();\n\n        A a1 = new A();\n        a1.setId(uuidAsString);\n        aSet.add(a1);\n\n        A a2 = new A();\n        a2.setId(uuidAsString);\n        aSet.add(a2);\n\n\n        B b = new B();\n        b.setId(uuidAsString);\n        bSet.add(b);\n    }\n\n    //this is where the performance part comes in\n    //scenario: For each B I want to find A whose Id matches B's Id, and assign it to B\n    //assume B can have 1-5 instances of A (even though for this example I only initialized 2)\n\n    bSet.parallelStream().forEach(b -&gt; {\n        aSet.parallelStream().filter(a -&gt; {\n            return b.getId().equals(a.getId());\n        }).forEach(a -&gt; {\n            b.addA(a);\n        });\n    });\n}\n}\n</code></pre>\n<p>The solution I came up with was to combine parallelstreams and filters to find the matching IDs between the two types of objects and then to loops through the filtered results to add the instances of A to B.</p>\n<p>I used TreeSets here because I thought the ordered IDs might help speed things up, same reason I used parallelStreams.</p>\n<p>This is mostly abstracted out from a scenario from a project I am doing at the office which I cant post here. The classes in the actual project have a lot more variables, and in the worst case - have sublists of lists (I resolved that using flatMaps in streams).</p>\n<p>However my inexperienced gut tells me there is a more performant way to solve this problem.</p>\n<p>I am primarily looking for practical ways to speed this up.</p>\n<p>Some ways I thought of speeding this up:</p>\n<ul>\n<li>Switch the lists and sets to <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a></li>\n<li>Assuming the starting point of these classes are CSV files -&gt; Maybe write an apache spark application that will map these(I assumed that Spark could have some internal clever way of doing this faster than Streams).</li>\n<li>I dunno......write them all to sql tables....map them via foreign keys and then query them again?</li>\n</ul>\n<p>Speed is the name of the game, solutions using vanilla java, different librarys (like Eclipse Collections), or entire engines like Spark are acceptable</p>\n<p>Assume the minimum list size is atleast 50,000</p>\n<p>Bonus complexity: You can add another class 'C', with multiple instances of 'B' in it. My inexperienced self can only think of writing another similar streaming operation as A-&gt;B and run it after the first stream is done. Is there a way to combine both A-&gt;B and B-&gt;C operations together so that they happen at once. That will definitely speed things up.</p>\n<p>Sorry about my inexperienced self and sorry again if this is a duplicate too</p>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671016118,"post_id":74793190,"comment_id":132004485,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":16986336,"reputation":1,"user_id":12287038,"display_name":"Sahan Nimesha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670987539,"creation_date":1670987539,"question_id":74793190,"body_markdown":"I want to save client details in application database which were collected from spi registation flow after otp autherization in keycloak. Actually I want to know about the way of calling rest API post method inside a spi registation form using java\r\n\r\nI&#39;m expecting the way of implementing client detail save methodology using the data collected from sign up flow like form.","title":"I want to save client details in application database from spi registation flow in keycloak","body":"<p>I want to save client details in application database which were collected from spi registation flow after otp autherization in keycloak. Actually I want to know about the way of calling rest API post method inside a spi registation form using java</p>\n<p>I'm expecting the way of implementing client detail save methodology using the data collected from sign up flow like form.</p>\n"},{"tags":["java","textpad"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1670987662,"post_id":74793175,"comment_id":131998077,"body_markdown":"I&#39;m not quite following your explanation of what you tried, but you need to be in the `D:\\program files\\java` directory when you run `java HelloApp.java`.  If you&#39;re not in that directory already, use `cd` to get there.","body":"I&#39;m not quite following your explanation of what you tried, but you need to be in the <code>D:\\program files\\java</code> directory when you run <code>java HelloApp.java</code>.  If you&#39;re not in that directory already, use <code>cd</code> to get there."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1670992620,"post_id":74793175,"comment_id":131998750,"body_markdown":"This may be a configuration issue in the TextPad: Configure -&gt; Preference -&gt; Run Java Application .","body":"This may be a configuration issue in the TextPad: Configure -&gt; Preference -&gt; Run Java Application ."}],"owner":{"account_id":26605018,"reputation":1,"user_id":20226035,"display_name":"Joel Wiggers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670987530,"creation_date":1670987394,"question_id":74793175,"body_markdown":"I&#39;m a beginner trying to learn to program in Java. I&#39;m using the book Java All In One for Dummies. The book has me using Textpad to write and compile the code. I&#39;ve got the following simple program:\r\n\r\n\r\n    public class HelloApp  {\r\n    \r\n    \tpublic static void main(String[] args)  {\r\n    \r\n    \t\tprintHello(&quot;World&quot;);\r\n    \t\t}\r\n    \r\n    \tpublic static void printHello(String greetee) {\r\n    \r\n    \t\tSystem.out.println(&quot;Hello &quot; + greetee);\r\n    \r\n    \r\n         }\r\n    }\r\n\r\nI saved the files for the java application in at the following path. D:\\program files\\java. When I compile the app with the Textpad compiler, it compiles without any errors. I have the files saved in the following folder: D:\\program files\\java. When I try to run the app from the Run Java Application command in Textpad, it gives me the error message &quot;Error: Could not find or load main class HelloApp.java&quot;. When I run the app from the command prompt using the java HelloApp.java, it runs fine displaying &quot;Hello World&quot; Why does it work when I run it using the java HelloApp.java command which is what I assume the &quot;run java application&quot; command in Textpad does, and not work using the command in Textpad? What am I doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried resaving and recompiling the application. Then I ran it directly from the command prompt. It worked when running directly from the command prompt but it won&#39;t work when trying to run from the &quot;Run Java Application&quot; command in Textpad.\r\n\r\nI assumed it would work as it seems like I&#39;m doing the exact same thing from Textpad as I am from using the java HelloApp.java command at the windows command prompt. \r\n\r\n","title":"Error: Could not find or load main class HelloApp","body":"<p>I'm a beginner trying to learn to program in Java. I'm using the book Java All In One for Dummies. The book has me using Textpad to write and compile the code. I've got the following simple program:</p>\n<pre><code>public class HelloApp  {\n\n    public static void main(String[] args)  {\n\n        printHello(&quot;World&quot;);\n        }\n\n    public static void printHello(String greetee) {\n\n        System.out.println(&quot;Hello &quot; + greetee);\n\n\n     }\n}\n</code></pre>\n<p>I saved the files for the java application in at the following path. D:\\program files\\java. When I compile the app with the Textpad compiler, it compiles without any errors. I have the files saved in the following folder: D:\\program files\\java. When I try to run the app from the Run Java Application command in Textpad, it gives me the error message &quot;Error: Could not find or load main class HelloApp.java&quot;. When I run the app from the command prompt using the java HelloApp.java, it runs fine displaying &quot;Hello World&quot; Why does it work when I run it using the java HelloApp.java command which is what I assume the &quot;run java application&quot; command in Textpad does, and not work using the command in Textpad? What am I doing wrong?</p>\n<p>I tried resaving and recompiling the application. Then I ran it directly from the command prompt. It worked when running directly from the command prompt but it won't work when trying to run from the &quot;Run Java Application&quot; command in Textpad.</p>\n<p>I assumed it would work as it seems like I'm doing the exact same thing from Textpad as I am from using the java HelloApp.java command at the windows command prompt.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1670986504,"post_id":74793055,"comment_id":131997915,"body_markdown":"Maybe an answer to one of these questions can help:  \nhttps://stackoverflow.com/questions/4893313/how-can-i-left-align-strings-using-string-format\nhttps://stackoverflow.com/questions/35643597/how-can-i-neatly-align-the-output-of-string-variables","body":"Maybe an answer to one of these questions can help:   <a href=\"https://stackoverflow.com/questions/4893313/how-can-i-left-align-strings-using-string-format\" title=\"how can i left align strings using string format\">stackoverflow.com/questions/4893313/&hellip;</a> <a href=\"https://stackoverflow.com/questions/35643597/how-can-i-neatly-align-the-output-of-string-variables\" title=\"how can i neatly align the output of string variables\">stackoverflow.com/questions/35643597/&hellip;</a>"}],"owner":{"account_id":26915160,"reputation":1,"user_id":20490057,"display_name":"Mr. Fish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670989990,"answer_count":0,"score":0,"last_activity_date":1670986308,"creation_date":1670985897,"question_id":74793055,"body_markdown":"I am attempting to have a string output a name and the person&#39;s grade:\r\nname      grade\r\n\r\nBut if the student&#39;s name length is different, I want to get the same spacing between the rows..\r\n```\r\nThe goal:\r\nName: billy     Grade: 91\r\n\r\nName: Johnson   Grade: 79\r\n\r\nThe output:\r\nName: billy     Grade: 91\r\n\r\nName: Johnson     Grade: 79","title":"How do I have an equally spaced distance between two parts of a string?","body":"<p>I am attempting to have a string output a name and the person's grade:\nname      grade</p>\n<p>But if the student's name length is different, I want to get the same spacing between the rows..</p>\n<pre><code>The goal:\nName: billy     Grade: 91\n\nName: Johnson   Grade: 79\n\nThe output:\nName: billy     Grade: 91\n\nName: Johnson     Grade: 79\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670993654,"post_id":74793078,"comment_id":131998920,"body_markdown":"Do this in a stored procedure in the DB instead of in your client.","body":"Do this in a stored procedure in the DB instead of in your client."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670993780,"post_id":74793078,"comment_id":131998933,"body_markdown":"But also: why do you put the records into a list and do `saveAll`? You might as well save them one by one. And most importantly: which part of the operation is slow? The query or the insertions?","body":"But also: why do you put the records into a list and do <code>saveAll</code>? You might as well save them one by one. And most importantly: which part of the operation is slow? The query or the insertions?"},{"owner":{"account_id":27081790,"reputation":1,"user_id":20630855,"display_name":"Kether"},"score":0,"creation_date":1670995697,"post_id":74793078,"comment_id":131999201,"body_markdown":"@tgdavies Hello, ty for you answer. I took this service from my earlier project and edited it, in the last project the table consisted of 4000 rows, which is why the slowness was not noticeable. The slowest part is that it iterates through all the rows that satisfy the requirements SELECT query and then execute INSERT query.","body":"@tgdavies Hello, ty for you answer. I took this service from my earlier project and edited it, in the last project the table consisted of 4000 rows, which is why the slowness was not noticeable. The slowest part is that it iterates through all the rows that satisfy the requirements SELECT query and then execute INSERT query."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670998528,"post_id":74793078,"comment_id":131999646,"body_markdown":"So the select itself is fast?","body":"So the select itself is fast?"},{"owner":{"account_id":27081790,"reputation":1,"user_id":20630855,"display_name":"Kether"},"score":0,"creation_date":1670998903,"post_id":74793078,"comment_id":131999709,"body_markdown":"I would say SELECT and INSERT are equally slow. The whole service takes about 20 minutes, where 10 minutes is SELECT and another 10 minutes is INSERT. I would like the whole service to run in 5 minutes as I will need to connect more tables of 200000 rows in the future.","body":"I would say SELECT and INSERT are equally slow. The whole service takes about 20 minutes, where 10 minutes is SELECT and another 10 minutes is INSERT. I would like the whole service to run in 5 minutes as I will need to connect more tables of 200000 rows in the future."},{"owner":{"account_id":27081790,"reputation":1,"user_id":20630855,"display_name":"Kether"},"score":0,"creation_date":1670999011,"post_id":74793078,"comment_id":131999736,"body_markdown":"I was offered to completely rewrite everything in JDBC, but I&#39;m not sure if it will be more efficient than Hibernate.","body":"I was offered to completely rewrite everything in JDBC, but I&#39;m not sure if it will be more efficient than Hibernate."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670999291,"post_id":74793078,"comment_id":131999779,"body_markdown":"Make sure you have the right index on the table for the select. Do it as a single JDBC statement, i.e. https://stackoverflow.com/questions/25969/insert-into-values-select-from","body":"Make sure you have the right index on the table for the select. Do it as a single JDBC statement, i.e. <a href=\"https://stackoverflow.com/questions/25969/insert-into-values-select-from\" title=\"insert into values select from\">stackoverflow.com/questions/25969/&hellip;</a>"}],"owner":{"account_id":27081790,"reputation":1,"user_id":20630855,"display_name":"Kether"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670986176,"creation_date":1670986176,"question_id":74793078,"body_markdown":"My project requires a service that will repeatable migration between two tables on two different databases. I have implemented this via Hibernate. So, I have a service that fetches data from the primary database table and then migrate it to the second database table, however, my primary database table has over 200000 rows and the iterator takes quite a long time to complete the task.\r\n\r\nWhat should I use to speed up the process?\r\n\r\nHere is the Service code:\r\n\r\n```\r\n@Service\r\npublic class TrmInCardClientService {\r\n\r\n    @Autowired\r\n    TrmInCardClientDBRepository trmInCardClientDBRepository;\r\n    @Autowired\r\n    TrmInCardClientUKMRepository trmInCardClientUKMRepository;\r\n    private Logger log = Logger.getLogger(TrmInCardClientService.class.getName());\r\n\r\n    public TrmInCardClientService() {\r\n    }\r\n\r\n    @Scheduled(\r\n            fixedRate = 300000\r\n    )\r\n    public void updatelist() {\r\n        this.log.info(&quot;TrmInCardClient data transfer start&quot;);\r\n        try {\r\n            Iterable&lt;TrmInCardClientUKM&gt; trmInCardClientUKMS = this.trmInCardClientUKMRepository.findByDeleted(0);\r\n            List&lt;TrmInCardClientUKM&gt; trmInCardClientUKMList = new ArrayList();\r\n            List&lt;TrmInCardClientDB&gt; trmInCardClientDBList = new ArrayList&lt;&gt;();\r\n            Iterator var5 = trmInCardClientUKMS.iterator();\r\n\r\n            while (var5.hasNext()) {\r\n                TrmInCardClientUKM cardClientUKM = (TrmInCardClientUKM) var5.next();\r\n                trmInCardClientUKMList.add(cardClientUKM);\r\n                trmInCardClientDBList.add(new TrmInCardClientDB(cardClientUKM.getCard(), cardClientUKM.getClient(),\r\n                        cardClientUKM.getDeleted(), cardClientUKM.getGlobal_id(), cardClientUKM.getVersion()));\r\n            }\r\n\r\n            this.trmInCardClientDBRepository.saveAll(trmInCardClientDBList);\r\n            this.log.info(&quot;TrmInCardClient data transfer end&quot;);\r\n        }\r\n        catch (Exception e) {\r\n            this.log.warning(&quot;Error encountered during TrmInCardClient data migration&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Slow service Hibernate","body":"<p>My project requires a service that will repeatable migration between two tables on two different databases. I have implemented this via Hibernate. So, I have a service that fetches data from the primary database table and then migrate it to the second database table, however, my primary database table has over 200000 rows and the iterator takes quite a long time to complete the task.</p>\n<p>What should I use to speed up the process?</p>\n<p>Here is the Service code:</p>\n<pre><code>@Service\npublic class TrmInCardClientService {\n\n    @Autowired\n    TrmInCardClientDBRepository trmInCardClientDBRepository;\n    @Autowired\n    TrmInCardClientUKMRepository trmInCardClientUKMRepository;\n    private Logger log = Logger.getLogger(TrmInCardClientService.class.getName());\n\n    public TrmInCardClientService() {\n    }\n\n    @Scheduled(\n            fixedRate = 300000\n    )\n    public void updatelist() {\n        this.log.info(&quot;TrmInCardClient data transfer start&quot;);\n        try {\n            Iterable&lt;TrmInCardClientUKM&gt; trmInCardClientUKMS = this.trmInCardClientUKMRepository.findByDeleted(0);\n            List&lt;TrmInCardClientUKM&gt; trmInCardClientUKMList = new ArrayList();\n            List&lt;TrmInCardClientDB&gt; trmInCardClientDBList = new ArrayList&lt;&gt;();\n            Iterator var5 = trmInCardClientUKMS.iterator();\n\n            while (var5.hasNext()) {\n                TrmInCardClientUKM cardClientUKM = (TrmInCardClientUKM) var5.next();\n                trmInCardClientUKMList.add(cardClientUKM);\n                trmInCardClientDBList.add(new TrmInCardClientDB(cardClientUKM.getCard(), cardClientUKM.getClient(),\n                        cardClientUKM.getDeleted(), cardClientUKM.getGlobal_id(), cardClientUKM.getVersion()));\n            }\n\n            this.trmInCardClientDBRepository.saveAll(trmInCardClientDBList);\n            this.log.info(&quot;TrmInCardClient data transfer end&quot;);\n        }\n        catch (Exception e) {\n            this.log.warning(&quot;Error encountered during TrmInCardClient data migration&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","assembly","instrumentation","java-bytecode-asm","jvm-bytecode"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1670983397,"post_id":74792811,"comment_id":131997486,"body_markdown":"What is your expectation about what instrumentation means?  This looks like it should generate equivalent bytecode, but that&#39;s not the same thing as instrumenting existing bytecode.","body":"What is your expectation about what instrumentation means?  This looks like it should generate equivalent bytecode, but that&#39;s not the same thing as instrumenting existing bytecode."},{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1670984188,"post_id":74792811,"comment_id":131997590,"body_markdown":"I&#39;m instrumenting this if-else block at the end of each called method. That is, I override visitInsn method. I check if the Opcode indicates it&#39;s a &quot;return&quot; statement, I  then insert byte codes before return statements.","body":"I&#39;m instrumenting this if-else block at the end of each called method. That is, I override visitInsn method. I check if the Opcode indicates it&#39;s a &quot;return&quot; statement, I  then insert byte codes before return statements."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1670984319,"post_id":74792811,"comment_id":131997612,"body_markdown":"How do you create your `ClassWriter`? Do you pass `ClassWriter.COMPUTE_FRAME` into it?","body":"How do you create your <code>ClassWriter</code>? Do you pass <code>ClassWriter.COMPUTE_FRAME</code> into it?"},{"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"score":0,"creation_date":1670984618,"post_id":74792811,"comment_id":131997660,"body_markdown":"Em. I do use ClassWriter.COMPUTE_MAXS. I followed your opinion and change it to COMPUTE_FRAME. It works!!! Thank you!\nIt seems that I used to use ClassWriter.COMPUTE_MAXS and just copied the code. Now I need to really understand their differences.\n\nThank you!","body":"Em. I do use ClassWriter.COMPUTE_MAXS. I followed your opinion and change it to COMPUTE_FRAME. It works!!! Thank you! It seems that I used to use ClassWriter.COMPUTE_MAXS and just copied the code. Now I need to really understand their differences.  Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670985413,"creation_date":1670985413,"answer_id":74793016,"question_id":74792811,"body_markdown":"There is no mistake in adding bytecode.\r\nHowever, it is solved simply by passing ClassWriter.COMPUTE_FRAME rather than ClassWriter.ComputeMaxs.(Thanks Johannes Kuhn and anyone who helped me). And red-flagged VerifyError indicates that (though I  don&#39;t know).\r\n\r\nCOMPUTE_MAX seems to work for java5 or earlier.\r\n\r\n","title":"How can I use ASM lib in java to instrument an if-else block?","body":"<p>There is no mistake in adding bytecode.\nHowever, it is solved simply by passing ClassWriter.COMPUTE_FRAME rather than ClassWriter.ComputeMaxs.(Thanks Johannes Kuhn and anyone who helped me). And red-flagged VerifyError indicates that (though I  don't know).</p>\n<p>COMPUTE_MAX seems to work for java5 or earlier.</p>\n"}],"owner":{"account_id":19796944,"reputation":51,"user_id":14498732,"display_name":"a stand-out flamingo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670985413,"creation_date":1670982979,"question_id":74792811,"body_markdown":"I&#39;ve been trying to instrument branch-related code using ASM lib in java. Suppose this is a period of code I want to instrument:\r\n\r\n```        \r\n        if (true) {\r\n            System.out.println(&quot;true&quot;);\r\n        } else {\r\n            System.out.println(&quot;false&quot;);\r\n        }\r\n```\r\n\r\nHere is my code for instrumentation:\r\n\r\n```\r\n            //put true on stack\r\n            mv.visitInsn(Opcodes.ICONST_1);\r\n  \r\n            //create labels\r\n            Label elseLabel = new Label();\r\n            Label endLabel = new Label();\r\n            mv.visitJumpInsn(Opcodes.IFEQ, elseLabel);\r\n\r\n            // instrument code for the &quot;if&quot; block\r\n            mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n            mv.visitLdcInsn(&quot;true&quot;);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n\r\n            mv.visitJumpInsn(Opcodes.GOTO, endLabel);\r\n            mv.visitLabel(elseLabel);\r\n\r\n            //instrument code for else block\r\n            mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n            mv.visitLdcInsn(&quot;false&quot;);\r\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n\r\n            mv.visitLabel(endLabel);\r\n```\r\n \r\nThe instrumented byte code can be shown and interpreted correctly with Intellij&#39;s own decompiler.\r\n\r\nHowever, the code cannot be run, there is VerifyError\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JrTcG.png\r\n\r\nAnd this is the readable bytecode generated by running &quot;javap -c&quot; command.\r\n\r\n```\r\n public void doSomething1();\r\n    Code:\r\n       0: aload_0\r\n       1: invokevirtual #5                  // Method doSomething:()V\r\n       4: iconst_1\r\n       5: invokestatic  #6                  // Method org/junit/jupiter/api/Assertions.assertTrue:(Z)V\r\n       8: iconst_1\r\n       9: ifeq          23\r\n      12: getstatic     #44                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      15: ldc           #46                 // String true\r\n      17: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      20: goto          31\r\n      23: getstatic     #44                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n      26: ldc           #48                 // String false\r\n      28: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      31: return\r\n}\r\n```\r\n\r\nCould you please help me with that? Thank you!\r\n\r\n","title":"How can I use ASM lib in java to instrument an if-else block?","body":"<p>I've been trying to instrument branch-related code using ASM lib in java. Suppose this is a period of code I want to instrument:</p>\n<pre><code>        if (true) {\n            System.out.println(&quot;true&quot;);\n        } else {\n            System.out.println(&quot;false&quot;);\n        }\n</code></pre>\n<p>Here is my code for instrumentation:</p>\n<pre><code>            //put true on stack\n            mv.visitInsn(Opcodes.ICONST_1);\n  \n            //create labels\n            Label elseLabel = new Label();\n            Label endLabel = new Label();\n            mv.visitJumpInsn(Opcodes.IFEQ, elseLabel);\n\n            // instrument code for the &quot;if&quot; block\n            mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n            mv.visitLdcInsn(&quot;true&quot;);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n\n            mv.visitJumpInsn(Opcodes.GOTO, endLabel);\n            mv.visitLabel(elseLabel);\n\n            //instrument code for else block\n            mv.visitFieldInsn(Opcodes.GETSTATIC, &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n            mv.visitLdcInsn(&quot;false&quot;);\n            mv.visitMethodInsn(Opcodes.INVOKEVIRTUAL, &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n\n            mv.visitLabel(endLabel);\n</code></pre>\n<p>The instrumented byte code can be shown and interpreted correctly with Intellij's own decompiler.</p>\n<p>However, the code cannot be run, there is VerifyError\n<a href=\"https://i.stack.imgur.com/JrTcG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JrTcG.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the readable bytecode generated by running &quot;javap -c&quot; command.</p>\n<pre><code> public void doSomething1();\n    Code:\n       0: aload_0\n       1: invokevirtual #5                  // Method doSomething:()V\n       4: iconst_1\n       5: invokestatic  #6                  // Method org/junit/jupiter/api/Assertions.assertTrue:(Z)V\n       8: iconst_1\n       9: ifeq          23\n      12: getstatic     #44                 // Field java/lang/System.out:Ljava/io/PrintStream;\n      15: ldc           #46                 // String true\n      17: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      20: goto          31\n      23: getstatic     #44                 // Field java/lang/System.out:Ljava/io/PrintStream;\n      26: ldc           #48                 // String false\n      28: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n      31: return\n}\n</code></pre>\n<p>Could you please help me with that? Thank you!</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-mapping","pojo"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1671050509,"post_id":74792942,"comment_id":132016510,"body_markdown":"Unless you have an existing instance of Model_2, this isn&#39;t possible. Maybe you should try figuring out (asking for) a solution to your &quot;some issue due to that&quot; instead.","body":"Unless you have an existing instance of Model_2, this isn&#39;t possible. Maybe you should try figuring out (asking for) a solution to your &quot;some issue due to that&quot; instead."},{"owner":{"display_name":"user13876589"},"score":0,"creation_date":1671616689,"post_id":74792942,"comment_id":132135587,"body_markdown":"Hi Thank you for the suggestions and time :)","body":"Hi Thank you for the suggestions and time :)"}],"owner":{"display_name":"user13876589"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670984515,"creation_date":1670984515,"question_id":74792942,"body_markdown":"I would like to set value to the field in model which is another model in spring boot.(Many to one mapping) **without using NEW Keyword**. \r\nPlease consider below example,\r\n\r\n```\r\npublic Class Model_1 {\r\n\r\nprivate someFields;\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;id&quot;)\r\n  private Trade dTrade; \r\n}\r\n```\r\n\r\n**Other Model :**\r\n```\r\npublic Class Model_2 {\r\n\r\nprivate id;\r\n\r\n}\r\n``` \r\n\r\nNow i want to set value to id field in Model_2 class, so we do like below\r\n\r\nModel_1 modelOne = new Model_1;\r\n\r\nModel_2 modelTwo = new Model_2;\r\nmodelTwo.setId(1);\r\n\r\nmodelOne.setDtrade(modelTwo);\r\n\r\nLike i mention above is the usual way to achieve it. \r\n\r\nCould you please let me know any other way around to achieve it **without USING NEW KEYWORD** which creates new instance and facing some issue due to that. I want to achieve without the new keyword for some reason. Kindly let me know. Really Appriciated and much thanks.\r\n\r\n\r\nThank you !!!\r\n\r\n\r\n\r\n\r\n","title":"How to set value to the field in pojo model in spring boot which has another pojo model in it(Many to One Mapping)?","body":"<p>I would like to set value to the field in model which is another model in spring boot.(Many to one mapping) <strong>without using NEW Keyword</strong>.\nPlease consider below example,</p>\n<pre><code>public Class Model_1 {\n\nprivate someFields;\n\n@ManyToOne\n@JoinColumn(name = &quot;id&quot;)\n  private Trade dTrade; \n}\n</code></pre>\n<p><strong>Other Model :</strong></p>\n<pre><code>public Class Model_2 {\n\nprivate id;\n\n}\n</code></pre>\n<p>Now i want to set value to id field in Model_2 class, so we do like below</p>\n<p>Model_1 modelOne = new Model_1;</p>\n<p>Model_2 modelTwo = new Model_2;\nmodelTwo.setId(1);</p>\n<p>modelOne.setDtrade(modelTwo);</p>\n<p>Like i mention above is the usual way to achieve it.</p>\n<p>Could you please let me know any other way around to achieve it <strong>without USING NEW KEYWORD</strong> which creates new instance and facing some issue due to that. I want to achieve without the new keyword for some reason. Kindly let me know. Really Appriciated and much thanks.</p>\n<p>Thank you !!!</p>\n"},{"tags":["java","generics","factory","parameterized-types"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1671050837,"post_id":74792761,"comment_id":132016597,"body_markdown":"`domain == &quot;foo&quot;` - you should use `&quot;foo&quot;.equals(domain)` instead. See https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513935#513935","body":"<code>domain == &quot;foo&quot;</code> - you should use <code>&quot;foo&quot;.equals(domain)</code> instead. See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java/513935#513935\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":1,"creation_date":1671051169,"post_id":74792761,"comment_id":132016689,"body_markdown":"Have another read of https://www.baeldung.com/java-factory-pattern-generics and note how the Class is passed in as a parameter, not a String. == comparison is acceptable for a Class type. Then, the requestor (user of the factory) should know whether it has `BarInput` or `FooInput` available and request from the factory a suitable `ArtifactCreator` for that input.","body":"Have another read of <a href=\"https://www.baeldung.com/java-factory-pattern-generics\" rel=\"nofollow noreferrer\">baeldung.com/java-factory-pattern-generics</a> and note how the Class is passed in as a parameter, not a String. == comparison is acceptable for a Class type. Then, the requestor (user of the factory) should know whether it has <code>BarInput</code> or <code>FooInput</code> available and request from the factory a suitable <code>ArtifactCreator</code> for that input."}],"owner":{"account_id":5904625,"reputation":1703,"user_id":7938658,"display_name":"ababuji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670983870,"creation_date":1670982286,"question_id":74792761,"body_markdown":"**Background**\r\n\r\nI learned **Factory** pattern, and the power of generics and I&#39;m attempting to piece them together.\r\n\r\nHere are my efforts\r\n\r\n\r\n*Without generic input parameter* - No warnings\r\n\r\n\tpublic abstract class ArtifactCreator {\r\n\t    public abstract void setArtifacts(String workflowInput);\r\n\t}\r\n\r\n\r\n---\r\n\r\n\tpublic class FooArtifactCreator extends ArtifactCreator {\r\n\r\n\t    @Override\r\n\t    public void setArtifacts(String input) {\r\n\t    \treturn null;\r\n\r\n\t    }\r\n\t}\r\n\r\n---\r\n\r\n\tpublic class BarArtifactCreator extends ArtifactCreator {\r\n\t    @Override\r\n\t    public void setArtifacts(String input) {\r\n\t    \treturn null;\r\n\r\n\t    }\r\n\t}\r\n\r\n\r\n---\r\n\r\n\tpublic class Factory {\r\n\t\tpublic ArtifactCreator getArtifactCreator(String domain) {\r\n\t\t\tif (domain == &quot;foo&quot;) {\r\n\t\t\t\treturn new FooArtifactCreator()\r\n\t\t\t} else if (domain == &quot;bar&quot;) {\r\n\t\t\t\treturn new BarArtifactCreator()\r\n\t\t\t}\r\n            return null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\nMy whole problem is the `workflowInput` is relegated to the type `String`. But I want it to be some generic POJO. \r\n\r\n\r\n*With generics* - I get warnings in `Factory.java` and `Store.java` that I want to get rid of correctly. (I want to be using generics for my use-case the right way). \r\n\r\n1. `Raw use of parameterized class &#39;ArtifactCreator&#39;` on both the files in `Store.java` and `Factory.java`\r\n\r\n\r\n2. `Unchecked call to &#39;setArtifacts(T)&#39; as a member of raw type &#39;ArtifactCreator&#39; ` in `Store.java`\r\n\r\n\r\n\r\n    public abstract class ArtifactCreator&lt;T&gt; {\r\n\t    public abstract void setArtifacts(T workflowInput);\r\n\t}\r\n\r\n---\r\n\r\n\tpublic class FooArtifactCreator extends ArtifactCreator&lt;FooInput&gt; {\r\n\r\n\t    @Override\r\n\t    public void setArtifacts(FooInput input) {\r\n\t    \treturn null;\r\n\t    }\r\n\t}\r\n\r\n---\r\n\r\n\tpublic class BarArtifactCreator extends ArtifactCreator&lt;BarInput&gt; {\r\n\t    @Override\r\n\t    public void setArtifacts(BarInput input) {\r\n\t    \treturn null;\r\n\r\n\t    }\r\n\t}\r\n\r\n---\r\n\r\n\tpublic class Factory {\r\n\t\tpublic ArtifactCreator getArtifactCreator(String domain) {\r\n\t\t\tif (domain == &quot;foo&quot;) {\r\n\t\t\t\treturn new FooArtifactCreator()\r\n\t\t\t} else if (domain == &quot;bar&quot;) {\r\n\t\t\t\treturn new BarArtifactCreator()\r\n\t\t\t}\r\n            return null;\r\n\t\t}\r\n\t}\r\n\r\n---\r\n\r\n\r\n\tpublic class Input {\r\n\t\tprivate String domain;\r\n\t\tprivate String otherInput;\r\n\t}\r\n\r\n\r\n---\r\n\r\n\r\n\tpublic class Store {\r\n\r\n\t    private final Factory factory;\r\n\t    public Store(Factory factory) {\r\n\t        this.factory = factory;\r\n\t    }\r\n\r\n\t    public ArtifactCreator getCaseClosureArtifactFactory(Input req) {\r\n\t        ArtifactCreator artifactCreator = factory.setArtifacts(req.getDomain());\r\n\r\n\t        //In reality - Create either FooInput or BarInput depending on \r\n            //`otherInput` field in `Input` POJO. Assume that there will be another \r\n            //factory/HashMap to return the input needed\r\n\r\n\t        FooInput input = new FooInput();\r\n\t        artifactCreator.setArtifacts(input);\r\n\t    }\r\n\r\n\t}\r\n\r\n\r\n\r\nOne way I can think of solving my problems is do something like:\r\n\r\n\r\n\tpublic class WorkflowInput {\r\n\t    private FooInput input;\r\n\t    private BarInput input;\r\n\t}\r\n\r\n\r\n\r\n\tpublic abstract class ArtifactCreator {\r\n\t    public abstract void setArtifacts(WorkflowInput workflowInput);\r\n\t}\r\n\r\n\r\n\tpublic class FooArtifactCreator extends ArtifactCreator {\r\n\r\n\t    @Override\r\n\t    public void setArtifacts(WorkflowInput input) {\r\n\t    \tFooInput input = input.getFooInput(); //Extract specific input\r\n\r\n\t    }\r\n\t}\r\n\r\n\tpublic class BarArtifactCreator extends ArtifactCreator {\r\n\t    @Override\r\n\t    public void setArtifacts(WorkflowInput input) {\r\n\t    \tBarInput input = input.getBarInput(); //Extract specific input\r\n\r\n\t    }\r\n\t}\r\n\r\n\r\nThis feels a bit unecessary to keep some fields in `WorkflowInput` null.\r\n","title":"Raw use of parameterized class - when returning base class with generic parameter with factory design pattern","body":"<p><strong>Background</strong></p>\n<p>I learned <strong>Factory</strong> pattern, and the power of generics and I'm attempting to piece them together.</p>\n<p>Here are my efforts</p>\n<p><em>Without generic input parameter</em> - No warnings</p>\n<pre><code>public abstract class ArtifactCreator {\n    public abstract void setArtifacts(String workflowInput);\n}\n</code></pre>\n<hr />\n<pre><code>public class FooArtifactCreator extends ArtifactCreator {\n\n    @Override\n    public void setArtifacts(String input) {\n        return null;\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class BarArtifactCreator extends ArtifactCreator {\n    @Override\n    public void setArtifacts(String input) {\n        return null;\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Factory {\n    public ArtifactCreator getArtifactCreator(String domain) {\n        if (domain == &quot;foo&quot;) {\n            return new FooArtifactCreator()\n        } else if (domain == &quot;bar&quot;) {\n            return new BarArtifactCreator()\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My whole problem is the <code>workflowInput</code> is relegated to the type <code>String</code>. But I want it to be some generic POJO.</p>\n<p><em>With generics</em> - I get warnings in <code>Factory.java</code> and <code>Store.java</code> that I want to get rid of correctly. (I want to be using generics for my use-case the right way).</p>\n<ol>\n<li><p><code>Raw use of parameterized class 'ArtifactCreator'</code> on both the files in <code>Store.java</code> and <code>Factory.java</code></p>\n</li>\n<li><p><code>Unchecked call to 'setArtifacts(T)' as a member of raw type 'ArtifactCreator' </code> in <code>Store.java</code></p>\n<p>public abstract class ArtifactCreator {\npublic abstract void setArtifacts(T workflowInput);\n}</p>\n</li>\n</ol>\n<hr />\n<pre><code>public class FooArtifactCreator extends ArtifactCreator&lt;FooInput&gt; {\n\n    @Override\n    public void setArtifacts(FooInput input) {\n        return null;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class BarArtifactCreator extends ArtifactCreator&lt;BarInput&gt; {\n    @Override\n    public void setArtifacts(BarInput input) {\n        return null;\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Factory {\n    public ArtifactCreator getArtifactCreator(String domain) {\n        if (domain == &quot;foo&quot;) {\n            return new FooArtifactCreator()\n        } else if (domain == &quot;bar&quot;) {\n            return new BarArtifactCreator()\n        }\n        return null;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Input {\n    private String domain;\n    private String otherInput;\n}\n</code></pre>\n<hr />\n<pre><code>public class Store {\n\n    private final Factory factory;\n    public Store(Factory factory) {\n        this.factory = factory;\n    }\n\n    public ArtifactCreator getCaseClosureArtifactFactory(Input req) {\n        ArtifactCreator artifactCreator = factory.setArtifacts(req.getDomain());\n\n        //In reality - Create either FooInput or BarInput depending on \n        //`otherInput` field in `Input` POJO. Assume that there will be another \n        //factory/HashMap to return the input needed\n\n        FooInput input = new FooInput();\n        artifactCreator.setArtifacts(input);\n    }\n\n}\n</code></pre>\n<p>One way I can think of solving my problems is do something like:</p>\n<pre><code>public class WorkflowInput {\n    private FooInput input;\n    private BarInput input;\n}\n\n\n\npublic abstract class ArtifactCreator {\n    public abstract void setArtifacts(WorkflowInput workflowInput);\n}\n\n\npublic class FooArtifactCreator extends ArtifactCreator {\n\n    @Override\n    public void setArtifacts(WorkflowInput input) {\n        FooInput input = input.getFooInput(); //Extract specific input\n\n    }\n}\n\npublic class BarArtifactCreator extends ArtifactCreator {\n    @Override\n    public void setArtifacts(WorkflowInput input) {\n        BarInput input = input.getBarInput(); //Extract specific input\n\n    }\n}\n</code></pre>\n<p>This feels a bit unecessary to keep some fields in <code>WorkflowInput</code> null.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670983327,"creation_date":1670983327,"answer_id":74792842,"question_id":74792406,"body_markdown":"When importing existing projects - IntelliJ uses the Project SDK version as the default Java for Gradle as well. but you can override if you wish. \r\n\r\nseee https://www.jetbrains.com/help/idea/gradle.html#gradle_jvm ","title":"Gradle JVM vs Project SDK settings in IntelliJ","body":"<p>When importing existing projects - IntelliJ uses the Project SDK version as the default Java for Gradle as well. but you can override if you wish.</p>\n<p>seee <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_jvm\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/gradle.html#gradle_jvm</a></p>\n"}],"owner":{"account_id":16440500,"reputation":495,"user_id":11876924,"display_name":"rishai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670983327,"creation_date":1670978131,"question_id":74792406,"body_markdown":"In IntelliJ, what is the difference between the Gradle JVM setting (first screenshot) and the Project SDK setting (second screenshot)?\r\n\r\nWithout IntelliJ, I sometimes do `./gradlew build` and I&#39;m using Java 11 to build - which of the above settings does this translate to exactly? That is, what is the equivalent concept these two settings map to in the CLI? I think this would help me understand my initial question better. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65a2N.png\r\n  [2]: https://i.stack.imgur.com/NpNGC.png","title":"Gradle JVM vs Project SDK settings in IntelliJ","body":"<p>In IntelliJ, what is the difference between the Gradle JVM setting (first screenshot) and the Project SDK setting (second screenshot)?</p>\n<p>Without IntelliJ, I sometimes do <code>./gradlew build</code> and I'm using Java 11 to build - which of the above settings does this translate to exactly? That is, what is the equivalent concept these two settings map to in the CLI? I think this would help me understand my initial question better.</p>\n<p><a href=\"https://i.stack.imgur.com/65a2N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/65a2N.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NpNGC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpNGC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":330741,"reputation":4216,"user_id":655021,"accept_rate":92,"display_name":"heldt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344498903,"creation_date":1344498903,"answer_id":11879002,"question_id":11878955,"body_markdown":"Have you read the gson user guide?\r\n\r\nhttps://sites.google.com/site/gson/gson-user-guide","title":"use json in java like in javascript","body":"<p>Have you read the gson user guide?</p>\n\n<p><a href=\"https://sites.google.com/site/gson/gson-user-guide\" rel=\"nofollow\">https://sites.google.com/site/gson/gson-user-guide</a></p>\n"},{"tags":[],"owner":{"account_id":1733142,"reputation":1014,"user_id":1586299,"accept_rate":50,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344498931,"creation_date":1344498931,"answer_id":11879010,"question_id":11878955,"body_markdown":"I&#39;d recommend using a JSon framework in Java, such as [these examples][1].\r\n\r\n\r\n  [1]: http://www.json.org/java/","title":"use json in java like in javascript","body":"<p>I'd recommend using a JSon framework in Java, such as <a href=\"http://www.json.org/java/\" rel=\"nofollow\">these examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":463169,"reputation":3819,"user_id":865900,"accept_rate":88,"display_name":"Blacklight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344499792,"creation_date":1344499464,"answer_id":11879125,"question_id":11878955,"body_markdown":"I would strongly recommend the Jackson library: http://wiki.fasterxml.com/JacksonHome\r\n\r\nIt won&#39;t get much simpler anyway, you have node-objects etc, it&#39;s easy to use. Here&#39;s a short guide: [Jackson in 5 minutes][1] Look at parsing.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes","title":"use json in java like in javascript","body":"<p>I would strongly recommend the Jackson library: <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"nofollow\">http://wiki.fasterxml.com/JacksonHome</a></p>\n\n<p>It won't get much simpler anyway, you have node-objects etc, it's easy to use. Here's a short guide: <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"nofollow\">Jackson in 5 minutes</a> Look at parsing.</p>\n"},{"tags":[],"owner":{"account_id":474638,"reputation":9270,"user_id":1592398,"accept_rate":90,"display_name":"code-jaff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344499639,"creation_date":1344499639,"answer_id":11879171,"question_id":11878955,"body_markdown":"Nothing is impossible :). ok, first read the documentation of those libraries. Those are having the ability of serializing the objects directly. No need to re-invent the wheel again.\r\nOnly the thing you need to do is correctly manipulate them and get your work done.\r\n\r\nI&#39;d prefer [Jackson][1], which has some performance [advantages][2].\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/\r\n  [2]: https://stackoverflow.com/questions/338586/a-better-java-json-library","title":"use json in java like in javascript","body":"<p>Nothing is impossible :). ok, first read the documentation of those libraries. Those are having the ability of serializing the objects directly. No need to re-invent the wheel again.\nOnly the thing you need to do is correctly manipulate them and get your work done.</p>\n\n<p>I'd prefer <a href=\"http://jackson.codehaus.org/\" rel=\"nofollow noreferrer\">Jackson</a>, which has some performance <a href=\"https://stackoverflow.com/questions/338586/a-better-java-json-library\">advantages</a>.</p>\n"},{"tags":[],"owner":{"account_id":10786100,"reputation":2966,"user_id":7935057,"display_name":"Iceberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670983025,"creation_date":1591693252,"answer_id":62278791,"question_id":11878955,"body_markdown":"With [jackson][1]:\r\n```java\r\nString json = &quot;{ \\&quot;k1\\&quot;: {\\&quot;k2\\&quot;: [{\\&quot;message\\&quot;: \\&quot;foo bar\\&quot;}, {\\&quot;message\\&quot;: \\&quot;Hello World\\&quot;} ] } }&quot;;\r\nJsonNode obj = new ObjectMapper().readTree(json);\r\nString innerValue = obj.get(&quot;k1&quot;).get(&quot;k2&quot;).get(1).get(&quot;message&quot;).asText();\r\nSystem.out.println(innerValue);\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"use json in java like in javascript","body":"<p>With <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{ \\&quot;k1\\&quot;: {\\&quot;k2\\&quot;: [{\\&quot;message\\&quot;: \\&quot;foo bar\\&quot;}, {\\&quot;message\\&quot;: \\&quot;Hello World\\&quot;} ] } }&quot;;\nJsonNode obj = new ObjectMapper().readTree(json);\nString innerValue = obj.get(&quot;k1&quot;).get(&quot;k2&quot;).get(1).get(&quot;message&quot;).asText();\nSystem.out.println(innerValue);\n</code></pre>\n"}],"owner":{"account_id":1577018,"reputation":3685,"user_id":1463191,"accept_rate":76,"display_name":"Biribu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2350,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1670983025,"creation_date":1344498676,"question_id":11878955,"body_markdown":"I am trying to read a json file in java to order it. I know javascript and the way to read json in javascript is so easy to do what I want to do, json is just like an array.\r\nIs there a way to do something like that in java?\r\n\r\nI just found gjson, json-lib, flexjson libraries and no one example about what I say, so I guess it is not possible to do it.\r\n\r\nI need to do in java because it is for a restful server and it is all in java.\r\n\r\nI guess I should have some classes to create all &quot;things&quot; inside json (in java) and put all of them in an array, after ordering them... But it makes me to have lot of classes which I don&#39;t.\r\n","title":"use json in java like in javascript","body":"<p>I am trying to read a json file in java to order it. I know javascript and the way to read json in javascript is so easy to do what I want to do, json is just like an array.\nIs there a way to do something like that in java?</p>\n\n<p>I just found gjson, json-lib, flexjson libraries and no one example about what I say, so I guess it is not possible to do it.</p>\n\n<p>I need to do in java because it is for a restful server and it is all in java.</p>\n\n<p>I guess I should have some classes to create all \"things\" inside json (in java) and put all of them in an array, after ordering them... But it makes me to have lot of classes which I don't.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1670981400,"post_id":74792674,"comment_id":131997196,"body_markdown":"You are on Windows. When you enter `a` that is one character. But when you press enter, that is two characters `\\r\\n`.","body":"You are on Windows. When you enter <code>a</code> that is one character. But when you press enter, that is two characters <code>\\r\\n</code>."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1670981672,"post_id":74792674,"comment_id":131997247,"body_markdown":"@ElliottFrisch That sounds like an answer.  If you can put it in the Answer box, people will be able to vote on it.","body":"@ElliottFrisch That sounds like an answer.  If you can put it in the Answer box, people will be able to vote on it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1670982121,"post_id":74792674,"comment_id":131997320,"body_markdown":"Should the tile also be changed? &quot;System.in.read() returns 3 times when I enter a single character&quot;","body":"Should the tile also be changed? &quot;System.in.read() returns 3 times when I enter a single character&quot;"},{"owner":{"account_id":9415636,"reputation":322,"user_id":7065314,"accept_rate":80,"display_name":"Guilherme"},"score":0,"creation_date":1670982447,"post_id":74792674,"comment_id":131997363,"body_markdown":"I agree. It&#39;s done!","body":"I agree. It&#39;s done!"}],"answers":[{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670981698,"creation_date":1670981698,"answer_id":74792710,"question_id":74792674,"body_markdown":"It is passing more times than you expected because System.in will also read an enter key press as a new line character (\\r\\n on Windows).","title":"System.in.read() returns 3 times when I enter a single character","body":"<p>It is passing more times than you expected because System.in will also read an enter key press as a new line character (\\r\\n on Windows).</p>\n"}],"owner":{"account_id":9415636,"reputation":322,"user_id":7065314,"accept_rate":80,"display_name":"Guilherme"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670983602,"accepted_answer_id":74792710,"answer_count":1,"score":0,"last_activity_date":1670982158,"creation_date":1670981243,"question_id":74792674,"body_markdown":"I&#39;m studying the book Java: A Beginner&#39;s Guide, and where it explains the for loop, it uses a variation where the condition contais an user input:\r\n\r\n```\r\nclass ForTest {   \r\n  public static void main(String[] args)   \r\n    throws java.io.IOException { \r\n \r\n    int i; \r\n \r\n    System.out.println(&quot;Press S to stop.&quot;); \r\n \r\n    for(i = 0; (char) System.in.read() != &#39;S&#39;; i++) \r\n      System.out.println(&quot;Pass #&quot; + i); \r\n  }   \r\n}\r\n```\r\n\r\nwhen I executed this code, the output was different than I expected. After I typed one character and pressed enter, the program printed the &quot;Pass #&quot; three times, instead of one. Why is the loop running more than once? \r\n\r\nHere is a sample of the output I&#39;ve got:\r\n\r\n```\r\na\r\nPass #0\r\nPass #1\r\nPass #2\r\nw\r\nPass #3\r\nPass #4\r\nPass #5\r\n1\r\nPass #6\r\nPass #7\r\nPass #8\r\n2\r\nPass #9\r\nPass #10\r\nPass #11\r\n```","title":"System.in.read() returns 3 times when I enter a single character","body":"<p>I'm studying the book Java: A Beginner's Guide, and where it explains the for loop, it uses a variation where the condition contais an user input:</p>\n<pre><code>class ForTest {   \n  public static void main(String[] args)   \n    throws java.io.IOException { \n \n    int i; \n \n    System.out.println(&quot;Press S to stop.&quot;); \n \n    for(i = 0; (char) System.in.read() != 'S'; i++) \n      System.out.println(&quot;Pass #&quot; + i); \n  }   \n}\n</code></pre>\n<p>when I executed this code, the output was different than I expected. After I typed one character and pressed enter, the program printed the &quot;Pass #&quot; three times, instead of one. Why is the loop running more than once?</p>\n<p>Here is a sample of the output I've got:</p>\n<pre><code>a\nPass #0\nPass #1\nPass #2\nw\nPass #3\nPass #4\nPass #5\n1\nPass #6\nPass #7\nPass #8\n2\nPass #9\nPass #10\nPass #11\n</code></pre>\n"},{"tags":["java","grid","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1662802513,"creation_date":1662737471,"answer_id":73664447,"question_id":73664206,"body_markdown":"Group your data by date, then by student.  Create a synthetic row class,\r\nthat has a date and a map from student to points.  Make the grid using\r\nthis row class.  Add the date column and then add for each student\r\na column, that extracts the score by student from the map in the row.\r\n\r\nIf you don&#39;t know all students beforehand, build a (sorted) set from the\r\noriginal data or the union of the key-sets of all row&#39;s student maps.\r\n\r\nAssuming, that your data is most likely sparse and roughly 30x30, you can do\r\nthis eagerly.  If your database can already provide a [pivot view][1] of the\r\ndata, use that directly.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Pivot_table\r\n","title":"Create &quot;rotated&quot; non-buffered grid (Vaadin)","body":"<p>Group your data by date, then by student.  Create a synthetic row class,\nthat has a date and a map from student to points.  Make the grid using\nthis row class.  Add the date column and then add for each student\na column, that extracts the score by student from the map in the row.</p>\n<p>If you don't know all students beforehand, build a (sorted) set from the\noriginal data or the union of the key-sets of all row's student maps.</p>\n<p>Assuming, that your data is most likely sparse and roughly 30x30, you can do\nthis eagerly.  If your database can already provide a <a href=\"https://en.m.wikipedia.org/wiki/Pivot_table\" rel=\"nofollow noreferrer\">pivot view</a> of the\ndata, use that directly.</p>\n"}],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73664447,"answer_count":1,"score":0,"last_activity_date":1670978920,"creation_date":1662736167,"question_id":73664206,"body_markdown":"I am thinking about the solution of this problem, but I have no idea how to do this:\r\n\r\nI have entity `SchoolBook` with this properties:\r\n\r\n    Long id;\r\n    String studentName;\r\n    Long studentId;\r\n    LocalDate day;\r\n    String points;\r\n\r\n`SchoolBook` using data from database, and they looks like:\r\n\r\n    id | studentName |  studentId |   day     | points\r\n    ----------------------------------------------------\r\n    1  |    Adam     |   1000001  | 1.9.2022  |   1\r\n    2  |    Adam     |   1000001  | 3.9.2022  |   2\r\n    3  |    Adam     |   1000001  | 6.9.2022  |   3\r\n    4  |    Marc     |   1000002  | 2.9.2022  |   2\r\n    5  |    Marc     |   1000002  | 5.9.2022  |   A\r\n    6  |    Marc     |   1000002  | 30.9.2022 |   3\r\n    7  |    Fred     |   1000003  | 2.9.2022  |   C\r\n    8  |    Fred     |   1000003  | 4.9.2022  |   1\r\n    9  |    Fred     |   1000003  | 4.8.2022  |   1\r\n    10 |    Adam     |   1000001  | 6.8.2022  |   F\r\n\r\nThe alphabetical characters can be represented in numeric value as\r\n\r\n    A (10 points), B (9 points), C (8 points), D (7 points), E (6 points), F (5 points)\r\n\r\nNow I would like to do something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n - `column names` in `grid` will be the **names of students**\r\n - first column will have `automaticly generated` days (dates) for selected month\r\n - **&quot;rows&quot;** will have the `points` from `SchoolBook` table - **each for corresponding day**\r\n\r\nThe **last row** will be something like &quot;sum row&quot; showing the `sum` for **each** student during the `actual month`.\r\n\r\nSo I have created the `SyntheticRow` class with these properties:\r\n\r\n    Long syntheticRowId;\r\n    LocalDate date;\r\n    Map&lt;Long, String&gt; map;\r\n\r\nAfter this I created the `SyntheticRowService` which creates items for `grid` with these functions:\r\n\r\n    public int getNumberOfDaysInMonth(int month, int year) {\r\n    \tYearMonth yearMonthObject = YearMonth.of(year, month);\r\n    \treturn yearMonthObject.lengthOfMonth();\r\n    }\r\n    \r\n    public List&lt;SyntheticRow&gt; getDataForSpecificMonth(PageRequest of, int month, int year) {\r\n    \r\n    \tList&lt;SyntheticRow&gt; syntheticRows = new ArrayList&lt;&gt;();\r\n    \r\n    \tint syntheticRowId = 1;\r\n    \r\n    \tfor (int i = 1; i &lt;= getNumberOfDaysInMonth(month, year); i++) {\r\n    \t\tList&lt;SchoolBook&gt; schoolBooks = repository.findByDay(LocalDate.of(year, month, i));\r\n    \r\n    \t\tfor (SchoolBook schoolBook : schoolBooks) {\r\n    \t\t\tSyntheticRow syntheticRow = new SyntheticRow();\r\n    \t\t\tsyntheticRow.setDate(LocalDate.of(year, month, i));\r\n    \t\t\tsyntheticRow.setSyntheticRowId(Long.valueOf(syntheticRowId));\r\n    \r\n    \t\t\tMap&lt;Long, String&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\tmap.put(schoolBook.getStudentId(), schoolBook.getPoints());\r\n    \r\n    \t\t\tsyntheticRow.setMap(map);\r\n    \t\t\tsyntheticRows.add(syntheticRow);\r\n    \t\t\tsyntheticRowId++;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \treturn syntheticRows;\r\n    }\r\n\r\nNow I have `grid` with loaded data:\r\n    \r\n    List&lt;Student&gt; students = userService.getAllStudentsFromClass(classId); //function returns all students from class (it contains also students without records in SchoolBook)\r\n    \r\n    grid.setItems(query -&gt; syntheticRowService.getDataForSpecificMonth(PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)),9,2022).stream());\r\n    grid.addColumn(SyntheticRow::getDate).setHeader(&quot;Date&quot;);\r\n    \r\n    for (Student student : students) {\r\n    \tgrid.addColumn(syntheticRow -&gt; syntheticRow.getMap().get(student.getStudentId())).setHeader(student.getStudentName() + &quot; (&quot; + student.getStudentId() + &quot;)&quot;);\r\n    }\r\n\r\nNow I get this result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe problem now is, that I have data in **multiple rows**, not only in one, for specific day. \r\n\r\nE.g. date `2022-09-23`, or date `2022-09-19`.\r\n\r\nSo the data `should be` in one row and divided into the specified column for `studentName/studentId`. And some dates are missing - like 2022-09-14, 2022-09-15, 2022-09-16.\r\n\r\nSolution:\r\n\r\n    public List&lt;SyntheticRow&gt; getDataForSpecificMonth(PageRequest of, int month, int year) {\r\n    \r\n    \tList&lt;SyntheticRow&gt; syntheticRows = new ArrayList&lt;&gt;();\r\n    \tfor (int i = 1; i &lt;= getNumberOfDaysInMonth(month, year); i++) {\r\n    \t\tList&lt;SchoolBook&gt; schoolBooks = repository.findByDay(LocalDate.of(year, month, i));\r\n    \r\n    \t\tSyntheticRow syntheticRow = new SyntheticRow();\r\n    \t\tMap&lt;Long, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    \t\tschoolBooks.setDate(LocalDate.of(year, month, i));\r\n    \r\n    \t\tif(!schoolBooks.isEmpty()) {\r\n    \t\t\tfor (SchoolBook schoolBook : schoolBooks) {\r\n    \t\t\t\tmap.put(schoolBook.getStudentId(), schoolBook.getPoints());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tsyntheticRow.setMap(map);\r\n    \t\tsyntheticRows.add(syntheticRow);\r\n    \t}\r\n    \r\n    \treturn syntheticRows;\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNPbz.png\r\n  [2]: https://i.stack.imgur.com/ep7YI.png\r\n  [3]: https://i.stack.imgur.com/nmPMI.png","title":"Create &quot;rotated&quot; non-buffered grid (Vaadin)","body":"<p>I am thinking about the solution of this problem, but I have no idea how to do this:</p>\n<p>I have entity <code>SchoolBook</code> with this properties:</p>\n<pre><code>Long id;\nString studentName;\nLong studentId;\nLocalDate day;\nString points;\n</code></pre>\n<p><code>SchoolBook</code> using data from database, and they looks like:</p>\n<pre><code>id | studentName |  studentId |   day     | points\n----------------------------------------------------\n1  |    Adam     |   1000001  | 1.9.2022  |   1\n2  |    Adam     |   1000001  | 3.9.2022  |   2\n3  |    Adam     |   1000001  | 6.9.2022  |   3\n4  |    Marc     |   1000002  | 2.9.2022  |   2\n5  |    Marc     |   1000002  | 5.9.2022  |   A\n6  |    Marc     |   1000002  | 30.9.2022 |   3\n7  |    Fred     |   1000003  | 2.9.2022  |   C\n8  |    Fred     |   1000003  | 4.9.2022  |   1\n9  |    Fred     |   1000003  | 4.8.2022  |   1\n10 |    Adam     |   1000001  | 6.8.2022  |   F\n</code></pre>\n<p>The alphabetical characters can be represented in numeric value as</p>\n<pre><code>A (10 points), B (9 points), C (8 points), D (7 points), E (6 points), F (5 points)\n</code></pre>\n<p>Now I would like to do something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/yNPbz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNPbz.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><code>column names</code> in <code>grid</code> will be the <strong>names of students</strong></li>\n<li>first column will have <code>automaticly generated</code> days (dates) for selected month</li>\n<li><strong>&quot;rows&quot;</strong> will have the <code>points</code> from <code>SchoolBook</code> table - <strong>each for corresponding day</strong></li>\n</ul>\n<p>The <strong>last row</strong> will be something like &quot;sum row&quot; showing the <code>sum</code> for <strong>each</strong> student during the <code>actual month</code>.</p>\n<p>So I have created the <code>SyntheticRow</code> class with these properties:</p>\n<pre><code>Long syntheticRowId;\nLocalDate date;\nMap&lt;Long, String&gt; map;\n</code></pre>\n<p>After this I created the <code>SyntheticRowService</code> which creates items for <code>grid</code> with these functions:</p>\n<pre><code>public int getNumberOfDaysInMonth(int month, int year) {\n    YearMonth yearMonthObject = YearMonth.of(year, month);\n    return yearMonthObject.lengthOfMonth();\n}\n\npublic List&lt;SyntheticRow&gt; getDataForSpecificMonth(PageRequest of, int month, int year) {\n\n    List&lt;SyntheticRow&gt; syntheticRows = new ArrayList&lt;&gt;();\n\n    int syntheticRowId = 1;\n\n    for (int i = 1; i &lt;= getNumberOfDaysInMonth(month, year); i++) {\n        List&lt;SchoolBook&gt; schoolBooks = repository.findByDay(LocalDate.of(year, month, i));\n\n        for (SchoolBook schoolBook : schoolBooks) {\n            SyntheticRow syntheticRow = new SyntheticRow();\n            syntheticRow.setDate(LocalDate.of(year, month, i));\n            syntheticRow.setSyntheticRowId(Long.valueOf(syntheticRowId));\n\n            Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();\n            map.put(schoolBook.getStudentId(), schoolBook.getPoints());\n\n            syntheticRow.setMap(map);\n            syntheticRows.add(syntheticRow);\n            syntheticRowId++;\n        }\n\n    }\n\n    return syntheticRows;\n}\n</code></pre>\n<p>Now I have <code>grid</code> with loaded data:</p>\n<pre><code>List&lt;Student&gt; students = userService.getAllStudentsFromClass(classId); //function returns all students from class (it contains also students without records in SchoolBook)\n\ngrid.setItems(query -&gt; syntheticRowService.getDataForSpecificMonth(PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)),9,2022).stream());\ngrid.addColumn(SyntheticRow::getDate).setHeader(&quot;Date&quot;);\n\nfor (Student student : students) {\n    grid.addColumn(syntheticRow -&gt; syntheticRow.getMap().get(student.getStudentId())).setHeader(student.getStudentName() + &quot; (&quot; + student.getStudentId() + &quot;)&quot;);\n}\n</code></pre>\n<p>Now I get this result:</p>\n<p><a href=\"https://i.stack.imgur.com/ep7YI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ep7YI.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem now is, that I have data in <strong>multiple rows</strong>, not only in one, for specific day.</p>\n<p>E.g. date <code>2022-09-23</code>, or date <code>2022-09-19</code>.</p>\n<p>So the data <code>should be</code> in one row and divided into the specified column for <code>studentName/studentId</code>. And some dates are missing - like 2022-09-14, 2022-09-15, 2022-09-16.</p>\n<p>Solution:</p>\n<pre><code>public List&lt;SyntheticRow&gt; getDataForSpecificMonth(PageRequest of, int month, int year) {\n\n    List&lt;SyntheticRow&gt; syntheticRows = new ArrayList&lt;&gt;();\n    for (int i = 1; i &lt;= getNumberOfDaysInMonth(month, year); i++) {\n        List&lt;SchoolBook&gt; schoolBooks = repository.findByDay(LocalDate.of(year, month, i));\n\n        SyntheticRow syntheticRow = new SyntheticRow();\n        Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();\n\n        schoolBooks.setDate(LocalDate.of(year, month, i));\n\n        if(!schoolBooks.isEmpty()) {\n            for (SchoolBook schoolBook : schoolBooks) {\n                map.put(schoolBook.getStudentId(), schoolBook.getPoints());\n            }\n        }\n\n        syntheticRow.setMap(map);\n        syntheticRows.add(syntheticRow);\n    }\n\n    return syntheticRows;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nmPMI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmPMI.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9182,"page":810,"page_size":100}
