{"items":[{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":15535805,"reputation":1346,"user_id":11208036,"display_name":"SABANTO"},"score":0,"creation_date":1644830896,"post_id":71109532,"comment_id":125700837,"body_markdown":"You can infer the json structure from pojo classes for that data or the maps when the data is saved to firebase, or look at the connected firebase project in the console to see how data is structured, but as for extracting the JSON tree structure from Android Studio I doubtful that possible or if possible easy to do.","body":"You can infer the json structure from pojo classes for that data or the maps when the data is saved to firebase, or look at the connected firebase project in the console to see how data is structured, but as for extracting the JSON tree structure from Android Studio I doubtful that possible or if possible easy to do."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1644843506,"post_id":71109532,"comment_id":125705274,"body_markdown":"I&#39;m not sure I understand. Do you want to get the entire database through Java code?","body":"I&#39;m not sure I understand. Do you want to get the entire database through Java code?"},{"owner":{"account_id":23553396,"reputation":35,"user_id":17595770,"display_name":"Muhammad Ahmad Nawaz Malik"},"score":0,"creation_date":1644854490,"post_id":71109532,"comment_id":125709759,"body_markdown":"@AlexMamo Yes I was thinking of trying to get the JSON File structure from Java Code.","body":"@AlexMamo Yes I was thinking of trying to get the JSON File structure from Java Code."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644858593,"creation_date":1644858593,"answer_id":71115625,"question_id":71109532,"body_markdown":"&gt; Is it possible to extract the JSON of the Firebase Realtime Database?\r\n\r\nTechnically, it&#39;s possible.\r\n\r\nAccording to your last comment:\r\n\r\n&gt; Yes I was thinking of trying to get the JSON File structure from Java Code.\r\n\r\nIf you need to get the structure in Java code, you have to go through your entire database and map each node into the corresponding JSON structure and in the end, [save it to a file][1].\r\n\r\nHowever, if you need it fast, you can directly download it from the console. To achieve that, simply open your [Firebase Console][2], choose your project, select your database, click download the JSON file from the right side, using the &quot;Export JSON&quot; option.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47499865/how-to-write-a-json-to-file-in-java\r\n  [2]: https://console.firebase.google.com/","title":"Is it possible to extract the JSON of Firebase Database from Android Studio?","body":"<blockquote>\n<p>Is it possible to extract the JSON of the Firebase Realtime Database?</p>\n</blockquote>\n<p>Technically, it's possible.</p>\n<p>According to your last comment:</p>\n<blockquote>\n<p>Yes I was thinking of trying to get the JSON File structure from Java Code.</p>\n</blockquote>\n<p>If you need to get the structure in Java code, you have to go through your entire database and map each node into the corresponding JSON structure and in the end, <a href=\"https://stackoverflow.com/questions/47499865/how-to-write-a-json-to-file-in-java\">save it to a file</a>.</p>\n<p>However, if you need it fast, you can directly download it from the console. To achieve that, simply open your <a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase Console</a>, choose your project, select your database, click download the JSON file from the right side, using the &quot;Export JSON&quot; option.</p>\n"}],"owner":{"account_id":23553396,"reputation":35,"user_id":17595770,"display_name":"Muhammad Ahmad Nawaz Malik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1644865165,"answer_count":1,"score":0,"last_activity_date":1644858633,"creation_date":1644830528,"question_id":71109532,"body_markdown":"I have an application in Android Studio that functions perfectly well, I want to ask if I can extract its Firebase Realtime Database JSON tree structure so I can implement it on my own Firebase console as well, and change the data accordingly.","title":"Is it possible to extract the JSON of Firebase Database from Android Studio?","body":"<p>I have an application in Android Studio that functions perfectly well, I want to ask if I can extract its Firebase Realtime Database JSON tree structure so I can implement it on my own Firebase console as well, and change the data accordingly.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1639160691,"post_id":70308854,"comment_id":124286292,"body_markdown":"Please have a look at how to write a [MCVE]","body":"Please have a look at how to write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1639161027,"post_id":70308854,"comment_id":124286387,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6150438,"reputation":106,"user_id":4794985,"display_name":"Jitendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639161946,"creation_date":1639161946,"answer_id":70309103,"question_id":70308854,"body_markdown":"I guess you need to add `scanner.nextLine();` as the first line in `reserveAnimal` method.","title":"Animal Reserve Method","body":"<p>I guess you need to add <code>scanner.nextLine();</code> as the first line in <code>reserveAnimal</code> method.</p>\n"}],"owner":{"account_id":20037266,"reputation":71,"user_id":14688692,"display_name":"Gman12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70309103,"answer_count":1,"score":0,"last_activity_date":1644858408,"creation_date":1639160497,"question_id":70308854,"body_markdown":"I am trying to work on an Animal Reserve method within the Driver class. It is supposed to prompt the user to enter an animal type, which would be either monkey or dog. After that it should prompt user to enter country the animal is from. Then it should search through the current list and then change the reserved status of that animal from false to true. Whenever I run the program, I get a menu as I should. Then I press 3 to call the reserveAnimal method. Instead of prompting and letting the user enter animal type, it just skips that and directly prints error message, saying &quot;Type not found&quot;. How can I fix this? Here is my current code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Driver {\r\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\r\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\r\n    // Instance variables (if needed)\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        initializeDogList();\r\n        initializeMonkeyList();\r\n\r\n        // Creates a scanner class object\r\n        Scanner input = new Scanner(System.in);\r\n        char option;\r\n        // Displays the menu in loop until the user enters the exit option\r\n        do\r\n        {\r\n            displayMenu();\r\n            option=input.next().charAt(0);\r\n            // If user input is 1, intakeNewDog method is called\r\n            if(option==&#39;1&#39;) {\r\n            \t\r\n                intakeNewDog(input);\r\n            }\r\n            // If the option is 2, the intakeNewMonkey method is called\r\n            else if(option==&#39;2&#39;) {\r\n            \t\r\n                intakeNewMonkey(input);\r\n            }\r\n            // If the option is 3, the reserveAnimal method is called\r\n            else if(option==&#39;3&#39;) {\r\n            \r\n            \treserveAnimal(input);\r\n            }\r\n            // If the option is 4, the printAnimals method is called to print dog list\r\n            else if(option==&#39;4&#39;) {\r\n            \t\r\n            \tprintAnimals();\r\n            }\r\n            // If the option is 5, the printAnimals method is called to print monkey list\r\n            else if(option==&#39;5&#39;) {\r\n            \t\r\n            \tprintAnimals();\r\n            }\r\n            // If the option is 6, the printAnimals method is called to print all available \r\n            animals\r\n            else if(option==&#39;6&#39;) {\r\n            \t\r\n            \tprintAnimals();\r\n            }\r\n            // If the option is q, exit message prints and application stops running\r\n            else if(option==&#39;q&#39;) {\r\n            \t\r\n            \tSystem.out.print(&quot;You have exited the application.&quot;);\r\n            \tbreak;\r\n            }\r\n            else {\r\n            \tSystem.out.print(&quot;You have entered an invalid input.&quot;);\r\n            }\r\n            }while (option != &#39;q&#39;);\r\n\t    // For the project submission you must also include input validation\r\n        // and appropriate feedback to the user.\r\n        // Hint: create a Scanner and pass it to the necessary\r\n        // methods \r\n\t    // Hint: Menu options 4, 5, and 6 should all connect to the printAnimals() method.\r\n\r\n      }\r\n\r\n    // This method prints the menu options\r\n    public static void displayMenu() {\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n        System.out.println(&quot;[1] Intake a new dog&quot;);\r\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\r\n        System.out.println(&quot;[3] Reserve an animal&quot;);\r\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\r\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\r\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\r\n        System.out.println(&quot;[q] Quit application&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Enter a menu selection&quot;);\r\n    }\r\n\r\n\r\n    // Adds dogs to a list for testing\r\n    public static void initializeDogList() {\r\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\r\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\r\n\r\n        dogList.add(dog1);\r\n        dogList.add(dog2);\r\n        dogList.add(dog3);\r\n    }\r\n\r\n\r\n    // Adds monkeys to a list for testing\r\n    //Optional for testing\r\n    public static void initializeMonkeyList() {\r\n    \tMonkey monkey1 = new Monkey(&quot;Albert&quot;, &quot;male&quot;, &quot;8&quot;, &quot;9.5&quot;, &quot;06-12-2019&quot;, &quot;Costa Rica&quot;, &quot;in service&quot;, false, &quot;United States&quot;, &quot;17.6&quot;, &quot;18.4&quot;, &quot;18.1&quot;, &quot;Capuchin&quot;);\r\n    \tMonkey monkey2 = new Monkey(&quot;Ada&quot;, &quot;female&quot;, &quot;6&quot;, &quot;1.2&quot;, &quot;04-18-2020&quot;, &quot;Brazil&quot;, &quot;Phase 4&quot;, true, &quot;Canada&quot;, &quot;13.2&quot;, &quot;10.1&quot;, &quot;9.9&quot;, &quot;Tamarin&quot;);\r\n    \tMonkey monkey3 = new Monkey(&quot;Galileo&quot;, &quot;male&quot;, &quot;7&quot;, &quot;7.8&quot;, &quot;11-22-2019&quot;, &quot;Congo&quot;, &quot;Phase 3&quot;, false, &quot;United States&quot;, &quot;26.2&quot;, &quot;20.3&quot;, &quot;21.2&quot;, &quot;Guenon&quot;);\r\n    \t\r\n    \tmonkeyList.add(monkey1);\r\n    \tmonkeyList.add(monkey2);\r\n    \tmonkeyList.add(monkey3);\r\n\r\n    }\r\n\r\n\r\n    // Complete the intakeNewDog method\r\n    // The input validation to check that the dog is not already in the list\r\n    // is done for you\r\n    public static void intakeNewDog(Scanner scanner) {\r\n    \tscanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n        String name = scanner.nextLine();\r\n        for(Dog dog: dogList) {\r\n            if(dog.getName().equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\r\n                return; //returns to menu\r\n            }\r\n        }\r\n\r\n        // Add the code to instantiate a new dog and add it to the appropriate list\r\n        System.out.println(&quot;What is the dog&#39;s breed?&quot;);\r\n        String breed = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s gender?&quot;);\r\n        String gender = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s age?&quot;);\r\n        String age = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s weight?&quot;);\r\n        String weight = scanner.nextLine();\r\n        System.out.println(&quot;When was this dog acquired?&quot;);\r\n        String acquisitionDate = scanner.nextLine();\r\n        System.out.println(&quot;Which country was this dog acquired?&quot;);\r\n        String acquisitionCountry = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s training status?&quot;);\r\n        String trainingStatus = scanner.nextLine();\r\n        System.out.println(&quot;Is this dog reserved?&quot;);\r\n        boolean reserved = scanner.nextBoolean();\r\n        scanner.nextLine();\r\n        System.out.println(&quot;Which country is the dog in service?&quot;);\r\n        String inServiceCountry = scanner.nextLine();\r\n        \r\n        Dog dog4 = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\r\n        dogList.add(dog4);\r\n        System.out.println(&quot;Your entry has been added to the dog list.&quot;);\r\n    }\r\n\r\n\r\n        // Complete intakeNewMonkey\r\n\t//Instantiate and add the new monkey to the appropriate list\r\n        // For the project submission you must also  validate the input\r\n\t// to make sure the monkey doesn&#39;t already exist and the species type is allowed\r\n        public static void intakeNewMonkey(Scanner scanner) {\r\n        \tscanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s name?&quot;);\r\n            String name = scanner.nextLine();\r\n            for(Monkey monkey: monkeyList) {\r\n            \tif(monkey.getName().equalsIgnoreCase(name)) {\r\n            \t\tSystem.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\r\n            \t\treturn; //returns to menu\r\n            \t}\r\n            }\r\n            System.out.println(&quot;What is the monkey&#39;s gender?&quot;);\r\n            String gender = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s age?&quot;);\r\n            String age = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s weight?&quot;);\r\n            String weight = scanner.nextLine();\r\n            System.out.println(&quot;When was this monkey acquired?&quot;);\r\n            String acquisitionDate = scanner.nextLine();\r\n            System.out.println(&quot;Which country was this monkey acquired?&quot;);\r\n            String acquisitionCountry = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s training status?&quot;);\r\n            String trainingStatus = scanner.nextLine();\r\n            System.out.println(&quot;Is this monkey reserved?&quot;);\r\n            boolean reserved = scanner.nextBoolean();\r\n            scanner.nextLine();\r\n            System.out.println(&quot;Which country is the monkey in service?&quot;);\r\n            String inServiceCountry = scanner.nextLine();\r\n            System.out.println(&quot;How long is the monkey&#39;s tail?&quot;);\r\n            String tailLength = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s height?&quot;);\r\n            String height = scanner.nextLine();\r\n            System.out.println(&quot;What is the monkey&#39;s body length?&quot;);\r\n            String bodyLength = scanner.nextLine();\r\n            System.out.println(&quot;What species is the monkey?&quot;);\r\n            String species = scanner.nextLine();\r\n            \r\n            Monkey monkey4 = new Monkey(name, gender, age, weight, acquisitionDate, \r\n            acquisitionCountry, trainingStatus, reserved, inServiceCountry, tailLength, height, \r\n            bodyLength, species);\r\n            monkeyList.add(monkey4);\r\n            System.out.print(&quot;Your entry has been added to the monkey list.&quot;);\r\n        }\r\n\r\n        // Complete reserveAnimal\r\n        // You will need to find the animal by animal type and in service country\r\n        public static void reserveAnimal(Scanner scanner) {\r\n            System.out.println(&quot;Enter animal type: &quot;);\r\n            String animalType = scanner.nextLine();\r\n            if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\r\n            \tSystem.out.println(&quot;Enter the monkey&#39;s country of acquisiton: &quot;);\r\n            \tString country = scanner.nextLine();\r\n            \tfor(Monkey obj: monkeyList) {\r\n                    if(obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\r\n                        obj.setReserved(true);\r\n                        return;\r\n                    }\r\n            \t}\r\n            \tSystem.out.println(&quot;The monkey entered is not in the list&quot;);\r\n            }\r\n            else if (animalType.equalsIgnoreCase(&quot;Dog&quot;)) {\r\n                    System.out.println(&quot;Enter the dog&#39;s country of acquisition: &quot;);\r\n                    String country = scanner.nextLine();\r\n                    for(Dog obj: dogList){\r\n                    if(obj.getAcquisitionLocation().equalsIgnoreCase(country)){\r\n                        obj.setReserved(true);\r\n                        return;\r\n                    }\r\n\r\n                }\r\n                System.out.println(&quot;The dog entered is not in the list&quot;);\r\n                }  else {\r\n            \tSystem.out.println(&quot;Type not found&quot;);\r\n                }\r\n        \r\n        }\r\n\r\n        // Complete printAnimals\r\n        // Include the animal name, status, acquisition country and if the animal is reserved.\r\n\t// Remember that this method connects to three different menu items.\r\n        // The printAnimals() method has three different outputs\r\n        // based on the listType parameter\r\n        // dog - prints the list of dogs\r\n        // monkey - prints the list of monkeys\r\n        // available - prints a combined list of all animals that are\r\n        // fully trained (&quot;in service&quot;) but not reserved \r\n\t// Remember that you only have to fully implement ONE of these lists. \r\n\t// The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\r\n\t// To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\r\n        public static void printAnimals() {\r\n            System.out.println(&quot;The method printAnimals needs to be implemented&quot;);\r\n\r\n        }\r\n     }","title":"Animal Reserve Method","body":"<p>I am trying to work on an Animal Reserve method within the Driver class. It is supposed to prompt the user to enter an animal type, which would be either monkey or dog. After that it should prompt user to enter country the animal is from. Then it should search through the current list and then change the reserved status of that animal from false to true. Whenever I run the program, I get a menu as I should. Then I press 3 to call the reserveAnimal method. Instead of prompting and letting the user enter animal type, it just skips that and directly prints error message, saying &quot;Type not found&quot;. How can I fix this? Here is my current code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Driver {\nprivate static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\nprivate static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\n// Instance variables (if needed)\n\npublic static void main(String[] args) {\n\n\n    initializeDogList();\n    initializeMonkeyList();\n\n    // Creates a scanner class object\n    Scanner input = new Scanner(System.in);\n    char option;\n    // Displays the menu in loop until the user enters the exit option\n    do\n    {\n        displayMenu();\n        option=input.next().charAt(0);\n        // If user input is 1, intakeNewDog method is called\n        if(option=='1') {\n            \n            intakeNewDog(input);\n        }\n        // If the option is 2, the intakeNewMonkey method is called\n        else if(option=='2') {\n            \n            intakeNewMonkey(input);\n        }\n        // If the option is 3, the reserveAnimal method is called\n        else if(option=='3') {\n        \n            reserveAnimal(input);\n        }\n        // If the option is 4, the printAnimals method is called to print dog list\n        else if(option=='4') {\n            \n            printAnimals();\n        }\n        // If the option is 5, the printAnimals method is called to print monkey list\n        else if(option=='5') {\n            \n            printAnimals();\n        }\n        // If the option is 6, the printAnimals method is called to print all available \n        animals\n        else if(option=='6') {\n            \n            printAnimals();\n        }\n        // If the option is q, exit message prints and application stops running\n        else if(option=='q') {\n            \n            System.out.print(&quot;You have exited the application.&quot;);\n            break;\n        }\n        else {\n            System.out.print(&quot;You have entered an invalid input.&quot;);\n        }\n        }while (option != 'q');\n    // For the project submission you must also include input validation\n    // and appropriate feedback to the user.\n    // Hint: create a Scanner and pass it to the necessary\n    // methods \n    // Hint: Menu options 4, 5, and 6 should all connect to the printAnimals() method.\n\n  }\n\n// This method prints the menu options\npublic static void displayMenu() {\n    System.out.println(&quot;\\n\\n&quot;);\n    System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\n    System.out.println(&quot;[1] Intake a new dog&quot;);\n    System.out.println(&quot;[2] Intake a new monkey&quot;);\n    System.out.println(&quot;[3] Reserve an animal&quot;);\n    System.out.println(&quot;[4] Print a list of all dogs&quot;);\n    System.out.println(&quot;[5] Print a list of all monkeys&quot;);\n    System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\n    System.out.println(&quot;[q] Quit application&quot;);\n    System.out.println();\n    System.out.println(&quot;Enter a menu selection&quot;);\n}\n\n\n// Adds dogs to a list for testing\npublic static void initializeDogList() {\n    Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n    Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\n    Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\n\n    dogList.add(dog1);\n    dogList.add(dog2);\n    dogList.add(dog3);\n}\n\n\n// Adds monkeys to a list for testing\n//Optional for testing\npublic static void initializeMonkeyList() {\n    Monkey monkey1 = new Monkey(&quot;Albert&quot;, &quot;male&quot;, &quot;8&quot;, &quot;9.5&quot;, &quot;06-12-2019&quot;, &quot;Costa Rica&quot;, &quot;in service&quot;, false, &quot;United States&quot;, &quot;17.6&quot;, &quot;18.4&quot;, &quot;18.1&quot;, &quot;Capuchin&quot;);\n    Monkey monkey2 = new Monkey(&quot;Ada&quot;, &quot;female&quot;, &quot;6&quot;, &quot;1.2&quot;, &quot;04-18-2020&quot;, &quot;Brazil&quot;, &quot;Phase 4&quot;, true, &quot;Canada&quot;, &quot;13.2&quot;, &quot;10.1&quot;, &quot;9.9&quot;, &quot;Tamarin&quot;);\n    Monkey monkey3 = new Monkey(&quot;Galileo&quot;, &quot;male&quot;, &quot;7&quot;, &quot;7.8&quot;, &quot;11-22-2019&quot;, &quot;Congo&quot;, &quot;Phase 3&quot;, false, &quot;United States&quot;, &quot;26.2&quot;, &quot;20.3&quot;, &quot;21.2&quot;, &quot;Guenon&quot;);\n    \n    monkeyList.add(monkey1);\n    monkeyList.add(monkey2);\n    monkeyList.add(monkey3);\n\n}\n\n\n// Complete the intakeNewDog method\n// The input validation to check that the dog is not already in the list\n// is done for you\npublic static void intakeNewDog(Scanner scanner) {\n    scanner.nextLine();\n    System.out.println(&quot;What is the dog's name?&quot;);\n    String name = scanner.nextLine();\n    for(Dog dog: dogList) {\n        if(dog.getName().equalsIgnoreCase(name)) {\n            System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\n            return; //returns to menu\n        }\n    }\n\n    // Add the code to instantiate a new dog and add it to the appropriate list\n    System.out.println(&quot;What is the dog's breed?&quot;);\n    String breed = scanner.nextLine();\n    System.out.println(&quot;What is the dog's gender?&quot;);\n    String gender = scanner.nextLine();\n    System.out.println(&quot;What is the dog's age?&quot;);\n    String age = scanner.nextLine();\n    System.out.println(&quot;What is the dog's weight?&quot;);\n    String weight = scanner.nextLine();\n    System.out.println(&quot;When was this dog acquired?&quot;);\n    String acquisitionDate = scanner.nextLine();\n    System.out.println(&quot;Which country was this dog acquired?&quot;);\n    String acquisitionCountry = scanner.nextLine();\n    System.out.println(&quot;What is the dog's training status?&quot;);\n    String trainingStatus = scanner.nextLine();\n    System.out.println(&quot;Is this dog reserved?&quot;);\n    boolean reserved = scanner.nextBoolean();\n    scanner.nextLine();\n    System.out.println(&quot;Which country is the dog in service?&quot;);\n    String inServiceCountry = scanner.nextLine();\n    \n    Dog dog4 = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\n    dogList.add(dog4);\n    System.out.println(&quot;Your entry has been added to the dog list.&quot;);\n}\n\n\n    // Complete intakeNewMonkey\n//Instantiate and add the new monkey to the appropriate list\n    // For the project submission you must also  validate the input\n// to make sure the monkey doesn't already exist and the species type is allowed\n    public static void intakeNewMonkey(Scanner scanner) {\n        scanner.nextLine();\n        System.out.println(&quot;What is the monkey's name?&quot;);\n        String name = scanner.nextLine();\n        for(Monkey monkey: monkeyList) {\n            if(monkey.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n        }\n        System.out.println(&quot;What is the monkey's gender?&quot;);\n        String gender = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's age?&quot;);\n        String age = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's weight?&quot;);\n        String weight = scanner.nextLine();\n        System.out.println(&quot;When was this monkey acquired?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        System.out.println(&quot;Which country was this monkey acquired?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        System.out.println(&quot;Is this monkey reserved?&quot;);\n        boolean reserved = scanner.nextBoolean();\n        scanner.nextLine();\n        System.out.println(&quot;Which country is the monkey in service?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        System.out.println(&quot;How long is the monkey's tail?&quot;);\n        String tailLength = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's height?&quot;);\n        String height = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's body length?&quot;);\n        String bodyLength = scanner.nextLine();\n        System.out.println(&quot;What species is the monkey?&quot;);\n        String species = scanner.nextLine();\n        \n        Monkey monkey4 = new Monkey(name, gender, age, weight, acquisitionDate, \n        acquisitionCountry, trainingStatus, reserved, inServiceCountry, tailLength, height, \n        bodyLength, species);\n        monkeyList.add(monkey4);\n        System.out.print(&quot;Your entry has been added to the monkey list.&quot;);\n    }\n\n    // Complete reserveAnimal\n    // You will need to find the animal by animal type and in service country\n    public static void reserveAnimal(Scanner scanner) {\n        System.out.println(&quot;Enter animal type: &quot;);\n        String animalType = scanner.nextLine();\n        if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\n            System.out.println(&quot;Enter the monkey's country of acquisiton: &quot;);\n            String country = scanner.nextLine();\n            for(Monkey obj: monkeyList) {\n                if(obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\n                    obj.setReserved(true);\n                    return;\n                }\n            }\n            System.out.println(&quot;The monkey entered is not in the list&quot;);\n        }\n        else if (animalType.equalsIgnoreCase(&quot;Dog&quot;)) {\n                System.out.println(&quot;Enter the dog's country of acquisition: &quot;);\n                String country = scanner.nextLine();\n                for(Dog obj: dogList){\n                if(obj.getAcquisitionLocation().equalsIgnoreCase(country)){\n                    obj.setReserved(true);\n                    return;\n                }\n\n            }\n            System.out.println(&quot;The dog entered is not in the list&quot;);\n            }  else {\n            System.out.println(&quot;Type not found&quot;);\n            }\n    \n    }\n\n    // Complete printAnimals\n    // Include the animal name, status, acquisition country and if the animal is reserved.\n// Remember that this method connects to three different menu items.\n    // The printAnimals() method has three different outputs\n    // based on the listType parameter\n    // dog - prints the list of dogs\n    // monkey - prints the list of monkeys\n    // available - prints a combined list of all animals that are\n    // fully trained (&quot;in service&quot;) but not reserved \n// Remember that you only have to fully implement ONE of these lists. \n// The other lists can have a print statement saying &quot;This option needs to be implemented&quot;.\n// To score &quot;exemplary&quot; you must correctly implement the &quot;available&quot; list.\n    public static void printAnimals() {\n        System.out.println(&quot;The method printAnimals needs to be implemented&quot;);\n\n    }\n }\n</code></pre>\n"},{"tags":["java","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644010655,"creation_date":1644010655,"answer_id":70993105,"question_id":70984778,"body_markdown":"For an example of what to do now, please see https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/openpackaging/packages/OpcPackage.java#L735\r\n\r\n\t\t\tFlatOpcXmlCreator opcXmlCreator = new FlatOpcXmlCreator(this);\r\n\t\t\topcXmlCreator.populate();\r\n\t\t\topcXmlCreator.marshal(outStream);\r\n\r\nGiven your `wordPackage`, just wordPackage.save(outStream, Docx4J.FLAG_SAVE_FLAT_XML)","title":"How to Handle Breaking Change in Interface of docx4j Class &quot;FlatOpcXmlCreator&quot; in V11.3.2 (aka V8.3.0)","body":"<p>For an example of what to do now, please see <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/openpackaging/packages/OpcPackage.java#L735\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/openpackaging/packages/OpcPackage.java#L735</a></p>\n<pre><code>        FlatOpcXmlCreator opcXmlCreator = new FlatOpcXmlCreator(this);\n        opcXmlCreator.populate();\n        opcXmlCreator.marshal(outStream);\n</code></pre>\n<p>Given your <code>wordPackage</code>, just wordPackage.save(outStream, Docx4J.FLAG_SAVE_FLAT_XML)</p>\n"}],"owner":{"account_id":1012271,"reputation":1818,"user_id":1024581,"accept_rate":84,"display_name":"Semjon M&#246;ssinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70993105,"answer_count":1,"score":2,"last_activity_date":1644858045,"creation_date":1643970231,"question_id":70984778,"body_markdown":"I&#39;m about to update our project&#39;s dependencies and found out docx4j has changed it&#39;s interface of class `FlatOpcXmlCreator`. The `get()` method is now not only deprecated but completely deactivated as the following docx4j code snippet shows:\r\n\r\n\r\n    package org.docx4j.convert.out.flatOpcXml;\r\n    public class FlatOpcXmlCreator implements Output {\r\n    ...\r\n    @Deprecated\r\n    public Package get() throws Docx4JException {\r\n        throw new Docx4JException(&quot;Deprecated.&quot;);\r\n    }\r\n\r\n(IMHO I think here they just skipped the usual deprecated step of still supporting the functionality, giving a warning and documenting hints how to upgrade to the new interface). Anyway, now the following code does not work anymore (since the last line calls the deprecated `get()` method).\r\n\r\n    JAXBContext jc = Context.jcXmlPackage;\r\n    Marshaller marshaller = jc.createMarshaller();\r\n    org.w3c.dom.Document doc = XmlUtils.neww3cDomDocument();\r\n    \r\n    FlatOpcXmlCreator worker = new FlatOpcXmlCreator(wordPackage);\r\n    marshaller.marshal(worker.get(), doc);\r\n\r\nDoes anybody know how to fix it? I checked the release news. The change ist mentioned here, but without more details:\r\nhttps://www.docx4java.org/forums/announces/docx4j-8-3-0-released-t2992.html\r\n\r\nJust some details to the actual version switch I tried (because versioning here is not totally abvious):\r\n\r\n - The change happened in V8.3.0.\r\n - V11.3.2 is the Java 11&#39;s branch of V8.3.2.\r\n - We were using V11.2.9 before.\r\n - The error occurred when I switched to V11.3.2.\r\n\r\nThe release news of V8.3.0 mentioned the change in FlatOpcXmlCreator was due to the following issue: https://github.com/plutext/docx4j/issues/444. I had a short look at the discussion but couldn&#39;t find any helpful information regards my issue.\r\n\r\n---\r\n\r\nEdit: In my example worker.get() was used as a shortcut to get a dom representation of the document. Because that was a little bit hacky (it&#39;s not FlatOpcXmlCreator&#39;s scope to expose it&#39;s internal structure) the current version of docx4j just can&#39;t fulfill our needs. A solution would be to apply Jason&#39;s solution and parse the string ourself.\r\n\r\n---\r\n\r\nSolution: Following JasonPlutext&#39;s suggestions (especially the one from the comment section) led to the following fix:\r\n\r\n    FlatOpcXmlCreator worker = new FlatOpcXmlCreator(wordPackage);\r\n    worker.populate();\r\n\r\n    var outputStream = new ByteArrayOutputStream();\r\n    worker.marshal(outputStream);\r\n    org.w3c.dom.Document doc = XmlUtils.getNewDocumentBuilder().parse(\r\n        new ByteArrayInputStream(outputStream.toByteArray()));","title":"How to Handle Breaking Change in Interface of docx4j Class &quot;FlatOpcXmlCreator&quot; in V11.3.2 (aka V8.3.0)","body":"<p>I'm about to update our project's dependencies and found out docx4j has changed it's interface of class <code>FlatOpcXmlCreator</code>. The <code>get()</code> method is now not only deprecated but completely deactivated as the following docx4j code snippet shows:</p>\n<pre><code>package org.docx4j.convert.out.flatOpcXml;\npublic class FlatOpcXmlCreator implements Output {\n...\n@Deprecated\npublic Package get() throws Docx4JException {\n    throw new Docx4JException(&quot;Deprecated.&quot;);\n}\n</code></pre>\n<p>(IMHO I think here they just skipped the usual deprecated step of still supporting the functionality, giving a warning and documenting hints how to upgrade to the new interface). Anyway, now the following code does not work anymore (since the last line calls the deprecated <code>get()</code> method).</p>\n<pre><code>JAXBContext jc = Context.jcXmlPackage;\nMarshaller marshaller = jc.createMarshaller();\norg.w3c.dom.Document doc = XmlUtils.neww3cDomDocument();\n\nFlatOpcXmlCreator worker = new FlatOpcXmlCreator(wordPackage);\nmarshaller.marshal(worker.get(), doc);\n</code></pre>\n<p>Does anybody know how to fix it? I checked the release news. The change ist mentioned here, but without more details:\n<a href=\"https://www.docx4java.org/forums/announces/docx4j-8-3-0-released-t2992.html\" rel=\"nofollow noreferrer\">https://www.docx4java.org/forums/announces/docx4j-8-3-0-released-t2992.html</a></p>\n<p>Just some details to the actual version switch I tried (because versioning here is not totally abvious):</p>\n<ul>\n<li>The change happened in V8.3.0.</li>\n<li>V11.3.2 is the Java 11's branch of V8.3.2.</li>\n<li>We were using V11.2.9 before.</li>\n<li>The error occurred when I switched to V11.3.2.</li>\n</ul>\n<p>The release news of V8.3.0 mentioned the change in FlatOpcXmlCreator was due to the following issue: <a href=\"https://github.com/plutext/docx4j/issues/444\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/issues/444</a>. I had a short look at the discussion but couldn't find any helpful information regards my issue.</p>\n<hr />\n<p>Edit: In my example worker.get() was used as a shortcut to get a dom representation of the document. Because that was a little bit hacky (it's not FlatOpcXmlCreator's scope to expose it's internal structure) the current version of docx4j just can't fulfill our needs. A solution would be to apply Jason's solution and parse the string ourself.</p>\n<hr />\n<p>Solution: Following JasonPlutext's suggestions (especially the one from the comment section) led to the following fix:</p>\n<pre><code>FlatOpcXmlCreator worker = new FlatOpcXmlCreator(wordPackage);\nworker.populate();\n\nvar outputStream = new ByteArrayOutputStream();\nworker.marshal(outputStream);\norg.w3c.dom.Document doc = XmlUtils.getNewDocumentBuilder().parse(\n    new ByteArrayInputStream(outputStream.toByteArray()));\n</code></pre>\n"},{"tags":["java","jdbc","abstract-class"],"comments":[{"owner":{"account_id":10325130,"reputation":535,"user_id":7616822,"accept_rate":50,"display_name":"procra"},"score":0,"creation_date":1644405350,"post_id":71048564,"comment_id":125596518,"body_markdown":"The IDE used is JDeveloper v12.2.1.4.0, Java8 and Oracle 12c Database","body":"The IDE used is JDeveloper v12.2.1.4.0, Java8 and Oracle 12c Database"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1644405774,"post_id":71048564,"comment_id":125596705,"body_markdown":"You can make the error handling much simpler with try-with-resources.","body":"You can make the error handling much simpler with try-with-resources."},{"owner":{"account_id":10325130,"reputation":535,"user_id":7616822,"accept_rate":50,"display_name":"procra"},"score":0,"creation_date":1644407330,"post_id":71048564,"comment_id":125597304,"body_markdown":"@Thorbj&#248;rnRavnAndersen did you mean auto-closable ressources? Yeah I&#39;ve read about that, and as soon as I have modularized the request processing i&#39;m definitely trying that out. Not too familiar with it yet.","body":"@Thorbj&#248;rnRavnAndersen did you mean auto-closable ressources? Yeah I&#39;ve read about that, and as soon as I have modularized the request processing i&#39;m definitely trying that out. Not too familiar with it yet."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1644508229,"post_id":71048564,"comment_id":125630559,"body_markdown":"Have a look at it, it will make your life easier.  Please note that your current exception handling will most likely give you problems as the calling code has no idea if anything went wrong.","body":"Have a look at it, it will make your life easier.  Please note that your current exception handling will most likely give you problems as the calling code has no idea if anything went wrong."}],"owner":{"account_id":10325130,"reputation":535,"user_id":7616822,"accept_rate":50,"display_name":"procra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644858028,"creation_date":1644405244,"question_id":71048564,"body_markdown":"I am currently reworking an ADF Fusion application, that uses a lot of Java nested in Beans to actually manage JDBC requests. As the code ermerged from the pre-Java8 era there is a bunch of deprecated technologies in it and I neither have the time nor the knowledge to rework everything (which describes the percentage of the code that is outdated and hard to debug).\r\n\r\nSomething very regularly is that inside the backing bean classes manual JDBC requests with our inhouse DB are handled (often uncannily nested in other methods). As I began to outsource them I realized I wrote the same block of code over and over again:\r\n\r\n    Connection conn = null;\r\n    Statement stmt = null;\r\n    ResultSet rs = null;\r\n    try {\r\n        conn = CC.getConn(); //CC is of type &quot;CustomConnection&quot;, \r\n                             //a static assist class that fetches the connection\r\n        stmt = conn.createStatement();\r\n        rs = stmt.executeQuery(&quot;Some SQL&quot;);\r\n        while(rs.next()) {\r\n            //handle the result\r\n        }\r\n    } catch(Exception e){\r\n        e.printStackTrace();\r\n    } finally {\r\n        try {\r\n            rs.close();\r\n            stmt.close();\r\n            conn.close();\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\nor for `PreparedStatement` respectively:\r\n\r\n    Connection conn = null;\r\n    PreparedStatement pstmt = null;\r\n    ResultSet rs = null;\r\n    try {\r\n        conn = CC.getConn(); //CC is of type &quot;CustomConnection&quot;, \r\n                             //a static assist class that fetches the connection\r\n        pstmt = conn.prepareStatement(&quot;Some SQL&quot;);\r\n        //populate the pstmt with params \r\n        rs = pstmt.executeUpdate();\r\n        while(rs.next()) {\r\n            //handle the result\r\n        }\r\n    } catch(Exception e){\r\n        e.printStackTrace();\r\n    } finally {\r\n        try {\r\n            rs.close();\r\n            pstmt.close();\r\n            conn.close();\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWhile I&#39;m aware that this is not the best practice it worked reliable so far but writing multiple methods like this with real difference only in the handling of the `ResultSet` became very tedious. So my approach was to write an abstract superclass that provides a `request()` method and let the extending classes define the parameters to populate a `PreparedStatement` and the handling of the `ResultSet`.\r\n\r\n    public abstract class Requestable {\r\n        \r\n        public void request(String SQL, HashMap&lt;String, Integer&gt; args) {\r\n    \r\n            Connection conn = null;\r\n            PreparedStatement pstmt = null;\r\n            \r\n            try {\r\n                conn = CC.getConn();\r\n                pstmt = conn.prepareStatement(SQL);\r\n                pstmt = fill(args);\r\n                onResponse(pstmt.executeUpdate());\r\n                //handle result\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    pstmt.close();\r\n                    conn.close();\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public abstract PreparedStatement fill(HashMap args);\r\n    \r\n        public abstract void onResponse(ResultSet rs);\r\n    \r\n        public Requestable() {\r\n            super();\r\n        }\r\n    }\r\n\r\nThis would be an example for `PreparedStatement`. `Statement`s would get an own separate method.\r\n\r\nWriting this draft, I came across the issue that some classes which are intended to extend `Requestable` currently have multiple different requests that they perform (which all need a specific handling of the result). With my approach, I could define the methods `fill()` and  `onResponse()` only once per class. Is there a way to like pass a function reference to `request()` that gets defined in the extending class and executed at the position of `fill()` and `onResponse()`?\r\n\r\n","title":"Java abstract class for dynamic JDBC requests","body":"<p>I am currently reworking an ADF Fusion application, that uses a lot of Java nested in Beans to actually manage JDBC requests. As the code ermerged from the pre-Java8 era there is a bunch of deprecated technologies in it and I neither have the time nor the knowledge to rework everything (which describes the percentage of the code that is outdated and hard to debug).</p>\n<p>Something very regularly is that inside the backing bean classes manual JDBC requests with our inhouse DB are handled (often uncannily nested in other methods). As I began to outsource them I realized I wrote the same block of code over and over again:</p>\n<pre><code>Connection conn = null;\nStatement stmt = null;\nResultSet rs = null;\ntry {\n    conn = CC.getConn(); //CC is of type &quot;CustomConnection&quot;, \n                         //a static assist class that fetches the connection\n    stmt = conn.createStatement();\n    rs = stmt.executeQuery(&quot;Some SQL&quot;);\n    while(rs.next()) {\n        //handle the result\n    }\n} catch(Exception e){\n    e.printStackTrace();\n} finally {\n    try {\n        rs.close();\n        stmt.close();\n        conn.close();\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>or for <code>PreparedStatement</code> respectively:</p>\n<pre><code>Connection conn = null;\nPreparedStatement pstmt = null;\nResultSet rs = null;\ntry {\n    conn = CC.getConn(); //CC is of type &quot;CustomConnection&quot;, \n                         //a static assist class that fetches the connection\n    pstmt = conn.prepareStatement(&quot;Some SQL&quot;);\n    //populate the pstmt with params \n    rs = pstmt.executeUpdate();\n    while(rs.next()) {\n        //handle the result\n    }\n} catch(Exception e){\n    e.printStackTrace();\n} finally {\n    try {\n        rs.close();\n        pstmt.close();\n        conn.close();\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>While I'm aware that this is not the best practice it worked reliable so far but writing multiple methods like this with real difference only in the handling of the <code>ResultSet</code> became very tedious. So my approach was to write an abstract superclass that provides a <code>request()</code> method and let the extending classes define the parameters to populate a <code>PreparedStatement</code> and the handling of the <code>ResultSet</code>.</p>\n<pre><code>public abstract class Requestable {\n    \n    public void request(String SQL, HashMap&lt;String, Integer&gt; args) {\n\n        Connection conn = null;\n        PreparedStatement pstmt = null;\n        \n        try {\n            conn = CC.getConn();\n            pstmt = conn.prepareStatement(SQL);\n            pstmt = fill(args);\n            onResponse(pstmt.executeUpdate());\n            //handle result\n        } catch(Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                pstmt.close();\n                conn.close();\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public abstract PreparedStatement fill(HashMap args);\n\n    public abstract void onResponse(ResultSet rs);\n\n    public Requestable() {\n        super();\n    }\n}\n</code></pre>\n<p>This would be an example for <code>PreparedStatement</code>. <code>Statement</code>s would get an own separate method.</p>\n<p>Writing this draft, I came across the issue that some classes which are intended to extend <code>Requestable</code> currently have multiple different requests that they perform (which all need a specific handling of the result). With my approach, I could define the methods <code>fill()</code> and  <code>onResponse()</code> only once per class. Is there a way to like pass a function reference to <code>request()</code> that gets defined in the extending class and executed at the position of <code>fill()</code> and <code>onResponse()</code>?</p>\n"},{"tags":["java","swing","swingworker","edt"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1644845441,"post_id":71112665,"comment_id":125706017,"body_markdown":"Err, `doInBackground()` **always** finishes before `done()`. That&#39;s the whole idea. That&#39;s why it&#39;s named `done()`. The work in background is done, you may now update the UI with it.","body":"Err, <code>doInBackground()</code> <b>always</b> finishes before <code>done()</code>. That&#39;s the whole idea. That&#39;s why it&#39;s named <code>done()</code>. The work in background is done, you may now update the UI with it."},{"owner":{"account_id":13845349,"reputation":45,"user_id":14476503,"display_name":"David"},"score":0,"creation_date":1644846675,"post_id":71112665,"comment_id":125706451,"body_markdown":"I meant that while done() is updating UI using the return of its doInBackground() some other doInBackgrounds can finish its job as well(I&#39;m talking about running many SW simultaneously). Or isn&#39;t that an issue?","body":"I meant that while done() is updating UI using the return of its doInBackground() some other doInBackgrounds can finish its job as well(I&#39;m talking about running many SW simultaneously). Or isn&#39;t that an issue?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1644848147,"post_id":71112665,"comment_id":125707069,"body_markdown":"Is it an issue that data is being loaded in the background? Only the EDT is calling `done()`, so that part is single threaded. Only the dataloading is multithreaded. You haven&#39;t given any details of your actual error. I don&#39;t see any code that could throw an `AIOOBE` in your question.","body":"Is it an issue that data is being loaded in the background? Only the EDT is calling <code>done()</code>, so that part is single threaded. Only the dataloading is multithreaded. You haven&#39;t given any details of your actual error. I don&#39;t see any code that could throw an <code>AIOOBE</code> in your question."}],"owner":{"account_id":13845349,"reputation":45,"user_id":14476503,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644857948,"creation_date":1644845193,"question_id":71112665,"body_markdown":"I have a program that parses XML from web and then shows information in form of JTable. Information can be updated while the program is running.\r\n\r\n\r\nThis update method is called from EDT by a Timer every X seconds or by a user by clicking refresh button.\r\n\r\n    private void updateInfo(int id) {\r\n        SwingWorker&lt;ArrayList&lt;Information&gt;, Void&gt; sw = new SwingWorker&lt;&gt;() {\r\n            @Override\r\n            protected ArrayList&lt;Information&gt; doInBackground() {\r\n                return loadInfo(id);\r\n            }\r\n            @Override\r\n            protected void done() {\r\n                try {\r\n                    info = get();\r\n                    gui.addInfoToTable(formatInfo(info));\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        sw.execute();\r\n    }\r\n\r\nThe return of doInBackground() is saved to `info` to allow user see details of specific Information object by clicking specific cell in JTable\r\n\r\nRight know I&#39;m getting ArrayIndexOutOfBoundsException if I try to stresstest the program with hundreds simultaneous updates. \r\n\r\nAs far as I understand that is because some of doInBackground() finishes before done(), am I right?\r\n\r\nWhat is the easiest way to make my program threadsafe?\r\n\r\nCan accessing info elements while updating cause any problem?\r\n\r\nException:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\r\n\tat java.base/java.util.Vector.elementData(Vector.java:762)\r\n\tat java.base/java.util.Vector.elementAt(Vector.java:500)\r\n\tat java.desktop/javax.swing.table.DefaultTableColumnModel.getColumn(DefaultTableColumnModel.java:295)\r\n\tat java.desktop/javax.swing.JTable.getCellRenderer(JTable.java:5689)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2184)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintDraggedArea(BasicTableUI.java:2160)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2115)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1883)\r\n\tat java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n\tat java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:797)\r\n\tat java.desktop/javax.swing.JComponent.paint(JComponent.java:1074)\r\n\tat java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5255)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBufferedImpl(RepaintManager.java:1643)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1618)\r\n\tat java.desktop/javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1556)\r\n\tat java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1323)\r\n\tat java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5203)\r\n\tat java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5013)\r\n\tat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:865)\r\n\tat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:848)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:848)\r\n\tat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:823)\r\n\tat java.desktop/javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:772)\r\n\tat java.desktop/javax.swing.RepaintManager$ProcessingRunnable.run(RepaintManager.java:1890)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)","title":"Multiple SwingWorker synchronization","body":"<p>I have a program that parses XML from web and then shows information in form of JTable. Information can be updated while the program is running.</p>\n<p>This update method is called from EDT by a Timer every X seconds or by a user by clicking refresh button.</p>\n<pre><code>private void updateInfo(int id) {\n    SwingWorker&lt;ArrayList&lt;Information&gt;, Void&gt; sw = new SwingWorker&lt;&gt;() {\n        @Override\n        protected ArrayList&lt;Information&gt; doInBackground() {\n            return loadInfo(id);\n        }\n        @Override\n        protected void done() {\n            try {\n                info = get();\n                gui.addInfoToTable(formatInfo(info));\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    sw.execute();\n}\n</code></pre>\n<p>The return of doInBackground() is saved to <code>info</code> to allow user see details of specific Information object by clicking specific cell in JTable</p>\n<p>Right know I'm getting ArrayIndexOutOfBoundsException if I try to stresstest the program with hundreds simultaneous updates.</p>\n<p>As far as I understand that is because some of doInBackground() finishes before done(), am I right?</p>\n<p>What is the easiest way to make my program threadsafe?</p>\n<p>Can accessing info elements while updating cause any problem?</p>\n<p>Exception:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\nat java.base/java.util.Vector.elementData(Vector.java:762)\nat java.base/java.util.Vector.elementAt(Vector.java:500)\nat java.desktop/javax.swing.table.DefaultTableColumnModel.getColumn(DefaultTableColumnModel.java:295)\nat java.desktop/javax.swing.JTable.getCellRenderer(JTable.java:5689)\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2184)\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintDraggedArea(BasicTableUI.java:2160)\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2115)\nat java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1883)\nat java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\nat java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:797)\nat java.desktop/javax.swing.JComponent.paint(JComponent.java:1074)\nat java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5255)\nat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBufferedImpl(RepaintManager.java:1643)\nat java.desktop/javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(RepaintManager.java:1618)\nat java.desktop/javax.swing.RepaintManager$PaintManager.paint(RepaintManager.java:1556)\nat java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1323)\nat java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5203)\nat java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5013)\nat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:865)\nat java.desktop/javax.swing.RepaintManager$4.run(RepaintManager.java:848)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:848)\nat java.desktop/javax.swing.RepaintManager.paintDirtyRegions(RepaintManager.java:823)\nat java.desktop/javax.swing.RepaintManager.prePaintDirtyRegions(RepaintManager.java:772)\nat java.desktop/javax.swing.RepaintManager$ProcessingRunnable.run(RepaintManager.java:1890)\nat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644855073,"creation_date":1644855073,"answer_id":71114882,"question_id":71113346,"body_markdown":"&gt; is there any caching layer in the usage of MappedTable\r\n\r\nYes, otherwise, the lookups would be relatively slow, at least in benchmarks. The cache is located in your `Configuration`.\r\n\r\nIf you want to bypass the cache, you could create a new `Configuration` per query, but most examples out there suggest you inject a single `Configuration` instance, as all caches are located in there.\r\n\r\nBut from how I understand your requirements, you won&#39;t flush the cache on a per-query basis, but maybe once per hour / per day? It should be fine to create a new `Configuration` at that interval.\r\n\r\n&gt; or would it be safe to have my own implementation of MappedTable that dynamically decides which table to hit based on some context information\r\n\r\nNo, that proxy wouldn&#39;t work, at least not in jOOQ 3.16","title":"Can MappedTable be defined dynamically at runtime?","body":"<blockquote>\n<p>is there any caching layer in the usage of MappedTable</p>\n</blockquote>\n<p>Yes, otherwise, the lookups would be relatively slow, at least in benchmarks. The cache is located in your <code>Configuration</code>.</p>\n<p>If you want to bypass the cache, you could create a new <code>Configuration</code> per query, but most examples out there suggest you inject a single <code>Configuration</code> instance, as all caches are located in there.</p>\n<p>But from how I understand your requirements, you won't flush the cache on a per-query basis, but maybe once per hour / per day? It should be fine to create a new <code>Configuration</code> at that interval.</p>\n<blockquote>\n<p>or would it be safe to have my own implementation of MappedTable that dynamically decides which table to hit based on some context information</p>\n</blockquote>\n<p>No, that proxy wouldn't work, at least not in jOOQ 3.16</p>\n"}],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71114882,"answer_count":1,"score":0,"last_activity_date":1644857893,"creation_date":1644848296,"question_id":71113346,"body_markdown":"I&#39;ve been a happy jOOQ user for a while now. In my application, I never update or delete anything. I always insert a new row, so that the whole history is always available. The application has a time-machine mode that allows to see the data as it was on a given day.\r\n\r\nSchema for an entity is something like\r\n - `entity` table\r\n    - `id`\r\n    - all the immutable properties of the entity\r\n    - `inserted_at` timestamp of the insert\r\n - `entity_updates` table\r\n    - `id`\r\n    - `entity_id`: fk to the `entity`\r\n    - all the mutable properties\r\n    - `inserted_at`: timestamp of the insert\r\n\r\nBy filtering on the `inserted_at` columns, I can make my time-machine work.\r\n\r\nAll is fine, but with more data, the application performance is worsening. I&#39;d like to take shortcuts.\r\n\r\nI consider doing the following:\r\n - keeping up to date a table with the latest version of the data (same schema as the live table, kept in sync with DB triggers): the `entity_update_latest` table\r\n - dynamically decide whether to hit the `entity_update_latest` table, of the `entity_update` table depending on the use case\r\n\r\nTo dynamically decide, I consider resorting to `MappedTable` in my jOOQ configuration.\r\n\r\nIs there any caching layer in the usage of `MappedTable`, or would it be safe to have my own implementation of `MappedTable` that dynamically decides which table to hit based on some context information?\r\n\r\nI was considering doing that with a proxy.\r\n\r\n","title":"Can MappedTable be defined dynamically at runtime?","body":"<p>I've been a happy jOOQ user for a while now. In my application, I never update or delete anything. I always insert a new row, so that the whole history is always available. The application has a time-machine mode that allows to see the data as it was on a given day.</p>\n<p>Schema for an entity is something like</p>\n<ul>\n<li><code>entity</code> table\n<ul>\n<li><code>id</code></li>\n<li>all the immutable properties of the entity</li>\n<li><code>inserted_at</code> timestamp of the insert</li>\n</ul>\n</li>\n<li><code>entity_updates</code> table\n<ul>\n<li><code>id</code></li>\n<li><code>entity_id</code>: fk to the <code>entity</code></li>\n<li>all the mutable properties</li>\n<li><code>inserted_at</code>: timestamp of the insert</li>\n</ul>\n</li>\n</ul>\n<p>By filtering on the <code>inserted_at</code> columns, I can make my time-machine work.</p>\n<p>All is fine, but with more data, the application performance is worsening. I'd like to take shortcuts.</p>\n<p>I consider doing the following:</p>\n<ul>\n<li>keeping up to date a table with the latest version of the data (same schema as the live table, kept in sync with DB triggers): the <code>entity_update_latest</code> table</li>\n<li>dynamically decide whether to hit the <code>entity_update_latest</code> table, of the <code>entity_update</code> table depending on the use case</li>\n</ul>\n<p>To dynamically decide, I consider resorting to <code>MappedTable</code> in my jOOQ configuration.</p>\n<p>Is there any caching layer in the usage of <code>MappedTable</code>, or would it be safe to have my own implementation of <code>MappedTable</code> that dynamically decides which table to hit based on some context information?</p>\n<p>I was considering doing that with a proxy.</p>\n"},{"tags":["java","mysql","apache-flink","flink-streaming","flink-table-api"],"answers":[{"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644844641,"creation_date":1644844641,"answer_id":71112542,"question_id":71111933,"body_markdown":"Frist of all， test whether the data of mysql can be read normally\r\nMay be you can directly print the source result as follows\r\n\r\n    DataStreamSource&lt;Row&gt; source = env.createInput(inputBuilder.finish());\r\n    source.print()\r\n    env.execute();\r\n\r\n\r\n\r\n","title":"How to create a DataStreamSource from a Mysql Database?","body":"<p>Frist of all， test whether the data of mysql can be read normally\nMay be you can directly print the source result as follows</p>\n<pre><code>DataStreamSource&lt;Row&gt; source = env.createInput(inputBuilder.finish());\nsource.print()\nenv.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644857665,"creation_date":1644854766,"answer_id":71114810,"question_id":71111933,"body_markdown":"For more context on how to use MySQL with Flink, see https://stackoverflow.com/a/71030967/2000823. As a streaming data source, it&#39;s more common to work with MySQL&#39;s write-ahead-log as a CDC stream, but another approach that is sometimes taken (but not encouraged by Flink&#39;s APIs) is to periodically poll MySQL with a SELECT query.\r\n\r\nAs for what you&#39;ve tried, using `createInput` is discouraged for streaming jobs, as this doesn&#39;t work with Flink&#39;s checkpointing mechanism. Rather than using a hadoop input format, it&#39;s better to choose one of the available source connectors.\r\n\r\nA temporary view doesn&#39;t hold any data, and isn&#39;t something that can be accessed from another job. A Flink table, or a view, is metadata describing how data stored somewhere else (e.g., in mysql or kafka) is to be interpreted as a table by Flink. You can store a view in a catalog so that multiple jobs can share its definition, but the underlying data will remain in the external data store, and only the view metadata is stored in the catalog.\r\n\r\nSo in this case, the job you&#39;ve written will create a temporary view that is only visible to this job and no others (since it is a temporary view, and not a persistent view stored in a persistent catalog). The output of your job won&#39;t be in the log file(s), but will instead go to stdout, or to `*.out` files in the logging directory of each task manager.","title":"How to create a DataStreamSource from a Mysql Database?","body":"<p>For more context on how to use MySQL with Flink, see <a href=\"https://stackoverflow.com/a/71030967/2000823\">https://stackoverflow.com/a/71030967/2000823</a>. As a streaming data source, it's more common to work with MySQL's write-ahead-log as a CDC stream, but another approach that is sometimes taken (but not encouraged by Flink's APIs) is to periodically poll MySQL with a SELECT query.</p>\n<p>As for what you've tried, using <code>createInput</code> is discouraged for streaming jobs, as this doesn't work with Flink's checkpointing mechanism. Rather than using a hadoop input format, it's better to choose one of the available source connectors.</p>\n<p>A temporary view doesn't hold any data, and isn't something that can be accessed from another job. A Flink table, or a view, is metadata describing how data stored somewhere else (e.g., in mysql or kafka) is to be interpreted as a table by Flink. You can store a view in a catalog so that multiple jobs can share its definition, but the underlying data will remain in the external data store, and only the view metadata is stored in the catalog.</p>\n<p>So in this case, the job you've written will create a temporary view that is only visible to this job and no others (since it is a temporary view, and not a persistent view stored in a persistent catalog). The output of your job won't be in the log file(s), but will instead go to stdout, or to <code>*.out</code> files in the logging directory of each task manager.</p>\n"}],"owner":{"account_id":17656975,"reputation":145,"user_id":12816336,"display_name":"Dan Serb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71114810,"answer_count":2,"score":0,"last_activity_date":1644857665,"creation_date":1644841759,"question_id":71111933,"body_markdown":"I have a problem running a flink job that is basically running a query against a mysql database and then tries to create a temporary view that must be accessed from a different job.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    \r\n    final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n    final TypeInformation&lt;?&gt;[] fieldTypes =\r\n        new TypeInformation&lt;?&gt;[] {\r\n          BasicTypeInfo.INT_TYPE_INFO,\r\n          BasicTypeInfo.STRING_TYPE_INFO,\r\n          BasicTypeInfo.STRING_TYPE_INFO\r\n        };\r\n\r\n    final RowTypeInfo rowTypeInfo = new RowTypeInfo(fieldTypes);\r\n\r\n    String selectQuery = &quot;select * from ***&quot;;\r\n    String driverName = &quot;***&quot;;\r\n    String sourceDb = &quot;***&quot;;\r\n    String dbUrl = &quot;jdbc:mysql://mySqlDatabase:3306/&quot;;\r\n    String dbPassword = &quot;***&quot;;\r\n    String dbUser = &quot;***&quot;;\r\n\r\n    JdbcInputFormat.JdbcInputFormatBuilder inputBuilder =\r\n        JdbcInputFormat.buildJdbcInputFormat()\r\n            .setDrivername(driverName)\r\n            .setDBUrl(dbUrl + sourceDb)\r\n            .setQuery(selectQuery)\r\n            .setRowTypeInfo(rowTypeInfo)\r\n            .setUsername(dbUser)\r\n            .setPassword(dbPassword);\r\n\r\n    DataStreamSource&lt;Row&gt; source = env.createInput(inputBuilder.finish());\r\n\r\n    StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\r\n\r\n    Table customerTable =\r\n            tableEnv.fromDataStream(source).as(&quot;id&quot;, &quot;name&quot;, &quot;test&quot;);\r\n\r\n    tableEnv.createTemporaryView(&quot;***&quot;, ***Table);\r\n    Table resultTable = tableEnv.sqlQuery(\r\n            &quot;SELECT * FROM ***&quot;);\r\n\r\n    DataStream&lt;Row&gt; resultStream = tableEnv.toDataStream(resultTable);\r\n\r\n    resultStream.print();\r\n    env.execute();\r\n\r\n```\r\n\r\nI&#39;m quite new to Flink, and I&#39;m currently going trough the APIs provided for all of these, but I can&#39;t actually understand what I&#39;m doing wrong. In my mind, testing this process by printing the result at the end of the job seems straight forward, but the only thing I get printed is something like this:\r\n\r\n```\r\n2022-02-14 12:22:57,702 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680) switched from INITIALIZING to RUNNING.\r\n2022-02-14 12:22:57,853 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680) switched from RUNNING to FINISHED.\r\n2022-02-14 12:22:57,853 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Freeing task resources for Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680).\r\n2022-02-14 12:22:57,856 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Un-registering task and sending final execution state FINISHED to JobManager for task Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 8a1cd3aa6a753c9253926027b1332680.\r\n```\r\n\r\nThe point of this job would be to create a temporary table view used for caching some static data that will be used in other Flink jobs by querying that table view.","title":"How to create a DataStreamSource from a Mysql Database?","body":"<p>I have a problem running a flink job that is basically running a query against a mysql database and then tries to create a temporary view that must be accessed from a different job.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    \n    final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n    \n    final TypeInformation&lt;?&gt;[] fieldTypes =\n        new TypeInformation&lt;?&gt;[] {\n          BasicTypeInfo.INT_TYPE_INFO,\n          BasicTypeInfo.STRING_TYPE_INFO,\n          BasicTypeInfo.STRING_TYPE_INFO\n        };\n\n    final RowTypeInfo rowTypeInfo = new RowTypeInfo(fieldTypes);\n\n    String selectQuery = &quot;select * from ***&quot;;\n    String driverName = &quot;***&quot;;\n    String sourceDb = &quot;***&quot;;\n    String dbUrl = &quot;jdbc:mysql://mySqlDatabase:3306/&quot;;\n    String dbPassword = &quot;***&quot;;\n    String dbUser = &quot;***&quot;;\n\n    JdbcInputFormat.JdbcInputFormatBuilder inputBuilder =\n        JdbcInputFormat.buildJdbcInputFormat()\n            .setDrivername(driverName)\n            .setDBUrl(dbUrl + sourceDb)\n            .setQuery(selectQuery)\n            .setRowTypeInfo(rowTypeInfo)\n            .setUsername(dbUser)\n            .setPassword(dbPassword);\n\n    DataStreamSource&lt;Row&gt; source = env.createInput(inputBuilder.finish());\n\n    StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);\n\n    Table customerTable =\n            tableEnv.fromDataStream(source).as(&quot;id&quot;, &quot;name&quot;, &quot;test&quot;);\n\n    tableEnv.createTemporaryView(&quot;***&quot;, ***Table);\n    Table resultTable = tableEnv.sqlQuery(\n            &quot;SELECT * FROM ***&quot;);\n\n    DataStream&lt;Row&gt; resultStream = tableEnv.toDataStream(resultTable);\n\n    resultStream.print();\n    env.execute();\n\n</code></pre>\n<p>I'm quite new to Flink, and I'm currently going trough the APIs provided for all of these, but I can't actually understand what I'm doing wrong. In my mind, testing this process by printing the result at the end of the job seems straight forward, but the only thing I get printed is something like this:</p>\n<pre><code>2022-02-14 12:22:57,702 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680) switched from INITIALIZING to RUNNING.\n2022-02-14 12:22:57,853 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680) switched from RUNNING to FINISHED.\n2022-02-14 12:22:57,853 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Freeing task resources for Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 (8a1cd3aa6a753c9253926027b1332680).\n2022-02-14 12:22:57,856 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Un-registering task and sending final execution state FINISHED to JobManager for task Source: Custom Source -&gt; DataSteamToTable(stream=default_catalog.default_database.Unregistered_DataStream_Source_1, type=ROW&lt;`f0` INT, `f1` STRING, `f2` STRING&gt; NOT NULL, rowtime=false, watermark=false) -&gt; Calc(select=[f0 AS id, f1 AS name, f2 AS test]) -&gt; TableToDataSteam(type=ROW&lt;`id` INT, `name` STRING, `test` STRING&gt; NOT NULL, rowtime=false) -&gt; Sink: Print to Std. Out (1/1)#0 8a1cd3aa6a753c9253926027b1332680.\n</code></pre>\n<p>The point of this job would be to create a temporary table view used for caching some static data that will be used in other Flink jobs by querying that table view.</p>\n"},{"tags":["java","spring-boot","kubernetes","kubernetes-pod","kubernetes-apiserver"],"comments":[{"owner":{"account_id":13502749,"reputation":4823,"user_id":9741769,"display_name":"Blokje5"},"score":1,"creation_date":1644858561,"post_id":71115405,"comment_id":125711363,"body_markdown":"Most likely the issue is not with the code itself, but with the Service Account of the pod. (https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#use-the-default-service-account-to-access-the-api-server). Are you sure your pod has a service account with the right permissions. The default service account might not have the right permissions (or automount might be disabled).","body":"Most likely the issue is not with the code itself, but with the Service Account of the pod. (<a href=\"https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/#use-the-default-service-account-to-access-the-api-server\" rel=\"nofollow noreferrer\">kubernetes.io/docs/tasks/configure-pod-container/&hellip;</a>). Are you sure your pod has a service account with the right permissions. The default service account might not have the right permissions (or automount might be disabled)."},{"owner":{"account_id":4464324,"reputation":641,"user_id":3632362,"accept_rate":60,"display_name":"dagrun"},"score":0,"creation_date":1655724152,"post_id":71115405,"comment_id":128391925,"body_markdown":"I have the same issue and have set a service account with the correct permissions for the pod. However it does not look like this is the service account that the code end up using. Can someone help?","body":"I have the same issue and have set a service account with the correct permissions for the pod. However it does not look like this is the service account that the code end up using. Can someone help?"}],"owner":{"account_id":19269249,"reputation":42,"user_id":14083551,"display_name":"jaimet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644857570,"creation_date":1644857570,"question_id":71115405,"body_markdown":"I want to connect to kubernetes api from a pod using the java kubernetes library. But when I try to do anything with the api, kubernetes returns Forbbiden error. \r\n\r\nHere is the code of how I connect.\r\n    \r\n    ApiClient client = ClientBuilder.cluster().build();\r\n    Configuration.setDefaultApiClient(client);\r\n    CoreV1Api api = new CoreV1Api();\r\n\r\nDoes anyone have any idea on how to connect properly to kubernetes?\r\n\r\n*Kubernetes is running with minikube\r\n\r\nThanks so much for reading!!","title":"Accessing to kubernetes from pod using java api, returns forbbiden error","body":"<p>I want to connect to kubernetes api from a pod using the java kubernetes library. But when I try to do anything with the api, kubernetes returns Forbbiden error.</p>\n<p>Here is the code of how I connect.</p>\n<pre><code>ApiClient client = ClientBuilder.cluster().build();\nConfiguration.setDefaultApiClient(client);\nCoreV1Api api = new CoreV1Api();\n</code></pre>\n<p>Does anyone have any idea on how to connect properly to kubernetes?</p>\n<p>*Kubernetes is running with minikube</p>\n<p>Thanks so much for reading!!</p>\n"},{"tags":["java","javafx","imageview","resize"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523633370,"creation_date":1523633370,"answer_id":49820485,"question_id":49820196,"body_markdown":"You can bind the image view&#39;s `fitWidth` and `fitHeight` properties to the width and height of the anchor pane:\r\n\r\n    imageView.fitWidthProperty().bind(anchorPane.widthProperty());\r\n    imageView.fitHeightProperty().bind(anchorPane.heightProperty());\r\n\r\nIf you also want to preserve the proportions of the image you are displaying, you can do\r\n\r\n    imageView.setPreserveRatio(true);\r\n","title":"Javafx resize ImageView to AnchorPane","body":"<p>You can bind the image view's <code>fitWidth</code> and <code>fitHeight</code> properties to the width and height of the anchor pane:</p>\n\n<pre><code>imageView.fitWidthProperty().bind(anchorPane.widthProperty());\nimageView.fitHeightProperty().bind(anchorPane.heightProperty());\n</code></pre>\n\n<p>If you also want to preserve the proportions of the image you are displaying, you can do</p>\n\n<pre><code>imageView.setPreserveRatio(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604844669,"creation_date":1604844669,"answer_id":64739040,"question_id":49820196,"body_markdown":"Only thing work for me.\r\nOn the view, listen change of the AnchorPane and set ImageView Size\r\n\r\n    init {\r\n       myAnchorPane.widthProperty().addListener { observable, oldValue, newValue -&gt;\r\n                myImageView.fitWidth = myAnchorPane.width\r\n                myImageView.fitHeight = 0.0\r\n        }\r\n    }","title":"Javafx resize ImageView to AnchorPane","body":"<p>Only thing work for me.\nOn the view, listen change of the AnchorPane and set ImageView Size</p>\n<pre><code>init {\n   myAnchorPane.widthProperty().addListener { observable, oldValue, newValue -&gt;\n            myImageView.fitWidth = myAnchorPane.width\n            myImageView.fitHeight = 0.0\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644857569,"creation_date":1644857569,"answer_id":71115403,"question_id":49820196,"body_markdown":"See this [answer](https://stackoverflow.com/a/65853658/918858).  Basically you can use the `ImageViewPane` that you can include in your project.","title":"Javafx resize ImageView to AnchorPane","body":"<p>See this <a href=\"https://stackoverflow.com/a/65853658/918858\">answer</a>.  Basically you can use the <code>ImageViewPane</code> that you can include in your project.</p>\n"}],"owner":{"account_id":13279465,"reputation":41,"user_id":9587656,"display_name":"Bashfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1644857569,"creation_date":1523632387,"question_id":49820196,"body_markdown":"I have an ImageView inside an AnchorPane and I want to resize the Image in the same proposition as the AnchorPane resize.\r\n\r\nCan someone explain me how to do that?\r\n\r\nMany thanks in advance.","title":"Javafx resize ImageView to AnchorPane","body":"<p>I have an ImageView inside an AnchorPane and I want to resize the Image in the same proposition as the AnchorPane resize.</p>\n\n<p>Can someone explain me how to do that?</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["java","date"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1644528502,"creation_date":1644488121,"answer_id":71063276,"question_id":71063202,"body_markdown":"There are two things you need to change in your formatter:\r\n\r\n* Use `uuuu` instead of `yyyy`. It&#39;s easy to try the latter, but `y` means &quot;year within ERA&quot;. It doesn&#39;t know whether it&#39;s BC or AD. `u` means &quot;year&quot; including ERA information.\r\n* The [default resolver style](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofPattern(java.lang.String)) is [`SMART`][1]. Use `.withResolverStyle(ResolverStyle.STRICT)` to return a [strict][2] copy of the formatter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html#SMART\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html#STRICT","title":"check valid date in java","body":"<p>There are two things you need to change in your formatter:</p>\n<ul>\n<li>Use <code>uuuu</code> instead of <code>yyyy</code>. It's easy to try the latter, but <code>y</code> means &quot;year within ERA&quot;. It doesn't know whether it's BC or AD. <code>u</code> means &quot;year&quot; including ERA information.</li>\n<li>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofPattern(java.lang.String)\" rel=\"nofollow noreferrer\">default resolver style</a> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html#SMART\" rel=\"nofollow noreferrer\"><code>SMART</code></a>. Use <code>.withResolverStyle(ResolverStyle.STRICT)</code> to return a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html#STRICT\" rel=\"nofollow noreferrer\">strict</a> copy of the formatter.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10801575,"reputation":1614,"user_id":7945344,"display_name":"Lucas Declercq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644488407,"creation_date":1644488407,"answer_id":71063359,"question_id":71063202,"body_markdown":"You need to enable the strict mode of the DateTimeFormatter :\r\n\r\n    DateTimeFormatter formater = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)\r\n                                .withResolverStyle(ResolverStyle.STRICT);\r\n\r\n\r\n`LocaleDate.parse(&quot;30/02/2022, formater);` will then throw an exception.","title":"check valid date in java","body":"<p>You need to enable the strict mode of the DateTimeFormatter :</p>\n<pre><code>DateTimeFormatter formater = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)\n                            .withResolverStyle(ResolverStyle.STRICT);\n</code></pre>\n<p><code>LocaleDate.parse(&quot;30/02/2022, formater);</code> will then throw an exception.</p>\n"}],"owner":{"account_id":23917588,"reputation":73,"user_id":17913871,"display_name":"ho&#224;ng nguyễn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71063276,"answer_count":2,"score":6,"last_activity_date":1644856945,"creation_date":1644487826,"question_id":71063202,"body_markdown":"I tried to check a `String` input that is a valid date using the format `dd/MM/yyyy` like this:\r\n\r\n    String input = Scanner.nextLine();\r\n    DateTimeFormatter formater = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n    try{\r\n        LocaleDate.parse(input, formater);\r\n    }\r\n    catch(Exception e)\r\nBut it can&#39;t check some rules below:\r\n\r\n    Leap year, February 29 days.\r\n\r\n    Common year, February 28 days.\r\n\r\n    Month 1, 3, 5, 7, 8, 10, 12, max 31 days.\r\n\r\n    Month 4, 6, 9, 11, max 30 days.\r\nWhen I use `input = &quot;30/02/2022&quot;`, it&#39;s legal.\r\nI use `netbeans 8.2` and `jdk 1.8`. Do they support some methods for checking these rules?\r\n\r\n","title":"check valid date in java","body":"<p>I tried to check a <code>String</code> input that is a valid date using the format <code>dd/MM/yyyy</code> like this:</p>\n<pre><code>String input = Scanner.nextLine();\nDateTimeFormatter formater = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\ntry{\n    LocaleDate.parse(input, formater);\n}\ncatch(Exception e)\n</code></pre>\n<p>But it can't check some rules below:</p>\n<pre><code>Leap year, February 29 days.\n\nCommon year, February 28 days.\n\nMonth 1, 3, 5, 7, 8, 10, 12, max 31 days.\n\nMonth 4, 6, 9, 11, max 30 days.\n</code></pre>\n<p>When I use <code>input = &quot;30/02/2022&quot;</code>, it's legal.\nI use <code>netbeans 8.2</code> and <code>jdk 1.8</code>. Do they support some methods for checking these rules?</p>\n"},{"tags":["java","spring-boot","jms","spring-jms","solace"],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644855753,"creation_date":1644855753,"answer_id":71115036,"question_id":71114900,"body_markdown":"in short it&#39;s because of your `sessionTransacted=true`.\r\nThis means that in case of exception thrown, the message is put back on the queue and it will be consumed and retried again.\r\n\r\nSee: https://stackoverflow.com/questions/6538678/mdp-jms-transaction-rolls-back-then-reprocesses-message-in-an-endless-loop for suggestions on handling retry and failures","title":"Spring Jms Listener goes to Infinite loop","body":"<p>in short it's because of your <code>sessionTransacted=true</code>.\nThis means that in case of exception thrown, the message is put back on the queue and it will be consumed and retried again.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/6538678/mdp-jms-transaction-rolls-back-then-reprocesses-message-in-an-endless-loop\">MDP JMS Transaction rolls back then reprocesses message in an endless loop</a> for suggestions on handling retry and failures</p>\n"}],"owner":{"account_id":19681905,"reputation":181,"user_id":14408828,"display_name":"hello world"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644855753,"creation_date":1644855150,"question_id":71114900,"body_markdown":"I have the below config for solace queue listener .Since one message throws error .It goes into infine loop ,.How to solve this ?\r\n\r\n    @Bean\r\n    \tpublic DefaultJmsListenerContainerFactory jmsContainer() {\r\n    \t\tDefaultJmsListenerContainerFactory container = new DefaultJmsListenerContainerFactory();\r\n    \t\tcontainer.setConnectionFactory(solaceCachedConnectionFactory());\r\n    \t   container.setSessionAcknowledgeMode(Session.AUTO_ACKNOWLEDGE);\r\n    \t   container.setSessionTransacted(true);\r\n    \t   container.setErrorHandler(exampleErrorHandler);//error handler logs the message\r\n    \t\treturn container;\r\n    \t}\r\n\r\n    @JmsListener(destination = &quot;myqueue&quot;, containerFactory = &quot;jmsContainer&quot;, concurrency = &quot;5-10&quot;)\r\n    \tpublic void onMessage(Message msg) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tLOG.info(&quot;In here START onMessage &quot; +  msg.toString()) ;\r\n    \t\t\t\r\n    \t\t\tif (msg instanceof TextMessage) {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot; In here &quot;);\r\n    \t\t\t\t\r\n    \t\t\t\tMyClass c=gson.fromJson(((TextMessage) msg).getText(),MyClass.class); // throw error here\r\n\r\n","title":"Spring Jms Listener goes to Infinite loop","body":"<p>I have the below config for solace queue listener .Since one message throws error .It goes into infine loop ,.How to solve this ?</p>\n<pre><code>@Bean\n    public DefaultJmsListenerContainerFactory jmsContainer() {\n        DefaultJmsListenerContainerFactory container = new DefaultJmsListenerContainerFactory();\n        container.setConnectionFactory(solaceCachedConnectionFactory());\n       container.setSessionAcknowledgeMode(Session.AUTO_ACKNOWLEDGE);\n       container.setSessionTransacted(true);\n       container.setErrorHandler(exampleErrorHandler);//error handler logs the message\n        return container;\n    }\n\n@JmsListener(destination = &quot;myqueue&quot;, containerFactory = &quot;jmsContainer&quot;, concurrency = &quot;5-10&quot;)\n    public void onMessage(Message msg) {\n        \n        try {\n            \n            LOG.info(&quot;In here START onMessage &quot; +  msg.toString()) ;\n            \n            if (msg instanceof TextMessage) {\n                \n                System.out.println(&quot; In here &quot;);\n                \n                MyClass c=gson.fromJson(((TextMessage) msg).getText(),MyClass.class); // throw error here\n</code></pre>\n"},{"tags":["java","visual-studio-code","quarkus"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613716203,"creation_date":1613716203,"answer_id":66272737,"question_id":66272380,"body_markdown":"Click your project under **JAVA PROJECTS**, click **+** to add Maven Dependencies:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDetailed information please view [Project Management in vscode-java: Add a dependency][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pszp5.png\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_add-a-dependency","title":"How to show Java Dependency (to add external jar) in vscode?","body":"<p>Click your project under <strong>JAVA PROJECTS</strong>, click <strong>+</strong> to add Maven Dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/pszp5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pszp5.png\" alt=\"enter image description here\" /></a></p>\n<p>Detailed information please view <a href=\"https://code.visualstudio.com/docs/java/java-project#_add-a-dependency\" rel=\"nofollow noreferrer\">Project Management in vscode-java: Add a dependency</a></p>\n"},{"tags":[],"owner":{"account_id":10571054,"reputation":75,"user_id":8648089,"display_name":"Sanjeev Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644855481,"creation_date":1644855481,"answer_id":71114979,"question_id":66272380,"body_markdown":"[![VSCode Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tZSVg.png\r\n\r\nI know this is really late; I stumbled here when trying to solve this problem myself. Now that I have found the solution, I am sharing on this for anyone coming this way later so, here goes: You can simply click on the &#39;+&#39; button to add external JARs (see in the screenshot).","title":"How to show Java Dependency (to add external jar) in vscode?","body":"<p><a href=\"https://i.stack.imgur.com/tZSVg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tZSVg.png\" alt=\"VSCode Image\" /></a></p>\n<p>I know this is really late; I stumbled here when trying to solve this problem myself. Now that I have found the solution, I am sharing on this for anyone coming this way later so, here goes: You can simply click on the '+' button to add external JARs (see in the screenshot).</p>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644855481,"creation_date":1613713794,"question_id":66272380,"body_markdown":"I am working on Quarkus application in vscode and we want to add external jars to that application, I have seen few demos but in my project &quot;Java Dependencies&quot; tab is not there, how to show it?\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\nPlease Help me out as I am new to it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9XoA5.png \r\nThis &quot;Java Dependencies&quot; tab is not visible in my above project.\r\n\r\n[2]: https://i.stack.imgur.com/NirIo.png","title":"How to show Java Dependency (to add external jar) in vscode?","body":"<p>I am working on Quarkus application in vscode and we want to add external jars to that application, I have seen few demos but in my project &quot;Java Dependencies&quot; tab is not there, how to show it?</p>\n<p><a href=\"https://i.stack.imgur.com/9XoA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9XoA5.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/NirIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NirIo.png\" alt=\"enter image description here\" /></a></p>\n<p>Please Help me out as I am new to it.</p>\n<p>This &quot;Java Dependencies&quot; tab is not visible in my above project.</p>\n"},{"tags":["java","spring","lombok"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644855342,"creation_date":1644855342,"answer_id":71114953,"question_id":71114548,"body_markdown":"Lombok only writes **boilerplate code** for you. It means that, as soon as you have anything non trivial to do, you can&#39;t use it anymore.\r\nSo if you want to keep your fields computed in the constructor final, you will have to write the constructor by hand.\r\n\r\nAs far as I know, a @PostConstruct method can&#39;t accept any parameter either.\r\n\r\nThere are two possibles tracks to follow:\r\n\r\n- you can certainly use field-based or setter-based injection, using @Autowired annotation.\r\n- Pass an already constructed SpecialHandler to your service. You can do so, , rather than using @Service annotation, by creating it in a @Bean method inside a @Configuration class for example.\r\n\r\n","title":"HowTo Dependency-Injection with Lombok","body":"<p>Lombok only writes <strong>boilerplate code</strong> for you. It means that, as soon as you have anything non trivial to do, you can't use it anymore.\nSo if you want to keep your fields computed in the constructor final, you will have to write the constructor by hand.</p>\n<p>As far as I know, a @PostConstruct method can't accept any parameter either.</p>\n<p>There are two possibles tracks to follow:</p>\n<ul>\n<li>you can certainly use field-based or setter-based injection, using @Autowired annotation.</li>\n<li>Pass an already constructed SpecialHandler to your service. You can do so, , rather than using @Service annotation, by creating it in a @Bean method inside a @Configuration class for example.</li>\n</ul>\n"}],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644855342,"creation_date":1644853683,"question_id":71114548,"body_markdown":"I&#39;m searching for a elegant way, to define fields in standard spring-service.  \r\nWithout lombok our service looks like this:\r\n\r\n```java\r\n@Service\r\npublic class ServiceA {\r\n\r\n   private final String applicationName;\r\n   private final SpecialHandler specialHandler;\r\n   private final ServiceC serviceC;\r\n\r\n   public ServiceA(final ConfigBean config,\r\n                  final ServiceB serviceB,\r\n                  final ServiceC serviceC) {\r\n      this.applicationName = config.getBaseConfig().getApplicationInfo().getName();\r\n      this.specialHander = serviceB.getSpecialForAppName(this.applicationName);\r\n\r\n      // PROBLEM: each direct dependency forces us to write more and more manual code\r\n      this.serviceC = serviceC;\r\n   }\r\n\r\n}\r\n```\r\n\r\nNow, our team want to use the lombok-constructor only (so we can easily add other services). The service above will now look this:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ServiceA {\r\n\r\n   private final ServiceC service;\r\n   // ^- with lombok, this is very pretty and simpel\r\n\r\n   private final ConfigBean config;\r\n   private final SpecialHandler specialHandler;\r\n   // ^- PROBLEM: these fields only used in the &quot;createFields()&quot;-method\r\n   // can we inline them somehow?\r\n\r\n   private String applicationName;\r\n   private SpecialHandler specialHanlder;\r\n   // ^- PROBLEM: these fields are not final anymore\r\n   // can we &quot;make fields final again&quot;?\r\n\r\n   @PostConstruct\r\n   public void createFields() { // maybe we can put parameters to the post-construct?\r\n      this.applicationName = this.config.getBaseConfig().getApplicationInfo().getName();\r\n      this.specialHander = this.serviceB.getSpecialForAppName(this.applicationName); \r\n   }\r\n\r\n}\r\n```\r\n\r\n# Question\r\n\r\nHow can I solve the issues (mentioned in the sourceCode-comments)?\r\n\r\n\r\n#### Footnote\r\nI saw this &quot;problem&quot; in many projects. The variants, which I mentioned above, are the only solutions I saw yet. Both solutions getting more ugly when raising the number of fields.","title":"HowTo Dependency-Injection with Lombok","body":"<p>I'm searching for a elegant way, to define fields in standard spring-service.<br />\nWithout lombok our service looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceA {\n\n   private final String applicationName;\n   private final SpecialHandler specialHandler;\n   private final ServiceC serviceC;\n\n   public ServiceA(final ConfigBean config,\n                  final ServiceB serviceB,\n                  final ServiceC serviceC) {\n      this.applicationName = config.getBaseConfig().getApplicationInfo().getName();\n      this.specialHander = serviceB.getSpecialForAppName(this.applicationName);\n\n      // PROBLEM: each direct dependency forces us to write more and more manual code\n      this.serviceC = serviceC;\n   }\n\n}\n</code></pre>\n<p>Now, our team want to use the lombok-constructor only (so we can easily add other services). The service above will now look this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class ServiceA {\n\n   private final ServiceC service;\n   // ^- with lombok, this is very pretty and simpel\n\n   private final ConfigBean config;\n   private final SpecialHandler specialHandler;\n   // ^- PROBLEM: these fields only used in the &quot;createFields()&quot;-method\n   // can we inline them somehow?\n\n   private String applicationName;\n   private SpecialHandler specialHanlder;\n   // ^- PROBLEM: these fields are not final anymore\n   // can we &quot;make fields final again&quot;?\n\n   @PostConstruct\n   public void createFields() { // maybe we can put parameters to the post-construct?\n      this.applicationName = this.config.getBaseConfig().getApplicationInfo().getName();\n      this.specialHander = this.serviceB.getSpecialForAppName(this.applicationName); \n   }\n\n}\n</code></pre>\n<h1>Question</h1>\n<p>How can I solve the issues (mentioned in the sourceCode-comments)?</p>\n<h4>Footnote</h4>\n<p>I saw this &quot;problem&quot; in many projects. The variants, which I mentioned above, are the only solutions I saw yet. Both solutions getting more ugly when raising the number of fields.</p>\n"},{"tags":["java","mysql","spring-boot","rest","http"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644855312,"creation_date":1644855312,"answer_id":71114950,"question_id":71113741,"body_markdown":"You could go with a token based log in mechanism, But since you are using a desktop app, you would need to check the security of tokens. Steps would involve:\r\n\r\n1) User enter u/p and desktop app sends a login request to get a JWT token.\r\n2) Send this token via an interceptor in HTTP headers so you would validate the user in SpringBoot service app.\r\n3) When user logs out, keep the token if it is not expired, so if the user logs in back use the token again (**keeping tokens would be a security risk so research more on that!**). If not ask u/p and do the step 1-&gt;3 again","title":"How to log in and out a user from a spring boot server?","body":"<p>You could go with a token based log in mechanism, But since you are using a desktop app, you would need to check the security of tokens. Steps would involve:</p>\n<ol>\n<li>User enter u/p and desktop app sends a login request to get a JWT token.</li>\n<li>Send this token via an interceptor in HTTP headers so you would validate the user in SpringBoot service app.</li>\n<li>When user logs out, keep the token if it is not expired, so if the user logs in back use the token again (<strong>keeping tokens would be a security risk so research more on that!</strong>). If not ask u/p and do the step 1-&gt;3 again</li>\n</ol>\n"}],"owner":{"account_id":11873206,"reputation":27,"user_id":18196516,"display_name":"Robert hause"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71114950,"answer_count":1,"score":0,"last_activity_date":1644855312,"creation_date":1644850127,"question_id":71113741,"body_markdown":"I have a desktop java application, a MySQL database and a spring boot server. Users log in through the desktop application and verifies the user through the database separate from the server.\r\n\r\nBut after it verifies the user I want it to log  the user into the server, and be able to log out the user when they log out of the program.\r\n\r\nI have connected the application to the server and able to send GET and POST requests. I have looked around the internet and stack overflow however I can&#39;t see any answer or resources that can help. The only sort of solution I saw was using a repository to store logged in users and to remove them when they log out.\r\n\r\nHow would I log users into the server and log them out?","title":"How to log in and out a user from a spring boot server?","body":"<p>I have a desktop java application, a MySQL database and a spring boot server. Users log in through the desktop application and verifies the user through the database separate from the server.</p>\n<p>But after it verifies the user I want it to log  the user into the server, and be able to log out the user when they log out of the program.</p>\n<p>I have connected the application to the server and able to send GET and POST requests. I have looked around the internet and stack overflow however I can't see any answer or resources that can help. The only sort of solution I saw was using a repository to store logged in users and to remove them when they log out.</p>\n<p>How would I log users into the server and log them out?</p>\n"},{"tags":["java","selenium-chromedriver","cucumber"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644855296,"post_id":71086245,"comment_id":125710112,"body_markdown":"Why are you using Spring Beans to create the Chrome Driver. Have you tried using the recommended steps in Cucumber tutorials?","body":"Why are you using Spring Beans to create the Chrome Driver. Have you tried using the recommended steps in Cucumber tutorials?"},{"owner":{"account_id":24229589,"reputation":1,"user_id":18183541,"display_name":"CheckOnMochi"},"score":0,"creation_date":1644858221,"post_id":71086245,"comment_id":125711243,"body_markdown":"This is just the repository that I downloaded. If you can, may you please send me a link to a cucumber tutorial that demonstrates how to set it up? Thank You","body":"This is just the repository that I downloaded. If you can, may you please send me a link to a cucumber tutorial that demonstrates how to set it up? Thank You"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644858328,"post_id":71086245,"comment_id":125711282,"body_markdown":"https://cucumber.io/docs/guides/10-minute-tutorial/","body":"<a href=\"https://cucumber.io/docs/guides/10-minute-tutorial/\" rel=\"nofollow noreferrer\">cucumber.io/docs/guides/10-minute-tutorial</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644858441,"post_id":71086245,"comment_id":125711316,"body_markdown":"When learning a new technology, it is always best to go directly to the source to learn the basics.","body":"When learning a new technology, it is always best to go directly to the source to learn the basics."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645033319,"post_id":71086245,"comment_id":125765118,"body_markdown":"Eric, did the tutorial work for you or do you still need help resolving this issue?","body":"Eric, did the tutorial work for you or do you still need help resolving this issue?"},{"owner":{"account_id":24229589,"reputation":1,"user_id":18183541,"display_name":"CheckOnMochi"},"score":1,"creation_date":1645127933,"post_id":71086245,"comment_id":125795352,"body_markdown":"It was actually because of my ~/.bashrc fiile. In my Pom.xml file: the environment variable for chromedriver was named something different from what I had defined in my ~/.bashrc file.I was able to get it up and running. Thank You for your help.","body":"It was actually because of my ~/.bashrc fiile. In my Pom.xml file: the environment variable for chromedriver was named something different from what I had defined in my ~/.bashrc file.I was able to get it up and running. Thank You for your help."}],"owner":{"account_id":24229589,"reputation":1,"user_id":18183541,"display_name":"CheckOnMochi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644855173,"creation_date":1644611579,"question_id":71086245,"body_markdown":"I am running a Cucumber Java project in Intellij on Ubuntu 16.04. I have installed the latest version of Chromedriver and Chrome. Does anybody know how to fix this error?\r\n```\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method &#39;driver&#39; threw exception; nested exception is java.lang.IllegalStateException: The driver executable does not exist:\r\n```","title":"Cucumber java Chromedriver not being found","body":"<p>I am running a Cucumber Java project in Intellij on Ubuntu 16.04. I have installed the latest version of Chromedriver and Chrome. Does anybody know how to fix this error?</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method 'driver' threw exception; nested exception is java.lang.IllegalStateException: The driver executable does not exist:\n</code></pre>\n"},{"tags":["java","spring","localhost"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644860106,"post_id":71114673,"comment_id":125711932,"body_markdown":"How can we tell you what&#39;s wrong with your code without looking at **_your code_**? Please post minimal, reproducible code so that we could provide objective answers rather than resort to guessing.","body":"How can we tell you what&#39;s wrong with your code without looking at <b><i>your code</i></b>? Please post minimal, reproducible code so that we could provide objective answers rather than resort to guessing."}],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644854915,"creation_date":1644854915,"answer_id":71114842,"question_id":71114673,"body_markdown":"I assume this is spring boot and you are using `spring-boot-starter-security` along with `spring-boot-starter-web`, by default you will be redirected to this security page. To login you can use `user` as the username and the password will be printed in your console \r\n\r\n```\r\nINFO  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration.getOrDeducePassword -\r\n\r\nUsing generated security password: \r\n```\r\n\r\nSee here how to disable the login: https://stackoverflow.com/questions/23636368/how-to-disable-spring-security-login-screen","title":"Random login field in localhost:8080","body":"<p>I assume this is spring boot and you are using <code>spring-boot-starter-security</code> along with <code>spring-boot-starter-web</code>, by default you will be redirected to this security page. To login you can use <code>user</code> as the username and the password will be printed in your console</p>\n<pre><code>INFO  org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration.getOrDeducePassword -\n\nUsing generated security password: \n</code></pre>\n<p>See here how to disable the login: <a href=\"https://stackoverflow.com/questions/23636368/how-to-disable-spring-security-login-screen\">How to disable spring-security login screen?</a></p>\n"}],"owner":{"account_id":23241875,"reputation":17,"user_id":17331052,"display_name":"kooliobrb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71114842,"answer_count":1,"score":0,"last_activity_date":1644854915,"creation_date":1644854194,"question_id":71114673,"body_markdown":"I am building a Spring project, and when I run it, in browser at localhost:8080 I get this random Login field. How do I get rid of this? I have no html,css/front-end written whatsoever. When I try to go to my addresses like /all, it just redirects me to /login\r\n\r\n[Login field][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W1wst.jpg","title":"Random login field in localhost:8080","body":"<p>I am building a Spring project, and when I run it, in browser at localhost:8080 I get this random Login field. How do I get rid of this? I have no html,css/front-end written whatsoever. When I try to go to my addresses like /all, it just redirects me to /login</p>\n<p><a href=\"https://i.stack.imgur.com/W1wst.jpg\" rel=\"nofollow noreferrer\">Login field</a></p>\n"},{"tags":["java","algorithm","sorting","junit","template-method-pattern"],"owner":{"account_id":24169872,"reputation":11,"user_id":18132094,"display_name":"maz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644854862,"creation_date":1644854428,"question_id":71114732,"body_markdown":"I am writing template method pattern for Sorting (`SelectionSort`, `InsertionSort` and `QuickSort`). I wrote `SelectionSort` interface, following by its implementation (`SelectionSortImpl`) and then its unit tests with JUnit (`SelectionSortImplTest`). \r\n\r\nAs a next step, I refactored to extract template method. I put the only `sort()` method from `SelectionSort` interface, put it in a new interface `AbstractSort`, implemented its abstract class namely `AbstractSortImpl`. \r\n\r\nNow, I realize that the `SelectionSortImplTest` contains unit tests which would be common to all implementations (`SelectionSort`, `InsertionSort`, and `QuickSort`). I want to refactor `SelectionSortImplTest`, such that it becomes `AbstractSortImpl`. The idea is to change only one line of code in my `@BeforeEach` setup from the type of sorting technique (such as from `SelectionSortImpl` to `InsertionSortImpl`). \r\n\r\nHow can I do this? \r\n\r\nFollowing my code:\r\n\r\n```java\r\npackage algorithms.sorting;\r\n\r\npublic interface AbstractSort {\r\n    void sort(int[] arr);\r\n}\r\n```\r\n\r\n```java\r\npackage algorithms.sorting;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic abstract class AbstractSortImpl implements AbstractSort {\r\n    protected int[] inputArr;\r\n\r\n    @Override\r\n    public final void sort(int[] arr) {\r\n        this.inputArr = arr;\r\n        sort();\r\n    }\r\n\r\n    protected abstract void sort();\r\n\r\n\r\n    protected final void swap(int i, int j) {\r\n        int temp = inputArr[i];\r\n        inputArr[i] = inputArr[j];\r\n        inputArr[j] = temp;\r\n    }\r\n\r\n    public static void printArray(int[] arrToPrint) {\r\n        System.out.println(Arrays.toString(arrToPrint));\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage algorithms.sorting;\r\n\r\npublic class SelectionSortImpl extends AbstractSortImpl {\r\n\r\n    @Override\r\n    protected void sort() {\r\n        int minValueIndex;\r\n\r\n        for(int candidateIndex = 0; candidateIndex &lt; inputArr.length - 1; candidateIndex++) {\r\n            minValueIndex = findMinValueIndex(candidateIndex);\r\n            swap(candidateIndex, minValueIndex);\r\n        }\r\n    }\r\n\r\n    private int findMinValueIndex(int index) {\r\n        int minValueIndex = index;\r\n\r\n        for (int indexer = index; indexer &lt; inputArr.length; indexer++) {\r\n            if (inputArr[indexer] &lt; inputArr[minValueIndex]) {\r\n                minValueIndex = indexer;\r\n            }\r\n        }\r\n        \r\n        return minValueIndex;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage algorithms.sorting;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\nclass SelectionSortImplTest {\r\n\r\n    public static final int NO_OF_ENTRIES = 10;\r\n    private int[] uut;\r\n    private SelectionSortImpl selectionSort;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        selectionSort = new SelectionSortImpl();\r\n    }\r\n\r\n    @Test\r\n    public void sort_EMPTY() {\r\n        uut = generateRandomArray(0);\r\n\r\n        runTest();\r\n    }\r\n\r\n    @Test\r\n    public void sort_NON_EMPTY_UNSORTED() {\r\n        uut = generateRandomArray(NO_OF_ENTRIES);\r\n\r\n        runTest();\r\n\r\n    }\r\n\r\n    private void runTest() {\r\n        int expected, actual;\r\n\r\n        // Test preparation\r\n        expected = 0;\r\n        int[] copiedUut = new int[uut.length];\r\n        System.arraycopy(uut, 0, copiedUut, 0, uut.length);\r\n        Arrays.sort(copiedUut);\r\n\r\n        // Actual method execution\r\n        selectionSort.sort(uut);\r\n        actual = Arrays.compare(copiedUut, uut);\r\n\r\n        // Verification\r\n        SelectionSortImpl.printArray(uut);\r\n        SelectionSortImpl.printArray(copiedUut);\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n\r\n    private int[] generateRandomArray(int noOfEntries) {\r\n        return new Random().ints(0,350).limit(noOfEntries).toArray();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void sort_NON_EMPTY_SORTED() {\r\n        uut = generateRandomArray(NO_OF_ENTRIES);\r\n        Arrays.sort(uut);\r\n\r\n        runTest();\r\n    }\r\n\r\n    @Test\r\n    public void sort_NON_EMPTY_UNSORTED_DESCENDING() {\r\n        uut = generateRandomArray(NO_OF_ENTRIES);\r\n        Arrays.sort(new int[][]{uut}, Collections.reverseOrder());\r\n\r\n        runTest();\r\n\r\n    }\r\n\r\n    @Test\r\n    public void sort_ONE_ELEMENT_ONLY() {\r\n        uut = generateRandomArray(1);\r\n\r\n        runTest();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nPS: It is clear to me that I could manually go on the change lines `private SelectionSortImpl selectionSort;` and `selectionSort = new SelectionSortImpl();` to `AbstractSortImpl sorter;` and `sorter = new InsertionSortImpl();` respectively next time I have an implementations for `InsertionSort`. But this would be contrary to the idea of automated testing.","title":"Template Method pattern testing with Java JUnit","body":"<p>I am writing template method pattern for Sorting (<code>SelectionSort</code>, <code>InsertionSort</code> and <code>QuickSort</code>). I wrote <code>SelectionSort</code> interface, following by its implementation (<code>SelectionSortImpl</code>) and then its unit tests with JUnit (<code>SelectionSortImplTest</code>).</p>\n<p>As a next step, I refactored to extract template method. I put the only <code>sort()</code> method from <code>SelectionSort</code> interface, put it in a new interface <code>AbstractSort</code>, implemented its abstract class namely <code>AbstractSortImpl</code>.</p>\n<p>Now, I realize that the <code>SelectionSortImplTest</code> contains unit tests which would be common to all implementations (<code>SelectionSort</code>, <code>InsertionSort</code>, and <code>QuickSort</code>). I want to refactor <code>SelectionSortImplTest</code>, such that it becomes <code>AbstractSortImpl</code>. The idea is to change only one line of code in my <code>@BeforeEach</code> setup from the type of sorting technique (such as from <code>SelectionSortImpl</code> to <code>InsertionSortImpl</code>).</p>\n<p>How can I do this?</p>\n<p>Following my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package algorithms.sorting;\n\npublic interface AbstractSort {\n    void sort(int[] arr);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package algorithms.sorting;\n\nimport java.util.Arrays;\n\npublic abstract class AbstractSortImpl implements AbstractSort {\n    protected int[] inputArr;\n\n    @Override\n    public final void sort(int[] arr) {\n        this.inputArr = arr;\n        sort();\n    }\n\n    protected abstract void sort();\n\n\n    protected final void swap(int i, int j) {\n        int temp = inputArr[i];\n        inputArr[i] = inputArr[j];\n        inputArr[j] = temp;\n    }\n\n    public static void printArray(int[] arrToPrint) {\n        System.out.println(Arrays.toString(arrToPrint));\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package algorithms.sorting;\n\npublic class SelectionSortImpl extends AbstractSortImpl {\n\n    @Override\n    protected void sort() {\n        int minValueIndex;\n\n        for(int candidateIndex = 0; candidateIndex &lt; inputArr.length - 1; candidateIndex++) {\n            minValueIndex = findMinValueIndex(candidateIndex);\n            swap(candidateIndex, minValueIndex);\n        }\n    }\n\n    private int findMinValueIndex(int index) {\n        int minValueIndex = index;\n\n        for (int indexer = index; indexer &lt; inputArr.length; indexer++) {\n            if (inputArr[indexer] &lt; inputArr[minValueIndex]) {\n                minValueIndex = indexer;\n            }\n        }\n        \n        return minValueIndex;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package algorithms.sorting;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Random;\n\nclass SelectionSortImplTest {\n\n    public static final int NO_OF_ENTRIES = 10;\n    private int[] uut;\n    private SelectionSortImpl selectionSort;\n\n    @BeforeEach\n    public void setup() {\n        selectionSort = new SelectionSortImpl();\n    }\n\n    @Test\n    public void sort_EMPTY() {\n        uut = generateRandomArray(0);\n\n        runTest();\n    }\n\n    @Test\n    public void sort_NON_EMPTY_UNSORTED() {\n        uut = generateRandomArray(NO_OF_ENTRIES);\n\n        runTest();\n\n    }\n\n    private void runTest() {\n        int expected, actual;\n\n        // Test preparation\n        expected = 0;\n        int[] copiedUut = new int[uut.length];\n        System.arraycopy(uut, 0, copiedUut, 0, uut.length);\n        Arrays.sort(copiedUut);\n\n        // Actual method execution\n        selectionSort.sort(uut);\n        actual = Arrays.compare(copiedUut, uut);\n\n        // Verification\n        SelectionSortImpl.printArray(uut);\n        SelectionSortImpl.printArray(copiedUut);\n        Assertions.assertEquals(expected, actual);\n    }\n\n    private int[] generateRandomArray(int noOfEntries) {\n        return new Random().ints(0,350).limit(noOfEntries).toArray();\n    }\n\n\n    @Test\n    public void sort_NON_EMPTY_SORTED() {\n        uut = generateRandomArray(NO_OF_ENTRIES);\n        Arrays.sort(uut);\n\n        runTest();\n    }\n\n    @Test\n    public void sort_NON_EMPTY_UNSORTED_DESCENDING() {\n        uut = generateRandomArray(NO_OF_ENTRIES);\n        Arrays.sort(new int[][]{uut}, Collections.reverseOrder());\n\n        runTest();\n\n    }\n\n    @Test\n    public void sort_ONE_ELEMENT_ONLY() {\n        uut = generateRandomArray(1);\n\n        runTest();\n    }\n}\n\n</code></pre>\n<p>PS: It is clear to me that I could manually go on the change lines <code>private SelectionSortImpl selectionSort;</code> and <code>selectionSort = new SelectionSortImpl();</code> to <code>AbstractSortImpl sorter;</code> and <code>sorter = new InsertionSortImpl();</code> respectively next time I have an implementations for <code>InsertionSort</code>. But this would be contrary to the idea of automated testing.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":4,"creation_date":1597096640,"post_id":63348430,"comment_id":112017432,"body_markdown":"Does this answer your question? [Recompile with -Xlint in Android studio](https://stackoverflow.com/questions/47740812/recompile-with-xlint-in-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47740812/recompile-with-xlint-in-android-studio\">Recompile with -Xlint in Android studio</a>"}],"answers":[{"tags":[],"owner":{"account_id":11917109,"reputation":225,"user_id":8720748,"display_name":"nkhar"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1644854752,"creation_date":1597096945,"answer_id":63348612,"question_id":63348430,"body_markdown":"Let&#39;s go step by step over your problem.\r\n\r\n1. Deprecated means that in the future this method will no longer be supported. There might be a new method that you should use instead. This method might not be in your code but in one of the libraries that you use. \r\n\r\n2. Linting is process of checking in this case some additional non vital errors https://en.wikipedia.org/wiki/Lint_(software). \r\n\r\n3. Here are some previous questions about this topic\r\nhttps://stackoverflow.com/questions/49711773/how-to-recompile-with-xlintdeprecation\r\nhttps://stackoverflow.com/questions/18689365/how-to-add-xlintunchecked-to-my-android-gradle-based-project\r\nhttps://stackoverflow.com/questions/51109810/note-recompile-with-xlintdeprecation-for-details\r\n\r\nAlso of interest might be\r\nhttps://stackoverflow.com/questions/49809306/how-to-show-the-compile-errors-details-on-android-studio\r\nhttps://stackoverflow.com/questions/16633956/android-studio-where-is-the-compiler-error-output-window\r\nhttps://developer.android.com/studio/write/lint\r\n\r\nGradle is build tool which does all the steps required to build an app for you. Compiling checking lints merging etc. \r\n\r\nThis might seem like a lot but don&#39;t give up do it bit by bit. If your application is running then you can simply ignore this problem.","title":"android studio uses or overrides a deprecated API","body":"<p>Let's go step by step over your problem.</p>\n<ol>\n<li><p>Deprecated means that in the future this method will no longer be supported. There might be a new method that you should use instead. This method might not be in your code but in one of the libraries that you use.</p>\n</li>\n<li><p>Linting is process of checking in this case some additional non vital errors <a href=\"https://en.wikipedia.org/wiki/Lint_(software)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Lint_(software)</a>.</p>\n</li>\n<li><p>Here are some previous questions about this topic\n<a href=\"https://stackoverflow.com/questions/49711773/how-to-recompile-with-xlintdeprecation\">How to recompile with -Xlint:deprecation</a>\n<a href=\"https://stackoverflow.com/questions/18689365/how-to-add-xlintunchecked-to-my-android-gradle-based-project\">How to add -Xlint:unchecked to my Android Gradle based project?</a>\n<a href=\"https://stackoverflow.com/questions/51109810/note-recompile-with-xlintdeprecation-for-details\">Note: Recompile with -Xlint:deprecation for details</a></p>\n</li>\n</ol>\n<p>Also of interest might be\n<a href=\"https://stackoverflow.com/questions/49809306/how-to-show-the-compile-errors-details-on-android-studio\">How to show the compile error&#39;s details on Android Studio?</a>\n<a href=\"https://stackoverflow.com/questions/16633956/android-studio-where-is-the-compiler-error-output-window\">Android Studio: Where is the Compiler Error Output Window?</a>\n<a href=\"https://developer.android.com/studio/write/lint\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/lint</a></p>\n<p>Gradle is build tool which does all the steps required to build an app for you. Compiling checking lints merging etc.</p>\n<p>This might seem like a lot but don't give up do it bit by bit. If your application is running then you can simply ignore this problem.</p>\n"}],"owner":{"account_id":19265317,"reputation":103,"user_id":14080389,"display_name":"Ryze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13177,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1597123885,"accepted_answer_id":63348612,"answer_count":1,"score":5,"last_activity_date":1644854752,"creation_date":1597095901,"question_id":63348430,"body_markdown":"hi everyone i just start make an app and that error show up &quot;&quot; uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details. &quot;&quot; what that mean and how can i recompile with -Xlint\r\n\r\n\r\nmy code \r\n\r\n            import androidx.appcompat.app.AppCompatActivity;\r\n            import android.content.Intent;\r\n            import android.os.Bundle;\r\n            import android.os.Handler;\r\n            public class StartActivity extends AppCompatActivity {\r\n            private static int timeOut = 1800;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_start);\r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Intent i = new Intent(StartActivity.this, MainActivity.class);\r\n                    startActivity(i);\r\n                    finish();\r\n    \r\n                }\r\n            }, timeOut);\r\n        }\r\n    }","title":"android studio uses or overrides a deprecated API","body":"<p>hi everyone i just start make an app and that error show up &quot;&quot; uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details. &quot;&quot; what that mean and how can i recompile with -Xlint</p>\n<p>my code</p>\n<pre><code>        import androidx.appcompat.app.AppCompatActivity;\n        import android.content.Intent;\n        import android.os.Bundle;\n        import android.os.Handler;\n        public class StartActivity extends AppCompatActivity {\n        private static int timeOut = 1800;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_start);\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent i = new Intent(StartActivity.this, MainActivity.class);\n                startActivity(i);\n                finish();\n\n            }\n        }, timeOut);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate-validator","bean-validation"],"comments":[{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1380525318,"post_id":4512826,"comment_id":28218957,"body_markdown":"Another reason why I think this API is flawed","body":"Another reason why I think this API is flawed"},{"owner":{"account_id":155182,"reputation":2011,"user_id":371653,"display_name":"Julien May"},"score":2,"creation_date":1479810067,"post_id":4512826,"comment_id":68704359,"body_markdown":"just for completeness, this was answered here: http://stackoverflow.com/questions/26544588/hibernate-validator-to-validate-constraints-if-constraintvalidated-by","body":"just for completeness, this was answered here: <a href=\"http://stackoverflow.com/questions/26544588/hibernate-validator-to-validate-constraints-if-constraintvalidated-by\" title=\"hibernate validator to validate constraints if constraintvalidated by\">stackoverflow.com/questions/26544588/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1293046888,"creation_date":1293046437,"answer_id":4512966,"question_id":4512826,"body_markdown":"Those built-in are treated in special implementation-specific way and their validators are configured programmatically.\r\n\r\nFor Hibernate Validator it&#39;s done in [`ConstraintHelper.java`][1]. I think you can&#39;t achieve the same for your custom constraints.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-validator/blob/master/hibernate-validator/src/main/java/org/hibernate/validator/metadata/ConstraintHelper.java","title":"Empty validatedBy in @Constraint","body":"<p>Those built-in are treated in special implementation-specific way and their validators are configured programmatically.</p>\n\n<p>For Hibernate Validator it's done in <a href=\"https://github.com/hibernate/hibernate-validator/blob/master/hibernate-validator/src/main/java/org/hibernate/validator/metadata/ConstraintHelper.java\" rel=\"noreferrer\"><code>ConstraintHelper.java</code></a>. I think you can't achieve the same for your custom constraints.</p>\n"},{"tags":[],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370486615,"creation_date":1370486303,"answer_id":16952881,"question_id":4512826,"body_markdown":"Maybe have a look at this answer:\r\n\r\nhttps://stackoverflow.com/questions/11720726/how-to-avoid-cross-dependency-between-layers-because-of-constraint-validatedby\r\n\r\nAnd those two links:\r\n\r\nAdding constraints programmatically:\r\nhttp://docs.jboss.org/hibernate/stable/validator/reference/en-US/html/validator-specifics.html#section-programmatic-api\r\n\r\nAdding constraints per xml:\r\nhttp://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-xmlconfiguration.html","title":"Empty validatedBy in @Constraint","body":"<p>Maybe have a look at this answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11720726/how-to-avoid-cross-dependency-between-layers-because-of-constraint-validatedby\">How to avoid cross dependency between layers because of @Constraint validatedBy?</a></p>\n\n<p>And those two links:</p>\n\n<p>Adding constraints programmatically:\n<a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html/validator-specifics.html#section-programmatic-api\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html/validator-specifics.html#section-programmatic-api</a></p>\n\n<p>Adding constraints per xml:\n<a href=\"http://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-xmlconfiguration.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/validator/4.1/reference/en-US/html/validator-xmlconfiguration.html</a></p>\n"},{"tags":[],"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644854693,"creation_date":1644854693,"answer_id":71114792,"question_id":4512826,"body_markdown":"Nowadays there are [several methods][1] to decouple the interface with the constraint definition and the validator, so you can have them in different layers and leave the *validatedBy* attribute empty. One of the simplest is using [Hibernate ServiceLoader][2] adding the validator classes in a `/META-INF/services/javax.validation.ConstraintValidator` file in resources folder (changed to `jakarta.validation.ConstraintValidator` with Hibernate 7).\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-constraint-definition-contribution\r\n  [2]: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_constraint_definitions_via_code_serviceloader_code","title":"Empty validatedBy in @Constraint","body":"<p>Nowadays there are <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-constraint-definition-contribution\" rel=\"nofollow noreferrer\">several methods</a> to decouple the interface with the constraint definition and the validator, so you can have them in different layers and leave the <em>validatedBy</em> attribute empty. One of the simplest is using <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#_constraint_definitions_via_code_serviceloader_code\" rel=\"nofollow noreferrer\">Hibernate ServiceLoader</a> adding the validator classes in a <code>/META-INF/services/javax.validation.ConstraintValidator</code> file in resources folder (changed to <code>jakarta.validation.ConstraintValidator</code> with Hibernate 7).</p>\n"}],"owner":{"account_id":176500,"reputation":11736,"user_id":407236,"accept_rate":94,"display_name":"Tom Tucker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7664,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":4512966,"answer_count":3,"score":23,"last_activity_date":1644854693,"creation_date":1293045493,"question_id":4512826,"body_markdown":"I noticed that all built-in constraints have an empty value for the `validatedBy` parameter in `@Constraint`. i.e. `@Constraint(validatedBy = {})`\r\n\r\nFirst, why are they allowed to have an empty value for `validatedBy`? I thought you can leave it blank only for constraint composition that does not need addtional validation?\r\n\r\nAlso, note that the Hibernate Validator can still find a validator implementation class for each built-in constraint, despite the `validatedBy` is empty, but if I leave the validatedBy blank for my constraint, my custom validator never gets picked up. Why is that?\r\n\r\nThanks.","title":"Empty validatedBy in @Constraint","body":"<p>I noticed that all built-in constraints have an empty value for the <code>validatedBy</code> parameter in <code>@Constraint</code>. i.e. <code>@Constraint(validatedBy = {})</code></p>\n\n<p>First, why are they allowed to have an empty value for <code>validatedBy</code>? I thought you can leave it blank only for constraint composition that does not need addtional validation?</p>\n\n<p>Also, note that the Hibernate Validator can still find a validator implementation class for each built-in constraint, despite the <code>validatedBy</code> is empty, but if I leave the validatedBy blank for my constraint, my custom validator never gets picked up. Why is that?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","tensorflow","onnx","onnxruntime","tf2onnx"],"answers":[{"tags":[],"owner":{"account_id":2609372,"reputation":36,"user_id":18205413,"display_name":"Adam Pocock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644854285,"creation_date":1644854285,"answer_id":71114698,"question_id":70976707,"body_markdown":"The solution you propose in your update is correct, you need to compile the ONNX Runtime extension package from source to get the dll/so/dylib, and then you can load that into ONNX Runtime in Java using the session options. The Python whl doesn&#39;t distribute the binary in a format that can be loaded outside of Python, so compiling from source is the only option. I wrote the ONNX Runtime Java API, so if this approach fails open an issue on Github and we&#39;ll fix it.","title":"ONNX with custom ops from TensorFlow in Java","body":"<p>The solution you propose in your update is correct, you need to compile the ONNX Runtime extension package from source to get the dll/so/dylib, and then you can load that into ONNX Runtime in Java using the session options. The Python whl doesn't distribute the binary in a format that can be loaded outside of Python, so compiling from source is the only option. I wrote the ONNX Runtime Java API, so if this approach fails open an issue on Github and we'll fix it.</p>\n"}],"owner":{"account_id":22994316,"reputation":58,"user_id":17119340,"display_name":"nf3lix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71114698,"answer_count":1,"score":4,"last_activity_date":1644854285,"creation_date":1643914057,"question_id":70976707,"body_markdown":"in order to make use of Machine Learning in Java, I&#39;m trying to train a model in TensorFlow, save it as ONNX file and then use the file for inference in Java. While this works fine with simple models, it&#39;s getting more complicated using pre-processing layers, as they seem to depend on custom operators. \r\n\r\nhttps://www.tensorflow.org/tutorials/keras/text_classification\r\n\r\nAs an example, this Colab deals with text classification and uses an TextVectorization layer this way:\r\n\r\n\r\n```python\r\n@tf.keras.utils.register_keras_serializable()\r\ndef custom_standardization2(input_data):\r\n    lowercase = tf.strings.lower(input_data)\r\n    stripped_html = tf.strings.regex_replace(lowercase, &#39;&lt;br /&gt;&#39;,&#39; &#39;)\r\n    return tf.strings.regex_replace(stripped_html, &#39;[%s]&#39; % re.escape(string.punctuation), &#39;&#39;)\r\n\r\n\r\nvectorize_layer = layers.TextVectorization(\r\n    standardize=custom_standardization2,\r\n    max_tokens=max_features,\r\n    output_mode=&#39;int&#39;,\r\n    output_sequence_length=sequence_length\r\n)\r\n```\r\nIt is used as pre-processing layer in the compiled model:\r\n```python\r\nexport_model = tf.keras.Sequential([\r\n    vectorize_layer,\r\n    model,\r\n    layers.Activation(&#39;sigmoid&#39;)\r\n])\r\n\r\nexport_model.compile(loss=losses.BinaryCrossentropy(from_logits=False), optimizer=&quot;adam&quot;, metrics=[&#39;accuracy&#39;])\r\n```\r\n\r\n\r\nIn order to create the ONNX file I save the model as protobuf and then convert it to ONNX:\r\n```python\r\nexport_model.save(&quot;saved_model&quot;)\r\n```\r\n`python -m tf2onnx.convert --saved-model saved_model --output saved_model.onnx --extra_opset ai.onnx.contrib:1 --opset 11`\r\n\r\n\r\nUsing [onnxruntime-extensions][1] it is now possible to register the custom ops and to run the model in Python for inference.\r\n```python\r\nimport onnxruntime\r\nfrom onnxruntime import InferenceSession\r\nfrom onnxruntime_extensions import get_library_path\r\n\r\nso = onnxruntime.SessionOptions()\r\nso.register_custom_ops_library(get_library_path())\r\n\r\nsession = InferenceSession(&#39;saved_model.onnx&#39;, so)\r\nres = session.run(None, { &#39;text_vectorization_2_input&#39;: example_new })\r\n```\r\n\r\nThis raises the question if it&#39;s possible to use the same model in Java in a similar way. Onnxruntime for Java does have a [SessionOptions#registerCustomOpLibrary][2] function, so I thought of something like this:\r\n```java\r\nOrtEnvironment env = OrtEnvironment.getEnvironment();\r\nOrtSession.SessionOptions options = new OrtSession.SessionOptions();\r\noptions.registerCustomOpLibrary(&quot;&quot;); // reference the library\r\nOrtSession session = env.createSession(&quot;...&quot;, options);\r\n```\r\n\r\nDoes anyone have an idea if the use case described is feasable or how to use models with pre-processing layers in Java (without using TensorFlow Java)?\r\n\r\n**UPDATE:**\r\nSpotted a potential solution. If I understand the comments in [this GitHub Issue][3] correctly, one possibility is to build the [ONNXRuntime Extensions package][1] from source (see [this explanation][4]) and reference the generated library file by calling `registerCustomOpLibrary` in the ONNX Runtime Library for Java. However, as I have no experience with tools like cmake this might become a challenge for me.\r\n\r\n\r\n  [1]: https://github.com/microsoft/onnxruntime-extensions\r\n  [2]: https://github.com/microsoft/onnxruntime/blob/239c6ad3f021ff7cc2e6247eb074bd4208dc11e2/java/src/main/java/ai/onnxruntime/OrtSession.java#L693\r\n  [3]: https://github.com/onnx/tensorflow-onnx/issues/1500\r\n  [4]: https://github.com/microsoft/onnxruntime-extensions#build-and-development","title":"ONNX with custom ops from TensorFlow in Java","body":"<p>in order to make use of Machine Learning in Java, I'm trying to train a model in TensorFlow, save it as ONNX file and then use the file for inference in Java. While this works fine with simple models, it's getting more complicated using pre-processing layers, as they seem to depend on custom operators.</p>\n<p><a href=\"https://www.tensorflow.org/tutorials/keras/text_classification\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/keras/text_classification</a></p>\n<p>As an example, this Colab deals with text classification and uses an TextVectorization layer this way:</p>\n<pre class=\"lang-py prettyprint-override\"><code>@tf.keras.utils.register_keras_serializable()\ndef custom_standardization2(input_data):\n    lowercase = tf.strings.lower(input_data)\n    stripped_html = tf.strings.regex_replace(lowercase, '&lt;br /&gt;',' ')\n    return tf.strings.regex_replace(stripped_html, '[%s]' % re.escape(string.punctuation), '')\n\n\nvectorize_layer = layers.TextVectorization(\n    standardize=custom_standardization2,\n    max_tokens=max_features,\n    output_mode='int',\n    output_sequence_length=sequence_length\n)\n</code></pre>\n<p>It is used as pre-processing layer in the compiled model:</p>\n<pre class=\"lang-py prettyprint-override\"><code>export_model = tf.keras.Sequential([\n    vectorize_layer,\n    model,\n    layers.Activation('sigmoid')\n])\n\nexport_model.compile(loss=losses.BinaryCrossentropy(from_logits=False), optimizer=&quot;adam&quot;, metrics=['accuracy'])\n</code></pre>\n<p>In order to create the ONNX file I save the model as protobuf and then convert it to ONNX:</p>\n<pre class=\"lang-py prettyprint-override\"><code>export_model.save(&quot;saved_model&quot;)\n</code></pre>\n<p><code>python -m tf2onnx.convert --saved-model saved_model --output saved_model.onnx --extra_opset ai.onnx.contrib:1 --opset 11</code></p>\n<p>Using <a href=\"https://github.com/microsoft/onnxruntime-extensions\" rel=\"nofollow noreferrer\">onnxruntime-extensions</a> it is now possible to register the custom ops and to run the model in Python for inference.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import onnxruntime\nfrom onnxruntime import InferenceSession\nfrom onnxruntime_extensions import get_library_path\n\nso = onnxruntime.SessionOptions()\nso.register_custom_ops_library(get_library_path())\n\nsession = InferenceSession('saved_model.onnx', so)\nres = session.run(None, { 'text_vectorization_2_input': example_new })\n</code></pre>\n<p>This raises the question if it's possible to use the same model in Java in a similar way. Onnxruntime for Java does have a <a href=\"https://github.com/microsoft/onnxruntime/blob/239c6ad3f021ff7cc2e6247eb074bd4208dc11e2/java/src/main/java/ai/onnxruntime/OrtSession.java#L693\" rel=\"nofollow noreferrer\">SessionOptions#registerCustomOpLibrary</a> function, so I thought of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OrtEnvironment env = OrtEnvironment.getEnvironment();\nOrtSession.SessionOptions options = new OrtSession.SessionOptions();\noptions.registerCustomOpLibrary(&quot;&quot;); // reference the library\nOrtSession session = env.createSession(&quot;...&quot;, options);\n</code></pre>\n<p>Does anyone have an idea if the use case described is feasable or how to use models with pre-processing layers in Java (without using TensorFlow Java)?</p>\n<p><strong>UPDATE:</strong>\nSpotted a potential solution. If I understand the comments in <a href=\"https://github.com/onnx/tensorflow-onnx/issues/1500\" rel=\"nofollow noreferrer\">this GitHub Issue</a> correctly, one possibility is to build the <a href=\"https://github.com/microsoft/onnxruntime-extensions\" rel=\"nofollow noreferrer\">ONNXRuntime Extensions package</a> from source (see <a href=\"https://github.com/microsoft/onnxruntime-extensions#build-and-development\" rel=\"nofollow noreferrer\">this explanation</a>) and reference the generated library file by calling <code>registerCustomOpLibrary</code> in the ONNX Runtime Library for Java. However, as I have no experience with tools like cmake this might become a challenge for me.</p>\n"},{"tags":["java","php","string","algorithm"],"comments":[{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":2,"creation_date":1298568902,"post_id":5108248,"comment_id":5726887,"body_markdown":"Do it by sticking together syllables. Build the syllables by sticking together phonemes (or just letters) in pronouncible combinations of consonants and vowels. Profit.","body":"Do it by sticking together syllables. Build the syllables by sticking together phonemes (or just letters) in pronouncible combinations of consonants and vowels. Profit."},{"owner":{"display_name":"Aryabhatta"},"score":1,"creation_date":1298569325,"post_id":5108248,"comment_id":5726989,"body_markdown":"Isn&#39;t this a bit subjective? Easy to remember for whom? I am guessing the problem will solve itself when you try and define what easy to remember means for you...","body":"Isn&#39;t this a bit subjective? Easy to remember for whom? I am guessing the problem will solve itself when you try and define what easy to remember means for you..."},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1298569516,"post_id":5108248,"comment_id":5727027,"body_markdown":"Put voice recognition software up to a toddler and hit record.","body":"Put voice recognition software up to a toddler and hit record."},{"owner":{"account_id":142174,"reputation":8985,"user_id":349708,"accept_rate":71,"display_name":"Eelvex"},"score":0,"creation_date":1298569741,"post_id":5108248,"comment_id":5727087,"body_markdown":"@Moron: it&#39;s not as subjective as you&#39;d think; see links at [Joe](http://stackoverflow.com/questions/5108248/how-to-generate-random-meaningless-but-at-the-same-time-easy-to-remember-words/5108418#5108418)&#39;s asnwer.","body":"@Moron: it&#39;s not as subjective as you&#39;d think; see links at <a href=\"http://stackoverflow.com/questions/5108248/how-to-generate-random-meaningless-but-at-the-same-time-easy-to-remember-words/5108418#5108418\">Joe</a>&#39;s asnwer."},{"owner":{"display_name":"Aryabhatta"},"score":0,"creation_date":1298569819,"post_id":5108248,"comment_id":5727107,"body_markdown":"@Eelvex: What is pronounceable for Chang might not be for Smith. It is subjective and IMO, the main issue to be solved here is defining what easy means...","body":"@Eelvex: What is pronounceable for Chang might not be for Smith. It is subjective and IMO, the main issue to be solved here is defining what easy means..."},{"owner":{"account_id":142174,"reputation":8985,"user_id":349708,"accept_rate":71,"display_name":"Eelvex"},"score":0,"creation_date":1298569945,"post_id":5108248,"comment_id":5727135,"body_markdown":"@Moron: It *is* subjective but not *as* subjective as one would think. Eg: `xzxlzyw` is difficult for 96.5% of people whereas `ana` is easy for the same percentage.","body":"@Moron: It <i>is</i> subjective but not <i>as</i> subjective as one would think. Eg: <code>xzxlzyw</code> is difficult for 96.5% of people whereas <code>ana</code> is easy for the same percentage."},{"owner":{"display_name":"Aryabhatta"},"score":0,"creation_date":1298569989,"post_id":5108248,"comment_id":5727150,"body_markdown":"@Eel: Now where did you pull that ridiculous number from? Anyway, pointless conversation. Please pardon me if I don&#39;t respond.","body":"@Eel: Now where did you pull that ridiculous number from? Anyway, pointless conversation. Please pardon me if I don&#39;t respond."},{"owner":{"account_id":36085,"reputation":1602,"user_id":102694,"accept_rate":79,"display_name":"Aron"},"score":0,"creation_date":1298573560,"post_id":5108248,"comment_id":5728007,"body_markdown":"I have to mention this by way of a caveat...or just amusement value: http://thedailywtf.com/Articles/The-Automated-Curse-Generator.aspx","body":"I have to mention this by way of a caveat...or just amusement value: <a href=\"http://thedailywtf.com/Articles/The-Automated-Curse-Generator.aspx\" rel=\"nofollow noreferrer\">thedailywtf.com/Articles/The-Automated-Curse-Generator.aspx</a>"}],"answers":[{"tags":[],"owner":{"account_id":312888,"reputation":23,"user_id":627227,"display_name":"AdamR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298568931,"creation_date":1298568931,"answer_id":5108317,"question_id":5108248,"body_markdown":"Could you create a string one character at a time and have each character a random value between 97-122 (inclusive). These are the ascii decimal values for the letters a-z (non caps). And then of course convert them to string.\r\n\r\nAlthough, whether or not this would work is based on your definition of &quot;Easy to remember&quot;. They all look pretty hard to remember to me. ","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>Could you create a string one character at a time and have each character a random value between 97-122 (inclusive). These are the ascii decimal values for the letters a-z (non caps). And then of course convert them to string.</p>\n\n<p>Although, whether or not this would work is based on your definition of \"Easy to remember\". They all look pretty hard to remember to me. </p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298569189,"creation_date":1298569189,"answer_id":5108369,"question_id":5108248,"body_markdown":"Back in the days of telegraphs, when communication was charged per-letter, quite a few companies devised codes to encode entire sentences in as few letters as possible. Most of them had the same basic requirement: a collection of letters that was reasonably easy to remember. The usual rule was something like alternation between groups of a vowel and up to two consonants. This would allow (for example) &quot;labdon&quot;, but not &quot;aobldn&quot; (same letters, different order). Almost any sequence you produce following a rule like this ends up reasonably easy to pronounce, so somebody can remember it as essentially a word instead of having to remember all the individual letters.","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>Back in the days of telegraphs, when communication was charged per-letter, quite a few companies devised codes to encode entire sentences in as few letters as possible. Most of them had the same basic requirement: a collection of letters that was reasonably easy to remember. The usual rule was something like alternation between groups of a vowel and up to two consonants. This would allow (for example) \"labdon\", but not \"aobldn\" (same letters, different order). Almost any sequence you produce following a rule like this ends up reasonably easy to pronounce, so somebody can remember it as essentially a word instead of having to remember all the individual letters.</p>\n"},{"tags":[],"owner":{"account_id":142174,"reputation":8985,"user_id":349708,"accept_rate":71,"display_name":"Eelvex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298569429,"creation_date":1298569429,"answer_id":5108409,"question_id":5108248,"body_markdown":"Use a dictionary and choose two words. Split them at a random point and join them.\r\n\r\nExample:\r\n\r\n    IDEA -&gt; IDE\r\n    WITHOUT -&gt; THOUT\r\n    -----------\r\n    IDETHOUT\r\n\r\nfor even better results, control the splitting point (eg first word: split at a vowel, second word: split before a consonant and in a way that resulting syllables = 3).","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>Use a dictionary and choose two words. Split them at a random point and join them.</p>\n\n<p>Example:</p>\n\n<pre><code>IDEA -&gt; IDE\nWITHOUT -&gt; THOUT\n-----------\nIDETHOUT\n</code></pre>\n\n<p>for even better results, control the splitting point (eg first word: split at a vowel, second word: split before a consonant and in a way that resulting syllables = 3).</p>\n"},{"tags":[],"owner":{"account_id":81118,"reputation":3059,"user_id":228939,"accept_rate":71,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1298569485,"creation_date":1298569485,"answer_id":5108418,"question_id":5108248,"body_markdown":"There is a library for generating pronounceable words.  Here is a link to the library: http://www.multicians.org/thvv/gpw.html.  There is a link to the Java source file on that page.  I had found the python library for it first: http://www.preetk.com/node/pygpw-generate-pronouncable-words/","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>There is a library for generating pronounceable words.  Here is a link to the library: <a href=\"http://www.multicians.org/thvv/gpw.html\" rel=\"noreferrer\">http://www.multicians.org/thvv/gpw.html</a>.  There is a link to the Java source file on that page.  I had found the python library for it first: <a href=\"http://www.preetk.com/node/pygpw-generate-pronouncable-words/\" rel=\"noreferrer\">http://www.preetk.com/node/pygpw-generate-pronouncable-words/</a></p>\n"},{"tags":[],"owner":{"account_id":303349,"reputation":462,"user_id":612229,"display_name":"The Dog"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1298573043,"creation_date":1298569652,"answer_id":5108453,"question_id":5108248,"body_markdown":"Here&#39;s a function that generates random words like you are describing.  It doesn&#39;t use the letter &quot;Q&quot; because that one kept making unpronounceable words.\r\n\r\n    &lt;?php\r\n        //generate random consonants separated by vowels\r\n        function generate_faux_word($letters = 5){\r\n            \r\n            //define arrays of consonants and vowels\r\n            //no q, it&#39;s tough to remember\r\n            $consonants = array(&#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;);\r\n            $vowels = array(&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;);\r\n            \r\n            $ret_word = &quot;&quot;;\r\n            $consonant_toggle = true;\r\n            //randomly choose a consonant then a vowel until the word is as long as the parameter\r\n            while(strlen($ret_word) &lt; $letters){\r\n                if ($consonant_toggle){\r\n                    $ret_word .= $consonants[array_rand($consonants)];\r\n                    $consonant_toggle = false;\r\n                }else{\r\n                    $ret_word .= $vowels[array_rand($vowels)];\r\n                    $consonant_toggle = true;\r\n                }\r\n                \r\n            }\r\n           \r\n            return $ret_word;\r\n        }\r\n        \r\n        echo generate_faux_word();\r\n        echo &quot;&lt;br /&gt;&quot;;\r\n        echo generate_faux_word();\r\n        echo &quot;&lt;br /&gt;&quot;;\r\n        echo generate_faux_word(6);\r\n        echo &quot;&lt;br /&gt;&quot;;\r\n        echo generate_faux_word(4);\r\n    \r\n    ?&gt;\r\n\r\nA sample output is:\r\nmuher\r\nsucok\r\nkozive\r\nxaso","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>Here's a function that generates random words like you are describing.  It doesn't use the letter \"Q\" because that one kept making unpronounceable words.</p>\n\n<pre><code>&lt;?php\n    //generate random consonants separated by vowels\n    function generate_faux_word($letters = 5){\n\n        //define arrays of consonants and vowels\n        //no q, it's tough to remember\n        $consonants = array('b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'm', 'n', 'p', 'r', 's', 't', 'v', 'w', 'x', 'y', 'z');\n        $vowels = array('a', 'e', 'i', 'o', 'u');\n\n        $ret_word = \"\";\n        $consonant_toggle = true;\n        //randomly choose a consonant then a vowel until the word is as long as the parameter\n        while(strlen($ret_word) &lt; $letters){\n            if ($consonant_toggle){\n                $ret_word .= $consonants[array_rand($consonants)];\n                $consonant_toggle = false;\n            }else{\n                $ret_word .= $vowels[array_rand($vowels)];\n                $consonant_toggle = true;\n            }\n\n        }\n\n        return $ret_word;\n    }\n\n    echo generate_faux_word();\n    echo \"&lt;br /&gt;\";\n    echo generate_faux_word();\n    echo \"&lt;br /&gt;\";\n    echo generate_faux_word(6);\n    echo \"&lt;br /&gt;\";\n    echo generate_faux_word(4);\n\n?&gt;\n</code></pre>\n\n<p>A sample output is:\nmuher\nsucok\nkozive\nxaso</p>\n"},{"tags":[],"owner":{"account_id":173725,"reputation":1311,"user_id":402606,"accept_rate":95,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298572835,"creation_date":1298572835,"answer_id":5108988,"question_id":5108248,"body_markdown":"Nonsense Word Generator. This was built using several different structures similar to what @Jerry Coffin was talking about. Fun, but not necessarily helpful! http://www.mygengen.com/gengens/view/nonsense-words","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>Nonsense Word Generator. This was built using several different structures similar to what @Jerry Coffin was talking about. Fun, but not necessarily helpful! <a href=\"http://www.mygengen.com/gengens/view/nonsense-words\" rel=\"nofollow\">http://www.mygengen.com/gengens/view/nonsense-words</a></p>\n"},{"tags":[],"owner":{"account_id":5185812,"reputation":333,"user_id":4150241,"display_name":"Owen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496858182,"creation_date":1496858182,"answer_id":44419678,"question_id":5108248,"body_markdown":"# C# #\r\n        private static string RandomWord(int length)\r\n        {\r\n            var consonants = new[] { &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;p&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot; };\r\n            var vowels = new[] { &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot; };\r\n            var word = &quot;&quot;;\r\n            var b = true;\r\n            for (var i = 0; i &lt; length; i++)\r\n            {\r\n                word += b ? consonants[Rng.Next(consonants.Length)] : vowels[Rng.Next(vowels.Length)];\r\n                b = !b;\r\n            }\r\n            return word;\r\n        }","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<h1>C#</h1>\n\n<pre><code>    private static string RandomWord(int length)\n    {\n        var consonants = new[] { \"b\", \"c\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", \"m\", \"n\", \"p\", \"r\", \"s\", \"t\", \"v\", \"w\", \"x\", \"y\", \"z\" };\n        var vowels = new[] { \"a\", \"e\", \"i\", \"o\", \"u\" };\n        var word = \"\";\n        var b = true;\n        for (var i = 0; i &lt; length; i++)\n        {\n            word += b ? consonants[Rng.Next(consonants.Length)] : vowels[Rng.Next(vowels.Length)];\n            b = !b;\n        }\n        return word;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5353525,"reputation":704,"user_id":4266956,"accept_rate":25,"display_name":"FabioDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644854081,"creation_date":1644854081,"answer_id":71114648,"question_id":5108248,"body_markdown":"**JS**\r\n\r\n    function getRandomInt(max) {\r\n      return Math.floor(Math.random() * max);\r\n    }\r\n    \r\n    function generateRandomString(){\r\n      var consonants = [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;p&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];\r\n      var vowels = [&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;]\r\n      var word = &quot;&quot;;\r\n      var b = true;\r\n      for (var i = 0; i &lt; 5; i++) {\r\n        word += b ? consonants[getRandomInt(consonants.length)] : vowels[getRandomInt(vowels.length)];\r\n        b = !b;\r\n      }\r\n      return word;\r\n    }","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p><strong>JS</strong></p>\n<pre><code>function getRandomInt(max) {\n  return Math.floor(Math.random() * max);\n}\n\nfunction generateRandomString(){\n  var consonants = [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;p&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;];\n  var vowels = [&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;]\n  var word = &quot;&quot;;\n  var b = true;\n  for (var i = 0; i &lt; 5; i++) {\n    word += b ? consonants[getRandomInt(consonants.length)] : vowels[getRandomInt(vowels.length)];\n    b = !b;\n  }\n  return word;\n}\n</code></pre>\n"}],"owner":{"account_id":94064,"reputation":1154,"user_id":257031,"accept_rate":76,"display_name":"xchg.ca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4375,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5108453,"answer_count":8,"score":9,"last_activity_date":1644854081,"creation_date":1298568625,"question_id":5108248,"body_markdown":"I need to figure out an algorithm or, even better, if there is an implementation in php/java to generate words which will be suggested to user to choose like some identifiers but I want them to be somewhat easy to remember, eg &#39;wonifuxa&#39;, &#39;thonqi&#39;, &#39;oqriman&#39; and so on but not something like &#39;nxdFgtqI&#39;","title":"How to generate random meaningless, but at the same time easy to remember words?","body":"<p>I need to figure out an algorithm or, even better, if there is an implementation in php/java to generate words which will be suggested to user to choose like some identifiers but I want them to be somewhat easy to remember, eg 'wonifuxa', 'thonqi', 'oqriman' and so on but not something like 'nxdFgtqI'</p>\n"},{"tags":["java","maven","dependencies","grpc","dependency-management"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1644640052,"post_id":71088604,"comment_id":125666518,"body_markdown":"Post your pom.xml","body":"Post your pom.xml"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644671314,"post_id":71088604,"comment_id":125671359,"body_markdown":"Please show your full pom file... I suppose you or an other dependencies / bom is bringing it in...","body":"Please show your full pom file... I suppose you or an other dependencies / bom is bringing it in..."}],"answers":[{"tags":[],"owner":{"account_id":22280938,"reputation":16,"user_id":16509325,"display_name":"wuyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644669699,"creation_date":1644659629,"answer_id":71090787,"question_id":71088604,"body_markdown":"```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xxx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n         &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n         &lt;artifactId&gt;netty-codec-http2&lt;/artifactId&gt;\r\n       &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\nYou need exclusions tag","title":"netty dependency brings old version","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n       &lt;exclusion&gt;\n         &lt;groupId&gt;io.netty&lt;/groupId&gt;\n         &lt;artifactId&gt;netty-codec-http2&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You need exclusions tag</p>\n"},{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644853959,"creation_date":1644853959,"answer_id":71114627,"question_id":71088604,"body_markdown":"Maven does not compare version numbers when choosing a version of a dependency. It simply chooses the first version it encounters when performing a breadth-first search. For this reason, gRPC team strongly [recommends](https://github.com/grpc/grpc-java/blob/1b88065f9a522cf60c7c7824c200cd55201e97a1/examples/pom.xml#L111-L128) using Maven enforcers `requireUpperBoundDeps` to let you _detect_ issues like the one you face:\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;requireUpperBoundDeps/&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nThen, to fix issues there are two approaches:\r\n1. Reorder dependency list or re-define transitive dependencies\r\n2. Use a BOM\r\n\r\n(1) targets the breadth-first search of Maven to have the version you want to be &quot;seen&quot; first by Maven&#39;s search. For example, you could reorder `netty-handler` _before_ `grpc-netty` in your `&lt;dependencies&gt;`, then Maven will encounter it first and choose its direct dependencies before `grpc-netty`&#39;s direct dependencies. When you can&#39;t reorder to resolve issues you can add an explicit dependency on a transitive dependency to explicitly choose its version. For example, you could add `netty-resolver` with version 4.1.51.Final in your `&lt;dependencies&gt;`.\r\n\r\n(2) is for multi-artifact projects like gRPC and Netty, where you really want the versions of the various artifacts to agree. You generally don&#39;t want to use `netty-buffer` 4.1.51.Final with `netty-codec-http2` 4.1.27.Final; you want them the same version. In these cases you can check whether the project has a BOM. Both [gRPC](https://github.com/grpc/grpc-java/blob/1b88065f9a522cf60c7c7824c200cd55201e97a1/examples/pom.xml#L23-L33) and Netty have BOMs. With a BOM you would select the version to use once for all the various artifacts in that project. BOMs are defined in the `&lt;dependencyManagement&gt;` section, which is a separate section than `&lt;dependencies&gt;`.\r\n\r\n```\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.51.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    ...\r\n```\r\n\r\nWhatever you do, don&#39;t exclude. Exclusions cause dependency trouble later because they hide the transitive dependencies. If a newer version of gRPC depends on a _newer_ version of Netty, then you&#39;d end up _downgrading_ Netty. And at that point build tools can no longer detect or manage the problem; you&#39;ll only discover such issues at runtime.\r\n\r\nIt is clear from what you&#39;ve shown that something more is going on in your pom.xml; you really need to share more of your pom to diagnose. But with the other answers telling you to exclude I wanted to show the more appropriate ways of resolving.","title":"netty dependency brings old version","body":"<p>Maven does not compare version numbers when choosing a version of a dependency. It simply chooses the first version it encounters when performing a breadth-first search. For this reason, gRPC team strongly <a href=\"https://github.com/grpc/grpc-java/blob/1b88065f9a522cf60c7c7824c200cd55201e97a1/examples/pom.xml#L111-L128\" rel=\"nofollow noreferrer\">recommends</a> using Maven enforcers <code>requireUpperBoundDeps</code> to let you <em>detect</em> issues like the one you face:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireUpperBoundDeps/&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Then, to fix issues there are two approaches:</p>\n<ol>\n<li>Reorder dependency list or re-define transitive dependencies</li>\n<li>Use a BOM</li>\n</ol>\n<p>(1) targets the breadth-first search of Maven to have the version you want to be &quot;seen&quot; first by Maven's search. For example, you could reorder <code>netty-handler</code> <em>before</em> <code>grpc-netty</code> in your <code>&lt;dependencies&gt;</code>, then Maven will encounter it first and choose its direct dependencies before <code>grpc-netty</code>'s direct dependencies. When you can't reorder to resolve issues you can add an explicit dependency on a transitive dependency to explicitly choose its version. For example, you could add <code>netty-resolver</code> with version 4.1.51.Final in your <code>&lt;dependencies&gt;</code>.</p>\n<p>(2) is for multi-artifact projects like gRPC and Netty, where you really want the versions of the various artifacts to agree. You generally don't want to use <code>netty-buffer</code> 4.1.51.Final with <code>netty-codec-http2</code> 4.1.27.Final; you want them the same version. In these cases you can check whether the project has a BOM. Both <a href=\"https://github.com/grpc/grpc-java/blob/1b88065f9a522cf60c7c7824c200cd55201e97a1/examples/pom.xml#L23-L33\" rel=\"nofollow noreferrer\">gRPC</a> and Netty have BOMs. With a BOM you would select the version to use once for all the various artifacts in that project. BOMs are defined in the <code>&lt;dependencyManagement&gt;</code> section, which is a separate section than <code>&lt;dependencies&gt;</code>.</p>\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-bom&lt;/artifactId&gt;\n        &lt;version&gt;4.1.51.Final&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    ...\n</code></pre>\n<p>Whatever you do, don't exclude. Exclusions cause dependency trouble later because they hide the transitive dependencies. If a newer version of gRPC depends on a <em>newer</em> version of Netty, then you'd end up <em>downgrading</em> Netty. And at that point build tools can no longer detect or manage the problem; you'll only discover such issues at runtime.</p>\n<p>It is clear from what you've shown that something more is going on in your pom.xml; you really need to share more of your pom to diagnose. But with the other answers telling you to exclude I wanted to show the more appropriate ways of resolving.</p>\n"}],"owner":{"account_id":17356580,"reputation":107,"user_id":12573817,"display_name":"Siri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71090787,"answer_count":2,"score":1,"last_activity_date":1644853959,"creation_date":1644634379,"question_id":71088604,"body_markdown":"I am using a recent dependency of grpc-netty.\r\nThe issue is it is bringing older versions of io.netty dependencies (4.1.27)\r\nI looked in the grpc-netty project and the used io.netty dependency version is 4.1.63.\r\nAny idea what can be the reason for having this dependencies bring older versions of transitive dependencies?\r\n[![enter image description here][1]][1]\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QdDhB.png","title":"netty dependency brings old version","body":"<p>I am using a recent dependency of grpc-netty.\nThe issue is it is bringing older versions of io.netty dependencies (4.1.27)\nI looked in the grpc-netty project and the used io.netty dependency version is 4.1.63.\nAny idea what can be the reason for having this dependencies bring older versions of transitive dependencies?\n<a href=\"https://i.stack.imgur.com/QdDhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QdDhB.png\" alt=\"enter image description here\" /></a>\nThank you</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"display_name":"user18126504"},"score":0,"creation_date":1644698024,"post_id":71092475,"comment_id":125677079,"body_markdown":"@phatfingers what is missing in the construction of the tree? I am suppose to only have these method that is included.","body":"@phatfingers what is missing in the construction of the tree? I am suppose to only have these method that is included."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1644715961,"post_id":71092475,"comment_id":125680022,"body_markdown":"I was referring to leavesIsCorrectWhenTreeIsPerfect().  It looks like you moved the closing curly brace down, maybe on accident?  You should have something like, `for(int i = 0; i&lt;n; i++) { tree.insert(i); }`  in a closed loop, then do your assertion check outside that loop.","body":"I was referring to leavesIsCorrectWhenTreeIsPerfect().  It looks like you moved the closing curly brace down, maybe on accident?  You should have something like, <code>for(int i = 0; i&lt;n; i++) { tree.insert(i); }</code>  in a closed loop, then do your assertion check outside that loop."},{"owner":{"display_name":"user18126504"},"score":0,"creation_date":1644779504,"post_id":71092475,"comment_id":125691221,"body_markdown":"@phatfingers I have added a similar ( I think) test that might help. Please look at that","body":"@phatfingers I have added a similar ( I think) test that might help. Please look at that"}],"answers":[{"tags":[],"owner":{"account_id":19806477,"reputation":60,"user_id":14506316,"display_name":"borazan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644853840,"creation_date":1644681220,"answer_id":71093406,"question_id":71092475,"body_markdown":"```\r\nfor(int i = 0; i&gt;=n; i++) {\r\ntree.insert(i);\r\n```\r\n\r\nThe condition of your for loop is always false.","title":"JUNIT test for binary search tree","body":"<pre><code>for(int i = 0; i&gt;=n; i++) {\ntree.insert(i);\n</code></pre>\n<p>The condition of your for loop is always false.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644780277,"creation_date":1644717668,"answer_id":71097337,"question_id":71092475,"body_markdown":"It&#39;s awkward that &quot;n&quot; is used in the instructions to describe a tree with n leaves because &quot;n&quot; is traditionally used to describe your node count.  But picture a tree with 4 nodes at the bottom, then half that for the prior layer, then half again for the first layer, and you have a tree with 1+2+4 nodes, or 7 nodes total, which coincides with the formula 2\\*n-1 (2\\*4-1=7).\r\n\r\n    @Test\r\n    public void leavesIsCorrectWhenTreeIsPerfect() {\r\n        int n=4;\r\n        int[] balanced=new int[] {4,2,6,1,3,5,7};\r\n        for (int i=0; i&lt;balanced.length; i++) {\r\n             tree.insert(balanced[i]);\r\n        }\r\n        int leaves = tree.leaves();\r\n        assertThat(balanced.length,equalTo(2*n-1));\r\n        assertThat(leaves,equalTo(n));\r\n    }","title":"JUNIT test for binary search tree","body":"<p>It's awkward that &quot;n&quot; is used in the instructions to describe a tree with n leaves because &quot;n&quot; is traditionally used to describe your node count.  But picture a tree with 4 nodes at the bottom, then half that for the prior layer, then half again for the first layer, and you have a tree with 1+2+4 nodes, or 7 nodes total, which coincides with the formula 2*n-1 (2*4-1=7).</p>\n<pre><code>@Test\npublic void leavesIsCorrectWhenTreeIsPerfect() {\n    int n=4;\n    int[] balanced=new int[] {4,2,6,1,3,5,7};\n    for (int i=0; i&lt;balanced.length; i++) {\n         tree.insert(balanced[i]);\n    }\n    int leaves = tree.leaves();\n    assertThat(balanced.length,equalTo(2*n-1));\n    assertThat(leaves,equalTo(n));\n}\n</code></pre>\n"}],"owner":{"display_name":"user18126504"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71097337,"answer_count":2,"score":-1,"last_activity_date":1644853840,"creation_date":1644674204,"question_id":71092475,"body_markdown":"I have implemented a binary search tree. Most of my test in JUNIT test is going through, including these two. I have implementedleavesIsCorrectWhenTreeIsPerfect() and insertValuesInAscendingOrderIncrementsHeight(). \r\n\r\nBoth of these test goes through, however i do not know if it is correctly written based on what their description is asking.\r\n\r\n//EDIT: I have added a test that might be a help to one of the test a need help with.\r\n\r\n//TODO: help me understand if I have written the correct code for the test in insertValuesInAscendingOrderIncrementsHeight() and leavesIsCorrectWhenTreeIsPerfect() based on what the description for the test is saying.\r\n\r\nHave in mind, that I have not included all the tests in the test class, Because the goes through with my implementation of the tree.\r\n\r\nDown here I have included my tree class and the test class with both the test I need help with.\r\n\r\n```\r\n/**\r\n * An Binary Search tree implementation.\r\n * @param &lt;T&gt;\r\n */\r\npublic class Tree &lt;T extends Comparable &lt;T&gt;&gt; implements BSTInterface &lt;T&gt;{\r\n    private int size;\r\n    private Node root;\r\n    public class Node{\r\n        private Node Left;\r\n        private Node Right;\r\n        private T data;\r\n\r\n        public Node(T data){\r\n            this.data = data;\r\n        }\r\n        public Node getRight(){\r\n            return Right;\r\n        }\r\n\r\n        public Node getLeft() {\r\n            return Left;\r\n        }\r\n\r\n        public T getData() {\r\n            return data;\r\n        }\r\n    }\r\n    public Tree (){\r\n        size = 0;\r\n        root = null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Test for presence of a value.\r\n     * @param elem\r\n     * @return true/false\r\n     */\r\n    @Override\r\n    public boolean search(T elem) {\r\n        if(root == null ||elem == null){\r\n        return false;\r\n        }\r\n        Node node = root;\r\n        while(true){\r\n            if(node.data.compareTo(elem) &gt; 0){\r\n                if(node.Right == null){\r\n                    return false;\r\n                } else{\r\n                    node = node.Right;\r\n                }\r\n            } else if(node.data.compareTo(elem) == 0){\r\n                break;\r\n            } else{\r\n                if(node.Left== null){\r\n                    return false;\r\n                }\r\n                else{\r\n                    node = node.Left;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add value to tree; duplicates are not allowed.\r\n     * Return true if the element is not already present (and is thus inserted),\r\n     * false otherwise.\r\n     *\r\n     * @param elem\r\n     * @return true/false\r\n     */\r\n    @Override\r\n    public boolean insert(T elem) {\r\n        if (elem == null){\r\n            return false;\r\n        }\r\n        if (root == null){\r\n            root = new Node(elem);\r\n            size++;\r\n            return true;\r\n        }\r\n        Node node = root;\r\n        while (true){\r\n            if (node.data.compareTo(elem) &gt; 0) {\r\n                if (node.Right == null){\r\n                    node.Right = new Node(elem);\r\n                    size++;\r\n                    break;\r\n                } else {\r\n                    node = node.Right;\r\n                }\r\n\r\n            } else if (node.data.compareTo(elem) == 0) {\r\n                return false;\r\n            } else {\r\n                if (node.Left == null){\r\n                    node.Left = new Node(elem);\r\n                    size++;\r\n                    break;\r\n                } else {\r\n                    node = node.Left;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * the number of elements in the tree\r\n     * @return size.\r\n     */\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    /**\r\n     * The height of the tree.\r\n     * The empty tree and the tree with only the root node both have height 0.\r\n     * @return the height of the tree.\r\n     */\r\n    @Override\r\n    public int height() {\r\n        return countHeight(root);\r\n    }\r\n    /**\r\n     * Helper method for height\r\n     */\r\n    private int countHeight(Node node){\r\n        if(node == null) {\r\n            return 0;\r\n        }\r\n        if (node.Left == null &amp;&amp; node.Right == null) {\r\n            return 0;\r\n        }\r\n        return 1 + Math.max(countHeight(node.getLeft()), countHeight(node.getRight()));\r\n    }\r\n\r\n    /**\r\n     * The number of leaves in the tree.\r\n     * @return the amount of leaves the tree has.\r\n     */\r\n    @Override\r\n    public int leaves() {\r\n        return countLeaves(root);\r\n    }\r\n    /**\r\n     * Helper method for leaves\r\n     */\r\n    private int countLeaves(Node node) {\r\n        if (node == null) {\r\n            return 0;\r\n        }\r\n        if (node.Left == null &amp;&amp; node.Right == null) {\r\n            return 1;\r\n        }\r\n        return countLeaves(node.Left) + countLeaves(node.Right);\r\n    }\r\n\r\n\r\n    /**\r\n     * A string describing the tree\r\n     * @return\r\n     */\r\n    public String toString(){\r\n        String str = &quot;[&quot; + helpToString(root);\r\n        if (str.length() &gt; 1) {\r\n            str = str.substring(0, str.length() - 2);\r\n        } return str + &quot;]&quot;;\r\n    }\r\n\r\n    /**\r\n     * Helper method for toString\r\n     */\r\n    private String helpToString(Node node) {\r\n        String str = &quot;&quot;;\r\n        if (node != null) {\r\n            str += helpToString(node.Right);\r\n            str += node.data + &quot;, &quot;;\r\n            str += helpToString(node.Left);\r\n        }\r\n        return str;\r\n      }\r\n}\r\n\r\n\r\n```\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.Before;\r\nimport org.junit.Rule;\r\nimport org.junit.rules.Timeout;\r\nimport static org.junit.Assert.*;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.CoreMatchers.*;\r\nimport java.util.Arrays;\r\nimport java.util.stream.IntStream;\r\n/**\r\n * Test class for a tree.\r\n */\r\npublic class TreeTest{\r\n    @Rule public Timeout globalTimeout = Timeout.seconds(5);\r\n\r\n    Tree&lt;Integer&gt; tree;\r\n    int[] elementsInTree;\r\n    int[] elementsNotInTree;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        /**\r\n         * This tree should look like this:\r\n         *\r\n         *               8\r\n         *             /  \\\r\n         *            3   10\r\n         *           / \\    \\\r\n         *          1   6    14\r\n         *             / \\   /\r\n         *            4   7 13\r\n         */\r\n        tree = new Tree&lt;&gt;();\r\n        elementsInTree = new int[] {8, 10, 14, 13, 3, 1, 6, 4, 7};\r\n        for (int elem : elementsInTree) {\r\n            tree.insert(elem);\r\n        }\r\n        elementsNotInTree = new int[] {34, -3, -10, 12, 74, 5};\r\n    }\r\n @Test\r\n    public void heightIsLogOfNumLeavesTreeIsPerfect() {\r\n        // For a perfect tree, tree.height() == log2(tree.leaves()\r\n\r\n        // Arrange\r\n        Tree&lt;Integer&gt; tree = new Tree&lt;&gt;();\r\n        int[] elements = new int[] {8, 3, 10, 1, 6, 9, 14};\r\n        int numLeaves = 4;\r\n        int logNumLeaves = (int) Math.round(Math.log(numLeaves) / Math.log(2));\r\n        for (int elem : elements) {\r\n            tree.insert(elem);\r\n        }\r\n\r\n        // Act\r\n        int height = tree.height();\r\n        // Assert\r\n        assertThat(height, equalTo(logNumLeaves));\r\n    }\r\n\r\n    @Test\r\n    public void leavesIsCorrectWhenTreeIsPerfect() { //TEST\r\n        // A perfect tree has all leaves at the same depth, and all internal nodes\r\n        // (i.e. non-leaves) have two children\r\n        //\r\n        // This test should assert that a perfect tree with 2*n-1 nodes total,\r\n        // has exactly n leaves (i.e. that Tree.leaves() returns n).\r\n        //\r\n        // An example is the perfect three-node tree from the test above:\r\n        //\r\n        //                        (1338)\r\n        //                        /    \\\r\n        //                    (1337)  (1396)\r\n\r\n        // You have to construct your own tree here, with n &gt;= 4\r\n       \r\n    Tree &lt;Integer&gt; tree = new Tree&lt;&gt;();\r\n       int n = 4;\r\n       for(int i = 0; i&gt;=n; i++) {\r\n           tree.insert(i);\r\n         int numLeaves = 2*n-1;\r\n         int leaves = tree.leaves();\r\n         assertThat(leaves,equalTo(numLeaves));\r\n       }\r\n    }\r\n\r\n    // Tests for insert/height\r\n    @Test\r\n    public void insertValuesInAscendingOrderIncrementsHeight() { //TEST\r\n        // When inserting elements in ascending order, each element is inserted\r\n        // to the right of the deepest node, so the height should increment by\r\n        // 1 for each element inserted.\r\n        Tree &lt;Integer&gt; tree = new Tree&lt;&gt;();\r\n        int val = 100;\r\n        for(int i = 0; i &lt; val; i++){\r\n            tree.insert(i);\r\n\r\n        }\r\n            int treeHeight = tree.height();\r\n        treeHeight++;\r\n            assertThat(tree.size(),equalTo(treeHeight));\r\n    }\r\n}\r\n\r\n```","title":"JUNIT test for binary search tree","body":"<p>I have implemented a binary search tree. Most of my test in JUNIT test is going through, including these two. I have implementedleavesIsCorrectWhenTreeIsPerfect() and insertValuesInAscendingOrderIncrementsHeight().</p>\n<p>Both of these test goes through, however i do not know if it is correctly written based on what their description is asking.</p>\n<p>//EDIT: I have added a test that might be a help to one of the test a need help with.</p>\n<p>//TODO: help me understand if I have written the correct code for the test in insertValuesInAscendingOrderIncrementsHeight() and leavesIsCorrectWhenTreeIsPerfect() based on what the description for the test is saying.</p>\n<p>Have in mind, that I have not included all the tests in the test class, Because the goes through with my implementation of the tree.</p>\n<p>Down here I have included my tree class and the test class with both the test I need help with.</p>\n<pre><code>/**\n * An Binary Search tree implementation.\n * @param &lt;T&gt;\n */\npublic class Tree &lt;T extends Comparable &lt;T&gt;&gt; implements BSTInterface &lt;T&gt;{\n    private int size;\n    private Node root;\n    public class Node{\n        private Node Left;\n        private Node Right;\n        private T data;\n\n        public Node(T data){\n            this.data = data;\n        }\n        public Node getRight(){\n            return Right;\n        }\n\n        public Node getLeft() {\n            return Left;\n        }\n\n        public T getData() {\n            return data;\n        }\n    }\n    public Tree (){\n        size = 0;\n        root = null;\n    }\n\n\n    /**\n     * Test for presence of a value.\n     * @param elem\n     * @return true/false\n     */\n    @Override\n    public boolean search(T elem) {\n        if(root == null ||elem == null){\n        return false;\n        }\n        Node node = root;\n        while(true){\n            if(node.data.compareTo(elem) &gt; 0){\n                if(node.Right == null){\n                    return false;\n                } else{\n                    node = node.Right;\n                }\n            } else if(node.data.compareTo(elem) == 0){\n                break;\n            } else{\n                if(node.Left== null){\n                    return false;\n                }\n                else{\n                    node = node.Left;\n                }\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Add value to tree; duplicates are not allowed.\n     * Return true if the element is not already present (and is thus inserted),\n     * false otherwise.\n     *\n     * @param elem\n     * @return true/false\n     */\n    @Override\n    public boolean insert(T elem) {\n        if (elem == null){\n            return false;\n        }\n        if (root == null){\n            root = new Node(elem);\n            size++;\n            return true;\n        }\n        Node node = root;\n        while (true){\n            if (node.data.compareTo(elem) &gt; 0) {\n                if (node.Right == null){\n                    node.Right = new Node(elem);\n                    size++;\n                    break;\n                } else {\n                    node = node.Right;\n                }\n\n            } else if (node.data.compareTo(elem) == 0) {\n                return false;\n            } else {\n                if (node.Left == null){\n                    node.Left = new Node(elem);\n                    size++;\n                    break;\n                } else {\n                    node = node.Left;\n                }\n            }\n        }\n        return true;\n    }\n\n\n    /**\n     * the number of elements in the tree\n     * @return size.\n     */\n    @Override\n    public int size() {\n        return size;\n    }\n\n    /**\n     * The height of the tree.\n     * The empty tree and the tree with only the root node both have height 0.\n     * @return the height of the tree.\n     */\n    @Override\n    public int height() {\n        return countHeight(root);\n    }\n    /**\n     * Helper method for height\n     */\n    private int countHeight(Node node){\n        if(node == null) {\n            return 0;\n        }\n        if (node.Left == null &amp;&amp; node.Right == null) {\n            return 0;\n        }\n        return 1 + Math.max(countHeight(node.getLeft()), countHeight(node.getRight()));\n    }\n\n    /**\n     * The number of leaves in the tree.\n     * @return the amount of leaves the tree has.\n     */\n    @Override\n    public int leaves() {\n        return countLeaves(root);\n    }\n    /**\n     * Helper method for leaves\n     */\n    private int countLeaves(Node node) {\n        if (node == null) {\n            return 0;\n        }\n        if (node.Left == null &amp;&amp; node.Right == null) {\n            return 1;\n        }\n        return countLeaves(node.Left) + countLeaves(node.Right);\n    }\n\n\n    /**\n     * A string describing the tree\n     * @return\n     */\n    public String toString(){\n        String str = &quot;[&quot; + helpToString(root);\n        if (str.length() &gt; 1) {\n            str = str.substring(0, str.length() - 2);\n        } return str + &quot;]&quot;;\n    }\n\n    /**\n     * Helper method for toString\n     */\n    private String helpToString(Node node) {\n        String str = &quot;&quot;;\n        if (node != null) {\n            str += helpToString(node.Right);\n            str += node.data + &quot;, &quot;;\n            str += helpToString(node.Left);\n        }\n        return str;\n      }\n}\n\n\n</code></pre>\n<pre><code>import org.junit.Test;\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.rules.Timeout;\nimport static org.junit.Assert.*;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.CoreMatchers.*;\nimport java.util.Arrays;\nimport java.util.stream.IntStream;\n/**\n * Test class for a tree.\n */\npublic class TreeTest{\n    @Rule public Timeout globalTimeout = Timeout.seconds(5);\n\n    Tree&lt;Integer&gt; tree;\n    int[] elementsInTree;\n    int[] elementsNotInTree;\n\n    @Before\n    public void setUp() {\n        /**\n         * This tree should look like this:\n         *\n         *               8\n         *             /  \\\n         *            3   10\n         *           / \\    \\\n         *          1   6    14\n         *             / \\   /\n         *            4   7 13\n         */\n        tree = new Tree&lt;&gt;();\n        elementsInTree = new int[] {8, 10, 14, 13, 3, 1, 6, 4, 7};\n        for (int elem : elementsInTree) {\n            tree.insert(elem);\n        }\n        elementsNotInTree = new int[] {34, -3, -10, 12, 74, 5};\n    }\n @Test\n    public void heightIsLogOfNumLeavesTreeIsPerfect() {\n        // For a perfect tree, tree.height() == log2(tree.leaves()\n\n        // Arrange\n        Tree&lt;Integer&gt; tree = new Tree&lt;&gt;();\n        int[] elements = new int[] {8, 3, 10, 1, 6, 9, 14};\n        int numLeaves = 4;\n        int logNumLeaves = (int) Math.round(Math.log(numLeaves) / Math.log(2));\n        for (int elem : elements) {\n            tree.insert(elem);\n        }\n\n        // Act\n        int height = tree.height();\n        // Assert\n        assertThat(height, equalTo(logNumLeaves));\n    }\n\n    @Test\n    public void leavesIsCorrectWhenTreeIsPerfect() { //TEST\n        // A perfect tree has all leaves at the same depth, and all internal nodes\n        // (i.e. non-leaves) have two children\n        //\n        // This test should assert that a perfect tree with 2*n-1 nodes total,\n        // has exactly n leaves (i.e. that Tree.leaves() returns n).\n        //\n        // An example is the perfect three-node tree from the test above:\n        //\n        //                        (1338)\n        //                        /    \\\n        //                    (1337)  (1396)\n\n        // You have to construct your own tree here, with n &gt;= 4\n       \n    Tree &lt;Integer&gt; tree = new Tree&lt;&gt;();\n       int n = 4;\n       for(int i = 0; i&gt;=n; i++) {\n           tree.insert(i);\n         int numLeaves = 2*n-1;\n         int leaves = tree.leaves();\n         assertThat(leaves,equalTo(numLeaves));\n       }\n    }\n\n    // Tests for insert/height\n    @Test\n    public void insertValuesInAscendingOrderIncrementsHeight() { //TEST\n        // When inserting elements in ascending order, each element is inserted\n        // to the right of the deepest node, so the height should increment by\n        // 1 for each element inserted.\n        Tree &lt;Integer&gt; tree = new Tree&lt;&gt;();\n        int val = 100;\n        for(int i = 0; i &lt; val; i++){\n            tree.insert(i);\n\n        }\n            int treeHeight = tree.height();\n        treeHeight++;\n            assertThat(tree.size(),equalTo(treeHeight));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","activemq","spring-jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1644854348,"post_id":71111951,"comment_id":125709680,"body_markdown":"Take a look at ActiveMQ&#39;s [redelivery policy](https://activemq.apache.org/redelivery-policy).","body":"Take a look at ActiveMQ&#39;s <a href=\"https://activemq.apache.org/redelivery-policy\" rel=\"nofollow noreferrer\">redelivery policy</a>."},{"owner":{"account_id":17025123,"reputation":117,"user_id":12316598,"display_name":"Camil"},"score":0,"creation_date":1645124414,"post_id":71111951,"comment_id":125794163,"body_markdown":"Hi, thanks for the link. I looked into it but have no idea how to implement it within my scenario: Spring Boot app + embedded ActiveMQ and @JmsListener.","body":"Hi, thanks for the link. I looked into it but have no idea how to implement it within my scenario: Spring Boot app + embedded ActiveMQ and @JmsListener."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1645126306,"post_id":71111951,"comment_id":125794787,"body_markdown":"You haven&#39;t really provided any details about how you&#39;re configuring your application so it&#39;s impossible to provide a reliable recommendation on how to apply a redelivery policy.","body":"You haven&#39;t really provided any details about how you&#39;re configuring your application so it&#39;s impossible to provide a reliable recommendation on how to apply a redelivery policy."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1646332410,"post_id":71111951,"comment_id":126103070,"body_markdown":"Did you ever get this sorted?","body":"Did you ever get this sorted?"}],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644851239,"creation_date":1644851239,"answer_id":71113973,"question_id":71111951,"body_markdown":"Sounds like you are looking for a transaction between the consumer and HTTP Post. JMS won&#39;t acknowledge the message off the queue until your code calls session.commit(). You can then call up to one HTTP endpoint and maintain reasonable transaction and single message delivery quality of service.\r\n\r\nThe key to making this self-healing is to detect invalid message payloads (ie bad JSON format or bad data) and move those messages into a DLQ.\r\n\r\n\r\nLook into adding JMS local transaction support instead of using AUTO_ACKNOWLEDGE\r\n\r\n```\r\nconnection.createSession(true, Session.SESSION_TRANSACTED);\r\n```\r\n\r\nThen in your psuedo-code:\r\n```\r\n  Message message = session.receive ..\r\n  .. do valid message checks\r\n  .. call HTTP endpoint..\r\n\r\n  // now take action based on HTTP return code\r\n  switch(httpReturnCode)\r\n  case 200:\r\n    session.commit();\r\n  case .. invalid message returned from HTTP:\r\n    .. produce message to DLQ for inspection\r\n    session.commit();\r\n  case .. http not available..:\r\n    .. do some time delay, retry to http endpoint\r\n```\r\n","title":"Rederlivery of ActiveMQ dequeued message","body":"<p>Sounds like you are looking for a transaction between the consumer and HTTP Post. JMS won't acknowledge the message off the queue until your code calls session.commit(). You can then call up to one HTTP endpoint and maintain reasonable transaction and single message delivery quality of service.</p>\n<p>The key to making this self-healing is to detect invalid message payloads (ie bad JSON format or bad data) and move those messages into a DLQ.</p>\n<p>Look into adding JMS local transaction support instead of using AUTO_ACKNOWLEDGE</p>\n<pre><code>connection.createSession(true, Session.SESSION_TRANSACTED);\n</code></pre>\n<p>Then in your psuedo-code:</p>\n<pre><code>  Message message = session.receive ..\n  .. do valid message checks\n  .. call HTTP endpoint..\n\n  // now take action based on HTTP return code\n  switch(httpReturnCode)\n  case 200:\n    session.commit();\n  case .. invalid message returned from HTTP:\n    .. produce message to DLQ for inspection\n    session.commit();\n  case .. http not available..:\n    .. do some time delay, retry to http endpoint\n</code></pre>\n"}],"owner":{"account_id":17025123,"reputation":117,"user_id":12316598,"display_name":"Camil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644853732,"creation_date":1644841855,"question_id":71111951,"body_markdown":"I have a Spring Boot application that is pushing JSON messages to a queue, and in the other place it is consuming those JSON messages using `@JmsListener`. Those messages are then send via HTTP Post request. The response code might be 200 and that&#39;s OK, but I would like to handle situations when client is down or just simply response code is different than 200.\r\n\r\nIs there any mechanism that I could use for retrying the messages? Maybe I could push back the message at the end of the queue and retry them for lets say 3 times? Is there any internal ActiveMQ mechanism for doing that after message was actually dequeued?","title":"Rederlivery of ActiveMQ dequeued message","body":"<p>I have a Spring Boot application that is pushing JSON messages to a queue, and in the other place it is consuming those JSON messages using <code>@JmsListener</code>. Those messages are then send via HTTP Post request. The response code might be 200 and that's OK, but I would like to handle situations when client is down or just simply response code is different than 200.</p>\n<p>Is there any mechanism that I could use for retrying the messages? Maybe I could push back the message at the end of the queue and retry them for lets say 3 times? Is there any internal ActiveMQ mechanism for doing that after message was actually dequeued?</p>\n"},{"tags":["java","arrays","bytearrayoutputstream","bytearrayinputstream"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1644853961,"post_id":71114556,"comment_id":125709514,"body_markdown":"You already found `ByteArrayOutputStream`, what more do you need? You can write bytes to it one by one or multiple in one go (from an array). It will take care of the resizing of its internal storage, and the `toByteArray()` you also already found will return (a copy of) the currently written bytes.","body":"You already found <code>ByteArrayOutputStream</code>, what more do you need? You can write bytes to it one by one or multiple in one go (from an array). It will take care of the resizing of its internal storage, and the <code>toByteArray()</code> you also already found will return (a copy of) the currently written bytes."},{"owner":{"account_id":21577809,"reputation":25,"user_id":16930689,"display_name":"Dyson"},"score":0,"creation_date":1644854287,"post_id":71114556,"comment_id":125709658,"body_markdown":"Ok, thanks. I thought I had written something incorrectly since my code refuses to run but it must be something else then. It&#39;s a several page long code so I thought maybe it would be too much to post on here so only posted the part I thought I had written incorrectly.","body":"Ok, thanks. I thought I had written something incorrectly since my code refuses to run but it must be something else then. It&#39;s a several page long code so I thought maybe it would be too much to post on here so only posted the part I thought I had written incorrectly."},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1644854476,"post_id":71114556,"comment_id":125709746,"body_markdown":"Your `byte[] b` is empty right now. You created a new empty `ByteArrayOutputStream`. You probably want to save the results of `toServerBytes` inside `b`","body":"Your <code>byte[] b</code> is empty right now. You created a new empty <code>ByteArrayOutputStream</code>. You probably want to save the results of <code>toServerBytes</code> inside <code>b</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1644855019,"post_id":71114556,"comment_id":125709982,"body_markdown":"You write `toServerBytes` to the client&#39;s output stream. You now need to read from the client&#39;s input stream and write it to the `ByteArrayOutputStream`. That can probably be as easy as `clientSocket.getInputStream().transferTo(fromClient)`.","body":"You write <code>toServerBytes</code> to the client&#39;s output stream. You now need to read from the client&#39;s input stream and write it to the <code>ByteArrayOutputStream</code>. That can probably be as easy as <code>clientSocket.getInputStream().transferTo(fromClient)</code>."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1644859664,"post_id":71114556,"comment_id":125711787,"body_markdown":"You can use `List&lt;Byte&gt; byteArray = new ArrayList&lt;&gt;();` instead of `byte[]`, though the stream option seems better suited.","body":"You can use <code>List&lt;Byte&gt; byteArray = new ArrayList&lt;&gt;();</code> instead of <code>byte[]</code>, though the stream option seems better suited."}],"owner":{"account_id":21577809,"reputation":25,"user_id":16930689,"display_name":"Dyson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644853705,"creation_date":1644853705,"question_id":71114556,"body_markdown":"I&#39;m trying to create a very simple client-server program. My aim is to send a message to the server after connecting succesfully but I need to be able to store the message using byteArrayOutputStream and also byteArrayInputStream later just in case something goes wrong along the way. This is my code so far:\r\n\r\n    public class TCPClient\r\n    {\r\n    \r\n        public byte[] askServer(String hostname, int port, byte[] toServerBytes) throws IOException\r\n        {\r\n                Socket clientSocket = new Socket(hostname, port);\r\n                \r\n                String Message;\r\n                StringBuilder sb = new StringBuilder();\r\n    \r\n                try {\r\n    \r\n                    clientSocket.getOutputStream().write(toServerBytes(StandardCharsets.UTF_8));\r\n                    ByteArrayOutputStream fromClient = new ByteArrayOutputStream();\r\n                    byte[] b = fromClient.toByteArray();\r\n    \r\n                }","title":"How to store bytes in an array that grows automatically if the byte size changes in java?","body":"<p>I'm trying to create a very simple client-server program. My aim is to send a message to the server after connecting succesfully but I need to be able to store the message using byteArrayOutputStream and also byteArrayInputStream later just in case something goes wrong along the way. This is my code so far:</p>\n<pre><code>public class TCPClient\n{\n\n    public byte[] askServer(String hostname, int port, byte[] toServerBytes) throws IOException\n    {\n            Socket clientSocket = new Socket(hostname, port);\n            \n            String Message;\n            StringBuilder sb = new StringBuilder();\n\n            try {\n\n                clientSocket.getOutputStream().write(toServerBytes(StandardCharsets.UTF_8));\n                ByteArrayOutputStream fromClient = new ByteArrayOutputStream();\n                byte[] b = fromClient.toByteArray();\n\n            }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"score":4,"creation_date":1644850256,"post_id":71113711,"comment_id":125707999,"body_markdown":"It seems that the package where ServiceOne is located is not scanned. Did you define/exclude packages for the ComponentScan? BTW: Beans are autowired, not methods.","body":"It seems that the package where ServiceOne is located is not scanned. Did you define/exclude packages for the ComponentScan? BTW: Beans are autowired, not methods."},{"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"score":0,"creation_date":1644851260,"post_id":71113711,"comment_id":125708415,"body_markdown":"@blafoo yes the package of ServiceOne is included in ComponentScan","body":"@blafoo yes the package of ServiceOne is included in ComponentScan"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1644852706,"post_id":71113711,"comment_id":125708985,"body_markdown":"Unable to reproduce when all classes are in the same package, so if the package has been correctly included the error is somewhere else. @blafoo In this case OP can use autowired on the method, because it is a constructor.","body":"Unable to reproduce when all classes are in the same package, so if the package has been correctly included the error is somewhere else. @blafoo In this case OP can use autowired on the method, because it is a constructor."},{"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"score":0,"creation_date":1644853296,"post_id":71113711,"comment_id":125709231,"body_markdown":"I was using @ConditionalOnProperty on the services, that is why it was not getting autowired. Thank you for your time.","body":"I was using @ConditionalOnProperty on the services, that is why it was not getting autowired. Thank you for your time."}],"answers":[{"tags":[],"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644853137,"creation_date":1644853137,"answer_id":71114410,"question_id":71113711,"body_markdown":"I was using @ConditionalOnProperty on the services, that is why it was not getting autowired.","title":"Is there a way to @Autowire non overridden methods?","body":"<p>I was using @ConditionalOnProperty on the services, that is why it was not getting autowired.</p>\n"}],"owner":{"account_id":22582111,"reputation":691,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71114410,"answer_count":1,"score":-1,"last_activity_date":1644853137,"creation_date":1644849946,"question_id":71113711,"body_markdown":"I have an interface that is implemented by multiple classes, and these classes also have some extra methods. If I autowire the class. Is there a way I can autowire these extra methods?\r\n\r\nExample-\r\n\r\n**Interface**\r\n```\r\npublic interface ExampleInterface {\r\n    String methodOne();\r\n    String methodTwo();\r\n}\r\n```\r\n**Service 1**\r\n```\r\n@Service\r\npublic class ServiceOne implements ExampleInterface {\r\n\r\n    @Override\r\n    String methodOne() {\r\n        return &quot;one&quot;;\r\n    }\r\n    \r\n    @Override\r\n    String methodTwo() {\r\n        return &quot;two&quot;;\r\n    }\r\n\r\n    String methodThree() {\r\n        return &quot;three&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Service 2**\r\n```\r\n@Service\r\npublic class ServiceTwo implements ExampleInterface {\r\n\r\n    @Override\r\n    String methodOne() {\r\n        return &quot;1&quot;;\r\n    }\r\n    \r\n    @Override\r\n    String methodTwo() {\r\n        return &quot;2&quot;;\r\n    }\r\n\r\n    String otherMethod() {\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\nIf I try to directly Autowire the service like this-\r\n```\r\n@Service\r\npublic class Service{\r\n\r\n    ServiceOne serviceOne;\r\n\r\n    @Autowired\r\n    public Service(ServiceOne serviceOne) {\r\n        this.serviceOne = serviceOne;\r\n    }\r\n}\r\n```\r\nthen I am getting error something like this-\r\n```\r\nParameter 0 of constructor in Service required a bean of type &#39;ServiceOne&#39; that could not be found.\r\n```","title":"Is there a way to @Autowire non overridden methods?","body":"<p>I have an interface that is implemented by multiple classes, and these classes also have some extra methods. If I autowire the class. Is there a way I can autowire these extra methods?</p>\n<p>Example-</p>\n<p><strong>Interface</strong></p>\n<pre><code>public interface ExampleInterface {\n    String methodOne();\n    String methodTwo();\n}\n</code></pre>\n<p><strong>Service 1</strong></p>\n<pre><code>@Service\npublic class ServiceOne implements ExampleInterface {\n\n    @Override\n    String methodOne() {\n        return &quot;one&quot;;\n    }\n    \n    @Override\n    String methodTwo() {\n        return &quot;two&quot;;\n    }\n\n    String methodThree() {\n        return &quot;three&quot;;\n    }\n}\n</code></pre>\n<p><strong>Service 2</strong></p>\n<pre><code>@Service\npublic class ServiceTwo implements ExampleInterface {\n\n    @Override\n    String methodOne() {\n        return &quot;1&quot;;\n    }\n    \n    @Override\n    String methodTwo() {\n        return &quot;2&quot;;\n    }\n\n    String otherMethod() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>If I try to directly Autowire the service like this-</p>\n<pre><code>@Service\npublic class Service{\n\n    ServiceOne serviceOne;\n\n    @Autowired\n    public Service(ServiceOne serviceOne) {\n        this.serviceOne = serviceOne;\n    }\n}\n</code></pre>\n<p>then I am getting error something like this-</p>\n<pre><code>Parameter 0 of constructor in Service required a bean of type 'ServiceOne' that could not be found.\n</code></pre>\n"},{"tags":["java","sockets","unicode","request"],"answers":[{"tags":[],"owner":{"account_id":21944094,"reputation":1,"user_id":16224211,"display_name":"Jombi_KR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644842402,"creation_date":1644842402,"answer_id":71112067,"question_id":71107007,"body_markdown":"I don&#39;t know why its working, but i fixed this problem with downgrading http version to 1.0.","title":"Java Random unicode character is appearing when using socket requesting","body":"<p>I don't know why its working, but i fixed this problem with downgrading http version to 1.0.</p>\n"}],"owner":{"account_id":21944094,"reputation":1,"user_id":16224211,"display_name":"Jombi_KR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71112067,"answer_count":1,"score":0,"last_activity_date":1644853135,"creation_date":1644810962,"question_id":71107007,"body_markdown":"```java\r\n    public final static String api = &quot;api.hypixel.net&quot;;\r\n    public final static String toGet = &quot;/skyblock/auctions&quot;;\r\n    public static void main(String[] args) {\r\n        try {\r\n            SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault().createSocket(api, 443);\r\n\r\n            socket.setSoTimeout(500);\r\n\r\n            PrintWriter pw = new PrintWriter(socket.getOutputStream());\r\n            pw.println(&quot;GET &quot; + toGet + &quot;?page=&quot; + 1 + &quot; HTTP/1.1&quot;);\r\n            pw.println(&quot;Host: &quot; + api);\r\n            pw.println(&quot;&quot;);\r\n            pw.flush();\r\n\r\n            System.out.println(&quot;Wrote Socket: &quot; + 1);\r\n            BufferedReader bufRead = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8));\r\n            StringBuilder sb = new StringBuilder();\r\n\r\n            String e;\r\n            try {\r\n                while ((e = bufRead.readLine()) != null) {\r\n                    sb.append(e);\r\n                }\r\n            } catch (SocketTimeoutException easports) {\r\n                //\r\n            }\r\n            System.out.println(&quot;finished write&quot;);\r\n\r\n            bufRead.close();\r\n            pw.close();\r\n\r\n            String[] splitted = sb.toString().split(&quot;\\\\{&quot;);\r\n            String copyofArr = String.join(&quot;{&quot;, Arrays.copyOfRange(splitted, 1, splitted.length));\r\n            String formatted = &quot;{&quot; + copyofArr.substring(0, copyofArr.length() - 1);\r\n\r\n            FileOutputStream fos = new FileOutputStream(&quot;gg1ay.txt&quot;);\r\n            fos.write(formatted.getBytes());\r\n            fos.flush();\r\n            fos.close();\r\n\r\n            JsonObject array = JsonParser.parseString(formatted).getAsJsonObject();\r\n            array.entrySet().forEach(entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue()));\r\n            System.out.println(&quot;Got result: &quot; + 1);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;an Exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nWhen I request with this code, an weird alphabet comes with output (so i failed to parse json). it looks like unicode char, So I attached \\u, now it shows weird chinese alphabet (like 耀, 翸, 磛). How can I fix this code? \r\n","title":"Java Random unicode character is appearing when using socket requesting","body":"<pre class=\"lang-java prettyprint-override\"><code>    public final static String api = &quot;api.hypixel.net&quot;;\n    public final static String toGet = &quot;/skyblock/auctions&quot;;\n    public static void main(String[] args) {\n        try {\n            SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault().createSocket(api, 443);\n\n            socket.setSoTimeout(500);\n\n            PrintWriter pw = new PrintWriter(socket.getOutputStream());\n            pw.println(&quot;GET &quot; + toGet + &quot;?page=&quot; + 1 + &quot; HTTP/1.1&quot;);\n            pw.println(&quot;Host: &quot; + api);\n            pw.println(&quot;&quot;);\n            pw.flush();\n\n            System.out.println(&quot;Wrote Socket: &quot; + 1);\n            BufferedReader bufRead = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8));\n            StringBuilder sb = new StringBuilder();\n\n            String e;\n            try {\n                while ((e = bufRead.readLine()) != null) {\n                    sb.append(e);\n                }\n            } catch (SocketTimeoutException easports) {\n                //\n            }\n            System.out.println(&quot;finished write&quot;);\n\n            bufRead.close();\n            pw.close();\n\n            String[] splitted = sb.toString().split(&quot;\\\\{&quot;);\n            String copyofArr = String.join(&quot;{&quot;, Arrays.copyOfRange(splitted, 1, splitted.length));\n            String formatted = &quot;{&quot; + copyofArr.substring(0, copyofArr.length() - 1);\n\n            FileOutputStream fos = new FileOutputStream(&quot;gg1ay.txt&quot;);\n            fos.write(formatted.getBytes());\n            fos.flush();\n            fos.close();\n\n            JsonObject array = JsonParser.parseString(formatted).getAsJsonObject();\n            array.entrySet().forEach(entry -&gt; System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue()));\n            System.out.println(&quot;Got result: &quot; + 1);\n        } catch (IOException e) {\n            System.err.println(&quot;an Exception&quot;);\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>When I request with this code, an weird alphabet comes with output (so i failed to parse json). it looks like unicode char, So I attached \\u, now it shows weird chinese alphabet (like 耀, 翸, 磛). How can I fix this code?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1601312805,"post_id":64106538,"comment_id":113362335,"body_markdown":"Try to open this view it in different configurations: Portrait, Landscape, Day Theme, Dark Theme.","body":"Try to open this view it in different configurations: Portrait, Landscape, Day Theme, Dark Theme."},{"owner":{"account_id":14650532,"reputation":97,"user_id":10580668,"display_name":"Anders Pedersen"},"score":0,"creation_date":1601313358,"post_id":64106538,"comment_id":113362573,"body_markdown":"@AlexanderHoffmann Thanks for the suggestions. I tested both Portrait &amp; Landscape with day theme, dark them &amp; inversion colors. No luck unfortunately","body":"@AlexanderHoffmann Thanks for the suggestions. I tested both Portrait &amp; Landscape with day theme, dark them &amp; inversion colors. No luck unfortunately"},{"owner":{"account_id":3072266,"reputation":1160,"user_id":2602626,"display_name":"Fay&#231;al"},"score":0,"creation_date":1606310003,"post_id":64106538,"comment_id":114925004,"body_markdown":"any update about this issue?","body":"any update about this issue?"},{"owner":{"account_id":14650532,"reputation":97,"user_id":10580668,"display_name":"Anders Pedersen"},"score":0,"creation_date":1606400052,"post_id":64106538,"comment_id":114956843,"body_markdown":"@Back Packer No I still get frequent reports regarding this issue. Haven&#39;t found a solution","body":"@Back Packer No I still get frequent reports regarding this issue. Haven&#39;t found a solution"}],"owner":{"account_id":14650532,"reputation":97,"user_id":10580668,"display_name":"Anders Pedersen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644852991,"creation_date":1601312561,"question_id":64106538,"body_markdown":"In my released android app, I frequently recieve crash report from Crashlytics, with ResourcesNotFound Exception, for Resource ID #0x7f080087. \r\n\r\nI&#39;ve searched for the specific Resource ID but couldn&#39;t find anything.\r\n\r\nI&#39;m running with a minSDK of 21, and targetSDK of 29.\r\n\r\nThe crash reports ranges from Android Version 5.1.1 -&gt; 10, occurs for both Rooted and non rooted, and a great mixture of devices.\r\n\r\nI haven&#39;t been able to recreate this issue on my own, which is my biggest issue. I&#39;ve tried running both debug and release apk, but i can&#39;t trigger the crash on my devices.\r\n\r\nI will greatly appreciate any suggestions, as this is starting to become a big issue.\r\n\r\n**ChooseMap** onCreateView (rest is just click listeners), from where error happens:\r\n\r\n    package xxx\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceManager;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    \r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.firebase.analytics.FirebaseAnalytics;\r\n\r\n    public class ChooseMap extends Fragment implements View.OnClickListener{\r\n    String mode = &quot;Competitive&quot;;\r\n    private static final String TAG = &quot;ChooseMap&quot;;\r\n\r\n    private BottomNavigationView topNavigationView;\r\n\r\n    private SharedPreferences mSharedPreferences;\r\n    private SharedPreferences.Editor mEditor;\r\n\r\n    private ImageView cache, cobblestone, dustII, inferno, mirage, nuke, overpass, train, vertigo;\r\n    private View v;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        v = inflater.inflate(R.layout.choose_map, container, false);\r\n\r\n        mSharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n        mEditor = mSharedPreferences.edit();\r\n\r\n        //Sets on click listeners on all images of maps\r\n        cache = (ImageView) v.findViewById(R.id.Cache);\r\n        cache.setOnClickListener(this);\r\n        cobblestone = (ImageView) v.findViewById(R.id.Cobblestone);\r\n        cobblestone.setOnClickListener(this);\r\n        dustII = (ImageView) v.findViewById(R.id.DustII);\r\n        dustII.setOnClickListener(this);\r\n        inferno = (ImageView) v.findViewById(R.id.Inferno);\r\n        inferno.setOnClickListener(this);\r\n        mirage = (ImageView) v.findViewById(R.id.Mirage);\r\n        mirage.setOnClickListener(this);\r\n        nuke = (ImageView) v.findViewById(R.id.Nuke);\r\n        nuke.setOnClickListener(this);\r\n        overpass = (ImageView) v.findViewById(R.id.Overpass);\r\n        overpass.setOnClickListener(this);\r\n        train = (ImageView) v.findViewById(R.id.Train);\r\n        train.setOnClickListener(this);\r\n        vertigo = (ImageView) v.findViewById(R.id.Vertigo);\r\n        vertigo.setOnClickListener(this);\r\n\r\n        topNavigationView = v.findViewById(R.id.top_bar_navigation);\r\n        topNavigationView.setSelectedItemId(R.id.competitive_menu);\r\n        topNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n               switch (menuItem.getItemId()){\r\n                   case R.id.arcade_menu:\r\n                       mode = &quot;Arcade&quot;;\r\n                       break;\r\n                   case R.id.competitive_menu:\r\n                       mode = &quot;Competitive&quot;;\r\n                       break;\r\n               }\r\n               return true;\r\n            }\r\n        });\r\n\r\n        // Sets toolbar title to following string\r\n        ((MainActivity)getActivity()).getSupportActionBar().setTitle(&quot;Choose Map&quot;);\r\n\r\n        isAdLoaded();\r\n\r\n        return v;\r\n    }\r\n\r\nI get the following stack trace;\r\n\r\n**RuntimeException**:\r\n\r\n    Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{&lt;package&gt;/&lt;package&gt;.MainActivity}: android.view.InflateException: Binary XML file line #9: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n       at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n\r\n**ResourcesNotFound**:\r\n\r\n    Caused by android.content.res.Resources$NotFoundException: Resource ID #0x7f080089\r\n       at android.content.res.Resources.getValue(Resources.java:1266)\r\n       at androidx.appcompat.widget.ResourceManagerInternal.loadDrawableFromDelegates(ResourceManagerInternal.java:252)\r\n       at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:139)\r\n       at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:132)\r\n       at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:104)\r\n       at androidx.appcompat.view.menu.MenuItemImpl.getIcon(MenuItemImpl.java:505)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationItemView.initialize(BottomNavigationItemView.java:136)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationMenuView.buildMenuView(BottomNavigationMenuView.java:537)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationPresenter.updateMenuView(BottomNavigationPresenter.java:67)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationView.inflateMenu(BottomNavigationView.java:344)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:226)\r\n       at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:133)\r\n       at java.lang.reflect.Constructor.newInstance(Constructor.java)\r\n       at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\r\n       at android.view.LayoutInflater.createView(LayoutInflater.java:607)\r\n       at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\r\n       at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\r\n       at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n       at &lt;package&gt;.ChooseMap.onCreateView(ChooseMap.java:41)\r\n       at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\r\n       at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)\r\n       at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\r\n       at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\r\n       at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\r\n       at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)\r\n       at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)\r\n       at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)\r\n       at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\r\n       at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2663)\r\n       at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManagerImpl.java:2613)\r\n       at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:246)\r\n       at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:542)\r\n       at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:201)\r\n       at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1236)\r\n       at android.app.Activity.performStart(Activity.java:6006)\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2288)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n       at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n","title":"android.content.res.Resources$NotFoundException: Resource ID #0x7f080087","body":"<p>In my released android app, I frequently recieve crash report from Crashlytics, with ResourcesNotFound Exception, for Resource ID #0x7f080087.</p>\n<p>I've searched for the specific Resource ID but couldn't find anything.</p>\n<p>I'm running with a minSDK of 21, and targetSDK of 29.</p>\n<p>The crash reports ranges from Android Version 5.1.1 -&gt; 10, occurs for both Rooted and non rooted, and a great mixture of devices.</p>\n<p>I haven't been able to recreate this issue on my own, which is my biggest issue. I've tried running both debug and release apk, but i can't trigger the crash on my devices.</p>\n<p>I will greatly appreciate any suggestions, as this is starting to become a big issue.</p>\n<p><strong>ChooseMap</strong> onCreateView (rest is just click listeners), from where error happens:</p>\n<pre><code>package xxx\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.firebase.analytics.FirebaseAnalytics;\n\npublic class ChooseMap extends Fragment implements View.OnClickListener{\nString mode = &quot;Competitive&quot;;\nprivate static final String TAG = &quot;ChooseMap&quot;;\n\nprivate BottomNavigationView topNavigationView;\n\nprivate SharedPreferences mSharedPreferences;\nprivate SharedPreferences.Editor mEditor;\n\nprivate ImageView cache, cobblestone, dustII, inferno, mirage, nuke, overpass, train, vertigo;\nprivate View v;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    v = inflater.inflate(R.layout.choose_map, container, false);\n\n    mSharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\n    mEditor = mSharedPreferences.edit();\n\n    //Sets on click listeners on all images of maps\n    cache = (ImageView) v.findViewById(R.id.Cache);\n    cache.setOnClickListener(this);\n    cobblestone = (ImageView) v.findViewById(R.id.Cobblestone);\n    cobblestone.setOnClickListener(this);\n    dustII = (ImageView) v.findViewById(R.id.DustII);\n    dustII.setOnClickListener(this);\n    inferno = (ImageView) v.findViewById(R.id.Inferno);\n    inferno.setOnClickListener(this);\n    mirage = (ImageView) v.findViewById(R.id.Mirage);\n    mirage.setOnClickListener(this);\n    nuke = (ImageView) v.findViewById(R.id.Nuke);\n    nuke.setOnClickListener(this);\n    overpass = (ImageView) v.findViewById(R.id.Overpass);\n    overpass.setOnClickListener(this);\n    train = (ImageView) v.findViewById(R.id.Train);\n    train.setOnClickListener(this);\n    vertigo = (ImageView) v.findViewById(R.id.Vertigo);\n    vertigo.setOnClickListener(this);\n\n    topNavigationView = v.findViewById(R.id.top_bar_navigation);\n    topNavigationView.setSelectedItemId(R.id.competitive_menu);\n    topNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n           switch (menuItem.getItemId()){\n               case R.id.arcade_menu:\n                   mode = &quot;Arcade&quot;;\n                   break;\n               case R.id.competitive_menu:\n                   mode = &quot;Competitive&quot;;\n                   break;\n           }\n           return true;\n        }\n    });\n\n    // Sets toolbar title to following string\n    ((MainActivity)getActivity()).getSupportActionBar().setTitle(&quot;Choose Map&quot;);\n\n    isAdLoaded();\n\n    return v;\n}\n</code></pre>\n<p>I get the following stack trace;</p>\n<p><strong>RuntimeException</strong>:</p>\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{&lt;package&gt;/&lt;package&gt;.MainActivity}: android.view.InflateException: Binary XML file line #9: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n   at android.app.ActivityThread.access$800(ActivityThread.java:151)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n   at android.os.Handler.dispatchMessage(Handler.java:102)\n   at android.os.Looper.loop(Looper.java:135)\n   at android.app.ActivityThread.main(ActivityThread.java:5254)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at java.lang.reflect.Method.invoke(Method.java:372)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n</code></pre>\n<p><strong>ResourcesNotFound</strong>:</p>\n<pre><code>Caused by android.content.res.Resources$NotFoundException: Resource ID #0x7f080089\n   at android.content.res.Resources.getValue(Resources.java:1266)\n   at androidx.appcompat.widget.ResourceManagerInternal.loadDrawableFromDelegates(ResourceManagerInternal.java:252)\n   at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:139)\n   at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:132)\n   at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:104)\n   at androidx.appcompat.view.menu.MenuItemImpl.getIcon(MenuItemImpl.java:505)\n   at com.google.android.material.bottomnavigation.BottomNavigationItemView.initialize(BottomNavigationItemView.java:136)\n   at com.google.android.material.bottomnavigation.BottomNavigationMenuView.buildMenuView(BottomNavigationMenuView.java:537)\n   at com.google.android.material.bottomnavigation.BottomNavigationPresenter.updateMenuView(BottomNavigationPresenter.java:67)\n   at com.google.android.material.bottomnavigation.BottomNavigationView.inflateMenu(BottomNavigationView.java:344)\n   at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:226)\n   at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:133)\n   at java.lang.reflect.Constructor.newInstance(Constructor.java)\n   at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\n   at android.view.LayoutInflater.createView(LayoutInflater.java:607)\n   at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\n   at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n   at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n   at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n   at &lt;package&gt;.ChooseMap.onCreateView(ChooseMap.java:41)\n   at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\n   at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)\n   at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\n   at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\n   at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\n   at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)\n   at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)\n   at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)\n   at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\n   at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2663)\n   at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManagerImpl.java:2613)\n   at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:246)\n   at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:542)\n   at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:201)\n   at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1236)\n   at android.app.Activity.performStart(Activity.java:6006)\n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2288)\n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n   at android.app.ActivityThread.access$800(ActivityThread.java:151)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n   at android.os.Handler.dispatchMessage(Handler.java:102)\n   at android.os.Looper.loop(Looper.java:135)\n   at android.app.ActivityThread.main(ActivityThread.java:5254)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at java.lang.reflect.Method.invoke(Method.java:372)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n</code></pre>\n"},{"tags":["java","hibernate","jpa","persist"],"comments":[{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1644853814,"post_id":71114312,"comment_id":125709443,"body_markdown":"Are you sure it&#39;s blocking and not going to your catch block?","body":"Are you sure it&#39;s blocking and not going to your catch block?"},{"owner":{"account_id":3688757,"reputation":3,"user_id":16259155,"display_name":"reetscav"},"score":0,"creation_date":1644855479,"post_id":71114312,"comment_id":125710184,"body_markdown":"Thanks mate, of course that&#39;s it!","body":"Thanks mate, of course that&#39;s it!"}],"owner":{"account_id":3688757,"reputation":3,"user_id":16259155,"display_name":"reetscav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644852731,"creation_date":1644852731,"question_id":71114312,"body_markdown":"I&#39;m new to JPA and now I&#39;m trying to persist an entity of my program using the Hibernate Entity Manager, but persist() seems to block the whole process after itself. I wrote \r\n\r\n    try {\r\n\t\t\tif (em.isOpen()) {\r\n\t\t\t\tem.getTransaction().begin();\r\n\t\t\t\tSystem.out.println(&quot;Transaction has begun&quot;);\r\n\t\t\t\tem.persist(p);\r\n\t\t\t\tSystem.out.println(em.contains(p));\r\n\t\t\t\tem.getTransaction().commit();\r\n\t\t\t\tSystem.out.println(&quot;Commit executed&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;not open&quot;);\r\n\t\t\t}\r\n\t\t} catch(Exception e) {\r\n          ...\r\n\r\nbut the only output I get is &quot;Transaction has begun&quot;. What am I doing wrong?","title":"Hibernate persist() blocks","body":"<p>I'm new to JPA and now I'm trying to persist an entity of my program using the Hibernate Entity Manager, but persist() seems to block the whole process after itself. I wrote</p>\n<pre><code>try {\n        if (em.isOpen()) {\n            em.getTransaction().begin();\n            System.out.println(&quot;Transaction has begun&quot;);\n            em.persist(p);\n            System.out.println(em.contains(p));\n            em.getTransaction().commit();\n            System.out.println(&quot;Commit executed&quot;);\n        } else {\n            System.out.println(&quot;not open&quot;);\n        }\n    } catch(Exception e) {\n      ...\n</code></pre>\n<p>but the only output I get is &quot;Transaction has begun&quot;. What am I doing wrong?</p>\n"},{"tags":["java","spring-boot","azure-cosmosdb"],"comments":[{"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"score":0,"creation_date":1644857017,"post_id":71114120,"comment_id":125710746,"body_markdown":"Looking at your entity name it&#39;s clear that you are not exactly following the documentation. Can you double check all your changes?","body":"Looking at your entity name it&#39;s clear that you are not exactly following the documentation. Can you double check all your changes?"}],"answers":[{"tags":[],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644852406,"creation_date":1644852406,"answer_id":71114227,"question_id":71114120,"body_markdown":"ah, not sure why its wrong in docs ( or maybe there is some different config ), but renaming this findOne method helps:\r\n\r\n    Test findOneByIdAndLastName(String id, String lastName);","title":"spring boot cloud app, cosmos db findOne PropertyReferenceException","body":"<p>ah, not sure why its wrong in docs ( or maybe there is some different config ), but renaming this findOne method helps:</p>\n<pre><code>Test findOneByIdAndLastName(String id, String lastName);\n</code></pre>\n"}],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644852406,"creation_date":1644851922,"question_id":71114120,"body_markdown":"I am trying to make CosmosDB working in my spring boot cloud app.\r\n\r\nWorking with those docs: [docs][1]\r\n\r\nbut I see an error:\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.data.mapping.PropertyReferenceException: No\r\n&gt; property findOne found for type Test!\r\n\r\n\r\nMy TestRepository code:\r\n\r\n\r\n    import com.azure.spring.data.cosmos.repository.CosmosRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface TestRepository extends CosmosRepository&lt;Test, String&gt; {\r\n        Iterable&lt;Test&gt; findByFirstName(String firstName);\r\n    \r\n        long countByFirstName(String firstName);\r\n    \r\n        Test findOne(String id, String lastName);\r\n    }\r\n\r\nit works fine when I comment out findOne method, dunno how to fix it.\r\n\r\nthanks\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/how-to-guides-spring-data-cosmosdb","title":"spring boot cloud app, cosmos db findOne PropertyReferenceException","body":"<p>I am trying to make CosmosDB working in my spring boot cloud app.</p>\n<p>Working with those docs: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/how-to-guides-spring-data-cosmosdb\" rel=\"nofollow noreferrer\">docs</a></p>\n<p>but I see an error:</p>\n<blockquote>\n<p>Caused by:\norg.springframework.data.mapping.PropertyReferenceException: No\nproperty findOne found for type Test!</p>\n</blockquote>\n<p>My TestRepository code:</p>\n<pre><code>import com.azure.spring.data.cosmos.repository.CosmosRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface TestRepository extends CosmosRepository&lt;Test, String&gt; {\n    Iterable&lt;Test&gt; findByFirstName(String firstName);\n\n    long countByFirstName(String firstName);\n\n    Test findOne(String id, String lastName);\n}\n</code></pre>\n<p>it works fine when I comment out findOne method, dunno how to fix it.</p>\n<p>thanks</p>\n"},{"tags":["java","getter","lombok","java-14","java-record"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1587309824,"post_id":61306802,"comment_id":108455181,"body_markdown":"For one thing, `record` will not work for things expecting JavaBeans-style getters and setters.","body":"For one thing, <code>record</code> will not work for things expecting JavaBeans-style getters and setters."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":7,"creation_date":1587310146,"post_id":61306802,"comment_id":108455339,"body_markdown":"What Rotteveel’s comment means is that the property accessor method on a record is named the same name of the property. So, `alice.phoneNumber()` rather than the JavaBeans convention of prefixing with `get`, as in `alice.getPhoneNumber()`.","body":"What Rotteveel’s comment means is that the property accessor method on a record is named the same name of the property. So, <code>alice.phoneNumber()</code> rather than the JavaBeans convention of prefixing with <code>get</code>, as in <code>alice.getPhoneNumber()</code>."},{"owner":{"account_id":4607666,"reputation":1402,"user_id":4782694,"accept_rate":40,"display_name":"Youssef NAIT"},"score":1,"creation_date":1587310561,"post_id":61306802,"comment_id":108455510,"body_markdown":"Records have a lot of restrictions compared to classes, a record can&#39;t extend an other record or class for instance, check the restrictions section on this JEP   https://openjdk.java.net/jeps/359 for further details","body":"Records have a lot of restrictions compared to classes, a record can&#39;t extend an other record or class for instance, check the restrictions section on this JEP   <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/359</a> for further details"},{"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"score":1,"creation_date":1645109682,"post_id":61306802,"comment_id":125788057,"body_markdown":"Your sample is heavily biased toward record. When written without all the fat you added on the old class then the difference is much slimmer:  \n\n`record Person (String name, String surname) {}`  \nvs:  \n`@Value class Person { int name; int surname; }`\n\nMore other, just change `@Value` to `@Data` and magically you&#39;ll have a non-immutable class compatible with ORMs. Something that is not possible or difficult to achieve with java 17 record.","body":"Your sample is heavily biased toward record. When written without all the fat you added on the old class then the difference is much slimmer:    <code>record Person (String name, String surname) {}</code>   vs:   <code>@Value class Person { int name; int surname; }</code>  More other, just change <code>@Value</code> to <code>@Data</code> and magically you&#39;ll have a non-immutable class compatible with ORMs. Something that is not possible or difficult to achieve with java 17 record."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1587311406,"creation_date":1587311406,"answer_id":61307257,"question_id":61306802,"body_markdown":"NB: Instead of that christmas tree of annotations, you can just use `@Value` on the class. Note that this makes the class final, and makes all fields both private and final, and gives you all the rest as well. This is close to what records are (they too are final, and all fields inside are final).\r\n\r\n`record` is still in preview, so for production code, obviously it&#39;s not, yet, suitable. Use lombok.\r\n\r\nOnce records are out of preview, it&#39;s more complicated. Lombok is _FAR_ more flexible; you can easily swap in some new aspect without having to rewrite all the code (you can just, for example, add an &#39;extends&#39; clause to your class without having to then handwrite the equals and hashCode method; something records cannot give you). Lombok also gives you more features: You can for example add a builder by adding the `@Builder` annotation; not something records can do.\r\n\r\nIf it&#39;s highly unlikely you&#39;re going to use any of that for the class you&#39;re designing - I&#39;d use records.\r\n\r\nDISCLAIMER: I&#39;m a core contributor to Project Lombok.\r\n","title":"Lombok getter/setter vs Java 14 record","body":"<p>NB: Instead of that christmas tree of annotations, you can just use <code>@Value</code> on the class. Note that this makes the class final, and makes all fields both private and final, and gives you all the rest as well. This is close to what records are (they too are final, and all fields inside are final).</p>\n\n<p><code>record</code> is still in preview, so for production code, obviously it's not, yet, suitable. Use lombok.</p>\n\n<p>Once records are out of preview, it's more complicated. Lombok is <em>FAR</em> more flexible; you can easily swap in some new aspect without having to rewrite all the code (you can just, for example, add an 'extends' clause to your class without having to then handwrite the equals and hashCode method; something records cannot give you). Lombok also gives you more features: You can for example add a builder by adding the <code>@Builder</code> annotation; not something records can do.</p>\n\n<p>If it's highly unlikely you're going to use any of that for the class you're designing - I'd use records.</p>\n\n<p>DISCLAIMER: I'm a core contributor to Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1644852340,"creation_date":1587312371,"answer_id":61307492,"question_id":61306802,"body_markdown":"I&#39;ve been playing around with this combination for some time as well and with the slight bit of hands-on I could list down the following differences: \r\n\r\n#### Lombok\r\n\r\n - Records are not yet as powerful a tool to eliminate Lombok all together. Note that the library has much more to offer than just the `@Getter, @AllArgsConstructor, @ToString, @EqualsAndHashCode`.\r\n - Experienced by self, the `EqualsAndHashCode` is not the same as you would expect [when it comes to migrating to records](https://stackoverflow.com/questions/60796961/compatibility-issues-while-converting-classes-to-records).\r\n\r\n#### Records\r\n\r\n- Records are an official part of the language, with support of all major IDEs \r\n- On a different note, if the requirement of your object representation is to be a &quot;data carrier&quot; you can still seek advantage of Records, without relying on an additional library to reduce the boilerplate code to perform that precisely. That is the reason that as a conclusive note [this blog](https://blogs.oracle.com/javamagazine/records-come-to-java#anchor_8) reads the following:\r\n&gt; *It will also help teams eliminate many hand-coded implementations of\r\n&gt; the underlying pattern and reduce or remove the need for libraries\r\n&gt; like Lombok.*\r\n\r\n\r\nOf course, on a day-to-day basis, it is always wise based on the requirements of a project to choose which way to follow and practice.","title":"Lombok getter/setter vs Java 14 record","body":"<p>I've been playing around with this combination for some time as well and with the slight bit of hands-on I could list down the following differences:</p>\n<h4>Lombok</h4>\n<ul>\n<li>Records are not yet as powerful a tool to eliminate Lombok all together. Note that the library has much more to offer than just the <code>@Getter, @AllArgsConstructor, @ToString, @EqualsAndHashCode</code>.</li>\n<li>Experienced by self, the <code>EqualsAndHashCode</code> is not the same as you would expect <a href=\"https://stackoverflow.com/questions/60796961/compatibility-issues-while-converting-classes-to-records\">when it comes to migrating to records</a>.</li>\n</ul>\n<h4>Records</h4>\n<ul>\n<li>Records are an official part of the language, with support of all major IDEs</li>\n<li>On a different note, if the requirement of your object representation is to be a &quot;data carrier&quot; you can still seek advantage of Records, without relying on an additional library to reduce the boilerplate code to perform that precisely. That is the reason that as a conclusive note <a href=\"https://blogs.oracle.com/javamagazine/records-come-to-java#anchor_8\" rel=\"noreferrer\">this blog</a> reads the following:</li>\n</ul>\n<blockquote>\n<p><em>It will also help teams eliminate many hand-coded implementations of\nthe underlying pattern and reduce or remove the need for libraries\nlike Lombok.</em></p>\n</blockquote>\n<p>Of course, on a day-to-day basis, it is always wise based on the requirements of a project to choose which way to follow and practice.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1587480045,"creation_date":1587393110,"answer_id":61325018,"question_id":61306802,"body_markdown":"Lombok, and the `record` feature of the Java language, are different tools for different things.  There is some superficial overlap, but don&#39;t let that distract you.\r\n\r\nLombok is largely about _syntactic_ convenience; it is a macro-processor pre-loaded with some known useful patterns of code.  It doesn&#39;t confer any semantics; it just automates the patterns, according to some knobs you set in the code with annotations.  Lombok is purely about the convenience of implementing data-carrying classes.  \r\n\r\nRecords are a _semantic_ feature; they are _nominal tuples_.  By making a semantic declaration that `Point` *is* a tuple of `(int x, int y)`, the compiler can derive its representation, as well as construction, declaration, equality, hashing, and string representation protocols, from this state description.  Because they carry semantics, readers and frameworks can also reason with higher confidence about the API of records.  (This may also be syntactically convenient; if so, that&#39;s great.)\r\n\r\n","title":"Lombok getter/setter vs Java 14 record","body":"<p>Lombok, and the <code>record</code> feature of the Java language, are different tools for different things.  There is some superficial overlap, but don't let that distract you.</p>\n\n<p>Lombok is largely about <em>syntactic</em> convenience; it is a macro-processor pre-loaded with some known useful patterns of code.  It doesn't confer any semantics; it just automates the patterns, according to some knobs you set in the code with annotations.  Lombok is purely about the convenience of implementing data-carrying classes.  </p>\n\n<p>Records are a <em>semantic</em> feature; they are <em>nominal tuples</em>.  By making a semantic declaration that <code>Point</code> <em>is</em> a tuple of <code>(int x, int y)</code>, the compiler can derive its representation, as well as construction, declaration, equality, hashing, and string representation protocols, from this state description.  Because they carry semantics, readers and frameworks can also reason with higher confidence about the API of records.  (This may also be syntactically convenient; if so, that's great.)</p>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1605155570,"creation_date":1598449855,"answer_id":63599159,"question_id":61306802,"body_markdown":"Java Records don&#39;t require any additional dependency, so it&#39;s better to use them instead of Lombok I think.\r\n\r\nIf your project supports Java 14 you can already use them in Eclipse.\r\n \r\nThere&#39;s a plugin in the marketplace for it:\r\n\r\nhttps://marketplace.eclipse.org/content/java-14-support-eclipse-2020-03-415\r\n\r\n","title":"Lombok getter/setter vs Java 14 record","body":"<p>Java Records don't require any additional dependency, so it's better to use them instead of Lombok I think.</p>\n<p>If your project supports Java 14 you can already use them in Eclipse.</p>\n<p>There's a plugin in the marketplace for it:</p>\n<p><a href=\"https://marketplace.eclipse.org/content/java-14-support-eclipse-2020-03-415\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/java-14-support-eclipse-2020-03-415</a></p>\n"},{"tags":[],"owner":{"account_id":1281146,"reputation":1594,"user_id":1235217,"display_name":"Stefan Feuerhahn"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1612977112,"creation_date":1603273742,"answer_id":64460940,"question_id":61306802,"body_markdown":"While Brian explains well the different goals of Lombok and records, he does not explain when to use which.\r\n\r\nIf your class is a [&quot;transparent, shallowly immutable data aggregate&quot;][1] then a record will do a great job because:\r\n\r\n1. it has even less ceremony than a class annotated with Lombok\r\n2. it carries the semantic information &quot;this is an immutable data class&quot; (as emphasized in Brian Goetz&#39;s answer). This semantic information may be valuable both to programmers and to frameworks. \r\n\r\nI would still use Lombok if your class cannot live with the restrictions of records (e.g. immutability, no builder, not extensible).\r\n\r\n  [1]: https://youtu.be/J6fegDQPgps?t=1532","title":"Lombok getter/setter vs Java 14 record","body":"<p>While Brian explains well the different goals of Lombok and records, he does not explain when to use which.</p>\n<p>If your class is a <a href=\"https://youtu.be/J6fegDQPgps?t=1532\" rel=\"noreferrer\">&quot;transparent, shallowly immutable data aggregate&quot;</a> then a record will do a great job because:</p>\n<ol>\n<li>it has even less ceremony than a class annotated with Lombok</li>\n<li>it carries the semantic information &quot;this is an immutable data class&quot; (as emphasized in Brian Goetz's answer). This semantic information may be valuable both to programmers and to frameworks.</li>\n</ol>\n<p>I would still use Lombok if your class cannot live with the restrictions of records (e.g. immutability, no builder, not extensible).</p>\n"},{"tags":[],"owner":{"account_id":23524026,"reputation":1,"user_id":17570798,"display_name":"user17570798"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1638443988,"creation_date":1638443988,"answer_id":70198482,"question_id":61306802,"body_markdown":"In short, if you are doing functional coding with Java, use records. Otherwise use Lombok, it is much more flexible and powerful.\r\n\r\nThere are some exceptions to this rule for e.g. in API coding.","title":"Lombok getter/setter vs Java 14 record","body":"<p>In short, if you are doing functional coding with Java, use records. Otherwise use Lombok, it is much more flexible and powerful.</p>\n<p>There are some exceptions to this rule for e.g. in API coding.</p>\n"}],"owner":{"account_id":7866746,"reputation":1275,"user_id":5945360,"display_name":"gixlg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27021,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":61325018,"answer_count":6,"score":78,"last_activity_date":1644852340,"creation_date":1587309651,"question_id":61306802,"body_markdown":"I love project [Lombok](https://projectlombok.org/) but in these days I&#39;m reading and trying some of the new features of java 14.\r\n\r\nInside the new capability, there is the [record](https://openjdk.java.net/jeps/359) keyword that allows creating a class with already built-in the following functionality: constructor, private final fields, accessors, equals/hashCode, getters, toString methods.\r\n\r\nNow my question is: is better to rely on the feature of Lombok or should we start using the record functionality:\r\n\r\nIs better to use this:\r\n\r\n```java\r\nrecord Person (String name, String surname) {}\r\n```\r\n\r\nor that:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class Person {\r\n  @Getter private int name;\r\n  @Getter private int surname;\r\n}\r\n```\r\n\r\nWhat are the pros and cons of the both approach?\r\n","title":"Lombok getter/setter vs Java 14 record","body":"<p>I love project <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">Lombok</a> but in these days I'm reading and trying some of the new features of java 14.</p>\n<p>Inside the new capability, there is the <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">record</a> keyword that allows creating a class with already built-in the following functionality: constructor, private final fields, accessors, equals/hashCode, getters, toString methods.</p>\n<p>Now my question is: is better to rely on the feature of Lombok or should we start using the record functionality:</p>\n<p>Is better to use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person (String name, String surname) {}\n</code></pre>\n<p>or that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@ToString\n@EqualsAndHashCode\npublic class Person {\n  @Getter private int name;\n  @Getter private int surname;\n}\n</code></pre>\n<p>What are the pros and cons of the both approach?</p>\n"},{"tags":["java","spring","spring-boot","repository","thymeleaf"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1644851486,"post_id":71114003,"comment_id":125708515,"body_markdown":"Why does `findOne()` return a `List`? Do you expect there to be more than one of one?","body":"Why does <code>findOne()</code> return a <code>List</code>? Do you expect there to be more than one of one?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1644852015,"post_id":71114003,"comment_id":125708719,"body_markdown":"Remove the `findOne` method, there is already `findById` for this.","body":"Remove the <code>findOne</code> method, there is already <code>findById</code> for this."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644852225,"post_id":71114003,"comment_id":125708808,"body_markdown":"Method (not variable) `findOne` is declared by default and returns `Optional&lt;Book&gt;`, not `List&lt;Book&gt;`. You should not be declaring it in your repository and definitely should not be declaring it to return a list.","body":"Method (not variable) <code>findOne</code> is declared by default and returns <code>Optional&lt;Book&gt;</code>, not <code>List&lt;Book&gt;</code>. You should not be declaring it in your repository and definitely should not be declaring it to return a list."}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644852276,"creation_date":1644852276,"answer_id":71114196,"question_id":71114003,"body_markdown":"JPA generates query based on the method name....\r\nfindByTitle(String t) -&gt; select * where title = t;\r\nBut findOne(Long id) cannot be translated. Therefore, JPA assumes that this is a custom query, but you do not override it nor add a custom query via annotation, so it fails. see doc for more details: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation.\r\n\r\nI suggest using the existing function findById() which comes with every CRUD repository.\r\n\r\nAlso, @Kayaman is right, why does a `findOne()` function return a list.","title":"Can&#39;t get edit to work in my java bookstore application","body":"<p>JPA generates query based on the method name....\nfindByTitle(String t) -&gt; select * where title = t;\nBut findOne(Long id) cannot be translated. Therefore, JPA assumes that this is a custom query, but you do not override it nor add a custom query via annotation, so it fails. see doc for more details: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation</a>.</p>\n<p>I suggest using the existing function findById() which comes with every CRUD repository.</p>\n<p>Also, @Kayaman is right, why does a <code>findOne()</code> function return a list.</p>\n"}],"owner":{"account_id":14500069,"reputation":59,"user_id":10473535,"display_name":"Sebastian Bergman Sebu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644852276,"creation_date":1644851375,"question_id":71114003,"body_markdown":"I&#39;m trying to get a editbook feature into my java bookstore asignment but i can&#39;t get it to work. I&#39;m pretty sure im close just don&#39;t have the logic quite right\r\n\r\nHere&#39;s some error code&#39;s im getting:\r\n\r\n*org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;bookstoreController&#39;: Unsatisfied dependency expressed through field &#39;repository&#39;;*\r\n\r\n*Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)! Reason: Failed to create query for method public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)!*\r\n\r\n*Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)! No property findOne found for type Book!*\r\n\r\n*Caused by: org.springframework.data.mapping.PropertyReferenceException: No property findOne found for type Book!*\r\n\r\nIm not really good at parsing error&#39;s because im not really sure exactly what they all mean. But i know there is a problem with my findOne variable.\r\n\r\nThere&#39;s alot of different -java files and alot of di\r\nHere&#39;s my code:\r\n\r\nBookstoreController.java\r\n```\r\npackage hh.swd20.Bookstore.web;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport hh.swd20.Bookstore.domain.Book;\r\nimport hh.swd20.Bookstore.domain.BookRepository;\r\n\r\n@Controller\r\npublic class BookstoreController {\r\n\t\t\t@Autowired\r\n\t\t\tprivate BookRepository repository;\r\n\t\t\t\r\n\t\t\t@RequestMapping(&quot;/booklist&quot;)\r\n\t\t\tpublic String booklist(Model model) {\t\t\r\n\t\t\t\tmodel.addAttribute(&quot;books&quot;, repository.findAll());\r\n\t\t        return &quot;booklist&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@RequestMapping(value = &quot;/add&quot;)\r\n\t\t    public String addBook(Model model){\r\n\t\t    \tmodel.addAttribute(&quot;book&quot;, new Book());\r\n\t\t        return &quot;addbook&quot;;\r\n\t\t    } \r\n\t\t    \r\n\t\t    @RequestMapping(value = &quot;/savebook&quot;, method = RequestMethod.POST)\r\n\t\t    public String save(Book book){\r\n\t\t        repository.save(book);\r\n\t\t        return &quot;redirect:booklist&quot;;\r\n\t\t    }\r\n\t\t    \r\n\t\t    @RequestMapping(value=&quot;/books&quot;, method = RequestMethod.GET)\r\n\t\t\tpublic @ResponseBody List&lt;Book&gt; bookListRest() {\r\n\t\t\t\treturn (List&lt;Book&gt;) repository.findAll();\r\n\t\t\t}\r\n\t\t    \r\n\t\t    @RequestMapping(value=&quot;/books/{id}&quot;, method = RequestMethod.GET)\r\n\t\t    public @ResponseBody Book findbookRest(@PathVariable(&quot;id&quot;) Long bookId) {\r\n\t\t    \treturn (Book) repository.findOne(bookId);\r\n\t\t    }\r\n\t\t    \r\n\t\t    @RequestMapping(value = &quot;/edit/{id}&quot;, method = RequestMethod.GET)\r\n\t\t    public String editStudent(@PathVariable(&quot;id&quot;) Long bookId, Model model){\r\n\t\t    \tmodel.addAttribute(&quot;book&quot;, repository.findOne(bookId));\r\n\t\t        return &quot;editbook&quot;;\r\n\t\t    }\r\n\r\n\t\t    @RequestMapping(value = &quot;/delete/{id}&quot;, method = RequestMethod.GET)\r\n\t\t    public String deleteBook(@PathVariable(&quot;id&quot;) Long bookId, Model model) {\r\n\t\t    \trepository.deleteById(bookId);\r\n\t\t        return &quot;redirect:../booklist&quot;;\r\n\t\t    }\r\n}\r\n\r\n```\r\nBookRepository.java\r\n```\r\npackage hh.swd20.Bookstore.domain;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\r\n\t\r\n\tList&lt;Book&gt; findByTitle(String title);\r\n\r\n\tList&lt;Book&gt; findOne(Long id);\r\n}\r\n\r\n```\r\nBookstoreApplication.java\r\n```\r\npackage hh.swd20.Bookstore;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport hh.swd20.Bookstore.domain.Book;\r\nimport hh.swd20.Bookstore.domain.BookRepository;\r\n\r\n@SpringBootApplication\r\npublic class BookstoreApplication {\r\n\tprivate static final Logger log = LoggerFactory.getLogger(BookstoreApplication.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BookstoreApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic CommandLineRunner bookDemo(BookRepository repository) {\r\n\t\treturn (args) -&gt; {\r\n\t\t\tlog.info(&quot;save a couple of books&quot;);\r\n\t\t\trepository.save(new Book(&quot;Shadow of the Conqueror&quot;, &quot;Shad M. Brooks&quot;, 2019, &quot;945-3-16-14-15&quot;, 32));\r\n\t\t\trepository.save(new Book(&quot;The Way of Kings&quot;, &quot;Brandon Sanderson&quot;, 2010, &quot;9564-17-15-16&quot;, 35));\t\r\n\t\t\t\r\n\t\t\tlog.info(&quot;fetch all books&quot;);\r\n\t\t\tfor (Book book : repository.findAll()) {\r\n\t\t\t\tlog.info(book.toString());\r\n\t\t\t}\r\n\t\t};\r\n\r\n}\r\n}\r\n```\r\nBook.java\r\n```\r\npackage hh.swd20.Bookstore.domain;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Book {\r\n\t@Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String title;\r\n\tprivate String author;\r\n\tprivate int year;\r\n\tprivate String isbn;\r\n\tprivate int price;\r\n\t\r\n\tpublic Book(String title, String author, int year, String isbn, int price) {\r\n\t\tsuper();\r\n\t\tthis.title = title;\r\n\t\tthis.author = author;\r\n\t\tthis.year = year;\r\n\t\tthis.isbn = isbn;\r\n\t\tthis.price = price;\r\n\t}\r\n\t\r\n\tpublic Book(Long id, String title, String author, int year, String isbn, int price) {\r\n\t\tsuper();\r\n\t\tthis.title = title;\r\n\t\tthis.author = author;\r\n\t\tthis.year = year;\r\n\t\tthis.isbn = isbn;\r\n\t\tthis.price = price;\r\n\t}\r\n\t\r\n\tpublic Book(Long id) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\r\n\tpublic Book() {\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic String getAuthor() {\r\n\t\treturn author;\r\n\t}\r\n\r\n\tpublic int getYear() {\r\n\t\treturn year;\r\n\t}\r\n\r\n\tpublic String getIsbn() {\r\n\t\treturn isbn;\r\n\t}\r\n\r\n\tpublic int getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\t\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic void setAuthor(String author) {\r\n\t\tthis.author = author;\r\n\t}\r\n\r\n\tpublic void setYear(int year) {\r\n\t\tthis.year = year;\r\n\t}\r\n\r\n\tpublic void setIsbn(String isbn) {\r\n\t\tthis.isbn = isbn;\r\n\t}\r\n\r\n\tpublic void setPrice(int price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Bookstore [id=&quot; + id + &quot;, title=&quot; + title + &quot;, author=&quot; + author + &quot;, year=&quot; + year + &quot;, isbn=&quot; + isbn + &quot;, price=&quot;\r\n\t\t\t\t+ price + &quot;]&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nbooklist.html\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Booklist&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Books&lt;/h1&gt;\r\n    &lt;table&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t    &lt;th&gt;Title&lt;/th&gt;\r\n\t\t    &lt;th&gt;Author&lt;/th&gt;\r\n\t\t&lt;/tr&gt;  \r\n    \t&lt;tr th:each = &quot;book : ${books}&quot;&gt;\r\n    \t\t&lt;td th:text=&quot;${book.title}&quot;&gt;&lt;/td&gt;\r\n    \t\t&lt;td th:text=&quot;${book.author}&quot;&gt;&lt;/td&gt; \t\t\r\n    \t&lt;td&gt;&lt;a th:href=&quot;@{/edit/{id}(id=${book.id})}&quot;&gt;Edit&lt;/a&gt;&lt;a th:href=&quot;@{/delete/{id}(id=${book.id})}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;    \t\t\r\n    \t&lt;/tr&gt;\r\n     &lt;/table&gt;\r\n     &lt;a href=&quot;/add&quot;&gt;Add Book&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\naddbook.html\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Booklist add&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Add book&lt;/h1&gt;\r\n\t&lt;div&gt;\r\n\t\t&lt;form th:object=&quot;${book}&quot; th:action=&quot;@{savebook}&quot; action=&quot;#&quot; method=&quot;post&quot;&gt;\r\n\t\t  \t&lt;label for=&quot;booktitle&quot;&gt;Title&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;booktitle&quot; th:field=&quot;*{title}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t  \t&lt;label for=&quot;author&quot;&gt;Author&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;authorname&quot; th:field=&quot;*{author}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t  \t&lt;label for=&quot;bookyear&quot;&gt;Year&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{year}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t&lt;label for=&quot;bookisbn&quot;&gt;ISBN&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{isbn}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t&lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Save&quot;&gt;&lt;/input&gt;\r\n\t\t&lt;/form&gt;\r\n\t\t&lt;a href=&quot;/booklist&quot;&gt;Return&lt;/a&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\neditbook.html\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Booklist edit&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h1&gt;Edit book&lt;/h1&gt;\r\n\t&lt;div&gt;\r\n\t\t&lt;form th:object=&quot;${book}&quot; th:action=&quot;@{savebook}&quot; action=&quot;#&quot; method=&quot;post&quot;&gt;\r\n\t\t  \t&lt;label for=&quot;booktitle&quot;&gt;Title&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;booktitle&quot; th:field=&quot;*{title}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t  \t&lt;label for=&quot;author&quot;&gt;Author&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;authorname&quot; th:field=&quot;*{author}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t  \t&lt;label for=&quot;bookyear&quot;&gt;Year&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{year}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t&lt;label for=&quot;bookisbn&quot;&gt;ISBN&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{isbn}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t\r\n\t\t\t&lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; /&gt;\r\n\t\t\t&lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\r\n\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Save Book&quot;&gt;&lt;/input&gt;\r\n\t\t&lt;/form&gt;\r\n\t\t&lt;a href=&quot;/booklist&quot;&gt;Return&lt;/a&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n","title":"Can&#39;t get edit to work in my java bookstore application","body":"<p>I'm trying to get a editbook feature into my java bookstore asignment but i can't get it to work. I'm pretty sure im close just don't have the logic quite right</p>\n<p>Here's some error code's im getting:</p>\n<p><em>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookstoreController': Unsatisfied dependency expressed through field 'repository';</em></p>\n<p><em>Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)! Reason: Failed to create query for method public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)!</em></p>\n<p><em>Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List hh.swd20.Bookstore.domain.BookRepository.findOne(java.lang.Long)! No property findOne found for type Book!</em></p>\n<p><em>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property findOne found for type Book!</em></p>\n<p>Im not really good at parsing error's because im not really sure exactly what they all mean. But i know there is a problem with my findOne variable.</p>\n<p>There's alot of different -java files and alot of di\nHere's my code:</p>\n<p>BookstoreController.java</p>\n<pre><code>package hh.swd20.Bookstore.web;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport hh.swd20.Bookstore.domain.Book;\nimport hh.swd20.Bookstore.domain.BookRepository;\n\n@Controller\npublic class BookstoreController {\n            @Autowired\n            private BookRepository repository;\n            \n            @RequestMapping(&quot;/booklist&quot;)\n            public String booklist(Model model) {       \n                model.addAttribute(&quot;books&quot;, repository.findAll());\n                return &quot;booklist&quot;;\n            }\n            \n            @RequestMapping(value = &quot;/add&quot;)\n            public String addBook(Model model){\n                model.addAttribute(&quot;book&quot;, new Book());\n                return &quot;addbook&quot;;\n            } \n            \n            @RequestMapping(value = &quot;/savebook&quot;, method = RequestMethod.POST)\n            public String save(Book book){\n                repository.save(book);\n                return &quot;redirect:booklist&quot;;\n            }\n            \n            @RequestMapping(value=&quot;/books&quot;, method = RequestMethod.GET)\n            public @ResponseBody List&lt;Book&gt; bookListRest() {\n                return (List&lt;Book&gt;) repository.findAll();\n            }\n            \n            @RequestMapping(value=&quot;/books/{id}&quot;, method = RequestMethod.GET)\n            public @ResponseBody Book findbookRest(@PathVariable(&quot;id&quot;) Long bookId) {\n                return (Book) repository.findOne(bookId);\n            }\n            \n            @RequestMapping(value = &quot;/edit/{id}&quot;, method = RequestMethod.GET)\n            public String editStudent(@PathVariable(&quot;id&quot;) Long bookId, Model model){\n                model.addAttribute(&quot;book&quot;, repository.findOne(bookId));\n                return &quot;editbook&quot;;\n            }\n\n            @RequestMapping(value = &quot;/delete/{id}&quot;, method = RequestMethod.GET)\n            public String deleteBook(@PathVariable(&quot;id&quot;) Long bookId, Model model) {\n                repository.deleteById(bookId);\n                return &quot;redirect:../booklist&quot;;\n            }\n}\n\n</code></pre>\n<p>BookRepository.java</p>\n<pre><code>package hh.swd20.Bookstore.domain;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\n    \n    List&lt;Book&gt; findByTitle(String title);\n\n    List&lt;Book&gt; findOne(Long id);\n}\n\n</code></pre>\n<p>BookstoreApplication.java</p>\n<pre><code>package hh.swd20.Bookstore;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport hh.swd20.Bookstore.domain.Book;\nimport hh.swd20.Bookstore.domain.BookRepository;\n\n@SpringBootApplication\npublic class BookstoreApplication {\n    private static final Logger log = LoggerFactory.getLogger(BookstoreApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(BookstoreApplication.class, args);\n    }\n    \n    @Bean\n    public CommandLineRunner bookDemo(BookRepository repository) {\n        return (args) -&gt; {\n            log.info(&quot;save a couple of books&quot;);\n            repository.save(new Book(&quot;Shadow of the Conqueror&quot;, &quot;Shad M. Brooks&quot;, 2019, &quot;945-3-16-14-15&quot;, 32));\n            repository.save(new Book(&quot;The Way of Kings&quot;, &quot;Brandon Sanderson&quot;, 2010, &quot;9564-17-15-16&quot;, 35));  \n            \n            log.info(&quot;fetch all books&quot;);\n            for (Book book : repository.findAll()) {\n                log.info(book.toString());\n            }\n        };\n\n}\n}\n</code></pre>\n<p>Book.java</p>\n<pre><code>package hh.swd20.Bookstore.domain;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Book {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    private String title;\n    private String author;\n    private int year;\n    private String isbn;\n    private int price;\n    \n    public Book(String title, String author, int year, String isbn, int price) {\n        super();\n        this.title = title;\n        this.author = author;\n        this.year = year;\n        this.isbn = isbn;\n        this.price = price;\n    }\n    \n    public Book(Long id, String title, String author, int year, String isbn, int price) {\n        super();\n        this.title = title;\n        this.author = author;\n        this.year = year;\n        this.isbn = isbn;\n        this.price = price;\n    }\n    \n    public Book(Long id) {\n        super();\n        this.id = id;\n    }\n\n\n    public Book() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n    \n    public String getTitle() {\n        return title;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public String getIsbn() {\n        return isbn;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n    \n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public void setIsbn(String isbn) {\n        this.isbn = isbn;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Bookstore [id=&quot; + id + &quot;, title=&quot; + title + &quot;, author=&quot; + author + &quot;, year=&quot; + year + &quot;, isbn=&quot; + isbn + &quot;, price=&quot;\n                + price + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>booklist.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Booklist&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Books&lt;/h1&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Title&lt;/th&gt;\n            &lt;th&gt;Author&lt;/th&gt;\n        &lt;/tr&gt;  \n        &lt;tr th:each = &quot;book : ${books}&quot;&gt;\n            &lt;td th:text=&quot;${book.title}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${book.author}&quot;&gt;&lt;/td&gt;      \n        &lt;td&gt;&lt;a th:href=&quot;@{/edit/{id}(id=${book.id})}&quot;&gt;Edit&lt;/a&gt;&lt;a th:href=&quot;@{/delete/{id}(id=${book.id})}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;           \n        &lt;/tr&gt;\n     &lt;/table&gt;\n     &lt;a href=&quot;/add&quot;&gt;Add Book&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>addbook.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Booklist add&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Add book&lt;/h1&gt;\n    &lt;div&gt;\n        &lt;form th:object=&quot;${book}&quot; th:action=&quot;@{savebook}&quot; action=&quot;#&quot; method=&quot;post&quot;&gt;\n            &lt;label for=&quot;booktitle&quot;&gt;Title&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;booktitle&quot; th:field=&quot;*{title}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;author&quot;&gt;Author&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;authorname&quot; th:field=&quot;*{author}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;bookyear&quot;&gt;Year&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{year}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;bookisbn&quot;&gt;ISBN&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{isbn}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Save&quot;&gt;&lt;/input&gt;\n        &lt;/form&gt;\n        &lt;a href=&quot;/booklist&quot;&gt;Return&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>editbook.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Booklist edit&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Edit book&lt;/h1&gt;\n    &lt;div&gt;\n        &lt;form th:object=&quot;${book}&quot; th:action=&quot;@{savebook}&quot; action=&quot;#&quot; method=&quot;post&quot;&gt;\n            &lt;label for=&quot;booktitle&quot;&gt;Title&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;booktitle&quot; th:field=&quot;*{title}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;author&quot;&gt;Author&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;authorname&quot; th:field=&quot;*{author}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;bookyear&quot;&gt;Year&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{year}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;bookisbn&quot;&gt;ISBN&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{isbn}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            \n            &lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{price}&quot; /&gt;\n            &lt;div style=&quot;clear: both; display: block; height: 10px;&quot;&gt;&lt;/div&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Save Book&quot;&gt;&lt;/input&gt;\n        &lt;/form&gt;\n        &lt;a href=&quot;/booklist&quot;&gt;Return&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","scala","apache-spark","spark-streaming","parquet"],"answers":[{"tags":[],"owner":{"account_id":3496270,"reputation":1395,"user_id":2924373,"display_name":"Warren Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644851623,"creation_date":1644808047,"answer_id":71106753,"question_id":71105617,"body_markdown":"Try\r\n\r\n    val df: DataFrame = spark\r\n          .readStream\r\n          .option(&quot;maxFilesPerTrigger&quot;, 1)\r\n          .schema(schema)\r\n          .parquet(&quot;file:///d:/Programming/Scala/ScalaMaven/parquet1&quot;)","title":"Caused by: IllegalArgumentException: Wrong basePath for the root path [Spark]","body":"<p>Try</p>\n<pre><code>val df: DataFrame = spark\n      .readStream\n      .option(&quot;maxFilesPerTrigger&quot;, 1)\n      .schema(schema)\n      .parquet(&quot;file:///d:/Programming/Scala/ScalaMaven/parquet1&quot;)\n</code></pre>\n"}],"owner":{"account_id":24247411,"reputation":11,"user_id":18198930,"display_name":"Liubchyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644851623,"creation_date":1644793300,"question_id":71105617,"body_markdown":"I want to read a stream of the parquet files \r\n```import spark.implicits._\r\n    val df: DataFrame = spark\r\n      .readStream\r\n      .option(&quot;maxFilesPerTrigger&quot;, 1)\r\n      .schema(schema)\r\n      .parquet(&quot;D:/Programming/Scala/ScalaMaven/parquet1&quot;)\r\n```\r\n\r\nbut I`m getting this error\r\n```\r\njava.lang.IllegalArgumentException: Wrong basePath D:/path-to-the-folder-whith-parquet-files/parquet1 for the root path: file:/D:/another-path/parquet/part-00013-f3846a4a-2177-4a24-a7e1-3e20a898b4a6-c000.snappy.parquet\r\n```\r\n\r\nI just saw the interesting thing in the logs\r\n```\r\n22/02/14 09:37:21 WARN HadoopFSUtils: The directory file:/D:/another-path/parquet/part-00013-f3846a4a-2177-4a24-a7e1-3e20a898b4a6-c000.snappy.parquet was not found. Was it deleted very recently?\r\n```\r\n\r\n**Help me I`m stuck**","title":"Caused by: IllegalArgumentException: Wrong basePath for the root path [Spark]","body":"<p>I want to read a stream of the parquet files</p>\n<pre><code>    val df: DataFrame = spark\n      .readStream\n      .option(&quot;maxFilesPerTrigger&quot;, 1)\n      .schema(schema)\n      .parquet(&quot;D:/Programming/Scala/ScalaMaven/parquet1&quot;)\n</code></pre>\n<p>but I`m getting this error</p>\n<pre><code>java.lang.IllegalArgumentException: Wrong basePath D:/path-to-the-folder-whith-parquet-files/parquet1 for the root path: file:/D:/another-path/parquet/part-00013-f3846a4a-2177-4a24-a7e1-3e20a898b4a6-c000.snappy.parquet\n</code></pre>\n<p>I just saw the interesting thing in the logs</p>\n<pre><code>22/02/14 09:37:21 WARN HadoopFSUtils: The directory file:/D:/another-path/parquet/part-00013-f3846a4a-2177-4a24-a7e1-3e20a898b4a6-c000.snappy.parquet was not found. Was it deleted very recently?\n</code></pre>\n<p><strong>Help me I`m stuck</strong></p>\n"},{"tags":["java","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1644846723,"creation_date":1644846723,"answer_id":71112976,"question_id":71112818,"body_markdown":"Use `Stream.concat` inside the `flatMap` operation:\r\n\r\n    references.stream()\r\n            .flatMap(user -&gt; Stream.concat(\r\n                Stream.of(user.getId()),\r\n                user.getExternalIds().stream()\r\n            ))\r\n            .collect(Collectors.toList())\r\n","title":"Java 8 List from String and List of String","body":"<p>Use <code>Stream.concat</code> inside the <code>flatMap</code> operation:</p>\n<pre><code>references.stream()\n        .flatMap(user -&gt; Stream.concat(\n            Stream.of(user.getId()),\n            user.getExternalIds().stream()\n        ))\n        .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644848344,"creation_date":1644846940,"answer_id":71113035,"question_id":71112818,"body_markdown":"Try this:\r\n\r\n    references.stream()\r\n      .flatMap(u -&gt; Stream.of(List.of(u.getId()), u.getExternalIds()))\r\n      .flatMap(List::stream)\r\n      .collect(Collectors.toList());","title":"Java 8 List from String and List of String","body":"<p>Try this:</p>\n<pre><code>references.stream()\n  .flatMap(u -&gt; Stream.of(List.of(u.getId()), u.getExternalIds()))\n  .flatMap(List::stream)\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644850517,"creation_date":1644849603,"answer_id":71113621,"question_id":71112818,"body_markdown":"If you&#39;re using Java 16+ you can do it using `mapMulti`.  This essentially intercepts each item in the stream and replaces it with other items. It avoids re-streaming and flatmapping.  Since the nature of the stream(i.e. type) is being changed from `User` to `String`, the witness before `mapMulti` is required.\r\n\r\n- add the `user id` in the stream.\r\n- then add each `external id` in the stream for that user\r\n```\r\nList&lt;String&gt; results = references.stream()\r\n\t\t.&lt;String&gt;mapMulti((user, consumer) -&gt; {\r\n\t\t\tconsumer.accept(user.getId());\r\n\t\t\tfor (String id : user.getExternalIds()) {\r\n\t\t\t\tconsumer.accept(id);\r\n\t\t\t}\r\n\t\t}).toList();\r\n```\r\n","title":"Java 8 List from String and List of String","body":"<p>If you're using Java 16+ you can do it using <code>mapMulti</code>.  This essentially intercepts each item in the stream and replaces it with other items. It avoids re-streaming and flatmapping.  Since the nature of the stream(i.e. type) is being changed from <code>User</code> to <code>String</code>, the witness before <code>mapMulti</code> is required.</p>\n<ul>\n<li>add the <code>user id</code> in the stream.</li>\n<li>then add each <code>external id</code> in the stream for that user</li>\n</ul>\n<pre><code>List&lt;String&gt; results = references.stream()\n        .&lt;String&gt;mapMulti((user, consumer) -&gt; {\n            consumer.accept(user.getId());\n            for (String id : user.getExternalIds()) {\n                consumer.accept(id);\n            }\n        }).toList();\n</code></pre>\n"}],"owner":{"account_id":9690499,"reputation":145,"user_id":7188713,"display_name":"Ashish Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71112976,"answer_count":3,"score":1,"last_activity_date":1644851258,"creation_date":1644845997,"question_id":71112818,"body_markdown":"I want to generate a list of strings, comprising id and external ids, from a list of Bean.\r\n\r\n````\r\npublic class User {\r\n    private String id;\r\n    private List&lt;String&gt; externalIds;\r\n}\r\n````\r\n\r\nI got it using the below code, but here I need to do the stream twice.\r\n````\r\nList&lt;User&gt; references = new ArrayList();\r\nStream.concat(references.stream().map(User::getId),\r\nreferences.stream().map(User::getExternalIds).flatMap(Collection::stream))\r\n            .collect(Collectors.toList());\r\n````\r\nIs there any better way to rewrite this code?\r\n","title":"Java 8 List from String and List of String","body":"<p>I want to generate a list of strings, comprising id and external ids, from a list of Bean.</p>\n<pre><code>public class User {\n    private String id;\n    private List&lt;String&gt; externalIds;\n}\n</code></pre>\n<p>I got it using the below code, but here I need to do the stream twice.</p>\n<pre><code>List&lt;User&gt; references = new ArrayList();\nStream.concat(references.stream().map(User::getId),\nreferences.stream().map(User::getExternalIds).flatMap(Collection::stream))\n            .collect(Collectors.toList());\n</code></pre>\n<p>Is there any better way to rewrite this code?</p>\n"},{"tags":["java","sql","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"display_name":"user6022341"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479234383,"creation_date":1479234383,"answer_id":40617115,"question_id":40616881,"body_markdown":"SQL strings should use single quotes:\r\n\r\n    sqlContext().sql(&quot;SELECT *, &#39;\\&quot;&#39; AS quoteCol FROM tempdf&quot;);","title":"Spark SQL single quote error","body":"<p>SQL strings should use single quotes:</p>\n\n<pre><code>sqlContext().sql(\"SELECT *, '\\\"' AS quoteCol FROM tempdf\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22376442,"reputation":1,"user_id":16590637,"display_name":"gobinath muralitharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644851166,"creation_date":1644845632,"answer_id":71112758,"question_id":40616881,"body_markdown":"Better try it this way it will ignore the quotes included in the String. It should improve the readability:\r\n\r\n```\r\ndfs = sqlContext().sql(&quot;&quot;&quot;SELECT *, &#39;\\&quot;&#39; AS quoteCol FROM tempdf&quot;&quot;&quot;);\r\n```","title":"Spark SQL single quote error","body":"<p>Better try it this way it will ignore the quotes included in the String. It should improve the readability:</p>\n<pre><code>dfs = sqlContext().sql(&quot;&quot;&quot;SELECT *, '\\&quot;' AS quoteCol FROM tempdf&quot;&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":8510380,"reputation":450,"user_id":6380624,"accept_rate":27,"display_name":"Andrei Iatsuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5636,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1644851166,"creation_date":1479233640,"question_id":40616881,"body_markdown":"I have a DataFrame (Apache Spark 1.5).\r\nI want add new column using spark sql context to get new column where all raws contains a single quote.\r\n\r\nMy code:\r\n\r\n    df.registerTempTable(&quot;tempdf&quot;);\r\n    df = df.sqlContext().sql(&quot;SELECT *, \\&quot; \\\\\\&quot; \\&quot; as quoteCol FROM tempdf&quot;);\r\n\r\nAfter execution Spark throw next exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: [1.44] failure: ``union&#39;&#39; expected but ErrorToken(end of input) found\r\n    \r\n    SELECT *, &quot; \\&quot; &quot; as quoteCol FROM tempdf\r\n                                            ^\r\n    \tat scala.sys.package$.error(package.scala:27)\r\n    \tat org.apache.spark.sql.catalyst.AbstractSparkSQLParser.parse(AbstractSparkSQLParser.scala:36)\r\n    \tat org.apache.spark.sql.catalyst.DefaultParserDialect.parse(ParserDialect.scala:67)\r\n    \tat org.apache.spark.sql.SQLContext$$anonfun$2.apply(SQLContext.scala:211)\r\n    \tat org.apache.spark.sql.SQLContext$$anonfun$2.apply(SQLContext.scala:211)\r\n    \tat org.apache.spark.sql.execution.SparkSQLParser$$anonfun$org$apache$spark$sql$execution$SparkSQLParser$$others$1.apply(SparkSQLParser.scala:114)\r\n    \tat org.apache.spark.sql.execution.SparkSQLParser$$anonfun$org$apache$spark$sql$execution$SparkSQLParser$$others$1.apply(SparkSQLParser.scala:113)\r\n    \tat scala.util.parsing.combinator.Parsers$Success.map(Parsers.scala:137)\r\n        ...\r\n\r\nNext code work correctly and add new row with a single character:\r\n\r\n    df.registerTempTable(&quot;tempdf&quot;);\r\n    df = df.sqlContext().sql(&quot;SELECT *, \\&quot; q \\&quot; as quoteCol FROM tempdf&quot;);\r\n\r\nWhat am I doing wrong?","title":"Spark SQL single quote error","body":"<p>I have a DataFrame (Apache Spark 1.5).\nI want add new column using spark sql context to get new column where all raws contains a single quote.</p>\n\n<p>My code:</p>\n\n<pre><code>df.registerTempTable(\"tempdf\");\ndf = df.sqlContext().sql(\"SELECT *, \\\" \\\\\\\" \\\" as quoteCol FROM tempdf\");\n</code></pre>\n\n<p>After execution Spark throw next exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: [1.44] failure: ``union'' expected but ErrorToken(end of input) found\n\nSELECT *, \" \\\" \" as quoteCol FROM tempdf\n                                        ^\n    at scala.sys.package$.error(package.scala:27)\n    at org.apache.spark.sql.catalyst.AbstractSparkSQLParser.parse(AbstractSparkSQLParser.scala:36)\n    at org.apache.spark.sql.catalyst.DefaultParserDialect.parse(ParserDialect.scala:67)\n    at org.apache.spark.sql.SQLContext$$anonfun$2.apply(SQLContext.scala:211)\n    at org.apache.spark.sql.SQLContext$$anonfun$2.apply(SQLContext.scala:211)\n    at org.apache.spark.sql.execution.SparkSQLParser$$anonfun$org$apache$spark$sql$execution$SparkSQLParser$$others$1.apply(SparkSQLParser.scala:114)\n    at org.apache.spark.sql.execution.SparkSQLParser$$anonfun$org$apache$spark$sql$execution$SparkSQLParser$$others$1.apply(SparkSQLParser.scala:113)\n    at scala.util.parsing.combinator.Parsers$Success.map(Parsers.scala:137)\n    ...\n</code></pre>\n\n<p>Next code work correctly and add new row with a single character:</p>\n\n<pre><code>df.registerTempTable(\"tempdf\");\ndf = df.sqlContext().sql(\"SELECT *, \\\" q \\\" as quoteCol FROM tempdf\");\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","testcontainers","r2dbc"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1644778241,"post_id":71103813,"comment_id":125690876,"body_markdown":"Welcome to Stack Overflow.  If possible, please do not refer to another source to provide information that is critical to your question.  Your question should be able to be understood even if the external links it refers to all became broken.  You&#39;d be better off copying portions of the content at the end of that link and supplying them in the body of your question.","body":"Welcome to Stack Overflow.  If possible, please do not refer to another source to provide information that is critical to your question.  Your question should be able to be understood even if the external links it refers to all became broken.  You&#39;d be better off copying portions of the content at the end of that link and supplying them in the body of your question."}],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644851147,"creation_date":1644837126,"answer_id":71110925,"question_id":71103813,"body_markdown":"When you use Testcontainers&#39; [JDBC support](https://www.testcontainers.org/modules/databases/jdbc/), which you configure by adding `tc` in the jdbc url, the lifecycle of the container is managed automatically. \r\nSince you have two different urls instrumented like that, you get 2 containers. \r\n\r\nInstead you can choose a different way to manage the lifecycle that gives you more control. \r\n\r\nYou can either [do it yourself](https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/) by creating a containers instances and calling `start()/stop()` or for example use [JUnit integration](https://www.testcontainers.org/test_framework_integration/junit_5/) which will correspond containers lifecycle with the tests lifecycle.\r\n\r\n\r\nFor example for JUnit5, you mark you class with `@Testcontainers` and the fields with `@Container`, something like: \r\n\r\n```\r\n@Testcontainers\r\nclass MixedLifecycleTests {\r\n    @Container\r\n    private static PostgreSQLContainer postgresqlContainer = new PostgreSQLContainer();\r\n}\r\n```\r\n\r\nSince you&#39;re working on a Spring application you want to configure it to use the container, for that use `@DynamicPropertySource`: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html\r\n\r\nIn a nutshell, you mark a method with it and inside it configure Spring to use the databases in the container: \r\n\r\n```\r\n@DynamicPropertySource\r\nstatic void redisProperties(DynamicPropertyRegistry registry) {\r\n  registry.add(&quot;spring.datasource.url&quot;, postgresqlContainer:: getJdbcUrl);\r\n  registry.add(&quot;spring.datasource.username&quot;, postgresqlContainer::getUsername);\r\n  registry.add(&quot;spring.datasource.password&quot;, postgresqlContainer::getPassword);\r\n\r\n  registry.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:postgresql://&quot;\r\n                + postgreSQLContainer.getHost() + &quot;:&quot; + postgreSQLContainer.getFirstMappedPort()\r\n                + &quot;/&quot; + postgreSQLContainer.getDatabaseName());\r\n  registry.add(&quot;spring.r2dbc.username&quot;, postgreSQLContainer::getUsername);\r\n  registry.add(&quot;spring.r2dbc.password&quot;, postgreSQLContainer::getPassword);\r\n}\r\n```\r\n\r\nNote that since your app uses r2dbc and Liquibase works with non-reactive jdbc you should configure both. \r\n\r\n\r\n\r\n","title":"How to reuse a `testcontainers` container with two different drivers?","body":"<p>When you use Testcontainers' <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">JDBC support</a>, which you configure by adding <code>tc</code> in the jdbc url, the lifecycle of the container is managed automatically.\nSince you have two different urls instrumented like that, you get 2 containers.</p>\n<p>Instead you can choose a different way to manage the lifecycle that gives you more control.</p>\n<p>You can either <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"nofollow noreferrer\">do it yourself</a> by creating a containers instances and calling <code>start()/stop()</code> or for example use <a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\" rel=\"nofollow noreferrer\">JUnit integration</a> which will correspond containers lifecycle with the tests lifecycle.</p>\n<p>For example for JUnit5, you mark you class with <code>@Testcontainers</code> and the fields with <code>@Container</code>, something like:</p>\n<pre><code>@Testcontainers\nclass MixedLifecycleTests {\n    @Container\n    private static PostgreSQLContainer postgresqlContainer = new PostgreSQLContainer();\n}\n</code></pre>\n<p>Since you're working on a Spring application you want to configure it to use the container, for that use <code>@DynamicPropertySource</code>: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html</a></p>\n<p>In a nutshell, you mark a method with it and inside it configure Spring to use the databases in the container:</p>\n<pre><code>@DynamicPropertySource\nstatic void redisProperties(DynamicPropertyRegistry registry) {\n  registry.add(&quot;spring.datasource.url&quot;, postgresqlContainer:: getJdbcUrl);\n  registry.add(&quot;spring.datasource.username&quot;, postgresqlContainer::getUsername);\n  registry.add(&quot;spring.datasource.password&quot;, postgresqlContainer::getPassword);\n\n  registry.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:postgresql://&quot;\n                + postgreSQLContainer.getHost() + &quot;:&quot; + postgreSQLContainer.getFirstMappedPort()\n                + &quot;/&quot; + postgreSQLContainer.getDatabaseName());\n  registry.add(&quot;spring.r2dbc.username&quot;, postgreSQLContainer::getUsername);\n  registry.add(&quot;spring.r2dbc.password&quot;, postgreSQLContainer::getPassword);\n}\n</code></pre>\n<p>Note that since your app uses r2dbc and Liquibase works with non-reactive jdbc you should configure both.</p>\n"}],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71110925,"answer_count":1,"score":2,"last_activity_date":1644851147,"creation_date":1644777876,"question_id":71103813,"body_markdown":"I&#39;m using both r2dbc and Liquibase in the same application. However, Liquibase is not able to run migrations using r2dbc so I need to use a separate jdbc driver just for it.\r\n\r\nI followed the solution [here](https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase), and used testcontainers for testing, so my `application-test.yaml` looks exactly like this:\r\n\r\n```yaml\r\nspring:\r\n  liquibase:\r\n    url: jdbc:tc:postgresql:14.1:///testdb\r\n  r2dbc:\r\n    url: r2dbc:tc:postgresql:///testdb?TC_IMAGE_TAG=14.1\r\n```\r\n\r\nThis works perfectly, migrations are launched and then the queries are able to run. The problem is, that this starts two different containers! So the migrations are run against one of them, and the queries against the other, and thus they find the database empty.\r\n\r\nIs there any way I can tell testcontainers to use the same container for both connections.","title":"How to reuse a `testcontainers` container with two different drivers?","body":"<p>I'm using both r2dbc and Liquibase in the same application. However, Liquibase is not able to run migrations using r2dbc so I need to use a separate jdbc driver just for it.</p>\n<p>I followed the solution <a href=\"https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase\">here</a>, and used testcontainers for testing, so my <code>application-test.yaml</code> looks exactly like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  liquibase:\n    url: jdbc:tc:postgresql:14.1:///testdb\n  r2dbc:\n    url: r2dbc:tc:postgresql:///testdb?TC_IMAGE_TAG=14.1\n</code></pre>\n<p>This works perfectly, migrations are launched and then the queries are able to run. The problem is, that this starts two different containers! So the migrations are run against one of them, and the queries against the other, and thus they find the database empty.</p>\n<p>Is there any way I can tell testcontainers to use the same container for both connections.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644828849,"post_id":71109160,"comment_id":125700145,"body_markdown":"Which database engine are you using?  Some databases don&#39;t support a `JSON` type.","body":"Which database engine are you using?  Some databases don&#39;t support a <code>JSON</code> type."},{"owner":{"account_id":23304560,"reputation":1,"user_id":17384714,"display_name":"tuichenchuxin"},"score":0,"creation_date":1644829935,"post_id":71109160,"comment_id":125700509,"body_markdown":"@StephenC I use MySQL, PostgreSql, Oracle, SQLServer. Not just for `JSON` but also other define.","body":"@StephenC I use MySQL, PostgreSql, Oracle, SQLServer. Not just for <code>JSON</code> but also other define."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644830049,"post_id":71109160,"comment_id":125700533,"body_markdown":"At least two of those products don&#39;t support JSON in older (but still supported) versions.  As for the other types, it may be the same problem.","body":"At least two of those products don&#39;t support JSON in older (but still supported) versions.  As for the other types, it may be the same problem."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644850967,"creation_date":1644829158,"answer_id":71109286,"question_id":71109160,"body_markdown":"The code that you are using looks to be the correct way to get the supported column types.\r\n\r\nOne possible explanation for your not seeing `JSON` in the output is that your database does not support `JSON` as a column type.  For instance, although MySQL 8.x supports the `JSON` data type, according to [the manual](https://dev.mysql.com/doc/refman/5.6/en/data-types.html) MySQL 5.6 does not support it.\r\n\r\nIt could also be the database driver.  For instance, I don&#39;t know what would happen *vis a vis* JSON support if you tried to use a Connector/J 5.1 driver with a MySQL 8.x database.\r\n\r\n--------------------\r\n\r\n**UPDATE**\r\n\r\nI had a look at the source code MySQL Connector/J 8.x (latest), and I think that the reason that you can&#39;t see `JSON` is ... **it is a bug in the JDBC driver.**\r\n\r\nLooking at the implementation class for [`DatabaseMetadata`](https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/DatabaseMetaData.java), at line 4012 (or thereabouts) we see that the `getTypeInfo()` has code that assembles a `ResultSet` for a hard-wired list of types.  The `JSON` type is not there, and there is a comment that says:\r\n\r\n      // TODO add missed types (aliases)\r\n\r\n(FWIW, I couldn&#39;t see any logic in the driver to check which data types are *actually* supported by the database.  That is potentially another bug.)\r\n\r\nSo, my &quot;possible explanations&quot; (see above) were not the actual explanation in your particular case.\r\n\r\n------------------\r\n\r\nSolution?  I don&#39;t think there is a good one in this case.  But I recommend that you [submit a bug report](https://bugs.mysql.com/).  (I couldn&#39;t find an existing bug report for this particular issue, though there were some old bugs about missing types in MySQL Connector/J 5.x)\r\n\r\n","title":"How to get java.sql.Types from mysql column define without creating the table?","body":"<p>The code that you are using looks to be the correct way to get the supported column types.</p>\n<p>One possible explanation for your not seeing <code>JSON</code> in the output is that your database does not support <code>JSON</code> as a column type.  For instance, although MySQL 8.x supports the <code>JSON</code> data type, according to <a href=\"https://dev.mysql.com/doc/refman/5.6/en/data-types.html\" rel=\"nofollow noreferrer\">the manual</a> MySQL 5.6 does not support it.</p>\n<p>It could also be the database driver.  For instance, I don't know what would happen <em>vis a vis</em> JSON support if you tried to use a Connector/J 5.1 driver with a MySQL 8.x database.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>I had a look at the source code MySQL Connector/J 8.x (latest), and I think that the reason that you can't see <code>JSON</code> is ... <strong>it is a bug in the JDBC driver.</strong></p>\n<p>Looking at the implementation class for <a href=\"https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/DatabaseMetaData.java\" rel=\"nofollow noreferrer\"><code>DatabaseMetadata</code></a>, at line 4012 (or thereabouts) we see that the <code>getTypeInfo()</code> has code that assembles a <code>ResultSet</code> for a hard-wired list of types.  The <code>JSON</code> type is not there, and there is a comment that says:</p>\n<pre><code>  // TODO add missed types (aliases)\n</code></pre>\n<p>(FWIW, I couldn't see any logic in the driver to check which data types are <em>actually</em> supported by the database.  That is potentially another bug.)</p>\n<p>So, my &quot;possible explanations&quot; (see above) were not the actual explanation in your particular case.</p>\n<hr />\n<p>Solution?  I don't think there is a good one in this case.  But I recommend that you <a href=\"https://bugs.mysql.com/\" rel=\"nofollow noreferrer\">submit a bug report</a>.  (I couldn't find an existing bug report for this particular issue, though there were some old bugs about missing types in MySQL Connector/J 5.x)</p>\n"}],"owner":{"account_id":23304560,"reputation":1,"user_id":17384714,"display_name":"tuichenchuxin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644850967,"creation_date":1644828432,"question_id":71109160,"body_markdown":"## goal\r\n\r\nGet java.sql.Types without creating table.\r\n\r\n## detail\r\n\r\nIf I define a column like this &quot;`a` JSON DEFAULT NULL&quot;\r\n\r\nHow can I get java.sql.Types about column &#39;a&#39;?\r\n## what I have tried\r\nI use jdbc, so I use `connection.getMetaData().getTypeInfo` to get all types\r\n\r\n        public static Map&lt;String, Integer&gt; load(final DatabaseMetaData databaseMetaData) throws SQLException {\r\n        Map&lt;String, Integer&gt; result = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n        try (ResultSet resultSet = databaseMetaData.getTypeInfo()) {\r\n            while (resultSet.next()) {\r\n                result.put(resultSet.getString(&quot;TYPE_NAME&quot;), resultSet.getInt(&quot;DATA_TYPE&quot;));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nThen I get this map like this\r\n\r\nBIGINT -&gt; {Integer@5274} -5\r\n\r\nBIGINT UNSIGNED -&gt; {Integer@5274} -5\r\n\r\nAnd so on.\r\n\r\nBut there is no JSON.\r\n## what&#39;s more?\r\nIf I define like this\r\n\r\n&quot;id_card LONG CHAR VARYING&quot;\r\n\r\nThen how can I get the java.sql.Types?","title":"How to get java.sql.Types from mysql column define without creating the table?","body":"<h2>goal</h2>\n<p>Get java.sql.Types without creating table.</p>\n<h2>detail</h2>\n<p>If I define a column like this &quot;<code>a</code> JSON DEFAULT NULL&quot;</p>\n<p>How can I get java.sql.Types about column 'a'?</p>\n<h2>what I have tried</h2>\n<p>I use jdbc, so I use <code>connection.getMetaData().getTypeInfo</code> to get all types</p>\n<pre><code>    public static Map&lt;String, Integer&gt; load(final DatabaseMetaData databaseMetaData) throws SQLException {\n    Map&lt;String, Integer&gt; result = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n    try (ResultSet resultSet = databaseMetaData.getTypeInfo()) {\n        while (resultSet.next()) {\n            result.put(resultSet.getString(&quot;TYPE_NAME&quot;), resultSet.getInt(&quot;DATA_TYPE&quot;));\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Then I get this map like this</p>\n<p>BIGINT -&gt; {Integer@5274} -5</p>\n<p>BIGINT UNSIGNED -&gt; {Integer@5274} -5</p>\n<p>And so on.</p>\n<p>But there is no JSON.</p>\n<h2>what's more?</h2>\n<p>If I define like this</p>\n<p>&quot;id_card LONG CHAR VARYING&quot;</p>\n<p>Then how can I get the java.sql.Types?</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644851957,"post_id":71113901,"comment_id":125708698,"body_markdown":"If your `CustomListener` isn&#39;t a Spring Bean, where/how does it get the dependencies from? How is this thing being created? There is too little information currently to go on.","body":"If your <code>CustomListener</code> isn&#39;t a Spring Bean, where/how does it get the dependencies from? How is this thing being created? There is too little information currently to go on."},{"owner":{"account_id":24254230,"reputation":1,"user_id":18204868,"display_name":"OneTimeUser1"},"score":0,"creation_date":1644852403,"post_id":71113901,"comment_id":125708881,"body_markdown":"It is created in method createQueue in JmsController, where it obtains diceRollingService instance, as shown in top-most snippet.","body":"It is created in method createQueue in JmsController, where it obtains diceRollingService instance, as shown in top-most snippet."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644852534,"post_id":71113901,"comment_id":125708923,"body_markdown":"Well the method is called as you are getting the output, you are injecting the mock. So it doesn&#39;t match. What does your `EventRoll` look like?","body":"Well the method is called as you are getting the output, you are injecting the mock. So it doesn&#39;t match. What does your <code>EventRoll</code> look like?"}],"owner":{"account_id":24254230,"reputation":1,"user_id":18204868,"display_name":"OneTimeUser1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644850902,"creation_date":1644850902,"question_id":71113901,"body_markdown":"I&#39;m writing Spring application to familiarize myself with messaging part of the framework. I want to send events requesting the server to roll a die. I am able to spawn listeners listening to different queues during runtime. This controller looks like this:\r\n\r\n    @RestController\r\n    public class JmsController {\r\n    private JmsTemplate jmsTemplate;\r\n    private ConnectionFactory connectionFactory;\r\n    private DiceRollingService diceRollingService;\r\n\r\n    @Autowired\r\n    public JmsController(JmsTemplate jmsTemplate, ConnectionFactory connectionFactory, DiceRollingService diceRollingService) {\r\n        this.jmsTemplate = jmsTemplate;\r\n        this.connectionFactory = connectionFactory;\r\n        this.diceRollingService = diceRollingService;\r\n    }\r\n\r\n    @PostMapping(&quot;/createQueue&quot;)\r\n    public void createQueue(@RequestParam String name) throws JMSException {\r\n        Session session = connectionFactory.createConnection().createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        Queue queue = session.createQueue(name);\r\n        MessageConsumer consumer = session.createConsumer(queue);\r\n        consumer.setMessageListener(new CustomListener(name, diceRollingService));\r\n    }\r\n\r\n    @PostMapping(&quot;/sendToQueue&quot;)\r\n    public void sendToQueue(@RequestBody EventRoll event) {\r\n        jmsTemplate.convertAndSend(event.getTargetQueue(), event);\r\n    }\r\n    }\r\n\r\nOne endpoint is responsible for creating new consumer, and another one allows to send a message to it. Below is code for my listener.\r\n\r\n    public class CustomListener implements MessageListener {\r\n    private final String queueName;\r\n    private final ObjectMapper objectMapper;\r\n    private final DiceRollingService diceRollingService;\r\n\r\n    public CustomListener(String queueName, DiceRollingService diceRollingService) {\r\n        this.queueName = queueName;\r\n        objectMapper = new ObjectMapper();\r\n        this.diceRollingService = diceRollingService;\r\n    }\r\n\r\n    @Override\r\n    public void onMessage(Message message) {\r\n        try {\r\n            String messageBody = message.getBody(String.class);\r\n            JSONObject json = new JSONObject(messageBody);\r\n            EventType type = EventType.valueOf(json.getString(&quot;eventType&quot;));\r\n\r\n            switch(type) {\r\n                case ROLL:\r\n                    EventRoll event = objectMapper.readValue(messageBody, EventRoll.class);\r\n                    int a = diceRollingService.rollDice(event.getDie());\r\n                    System.out.println(&quot;Rolled: &quot; + a + &quot; from &quot; + event.getDie() + &quot; die at &quot; + queueName);\r\n                    break;\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n\r\nCurrently I am able to receive only one event called EventRoll which has following fields: targetQueue(used in controller), eventType(used in listener) and die(used in service). Mentioned service is responsible for rolling a die:\r\n\r\n    @Service\r\n    public class DiceRollingService {\r\n    private final SecureRandom generator;\r\n\r\n    public DiceRollingService() {\r\n        generator = new SecureRandom();\r\n    }\r\n\r\n    public int rollDice(Integer dice) {\r\n        return generator.nextInt(dice) + 1;\r\n    }\r\n    }\r\n\r\nFor a few days I was testing everything manually using Postman. I was making requests to create queue&#39;s and then sending EventRoll&#39;s to them. That was working fine, but I decided to write some automated unit tests. I have come up with something like this: \r\n\r\n    @SpringBootTest\r\n    public class EventRollTest {\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n    @MockBean\r\n    private DiceRollingService diceRollingService;\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    @Test\r\n    public void eventRollReceived() throws Exception {\r\n        when(diceRollingService.rollDice(any())).thenReturn(5);\r\n\r\n        JmsController jmsController = new JmsController(jmsTemplate, connectionFactory, diceRollingService);\r\n        jmsController.createQueue(&quot;newQueue&quot;);\r\n        EventRoll eventRoll = new EventRoll(10);\r\n        eventRoll.setEventType(EventType.ROLL);\r\n        eventRoll.setTargetQueue(&quot;newQueue&quot;);\r\n        jmsController.sendToQueue(eventRoll);\r\n\r\n        verify(diceRollingService, times(1)).rollDice(any());\r\n    }\r\n    }\r\n\r\nHere comes the problem. It seems like dicerollingService mock doesn&#39;t return proper value. The output i get is: \r\n\r\n&gt; Rolled: 0 from 10 die at newQueue\r\n\r\n&gt; Wanted but not invoked:\r\ndiceRollingService bean.rollDice(&lt;any&gt;);\r\n-&gt; events.EventRollTest.eventRollReceived(EventRollTest.java:38)\r\nActually, there were zero interactions with this mock.\r\n\r\nVerify method suggests that this mock isn&#39;t even used. So far I changed my controller to use constructor injection, to pass mocked service from test during instancing. When I call this mock directly from test, or from JmsController it behaves as intended. Only in CustomListener something seems to not function properly. When I change the annotation from @MockBean to @Mock, it returns proper value, but verify methos still claims there were no interactions with the object. I suspect the proper comes from CustomListener not being a Spring bean. Do you have any suggestions how is it possible to fix architecture and/or test so that it actually will work?","title":"MockBean doesn&#39;t return proper value","body":"<p>I'm writing Spring application to familiarize myself with messaging part of the framework. I want to send events requesting the server to roll a die. I am able to spawn listeners listening to different queues during runtime. This controller looks like this:</p>\n<pre><code>@RestController\npublic class JmsController {\nprivate JmsTemplate jmsTemplate;\nprivate ConnectionFactory connectionFactory;\nprivate DiceRollingService diceRollingService;\n\n@Autowired\npublic JmsController(JmsTemplate jmsTemplate, ConnectionFactory connectionFactory, DiceRollingService diceRollingService) {\n    this.jmsTemplate = jmsTemplate;\n    this.connectionFactory = connectionFactory;\n    this.diceRollingService = diceRollingService;\n}\n\n@PostMapping(&quot;/createQueue&quot;)\npublic void createQueue(@RequestParam String name) throws JMSException {\n    Session session = connectionFactory.createConnection().createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Queue queue = session.createQueue(name);\n    MessageConsumer consumer = session.createConsumer(queue);\n    consumer.setMessageListener(new CustomListener(name, diceRollingService));\n}\n\n@PostMapping(&quot;/sendToQueue&quot;)\npublic void sendToQueue(@RequestBody EventRoll event) {\n    jmsTemplate.convertAndSend(event.getTargetQueue(), event);\n}\n}\n</code></pre>\n<p>One endpoint is responsible for creating new consumer, and another one allows to send a message to it. Below is code for my listener.</p>\n<pre><code>public class CustomListener implements MessageListener {\nprivate final String queueName;\nprivate final ObjectMapper objectMapper;\nprivate final DiceRollingService diceRollingService;\n\npublic CustomListener(String queueName, DiceRollingService diceRollingService) {\n    this.queueName = queueName;\n    objectMapper = new ObjectMapper();\n    this.diceRollingService = diceRollingService;\n}\n\n@Override\npublic void onMessage(Message message) {\n    try {\n        String messageBody = message.getBody(String.class);\n        JSONObject json = new JSONObject(messageBody);\n        EventType type = EventType.valueOf(json.getString(&quot;eventType&quot;));\n\n        switch(type) {\n            case ROLL:\n                EventRoll event = objectMapper.readValue(messageBody, EventRoll.class);\n                int a = diceRollingService.rollDice(event.getDie());\n                System.out.println(&quot;Rolled: &quot; + a + &quot; from &quot; + event.getDie() + &quot; die at &quot; + queueName);\n                break;\n        }\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Currently I am able to receive only one event called EventRoll which has following fields: targetQueue(used in controller), eventType(used in listener) and die(used in service). Mentioned service is responsible for rolling a die:</p>\n<pre><code>@Service\npublic class DiceRollingService {\nprivate final SecureRandom generator;\n\npublic DiceRollingService() {\n    generator = new SecureRandom();\n}\n\npublic int rollDice(Integer dice) {\n    return generator.nextInt(dice) + 1;\n}\n}\n</code></pre>\n<p>For a few days I was testing everything manually using Postman. I was making requests to create queue's and then sending EventRoll's to them. That was working fine, but I decided to write some automated unit tests. I have come up with something like this:</p>\n<pre><code>@SpringBootTest\npublic class EventRollTest {\n@Autowired\nprivate ConnectionFactory connectionFactory;\n@MockBean\nprivate DiceRollingService diceRollingService;\n@Autowired\nprivate JmsTemplate jmsTemplate;\n\n@Test\npublic void eventRollReceived() throws Exception {\n    when(diceRollingService.rollDice(any())).thenReturn(5);\n\n    JmsController jmsController = new JmsController(jmsTemplate, connectionFactory, diceRollingService);\n    jmsController.createQueue(&quot;newQueue&quot;);\n    EventRoll eventRoll = new EventRoll(10);\n    eventRoll.setEventType(EventType.ROLL);\n    eventRoll.setTargetQueue(&quot;newQueue&quot;);\n    jmsController.sendToQueue(eventRoll);\n\n    verify(diceRollingService, times(1)).rollDice(any());\n}\n}\n</code></pre>\n<p>Here comes the problem. It seems like dicerollingService mock doesn't return proper value. The output i get is:</p>\n<blockquote>\n<p>Rolled: 0 from 10 die at newQueue</p>\n</blockquote>\n<blockquote>\n<p>Wanted but not invoked:\ndiceRollingService bean.rollDice();\n-&gt; events.EventRollTest.eventRollReceived(EventRollTest.java:38)\nActually, there were zero interactions with this mock.</p>\n</blockquote>\n<p>Verify method suggests that this mock isn't even used. So far I changed my controller to use constructor injection, to pass mocked service from test during instancing. When I call this mock directly from test, or from JmsController it behaves as intended. Only in CustomListener something seems to not function properly. When I change the annotation from @MockBean to @Mock, it returns proper value, but verify methos still claims there were no interactions with the object. I suspect the proper comes from CustomListener not being a Spring bean. Do you have any suggestions how is it possible to fix architecture and/or test so that it actually will work?</p>\n"},{"tags":["java","exception","switch-statement"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1586113073,"post_id":61047815,"comment_id":108001374,"body_markdown":"Use the &quot;default&quot; clause on your switch: https://www.w3schools.com/java/java_switch.asp","body":"Use the &quot;default&quot; clause on your switch: <a href=\"https://www.w3schools.com/java/java_switch.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_switch.asp</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1586113684,"post_id":61047815,"comment_id":108001613,"body_markdown":"Wouldn&#39;t it be easier to get them to enter e.g. `+` instead of 1? (You can switch on a string)","body":"Wouldn&#39;t it be easier to get them to enter e.g. <code>+</code> instead of 1? (You can switch on a string)"},{"owner":{"account_id":18162128,"reputation":1,"user_id":13213358,"display_name":"Glamy"},"score":0,"creation_date":1586113739,"post_id":61047815,"comment_id":108001625,"body_markdown":"@marcellorvalle When I add the &quot;default&quot; clause it makes it go in a loop forever.","body":"@marcellorvalle When I add the &quot;default&quot; clause it makes it go in a loop forever."},{"owner":{"account_id":18162128,"reputation":1,"user_id":13213358,"display_name":"Glamy"},"score":0,"creation_date":1586114139,"post_id":61047815,"comment_id":108001776,"body_markdown":"@AndyTurner even if the switch would be + - / * I still want to somehow catch a faulty input so that the program would go back to the switch and ask for a correct input.","body":"@AndyTurner even if the switch would be + - / * I still want to somehow catch a faulty input so that the program would go back to the switch and ask for a correct input."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1586114676,"post_id":61047815,"comment_id":108001966,"body_markdown":"@Glamy sure. Just mentioning that making users do the mental gymnastics of &quot;if you want X please enter Y&quot; is not very &quot;error proof&quot;, if they could just enter &quot;X&quot; instead.","body":"@Glamy sure. Just mentioning that making users do the mental gymnastics of &quot;if you want X please enter Y&quot; is not very &quot;error proof&quot;, if they could just enter &quot;X&quot; instead."},{"owner":{"account_id":18162128,"reputation":1,"user_id":13213358,"display_name":"Glamy"},"score":0,"creation_date":1586114992,"post_id":61047815,"comment_id":108002081,"body_markdown":"@AndyTurner Ok, I totally agree with that, will keep that in mind.","body":"@AndyTurner Ok, I totally agree with that, will keep that in mind."}],"answers":[{"tags":[],"owner":{"account_id":17671040,"reputation":9,"user_id":12827184,"display_name":"Sanyam Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586113781,"creation_date":1586113781,"answer_id":61048040,"question_id":61047815,"body_markdown":"You can also handle the use case in `default` \r\nIt is totally upto your use-case how you are handling the exception, you can also create your custom exception and throw from default\r\nsomething like:\r\n\r\n        System.out.println(&quot;Hello user! Which operation would you like to use?&quot;);\r\n        System.out.println(&quot;1) + \\n2) - \\n3) * \\n4) /&quot;);\r\n\r\n\r\n        Scanner operacijai = new Scanner(System.in);\r\n        int operacija = operacijai.nextInt();\r\n\r\n\r\n        int n=1;\r\n        do {\r\n        try {\r\n            switch (operacija) {\r\n            case 1:\r\n                addingMethod();\r\n                n=2;\r\n                break;\r\n\r\n            case 2:\r\n                subtractingMethod();\r\n                n=2;\r\n                break;\r\n\r\n            case 3:\r\n                multiplyingMethod();\r\n                n=2;\r\n                break;\r\n\r\n            case 4:\r\n                dividingMethod();\r\n                n=2;\r\n                break;\r\n            default:\r\n                System.out.print(&quot;Enter a correct number!&quot;)\r\n                throw new CustomException();\r\n            }       \r\n          }\r\n          catch(CustomException e) {\r\n              System.out.print(&quot;Enter a correct number!&quot;);\r\n          }\r\n\r\n        } while(n==1);\r\n        operacijai.close();\r\n\r\n    }","title":"How to catch an Error in a Switch statement when the user entered number doesn&#39;t exist","body":"<p>You can also handle the use case in <code>default</code> \nIt is totally upto your use-case how you are handling the exception, you can also create your custom exception and throw from default\nsomething like:</p>\n\n<pre><code>    System.out.println(\"Hello user! Which operation would you like to use?\");\n    System.out.println(\"1) + \\n2) - \\n3) * \\n4) /\");\n\n\n    Scanner operacijai = new Scanner(System.in);\n    int operacija = operacijai.nextInt();\n\n\n    int n=1;\n    do {\n    try {\n        switch (operacija) {\n        case 1:\n            addingMethod();\n            n=2;\n            break;\n\n        case 2:\n            subtractingMethod();\n            n=2;\n            break;\n\n        case 3:\n            multiplyingMethod();\n            n=2;\n            break;\n\n        case 4:\n            dividingMethod();\n            n=2;\n            break;\n        default:\n            System.out.print(\"Enter a correct number!\")\n            throw new CustomException();\n        }       \n      }\n      catch(CustomException e) {\n          System.out.print(\"Enter a correct number!\");\n      }\n\n    } while(n==1);\n    operacijai.close();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586115984,"creation_date":1586114037,"answer_id":61048095,"question_id":61047815,"body_markdown":"Why do you want to throw an `Exception` unnecessarily? I suggest you just put a `default` case in your `switch` with the required error message. Also, move the input part inside the loop, so that it continues to take input. \r\n\r\nI also suggest you use `nextLine()` instead of `nextInt()`. Check https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo to learn more about it. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello user! Which operation would you like to use?&quot;);\r\n    \t\tSystem.out.println(&quot;1) + \\n2) - \\n3) * \\n4) /&quot;);\r\n    \t\tScanner operacijai = new Scanner(System.in);\r\n    \t\tint operacija = 0, n = 1;\r\n    \t\tboolean valid;\r\n    \t\tdo {\r\n    \t\t\tdo {\r\n    \t\t\t\tvalid = true;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\toperacija = Integer.parseInt(operacijai.nextLine());\r\n    \t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter an integer only.&quot;);\r\n    \t\t\t\t\tvalid = false;\r\n    \t\t\t\t}\r\n    \t\t\t} while (!valid);\r\n    \t\t\tswitch (operacija) {\r\n    \t\t\tcase 1:\r\n    \t\t\t\tSystem.out.println(&quot;addingMethod()&quot;);\r\n    \t\t\t\tn = 2;\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase 2:\r\n    \t\t\t\tSystem.out.println(&quot;subtractingMethod()&quot;);\r\n    \t\t\t\tn = 2;\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase 3:\r\n    \t\t\t\tSystem.out.println(&quot;multiplyingMethod()&quot;);\r\n    \t\t\t\tn = 2;\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase 4:\r\n    \t\t\t\tSystem.out.println(&quot;dividingMethod()&quot;);\r\n    \t\t\t\tn = 2;\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input&quot;);\r\n    \t\t\t}\r\n    \t\t} while (n == 1);\r\n    \t}\r\n    }\r\n**A sample run:**\r\n\r\n    Hello user! Which operation would you like to use?\r\n    1) + \r\n    2) - \r\n    3) * \r\n    4) /\r\n    5\r\n    Invalid input\r\n\r\n**Another sample run:**\r\n\r\n    Hello user! Which operation would you like to use?\r\n    1) + \r\n    2) - \r\n    3) * \r\n    4) /\r\n    a\r\n    Enter an integer only.\r\n    5\r\n    Invalid input\r\n    2\r\n    subtractingMethod()\r\n\r\n","title":"How to catch an Error in a Switch statement when the user entered number doesn&#39;t exist","body":"<p>Why do you want to throw an <code>Exception</code> unnecessarily? I suggest you just put a <code>default</code> case in your <code>switch</code> with the required error message. Also, move the input part inside the loop, so that it continues to take input. </p>\n\n<p>I also suggest you use <code>nextLine()</code> instead of <code>nextInt()</code>. Check <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> to learn more about it. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello user! Which operation would you like to use?\");\n        System.out.println(\"1) + \\n2) - \\n3) * \\n4) /\");\n        Scanner operacijai = new Scanner(System.in);\n        int operacija = 0, n = 1;\n        boolean valid;\n        do {\n            do {\n                valid = true;\n                try {\n                    operacija = Integer.parseInt(operacijai.nextLine());\n                } catch (NumberFormatException e) {\n                    System.out.println(\"Enter an integer only.\");\n                    valid = false;\n                }\n            } while (!valid);\n            switch (operacija) {\n            case 1:\n                System.out.println(\"addingMethod()\");\n                n = 2;\n                break;\n\n            case 2:\n                System.out.println(\"subtractingMethod()\");\n                n = 2;\n                break;\n\n            case 3:\n                System.out.println(\"multiplyingMethod()\");\n                n = 2;\n                break;\n\n            case 4:\n                System.out.println(\"dividingMethod()\");\n                n = 2;\n                break;\n            default:\n                System.out.println(\"Invalid input\");\n            }\n        } while (n == 1);\n    }\n}\n</code></pre>\n\n<p><strong>A sample run:</strong></p>\n\n<pre><code>Hello user! Which operation would you like to use?\n1) + \n2) - \n3) * \n4) /\n5\nInvalid input\n</code></pre>\n\n<p><strong>Another sample run:</strong></p>\n\n<pre><code>Hello user! Which operation would you like to use?\n1) + \n2) - \n3) * \n4) /\na\nEnter an integer only.\n5\nInvalid input\n2\nsubtractingMethod()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18162128,"reputation":1,"user_id":13213358,"display_name":"Glamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644850616,"creation_date":1586116515,"answer_id":61048633,"question_id":61047815,"body_markdown":"Figured out a clean way of doing this with default case.\r\n```public static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello user! Which operation would you like to use?&quot;);\r\n\t\tSystem.out.println(&quot;1) + \\n2) - \\n3) * \\n4) /&quot;);\r\n\t\t\t\r\n\t\t\r\n\t\tScanner operacijai = new Scanner(System.in);\r\n\t\tint operacija;\r\n\t\t\r\n\t\tdo {\r\n\t\t\toperacija = operacijai.nextInt();\r\n\t\t\tswitch (operacija) {\r\n\t\t\tcase 1:\r\n\t\t\t\taddingMethod();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tsubtractingMethod();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tmultiplyingMethod();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 4:\r\n\t\t\t\tdividingMethod();\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\t\tSystem.out.print(&quot;Enter a correct number!&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\t} \t\t\r\n\t\r\n\t\t} while(operacija &lt; 1 || operacija &gt; 4);\r\n\t\toperacijai.close();\r\n\t\t\r\n\t}","title":"How to catch an Error in a Switch statement when the user entered number doesn&#39;t exist","body":"<p>Figured out a clean way of doing this with default case.</p>\n<pre><code>        System.out.println(&quot;Hello user! Which operation would you like to use?&quot;);\n        System.out.println(&quot;1) + \\n2) - \\n3) * \\n4) /&quot;);\n            \n        \n        Scanner operacijai = new Scanner(System.in);\n        int operacija;\n        \n        do {\n            operacija = operacijai.nextInt();\n            switch (operacija) {\n            case 1:\n                addingMethod();\n                break;\n                    \n            case 2:\n                subtractingMethod();\n                break;\n                \n            case 3:\n                multiplyingMethod();\n                break;\n                \n            case 4:\n                dividingMethod();\n                break;\n                \n            default:\n                    System.out.print(&quot;Enter a correct number!&quot;);\n                \n                    }       \n    \n        } while(operacija &lt; 1 || operacija &gt; 4);\n        operacijai.close();\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":18162128,"reputation":1,"user_id":13213358,"display_name":"Glamy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61048633,"answer_count":3,"score":0,"last_activity_date":1644850616,"creation_date":1586112889,"question_id":61047815,"body_markdown":"I&#39;m trying to error proof my program that basically works as a mini calculator. But I have no idea how to write a &quot;Catch&quot; statement that would detect when the user enters a case number that doesn&#39;t exist, in my case anything that is negative or &gt; 4\r\n\r\n``` public static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello user! Which operation would you like to use?&quot;);\r\n\t\tSystem.out.println(&quot;1) + \\n2) - \\n3) * \\n4) /&quot;);\r\n\t\t\t\r\n\t\t\r\n\t\tScanner operacijai = new Scanner(System.in);\r\n\t\tint operacija = operacijai.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tint n=1;\r\n\t\tdo {\r\n\t\ttry {\r\n\t\t\tswitch (operacija) {\r\n\t\t\tcase 1:\r\n\t\t\t\taddingMethod();\r\n\t\t\t\tn=2;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tsubtractingMethod();\r\n\t\t\t\tn=2;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tmultiplyingMethod();\r\n\t\t\t\tn=2;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 4:\r\n\t\t\t\tdividingMethod();\r\n\t\t\t\tn=2;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\t} \t\t\r\n\t\t\t}\r\n\t\t\tcatch(Exception e) {\r\n\t\t\t\tSystem.out.print(&quot;Enter a correct number!&quot;);\r\n\t\t\t}\r\n\t\r\n\t\t} while(n==1);\r\n\t\toperacijai.close();\r\n\t\t\r\n\t} ```","title":"How to catch an Error in a Switch statement when the user entered number doesn&#39;t exist","body":"<p>I'm trying to error proof my program that basically works as a mini calculator. But I have no idea how to write a \"Catch\" statement that would detect when the user enters a case number that doesn't exist, in my case anything that is negative or > 4</p>\n\n<pre><code>        System.out.println(\"Hello user! Which operation would you like to use?\");\n        System.out.println(\"1) + \\n2) - \\n3) * \\n4) /\");\n\n\n        Scanner operacijai = new Scanner(System.in);\n        int operacija = operacijai.nextInt();\n\n\n        int n=1;\n        do {\n        try {\n            switch (operacija) {\n            case 1:\n                addingMethod();\n                n=2;\n                break;\n\n            case 2:\n                subtractingMethod();\n                n=2;\n                break;\n\n            case 3:\n                multiplyingMethod();\n                n=2;\n                break;\n\n            case 4:\n                dividingMethod();\n                n=2;\n                break;\n                    }       \n            }\n            catch(Exception e) {\n                System.out.print(\"Enter a correct number!\");\n            }\n\n        } while(n==1);\n        operacijai.close();\n\n    } ```\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":2,"creation_date":1644794258,"post_id":71105635,"comment_id":125694264,"body_markdown":"You need to give your listener state-dependent behavior: The behavior of the MouseListener will depend  on the state of the program. For example, if a piece has been previously clicked, then this will change what the program does in response to a mouse click. Use state fields for this, for example a field that holds the location of the first click (or null, if the 2nd click has been made).","body":"You need to give your listener state-dependent behavior: The behavior of the MouseListener will depend  on the state of the program. For example, if a piece has been previously clicked, then this will change what the program does in response to a mouse click. Use state fields for this, for example a field that holds the location of the first click (or null, if the 2nd click has been made)."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1644794390,"post_id":71105635,"comment_id":125694288,"body_markdown":"Make `moving_piece` an instance field.  If it&#39;s `null`, when the `ActionListener` is called, set the the selected cell to the it, if it&#39;s not, then move it and make it `null`","body":"Make <code>moving_piece</code> an instance field.  If it&#39;s <code>null</code>, when the <code>ActionListener</code> is called, set the the selected cell to the it, if it&#39;s not, then move it and make it <code>null</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1644837864,"post_id":71105635,"comment_id":125703275,"body_markdown":"1) `frame.setSize(800,800);` This is just a guess and given the frame should end up taller than wider to accommodate a square chequers board, my guess would be &#39;wrong&#39;. Instead, make the board itself square then `pack()` the frame to fit. 2) `frame.setVisible(true);` should be done last, immediately after `pack()`. 3) `getContentPane().setBackground(new Color(50, 50, 50))` The content pane will often be covered with opaque components. 4) `textfield.setOpaque(true);` Opaque is the default. 5) `title_panel.setBounds(0,0,800, 100);` This will likely be ignored, and the GUI will be better for it.","body":"1) <code>frame.setSize(800,800);</code> This is just a guess and given the frame should end up taller than wider to accommodate a square chequers board, my guess would be &#39;wrong&#39;. Instead, make the board itself square then <code>pack()</code> the frame to fit. 2) <code>frame.setVisible(true);</code> should be done last, immediately after <code>pack()</code>. 3) <code>getContentPane().setBackground(new Color(50, 50, 50))</code> The content pane will often be covered with opaque components. 4) <code>textfield.setOpaque(true);</code> Opaque is the default. 5) <code>title_panel.setBounds(0,0,800, 100);</code> This will likely be ignored, and the GUI will be better for it."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644819316,"creation_date":1644819316,"answer_id":71107805,"question_id":71105635,"body_markdown":"You need to memorize and manage the selection of a piece. You can do it by: \r\n\r\n\t//Introduce a field to store selected button\r\n\tprivate JButton selected = null ;\r\n    \r\nAnd modify the `ActionListener`: \r\n\r\n    @Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tJButton clicked = (JButton) e.getSource();\r\n\t\tif(selected != null ){\r\n\t\t\tclicked.setText(selected.getText());\r\n\t\t\tselected.setText(&quot;&quot;);\r\n\t\t\tselected = null;\r\n\t\t}else{\r\n\t\t\tif( ! clicked.getText().isEmpty()) {\r\n\t\t\t\tselected = clicked;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nConsider using `JToggleButton`s instead of a `JButton`s .","title":"How to have two dependent actions within an ActionListener?","body":"<p>You need to memorize and manage the selection of a piece. You can do it by:</p>\n<pre><code>//Introduce a field to store selected button\nprivate JButton selected = null ;\n</code></pre>\n<p>And modify the <code>ActionListener</code>:</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n\n    JButton clicked = (JButton) e.getSource();\n    if(selected != null ){\n        clicked.setText(selected.getText());\n        selected.setText(&quot;&quot;);\n        selected = null;\n    }else{\n        if( ! clicked.getText().isEmpty()) {\n            selected = clicked;\n        }\n    }\n}\n</code></pre>\n<p>Consider using <code>JToggleButton</code>s instead of a <code>JButton</code>s .</p>\n"},{"tags":[],"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644850490,"creation_date":1644848823,"answer_id":71113457,"question_id":71105635,"body_markdown":"As I mentioned in my comment, the key to a solution is to base your program&#39;s listener on &quot;state-dependent behavior&quot;, meaning the behavior of the listener will depend on the state of the program.\r\n\r\nFor instance, if you give your program an instance field, say, `selectedButton` that held a reference to the last selected button, then any ActionListener&#39;s response can vary depending on what this field holds. The first time any JButton is pressed, this field will hold `null` since no previous JButton was pressed, and so the ActionListener will assign this button to that field. The second time that the ActionListener is called (the second time that a JButton is pressed), the field will hold a value, and so, using an if / else block that checks the state of this field, the listener&#39;s behavior can vary:\r\n\r\n```\r\npublic class Checkers2 {\r\n    private static final int BOARD_SIZE = 8;\r\n\t// .....\r\n\tprivate JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\r\n\tprivate JButton selectedButton = null;\r\n\t\r\n\tpublic Checkers2() {\r\n\t\tbuttonPanel.setLayout(new GridLayout(BOARD_SIZE, BOARD_SIZE));\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; buttons[i].length; j++) {\r\n\t\t\t\tbuttons[i][j] = new JButton(&quot; &quot;);\r\n\t\t\t\tbuttonPanel.add(buttons[i][j]);\r\n\t\t\t\tbuttons[i][j].setFont(BTN_FONT);\r\n\t\t\t\tbuttons[i][j].setPreferredSize(BTN_SIZE);\r\n\t\t\t\tbuttons[i][j].addActionListener(e -&gt; btnsActionPerormed(e));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n\t\r\n\tprivate void btnsActionPerormed(ActionEvent e) {\r\n\t\tJButton source = (JButton) e.getSource();\r\n\t\t\r\n\t\t// if selectedButton is null, then this is the first press\t\t\r\n\t\tif (selectedButton == null) {\r\n\t\t\tif (source.getText().trim().isEmpty()) {\r\n\t\t\t\treturn; // no button text means that there is no piece here. Exit method\r\n\t\t\t} else {\r\n\t\t\t\t// first set the selectedButton&#39;s value\r\n\t\t\t\tselectedButton = source;\r\n\t\t\t\t\r\n\t\t\t\t// change its appearance so we know that it has been pressed\r\n\t\t\t\tsource.setForeground(Color.RED);\r\n\t\t\t\tsource.setBackground(Color.LIGHT_GRAY);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t// else, if selectedButton is NOT null, then this is the second press\r\n\t\t\t// only do things if this current button is empty, if it has no text\r\n\t\t\tif (source.getText().trim().isEmpty()) {\r\n\t\t\t\tselectedButton.setForeground(Color.BLACK);\r\n\t\t\t\tselectedButton.setBackground(null);\r\n\t\t\t\tsource.setText(selectedButton.getText());\r\n\t\t\t\tselectedButton.setText(&quot;&quot;);\r\n\t\t\t\t\r\n\t\t\t\t// the code below is of key importance\r\n\t\t\t\tselectedButton = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\t\r\n\r\nThe last bit of code shown is also key -- with the second JButton press, we re-set selectedButton back to null, so that the program&#39;s state is set back to its initial state and so that the listener&#39;s initial behavior can repeat.\r\n\r\nA simple example program that demonstrates this is as shown below. The program still has not encorporated true Checker&#39;s game logic where the program determines if a move is truly legal or not:\r\n\r\n[![example of program][2]][2]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.*;\r\n\r\npublic class Checkers2 {\r\n\tprivate static final int BOARD_SIZE = 8;\r\n\tprivate static final Font BTN_FONT = new Font(&quot;Arial&quot;, Font.BOLD, 30);\r\n\tprivate static final Dimension BTN_SIZE = new Dimension(100, 100);\r\n\tprivate JPanel buttonPanel = new JPanel();\r\n\tprivate JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\r\n\tprivate JButton selectedButton = null;\r\n\r\n\tpublic Checkers2() {\r\n\t\tbuttonPanel.setLayout(new GridLayout(BOARD_SIZE, BOARD_SIZE));\r\n\t\tfor (int i = 0; i &lt; buttons.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; buttons[i].length; j++) {\r\n\t\t\t\tbuttons[i][j] = new JButton(&quot; &quot;);\r\n\t\t\t\tbuttonPanel.add(buttons[i][j]);\r\n\t\t\t\tbuttons[i][j].setFont(BTN_FONT);\r\n\t\t\t\tbuttons[i][j].setPreferredSize(BTN_SIZE);\r\n\t\t\t\tbuttons[i][j].addActionListener(e -&gt; btnsActionPerormed(e));\r\n\t\t\t}\r\n\t\t}\r\n\r\n        // Place &quot;W&quot; and &quot;B&quot; text in appropriate locations:\r\n\t\tfor (int i = 0; i &lt; 12; i++) {\r\n\t\t\tint wI = (2 * i) / BOARD_SIZE;\r\n\t\t\tint wJ = (2 * i) % BOARD_SIZE + ((wI % 2 == 1) ? 0 : 1);\r\n\r\n\t\t\tbuttons[wI][wJ].setText(&quot;W&quot;);\r\n\t\t\tbuttons[BOARD_SIZE - wI - 1][BOARD_SIZE - wJ - 1].setText(&quot;B&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void btnsActionPerormed(ActionEvent e) {\r\n\t\tJButton source = (JButton) e.getSource();\r\n\r\n\t\t// if selectedButton is null, then this is the first press\r\n\t\tif (selectedButton == null) {\r\n\t\t\tif (source.getText().trim().isEmpty()) {\r\n\t\t\t\treturn; // no button text means that there is no piece here. Exit method\r\n\t\t\t} else {\r\n\t\t\t\t// first set the selectedButton&#39;s value\r\n\t\t\t\tselectedButton = source;\r\n\r\n\t\t\t\t// change its appearance so we know that it has been pressed\r\n\t\t\t\tsource.setForeground(Color.RED);\r\n\t\t\t\tsource.setBackground(Color.LIGHT_GRAY);\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t\t// else, if selectedButton is NOT null, then this is the second press\r\n\t\t\t// only do things if this current button is empty, if it has no text\r\n\t\t\tif (source.getText().trim().isEmpty()) {\r\n\t\t\t\tselectedButton.setForeground(Color.BLACK);\r\n\t\t\t\tselectedButton.setBackground(null);\r\n\t\t\t\tsource.setText(selectedButton.getText());\r\n\t\t\t\tselectedButton.setText(&quot;&quot;);\r\n\r\n\t\t\t\t// the code below is of key importance\r\n\t\t\t\tselectedButton = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic JPanel getButtonPanel() {\r\n\t\treturn buttonPanel;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tCheckers2 checkers = new Checkers2();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;Checkers&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(checkers.getButtonPanel());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd I hope to show how to encorporate program logic in an edit. For this, I recommend using a &quot;Model-View-Controller&quot; or MVC program structure.\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/Oo6PM.gif","title":"How to have two dependent actions within an ActionListener?","body":"<p>As I mentioned in my comment, the key to a solution is to base your program's listener on &quot;state-dependent behavior&quot;, meaning the behavior of the listener will depend on the state of the program.</p>\n<p>For instance, if you give your program an instance field, say, <code>selectedButton</code> that held a reference to the last selected button, then any ActionListener's response can vary depending on what this field holds. The first time any JButton is pressed, this field will hold <code>null</code> since no previous JButton was pressed, and so the ActionListener will assign this button to that field. The second time that the ActionListener is called (the second time that a JButton is pressed), the field will hold a value, and so, using an if / else block that checks the state of this field, the listener's behavior can vary:</p>\n<pre><code>public class Checkers2 {\n    private static final int BOARD_SIZE = 8;\n    // .....\n    private JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\n    private JButton selectedButton = null;\n    \n    public Checkers2() {\n        buttonPanel.setLayout(new GridLayout(BOARD_SIZE, BOARD_SIZE));\n        for (int i = 0; i &lt; buttons.length; i++) {\n            for (int j = 0; j &lt; buttons[i].length; j++) {\n                buttons[i][j] = new JButton(&quot; &quot;);\n                buttonPanel.add(buttons[i][j]);\n                buttons[i][j].setFont(BTN_FONT);\n                buttons[i][j].setPreferredSize(BTN_SIZE);\n                buttons[i][j].addActionListener(e -&gt; btnsActionPerormed(e));\n            }\n        }\n        \n        // ...\n    }\n    \n    private void btnsActionPerormed(ActionEvent e) {\n        JButton source = (JButton) e.getSource();\n        \n        // if selectedButton is null, then this is the first press      \n        if (selectedButton == null) {\n            if (source.getText().trim().isEmpty()) {\n                return; // no button text means that there is no piece here. Exit method\n            } else {\n                // first set the selectedButton's value\n                selectedButton = source;\n                \n                // change its appearance so we know that it has been pressed\n                source.setForeground(Color.RED);\n                source.setBackground(Color.LIGHT_GRAY);\n            }\n        } else {\n            \n            // else, if selectedButton is NOT null, then this is the second press\n            // only do things if this current button is empty, if it has no text\n            if (source.getText().trim().isEmpty()) {\n                selectedButton.setForeground(Color.BLACK);\n                selectedButton.setBackground(null);\n                source.setText(selectedButton.getText());\n                selectedButton.setText(&quot;&quot;);\n                \n                // the code below is of key importance\n                selectedButton = null;\n            }\n        }\n    }\n</code></pre>\n<p>The last bit of code shown is also key -- with the second JButton press, we re-set selectedButton back to null, so that the program's state is set back to its initial state and so that the listener's initial behavior can repeat.</p>\n<p>A simple example program that demonstrates this is as shown below. The program still has not encorporated true Checker's game logic where the program determines if a move is truly legal or not:</p>\n<p><a href=\"https://i.stack.imgur.com/Oo6PM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oo6PM.gif\" alt=\"example of program\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport javax.swing.*;\n\npublic class Checkers2 {\n    private static final int BOARD_SIZE = 8;\n    private static final Font BTN_FONT = new Font(&quot;Arial&quot;, Font.BOLD, 30);\n    private static final Dimension BTN_SIZE = new Dimension(100, 100);\n    private JPanel buttonPanel = new JPanel();\n    private JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\n    private JButton selectedButton = null;\n\n    public Checkers2() {\n        buttonPanel.setLayout(new GridLayout(BOARD_SIZE, BOARD_SIZE));\n        for (int i = 0; i &lt; buttons.length; i++) {\n            for (int j = 0; j &lt; buttons[i].length; j++) {\n                buttons[i][j] = new JButton(&quot; &quot;);\n                buttonPanel.add(buttons[i][j]);\n                buttons[i][j].setFont(BTN_FONT);\n                buttons[i][j].setPreferredSize(BTN_SIZE);\n                buttons[i][j].addActionListener(e -&gt; btnsActionPerormed(e));\n            }\n        }\n\n        // Place &quot;W&quot; and &quot;B&quot; text in appropriate locations:\n        for (int i = 0; i &lt; 12; i++) {\n            int wI = (2 * i) / BOARD_SIZE;\n            int wJ = (2 * i) % BOARD_SIZE + ((wI % 2 == 1) ? 0 : 1);\n\n            buttons[wI][wJ].setText(&quot;W&quot;);\n            buttons[BOARD_SIZE - wI - 1][BOARD_SIZE - wJ - 1].setText(&quot;B&quot;);\n        }\n    }\n\n    private void btnsActionPerormed(ActionEvent e) {\n        JButton source = (JButton) e.getSource();\n\n        // if selectedButton is null, then this is the first press\n        if (selectedButton == null) {\n            if (source.getText().trim().isEmpty()) {\n                return; // no button text means that there is no piece here. Exit method\n            } else {\n                // first set the selectedButton's value\n                selectedButton = source;\n\n                // change its appearance so we know that it has been pressed\n                source.setForeground(Color.RED);\n                source.setBackground(Color.LIGHT_GRAY);\n            }\n        } else {\n\n            // else, if selectedButton is NOT null, then this is the second press\n            // only do things if this current button is empty, if it has no text\n            if (source.getText().trim().isEmpty()) {\n                selectedButton.setForeground(Color.BLACK);\n                selectedButton.setBackground(null);\n                source.setText(selectedButton.getText());\n                selectedButton.setText(&quot;&quot;);\n\n                // the code below is of key importance\n                selectedButton = null;\n            }\n        }\n    }\n\n    public JPanel getButtonPanel() {\n        return buttonPanel;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Checkers2 checkers = new Checkers2();\n\n            JFrame frame = new JFrame(&quot;Checkers&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(checkers.getButtonPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<p>And I hope to show how to encorporate program logic in an edit. For this, I recommend using a &quot;Model-View-Controller&quot; or MVC program structure.</p>\n"}],"owner":{"account_id":23955140,"reputation":39,"user_id":17946130,"display_name":"ringwald-haze"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71113457,"answer_count":2,"score":2,"last_activity_date":1644850490,"creation_date":1644793480,"question_id":71105635,"body_markdown":"I&#39;m trying to write a checkers AI program with a GUI in java. I&#39;ve managed to initialise and fill the board so far (with pieces written as &quot;B&quot; and &quot;W&quot; for now). I&#39;ve created a 2D JButton panel for the board.\r\n\r\nI don&#39;t know how to proceed when moving pieces. My current issue is I need the player to select a preexisting piece (action 1) and then an empty space to place the selected piece (action 2). Of course these actions are dependent, and I need action 1 to happen first.\r\n\r\nHere&#39;s what I&#39;ve got so far:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Random;\r\n\r\npublic class Checkers implements ActionListener{\r\n\r\n        private static final int BOARD_SIZE = 8;\r\n\r\n        Random random = new Random();\r\n        JFrame frame = new JFrame();\r\n        JPanel title_panel = new JPanel();\r\n        JPanel button_panel = new JPanel();\r\n        JLabel textfield = new JLabel();\r\n        JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\r\n\r\n        Checkers(){\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800,800);\r\n            frame.getContentPane().setBackground(new Color(50, 50, 50));\r\n            frame.setLayout(new BorderLayout());\r\n            frame.setVisible(true);\r\n\r\n            textfield.setBackground(new Color(25,25,25));\r\n            textfield.setForeground(new Color(25, 255, 0));\r\n            textfield.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 75));\r\n            textfield.setHorizontalAlignment(JLabel.CENTER);\r\n            textfield.setText(&quot;Checkers&quot;);\r\n            textfield.setOpaque(true);\r\n\r\n            title_panel.setLayout(new BorderLayout());\r\n            title_panel.setBounds(0,0,800, 100);\r\n            button_panel.setLayout(new GridLayout(BOARD_SIZE,BOARD_SIZE));\r\n            button_panel.setBackground(new Color(150,150,150));\r\n\r\n            for (int i=0; i&lt;BOARD_SIZE; i++){\r\n                for (int j=0; j&lt;BOARD_SIZE; j++){\r\n                    buttons[i][j] = new JButton();\r\n                    button_panel.add(buttons[i][j]);\r\n                    buttons[i][j].setFont(new Font(&quot;Arial&quot;,Font.BOLD, 30));\r\n                    buttons[i][j].setFocusable(false);\r\n                    buttons[i][j].addActionListener(this);\r\n                }\r\n            }\r\n\r\n            title_panel.add(textfield);\r\n            frame.add(title_panel, BorderLayout.NORTH);\r\n            frame.add(button_panel);\r\n            initialiseBoard(buttons);\r\n        }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        for (int i = 0; i &lt; BOARD_SIZE; i++) {\r\n            for (int j = 0; j &lt; BOARD_SIZE; j++) {\r\n                if (e.getSource() == buttons[i][j]) {\r\n                    String moving_piece = buttons[i][j].getText();\r\n                }\r\n                }\r\n            }\r\n        }\r\n\r\n    // method that fills the initial board.\r\n    public void initialiseBoard(JButton[][] buttons){\r\n        for (int i=0; i&lt;BOARD_SIZE; i++){\r\n            for (int j=0; j&lt;BOARD_SIZE; j++){\r\n\r\n                if (i&lt;3){\r\n                    if (i%2==0){\r\n                        if (j%2 != 0){\r\n                            buttons[i][j].setText(&quot;W&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (j%2==0){\r\n                            buttons[i][j].setText(&quot;W&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                if (i&gt;=BOARD_SIZE-3){\r\n                    if (i%2 == 0){\r\n                        if (j%2 != 0){\r\n                            buttons[i][j].setText(&quot;B&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (j%2==0){\r\n                            buttons[i][j].setText(&quot;B&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"How to have two dependent actions within an ActionListener?","body":"<p>I'm trying to write a checkers AI program with a GUI in java. I've managed to initialise and fill the board so far (with pieces written as &quot;B&quot; and &quot;W&quot; for now). I've created a 2D JButton panel for the board.</p>\n<p>I don't know how to proceed when moving pieces. My current issue is I need the player to select a preexisting piece (action 1) and then an empty space to place the selected piece (action 2). Of course these actions are dependent, and I need action 1 to happen first.</p>\n<p>Here's what I've got so far:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\npublic class Checkers implements ActionListener{\n\n        private static final int BOARD_SIZE = 8;\n\n        Random random = new Random();\n        JFrame frame = new JFrame();\n        JPanel title_panel = new JPanel();\n        JPanel button_panel = new JPanel();\n        JLabel textfield = new JLabel();\n        JButton[][] buttons = new JButton[BOARD_SIZE][BOARD_SIZE];\n\n        Checkers(){\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setSize(800,800);\n            frame.getContentPane().setBackground(new Color(50, 50, 50));\n            frame.setLayout(new BorderLayout());\n            frame.setVisible(true);\n\n            textfield.setBackground(new Color(25,25,25));\n            textfield.setForeground(new Color(25, 255, 0));\n            textfield.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 75));\n            textfield.setHorizontalAlignment(JLabel.CENTER);\n            textfield.setText(&quot;Checkers&quot;);\n            textfield.setOpaque(true);\n\n            title_panel.setLayout(new BorderLayout());\n            title_panel.setBounds(0,0,800, 100);\n            button_panel.setLayout(new GridLayout(BOARD_SIZE,BOARD_SIZE));\n            button_panel.setBackground(new Color(150,150,150));\n\n            for (int i=0; i&lt;BOARD_SIZE; i++){\n                for (int j=0; j&lt;BOARD_SIZE; j++){\n                    buttons[i][j] = new JButton();\n                    button_panel.add(buttons[i][j]);\n                    buttons[i][j].setFont(new Font(&quot;Arial&quot;,Font.BOLD, 30));\n                    buttons[i][j].setFocusable(false);\n                    buttons[i][j].addActionListener(this);\n                }\n            }\n\n            title_panel.add(textfield);\n            frame.add(title_panel, BorderLayout.NORTH);\n            frame.add(button_panel);\n            initialiseBoard(buttons);\n        }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        for (int i = 0; i &lt; BOARD_SIZE; i++) {\n            for (int j = 0; j &lt; BOARD_SIZE; j++) {\n                if (e.getSource() == buttons[i][j]) {\n                    String moving_piece = buttons[i][j].getText();\n                }\n                }\n            }\n        }\n\n    // method that fills the initial board.\n    public void initialiseBoard(JButton[][] buttons){\n        for (int i=0; i&lt;BOARD_SIZE; i++){\n            for (int j=0; j&lt;BOARD_SIZE; j++){\n\n                if (i&lt;3){\n                    if (i%2==0){\n                        if (j%2 != 0){\n                            buttons[i][j].setText(&quot;W&quot;);\n                        }\n                    }\n                    else {\n                        if (j%2==0){\n                            buttons[i][j].setText(&quot;W&quot;);\n                        }\n                    }\n                }\n                if (i&gt;=BOARD_SIZE-3){\n                    if (i%2 == 0){\n                        if (j%2 != 0){\n                            buttons[i][j].setText(&quot;B&quot;);\n                        }\n                    }\n                    else {\n                        if (j%2==0){\n                            buttons[i][j].setText(&quot;B&quot;);\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20965102,"reputation":93,"user_id":15409326,"display_name":"ACTPOHOM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644850243,"creation_date":1644827439,"answer_id":71108979,"question_id":71108297,"body_markdown":"If I understand correctly, you need the previous data to be added to the new ones. If so, then this might work for you:\r\n```\r\nString value = snapshot.getValue(String.class);\r\nvalue2 = value2 + value;\r\nValue2 = value2.ToString();\r\n\r\ntempMNData.setText(value2);\r\n```\r\n\r\nString value2 = 0\r\n\r\n\r\nhow its should working:\r\n\r\nyou take some data from FireBase, for exemple first data its &quot;1&quot;, second &quot;7&quot;, third &quot;12&quot;.\r\n\r\nin code: value = first data from FireBase, value2 = 0.\r\n\r\nvalue2 = 0 + 1;\r\n\r\nshow value2 in TextView\r\n\r\nrepeate it\r\n\r\nvalue2 = 1 + 7; //8\r\nTextView(value2);\r\n\r\nand last time\r\n\r\nvalue2 = 8 + 12; // 20\r\nTextView(value2); // show 20\r\n","title":"How can I get previous value of a TextView add to the current TextView value and so on?","body":"<p>If I understand correctly, you need the previous data to be added to the new ones. If so, then this might work for you:</p>\n<pre><code>String value = snapshot.getValue(String.class);\nvalue2 = value2 + value;\nValue2 = value2.ToString();\n\ntempMNData.setText(value2);\n</code></pre>\n<p>String value2 = 0</p>\n<p>how its should working:</p>\n<p>you take some data from FireBase, for exemple first data its &quot;1&quot;, second &quot;7&quot;, third &quot;12&quot;.</p>\n<p>in code: value = first data from FireBase, value2 = 0.</p>\n<p>value2 = 0 + 1;</p>\n<p>show value2 in TextView</p>\n<p>repeate it</p>\n<p>value2 = 1 + 7; //8\nTextView(value2);</p>\n<p>and last time</p>\n<p>value2 = 8 + 12; // 20\nTextView(value2); // show 20</p>\n"}],"owner":{"account_id":23592207,"reputation":1,"user_id":17629824,"display_name":"Krishna Puvvala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644850243,"creation_date":1644823025,"question_id":71108297,"body_markdown":"I am trying to add the TextView with previous value and so on. The TextView gets updated every 5secs (real-time) and it should add on to the previous TextView value and update. For example, value at T1 = 1 -&gt; value at T2 = 1 =&gt; at T2 TextView should update to the total of T1 and T2 = 2. Also I&#39;m dealing with float numbers. And I&#39;m pulling the data from FireBase. \r\n\r\nThank you in advance.\r\n\r\n\r\n        private TextView tempMNData;\r\n\r\n        private FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        private DatabaseReference myRef1 = database.getReference(&quot;GCU/temperature&quot;) ;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_extraction_page);\r\n    \r\n            tempMNData = (TextView) findViewById(R.id.temperatureMNData);\r\n    \r\n    \r\n           myRef1.addValueEventListener(new ValueEventListener() {\r\n               @Override\r\n               public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n                   String value = snapshot.getValue(String.class);\r\n    \r\n                   tempMNData.setText(value);\r\n        \r\n    \r\n               }\r\n    \r\n               @Override\r\n               public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n               }\r\n           });\r\n    \r\n         \r\n        }","title":"How can I get previous value of a TextView add to the current TextView value and so on?","body":"<p>I am trying to add the TextView with previous value and so on. The TextView gets updated every 5secs (real-time) and it should add on to the previous TextView value and update. For example, value at T1 = 1 -&gt; value at T2 = 1 =&gt; at T2 TextView should update to the total of T1 and T2 = 2. Also I'm dealing with float numbers. And I'm pulling the data from FireBase.</p>\n<p>Thank you in advance.</p>\n<pre><code>    private TextView tempMNData;\n\n    private FirebaseDatabase database = FirebaseDatabase.getInstance();\n    private DatabaseReference myRef1 = database.getReference(&quot;GCU/temperature&quot;) ;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_extraction_page);\n\n        tempMNData = (TextView) findViewById(R.id.temperatureMNData);\n\n\n       myRef1.addValueEventListener(new ValueEventListener() {\n           @Override\n           public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n               String value = snapshot.getValue(String.class);\n\n               tempMNData.setText(value);\n    \n\n           }\n\n           @Override\n           public void onCancelled(@NonNull DatabaseError error) {\n\n           }\n       });\n\n     \n    }\n</code></pre>\n"},{"tags":["java","spring","database","jpa","entity"],"answers":[{"tags":[],"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644849663,"creation_date":1644849663,"answer_id":71113639,"question_id":71104027,"body_markdown":"Problem was in Thymeleaf engine, if i create spring only  with h2,web and jpa is working nicely.Idk why problem is with Thymeleaf..","title":"H2 console doesn&#39;t Create Table with Entity Class","body":"<p>Problem was in Thymeleaf engine, if i create spring only  with h2,web and jpa is working nicely.Idk why problem is with Thymeleaf..</p>\n"}],"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644849663,"creation_date":1644779624,"question_id":71104027,"body_markdown":"Yo, cant resolve this simply problem in h2-console..\r\nI want just create table via Entity class like &quot;MOvie&quot; or &quot;director&quot; but when i open my h2-console,is not created, pls help\r\n\r\n\r\n **POM**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;sk.wynny&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springLearn&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;springLearn&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**app-properties**\r\n\r\n\r\n    spring.h2.console.enabled= true\r\n    spring.datasource.url=jdbc:h2:mem:wynny\r\n    spring.datasource.username=root\r\n\r\n**MOVIE CLASS**\r\n\r\n    package sk.wynny.modul;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Movie {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String name;\r\n    \r\n        public Movie() {\r\n        }\r\n    \r\n        public Movie(Long id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n\r\n\r\n**LOGs**\r\n\r\n    2022-02-13 20:11:37.031  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : Starting SpringLearnApplication using Java 17.0.1 on DESKTOP-K3O8I67 with PID 5856 (C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\springLearn\\target\\classes started by Wynny in C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\springLearn)\r\n    2022-02-13 20:11:37.034  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : No active profile set, falling back to default profiles: default\r\n    2022-02-13 20:11:37.638  INFO 5856 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-02-13 20:11:37.653  INFO 5856 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.\r\n    2022-02-13 20:11:38.249  INFO 5856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-02-13 20:11:38.260  INFO 5856 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-02-13 20:11:38.260  INFO 5856 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n    2022-02-13 20:11:38.362  INFO 5856 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-02-13 20:11:38.363  INFO 5856 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1281 ms\r\n    2022-02-13 20:11:38.398  INFO 5856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-02-13 20:11:38.553  INFO 5856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-02-13 20:11:38.563  INFO 5856 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:wynny&#39;\r\n    2022-02-13 20:11:38.735  INFO 5856 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-02-13 20:11:38.789  INFO 5856 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\r\n    2022-02-13 20:11:38.949  INFO 5856 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-02-13 20:11:39.073  INFO 5856 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    2022-02-13 20:11:39.263  INFO 5856 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-02-13 20:11:39.273  INFO 5856 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-02-13 20:11:39.321  WARN 5856 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-02-13 20:11:39.602  WARN 5856 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)\r\n    2022-02-13 20:11:39.734  INFO 5856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-02-13 20:11:39.746  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : Started SpringLearnApplication in 3.068 seconds (JVM running for 3.417)\r\n\r\n\r\ni following many videos or manuals and still have same problem, is here some Hero what can resolve it  ? :D\r\n\r\n","title":"H2 console doesn&#39;t Create Table with Entity Class","body":"<p>Yo, cant resolve this simply problem in h2-console..\nI want just create table via Entity class like &quot;MOvie&quot; or &quot;director&quot; but when i open my h2-console,is not created, pls help</p>\n<p><strong>POM</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;sk.wynny&lt;/groupId&gt;\n    &lt;artifactId&gt;springLearn&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springLearn&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>app-properties</strong></p>\n<pre><code>spring.h2.console.enabled= true\nspring.datasource.url=jdbc:h2:mem:wynny\nspring.datasource.username=root\n</code></pre>\n<p><strong>MOVIE CLASS</strong></p>\n<pre><code>package sk.wynny.modul;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Movie {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String name;\n\n    public Movie() {\n    }\n\n    public Movie(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>LOGs</strong></p>\n<pre><code>2022-02-13 20:11:37.031  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : Starting SpringLearnApplication using Java 17.0.1 on DESKTOP-K3O8I67 with PID 5856 (C:\\Users\\Patrik Severín\\IdeaProjects\\springLearn\\target\\classes started by Wynny in C:\\Users\\Patrik Severín\\IdeaProjects\\springLearn)\n2022-02-13 20:11:37.034  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : No active profile set, falling back to default profiles: default\n2022-02-13 20:11:37.638  INFO 5856 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-02-13 20:11:37.653  INFO 5856 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.\n2022-02-13 20:11:38.249  INFO 5856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-02-13 20:11:38.260  INFO 5856 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-13 20:11:38.260  INFO 5856 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-02-13 20:11:38.362  INFO 5856 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-13 20:11:38.363  INFO 5856 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1281 ms\n2022-02-13 20:11:38.398  INFO 5856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-02-13 20:11:38.553  INFO 5856 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-02-13 20:11:38.563  INFO 5856 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:wynny'\n2022-02-13 20:11:38.735  INFO 5856 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-02-13 20:11:38.789  INFO 5856 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\n2022-02-13 20:11:38.949  INFO 5856 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-02-13 20:11:39.073  INFO 5856 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-02-13 20:11:39.263  INFO 5856 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-02-13 20:11:39.273  INFO 5856 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-02-13 20:11:39.321  WARN 5856 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-02-13 20:11:39.602  WARN 5856 --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)\n2022-02-13 20:11:39.734  INFO 5856 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-02-13 20:11:39.746  INFO 5856 --- [           main] s.w.springLearn.SpringLearnApplication   : Started SpringLearnApplication in 3.068 seconds (JVM running for 3.417)\n</code></pre>\n<p>i following many videos or manuals and still have same problem, is here some Hero what can resolve it  ? :D</p>\n"},{"tags":["java","spring","sorting","pagination"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1644653288,"post_id":71088359,"comment_id":125668024,"body_markdown":"Short answer - you can&#39;t. `Sort` does not have any methods that work with comparators.","body":"Short answer - you can&#39;t. <code>Sort</code> does not have any methods that work with comparators."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1644654361,"post_id":71088359,"comment_id":125668212,"body_markdown":"Also that boolean method looks like something designed for `filtering`, not `sorting`. Could it be that you actually need to change the filtering condition of your query?","body":"Also that boolean method looks like something designed for <code>filtering</code>, not <code>sorting</code>. Could it be that you actually need to change the filtering condition of your query?"}],"owner":{"account_id":13719720,"reputation":61,"user_id":9899984,"display_name":"sokoler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644849546,"creation_date":1644630861,"question_id":71088359,"body_markdown":"i&#39;ve got a problem. I am using pagination and sorting in my project. But now i would like to sort not just by one field but something more complex. That is why i tried to do something like this: \r\n```\r\nPageRequest.of(pageNo.orElse(0), pageSize, Sort.by(Comparator.comparing(this::daysFilter)).ascending())\r\n```\r\nBut Sort just can&#39;t take this :( \r\n\r\nIs there another way ? Or am i doing something wrong ?\r\n\r\nWhat is my alternative ? What else can i do ?\r\n\r\nThis is Boolean i want to have my list sorted by:\r\n```\r\n private Boolean daysFilter(ForeignerResponse foreigner) {\r\n        return !isNull(myUtil.getDaysFromTwoDates(foreigner.getFinishDate())) &amp;&amp;\r\n                (myUtil.getDaysFromTwoDates(foreigner.getFinishDate())) &lt; 30 &amp;&amp;\r\n                isNull(foreigner.getDecisionDate());\r\n    }\r\n```\r\nThank you for any tips :D\r\n","title":"How to use pagination and sort with Comparator class","body":"<p>i've got a problem. I am using pagination and sorting in my project. But now i would like to sort not just by one field but something more complex. That is why i tried to do something like this:</p>\n<pre><code>PageRequest.of(pageNo.orElse(0), pageSize, Sort.by(Comparator.comparing(this::daysFilter)).ascending())\n</code></pre>\n<p>But Sort just can't take this :(</p>\n<p>Is there another way ? Or am i doing something wrong ?</p>\n<p>What is my alternative ? What else can i do ?</p>\n<p>This is Boolean i want to have my list sorted by:</p>\n<pre><code> private Boolean daysFilter(ForeignerResponse foreigner) {\n        return !isNull(myUtil.getDaysFromTwoDates(foreigner.getFinishDate())) &amp;&amp;\n                (myUtil.getDaysFromTwoDates(foreigner.getFinishDate())) &lt; 30 &amp;&amp;\n                isNull(foreigner.getDecisionDate());\n    }\n</code></pre>\n<p>Thank you for any tips :D</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1644849431,"creation_date":1644848795,"answer_id":71113445,"question_id":71113335,"body_markdown":"Because **history**.\r\n\r\nOn April 1st, 1893, the time zone was adjusted from Local Mean Time (LMT), a local time zone (which was common at that time), to Central European Time (CET), adjusting the clock by 6 minutes and 32 seconds.\r\n\r\nTimezones are regularly changed due to political decisions, but those strange amounts like 6 minutes and 32 seconds are often the result of moving from a local mean time to a standardized time.\r\n\r\nMany known historical changes are found at [timeanddate.com][1], and Berlin specifically at https://www.timeanddate.com/time/zone/germany/berlin.\r\n\r\n[1]: https://www.timeanddate.com\r\n","title":"java.time.Instant.atZone(...) far in the past return crazy values","body":"<p>Because <strong>history</strong>.</p>\n<p>On April 1st, 1893, the time zone was adjusted from Local Mean Time (LMT), a local time zone (which was common at that time), to Central European Time (CET), adjusting the clock by 6 minutes and 32 seconds.</p>\n<p>Timezones are regularly changed due to political decisions, but those strange amounts like 6 minutes and 32 seconds are often the result of moving from a local mean time to a standardized time.</p>\n<p>Many known historical changes are found at <a href=\"https://www.timeanddate.com\" rel=\"nofollow noreferrer\">timeanddate.com</a>, and Berlin specifically at <a href=\"https://www.timeanddate.com/time/zone/germany/berlin\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/time/zone/germany/berlin</a>.</p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644848930,"creation_date":1644848930,"answer_id":71113476,"question_id":71113335,"body_markdown":"Timezones, Daylight Saving, and all those annoying and fancy features, did not exist at the beginning of the 20th century.\r\n\r\nThere were many &quot;variations&quot; of the time, like the infamous [Dutch Time](https://en.wikipedia.org/wiki/UTC%2B00:20) which was about 19 minutes ahead of UTC, mostly based on the clock of a tower which was simply that amount of time ahead.\r\n\r\nI don&#39;t know *exactly* where the time difference comes from in the case of Germany and Berlin, but it&#39;s a known offset (likely based on similar reasons as the Dutch Time). \r\n\r\nYou can see [how it has evolved](https://www.timeanddate.com/time/zone/germany/berlin?syear=1850) over time.","title":"java.time.Instant.atZone(...) far in the past return crazy values","body":"<p>Timezones, Daylight Saving, and all those annoying and fancy features, did not exist at the beginning of the 20th century.</p>\n<p>There were many &quot;variations&quot; of the time, like the infamous <a href=\"https://en.wikipedia.org/wiki/UTC%2B00:20\" rel=\"nofollow noreferrer\">Dutch Time</a> which was about 19 minutes ahead of UTC, mostly based on the clock of a tower which was simply that amount of time ahead.</p>\n<p>I don't know <em>exactly</em> where the time difference comes from in the case of Germany and Berlin, but it's a known offset (likely based on similar reasons as the Dutch Time).</p>\n<p>You can see <a href=\"https://www.timeanddate.com/time/zone/germany/berlin?syear=1850\" rel=\"nofollow noreferrer\">how it has evolved</a> over time.</p>\n"}],"owner":{"account_id":9054951,"reputation":51,"user_id":6743623,"display_name":"Christian Fr&#246;hlich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644849431,"creation_date":1644848246,"question_id":71113335,"body_markdown":"I detect the following output when converting an Instant that is far in the past to a ZonedDateTime.\r\n\r\nCode as Unit-Test:\r\n\r\n       @Test\r\n    public void testParseDate() {\r\n        Instant instant = Instant.parse(&quot;0000-12-30T07:00:00Z&quot;);\r\n        System.out.println(instant);\r\n        System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\r\n\r\n        instant = Instant.parse(&quot;1800-12-30T07:00:00Z&quot;);\r\n        System.out.println(&quot;---------------------------------&quot;);\r\n        System.out.println(instant);\r\n        System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\r\n\r\n        instant = Instant.parse(&quot;1900-12-30T07:00:00Z&quot;);\r\n        System.out.println(&quot;---------------------------------&quot;);\r\n        System.out.println(instant);\r\n        System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\r\n    }\r\nOutput:\r\n\r\n    0000-12-30T07:00:00Z\r\n    0000-12-30T07:53:28+00:53:28[Europe/Berlin]\r\n    ---------------------------------\r\n    1800-12-30T07:00:00Z\r\n    1800-12-30T07:53:28+00:53:28[Europe/Berlin]\r\n    ---------------------------------\r\n    1900-12-30T07:00:00Z\r\n    1900-12-30T08:00+01:00[Europe/Berlin]\r\n\r\nIn the first two outputs the time is 07:53:28+00:53:28 and the last output is 08:00+01:00[Europe/Berlin]. Maybe the root cause is that the time zone stuff doesn&#39;t yet exists in the years of the first two examples, but the offset of +00:53:28 is really strange.\r\nAny idea where this offset &quot;+00:53:28&quot; comes from? ","title":"java.time.Instant.atZone(...) far in the past return crazy values","body":"<p>I detect the following output when converting an Instant that is far in the past to a ZonedDateTime.</p>\n<p>Code as Unit-Test:</p>\n<pre><code>   @Test\npublic void testParseDate() {\n    Instant instant = Instant.parse(&quot;0000-12-30T07:00:00Z&quot;);\n    System.out.println(instant);\n    System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\n\n    instant = Instant.parse(&quot;1800-12-30T07:00:00Z&quot;);\n    System.out.println(&quot;---------------------------------&quot;);\n    System.out.println(instant);\n    System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\n\n    instant = Instant.parse(&quot;1900-12-30T07:00:00Z&quot;);\n    System.out.println(&quot;---------------------------------&quot;);\n    System.out.println(instant);\n    System.out.println(instant.atZone(ZoneId.of(&quot;Europe/Berlin&quot;)));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0000-12-30T07:00:00Z\n0000-12-30T07:53:28+00:53:28[Europe/Berlin]\n---------------------------------\n1800-12-30T07:00:00Z\n1800-12-30T07:53:28+00:53:28[Europe/Berlin]\n---------------------------------\n1900-12-30T07:00:00Z\n1900-12-30T08:00+01:00[Europe/Berlin]\n</code></pre>\n<p>In the first two outputs the time is 07:53:28+00:53:28 and the last output is 08:00+01:00[Europe/Berlin]. Maybe the root cause is that the time zone stuff doesn't yet exists in the years of the first two examples, but the offset of +00:53:28 is really strange.\nAny idea where this offset &quot;+00:53:28&quot; comes from?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":233608,"reputation":26927,"user_id":499214,"display_name":"John Dvorak"},"score":1,"creation_date":1363366134,"post_id":15437866,"comment_id":21837189,"body_markdown":"I&#39;m wondering why you need that...","body":"I&#39;m wondering why you need that..."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":4,"creation_date":1363366177,"post_id":15437866,"comment_id":21837220,"body_markdown":"@JanDvorak: Automatic code generation (or validation)?","body":"@JanDvorak: Automatic code generation (or validation)?"},{"owner":{"account_id":233608,"reputation":26927,"user_id":499214,"display_name":"John Dvorak"},"score":0,"creation_date":1363366280,"post_id":15437866,"comment_id":21837275,"body_markdown":"http://stackoverflow.com/questions/11774099/legal-identifiers-in-java","body":"<a href=\"http://stackoverflow.com/questions/11774099/legal-identifiers-in-java\" title=\"legal identifiers in java\">stackoverflow.com/questions/11774099/legal-identifiers-in-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":27626,"reputation":346906,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":2,"creation_date":1363366515,"post_id":15437866,"comment_id":21837425,"body_markdown":"Jan: That&#39;s a completely different question.","body":"Jan: That&#39;s a completely different question."},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1426847573,"post_id":15437866,"comment_id":46547862,"body_markdown":"I&#39;ve reopened this, because the apparent duplicate was not, in fact, a duplicate.","body":"I&#39;ve reopened this, because the apparent duplicate was not, in fact, a duplicate."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1505050637,"post_id":15437866,"comment_id":79244182,"body_markdown":"If your are using Java 6+, consider `javax.lang.model.SourceVersion` class. It has methods for such stuff.","body":"If your are using Java 6+, consider <code>javax.lang.model.SourceVersion</code> class. It has methods for such stuff."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1363367383,"creation_date":1363366332,"answer_id":15437952,"question_id":15437866,"body_markdown":"    public static boolean isValidJavaIdentifier(String s) {\r\n        if (s.isEmpty()) {\r\n            return false;\r\n        }\r\n        if (!Character.isJavaIdentifierStart(s.charAt(0))) {\r\n            return false;\r\n        }\r\n        for (int i = 1; i &lt; s.length(); i++) {\r\n            if (!Character.isJavaIdentifierPart(s.charAt(i))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nEDIT: and, as @Joey indicates, you should also filter out keywords and reserved words.","title":"How to validate if a string would be a valid java variable?","body":"<pre><code>public static boolean isValidJavaIdentifier(String s) {\n    if (s.isEmpty()) {\n        return false;\n    }\n    if (!Character.isJavaIdentifierStart(s.charAt(0))) {\n        return false;\n    }\n    for (int i = 1; i &lt; s.length(); i++) {\n        if (!Character.isJavaIdentifierPart(s.charAt(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>EDIT: and, as @Joey indicates, you should also filter out keywords and reserved words.</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1644849247,"creation_date":1449757454,"answer_id":34204307,"question_id":15437866,"body_markdown":"Java 6+\r\n-------\r\nUse\r\n``` java\r\nimport javax.lang.model.SourceVersion;\r\n\r\nboolean isValidVariableName(CharSequence name) {\r\n    return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name);\r\n}\r\n```\r\nif you need to check whether a string is a valid Java variable name in the **latest** version of Java or\r\n``` java\r\nimport javax.lang.model.SourceVersion;\r\n\r\nboolean isValidVariableNameInVersion(CharSequence name, SourceVersion version) {\r\n    return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name, version);\r\n}\r\n```\r\nif you need to check whether a string is a valid Java variable name in a **specific** Java version.\r\n\r\nFor example, [underscore became a reserved keyword starting from Java 9][1], so `isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_9)` returns `false` while `isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_8)` returns `true`.\r\n\r\n**How it works**\r\n\r\n[`SourceVersion.isIdentifier(CharSequence name)`](https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isIdentifier-java.lang.CharSequence-) checks whether  or not name is a syntactically valid identifier (simple name) or keyword in the latest source version. [`!SourceVersion.isKeyword(name)`](https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isKeyword-java.lang.CharSequence-) returns false for keywords. As a result, `SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name)` returns true for valid indetifiers and only for them.\r\n\r\nThe same approach is used in the built-in method [`SourceVersion.isName(CharSequence name, SourceVersion version)`](https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isName-java.lang.CharSequence-) that checks whether name is a syntactically valid **qualified** name, which means that it will return `true` for strings like &quot;apple.color&quot;:\r\n``` java\r\npublic static boolean isName(CharSequence name, SourceVersion version) {\r\n    String id = name.toString();\r\n\r\n    for(String s : id.split(&quot;\\\\.&quot;, -1)) {\r\n        if (!isIdentifier(s) || isKeyword(s, version))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\n**Test**\r\n\r\n``` java\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport javax.lang.model.SourceVersion;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class ValidVariableNameTest {\r\n    boolean isValidVariableName(CharSequence name) {\r\n        return isValidVariableNameInVersion(name, SourceVersion.RELEASE_8);\r\n    }\r\n\r\n    boolean isValidVariableNameInVersion(CharSequence name, SourceVersion version) {\r\n        return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name, version);\r\n    }\r\n\r\n    @Test\r\n    void variableNamesCanBeginWithLetters() {\r\n        assertThat(isValidVariableName(&quot;test&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;e2&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;w&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;привет&quot;)).isTrue();\r\n    }\r\n\r\n    @Test\r\n    void variableNamesCanBeginWithDollarSign() {\r\n        assertThat(isValidVariableName(&quot;$test&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;$e2&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;$w&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;$привет&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;$&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;$55&quot;)).isTrue();\r\n    }\r\n\r\n    @Test\r\n    void variableNamesCanBeginWithUnderscore() {\r\n        assertThat(isValidVariableName(&quot;_test&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;_e2&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;_w&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;_привет&quot;)).isTrue();\r\n        assertThat(isValidVariableName(&quot;_55&quot;)).isTrue();\r\n    }\r\n\r\n    @Test\r\n    void variableNamesCannotContainCharactersThatAreNotLettersOrDigits() {\r\n        assertThat(isValidVariableName(&quot;apple.color&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;my var&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot; &quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;apple%color&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;apple,color&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;,applecolor&quot;)).isFalse();\r\n    }\r\n\r\n    @Test\r\n    void variableNamesCannotStartWithDigit() {\r\n        assertThat(isValidVariableName(&quot;2e&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;5&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;123test&quot;)).isFalse();\r\n    }\r\n\r\n\r\n    @Test\r\n    void differentSourceVersionsAreHandledCorrectly() {\r\n        assertThat(isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_9)).isFalse();\r\n        assertThat(isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_8)).isTrue();\r\n\r\n        assertThat(isValidVariableNameInVersion(&quot;enum&quot;, SourceVersion.RELEASE_9)).isFalse();\r\n        assertThat(isValidVariableNameInVersion(&quot;enum&quot;, SourceVersion.RELEASE_4)).isTrue();\r\n    }\r\n\r\n    @Test\r\n    void keywordsCannotBeUsedAsVariableNames() {\r\n        assertThat(isValidVariableName(&quot;strictfp&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;assert&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;enum&quot;)).isFalse();\r\n\r\n        // Modifiers\r\n        assertThat(isValidVariableName(&quot;public&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;protected&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;private&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;abstract&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;static&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;final&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;transient&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;volatile&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;synchronized&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;native&quot;)).isFalse();\r\n\r\n        // Declarations\r\n        assertThat(isValidVariableName(&quot;class&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;interface&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;extends&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;package&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;throws&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;implements&quot;)).isFalse();\r\n\r\n        // Primitive types and void\r\n        assertThat(isValidVariableName(&quot;boolean&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;byte&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;char&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;short&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;int&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;long&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;float&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;double&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;void&quot;)).isFalse();\r\n\r\n        // Control flow\r\n        assertThat(isValidVariableName(&quot;if&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;else&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;try&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;catch&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;finally&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;do&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;while&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;for&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;continue&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;switch&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;case&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;default&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;break&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;throw&quot;)).isFalse();\r\n\r\n        assertThat(isValidVariableName(&quot;return&quot;)).isFalse();\r\n\r\n        // Other keywords\r\n        assertThat(isValidVariableName(&quot;this&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;new&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;super&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;import&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;instanceof&quot;)).isFalse();\r\n\r\n        // Reserved keywords\r\n        assertThat(isValidVariableName(&quot;goto&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;const&quot;)).isFalse();\r\n    }\r\n\r\n    @Test\r\n    void literalsCannotBeUsedAsVariableNames() {\r\n        assertThat(isValidVariableName(&quot;null&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;true&quot;)).isFalse();\r\n        assertThat(isValidVariableName(&quot;false&quot;)).isFalse();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8065599","title":"How to validate if a string would be a valid java variable?","body":"<h2>Java 6+</h2>\n<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.lang.model.SourceVersion;\n\nboolean isValidVariableName(CharSequence name) {\n    return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name);\n}\n</code></pre>\n<p>if you need to check whether a string is a valid Java variable name in the <strong>latest</strong> version of Java or</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.lang.model.SourceVersion;\n\nboolean isValidVariableNameInVersion(CharSequence name, SourceVersion version) {\n    return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name, version);\n}\n</code></pre>\n<p>if you need to check whether a string is a valid Java variable name in a <strong>specific</strong> Java version.</p>\n<p>For example, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8065599\" rel=\"nofollow noreferrer\">underscore became a reserved keyword starting from Java 9</a>, so <code>isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_9)</code> returns <code>false</code> while <code>isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_8)</code> returns <code>true</code>.</p>\n<p><strong>How it works</strong></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isIdentifier-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>SourceVersion.isIdentifier(CharSequence name)</code></a> checks whether  or not name is a syntactically valid identifier (simple name) or keyword in the latest source version. <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isKeyword-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>!SourceVersion.isKeyword(name)</code></a> returns false for keywords. As a result, <code>SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name)</code> returns true for valid indetifiers and only for them.</p>\n<p>The same approach is used in the built-in method <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/SourceVersion.html#isName-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>SourceVersion.isName(CharSequence name, SourceVersion version)</code></a> that checks whether name is a syntactically valid <strong>qualified</strong> name, which means that it will return <code>true</code> for strings like &quot;apple.color&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isName(CharSequence name, SourceVersion version) {\n    String id = name.toString();\n\n    for(String s : id.split(&quot;\\\\.&quot;, -1)) {\n        if (!isIdentifier(s) || isKeyword(s, version))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n\nimport javax.lang.model.SourceVersion;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class ValidVariableNameTest {\n    boolean isValidVariableName(CharSequence name) {\n        return isValidVariableNameInVersion(name, SourceVersion.RELEASE_8);\n    }\n\n    boolean isValidVariableNameInVersion(CharSequence name, SourceVersion version) {\n        return SourceVersion.isIdentifier(name) &amp;&amp; !SourceVersion.isKeyword(name, version);\n    }\n\n    @Test\n    void variableNamesCanBeginWithLetters() {\n        assertThat(isValidVariableName(&quot;test&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;e2&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;w&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;привет&quot;)).isTrue();\n    }\n\n    @Test\n    void variableNamesCanBeginWithDollarSign() {\n        assertThat(isValidVariableName(&quot;$test&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;$e2&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;$w&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;$привет&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;$&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;$55&quot;)).isTrue();\n    }\n\n    @Test\n    void variableNamesCanBeginWithUnderscore() {\n        assertThat(isValidVariableName(&quot;_test&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;_e2&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;_w&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;_привет&quot;)).isTrue();\n        assertThat(isValidVariableName(&quot;_55&quot;)).isTrue();\n    }\n\n    @Test\n    void variableNamesCannotContainCharactersThatAreNotLettersOrDigits() {\n        assertThat(isValidVariableName(&quot;apple.color&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;my var&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot; &quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;apple%color&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;apple,color&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;,applecolor&quot;)).isFalse();\n    }\n\n    @Test\n    void variableNamesCannotStartWithDigit() {\n        assertThat(isValidVariableName(&quot;2e&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;5&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;123test&quot;)).isFalse();\n    }\n\n\n    @Test\n    void differentSourceVersionsAreHandledCorrectly() {\n        assertThat(isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_9)).isFalse();\n        assertThat(isValidVariableNameInVersion(&quot;_&quot;, SourceVersion.RELEASE_8)).isTrue();\n\n        assertThat(isValidVariableNameInVersion(&quot;enum&quot;, SourceVersion.RELEASE_9)).isFalse();\n        assertThat(isValidVariableNameInVersion(&quot;enum&quot;, SourceVersion.RELEASE_4)).isTrue();\n    }\n\n    @Test\n    void keywordsCannotBeUsedAsVariableNames() {\n        assertThat(isValidVariableName(&quot;strictfp&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;assert&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;enum&quot;)).isFalse();\n\n        // Modifiers\n        assertThat(isValidVariableName(&quot;public&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;protected&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;private&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;abstract&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;static&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;final&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;transient&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;volatile&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;synchronized&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;native&quot;)).isFalse();\n\n        // Declarations\n        assertThat(isValidVariableName(&quot;class&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;interface&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;extends&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;package&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;throws&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;implements&quot;)).isFalse();\n\n        // Primitive types and void\n        assertThat(isValidVariableName(&quot;boolean&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;byte&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;char&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;short&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;int&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;long&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;float&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;double&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;void&quot;)).isFalse();\n\n        // Control flow\n        assertThat(isValidVariableName(&quot;if&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;else&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;try&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;catch&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;finally&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;do&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;while&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;for&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;continue&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;switch&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;case&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;default&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;break&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;throw&quot;)).isFalse();\n\n        assertThat(isValidVariableName(&quot;return&quot;)).isFalse();\n\n        // Other keywords\n        assertThat(isValidVariableName(&quot;this&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;new&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;super&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;import&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;instanceof&quot;)).isFalse();\n\n        // Reserved keywords\n        assertThat(isValidVariableName(&quot;goto&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;const&quot;)).isFalse();\n    }\n\n    @Test\n    void literalsCannotBeUsedAsVariableNames() {\n        assertThat(isValidVariableName(&quot;null&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;true&quot;)).isFalse();\n        assertThat(isValidVariableName(&quot;false&quot;)).isFalse();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12465,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":15437952,"answer_count":2,"score":15,"last_activity_date":1644849247,"creation_date":1363366070,"question_id":15437866,"body_markdown":"How can I best check if a string input would be a valid java variable for coding? I&#39;m sure I&#39;m not the first one who is willing to do this. But maybe I&#39;m missing the right keyword to find something useful.\r\n\r\nBest would probably be a RegEx, which checks that:\r\n\r\n - starts with a letter\r\n\r\n - can then contain digits, letters\r\n\r\n - can contain some special characters, like &#39;_&#39; (which?)\r\n - may not contain a whitespace separator","title":"How to validate if a string would be a valid java variable?","body":"<p>How can I best check if a string input would be a valid java variable for coding? I'm sure I'm not the first one who is willing to do this. But maybe I'm missing the right keyword to find something useful.</p>\n\n<p>Best would probably be a RegEx, which checks that:</p>\n\n<ul>\n<li><p>starts with a letter</p></li>\n<li><p>can then contain digits, letters</p></li>\n<li><p>can contain some special characters, like '_' (which?)</p></li>\n<li>may not contain a whitespace separator</li>\n</ul>\n"},{"tags":["java","mergesort"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1644566368,"post_id":71056915,"comment_id":125645283,"body_markdown":"As edited, this is basically a &quot;write me some code&quot; question.  That is &quot;too broad&quot;.","body":"As edited, this is basically a &quot;write me some code&quot; question.  That is &quot;too broad&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644849060,"creation_date":1644542236,"answer_id":71074258,"question_id":71056915,"body_markdown":"Although there is an accepted answer, this code uses `getFirst()` and `addAll()` as mentioned in the original post, in what I assume is the intended purpose of this exercise. It uses a bottom up merge sort, which avoids the top down issue having to scan lists to find mid points to split lists.\r\n\r\nThe basic concept of a bottom up merge sort is two 1 node lists are merged to create a sorted 2 node list, two sorted 2 node lists are merged to create a sorted 4 node list, two sorted 4 node lists are merged to create a sorted 8 node list, and so on, similar to bottom up merge sort for arrays.\r\n\r\nA bottom up merge sort uses a small array of lists (java), pointers to nodes (C), or iterators to nodes (C++) to hold the lists. For this example code, I use an array of 32 lists. For each member of array, the member is either null or refers to a list where the number of nodes for the list for array[i] has 2^i nodes: array[0] 1 node, array[1] 2 nodes, array[2] 4 nodes, ..., array[30] 2^30 = 1 billion nodes. The last member will have 2^31 = 2 billion nodes or more if the total number of nodes is &gt;= 2^32 (4 billion) nodes.\r\n\r\nNodes are removed from the front of the source list one at a time and each node from the source list is used to create a list `mm` with 1 node, then `mm` is merged into the array, stopping at the first null encountered:\r\n\r\n        while(source_list not empty){\r\n            mm = source_list.removeNode(()   // mm = next node from source list\r\n            for(i = 0; i &lt; 32; i++){         // merge mm into array\r\n                if(array[i] != null){\r\n                    mm = merge(array[i], mm)\r\n                    array[i] = null\r\n                } else {\r\n                    break\r\n                }\r\n            }\r\n            if(i == 32)    // if i == 32, there is no array[32], so \r\n                i = 31     //  use array[31] instead\r\n            array[i] = mm\r\n        }\r\n\r\nThe pattern looks like this:\r\n\r\n    mm = next node from source list  // 1 node list\r\n    array[0] = mm\r\n\r\n    mm = next node from source list  // 1 node list\r\n    mm = merge(array[0], mm)         // 2 node list\r\n    array[0] = null\r\n    array[1] = mm\r\n    \r\n    mm = next node from source list  // 1 node list\r\n    array[0] = mm\r\n    \r\n    mm = next node from source list  // 1 node list\r\n    mm = merge(array[0], mm)         // 2 node list\r\n    array[0] = null\r\n    mm = merge(array[1], mm)         // 4 node list\r\n    array[1] = null\r\n    array[2] = mm\r\n    \r\nOnce the last node is merged into the array, all the lists in the array are merged to form a single sorted list:\r\n\r\n            mm = empty list\r\n            for(i = 0; i &lt; 32; i++){\r\n                if(all[i] != null){\r\n                    mm = merge(all[i], mm);\r\n                    all[i] = null;    // (for garbage collection)\r\n                }\r\n            }\r\n\r\nJava&#39;s native double linked list class doesn&#39;t provide a means to move nodes within a list or between lists, so a node has to be deleted when an element is retrieved from the front of a list, and a node has to be created when an element is appended to the back of a list, an extra overhead. In the case of C++ standard double link list class std::list, std::list::splice() can be used to move nodes within a list or between lists, reducing the overhead, such as `dst.splice(dst.end(), src, src.begin())`, which moves the beginning node (first node) from `src` to the ending node (last node) of `dst`.\r\n\r\n        public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; ll,\r\n                                         LinkedList&lt;Integer&gt; rr)\r\n        {\r\n            if(ll.isEmpty())\r\n                return rr;\r\n            if(rr.isEmpty())\r\n                return ll;\r\n            LinkedList&lt;Integer&gt; mm = new LinkedList&lt;&gt;();\r\n            while(true){\r\n                if(ll.getFirst().compareTo(rr.getFirst()) &lt;= 0){\r\n                    mm.add(ll.removeFirst());\r\n                    if(!ll.isEmpty())\r\n                        continue;\r\n                    mm.addAll(rr);\r\n                    break;\r\n                } else {\r\n                    mm.add(rr.removeFirst());\r\n                    if(!rr.isEmpty())\r\n                        continue;\r\n                    mm.addAll(ll);\r\n                    break;\r\n                }\r\n            }\r\n            return mm;\r\n        }\r\n    \r\n        public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; ll)\r\n        {\r\n            if(ll == null || ll.size() &lt; 2)\r\n                return ll;\r\n            int i;\r\n            final int ASZ = 32;                 // create array (of nulls) \r\n            LinkedList&lt;Integer&gt;[] all= new LinkedList[ASZ];\r\n            // merge nodes into array\r\n            LinkedList&lt;Integer&gt; mm;\r\n            do{\r\n                mm = new LinkedList&lt;&gt;();        // mm = next node\r\n                mm.add(ll.removeFirst());\r\n                                                // merge mm into array\r\n                for(i = 0; (i &lt; ASZ) &amp;&amp; (all[i] != null); i++){\r\n                    mm = merge(all[i], mm);\r\n                    all[i] = null;\r\n                }\r\n                if(i == ASZ)                    // don&#39;t go past end of array\r\n                    i--;\r\n                all[i] = mm;\r\n            }while(!ll.isEmpty());\r\n            // merge array into single list\r\n            mm = new LinkedList&lt;&gt;();\r\n            for(i = 0; i &lt; ASZ; i++){\r\n                if(all[i] != null){\r\n                    mm = merge(all[i], mm);\r\n                    all[i] = null;\r\n                }\r\n            }\r\n            return (mm);\r\n        }\r\n\r\n---\r\n\r\ntest code, takes about 3 to 5 seconds to sort 4 million (2^22) nodes.\r\n\r\n    public static void main(String[] args) {\r\n        final int COUNT = 4*1024*1024; \r\n        LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\r\n        Random r = new Random();\r\n        for(int i = 0; i &lt; COUNT; i++)\r\n            ll.addLast(r.nextInt());\r\n        long bgn, end;\r\n        bgn = System.currentTimeMillis();\r\n        ll = mergeSort(ll);\r\n        end = System.currentTimeMillis();\r\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\r\n        // check sort\r\n        int i;\r\n        i = ll.removeFirst();\r\n        int j = i;\r\n        while(!ll.isEmpty()){\r\n            j = ll.removeFirst();\r\n            if(i &gt; j)\r\n                break;\r\n            i = j;\r\n        }\r\n        if(i == j)\r\n            System.out.println(&quot;passed&quot;);\r\n        else\r\n            System.out.println(&quot;failed&quot;);\r\n     }\r\n\r\n - - - \r\n\r\nIn the merge code, I&#39;m getting faster and more consistent run times using a loop instead of addAll, from 3 to 5 seconds down to 2.8 to 3.2 seconds, but the assignment states to use addAll.\r\n\r\n                    //  mm.addAll(rr);    // replace with loop is faster\r\n                    do\r\n                        mm.add(rr.removeFirst());\r\n                    while(!rr.isEmpty());\r\n","title":"Java Program to sort","body":"<p>Although there is an accepted answer, this code uses <code>getFirst()</code> and <code>addAll()</code> as mentioned in the original post, in what I assume is the intended purpose of this exercise. It uses a bottom up merge sort, which avoids the top down issue having to scan lists to find mid points to split lists.</p>\n<p>The basic concept of a bottom up merge sort is two 1 node lists are merged to create a sorted 2 node list, two sorted 2 node lists are merged to create a sorted 4 node list, two sorted 4 node lists are merged to create a sorted 8 node list, and so on, similar to bottom up merge sort for arrays.</p>\n<p>A bottom up merge sort uses a small array of lists (java), pointers to nodes (C), or iterators to nodes (C++) to hold the lists. For this example code, I use an array of 32 lists. For each member of array, the member is either null or refers to a list where the number of nodes for the list for array[i] has 2^i nodes: array[0] 1 node, array[1] 2 nodes, array[2] 4 nodes, ..., array[30] 2^30 = 1 billion nodes. The last member will have 2^31 = 2 billion nodes or more if the total number of nodes is &gt;= 2^32 (4 billion) nodes.</p>\n<p>Nodes are removed from the front of the source list one at a time and each node from the source list is used to create a list <code>mm</code> with 1 node, then <code>mm</code> is merged into the array, stopping at the first null encountered:</p>\n<pre><code>    while(source_list not empty){\n        mm = source_list.removeNode(()   // mm = next node from source list\n        for(i = 0; i &lt; 32; i++){         // merge mm into array\n            if(array[i] != null){\n                mm = merge(array[i], mm)\n                array[i] = null\n            } else {\n                break\n            }\n        }\n        if(i == 32)    // if i == 32, there is no array[32], so \n            i = 31     //  use array[31] instead\n        array[i] = mm\n    }\n</code></pre>\n<p>The pattern looks like this:</p>\n<pre><code>mm = next node from source list  // 1 node list\narray[0] = mm\n\nmm = next node from source list  // 1 node list\nmm = merge(array[0], mm)         // 2 node list\narray[0] = null\narray[1] = mm\n\nmm = next node from source list  // 1 node list\narray[0] = mm\n\nmm = next node from source list  // 1 node list\nmm = merge(array[0], mm)         // 2 node list\narray[0] = null\nmm = merge(array[1], mm)         // 4 node list\narray[1] = null\narray[2] = mm\n</code></pre>\n<p>Once the last node is merged into the array, all the lists in the array are merged to form a single sorted list:</p>\n<pre><code>        mm = empty list\n        for(i = 0; i &lt; 32; i++){\n            if(all[i] != null){\n                mm = merge(all[i], mm);\n                all[i] = null;    // (for garbage collection)\n            }\n        }\n</code></pre>\n<p>Java's native double linked list class doesn't provide a means to move nodes within a list or between lists, so a node has to be deleted when an element is retrieved from the front of a list, and a node has to be created when an element is appended to the back of a list, an extra overhead. In the case of C++ standard double link list class std::list, std::list::splice() can be used to move nodes within a list or between lists, reducing the overhead, such as <code>dst.splice(dst.end(), src, src.begin())</code>, which moves the beginning node (first node) from <code>src</code> to the ending node (last node) of <code>dst</code>.</p>\n<pre><code>    public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; ll,\n                                     LinkedList&lt;Integer&gt; rr)\n    {\n        if(ll.isEmpty())\n            return rr;\n        if(rr.isEmpty())\n            return ll;\n        LinkedList&lt;Integer&gt; mm = new LinkedList&lt;&gt;();\n        while(true){\n            if(ll.getFirst().compareTo(rr.getFirst()) &lt;= 0){\n                mm.add(ll.removeFirst());\n                if(!ll.isEmpty())\n                    continue;\n                mm.addAll(rr);\n                break;\n            } else {\n                mm.add(rr.removeFirst());\n                if(!rr.isEmpty())\n                    continue;\n                mm.addAll(ll);\n                break;\n            }\n        }\n        return mm;\n    }\n\n    public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; ll)\n    {\n        if(ll == null || ll.size() &lt; 2)\n            return ll;\n        int i;\n        final int ASZ = 32;                 // create array (of nulls) \n        LinkedList&lt;Integer&gt;[] all= new LinkedList[ASZ];\n        // merge nodes into array\n        LinkedList&lt;Integer&gt; mm;\n        do{\n            mm = new LinkedList&lt;&gt;();        // mm = next node\n            mm.add(ll.removeFirst());\n                                            // merge mm into array\n            for(i = 0; (i &lt; ASZ) &amp;&amp; (all[i] != null); i++){\n                mm = merge(all[i], mm);\n                all[i] = null;\n            }\n            if(i == ASZ)                    // don't go past end of array\n                i--;\n            all[i] = mm;\n        }while(!ll.isEmpty());\n        // merge array into single list\n        mm = new LinkedList&lt;&gt;();\n        for(i = 0; i &lt; ASZ; i++){\n            if(all[i] != null){\n                mm = merge(all[i], mm);\n                all[i] = null;\n            }\n        }\n        return (mm);\n    }\n</code></pre>\n<hr />\n<p>test code, takes about 3 to 5 seconds to sort 4 million (2^22) nodes.</p>\n<pre><code>public static void main(String[] args) {\n    final int COUNT = 4*1024*1024; \n    LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\n    Random r = new Random();\n    for(int i = 0; i &lt; COUNT; i++)\n        ll.addLast(r.nextInt());\n    long bgn, end;\n    bgn = System.currentTimeMillis();\n    ll = mergeSort(ll);\n    end = System.currentTimeMillis();\n    System.out.println(&quot;milliseconds &quot; + (end-bgn));\n    // check sort\n    int i;\n    i = ll.removeFirst();\n    int j = i;\n    while(!ll.isEmpty()){\n        j = ll.removeFirst();\n        if(i &gt; j)\n            break;\n        i = j;\n    }\n    if(i == j)\n        System.out.println(&quot;passed&quot;);\n    else\n        System.out.println(&quot;failed&quot;);\n }\n</code></pre>\n<hr />\n<p>In the merge code, I'm getting faster and more consistent run times using a loop instead of addAll, from 3 to 5 seconds down to 2.8 to 3.2 seconds, but the assignment states to use addAll.</p>\n<pre><code>                //  mm.addAll(rr);    // replace with loop is faster\n                do\n                    mm.add(rr.removeFirst());\n                while(!rr.isEmpty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644608055,"creation_date":1644545588,"answer_id":71074608,"question_id":71056915,"body_markdown":"You were close in terms of getting your approach working.  Here&#39;s what I came up with.  I changed the logic to create new lists to contain the results at each level rather than creating new lists when you break up a list.  There&#39;s no reason to copy a list just to keep it in the same order.  It&#39;s the list in the new order that needs to be fresh storage.  This limits the number of copies and I think makes the logic easier, since you can then just append onto the end of each result list instead of having to have logic to set the right position in each list.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    \r\n    class Test {\r\n    \r\n        public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; list, int start, int count) {\r\n        \r\n            if (count &lt; 2) {\r\n                LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\r\n                result.add(list.get(start));\r\n                return result;\r\n            }\r\n    \r\n            int size1 = count / 2;\r\n            int size2 = count - size1;\r\n    \r\n            LinkedList&lt;Integer&gt; list_1 = mergeSort(list, start, size1);\r\n            LinkedList&lt;Integer&gt; list_2 = mergeSort(list, start + size1, size2);\r\n    \r\n            return merge(list_1, list_2);\r\n        }\r\n    \r\n        public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; list_1, LinkedList&lt;Integer&gt; list_2) {\r\n    \r\n            LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\r\n    \r\n            int i = 0, j = 0;\r\n            while (i &lt; list_1.size() &amp;&amp; j &lt; list_2.size())\r\n                if (list_1.get(i) &lt; list_2.get(j))\r\n                    result.add(list_1.get(i++));\r\n                else\r\n                    result.add(list_2.get(j++));\r\n            while (i &lt; list_1.size())\r\n                result.add(list_1.get(i++));\r\n            while (j &lt; list_2.size())\r\n                result.add(list_2.get(j++));\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; list) {\r\n            return mergeSort(list, 0, list.size());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            LinkedList&lt;Integer&gt; myList = new LinkedList&lt;&gt;(Arrays.asList(22, 45, 1234, 77, 4, 1111, 999, 12, 88, 44, 7777, 22, 33, 44, 666));\r\n            LinkedList&lt;Integer&gt; sorted = mergeSort(myList);\r\n            System.out.println(sorted);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    [4, 12, 22, 22, 33, 44, 44, 45, 77, 88, 666, 999, 1111, 1234, 7777]\r\n\r\nUPDATE: As @rcgldr points out, the above solution doesn&#39;t meet the stated guidelines.  With this new version of the `merge()` method, the guidelines are met.  Note that this doesn&#39;t make the algorithm much more efficient (both versions create lots of lists and are quite INEFFICIENT), but it does save a bunch of walking to random positions in lists in favor of working from the front each list:\r\n\r\n    public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; list_1, LinkedList&lt;Integer&gt; list_2) {\r\n\r\n        LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\r\n\r\n        while (list_1.size() &gt; 0 &amp;&amp; list_2.size() &gt; 0)\r\n            if (list_1.peek() &lt; list_2.peek()) {\r\n                result.add(list_1.getFirst());\r\n                list_1.remove();\r\n            }\r\n            else {\r\n                result.add(list_2.getFirst());\r\n                list_2.remove();\r\n            }\r\n        result.addAll(list_1);\r\n        result.addAll(list_2);\r\n\r\n        return result;\r\n    }\r\n\r\nAlso note that calling `getFirst()` and then `remove()` is redundant.  `remmove()` can be called by itself to both grab the next element and remove it from the list.  I went with calling both methods to meet the requirements.\r\n","title":"Java Program to sort","body":"<p>You were close in terms of getting your approach working.  Here's what I came up with.  I changed the logic to create new lists to contain the results at each level rather than creating new lists when you break up a list.  There's no reason to copy a list just to keep it in the same order.  It's the list in the new order that needs to be fresh storage.  This limits the number of copies and I think makes the logic easier, since you can then just append onto the end of each result list instead of having to have logic to set the right position in each list.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.LinkedList;\n\nclass Test {\n\n    public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; list, int start, int count) {\n    \n        if (count &lt; 2) {\n            LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\n            result.add(list.get(start));\n            return result;\n        }\n\n        int size1 = count / 2;\n        int size2 = count - size1;\n\n        LinkedList&lt;Integer&gt; list_1 = mergeSort(list, start, size1);\n        LinkedList&lt;Integer&gt; list_2 = mergeSort(list, start + size1, size2);\n\n        return merge(list_1, list_2);\n    }\n\n    public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; list_1, LinkedList&lt;Integer&gt; list_2) {\n\n        LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\n\n        int i = 0, j = 0;\n        while (i &lt; list_1.size() &amp;&amp; j &lt; list_2.size())\n            if (list_1.get(i) &lt; list_2.get(j))\n                result.add(list_1.get(i++));\n            else\n                result.add(list_2.get(j++));\n        while (i &lt; list_1.size())\n            result.add(list_1.get(i++));\n        while (j &lt; list_2.size())\n            result.add(list_2.get(j++));\n\n        return result;\n    }\n\n    public static LinkedList&lt;Integer&gt; mergeSort(LinkedList&lt;Integer&gt; list) {\n        return mergeSort(list, 0, list.size());\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; myList = new LinkedList&lt;&gt;(Arrays.asList(22, 45, 1234, 77, 4, 1111, 999, 12, 88, 44, 7777, 22, 33, 44, 666));\n        LinkedList&lt;Integer&gt; sorted = mergeSort(myList);\n        System.out.println(sorted);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>[4, 12, 22, 22, 33, 44, 44, 45, 77, 88, 666, 999, 1111, 1234, 7777]\n</code></pre>\n<p>UPDATE: As @rcgldr points out, the above solution doesn't meet the stated guidelines.  With this new version of the <code>merge()</code> method, the guidelines are met.  Note that this doesn't make the algorithm much more efficient (both versions create lots of lists and are quite INEFFICIENT), but it does save a bunch of walking to random positions in lists in favor of working from the front each list:</p>\n<pre><code>public static LinkedList&lt;Integer&gt; merge(LinkedList&lt;Integer&gt; list_1, LinkedList&lt;Integer&gt; list_2) {\n\n    LinkedList&lt;Integer&gt; result = new LinkedList&lt;&gt;();\n\n    while (list_1.size() &gt; 0 &amp;&amp; list_2.size() &gt; 0)\n        if (list_1.peek() &lt; list_2.peek()) {\n            result.add(list_1.getFirst());\n            list_1.remove();\n        }\n        else {\n            result.add(list_2.getFirst());\n            list_2.remove();\n        }\n    result.addAll(list_1);\n    result.addAll(list_2);\n\n    return result;\n}\n</code></pre>\n<p>Also note that calling <code>getFirst()</code> and then <code>remove()</code> is redundant.  <code>remmove()</code> can be called by itself to both grab the next element and remove it from the list.  I went with calling both methods to meet the requirements.</p>\n"}],"owner":{"account_id":24208410,"reputation":5,"user_id":18165282,"display_name":"ThatOne"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1644614787,"accepted_answer_id":71074608,"answer_count":2,"score":-3,"last_activity_date":1644849060,"creation_date":1644441871,"question_id":71056915,"body_markdown":"I&#39;m trying to implement a code to mergeSort a list. I was told to use `getFirst()` and `addAll()` but I don&#39;t know how so this is what I came up with: \r\n\r\nAlso, I can&#39;t use a `void` for `mergeSort` method - because it gives me an error so I have to return something. \r\n\r\n***Any suggestions will be very appreciate***\r\n","title":"Java Program to sort","body":"<p>I'm trying to implement a code to mergeSort a list. I was told to use <code>getFirst()</code> and <code>addAll()</code> but I don't know how so this is what I came up with:</p>\n<p>Also, I can't use a <code>void</code> for <code>mergeSort</code> method - because it gives me an error so I have to return something.</p>\n<p><em><strong>Any suggestions will be very appreciate</strong></em></p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464606299,"creation_date":1464604793,"answer_id":37523636,"question_id":37522604,"body_markdown":"Try to avoid unimportant comparison. Example\r\n\r\n    public class NewClass12 {\r\n       static int [] arr = {1,2,3,4,5,3,2,1,0,9,7,6,5,4,3,2,1};\r\n          public static void main(String [] args){\r\n            int n = 4; //bounds\r\n            boolean peakFound = false;\r\n            int peak = 0;\r\n            //iterate of data\r\n            for(int k = n; k&lt;=arr.length-n+1;k++){\r\n               //check data within bounds\r\n               for (int i = 1;i &lt;=n;i++){\r\n                  if(arr[k]&lt;arr[k-i] || arr[k]&lt;arr[k+i]){\r\n                    peakFound = false;\r\n                    break;\r\n                }\r\n                else{\r\n                   peakFound = true; \r\n                   peak = arr[k];\r\n                }\r\n            } \r\n            if(peakFound)\r\n                System.out.println(peak);\r\n         }\r\n       }\r\n    }","title":"Find peaks in array (with neighborhood)","body":"<p>Try to avoid unimportant comparison. Example</p>\n\n<pre><code>public class NewClass12 {\n   static int [] arr = {1,2,3,4,5,3,2,1,0,9,7,6,5,4,3,2,1};\n      public static void main(String [] args){\n        int n = 4; //bounds\n        boolean peakFound = false;\n        int peak = 0;\n        //iterate of data\n        for(int k = n; k&lt;=arr.length-n+1;k++){\n           //check data within bounds\n           for (int i = 1;i &lt;=n;i++){\n              if(arr[k]&lt;arr[k-i] || arr[k]&lt;arr[k+i]){\n                peakFound = false;\n                break;\n            }\n            else{\n               peakFound = true; \n               peak = arr[k];\n            }\n        } \n        if(peakFound)\n            System.out.println(peak);\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2170478,"reputation":761,"user_id":5112246,"accept_rate":52,"display_name":"nope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644847912,"creation_date":1464601830,"question_id":37522604,"body_markdown":"Suppose I have a 1D array, and I want to find peaks. The difference from classic peak finding is that I need to check not only its neighbors, but I need to check `n` left neighbors and `n` right neighbors. For example my array is following:\r\n\r\n`[1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1]`\r\n\r\nAnd `n = 4`. I need to check every subarray with length `4 + 1 + 4` and see if the middle element is the maximum.\r\n\r\nIn the case:\r\n\r\n`[5,6,7,8,9,8,7,6,5]`, 9 is the peak.\r\n\r\n But this does not sound very efficient. So what can be a better solution? When I find a peak, I can ignore the next `n` elements I think.","title":"Find peaks in array (with neighborhood)","body":"<p>Suppose I have a 1D array, and I want to find peaks. The difference from classic peak finding is that I need to check not only its neighbors, but I need to check <code>n</code> left neighbors and <code>n</code> right neighbors. For example my array is following:</p>\n\n<p><code>[1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1]</code></p>\n\n<p>And <code>n = 4</code>. I need to check every subarray with length <code>4 + 1 + 4</code> and see if the middle element is the maximum.</p>\n\n<p>In the case:</p>\n\n<p><code>[5,6,7,8,9,8,7,6,5]</code>, 9 is the peak.</p>\n\n<p>But this does not sound very efficient. So what can be a better solution? When I find a peak, I can ignore the next <code>n</code> elements I think.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":7937995,"reputation":555,"user_id":5993197,"display_name":"Muhammad Azam"},"score":0,"creation_date":1644835455,"post_id":71110385,"comment_id":125702420,"body_markdown":"you can inject apache kafka version in your pom","body":"you can inject apache kafka version in your pom"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644847697,"creation_date":1644847697,"answer_id":71113218,"question_id":71110385,"body_markdown":"That version is totally out of date and is no longer supported.\r\n\r\nhttps://spring.io/projects/spring-kafka#support\r\n\r\nThe oldest supported OSS version is 2.7.10.\r\n\r\nI doubt such an old version will work with recent clients, especially if you are using the embedded broker for testing.","title":"Spring-Kafka 2.1.3.release compatibility with apache-kafka-2.8.1 client","body":"<p>That version is totally out of date and is no longer supported.</p>\n<p><a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka#support</a></p>\n<p>The oldest supported OSS version is 2.7.10.</p>\n<p>I doubt such an old version will work with recent clients, especially if you are using the embedded broker for testing.</p>\n"}],"owner":{"account_id":24252061,"reputation":1,"user_id":18202952,"display_name":"kathiravan pandi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644847697,"creation_date":1644834595,"question_id":71110385,"body_markdown":"My project is built with Spring boot 1.5.10.release. We want to migrate to Apache Kafka 2.8.1 from Apache Kafka 2.11.x. We are currently using Spring-kafka 2.1.3. Can we connect the kafka without changing the Spring-kafka version ?","title":"Spring-Kafka 2.1.3.release compatibility with apache-kafka-2.8.1 client","body":"<p>My project is built with Spring boot 1.5.10.release. We want to migrate to Apache Kafka 2.8.1 from Apache Kafka 2.11.x. We are currently using Spring-kafka 2.1.3. Can we connect the kafka without changing the Spring-kafka version ?</p>\n"},{"tags":["java","maven","log4j2","sentry"],"answers":[{"tags":[],"owner":{"account_id":2243108,"reputation":6134,"user_id":1977143,"accept_rate":80,"display_name":"Bruno Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600712445,"creation_date":1600712445,"answer_id":63997918,"question_id":63990349,"body_markdown":"It should work also with `log4j2.properties`. Have you tried and it failed?\r\nMaybe the docs should explicitly state that it&#39;s supported.\r\n\r\nIf it doesn&#39;t work, you can raise an issue on GitHub:\r\n\r\nhttps://github.com/getsentry/sentry-java/issues","title":"Sentry with log4j2.properties","body":"<p>It should work also with <code>log4j2.properties</code>. Have you tried and it failed?\nMaybe the docs should explicitly state that it's supported.</p>\n<p>If it doesn't work, you can raise an issue on GitHub:</p>\n<p><a href=\"https://github.com/getsentry/sentry-java/issues\" rel=\"nofollow noreferrer\">https://github.com/getsentry/sentry-java/issues</a></p>\n"},{"tags":[],"owner":{"account_id":5608748,"reputation":437,"user_id":4442344,"accept_rate":56,"display_name":"sirnino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600776089,"creation_date":1600776089,"answer_id":64009325,"question_id":63990349,"body_markdown":"I&#39;ve the same problem.\r\n\r\nHere is my log4j2.properties\r\n\r\n    appenders = console,Sentry\r\n     \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = ${env:log4j.csl.pattern:-info}\r\n    \r\n    appender.Sentry=io.sentry.log4j.SentryAppender\r\n    appender.Sentry.name=Sentry\r\n    appender.Sentry.type=Sentry\r\n    \r\n     \r\n    rootLogger.level = ${env:log4j.root.loglevel:-info}\r\n    rootLogger.appenderRefs = stdout\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n    \r\n    \r\n    loggers=csl,sentry\r\n    logger.csl.name = io.sirnino\r\n    logger.csl.level = ${env:log4j.csl.loglevel:-debug}\r\n    logger.csl.additivity = false\r\n    logger.csl.appenderRefs = stdout\r\n    logger.csl.appenderRef.stdout.ref = STDOUT\r\n    \r\n    logger.sentry.name = sentry\r\n    logger.sentry.level = WARN\r\n    logger.sentry.appenderRefs = Sentry\r\n\r\nThe app starts properly but, in a nutshell, seems to ignore the Sentry logger. Any idea?","title":"Sentry with log4j2.properties","body":"<p>I've the same problem.</p>\n<p>Here is my log4j2.properties</p>\n<pre><code>appenders = console,Sentry\n \nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = ${env:log4j.csl.pattern:-info}\n\nappender.Sentry=io.sentry.log4j.SentryAppender\nappender.Sentry.name=Sentry\nappender.Sentry.type=Sentry\n\n \nrootLogger.level = ${env:log4j.root.loglevel:-info}\nrootLogger.appenderRefs = stdout\nrootLogger.appenderRef.stdout.ref = STDOUT\n\n\nloggers=csl,sentry\nlogger.csl.name = io.sirnino\nlogger.csl.level = ${env:log4j.csl.loglevel:-debug}\nlogger.csl.additivity = false\nlogger.csl.appenderRefs = stdout\nlogger.csl.appenderRef.stdout.ref = STDOUT\n\nlogger.sentry.name = sentry\nlogger.sentry.level = WARN\nlogger.sentry.appenderRefs = Sentry\n</code></pre>\n<p>The app starts properly but, in a nutshell, seems to ignore the Sentry logger. Any idea?</p>\n"},{"tags":[],"owner":{"account_id":21737962,"reputation":11,"user_id":16045707,"display_name":"Vasu Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622100608,"creation_date":1622100608,"answer_id":67717568,"question_id":63990349,"body_markdown":"This solution for integrating sentry with log4j2.properties worked for me perfectly along with stdout logging.\r\n\r\n    log4j.rootLogger=INFO, stdout, sentry\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n\r\n    \r\n    log4j.appender.sentry=io.sentry.log4j.SentryAppender\r\n    log4j.appender.sentry.Threshold=error\r\n\r\nFor this, I had to add log4j 1.x version of sentry to my pom.xml","title":"Sentry with log4j2.properties","body":"<p>This solution for integrating sentry with log4j2.properties worked for me perfectly along with stdout logging.</p>\n<pre><code>log4j.rootLogger=INFO, stdout, sentry\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{1}:%L - %m%n\n\nlog4j.appender.sentry=io.sentry.log4j.SentryAppender\nlog4j.appender.sentry.Threshold=error\n</code></pre>\n<p>For this, I had to add log4j 1.x version of sentry to my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":12898399,"reputation":781,"user_id":9328279,"display_name":"Da Chucky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644847630,"creation_date":1644847630,"answer_id":71113199,"question_id":63990349,"body_markdown":"In my case with log4j 2.17, I needed to add `packages = io.sentry.log4j2` to my `log4j2.properties` file.\r\n\r\nFull file:\r\n\r\n```\r\nstatus = error\r\ndest = err\r\nname = MyName\r\npackages = io.sentry.log4j2\r\n\r\nmonitorInterval = 5\r\n\r\nappender.console.type = Console\r\nappender.console.name = LogToConsole\r\nappender.console.layout.type = JsonLayout\r\nappender.console.layout.compact = true\r\nappender.console.layout.eventEol = true\r\nappender.console.layout.properties = true\r\n\r\nappender.sentry.name = Sentry\r\nappender.sentry.type = Sentry\r\nappender.sentry.dsn = https://key@my.domain.com\r\n\r\nrootLogger.level = ${env:LOG_LEVEL:-debug}\r\nrootLogger.appenderRef.console.ref = LogToConsole\r\nrootLogger.appenderRef.sentry.ref = Sentry\r\n```","title":"Sentry with log4j2.properties","body":"<p>In my case with log4j 2.17, I needed to add <code>packages = io.sentry.log4j2</code> to my <code>log4j2.properties</code> file.</p>\n<p>Full file:</p>\n<pre><code>status = error\ndest = err\nname = MyName\npackages = io.sentry.log4j2\n\nmonitorInterval = 5\n\nappender.console.type = Console\nappender.console.name = LogToConsole\nappender.console.layout.type = JsonLayout\nappender.console.layout.compact = true\nappender.console.layout.eventEol = true\nappender.console.layout.properties = true\n\nappender.sentry.name = Sentry\nappender.sentry.type = Sentry\nappender.sentry.dsn = https://key@my.domain.com\n\nrootLogger.level = ${env:LOG_LEVEL:-debug}\nrootLogger.appenderRef.console.ref = LogToConsole\nrootLogger.appenderRef.sentry.ref = Sentry\n</code></pre>\n"}],"owner":{"account_id":5220211,"reputation":339,"user_id":4173912,"display_name":"FilippoG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1644847630,"creation_date":1600683607,"question_id":63990349,"body_markdown":"I&#39;m trying to integrate Sentry in my Maven project that already uses log4j2.properties as log4j2 configuration file.\r\n\r\nThe [official documentation][1] has just log4j2.xml as configuration example.\r\n\r\nWhat is the way to configure the same example with log4j2.properties?\r\n\r\n\r\n  [1]: https://docs.sentry.io/platforms/java/guides/log4j2/","title":"Sentry with log4j2.properties","body":"<p>I'm trying to integrate Sentry in my Maven project that already uses log4j2.properties as log4j2 configuration file.</p>\n<p>The <a href=\"https://docs.sentry.io/platforms/java/guides/log4j2/\" rel=\"nofollow noreferrer\">official documentation</a> has just log4j2.xml as configuration example.</p>\n<p>What is the way to configure the same example with log4j2.properties?</p>\n"},{"tags":["java","sql-server","spring","jdbc","bcp"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644843902,"post_id":71112191,"comment_id":125705431,"body_markdown":"https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15 ?","body":"<a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644847611,"creation_date":1644847611,"answer_id":71113190,"question_id":71112191,"body_markdown":"&gt;Is converting our array/list into one of these classes the only way to do a bulk copy? Is there any other way to do it?\r\n\r\nYes. The JDBC driver will also [use bulk copy API for batch insert operation][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15","title":"Inserting rows into SQL server using Bulk copy from Spring JDBC","body":"<blockquote>\n<p>Is converting our array/list into one of these classes the only way to do a bulk copy? Is there any other way to do it?</p>\n</blockquote>\n<p>Yes. The JDBC driver will also <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/use-bulk-copy-api-batch-insert-operation?view=sql-server-ver15\" rel=\"nofollow noreferrer\">use bulk copy API for batch insert operation</a>.</p>\n"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644847611,"creation_date":1644843083,"question_id":71112191,"body_markdown":"We can read/write data to sql server using JDBC, but for certain scalability reasons (volume &amp; frequency), we want to use the bulk copy functionality. \r\n\r\nAccording to the documentation [here][1], there is a SQLServerBulkCopy class. There are numerous examples, includind reading from other tables, and reading from files, but there is no example on how to insert an array of rows. \r\n\r\nSQLServerBulkCopy has 3 writeToServer methods, which take Rowset, Resultset, and ISQLServerBulkData. Is converting our array/list into one of these classes the only way to do a bulk copy? Is there any other way to do it? \r\n\r\nWould be glad of any pointers if you&#39;ve come across this before. \r\n\r\n\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver15#:~:text=Microsoft%20SQL%20Server%20includes%20a,Java%20that%20provide%20similar%20functionality.","title":"Inserting rows into SQL server using Bulk copy from Spring JDBC","body":"<p>We can read/write data to sql server using JDBC, but for certain scalability reasons (volume &amp; frequency), we want to use the bulk copy functionality.</p>\n<p>According to the documentation <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver15#:%7E:text=Microsoft%20SQL%20Server%20includes%20a,Java%20that%20provide%20similar%20functionality.\" rel=\"nofollow noreferrer\">here</a>, there is a SQLServerBulkCopy class. There are numerous examples, includind reading from other tables, and reading from files, but there is no example on how to insert an array of rows.</p>\n<p>SQLServerBulkCopy has 3 writeToServer methods, which take Rowset, Resultset, and ISQLServerBulkData. Is converting our array/list into one of these classes the only way to do a bulk copy? Is there any other way to do it?</p>\n<p>Would be glad of any pointers if you've come across this before.</p>\n"},{"tags":["java","arrays","methods","types"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644627866,"post_id":71088126,"comment_id":125665164,"body_markdown":"Have a look at [`java.util.Arrays`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html). You will see that even the people who created Java cannot avoid such code duplication with primitives, at least with Java as it is today. There is something being worked on called [Project Valhalla](https://openjdk.java.net/projects/valhalla/) that will allow generics over primitive types in some future version of Java.","body":"Have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>java.util.Arrays</code></a>. You will see that even the people who created Java cannot avoid such code duplication with primitives, at least with Java as it is today. There is something being worked on called <a href=\"https://openjdk.java.net/projects/valhalla/\" rel=\"nofollow noreferrer\">Project Valhalla</a> that will allow generics over primitive types in some future version of Java."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644629236,"creation_date":1644627867,"answer_id":71088148,"question_id":71088126,"body_markdown":"Yes. But the only common ancestral type for all arrays&lt;sup&gt;**1**&lt;/sup&gt; is `Object`. You can use that and [`java.lang.reflect.Array`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html). Also since `printArray` has no state, you might as well make it `static` like\r\n\r\n\tstatic void printArray(String info, Object pArray) {\r\n\t\tStringBuilder sb = new StringBuilder(info);\r\n\t\tint len = Array.getLength(pArray);\r\n\t\tif (len &gt; 0) {\r\n\t\t\tsb.append(&quot;{ &quot;).append(Array.get(pArray, 0));\r\n\t\t\tfor (int a = 1; a &lt; len; a++) {\r\n\t\t\t\tsb.append(&quot;, &quot;).append(Array.get(pArray, a));\r\n\t\t\t}\r\n\t\t\tsb.append(&quot; }&quot;);\r\n\t\t} else {\r\n\t\t\tsb.append(&quot;{}&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n\r\nI tested it like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean[] bArr = { true, true, false, false };\r\n\t\tint[] iArr = { 0, 1, 2, 3 };\r\n\t\tprintArray(&quot;boolean[]&quot;, bArr);\r\n\t\tprintArray(&quot;int[]&quot;, iArr);\r\n\t}\r\n\r\nWhich outputs\r\n\r\n    boolean[]{ true, true, false, false }\r\n    int[]{ 0, 1, 2, 3 }\r\n\r\n&lt;sup&gt;**1**&lt;/sup&gt;&lt;sub&gt;Both primitive and reference types. `Object obj = new int[] { 1, 2, 3 };` and `Object obj = new String[] { &quot;Hello&quot;, &quot;World&quot; };` are both valid. All arrays are `Object`s in Java.&lt;/sub&gt;","title":"How can I make a Java method accept arrays of different (primitive) variable types?","body":"<p>Yes. But the only common ancestral type for all arrays<sup><strong>1</strong></sup> is <code>Object</code>. You can use that and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Array</code></a>. Also since <code>printArray</code> has no state, you might as well make it <code>static</code> like</p>\n<pre><code>static void printArray(String info, Object pArray) {\n    StringBuilder sb = new StringBuilder(info);\n    int len = Array.getLength(pArray);\n    if (len &gt; 0) {\n        sb.append(&quot;{ &quot;).append(Array.get(pArray, 0));\n        for (int a = 1; a &lt; len; a++) {\n            sb.append(&quot;, &quot;).append(Array.get(pArray, a));\n        }\n        sb.append(&quot; }&quot;);\n    } else {\n        sb.append(&quot;{}&quot;);\n    }\n    System.out.println(sb);\n}\n</code></pre>\n<p>I tested it like</p>\n<pre><code>public static void main(String[] args) {\n    boolean[] bArr = { true, true, false, false };\n    int[] iArr = { 0, 1, 2, 3 };\n    printArray(&quot;boolean[]&quot;, bArr);\n    printArray(&quot;int[]&quot;, iArr);\n}\n</code></pre>\n<p>Which outputs</p>\n<pre><code>boolean[]{ true, true, false, false }\nint[]{ 0, 1, 2, 3 }\n</code></pre>\n<p><sup><strong>1</strong></sup><sub>Both primitive and reference types. <code>Object obj = new int[] { 1, 2, 3 };</code> and <code>Object obj = new String[] { &quot;Hello&quot;, &quot;World&quot; };</code> are both valid. All arrays are <code>Object</code>s in Java.</sub></p>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644628919,"creation_date":1644628449,"answer_id":71088182,"question_id":71088126,"body_markdown":"You can create a Stream from an array of primitives, and then create an array of Objects from the Stream. This is one example.\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class ArrayPrinter {\r\n        \r\n        public static void printArray(Object[] arr) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                sb.append(i == 0 ? arr[i] : &quot; &quot; + arr[i]);\r\n            }\r\n            System.out.println(sb.toString());\r\n        }\r\n            \r\n        public static void main(String[] args) {\r\n            int[] arr = new int[] {1, 2, 3, 4, 5, 6};\r\n            Integer[] objs = Arrays.stream(arr).boxed().toArray(Integer[]::new);\r\n            printArray(objs);\r\n        }\r\n    }\r\n\r\nIt&#39;s also fine to just have multiple versions of a method, one for an int array, one for a boolean array, one for a String array, et cetera. This strategy is called method overloading, and it&#39;s common. You can see examples of method overloading in the java.lang.Math class. The methods `java.lang.Math.abs`, `java.lang.Math.max`, and `java.lang.Math.min` are overloaded for different parameter types.\r\n\r\n\r\n","title":"How can I make a Java method accept arrays of different (primitive) variable types?","body":"<p>You can create a Stream from an array of primitives, and then create an array of Objects from the Stream. This is one example.</p>\n<pre><code>import java.util.Arrays;\n\npublic class ArrayPrinter {\n    \n    public static void printArray(Object[] arr) {\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; arr.length; i++) {\n            sb.append(i == 0 ? arr[i] : &quot; &quot; + arr[i]);\n        }\n        System.out.println(sb.toString());\n    }\n        \n    public static void main(String[] args) {\n        int[] arr = new int[] {1, 2, 3, 4, 5, 6};\n        Integer[] objs = Arrays.stream(arr).boxed().toArray(Integer[]::new);\n        printArray(objs);\n    }\n}\n</code></pre>\n<p>It's also fine to just have multiple versions of a method, one for an int array, one for a boolean array, one for a String array, et cetera. This strategy is called method overloading, and it's common. You can see examples of method overloading in the java.lang.Math class. The methods <code>java.lang.Math.abs</code>, <code>java.lang.Math.max</code>, and <code>java.lang.Math.min</code> are overloaded for different parameter types.</p>\n"}],"owner":{"account_id":3401434,"reputation":21,"user_id":2853486,"display_name":"Dierk"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1644631532,"accepted_answer_id":71088148,"answer_count":2,"score":1,"last_activity_date":1644847586,"creation_date":1644627507,"question_id":71088126,"body_markdown":"I want to write a simple method to print an array - looking like an array -  with its elements in the terminal, independent of whether it is an int[], boolean[], String[], double[] etc. \r\n\r\nThe `String info` parameter is just meant to output some answer phrase with the array shown, like `&quot;The wanted array is { .... }&quot;`.\r\n\r\nI am aware that in Java\r\n - unspecified parameter types should be handled with extreme care\r\n - primitive variable types cannot easily be used with generic data types\r\n - the usual answer for accepting different parameter types is overloading (which I finally did),\r\n\r\nbut the only difference between the different versions of the method `printArray(...)` is the variable type of the array handed over in the parameter list.\r\n\r\nI also tried to hand over an `object[] pArray` as a parameter, but then it would only accept integer arrays, or give a runtime error message.\r\n\r\nA similar concept is addressed in the answers to the former post [Parameter For All Primitive Types of Java?][1], but - although it is pretty much the same question - the answers don&#39;t give solutions for arrays of simple primitives. They only answer \r\n\r\n - ways to find out, which parameter type was used, or\r\n - are limited to object types (including wrapper classes) or Number-objects, but which both don&#39;t solve my problem.\r\n\r\nLooking at this the mantra &quot;avoid code duplication&quot; seems to be so obviously violated that I believe there must be a better solution.\r\n\r\nCan anyone help me with this?    Here is the code:  \r\n\r\n    void printArray(String info, boolean[] pArray)\r\n    {\r\n        String arrayString = &quot;&quot;;\r\n    \r\n        if (pArray.length &gt; 0){\r\n            arrayString = &quot;{ &quot; + pArray[0];\r\n    \r\n            for (int a = 1; a &lt; pArray.length; a++){\r\n                arrayString = arrayString + &quot;, &quot; + pArray[a];\r\n            }\r\n            arrayString = arrayString + &quot; }&quot;;\r\n        } else {\r\n            arrayString = &quot;{}&quot;;\r\n        }\r\n    \r\n        System.out.println(info + arrayString + &quot;\\n&quot;);\r\n    }\r\n    \r\n    void printArray(String info, int[] pArray)\r\n    {\r\n        String arrayString = &quot;&quot;;\r\n    \r\n        if (pArray.length &gt; 0){\r\n            arrayString = &quot;{ &quot; + pArray[0];\r\n    \r\n            for (int a = 1; a &lt; pArray.length; a++){\r\n                arrayString = arrayString + &quot;, &quot; + pArray[a];\r\n            }\r\n            arrayString = arrayString + &quot; }&quot;;\r\n        } else {\r\n            arrayString = &quot;{}&quot;;\r\n        }\r\n    \r\n        System.out.println(info + arrayString + &quot;\\n&quot;); \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9240370/parameter-for-all-primitive-types-of-java","title":"How can I make a Java method accept arrays of different (primitive) variable types?","body":"<p>I want to write a simple method to print an array - looking like an array -  with its elements in the terminal, independent of whether it is an int[], boolean[], String[], double[] etc.</p>\n<p>The <code>String info</code> parameter is just meant to output some answer phrase with the array shown, like <code>&quot;The wanted array is { .... }&quot;</code>.</p>\n<p>I am aware that in Java</p>\n<ul>\n<li>unspecified parameter types should be handled with extreme care</li>\n<li>primitive variable types cannot easily be used with generic data types</li>\n<li>the usual answer for accepting different parameter types is overloading (which I finally did),</li>\n</ul>\n<p>but the only difference between the different versions of the method <code>printArray(...)</code> is the variable type of the array handed over in the parameter list.</p>\n<p>I also tried to hand over an <code>object[] pArray</code> as a parameter, but then it would only accept integer arrays, or give a runtime error message.</p>\n<p>A similar concept is addressed in the answers to the former post <a href=\"https://stackoverflow.com/questions/9240370/parameter-for-all-primitive-types-of-java\">Parameter For All Primitive Types of Java?</a>, but - although it is pretty much the same question - the answers don't give solutions for arrays of simple primitives. They only answer</p>\n<ul>\n<li>ways to find out, which parameter type was used, or</li>\n<li>are limited to object types (including wrapper classes) or Number-objects, but which both don't solve my problem.</li>\n</ul>\n<p>Looking at this the mantra &quot;avoid code duplication&quot; seems to be so obviously violated that I believe there must be a better solution.</p>\n<p>Can anyone help me with this?    Here is the code:</p>\n<pre><code>void printArray(String info, boolean[] pArray)\n{\n    String arrayString = &quot;&quot;;\n\n    if (pArray.length &gt; 0){\n        arrayString = &quot;{ &quot; + pArray[0];\n\n        for (int a = 1; a &lt; pArray.length; a++){\n            arrayString = arrayString + &quot;, &quot; + pArray[a];\n        }\n        arrayString = arrayString + &quot; }&quot;;\n    } else {\n        arrayString = &quot;{}&quot;;\n    }\n\n    System.out.println(info + arrayString + &quot;\\n&quot;);\n}\n\nvoid printArray(String info, int[] pArray)\n{\n    String arrayString = &quot;&quot;;\n\n    if (pArray.length &gt; 0){\n        arrayString = &quot;{ &quot; + pArray[0];\n\n        for (int a = 1; a &lt; pArray.length; a++){\n            arrayString = arrayString + &quot;, &quot; + pArray[a];\n        }\n        arrayString = arrayString + &quot; }&quot;;\n    } else {\n        arrayString = &quot;{}&quot;;\n    }\n\n    System.out.println(info + arrayString + &quot;\\n&quot;); \n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"score":0,"creation_date":1374849488,"post_id":17884186,"comment_id":26116901,"body_markdown":"[Related](http://stackoverflow.com/questions/7317043/regex-not-operator)","body":"<a href=\"http://stackoverflow.com/questions/7317043/regex-not-operator\">Related</a>"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":0,"creation_date":1374849499,"post_id":17884186,"comment_id":26116912,"body_markdown":"Is the `_PROCESSED` string always in a known location in the string?","body":"Is the <code>_PROCESSED</code> string always in a known location in the string?"},{"owner":{"account_id":462220,"reputation":6007,"user_id":864413,"accept_rate":94,"display_name":"mart1n"},"score":0,"creation_date":1374849595,"post_id":17884186,"comment_id":26116981,"body_markdown":"Also related with excellent info: http://stackoverflow.com/questions/406230/regular-expression-to-match-string-not-containing-a-word","body":"Also related with excellent info: <a href=\"http://stackoverflow.com/questions/406230/regular-expression-to-match-string-not-containing-a-word\" title=\"regular expression to match string not containing a word\">stackoverflow.com/questions/406230/&hellip;</a>"},{"owner":{"account_id":316828,"reputation":130866,"user_id":633183,"accept_rate":66,"display_name":"Mulan"},"score":2,"creation_date":1374849627,"post_id":17884186,"comment_id":26117011,"body_markdown":"@Jim, that&#39;s not really a reliable way to do it. Your expression would filter out `covers_PROC.zip` too","body":"@Jim, that&#39;s not really a reliable way to do it. Your expression would filter out <code>covers_PROC.zip</code> too"},{"owner":{"account_id":2373105,"reputation":3676,"user_id":2077250,"accept_rate":91,"display_name":"taylorc93"},"score":0,"creation_date":1374849739,"post_id":17884186,"comment_id":26117082,"body_markdown":"@Floris Yes, `_PROCESSED` will always be right before `.zip` in the filename","body":"@Floris Yes, <code>_PROCESSED</code> will always be right before <code>.zip</code> in the filename"},{"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"score":0,"creation_date":1374850361,"post_id":17884186,"comment_id":26117541,"body_markdown":"I am searching online for a sftp client with a `lsFiles()` function - the ones I found admit simple filters (like `*.zip`) but not true `regex`. Can you tell us what sftp client you are using?","body":"I am searching online for a sftp client with a <code>lsFiles()</code> function - the ones I found admit simple filters (like <code>*.zip</code>) but not true <code>regex</code>. Can you tell us what sftp client you are using?"},{"owner":{"account_id":2373105,"reputation":3676,"user_id":2077250,"accept_rate":91,"display_name":"taylorc93"},"score":0,"creation_date":1374850518,"post_id":17884186,"comment_id":26117660,"body_markdown":"It&#39;s one that the company that I&#39;m working for built, but its based on the JCraft 3rd party API","body":"It&#39;s one that the company that I&#39;m working for built, but its based on the JCraft 3rd party API"},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1374850862,"post_id":17884186,"comment_id":26117899,"body_markdown":"@Jim no, square brackets denote a character class, so your suggestion will match any _single character_ that is not D, E, C, S, O, R, P or underscore.","body":"@Jim no, square brackets denote a character class, so your suggestion will match any <i>single character</i> that is not D, E, C, S, O, R, P or underscore."},{"owner":{"account_id":3053728,"reputation":5114,"user_id":2587816,"accept_rate":70,"display_name":"Jiminion"},"score":0,"creation_date":1374851567,"post_id":17884186,"comment_id":26118326,"body_markdown":"Deleted erroneous suggestion of [^_PROCESSED]","body":"Deleted erroneous suggestion of [^_PROCESSED]"}],"answers":[{"tags":[],"owner":{"account_id":316828,"reputation":130866,"user_id":633183,"accept_rate":66,"display_name":"Mulan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644847444,"creation_date":1374849489,"answer_id":17884267,"question_id":17884186,"body_markdown":"Sure thing, boss\r\n\r\n    /(?!_PROCESSED)/\r\n\r\nThis is a [negative lookahead](http://www.regular-expressions.info/lookaround.html) and it&#39;s supported in almost all regexp flavours","title":"Is it possible to create a regex that will find strings that DO NOT match a pattern?","body":"<p>Sure thing, boss</p>\n<pre><code>/(?!_PROCESSED)/\n</code></pre>\n<p>This is a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">negative lookahead</a> and it's supported in almost all regexp flavours</p>\n"},{"tags":[],"owner":{"account_id":2229398,"reputation":45955,"user_id":1967396,"accept_rate":100,"display_name":"Floris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374850827,"creation_date":1374850827,"answer_id":17884779,"question_id":17884186,"body_markdown":"If your client filters with true regex, then \r\n\r\n    lsFiles(&quot;(?!_PROCESSED)\\.zip&quot;) \r\n\r\nshould return all `zip` files that were not processed. But usually file filters just allow simple wildcard substitution (of the `*.zip` variety), so I would be surprised if this actually worked. If it doesn&#39;t, then taking a listing of all `.zip` files and filtering them is the right approach - but you already knew that.","title":"Is it possible to create a regex that will find strings that DO NOT match a pattern?","body":"<p>If your client filters with true regex, then </p>\n\n<pre><code>lsFiles(\"(?!_PROCESSED)\\.zip\") \n</code></pre>\n\n<p>should return all <code>zip</code> files that were not processed. But usually file filters just allow simple wildcard substitution (of the <code>*.zip</code> variety), so I would be surprised if this actually worked. If it doesn't, then taking a listing of all <code>.zip</code> files and filtering them is the right approach - but you already knew that.</p>\n"},{"tags":[],"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374855956,"creation_date":1374855548,"answer_id":17886302,"question_id":17884186,"body_markdown":"You can exclude a specific substring using this kind of pattern:\r\n\r\n    ^(?&gt;[^_]++|_(?!PROCESSED))+$\r\n\r\nAs you can see it use an alternation between `[^_]++` &lt;i&gt;(all that is not a `_`)&lt;/i&gt; and `_(?!PROCESSED)` &lt;i&gt;(`_` not followed by `PROCESSED`)&lt;/i&gt;.\r\n\r\nThe interest of this kind of pattern is that you avoid to check character by character if there is not `_PROCESSED` somewhere, but only when you meet the first character of the string you want to exclude. Thus, the test number is considerably reduced.\r\n\r\nThe function suggested by naomik seems to be appropriate for what you are trying to do:\r\n\r\n    listFilesMatching(new File(&quot;/some/path&quot;, &quot;^(?&gt;[^_]++|_(?!PROCESSED))+$&quot;);","title":"Is it possible to create a regex that will find strings that DO NOT match a pattern?","body":"<p>You can exclude a specific substring using this kind of pattern:</p>\n\n<pre><code>^(?&gt;[^_]++|_(?!PROCESSED))+$\n</code></pre>\n\n<p>As you can see it use an alternation between <code>[^_]++</code> <i>(all that is not a <code>_</code>)</i> and <code>_(?!PROCESSED)</code> <i>(<code>_</code> not followed by <code>PROCESSED</code>)</i>.</p>\n\n<p>The interest of this kind of pattern is that you avoid to check character by character if there is not <code>_PROCESSED</code> somewhere, but only when you meet the first character of the string you want to exclude. Thus, the test number is considerably reduced.</p>\n\n<p>The function suggested by naomik seems to be appropriate for what you are trying to do:</p>\n\n<pre><code>listFilesMatching(new File(\"/some/path\", \"^(?&gt;[^_]++|_(?!PROCESSED))+$\");\n</code></pre>\n"}],"owner":{"account_id":2373105,"reputation":3676,"user_id":2077250,"accept_rate":91,"display_name":"taylorc93"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17884267,"answer_count":3,"score":5,"last_activity_date":1644847444,"creation_date":1374849316,"question_id":17884186,"body_markdown":"I have this situation where I need to pull a bunch of zipfiles from a server using a prebuilt SFTP client.  I only want the ones that do not have `_PROCESSED` in their filename.  For example, `covers.zip` would be ok but `covers_PROCESSED.zip` would not.  I have a current working solution for this where I run `lsFiles()`, which returns all the filenames in the directory and then run a function that filters them based on whether they have that keyword in their filename.  They are then pulled from the server.  \r\n\r\nHowever, in the sftp client I&#39;m using, there is also this function: `lsFiles(String pattern)`, which returns anything that matches the pattern. I want to use this function to get only the filenames I want, since this would both shorten and optimize my code a bit.  The problem is, I don&#39;t know how to make a regex that will only match things if they DO NOT have the given pattern (or if this is even possible). Can someone tell me if this is possible, and if so, provide an example of how to do this? ","title":"Is it possible to create a regex that will find strings that DO NOT match a pattern?","body":"<p>I have this situation where I need to pull a bunch of zipfiles from a server using a prebuilt SFTP client.  I only want the ones that do not have <code>_PROCESSED</code> in their filename.  For example, <code>covers.zip</code> would be ok but <code>covers_PROCESSED.zip</code> would not.  I have a current working solution for this where I run <code>lsFiles()</code>, which returns all the filenames in the directory and then run a function that filters them based on whether they have that keyword in their filename.  They are then pulled from the server.  </p>\n\n<p>However, in the sftp client I'm using, there is also this function: <code>lsFiles(String pattern)</code>, which returns anything that matches the pattern. I want to use this function to get only the filenames I want, since this would both shorten and optimize my code a bit.  The problem is, I don't know how to make a regex that will only match things if they DO NOT have the given pattern (or if this is even possible). Can someone tell me if this is possible, and if so, provide an example of how to do this? </p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","java-17"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644847657,"post_id":71113140,"comment_id":125706848,"body_markdown":"Remove the version from the `org.springframework.integration` dependencies. You are using incompatible versions.","body":"Remove the version from the <code>org.springframework.integration</code> dependencies. You are using incompatible versions."},{"owner":{"account_id":6025678,"reputation":615,"user_id":4785103,"accept_rate":56,"display_name":"C&#233;sar Castro Aroche"},"score":0,"creation_date":1644848087,"post_id":71113140,"comment_id":125707040,"body_markdown":"Thank you very much @M. Deinum I didn&#39;t notice that!","body":"Thank you very much @M. Deinum I didn&#39;t notice that!"}],"owner":{"account_id":6025678,"reputation":615,"user_id":4785103,"accept_rate":56,"display_name":"C&#233;sar Castro Aroche"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644847430,"creation_date":1644847430,"question_id":71113140,"body_markdown":"I&#39;m migrating a small java 8 Spring-Boot 2.1.0 project to Java 17 with Spring-Boot 2.6.3\r\nThe project uses RabbitMQ and is basically a serializer-deserializer. \r\nThe problem I&#39;m encountering is that I cannot run the application because it fails to initialize this bean:\r\n\r\n \r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Bean\r\n        public IntegrationFlow fromDocToLDocFlow(AmqpTemplate amqpTemplate) {\r\n            return IntegrationFlows\r\n                    .from(DOCUMENT_ROUTE)\r\n                    .handle(Amqp.outboundAdapter(amqpTemplate).routingKey(documentBinding).exchangeName(documentExchange))\r\n                    .get();\r\n        }\r\n\r\nAnd the exception I get is this:\r\n\r\n\r\n   \r\n\r\n     Error creating bean with name &#39;fromDocToLDocFlow.amqp:outbound-channel-adapter#0&#39; defined in class path resource [publisher/config/IntegrationFlowConfiguration.class]: Invocation of init method failed; \r\n    nested exception is java.lang.IncompatibleClassChangeError: Expecting non-static method &#39;java.lang.Object org.springframework.integration.context.IntegrationObjectSupport.extractTypeIfPossible(java.lang.Object, java.lang.Class)&#39;... 14 common frames omitted\r\n        Caused by: java.lang.IncompatibleClassChangeError: Expecting non-static method &#39;java.lang.Object org.springframework.integration.context.IntegrationObjectSupport.extractTypeIfPossible(java.lang.Object, java.lang.Class)&#39;\r\n        \tat org.springframework.integration.amqp.outbound.AbstractAmqpOutboundEndpoint.doInit(AbstractAmqpOutboundEndpoint.java:409) ~[spring-integration-amqp-5.1.0.RELEASE.jar:5.1.0.RELEASE]\r\n             \t... 26 common frames omitted\r\n\r\nHere is my gradle configuration:\r\n\r\n\r\n    buildscript {\r\n    \text {\r\n    \t\tspringBootVersion = &#39;2.6.3&#39;\r\n    \t}\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    group = &#39;com.group&#39;\r\n    sourceCompatibility = 17\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-amqp&#39;)\r\n    \timplementation(&#39;org.springframework.boot:spring-boot-starter-integration&#39;)\r\n        implementation(&quot;org.springframework.integration:spring-integration-feed:5.1.0.RELEASE&quot;)\r\n        implementation(&quot;org.springframework.integration:spring-integration-amqp:5.1.0.RELEASE&quot;)\r\n    \r\n        implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;)\r\n        implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n        testImplementation(&quot;junit:junit&quot;)\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    \ttestImplementation(&#39;commons-io:commons-io:2.11.0&#39;)\r\n    }\r\n\r\nCompiled dependencies:\r\n\r\n    Gradle: org.springframework.amqp:spring-rabbit:2.4.22\r\n    Gradle: org.springframework.amqp:spring-amqp:2.4.22\r\n    Gradle: org.springframework.boot:spring-boot:2.6.32\r\n    Gradle: org.springframework.retry:spring-retry:1.3.1\r\n\r\n\r\n\r\n","title":"RabbitMQ SpringBoot migration - Error creating bean","body":"<p>I'm migrating a small java 8 Spring-Boot 2.1.0 project to Java 17 with Spring-Boot 2.6.3\nThe project uses RabbitMQ and is basically a serializer-deserializer.\nThe problem I'm encountering is that I cannot run the application because it fails to initialize this bean:</p>\n<pre><code>@Autowired\nprivate ConnectionFactory connectionFactory;\n\n@Bean\n    public IntegrationFlow fromDocToLDocFlow(AmqpTemplate amqpTemplate) {\n        return IntegrationFlows\n                .from(DOCUMENT_ROUTE)\n                .handle(Amqp.outboundAdapter(amqpTemplate).routingKey(documentBinding).exchangeName(documentExchange))\n                .get();\n    }\n</code></pre>\n<p>And the exception I get is this:</p>\n<pre><code> Error creating bean with name 'fromDocToLDocFlow.amqp:outbound-channel-adapter#0' defined in class path resource [publisher/config/IntegrationFlowConfiguration.class]: Invocation of init method failed; \nnested exception is java.lang.IncompatibleClassChangeError: Expecting non-static method 'java.lang.Object org.springframework.integration.context.IntegrationObjectSupport.extractTypeIfPossible(java.lang.Object, java.lang.Class)'... 14 common frames omitted\n    Caused by: java.lang.IncompatibleClassChangeError: Expecting non-static method 'java.lang.Object org.springframework.integration.context.IntegrationObjectSupport.extractTypeIfPossible(java.lang.Object, java.lang.Class)'\n        at org.springframework.integration.amqp.outbound.AbstractAmqpOutboundEndpoint.doInit(AbstractAmqpOutboundEndpoint.java:409) ~[spring-integration-amqp-5.1.0.RELEASE.jar:5.1.0.RELEASE]\n            ... 26 common frames omitted\n</code></pre>\n<p>Here is my gradle configuration:</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.6.3'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\napply plugin: 'java'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.group'\nsourceCompatibility = 17\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\ndependencies {\n    implementation('org.springframework.boot:spring-boot-starter-amqp')\n    implementation('org.springframework.boot:spring-boot-starter-integration')\n    implementation(&quot;org.springframework.integration:spring-integration-feed:5.1.0.RELEASE&quot;)\n    implementation(&quot;org.springframework.integration:spring-integration-amqp:5.1.0.RELEASE&quot;)\n\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;)\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\n\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    testImplementation(&quot;junit:junit&quot;)\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n    testImplementation('commons-io:commons-io:2.11.0')\n}\n</code></pre>\n<p>Compiled dependencies:</p>\n<pre><code>Gradle: org.springframework.amqp:spring-rabbit:2.4.22\nGradle: org.springframework.amqp:spring-amqp:2.4.22\nGradle: org.springframework.boot:spring-boot:2.6.32\nGradle: org.springframework.retry:spring-retry:1.3.1\n</code></pre>\n"},{"tags":["java","bash","shell","process","environment"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1315516614,"post_id":7354592,"comment_id":8873261,"body_markdown":"Its likely to be an option like `bash -l` if you don&#39;t have the right environment already. Is there any reason you don&#39;t have the bash environment before you start Java?","body":"Its likely to be an option like <code>bash -l</code> if you don&#39;t have the right environment already. Is there any reason you don&#39;t have the bash environment before you start Java?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1315516615,"post_id":7354592,"comment_id":8873262,"body_markdown":"Not totally clear here... do you mean that you are writing a Java program that will execute a `bash` shell as a child process?","body":"Not totally clear here... do you mean that you are writing a Java program that will execute a <code>bash</code> shell as a child process?"},{"owner":{"account_id":293849,"reputation":7950,"user_id":597401,"accept_rate":75,"display_name":"rumpel"},"score":0,"creation_date":1315516728,"post_id":7354592,"comment_id":8873285,"body_markdown":"Maybe execute command like: `/usr/bin/env bash -c &quot;. /etc/bash.bashrc; cmd&quot;`","body":"Maybe execute command like: <code>&#47;usr&#47;bin&#47;env bash -c &quot;. &#47;etc&#47;bash.bashrc; cmd&quot;</code>"},{"owner":{"account_id":474644,"reputation":363,"user_id":884450,"accept_rate":80,"display_name":"Joris"},"score":0,"creation_date":1315517623,"post_id":7354592,"comment_id":8873487,"body_markdown":"@erickson please see update - I&#39;d like to do exactly what you state here in the comments.","body":"@erickson please see update - I&#39;d like to do exactly what you state here in the comments."}],"answers":[{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315517929,"creation_date":1315517929,"answer_id":7354846,"question_id":7354592,"body_markdown":"Go and get the latest [Beanshell][1] .jar  file and put it into your Javasoft/jre/lib/ext  directory.  \r\n\r\nThen , you can run Java shell scripts like this:\r\n\r\n    java bsh.Interpreter myscript.bsh [args]\r\n\r\nOr, from within a Java program like so:\r\n\r\n    Object result = new bsh.Interpreter().source(&quot;myscript.bsh&quot;);\r\n\r\nNOTE: in the second example, the args need to be set separately in the namespace.\r\n\r\n\r\n  [1]: http://www.beanshell.org/manual/bshmanual.html\r\n","title":"How do I launch a java process that has the standard bash shell environment?","body":"<p>Go and get the latest <a href=\"http://www.beanshell.org/manual/bshmanual.html\" rel=\"nofollow\">Beanshell</a> .jar  file and put it into your Javasoft/jre/lib/ext  directory.  </p>\n\n<p>Then , you can run Java shell scripts like this:</p>\n\n<pre><code>java bsh.Interpreter myscript.bsh [args]\n</code></pre>\n\n<p>Or, from within a Java program like so:</p>\n\n<pre><code>Object result = new bsh.Interpreter().source(\"myscript.bsh\");\n</code></pre>\n\n<p>NOTE: in the second example, the args need to be set separately in the namespace.</p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644847415,"creation_date":1315520073,"answer_id":7355164,"question_id":7354592,"body_markdown":"You need to set up a shell invocation with ProcessBuilder. Execute a command like:\r\n\r\n    /bin/bash -l -c &quot;The entire command line that you want to execute&quot;\r\n\r\nWhen constructing the`ProcessBuilder` pay attention to pass the command to execute as one unified string, e.g:\r\n\r\n~~~shell\r\nnew ProcessBuilder(&quot;bash&quot;, &quot;-l&quot;, &quot;-c&quot;, &quot;ps ax&quot;)\r\n~~~","title":"How do I launch a java process that has the standard bash shell environment?","body":"<p>You need to set up a shell invocation with ProcessBuilder. Execute a command like:</p>\n<pre><code>/bin/bash -l -c &quot;The entire command line that you want to execute&quot;\n</code></pre>\n<p>When constructing the<code>ProcessBuilder</code> pay attention to pass the command to execute as one unified string, e.g:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>new ProcessBuilder(&quot;bash&quot;, &quot;-l&quot;, &quot;-c&quot;, &quot;ps ax&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371151,"reputation":4227,"user_id":2830324,"accept_rate":57,"display_name":"md.jamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391664472,"creation_date":1391663179,"answer_id":21594464,"question_id":7354592,"body_markdown":"You can try,\r\n\r\n    bash -i -c &quot;your command&quot;\r\n\r\nHere i stands for interactive screen, which will start by executing the commands present in the `~/.bashrc file`","title":"How do I launch a java process that has the standard bash shell environment?","body":"<p>You can try,</p>\n\n<pre><code>bash -i -c \"your command\"\n</code></pre>\n\n<p>Here i stands for interactive screen, which will start by executing the commands present in the <code>~/.bashrc file</code></p>\n"}],"owner":{"account_id":474644,"reputation":363,"user_id":884450,"accept_rate":80,"display_name":"Joris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3439,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7355164,"answer_count":3,"score":3,"last_activity_date":1644847415,"creation_date":1315516438,"question_id":7354592,"body_markdown":"I&#39;ve tried looking into process builder, but I&#39;m not sure how to source the bash environment into the process.\r\n\r\nFor example I&#39;m using the following to launch my process:\r\n\r\n    Process p = new ProcessBuilder(args).start();\r\n    InputStream is = p.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n\r\nAnd I&#39;d like my standard shell environment (from /etc/profile, .bashrc, etc.) sourced to the process.\r\n\r\nSorry if I&#39;m not using the right terms - still learning java.\r\n\r\nThanks in advance for any help!","title":"How do I launch a java process that has the standard bash shell environment?","body":"<p>I've tried looking into process builder, but I'm not sure how to source the bash environment into the process.</p>\n\n<p>For example I'm using the following to launch my process:</p>\n\n<pre><code>Process p = new ProcessBuilder(args).start();\nInputStream is = p.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\n</code></pre>\n\n<p>And I'd like my standard shell environment (from /etc/profile, .bashrc, etc.) sourced to the process.</p>\n\n<p>Sorry if I'm not using the right terms - still learning java.</p>\n\n<p>Thanks in advance for any help!</p>\n"},{"tags":["java","maven","dependencies","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1644920584,"post_id":71113105,"comment_id":125727144,"body_markdown":"Do you want container aware detection, or are you happy with just mime magic and filename detection?","body":"Do you want container aware detection, or are you happy with just mime magic and filename detection?"},{"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"score":0,"creation_date":1644933348,"post_id":71113105,"comment_id":125732206,"body_markdown":"I just wanna use `tika.detect` with a String, which is the filename of a file.","body":"I just wanna use <code>tika.detect</code> with a String, which is the filename of a file."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1644936531,"post_id":71113105,"comment_id":125733682,"body_markdown":"In that case, `tika-core` should be fine","body":"In that case, <code>tika-core</code> should be fine"},{"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"score":0,"creation_date":1644946073,"post_id":71113105,"comment_id":125737939,"body_markdown":"But the question is can I use even less dependency than the initial `tika-core` import to lighten the dependency import given my use of tika? @Gagravarr","body":"But the question is can I use even less dependency than the initial <code>tika-core</code> import to lighten the dependency import given my use of tika? @Gagravarr"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1645022174,"post_id":71113105,"comment_id":125760117,"body_markdown":"Without `tika-core` you won&#39;t have any Tika...","body":"Without <code>tika-core</code> you won&#39;t have any Tika..."}],"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644847261,"creation_date":1644847261,"question_id":71113105,"body_markdown":"I want to use Apache Tika with as few dependencies as possible because I&#39;m only using the filename on the tika.detect method, so I don&#39;t want to include all the unnecessary parsers for me\r\n\r\nSo what is the dependency for Apache Tika with Maven to use only Tika with a filename and not import all the other unnecessary dependencies for me?\r\n\r\n","title":"Use Apache Tika with the least possible dependency (with Maven)","body":"<p>I want to use Apache Tika with as few dependencies as possible because I'm only using the filename on the tika.detect method, so I don't want to include all the unnecessary parsers for me</p>\n<p>So what is the dependency for Apache Tika with Maven to use only Tika with a filename and not import all the other unnecessary dependencies for me?</p>\n"},{"tags":["java","apache-poi","bar-chart","powerpoint"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1616561110,"post_id":66774234,"comment_id":118037941,"body_markdown":"Well, seems your code does something wrong.But what code? Please read [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask), especially after heading **Help others reproduce the problem**.","body":"Well, seems your code does something wrong.But what code? Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, especially after heading <b>Help others reproduce the problem</b>."},{"owner":{"account_id":21039471,"reputation":11,"user_id":15462205,"display_name":"fragment"},"score":0,"creation_date":1616562908,"post_id":66774234,"comment_id":118038311,"body_markdown":"sorry, sir, I made a mistake in asking. I have managed to attach the code to the question.please kindly advise.","body":"sorry, sir, I made a mistake in asking. I have managed to attach the code to the question.please kindly advise."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1616565526,"post_id":66774234,"comment_id":118038888,"body_markdown":"What `apache poi` version are you using? If it is a current one, then usage of the underlying `ooxml-schemas` classes is not necessary. Using those `CT...` classes is error prone if one does not have really good knowledge about the internally `XML` structure.","body":"What <code>apache poi</code> version are you using? If it is a current one, then usage of the underlying <code>ooxml-schemas</code> classes is not necessary. Using those <code>CT...</code> classes is error prone if one does not have really good knowledge about the internally <code>XML</code> structure."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644847159,"creation_date":1616576729,"answer_id":66777798,"question_id":66774234,"body_markdown":"Using current `apache poi 5.0.0` updating a chart in `PowerPoint` is possible using the new `XDDF` classes. That avoids using the `ooxml-schemas` classes (`CT...` classes) directly. Using `CT` classes directly is error prone and needs very good knowlegde about the internally `XML` structure of `Office Open XML`.\r\n\r\nWhat one needs to know is that chart data is stored in an embedded `Excel` workbook. So while updating the data the need is always updating the data in that workbook and updating the data in the chart.\r\n\r\nThe following example is a minimal reproducible example for how to do this.\r\n\r\nThe template `BarChartSample.pptx` contained a bar chart having only one series an one category. It defines the chart format. It looks like so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe code is like this:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.ss.util.AreaReference;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumns;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\r\n    \r\n    public class PowerPointChangeChartData {\r\n    \r\n     //patched version of XSSFTable.updateHeaders, see https://stackoverflow.com/questions/55532006/renaming-headers-of-xssftable-with-apache-poi-leads-to-corrupt-xlsx-file/55539181#55539181\r\n     static void updateHeaders(XSSFTable table) {\r\n      XSSFSheet sheet = (XSSFSheet)table.getParent();\r\n      CellReference ref = table.getStartCellReference();\r\n    \r\n      if (ref == null) return;\r\n    \r\n      int headerRow = ref.getRow();\r\n      int firstHeaderColumn = ref.getCol();\r\n      XSSFRow row = sheet.getRow(headerRow);\r\n      DataFormatter formatter = new DataFormatter();\r\n    \r\n      if (row != null /*&amp;&amp; row.getCTRow().validate()*/) {\r\n       int cellnum = firstHeaderColumn;\r\n       CTTableColumns ctTableColumns = table.getCTTable().getTableColumns();\r\n       if(ctTableColumns != null) {\r\n        for (CTTableColumn col : ctTableColumns.getTableColumnList()) {\r\n         XSSFCell cell = row.getCell(cellnum);\r\n         if (cell != null) {\r\n          col.setName(formatter.formatCellValue(cell));\r\n         }\r\n         cellnum++;\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     static void updateChart(XSLFChart chart, Object[][] data) throws Exception {\r\n      // get chart&#39;s data source which is a Excel sheet\r\n      XSSFWorkbook chartDataWorkbook = chart.getWorkbook();\r\n      String sheetName = chartDataWorkbook.getSheetName(0);\r\n      XSSFSheet chartDataSheet = chartDataWorkbook.getSheet(sheetName);\r\n      // current Office uses a table as data source\r\n      // so get that table if present\r\n      XSSFTable chartDataTable = null;\r\n      if (chartDataSheet.getTables().size() &gt; 0) {\r\n       chartDataTable = chartDataSheet.getTables().get(0);\r\n      }\r\n    \r\n      if (chart.getChartSeries().size() == 1) { // we will process only one chart data\r\n       XDDFChartData chartData = chart.getChartSeries().get(0);\r\n       if (chartData.getSeriesCount() == 1) { // we will process only templates having one series\r\n    \r\n        int rMin = 1; // first row (0) is headers row\r\n        int rMax = data.length - 1;\r\n    \r\n        // set new category data\r\n        XDDFCategoryDataSource category = null;\r\n        int c = 0;\r\n        for (int r = rMin; r &lt;= rMax; r++) {\r\n         XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\r\n         XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\r\n         cell.setCellValue((String)data[r][c]); // in sheet\r\n        }\r\n        category = XDDFDataSourcesFactory.fromStringCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); // in chart\r\n    \r\n        // series 1, is present already \r\n        c = 1;\r\n    \r\n        // set new values in sheet and in chart\r\n        XDDFNumericalDataSource&lt;Double&gt; values = null;\r\n        for (int r = rMin; r &lt; rMax+1; r++) {\r\n         XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\r\n         XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\r\n         cell.setCellValue((Double)data[r][c]); // in sheet\r\n        }\r\n        values = XDDFDataSourcesFactory.fromNumericCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); \r\n        XDDFChartData.Series series1 = chartData.getSeries(0);\r\n        series1.replaceData(category, values); // in chart\r\n    \r\n        // set new title in sheet and in chart\r\n        String series1Title = (String)data[0][c];\r\n        chartDataSheet.getRow(0).getCell(c).setCellValue(series1Title); // in sheet\r\n        series1.setTitle(series1Title, new CellReference(sheetName, 0, c, true, true)); // in chart\r\n    \r\n        series1.plot(); \r\n    \r\n        //further series, all new created\r\n        int seriesCount = data[0].length - 1;\r\n        for (int s = 2; s &lt;= seriesCount; s++) {\r\n         c++;\r\n    \r\n         // set new values\r\n         for (int r = rMin; r &lt; rMax+1; r++) {\r\n          XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\r\n          XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\r\n          cell.setCellValue((Double)data[r][c]); // in sheet\r\n         }\r\n         values = XDDFDataSourcesFactory.fromNumericCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); \r\n         XDDFChartData.Series series = chartData.addSeries(category, values); // in chart\r\n     \r\n         // set new title\r\n         String seriesTitle = (String)data[0][c];\r\n         XSSFCell cell = chartDataSheet.getRow(0).getCell(c); if (cell == null) cell = chartDataSheet.getRow(0).createCell(c);\r\n         cell.setCellValue(seriesTitle); // in sheet\r\n         series.setTitle(seriesTitle, new CellReference(sheetName, 0, c, true, true)); // in chart\r\n    \r\n         series.plot();\r\n        }\r\n    \r\n        // update the table if present\r\n        if (chartDataTable != null) {\r\n         CellReference topLeft = new CellReference(chartDataSheet.getRow(0).getCell(0));\r\n         CellReference bottomRight = new CellReference(chartDataSheet.getRow(rMax).getCell(c));\r\n         AreaReference tableArea = chartDataWorkbook.getCreationHelper().createAreaReference(topLeft, bottomRight);\r\n         chartDataTable.setArea(tableArea);\r\n         updateHeaders(chartDataTable);\r\n        }\r\n    \r\n       }\r\n      }\r\n     }  \r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String filePath = &quot;BarChartSample.pptx&quot;; // has template bar chart\r\n      String filePathNew = &quot;BarChartSample_New.pptx&quot;;\r\n    \r\n      Object[][] data = new Object[][] { // new data 3 series, 5 categories\r\n       {&quot;&quot;, &quot;Amount&quot;, &quot;Values&quot;, &quot;Others&quot;}, // series title\r\n       {&quot;Jan&quot;, 321d, 456d, 222d}, // category 1\r\n       {&quot;Feb&quot;, 543d, 567d, 111d}, // category 2\r\n       {&quot;Mar&quot;, 432d, 123d, 333d}, // category 3\r\n       {&quot;Apr&quot;, 210d, 234d, 444d}, // category 4\r\n       {&quot;May&quot;, 198d, 345d, 444d} // category 5\r\n      };\r\n    \r\n      XMLSlideShow slideShow = new XMLSlideShow(new FileInputStream(filePath));\r\n    \r\n      XSLFChart chart = slideShow.getCharts().get(0);\r\n    \r\n      updateChart(chart, data);\r\n    \r\n      FileOutputStream out = new FileOutputStream(filePathNew); \r\n      slideShow.write(out);\r\n      out.close();\r\n      slideShow.close();\r\n     }\r\n    \r\n    }\r\n\r\nThe result looks like so:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHint: The code uses a patched version of `XSSFTable.updateHeaders` as the current version fails updating the table headers. See https://stackoverflow.com/questions/55532006/renaming-headers-of-xssftable-with-apache-poi-leads-to-corrupt-xlsx-file/55539181#55539181.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FkKRH.png\r\n  [2]: https://i.stack.imgur.com/hwbVE.png","title":"Java edit bar chart in ppt by using poi","body":"<p>Using current <code>apache poi 5.0.0</code> updating a chart in <code>PowerPoint</code> is possible using the new <code>XDDF</code> classes. That avoids using the <code>ooxml-schemas</code> classes (<code>CT...</code> classes) directly. Using <code>CT</code> classes directly is error prone and needs very good knowlegde about the internally <code>XML</code> structure of <code>Office Open XML</code>.</p>\n<p>What one needs to know is that chart data is stored in an embedded <code>Excel</code> workbook. So while updating the data the need is always updating the data in that workbook and updating the data in the chart.</p>\n<p>The following example is a minimal reproducible example for how to do this.</p>\n<p>The template <code>BarChartSample.pptx</code> contained a bar chart having only one series an one category. It defines the chart format. It looks like so:</p>\n<p><a href=\"https://i.stack.imgur.com/FkKRH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FkKRH.png\" alt=\"enter image description here\" /></a></p>\n<p>The code is like this:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.ss.util.AreaReference;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumns;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\n\npublic class PowerPointChangeChartData {\n\n //patched version of XSSFTable.updateHeaders, see https://stackoverflow.com/questions/55532006/renaming-headers-of-xssftable-with-apache-poi-leads-to-corrupt-xlsx-file/55539181#55539181\n static void updateHeaders(XSSFTable table) {\n  XSSFSheet sheet = (XSSFSheet)table.getParent();\n  CellReference ref = table.getStartCellReference();\n\n  if (ref == null) return;\n\n  int headerRow = ref.getRow();\n  int firstHeaderColumn = ref.getCol();\n  XSSFRow row = sheet.getRow(headerRow);\n  DataFormatter formatter = new DataFormatter();\n\n  if (row != null /*&amp;&amp; row.getCTRow().validate()*/) {\n   int cellnum = firstHeaderColumn;\n   CTTableColumns ctTableColumns = table.getCTTable().getTableColumns();\n   if(ctTableColumns != null) {\n    for (CTTableColumn col : ctTableColumns.getTableColumnList()) {\n     XSSFCell cell = row.getCell(cellnum);\n     if (cell != null) {\n      col.setName(formatter.formatCellValue(cell));\n     }\n     cellnum++;\n    }\n   }\n  }\n }\n\n static void updateChart(XSLFChart chart, Object[][] data) throws Exception {\n  // get chart's data source which is a Excel sheet\n  XSSFWorkbook chartDataWorkbook = chart.getWorkbook();\n  String sheetName = chartDataWorkbook.getSheetName(0);\n  XSSFSheet chartDataSheet = chartDataWorkbook.getSheet(sheetName);\n  // current Office uses a table as data source\n  // so get that table if present\n  XSSFTable chartDataTable = null;\n  if (chartDataSheet.getTables().size() &gt; 0) {\n   chartDataTable = chartDataSheet.getTables().get(0);\n  }\n\n  if (chart.getChartSeries().size() == 1) { // we will process only one chart data\n   XDDFChartData chartData = chart.getChartSeries().get(0);\n   if (chartData.getSeriesCount() == 1) { // we will process only templates having one series\n\n    int rMin = 1; // first row (0) is headers row\n    int rMax = data.length - 1;\n\n    // set new category data\n    XDDFCategoryDataSource category = null;\n    int c = 0;\n    for (int r = rMin; r &lt;= rMax; r++) {\n     XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\n     XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\n     cell.setCellValue((String)data[r][c]); // in sheet\n    }\n    category = XDDFDataSourcesFactory.fromStringCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); // in chart\n\n    // series 1, is present already \n    c = 1;\n\n    // set new values in sheet and in chart\n    XDDFNumericalDataSource&lt;Double&gt; values = null;\n    for (int r = rMin; r &lt; rMax+1; r++) {\n     XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\n     XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\n     cell.setCellValue((Double)data[r][c]); // in sheet\n    }\n    values = XDDFDataSourcesFactory.fromNumericCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); \n    XDDFChartData.Series series1 = chartData.getSeries(0);\n    series1.replaceData(category, values); // in chart\n\n    // set new title in sheet and in chart\n    String series1Title = (String)data[0][c];\n    chartDataSheet.getRow(0).getCell(c).setCellValue(series1Title); // in sheet\n    series1.setTitle(series1Title, new CellReference(sheetName, 0, c, true, true)); // in chart\n\n    series1.plot(); \n\n    //further series, all new created\n    int seriesCount = data[0].length - 1;\n    for (int s = 2; s &lt;= seriesCount; s++) {\n     c++;\n\n     // set new values\n     for (int r = rMin; r &lt; rMax+1; r++) {\n      XSSFRow row = chartDataSheet.getRow(r); if (row == null) row = chartDataSheet.createRow(r);\n      XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\n      cell.setCellValue((Double)data[r][c]); // in sheet\n     }\n     values = XDDFDataSourcesFactory.fromNumericCellRange(chartDataSheet, new CellRangeAddress(rMin,rMax,c,c)); \n     XDDFChartData.Series series = chartData.addSeries(category, values); // in chart\n \n     // set new title\n     String seriesTitle = (String)data[0][c];\n     XSSFCell cell = chartDataSheet.getRow(0).getCell(c); if (cell == null) cell = chartDataSheet.getRow(0).createCell(c);\n     cell.setCellValue(seriesTitle); // in sheet\n     series.setTitle(seriesTitle, new CellReference(sheetName, 0, c, true, true)); // in chart\n\n     series.plot();\n    }\n\n    // update the table if present\n    if (chartDataTable != null) {\n     CellReference topLeft = new CellReference(chartDataSheet.getRow(0).getCell(0));\n     CellReference bottomRight = new CellReference(chartDataSheet.getRow(rMax).getCell(c));\n     AreaReference tableArea = chartDataWorkbook.getCreationHelper().createAreaReference(topLeft, bottomRight);\n     chartDataTable.setArea(tableArea);\n     updateHeaders(chartDataTable);\n    }\n\n   }\n  }\n }  \n\n public static void main(String[] args) throws Exception {\n\n  String filePath = &quot;BarChartSample.pptx&quot;; // has template bar chart\n  String filePathNew = &quot;BarChartSample_New.pptx&quot;;\n\n  Object[][] data = new Object[][] { // new data 3 series, 5 categories\n   {&quot;&quot;, &quot;Amount&quot;, &quot;Values&quot;, &quot;Others&quot;}, // series title\n   {&quot;Jan&quot;, 321d, 456d, 222d}, // category 1\n   {&quot;Feb&quot;, 543d, 567d, 111d}, // category 2\n   {&quot;Mar&quot;, 432d, 123d, 333d}, // category 3\n   {&quot;Apr&quot;, 210d, 234d, 444d}, // category 4\n   {&quot;May&quot;, 198d, 345d, 444d} // category 5\n  };\n\n  XMLSlideShow slideShow = new XMLSlideShow(new FileInputStream(filePath));\n\n  XSLFChart chart = slideShow.getCharts().get(0);\n\n  updateChart(chart, data);\n\n  FileOutputStream out = new FileOutputStream(filePathNew); \n  slideShow.write(out);\n  out.close();\n  slideShow.close();\n }\n\n}\n</code></pre>\n<p>The result looks like so:</p>\n<p><a href=\"https://i.stack.imgur.com/hwbVE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwbVE.png\" alt=\"enter image description here\" /></a></p>\n<p>Hint: The code uses a patched version of <code>XSSFTable.updateHeaders</code> as the current version fails updating the table headers. See <a href=\"https://stackoverflow.com/questions/55532006/renaming-headers-of-xssftable-with-apache-poi-leads-to-corrupt-xlsx-file/55539181#55539181\">Renaming headers of XSSFTable with Apache Poi leads to corrupt XLSX-file</a>.</p>\n"}],"owner":{"account_id":21039471,"reputation":11,"user_id":15462205,"display_name":"fragment"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644847159,"creation_date":1616555811,"question_id":66774234,"body_markdown":"  I am a newbie to using POI at work.Now i&#39;m going to use POI in java to read a bar chart in the PPT.I&#39;ve added several series x to it in advance,which are the column headers of the excel to which the bar graph belongs.\r\n  But i can only read the first three columns by default with the POI.In addition,once I modify the column header of the bar chart,or want to add a fourth column(thar is,add a color)to a bar chart with only three columns, the bar chart cannot be edited when I open the PPT,indicating that the node of the bar chart is damaged.\r\n  So is there a master who can help talking how to use POI to prroperly add a color to the bar chart(add a series)?\r\n\r\nEg: when I debug to the &quot;\r\nlong ptCatCnt = catDataSource.getStrRef().getStrCache().getPtCount().getVal();\r\nIt show nullpointerexecption, I don&#39;t know how structure in ppt the bar-chart is.So I want know how to update the bar-chart。\r\n\r\n\r\n\r\nThe code is :\r\n\r\npublic class PPTDemo {\r\n\r\n    public void run() {\r\n        try {\r\n            SlideShow slideShow = SlideShowFactory.create(new File(&quot;./res/1.pptx&quot;));\r\n\r\n            for (Object o : slideShow.getSlides()) {\r\n                XSLFSlide slider = (XSLFSlide) o;\r\n\r\n                // 第一页\r\n                if (slider.getSlideNumber() == 1) {\r\n                    for (POIXMLDocumentPart.RelationPart part : slider.getRelationParts()) {\r\n                        POIXMLDocumentPart documentPart = part.getDocumentPart();\r\n                        // 是图表\r\n                        if (documentPart instanceof XSLFChart) {\r\n                            XSLFChart chart = (XSLFChart) documentPart;\r\n\r\n                            // 查看里面的图表数据，才能知道是什么图表\r\n                            CTPlotArea plot = chart.getCTChart().getPlotArea();\r\n\r\n                            // 测试数据\r\n                            List&lt;SeriesData&gt; seriesDatas = Arrays.asList(\r\n                                    new SeriesData(&quot;&quot;, Arrays.asList(\r\n                                            new NameDouble(&quot;行1&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行2&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行3&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行4&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行5&quot;, Math.random() * 100)\r\n                                    )),\r\n                                    new SeriesData(&quot;&quot;, Arrays.asList(\r\n                                            new NameDouble(&quot;行1&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行2&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行3&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行4&quot;, Math.random() * 100),\r\n                                            new NameDouble(&quot;行5&quot;, Math.random() * 100)\r\n                                    ))\r\n                            );\r\n                            XSSFWorkbook workbook = chart.getWorkbook();\r\n                            XSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n\r\n                            // 柱状图\r\n                            if (!plot.getBarChartList().isEmpty()) {\r\n                                CTBarChart barChart = plot.getBarChartArray(0);\r\n                                updateChartExcelV(seriesDatas, workbook, sheet);\r\n                                workbook.write(chart.getPackagePart().getOutputStream());\r\n\r\n                                int i = 0;\r\n                                for (CTBarSer ser : barChart.getSerList()) {\r\n                                    updateChartCatAndNum(seriesDatas.get(i), ser.getTx(), ser.getCat(), ser.getVal());\r\n                                    ++i;\r\n                                }\r\n                            }\r\n\r\n                            // 饼图\r\n                            else if (!plot.getPieChartList().isEmpty()) {\r\n                                // 示例饼图只有一列数据\r\n                                updateChartExcelV(Arrays.asList(seriesDatas.get(0)), workbook, sheet);\r\n                                workbook.write(chart.getPackagePart().getOutputStream());\r\n\r\n                                CTPieChart pieChart = plot.getPieChartArray(0);\r\n                                int i = 0;\r\n                                for (CTPieSer ser : pieChart.getSerList()) {\r\n                                    updateChartCatAndNum(seriesDatas.get(i), ser.getTx(), ser.getCat(), ser.getVal());\r\n                                    ++i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            try {\r\n                try (FileOutputStream out = new FileOutputStream(&quot;./res/o1.pptx&quot;)) {\r\n                    slideShow.write(out);\r\n                }\r\n            } catch (FileNotFoundException e1) {\r\n                e1.printStackTrace();\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidFormatException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新图表的关联 excel， 值是纵向的\r\n     *\r\n     * @param param\r\n     * @param workbook\r\n     * @param sheet\r\n     */\r\n    protected void updateChartExcelV(List&lt;SeriesData&gt; seriesDatas, XSSFWorkbook workbook, XSSFSheet sheet) {\r\n        XSSFRow title = sheet.getRow(0);\r\n        for (int i = 0; i &lt; seriesDatas.size(); i++) {\r\n            SeriesData data = seriesDatas.get(i);\r\n            if (data.name != null &amp;&amp; !data.name.isEmpty()) {\r\n                // 系列名称，不能修改，修改后无法打开 excel\r\n                //                title.getCell(i + 1).setCellValue(data.name);\r\n            }\r\n            int size = data.value.size();\r\n            for (int j = 0; j &lt; size; j++) {\r\n                XSSFRow row = sheet.getRow(j + 1);\r\n                if (row == null) {\r\n                    row = sheet.createRow(j + 1);\r\n                }\r\n                NameDouble cellValu = data.value.get(j);\r\n                XSSFCell cell = row.getCell(0);\r\n                if (cell == null) {\r\n                    cell = row.createCell(0);\r\n                }\r\n                cell.setCellValue(cellValu.name);\r\n\r\n                cell = row.getCell(i + 1);\r\n                if (cell == null) {\r\n                    cell = row.createCell(i + 1);\r\n                }\r\n                cell.setCellValue(cellValu.value);\r\n            }\r\n            int lastRowNum = sheet.getLastRowNum();\r\n            if (lastRowNum &gt; size) {\r\n                for (int idx = lastRowNum; idx &gt; size; idx--) {\r\n                    sheet.removeRow(sheet.getRow(idx));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新 chart 的缓存数据\r\n     *\r\n     * @param data          数据\r\n     * @param serTitle      系列的标题缓存\r\n     * @param catDataSource 条目的数据缓存\r\n     * @param numDataSource 数据的缓存\r\n     */\r\n    protected void updateChartCatAndNum(SeriesData data, CTSerTx serTitle, CTAxDataSource catDataSource,\r\n                                        CTNumDataSource numDataSource) {\r\n\r\n        // 更新系列标题\r\n        //        serTitle.getStrRef().setF(serTitle.getStrRef().getF()); //\r\n        //        serTitle.getStrRef().getStrCache().getPtArray(0).setV(data.name);\r\n\r\n        // TODO cat 也可能是 numRef\r\n        long ptCatCnt = catDataSource.getStrRef().getStrCache().getPtCount().getVal();\r\n        long ptNumCnt = numDataSource.getNumRef().getNumCache().getPtCount().getVal();\r\n        int dataSize = data.value.size();\r\n        for (int i = 0; i &lt; dataSize; i++) {\r\n            NameDouble cellValu = data.value.get(i);\r\n            CTStrVal cat = ptCatCnt &gt; i ? catDataSource.getStrRef().getStrCache().getPtArray(i)\r\n                    : catDataSource.getStrRef().getStrCache().addNewPt();\r\n            cat.setIdx(i);\r\n            cat.setV(cellValu.name);\r\n\r\n            CTNumVal val = ptNumCnt &gt; i ? numDataSource.getNumRef().getNumCache().getPtArray(i)\r\n                    : numDataSource.getNumRef().getNumCache().addNewPt();\r\n            val.setIdx(i);\r\n            val.setV(String.format(&quot;%.2f&quot;, cellValu.value));\r\n\r\n        }\r\n\r\n        // 更新对应 excel 的range\r\n        catDataSource.getStrRef().setF(\r\n                replaceRowEnd(catDataSource.getStrRef().getF(),\r\n                        ptCatCnt,\r\n                        dataSize));\r\n        numDataSource.getNumRef().setF(\r\n                replaceRowEnd(numDataSource.getNumRef().getF(),\r\n                        ptNumCnt,\r\n                        dataSize));\r\n\r\n        // 删除多的\r\n        if (ptNumCnt &gt; dataSize) {\r\n            for (int idx = dataSize; idx &lt; ptNumCnt; idx++) {\r\n                catDataSource.getStrRef().getStrCache().removePt(dataSize);\r\n                numDataSource.getNumRef().getNumCache().removePt(dataSize);\r\n            }\r\n        }\r\n        // 更新个数\r\n        catDataSource.getStrRef().getStrCache().getPtCount().setVal(dataSize);\r\n        numDataSource.getNumRef().getNumCache().getPtCount().setVal(dataSize);\r\n    }\r\n\r\n    /**\r\n     * 替换 形如： Sheet1!$A$2:$A$4 的字符\r\n     *\r\n     * @param range\r\n     * @return\r\n     */\r\n    public static String replaceRowEnd(String range, long oldSize, long newSize) {\r\n        Pattern pattern = Pattern.compile(&quot;(:\\\\$[A-Z]+\\\\$)(\\\\d+)&quot;);\r\n        Matcher matcher = pattern.matcher(range);\r\n        if (matcher.find()) {\r\n            long old = Long.parseLong(matcher.group(2));\r\n            return range.replaceAll(&quot;(:\\\\$[A-Z]+\\\\$)(\\\\d+)&quot;, &quot;$1&quot; + Long.toString(old - oldSize + newSize));\r\n        }\r\n        return range;\r\n    }\r\n\r\n    /**\r\n     * 一个系列的数据\r\n     */\r\n    public static class SeriesData {\r\n\r\n        /**\r\n         * value 系列的名字\r\n         */\r\n        public String name;\r\n\r\n        public List&lt;NameDouble&gt; value;\r\n\r\n        public SeriesData(java.util.List&lt;NameDouble&gt; value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public SeriesData(String name, List&lt;NameDouble&gt; value) {\r\n            this.name = name;\r\n            this.value = value;\r\n        }\r\n\r\n        public SeriesData() {\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public class NameDouble {\r\n\r\n        public String name;\r\n\r\n        /**\r\n         */\r\n        public double value;\r\n\r\n        public NameDouble(String name, double value) {\r\n            this.name = name;\r\n            this.value = value;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public NameDouble() {\r\n        }\r\n\r\n    }\r\n}","title":"Java edit bar chart in ppt by using poi","body":"<p>I am a newbie to using POI at work.Now i'm going to use POI in java to read a bar chart in the PPT.I've added several series x to it in advance,which are the column headers of the excel to which the bar graph belongs.\nBut i can only read the first three columns by default with the POI.In addition,once I modify the column header of the bar chart,or want to add a fourth column(thar is,add a color)to a bar chart with only three columns, the bar chart cannot be edited when I open the PPT,indicating that the node of the bar chart is damaged.\nSo is there a master who can help talking how to use POI to prroperly add a color to the bar chart(add a series)?</p>\n<p>Eg: when I debug to the &quot;\nlong ptCatCnt = catDataSource.getStrRef().getStrCache().getPtCount().getVal();\nIt show nullpointerexecption, I don't know how structure in ppt the bar-chart is.So I want know how to update the bar-chart。</p>\n<p>The code is :</p>\n<p>public class PPTDemo {</p>\n<pre><code>public void run() {\n    try {\n        SlideShow slideShow = SlideShowFactory.create(new File(&quot;./res/1.pptx&quot;));\n\n        for (Object o : slideShow.getSlides()) {\n            XSLFSlide slider = (XSLFSlide) o;\n\n            // 第一页\n            if (slider.getSlideNumber() == 1) {\n                for (POIXMLDocumentPart.RelationPart part : slider.getRelationParts()) {\n                    POIXMLDocumentPart documentPart = part.getDocumentPart();\n                    // 是图表\n                    if (documentPart instanceof XSLFChart) {\n                        XSLFChart chart = (XSLFChart) documentPart;\n\n                        // 查看里面的图表数据，才能知道是什么图表\n                        CTPlotArea plot = chart.getCTChart().getPlotArea();\n\n                        // 测试数据\n                        List&lt;SeriesData&gt; seriesDatas = Arrays.asList(\n                                new SeriesData(&quot;&quot;, Arrays.asList(\n                                        new NameDouble(&quot;行1&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行2&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行3&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行4&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行5&quot;, Math.random() * 100)\n                                )),\n                                new SeriesData(&quot;&quot;, Arrays.asList(\n                                        new NameDouble(&quot;行1&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行2&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行3&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行4&quot;, Math.random() * 100),\n                                        new NameDouble(&quot;行5&quot;, Math.random() * 100)\n                                ))\n                        );\n                        XSSFWorkbook workbook = chart.getWorkbook();\n                        XSSFSheet sheet = workbook.getSheetAt(0);\n\n\n                        // 柱状图\n                        if (!plot.getBarChartList().isEmpty()) {\n                            CTBarChart barChart = plot.getBarChartArray(0);\n                            updateChartExcelV(seriesDatas, workbook, sheet);\n                            workbook.write(chart.getPackagePart().getOutputStream());\n\n                            int i = 0;\n                            for (CTBarSer ser : barChart.getSerList()) {\n                                updateChartCatAndNum(seriesDatas.get(i), ser.getTx(), ser.getCat(), ser.getVal());\n                                ++i;\n                            }\n                        }\n\n                        // 饼图\n                        else if (!plot.getPieChartList().isEmpty()) {\n                            // 示例饼图只有一列数据\n                            updateChartExcelV(Arrays.asList(seriesDatas.get(0)), workbook, sheet);\n                            workbook.write(chart.getPackagePart().getOutputStream());\n\n                            CTPieChart pieChart = plot.getPieChartArray(0);\n                            int i = 0;\n                            for (CTPieSer ser : pieChart.getSerList()) {\n                                updateChartCatAndNum(seriesDatas.get(i), ser.getTx(), ser.getCat(), ser.getVal());\n                                ++i;\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n\n        try {\n            try (FileOutputStream out = new FileOutputStream(&quot;./res/o1.pptx&quot;)) {\n                slideShow.write(out);\n            }\n        } catch (FileNotFoundException e1) {\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (InvalidFormatException e) {\n        e.printStackTrace();\n    }\n}\n\n/**\n * 更新图表的关联 excel， 值是纵向的\n *\n * @param param\n * @param workbook\n * @param sheet\n */\nprotected void updateChartExcelV(List&lt;SeriesData&gt; seriesDatas, XSSFWorkbook workbook, XSSFSheet sheet) {\n    XSSFRow title = sheet.getRow(0);\n    for (int i = 0; i &lt; seriesDatas.size(); i++) {\n        SeriesData data = seriesDatas.get(i);\n        if (data.name != null &amp;&amp; !data.name.isEmpty()) {\n            // 系列名称，不能修改，修改后无法打开 excel\n            //                title.getCell(i + 1).setCellValue(data.name);\n        }\n        int size = data.value.size();\n        for (int j = 0; j &lt; size; j++) {\n            XSSFRow row = sheet.getRow(j + 1);\n            if (row == null) {\n                row = sheet.createRow(j + 1);\n            }\n            NameDouble cellValu = data.value.get(j);\n            XSSFCell cell = row.getCell(0);\n            if (cell == null) {\n                cell = row.createCell(0);\n            }\n            cell.setCellValue(cellValu.name);\n\n            cell = row.getCell(i + 1);\n            if (cell == null) {\n                cell = row.createCell(i + 1);\n            }\n            cell.setCellValue(cellValu.value);\n        }\n        int lastRowNum = sheet.getLastRowNum();\n        if (lastRowNum &gt; size) {\n            for (int idx = lastRowNum; idx &gt; size; idx--) {\n                sheet.removeRow(sheet.getRow(idx));\n            }\n        }\n    }\n}\n\n/**\n * 更新 chart 的缓存数据\n *\n * @param data          数据\n * @param serTitle      系列的标题缓存\n * @param catDataSource 条目的数据缓存\n * @param numDataSource 数据的缓存\n */\nprotected void updateChartCatAndNum(SeriesData data, CTSerTx serTitle, CTAxDataSource catDataSource,\n                                    CTNumDataSource numDataSource) {\n\n    // 更新系列标题\n    //        serTitle.getStrRef().setF(serTitle.getStrRef().getF()); //\n    //        serTitle.getStrRef().getStrCache().getPtArray(0).setV(data.name);\n\n    // TODO cat 也可能是 numRef\n    long ptCatCnt = catDataSource.getStrRef().getStrCache().getPtCount().getVal();\n    long ptNumCnt = numDataSource.getNumRef().getNumCache().getPtCount().getVal();\n    int dataSize = data.value.size();\n    for (int i = 0; i &lt; dataSize; i++) {\n        NameDouble cellValu = data.value.get(i);\n        CTStrVal cat = ptCatCnt &gt; i ? catDataSource.getStrRef().getStrCache().getPtArray(i)\n                : catDataSource.getStrRef().getStrCache().addNewPt();\n        cat.setIdx(i);\n        cat.setV(cellValu.name);\n\n        CTNumVal val = ptNumCnt &gt; i ? numDataSource.getNumRef().getNumCache().getPtArray(i)\n                : numDataSource.getNumRef().getNumCache().addNewPt();\n        val.setIdx(i);\n        val.setV(String.format(&quot;%.2f&quot;, cellValu.value));\n\n    }\n\n    // 更新对应 excel 的range\n    catDataSource.getStrRef().setF(\n            replaceRowEnd(catDataSource.getStrRef().getF(),\n                    ptCatCnt,\n                    dataSize));\n    numDataSource.getNumRef().setF(\n            replaceRowEnd(numDataSource.getNumRef().getF(),\n                    ptNumCnt,\n                    dataSize));\n\n    // 删除多的\n    if (ptNumCnt &gt; dataSize) {\n        for (int idx = dataSize; idx &lt; ptNumCnt; idx++) {\n            catDataSource.getStrRef().getStrCache().removePt(dataSize);\n            numDataSource.getNumRef().getNumCache().removePt(dataSize);\n        }\n    }\n    // 更新个数\n    catDataSource.getStrRef().getStrCache().getPtCount().setVal(dataSize);\n    numDataSource.getNumRef().getNumCache().getPtCount().setVal(dataSize);\n}\n\n/**\n * 替换 形如： Sheet1!$A$2:$A$4 的字符\n *\n * @param range\n * @return\n */\npublic static String replaceRowEnd(String range, long oldSize, long newSize) {\n    Pattern pattern = Pattern.compile(&quot;(:\\\\$[A-Z]+\\\\$)(\\\\d+)&quot;);\n    Matcher matcher = pattern.matcher(range);\n    if (matcher.find()) {\n        long old = Long.parseLong(matcher.group(2));\n        return range.replaceAll(&quot;(:\\\\$[A-Z]+\\\\$)(\\\\d+)&quot;, &quot;$1&quot; + Long.toString(old - oldSize + newSize));\n    }\n    return range;\n}\n\n/**\n * 一个系列的数据\n */\npublic static class SeriesData {\n\n    /**\n     * value 系列的名字\n     */\n    public String name;\n\n    public List&lt;NameDouble&gt; value;\n\n    public SeriesData(java.util.List&lt;NameDouble&gt; value) {\n        this.value = value;\n    }\n\n    public SeriesData(String name, List&lt;NameDouble&gt; value) {\n        this.name = name;\n        this.value = value;\n    }\n\n    public SeriesData() {\n    }\n}\n\n\n/**\n *\n */\npublic class NameDouble {\n\n    public String name;\n\n    /**\n     */\n    public double value;\n\n    public NameDouble(String name, double value) {\n        this.name = name;\n        this.value = value;\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public NameDouble() {\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","cron","job-scheduling","cron-task"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1644829276,"post_id":71109301,"comment_id":125700287,"body_markdown":"https://crontab.guru/ http://www.cronmaker.com/ https://www.freeformatter.com/cron-expression-generator-quartz.html","body":"<a href=\"https://crontab.guru/\" rel=\"nofollow noreferrer\">crontab.guru</a> <a href=\"http://www.cronmaker.com/\" rel=\"nofollow noreferrer\">cronmaker.com</a> <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">freeformatter.com/cron-expression-generator-quartz.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":3964,"reputation":43767,"user_id":5821,"accept_rate":50,"display_name":"Pēteris Caune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644847087,"creation_date":1644847087,"answer_id":71113068,"question_id":71109301,"body_markdown":"Classic cron expressions cannot express time intervals like &quot;3 hours 30 minutes&quot;.\r\n\r\nOne workaround is to schedule a cron job for every 30 minutes (`0,30 * * * *`). And, inside your job put additional logic to check if the job should run or abort.","title":"Can any one tell cron expression value(ex: 0/15 * * * *) for scheduling job in pcf?","body":"<p>Classic cron expressions cannot express time intervals like &quot;3 hours 30 minutes&quot;.</p>\n<p>One workaround is to schedule a cron job for every 30 minutes (<code>0,30 * * * *</code>). And, inside your job put additional logic to check if the job should run or abort.</p>\n"}],"owner":{"account_id":24251167,"reputation":9,"user_id":18202148,"display_name":"Narender"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1644847087,"creation_date":1644829226,"question_id":71109301,"body_markdown":"I want to run the job every 3hr 30min(Ex:1:00pm next 4:30pm next 8:00pm next 11.30pm so on...) ","title":"Can any one tell cron expression value(ex: 0/15 * * * *) for scheduling job in pcf?","body":"<p>I want to run the job every 3hr 30min(Ex:1:00pm next 4:30pm next 8:00pm next 11.30pm so on...)</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":16192955,"reputation":543,"user_id":11691244,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644822841,"creation_date":1644822841,"answer_id":71108267,"question_id":71107847,"body_markdown":"\r\n\r\nThe idea is that you will make the lifetime of an access token very short and share it across different APIs without worrying. However, for refresh tokens you would be more careful and don&#39;t use it any where except the authorization server. (Do not store in the browser nor in other APIs).\r\n\r\nThis will ensure the safety of the refresh token and the short lifespan of the access token will ensure its safety. \r\n\r\nI had the same concern before and I got clear explanations that you can check here \r\nhttps://stackoverflow.com/questions/70379806/how-is-using-jwt-refresh-token-secure \r\n ","title":"Worry about JWTs and consider refresh tokens","body":"<p>The idea is that you will make the lifetime of an access token very short and share it across different APIs without worrying. However, for refresh tokens you would be more careful and don't use it any where except the authorization server. (Do not store in the browser nor in other APIs).</p>\n<p>This will ensure the safety of the refresh token and the short lifespan of the access token will ensure its safety.</p>\n<p>I had the same concern before and I got clear explanations that you can check here\n<a href=\"https://stackoverflow.com/questions/70379806/how-is-using-jwt-refresh-token-secure\">how is using JWT refresh token secure?</a></p>\n"},{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644846858,"creation_date":1644846858,"answer_id":71113009,"question_id":71107847,"body_markdown":"&gt; the logic is used to check the expiration period of the RefreshToken by using the AccessToken as a KeyValue and reissue the AccessToken if it is valid.\r\n\r\nThis part is wrong. The client needs to send the **refresh token** to the Authorization Server in order to get a new access token. Ideally, the refresh token endpoint should require client authentication, e.g. the client has to send a secret or present a concrete certificate in a TLS connection. Unfortunately, this can&#39;t be achieved when you have public clients, like SPAs (unless you use some kind of middleware, like the [Token Handler](https://curity.io/resources/learn/the-token-handler-pattern/).\r\n\r\nAnyway, in order to get new access tokens, the attacker would have to get hold of the refresh token, not just the access token. If the client is confidential, then the attacker would also have to steal the client&#39;s credentials (like a secret or a certificate&#39;s private key)","title":"Worry about JWTs and consider refresh tokens","body":"<blockquote>\n<p>the logic is used to check the expiration period of the RefreshToken by using the AccessToken as a KeyValue and reissue the AccessToken if it is valid.</p>\n</blockquote>\n<p>This part is wrong. The client needs to send the <strong>refresh token</strong> to the Authorization Server in order to get a new access token. Ideally, the refresh token endpoint should require client authentication, e.g. the client has to send a secret or present a concrete certificate in a TLS connection. Unfortunately, this can't be achieved when you have public clients, like SPAs (unless you use some kind of middleware, like the <a href=\"https://curity.io/resources/learn/the-token-handler-pattern/\" rel=\"nofollow noreferrer\">Token Handler</a>.</p>\n<p>Anyway, in order to get new access tokens, the attacker would have to get hold of the refresh token, not just the access token. If the client is confidential, then the attacker would also have to steal the client's credentials (like a secret or a certificate's private key)</p>\n"}],"owner":{"account_id":24249899,"reputation":71,"user_id":18201035,"display_name":"JDKIM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644846858,"creation_date":1644819646,"question_id":71107847,"body_markdown":"\r\nWhen you log in, you store the Access Token in the client header and the Refresh Token in Redis. And when the validity period of the AccessToken expires, the logic is used to check the expiration period of the RefreshToken by using the AccessToken as a KeyValue and reissue the AccessToken if it is valid. At this time, if the attacker steals the AccessToken, the attacker will also be able to obtain a new AccessToken even if the AccessToken expires, and it is expected that the attack will continue until the RefreshToken expires. When renewing AccessToken, I wonder if other conditions should be added instead of just checking the key value or if it is okay as it is. Also I wonder why this is ok","title":"Worry about JWTs and consider refresh tokens","body":"<p>When you log in, you store the Access Token in the client header and the Refresh Token in Redis. And when the validity period of the AccessToken expires, the logic is used to check the expiration period of the RefreshToken by using the AccessToken as a KeyValue and reissue the AccessToken if it is valid. At this time, if the attacker steals the AccessToken, the attacker will also be able to obtain a new AccessToken even if the AccessToken expires, and it is expected that the attack will continue until the RefreshToken expires. When renewing AccessToken, I wonder if other conditions should be added instead of just checking the key value or if it is okay as it is. Also I wonder why this is ok</p>\n"},{"tags":["java","web-applications","servlets","web.xml"],"answers":[{"tags":[],"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1334168225,"creation_date":1334168225,"answer_id":10111648,"question_id":10111406,"body_markdown":"Yes, just use delimiters (as no other options available for this):\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;validHosts&lt;/param-name&gt;\r\n        &lt;param-value&gt;example1.com,example2.com,example3.com&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n\r\n\r\n    then simply\r\n    String[] validHosts = param.split(&quot;,&quot;); // not really much to do","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p>Yes, just use delimiters (as no other options available for this):</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;validHosts&lt;/param-name&gt;\n    &lt;param-value&gt;example1.com,example2.com,example3.com&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n\n\nthen simply\nString[] validHosts = param.split(\",\"); // not really much to do\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396855,"reputation":15238,"user_id":760656,"display_name":"Ramesh PVK"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1334210754,"creation_date":1334169012,"answer_id":10111827,"question_id":10111406,"body_markdown":"**Servlet spec says that you can have only one value for any context parameter**. So, you are left with going with delimited list only.\r\n\r\n    &lt;context-param&gt;\r\n      &lt;param-name&gt;validHosts&lt;/param-name&gt;\r\n      &lt;param-value&gt;example1.com,example2.com,.....&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p><strong>Servlet spec says that you can have only one value for any context parameter</strong>. So, you are left with going with delimited list only.</p>\n\n<pre><code>&lt;context-param&gt;\n  &lt;param-name&gt;validHosts&lt;/param-name&gt;\n  &lt;param-value&gt;example1.com,example2.com,.....&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1334177036,"creation_date":1334169681,"answer_id":10111990,"question_id":10111406,"body_markdown":"Put each param on its own line. I did the following recently and it works fine:\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\t/WEB-INF/spring-beans.xml\r\n\t\t\t/WEB-INF/security-config.xml\t\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p>Put each param on its own line. I did the following recently and it works fine:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/spring-beans.xml\n        /WEB-INF/security-config.xml    \n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3742744,"reputation":265,"user_id":3112162,"accept_rate":83,"display_name":"M-Soley"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1566729162,"creation_date":1566729162,"answer_id":57645242,"question_id":10111406,"body_markdown":"You should use `;` to separate them in param-value tag like:\r\n\r\n    &lt;context-param&gt;\r\n      &lt;param-name&gt;validHosts&lt;/param-name&gt;\r\n      &lt;param-value&gt;example1.com;example2.com;.....&lt;/param-value&gt;\r\n    &lt;/context-param&gt;","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p>You should use <code>;</code> to separate them in param-value tag like:</p>\n\n<pre><code>&lt;context-param&gt;\n  &lt;param-name&gt;validHosts&lt;/param-name&gt;\n  &lt;param-value&gt;example1.com;example2.com;.....&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13320488,"reputation":1,"user_id":9615329,"display_name":"Iyanu Olumayede"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1644846725,"creation_date":1644846725,"answer_id":71112977,"question_id":10111406,"body_markdown":"This works for me. The right delimiter to use is the `;` ","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p>This works for me. The right delimiter to use is the <code>;</code></p>\n"}],"owner":{"account_id":1397835,"reputation":867,"user_id":1327257,"display_name":"greenlaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34809,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":10111827,"answer_count":5,"score":35,"last_activity_date":1644846725,"creation_date":1334167213,"question_id":10111406,"body_markdown":"I&#39;m creating a servlet that needs to load configuration information. Part of the configuration information I need is a list of Strings (specifically, a list of hostnames and/or URLs).\r\n\r\nI was hoping to store this information in my servlet&#39;s web.xml file (so I don&#39;t have to write my own parser) as either a context-param or init-param; essentially multiple param-value&#39;s for a single param-name.\r\n\r\nExample of what I would like:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;validHosts&lt;/param-name&gt;\r\n        &lt;param-value&gt;example1.com&lt;/param-value&gt;\r\n        &lt;param-value&gt;example2.com&lt;/param-value&gt;\r\n        &lt;param-value&gt;example3.com&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nMy initial research seems to indicate this is not possible--that there can only be a single param-value for any param-name (within either context-param or init-param).\r\n\r\nI know I could just use a delimited list within a single param-value, but is that really my only option if I still want to use web.xml?  Should I just stop whining and write my own config file parser?","title":"Java Servlets - Storing a list of values in web.xml (multiple param-value&#39;s for single param-name)","body":"<p>I'm creating a servlet that needs to load configuration information. Part of the configuration information I need is a list of Strings (specifically, a list of hostnames and/or URLs).</p>\n\n<p>I was hoping to store this information in my servlet's web.xml file (so I don't have to write my own parser) as either a context-param or init-param; essentially multiple param-value's for a single param-name.</p>\n\n<p>Example of what I would like:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;validHosts&lt;/param-name&gt;\n    &lt;param-value&gt;example1.com&lt;/param-value&gt;\n    &lt;param-value&gt;example2.com&lt;/param-value&gt;\n    &lt;param-value&gt;example3.com&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>My initial research seems to indicate this is not possible--that there can only be a single param-value for any param-name (within either context-param or init-param).</p>\n\n<p>I know I could just use a delimited list within a single param-value, but is that really my only option if I still want to use web.xml?  Should I just stop whining and write my own config file parser?</p>\n"},{"tags":["java","android","android-layout","android-transitions"],"comments":[{"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"score":1,"creation_date":1644847252,"post_id":71112974,"comment_id":125706672,"body_markdown":"So the user clicks on a link, which opens an article or some dedicated content, then is allowed to go back on the main screen by clicking a &quot;go back&quot; button? Seems like using a fragment would be more appropriate.","body":"So the user clicks on a link, which opens an article or some dedicated content, then is allowed to go back on the main screen by clicking a &quot;go back&quot; button? Seems like using a fragment would be more appropriate."},{"owner":{"account_id":23148647,"reputation":99,"user_id":17251059,"display_name":"Pedro Montesinos Navarro"},"score":0,"creation_date":1644912395,"post_id":71112974,"comment_id":125723919,"body_markdown":"Something like that, but we have a button row on the lower part of the screen, this is what I don&#39;t want to animate. If I was to apply what you&#39;re proposing would it be enough to create another viewGroup and animate that one?","body":"Something like that, but we have a button row on the lower part of the screen, this is what I don&#39;t want to animate. If I was to apply what you&#39;re proposing would it be enough to create another viewGroup and animate that one?"},{"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"score":0,"creation_date":1644927417,"post_id":71112974,"comment_id":125729745,"body_markdown":"Fragments don’t have to take the whole screen. You can set the height of their main layout. If you want to allow say 50dp at the bottom, set marginBottom to be 50dp","body":"Fragments don’t have to take the whole screen. You can set the height of their main layout. If you want to allow say 50dp at the bottom, set marginBottom to be 50dp"}],"owner":{"account_id":23148647,"reputation":99,"user_id":17251059,"display_name":"Pedro Montesinos Navarro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644846705,"creation_date":1644846705,"question_id":71112974,"body_markdown":"I&#39;ve got a transition on the app I&#39;m developing that fades all elements of a frame layout and swaps them for other elements. The animation works as intended, but from there I can&#39;t interact with the buttons on the new scene applied to the fragment. Here is the relevant parts of the code: \r\n\r\nThis is the frame layout where the animation happens\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/scene_root_index&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;360dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/indexSearchButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView4&quot;&gt;\r\n\r\n        &lt;include layout=&quot;@layout/main_scene&quot; /&gt;\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nThis is the main_scene:\r\n\r\n    \r\n    &lt;!--[...]--&gt;\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/newsMainIndexBtn&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:backgroundTint=&quot;#00FFFFFF&quot;\r\n        android:contentDescription=&quot;@string/descripcion_boton_noticias&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView6&quot;\r\n        app:srcCompat=&quot;@drawable/ic_noticias&quot;\r\n        tools:layout_editor_absoluteX=&quot;59dp&quot; /&gt;\r\n    &lt;!--[...]--&gt;\r\n\r\nThis is the news scene, here is where I need the back button to work:\r\n\r\n            &lt;!--[...]--&gt;\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/newsBack&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:backgroundTint=&quot;#00FFFFFF&quot;\r\n                app:srcCompat=&quot;@drawable/ic_back&quot; /&gt;\r\n            &lt;!--[...]--&gt;\r\n\r\nThis is the onCreateView method I&#39;m using\r\n\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        setMainActivity((MainActivity) getActivity());\r\n\r\n        View view = inflateFragment(R.layout.fragment_index, inflater, container);\r\n        assert view != null;\r\n\r\n        sceneRoot = (ViewGroup) view.findViewById(R.id.scene_root_index);\r\n        mainScene = Scene.getSceneForLayout(sceneRoot, R.layout.main_scene, getActivity());\r\n        newsScene = Scene.getSceneForLayout(sceneRoot, R.layout.news_scene, getActivity());\r\n        transitionManagerForIndexScene = TransitionInflater.from(getActivity()).inflateTransitionManager(R.transition.transition_manager_for_index_scene, sceneRoot);\r\n\r\n\r\n        AppCompatImageButton news = view.findViewById(R.id.newsMainIndexBtn);\r\n\r\n        news.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                TransitionManager.go(newsScene);\r\n            }\r\n        });\r\n\r\nThe only solution that I&#39;ve been able concieve is to make another layout with the same elements as the main one swapping out the frameView, but that animates all the screen and I feel like this is the correct way to do it, but I&#39;m missing something.\r\n\r\nI&#39;ve tried to create the onclick event for the button everywhere in the code, but I couldn&#39;t find a place or time when the code recognized it, instead giving me a null pointer exception everytime.\r\n\r\nThanks for your time and for the help, I&#39;m looking forward to be able to solve this issue.","title":"Update view elements after transition change on android","body":"<p>I've got a transition on the app I'm developing that fades all elements of a frame layout and swaps them for other elements. The animation works as intended, but from there I can't interact with the buttons on the new scene applied to the fragment. Here is the relevant parts of the code:</p>\n<p>This is the frame layout where the animation happens</p>\n<pre><code>&lt;FrameLayout\n    android:id=&quot;@+id/scene_root_index&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;360dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/indexSearchButton&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView4&quot;&gt;\n\n    &lt;include layout=&quot;@layout/main_scene&quot; /&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>This is the main_scene:</p>\n<pre><code>&lt;!--[...]--&gt;\n&lt;ImageButton\n    android:id=&quot;@+id/newsMainIndexBtn&quot;\n    android:layout_width=&quot;100dp&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:backgroundTint=&quot;#00FFFFFF&quot;\n    android:contentDescription=&quot;@string/descripcion_boton_noticias&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView6&quot;\n    app:srcCompat=&quot;@drawable/ic_noticias&quot;\n    tools:layout_editor_absoluteX=&quot;59dp&quot; /&gt;\n&lt;!--[...]--&gt;\n</code></pre>\n<p>This is the news scene, here is where I need the back button to work:</p>\n<pre><code>        &lt;!--[...]--&gt;\n        &lt;ImageButton\n            android:id=&quot;@+id/newsBack&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:backgroundTint=&quot;#00FFFFFF&quot;\n            app:srcCompat=&quot;@drawable/ic_back&quot; /&gt;\n        &lt;!--[...]--&gt;\n</code></pre>\n<p>This is the onCreateView method I'm using</p>\n<pre><code>    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    setMainActivity((MainActivity) getActivity());\n\n    View view = inflateFragment(R.layout.fragment_index, inflater, container);\n    assert view != null;\n\n    sceneRoot = (ViewGroup) view.findViewById(R.id.scene_root_index);\n    mainScene = Scene.getSceneForLayout(sceneRoot, R.layout.main_scene, getActivity());\n    newsScene = Scene.getSceneForLayout(sceneRoot, R.layout.news_scene, getActivity());\n    transitionManagerForIndexScene = TransitionInflater.from(getActivity()).inflateTransitionManager(R.transition.transition_manager_for_index_scene, sceneRoot);\n\n\n    AppCompatImageButton news = view.findViewById(R.id.newsMainIndexBtn);\n\n    news.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            TransitionManager.go(newsScene);\n        }\n    });\n</code></pre>\n<p>The only solution that I've been able concieve is to make another layout with the same elements as the main one swapping out the frameView, but that animates all the screen and I feel like this is the correct way to do it, but I'm missing something.</p>\n<p>I've tried to create the onclick event for the button everywhere in the code, but I couldn't find a place or time when the code recognized it, instead giving me a null pointer exception everytime.</p>\n<p>Thanks for your time and for the help, I'm looking forward to be able to solve this issue.</p>\n"},{"tags":["java","recursion","math","combinatorics","recursive-backtracking"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644688668,"post_id":71094209,"comment_id":125675097,"body_markdown":"No need to pass `n` to the `createCombination()` combination method, only `r` matters","body":"No need to pass <code>n</code> to the <code>createCombination()</code> combination method, only <code>r</code> matters"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644688742,"post_id":71094209,"comment_id":125675110,"body_markdown":"It&#39;ll be easier to implement with a `List` instead of array","body":"It&#39;ll be easier to implement with a <code>List</code> instead of array"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1644690084,"post_id":71094209,"comment_id":125675393,"body_markdown":"yes, [tag:recursive-backtracking] is the way to approach this. :)","body":"yes, <a href=\"https://stackoverflow.com/questions/tagged/recursive-backtracking\">recursive-backtracking</a> is the way to approach this. :)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644693485,"creation_date":1644692719,"answer_id":71094969,"question_id":71094209,"body_markdown":"A recursive implementation of any algorithm is comprised of two parts:\r\n* **base case** - a condition that terminates a branch of recursive calls and represents an edge case for which result is known in advance;\r\n* **recursive case** - a part where the logic resides and the recursive calls are made.\r\n\r\nFor this task a **base case** will be a situation when size of the combination equals to a target size (denoted as `r` in your code, in the code below I gave it a name `targetSize`).\r\n\r\n\r\nExplanation of the **recursive logic**:\r\n\r\n* Every method call tracks its own `combination`;\r\n* Every combination unless it reaches the `targetSize` is used as a `blue-print for other combinations`;\r\n* Each item from the source of data can be used `only once`, hence when it&#39;s being added to a combination it must be removed from the source.\r\n\r\nThe type `ArrayList&lt;Integer[]&gt;` which you are using to store the combination isn&#39;t a good choice. Arrays and generics do not play well together. `List&lt;List&lt;Integer&gt;&gt;` will be more appropriate for this purpose. \r\n\r\nAlso in my code `List` is used as a source of data instead of an array, which isn&#39;t a complicated conversion and can be achieved easily.\r\n\r\n*Pay attention to the comments in the code.*\r\n\r\n```\r\n    private List&lt;List&lt;Integer&gt;&gt; createCombination(List&lt;Integer&gt; source, List&lt;Integer&gt; comb, int targetSize) {\r\n        if (comb.size() == targetSize) { // base condition of the recursion\r\n            List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            result.add(comb);\r\n            return result;\r\n        }\r\n\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        Iterator&lt;Integer&gt; iterator = source.iterator();\r\n        while (iterator.hasNext()) {\r\n            // taking an element from a source\r\n            Integer item = iterator.next();\r\n            iterator.remove(); // in order not to get repeated the element has to be removed\r\n\r\n            // creating a new combination using existing as a base\r\n            List&lt;Integer&gt; newComb = new ArrayList&lt;&gt;(comb);\r\n            newComb.add(item); // adding the element that was removed from the source\r\n            result.addAll(createCombination(new ArrayList&lt;&gt;(source), newComb, targetSize)); // adding all the combinations generated\r\n        }\r\n        return result;\r\n    }\r\n```\r\nFor the **input**\r\n```\r\n    createCombination(new ArrayList&lt;&gt;(List.of(1, 2, 3)), new ArrayList&lt;&gt;(), 2));\r\n```\r\nIt&#39;ll produce the **output**\r\n```\r\n[[1, 2], [1, 3], [2, 3]]\r\n```","title":"Create a list of combinations recursively","body":"<p>A recursive implementation of any algorithm is comprised of two parts:</p>\n<ul>\n<li><strong>base case</strong> - a condition that terminates a branch of recursive calls and represents an edge case for which result is known in advance;</li>\n<li><strong>recursive case</strong> - a part where the logic resides and the recursive calls are made.</li>\n</ul>\n<p>For this task a <strong>base case</strong> will be a situation when size of the combination equals to a target size (denoted as <code>r</code> in your code, in the code below I gave it a name <code>targetSize</code>).</p>\n<p>Explanation of the <strong>recursive logic</strong>:</p>\n<ul>\n<li>Every method call tracks its own <code>combination</code>;</li>\n<li>Every combination unless it reaches the <code>targetSize</code> is used as a <code>blue-print for other combinations</code>;</li>\n<li>Each item from the source of data can be used <code>only once</code>, hence when it's being added to a combination it must be removed from the source.</li>\n</ul>\n<p>The type <code>ArrayList&lt;Integer[]&gt;</code> which you are using to store the combination isn't a good choice. Arrays and generics do not play well together. <code>List&lt;List&lt;Integer&gt;&gt;</code> will be more appropriate for this purpose.</p>\n<p>Also in my code <code>List</code> is used as a source of data instead of an array, which isn't a complicated conversion and can be achieved easily.</p>\n<p><em>Pay attention to the comments in the code.</em></p>\n<pre><code>    private List&lt;List&lt;Integer&gt;&gt; createCombination(List&lt;Integer&gt; source, List&lt;Integer&gt; comb, int targetSize) {\n        if (comb.size() == targetSize) { // base condition of the recursion\n            List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n            result.add(comb);\n            return result;\n        }\n\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        Iterator&lt;Integer&gt; iterator = source.iterator();\n        while (iterator.hasNext()) {\n            // taking an element from a source\n            Integer item = iterator.next();\n            iterator.remove(); // in order not to get repeated the element has to be removed\n\n            // creating a new combination using existing as a base\n            List&lt;Integer&gt; newComb = new ArrayList&lt;&gt;(comb);\n            newComb.add(item); // adding the element that was removed from the source\n            result.addAll(createCombination(new ArrayList&lt;&gt;(source), newComb, targetSize)); // adding all the combinations generated\n        }\n        return result;\n    }\n</code></pre>\n<p>For the <strong>input</strong></p>\n<pre><code>    createCombination(new ArrayList&lt;&gt;(List.of(1, 2, 3)), new ArrayList&lt;&gt;(), 2));\n</code></pre>\n<p>It'll produce the <strong>output</strong></p>\n<pre><code>[[1, 2], [1, 3], [2, 3]]\n</code></pre>\n"}],"owner":{"display_name":"user14153071"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71094969,"answer_count":1,"score":1,"last_activity_date":1644846652,"creation_date":1644686757,"question_id":71094209,"body_markdown":"I am trying to implement a combination method using recursion. I have already done it using a for loop but want to approach it via recursion. \r\n\r\nThe method gets two inputs and creates all possible combinations. It is supposed to store the combination in an instance variable that I have called &quot;combination&quot;. I tried different codes but they don&#39;t work properly. I think recursive back-tracking is the best way to approach this. \r\n\r\nFor example, object.pe1.combination(4,3) would create something like this:\r\n[image of combination list][1]\r\n\r\n\r\n\r\n```\r\n\r\n    // Instance variable needed for this problem\r\n    ArrayList&lt;Integer[]&gt; combination; \r\n\tprivate int size;\r\n\r\n\r\n\r\n    // To calculate all the possible combinations\r\n    private int factorial(int x){\r\n\t    if (x == 0) {\r\n\t        return 1;\r\n\t    }\r\n\t    else {\r\n\t        return x * factorial(x - 1);\r\n\t    }\r\n\t}\r\n\t\r\n\tvoid combination(int n, int r) {\r\n\t\t\r\n        // formula for calculating the combination of r items selected among n: n! / (r! * (n - r)!)\r\n\t\tint noc = factorial (n) / (factorial (r) * factorial (n - r)); // number of combinations \r\n        \r\n\t\tthis.combination = new ArrayList&lt;Integer[]&gt;(noc); // 2D array. Each slot stores a combination\r\n\r\n\t\tif (noc == 0) {\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.combination = new ArrayList&lt;Integer[]&gt;(noc);\r\n\t\t\tint[] arr = new int[n];\r\n\t\t\tint[] temparr = new int[r];\r\n\t\t\tarr = createCombination(temparr, 0, r);\r\n\t\t}\r\n\t}\r\n\r\n\r\n        private int[] createCombination(int[] temparr, int index, int r) {\r\n\t\t// this is where I am stuck\r\n\t\ttemparr[0] = index;\r\n\t\t\r\n\t\tif (temparr[r] == 0) {\r\n\t\t\ttemparr = new int[r - 1];\r\n\t\t\ttemparr = createCombination(temparr, index + 1, r - 1);\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\treturn temparr;\r\n\t\t}\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPJpb.png","title":"Create a list of combinations recursively","body":"<p>I am trying to implement a combination method using recursion. I have already done it using a for loop but want to approach it via recursion.</p>\n<p>The method gets two inputs and creates all possible combinations. It is supposed to store the combination in an instance variable that I have called &quot;combination&quot;. I tried different codes but they don't work properly. I think recursive back-tracking is the best way to approach this.</p>\n<p>For example, object.pe1.combination(4,3) would create something like this:\n<a href=\"https://i.stack.imgur.com/BPJpb.png\" rel=\"nofollow noreferrer\">image of combination list</a></p>\n<pre><code>\n    // Instance variable needed for this problem\n    ArrayList&lt;Integer[]&gt; combination; \n    private int size;\n\n\n\n    // To calculate all the possible combinations\n    private int factorial(int x){\n        if (x == 0) {\n            return 1;\n        }\n        else {\n            return x * factorial(x - 1);\n        }\n    }\n    \n    void combination(int n, int r) {\n        \n        // formula for calculating the combination of r items selected among n: n! / (r! * (n - r)!)\n        int noc = factorial (n) / (factorial (r) * factorial (n - r)); // number of combinations \n        \n        this.combination = new ArrayList&lt;Integer[]&gt;(noc); // 2D array. Each slot stores a combination\n\n        if (noc == 0) {\n            \n        }\n        else {\n            this.combination = new ArrayList&lt;Integer[]&gt;(noc);\n            int[] arr = new int[n];\n            int[] temparr = new int[r];\n            arr = createCombination(temparr, 0, r);\n        }\n    }\n\n\n        private int[] createCombination(int[] temparr, int index, int r) {\n        // this is where I am stuck\n        temparr[0] = index;\n        \n        if (temparr[r] == 0) {\n            temparr = new int[r - 1];\n            temparr = createCombination(temparr, index + 1, r - 1);\n        }\n        \n        else {\n            return temparr;\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","generics","warnings","mockito","matcher"],"answers":[{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":324,"is_accepted":true,"score":324,"last_activity_date":1481370060,"creation_date":1336552484,"answer_id":10512526,"question_id":10512374,"body_markdown":"For Java 8 and above, it&#39;s easy:\r\n\r\n    when(mock.process(Matchers.anyList()));\r\n\r\n\r\nFor Java 7 and below, the compiler needs a bit of help. Use `anyListOf(Class&lt;T&gt; clazz)`:\r\n\r\n    when(mock.process(Matchers.anyListOf(Bar.class)));\r\n\r\n","title":"Mockito: List Matchers with generics","body":"<p>For Java 8 and above, it's easy:</p>\n\n<pre><code>when(mock.process(Matchers.anyList()));\n</code></pre>\n\n<p>For Java 7 and below, the compiler needs a bit of help. Use <code>anyListOf(Class&lt;T&gt; clazz)</code>:</p>\n\n<pre><code>when(mock.process(Matchers.anyListOf(Bar.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1491332321,"creation_date":1442916963,"answer_id":32714282,"question_id":10512374,"body_markdown":"In addition to `anyListOf` above, you can always specify generics explicitly using this syntax:\r\n\r\n    when(mock.process(Matchers.&lt;List&lt;Bar&gt;&gt;any(List.class)));\r\n\r\nJava 8 newly allows type inference based on parameters, so if you&#39;re using Java 8, this may work as well:\r\n\r\n    when(mock.process(Matchers.any()));\r\n\r\nRemember that neither `any()` nor `anyList()` will apply any checks, including type or null checks. In Mockito 2.x, `any(Foo.class)` was changed to mean &quot;any `instanceof` Foo&quot;, but `any()` still means &quot;any value including `null`&quot;.\r\n\r\nNOTE: The above has switched to [ArgumentMatchers](https://static.javadoc.io/org.mockito/mockito-core/2.7.21/org/mockito/ArgumentMatchers.html) in newer versions of Mockito, to avoid a name collision with `org.hamcrest.Matchers`. Older versions of Mockito will need to keep using `org.mockito.Matchers` as above.","title":"Mockito: List Matchers with generics","body":"<p>In addition to <code>anyListOf</code> above, you can always specify generics explicitly using this syntax:</p>\n\n<pre><code>when(mock.process(Matchers.&lt;List&lt;Bar&gt;&gt;any(List.class)));\n</code></pre>\n\n<p>Java 8 newly allows type inference based on parameters, so if you're using Java 8, this may work as well:</p>\n\n<pre><code>when(mock.process(Matchers.any()));\n</code></pre>\n\n<p>Remember that neither <code>any()</code> nor <code>anyList()</code> will apply any checks, including type or null checks. In Mockito 2.x, <code>any(Foo.class)</code> was changed to mean \"any <code>instanceof</code> Foo\", but <code>any()</code> still means \"any value including <code>null</code>\".</p>\n\n<p>NOTE: The above has switched to <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.7.21/org/mockito/ArgumentMatchers.html\" rel=\"noreferrer\">ArgumentMatchers</a> in newer versions of Mockito, to avoid a name collision with <code>org.hamcrest.Matchers</code>. Older versions of Mockito will need to keep using <code>org.mockito.Matchers</code> as above.</p>\n"},{"tags":[],"owner":{"account_id":3357785,"reputation":471,"user_id":2820326,"display_name":"Alan Teals"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1529325681,"creation_date":1529325681,"answer_id":50909782,"question_id":10512374,"body_markdown":"Before Java 8 (versions 7 or 6) I use the new method ArgumentMatchers.anyList:\r\n\r\n    import static org.mockito.Mockito.*;\r\n    import org.mockito.ArgumentMatchers;\r\n    \r\n    verify(mock, atLeastOnce()).process(ArgumentMatchers.&lt;Bar&gt;anyList());","title":"Mockito: List Matchers with generics","body":"<p>Before Java 8 (versions 7 or 6) I use the new method ArgumentMatchers.anyList:</p>\n\n<pre><code>import static org.mockito.Mockito.*;\nimport org.mockito.ArgumentMatchers;\n\nverify(mock, atLeastOnce()).process(ArgumentMatchers.&lt;Bar&gt;anyList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2802090,"reputation":1611,"user_id":2410151,"display_name":"Dominik Ehrenberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644846634,"creation_date":1644846634,"answer_id":71112956,"question_id":10512374,"body_markdown":"I needed `anyList()` with a typed ArrayList, the following worked:\r\n\r\n```\r\n(ArrayList&lt;Bar&gt;) ArgumentMatchers.&lt;Bar&gt;anyList()\r\n```","title":"Mockito: List Matchers with generics","body":"<p>I needed <code>anyList()</code> with a typed ArrayList, the following worked:</p>\n<pre><code>(ArrayList&lt;Bar&gt;) ArgumentMatchers.&lt;Bar&gt;anyList()\n</code></pre>\n"}],"owner":{"account_id":166487,"reputation":10720,"user_id":390640,"accept_rate":84,"display_name":"Philippe Blayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202968,"favorite_count":0,"down_vote_count":2,"up_vote_count":206,"accepted_answer_id":10512526,"answer_count":4,"score":204,"last_activity_date":1644846634,"creation_date":1336551778,"question_id":10512374,"body_markdown":"Mockito offers:\r\n\r\n\r\n&lt;!-- language: lang-java&gt;\r\n\r\n    when(mock.process(Matchers.any(List.class)));\r\n&lt;/pre&gt;\r\n\r\nHow to avoid warning if `process` takes a `List&lt;Bar&gt;` instead?&lt;br/&gt;\r\n","title":"Mockito: List Matchers with generics","body":"<p>Mockito offers:</p>\n\n<p></p>\n\n<pre><code>when(mock.process(Matchers.any(List.class)));\n</code></pre>\n\n<p></p>\n\n<p>How to avoid warning if <code>process</code> takes a <code>List&lt;Bar&gt;</code> instead?<br/></p>\n"},{"tags":["java","spring-boot","junit","apache-camel","camel-test"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1644683761,"post_id":71092726,"comment_id":125673946,"body_markdown":"I think you have to advice your route BEFORE Camel context is starting. You should try to do it in a separate method (with \\@Before annotation) rather than inside your \\@Test method","body":"I think you have to advice your route BEFORE Camel context is starting. You should try to do it in a separate method (with \\@Before annotation) rather than inside your \\@Test method"},{"owner":{"account_id":1864434,"reputation":5495,"user_id":1697798,"accept_rate":84,"display_name":"The Dark Knight"},"score":0,"creation_date":1644686950,"post_id":71092726,"comment_id":125674690,"body_markdown":"@TacheDeChoco  Thanks for the comment. But that way Camel does not even transform the routes to corresponding mock end points as per advice . The issue is also still there .","body":"@TacheDeChoco  Thanks for the comment. But that way Camel does not even transform the routes to corresponding mock end points as per advice . The issue is also still there ."}],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644846415,"creation_date":1644845569,"answer_id":71112748,"question_id":71092726,"body_markdown":"For starters you probably should not replace consumer/From endpoint with MockEndpoint just use direct endpoint. [MockEndpoints](https://camel.apache.org/components/latest/mock-component.html) only support producer endpoints (to) and should not be used as consumer endpoint (from). MockEndpoints are meant to be used as points on your route where you want to do assertions on things like message body, exchange properties, received messages etc. \r\n\r\nSecondly if you&#39;re using [AdviceWith](https://camel.apache.org/manual/advice-with.html) you should set the [isUseAdviceWith](https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing) to true and start the context manually just before you use `template.send` methods. How this is set varies a bit if you&#39;re using spring boot annotations or not. Example below uses just simple CamelTestSupport. \r\n\r\nThirdly you rarely if ever need to use intercept on camel tests, use [weaveById](https://camel.apache.org/manual/advice-with.html#_using_weave_to_amend_routes), [weaveByToURI](https://camel.apache.org/manual/advice-with.html#_weavebytouri) with replace instead. In this case you&#39;re better off just fixing how your file-path and file-name is set by using [property-placeholders](https://camel.apache.org/manual/using-propertyplaceholder.html) instead. This way you can just use useOverridePropertiesWithPropertiesComponent and TemporaryFolder feature of junit. Also Apache-commons IO FileUtils is pretty handy if you need to read file-contents of a test file or copy something to a test folder.\r\n\r\nUsing Thread.Sleep with unit tests is hacky at best and should be avoided. For this case I see no reason why you would use it. RouteId is best placed at the top of the route. \r\n\r\n**Example:**\r\n```java\r\npackage com.example;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Properties;\r\n\r\nimport org.apache.camel.RoutesBuilder;\r\nimport org.apache.camel.builder.AdviceWithRouteBuilder;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.junit4.CamelTestSupport;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.rules.TemporaryFolder;\r\n\r\npublic class ExampleTest extends CamelTestSupport {\r\n    \r\n    @Rule\r\n    public TemporaryFolder temporaryFolder = new TemporaryFolder();\r\n    File outputFolder;\r\n\r\n    static final String FILE_NAME = &quot;testfile.txt&quot;;\r\n\r\n    @Test\r\n    public void testFileMovement() throws Exception {\r\n\r\n        context.getRouteDefinition(&quot;mys3Route&quot;)\r\n            .adviceWith(context, new AdviceWithRouteBuilder(){\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n\r\n                replaceFromWith(&quot;direct:start&quot;);\r\n                weaveAddLast()\r\n                    .to(&quot;mock:result&quot;);\r\n            } \r\n        });\r\n\r\n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\r\n        resultMockEndpoint.setExpectedMessageCount(1);\r\n\r\n        startCamelContext();\r\n        template.sendBody(&quot;direct:start&quot;, &quot;Just Text&quot;);\r\n\r\n        File file = new File(outputFolder, FILE_NAME);\r\n        assertEquals(true, file.exists());\r\n        String fileContents = FileUtils.readFileToString(file, StandardCharsets.UTF_8);\r\n        assertEquals(&quot;Just Text&quot;, fileContents);\r\n\r\n        resultMockEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Override\r\n    protected RoutesBuilder createRouteBuilder() throws Exception {\r\n       \r\n        return new RouteBuilder(){\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n                \r\n                from(&quot;s3://bucketName&quot;)\r\n                    .routeId(&quot;mys3Route&quot;)\r\n                    .log(&quot;File download Successful&quot;)\r\n                    .to(&quot;file:{{filepath}}?fileName={{filename}}&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    protected Properties useOverridePropertiesWithPropertiesComponent() {\r\n\r\n        try {\r\n            outputFolder = temporaryFolder.newFolder(&quot;output&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;filename&quot;, FILE_NAME);\r\n        properties.put(&quot;filepath&quot;, outputFolder.getPath());\r\n\r\n        return properties;\r\n    }\r\n\r\n    @Override\r\n    public boolean isUseAdviceWith() {\r\n        return true;\r\n    }   \r\n}\r\n```\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why is my Camel JUnit test case producer template not able to send a body?","body":"<p>For starters you probably should not replace consumer/From endpoint with MockEndpoint just use direct endpoint. <a href=\"https://camel.apache.org/components/latest/mock-component.html\" rel=\"nofollow noreferrer\">MockEndpoints</a> only support producer endpoints (to) and should not be used as consumer endpoint (from). MockEndpoints are meant to be used as points on your route where you want to do assertions on things like message body, exchange properties, received messages etc.</p>\n<p>Secondly if you're using <a href=\"https://camel.apache.org/manual/advice-with.html\" rel=\"nofollow noreferrer\">AdviceWith</a> you should set the <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">isUseAdviceWith</a> to true and start the context manually just before you use <code>template.send</code> methods. How this is set varies a bit if you're using spring boot annotations or not. Example below uses just simple CamelTestSupport.</p>\n<p>Thirdly you rarely if ever need to use intercept on camel tests, use <a href=\"https://camel.apache.org/manual/advice-with.html#_using_weave_to_amend_routes\" rel=\"nofollow noreferrer\">weaveById</a>, <a href=\"https://camel.apache.org/manual/advice-with.html#_weavebytouri\" rel=\"nofollow noreferrer\">weaveByToURI</a> with replace instead. In this case you're better off just fixing how your file-path and file-name is set by using <a href=\"https://camel.apache.org/manual/using-propertyplaceholder.html\" rel=\"nofollow noreferrer\">property-placeholders</a> instead. This way you can just use useOverridePropertiesWithPropertiesComponent and TemporaryFolder feature of junit. Also Apache-commons IO FileUtils is pretty handy if you need to read file-contents of a test file or copy something to a test folder.</p>\n<p>Using Thread.Sleep with unit tests is hacky at best and should be avoided. For this case I see no reason why you would use it. RouteId is best placed at the top of the route.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Properties;\n\nimport org.apache.camel.RoutesBuilder;\nimport org.apache.camel.builder.AdviceWithRouteBuilder;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.junit4.CamelTestSupport;\nimport org.apache.commons.io.FileUtils;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.TemporaryFolder;\n\npublic class ExampleTest extends CamelTestSupport {\n    \n    @Rule\n    public TemporaryFolder temporaryFolder = new TemporaryFolder();\n    File outputFolder;\n\n    static final String FILE_NAME = &quot;testfile.txt&quot;;\n\n    @Test\n    public void testFileMovement() throws Exception {\n\n        context.getRouteDefinition(&quot;mys3Route&quot;)\n            .adviceWith(context, new AdviceWithRouteBuilder(){\n\n            @Override\n            public void configure() throws Exception {\n\n                replaceFromWith(&quot;direct:start&quot;);\n                weaveAddLast()\n                    .to(&quot;mock:result&quot;);\n            } \n        });\n\n        MockEndpoint resultMockEndpoint = getMockEndpoint(&quot;mock:result&quot;);\n        resultMockEndpoint.setExpectedMessageCount(1);\n\n        startCamelContext();\n        template.sendBody(&quot;direct:start&quot;, &quot;Just Text&quot;);\n\n        File file = new File(outputFolder, FILE_NAME);\n        assertEquals(true, file.exists());\n        String fileContents = FileUtils.readFileToString(file, StandardCharsets.UTF_8);\n        assertEquals(&quot;Just Text&quot;, fileContents);\n\n        resultMockEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() throws Exception {\n       \n        return new RouteBuilder(){\n\n            @Override\n            public void configure() throws Exception {\n                \n                from(&quot;s3://bucketName&quot;)\n                    .routeId(&quot;mys3Route&quot;)\n                    .log(&quot;File download Successful&quot;)\n                    .to(&quot;file:{{filepath}}?fileName={{filename}}&quot;);\n            }\n        };\n    }\n\n    @Override\n    protected Properties useOverridePropertiesWithPropertiesComponent() {\n\n        try {\n            outputFolder = temporaryFolder.newFolder(&quot;output&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Properties properties = new Properties();\n        properties.put(&quot;filename&quot;, FILE_NAME);\n        properties.put(&quot;filepath&quot;, outputFolder.getPath());\n\n        return properties;\n    }\n\n    @Override\n    public boolean isUseAdviceWith() {\n        return true;\n    }   \n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;${commons-io.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1864434,"reputation":5495,"user_id":1697798,"accept_rate":84,"display_name":"The Dark Knight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71112748,"answer_count":1,"score":0,"last_activity_date":1644846415,"creation_date":1644676043,"question_id":71092726,"body_markdown":"I am trying to test a route which is like this:\r\n\r\n\tfrom(&quot;s3://bucketName&quot;)\r\n\t.process(exchange -&gt; {exchange.getIn().setHeader(Exchange.FILE_NAME,MY_FILE_NAME);})\r\n\t.log(&quot;File download Successful&quot;)\r\n\t.to(&quot;file:&quot; + FILE_PATH).routeId(&quot;mys3Route&quot;);\r\n\r\nI have written my test like this:\r\n\r\n    @Test\r\n    public void testFileMovement() throws Exception {\r\n\t\tAdviceWith.adviceWith(context, &quot;mys3Route&quot;, a -&gt; {\r\n            a.replaceFromWith(&quot;mock:s3Location&quot;);\r\n            a.interceptSendToEndpoint(&quot;file:&quot; + FILE_PATH).skipSendToOriginalEndpoint()\r\n                    .to(&quot;mock:anotherLocation&quot;);\r\n        });\r\n        MockEndpoint mockedToEndPoint = getMockEndpoint(&quot;mock:anotherLocation&quot;);\r\n        mockedToEndPoint.setExpectedMessageCount(1);\r\n\t\ttemplate.sendBody(&quot;mock:s3Location&quot;, &quot;Just Text&quot;);\r\n        mockedToEndPoint.assertIsSatisfied();\r\n        Thread.sleep(5000);\r\n    }\r\n\r\nWhenever I run this as unit test case, I get this error: \r\n\r\n&gt;org.apache.camel.CamelExecutionException: Exception occurred during &gt;execution on the exchange: Exchange[]\r\n\r\n\r\n\r\nThe error seems to be coming up here in: `org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:591)` (which is present in camel dependencies).\r\n\r\nAny idea as to what I am doing wrong and how I can rectify it? Any help to resolve and understand this issue is greatly appreciated .\r\n","title":"Why is my Camel JUnit test case producer template not able to send a body?","body":"<p>I am trying to test a route which is like this:</p>\n<pre><code>from(&quot;s3://bucketName&quot;)\n.process(exchange -&gt; {exchange.getIn().setHeader(Exchange.FILE_NAME,MY_FILE_NAME);})\n.log(&quot;File download Successful&quot;)\n.to(&quot;file:&quot; + FILE_PATH).routeId(&quot;mys3Route&quot;);\n</code></pre>\n<p>I have written my test like this:</p>\n<pre><code>@Test\npublic void testFileMovement() throws Exception {\n    AdviceWith.adviceWith(context, &quot;mys3Route&quot;, a -&gt; {\n        a.replaceFromWith(&quot;mock:s3Location&quot;);\n        a.interceptSendToEndpoint(&quot;file:&quot; + FILE_PATH).skipSendToOriginalEndpoint()\n                .to(&quot;mock:anotherLocation&quot;);\n    });\n    MockEndpoint mockedToEndPoint = getMockEndpoint(&quot;mock:anotherLocation&quot;);\n    mockedToEndPoint.setExpectedMessageCount(1);\n    template.sendBody(&quot;mock:s3Location&quot;, &quot;Just Text&quot;);\n    mockedToEndPoint.assertIsSatisfied();\n    Thread.sleep(5000);\n}\n</code></pre>\n<p>Whenever I run this as unit test case, I get this error:</p>\n<blockquote>\n<p>org.apache.camel.CamelExecutionException: Exception occurred during &gt;execution on the exchange: Exchange[]</p>\n</blockquote>\n<p>The error seems to be coming up here in: <code>org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:591)</code> (which is present in camel dependencies).</p>\n<p>Any idea as to what I am doing wrong and how I can rectify it? Any help to resolve and understand this issue is greatly appreciated .</p>\n"},{"tags":["java","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1644857066,"post_id":71112873,"comment_id":125710762,"body_markdown":"You&#39;ll have to debug more to figure out what is different in the two environments, but it&#39;ll come down to class loaders. Using @PersistenceContext has the container control the persistence context, and define everything within it, and giving class loaders to the JPA provider to handle the rest. In the later case, your JPA provider is required to do so based on what is on hand when createEntityManagerFactory is called.My guess isn&#39;t that the class isn&#39;t found, but that the one used to load the EM originally isn&#39;t the one used to load the user class, so it doesn&#39;t recognize it as an entity.","body":"You&#39;ll have to debug more to figure out what is different in the two environments, but it&#39;ll come down to class loaders. Using @PersistenceContext has the container control the persistence context, and define everything within it, and giving class loaders to the JPA provider to handle the rest. In the later case, your JPA provider is required to do so based on what is on hand when createEntityManagerFactory is called.My guess isn&#39;t that the class isn&#39;t found, but that the one used to load the EM originally isn&#39;t the one used to load the user class, so it doesn&#39;t recognize it as an entity."}],"owner":{"account_id":2396586,"reputation":48,"user_id":2095267,"accept_rate":75,"display_name":"Tzoreol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644846280,"creation_date":1644846280,"question_id":71112873,"body_markdown":"I&#39;m trying to get a better understanding at how JPA works. First I tried this :\r\n\r\n```\r\n@PersistenceContext(unitName = &quot;myPU&quot;)\r\n    EntityManager entityManager;\r\n\r\n    public Optional&lt;User&gt; checkCredentials(String login, String password) {\r\n        try {\r\n            TypedQuery&lt;User&gt; query = entityManager.createNamedQuery(&quot;User.checkCredentials&quot;, User.class);\r\n            query.setParameter(&quot;login&quot;, login);\r\n            query.setParameter(&quot;password&quot;, password);\r\n\r\n            return Optional.of(query.getSingleResult());\r\n        } catch (EntityNotFoundException | NoResultException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n```\r\n\r\nBut my table USERS is not found. It&#39;s working perfectly whith this:\r\n```\r\npublic Optional&lt;User&gt; checkCredentials(String login, String password) {\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPU&quot;);\r\n        EntityManager entityManager = emf.createEntityManager();\r\n\r\n        try {\r\n            TypedQuery&lt;User&gt; query = entityManager.createNamedQuery(&quot;User.checkCredentials&quot;, User.class);\r\n            query.setParameter(&quot;login&quot;, login);\r\n            query.setParameter(&quot;password&quot;, password);\r\n\r\n            return Optional.of(query.getSingleResult());\r\n        } catch (EntityNotFoundException | NoResultException e) {\r\n            return Optional.empty();\r\n        } finally {\r\n            entityManager.close();\r\n            emf.close();\r\n        }\r\n    }\r\n```\r\n\r\nHere is my persistence.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n  &lt;persistence-unit name=&quot;myPU&quot;&gt;\r\n    &lt;class&gt;fr.tzoreol.myapp.entities.Game&lt;/class&gt;\r\n    &lt;class&gt;fr.tzoreol.myapp.entities.League&lt;/class&gt;\r\n    &lt;class&gt;fr.tzoreol.myapp.entities.Team&lt;/class&gt;\r\n    &lt;class&gt;fr.tzoreol.myapp.entities.User&lt;/class&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/myDB&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;************&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nAnyone can explain why and what is the best way to do it?\r\n\r\nThanks!","title":"@PersistenceContext cannot find my table but EntityManagerFactory does","body":"<p>I'm trying to get a better understanding at how JPA works. First I tried this :</p>\n<pre><code>@PersistenceContext(unitName = &quot;myPU&quot;)\n    EntityManager entityManager;\n\n    public Optional&lt;User&gt; checkCredentials(String login, String password) {\n        try {\n            TypedQuery&lt;User&gt; query = entityManager.createNamedQuery(&quot;User.checkCredentials&quot;, User.class);\n            query.setParameter(&quot;login&quot;, login);\n            query.setParameter(&quot;password&quot;, password);\n\n            return Optional.of(query.getSingleResult());\n        } catch (EntityNotFoundException | NoResultException e) {\n            return Optional.empty();\n        }\n    }\n</code></pre>\n<p>But my table USERS is not found. It's working perfectly whith this:</p>\n<pre><code>public Optional&lt;User&gt; checkCredentials(String login, String password) {\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPU&quot;);\n        EntityManager entityManager = emf.createEntityManager();\n\n        try {\n            TypedQuery&lt;User&gt; query = entityManager.createNamedQuery(&quot;User.checkCredentials&quot;, User.class);\n            query.setParameter(&quot;login&quot;, login);\n            query.setParameter(&quot;password&quot;, password);\n\n            return Optional.of(query.getSingleResult());\n        } catch (EntityNotFoundException | NoResultException e) {\n            return Optional.empty();\n        } finally {\n            entityManager.close();\n            emf.close();\n        }\n    }\n</code></pre>\n<p>Here is my persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n  &lt;persistence-unit name=&quot;myPU&quot;&gt;\n    &lt;class&gt;fr.tzoreol.myapp.entities.Game&lt;/class&gt;\n    &lt;class&gt;fr.tzoreol.myapp.entities.League&lt;/class&gt;\n    &lt;class&gt;fr.tzoreol.myapp.entities.Team&lt;/class&gt;\n    &lt;class&gt;fr.tzoreol.myapp.entities.User&lt;/class&gt;\n\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/myDB&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;************&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Anyone can explain why and what is the best way to do it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-gradle-plugin"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1644596991,"post_id":71081547,"comment_id":125656626,"body_markdown":"Hey, did you try &quot;Invalidate Caches and Restart&quot; ? .","body":"Hey, did you try &quot;Invalidate Caches and Restart&quot; ? ."},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1644597812,"post_id":71081547,"comment_id":125657004,"body_markdown":"Okay, and please check your gradle.properties file where you need to have android.useAndroidX=true  as per the documentation.","body":"Okay, and please check your gradle.properties file where you need to have android.useAndroidX=true  as per the documentation."},{"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"score":0,"creation_date":1644599691,"post_id":71081547,"comment_id":125657707,"body_markdown":"Tried both of your advice, but no Class has been created :-(","body":"Tried both of your advice, but no Class has been created :-("},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1644631310,"post_id":71081547,"comment_id":125665613,"body_markdown":"I repopulate your code and it has generated those classes.","body":"I repopulate your code and it has generated those classes."}],"answers":[{"tags":[],"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644846172,"creation_date":1644846172,"answer_id":71112840,"question_id":71081547,"body_markdown":"After some days, I have found that the code has been generated, but in different folders, so that I cannot see them","title":"SafeArgs does not generate any class","body":"<p>After some days, I have found that the code has been generated, but in different folders, so that I cannot see them</p>\n"}],"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644846172,"creation_date":1644588944,"question_id":71081547,"body_markdown":"I am trying to use Safe Args with the NavigationComponent. I have followed a tutorial, but I have problems because any class is generated automatically, so I can&#39;t pass any arguments because Classes (obviously) are not recognized\r\n\r\nThese are my **Gradle** file\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.4.1&quot;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n        classpath &#39;com.android.tools.build:gradle:7.1.0&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;androidx.navigation.safeargs&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.frangela&quot;\r\n        minSdk 21\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    def nav_version = &quot;2.4.1&quot;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-common-ktx:20.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics-buildtools:2.8.1&#39;\r\n    testImplementation &#39;junit:junit:&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:6.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.1.0&#39;\r\n}\r\n```\r\n\r\nThis is the xml code: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@+id/nav_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_home&quot;\r\n        android:name=&quot;com.example.frangela.ui.home.HomeFragment&quot;\r\n        android:label=&quot;@string/menu_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_gallery&quot;\r\n        android:name=&quot;com.example.frangela.ui.gallery.GalleryFragment&quot;\r\n        android:label=&quot;@string/menu_gallery&quot;\r\n        tools:layout=&quot;@layout/fragment_gallery&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_slideshow&quot;\r\n        android:name=&quot;com.example.frangela.ui.slideshow.InserisciSpesaFragment&quot;\r\n        android:label=&quot;@string/menu_slideshow&quot;\r\n        tools:layout=&quot;@layout/fragment_inserisci&quot; &gt;\r\n        &lt;argument\r\n            android:name=&quot;descrizione&quot;\r\n            app:argType=&quot;string&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;ammontare&quot;\r\n            app:argType=&quot;float&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_stipendio&quot;\r\n        android:name=&quot;com.example.frangela.ui.stipendio.InserisciStipendioFragment&quot;\r\n        android:label=&quot;@string/menu_stipendio&quot;\r\n        tools:layout=&quot;@layout/fragment_stipendio&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_resoconto&quot;\r\n        android:name=&quot;com.example.frangela.ui.resocard.ResocardFragment&quot;\r\n        android:label=&quot;@string/Resoconto&quot;\r\n        tools:layout=&quot;@layout/fragment_resocard&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_nav_resoconto_to_nav_slideshow&quot;\r\n            app:destination=&quot;@id/nav_slideshow&quot; /&gt;\r\n\r\n    &lt;/fragment&gt;\r\n\r\n&lt;/navigation&gt;\r\n```\r\nAfter that I resync my project and rebuild, but nothing changes.\r\nI tried to follow different tutorials and questions but none of them solved my problem. What am I missing?\r\nThanks in advance","title":"SafeArgs does not generate any class","body":"<p>I am trying to use Safe Args with the NavigationComponent. I have followed a tutorial, but I have problems because any class is generated automatically, so I can't pass any arguments because Classes (obviously) are not recognized</p>\n<p>These are my <strong>Gradle</strong> file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        def nav_version = &quot;2.4.1&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.android.tools.build:gradle:7.1.0'\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'androidx.navigation.safeargs'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.frangela&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n\n}\n\ndependencies {\n    def nav_version = &quot;2.4.1&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n    implementation 'com.google.firebase:firebase-database:20.0.3'\n    implementation 'com.google.firebase:firebase-common-ktx:20.0.0'\n    implementation 'com.google.android.gms:play-services-maps:18.0.1'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n    implementation 'com.google.firebase:firebase-crashlytics-buildtools:2.8.1'\n    testImplementation 'junit:junit:'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation platform('com.google.firebase:firebase-bom:29.0.3')\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n    implementation 'com.firebaseui:firebase-ui-database:6.2.1'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.android.gms:play-services-auth:20.1.0'\n}\n</code></pre>\n<p>This is the xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@+id/nav_home&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_home&quot;\n        android:name=&quot;com.example.frangela.ui.home.HomeFragment&quot;\n        android:label=&quot;@string/menu_home&quot;\n        tools:layout=&quot;@layout/fragment_home&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_gallery&quot;\n        android:name=&quot;com.example.frangela.ui.gallery.GalleryFragment&quot;\n        android:label=&quot;@string/menu_gallery&quot;\n        tools:layout=&quot;@layout/fragment_gallery&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_slideshow&quot;\n        android:name=&quot;com.example.frangela.ui.slideshow.InserisciSpesaFragment&quot;\n        android:label=&quot;@string/menu_slideshow&quot;\n        tools:layout=&quot;@layout/fragment_inserisci&quot; &gt;\n        &lt;argument\n            android:name=&quot;descrizione&quot;\n            app:argType=&quot;string&quot; /&gt;\n        &lt;argument\n            android:name=&quot;ammontare&quot;\n            app:argType=&quot;float&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/nav_stipendio&quot;\n        android:name=&quot;com.example.frangela.ui.stipendio.InserisciStipendioFragment&quot;\n        android:label=&quot;@string/menu_stipendio&quot;\n        tools:layout=&quot;@layout/fragment_stipendio&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_resoconto&quot;\n        android:name=&quot;com.example.frangela.ui.resocard.ResocardFragment&quot;\n        android:label=&quot;@string/Resoconto&quot;\n        tools:layout=&quot;@layout/fragment_resocard&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_nav_resoconto_to_nav_slideshow&quot;\n            app:destination=&quot;@id/nav_slideshow&quot; /&gt;\n\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n<p>After that I resync my project and rebuild, but nothing changes.\nI tried to follow different tutorials and questions but none of them solved my problem. What am I missing?\nThanks in advance</p>\n"},{"tags":["java","mysql","sql","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1644842424,"post_id":71112025,"comment_id":125704905,"body_markdown":"Why would it be too big for a java model? Have used models with more fields and columns... Looks like you are afraid of something that isn&#39;t really a problem. Nonetheless you can always use JDBC to query the database, but you need to put the information into an object anyway.","body":"Why would it be too big for a java model? Have used models with more fields and columns... Looks like you are afraid of something that isn&#39;t really a problem. Nonetheless you can always use JDBC to query the database, but you need to put the information into an object anyway."},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1644843870,"post_id":71112025,"comment_id":125705417,"body_markdown":"I am creating a paitent treating app so I am dealing with a huge amount of data which I am not used to doing.","body":"I am creating a paitent treating app so I am dealing with a huge amount of data which I am not used to doing."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644845288,"post_id":71112025,"comment_id":125705953,"body_markdown":"as @M.Deinum said, there wont be any performance issues too. One optimization would be combining multiple attributes into a json string and pass it until the UI without processing in Java. This is a common design I see when we do not want to filter data by set of attributes.","body":"as @M.Deinum said, there wont be any performance issues too. One optimization would be combining multiple attributes into a json string and pass it until the UI without processing in Java. This is a common design I see when we do not want to filter data by set of attributes."}],"answers":[{"tags":[],"owner":{"account_id":16112954,"reputation":11,"user_id":11630774,"display_name":"Eren Sayar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644846053,"creation_date":1644845728,"answer_id":71112775,"question_id":71112025,"body_markdown":"I&#39;m not expert but I think you need a model but you can simplified this model. You can add properties as you will use. Incoming SQL query response assign to your simple model. Also I think it&#39;s good that you want to simplify the model. It will be useful.","title":"Query MySQL database without having to create models Spring boot","body":"<p>I'm not expert but I think you need a model but you can simplified this model. You can add properties as you will use. Incoming SQL query response assign to your simple model. Also I think it's good that you want to simplify the model. It will be useful.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644845988,"creation_date":1644845988,"answer_id":71112816,"question_id":71112025,"body_markdown":"I&#39;m not sure what you mean by &quot;big model&quot;.  \r\n\r\nI&#39;d recommend using [JdbcTemplate][1] f you mean &quot;I don&#39;t want all that JPA/Hibernate machinery&quot;.  It&#39;s the lightest, simplest way to interact with relational databases using SQL.\r\n\r\nYou don&#39;t need a complex object model.  Map each row into a `Map` of column name/value pairs and return a `List` of them for each query.  Simple.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jdbc-jdbctemplate","title":"Query MySQL database without having to create models Spring boot","body":"<p>I'm not sure what you mean by &quot;big model&quot;.</p>\n<p>I'd recommend using <a href=\"https://www.baeldung.com/spring-jdbc-jdbctemplate\" rel=\"nofollow noreferrer\">JdbcTemplate</a> f you mean &quot;I don't want all that JPA/Hibernate machinery&quot;.  It's the lightest, simplest way to interact with relational databases using SQL.</p>\n<p>You don't need a complex object model.  Map each row into a <code>Map</code> of column name/value pairs and return a <code>List</code> of them for each query.  Simple.</p>\n"}],"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644846053,"creation_date":1644842169,"question_id":71112025,"body_markdown":"I am using Spring boot to create a web app. I need to store and query a list of patients however the table Patients has 30+ Columns so it is too big to use a java model. I was wondering if there is a way where I can query ( using sql script ) my Patient table and then display the list on html","title":"Query MySQL database without having to create models Spring boot","body":"<p>I am using Spring boot to create a web app. I need to store and query a list of patients however the table Patients has 30+ Columns so it is too big to use a java model. I was wondering if there is a way where I can query ( using sql script ) my Patient table and then display the list on html</p>\n"},{"tags":["java","android","android-recyclerview","date-range"],"answers":[{"tags":[],"owner":{"account_id":23242663,"reputation":399,"user_id":17331686,"display_name":"Niaj Mahmud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644755598,"creation_date":1644755598,"answer_id":71100651,"question_id":71099943,"body_markdown":"between query doesn&#39;t support any string value. Because in string value comparison not possible so you need to do the operation with float, Int and long type data .. I have  faced the same problem then I converted my date to in long type data by using calender.timeInMillis .if u do like that you have to make a column in your table long type than send in to your database then do between query   \r\n        \r\npick your date and convert it to long type \r\n         \r\n       val datepickerdialog =\r\n                DatePickerDialog(requireContext(), { view, year, monthOfYear, dayOfMonth -&gt;\r\n\r\n                    \r\n                    srchDate2_id.text = &quot;$dayOfMonth-$month-$year&quot;\r\n\r\n                    calender2 = Calendar.getInstance()\r\n                    calender2.set(Calendar.DAY_OF_MONTH, dayOfMonth)\r\n                    calender2.set(Calendar.MONTH, monthOfYear)\r\n                    calender2.set(Calendar.YEAR, year)\r\n\r\n\r\n                    dt2 = calender2 .timeInMillis// send it to database you can do the between query with this value \r\n                    Log.d(TAG, &quot;first time: $dt2&quot;)\r\n                  \r\n\r\n                }, y, m, d)\r\n\r\n            datepickerdialog.show()\r\n        }\r\n\r\nstill problem comment below.","title":"How to filter/sort view based on date range in android using java?","body":"<p>between query doesn't support any string value. Because in string value comparison not possible so you need to do the operation with float, Int and long type data .. I have  faced the same problem then I converted my date to in long type data by using calender.timeInMillis .if u do like that you have to make a column in your table long type than send in to your database then do between query</p>\n<p>pick your date and convert it to long type</p>\n<pre><code>   val datepickerdialog =\n            DatePickerDialog(requireContext(), { view, year, monthOfYear, dayOfMonth -&gt;\n\n                \n                srchDate2_id.text = &quot;$dayOfMonth-$month-$year&quot;\n\n                calender2 = Calendar.getInstance()\n                calender2.set(Calendar.DAY_OF_MONTH, dayOfMonth)\n                calender2.set(Calendar.MONTH, monthOfYear)\n                calender2.set(Calendar.YEAR, year)\n\n\n                dt2 = calender2 .timeInMillis// send it to database you can do the between query with this value \n                Log.d(TAG, &quot;first time: $dt2&quot;)\n              \n\n            }, y, m, d)\n\n        datepickerdialog.show()\n    }\n</code></pre>\n<p>still problem comment below.</p>\n"}],"owner":{"account_id":23324488,"reputation":11,"user_id":17401864,"display_name":"Pranit Vishwakarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644846009,"creation_date":1644749476,"question_id":71099943,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n  \r\n        else if (item.getItemId() == R.id.sort_by_unprofitable_trades){\r\n            Collections.sort(notesList, Model.UnProfitableTrades);\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n        else if(item.getItemId() == R.id.sort_by_date_range){\r\n            materialDatePicker.show(getSupportFragmentManager(), &quot;Tag_picker&quot;);\r\n            materialDatePicker.addOnPositiveButtonClickListener(new \r\n            MaterialPickerOnPositiveButtonClickListener&lt;Pair&lt;Long, Long&gt;&gt;() {\r\n                @Override\r\n                public void onPositiveButtonClick(Pair&lt;Long,Long&gt; selection) {\r\n                    Long selctedstartDate = selection.first;\r\n                    Long selectedendDate = selection.second;\r\n                    startDateString = DateFormat.format(&quot;yyyy/MM/dd&quot;, new \r\n                    Date(selctedstartDate)).toString();\r\n                    endDateString = DateFormat.format(&quot;yyyy/MM/dd&quot;, new \r\n                     Date(selectedendDate)).toString();\r\n                    //Collections.sort(notesList, Model.SortByDaterange);\r\n                    sortByDateRange();\r\n                    adapter.notifyDataSetChanged();\r\n\r\nDataBase class:- void sortbyDateRange(String startDate, String endDate){\r\n        SQLiteDatabase database = this.getWritableDatabase();\r\n        String query = &quot;SELECT * FROM &quot; + TableName + &quot; WHERE &quot; + ColumnTradeDate + &quot; BETWEEN &quot; + \r\n        startDate + &quot; AND &quot; + endDate ;\r\n        database.execSQL(query);\r\n    }\r\n\r\nIn Database Inspector the SQL query is giving correct results but no change is happening in the recycler view. What am I missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u4UIv.png","title":"How to filter/sort view based on date range in android using java?","body":"<p><a href=\"https://i.stack.imgur.com/u4UIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u4UIv.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    else if (item.getItemId() == R.id.sort_by_unprofitable_trades){\n        Collections.sort(notesList, Model.UnProfitableTrades);\n        adapter.notifyDataSetChanged();\n    }\n    else if(item.getItemId() == R.id.sort_by_date_range){\n        materialDatePicker.show(getSupportFragmentManager(), &quot;Tag_picker&quot;);\n        materialDatePicker.addOnPositiveButtonClickListener(new \n        MaterialPickerOnPositiveButtonClickListener&lt;Pair&lt;Long, Long&gt;&gt;() {\n            @Override\n            public void onPositiveButtonClick(Pair&lt;Long,Long&gt; selection) {\n                Long selctedstartDate = selection.first;\n                Long selectedendDate = selection.second;\n                startDateString = DateFormat.format(&quot;yyyy/MM/dd&quot;, new \n                Date(selctedstartDate)).toString();\n                endDateString = DateFormat.format(&quot;yyyy/MM/dd&quot;, new \n                 Date(selectedendDate)).toString();\n                //Collections.sort(notesList, Model.SortByDaterange);\n                sortByDateRange();\n                adapter.notifyDataSetChanged();\n</code></pre>\n<p>DataBase class:- void sortbyDateRange(String startDate, String endDate){\nSQLiteDatabase database = this.getWritableDatabase();\nString query = &quot;SELECT * FROM &quot; + TableName + &quot; WHERE &quot; + ColumnTradeDate + &quot; BETWEEN &quot; +\nstartDate + &quot; AND &quot; + endDate ;\ndatabase.execSQL(query);\n}</p>\n<p>In Database Inspector the SQL query is giving correct results but no change is happening in the recycler view. What am I missing?</p>\n"},{"tags":["java","marshalling","wsdl2java","wadl"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":1,"creation_date":1644846173,"post_id":71112800,"comment_id":125706289,"body_markdown":"Can the great toolbox _OpenAPI_ (previously named _Swagger_) help you? If you have part of REST with Server or REST with Client exchanges to reconstruct, it is often useful.","body":"Can the great toolbox <i>OpenAPI</i> (previously named <i>Swagger</i>) help you? If you have part of REST with Server or REST with Client exchanges to reconstruct, it is often useful."},{"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"score":0,"creation_date":1644847045,"post_id":71112800,"comment_id":125706588,"body_markdown":"Any doc or link to  generate java codes from wadl file using OpenAPI would be of great help. Thanks for the suggestion @MarcLeBihan","body":"Any doc or link to  generate java codes from wadl file using OpenAPI would be of great help. Thanks for the suggestion @MarcLeBihan"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644845877,"creation_date":1644845877,"question_id":71112800,"body_markdown":"This question might sense very broad. But So far I am seeing challenges to use [wadl2java maven plugin][1]. I am getting host of issues while marshalling Json based request body in my REST calls to Jaxb types So looking for a clearer and better solution for generating server side java codes from WADL file. \r\n\r\n\r\n  [1]: https://cxf.apache.org/docs/jaxrs-services-description.html#JAXRSServicesDescription-wadl2javaMavenplugin","title":"Alternative to wadl2ava","body":"<p>This question might sense very broad. But So far I am seeing challenges to use <a href=\"https://cxf.apache.org/docs/jaxrs-services-description.html#JAXRSServicesDescription-wadl2javaMavenplugin\" rel=\"nofollow noreferrer\">wadl2java maven plugin</a>. I am getting host of issues while marshalling Json based request body in my REST calls to Jaxb types So looking for a clearer and better solution for generating server side java codes from WADL file.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1644846066,"post_id":71112664,"comment_id":125706255,"body_markdown":"Your A.getHeight() will return value as you are only translating the position of view from (0,0) to (0, -height_of_layout). Even thought the views would be out of sight because they are either out of screen display area or hidden under some other view but they will still have height.","body":"Your A.getHeight() will return value as you are only translating the position of view from (0,0) to (0, -height_of_layout). Even thought the views would be out of sight because they are either out of screen display area or hidden under some other view but they will still have height."},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1644846321,"post_id":71112664,"comment_id":125706333,"body_markdown":"But documentation says:\nView.GONE: This view is invisible, and it doesn&#39;t take any space for layout purposes.","body":"But documentation says: View.GONE: This view is invisible, and it doesn&#39;t take any space for layout purposes."},{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1644862353,"post_id":71112664,"comment_id":125712714,"body_markdown":"Oh I missed the View.GONE in the onAnimationEnd() method by the way you are measuring height after for loop on children you should measure it in the onAnimationEnd() method after applying View.GONE to holder.linearLayout","body":"Oh I missed the View.GONE in the onAnimationEnd() method by the way you are measuring height after for loop on children you should measure it in the onAnimationEnd() method after applying View.GONE to holder.linearLayout"},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1644871882,"post_id":71112664,"comment_id":125715759,"body_markdown":"The height is needed for doing animation, to do the right traslation","body":"The height is needed for doing animation, to do the right traslation"}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644845543,"creation_date":1644845179,"question_id":71112664,"body_markdown":"I have a ConstraintLayout A which can be opened/close and contains some cards that have a ConstraintLayout B inside them that can be visible or not. When I close A (`setVisibility(View.GONE)`) firstly I close all B inside A then do A close animation, but I noticed that A.getHeight() return a value as all of the B inside are visible so the closing animation isn&#39;t right. How can I fix this?\r\n\r\n\r\n*(holder.linearLayout is A, l is B)*\r\n\r\nBoth 2 logs print same value, but the UI changes correctly if I comment the animation.\r\n```\r\n// Close all open children\r\n            Log.d(TAG, &quot;&gt;&gt;Height:&quot; + holder.linearLayout.getHeight());\r\n\r\n            int numberOfChildren = holder.linearLayout.getChildCount();\r\n            for (int i = 0; i &lt; numberOfChildren; ++i) {\r\n                View v = holder.linearLayout.getChildAt(i);\r\n                ConstraintLayout l = v.findViewById(R.id.layout_update_card);\r\n                l.setVisibility(View.GONE);\r\n            }\r\n            Log.d(TAG, &quot;&gt;&gt;Height:&quot; + holder.linearLayout.getHeight());\r\n            \r\n            AnimationSet animation = new AnimationSet(true);\r\n            Animation animationAlpha = new AlphaAnimation(1, 0);\r\n            animation.addAnimation(animationAlpha);\r\n            Animation animationTranslate = new TranslateAnimation(0, 0, 0, -holder.linearLayout.getHeight());\r\n            animation.addAnimation(animationTranslate);\r\n            Animation animationY = new ScaleAnimation(1, 1, 1, 0);\r\n            animationY.setInterpolator(new LinearInterpolator());\r\n            animation.addAnimation(animationY);\r\n            animation.setDuration(250);\r\n\r\n            animation.setAnimationListener(new Animation.AnimationListener() {\r\n                @Override\r\n                public void onAnimationStart(Animation animation) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationEnd(Animation animation) {\r\n                    holder.linearLayout.setVisibility(View.GONE);\r\n                }\r\n\r\n                @Override\r\n                public void onAnimationRepeat(Animation animation) {\r\n\r\n                }\r\n            });\r\n\r\n            holder.linearLayout.startAnimation(animation);\r\n            holder.isOpen = false;\r\n```","title":"Android: LayoutHeight don&#39;t update","body":"<p>I have a ConstraintLayout A which can be opened/close and contains some cards that have a ConstraintLayout B inside them that can be visible or not. When I close A (<code>setVisibility(View.GONE)</code>) firstly I close all B inside A then do A close animation, but I noticed that A.getHeight() return a value as all of the B inside are visible so the closing animation isn't right. How can I fix this?</p>\n<p><em>(holder.linearLayout is A, l is B)</em></p>\n<p>Both 2 logs print same value, but the UI changes correctly if I comment the animation.</p>\n<pre><code>// Close all open children\n            Log.d(TAG, &quot;&gt;&gt;Height:&quot; + holder.linearLayout.getHeight());\n\n            int numberOfChildren = holder.linearLayout.getChildCount();\n            for (int i = 0; i &lt; numberOfChildren; ++i) {\n                View v = holder.linearLayout.getChildAt(i);\n                ConstraintLayout l = v.findViewById(R.id.layout_update_card);\n                l.setVisibility(View.GONE);\n            }\n            Log.d(TAG, &quot;&gt;&gt;Height:&quot; + holder.linearLayout.getHeight());\n            \n            AnimationSet animation = new AnimationSet(true);\n            Animation animationAlpha = new AlphaAnimation(1, 0);\n            animation.addAnimation(animationAlpha);\n            Animation animationTranslate = new TranslateAnimation(0, 0, 0, -holder.linearLayout.getHeight());\n            animation.addAnimation(animationTranslate);\n            Animation animationY = new ScaleAnimation(1, 1, 1, 0);\n            animationY.setInterpolator(new LinearInterpolator());\n            animation.addAnimation(animationY);\n            animation.setDuration(250);\n\n            animation.setAnimationListener(new Animation.AnimationListener() {\n                @Override\n                public void onAnimationStart(Animation animation) {\n\n                }\n\n                @Override\n                public void onAnimationEnd(Animation animation) {\n                    holder.linearLayout.setVisibility(View.GONE);\n                }\n\n                @Override\n                public void onAnimationRepeat(Animation animation) {\n\n                }\n            });\n\n            holder.linearLayout.startAnimation(animation);\n            holder.isOpen = false;\n</code></pre>\n"},{"tags":["java","android","random"],"comments":[{"owner":{"account_id":19360364,"reputation":476,"user_id":14155735,"display_name":"Isaac Lee"},"score":0,"creation_date":1644844010,"post_id":71112355,"comment_id":125705475,"body_markdown":"Do you want to get random numbers among those numbers that you wrote in the question?","body":"Do you want to get random numbers among those numbers that you wrote in the question?"},{"owner":{"account_id":24163713,"reputation":7,"user_id":18126891,"display_name":"Pratiksha Deogade"},"score":0,"creation_date":1644844147,"post_id":71112355,"comment_id":125705517,"body_markdown":"Yes i want random numbers from this number only","body":"Yes i want random numbers from this number only"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1644844394,"post_id":71112355,"comment_id":125705613,"body_markdown":"Create a `List&lt;Integer&gt;` which contains the numbers, and shuffle.  `next()` returns the next element of that list by keeping track of the current index.  When the index reaches the size of the list, then reset the index to 0, and shuffle the list again.","body":"Create a <code>List&lt;Integer&gt;</code> which contains the numbers, and shuffle.  <code>next()</code> returns the next element of that list by keeping track of the current index.  When the index reaches the size of the list, then reset the index to 0, and shuffle the list again."}],"answers":[{"tags":[],"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644845034,"creation_date":1644844505,"answer_id":71112515,"question_id":71112355,"body_markdown":"You can store all those numbers in an array, and use the random function you already have to select a number in that array. This should work:\r\n```\r\nint[] array = new int[]{128, 137, 146, 236, 245, 290, 380, 470, 489, 560, 678, 579};\r\nfinal int min = 0;\r\nfinal int max = array.length - 1;\r\nfinal int random = new Random().nextInt((max - min) + 1) + min;\r\nint randomIntInArray = array[random];\r\n```\r\n\r\nShorter version:\r\n```\r\nint[] array = new int[]{128, 137, 146, 236, 245, 290, 380, 470, 489, 560, 678, 579};\r\nfinal int random = new Random().nextInt(array.length);\r\nint randomIntInArray = array[random];\r\n```\r\nNote that `Random` shouldn&#39;t be used for anything critical as it isn&#39;t cryptographically secure. You may use `SecureRandom` for more unpredictable results. See [docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html","title":"Random numbers generator using unique/specific number in android studio","body":"<p>You can store all those numbers in an array, and use the random function you already have to select a number in that array. This should work:</p>\n<pre><code>int[] array = new int[]{128, 137, 146, 236, 245, 290, 380, 470, 489, 560, 678, 579};\nfinal int min = 0;\nfinal int max = array.length - 1;\nfinal int random = new Random().nextInt((max - min) + 1) + min;\nint randomIntInArray = array[random];\n</code></pre>\n<p>Shorter version:</p>\n<pre><code>int[] array = new int[]{128, 137, 146, 236, 245, 290, 380, 470, 489, 560, 678, 579};\nfinal int random = new Random().nextInt(array.length);\nint randomIntInArray = array[random];\n</code></pre>\n<p>Note that <code>Random</code> shouldn't be used for anything critical as it isn't cryptographically secure. You may use <code>SecureRandom</code> for more unpredictable results. See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":24163713,"reputation":7,"user_id":18126891,"display_name":"Pratiksha Deogade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644845034,"creation_date":1644843825,"question_id":71112355,"body_markdown":"I am able to create random numbers from 1-10 which are in a range using (max-min)+min formula.\r\n\r\nThis is the code which is used to make random numbers between 1-10.\r\n\r\n``` button_random_number.setOnClickListener ( new View.OnClickListener ( ) {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random random = new Random (  );\r\n                int val = random.nextInt (11-1)+1;\r\n                textview_random_number.setText ( Integer.toString ( val ) );\r\n ```\r\nAnd this is for the 10-99\r\n\r\n``` button_two_digits.setOnClickListener ( new View.OnClickListener ( ) {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random random_two_digits = new Random (  );\r\n                int val_two_digits = random_two_digits.nextInt (100-10)+10;\r\n                textView_two_digits.setText ( Integer.toString ( val_two_digits ) );\r\n ```\r\n\r\nBut i want to generate random numbers with specific number or unique number.\r\n\r\n\r\n\r\nBelow are the specific numbers.\r\n\r\n128\r\n 137\r\n 146\r\n 236\r\n 245\r\n 290\r\n 380\r\n 470\r\n 489\r\n 560\r\n 678\r\n 579\r\n\r\n129\r\n 138\r\n 147\r\n 156\r\n 237\r\n 246\r\n 345\r\n 390\r\n 480\r\n 570\r\n 679\r\n 589\r\n\r\n120\r\n 139\r\n 148\r\n 157\r\n 238\r\n 247\r\n 256\r\n 346\r\n 490\r\n 580\r\n 670\r\n 689\r\n\r\n130\r\n 149\r\n 158\r\n 167\r\n 239\r\n 248\r\n 257\r\n 347\r\n 356\r\n 590\r\n 680\r\n 789\r\n\r\n140\r\n 159\r\n 168\r\n 230\r\n 249\r\n 258\r\n 267\r\n 348\r\n 357\r\n 456\r\n 690\r\n 780\r\n\r\n123\r\n 150\r\n 169\r\n 178\r\n 240\r\n 259\r\n 268\r\n 349\r\n 358\r\n 457\r\n 367\r\n 790\r\n\r\n124\r\n 160\r\n 179\r\n 250\r\n 269\r\n 278\r\n 340\r\n 359\r\n 368\r\n 458\r\n 467\r\n 890\r\n\r\n125\r\n 134\r\n 170\r\n 189\r\n 260\r\n 279\r\n 350\r\n 369\r\n 378\r\n 459\r\n 567\r\n 468\r\n\r\n126\r\n 135\r\n 180\r\n 234\r\n 270\r\n 289\r\n 360\r\n 379\r\n 450\r\n 469\r\n 478\r\n 568\r\n\r\n127\r\n 136\r\n 145\r\n 190\r\n 235\r\n 280\r\n 370\r\n 479\r\n 460\r\n 569\r\n 389\r\n 578\r\n--\r\n\r\n\r\n100\r\n 119\r\n 155\r\n 227\r\n 335\r\n 344\r\n 399\r\n 588\r\n 669\r\n\r\n200\r\n 110\r\n 228\r\n 255\r\n 336\r\n 499\r\n 660\r\n 688\r\n 778\r\n\r\n300\r\n 166\r\n 229\r\n 337\r\n 355\r\n 445\r\n 599\r\n 779\r\n 788\r\n\r\n400\r\n 112\r\n 220\r\n 266\r\n 338\r\n 446\r\n 455\r\n 699\r\n 770\r\n\r\n500\r\n 113\r\n 122\r\n 177\r\n 339\r\n 366\r\n 447\r\n 799\r\n 889\r\n\r\n600\r\n 114\r\n 277\r\n 330\r\n 448\r\n 466\r\n 556\r\n 880\r\n 899\r\n\r\n700\r\n 115\r\n 133\r\n 188\r\n 223\r\n 377\r\n\r\n","title":"Random numbers generator using unique/specific number in android studio","body":"<p>I am able to create random numbers from 1-10 which are in a range using (max-min)+min formula.</p>\n<p>This is the code which is used to make random numbers between 1-10.</p>\n<pre><code>            @Override\n            public void onClick(View view) {\n                Random random = new Random (  );\n                int val = random.nextInt (11-1)+1;\n                textview_random_number.setText ( Integer.toString ( val ) );\n</code></pre>\n<p>And this is for the 10-99</p>\n<pre><code>            @Override\n            public void onClick(View view) {\n                Random random_two_digits = new Random (  );\n                int val_two_digits = random_two_digits.nextInt (100-10)+10;\n                textView_two_digits.setText ( Integer.toString ( val_two_digits ) );\n</code></pre>\n<p>But i want to generate random numbers with specific number or unique number.</p>\n<p>Below are the specific numbers.</p>\n<p>128\n137\n146\n236\n245\n290\n380\n470\n489\n560\n678\n579</p>\n<p>129\n138\n147\n156\n237\n246\n345\n390\n480\n570\n679\n589</p>\n<p>120\n139\n148\n157\n238\n247\n256\n346\n490\n580\n670\n689</p>\n<p>130\n149\n158\n167\n239\n248\n257\n347\n356\n590\n680\n789</p>\n<p>140\n159\n168\n230\n249\n258\n267\n348\n357\n456\n690\n780</p>\n<p>123\n150\n169\n178\n240\n259\n268\n349\n358\n457\n367\n790</p>\n<p>124\n160\n179\n250\n269\n278\n340\n359\n368\n458\n467\n890</p>\n<p>125\n134\n170\n189\n260\n279\n350\n369\n378\n459\n567\n468</p>\n<p>126\n135\n180\n234\n270\n289\n360\n379\n450\n469\n478\n568</p>\n<h2>127\n136\n145\n190\n235\n280\n370\n479\n460\n569\n389\n578</h2>\n<p>100\n119\n155\n227\n335\n344\n399\n588\n669</p>\n<p>200\n110\n228\n255\n336\n499\n660\n688\n778</p>\n<p>300\n166\n229\n337\n355\n445\n599\n779\n788</p>\n<p>400\n112\n220\n266\n338\n446\n455\n699\n770</p>\n<p>500\n113\n122\n177\n339\n366\n447\n799\n889</p>\n<p>600\n114\n277\n330\n448\n466\n556\n880\n899</p>\n<p>700\n115\n133\n188\n223\n377</p>\n"},{"tags":["java","kubernetes","argo-workflows"],"comments":[{"owner":{"account_id":349463,"reputation":7729,"user_id":684776,"accept_rate":87,"display_name":"crenshaw-dev"},"score":0,"creation_date":1642706532,"post_id":70786262,"comment_id":125149860,"body_markdown":"Can you curl the API from the machine where you&#39;re running this Java code?","body":"Can you curl the API from the machine where you&#39;re running this Java code?"},{"owner":{"account_id":23998749,"reputation":11,"user_id":17983950,"display_name":"xerkz"},"score":0,"creation_date":1642942237,"post_id":70786262,"comment_id":125202603,"body_markdown":"no I cant &quot;curl: (77) schannel: next InitializeSecurityContext failed: SEC_E_UNTRUSTED_ROOT (0x80090325) - The certificate chain was issued by an authority that is not trusted.&quot;, postman is working","body":"no I cant &quot;curl: (77) schannel: next InitializeSecurityContext failed: SEC_E_UNTRUSTED_ROOT (0x80090325) - The certificate chain was issued by an authority that is not trusted.&quot;, postman is working"},{"owner":{"account_id":23998749,"reputation":11,"user_id":17983950,"display_name":"xerkz"},"score":0,"creation_date":1642945675,"post_id":70786262,"comment_id":125203394,"body_markdown":"sorry, forgot -k key. curl is working","body":"sorry, forgot -k key. curl is working"},{"owner":{"account_id":23998749,"reputation":11,"user_id":17983950,"display_name":"xerkz"},"score":0,"creation_date":1643021008,"post_id":70786262,"comment_id":125220447,"body_markdown":"1) I used https instead of http\n2) I disabled ssl with &quot;defaultClient.setVerifyingSsl(false)&quot;\nafter that java client seems to connect to argo","body":"1) I used https instead of http 2) I disabled ssl with &quot;defaultClient.setVerifyingSsl(false)&quot; after that java client seems to connect to argo"}],"answers":[{"tags":[],"owner":{"account_id":23998749,"reputation":11,"user_id":17983950,"display_name":"xerkz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643037099,"creation_date":1643037099,"answer_id":70836048,"question_id":70786262,"body_markdown":"\r\n\r\n    import io.argoproj.workflow.ApiClient;\r\n    import io.argoproj.workflow.ApiException;\r\n    import io.argoproj.workflow.Configuration;\r\n    import io.argoproj.workflow.models.*;\r\n    import io.argoproj.workflow.apis.WorkflowServiceApi;\r\n    import io.kubernetes.client.openapi.models.V1Container;\r\n    import io.kubernetes.client.openapi.models.V1ObjectMeta;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class Argo {\r\n        public static void main(String[] args) {\r\n            ApiClient defaultClient = Configuration.getDefaultApiClient();\r\n            defaultClient.setVerifyingSsl(false);\r\n            String url = &quot;https://xxx.xxx.xxx.xxx:2746&quot;;\r\n            defaultClient.setBasePath(url);\r\n    \r\n            WorkflowServiceApi apiInstance = new WorkflowServiceApi(defaultClient);\r\n            String namespace = &quot;argo&quot;; // String |\r\n            WorkflowCreateRequest body = new WorkflowCreateRequest();// WorkflowCreateRequest |\r\n    \r\n            CreateOptions options = new CreateOptions();\r\n    \r\n            Workflow workflow = new Workflow();\r\n            workflow.setApiVersion(&quot;argoproj.io/v1alpha1&quot;);\r\n    \r\n            V1ObjectMeta meta = new V1ObjectMeta();\r\n            meta.setNamespace(&quot;argo&quot;);\r\n            meta.setName(&quot;hello-java-client&quot;);\r\n    \r\n            WorkflowSpec spec = new WorkflowSpec();\r\n    \r\n            spec.setEntrypoint(&quot;argosay&quot;);\r\n            Template template = new Template();\r\n            template.setName(&quot;argosay&quot;);\r\n            V1Container v1Container = new V1Container();\r\n            v1Container.setName(&quot;pod&quot;);\r\n            v1Container.setImage(&quot;docker/whalesay:latest&quot;);\r\n            v1Container.setCommand(List.of(&quot;cowsay&quot;));\r\n            v1Container.setArgs(List.of(&quot;test java client&quot;));\r\n            template.setContainer(v1Container);\r\n            spec.setTemplates(List.of(template));\r\n    \r\n            workflow.setMetadata(meta);\r\n            workflow.setSpec(spec);\r\n    \r\n            body.setNamespace(&quot;argo&quot;);\r\n            body.setServerDryRun(false);\r\n            body.setWorkflow(workflow);\r\n    \r\n            try {\r\n                Workflow result = apiInstance.workflowServiceCreateWorkflow(namespace, body);\r\n                System.out.println(result);\r\n            } catch (ApiException e) {\r\n                System.err.println(&quot;Exception when calling WorkflowServiceApi#workflowServiceCreateWorkflow&quot;);\r\n                System.err.println(&quot;Status code: &quot; + e.getCode());\r\n                System.err.println(&quot;Reason: &quot; + e.getResponseBody());\r\n                System.err.println(&quot;Response headers: &quot; + e.getResponseHeaders());\r\n                e.printStackTrace();\r\n            }\r\n\r\n","title":"How to connect to Argo workflows using java client","body":"<pre><code>import io.argoproj.workflow.ApiClient;\nimport io.argoproj.workflow.ApiException;\nimport io.argoproj.workflow.Configuration;\nimport io.argoproj.workflow.models.*;\nimport io.argoproj.workflow.apis.WorkflowServiceApi;\nimport io.kubernetes.client.openapi.models.V1Container;\nimport io.kubernetes.client.openapi.models.V1ObjectMeta;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class Argo {\n    public static void main(String[] args) {\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\n        defaultClient.setVerifyingSsl(false);\n        String url = &quot;https://xxx.xxx.xxx.xxx:2746&quot;;\n        defaultClient.setBasePath(url);\n\n        WorkflowServiceApi apiInstance = new WorkflowServiceApi(defaultClient);\n        String namespace = &quot;argo&quot;; // String |\n        WorkflowCreateRequest body = new WorkflowCreateRequest();// WorkflowCreateRequest |\n\n        CreateOptions options = new CreateOptions();\n\n        Workflow workflow = new Workflow();\n        workflow.setApiVersion(&quot;argoproj.io/v1alpha1&quot;);\n\n        V1ObjectMeta meta = new V1ObjectMeta();\n        meta.setNamespace(&quot;argo&quot;);\n        meta.setName(&quot;hello-java-client&quot;);\n\n        WorkflowSpec spec = new WorkflowSpec();\n\n        spec.setEntrypoint(&quot;argosay&quot;);\n        Template template = new Template();\n        template.setName(&quot;argosay&quot;);\n        V1Container v1Container = new V1Container();\n        v1Container.setName(&quot;pod&quot;);\n        v1Container.setImage(&quot;docker/whalesay:latest&quot;);\n        v1Container.setCommand(List.of(&quot;cowsay&quot;));\n        v1Container.setArgs(List.of(&quot;test java client&quot;));\n        template.setContainer(v1Container);\n        spec.setTemplates(List.of(template));\n\n        workflow.setMetadata(meta);\n        workflow.setSpec(spec);\n\n        body.setNamespace(&quot;argo&quot;);\n        body.setServerDryRun(false);\n        body.setWorkflow(workflow);\n\n        try {\n            Workflow result = apiInstance.workflowServiceCreateWorkflow(namespace, body);\n            System.out.println(result);\n        } catch (ApiException e) {\n            System.err.println(&quot;Exception when calling WorkflowServiceApi#workflowServiceCreateWorkflow&quot;);\n            System.err.println(&quot;Status code: &quot; + e.getCode());\n            System.err.println(&quot;Reason: &quot; + e.getResponseBody());\n            System.err.println(&quot;Response headers: &quot; + e.getResponseHeaders());\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063687,"reputation":1,"user_id":2595855,"display_name":"user2595855"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644844669,"creation_date":1644844669,"answer_id":71112547,"question_id":70786262,"body_markdown":"Try some meaningful value of fields\r\n``` lang-java\r\nString fields = &quot;items.spec,items.status.phase&quot;;\r\n```\r\n\r\n","title":"How to connect to Argo workflows using java client","body":"<p>Try some meaningful value of fields</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fields = &quot;items.spec,items.status.phase&quot;;\n</code></pre>\n"}],"owner":{"account_id":23998749,"reputation":11,"user_id":17983950,"display_name":"xerkz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644844669,"creation_date":1642681758,"question_id":70786262,"body_markdown":"I am trying to implement a simple action from the argo workflows example (https://github.com/argoproj/argo-workflows/blob/master/sdks/java/client/docs/WorkflowServiceApi.md), I can do it with the API, but I need to do it from a Java application. The Java SDK doesn&#39;t even seem to connect to the Argo API. But the UI is working.\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ApiClient defaultClient = Configuration.getDefaultApiClient();\r\n            String url = &quot;http://xxx.xxx.xxx.xxx:2746&quot;;\r\n            defaultClient.setBasePath(url);\r\n    \r\n            WorkflowServiceApi apiInstance = new WorkflowServiceApi(defaultClient);\r\n            String namespace = &quot;argo&quot;; // String |\r\n            String name = &quot;hello-argo&quot;; // String |\r\n            String getOptionsResourceVersion = &quot;argoproj.io/v1alpha1&quot;; // String | resourceVersion sets a constraint on what resource versions a request may be served from. See https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for details.  Defaults to unset +optional\r\n            String fields = &quot;&quot;; // String | Fields to be included or excluded in the response. e.g. \\&quot;spec,status.phase\\&quot;, \\&quot;-status.nodes\\&quot;.\r\n            try {\r\n                IoArgoprojWorkflowV1alpha1Workflow result = apiInstance.workflowServiceGetWorkflow(namespace, name, getOptionsResourceVersion, fields);\r\n                System.out.println(result);\r\n            } catch (ApiException e) {\r\n                System.err.println(&quot;Exception when calling WorkflowServiceApi#workflowServiceGetWorkflow&quot;);\r\n                System.err.println(&quot;Status code: &quot; + e.getCode());\r\n                System.err.println(&quot;Reason: &quot; + e.getResponseBody());\r\n                System.err.println(&quot;Response headers: &quot; + e.getResponseHeaders());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n\r\nHere is the error:\r\n    \r\n    \r\n    Exception when calling WorkflowServiceApi#workflowServiceGetWorkflow\r\n    Status code: 0\r\n    Reason: null\r\n    Response headers: null\r\n    io.argoproj.workflow.ApiException: java.io.IOException: unexpected end of stream on http://xxx.xxx.xxx.xxx:2746/...\r\n    \tat io.argoproj.workflow.ApiClient.execute(ApiClient.java:930)\r\n    \tat io.argoproj.workflow.apis.WorkflowServiceApi.workflowServiceGetWorkflowWithHttpInfo(WorkflowServiceApi.java:486)\r\n    \tat io.argoproj.workflow.apis.WorkflowServiceApi.workflowServiceGetWorkflow(WorkflowServiceApi.java:463)\r\n    \tat Argo.main(Argo.java:20)\r\n    Caused by: java.io.IOException: unexpected end of stream on http://xxx.xxx.xxx.xxx:2746/...\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:202)\r\n    \tat okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:106)\r\n    \tat okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:79)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat io.argoproj.workflow.ApiClient$2.intercept(ApiClient.java:1267)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n    \tat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n    \tat okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\r\n    \tat io.argoproj.workflow.ApiClient.execute(ApiClient.java:926)\r\n    \t... 3 more\r\n    Caused by: java.io.EOFException: \\n not found: limit=0 content=…\r\n    \tat okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:332)\r\n    \tat okhttp3.internal.http1.HeadersReader.readLine(HeadersReader.kt:29)`enter code here`\r\n    \tat okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:178)\r\n    \t... 19 more\r\n\r\n","title":"How to connect to Argo workflows using java client","body":"<p>I am trying to implement a simple action from the argo workflows example (<a href=\"https://github.com/argoproj/argo-workflows/blob/master/sdks/java/client/docs/WorkflowServiceApi.md\" rel=\"nofollow noreferrer\">https://github.com/argoproj/argo-workflows/blob/master/sdks/java/client/docs/WorkflowServiceApi.md</a>), I can do it with the API, but I need to do it from a Java application. The Java SDK doesn't even seem to connect to the Argo API. But the UI is working.</p>\n<pre><code>    public static void main(String[] args) {\n\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\n        String url = &quot;http://xxx.xxx.xxx.xxx:2746&quot;;\n        defaultClient.setBasePath(url);\n\n        WorkflowServiceApi apiInstance = new WorkflowServiceApi(defaultClient);\n        String namespace = &quot;argo&quot;; // String |\n        String name = &quot;hello-argo&quot;; // String |\n        String getOptionsResourceVersion = &quot;argoproj.io/v1alpha1&quot;; // String | resourceVersion sets a constraint on what resource versions a request may be served from. See https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions for details.  Defaults to unset +optional\n        String fields = &quot;&quot;; // String | Fields to be included or excluded in the response. e.g. \\&quot;spec,status.phase\\&quot;, \\&quot;-status.nodes\\&quot;.\n        try {\n            IoArgoprojWorkflowV1alpha1Workflow result = apiInstance.workflowServiceGetWorkflow(namespace, name, getOptionsResourceVersion, fields);\n            System.out.println(result);\n        } catch (ApiException e) {\n            System.err.println(&quot;Exception when calling WorkflowServiceApi#workflowServiceGetWorkflow&quot;);\n            System.err.println(&quot;Status code: &quot; + e.getCode());\n            System.err.println(&quot;Reason: &quot; + e.getResponseBody());\n            System.err.println(&quot;Response headers: &quot; + e.getResponseHeaders());\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Here is the error:</p>\n<pre><code>Exception when calling WorkflowServiceApi#workflowServiceGetWorkflow\nStatus code: 0\nReason: null\nResponse headers: null\nio.argoproj.workflow.ApiException: java.io.IOException: unexpected end of stream on http://xxx.xxx.xxx.xxx:2746/...\n    at io.argoproj.workflow.ApiClient.execute(ApiClient.java:930)\n    at io.argoproj.workflow.apis.WorkflowServiceApi.workflowServiceGetWorkflowWithHttpInfo(WorkflowServiceApi.java:486)\n    at io.argoproj.workflow.apis.WorkflowServiceApi.workflowServiceGetWorkflow(WorkflowServiceApi.java:463)\n    at Argo.main(Argo.java:20)\nCaused by: java.io.IOException: unexpected end of stream on http://xxx.xxx.xxx.xxx:2746/...\n    at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:202)\n    at okhttp3.internal.connection.Exchange.readResponseHeaders(Exchange.kt:106)\n    at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.kt:79)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at io.argoproj.workflow.ApiClient$2.intercept(ApiClient.java:1267)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:34)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n    at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\n    at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\n    at io.argoproj.workflow.ApiClient.execute(ApiClient.java:926)\n    ... 3 more\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\n    at okio.RealBufferedSource.readUtf8LineStrict(RealBufferedSource.kt:332)\n    at okhttp3.internal.http1.HeadersReader.readLine(HeadersReader.kt:29)`enter code here`\n    at okhttp3.internal.http1.Http1ExchangeCodec.readResponseHeaders(Http1ExchangeCodec.kt:178)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1627303802,"creation_date":1627303802,"answer_id":68530180,"question_id":68530093,"body_markdown":"onClick is kind of discouraged.  You can use it, but it sets up some hard to follow magic in the code, and ties a particular layout to an activity implicitly.  The preferred way to do it is the two they mentioned-  either set an onClickListener in the code, or use databinding if you&#39;re using that technique throughout your codebase.  There&#39;s also no way to compile time check that its actually wired up correctly.  The only reason onclick in xml hasn&#39;t been removed is because databinding uses it, and to not break older apps.\r\n\r\nSo it&#39;ll work, but you probably just shouldn&#39;t use it unless using databinding and specifying the behavior in xml.","title":"android:onClick warning: &quot;Use databinding or explicit wiring of click listener in code&quot;","body":"<p>onClick is kind of discouraged.  You can use it, but it sets up some hard to follow magic in the code, and ties a particular layout to an activity implicitly.  The preferred way to do it is the two they mentioned-  either set an onClickListener in the code, or use databinding if you're using that technique throughout your codebase.  There's also no way to compile time check that its actually wired up correctly.  The only reason onclick in xml hasn't been removed is because databinding uses it, and to not break older apps.</p>\n<p>So it'll work, but you probably just shouldn't use it unless using databinding and specifying the behavior in xml.</p>\n"},{"tags":[],"owner":{"account_id":2396404,"reputation":156,"user_id":2095118,"display_name":"MiroO"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1644844556,"creation_date":1644844556,"answer_id":71112525,"question_id":68530093,"body_markdown":"It is [deprecated][1] since Android API 31. \r\n\r\n&gt; This constant was deprecated in API level 31.\r\nView actually traverses the Context hierarchy looking for the relevant method, which is fragile (an intermediate ContextWrapper adding a same-named method would change behavior) and restricts bytecode optimizers such as R8. Instead, use View.setOnClickListener.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/R.attr#onClick","title":"android:onClick warning: &quot;Use databinding or explicit wiring of click listener in code&quot;","body":"<p>It is <a href=\"https://developer.android.com/reference/android/R.attr#onClick\" rel=\"noreferrer\">deprecated</a> since Android API 31.</p>\n<blockquote>\n<p>This constant was deprecated in API level 31.\nView actually traverses the Context hierarchy looking for the relevant method, which is fragile (an intermediate ContextWrapper adding a same-named method would change behavior) and restricts bytecode optimizers such as R8. Instead, use View.setOnClickListener.</p>\n</blockquote>\n"}],"owner":{"display_name":"user15603244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11029,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1644844556,"creation_date":1627303503,"question_id":68530093,"body_markdown":"Hello this is my first time using onClick in an xml instead of in code. This is the layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/reset&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\r\n            android:contentDescription=&quot;@string/reset&quot;\r\n            android:scaleType=&quot;fitCenter&quot;\r\n            android:scaleX=&quot;-1&quot;\r\n            android:onClick=&quot;reset&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/resetIcon&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd in the code:\r\n\r\n    public class SettingsActivity extends AppCompatActivity {\r\n    \r\n        public void reset(View view) {\r\n            //Do things\r\n        }\r\n    \r\n    }\r\n\r\nAs the title says, `android:onClick` gives the warning \r\n\r\n&gt; Use databinding or explicit wiring of click listener in code\r\n\r\nGoogling this statement gives no results.","title":"android:onClick warning: &quot;Use databinding or explicit wiring of click listener in code&quot;","body":"<p>Hello this is my first time using onClick in an xml instead of in code. This is the layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/reset&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:background=&quot;?attr/selectableItemBackgroundBorderless&quot;\n        android:contentDescription=&quot;@string/reset&quot;\n        android:scaleType=&quot;fitCenter&quot;\n        android:scaleX=&quot;-1&quot;\n        android:onClick=&quot;reset&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/resetIcon&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And in the code:</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity {\n\n    public void reset(View view) {\n        //Do things\n    }\n\n}\n</code></pre>\n<p>As the title says, <code>android:onClick</code> gives the warning</p>\n<blockquote>\n<p>Use databinding or explicit wiring of click listener in code</p>\n</blockquote>\n<p>Googling this statement gives no results.</p>\n"},{"tags":["java","object","oop","othello"],"comments":[{"owner":{"account_id":10472421,"reputation":61,"user_id":7719903,"display_name":"Barefooter"},"score":0,"creation_date":1644846371,"post_id":71112514,"comment_id":125706350,"body_markdown":"Looks like you&#39;re creating a new ArrayList `Children` every time with the same board type variable `child` inside the method `addChild`. \nThe first argument in the `addChild` method is always `Main.grid`. Maybe you can re-check on this logic.","body":"Looks like you&#39;re creating a new ArrayList <code>Children</code> every time with the same board type variable <code>child</code> inside the method <code>addChild</code>.  The first argument in the <code>addChild</code> method is always <code>Main.grid</code>. Maybe you can re-check on this logic."},{"owner":{"account_id":22420035,"reputation":11,"user_id":16627477,"display_name":"Stuart Groom"},"score":0,"creation_date":1644859337,"post_id":71112514,"comment_id":125711670,"body_markdown":"I&#39;m just trying to get it working for 1 move ahead currently, then I&#39;ll try to do the recursion to create the full game tree to a given depth. When I remove the declaration of the new ArrayList `Children` (within the addChild method), I get this error: **&quot;Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;com.company.othello.board.children&quot; is null&quot;**","body":"I&#39;m just trying to get it working for 1 move ahead currently, then I&#39;ll try to do the recursion to create the full game tree to a given depth. When I remove the declaration of the new ArrayList <code>Children</code> (within the addChild method), I get this error: <b>&quot;Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;com.company.othello.board.children&quot; is null&quot;</b>"},{"owner":{"account_id":22420035,"reputation":11,"user_id":16627477,"display_name":"Stuart Groom"},"score":0,"creation_date":1645102030,"post_id":71112514,"comment_id":125784699,"body_markdown":"I&#39;ve seen something about doing &quot;board child = parentBoard&quot; creating a hard copy. The pointers of the child point to the same values as the parent, so if either has values changed it applies to the other. I&#39;ve found the clone method which can be used to create a soft copy which won&#39;t have this issue.","body":"I&#39;ve seen something about doing &quot;board child = parentBoard&quot; creating a hard copy. The pointers of the child point to the same values as the parent, so if either has values changed it applies to the other. I&#39;ve found the clone method which can be used to create a soft copy which won&#39;t have this issue."}],"owner":{"account_id":22420035,"reputation":11,"user_id":16627477,"display_name":"Stuart Groom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644844503,"creation_date":1644844503,"question_id":71112514,"body_markdown":"I&#39;m trying to make an Othello AI, currently trying to implement MiniMax. I&#39;ve created a board object, from the current board I want to create a list of all &quot;child&quot; boards, these are copies of the current board but with each having one legal move applied to them. I&#39;m having an issue creating multiple &quot;child&quot; boards, so far my code is applying all of the legal moves to just one board and only having that single board in the children board list. Any help would be much appreciated. \r\n\r\nminimax method in the MiniMax class\r\n\r\n```\r\n       public static void minimax(){\r\n    \r\n \r\n   \r\n            ArrayList&lt;int[]&gt; legalMoves;\r\n            legalMoves = gameHandler.potentialMovesList();\r\n            int min = -1000;\r\n            int max = 1000;\r\n    \r\n            //-----legal moves list-----\r\n            char disc;\r\n            if (Main.blackTurn = true){\r\n                disc = &#39;b&#39;;\r\n            }\r\n            else {\r\n                disc = &#39;w&#39;;\r\n            }\r\n    \r\n            int count = 0;\r\n            \r\n            for (int[] i : legalMoves) {\r\n                System.out.println(i[0] + &quot; &quot; + i[1]);\r\n    \r\n                ArrayList&lt;board&gt; children = board.addChild(Main.grid, i, disc, count);\r\n                count++;\r\n            }\r\n            //-------------------------\r\n    \r\n    \r\n    //        ----------children list-----------;\r\n    ////        for (int x = 0; x &lt; board.getChildren().size(); x++){\r\n    ////            System.out.println(board.getChildren().get(x));\r\n    ////        }\r\n    //        -------------------------\r\n    \r\n            //-----------list scores----------\r\n            int maxIndex = 0;\r\n            int maxBoardVal = 0;\r\n    \r\n            for (int i =0; i &lt; board.getChildren().size() ; i++){\r\n    \r\n                if (board.getChildren().get(i).getBoardVal() &gt; maxBoardVal){\r\n                    maxBoardVal = board.getChildren().get(i).getBoardVal();\r\n                    maxIndex = i;\r\n                }\r\n                System.out.println(board.getChildren().get(i).getBoardVal()); //children only has 1 item in currently\r\n            }\r\n            //-------------------------\r\n    \r\n            int[] coord = legalMoves.get(maxIndex);\r\n            int x = coord[0];\r\n            int y = coord[1];\r\n    \r\n    \r\n            Main.blackTurn = false; //set it to be white turn\r\n    \r\n            System.out.println(&quot;minimax move select&quot;);\r\n            System.out.println(x);\r\n            System.out.println(y);\r\n            System.out.println(&quot;------&quot;);\r\n            Main.grid.setMove(new int[]{x, y}, &#39;w&#39;);    //need to change this from &#39;w&#39; hardcoded to whichever AIs turn it is (both could be ai)\r\n    \r\n            System.out.println(&quot;pick: &quot; + x + &quot; &quot; + y);\r\n    \r\n            gameHandler.flipDiscs(&#39;w&#39;,&#39;b&#39;,x,y, Main.grid.getBoard());\r\n    \r\n            Main.blackTurn = !Main.blackTurn; //swap back to black (player) turn\r\n    \r\n            //(this is only for one depth), for multiple depth we need to then make a list of all moves\r\n            //from each next ply (after accouting for every move that the opposite colour could make)\r\n        }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npublic class board {\r\n\r\n    private static char disc;\r\n    private static char[][] gameboard;\r\n    private static boolean blackTurn;\r\n    private static ArrayList&lt;board&gt; children;\r\n    private static int boardEval;\r\n\r\n    //private static board[] children;\r\n    //depth 0 = Main.grid\r\n    //depth 1 = Main.grid with a move made\r\n\r\n    //initializer to make first empty board\r\n    public board() {\r\n        gameboard = new char[8][8];\r\n        for (int i = 0; i &lt; 8; i++){\r\n            for (int j = 0; j &lt; 8; j++){\r\n                gameboard[i][j] = &#39; &#39;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void setGameboard(char[][] gameboard) {\r\n        board.gameboard = gameboard;\r\n    }\r\n\r\n    public static void setChildren(ArrayList&lt;board&gt; children) {\r\n        board.children = children;\r\n    }\r\n\r\n    public static ArrayList&lt;board&gt; getChildren(){\r\n        return children;\r\n    }\r\n\r\n    public char[][] getBoard(){\r\n        return gameboard;\r\n    }\r\n\r\n    public boolean getTurn(){\r\n        return blackTurn;\r\n    }\r\n\r\n    public static char getTile(int[] yo) {\r\n        char value = gameboard[yo[0]][yo[1]];\r\n        return value;\r\n    }\r\n\r\n    public static void setMove(int[] coord, char discColour){\r\n        gameboard[coord[0]][coord[1]] = discColour;\r\n    }\r\n\r\n    public static void printBoard(board grid){\r\n       //prints the logical grid in command line\r\n            for (int i =0; i&lt; 8; i++){\r\n                for (int z =0; z&lt; 8; z++){\r\n                    System.out.print(grid.getBoard()[z][i]);\r\n                    System.out.print(&quot;|&quot;);\r\n                }\r\n                System.out.println();\r\n                for (int q =0; q&lt; 16; q++) {\r\n                    System.out.print(&quot;-&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            System.out.println(&quot;end of grid&quot;);\r\n    }\r\n\r\n    public static void initialBoard(board grid){\r\n        for (int i = 0; i &lt; 8; i++){\r\n            for (int j = 0; j &lt; 8; j++){\r\n                int[] yo = {i, j};\r\n                board.setMove(yo, &#39; &#39;);\r\n            }\r\n        }\r\n\r\n        board.setMove(new int[]{3, 3}, &#39;w&#39;);\r\n        board.setMove(new int[]{4, 3}, &#39;b&#39;);\r\n        board.setMove(new int[]{3, 4}, &#39;b&#39;);\r\n        board.setMove(new int[]{4, 4}, &#39;w&#39;);\r\n    }\r\n\r\n    public static int[] getScore(board board){\r\n        int blackScore = 0;\r\n        int whiteScore = 0;\r\n        for (int i = 0; i &lt;= 7; i++){   //iterate over all tiles on board\r\n            for (int j = 0; j &lt;= 7; j++) {\r\n\r\n                if (board.getTile(new int[]{i, j}) == &#39;b&#39;){\r\n                    blackScore++;\r\n                }\r\n                else if(board.getTile(new int[]{i, j}) == &#39;w&#39;){\r\n                    whiteScore++;\r\n                }\r\n            }\r\n        }\r\n        int score[] = {blackScore, whiteScore};\r\n        return score;\r\n    }\r\n\r\n    public static ArrayList&lt;board&gt; addChild(board board, int[] move, char discColour, int count{\r\n\r\n        board child = board;\r\n        ArrayList&lt;board&gt; children = board.getChildren();\r\n        child.setMove(move, discColour);    //make the move on the child board\r\n        child.setBoardVal(MiniMax.evalFunction(board, Main.blackTurn)); //set value of child\r\n        children.add(child);   //add child to list\r\n        board.setChildren(children);   //set global list to local list\r\n\r\n        return children;\r\n    }\r\n\r\n    public static void setBoardVal(int boardVal){\r\n        boardEval = boardVal;\r\n    }\r\n\r\n    public static int getBoardVal(){\r\n        return boardEval;\r\n    }\r\n\r\n\r\n\r\n","title":"Issues making a list of every legal subsequent board state from the current board","body":"<p>I'm trying to make an Othello AI, currently trying to implement MiniMax. I've created a board object, from the current board I want to create a list of all &quot;child&quot; boards, these are copies of the current board but with each having one legal move applied to them. I'm having an issue creating multiple &quot;child&quot; boards, so far my code is applying all of the legal moves to just one board and only having that single board in the children board list. Any help would be much appreciated.</p>\n<p>minimax method in the MiniMax class</p>\n<pre><code>       public static void minimax(){\n    \n \n   \n            ArrayList&lt;int[]&gt; legalMoves;\n            legalMoves = gameHandler.potentialMovesList();\n            int min = -1000;\n            int max = 1000;\n    \n            //-----legal moves list-----\n            char disc;\n            if (Main.blackTurn = true){\n                disc = 'b';\n            }\n            else {\n                disc = 'w';\n            }\n    \n            int count = 0;\n            \n            for (int[] i : legalMoves) {\n                System.out.println(i[0] + &quot; &quot; + i[1]);\n    \n                ArrayList&lt;board&gt; children = board.addChild(Main.grid, i, disc, count);\n                count++;\n            }\n            //-------------------------\n    \n    \n    //        ----------children list-----------;\n    ////        for (int x = 0; x &lt; board.getChildren().size(); x++){\n    ////            System.out.println(board.getChildren().get(x));\n    ////        }\n    //        -------------------------\n    \n            //-----------list scores----------\n            int maxIndex = 0;\n            int maxBoardVal = 0;\n    \n            for (int i =0; i &lt; board.getChildren().size() ; i++){\n    \n                if (board.getChildren().get(i).getBoardVal() &gt; maxBoardVal){\n                    maxBoardVal = board.getChildren().get(i).getBoardVal();\n                    maxIndex = i;\n                }\n                System.out.println(board.getChildren().get(i).getBoardVal()); //children only has 1 item in currently\n            }\n            //-------------------------\n    \n            int[] coord = legalMoves.get(maxIndex);\n            int x = coord[0];\n            int y = coord[1];\n    \n    \n            Main.blackTurn = false; //set it to be white turn\n    \n            System.out.println(&quot;minimax move select&quot;);\n            System.out.println(x);\n            System.out.println(y);\n            System.out.println(&quot;------&quot;);\n            Main.grid.setMove(new int[]{x, y}, 'w');    //need to change this from 'w' hardcoded to whichever AIs turn it is (both could be ai)\n    \n            System.out.println(&quot;pick: &quot; + x + &quot; &quot; + y);\n    \n            gameHandler.flipDiscs('w','b',x,y, Main.grid.getBoard());\n    \n            Main.blackTurn = !Main.blackTurn; //swap back to black (player) turn\n    \n            //(this is only for one depth), for multiple depth we need to then make a list of all moves\n            //from each next ply (after accouting for every move that the opposite colour could make)\n        }\n</code></pre>\n<p>public class board {</p>\n<pre><code>private static char disc;\nprivate static char[][] gameboard;\nprivate static boolean blackTurn;\nprivate static ArrayList&lt;board&gt; children;\nprivate static int boardEval;\n\n//private static board[] children;\n//depth 0 = Main.grid\n//depth 1 = Main.grid with a move made\n\n//initializer to make first empty board\npublic board() {\n    gameboard = new char[8][8];\n    for (int i = 0; i &lt; 8; i++){\n        for (int j = 0; j &lt; 8; j++){\n            gameboard[i][j] = ' ';\n        }\n    }\n}\n\npublic static void setGameboard(char[][] gameboard) {\n    board.gameboard = gameboard;\n}\n\npublic static void setChildren(ArrayList&lt;board&gt; children) {\n    board.children = children;\n}\n\npublic static ArrayList&lt;board&gt; getChildren(){\n    return children;\n}\n\npublic char[][] getBoard(){\n    return gameboard;\n}\n\npublic boolean getTurn(){\n    return blackTurn;\n}\n\npublic static char getTile(int[] yo) {\n    char value = gameboard[yo[0]][yo[1]];\n    return value;\n}\n\npublic static void setMove(int[] coord, char discColour){\n    gameboard[coord[0]][coord[1]] = discColour;\n}\n\npublic static void printBoard(board grid){\n   //prints the logical grid in command line\n        for (int i =0; i&lt; 8; i++){\n            for (int z =0; z&lt; 8; z++){\n                System.out.print(grid.getBoard()[z][i]);\n                System.out.print(&quot;|&quot;);\n            }\n            System.out.println();\n            for (int q =0; q&lt; 16; q++) {\n                System.out.print(&quot;-&quot;);\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;end of grid&quot;);\n}\n\npublic static void initialBoard(board grid){\n    for (int i = 0; i &lt; 8; i++){\n        for (int j = 0; j &lt; 8; j++){\n            int[] yo = {i, j};\n            board.setMove(yo, ' ');\n        }\n    }\n\n    board.setMove(new int[]{3, 3}, 'w');\n    board.setMove(new int[]{4, 3}, 'b');\n    board.setMove(new int[]{3, 4}, 'b');\n    board.setMove(new int[]{4, 4}, 'w');\n}\n\npublic static int[] getScore(board board){\n    int blackScore = 0;\n    int whiteScore = 0;\n    for (int i = 0; i &lt;= 7; i++){   //iterate over all tiles on board\n        for (int j = 0; j &lt;= 7; j++) {\n\n            if (board.getTile(new int[]{i, j}) == 'b'){\n                blackScore++;\n            }\n            else if(board.getTile(new int[]{i, j}) == 'w'){\n                whiteScore++;\n            }\n        }\n    }\n    int score[] = {blackScore, whiteScore};\n    return score;\n}\n\npublic static ArrayList&lt;board&gt; addChild(board board, int[] move, char discColour, int count{\n\n    board child = board;\n    ArrayList&lt;board&gt; children = board.getChildren();\n    child.setMove(move, discColour);    //make the move on the child board\n    child.setBoardVal(MiniMax.evalFunction(board, Main.blackTurn)); //set value of child\n    children.add(child);   //add child to list\n    board.setChildren(children);   //set global list to local list\n\n    return children;\n}\n\npublic static void setBoardVal(int boardVal){\n    boardEval = boardVal;\n}\n\npublic static int getBoardVal(){\n    return boardEval;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":3,"creation_date":1644843639,"post_id":71112201,"comment_id":125705318,"body_markdown":"You should use something like Flyway /https://flywaydb.org/) or Liquibase (https://liquibase.org/) for that.","body":"You should use something like Flyway /<a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">flywaydb.org</a>) or Liquibase (<a href=\"https://liquibase.org/\" rel=\"nofollow noreferrer\">liquibase.org</a>) for that."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1644845403,"post_id":71112201,"comment_id":125705996,"body_markdown":"Flyway and liquibase is best option for you","body":"Flyway and liquibase is best option for you"}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644844409,"creation_date":1644844409,"answer_id":71112493,"question_id":71112201,"body_markdown":"While the comment is definitely correct, I can imagine you are just starting out and don&#39;t want the additional complexity of configuring db migration tool. \r\n\r\nJust incorporate a basic check logic into your Bootstrap class, like so:\r\n\r\n    @Component\r\n    public class DataGenerator {\r\n       @Autowired\r\n       private YourRepository yourRepository;\r\n    \r\n       @PostConstruct\r\n       public void generate() {\r\n           if(yourRepository.findById(&quot;id&quot;).isEmpty()) { //assuming you are retuning Optional \r\n              //do bootstrapping data\r\n           }\r\n       }\r\n    }","title":"How to use @PostContruct in Spring Boot app to insert data into db juct once, when we are starting the app for the first time?","body":"<p>While the comment is definitely correct, I can imagine you are just starting out and don't want the additional complexity of configuring db migration tool.</p>\n<p>Just incorporate a basic check logic into your Bootstrap class, like so:</p>\n<pre><code>@Component\npublic class DataGenerator {\n   @Autowired\n   private YourRepository yourRepository;\n\n   @PostConstruct\n   public void generate() {\n       if(yourRepository.findById(&quot;id&quot;).isEmpty()) { //assuming you are retuning Optional \n          //do bootstrapping data\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":23306776,"reputation":67,"user_id":17386645,"display_name":"Mike1988B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644844409,"creation_date":1644843128,"question_id":71112201,"body_markdown":"I have Spring Boot app, and I am using service class where I have values for initial loading. \r\nI have method annotated with **@PostContruct** annotation. \r\nMy question is, is it possible to use this annotation only for the first time when we are starting our app, just to insert data once? And every time when we start up our app after that to ignore initial load?\r\n\r\nThanks a lot...","title":"How to use @PostContruct in Spring Boot app to insert data into db juct once, when we are starting the app for the first time?","body":"<p>I have Spring Boot app, and I am using service class where I have values for initial loading.\nI have method annotated with <strong>@PostContruct</strong> annotation.\nMy question is, is it possible to use this annotation only for the first time when we are starting our app, just to insert data once? And every time when we start up our app after that to ignore initial load?</p>\n<p>Thanks a lot...</p>\n"},{"tags":["java","android","kotlin","sockets"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1644599046,"post_id":71083743,"comment_id":125657477,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644601021,"post_id":71083743,"comment_id":125658157,"body_markdown":"`int fileNameLength = dataInputStream.readInt();` Have you checked if this is the same lenght as the client sent? The same for the content lenght.","body":"<code>int fileNameLength = dataInputStream.readInt();</code> Have you checked if this is the same lenght as the client sent? The same for the content lenght."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644601096,"post_id":71083743,"comment_id":125658183,"body_markdown":"If you have a crash then the logcat should tell you which exception you did not catch.","body":"If you have a crash then the logcat should tell you which exception you did not catch."},{"owner":{"account_id":14341736,"reputation":1,"user_id":10359739,"display_name":"Sir Dave"},"score":0,"creation_date":1644607310,"post_id":71083743,"comment_id":125660309,"body_markdown":"@blackapps, yes it is. And that is what is causing the EOF exception. Not exactly a crash, but files are not being transferred if I keep getting that exception in my logcat.","body":"@blackapps, yes it is. And that is what is causing the EOF exception. Not exactly a crash, but files are not being transferred if I keep getting that exception in my logcat."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644607418,"post_id":71083743,"comment_id":125660345,"body_markdown":"DId you answer my first comment?","body":"DId you answer my first comment?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644607496,"post_id":71083743,"comment_id":125660373,"body_markdown":"Please post the relevant lines from the lgcat.","body":"Please post the relevant lines from the lgcat."},{"owner":{"account_id":14341736,"reputation":1,"user_id":10359739,"display_name":"Sir Dave"},"score":0,"creation_date":1644669140,"post_id":71083743,"comment_id":125670902,"body_markdown":"@blackapps, I answered your first comment which is that it is the same length as that sent by the client.","body":"@blackapps, I answered your first comment which is that it is the same length as that sent by the client."},{"owner":{"account_id":14341736,"reputation":1,"user_id":10359739,"display_name":"Sir Dave"},"score":0,"creation_date":1644669263,"post_id":71083743,"comment_id":125670933,"body_markdown":"Also, I&#39;ve added the lines from my logcat. I should however let you know that I get that exception immediately my server and client are connected, even when no files have been transferred yet. Which is the exact bug I haven&#39;t figured why yet.","body":"Also, I&#39;ve added the lines from my logcat. I should however let you know that I get that exception immediately my server and client are connected, even when no files have been transferred yet. Which is the exact bug I haven&#39;t figured why yet."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644669559,"post_id":71083743,"comment_id":125670992,"body_markdown":"`inputStream!!.read(fileContentBytes)` Does it read as much bytes as can be put in that buffer? Dont think so. Try `val nread = inputStream!!.read(fileContentBytes)` and check.","body":"<code>inputStream!!.read(fileContentBytes)</code> Does it read as much bytes as can be put in that buffer? Dont think so. Try <code>val nread = inputStream!!.read(fileContentBytes)</code> and check."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644669635,"post_id":71083743,"comment_id":125671001,"body_markdown":"Pretty strange you still did not react on an answer you got 14 hours ago.","body":"Pretty strange you still did not react on an answer you got 14 hours ago."},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1644682850,"post_id":71083743,"comment_id":125673764,"body_markdown":"@SirDave then you need to [edit] your question to provide a minimal reproducible example showing how you are using these connections.","body":"@SirDave then you need to <a href=\"https://stackoverflow.com/posts/71083743/edit\">edit</a> your question to provide a minimal reproducible example showing how you are using these connections."}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644618654,"creation_date":1644618070,"answer_id":71087142,"question_id":71083743,"body_markdown":"Your client is sending only 1 file (but the function name is plural!). Does it disconnect afterward?\r\n\r\nThe server is looping endlessly to read multiple files (but the function name is singular!).\r\n\r\nIf the client disconnects after sending, it makes perfect sense why the receiving code would then throw an EOF error.\r\n\r\nIf you want to leave the connection open, either:\r\n\r\n- get rid of the reading loop in the server and just read 1 file at a time, to match the client sending 1 file at a time:\r\n\r\n    server:\r\n    ```java\r\n    public void receiveFileFromClient(){\r\n        try {\r\n            String filename;\r\n            byte[] fileContentBytes;\r\n\r\n            int fileNameLength = dataInputStream.readInt();\r\n            if (fileNameLength &gt; 0) {\r\n                byte[] fileNameBytes = new byte[fileNameLength];\r\n                dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\r\n                filename = new String(fileNameBytes, StandardCharset.UTF_8);\r\n            }\r\n\r\n            int fileContentLength = dataInputStream.readInt();\r\n            if (fileContentLength &gt; 0) {\r\n                fileContentBytes = new byte[fileContentLength];\r\n                dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\r\n            }\r\n\r\n            System.out.println(&quot;File name received is &quot; + filename);\r\n            //downloadFile(filename, fileContentBytes);\r\n        }\r\n        catch (IOException exception){\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n    ```\r\n    client:\r\n    ```\r\n    private fun sendFile(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\r\n        try {\r\n            val inputStream = contentResolver.openInputStream(uri)\r\n            //val fileInputStream = FileInputStream(file.absolutePath)\r\n            val fileName = fileInfo.first\r\n            val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\r\n            val fileContentBytes = ByteArray(fileInfo.second.toInt())\r\n            //val num: Int = fileInputStream.read(fileContentBytes)\r\n            inputStream!!.read(fileContentBytes)\r\n            dataOutputStream?.writeInt(fileNameBytes.size)\r\n            dataOutputStream?.write(fileNameBytes)\r\n            dataOutputStream?.writeInt(fileContentBytes.size)\r\n            dataOutputStream?.write(fileContentBytes)\r\n            dataOutputStream?.flush()\r\n        } catch (exception: IOException) {\r\n            exception.printStackTrace()\r\n        }\r\n    }\r\n    ```\r\n\r\n- have the client send an integer first indicating the number of files being sent, before then sending their datas, so the server knows when the stop looping:\r\n\r\n    server:\r\n    ```java\r\n    public void receiveFilesFromClient(){\r\n        try {\r\n            int fileCount = dataInputStream.readInt();\r\n            for (int i = 0; i &lt; fileCount; ++i) {\r\n                String filename;\r\n                byte[] fileContentBytes;\r\n\r\n                int fileNameLength = dataInputStream.readInt();\r\n                if (fileNameLength &gt; 0) {\r\n                    byte[] fileNameBytes = new byte[fileNameLength];\r\n                    dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\r\n                    filename = new String(fileNameBytes, StandardCharset.UTF_8);\r\n                }\r\n\r\n                int fileContentLength = dataInputStream.readInt();\r\n                if (fileContentLength &gt; 0) {\r\n                    fileContentBytes = new byte[fileContentLength];\r\n                    dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\r\n                }\r\n\r\n                System.out.println(&quot;File name received is &quot; + filename);\r\n                //downloadFile(filename, fileContentBytes);\r\n            }\r\n        }\r\n        catch (IOException exception){\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n    ```\r\n    client:\r\n    ```\r\n    private fun sendFile(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\r\n        try {\r\n            val inputStream = contentResolver.openInputStream(uri)\r\n            //val fileInputStream = FileInputStream(file.absolutePath)\r\n            val fileName = fileInfo.first\r\n            val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\r\n            val fileContentBytes = ByteArray(fileInfo.second.toInt())\r\n            //val num: Int = fileInputStream.read(fileContentBytes)\r\n            inputStream!!.read(fileContentBytes)\r\n            dataOutputStream?.writeInt(1)\r\n            dataOutputStream?.writeInt(fileNameBytes.size)\r\n            dataOutputStream?.write(fileNameBytes)\r\n            dataOutputStream?.writeInt(fileContentBytes.size)\r\n            dataOutputStream?.write(fileContentBytes)\r\n            dataOutputStream?.flush()\r\n        } catch (exception: IOException) {\r\n            exception.printStackTrace()\r\n        }\r\n    }\r\n    ```","title":"DataInputStream.readInt() returns EOFException when connection is made immediately and no data has been transferred","body":"<p>Your client is sending only 1 file (but the function name is plural!). Does it disconnect afterward?</p>\n<p>The server is looping endlessly to read multiple files (but the function name is singular!).</p>\n<p>If the client disconnects after sending, it makes perfect sense why the receiving code would then throw an EOF error.</p>\n<p>If you want to leave the connection open, either:</p>\n<ul>\n<li><p>get rid of the reading loop in the server and just read 1 file at a time, to match the client sending 1 file at a time:</p>\n<p>server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void receiveFileFromClient(){\n    try {\n        String filename;\n        byte[] fileContentBytes;\n\n        int fileNameLength = dataInputStream.readInt();\n        if (fileNameLength &gt; 0) {\n            byte[] fileNameBytes = new byte[fileNameLength];\n            dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\n            filename = new String(fileNameBytes, StandardCharset.UTF_8);\n        }\n\n        int fileContentLength = dataInputStream.readInt();\n        if (fileContentLength &gt; 0) {\n            fileContentBytes = new byte[fileContentLength];\n            dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\n        }\n\n        System.out.println(&quot;File name received is &quot; + filename);\n        //downloadFile(filename, fileContentBytes);\n    }\n    catch (IOException exception){\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n<p>client:</p>\n<pre><code>private fun sendFile(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\n    try {\n        val inputStream = contentResolver.openInputStream(uri)\n        //val fileInputStream = FileInputStream(file.absolutePath)\n        val fileName = fileInfo.first\n        val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\n        val fileContentBytes = ByteArray(fileInfo.second.toInt())\n        //val num: Int = fileInputStream.read(fileContentBytes)\n        inputStream!!.read(fileContentBytes)\n        dataOutputStream?.writeInt(fileNameBytes.size)\n        dataOutputStream?.write(fileNameBytes)\n        dataOutputStream?.writeInt(fileContentBytes.size)\n        dataOutputStream?.write(fileContentBytes)\n        dataOutputStream?.flush()\n    } catch (exception: IOException) {\n        exception.printStackTrace()\n    }\n}\n</code></pre>\n</li>\n<li><p>have the client send an integer first indicating the number of files being sent, before then sending their datas, so the server knows when the stop looping:</p>\n<p>server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void receiveFilesFromClient(){\n    try {\n        int fileCount = dataInputStream.readInt();\n        for (int i = 0; i &lt; fileCount; ++i) {\n            String filename;\n            byte[] fileContentBytes;\n\n            int fileNameLength = dataInputStream.readInt();\n            if (fileNameLength &gt; 0) {\n                byte[] fileNameBytes = new byte[fileNameLength];\n                dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\n                filename = new String(fileNameBytes, StandardCharset.UTF_8);\n            }\n\n            int fileContentLength = dataInputStream.readInt();\n            if (fileContentLength &gt; 0) {\n                fileContentBytes = new byte[fileContentLength];\n                dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\n            }\n\n            System.out.println(&quot;File name received is &quot; + filename);\n            //downloadFile(filename, fileContentBytes);\n        }\n    }\n    catch (IOException exception){\n        exception.printStackTrace();\n    }\n}\n</code></pre>\n<p>client:</p>\n<pre><code>private fun sendFile(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\n    try {\n        val inputStream = contentResolver.openInputStream(uri)\n        //val fileInputStream = FileInputStream(file.absolutePath)\n        val fileName = fileInfo.first\n        val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\n        val fileContentBytes = ByteArray(fileInfo.second.toInt())\n        //val num: Int = fileInputStream.read(fileContentBytes)\n        inputStream!!.read(fileContentBytes)\n        dataOutputStream?.writeInt(1)\n        dataOutputStream?.writeInt(fileNameBytes.size)\n        dataOutputStream?.write(fileNameBytes)\n        dataOutputStream?.writeInt(fileContentBytes.size)\n        dataOutputStream?.write(fileContentBytes)\n        dataOutputStream?.flush()\n    } catch (exception: IOException) {\n        exception.printStackTrace()\n    }\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":14341736,"reputation":1,"user_id":10359739,"display_name":"Sir Dave"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644844352,"creation_date":1644598463,"question_id":71083743,"body_markdown":"I&#39;m implementing a 2-way file transfer between the server (Java FX) application and the client (A mobile application). File transfer from the JavaFX to the mobile app is successful, however when I tried to send files from the mobile app to the JavaFX application, I get an EOFException immediately I connect even when no files have been sent from the mobile app. \r\n\r\nHowever, whenever I commented out the function used for receiving files from the JavaFX application, no error is thrown. I don&#39;t know, but it seems both inputStreams and outputStreams of both applications seem to clash or maybe there&#39;s something I am missing. I have googled this error all to no avail.\r\n \r\nMinimal reproducible example of Server Code:\r\n\r\n```\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Server {\r\n    DataOutputStream dataOutputStream;\r\n    DataInputStream dataInputStream;\r\n\r\n    public Server(){\r\n        try{\r\n            int port = 19051;\r\n            ServerSocket serverSocket = new ServerSocket(port);\r\n\r\n            while (true){\r\n\r\n                Socket socket = serverSocket.accept();\r\n\r\n                dataInputStream = new DataInputStream(socket.getInputStream());\r\n                dataOutputStream = new DataOutputStream(socket.getOutputStream());\r\n\r\n                MyThread myThread = new MyThread();\r\n                new Thread(myThread).start();\r\n            }\r\n        }\r\n        catch (IOException exception){\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n    class MyThread implements Runnable{\r\n\r\n        @Override\r\n        public void run() {\r\n            receiveFilesFromClient();\r\n        }\r\n    }\r\n\r\n    public void receiveFilesFromClient(){\r\n        try {\r\n            int fileCount = dataInputStream.readInt();\r\n\r\n            for (int i = 0; i &lt; fileCount; ++i) {\r\n                String filename;\r\n                byte[] fileContentBytes;\r\n\r\n                int fileNameLength = dataInputStream.readInt();\r\n                if (fileNameLength &gt; 0) {\r\n                    byte[] fileNameBytes = new byte[fileNameLength];\r\n                    dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\r\n                    filename = new String(fileNameBytes, StandardCharsets.UTF_8);\r\n\r\n                    int fileContentLength = dataInputStream.readInt();\r\n                    if (fileContentLength &gt; 0) {\r\n                        fileContentBytes = new byte[fileContentLength];\r\n                        dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (IOException exception){\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMinimal reproducible example for the mobile app:\r\n\r\n```\r\nimport android.Manifest\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.content.pm.PackageManager\r\nimport android.net.Uri\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport android.os.StrictMode\r\nimport android.provider.OpenableColumns\r\nimport android.util.Log\r\nimport android.view.Menu\r\nimport android.view.MenuItem\r\nimport android.widget.Button\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.appcompat.app.AlertDialog\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.app.ActivityCompat\r\nimport java.io.*\r\nimport java.net.InetSocketAddress\r\nimport java.net.Socket\r\n\r\n\r\nprivate const val REQUEST_EXTERNAL_STORAGE = 1\r\nprivate const val CHOOSE_FILES = 1000\r\nprivate const val TAG = &quot;SendReceiveFileActivity&quot;\r\nclass SendReceiveFileActivity : AppCompatActivity() {\r\n    private var ip: String? = null\r\n    private var port: Int? = null\r\n    var clientSocket: Socket? = null\r\n    private lateinit var myThread: MyThread\r\n    private lateinit var sendButton: Button\r\n    private var dataInputStream: DataInputStream? = null\r\n    private var dataOutputStream: DataOutputStream? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_send_receive_file)\r\n\r\n        val policy = StrictMode.ThreadPolicy.Builder().permitAll().build()\r\n        StrictMode.setThreadPolicy(policy)\r\n\r\n        ip = intent.getStringExtra(&quot;ip&quot;)\r\n        port = intent.getStringExtra(&quot;port&quot;)?.toInt()\r\n\r\n        verifyStoragePermissions(this)\r\n\r\n        sendButton = findViewById(R.id.btnSend)\r\n\r\n        sendButton.setOnClickListener {\r\n            val intent = Intent(Intent.ACTION_GET_CONTENT)\r\n            intent.type = &quot;*/*&quot;\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true)\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Choose Files&quot;), CHOOSE_FILES)\r\n        }\r\n\r\n        myThread = MyThread()\r\n        Thread(myThread).start()\r\n    }\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == CHOOSE_FILES) {\r\n            if (resultCode == RESULT_OK) {\r\n                if (data!!.clipData != null) {\r\n                    val count = data.clipData!!.itemCount\r\n                    var currentItem = 0\r\n                    dataOutputStream?.writeInt(count)\r\n                    while (currentItem &lt; count) {\r\n                        val uri = data.clipData!!.getItemAt(currentItem).uri\r\n                        val fileInfo = getDataFromUri(uri)\r\n                        sendFiles(uri, fileInfo)\r\n\r\n                        currentItem += 1\r\n                    }\r\n                }\r\n                else if (data.data != null) {\r\n                    val uri = data.data!!\r\n                    val fileInfo = getDataFromUri(uri)\r\n                    sendFiles(uri, fileInfo)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun getDataFromUri(uri: Uri): Pair&lt;String, Long&gt;{\r\n        val cursor = contentResolver.query(uri, null, null,\r\n            null, null)\r\n        val nameIndex = cursor?.getColumnIndex(OpenableColumns.DISPLAY_NAME)!!\r\n        val sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE)\r\n        cursor.moveToFirst()\r\n        val name = cursor.getString(nameIndex)\r\n        val size = cursor.getLong(sizeIndex)\r\n        cursor.close()\r\n        return Pair(name, size)\r\n    }\r\n\r\n    private fun sendFiles(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\r\n        try {\r\n            val inputStream = contentResolver.openInputStream(uri)\r\n            val fileName = fileInfo.first\r\n            Log.d(TAG, &quot;File $fileName sent&quot;)\r\n            val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\r\n            val fileContentBytes = ByteArray(fileInfo.second.toInt())\r\n            inputStream!!.read(fileContentBytes)\r\n            dataOutputStream?.writeInt(fileNameBytes.size)\r\n            dataOutputStream?.write(fileNameBytes)\r\n            dataOutputStream?.writeInt(fileContentBytes.size)\r\n            dataOutputStream?.write(fileContentBytes)\r\n            dataOutputStream?.flush()\r\n\r\n        } catch (exception: IOException) {\r\n            exception.printStackTrace()\r\n        }\r\n    }\r\n\r\n    inner class MyThread: Runnable {\r\n\r\n        override fun run() {\r\n            clientSocket = Socket()\r\n            clientSocket?.connect(port?.let { InetSocketAddress(ip, it) }, 5000)\r\n            Log.d(TAG, &quot;Socket Connected&quot;)\r\n\r\n            dataInputStream = DataInputStream(clientSocket?.getInputStream())\r\n            dataOutputStream = DataOutputStream(clientSocket?.getOutputStream())\r\n\r\n            while (true){\r\n                val fileNameLength = dataInputStream?.readInt()\r\n\r\n                if (fileNameLength!! &gt; 0){\r\n                    val fileNameBytes = ByteArray(fileNameLength)\r\n                    dataInputStream?.readFully(fileNameBytes, 0, fileNameLength)\r\n                    val filename = String(fileNameBytes)\r\n\r\n                    val fileContentLength = dataInputStream?.readInt()\r\n                    if (fileContentLength!! &gt; 0){\r\n                        val fileContent = ByteArray(fileContentLength)\r\n                        dataInputStream?.readFully(fileContent, 0, fileContentLength)\r\n                        //downloadFile(filename, fileContent)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe error message which is continually displayed in the logcat because of the loop is this:\r\n\r\n```\r\njava.io.EOFException\r\n\tat java.base/java.io.DataInputStream.readInt(DataInputStream.java:397)\r\n\tat com.sirdave.Controller.receiveFileFromClient(Controller.java:208)\r\n\tat com.sirdave.Controller$MyThread.run(Controller.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\njava.io.EOFException\r\n```\r\n","title":"DataInputStream.readInt() returns EOFException when connection is made immediately and no data has been transferred","body":"<p>I'm implementing a 2-way file transfer between the server (Java FX) application and the client (A mobile application). File transfer from the JavaFX to the mobile app is successful, however when I tried to send files from the mobile app to the JavaFX application, I get an EOFException immediately I connect even when no files have been sent from the mobile app.</p>\n<p>However, whenever I commented out the function used for receiving files from the JavaFX application, no error is thrown. I don't know, but it seems both inputStreams and outputStreams of both applications seem to clash or maybe there's something I am missing. I have googled this error all to no avail.</p>\n<p>Minimal reproducible example of Server Code:</p>\n<pre><code>import java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.charset.StandardCharsets;\n\npublic class Server {\n    DataOutputStream dataOutputStream;\n    DataInputStream dataInputStream;\n\n    public Server(){\n        try{\n            int port = 19051;\n            ServerSocket serverSocket = new ServerSocket(port);\n\n            while (true){\n\n                Socket socket = serverSocket.accept();\n\n                dataInputStream = new DataInputStream(socket.getInputStream());\n                dataOutputStream = new DataOutputStream(socket.getOutputStream());\n\n                MyThread myThread = new MyThread();\n                new Thread(myThread).start();\n            }\n        }\n        catch (IOException exception){\n            exception.printStackTrace();\n        }\n    }\n\n    class MyThread implements Runnable{\n\n        @Override\n        public void run() {\n            receiveFilesFromClient();\n        }\n    }\n\n    public void receiveFilesFromClient(){\n        try {\n            int fileCount = dataInputStream.readInt();\n\n            for (int i = 0; i &lt; fileCount; ++i) {\n                String filename;\n                byte[] fileContentBytes;\n\n                int fileNameLength = dataInputStream.readInt();\n                if (fileNameLength &gt; 0) {\n                    byte[] fileNameBytes = new byte[fileNameLength];\n                    dataInputStream.readFully(fileNameBytes, 0, fileNameLength);\n                    filename = new String(fileNameBytes, StandardCharsets.UTF_8);\n\n                    int fileContentLength = dataInputStream.readInt();\n                    if (fileContentLength &gt; 0) {\n                        fileContentBytes = new byte[fileContentLength];\n                        dataInputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\n                    }\n                }\n            }\n        }\n        catch (IOException exception){\n            exception.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>Minimal reproducible example for the mobile app:</p>\n<pre><code>import android.Manifest\nimport android.app.Activity\nimport android.content.Intent\nimport android.content.pm.PackageManager\nimport android.net.Uri\nimport android.os.Build\nimport android.os.Bundle\nimport android.os.Environment\nimport android.os.StrictMode\nimport android.provider.OpenableColumns\nimport android.util.Log\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.widget.Button\nimport androidx.annotation.RequiresApi\nimport androidx.appcompat.app.AlertDialog\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.app.ActivityCompat\nimport java.io.*\nimport java.net.InetSocketAddress\nimport java.net.Socket\n\n\nprivate const val REQUEST_EXTERNAL_STORAGE = 1\nprivate const val CHOOSE_FILES = 1000\nprivate const val TAG = &quot;SendReceiveFileActivity&quot;\nclass SendReceiveFileActivity : AppCompatActivity() {\n    private var ip: String? = null\n    private var port: Int? = null\n    var clientSocket: Socket? = null\n    private lateinit var myThread: MyThread\n    private lateinit var sendButton: Button\n    private var dataInputStream: DataInputStream? = null\n    private var dataOutputStream: DataOutputStream? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_send_receive_file)\n\n        val policy = StrictMode.ThreadPolicy.Builder().permitAll().build()\n        StrictMode.setThreadPolicy(policy)\n\n        ip = intent.getStringExtra(&quot;ip&quot;)\n        port = intent.getStringExtra(&quot;port&quot;)?.toInt()\n\n        verifyStoragePermissions(this)\n\n        sendButton = findViewById(R.id.btnSend)\n\n        sendButton.setOnClickListener {\n            val intent = Intent(Intent.ACTION_GET_CONTENT)\n            intent.type = &quot;*/*&quot;\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true)\n            startActivityForResult(Intent.createChooser(intent, &quot;Choose Files&quot;), CHOOSE_FILES)\n        }\n\n        myThread = MyThread()\n        Thread(myThread).start()\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == CHOOSE_FILES) {\n            if (resultCode == RESULT_OK) {\n                if (data!!.clipData != null) {\n                    val count = data.clipData!!.itemCount\n                    var currentItem = 0\n                    dataOutputStream?.writeInt(count)\n                    while (currentItem &lt; count) {\n                        val uri = data.clipData!!.getItemAt(currentItem).uri\n                        val fileInfo = getDataFromUri(uri)\n                        sendFiles(uri, fileInfo)\n\n                        currentItem += 1\n                    }\n                }\n                else if (data.data != null) {\n                    val uri = data.data!!\n                    val fileInfo = getDataFromUri(uri)\n                    sendFiles(uri, fileInfo)\n                }\n            }\n        }\n    }\n\n    private fun getDataFromUri(uri: Uri): Pair&lt;String, Long&gt;{\n        val cursor = contentResolver.query(uri, null, null,\n            null, null)\n        val nameIndex = cursor?.getColumnIndex(OpenableColumns.DISPLAY_NAME)!!\n        val sizeIndex = cursor.getColumnIndex(OpenableColumns.SIZE)\n        cursor.moveToFirst()\n        val name = cursor.getString(nameIndex)\n        val size = cursor.getLong(sizeIndex)\n        cursor.close()\n        return Pair(name, size)\n    }\n\n    private fun sendFiles(uri: Uri, fileInfo: Pair&lt;String, Long&gt;){\n        try {\n            val inputStream = contentResolver.openInputStream(uri)\n            val fileName = fileInfo.first\n            Log.d(TAG, &quot;File $fileName sent&quot;)\n            val fileNameBytes = fileName.toByteArray(Charsets.UTF_8)\n            val fileContentBytes = ByteArray(fileInfo.second.toInt())\n            inputStream!!.read(fileContentBytes)\n            dataOutputStream?.writeInt(fileNameBytes.size)\n            dataOutputStream?.write(fileNameBytes)\n            dataOutputStream?.writeInt(fileContentBytes.size)\n            dataOutputStream?.write(fileContentBytes)\n            dataOutputStream?.flush()\n\n        } catch (exception: IOException) {\n            exception.printStackTrace()\n        }\n    }\n\n    inner class MyThread: Runnable {\n\n        override fun run() {\n            clientSocket = Socket()\n            clientSocket?.connect(port?.let { InetSocketAddress(ip, it) }, 5000)\n            Log.d(TAG, &quot;Socket Connected&quot;)\n\n            dataInputStream = DataInputStream(clientSocket?.getInputStream())\n            dataOutputStream = DataOutputStream(clientSocket?.getOutputStream())\n\n            while (true){\n                val fileNameLength = dataInputStream?.readInt()\n\n                if (fileNameLength!! &gt; 0){\n                    val fileNameBytes = ByteArray(fileNameLength)\n                    dataInputStream?.readFully(fileNameBytes, 0, fileNameLength)\n                    val filename = String(fileNameBytes)\n\n                    val fileContentLength = dataInputStream?.readInt()\n                    if (fileContentLength!! &gt; 0){\n                        val fileContent = ByteArray(fileContentLength)\n                        dataInputStream?.readFully(fileContent, 0, fileContentLength)\n                        //downloadFile(filename, fileContent)\n                    }\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The error message which is continually displayed in the logcat because of the loop is this:</p>\n<pre><code>java.io.EOFException\n    at java.base/java.io.DataInputStream.readInt(DataInputStream.java:397)\n    at com.sirdave.Controller.receiveFileFromClient(Controller.java:208)\n    at com.sirdave.Controller$MyThread.run(Controller.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\njava.io.EOFException\n</code></pre>\n"},{"tags":["java","asynchronous","jms","activemq"],"answers":[{"tags":[],"owner":{"account_id":5959947,"reputation":108,"user_id":4685417,"display_name":"NPrasad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1561121597,"creation_date":1473245004,"answer_id":39367734,"question_id":39364942,"body_markdown":"There are two ways to process/consume messages in the Queue. \r\n\r\n1. Periodically check the queue for new messages - This is suitable if you run your program periodically. You can do this by implementing a loop with some thread sleeps. Ex. twice a day, once a day etc.\r\n\r\n2. Register consumers (use MessageListener) with the queue. You can do this as below example. \r\n\r\n\r\n**Consumer.java**\r\n\r\n            javax.jms.Connection connection = null;\r\n\t\t\tSession session = null;\r\n\t\t\tDestination destination = null;\r\n\t\t\tMessageConsumer consumer = null;\r\n\t\t\t\r\n\r\n\t\t\tActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(URL);\r\n\t\t\tconnection = connectionFactory.createConnection();\r\n\t\t\tconnection.start();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tsession = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\t\t\tdestination = session.createQueue(queueName);\r\n\t\t\t   \t\t\t\t\r\n\t\t\t\r\n\t\t\tconsumer = session.createConsumer(destination);\r\n\t\t\tconsumer.setMessageListener(new YourClass());\r\n\r\n\r\n**YourClass.java**\r\n\r\n    public class YourClass implements MessageListener {\r\n    @Override \r\n    public void onMessage(Message message) {\r\n                    TextMessage textMessage = (TextMessage) message;\r\n\t\t\t\t\tinputJsonString = textMessage.getText();\r\n                   //do what ever you want with inputJsonString\r\n\t\t\t\t\tmessage.acknowledge(); \r\n               }\r\n}","title":"Better way to wait to receive Async messages in ActiveMQ","body":"<p>There are two ways to process/consume messages in the Queue. </p>\n\n<ol>\n<li><p>Periodically check the queue for new messages - This is suitable if you run your program periodically. You can do this by implementing a loop with some thread sleeps. Ex. twice a day, once a day etc.</p></li>\n<li><p>Register consumers (use MessageListener) with the queue. You can do this as below example. </p></li>\n</ol>\n\n<p><strong>Consumer.java</strong></p>\n\n<pre><code>        javax.jms.Connection connection = null;\n        Session session = null;\n        Destination destination = null;\n        MessageConsumer consumer = null;\n\n\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(URL);\n        connection = connectionFactory.createConnection();\n        connection.start();\n\n\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n        destination = session.createQueue(queueName);\n\n\n        consumer = session.createConsumer(destination);\n        consumer.setMessageListener(new YourClass());\n</code></pre>\n\n<p><strong>YourClass.java</strong></p>\n\n<pre><code>public class YourClass implements MessageListener {\n@Override \npublic void onMessage(Message message) {\n                TextMessage textMessage = (TextMessage) message;\n                inputJsonString = textMessage.getText();\n               //do what ever you want with inputJsonString\n                message.acknowledge(); \n           }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39367734,"answer_count":1,"score":1,"last_activity_date":1644844236,"creation_date":1473237108,"question_id":39364942,"body_markdown":"I have used ActiveMQ to Send messages and Receive them Asynchronously.\r\n\r\nThere, I&#39;m having a problem with deciding the best way to waiting in the for messages. \r\nSleeping thread in a loop is one option. But it feels doesn&#39;t look good for me.\r\n\r\nCan anyone suggest a better way for this.\r\n\r\n**AsyncReceiver.java**\r\n\r\n    public class AsyncReceiver implements MessageListener, ExceptionListener{\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\t\r\n    \t\tProperties env = new Properties();\t\t\t\t\t   \t\t\t\t\r\n    \t\tenv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;org.apache.activemq.jndi.ActiveMQInitialContextFactory&quot;);\r\n    \t\tenv.put(Context.PROVIDER_URL, &quot;tcp://localhost:61616&quot;);\r\n    \t\tenv.put(&quot;queue.queueSampleQueue&quot;,&quot;MyNewQueue&quot;);\r\n    \r\n    \t\tInitialContext ctx = new InitialContext(env);\r\n    \t\tQueue queue = (Queue) ctx.lookup(&quot;queueSampleQueue&quot;);\r\n    \t\tQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(&quot;QueueConnectionFactory&quot;);\r\n    \t\tQueueConnection queueConn = connFactory.createQueueConnection();\r\n    \t\tQueueSession queueSession = queueConn.createQueueSession(false,Session.AUTO_ACKNOWLEDGE);\r\n    \t\t\r\n    \t\tQueueReceiver queueReceiver = queueSession.createReceiver(queue);\r\n    \t\tAsyncReceiver asyncReceiver = new AsyncReceiver();\r\n    \t\tqueueReceiver.setMessageListener(asyncReceiver);\r\n    \t\tqueueConn.setExceptionListener(asyncReceiver);\r\n    \t\tqueueConn.start();\r\n    \r\n    \t\t// Waiting for messages\r\n    \t\tSystem.out.print(&quot;waiting for messages&quot;);\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tThread.sleep(1000);\r\n    \t\t}\r\n    \r\n    \t\tqueueConn.close();\r\n    \t}\r\n    \r\n    \tpublic void onMessage(Message message){\r\n    \t\tTextMessage msg = (TextMessage) message;\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;received: &quot; + msg.getText());\r\n    \t\t} catch (JMSException ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void onException(JMSException exception){\r\n    \t\tSystem.err.println(&quot;an error occurred: &quot; + exception);\r\n    \t}\r\n    }\r\n\r\n**Sender.java**\r\n\r\n    public class Sender{\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \r\n    \t\tProperties env = new Properties();\r\n    \t\tenv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;org.apache.activemq.jndi.ActiveMQInitialContextFactory&quot;);\r\n    \t\tenv.put(Context.PROVIDER_URL, &quot;tcp://localhost:61616&quot;);\r\n    \t\tenv.put(&quot;queue.queueSampleQueue&quot;, &quot;MyNewQueue&quot;);\r\n    \r\n    \t\tInitialContext ctx = new InitialContext(env);\r\n    \t\tQueue queue = (Queue) ctx.lookup(&quot;queueSampleQueue&quot;);\r\n    \t\tQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(&quot;QueueConnectionFactory&quot;);\r\n    \t\tQueueConnection queueConn = connFactory.createQueueConnection();\r\n    \t\tQueueSession queueSession = queueConn.createQueueSession(false,Session.DUPS_OK_ACKNOWLEDGE);\r\n    \r\n    \t\tQueueSender queueSender = queueSession.createSender(queue);\r\n    \t\tqueueSender.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n    \t\tTextMessage message = queueSession.createTextMessage(&quot;Hello&quot;);\r\n    \t\tqueueSender.send(message);\r\n    \t\tSystem.out.println(&quot;sent: &quot; + message.getText());\r\n    \r\n    \t\tqueueConn.close();\r\n    \t}\r\n    }\r\n\r\n","title":"Better way to wait to receive Async messages in ActiveMQ","body":"<p>I have used ActiveMQ to Send messages and Receive them Asynchronously.</p>\n\n<p>There, I'm having a problem with deciding the best way to waiting in the for messages. \nSleeping thread in a loop is one option. But it feels doesn't look good for me.</p>\n\n<p>Can anyone suggest a better way for this.</p>\n\n<p><strong>AsyncReceiver.java</strong></p>\n\n<pre><code>public class AsyncReceiver implements MessageListener, ExceptionListener{\n\n    public static void main(String[] args) throws Exception{\n\n        Properties env = new Properties();                                  \n        env.put(Context.INITIAL_CONTEXT_FACTORY,\"org.apache.activemq.jndi.ActiveMQInitialContextFactory\");\n        env.put(Context.PROVIDER_URL, \"tcp://localhost:61616\");\n        env.put(\"queue.queueSampleQueue\",\"MyNewQueue\");\n\n        InitialContext ctx = new InitialContext(env);\n        Queue queue = (Queue) ctx.lookup(\"queueSampleQueue\");\n        QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(\"QueueConnectionFactory\");\n        QueueConnection queueConn = connFactory.createQueueConnection();\n        QueueSession queueSession = queueConn.createQueueSession(false,Session.AUTO_ACKNOWLEDGE);\n\n        QueueReceiver queueReceiver = queueSession.createReceiver(queue);\n        AsyncReceiver asyncReceiver = new AsyncReceiver();\n        queueReceiver.setMessageListener(asyncReceiver);\n        queueConn.setExceptionListener(asyncReceiver);\n        queueConn.start();\n\n        // Waiting for messages\n        System.out.print(\"waiting for messages\");\n        for (int i = 0; i &lt; 10; i++) {\n            Thread.sleep(1000);\n        }\n\n        queueConn.close();\n    }\n\n    public void onMessage(Message message){\n        TextMessage msg = (TextMessage) message;\n        try {\n            System.out.println(\"received: \" + msg.getText());\n        } catch (JMSException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public void onException(JMSException exception){\n        System.err.println(\"an error occurred: \" + exception);\n    }\n}\n</code></pre>\n\n<p><strong>Sender.java</strong></p>\n\n<pre><code>public class Sender{\n\n    public static void main(String[] args) throws Exception{\n\n        Properties env = new Properties();\n        env.put(Context.INITIAL_CONTEXT_FACTORY,\"org.apache.activemq.jndi.ActiveMQInitialContextFactory\");\n        env.put(Context.PROVIDER_URL, \"tcp://localhost:61616\");\n        env.put(\"queue.queueSampleQueue\", \"MyNewQueue\");\n\n        InitialContext ctx = new InitialContext(env);\n        Queue queue = (Queue) ctx.lookup(\"queueSampleQueue\");\n        QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(\"QueueConnectionFactory\");\n        QueueConnection queueConn = connFactory.createQueueConnection();\n        QueueSession queueSession = queueConn.createQueueSession(false,Session.DUPS_OK_ACKNOWLEDGE);\n\n        QueueSender queueSender = queueSession.createSender(queue);\n        queueSender.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n        TextMessage message = queueSession.createTextMessage(\"Hello\");\n        queueSender.send(message);\n        System.out.println(\"sent: \" + message.getText());\n\n        queueConn.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":4994171,"reputation":2831,"user_id":4015372,"display_name":"OhleC"},"score":0,"creation_date":1644844003,"post_id":71112343,"comment_id":125705471,"body_markdown":"That&#39;s because `name` and `fatherName` are both static, so not fields of the individual objects. Remove the `static` qualifier and you should see the behavior you expect.","body":"That&#39;s because <code>name</code> and <code>fatherName</code> are both static, so not fields of the individual objects. Remove the <code>static</code> qualifier and you should see the behavior you expect."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1644844669,"post_id":71112343,"comment_id":125705715,"body_markdown":"Note: the real answer here is: in programming, *every* character in your code matters. You have to **understand** what the keywords you put in your code are doing. Especially when you are a beginner, learning everything with &quot;trial and error&quot; isn&#39;t an efficient strategy. Instead: pick up a good book, and follow that, instead of putting together some code, and then wondering why it doesn&#39;t at all do what you think it should do.","body":"Note: the real answer here is: in programming, <i>every</i> character in your code matters. You have to <b>understand</b> what the keywords you put in your code are doing. Especially when you are a beginner, learning everything with &quot;trial and error&quot; isn&#39;t an efficient strategy. Instead: pick up a good book, and follow that, instead of putting together some code, and then wondering why it doesn&#39;t at all do what you think it should do."}],"answers":[{"tags":[],"owner":{"account_id":4953378,"reputation":177,"user_id":3986699,"display_name":"Md. Jubair Ibna Mostafa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644844125,"creation_date":1644844125,"answer_id":71112429,"question_id":71112343,"body_markdown":"Because you used **static** keyword to declare attributes of the class. Replace those with **private** keyword.","title":"initializing value to one object by default same value initialized to other object with default constructor","body":"<p>Because you used <strong>static</strong> keyword to declare attributes of the class. Replace those with <strong>private</strong> keyword.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644844153,"creation_date":1644844153,"answer_id":71112435,"question_id":71112343,"body_markdown":"You defined the variables as `static`.  This makes them a class variable rather than an instance variable.  Remove the keyword static from the variable definition and it should behave as intended.\r\n\r\n    public class Student {\r\n      private String name;\r\n      private String fatherName;\r\n      public Student(String name,String fatherName) {\r\n        this.name=name;\r\n        this.fatherName=fatherName;\r\n      }\r\n      public Student() {}\r\n    \r\n      public static void showName(){\r\n        System.out.println(&quot;Hello my name is : &quot;+name+&quot;\\nMy father name is: &quot;+fatherName);\r\n      }\r\n    }\r\n\r\n","title":"initializing value to one object by default same value initialized to other object with default constructor","body":"<p>You defined the variables as <code>static</code>.  This makes them a class variable rather than an instance variable.  Remove the keyword static from the variable definition and it should behave as intended.</p>\n<pre><code>public class Student {\n  private String name;\n  private String fatherName;\n  public Student(String name,String fatherName) {\n    this.name=name;\n    this.fatherName=fatherName;\n  }\n  public Student() {}\n\n  public static void showName(){\n    System.out.println(&quot;Hello my name is : &quot;+name+&quot;\\nMy father name is: &quot;+fatherName);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24252734,"reputation":31,"user_id":18203551,"display_name":"Muhammad Ismail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1644844534,"answer_count":2,"score":-1,"last_activity_date":1644844153,"creation_date":1644843788,"question_id":71112343,"body_markdown":"I an initializing value to one object and then declaring the other object of the same class but the value of the first object by default assign to the second object not the default null values.\r\n\r\n        public class Student {\r\n\r\n    static String name;\r\n    static String fatherName;\r\n    public Student(String name,String fatherName)\r\n    {\r\n        this.name=name;\r\n        this.fatherName=fatherName;\r\n    }\r\n    public Student() {\r\n    }\r\n    public static void showName(){\r\n        System.out.println(&quot;Hello my name is : &quot;+name+&quot;\\nMy father name is: &quot;+fatherName);\r\n    }\r\n}\r\n\r\nthe is the class which store information about student.\r\n\r\n        public class Test {\r\n    public static void main(String[] args) {\r\n        Student st1=new Student(&quot;xyz&quot;,&quot;abc&quot;);\r\n        st1.showName();\r\n        Student st2=new Student();\r\n        st2.showName();\r\n\r\n    }\r\n}\r\nhere i created two object first is initializing the first object(st1) and then I decleared the second object with default object and on both I called the same object why the method called with second object is printing the value passed to the first why it not print the default null value.\r\n\r\nOutput:\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-16.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=57206:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Muhammad Ismail\\IdeaProjects\\oop in java\\out\\production\\oop in java&quot; Test\r\n\r\n        Hello my name is : xyz\r\n        My father name is: abc\r\n        Hello my name is : xyz\r\n        My father name is: abc\r\n\r\n        Process finished with exit code 0\r\n","title":"initializing value to one object by default same value initialized to other object with default constructor","body":"<p>I an initializing value to one object and then declaring the other object of the same class but the value of the first object by default assign to the second object not the default null values.</p>\n<pre><code>    public class Student {\n\nstatic String name;\nstatic String fatherName;\npublic Student(String name,String fatherName)\n{\n    this.name=name;\n    this.fatherName=fatherName;\n}\npublic Student() {\n}\npublic static void showName(){\n    System.out.println(&quot;Hello my name is : &quot;+name+&quot;\\nMy father name is: &quot;+fatherName);\n}\n</code></pre>\n<p>}</p>\n<p>the is the class which store information about student.</p>\n<pre><code>    public class Test {\npublic static void main(String[] args) {\n    Student st1=new Student(&quot;xyz&quot;,&quot;abc&quot;);\n    st1.showName();\n    Student st2=new Student();\n    st2.showName();\n\n}\n</code></pre>\n<p>}\nhere i created two object first is initializing the first object(st1) and then I decleared the second object with default object and on both I called the same object why the method called with second object is printing the value passed to the first why it not print the default null value.</p>\n<p>Output:</p>\n<p>&quot;C:\\Program Files\\Java\\jdk-16.0.2\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\lib\\idea_rt.jar=57206:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.3.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\Muhammad Ismail\\IdeaProjects\\oop in java\\out\\production\\oop in java&quot; Test</p>\n<pre><code>    Hello my name is : xyz\n    My father name is: abc\n    Hello my name is : xyz\n    My father name is: abc\n\n    Process finished with exit code 0\n</code></pre>\n"},{"tags":["java","eclipse","javafx","ant","inno-setup"],"comments":[{"owner":{"account_id":2644598,"reputation":18102,"user_id":2287576,"accept_rate":92,"display_name":"Andrew Truckle"},"score":0,"creation_date":1522833787,"post_id":49645502,"comment_id":86302589,"body_markdown":"You try to do that build command manually from the console. From what I can see you have spaces where you shouldn’t and might be missing quotes around some parameters.","body":"You try to do that build command manually from the console. From what I can see you have spaces where you shouldn’t and might be missing quotes around some parameters."},{"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"score":0,"creation_date":1522843285,"post_id":49645502,"comment_id":86308972,"body_markdown":"Hello, thank you for your answer, I have tried to do that build command manually from the console, but i have the same exception.","body":"Hello, thank you for your answer, I have tried to do that build command manually from the console, but i have the same exception."},{"owner":{"account_id":2644598,"reputation":18102,"user_id":2287576,"accept_rate":92,"display_name":"Andrew Truckle"},"score":0,"creation_date":1522844909,"post_id":49645502,"comment_id":86310150,"body_markdown":"Exactly. So, fix it to work from the command line first.","body":"Exactly. So, fix it to work from the command line first."},{"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"score":0,"creation_date":1522845984,"post_id":49645502,"comment_id":86310940,"body_markdown":"ok, but I have no idea what else to try, I have not worked with ant for so long","body":"ok, but I have no idea what else to try, I have not worked with ant for so long"},{"owner":{"account_id":2644598,"reputation":18102,"user_id":2287576,"accept_rate":92,"display_name":"Andrew Truckle"},"score":0,"creation_date":1522849471,"post_id":49645502,"comment_id":86313654,"body_markdown":"I am sorry but I don’t know “ant”. I am just telling you that your inno compiler line is not correct.","body":"I am sorry but I don’t know “ant”. I am just telling you that your inno compiler line is not correct."}],"answers":[{"tags":[],"owner":{"account_id":2644598,"reputation":18102,"user_id":2287576,"accept_rate":92,"display_name":"Andrew Truckle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522874919,"creation_date":1522874919,"answer_id":49660177,"question_id":49645502,"body_markdown":"You have this line in your log:\r\n\r\n&gt;    `[fx:deploy] java.io.IOException: Exec failed with code 2 command [[C:\\Program  Files (x86)\\Inno Setup 5\\iscc.exe, /oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss]`\r\n    \r\nNow, I would say you have some problems with that line of code.\r\n\r\n* &gt; `C:\\Program  Files (x86)`\r\n\r\nDoes the path really have **two spaces**? Shouldn&#39;t it be:\r\n\r\n `C:\\Program Files (x86)`\r\n\r\n----------\r\n\r\n* &gt; `Inno Setup 5\\iscc.exe,`\r\n\r\nWhat is that **comma** at the end? Shouldn&#39;t it be:\r\n\r\n`Inno Setup 5\\iscc.exe`\r\n\r\n----------\r\n\r\n* `/oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy`\r\n\r\nYour path has **spaces** in it. It is a very weird path and I might even be wrong. Only you can confirm. But you need **quotes**. Something like:\r\n\r\n`/o&quot;D:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy&quot;`\r\n\r\n----------\r\n\r\n* `, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss`\r\n\r\nAgain, you have a **comma** at the start, and you are not wrapping the path to the script file in **quotes**. Something like:\r\n\r\n` &quot;C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss&quot;`\r\n\r\n----------\r\n\r\nSo, putting it all together:\r\n \r\n    C:\\Program Files (x86)\\Inno Setup 5\\iscc.exe /o&quot;D:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy&quot; &quot;C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss&quot;\r\n\r\nSo:\r\n\r\n1. Validate all of your **paths** to make sure they are **correct**.\r\n2. Put `&quot; ... &quot;` around your paths since they have spaces.\r\n\r\nThe help for [ISCC][1] provides more details.\r\n\r\n  [1]: http://www.jrsoftware.org/ishelp/topic_compilercmdline.htm","title":"Ant-task don&#39;t work with java 9","body":"<p>You have this line in your log:</p>\n\n<blockquote>\n  <p><code>[fx:deploy] java.io.IOException: Exec failed with code 2 command [[C:\\Program  Files (x86)\\Inno Setup 5\\iscc.exe, /oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss]</code></p>\n</blockquote>\n\n<p>Now, I would say you have some problems with that line of code.</p>\n\n<ul>\n<li><blockquote>\n  <p><code>C:\\Program  Files (x86)</code></p>\n</blockquote></li>\n</ul>\n\n<p>Does the path really have <strong>two spaces</strong>? Shouldn't it be:</p>\n\n<p><code>C:\\Program Files (x86)</code></p>\n\n<hr>\n\n<ul>\n<li><blockquote>\n  <p><code>Inno Setup 5\\iscc.exe,</code></p>\n</blockquote></li>\n</ul>\n\n<p>What is that <strong>comma</strong> at the end? Shouldn't it be:</p>\n\n<p><code>Inno Setup 5\\iscc.exe</code></p>\n\n<hr>\n\n<ul>\n<li><code>/oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy</code></li>\n</ul>\n\n<p>Your path has <strong>spaces</strong> in it. It is a very weird path and I might even be wrong. Only you can confirm. But you need <strong>quotes</strong>. Something like:</p>\n\n<p><code>/o\"D:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy\"</code></p>\n\n<hr>\n\n<ul>\n<li><code>, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss</code></li>\n</ul>\n\n<p>Again, you have a <strong>comma</strong> at the start, and you are not wrapping the path to the script file in <strong>quotes</strong>. Something like:</p>\n\n<p><code>\"C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss\"</code></p>\n\n<hr>\n\n<p>So, putting it all together:</p>\n\n<pre><code>C:\\Program Files (x86)\\Inno Setup 5\\iscc.exe /o\"D:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy\" \"C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss\"\n</code></pre>\n\n<p>So:</p>\n\n<ol>\n<li>Validate all of your <strong>paths</strong> to make sure they are <strong>correct</strong>.</li>\n<li>Put <code>\" ... \"</code> around your paths since they have spaces.</li>\n</ol>\n\n<p>The help for <a href=\"http://www.jrsoftware.org/ishelp/topic_compilercmdline.htm\" rel=\"nofollow noreferrer\">ISCC</a> provides more details.</p>\n"},{"tags":[],"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522939964,"creation_date":1522939964,"answer_id":49675396,"question_id":49645502,"body_markdown":"I found the error.\r\n\r\nAnt creates a temporary folder in which folder the data for the package is copied and now it is crazy.\r\n\r\nI run the script with Java 8, the file &quot;OE 7.iss&quot; is created.\r\n\r\n    C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss\r\n\r\nI run the script with Java 9, the file &quot;OE7.iss&quot; is created, he\r\nremoves the space in the program name and can not find the file\r\n\r\n    C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE7.iss\r\n\r\nI just changed the java version, nothing else.\r\n    \r\nI was able to fix this error, I changed the program name to &quot;OE7&quot;, but now I have new errors again\r\n\r\nNow the package is created (with Java 9) without &quot;OE7.iss (Inno Setup)&quot; and external libs, when i compile it with java 8, it works fine\r\n\r\nmy build.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project name=&quot;Build&quot; default=&quot;do-deploy&quot; basedir=&quot;.&quot;  xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\r\n\t\t\t\t\r\n\t&lt;property name=&quot;project.Folder&quot; value=&quot;Build&quot;/&gt;\r\n\t&lt;property name=&quot;publisher&quot; value=&quot;Indivikar AG&quot;/&gt;\r\n\t&lt;property name=&quot;native.Bundles&quot; value=&quot;exe&quot;/&gt;\r\n\t&lt;property name=&quot;title&quot; value=&quot;OE7&quot;/&gt;\r\n\t&lt;property name=&quot;version&quot; value=&quot;1.0.0&quot;/&gt;\r\n\t&lt;property name=&quot;main.Class&quot; value=&quot;application.StageStartOE7&quot;/&gt;\r\n\t&lt;!-- &lt;property name=&quot;Java.Version&quot; value=&quot;jdk1.8.0_151&quot;/&gt; --&gt;\r\n\t&lt;property name=&quot;Java.Version&quot; value=&quot;jdk-9.0.4&quot;/&gt;\r\n\r\n\t\t\r\n\t&lt;property name=&quot;project.Path&quot; value=&quot;D:\\Workspace BuildTest\\OE7&quot;/&gt;\t\t\r\n\t&lt;property name=&quot;lib.Path&quot; value=&quot;${project.Path}\\lib&quot;/&gt;\t\r\n\t\t\r\n\t&lt;target name=&quot;init-fx-tasks&quot;&gt;\r\n\t\t&lt;path id=&quot;fxant&quot;&gt;\r\n\t\t\t&lt;filelist&gt;\r\n\t\t\t\t&lt;file name=&quot;C:\\Program Files\\Java\\${Java.Version}\\lib\\ant-javafx.jar&quot;/&gt;\r\n\t\t\t\t&lt;file name=&quot;C:\\Program Files\\Java\\${Java.Version}\\jre\\lib\\ext\\jfxrt.jar&quot;/&gt;\r\n\t\t\t\t&lt;file name=&quot;${basedir}&quot;/&gt;\r\n\t\t\t&lt;/filelist&gt;\r\n\t\t&lt;/path&gt;\r\n\t\r\n\t\t&lt;taskdef resource=&quot;com/sun/javafx/tools/ant/antlib.xml&quot;\r\n\t\t\turi=&quot;javafx:com.sun.javafx.tools.ant&quot;\r\n\t\t\tclasspathref=&quot;fxant&quot;/&gt;\t\t\r\n\t&lt;/target&gt;\r\n\t\t\r\n\t&lt;target name=&quot;setup-staging-area&quot;&gt;\r\n\t\t&lt;delete dir=&quot;externalLibs&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;externalFiles&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;project&quot; /&gt;\r\n\t\t&lt;delete dir=&quot;projectRefs&quot; /&gt;\r\n\t\t\r\n\t\t&lt;mkdir dir=&quot;externalLibs&quot; /&gt;\t\r\n\t\t&lt;mkdir dir=&quot;externalFiles&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;project&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;projectRefs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;project&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${project.Path}&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;src/**&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t&lt;/target&gt;\r\n\t\t\r\n\t&lt;target name=&#39;do-compile&#39;&gt;\r\n\t\t&lt;delete dir=&quot;build&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/src&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/libs&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;build/classes&quot; /&gt;\r\n\r\n\t\r\n\t\t&lt;!-- Copy project-libs references --&gt;\t\r\n\t\t &lt;copydir src=&quot;${lib.Path}&quot;\r\n\t\t           dest=&quot;${basedir}\\build\\libs&quot;\r\n\t\t           includes=&quot;**/*.jar&quot;\r\n\t\t           excludes=&quot;**/Test.java&quot;\r\n\t\t /&gt;\r\n\t\t\r\n\t\t&lt;copy todir=&quot;build/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\r\n\t\t&lt;!-- Copy project sources itself --&gt;\r\n\t\t&lt;copy todir=&quot;build/src&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;**/*&quot;/&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t\r\n\t\t&lt;javac includeantruntime=&quot;false&quot; source=&quot;9&quot; target=&quot;9&quot; srcdir=&quot;build/src&quot; destdir=&quot;build/classes&quot; encoding=&quot;Cp1252&quot;&gt;\r\n\t\t\t&lt;classpath&gt;\r\n\t\t\t\t&lt;fileset dir=&quot;build/libs&quot;&gt;\r\n\t\t\t\t\t&lt;include name=&quot;*&quot;/&gt;\r\n\t\t\t\t&lt;/fileset&gt;\r\n\t\t\t&lt;/classpath&gt;\r\n\t\t&lt;/javac&gt;\r\n\r\n\t\t&lt;!-- Copy over none Java-Files --&gt;\r\n\t\t&lt;copy todir=&quot;build/classes&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;project/src&quot;&gt;\r\n\t\t\t&lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t\r\n\t&lt;/target&gt;\r\n\t&lt;target name=&quot;do-deploy&quot; depends=&quot;setup-staging-area, do-compile, init-fx-tasks&quot;&gt;\r\n\t\t&lt;delete file=&quot;dist&quot;/&gt;\t\t\r\n\t\t&lt;delete file=&quot;deploy&quot; /&gt;\r\n\t\t\r\n\t\t&lt;mkdir dir=&quot;dist&quot; /&gt;\r\n\t\t&lt;mkdir dir=&quot;dist/libs&quot; /&gt;\r\n\t\r\n\t\t&lt;copy todir=&quot;dist/libs&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;externalLibs&quot;&gt;\r\n\t\t\t\t&lt;include name=&quot;*&quot; /&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t\r\n\t\t&lt;fx:resources id=&quot;appRes&quot;&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;${project.Folder}.jar&quot;/&gt;\t\t\t\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;libs/*&quot;/&gt;\r\n\t\t\t&lt;fx:fileset dir=&quot;dist&quot; includes=&quot;resources/**&quot;/&gt;\r\n\t\t&lt;/fx:resources&gt;\r\n\t\r\n\t\t&lt;fx:application id=&quot;fxApplication&quot;\r\n\t\t\tname=&quot;${title}&quot;\r\n\t\t\tmainClass=&quot;${main.Class}&quot;\r\n\t\t\tversion=&quot;${version}&quot;\r\n\t\t/&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;build/classes/META-INF&quot; /&gt;\r\n\t\r\n\t\t&lt;fx:jar destfile=&quot;dist/Build.jar&quot;&gt;\r\n\t\t\t&lt;fx:application refid=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fileset dir=&quot;build/classes&quot;&gt;\r\n\t\t\t&lt;/fileset&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;${publisher}&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Title&quot; value=&quot;${title}&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;Implementation-Version&quot; value=&quot;${version}&quot;/&gt;\r\n\t\t\t\t&lt;attribute name=&quot;JavaFX-Feature-Proxy&quot; value=&quot;None&quot;/&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t&lt;/fx:jar&gt;\r\n\t\r\n\t\t&lt;mkdir dir=&quot;deploy&quot; /&gt;\r\n\t\t\r\n\t\t&lt;fx:deploy\r\n\t\t\tembedJNLP=&quot;false&quot;\r\n\t\t\textension=&quot;false&quot;\r\n\t\t\tincludeDT=&quot;false&quot;\r\n\t\t\tofflineAllowed=&quot;true&quot;\r\n\t\t\toutdir=&quot;${basedir}/deploy&quot;\t\t\t\r\n\t\t\toutfile=&quot;Build&quot; nativeBundles=&quot;${native.Bundles}&quot;\r\n\t\t\tupdatemode=&quot;background&quot; \r\n\t\t\tverbose=&quot;true&quot; &gt;\r\n\t\r\n\t\t\t\r\n\t\t\t&lt;fx:info title=&quot;Build&quot; vendor=&quot;${publisher}&quot;/&gt;\r\n\t\r\n\t\t\t&lt;fx:application refId=&quot;fxApplication&quot;/&gt;\r\n\t\t\t&lt;fx:resources refid=&quot;appRes&quot;/&gt;\r\n\t\t&lt;/fx:deploy&gt;\r\n\t&lt;/target&gt;\r\n\t\r\n    &lt;/project&gt;\r\n\r\nif I know more, I will contact you again","title":"Ant-task don&#39;t work with java 9","body":"<p>I found the error.</p>\n\n<p>Ant creates a temporary folder in which folder the data for the package is copied and now it is crazy.</p>\n\n<p>I run the script with Java 8, the file \"OE 7.iss\" is created.</p>\n\n<pre><code>C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss\n</code></pre>\n\n<p>I run the script with Java 9, the file \"OE7.iss\" is created, he\nremoves the space in the program name and can not find the file</p>\n\n<pre><code>C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE7.iss\n</code></pre>\n\n<p>I just changed the java version, nothing else.</p>\n\n<p>I was able to fix this error, I changed the program name to \"OE7\", but now I have new errors again</p>\n\n<p>Now the package is created (with Java 9) without \"OE7.iss (Inno Setup)\" and external libs, when i compile it with java 8, it works fine</p>\n\n<p>my build.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project name=\"Build\" default=\"do-deploy\" basedir=\".\"  xmlns:fx=\"javafx:com.sun.javafx.tools.ant\"&gt;\n\n&lt;property name=\"project.Folder\" value=\"Build\"/&gt;\n&lt;property name=\"publisher\" value=\"Indivikar AG\"/&gt;\n&lt;property name=\"native.Bundles\" value=\"exe\"/&gt;\n&lt;property name=\"title\" value=\"OE7\"/&gt;\n&lt;property name=\"version\" value=\"1.0.0\"/&gt;\n&lt;property name=\"main.Class\" value=\"application.StageStartOE7\"/&gt;\n&lt;!-- &lt;property name=\"Java.Version\" value=\"jdk1.8.0_151\"/&gt; --&gt;\n&lt;property name=\"Java.Version\" value=\"jdk-9.0.4\"/&gt;\n\n\n&lt;property name=\"project.Path\" value=\"D:\\Workspace BuildTest\\OE7\"/&gt;      \n&lt;property name=\"lib.Path\" value=\"${project.Path}\\lib\"/&gt; \n\n&lt;target name=\"init-fx-tasks\"&gt;\n    &lt;path id=\"fxant\"&gt;\n        &lt;filelist&gt;\n            &lt;file name=\"C:\\Program Files\\Java\\${Java.Version}\\lib\\ant-javafx.jar\"/&gt;\n            &lt;file name=\"C:\\Program Files\\Java\\${Java.Version}\\jre\\lib\\ext\\jfxrt.jar\"/&gt;\n            &lt;file name=\"${basedir}\"/&gt;\n        &lt;/filelist&gt;\n    &lt;/path&gt;\n\n    &lt;taskdef resource=\"com/sun/javafx/tools/ant/antlib.xml\"\n        uri=\"javafx:com.sun.javafx.tools.ant\"\n        classpathref=\"fxant\"/&gt;      \n&lt;/target&gt;\n\n&lt;target name=\"setup-staging-area\"&gt;\n    &lt;delete dir=\"externalLibs\" /&gt;\n    &lt;delete dir=\"externalFiles\" /&gt;\n    &lt;delete dir=\"project\" /&gt;\n    &lt;delete dir=\"projectRefs\" /&gt;\n\n    &lt;mkdir dir=\"externalLibs\" /&gt;    \n    &lt;mkdir dir=\"externalFiles\" /&gt;\n    &lt;mkdir dir=\"project\" /&gt;\n    &lt;mkdir dir=\"projectRefs\" /&gt;\n\n    &lt;copy todir=\"project\"&gt;\n        &lt;fileset dir=\"${project.Path}\"&gt;\n            &lt;include name=\"src/**\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n\n&lt;target name='do-compile'&gt;\n    &lt;delete dir=\"build\" /&gt;\n    &lt;mkdir dir=\"build/src\" /&gt;\n    &lt;mkdir dir=\"build/libs\" /&gt;\n    &lt;mkdir dir=\"build/classes\" /&gt;\n\n\n    &lt;!-- Copy project-libs references --&gt;   \n     &lt;copydir src=\"${lib.Path}\"\n               dest=\"${basedir}\\build\\libs\"\n               includes=\"**/*.jar\"\n               excludes=\"**/Test.java\"\n     /&gt;\n\n    &lt;copy todir=\"build/libs\"&gt;\n        &lt;fileset dir=\"externalLibs\"&gt;\n            &lt;include name=\"**/*.jar\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;!-- Copy project sources itself --&gt;\n    &lt;copy todir=\"build/src\"&gt;\n        &lt;fileset dir=\"project/src\"&gt;\n            &lt;include name=\"**/*\"/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;javac includeantruntime=\"false\" source=\"9\" target=\"9\" srcdir=\"build/src\" destdir=\"build/classes\" encoding=\"Cp1252\"&gt;\n        &lt;classpath&gt;\n            &lt;fileset dir=\"build/libs\"&gt;\n                &lt;include name=\"*\"/&gt;\n            &lt;/fileset&gt;\n        &lt;/classpath&gt;\n    &lt;/javac&gt;\n\n    &lt;!-- Copy over none Java-Files --&gt;\n    &lt;copy todir=\"build/classes\"&gt;\n    &lt;fileset dir=\"project/src\"&gt;\n        &lt;exclude name=\"**/*.java\"/&gt;\n    &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n&lt;/target&gt;\n&lt;target name=\"do-deploy\" depends=\"setup-staging-area, do-compile, init-fx-tasks\"&gt;\n    &lt;delete file=\"dist\"/&gt;       \n    &lt;delete file=\"deploy\" /&gt;\n\n    &lt;mkdir dir=\"dist\" /&gt;\n    &lt;mkdir dir=\"dist/libs\" /&gt;\n\n    &lt;copy todir=\"dist/libs\"&gt;\n        &lt;fileset dir=\"externalLibs\"&gt;\n            &lt;include name=\"*\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n\n    &lt;fx:resources id=\"appRes\"&gt;\n        &lt;fx:fileset dir=\"dist\" includes=\"${project.Folder}.jar\"/&gt;           \n        &lt;fx:fileset dir=\"dist\" includes=\"libs/*\"/&gt;\n        &lt;fx:fileset dir=\"dist\" includes=\"resources/**\"/&gt;\n    &lt;/fx:resources&gt;\n\n    &lt;fx:application id=\"fxApplication\"\n        name=\"${title}\"\n        mainClass=\"${main.Class}\"\n        version=\"${version}\"\n    /&gt;\n\n    &lt;mkdir dir=\"build/classes/META-INF\" /&gt;\n\n    &lt;fx:jar destfile=\"dist/Build.jar\"&gt;\n        &lt;fx:application refid=\"fxApplication\"/&gt;\n        &lt;fileset dir=\"build/classes\"&gt;\n        &lt;/fileset&gt;\n        &lt;fx:resources refid=\"appRes\"/&gt;\n\n        &lt;manifest&gt;\n            &lt;attribute name=\"Implementation-Vendor\" value=\"${publisher}\"/&gt;\n            &lt;attribute name=\"Implementation-Title\" value=\"${title}\"/&gt;\n            &lt;attribute name=\"Implementation-Version\" value=\"${version}\"/&gt;\n            &lt;attribute name=\"JavaFX-Feature-Proxy\" value=\"None\"/&gt;\n        &lt;/manifest&gt;\n    &lt;/fx:jar&gt;\n\n    &lt;mkdir dir=\"deploy\" /&gt;\n\n    &lt;fx:deploy\n        embedJNLP=\"false\"\n        extension=\"false\"\n        includeDT=\"false\"\n        offlineAllowed=\"true\"\n        outdir=\"${basedir}/deploy\"          \n        outfile=\"Build\" nativeBundles=\"${native.Bundles}\"\n        updatemode=\"background\" \n        verbose=\"true\" &gt;\n\n\n        &lt;fx:info title=\"Build\" vendor=\"${publisher}\"/&gt;\n\n        &lt;fx:application refId=\"fxApplication\"/&gt;\n        &lt;fx:resources refid=\"appRes\"/&gt;\n    &lt;/fx:deploy&gt;\n&lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>if I know more, I will contact you again</p>\n"},{"tags":[],"owner":{"account_id":1257758,"reputation":1666,"user_id":1216859,"accept_rate":71,"display_name":"Saeid Nourian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644844015,"creation_date":1531452770,"answer_id":51317265,"question_id":49645502,"body_markdown":"This is a known bug. After Java 8, the javafxpackager ant-task no longer accepts [space] characters. There is a bug report in Oracle website:\r\n\r\n[https://bugs.openjdk.java.net/browse/JDK-8202960][1]\r\n\r\nBut it is closed as &quot;Won&#39;t Fix&quot;. As for the explanation on why they won&#39;t fix this, I found this comment from one of Oracle engineers:\r\n\r\n&gt; We are working on opportunity to propose some new tool to address this\r\n&gt; functionality, but it is too early to share details as this is under\r\n&gt; discussion.\r\n\r\nSo it appears that Oracle will soon retire Javafx ant-task in favor something else. But I don&#39;t know what or when :(\r\n\r\n\r\n**Update 1:**\r\n\r\nIn Java 11 Oracle will retire JavaPackager but will introduce a new packager called JPackager. It will no longer include support for ant scripts; only command line. The details can be found here:\r\n\r\n[https://bugs.openjdk.java.net/browse/JDK-8200758][2]\r\n\r\n**Update 2:**\r\nAs @mipa pointed out in comments, JavaPackager will be removed from Java 11 but there won&#39;t be a replacement for it until Java 12 :(\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8202960\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8200758\r\n\r\n**Update 3:**\r\nJava 15+ now has jpackage which is much better than the old JavaPackager. It does not require ant task and very easy to use via command line.","title":"Ant-task don&#39;t work with java 9","body":"<p>This is a known bug. After Java 8, the javafxpackager ant-task no longer accepts [space] characters. There is a bug report in Oracle website:</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8202960\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8202960</a></p>\n<p>But it is closed as &quot;Won't Fix&quot;. As for the explanation on why they won't fix this, I found this comment from one of Oracle engineers:</p>\n<blockquote>\n<p>We are working on opportunity to propose some new tool to address this\nfunctionality, but it is too early to share details as this is under\ndiscussion.</p>\n</blockquote>\n<p>So it appears that Oracle will soon retire Javafx ant-task in favor something else. But I don't know what or when :(</p>\n<p><strong>Update 1:</strong></p>\n<p>In Java 11 Oracle will retire JavaPackager but will introduce a new packager called JPackager. It will no longer include support for ant scripts; only command line. The details can be found here:</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8200758\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8200758</a></p>\n<p><strong>Update 2:</strong>\nAs @mipa pointed out in comments, JavaPackager will be removed from Java 11 but there won't be a replacement for it until Java 12 :(</p>\n<p><strong>Update 3:</strong>\nJava 15+ now has jpackage which is much better than the old JavaPackager. It does not require ant task and very easy to use via command line.</p>\n"}],"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1632,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1644844015,"creation_date":1522828046,"question_id":49645502,"body_markdown":"I hope you can help me.\r\n\r\nI make a package with the ant build tool, java 8 works fine, but with java 9 i have a exception.\r\nI do not understand why, please help me\r\n\r\nFor the installer, I use Inno Setup 5.\r\nMy IDE is Eclipse Oxygen.1a Release (4.7.1a).\r\n\r\n\r\nthe exception\r\n\r\n        Buildfile: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build.xml\r\n    setup-staging-area:\r\n       [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalLibs\r\n       [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\r\n       [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\r\n       [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\projectRefs\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalLibs\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\projectRefs\r\n         [copy] Copying 42 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\r\n    do-compile:\r\n       [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\src\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\libs\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\r\n      [copydir] DEPRECATED - The copydir task is deprecated.  Use copy instead.\r\n      [copydir] Copying 1 file to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\r\n      [copydir] DEPRECATED - The copydir task is deprecated.  Use copy instead.\r\n      [copydir] Copying 6 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\libs\r\n         [copy] Copying 42 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\src\r\n         [copy] Copying 22 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\r\n         [copy] Copied 14 empty directories to 3 empty directories under    D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\r\n        init-fx-tasks:\r\n        do-deploy:\r\n        [copy] Copying 1 file to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\dist\r\n        [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build \\classes\\META-INF\r\n        &quot;Adding modules: [java.rmi, java.sql, javafx.web, jdk.charsets, java.logging, java.xml.crypto, java.xml, jdk.xml.dom, jdk.jfr, java.datatransfer, jdk.packager.services, jdk.httpserver, javafx.base, jdk.net, java.desktop, java.naming, javafx.controls, java.prefs, java.security.sasl, jdk.naming.rmi, jdk.zipfs, java.base, jdk.crypto.ec, jdk.management.agent, java.management, java.sql.rowset, javafx.swing, jdk.jsobject, jdk.sctp, java.smartcardio, jdk.unsupported, jdk.jdwp.agent, jdk.scripting.nashorn, java.instrument,  java.security.jgss, jdk.management, java.compiler, javafx.graphics,  jdk.security.auth, java.scripting, javafx.fxml, jdk.dynalink, javafx.media,  jdk.accessibility, java.management.rmi, jdk.naming.dns, jdk.security.jgss,  jdk.localedata] to runtime image.&quot;\r\n        [fx:deploy] java.io.IOException: Exec failed with code 2 command [[C:\\Program  Files (x86)\\Inno Setup 5\\iscc.exe, /oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss] in C:\\Users\\DH\\AppData\\Local \\Temp\\fxbundler15157392799151375137\\images\\win-exe.image\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:169)\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:142)\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:136)\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.buildEXE(WinExeBundler.java:703)\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.bundle(WinExeBundler.java:372)\r\n        [fx:deploy] \tat jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.execute(WinExeBundler.java:174)\r\n        [fx:deploy] \tat jdk.packager/com.sun.javafx.tools.packager.PackagerLib.generateNativeBundles(PackagerLib.java:371)\r\n        [fx:deploy] \tat jdk.packager/com.sun.javafx.tools.packager.PackagerLib.generateDeploymentPackages(PackagerLib.java:348)\r\n        [fx:deploy] \tat com.sun.javafx.tools.ant.DeployFXTask.execute(DeployFXTask.java:310)\r\n        [fx:deploy] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:293)\r\n        [fx:deploy] \tat jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n        [fx:deploy] \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        [fx:deploy] \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n        [fx:deploy] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\r\n        [fx:deploy] \tat org.apache.tools.ant.Task.perform(Task.java:348)\r\n        [fx:deploy] \tat org.apache.tools.ant.Target.execute(Target.java:435)\r\n        [fx:deploy] \tat org.apache.tools.ant.Target.performTasks(Target.java:456)\r\n        [fx:deploy] \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1405)\r\n        [fx:deploy] \tat org.apache.tools.ant.Project.executeTarget(Project.java:1376)\r\n        [fx:deploy] \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n        [fx:deploy] \tat org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:36)\r\n        [fx:deploy] \tat  org.apache.tools.ant.Project.executeTargets(Project.java:1260)\r\n        [fx:deploy] \tat org.eclipse.ant.internal.launching.remote.InternalAntRunner.run(InternalAntRunner.java:460)\r\n        [fx:deploy] \tat org.eclipse.ant.internal.launching.remote.InternalAntRunner.main(InternalAntR unner.java:142)\r\n    \r\n        BUILD FAILED\r\n        D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build.xml:191: Error: Bundler  &quot;EXE Installer&quot; (exe) failed to produce a bundle.\r\n    \r\n        Total time: 8 seconds\r\n\r\nWhat is it? I still wanted to post the build.xml, but I get this error\r\n&quot;It looks like your post is mostly code, please add some more details.&quot;","title":"Ant-task don&#39;t work with java 9","body":"<p>I hope you can help me.</p>\n\n<p>I make a package with the ant build tool, java 8 works fine, but with java 9 i have a exception.\nI do not understand why, please help me</p>\n\n<p>For the installer, I use Inno Setup 5.\nMy IDE is Eclipse Oxygen.1a Release (4.7.1a).</p>\n\n<p>the exception</p>\n\n<pre><code>    Buildfile: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build.xml\nsetup-staging-area:\n   [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalLibs\n   [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\n   [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\n   [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\projectRefs\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalLibs\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\projectRefs\n     [copy] Copying 42 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\project\ndo-compile:\n   [delete] Deleting directory D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\src\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\libs\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\n  [copydir] DEPRECATED - The copydir task is deprecated.  Use copy instead.\n  [copydir] Copying 1 file to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\externalFiles\n  [copydir] DEPRECATED - The copydir task is deprecated.  Use copy instead.\n  [copydir] Copying 6 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\libs\n     [copy] Copying 42 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\src\n     [copy] Copying 22 files to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\n     [copy] Copied 14 empty directories to 3 empty directories under    D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build\\classes\n    init-fx-tasks:\n    do-deploy:\n    [copy] Copying 1 file to D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\dist\n    [mkdir] Created dir: D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build \\classes\\META-INF\n    \"Adding modules: [java.rmi, java.sql, javafx.web, jdk.charsets, java.logging, java.xml.crypto, java.xml, jdk.xml.dom, jdk.jfr, java.datatransfer, jdk.packager.services, jdk.httpserver, javafx.base, jdk.net, java.desktop, java.naming, javafx.controls, java.prefs, java.security.sasl, jdk.naming.rmi, jdk.zipfs, java.base, jdk.crypto.ec, jdk.management.agent, java.management, java.sql.rowset, javafx.swing, jdk.jsobject, jdk.sctp, java.smartcardio, jdk.unsupported, jdk.jdwp.agent, jdk.scripting.nashorn, java.instrument,  java.security.jgss, jdk.management, java.compiler, javafx.graphics,  jdk.security.auth, java.scripting, javafx.fxml, jdk.dynalink, javafx.media,  jdk.accessibility, java.management.rmi, jdk.naming.dns, jdk.security.jgss,  jdk.localedata] to runtime image.\"\n    [fx:deploy] java.io.IOException: Exec failed with code 2 command [[C:\\Program  Files (x86)\\Inno Setup 5\\iscc.exe, /oD:\\Workspace BuildTest\\HT .-. OE7  v2\\build\\deploy, C:\\Users\\DH\\AppData\\Local\\Temp\\fxbundler15157392799151375137 \\images\\win-exe.image\\OE 7.iss] in C:\\Users\\DH\\AppData\\Local \\Temp\\fxbundler15157392799151375137\\images\\win-exe.image\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:169)\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:142)\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.IOUtils.exec(IOUtils.java:136)\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.buildEXE(WinExeBundler.java:703)\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.bundle(WinExeBundler.java:372)\n    [fx:deploy]     at jdk.packager/com.oracle.tools.packager.windows.WinExeBundler.execute(WinExeBundler.java:174)\n    [fx:deploy]     at jdk.packager/com.sun.javafx.tools.packager.PackagerLib.generateNativeBundles(PackagerLib.java:371)\n    [fx:deploy]     at jdk.packager/com.sun.javafx.tools.packager.PackagerLib.generateDeploymentPackages(PackagerLib.java:348)\n    [fx:deploy]     at com.sun.javafx.tools.ant.DeployFXTask.execute(DeployFXTask.java:310)\n    [fx:deploy]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:293)\n    [fx:deploy]     at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\n    [fx:deploy]     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    [fx:deploy]     at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    [fx:deploy]     at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)\n    [fx:deploy]     at org.apache.tools.ant.Task.perform(Task.java:348)\n    [fx:deploy]     at org.apache.tools.ant.Target.execute(Target.java:435)\n    [fx:deploy]     at org.apache.tools.ant.Target.performTasks(Target.java:456)\n    [fx:deploy]     at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1405)\n    [fx:deploy]     at org.apache.tools.ant.Project.executeTarget(Project.java:1376)\n    [fx:deploy]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n    [fx:deploy]     at org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:36)\n    [fx:deploy]     at  org.apache.tools.ant.Project.executeTargets(Project.java:1260)\n    [fx:deploy]     at org.eclipse.ant.internal.launching.remote.InternalAntRunner.run(InternalAntRunner.java:460)\n    [fx:deploy]     at org.eclipse.ant.internal.launching.remote.InternalAntRunner.main(InternalAntR unner.java:142)\n\n    BUILD FAILED\n    D:\\Workspace BuildTest\\HT .-. OE7 v2\\build\\build.xml:191: Error: Bundler  \"EXE Installer\" (exe) failed to produce a bundle.\n\n    Total time: 8 seconds\n</code></pre>\n\n<p>What is it? I still wanted to post the build.xml, but I get this error\n\"It looks like your post is mostly code, please add some more details.\"</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611300773,"post_id":65835649,"comment_id":116411569,"body_markdown":"That works exactly as intended, you open a stream to you application and ask for database entries. But how would your application know there has been new entries written to the database? Well it doesnt. You need to like all applications trigger event when there are new enteies and place them in the stream.","body":"That works exactly as intended, you open a stream to you application and ask for database entries. But how would your application know there has been new entries written to the database? Well it doesnt. You need to like all applications trigger event when there are new enteies and place them in the stream."},{"owner":{"account_id":12538967,"reputation":81,"user_id":9124653,"display_name":"vv01"},"score":0,"creation_date":1611308440,"post_id":65835649,"comment_id":116414511,"body_markdown":"That&#39;s interesting and good to know that it&#39;s working as intended. Thanks for the clarification. Do you have perhaps some information on how those trigger events can be implemented, some documentation and/or pointers perhaps? So that I at least know in which direction to look.","body":"That&#39;s interesting and good to know that it&#39;s working as intended. Thanks for the clarification. Do you have perhaps some information on how those trigger events can be implemented, some documentation and/or pointers perhaps? So that I at least know in which direction to look."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611311053,"post_id":65835649,"comment_id":116415724,"body_markdown":"Stack overflow is not a coding forum, it is a Q&amp;A site, so start by googling reading up what works for your database. I have no idea how it works for your db. You are also not allowed to ask for books, tutorials or documentation, its not that kind of site. read up on the rules of stack overflow. If you want to ”discuss” problems then you have to find another site.","body":"Stack overflow is not a coding forum, it is a Q&amp;A site, so start by googling reading up what works for your database. I have no idea how it works for your db. You are also not allowed to ask for books, tutorials or documentation, its not that kind of site. read up on the rules of stack overflow. If you want to ”discuss” problems then you have to find another site."},{"owner":{"account_id":12538967,"reputation":81,"user_id":9124653,"display_name":"vv01"},"score":0,"creation_date":1611327170,"post_id":65835649,"comment_id":116423064,"body_markdown":"I didn&#39;t ask for that specifically, but nevermind. Just wondering which way is the right way to search for in order to make this work. So far I have run into changeStreams for ReactiveMongoTemplate. Will figure it out.","body":"I didn&#39;t ask for that specifically, but nevermind. Just wondering which way is the right way to search for in order to make this work. So far I have run into changeStreams for ReactiveMongoTemplate. Will figure it out."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611327623,"post_id":65835649,"comment_id":116423332,"body_markdown":"`Just wondering which way is the right way to search for in order to make this work` is asking for documentation, tutorials and/or libraries which is not allowed. SO is a coding forum for very specific questions, with one specific answer. Your question has been answered. For future reference https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users","body":"<code>Just wondering which way is the right way to search for in order to make this work</code> is asking for documentation, tutorials and/or libraries which is not allowed. SO is a coding forum for very specific questions, with one specific answer. Your question has been answered. For future reference <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611421461,"creation_date":1611345389,"answer_id":65851920,"question_id":65835649,"body_markdown":"This works as intended. When you stream items from a `Flux&lt;T&gt;` it will feed as long as there are items in the stream. Then the stream will close. So in your case, it fetched all data from the database, streamed it to you and then closed.\r\n\r\nIf you wish to keep the stream open you need to keep sending data. One way to do that is to send `:keep alive` messages (messages that start with a comma) using `ServerSentsEvents`. You can read more about `ServerSentEvents` and the `colon operator` and these types of messages in the [official mozilla documentation][1].\r\n\r\nWhen you are able to actually keep the stream open, and wish to send data, your service will not know when new data is written to the database. So either you poll your database, or trigger an event when something is written, to fetch the newly written data and place this in the stream.\r\n\r\nHow to place data in a continuous open stream is way too big of a topic to explain here. But i suggest you read the following sections in the official reactor documentation:\r\n\r\n[Programmatically creating a sequence][2]\r\n\r\n[Processors and Sinks][3]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\r\n  [2]: https://projectreactor.io/docs/core/release/reference/#producing\r\n  [3]: https://projectreactor.io/docs/core/release/reference/#processors","title":"Spring WebFlux with ReactiveMongoRepository: not getting database updates through the stream","body":"<p>This works as intended. When you stream items from a <code>Flux&lt;T&gt;</code> it will feed as long as there are items in the stream. Then the stream will close. So in your case, it fetched all data from the database, streamed it to you and then closed.</p>\n<p>If you wish to keep the stream open you need to keep sending data. One way to do that is to send <code>:keep alive</code> messages (messages that start with a comma) using <code>ServerSentsEvents</code>. You can read more about <code>ServerSentEvents</code> and the <code>colon operator</code> and these types of messages in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"nofollow noreferrer\">official mozilla documentation</a>.</p>\n<p>When you are able to actually keep the stream open, and wish to send data, your service will not know when new data is written to the database. So either you poll your database, or trigger an event when something is written, to fetch the newly written data and place this in the stream.</p>\n<p>How to place data in a continuous open stream is way too big of a topic to explain here. But i suggest you read the following sections in the official reactor documentation:</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/reference/#producing\" rel=\"nofollow noreferrer\">Programmatically creating a sequence</a></p>\n<p><a href=\"https://projectreactor.io/docs/core/release/reference/#processors\" rel=\"nofollow noreferrer\">Processors and Sinks</a></p>\n"}],"owner":{"account_id":12538967,"reputation":81,"user_id":9124653,"display_name":"vv01"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65851920,"answer_count":1,"score":2,"last_activity_date":1644843886,"creation_date":1611262869,"question_id":65835649,"body_markdown":"**The issue I am facing:**\r\n\r\nWhatever I try through various tutorials on using Spring Reactive (WebFlux) REST API&#39;s, I am unable to get it to work. When I initially call my endpoint, I am able to get the results from the MongoDB collection. However, whenever I make an update to a document entry, or add a new document, it is not updated in through the text-event-stream. Each time I have to call the endpoint again to get new results. \r\n\r\n\r\n**The setup:**\r\n\r\nCurrently I have the following setup:\r\n- Spring Cloud Gateway (behind which I run various )\r\n- Spring Boot Service containing RestControllers (calling this the main service)\r\n\r\nI am using Spring Webflux, Spring Cloud Gateway and Spring ReactiveMongoRepository.\r\n\r\nThe dependencies included pom.xml for the Spring Boot main service:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\nThe code for the ReactiveMongoRepository:\r\n\r\n```\r\n@Repository\r\npublic interface TestRepository extends ReactiveMongoRepository&lt;TestIntegration, String&gt; {\r\n\r\n    @Query((&quot;{&#39;userId&#39;: ?0}&quot;))\r\n    Flux&lt;TestIntegration&gt; findbyUserId(String userId);\r\n}\r\n```\r\n\r\n\r\nThe code for the rest Controller:\r\n```\r\n@GetMapping(value = &quot;main/integrations&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\npublic Flux&lt;TestIntegration&gt; retrieveIntegrations(ServerWebExchange exchange) {\r\n        return testRepository.findAll();\r\n}\r\n\r\n```\r\n\r\nAccording to every tutorial/guideline I have read, this should be working according to this approach.\r\nHas anyone experienced this as well or might be able to assist in the matter? Currently stuck on this for days...","title":"Spring WebFlux with ReactiveMongoRepository: not getting database updates through the stream","body":"<p><strong>The issue I am facing:</strong></p>\n<p>Whatever I try through various tutorials on using Spring Reactive (WebFlux) REST API's, I am unable to get it to work. When I initially call my endpoint, I am able to get the results from the MongoDB collection. However, whenever I make an update to a document entry, or add a new document, it is not updated in through the text-event-stream. Each time I have to call the endpoint again to get new results.</p>\n<p><strong>The setup:</strong></p>\n<p>Currently I have the following setup:</p>\n<ul>\n<li>Spring Cloud Gateway (behind which I run various )</li>\n<li>Spring Boot Service containing RestControllers (calling this the main service)</li>\n</ul>\n<p>I am using Spring Webflux, Spring Cloud Gateway and Spring ReactiveMongoRepository.</p>\n<p>The dependencies included pom.xml for the Spring Boot main service:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>The code for the ReactiveMongoRepository:</p>\n<pre><code>@Repository\npublic interface TestRepository extends ReactiveMongoRepository&lt;TestIntegration, String&gt; {\n\n    @Query((&quot;{'userId': ?0}&quot;))\n    Flux&lt;TestIntegration&gt; findbyUserId(String userId);\n}\n</code></pre>\n<p>The code for the rest Controller:</p>\n<pre><code>@GetMapping(value = &quot;main/integrations&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;TestIntegration&gt; retrieveIntegrations(ServerWebExchange exchange) {\n        return testRepository.findAll();\n}\n\n</code></pre>\n<p>According to every tutorial/guideline I have read, this should be working according to this approach.\nHas anyone experienced this as well or might be able to assist in the matter? Currently stuck on this for days...</p>\n"},{"tags":["java","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":15641924,"reputation":1505,"user_id":11285069,"display_name":"Roman Sterlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554065473,"creation_date":1554065473,"answer_id":55445357,"question_id":55445334,"body_markdown":"The solution is : \n\nright click File &gt; New &gt; Server&gt; *select the installed Tomcat version* &gt; click on your project &gt; add &gt; finish.\n\n# 2  if you already have a Tomcat server up:\n simply make sure the serves folder is not closed (gray), if it is right click on the servers folder &amp; open project, then simply right click on your Tomcat server on the bottom, add &amp; remove, add you project &amp; your&#39;e done!","title":"Could not load the Tomcat server configuration The servers project is closed","body":"<p>The solution is :</p>\n<p>right click File &gt; New &gt; Server&gt; <em>select the installed Tomcat version</em> &gt; click on your project &gt; add &gt; finish.</p>\n<h1>2  if you already have a Tomcat server up:</h1>\n<p>simply make sure the serves folder is not closed (gray), if it is right click on the servers folder &amp; open project, then simply right click on your Tomcat server on the bottom, add &amp; remove, add you project &amp; your'e done!</p>\n"},{"tags":[],"owner":{"account_id":12174625,"reputation":72,"user_id":8888081,"display_name":"Anish Narayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644843665,"creation_date":1644843665,"answer_id":71112321,"question_id":55445334,"body_markdown":"This usually happens when the &quot;Close unrelated projects&quot; button is clicked. The most straightforward solution to this issue:\r\n\r\n1. Go to the bottom of the Project Explorer tab and there will be a project named &quot;Servers&quot;. If it&#39;s closed, the icon will have a different color than the projects that are open.\r\n\r\n2. Double-clicking &quot;Servers&quot; will open the project and solve this issue. That&#39;s what worked for me though. ","title":"Could not load the Tomcat server configuration The servers project is closed","body":"<p>This usually happens when the &quot;Close unrelated projects&quot; button is clicked. The most straightforward solution to this issue:</p>\n<ol>\n<li><p>Go to the bottom of the Project Explorer tab and there will be a project named &quot;Servers&quot;. If it's closed, the icon will have a different color than the projects that are open.</p>\n</li>\n<li><p>Double-clicking &quot;Servers&quot; will open the project and solve this issue. That's what worked for me though.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":15641924,"reputation":1505,"user_id":11285069,"display_name":"Roman Sterlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644843665,"creation_date":1554065250,"question_id":55445334,"body_markdown":"When trying to add the project to work with my tomcat server by right clicking on Tomcat server &gt; add&amp; remove &gt; adding the project to work with the server I get the error &quot;Could not load the Tomcat server configuration, The servers project is closed.\r\n\r\nusually this happens when you open a new Dynamic web project &amp; you don&#39;t have a servers folder coming from Tomcat or when the servers folder is closed.","title":"Could not load the Tomcat server configuration The servers project is closed","body":"<p>When trying to add the project to work with my tomcat server by right clicking on Tomcat server > add&amp; remove > adding the project to work with the server I get the error \"Could not load the Tomcat server configuration, The servers project is closed.</p>\n\n<p>usually this happens when you open a new Dynamic web project &amp; you don't have a servers folder coming from Tomcat or when the servers folder is closed.</p>\n"},{"tags":["java","spring-mvc","controller","transactional"],"answers":[{"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"down_vote_count":1,"up_vote_count":147,"is_accepted":true,"score":146,"last_activity_date":1469285100,"creation_date":1397684424,"answer_id":23120647,"question_id":23118789,"body_markdown":"**TLDR**: this is because only the service layer in the application has the logic needed to identify the scope of a database/business  transaction. The controller and persistence layer by design can&#39;t/shouldn&#39;t know the scope of a transaction.\r\n\r\nThe controller can be made `@Transactional`, but indeed it&#39;s a common recommendation to only make the service layer transactional (the persistence layer should not be transactional either).\r\n\r\nThe reason for this is not technical feasibility, but separation of concerns. The controller responsibility is to get the parameter requests, and then call one or more service methods and combine the results in a response that is then sent back to the client.\r\n\r\nSo the controller has a function of coordinator of the request execution, and transformer of the domain data to a format the client can consume such as DTOs.  \r\n\r\nThe business logic resides on the service layer, and the persistence layer just retrieve / stores data back and forth from the database.\r\n\r\nThe scope of a database transaction is really a business concept as much as a technical concept: in an account transfer an account can only be debited if the other is credited etc., so only the service layer that contains the business logic can really know the scope of a bank account transfer transaction.\r\n\r\nThe persistence layer cannot know what transaction it&#39;s in, take for example a method `customerDao.saveAddress`. Should it run in it&#39;s own separate transaction always? there is no way to know, it depends on the business logic calling it. Sometimes it should run on a separate transaction, sometimes only save it&#39;s data if the `saveCustomer` also worked, etc.\r\n\r\nThe same applies to the controller: should `saveCustomer` and `saveErrorMessages` go in the same transaction? You might want to save the customer and if that fails then try to save some error messages and return a proper error message to the client, instead of rolling back everything including the error messages you wanted to save on the database. \r\n\r\nIn non transactional controllers, methods returning from the service layer return detached entities because the session is closed. This is normal, the solution is to either use `OpenSessionInView`or do queries that eager fetch the results the controller knows it needs.\r\n\r\nHaving said that, it&#39;s not a crime to make controllers transactional, it&#39;s just not the most frequently used practice.","title":"Why we shouldn&#39;t make a Spring MVC controller @Transactional?","body":"<p><strong>TLDR</strong>: this is because only the service layer in the application has the logic needed to identify the scope of a database/business  transaction. The controller and persistence layer by design can't/shouldn't know the scope of a transaction.</p>\n\n<p>The controller can be made <code>@Transactional</code>, but indeed it's a common recommendation to only make the service layer transactional (the persistence layer should not be transactional either).</p>\n\n<p>The reason for this is not technical feasibility, but separation of concerns. The controller responsibility is to get the parameter requests, and then call one or more service methods and combine the results in a response that is then sent back to the client.</p>\n\n<p>So the controller has a function of coordinator of the request execution, and transformer of the domain data to a format the client can consume such as DTOs.  </p>\n\n<p>The business logic resides on the service layer, and the persistence layer just retrieve / stores data back and forth from the database.</p>\n\n<p>The scope of a database transaction is really a business concept as much as a technical concept: in an account transfer an account can only be debited if the other is credited etc., so only the service layer that contains the business logic can really know the scope of a bank account transfer transaction.</p>\n\n<p>The persistence layer cannot know what transaction it's in, take for example a method <code>customerDao.saveAddress</code>. Should it run in it's own separate transaction always? there is no way to know, it depends on the business logic calling it. Sometimes it should run on a separate transaction, sometimes only save it's data if the <code>saveCustomer</code> also worked, etc.</p>\n\n<p>The same applies to the controller: should <code>saveCustomer</code> and <code>saveErrorMessages</code> go in the same transaction? You might want to save the customer and if that fails then try to save some error messages and return a proper error message to the client, instead of rolling back everything including the error messages you wanted to save on the database. </p>\n\n<p>In non transactional controllers, methods returning from the service layer return detached entities because the session is closed. This is normal, the solution is to either use <code>OpenSessionInView</code>or do queries that eager fetch the results the controller knows it needs.</p>\n\n<p>Having said that, it's not a crime to make controllers transactional, it's just not the most frequently used practice.</p>\n"},{"tags":[],"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1496670809,"creation_date":1485015882,"answer_id":41781667,"question_id":23118789,"body_markdown":"Sometimes you want to roll back a transaction when an exception is thrown, but at the same time you want to handle the exception create a proper response in the controller to it.\r\n\r\n&lt;strike&gt;If you put `@Transactional` on the controller method the only way to enforce the rollback it to throw the transaction from the controller method, but then you cannot return a normal response object.&lt;/strike&gt;\r\n\r\n**Update:** A rollback can also be achieved programmatically, as outlined in [Rod&#233;rio&#39;s answer](https://stackoverflow.com/a/44332307/474034).\r\n\r\nA better solution is to make your service method transactional and then handle a possible exception in the controller methods.\r\n\r\nThe following example shows a user service with a `createUser` method, that method is responsible to create the user and send an email to the user. If sending the mail fails we want to rollback the user creation:\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n        @Transactional\r\n        public User createUser(Dto userDetails) {\r\n    \r\n            // 1. create user and persist to DB\r\n\r\n            // 2. submit a confirmation mail\r\n            //    -&gt; might cause exception if mail server has an error\r\n\r\n            // return the user\r\n        }\r\n    }\r\n\r\nThen in your controller you can wrap the call to `createUser` in a try/catch and create a proper response to the user:\r\n\r\n    @Controller\r\n    public class UserController {\r\n\r\n        @RequestMapping\r\n        public UserResultDto createUser (UserDto userDto) {\r\n             \r\n            UserResultDto result = new UserResultDto();\r\n              \r\n            try {\r\n\r\n                User user = userService.createUser(userDto);\r\n\r\n                // built result from user\r\n\r\n            } catch (Exception e) {\r\n                // transaction has already been rolled back.\r\n\r\n                result.message = &quot;User could not be created &quot; + \r\n                                 &quot;because mail server caused error&quot;;\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\nIf you put a `@Transaction` on your controller method that is simply not possible.","title":"Why we shouldn&#39;t make a Spring MVC controller @Transactional?","body":"<p>Sometimes you want to roll back a transaction when an exception is thrown, but at the same time you want to handle the exception create a proper response in the controller to it.</p>\n\n<p><strike>If you put <code>@Transactional</code> on the controller method the only way to enforce the rollback it to throw the transaction from the controller method, but then you cannot return a normal response object.</strike></p>\n\n<p><strong>Update:</strong> A rollback can also be achieved programmatically, as outlined in <a href=\"https://stackoverflow.com/a/44332307/474034\">Rodério's answer</a>.</p>\n\n<p>A better solution is to make your service method transactional and then handle a possible exception in the controller methods.</p>\n\n<p>The following example shows a user service with a <code>createUser</code> method, that method is responsible to create the user and send an email to the user. If sending the mail fails we want to rollback the user creation:</p>\n\n<pre><code>@Service\npublic class UserService {\n\n    @Transactional\n    public User createUser(Dto userDetails) {\n\n        // 1. create user and persist to DB\n\n        // 2. submit a confirmation mail\n        //    -&gt; might cause exception if mail server has an error\n\n        // return the user\n    }\n}\n</code></pre>\n\n<p>Then in your controller you can wrap the call to <code>createUser</code> in a try/catch and create a proper response to the user:</p>\n\n<pre><code>@Controller\npublic class UserController {\n\n    @RequestMapping\n    public UserResultDto createUser (UserDto userDto) {\n\n        UserResultDto result = new UserResultDto();\n\n        try {\n\n            User user = userService.createUser(userDto);\n\n            // built result from user\n\n        } catch (Exception e) {\n            // transaction has already been rolled back.\n\n            result.message = \"User could not be created \" + \n                             \"because mail server caused error\";\n        }\n\n        return result;\n    }\n}\n</code></pre>\n\n<p>If you put a <code>@Transaction</code> on your controller method that is simply not possible.</p>\n"},{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1496416719,"creation_date":1496416719,"answer_id":44332307,"question_id":23118789,"body_markdown":"I have seen both cases in practice, in medium- to large-sized business web applications, using various web frameworks (JSP/Struts 1.x, GWT, JSF 2, with Java EE and Spring).\r\n\r\nIn my experience, it&#39;s best to demarcate transactions at the highest level, ie, at the &quot;controller&quot; level.\r\n\r\nIn one case, we had a `BaseAction` class extending Struts&#39; `Action` class, with an implementation for the `execute(...)` method that handled Hibernate session management (saved into a `ThreadLocal` object), transaction begin/commit/rollback, and the mapping of exceptions to user-friendly error messages. This method would simply rollback the current transaction if any exception got propagated up to this level, or if it was marked for rollback only; otherwise, it would commit the transaction. This worked in every case, where normally there is a single database transaction for the whole HTTP request/response cycle. Rare cases where multiple transactions were needed would be handled in use-case specific code.\r\n\r\nIn the case of GWT-RPC, a similar solution was implemented by a base GWT Servlet implementation.\r\n\r\nWith JSF 2, I&#39;ve so far only used service-level demarcation (using EJB Session beans which automatically have &quot;REQUIRED&quot; transaction propagation). There are disadvantages here, as opposed to demarcating transactions at the level of the JSF backing beans. Basically, the problem is that in many cases the JSF controller needs to make several service calls, each one accessing the application database. With service-level transactions, this implies several separate transactions (all committed, unless an exception occurs), which taxes more the database server. It isn&#39;t just a performance disadvantage, though. Having multiple transactions for a single request/response can also lead to subtle bugs (I don&#39;t remember the details anymore, just that such issues did occur).\r\n\r\nOther answer to this question talks about &quot;logic needed to identify the scope of a database/business transaction&quot;. This argument doesn&#39;t make sense to me, since there is *no* logic associated with transaction demarcation at all, normally. Neither controller classes nor service classes need to actually &quot;know&quot; about transactions. In the vast majority of cases, in a web app each business operation occurs inside an HTTP request/response pair, with the scope of the transaction being all the individual operations being executed from the point the request is received up until the response being finished.\r\n\r\nOccasionaly, a business service or controller may need to handle an exception in a particular way, then probably mark the current transaction for rollback only. In Java EE (JTA), this is done by calling [UserTransaction#setRollbackOnly()](http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html). The `UserTransaction` object can be injected into a `@Resource` field, or obtained programmatically from some `ThreadLocal`. In Spring, the `@Transactional` annotation allows rollback to be specified for certain exception types, or code can obtain a thread-local [TransactionStatus](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/TransactionStatus.html) and call `setRollbackOnly()`.\r\n\r\nSo, in my opinion and experience, making the controller transactional is the better approach.","title":"Why we shouldn&#39;t make a Spring MVC controller @Transactional?","body":"<p>I have seen both cases in practice, in medium- to large-sized business web applications, using various web frameworks (JSP/Struts 1.x, GWT, JSF 2, with Java EE and Spring).</p>\n\n<p>In my experience, it's best to demarcate transactions at the highest level, ie, at the \"controller\" level.</p>\n\n<p>In one case, we had a <code>BaseAction</code> class extending Struts' <code>Action</code> class, with an implementation for the <code>execute(...)</code> method that handled Hibernate session management (saved into a <code>ThreadLocal</code> object), transaction begin/commit/rollback, and the mapping of exceptions to user-friendly error messages. This method would simply rollback the current transaction if any exception got propagated up to this level, or if it was marked for rollback only; otherwise, it would commit the transaction. This worked in every case, where normally there is a single database transaction for the whole HTTP request/response cycle. Rare cases where multiple transactions were needed would be handled in use-case specific code.</p>\n\n<p>In the case of GWT-RPC, a similar solution was implemented by a base GWT Servlet implementation.</p>\n\n<p>With JSF 2, I've so far only used service-level demarcation (using EJB Session beans which automatically have \"REQUIRED\" transaction propagation). There are disadvantages here, as opposed to demarcating transactions at the level of the JSF backing beans. Basically, the problem is that in many cases the JSF controller needs to make several service calls, each one accessing the application database. With service-level transactions, this implies several separate transactions (all committed, unless an exception occurs), which taxes more the database server. It isn't just a performance disadvantage, though. Having multiple transactions for a single request/response can also lead to subtle bugs (I don't remember the details anymore, just that such issues did occur).</p>\n\n<p>Other answer to this question talks about \"logic needed to identify the scope of a database/business transaction\". This argument doesn't make sense to me, since there is <em>no</em> logic associated with transaction demarcation at all, normally. Neither controller classes nor service classes need to actually \"know\" about transactions. In the vast majority of cases, in a web app each business operation occurs inside an HTTP request/response pair, with the scope of the transaction being all the individual operations being executed from the point the request is received up until the response being finished.</p>\n\n<p>Occasionaly, a business service or controller may need to handle an exception in a particular way, then probably mark the current transaction for rollback only. In Java EE (JTA), this is done by calling <a href=\"http://docs.oracle.com/javaee/6/api/javax/transaction/UserTransaction.html\" rel=\"noreferrer\">UserTransaction#setRollbackOnly()</a>. The <code>UserTransaction</code> object can be injected into a <code>@Resource</code> field, or obtained programmatically from some <code>ThreadLocal</code>. In Spring, the <code>@Transactional</code> annotation allows rollback to be specified for certain exception types, or code can obtain a thread-local <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/TransactionStatus.html\" rel=\"noreferrer\">TransactionStatus</a> and call <code>setRollbackOnly()</code>.</p>\n\n<p>So, in my opinion and experience, making the controller transactional is the better approach.</p>\n"},{"tags":[],"owner":{"account_id":222096,"reputation":10190,"user_id":480467,"accept_rate":0,"display_name":"Werner Altewischer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644843570,"creation_date":1644843570,"answer_id":71112303,"question_id":23118789,"body_markdown":"I think the best way is to put the transactional annotation at the layer where you transition from entities (persistent objects) to DTOs (transient objects). The reason for this is that entity relations may need to be traversed which may trigger lazy initializations and you don&#39;t want to use the [open session in view anti-pattern][1].\r\n\r\nOne argument to put them at the controller level would be that REST already dictates the read-only or read-write properties of a transaction. (GET should be read-only and POST/PUT/DELETE should be read-write). Mind that this would only work if your exception to error response handling happens outside of the controller so a transaction is properly rolled back when this happens.\r\n\r\nAn argument to put them at the service layer is that the service probably relies on the proper transaction isolation/propagation for its inner workings. \r\n\r\nProbably the best compromise is to design facade level services which only list DTO object in their API and contain the transaction annotations as part of their interface. It is important to design the interfaces with the transactional handling in mind, since calling a read-write method from a read-only method may have [undesirable side effects][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48222934/480467\r\n  [2]: https://stackoverflow.com/questions/1614139/spring-transactional-read-only-propagation","title":"Why we shouldn&#39;t make a Spring MVC controller @Transactional?","body":"<p>I think the best way is to put the transactional annotation at the layer where you transition from entities (persistent objects) to DTOs (transient objects). The reason for this is that entity relations may need to be traversed which may trigger lazy initializations and you don't want to use the <a href=\"https://stackoverflow.com/a/48222934/480467\">open session in view anti-pattern</a>.</p>\n<p>One argument to put them at the controller level would be that REST already dictates the read-only or read-write properties of a transaction. (GET should be read-only and POST/PUT/DELETE should be read-write). Mind that this would only work if your exception to error response handling happens outside of the controller so a transaction is properly rolled back when this happens.</p>\n<p>An argument to put them at the service layer is that the service probably relies on the proper transaction isolation/propagation for its inner workings.</p>\n<p>Probably the best compromise is to design facade level services which only list DTO object in their API and contain the transaction annotations as part of their interface. It is important to design the interfaces with the transactional handling in mind, since calling a read-write method from a read-only method may have <a href=\"https://stackoverflow.com/questions/1614139/spring-transactional-read-only-propagation\">undesirable side effects</a>.</p>\n"}],"owner":{"account_id":2396295,"reputation":3057,"user_id":2095024,"accept_rate":62,"display_name":"jeromerg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56597,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":23120647,"answer_count":4,"score":92,"last_activity_date":1644843570,"creation_date":1397677572,"question_id":23118789,"body_markdown":"There are already a few questions about the topic, but no response at all really provides arguments in order to explain why we shouldn&#39;t make a Spring MVC controller `Transactional`. See:\r\n\r\n- [https://stackoverflow.com/questions/20385412/transaction-not-working-correctly-spring-mybatis](https://stackoverflow.com/questions/20385412/transaction-not-working-correctly-spring-mybatis)\r\n\r\n- [https://stackoverflow.com/questions/15620355/for-web-mvc-spring-app-should-transactional-go-on-controller-or-service](https://stackoverflow.com/questions/15620355/for-web-mvc-spring-app-should-transactional-go-on-controller-or-service)\r\n\r\n- [https://stackoverflow.com/questions/12971848/making-spring-3-mvc-controller-method-transactional](https://stackoverflow.com/questions/12971848/making-spring-3-mvc-controller-method-transactional)\r\n\r\n- [https://stackoverflow.com/questions/18633514/spring-mvc-controller-transactional](https://stackoverflow.com/questions/18633514/spring-mvc-controller-transactional)\r\n\r\n\r\nSo, why?\r\n\r\n - Is there **insurmountable** technical issues? \r\n - Is there architectural issues?\r\n - Is there performance/deadlock/concurrency issues?\r\n - Are sometimes multiple separate transactions required? If yes, what are the use cases? (I like the simplifying design, that calls to server either completely succeed or completely fail. It sounds to be a very stable behavior)\r\n\r\nBackground:\r\nI worked a few years ago in a Team on a quite large ERP Software implemented in C#/NHibernate/Spring.Net. The round-trip to the server was exactly implemented like that: the transaction was opened before entering any controller logic and was committed or rollbacked after exiting the controller. The transaction was managed in the framework so that no one had to care about it. *It was a brilliant solution: stable, simple, only a few architects had to care about transaction issues, the rest of the team just implemented features.* \r\n\r\nFrom my point of view, it is the best design I have ever seen. As I tried to reproduce the same design with Spring MVC, I entered in a nightmare with lazy-loading and transaction issues and every time the same answer: don&#39;t make the controller transactional, but why?\r\n\r\nThank you in advance for your founded answers!","title":"Why we shouldn&#39;t make a Spring MVC controller @Transactional?","body":"<p>There are already a few questions about the topic, but no response at all really provides arguments in order to explain why we shouldn't make a Spring MVC controller <code>Transactional</code>. See:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/20385412/transaction-not-working-correctly-spring-mybatis\">Transaction not working correctly - Spring/MyBatis</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/15620355/for-web-mvc-spring-app-should-transactional-go-on-controller-or-service\">For web MVC Spring app should @Transactional go on controller or service?</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/12971848/making-spring-3-mvc-controller-method-transactional\">Making Spring 3 MVC controller method Transactional</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/18633514/spring-mvc-controller-transactional\">Spring MVC Controller Transactional</a></p></li>\n</ul>\n\n<p>So, why?</p>\n\n<ul>\n<li>Is there <strong>insurmountable</strong> technical issues? </li>\n<li>Is there architectural issues?</li>\n<li>Is there performance/deadlock/concurrency issues?</li>\n<li>Are sometimes multiple separate transactions required? If yes, what are the use cases? (I like the simplifying design, that calls to server either completely succeed or completely fail. It sounds to be a very stable behavior)</li>\n</ul>\n\n<p>Background:\nI worked a few years ago in a Team on a quite large ERP Software implemented in C#/NHibernate/Spring.Net. The round-trip to the server was exactly implemented like that: the transaction was opened before entering any controller logic and was committed or rollbacked after exiting the controller. The transaction was managed in the framework so that no one had to care about it. <em>It was a brilliant solution: stable, simple, only a few architects had to care about transaction issues, the rest of the team just implemented features.</em> </p>\n\n<p>From my point of view, it is the best design I have ever seen. As I tried to reproduce the same design with Spring MVC, I entered in a nightmare with lazy-loading and transaction issues and every time the same answer: don't make the controller transactional, but why?</p>\n\n<p>Thank you in advance for your founded answers!</p>\n"},{"tags":["java","guice"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1357066101,"creation_date":1357024810,"answer_id":14108656,"question_id":14096529,"body_markdown":"`@Transactional` method annotations work through [`AOP`][aop], in which Guice fulfills a request for `Foo` by creating a proxy object that intercepts those annotated method calls and (optionally) forwards them to the actual object. Make sure that the following are true:\r\n\r\n  1. You have created the object with the `@Transactional` method through Guice, since Guice otherwise won&#39;t have any chance to provide the proxy instead.\r\n\r\n  2. Neither the class nor the method is marked `final`, since AOP can&#39;t override those easily.\r\n\r\n  3. You have installed [JpaPersistModule][jpm], or some other form of [PersistModule][pm]. Note from that source code that this module is actually what binds the `MethodInterceptor` to the `@Transactional` annotation.\r\n\r\nIf this doesn&#39;t fit your needs exactly, remember that you can always go with the [AOP documentation][aop] to write your own method interceptor. Good luck!\r\n\r\n[jpm]: http://code.google.com/p/google-guice/wiki/JPA\r\n[pm]: http://code.google.com/p/google-guice/source/browse/extensions/persist/src/com/google/inject/persist/PersistModule.java\r\n[aop]: http://code.google.com/p/google-guice/wiki/AOP","title":"Guice @Transactional does not start an transaction","body":"<p><code>@Transactional</code> method annotations work through <a href=\"http://code.google.com/p/google-guice/wiki/AOP\" rel=\"noreferrer\"><code>AOP</code></a>, in which Guice fulfills a request for <code>Foo</code> by creating a proxy object that intercepts those annotated method calls and (optionally) forwards them to the actual object. Make sure that the following are true:</p>\n\n<ol>\n<li><p>You have created the object with the <code>@Transactional</code> method through Guice, since Guice otherwise won't have any chance to provide the proxy instead.</p></li>\n<li><p>Neither the class nor the method is marked <code>final</code>, since AOP can't override those easily.</p></li>\n<li><p>You have installed <a href=\"http://code.google.com/p/google-guice/wiki/JPA\" rel=\"noreferrer\">JpaPersistModule</a>, or some other form of <a href=\"http://code.google.com/p/google-guice/source/browse/extensions/persist/src/com/google/inject/persist/PersistModule.java\" rel=\"noreferrer\">PersistModule</a>. Note from that source code that this module is actually what binds the <code>MethodInterceptor</code> to the <code>@Transactional</code> annotation.</p></li>\n</ol>\n\n<p>If this doesn't fit your needs exactly, remember that you can always go with the <a href=\"http://code.google.com/p/google-guice/wiki/AOP\" rel=\"noreferrer\">AOP documentation</a> to write your own method interceptor. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":2188732,"reputation":177,"user_id":1936452,"accept_rate":0,"display_name":"Mike Petersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357049741,"creation_date":1357049741,"answer_id":14111208,"question_id":14096529,"body_markdown":"After checking everything again it did not work. The funny part is that it worked in between, but only every hundred times.\r\n\r\nAfter some additional testing i found that i need to recreate the Classes on each Request. Before i just created them at application start. Now it seems to work perfectly.\r\n\r\nThanks for tips helped me to investigate it further.","title":"Guice @Transactional does not start an transaction","body":"<p>After checking everything again it did not work. The funny part is that it worked in between, but only every hundred times.</p>\n\n<p>After some additional testing i found that i need to recreate the Classes on each Request. Before i just created them at application start. Now it seems to work perfectly.</p>\n\n<p>Thanks for tips helped me to investigate it further.</p>\n"},{"tags":[],"owner":{"account_id":1358957,"reputation":2419,"user_id":1296709,"accept_rate":63,"display_name":"derabbink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385715907,"creation_date":1385715907,"answer_id":20281845,"question_id":14096529,"body_markdown":"I had this problem in the following situation, so I thought I&#39;d post my solution here, too:\r\n\r\n`BusinessLogic` requires two constructor arguments: `MyDao`, which I could theoretically get from guice, and some other object that I could *not* get from guice.&lt;br/&gt;\r\nSo I created a `BusinessLogicProvider` (`extends AbstactProvider`), but it&#39;s not used with `bind(BusinessLogic.class).toProvider(BusinessLogicProvider)`).\r\nNow I just bind the `BusinessLogicProvider` like any guice-served type: `bind(BusinessLogicProvider.class);`\r\n\r\nInside my `BusinessLogicProvider` class I can now use `@Inject` on a `private Provider&lt;MyDao&gt; daoProvider;`\r\n\r\nLater, in the `BusinessLogicProvider`&#39;s `public BusinessLogic get()` method, I can then call `BusinessLogic`&#39;s constructor with the two arguments required: `daoProvider.get()` and the other object I cannot get from guice.\r\n\r\n**The Pitfall:** when the `@Inject`ed `private Provider&lt;MyDao&gt; daoProvider;` of my `BusinessLogicProvider` is not of type `Provider&lt;MyDao&gt;` (but simpy of type `MyDao`), it will not work.&lt;br/&gt;\r\nEven if the `@Inject`ed `MyDao` *would* have come from guice, guice needs to create a new one every time you instantiate `BusinessLogic`.","title":"Guice @Transactional does not start an transaction","body":"<p>I had this problem in the following situation, so I thought I'd post my solution here, too:</p>\n\n<p><code>BusinessLogic</code> requires two constructor arguments: <code>MyDao</code>, which I could theoretically get from guice, and some other object that I could <em>not</em> get from guice.<br/>\nSo I created a <code>BusinessLogicProvider</code> (<code>extends AbstactProvider</code>), but it's not used with <code>bind(BusinessLogic.class).toProvider(BusinessLogicProvider)</code>).\nNow I just bind the <code>BusinessLogicProvider</code> like any guice-served type: <code>bind(BusinessLogicProvider.class);</code></p>\n\n<p>Inside my <code>BusinessLogicProvider</code> class I can now use <code>@Inject</code> on a <code>private Provider&lt;MyDao&gt; daoProvider;</code></p>\n\n<p>Later, in the <code>BusinessLogicProvider</code>'s <code>public BusinessLogic get()</code> method, I can then call <code>BusinessLogic</code>'s constructor with the two arguments required: <code>daoProvider.get()</code> and the other object I cannot get from guice.</p>\n\n<p><strong>The Pitfall:</strong> when the <code>@Inject</code>ed <code>private Provider&lt;MyDao&gt; daoProvider;</code> of my <code>BusinessLogicProvider</code> is not of type <code>Provider&lt;MyDao&gt;</code> (but simpy of type <code>MyDao</code>), it will not work.<br/>\nEven if the <code>@Inject</code>ed <code>MyDao</code> <em>would</em> have come from guice, guice needs to create a new one every time you instantiate <code>BusinessLogic</code>.</p>\n"},{"tags":[],"owner":{"account_id":1810491,"reputation":2458,"user_id":1646671,"accept_rate":53,"display_name":"uldall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393939722,"creation_date":1393939722,"answer_id":22173285,"question_id":14096529,"body_markdown":"I had a problem similar to yours and it was resolved by switching from @javax.transaction.Transactional to @com.google.inject.persist.Transactional. Apparently Guice-Persist doesn&#39;t support the @Transactional annotation from the Java Transaction API.","title":"Guice @Transactional does not start an transaction","body":"<p>I had a problem similar to yours and it was resolved by switching from @javax.transaction.Transactional to @com.google.inject.persist.Transactional. Apparently Guice-Persist doesn't support the @Transactional annotation from the Java Transaction API.</p>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644843526,"creation_date":1644843526,"answer_id":71112293,"question_id":14096529,"body_markdown":"In addition to other answers, particularly Jeff Bowman and uldall&#39;s:\r\n\r\n## Make sure your Guice version is aligned with your JDK/JRE runtime ##\r\n\r\nI just ran into this problem because I was using a Java 17 runtime with a version of Guice (5.0.1) that doesn&#39;t support it; it [requires at least 5.1.0][1]!\r\n\r\n### If think you&#39;re using the right Guice version yet it still breaks... ###\r\n\r\nYou may need to debug your CLASSPATH.  If you&#39;re using a dependency manager:\r\n\r\n 1. Make sure your CLASSPATH doesn&#39;t happen to have a &quot;parasite&quot; obsolete version inserted as a transitive dependency.  With Gradle, the `:dependencies` task will help debug that.  \r\n 2. Your IDE could have a bug whereby its CLASSPATH conflict resolution (supposed to override older versions of transitive dependencies with newer ones) may not work as expected.  This happened to me with Eclipse Buildship and I had to explicitly prevent a project from bringing in the obsolete dependency with:\r\n    ```groovy\r\n    implementation(&quot;another-dependency:x.y.z&quot;) {\r\n\t    exclude group: &#39;com.google.inject&#39;, module: &#39;guice&#39;\r\n    }\r\n    ```\r\n### Bonus: verifying that Guice&#39;s instrumentation is working\r\n\r\nIt&#39;s a little annoying that there is no feedback when Guice fails to properly  instrument the code, beside a subsequent exception being thrown (eg `javax.persistence.TransactionRequiredException`).\r\n\r\nIn order to verify that it&#39;s actually working, it may be useful to inspect a call stack within a `@Transactional` method, as in:\r\n\r\n```java\r\n@Transactional\r\nvoid myTransactionalMethod() {\r\n  StackWalker.getInstance().forEach(System.out::println);\r\n  // rest of method\r\n}\r\n\r\n```\r\nIf Guice&#39;s instrumentation is working correctly, you&#39;ll find `com.google.inject.persist.jpa.JpaLocalTxnInterceptor` in the call stack on stdout.\r\n\r\nYou can also use your IDE&#39;s debugger; simply put a breakpoint at the beginning of the `@Transactional` method and inspect the call stack.\r\n\r\nThis allows verifying that even as of the current version of Guice (5.1.0), Guice still doesn&#39;t support the `javax.transaction.Transactional` annotation, per uldall&#39;s answer.\r\n\r\n  [1]: https://github.com/google/guice/wiki/Guice510","title":"Guice @Transactional does not start an transaction","body":"<p>In addition to other answers, particularly Jeff Bowman and uldall's:</p>\n<h2>Make sure your Guice version is aligned with your JDK/JRE runtime</h2>\n<p>I just ran into this problem because I was using a Java 17 runtime with a version of Guice (5.0.1) that doesn't support it; it <a href=\"https://github.com/google/guice/wiki/Guice510\" rel=\"nofollow noreferrer\">requires at least 5.1.0</a>!</p>\n<h3>If think you're using the right Guice version yet it still breaks...</h3>\n<p>You may need to debug your CLASSPATH.  If you're using a dependency manager:</p>\n<ol>\n<li>Make sure your CLASSPATH doesn't happen to have a &quot;parasite&quot; obsolete version inserted as a transitive dependency.  With Gradle, the <code>:dependencies</code> task will help debug that.</li>\n<li>Your IDE could have a bug whereby its CLASSPATH conflict resolution (supposed to override older versions of transitive dependencies with newer ones) may not work as expected.  This happened to me with Eclipse Buildship and I had to explicitly prevent a project from bringing in the obsolete dependency with:\n<pre><code>implementation(&quot;another-dependency:x.y.z&quot;) {\n    exclude group: 'com.google.inject', module: 'guice'\n}\n</code></pre>\n</li>\n</ol>\n<h3>Bonus: verifying that Guice's instrumentation is working</h3>\n<p>It's a little annoying that there is no feedback when Guice fails to properly  instrument the code, beside a subsequent exception being thrown (eg <code>javax.persistence.TransactionRequiredException</code>).</p>\n<p>In order to verify that it's actually working, it may be useful to inspect a call stack within a <code>@Transactional</code> method, as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\nvoid myTransactionalMethod() {\n  StackWalker.getInstance().forEach(System.out::println);\n  // rest of method\n}\n\n</code></pre>\n<p>If Guice's instrumentation is working correctly, you'll find <code>com.google.inject.persist.jpa.JpaLocalTxnInterceptor</code> in the call stack on stdout.</p>\n<p>You can also use your IDE's debugger; simply put a breakpoint at the beginning of the <code>@Transactional</code> method and inspect the call stack.</p>\n<p>This allows verifying that even as of the current version of Guice (5.1.0), Guice still doesn't support the <code>javax.transaction.Transactional</code> annotation, per uldall's answer.</p>\n"}],"owner":{"account_id":2188732,"reputation":177,"user_id":1936452,"accept_rate":0,"display_name":"Mike Petersen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5919,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1644843526,"creation_date":1356917510,"question_id":14096529,"body_markdown":"I have started to use Guice method-level transactions like described [here](http://code.google.com/p/google-guice/wiki/Transactions). I have a message like\r\n\r\n\r\n    @Inject\r\n    private EntityManager entityManager;\r\n\r\n    @Transactional\r\n    public UserSession createSession(User user, String browser) {\r\n        UserSession session = new UserSession(user, browser);\r\n        entityManager.persist(session);\r\n    }\r\n\r\nFrom the short description i thought wis should be enough. But i get an error cause no transaction is started. It works only if i start and commit it by myself.\r\n\r\nThe Object is created by Guice on the Start of my Application in an initializer. the same Instance is used for each request.\r\n\r\nWhy is it not working?","title":"Guice @Transactional does not start an transaction","body":"<p>I have started to use Guice method-level transactions like described <a href=\"http://code.google.com/p/google-guice/wiki/Transactions\" rel=\"noreferrer\">here</a>. I have a message like</p>\n\n<pre><code>@Inject\nprivate EntityManager entityManager;\n\n@Transactional\npublic UserSession createSession(User user, String browser) {\n    UserSession session = new UserSession(user, browser);\n    entityManager.persist(session);\n}\n</code></pre>\n\n<p>From the short description i thought wis should be enough. But i get an error cause no transaction is started. It works only if i start and commit it by myself.</p>\n\n<p>The Object is created by Guice on the Start of my Application in an initializer. the same Instance is used for each request.</p>\n\n<p>Why is it not working?</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644843320,"creation_date":1644830427,"answer_id":71109521,"question_id":71109282,"body_markdown":"Edited in reaction to your comment:\r\nHave your class changed from \r\n\r\n    public class Mapping { \r\n       public String name; \r\n       public Object value; \r\n    }\r\n\r\nto simply this: \r\n\r\n\r\n    public class Mapping { \r\n       public String name; \r\n    }\r\nand in your code to this:\r\n\r\n    Mapping myMapping = new Mapping();\r\n    myMapping.name = &quot;myValue&quot;;\r\n\r\nThis will be parsed to JSON: `{&quot;name&quot;:&quot;myValue&quot;}`\r\n\r\n**Additional edit**&lt;br&gt;\r\nOK, I think I understood what you want and I think it might be impossible in a single json serialization. Your options would be to create a custom serializer See this article: [Jackson – Custom Serializer][1]. Or (in my opinion simpler way) add a method to your class `toMap()` that will produce your desired map and than convert that map to Json. That will give you desired Json. BTW for simple Json serializer/deserializer that is a wrapper over Json-Jackson library look here: [JsonUtils][2]. The library could be found as [Maven artifact][4] and on [Github][5] (including source code and Javadoc).\r\n&lt;br&gt;\r\n**Original answer**:&lt;p&gt;\r\nYou need to use annotation `@JsonProperty` and its attribute &quot;name&quot;. Here is a good article about it: [Jackson – Change Name of Field][3]\r\n&lt;/p&gt;\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-custom-serialization\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [3]: https://www.baeldung.com/jackson-name-of-property\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"format a json of a class in spring","body":"<p>Edited in reaction to your comment:\nHave your class changed from</p>\n<pre><code>public class Mapping { \n   public String name; \n   public Object value; \n}\n</code></pre>\n<p>to simply this:</p>\n<pre><code>public class Mapping { \n   public String name; \n}\n</code></pre>\n<p>and in your code to this:</p>\n<pre><code>Mapping myMapping = new Mapping();\nmyMapping.name = &quot;myValue&quot;;\n</code></pre>\n<p>This will be parsed to JSON: <code>{&quot;name&quot;:&quot;myValue&quot;}</code></p>\n<p><strong>Additional edit</strong><br>\nOK, I think I understood what you want and I think it might be impossible in a single json serialization. Your options would be to create a custom serializer See this article: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">Jackson – Custom Serializer</a>. Or (in my opinion simpler way) add a method to your class <code>toMap()</code> that will produce your desired map and than convert that map to Json. That will give you desired Json. BTW for simple Json serializer/deserializer that is a wrapper over Json-Jackson library look here: <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a>. The library could be found as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> and on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc).\n<br>\n<strong>Original answer</strong>:<p>\nYou need to use annotation <code>@JsonProperty</code> and its attribute &quot;name&quot;. Here is a good article about it: <a href=\"https://www.baeldung.com/jackson-name-of-property\" rel=\"nofollow noreferrer\">Jackson – Change Name of Field</a></p>\n</p>\n"}],"owner":{"account_id":19104350,"reputation":15,"user_id":13951848,"display_name":"Amirhossein Rezvani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71109521,"answer_count":1,"score":0,"last_activity_date":1644843320,"creation_date":1644829137,"question_id":71109282,"body_markdown":"I am new with spring and I want the json response of my class\r\n\r\n`public class Mapping {\r\n    public String name;\r\n    public Object value;\r\n}` \r\n\r\nbe changed from \r\n\r\n`{&quot;name&quot; : &#39;value of field name&#39;, &quot;value&quot;: &#39;value of field value&#39;}`\r\nto \r\n\r\n`{&#39;value of field name&#39; : &#39;value of field value&#39;}`\r\n\r\nI tried `@JsonValue` and `@JsonKey` but they didn`t work. how can I do this.\r\n\r\nedit:\r\nI want to set the value of key dynamically and based on value of the field `name`.\r\n\r\nedit_P2:\r\nthis class, is a model for a single field in json, means an object of it must hold one key and value of my json, like a map, it has key and values, and what i want is to store key in field &#39;name&#39; and the value in outher field, so when i return this object, it returns the string in field &#39;name&#39; as key and the other one as value, lets assume name=&quot;the key&quot; and value=&quot;the value&quot;, i want it to be return as &quot;the key&quot;:&quot;the value&quot;. ","title":"format a json of a class in spring","body":"<p>I am new with spring and I want the json response of my class</p>\n<p><code>public class Mapping { public String name; public Object value; }</code></p>\n<p>be changed from</p>\n<p><code>{&quot;name&quot; : 'value of field name', &quot;value&quot;: 'value of field value'}</code>\nto</p>\n<p><code>{'value of field name' : 'value of field value'}</code></p>\n<p>I tried <code>@JsonValue</code> and <code>@JsonKey</code> but they didn`t work. how can I do this.</p>\n<p>edit:\nI want to set the value of key dynamically and based on value of the field <code>name</code>.</p>\n<p>edit_P2:\nthis class, is a model for a single field in json, means an object of it must hold one key and value of my json, like a map, it has key and values, and what i want is to store key in field 'name' and the value in outher field, so when i return this object, it returns the string in field 'name' as key and the other one as value, lets assume name=&quot;the key&quot; and value=&quot;the value&quot;, i want it to be return as &quot;the key&quot;:&quot;the value&quot;.</p>\n"},{"tags":["java","xml-parsing","jaxb","jaxb2-basics"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644843535,"post_id":71112208,"comment_id":125705284,"body_markdown":"What language is this?","body":"What language is this?"},{"owner":{"account_id":6280986,"reputation":244,"user_id":5232184,"display_name":"William"},"score":0,"creation_date":1644850454,"post_id":71112208,"comment_id":125708077,"body_markdown":"@pringi its kotlin","body":"@pringi its kotlin"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644851940,"post_id":71112208,"comment_id":125708692,"body_markdown":"Then change the tag of the question  from java to kotlin.","body":"Then change the tag of the question  from java to kotlin."}],"owner":{"account_id":6280986,"reputation":244,"user_id":5232184,"display_name":"William"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644843160,"creation_date":1644843160,"question_id":71112208,"body_markdown":"Hi I&#39;m trying parse xml with jaxb but its body always return null. I tried to create object of that class and convert it to xml that is same fine result but when try to parse it that is not working.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;soap:Body&gt;\r\n            &lt;St_PurchaseResponse xmlns=&quot;http://tempuri.org/&quot;&gt;\r\n                &lt;St_PurchaseResult&gt;\r\n                    &lt;string&gt;RESULT STRING&lt;/string&gt;\r\n                &lt;/St_PurchaseResult&gt;\r\n            &lt;/St_PurchaseResponse&gt;\r\n        &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nwith following code:\r\n\r\n     val responseObj: PurchaseResponseEnvelope? =\r\n                JAXBContext.newInstance(PurchaseResponseEnvelope::class.java).createUnmarshaller()\r\n                    .unmarshal(StreamSource(StringReader(response)), PurchaseResponseEnvelope::class.java).value\r\n\r\n\r\n    @XmlRootElement(name = &quot;soap:Envelope&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    open class ApiEnvelope {\r\n        @XmlAttribute(name = &quot;xmlns:soap&quot;)\r\n        val soapAttr = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \r\n        @XmlAttribute(name = &quot;xmlns:xsi&quot;)\r\n        val xsiAttr = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \r\n        @XmlAttribute(name = &quot;xmlns:xsd&quot;)\r\n        val xsdAttr = &quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    \r\n        constructor()\r\n    }\r\n    \r\n    \r\n    @XmlRootElement(name = &quot;soap:Envelope&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    class PurchaseResponseEnvelope : ApiEnvelope {\r\n        @XmlElement(name = &quot;soap:Body&quot;)\r\n        var body: PurchaseResponseBody? = null\r\n    \r\n        constructor(body: PurchaseResponseBody) {\r\n            this.body = body\r\n        }\r\n    \r\n        constructor() : super()\r\n    }\r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    class PurchaseResponseBody {\r\n        @XmlElement(name = &quot;St_PurchaseResponse&quot;)\r\n        var body: PurchaseResponseBodyWrap? = null\r\n    }\r\n    \r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    class PurchaseResponseBodyWrap {\r\n        @XmlAttribute(name = &quot;xmlns&quot;)\r\n        val namespace = &quot;http://tempuri.org/&quot;\r\n    \r\n        @XmlElement(name = &quot;St_PurchaseResult&quot;)\r\n        var result: PurchaseResponseResult? = null\r\n    }\r\n    \r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    class PurchaseResponseResult {\r\n        @XmlElement(name = &quot;string&quot;)\r\n        var result: String? = null\r\n    }\r\n\r\n\r\n\r\nBut this is not working body always null i tried to marshall object that is fine same xml result but when unmarshall always null body","title":"Parsing xml with jaxb return body always null","body":"<p>Hi I'm trying parse xml with jaxb but its body always return null. I tried to create object of that class and convert it to xml that is same fine result but when try to parse it that is not working.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;St_PurchaseResponse xmlns=&quot;http://tempuri.org/&quot;&gt;\n            &lt;St_PurchaseResult&gt;\n                &lt;string&gt;RESULT STRING&lt;/string&gt;\n            &lt;/St_PurchaseResult&gt;\n        &lt;/St_PurchaseResponse&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>with following code:</p>\n<pre><code> val responseObj: PurchaseResponseEnvelope? =\n            JAXBContext.newInstance(PurchaseResponseEnvelope::class.java).createUnmarshaller()\n                .unmarshal(StreamSource(StringReader(response)), PurchaseResponseEnvelope::class.java).value\n\n\n@XmlRootElement(name = &quot;soap:Envelope&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\nopen class ApiEnvelope {\n    @XmlAttribute(name = &quot;xmlns:soap&quot;)\n    val soapAttr = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n\n    @XmlAttribute(name = &quot;xmlns:xsi&quot;)\n    val xsiAttr = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\n    @XmlAttribute(name = &quot;xmlns:xsd&quot;)\n    val xsdAttr = &quot;http://www.w3.org/2001/XMLSchema&quot;\n\n    constructor()\n}\n\n\n@XmlRootElement(name = &quot;soap:Envelope&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\nclass PurchaseResponseEnvelope : ApiEnvelope {\n    @XmlElement(name = &quot;soap:Body&quot;)\n    var body: PurchaseResponseBody? = null\n\n    constructor(body: PurchaseResponseBody) {\n        this.body = body\n    }\n\n    constructor() : super()\n}\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\nclass PurchaseResponseBody {\n    @XmlElement(name = &quot;St_PurchaseResponse&quot;)\n    var body: PurchaseResponseBodyWrap? = null\n}\n\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\nclass PurchaseResponseBodyWrap {\n    @XmlAttribute(name = &quot;xmlns&quot;)\n    val namespace = &quot;http://tempuri.org/&quot;\n\n    @XmlElement(name = &quot;St_PurchaseResult&quot;)\n    var result: PurchaseResponseResult? = null\n}\n\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\nclass PurchaseResponseResult {\n    @XmlElement(name = &quot;string&quot;)\n    var result: String? = null\n}\n</code></pre>\n<p>But this is not working body always null i tried to marshall object that is fine same xml result but when unmarshall always null body</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1492344102,"post_id":43436804,"comment_id":73930968,"body_markdown":"have you tried with `BindingResult` .[this](https://spring.io/guides/gs/validating-form-input/) may be a good example of usage of this approach.","body":"have you tried with <code>BindingResult</code> .<a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">this</a> may be a good example of usage of this approach."},{"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"score":0,"creation_date":1492347307,"post_id":43436804,"comment_id":73931830,"body_markdown":"try to  use Validated instead of Valid","body":"try to  use Validated instead of Valid"},{"owner":{"account_id":6615911,"reputation":51,"user_id":5109143,"display_name":"rush"},"score":0,"creation_date":1492411626,"post_id":43436804,"comment_id":73949042,"body_markdown":"It still doesn&#39;t work","body":"It still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":5748373,"reputation":1514,"user_id":4538920,"accept_rate":0,"display_name":"Ahmed Shendy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605959338,"creation_date":1502889236,"answer_id":45714603,"question_id":43436804,"body_markdown":"Am, I am still new in Spring. But here is an answer for my situation if it suits you.\r\n\r\nTo make @Valid work you should include two packages javax validation-api and hibernate-validator, but I only included validation-api.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"spring @valid doesn&#39;t work","body":"<p>Am, I am still new in Spring. But here is an answer for my situation if it suits you.</p>\n<p>To make @Valid work you should include two packages javax validation-api and hibernate-validator, but I only included validation-api.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15734253,"reputation":41,"user_id":11353758,"display_name":"Can Okan Taşkıran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600204827,"creation_date":1600199562,"answer_id":63908953,"question_id":43436804,"body_markdown":"You are probably missing the dependencies.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n   &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, make sure you import `NotNull` correctly.\r\n\r\n```java\r\nimport javax.validation.constraints.NotNull;\r\n```","title":"spring @valid doesn&#39;t work","body":"<p>You are probably missing the dependencies.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n   &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, make sure you import <code>NotNull</code> correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.NotNull;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20240171,"reputation":21,"user_id":14844256,"display_name":"Sergey Kuznetsov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643615713,"creation_date":1643198917,"answer_id":70863226,"question_id":43436804,"body_markdown":"In my case adding of `@Validated` on top of RestController from `&quot;org.springframework.validation.annotation&quot;` solved the problem","title":"spring @valid doesn&#39;t work","body":"<p>In my case adding of <code>@Validated</code> on top of RestController from <code>&quot;org.springframework.validation.annotation&quot;</code> solved the problem</p>\n"},{"tags":[],"owner":{"account_id":24253239,"reputation":11,"user_id":18204013,"display_name":"tmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644843114,"creation_date":1644843114,"answer_id":71112197,"question_id":43436804,"body_markdown":"It doesn&#39;t work with hibernate validator version 7.x.x. Works fine with 6.2.1.Final","title":"spring @valid doesn&#39;t work","body":"<p>It doesn't work with hibernate validator version 7.x.x. Works fine with 6.2.1.Final</p>\n"}],"owner":{"account_id":6615911,"reputation":51,"user_id":5109143,"display_name":"rush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6601,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1644843114,"creation_date":1492342574,"question_id":43436804,"body_markdown":"i send a POST request of &quot;application/json&quot; type with 「postman」,set the param &quot;phone&quot; to empty string, normally it should print error for annotation &quot;@NotEmpty&quot;, however, it didn&#39;t print anything and work well.\r\n\r\ncontroller:\r\n\r\n      @RequestMapping(value = &quot;verify_smscode&quot;, method = RequestMethod.POST)\r\n      @ResponseBody\r\n      public ResponseDto verifySmsCode(HttpServletRequest request,\r\n          @Valid @RequestBody VerifySmsCodeParam params, Errors errors) {\r\n        if(errors.hasErrors()) {\r\n          System.out.println(&quot;error&quot;);\r\n        }\r\n    \r\n        boolean success = userService.verifySmsCode(params.getPhone(), params.getSmsCode());\r\n    \r\n        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        result.put(&quot;status&quot;, success);\r\n        return new ResponseDto(result);\r\n      }\r\nModel:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class VerifySmsCodeParam {\r\n    \r\n      @NotEmpty //import org.hibernate.validator.constraints.NotEmpty;\r\n      private String phone;\r\n    \r\n      @NotEmpty\r\n      private String smsCode;\r\n    }\r\n\r\nSpringMvcConfig:\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages=&quot;com.shit.voiceshare&quot;)\r\n    @EnableWebMvc\r\n    public class SpringMvcConfig extends WebMvcConfigurerAdapter {\r\n      @Override\r\n      public Validator getValidator() {\r\n        LocalValidatorFactoryBean localValidatorFactoryBean = new LocalValidatorFactoryBean();\r\n        localValidatorFactoryBean.setProviderClass(HibernateValidator.class);\r\n        return localValidatorFactoryBean;\r\n      }\r\n    }\r\n","title":"spring @valid doesn&#39;t work","body":"<p>i send a POST request of \"application/json\" type with 「postman」,set the param \"phone\" to empty string, normally it should print error for annotation \"@NotEmpty\", however, it didn't print anything and work well.</p>\n\n<p>controller:</p>\n\n<pre><code>  @RequestMapping(value = \"verify_smscode\", method = RequestMethod.POST)\n  @ResponseBody\n  public ResponseDto verifySmsCode(HttpServletRequest request,\n      @Valid @RequestBody VerifySmsCodeParam params, Errors errors) {\n    if(errors.hasErrors()) {\n      System.out.println(\"error\");\n    }\n\n    boolean success = userService.verifySmsCode(params.getPhone(), params.getSmsCode());\n\n    Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    result.put(\"status\", success);\n    return new ResponseDto(result);\n  }\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>@Data\n@NoArgsConstructor\npublic class VerifySmsCodeParam {\n\n  @NotEmpty //import org.hibernate.validator.constraints.NotEmpty;\n  private String phone;\n\n  @NotEmpty\n  private String smsCode;\n}\n</code></pre>\n\n<p>SpringMvcConfig:</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages=\"com.shit.voiceshare\")\n@EnableWebMvc\npublic class SpringMvcConfig extends WebMvcConfigurerAdapter {\n  @Override\n  public Validator getValidator() {\n    LocalValidatorFactoryBean localValidatorFactoryBean = new LocalValidatorFactoryBean();\n    localValidatorFactoryBean.setProviderClass(HibernateValidator.class);\n    return localValidatorFactoryBean;\n  }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1644843576,"post_id":71112187,"comment_id":125705299,"body_markdown":"`ORA-01017: invalid username/password; logon denied` Use the correct username and password.","body":"<code>ORA-01017: invalid username&#47;password; logon denied</code> Use the correct username and password."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1644844741,"post_id":71112187,"comment_id":125705746,"body_markdown":"Which user name and password should I provide","body":"Which user name and password should I provide"},{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1644844871,"post_id":71112187,"comment_id":125705789,"body_markdown":"The user for the Oracle database schema you want to connect to and their corresponding password.","body":"The user for the Oracle database schema you want to connect to and their corresponding password."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1644848755,"post_id":71112187,"comment_id":125707322,"body_markdown":"It says ,CFGFWK-64217: JDBC data source validations failed. I used the XE as database service and used the password of schema that I set when creating repository and configuration.","body":"It says ,CFGFWK-64217: JDBC data source validations failed. I used the XE as database service and used the password of schema that I set when creating repository and configuration."},{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1645002368,"post_id":71112187,"comment_id":125751972,"body_markdown":"The first connection is to the `DEV_STB` user, the second to `DEV_WLS_RUNTIME`, the third to `DEV_IAU_APPEND`, the fourth to `DEV_IAU_VIEWER` and the fifth to `DEV_OPSS`. The third through fifth fail - use the correct passwords for those users.","body":"The first connection is to the <code>DEV_STB</code> user, the second to <code>DEV_WLS_RUNTIME</code>, the third to <code>DEV_IAU_APPEND</code>, the fourth to <code>DEV_IAU_VIEWER</code> and the fifth to <code>DEV_OPSS</code>. The third through fifth fail - use the correct passwords for those users."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1645008744,"post_id":71112187,"comment_id":125754484,"body_markdown":"I needed to uninstall to the 21c oracle database , installed 19c database, create databse in toad. Then it&#39;s working fine.","body":"I needed to uninstall to the 21c oracle database , installed 19c database, create databse in toad. Then it&#39;s working fine."}],"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644843051,"creation_date":1644843022,"question_id":71112187,"body_markdown":"My JDBC connection test is failing in oracle middleware configuration. I have install oracle form and reports and successfully created repository and configuration. \r\nI update the existing domain template with config.cmd in oracle_home/oracle_common/common/bin folder. In Oracle middleware fusion configuration at 6 out of 10 (jDBC test) this shows up:\r\n\r\n&gt; Component Schema=LocalSvcTbl Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_STB\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=SELECT 1 FROM DUAL\r\n&gt; \r\n&gt; CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\r\n&gt; successful. CFGFWK-64213: No action required.\r\n&gt; \r\n&gt; Component Schema=WLS Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_WLS_RUNTIME\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=ISVALID\r\n&gt; \r\n&gt; CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\r\n&gt; successful. CFGFWK-64213: No action required.\r\n&gt; \r\n&gt; Component Schema=OPSS Audit Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_APPEND\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=ISVALID\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n&gt; \r\n&gt; Component Schema=OPSS Audit Viewer Schema\r\n&gt; Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_VIEWER\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=select 1 from schema_version_registry where owner=(select user\r\n&gt; from dual) and mr_type=&#39;IAU_VIEWER&#39; and version like &#39;12.2.1%&#39;\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n&gt; \r\n&gt; Component Schema=OPSS Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_OPSS\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=select 1 from schema_version_registry where owner=(select user\r\n&gt; from dual) and mr_type=&#39;OPSS&#39; and version like &#39;12.2.1%&#39;\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n\r\nI have created weblogic jdbc generic data resources. I am new in oracle and I am trying to learn oracle forms and reports. Many things I can&#39;t understand.\r\n\r\n","title":"JDBC component schema test: CFGFWK-64216: Data source ORA-01017: invalid username/password; logon denied connection test failed","body":"<p>My JDBC connection test is failing in oracle middleware configuration. I have install oracle form and reports and successfully created repository and configuration.\nI update the existing domain template with config.cmd in oracle_home/oracle_common/common/bin folder. In Oracle middleware fusion configuration at 6 out of 10 (jDBC test) this shows up:</p>\n<blockquote>\n<p>Component Schema=LocalSvcTbl Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_STB\nPassword=**************************************************** SQL\nTest=SELECT 1 FROM DUAL</p>\n<p>CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\nsuccessful. CFGFWK-64213: No action required.</p>\n<p>Component Schema=WLS Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_WLS_RUNTIME\nPassword=**************************************************** SQL\nTest=ISVALID</p>\n<p>CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\nsuccessful. CFGFWK-64213: No action required.</p>\n<p>Component Schema=OPSS Audit Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_APPEND\nPassword=**************************************************** SQL\nTest=ISVALID</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n<p>Component Schema=OPSS Audit Viewer Schema\nDriver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_VIEWER\nPassword=**************************************************** SQL\nTest=select 1 from schema_version_registry where owner=(select user\nfrom dual) and mr_type='IAU_VIEWER' and version like '12.2.1%'</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n<p>Component Schema=OPSS Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_OPSS\nPassword=**************************************************** SQL\nTest=select 1 from schema_version_registry where owner=(select user\nfrom dual) and mr_type='OPSS' and version like '12.2.1%'</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n</blockquote>\n<p>I have created weblogic jdbc generic data resources. I am new in oracle and I am trying to learn oracle forms and reports. Many things I can't understand.</p>\n"},{"tags":["java","eclipse","formatting","eclipse-jdt"],"comments":[{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1644842198,"post_id":71111981,"comment_id":125704831,"body_markdown":"Out of curiousity, what happens when you use `/** TEXT */`?","body":"Out of curiousity, what happens when you use <code>&#47;** TEXT *&#47;</code>?"},{"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"score":0,"creation_date":1644842431,"post_id":71111981,"comment_id":125704909,"body_markdown":"Actually in my case it won&#39;t happen, so didn&#39;t try","body":"Actually in my case it won&#39;t happen, so didn&#39;t try"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1644842719,"post_id":71111981,"comment_id":125705005,"body_markdown":"What is the purpose of the second comment? If anything you want to state about `unique = true` could be written in the first comment, then the second comment could be omitted and the default formatting would look fine in my opinion.","body":"What is the purpose of the second comment? If anything you want to state about <code>unique = true</code> could be written in the first comment, then the second comment could be omitted and the default formatting would look fine in my opinion."},{"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"score":1,"creation_date":1644843026,"post_id":71111981,"comment_id":125705092,"body_markdown":"I edited it a bit, those are tags which can contain some informations (needed by our analyzer). Here it is not possible to change place of unique attribute","body":"I edited it a bit, those are tags which can contain some informations (needed by our analyzer). Here it is not possible to change place of unique attribute"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1644851026,"post_id":71111981,"comment_id":125708322,"body_markdown":"It is recommended having comments before the code rather than after the code. So a line comment in a separate line refers to the code after, not to the code before it. That&#39;s why I guess that this is hard-coded in the built-in Java formatter and cannot be changed without changing the formatter (Eclipse provides an extension point for Java formatter, so additional Java formatter can be installed as plugins).","body":"It is recommended having comments before the code rather than after the code. So a line comment in a separate line refers to the code after, not to the code before it. That&#39;s why I guess that this is hard-coded in the built-in Java formatter and cannot be changed without changing the formatter (Eclipse provides an extension point for Java formatter, so additional Java formatter can be installed as plugins)."}],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644842979,"creation_date":1644841974,"question_id":71111981,"body_markdown":"I am using org.eclipse.jdt.core.formatter.CodeFormatter to format Java code.\r\nI have problem with one case:\r\nFor example before formatting I have such \r\n```\r\n@Column(name = &quot;COLUMN_NAME&quot;,\r\n\t   // &lt;tag&gt;\r\n\t\t\tunique = true\r\n\t   // &lt;/tag&gt;\r\n\t)\r\n```\r\nAfter format unfortunately it looks much worse:\r\n\r\n```\r\n@Column(name = &quot;COLUMN_NAME&quot;,\r\n\t\t\t// &lt;tag&gt;\r\n\t\t\tunique = true\r\n\t// &lt;/tag&gt;\r\n\t)\r\n```\r\n\r\nAs you can see first comment is shifted a bit. How can I configure it, to not do that?","title":"Formatting comments in annotations with eclipse.jdt","body":"<p>I am using org.eclipse.jdt.core.formatter.CodeFormatter to format Java code.\nI have problem with one case:\nFor example before formatting I have such</p>\n<pre><code>@Column(name = &quot;COLUMN_NAME&quot;,\n       // &lt;tag&gt;\n            unique = true\n       // &lt;/tag&gt;\n    )\n</code></pre>\n<p>After format unfortunately it looks much worse:</p>\n<pre><code>@Column(name = &quot;COLUMN_NAME&quot;,\n            // &lt;tag&gt;\n            unique = true\n    // &lt;/tag&gt;\n    )\n</code></pre>\n<p>As you can see first comment is shifted a bit. How can I configure it, to not do that?</p>\n"},{"tags":["java","android","android-recyclerview","bitmap"],"answers":[{"tags":[],"owner":{"account_id":21588838,"reputation":51,"user_id":15918820,"display_name":"Haxxan Parhar Developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644842826,"creation_date":1644842826,"answer_id":71112150,"question_id":62817622,"body_markdown":"I was facing the same issue when I was trying to get the bitmap from the textView. The textView was in the RecyclerView inside a bottom sheet. When I clicked on textView I was getting the bitmap and dismissing the bottom sheet.\r\n\r\nI got the bitmap from the drawing cache of the textView. I checked it using the debugger the bitmap was retrieved correctly. But when I passed it to callback (from recyclerView&#39;s adapter to activity), the bitmap in the callback is not shown in the debugger and I got the error &#39;cannot access an invalid/free&#39;d bitmap here!&#39;. \r\n\r\nAs of my understanding, When textView is not shown/rendered on the screen (In my case when I dismissed the bottom sheet) the cached bitmap becomes unavailable. Gotta read the relevant docs to know the exact cause of the problem.\r\n\r\nWhat I did to solve this issue is to create a copy of the bitmap and pass it to the callback and It worked!\r\n\r\nYou can copy the bitmap like this:\r\n\r\n    Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\r\n\r\n\r\nThe full code of retrieving the bitmap and creating new one:\r\n\r\n           holder.textView.setDrawingCacheEnabled(true);\r\n           holder.textView.buildDrawingCache();\r\n           Bitmap bitmap = holder.textView.getDrawingCache();\r\n           Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\r\n           holder.textView.setDrawingCacheEnabled(false);\r\n           callback.onWidgetSelected(copyBitmap);\r\n\r\nI hope you&#39;ll find it helpful. I&#39;ll make sure to study the docs as well and will update the answer when I find the cause of this problem.\r\n","title":"Error, cannot access an invalid/free&#39;d bitmap here! while using a Model Class containing Bitmap","body":"<p>I was facing the same issue when I was trying to get the bitmap from the textView. The textView was in the RecyclerView inside a bottom sheet. When I clicked on textView I was getting the bitmap and dismissing the bottom sheet.</p>\n<p>I got the bitmap from the drawing cache of the textView. I checked it using the debugger the bitmap was retrieved correctly. But when I passed it to callback (from recyclerView's adapter to activity), the bitmap in the callback is not shown in the debugger and I got the error 'cannot access an invalid/free'd bitmap here!'.</p>\n<p>As of my understanding, When textView is not shown/rendered on the screen (In my case when I dismissed the bottom sheet) the cached bitmap becomes unavailable. Gotta read the relevant docs to know the exact cause of the problem.</p>\n<p>What I did to solve this issue is to create a copy of the bitmap and pass it to the callback and It worked!</p>\n<p>You can copy the bitmap like this:</p>\n<pre><code>Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\n</code></pre>\n<p>The full code of retrieving the bitmap and creating new one:</p>\n<pre><code>       holder.textView.setDrawingCacheEnabled(true);\n       holder.textView.buildDrawingCache();\n       Bitmap bitmap = holder.textView.getDrawingCache();\n       Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\n       holder.textView.setDrawingCacheEnabled(false);\n       callback.onWidgetSelected(copyBitmap);\n</code></pre>\n<p>I hope you'll find it helpful. I'll make sure to study the docs as well and will update the answer when I find the cause of this problem.</p>\n"}],"owner":{"account_id":18409627,"reputation":168,"user_id":13410299,"display_name":"Kaunain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1644842826,"creation_date":1594306259,"question_id":62817622,"body_markdown":"In my app I&#39;m using model class containing a Bitmap for displaying an image on `recyclerView`\r\n\r\n    public class ImageModelClass {\r\n\r\n    Bitmap image;\r\n\r\n    public void setImage(Bitmap image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public Bitmap getImage() {\r\n        return image;\r\n    }\r\n\r\n**Problem is** when i am using Bitmap directly from my model class  then this error is throwing `Error, cannot access an invalid/free&#39;d bitmap here!`\r\n\r\nand  when i replace the Bitmap Class to a String in my model class and using encoded bitmap i converted bitmap Image into  a String then this error isn&#39;t coming .\r\n\r\nBut encoding a Bitmap is taking lot of time load images.\r\n\r\n    public class ImageCollection extends AppCompatActivity {\r\n    public static final String IMAGE_SHARED_PREFS = &quot;com.example.animproject_IMAGE_SHARED_PREFS&quot;;\r\n    public static final String IMAGE_DATA_KEY = &quot;com.example.animproject_IMAGE_DATA_KEY&quot;;\r\n\r\n    private static final int REQUEST_CODE = 1;\r\n    RecyclerView recyclerView;\r\n    ImageCollectionAdapter adapter;\r\n    List&lt;ImageModelClass&gt; imageList;\r\n    FloatingActionButton fab;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_image_collection);\r\n\r\n        loadAlbumData();\r\n        recyclerView = findViewById(R.id.imageCollectionRecyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\r\n\r\n        adapter = new ImageCollectionAdapter(this,imageList);\r\n        StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, GridLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(staggeredGridLayoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        fab = findViewById(R.id.fabButton);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent gallery = new Intent(Intent.ACTION_PICK);\r\n                gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                gallery.setType(&quot;image/*&quot;);\r\n\r\n                startActivityForResult(gallery, REQUEST_CODE);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n   \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            assert data != null;\r\n            ClipData clipData = data.getClipData();\r\n\r\n            if (clipData != null) {\r\n                for (int i = 0; i &lt; clipData.getItemCount(); i++) {\r\n\r\n                    Uri imageUri = clipData.getItemAt(i).getUri();\r\n                    InputStream inputStream;\r\n\r\n                    try {\r\n                        inputStream = getContentResolver().openInputStream(imageUri);\r\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                        ImageModelClass imageModelClass = new ImageModelClass();\r\n                        imageModelClass.setImage(bitmap);\r\n\r\n                        imageList.add(imageModelClass);\r\n                        adapter.notifyDataSetChanged();\r\n                        saveGalleryData();\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            } else {\r\n                Uri imageUri = data.getData();\r\n                InputStream inputStream = null;\r\n                try {\r\n                    assert imageUri != null;\r\n                    inputStream = getContentResolver().openInputStream(imageUri);\r\n\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                ImageModelClass imageModelClass = new ImageModelClass();\r\n                imageModelClass.setImage(bitmap);\r\n\r\n                imageList.add(imageModelClass);\r\n                adapter.notifyDataSetChanged();\r\n                saveGalleryData();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void saveGalleryData() {\r\n        SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(imageList);\r\n        editor.putString(IMAGE_DATA_KEY, json);\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadAlbumData() {\r\n        SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        Type type = new TypeToken&lt;ArrayList&lt;ImageModelClass&gt;&gt;() {\r\n        }.getType();\r\n        String data = preferences.getString(IMAGE_DATA_KEY, null);\r\n        imageList = gson.fromJson(data, type);\r\n\r\n        if (imageList == null) {\r\n            imageList = new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n**Adapter**\r\n\r\n    public class ImageCollectionAdapter extends RecyclerView.Adapter&lt;ImageCollectionAdapter.MyViewHolder&gt; {\r\n\r\n    List&lt;ImageModelClass&gt; list;\r\n    Context context;\r\n\r\n\r\n    public ImageCollectionAdapter(Context context,List&lt;ImageModelClass&gt; list) {\r\n        this.list = list;\r\n        this.context = context ;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.image_collection_lists, parent, false));\r\n    }\r\n    \r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull  \r\n    MyViewHolder holder, int position) {\r\n       ImageModelClass currentImage = \r\n      list.get(position);    \r\n  \r\n     Glide\r\n    .With(context.getApplicationContext)\r\n    .load(currentImages.getImages) \r\n     /* getting bitmap images from model \r\n      * class \r\n      */\r\n    .into(holder.imageView); \r\n          \r\n\r\n  \r\n    } \r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        RoundedImageView imageView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.galleryPicture);\r\n        }\r\n    }\r\n    }\r\n\r\nplease help it will be appreciatable :)","title":"Error, cannot access an invalid/free&#39;d bitmap here! while using a Model Class containing Bitmap","body":"<p>In my app I'm using model class containing a Bitmap for displaying an image on <code>recyclerView</code></p>\n<pre><code>public class ImageModelClass {\n\nBitmap image;\n\npublic void setImage(Bitmap image) {\n    this.image = image;\n}\n\npublic Bitmap getImage() {\n    return image;\n}\n</code></pre>\n<p><strong>Problem is</strong> when i am using Bitmap directly from my model class  then this error is throwing <code>Error, cannot access an invalid/free'd bitmap here!</code></p>\n<p>and  when i replace the Bitmap Class to a String in my model class and using encoded bitmap i converted bitmap Image into  a String then this error isn't coming .</p>\n<p>But encoding a Bitmap is taking lot of time load images.</p>\n<pre><code>public class ImageCollection extends AppCompatActivity {\npublic static final String IMAGE_SHARED_PREFS = &quot;com.example.animproject_IMAGE_SHARED_PREFS&quot;;\npublic static final String IMAGE_DATA_KEY = &quot;com.example.animproject_IMAGE_DATA_KEY&quot;;\n\nprivate static final int REQUEST_CODE = 1;\nRecyclerView recyclerView;\nImageCollectionAdapter adapter;\nList&lt;ImageModelClass&gt; imageList;\nFloatingActionButton fab;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_image_collection);\n\n    loadAlbumData();\n    recyclerView = findViewById(R.id.imageCollectionRecyclerView);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\n\n    adapter = new ImageCollectionAdapter(this,imageList);\n    StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, GridLayoutManager.VERTICAL);\n    recyclerView.setLayoutManager(staggeredGridLayoutManager);\n    recyclerView.setAdapter(adapter);\n\n    fab = findViewById(R.id.fabButton);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n        @Override\n        public void onClick(View view) {\n            Intent gallery = new Intent(Intent.ACTION_PICK);\n            gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            gallery.setType(&quot;image/*&quot;);\n\n            startActivityForResult(gallery, REQUEST_CODE);\n        }\n    });\n\n}\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\n        assert data != null;\n        ClipData clipData = data.getClipData();\n\n        if (clipData != null) {\n            for (int i = 0; i &lt; clipData.getItemCount(); i++) {\n\n                Uri imageUri = clipData.getItemAt(i).getUri();\n                InputStream inputStream;\n\n                try {\n                    inputStream = getContentResolver().openInputStream(imageUri);\n                    Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                    ImageModelClass imageModelClass = new ImageModelClass();\n                    imageModelClass.setImage(bitmap);\n\n                    imageList.add(imageModelClass);\n                    adapter.notifyDataSetChanged();\n                    saveGalleryData();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        } else {\n            Uri imageUri = data.getData();\n            InputStream inputStream = null;\n            try {\n                assert imageUri != null;\n                inputStream = getContentResolver().openInputStream(imageUri);\n\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n            ImageModelClass imageModelClass = new ImageModelClass();\n            imageModelClass.setImage(bitmap);\n\n            imageList.add(imageModelClass);\n            adapter.notifyDataSetChanged();\n            saveGalleryData();\n        }\n    }\n}\n\nprivate void saveGalleryData() {\n    SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\n    SharedPreferences.Editor editor = preferences.edit();\n    Gson gson = new Gson();\n    String json = gson.toJson(imageList);\n    editor.putString(IMAGE_DATA_KEY, json);\n    editor.apply();\n}\n\nprivate void loadAlbumData() {\n    SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\n    Gson gson = new Gson();\n    Type type = new TypeToken&lt;ArrayList&lt;ImageModelClass&gt;&gt;() {\n    }.getType();\n    String data = preferences.getString(IMAGE_DATA_KEY, null);\n    imageList = gson.fromJson(data, type);\n\n    if (imageList == null) {\n        imageList = new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Adapter</strong></p>\n<pre><code>public class ImageCollectionAdapter extends RecyclerView.Adapter&lt;ImageCollectionAdapter.MyViewHolder&gt; {\n\nList&lt;ImageModelClass&gt; list;\nContext context;\n\n\npublic ImageCollectionAdapter(Context context,List&lt;ImageModelClass&gt; list) {\n    this.list = list;\n    this.context = context ;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new MyViewHolder(LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.image_collection_lists, parent, false));\n}\n\n\n@Override\npublic void onBindViewHolder(@NonNull  \nMyViewHolder holder, int position) {\n   ImageModelClass currentImage = \n  list.get(position);    \n\n Glide\n.With(context.getApplicationContext)\n.load(currentImages.getImages) \n /* getting bitmap images from model \n  * class \n  */\n.into(holder.imageView); \n      \n\n\n} \n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    RoundedImageView imageView;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        imageView = itemView.findViewById(R.id.galleryPicture);\n    }\n}\n}\n</code></pre>\n<p>please help it will be appreciatable :)</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644841427,"post_id":71110506,"comment_id":125704538,"body_markdown":"Is that XML file an actual XML file or just a `.properties` file as XML (which is actually possible).","body":"Is that XML file an actual XML file or just a <code>.properties</code> file as XML (which is actually possible)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644841772,"creation_date":1644841772,"answer_id":71111935,"question_id":71110506,"body_markdown":"You can do all of that in 1 single method. You can make those `InputStream` arguments `Optional` and check what is available, based on that return either a `CachedReportingService` or `NoOpReportingService`. \r\n\r\n```java\r\n@Bean\r\npublic ReportingService reportingService(@XmlFille Optional&lt;InputStream&gt; xmlFileInputStream,\r\n                                     @PropertyFile Optional&lt;InputStream&gt; propertiesFileInputStream) {\r\n  if (xmlFileInputStream.isPresent() || propertiesFileInputStream.isPresent()) {\r\n    return new CachedReportingService(xmlFileInputStream.orElse(null), propertiesFileInputStream.orElse(null));\r\n  } else {\r\n    return new NoOpReportingService();\r\n  }\r\n}\r\n```\r\nSomething like that. Not everything needs to be solved with annotations, you have Java at your fingertips, use it to your advantage. ","title":"Variations of creating spring bean dependant on each file exists","body":"<p>You can do all of that in 1 single method. You can make those <code>InputStream</code> arguments <code>Optional</code> and check what is available, based on that return either a <code>CachedReportingService</code> or <code>NoOpReportingService</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ReportingService reportingService(@XmlFille Optional&lt;InputStream&gt; xmlFileInputStream,\n                                     @PropertyFile Optional&lt;InputStream&gt; propertiesFileInputStream) {\n  if (xmlFileInputStream.isPresent() || propertiesFileInputStream.isPresent()) {\n    return new CachedReportingService(xmlFileInputStream.orElse(null), propertiesFileInputStream.orElse(null));\n  } else {\n    return new NoOpReportingService();\n  }\n}\n</code></pre>\n<p>Something like that. Not everything needs to be solved with annotations, you have Java at your fingertips, use it to your advantage.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71111935,"answer_count":1,"score":0,"last_activity_date":1644841772,"creation_date":1644835166,"question_id":71110506,"body_markdown":"I have &#39;reporting&#39; service, that requires input meta data, this metadata are loaded either from `metadata.xml` or `metadata.properties`.\r\n\r\nNow, the input stream from these files is created as spring bean and autowired in the server. However, if user does not provide metadata file, the service does not report anything, if the user provides only 1 file, it takes data from that file, if the user provides both files, inner logic of service will decide which one it takes ( not important for my question ).\r\n\r\nSo far i am creating the input streams this way:\r\n\r\n\r\n    @Bean(name = &quot;xml_bean&quot;)\r\n    @ConditionalOnResource(resources = &quot;classpath:metadata.xml&quot;)\r\n    @XmlFile\r\n    publihgc InputStream getXmlFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\r\n    }\r\n\r\n    @Bean\r\n    @XmlFile\r\n    @ConditionalOnMissingBean(name = &quot;xml_bean&quot;)\r\n    public InputStream getXmlFileDefault() {\r\n        //empty input stream\r\n        return new InputStream() {\r\n            @Override\r\n            public int read() {\r\n                return 0;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean(name = &quot;properties_bean&quot;)\r\n    @ConditionalOnResource(resources = &quot;classpath:metadata.properties&quot;)\r\n    @PropertyFile\r\n    public InputStream getPropertiesFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(PROPERTIES_FILE_NAME);\r\n    }\r\n\r\n    @Bean\r\n    @PropertyFile\r\n    @ConditionalOnMissingBean(name = &quot;properties_bean&quot;)\r\n    public InputStream getPropertiesFileInputStreamDefault() {\r\n        //empty input stream\r\n        return new InputStream() {\r\n            @Override\r\n            public int read() {\r\n                return 0;\r\n            }\r\n        };\r\n    }\r\n\r\nSpring checks if the file exists, if yes creates input stream bean, otherwise creates empty stream bean.\r\n\r\nNow the service, as i said i have 4 cases:\r\n\r\n 1. Both files are defined\r\n 2. No file is defined\r\n 3. XML file is defined only\r\n 4. Properties file is defined only\r\n\r\n\r\nThese are 4 cases, as so far i have created 4 conditional beans:\r\n\r\n\r\n1)Both files are defined:\r\n\r\n    @Bean(&quot;reportingService&quot;)\r\n    @ConditionalOnBean(name = {&quot;xml_bean&quot;, &quot;properties_bean&quot;})\r\n    public ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\r\n                                         @PropertyFile final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\r\n    }\r\n\r\nNo file defined\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(ReportingService.class)\r\n    public ReportingService reportingServiceDefault() {\r\n        return new NoOpReportingService ();\r\n    }\r\n\r\nOnly xml file defined\r\n\r\n    @Bean\r\n    @ConditionalOnBean(name = {&quot;xml_bean&quot;})\r\n    @ConditionalOnMissingBean(name = &quot;reportingService&quot;)\r\n    public ReportingService reportingServiceXML (@XmlFile final InputStream xmlFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, null);\r\n    }\r\n\r\nOnly properties file is defined\r\n\r\n    @Bean\r\n    @ConditionalOnBean(name = {&quot;bter_prop_bean&quot;})\r\n    @ConditionalOnMissingBean(name = &quot;reportingService&quot;)\r\n    public ReportingService reportingServiceProperties(\r\n            @BterProperties final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (null, propertiesFileInputStream);\r\n    } \r\n\r\nNow this works, however for each case i need to create another bean definition. If i had 3 files like this, the cases would jump from 4 to 8. Isnt there better way how to do it?\r\n\r\nWhen i tried to to something like:\r\n   \r\n\r\n    @Bean(name = &quot;xml_bean&quot;)\r\n    @XmlFile\r\n    publihgc InputStream getXmlFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\r\n    }    \r\n\r\n    @Bean\r\n    public ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\r\n                                         @PropertyFile final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\r\n    }\r\n\r\nbut this will fail, as if when the xml_bean does not have file, classLoader results in null, and that throws error, cuz `@XmlFille final InputStream xmlFileInputStream`, does not have candidate for autowiring.\r\n\r\nIs there any trick to creating beans like this? The way i used seems pretty redundant and complicated\r\n","title":"Variations of creating spring bean dependant on each file exists","body":"<p>I have 'reporting' service, that requires input meta data, this metadata are loaded either from <code>metadata.xml</code> or <code>metadata.properties</code>.</p>\n<p>Now, the input stream from these files is created as spring bean and autowired in the server. However, if user does not provide metadata file, the service does not report anything, if the user provides only 1 file, it takes data from that file, if the user provides both files, inner logic of service will decide which one it takes ( not important for my question ).</p>\n<p>So far i am creating the input streams this way:</p>\n<pre><code>@Bean(name = &quot;xml_bean&quot;)\n@ConditionalOnResource(resources = &quot;classpath:metadata.xml&quot;)\n@XmlFile\npublihgc InputStream getXmlFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\n}\n\n@Bean\n@XmlFile\n@ConditionalOnMissingBean(name = &quot;xml_bean&quot;)\npublic InputStream getXmlFileDefault() {\n    //empty input stream\n    return new InputStream() {\n        @Override\n        public int read() {\n            return 0;\n        }\n    };\n}\n\n@Bean(name = &quot;properties_bean&quot;)\n@ConditionalOnResource(resources = &quot;classpath:metadata.properties&quot;)\n@PropertyFile\npublic InputStream getPropertiesFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(PROPERTIES_FILE_NAME);\n}\n\n@Bean\n@PropertyFile\n@ConditionalOnMissingBean(name = &quot;properties_bean&quot;)\npublic InputStream getPropertiesFileInputStreamDefault() {\n    //empty input stream\n    return new InputStream() {\n        @Override\n        public int read() {\n            return 0;\n        }\n    };\n}\n</code></pre>\n<p>Spring checks if the file exists, if yes creates input stream bean, otherwise creates empty stream bean.</p>\n<p>Now the service, as i said i have 4 cases:</p>\n<ol>\n<li>Both files are defined</li>\n<li>No file is defined</li>\n<li>XML file is defined only</li>\n<li>Properties file is defined only</li>\n</ol>\n<p>These are 4 cases, as so far i have created 4 conditional beans:</p>\n<p>1)Both files are defined:</p>\n<pre><code>@Bean(&quot;reportingService&quot;)\n@ConditionalOnBean(name = {&quot;xml_bean&quot;, &quot;properties_bean&quot;})\npublic ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\n                                     @PropertyFile final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\n}\n</code></pre>\n<p>No file defined</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(ReportingService.class)\npublic ReportingService reportingServiceDefault() {\n    return new NoOpReportingService ();\n}\n</code></pre>\n<p>Only xml file defined</p>\n<pre><code>@Bean\n@ConditionalOnBean(name = {&quot;xml_bean&quot;})\n@ConditionalOnMissingBean(name = &quot;reportingService&quot;)\npublic ReportingService reportingServiceXML (@XmlFile final InputStream xmlFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, null);\n}\n</code></pre>\n<p>Only properties file is defined</p>\n<pre><code>@Bean\n@ConditionalOnBean(name = {&quot;bter_prop_bean&quot;})\n@ConditionalOnMissingBean(name = &quot;reportingService&quot;)\npublic ReportingService reportingServiceProperties(\n        @BterProperties final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (null, propertiesFileInputStream);\n} \n</code></pre>\n<p>Now this works, however for each case i need to create another bean definition. If i had 3 files like this, the cases would jump from 4 to 8. Isnt there better way how to do it?</p>\n<p>When i tried to to something like:</p>\n<pre><code>@Bean(name = &quot;xml_bean&quot;)\n@XmlFile\npublihgc InputStream getXmlFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\n}    \n\n@Bean\npublic ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\n                                     @PropertyFile final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\n}\n</code></pre>\n<p>but this will fail, as if when the xml_bean does not have file, classLoader results in null, and that throws error, cuz <code>@XmlFille final InputStream xmlFileInputStream</code>, does not have candidate for autowiring.</p>\n<p>Is there any trick to creating beans like this? The way i used seems pretty redundant and complicated</p>\n"},{"tags":["java","android","android-intent","broadcastreceiver"],"comments":[{"owner":{"account_id":4901851,"reputation":494,"user_id":3949810,"display_name":"Mohit Kacha"},"score":0,"creation_date":1495604976,"post_id":44149921,"comment_id":75316920,"body_markdown":"You should unRegister your broadcast receiver when your app destroyed and you can use Service instead of the broadcast receiver.","body":"You should unRegister your broadcast receiver when your app destroyed and you can use Service instead of the broadcast receiver."},{"owner":{"account_id":2502138,"reputation":1953,"user_id":2176952,"display_name":"Jd Prajapati"},"score":0,"creation_date":1495605018,"post_id":44149921,"comment_id":75316936,"body_markdown":"its working when open app 2 (Receiver app)?","body":"its working when open app 2 (Receiver app)?"},{"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"score":0,"creation_date":1495605108,"post_id":44149921,"comment_id":75316980,"body_markdown":"@MohitKacha I&#39;m trying to get this to work as a broadcastReceiver, a statically registered receiver in the Manifest should work even when the app is closed.","body":"@MohitKacha I&#39;m trying to get this to work as a broadcastReceiver, a statically registered receiver in the Manifest should work even when the app is closed."},{"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"score":0,"creation_date":1495605135,"post_id":44149921,"comment_id":75316992,"body_markdown":"@JdPrajapati Yes it&#39;s working when I keep App2 open in the background.","body":"@JdPrajapati Yes it&#39;s working when I keep App2 open in the background."},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495619813,"post_id":44149921,"comment_id":75326619,"body_markdown":"@kumail you can only achieve this using combination of Service and Reciever. But your code uses Activity to broadcast so  it is not possible as activity needs context and context can not be provided while activity is in the background","body":"@kumail you can only achieve this using combination of Service and Reciever. But your code uses Activity to broadcast so  it is not possible as activity needs context and context can not be provided while activity is in the background"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495625906,"post_id":44149921,"comment_id":75330800,"body_markdown":"@PratikVyas Your comment is nonsense and wrong. This should work just fine.","body":"@PratikVyas Your comment is nonsense and wrong. This should work just fine."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495625955,"post_id":44149921,"comment_id":75330838,"body_markdown":"What device(s) are you testing on? There are devices where your app needs to be in a list of &quot;protected apps&quot; in order for Android to start it in the background.","body":"What device(s) are you testing on? There are devices where your app needs to be in a list of &quot;protected apps&quot; in order for Android to start it in the background."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626085,"post_id":44149921,"comment_id":75330948,"body_markdown":"Are you sure that the broadcast is not received? How are you verifying that? Toast is not a reliable debugging method. Check your logcat!","body":"Are you sure that the broadcast is not received? How are you verifying that? Toast is not a reliable debugging method. Check your logcat!"},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495626210,"post_id":44149921,"comment_id":75331045,"body_markdown":"@DavidWasser you mean application can broadcast without using service while it is in the background, can you please share your &quot;sensible&quot; example so that I can get where I am lacking?","body":"@DavidWasser you mean application can broadcast without using service while it is in the background, can you please share your &quot;sensible&quot; example so that I can get where I am lacking?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626429,"post_id":44149921,"comment_id":75331189,"body_markdown":"@PratikVyas OP has 2 apps. He broadcasts from `MainActivity` in one app and listens for the broadcast in the other app. There is no requirement here to &quot;broadcast from the background&quot;. You need to read the question more carefully.","body":"@PratikVyas OP has 2 apps. He broadcasts from <code>MainActivity</code> in one app and listens for the broadcast in the other app. There is no requirement here to &quot;broadcast from the background&quot;. You need to read the question more carefully."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626593,"post_id":44149921,"comment_id":75331320,"body_markdown":"@PratikVyas also your statement &quot;...activity needs context and context can not be provided while activity is in the background&quot; is wrong. An `Activity` is a `Context` and of course you can broadcast from an `Activity` even when it is in the background (if you want to) by starting a thread, setting a timer, etc.","body":"@PratikVyas also your statement &quot;...activity needs context and context can not be provided while activity is in the background&quot; is wrong. An <code>Activity</code> is a <code>Context</code> and of course you can broadcast from an <code>Activity</code> even when it is in the background (if you want to) by starting a thread, setting a timer, etc."},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495626626,"post_id":44149921,"comment_id":75331351,"body_markdown":"@DavidWasser yeah I got that, I read it wrong, thanks for the explanation","body":"@DavidWasser yeah I got that, I read it wrong, thanks for the explanation"}],"answers":[{"tags":[],"owner":{"account_id":2502138,"reputation":1953,"user_id":2176952,"display_name":"Jd Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495607239,"creation_date":1495605342,"answer_id":44150054,"question_id":44149921,"body_markdown":"Try this way..\r\n\r\n    Intent i = new Intent();\r\n    i.setAction(&quot;com.example.ali.rrr&quot;);\r\n    i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\n    i.setComponent(  \r\n            new ComponentName(&quot;PackageNameApp2&quot;,&quot;PackageNameApp2.MainActivity&quot;));  \r\n    sendBroadcast(i);","title":"Broadcast receiver not working when app is closed","body":"<p>Try this way..</p>\n\n<pre><code>Intent i = new Intent();\ni.setAction(\"com.example.ali.rrr\");\ni.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\ni.setComponent(  \n        new ComponentName(\"PackageNameApp2\",\"PackageNameApp2.MainActivity\"));  \nsendBroadcast(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076388,"reputation":360,"user_id":2605589,"accept_rate":80,"display_name":"Sujith Ks"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1599155168,"creation_date":1495607016,"answer_id":44150449,"question_id":44149921,"body_markdown":"First of all you need to use the Service for this functionality to work.\r\n    \r\nIn the Activity you can start and stop the service by using the below codes.\r\n\r\n    // to start a service\r\n    Intent service = new Intent(context, MyBrodcastRecieverService.class);\r\n    context.startService(service);\r\n    \r\n    // to Stop service\r\n    Intent service = new Intent(context, MyBrodcastRecieverService.class);\r\n    context.stopService(service);\r\n    \r\nThen you can use the below service\r\n    \r\n    public class MyBrodcastRecieverService extends Service\r\n    {\r\n        private static BroadcastReceiver br_ScreenOffReceiver;\r\n\r\n        @Override\r\n        public IBinder onBind(Intent arg0)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void onCreate()\r\n        {\r\n            registerScreenOffReceiver();\r\n        }\r\n\r\n        @Override\r\n        public void onDestroy()\r\n        {\r\n            unregisterReceiver(br__ScreenOffReceiver);\r\n            m_ScreenOffReceiver = null;\r\n        }\r\n\r\n        private void registerScreenOffReceiver()\r\n        {\r\n            br_ScreenOffReceiver = new BroadcastReceiver()\r\n            {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent)\r\n                {\r\n                    Log.d(TAG, &quot;ACTION_SCREEN_OFF&quot;);\r\n                    // do something, e.g. send Intent to main app\r\n                }\r\n            };\r\n            \r\n            IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_OFF);\r\n            registerReceiver(br_ScreenOffReceiver, filter);\r\n        }\r\n    }","title":"Broadcast receiver not working when app is closed","body":"<p>First of all you need to use the Service for this functionality to work.</p>\n<p>In the Activity you can start and stop the service by using the below codes.</p>\n<pre><code>// to start a service\nIntent service = new Intent(context, MyBrodcastRecieverService.class);\ncontext.startService(service);\n\n// to Stop service\nIntent service = new Intent(context, MyBrodcastRecieverService.class);\ncontext.stopService(service);\n</code></pre>\n<p>Then you can use the below service</p>\n<pre><code>public class MyBrodcastRecieverService extends Service\n{\n    private static BroadcastReceiver br_ScreenOffReceiver;\n\n    @Override\n    public IBinder onBind(Intent arg0)\n    {\n        return null;\n    }\n\n    @Override\n    public void onCreate()\n    {\n        registerScreenOffReceiver();\n    }\n\n    @Override\n    public void onDestroy()\n    {\n        unregisterReceiver(br__ScreenOffReceiver);\n        m_ScreenOffReceiver = null;\n    }\n\n    private void registerScreenOffReceiver()\n    {\n        br_ScreenOffReceiver = new BroadcastReceiver()\n        {\n            @Override\n            public void onReceive(Context context, Intent intent)\n            {\n                Log.d(TAG, &quot;ACTION_SCREEN_OFF&quot;);\n                // do something, e.g. send Intent to main app\n            }\n        };\n        \n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_OFF);\n        registerReceiver(br_ScreenOffReceiver, filter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6419041,"reputation":3386,"user_id":4976247,"accept_rate":55,"display_name":"Vishal Vaishnav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554286204,"creation_date":1554286204,"answer_id":55492562,"question_id":44149921,"body_markdown":"You can go through below solution;\r\n\r\n**Activity.java**\r\n\r\n    Intent intent=new Intent(MainActivity.this,BroadcastService.class);\r\n    startService(intent);\r\n\r\n**BroadcastService.java**\r\n\r\n    public class BroadcastService extends Service {\r\n\r\n    private static MusicIntentReceiver br_ScreenOffReceiver;\r\n\r\n    @Override\r\n    public IBinder onBind(Intent arg0)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate()\r\n    {\r\n        registerScreenOffReceiver();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy()\r\n    {\r\n\r\n    }\r\n\r\n    private void registerScreenOffReceiver()\r\n    {\r\n        br_ScreenOffReceiver = new MusicIntentReceiver()\r\n        {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent)\r\n            {\r\n                if (intent.getAction().equals(Intent.ACTION_HEADSET_PLUG)) {\r\n                    int state = intent.getIntExtra(&quot;state&quot;, -1);\r\n                    switch (state) {\r\n                        case 0:\r\n                            Log.e(&quot;AAAAAAAAAA&quot;, &quot;Headset is unplugged&quot;);\r\n                            break;\r\n                        case 1:\r\n                            Log.e(&quot;AAAAAAAAA&quot;, &quot;Headset is plugged&quot;);\r\n                            break;\r\n                        default:\r\n                            Log.e(&quot;AAAAAAAAAAAA&quot;, &quot;I have no idea what the headset state is&quot;);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);\r\n        registerReceiver(br_ScreenOffReceiver, filter);\r\n    }\r\n\r\n\r\n    }\r\n\r\n**Menifest**\r\n\r\n    &lt;service android:enabled=&quot;true&quot; android:name=&quot;.BroadcastService&quot; /&gt;","title":"Broadcast receiver not working when app is closed","body":"<p>You can go through below solution;</p>\n\n<p><strong>Activity.java</strong></p>\n\n<pre><code>Intent intent=new Intent(MainActivity.this,BroadcastService.class);\nstartService(intent);\n</code></pre>\n\n<p><strong>BroadcastService.java</strong></p>\n\n<pre><code>public class BroadcastService extends Service {\n\nprivate static MusicIntentReceiver br_ScreenOffReceiver;\n\n@Override\npublic IBinder onBind(Intent arg0)\n{\n    return null;\n}\n\n@Override\npublic void onCreate()\n{\n    registerScreenOffReceiver();\n}\n\n@Override\npublic void onDestroy()\n{\n\n}\n\nprivate void registerScreenOffReceiver()\n{\n    br_ScreenOffReceiver = new MusicIntentReceiver()\n    {\n        @Override\n        public void onReceive(Context context, Intent intent)\n        {\n            if (intent.getAction().equals(Intent.ACTION_HEADSET_PLUG)) {\n                int state = intent.getIntExtra(\"state\", -1);\n                switch (state) {\n                    case 0:\n                        Log.e(\"AAAAAAAAAA\", \"Headset is unplugged\");\n                        break;\n                    case 1:\n                        Log.e(\"AAAAAAAAA\", \"Headset is plugged\");\n                        break;\n                    default:\n                        Log.e(\"AAAAAAAAAAAA\", \"I have no idea what the headset state is\");\n                }\n            }\n        }\n    };\n    IntentFilter filter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);\n    registerReceiver(br_ScreenOffReceiver, filter);\n}\n\n\n}\n</code></pre>\n\n<p><strong>Menifest</strong></p>\n\n<pre><code>&lt;service android:enabled=\"true\" android:name=\".BroadcastService\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15563435,"reputation":627,"user_id":11227958,"display_name":"MedievalCoder"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1582317883,"creation_date":1581543409,"answer_id":60197247,"question_id":44149921,"body_markdown":"After registering my BroadcastReceiver (BR) statically in the manifest, applying the proper intent filters, using JobIntentService (and registering it in the manifest) to handle the work that was called from my BR, I was still getting inconsistent results.\r\n\r\nOnce all of what I listed above has been done you should be able to send an ADB command to activate your broadcast and process the work in your service even if the app is closed. This was working for me some of the time, but not all of the time.\r\n\r\n[This article][1] describes limitation to BRs.\r\n&quot;As of Android 3.1 the Android system **excludes all receiver from receiving intents** by default if the corresponding application has never been started by the user or if the user explicitly stopped the application via the Android menu&quot; (**AKA a user executes Force Stop**)\r\n\r\nWhen I start the app by debugging it, then swipe it closed on my device, my ADB command never activates my BR. However, after my debugging session is over, when I open up the app on my device and swipe it closed, I can activate my BR through ADB commands. \r\n\r\nThis occurs because when you debug an application, then manually swipe it closed on the device, **Android considers this a Force Stop** hence why my BR cannot be activated **until I re-open the app on the device without debugging**. \r\n\r\nScoured the internet for hours, and wasn&#39;t able to find my solution, so I thought I&#39;d post it here just in case some poor unfortunate soul is encountering the same weird functionality I was.\r\n\r\nHappy coding :)\r\n\r\n\r\n\r\n\r\n  [1]: https://www.vogella.com/tutorials/AndroidBroadcastReceiver/article.html","title":"Broadcast receiver not working when app is closed","body":"<p>After registering my BroadcastReceiver (BR) statically in the manifest, applying the proper intent filters, using JobIntentService (and registering it in the manifest) to handle the work that was called from my BR, I was still getting inconsistent results.</p>\n\n<p>Once all of what I listed above has been done you should be able to send an ADB command to activate your broadcast and process the work in your service even if the app is closed. This was working for me some of the time, but not all of the time.</p>\n\n<p><a href=\"https://www.vogella.com/tutorials/AndroidBroadcastReceiver/article.html\" rel=\"noreferrer\">This article</a> describes limitation to BRs.\n\"As of Android 3.1 the Android system <strong>excludes all receiver from receiving intents</strong> by default if the corresponding application has never been started by the user or if the user explicitly stopped the application via the Android menu\" (<strong>AKA a user executes Force Stop</strong>)</p>\n\n<p>When I start the app by debugging it, then swipe it closed on my device, my ADB command never activates my BR. However, after my debugging session is over, when I open up the app on my device and swipe it closed, I can activate my BR through ADB commands. </p>\n\n<p>This occurs because when you debug an application, then manually swipe it closed on the device, <strong>Android considers this a Force Stop</strong> hence why my BR cannot be activated <strong>until I re-open the app on the device without debugging</strong>. </p>\n\n<p>Scoured the internet for hours, and wasn't able to find my solution, so I thought I'd post it here just in case some poor unfortunate soul is encountering the same weird functionality I was.</p>\n\n<p>Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":18651699,"reputation":111,"user_id":13595021,"display_name":"Rauson Ali"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644841524,"creation_date":1644841524,"answer_id":71111887,"question_id":44149921,"body_markdown":"I faced this issue recently. The BroadcastReceiver was working fine even if the app was removed from the background in the emulator and Samsung phones. But it failed to start my app in Chinese manufactured phones like Realme, Mi etc. While struggling to find a way to fix this I found that in the app details page there is battery optimisation settings where the **Auto-launch** feature was disabled. After I enabled it the app was working fine and BroadcastReceiver was able to start the app. I was unable ti find a way to enable this setting programmatically but I found this [question][1] which helped me direct the user to that setting page.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44383983/how-to-programmatically-enable-auto-start-and-floating-window-permissions","title":"Broadcast receiver not working when app is closed","body":"<p>I faced this issue recently. The BroadcastReceiver was working fine even if the app was removed from the background in the emulator and Samsung phones. But it failed to start my app in Chinese manufactured phones like Realme, Mi etc. While struggling to find a way to fix this I found that in the app details page there is battery optimisation settings where the <strong>Auto-launch</strong> feature was disabled. After I enabled it the app was working fine and BroadcastReceiver was able to start the app. I was unable ti find a way to enable this setting programmatically but I found this <a href=\"https://stackoverflow.com/questions/44383983/how-to-programmatically-enable-auto-start-and-floating-window-permissions\">question</a> which helped me direct the user to that setting page.</p>\n"}],"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18970,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44150449,"answer_count":5,"score":9,"last_activity_date":1644841524,"creation_date":1495604744,"question_id":44149921,"body_markdown":"So I have two different apps made, one sends a broadcast and another receives it and displays a toast. However, when I close the receiver app the broadcast is no longer received by the second app even though I defined the receiver in the manifest file.\r\n\r\nThe broadcast sender in the MainActivity of app1.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button b = (Button)findViewById(R.id.button2);\r\n        b.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent();\r\n                i.setAction(&quot;com.example.ali.rrr&quot;);\r\n                i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\n                sendBroadcast(i);\r\n                Log.e(&quot;Broadcast&quot;,&quot;sent&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\nApp 2 broadcast receiver:\r\n\r\n    public class MyReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // TODO: This method is called when the BroadcastReceiver is receiving\r\n        // an Intent broadcast.\r\n        Toast.makeText(context, &quot;Broadcast has been recieved!&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.e(&quot;SUCCESS&quot;, &quot;IN RECIEVER&quot;);\r\n        //throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n\r\n\r\n\r\nApp 2s Manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.ali.mybroadcastreciever&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.MyReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.example.ali.rrr&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Main2Activity&quot;\r\n            android:label=&quot;@string/title_activity_main2&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Broadcast receiver not working when app is closed","body":"<p>So I have two different apps made, one sends a broadcast and another receives it and displays a toast. However, when I close the receiver app the broadcast is no longer received by the second app even though I defined the receiver in the manifest file.</p>\n\n<p>The broadcast sender in the MainActivity of app1.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button b = (Button)findViewById(R.id.button2);\n    b.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent i = new Intent();\n            i.setAction(\"com.example.ali.rrr\");\n            i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\n            sendBroadcast(i);\n            Log.e(\"Broadcast\",\"sent\");\n        }\n    });\n}\n</code></pre>\n\n<p>App 2 broadcast receiver:</p>\n\n<pre><code>public class MyReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // TODO: This method is called when the BroadcastReceiver is receiving\n    // an Intent broadcast.\n    Toast.makeText(context, \"Broadcast has been recieved!\", Toast.LENGTH_SHORT).show();\n    Log.e(\"SUCCESS\", \"IN RECIEVER\");\n    //throw new UnsupportedOperationException(\"Not yet implemented\");\n}\n</code></pre>\n\n<p>App 2s Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;receiver\n        android:name=\".MyReceiver\"\n        android:enabled=\"true\"\n        android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.example.ali.rrr\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/title_activity_main\"\n        android:theme=\"@style/AppTheme.NoActionBar\" /&gt;\n    &lt;activity\n        android:name=\".Main2Activity\"\n        android:label=\"@string/title_activity_main2\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","html","css","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":3459989,"reputation":193,"user_id":2897416,"display_name":"Etruskas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644841522,"creation_date":1644841522,"answer_id":71111886,"question_id":71111688,"body_markdown":"There is a library named `wkhtmltopdf` (https://wkhtmltopdf.org). We used it in our project. \r\n`wkhtmltopdf` command line utility must be installed on a machine.\r\nDownload page: https://wkhtmltopdf.org/downloads.html\r\nNote it also must be installed on servers your app will execute.\r\n\r\nYour code should fetch html and css. Css should be added to html header in style tags. I&#39;m not aware of possibility to fetch it as a separate file to html.\r\n\r\nNext step is to convert your html to a PDF. This code will produce byte[] containing your PDF.\r\n```\r\n      String html = &quot;&lt;...&gt; your html&quot;;\r\n      Pdf pdf = new Pdf();\r\n      pdf.addPageFromString(html);\r\n      pdf.addParam(new Param(&quot;--disable-smart-shrinking&quot;));\r\n      pdf.addParam(new Param(&quot;--header-html&quot;, headerPath));\r\n      pdf.addParam(new Param(&quot;--footer-html&quot;, footer.toAbsolutePath().toString()));\r\n      return pdf.getPDF();\r\n```\r\n","title":"How to convert html, css to PDF using Java?","body":"<p>There is a library named <code>wkhtmltopdf</code> (<a href=\"https://wkhtmltopdf.org\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org</a>). We used it in our project.\n<code>wkhtmltopdf</code> command line utility must be installed on a machine.\nDownload page: <a href=\"https://wkhtmltopdf.org/downloads.html\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org/downloads.html</a>\nNote it also must be installed on servers your app will execute.</p>\n<p>Your code should fetch html and css. Css should be added to html header in style tags. I'm not aware of possibility to fetch it as a separate file to html.</p>\n<p>Next step is to convert your html to a PDF. This code will produce byte[] containing your PDF.</p>\n<pre><code>      String html = &quot;&lt;...&gt; your html&quot;;\n      Pdf pdf = new Pdf();\n      pdf.addPageFromString(html);\n      pdf.addParam(new Param(&quot;--disable-smart-shrinking&quot;));\n      pdf.addParam(new Param(&quot;--header-html&quot;, headerPath));\n      pdf.addParam(new Param(&quot;--footer-html&quot;, footer.toAbsolutePath().toString()));\n      return pdf.getPDF();\n</code></pre>\n"}],"owner":{"account_id":23488708,"reputation":107,"user_id":17539963,"display_name":"Chetan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71111886,"answer_count":1,"score":0,"last_activity_date":1644841522,"creation_date":1644840551,"question_id":71111688,"body_markdown":"I was wondering what are some good tutorials or logic on how to convert HTML and XHTML web pages to PDF using Java?\r\n\r\nAnd also suggest me How can I convert html, bootstrap css to pdf using Java?","title":"How to convert html, css to PDF using Java?","body":"<p>I was wondering what are some good tutorials or logic on how to convert HTML and XHTML web pages to PDF using Java?</p>\n<p>And also suggest me How can I convert html, bootstrap css to pdf using Java?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":405138,"reputation":4326,"user_id":773849,"accept_rate":100,"display_name":"Alex Barker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1603464783,"creation_date":1412968074,"answer_id":26306384,"question_id":26216864,"body_markdown":"You need to listen for each individual key push and release event for the combination required and set some kind of flag as each of the keys is depressed.  If after 1 of the desired keys is pressed, and the flag condition is met, then you can do whatever you need to do when those keys are pressed together.  There is no way to get a single event for two keys without creating a custom keyboard driver.  If you goal is to suppress the W and A key events until both are press, look at the [unsupported consuming events][1] section of the docs.  Note that event suppression is only available on Windows and OS X targets and the suppressed events will not be delivered to other applications.  \r\n\r\nIts not the prettiest example, but it should do what you are look for.\r\n\r\n    private short hotKeyFlag = 0x00;\r\n    private static final short MASK_A = 1 &lt;&lt; 0;\r\n    private static final short MASK_W = 1 &lt;&lt; 1;\r\n\r\n    ...\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\r\n            GlobalScreen.unregisterNativeHook();\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_A) {\r\n            hotKeyFlag &amp;= MASK_A;\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\r\n            hotKeyFlag &amp;= MASK_W;\r\n        }\r\n\r\n        // Check the mask and do work.\r\n        if (hotKeyFlag == MASK_A &amp; MASK_W) {\r\n            // Fire Shortcut.\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VK_A) {\r\n            hotKeyFlag ^= MASK_A;\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\r\n            hotKeyFlag ^= MASK_W;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>You need to listen for each individual key push and release event for the combination required and set some kind of flag as each of the keys is depressed.  If after 1 of the desired keys is pressed, and the flag condition is met, then you can do whatever you need to do when those keys are pressed together.  There is no way to get a single event for two keys without creating a custom keyboard driver.  If you goal is to suppress the W and A key events until both are press, look at the <a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md\" rel=\"nofollow noreferrer\">unsupported consuming events</a> section of the docs.  Note that event suppression is only available on Windows and OS X targets and the suppressed events will not be delivered to other applications.</p>\n<p>Its not the prettiest example, but it should do what you are look for.</p>\n<pre><code>private short hotKeyFlag = 0x00;\nprivate static final short MASK_A = 1 &lt;&lt; 0;\nprivate static final short MASK_W = 1 &lt;&lt; 1;\n\n...\n@Override\npublic void nativeKeyPressed(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\n        GlobalScreen.unregisterNativeHook();\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_A) {\n        hotKeyFlag &amp;= MASK_A;\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\n        hotKeyFlag &amp;= MASK_W;\n    }\n\n    // Check the mask and do work.\n    if (hotKeyFlag == MASK_A &amp; MASK_W) {\n        // Fire Shortcut.\n    }\n}\n\n@Override\npublic void nativeKeyReleased(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VK_A) {\n        hotKeyFlag ^= MASK_A;\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\n        hotKeyFlag ^= MASK_W;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10702145,"reputation":739,"user_id":7877099,"display_name":"Isuru Dilshan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499705459,"creation_date":1499705459,"answer_id":45017652,"question_id":26216864,"body_markdown":"This is my answer:-\r\n\r\n\r\n    private boolean a = false, w = false;\r\n\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_A) {\r\n            a = true;\r\n            if (w) {\r\n                System.out.println(&quot;W+A&quot;);\r\n            } else {//remove this else only for testing\r\n                System.out.println(&quot;Only A&quot;);\r\n            }\r\n        } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\r\n            w = true;\r\n            if (a) {\r\n                System.out.println(&quot;A+W&quot;);\r\n            } else {//remove this else only for testing\r\n                System.out.println(&quot;Only W&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_A) {\r\n            a = false;\r\n        } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\r\n            w = false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyTyped(NativeKeyEvent e) {\r\n        //System.out.println(&quot;Key Typed: &quot; + e.getKeyText(e.getKeyCode()));\r\n    }","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>This is my answer:-</p>\n\n<pre><code>private boolean a = false, w = false;\n\n@Override\npublic void nativeKeyPressed(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_A) {\n        a = true;\n        if (w) {\n            System.out.println(\"W+A\");\n        } else {//remove this else only for testing\n            System.out.println(\"Only A\");\n        }\n    } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n        w = true;\n        if (a) {\n            System.out.println(\"A+W\");\n        } else {//remove this else only for testing\n            System.out.println(\"Only W\");\n        }\n    }\n}\n\n@Override\npublic void nativeKeyReleased(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_A) {\n        a = false;\n    } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n        w = false;\n    }\n}\n\n@Override\npublic void nativeKeyTyped(NativeKeyEvent e) {\n    //System.out.println(\"Key Typed: \" + e.getKeyText(e.getKeyCode()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24252862,"reputation":1,"user_id":18203669,"display_name":"Roshank231"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840943,"creation_date":1644840943,"answer_id":71111768,"question_id":26216864,"body_markdown":"I could not get Alex&#39;s direct solution to work, but I used it as a frame to create this solution.\r\n\r\nWhen the target keys are held down the HotKeyFlag variable is XOR to the set mask for that key, if all keys are held down at once all masks will be XOR&#39;d together creating the 0011 (3). If at any point another key is pressed or one of the target keys is released HotKeyFlag is reset and the trigger condition cannot be met.\r\n\r\n        private static short hotKeyFlag = 0x00;        //0000\r\n        private static final short MASK_A = 1 &lt;&lt; 0;    //0001\r\n        private static final short MASK_W = 1 &lt;&lt; 1;    //0010 \r\n    \r\n        public void reader() {\r\n    \r\n            try {\r\n                GlobalScreen.registerNativeHook();\r\n                GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\r\n    \r\n                    @Override\r\n                    public void nativeKeyPressed(NativeKeyEvent e) {\r\n                        try {\r\n                          \r\n                            //check input key | XOR input keys together\r\n                            switch (e.getKeyCode()) {\r\n                                case NativeKeyEvent.VC_ESCAPE -&gt; GlobalScreen.unregisterNativeHook();\r\n                                case NativeKeyEvent.VC_A -&gt; hotKeyFlag ^= MASK_A;\r\n                                case NativeKeyEvent.VC_W -&gt; hotKeyFlag ^= MASK_W;\r\n                                default -&gt; hotKeyFlag = 0x00;\r\n                            }\r\n                            \r\n                        } catch (Exception er) {\r\n                            System.out.println(er);\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void nativeKeyReleased(NativeKeyEvent e) {\r\n                        // Check the mask and do work.\r\n                        if (hotKeyFlag == (MASK_A ^ MASK_W)) {\r\n                            System.out.println(&quot;test&quot;);                          \r\n                        }\r\n                        \r\n                        hotKeyFlag = 0x00;\r\n                    }\r\n    \r\n    //                @Override\r\n    //                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\r\n    //                    \r\n    //                    String keyText = NativeKeyEvent.getKeyText(nativeEvent.getKeyCode());\r\n    //                    \r\n    //                }\r\n                });\r\n            } catch (NativeHookException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nAlso, I moved the check for the inputs to the &quot;keyReleased&quot; method in order to avoid the desired code being run repeatedly if the target keys are held down.\r\n\r\nI&#39;ve never worked with bitmasks before so this probably is not the most elegant solution but it works.","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>I could not get Alex's direct solution to work, but I used it as a frame to create this solution.</p>\n<p>When the target keys are held down the HotKeyFlag variable is XOR to the set mask for that key, if all keys are held down at once all masks will be XOR'd together creating the 0011 (3). If at any point another key is pressed or one of the target keys is released HotKeyFlag is reset and the trigger condition cannot be met.</p>\n<pre><code>    private static short hotKeyFlag = 0x00;        //0000\n    private static final short MASK_A = 1 &lt;&lt; 0;    //0001\n    private static final short MASK_W = 1 &lt;&lt; 1;    //0010 \n\n    public void reader() {\n\n        try {\n            GlobalScreen.registerNativeHook();\n            GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\n\n                @Override\n                public void nativeKeyPressed(NativeKeyEvent e) {\n                    try {\n                      \n                        //check input key | XOR input keys together\n                        switch (e.getKeyCode()) {\n                            case NativeKeyEvent.VC_ESCAPE -&gt; GlobalScreen.unregisterNativeHook();\n                            case NativeKeyEvent.VC_A -&gt; hotKeyFlag ^= MASK_A;\n                            case NativeKeyEvent.VC_W -&gt; hotKeyFlag ^= MASK_W;\n                            default -&gt; hotKeyFlag = 0x00;\n                        }\n                        \n                    } catch (Exception er) {\n                        System.out.println(er);\n                    }\n\n                }\n\n                @Override\n                public void nativeKeyReleased(NativeKeyEvent e) {\n                    // Check the mask and do work.\n                    if (hotKeyFlag == (MASK_A ^ MASK_W)) {\n                        System.out.println(&quot;test&quot;);                          \n                    }\n                    \n                    hotKeyFlag = 0x00;\n                }\n\n//                @Override\n//                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\n//                    \n//                    String keyText = NativeKeyEvent.getKeyText(nativeEvent.getKeyCode());\n//                    \n//                }\n            });\n        } catch (NativeHookException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Also, I moved the check for the inputs to the &quot;keyReleased&quot; method in order to avoid the desired code being run repeatedly if the target keys are held down.</p>\n<p>I've never worked with bitmasks before so this probably is not the most elegant solution but it works.</p>\n"}],"owner":{"account_id":1420608,"reputation":5527,"user_id":1345309,"accept_rate":86,"display_name":"OmniOwl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4484,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26306384,"answer_count":3,"score":6,"last_activity_date":1644840943,"creation_date":1412600716,"question_id":26216864,"body_markdown":"I have looked at examples, and also tried to search on Google for a few hours, but it seems I can&#39;t quite find a question that covers what I am asking.\r\n\r\nIf I wanted to do something like\r\n\r\nW + A at the same time, and register that as a separate key event and not just as W and A separately, how would I go about doing that using JNativeHook? Is it because I missed a class somewhere that covers this, or is there some sort of workaround to only reading a single key?\r\n\r\nI am trying to do it in a console (hence I use this library and not Swing).\r\n\r\nI took their example, and wanted to try and modify it:\r\n    \r\n    import org.jnativehook.GlobalScreen;\r\n    import org.jnativehook.NativeHookException;\r\n    import org.jnativehook.keyboard.NativeKeyEvent;\r\n    import org.jnativehook.keyboard.NativeKeyListener;\r\n    \r\n    public class GlobalKeyListener implements NativeKeyListener {\r\n    \r\n        @Override\r\n        public void nativeKeyPressed(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n            \r\n            if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\r\n                GlobalScreen.unregisterNativeHook();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void nativeKeyReleased(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n        }\r\n    \r\n        @Override\r\n        public void nativeKeyTyped(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                GlobalScreen.registerNativeHook();\r\n            } catch (NativeHookException ex) {\r\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n                System.err.println(ex.getMessage());\r\n    \r\n                System.exit(1);\r\n            }\r\n    \r\n            //Construct the example object and initialze native hook.\r\n            GlobalScreen.getInstance().addNativeKeyListener(new GlobalKeyListener());\r\n        }\r\n    }\r\n\r\n","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>I have looked at examples, and also tried to search on Google for a few hours, but it seems I can't quite find a question that covers what I am asking.</p>\n\n<p>If I wanted to do something like</p>\n\n<p>W + A at the same time, and register that as a separate key event and not just as W and A separately, how would I go about doing that using JNativeHook? Is it because I missed a class somewhere that covers this, or is there some sort of workaround to only reading a single key?</p>\n\n<p>I am trying to do it in a console (hence I use this library and not Swing).</p>\n\n<p>I took their example, and wanted to try and modify it:</p>\n\n<pre><code>import org.jnativehook.GlobalScreen;\nimport org.jnativehook.NativeHookException;\nimport org.jnativehook.keyboard.NativeKeyEvent;\nimport org.jnativehook.keyboard.NativeKeyListener;\n\npublic class GlobalKeyListener implements NativeKeyListener {\n\n    @Override\n    public void nativeKeyPressed(NativeKeyEvent e) {\n        System.out.println(\"Key Pressed: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\n            GlobalScreen.unregisterNativeHook();\n        }\n    }\n\n    @Override\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        System.out.println(\"Key Released: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    @Override\n    public void nativeKeyTyped(NativeKeyEvent e) {\n        System.out.println(\"Key Typed: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    public static void main(String[] args) {\n        try {\n            GlobalScreen.registerNativeHook();\n        } catch (NativeHookException ex) {\n            System.err.println(\"There was a problem registering the native hook.\");\n            System.err.println(ex.getMessage());\n\n            System.exit(1);\n        }\n\n        //Construct the example object and initialze native hook.\n        GlobalScreen.getInstance().addNativeKeyListener(new GlobalKeyListener());\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson","xmlmapper"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1644825175,"post_id":71108430,"comment_id":125698993,"body_markdown":"Could be a case of case-differences, i.e. the field `key` might be interpreted as attribute `Key` which is different from `KEY`.","body":"Could be a case of case-differences, i.e. the field <code>key</code> might be interpreted as attribute <code>Key</code> which is different from <code>KEY</code>."},{"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"score":0,"creation_date":1644825301,"post_id":71108430,"comment_id":125699030,"body_markdown":"@Thomas that was exactly it.","body":"@Thomas that was exactly it."}],"answers":[{"tags":[],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644825565,"creation_date":1644825565,"answer_id":71108657,"question_id":71108430,"body_markdown":"As @Thomas pointed out in a comment on the post, it was the case of the property that was causing the issue.\r\n\r\n    @JacksonXmlProperty(isAttribute = true, localName = &quot;KEY&quot;)\r\n    private String key;\r\n\r\nThis was the fix.","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>As @Thomas pointed out in a comment on the post, it was the case of the property that was causing the issue.</p>\n<pre><code>@JacksonXmlProperty(isAttribute = true, localName = &quot;KEY&quot;)\nprivate String key;\n</code></pre>\n<p>This was the fix.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840918,"creation_date":1644825903,"answer_id":71108716,"question_id":71108430,"body_markdown":"Or you can have like below. (I haven&#39;t tried). More readable.\r\n\r\n    @JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\r\n    class ResponseFields {\r\n    \r\n        @JacksonXmlProperty(localName = &quot;FIELDS&quot;)\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private Fields[] fields;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n    \r\n    \r\n    class Fields {\r\n        @JacksonXmlProperty(localName = &quot;FIELD&quot;)\r\n        private Field[] field;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n    \r\n    class Field {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String key;\r\n        @JacksonXmlText(value = true)\r\n        private String value;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n\r\nAnd then;\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n    ResponseFields responseFields = mapper.readValue(XML, ResponseFields.class);\r\n    System.out.println(responseFields);","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>Or you can have like below. (I haven't tried). More readable.</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\nclass ResponseFields {\n\n    @JacksonXmlProperty(localName = &quot;FIELDS&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private Fields[] fields;\n\n    //getters, setters, toString\n}\n\n\nclass Fields {\n    @JacksonXmlProperty(localName = &quot;FIELD&quot;)\n    private Field[] field;\n\n    //getters, setters, toString\n}\n\nclass Field {\n    @JacksonXmlProperty(isAttribute = true)\n    private String key;\n    @JacksonXmlText(value = true)\n    private String value;\n\n    //getters, setters, toString\n}\n</code></pre>\n<p>And then;</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nResponseFields responseFields = mapper.readValue(XML, ResponseFields.class);\nSystem.out.println(responseFields);\n</code></pre>\n"}],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644840918,"creation_date":1644823959,"question_id":71108430,"body_markdown":"I&#39;m trying to deserialize the following XML.\r\n\r\n    &lt;RESPONSE&gt;\r\n        &lt;FIELDS&gt;\r\n            &lt;FIELD KEY=&quot;MSG_VERSION&quot;&gt;003&lt;/FIELD&gt;\r\n            &lt;FIELD KEY=&quot;CUSTOMER_NBR&quot;&gt;001&lt;/FIELD&gt;\r\n            ...\r\n            &lt;FIELD KEY=&quot;ORIGINAL_TYPE&quot;&gt;RM1&lt;/FIELD&gt;\r\n        &lt;/FIELDS&gt;\r\n    &lt;/RESPONSE&gt;\r\n\r\nI need to capture the values from `KEY` properties and the values. Following is the Java class I have created.\r\n\r\n    package io.app.domain;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlText;\r\n    import lombok.Data;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\r\n    public class ResponseData {\r\n        @JacksonXmlElementWrapper(localName = &quot;FIELDS&quot;)\r\n        @JacksonXmlProperty(localName = &quot;FIELD&quot;)\r\n        private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n        @Data\r\n        public static class Field {\r\n            @JacksonXmlProperty(isAttribute = true)\r\n            private String key;\r\n            @JacksonXmlText(value = true)\r\n            private String content;\r\n        }\r\n    }\r\n\r\nThe `XmlMapper` has been initialized as follows.\r\n\r\n    private final XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n    xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\nThe issue is that, although the `content` is properly getting set, the `key` value is always `null`. What am I doing wrong here?","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>I'm trying to deserialize the following XML.</p>\n<pre><code>&lt;RESPONSE&gt;\n    &lt;FIELDS&gt;\n        &lt;FIELD KEY=&quot;MSG_VERSION&quot;&gt;003&lt;/FIELD&gt;\n        &lt;FIELD KEY=&quot;CUSTOMER_NBR&quot;&gt;001&lt;/FIELD&gt;\n        ...\n        &lt;FIELD KEY=&quot;ORIGINAL_TYPE&quot;&gt;RM1&lt;/FIELD&gt;\n    &lt;/FIELDS&gt;\n&lt;/RESPONSE&gt;\n</code></pre>\n<p>I need to capture the values from <code>KEY</code> properties and the values. Following is the Java class I have created.</p>\n<pre><code>package io.app.domain;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlText;\nimport lombok.Data;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\npublic class ResponseData {\n    @JacksonXmlElementWrapper(localName = &quot;FIELDS&quot;)\n    @JacksonXmlProperty(localName = &quot;FIELD&quot;)\n    private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n    @Data\n    public static class Field {\n        @JacksonXmlProperty(isAttribute = true)\n        private String key;\n        @JacksonXmlText(value = true)\n        private String content;\n    }\n}\n</code></pre>\n<p>The <code>XmlMapper</code> has been initialized as follows.</p>\n<pre><code>private final XmlMapper xmlMapper = new XmlMapper();\n\nxmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nxmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n<p>The issue is that, although the <code>content</code> is properly getting set, the <code>key</code> value is always <code>null</code>. What am I doing wrong here?</p>\n"},{"tags":["java","javafx","window","mouseclick-event"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1644128215,"creation_date":1644119017,"answer_id":71004035,"question_id":71003637,"body_markdown":"**Don’t try to intercept interactions with Window decorations directly**\r\n\r\nDon’t try to work with clicks. Handling state changes due to keyboard or window decoration interactions differs between OSes and isn’t a JavaFX function anyway.\r\n\r\n**Use Stage properties and API instead**\r\n\r\nStage has a [maximized](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#maximizedProperty) property (and iconifed), listen for changes on relevant properties. Similarly, there is a full screen mode which is a bit different (see [Stage Java doc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html)). \r\n\r\n**Creating your own window decorations**\r\n\r\nIf you really want complete control, you can use an undecorated stage style and add your own decorations in JavaFX for handling basic window system functions.  That way, a lot of the decoration functionality can be handled internally by your app, but I really don’t recommend that.  There was an old project named Undecorator which assisted doing this if you wanted to go that route (I don’t advise coding it yourself).\r\n","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p><strong>Don’t try to intercept interactions with Window decorations directly</strong></p>\n<p>Don’t try to work with clicks. Handling state changes due to keyboard or window decoration interactions differs between OSes and isn’t a JavaFX function anyway.</p>\n<p><strong>Use Stage properties and API instead</strong></p>\n<p>Stage has a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#maximizedProperty\" rel=\"nofollow noreferrer\">maximized</a> property (and iconifed), listen for changes on relevant properties. Similarly, there is a full screen mode which is a bit different (see <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\">Stage Java doc</a>).</p>\n<p><strong>Creating your own window decorations</strong></p>\n<p>If you really want complete control, you can use an undecorated stage style and add your own decorations in JavaFX for handling basic window system functions.  That way, a lot of the decoration functionality can be handled internally by your app, but I really don’t recommend that.  There was an old project named Undecorator which assisted doing this if you wanted to go that route (I don’t advise coding it yourself).</p>\n"},{"tags":[],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644840840,"creation_date":1644383722,"answer_id":71044323,"question_id":71003637,"body_markdown":"Capturing clicks is a bad idea as @jewelsea mentioned in his comment. The effort in the question was to know why the behavior. Upon research, I found that it is a bug already listed by Oracle - please find below: Each window when double-clicked on the title bar is expected to assume full-screen height and width (Maximised) and on double-clicking title bar again should get back to its previous size. This is not working beyond JDK8 is what I understood from this link. However, on macOS Monterey 12.1 (OpenJDK 17) the window is assuming maximized size on double-clicking the title bar, but, is unable to go back to the previous size when double-clicking again.\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812\r\n\r\n","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p>Capturing clicks is a bad idea as @jewelsea mentioned in his comment. The effort in the question was to know why the behavior. Upon research, I found that it is a bug already listed by Oracle - please find below: Each window when double-clicked on the title bar is expected to assume full-screen height and width (Maximised) and on double-clicking title bar again should get back to its previous size. This is not working beyond JDK8 is what I understood from this link. However, on macOS Monterey 12.1 (OpenJDK 17) the window is assuming maximized size on double-clicking the title bar, but, is unable to go back to the previous size when double-clicking again.</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812</a></p>\n"}],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71004035,"answer_count":2,"score":1,"last_activity_date":1644840840,"creation_date":1644112486,"question_id":71003637,"body_markdown":"As we all know, when a user double-clicks on a window title bar, that window gets resized to the full available screen size. At least I have seen this happening in Mac OS. Any idea how to capture this event? What should I listen to in my code so that I know that the user has single or double-clicked the Window title?","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p>As we all know, when a user double-clicks on a window title bar, that window gets resized to the full available screen size. At least I have seen this happening in Mac OS. Any idea how to capture this event? What should I listen to in my code so that I know that the user has single or double-clicked the Window title?</p>\n"},{"tags":["java","excel"],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840447,"creation_date":1644840447,"answer_id":71111655,"question_id":71111037,"body_markdown":"I tried your code, and the color did not change. Tried to downgrade your easyexcel version to 2.2.11 should fix this problem.You could add an issue to make sure is it a bug.\r\n\r\n\r\n    api group: &#39;com.alibaba&#39;, name: &#39;easyexcel&#39;, version: &#39;2.2.11&#39;\r\n\r\n\r\n\r\n","title":"why the easy excel set cell style did not work","body":"<p>I tried your code, and the color did not change. Tried to downgrade your easyexcel version to 2.2.11 should fix this problem.You could add an issue to make sure is it a bug.</p>\n<pre><code>api group: 'com.alibaba', name: 'easyexcel', version: '2.2.11'\n</code></pre>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644840447,"creation_date":1644837780,"question_id":71111037,"body_markdown":"I am using easy excel `api group: &#39;com.alibaba&#39;, name: &#39;easyexcel&#39;, version: &#39;3.0.3&#39;` to set the cell color, this is the `main.java` code:\r\n\r\n\r\n\r\n\r\n    public class AppStarter {\r\n    \r\n        public static void main(String[] args) {\r\n            SparkUserExcelRequest request = new SparkUserExcelRequest();\r\n            request.setNickname(&quot;test&quot;);\r\n            String writePathName = &quot;/Users/dolphin/source/dabai/microservice/soa-zhuolian-org/&quot;;\r\n            String fullPathName = writePathName  + &quot;a.xlsx&quot;;\r\n            if (!new File(writePathName).exists()) {\r\n                new File(writePathName).mkdirs();\r\n            }\r\n            ExcelWriterBuilder writerBuilder = EasyExcel.write(fullPathName, SparkUserExcelRequest.class);\r\n            writerBuilder.excelType(ExcelTypeEnum.XLSX);\r\n            writerBuilder.registerWriteHandler(new CellStyleWriteHandler());\r\n            ExcelWriter writer = writerBuilder.build();\r\n            WriteSheet writeSheet = new WriteSheet();\r\n            writeSheet.setSheetName(&quot;mark&quot;);\r\n            writer.write(Arrays.asList(request), writeSheet);\r\n            writer.finish();\r\n        }\r\n    }\r\n\r\n\r\n\r\nthis is the class which change the cell color:\r\n\r\n\r\n\r\n    \r\n    public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\r\n    \r\n        @Override\r\n        protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\r\n            Workbook workbook = cell.getSheet().getWorkbook();\r\n            CellStyle cellStyle = workbook.createCellStyle();\r\n            cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n            cellStyle.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\r\n            cell.setCellStyle(cellStyle);\r\n        }\r\n    }\r\n\r\n\r\n\r\nand this is the entity class:\r\n\r\n\r\n\r\n    @Data\r\n    @ExcelIgnoreUnannotated\r\n    public class SparkUserExcelRequest implements Serializable {\r\n    \r\n        @ExcelProperty(&quot;user name&quot;)\r\n        private String nickname;\r\n    }\r\n\r\n\r\nwhen I run this code, this cell color did not changed to light blue, why the cell color set failed? what should I do to fix this problem? I want the test cell color changed to blue.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mSm0b.png","title":"why the easy excel set cell style did not work","body":"<p>I am using easy excel <code>api group: 'com.alibaba', name: 'easyexcel', version: '3.0.3'</code> to set the cell color, this is the <code>main.java</code> code:</p>\n<pre><code>public class AppStarter {\n\n    public static void main(String[] args) {\n        SparkUserExcelRequest request = new SparkUserExcelRequest();\n        request.setNickname(&quot;test&quot;);\n        String writePathName = &quot;/Users/dolphin/source/dabai/microservice/soa-zhuolian-org/&quot;;\n        String fullPathName = writePathName  + &quot;a.xlsx&quot;;\n        if (!new File(writePathName).exists()) {\n            new File(writePathName).mkdirs();\n        }\n        ExcelWriterBuilder writerBuilder = EasyExcel.write(fullPathName, SparkUserExcelRequest.class);\n        writerBuilder.excelType(ExcelTypeEnum.XLSX);\n        writerBuilder.registerWriteHandler(new CellStyleWriteHandler());\n        ExcelWriter writer = writerBuilder.build();\n        WriteSheet writeSheet = new WriteSheet();\n        writeSheet.setSheetName(&quot;mark&quot;);\n        writer.write(Arrays.asList(request), writeSheet);\n        writer.finish();\n    }\n}\n</code></pre>\n<p>this is the class which change the cell color:</p>\n<pre><code>public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\n\n    @Override\n    protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\n        Workbook workbook = cell.getSheet().getWorkbook();\n        CellStyle cellStyle = workbook.createCellStyle();\n        cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n        cellStyle.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\n        cell.setCellStyle(cellStyle);\n    }\n}\n</code></pre>\n<p>and this is the entity class:</p>\n<pre><code>@Data\n@ExcelIgnoreUnannotated\npublic class SparkUserExcelRequest implements Serializable {\n\n    @ExcelProperty(&quot;user name&quot;)\n    private String nickname;\n}\n</code></pre>\n<p>when I run this code, this cell color did not changed to light blue, why the cell color set failed? what should I do to fix this problem? I want the test cell color changed to blue.</p>\n<p><a href=\"https://i.stack.imgur.com/mSm0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSm0b.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lambda","functional-programming"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644700183,"post_id":71095706,"comment_id":125677566,"body_markdown":"Please, share all the code that you have","body":"Please, share all the code that you have"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1644701435,"post_id":71095706,"comment_id":125677796,"body_markdown":"You say input is `{String resource} {int quantity}` but then give example input `3 Motes 5 stones 5 Shards` which is `{int quantity} {String resource}`. Which is it? Please edit your question to remove this contradiction.","body":"You say input is <code>{String resource} {int quantity}</code> but then give example input <code>3 Motes 5 stones 5 Shards</code> which is <code>{int quantity} {String resource}</code>. Which is it? Please edit your question to remove this contradiction."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644703929,"creation_date":1644700252,"answer_id":71095905,"question_id":71095706,"body_markdown":"I made some changes.\r\n- using a for loop for just 2 values.  Just process one line at a time.\r\n- using `compute` to handle updating map\r\n- put in placeholder to check for proper resource (it could be spelled wrong upon input.\r\n\r\n```\r\nprivate final static int REQUIRED_QUANTITY = 250;\r\nprivate static boolean gameOver = false;\r\n\r\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\r\nlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\r\nlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\r\nlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\r\n\t\r\nMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\r\nScanner scanner = new Scanner(System.in);\r\nwhile (!gameOver) {\r\n\tString[] loot =\r\n\t\t\tscanner.nextLine().toLowerCase().split(&quot;\\\\s+&quot;);\r\n\tfor (int i = 0; i &lt; loot.length; i+=2) {\r\n\tString material = loot[i+1];\r\n\tif (!legendary.containsKey(material)) {\r\n\t\t// do some error processing\r\n\t}\r\n\t\tint quantity = Integer.parseInt(loot[i]);\t\r\n        // you may want to catch exception here.\r\n\t\tresources.compute(material.toLowerCase(),\r\n\t\t\t\t(k, v) -&gt; v == null ? quantity : v + quantity);\r\n\t\r\n\t}\r\n\tresources.forEach((s, integer) -&gt; {\r\n\t\tif (integer &gt; REQUIRED_QUANTITY) {\r\n\t\t\tSystem.out.println(&quot;Legendary obtained: &quot;\r\n\t\t\t\t  \t+ legendary.get(s));\r\n\t\t\tgameOver = true;\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>I made some changes.</p>\n<ul>\n<li>using a for loop for just 2 values.  Just process one line at a time.</li>\n<li>using <code>compute</code> to handle updating map</li>\n<li>put in placeholder to check for proper resource (it could be spelled wrong upon input.</li>\n</ul>\n<pre><code>private final static int REQUIRED_QUANTITY = 250;\nprivate static boolean gameOver = false;\n\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\nlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\nlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\nlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\n    \nMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\nScanner scanner = new Scanner(System.in);\nwhile (!gameOver) {\n    String[] loot =\n            scanner.nextLine().toLowerCase().split(&quot;\\\\s+&quot;);\n    for (int i = 0; i &lt; loot.length; i+=2) {\n    String material = loot[i+1];\n    if (!legendary.containsKey(material)) {\n        // do some error processing\n    }\n        int quantity = Integer.parseInt(loot[i]);   \n        // you may want to catch exception here.\n        resources.compute(material.toLowerCase(),\n                (k, v) -&gt; v == null ? quantity : v + quantity);\n    \n    }\n    resources.forEach((s, integer) -&gt; {\n        if (integer &gt; REQUIRED_QUANTITY) {\n            System.out.println(&quot;Legendary obtained: &quot;\n                    + legendary.get(s));\n            gameOver = true;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644705877,"creation_date":1644704566,"answer_id":71096360,"question_id":71095706,"body_markdown":"I&#39;ve encapsulated the code you&#39;ve provided into a class.\r\n\r\nMap `resources` renamed and changed to an instance variable `Map&lt;String, Integer&gt; resourceToQuantity`. Flag `gameOver` was made into an instance variable as well.\r\n\r\nThe main game-logic resides inside the `collectResources()` method and main enhancements were made here: \r\n\r\n * The flag `gameOver` is used as an exit condition of the `while loop`; \r\n * Condition of the `nested for loop` was changed;\r\n * The `for loop` was shortened, `if/else` statement removed; \r\n * The scope of variables `quantity` and `material` was reduced; \r\n * At each iteration of the loop `quantity` is being merged and the total is being checked against the `REQUIRED_QUANTITY`;\r\n * If this condition is meat flag `gameOver` is being set to `true` and the game-loop exits.\r\n * Collected resources are being printed.\r\n```\r\npublic class LootHunter {\r\n    private final static int REQUIRED_QUANTITY = 250;\r\n    private static final Map&lt;String, String&gt; legendary = Map.of(\r\n            &quot;shards&quot;, &quot;Shadowmourne&quot;,\r\n            &quot;fragments&quot;, &quot;Valanyr&quot;,\r\n            &quot;motes&quot;, &quot;Dragonwrath&quot;\r\n    );\r\n\r\n    private final Map&lt;String, Integer&gt; resourceToQuantity;\r\n    private boolean gameOver;\r\n\r\n    public LootHunter() {\r\n        this.resourceToQuantity = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void collectResources() {\r\n        while (!gameOver) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\r\n\r\n            for (int i = 0; i &lt; loot.length - 1; i += 2) {\r\n                int quantity = Integer.parseInt(loot[i]);\r\n                String material = loot[i + 1];\r\n                int totalQuantity = resourceToQuantity.merge(material, quantity, Integer::sum); // merges quantities and returns the sum\r\n\r\n                if (totalQuantity &gt; REQUIRED_QUANTITY) {\r\n                    System.out.printf(&quot;You win! %d of %s have been collected.%n&quot;, totalQuantity, material);\r\n                    System.out.println(&quot;Legendary item obtained: &quot; + legendary.get(material));\r\n                    gameOver = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        printAllResources(); // prints all the collected resources\r\n    }\r\n\r\n    public void printAllResources() {\r\n        System.out.println(&quot;List of resources collected:&quot;);\r\n        resourceToQuantity.forEach((material, quantity) -&gt;\r\n                System.out.printf(&quot;%s: %d%n&quot;, material, quantity));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LootHunter lootHunter = new LootHunter();\r\n        lootHunter.collectResources();\r\n    }\r\n}\r\n```\r\n**input:**  \r\n```\r\n&quot;30 shards 10 fragments 50 motes 80 fragments 70 shards 180 fragments&quot;\r\n```\r\n**output**\r\n```\r\nYou win! 270 of fragments have been collected.\r\nLegendary item obtained: Valanyr\r\nList of resources collected:\r\nshards: 100\r\nmotes: 50\r\nfragments: 270\r\n```","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>I've encapsulated the code you've provided into a class.</p>\n<p>Map <code>resources</code> renamed and changed to an instance variable <code>Map&lt;String, Integer&gt; resourceToQuantity</code>. Flag <code>gameOver</code> was made into an instance variable as well.</p>\n<p>The main game-logic resides inside the <code>collectResources()</code> method and main enhancements were made here:</p>\n<ul>\n<li>The flag <code>gameOver</code> is used as an exit condition of the <code>while loop</code>;</li>\n<li>Condition of the <code>nested for loop</code> was changed;</li>\n<li>The <code>for loop</code> was shortened, <code>if/else</code> statement removed;</li>\n<li>The scope of variables <code>quantity</code> and <code>material</code> was reduced;</li>\n<li>At each iteration of the loop <code>quantity</code> is being merged and the total is being checked against the <code>REQUIRED_QUANTITY</code>;</li>\n<li>If this condition is meat flag <code>gameOver</code> is being set to <code>true</code> and the game-loop exits.</li>\n<li>Collected resources are being printed.</li>\n</ul>\n<pre><code>public class LootHunter {\n    private final static int REQUIRED_QUANTITY = 250;\n    private static final Map&lt;String, String&gt; legendary = Map.of(\n            &quot;shards&quot;, &quot;Shadowmourne&quot;,\n            &quot;fragments&quot;, &quot;Valanyr&quot;,\n            &quot;motes&quot;, &quot;Dragonwrath&quot;\n    );\n\n    private final Map&lt;String, Integer&gt; resourceToQuantity;\n    private boolean gameOver;\n\n    public LootHunter() {\n        this.resourceToQuantity = new HashMap&lt;&gt;();\n    }\n\n    public void collectResources() {\n        while (!gameOver) {\n            Scanner scanner = new Scanner(System.in);\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\n\n            for (int i = 0; i &lt; loot.length - 1; i += 2) {\n                int quantity = Integer.parseInt(loot[i]);\n                String material = loot[i + 1];\n                int totalQuantity = resourceToQuantity.merge(material, quantity, Integer::sum); // merges quantities and returns the sum\n\n                if (totalQuantity &gt; REQUIRED_QUANTITY) {\n                    System.out.printf(&quot;You win! %d of %s have been collected.%n&quot;, totalQuantity, material);\n                    System.out.println(&quot;Legendary item obtained: &quot; + legendary.get(material));\n                    gameOver = true;\n                    break;\n                }\n            }\n        }\n        printAllResources(); // prints all the collected resources\n    }\n\n    public void printAllResources() {\n        System.out.println(&quot;List of resources collected:&quot;);\n        resourceToQuantity.forEach((material, quantity) -&gt;\n                System.out.printf(&quot;%s: %d%n&quot;, material, quantity));\n    }\n\n    public static void main(String[] args) {\n        LootHunter lootHunter = new LootHunter();\n        lootHunter.collectResources();\n    }\n}\n</code></pre>\n<p><strong>input:</strong></p>\n<pre><code>&quot;30 shards 10 fragments 50 motes 80 fragments 70 shards 180 fragments&quot;\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>You win! 270 of fragments have been collected.\nLegendary item obtained: Valanyr\nList of resources collected:\nshards: 100\nmotes: 50\nfragments: 270\n</code></pre>\n"}],"owner":{"account_id":17487810,"reputation":33,"user_id":12680498,"display_name":"Woi-oi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71095905,"answer_count":2,"score":-1,"last_activity_date":1644840326,"creation_date":1644698429,"question_id":71095706,"body_markdown":"In my console project I receive input {String resource} {int quantity} on one line (can receive several pairs example: 3 Motes 5 stones 5 Shards\r\n\r\nMy goal is to refactor the body of while loop to use as many lambdas as possible.\r\nI&#39;d love to reduce the ungodly amount of if-else statements and use a Predicate, but I&#39;m a newbie and am more looking for pointers what else I could try.\r\n\r\nI&#39;ve checked the javadoc for Collectors, Arrays.stream() and also read through the tutorials in Oracle&#39;s JDK 8 lambdas and functional programming, but obviously need more of a practical example.\r\n\r\nThe goal is to obtain 250 of a resource for one of the legendaries Map key and stop the program.\r\nI parse the values with Scanner, split by one whitespace and implement my logic as follows:\r\n\r\n    private final static int REQUIRED_QUANTITY = 250;\r\n\tprivate static boolean gameOver = false;\r\n    Map&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\r\n    \t\tlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\r\n    \t\tlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\r\n    \t\tlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\r\n    \r\n    \t\tMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tString[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\r\n    \t\t\tString material = null;\r\n    \t\t\tint quantity = 0;\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; loot.length; i++) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tmaterial = loot[i];\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tquantity = Integer.parseInt(loot[i]);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (material != null &amp;&amp; quantity != 0) {\r\n    \t\t\t\t\tif (resources.containsKey(material.toLowerCase())) {\r\n    \t\t\t\t\t\tresources.replace(material, resources.get(material) + quantity);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tresources.putIfAbsent(material.toLowerCase(), quantity);\r\n    \r\n    \t\t\t\t\tmaterial = null;\r\n    \t\t\t\t\tquantity = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tresources.forEach((s, integer) -&gt; {\r\n    \t\t\t\tif (integer &gt; REQUIRED_QUANTITY) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Legendary obtained: &quot; + legendary.get(s));\r\n    \t\t\t\t\tgameOver = true;\r\n    \t\t\t\t}\r\n    \t\t\t});","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>In my console project I receive input {String resource} {int quantity} on one line (can receive several pairs example: 3 Motes 5 stones 5 Shards</p>\n<p>My goal is to refactor the body of while loop to use as many lambdas as possible.\nI'd love to reduce the ungodly amount of if-else statements and use a Predicate, but I'm a newbie and am more looking for pointers what else I could try.</p>\n<p>I've checked the javadoc for Collectors, Arrays.stream() and also read through the tutorials in Oracle's JDK 8 lambdas and functional programming, but obviously need more of a practical example.</p>\n<p>The goal is to obtain 250 of a resource for one of the legendaries Map key and stop the program.\nI parse the values with Scanner, split by one whitespace and implement my logic as follows:</p>\n<pre><code>private final static int REQUIRED_QUANTITY = 250;\nprivate static boolean gameOver = false;\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\n        legendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\n        legendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\n        legendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\n\n        Map&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\n\n        while (true) {\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\n            String material = null;\n            int quantity = 0;\n\n            for (int i = 0; i &lt; loot.length; i++) {\n                if (i % 2 != 0) {\n                    material = loot[i];\n                } else {\n                    quantity = Integer.parseInt(loot[i]);\n                }\n\n                if (material != null &amp;&amp; quantity != 0) {\n                    if (resources.containsKey(material.toLowerCase())) {\n                        resources.replace(material, resources.get(material) + quantity);\n                    }\n                    resources.putIfAbsent(material.toLowerCase(), quantity);\n\n                    material = null;\n                    quantity = 0;\n                }\n            }\n\n            resources.forEach((s, integer) -&gt; {\n                if (integer &gt; REQUIRED_QUANTITY) {\n                    System.out.println(&quot;Legendary obtained: &quot; + legendary.get(s));\n                    gameOver = true;\n                }\n            });\n</code></pre>\n"},{"tags":["java","java-8","deprecated","observer-pattern","java-9"],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1506176008,"creation_date":1506173740,"answer_id":46380150,"question_id":46380073,"body_markdown":"Considering that the `Observable` class and the `Observer` interface have been deprecated as of Java 9. As per the post [Java&#39;s Observer and Observable Are Deprecated in JDK 9][3] \r\n\r\n&gt; The event model supported by Observer and Observable is quite limited,\r\n&gt; the order of notifications delivered by Observable is unspecified, and\r\n&gt; state changes are not in one-for-one correspondence with\r\n&gt; notifications.\r\n&gt; For a richer event model, consider using the **[`java.beans`][1]**\r\n&gt; package. For reliable and ordered messaging among threads, consider\r\n&gt; using one of the concurrent data structures in the\r\n&gt; **[`java.util.concurrent`][2]** package. For reactive streams style programming, see the Flow API.\r\n\r\n\r\n\r\n\r\n  \r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\r\n  [3]: https://dzone.com/articles/javas-observer-and-observable-are-deprecated-in-jd","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Considering that the <code>Observable</code> class and the <code>Observer</code> interface have been deprecated as of Java 9. As per the post <a href=\"https://dzone.com/articles/javas-observer-and-observable-are-deprecated-in-jd\" rel=\"noreferrer\">Java's Observer and Observable Are Deprecated in JDK 9</a> </p>\n\n<blockquote>\n  <p>The event model supported by Observer and Observable is quite limited,\n  the order of notifications delivered by Observable is unspecified, and\n  state changes are not in one-for-one correspondence with\n  notifications.\n  For a richer event model, consider using the <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\" rel=\"noreferrer\"><code>java.beans</code></a></strong>\n  package. For reliable and ordered messaging among threads, consider\n  using one of the concurrent data structures in the\n  <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\"><code>java.util.concurrent</code></a></strong> package. For reactive streams style programming, see the Flow API.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":3,"up_vote_count":51,"is_accepted":false,"score":48,"last_activity_date":1599557728,"creation_date":1506174307,"answer_id":46380252,"question_id":46380073,"body_markdown":"There are more reasons :\r\n\r\n**[Not Serializable][5]** - Since, Observable doesn&#39;t implements Serializable. So, you can&#39;t Serialize Observable neither its subclass.\r\n\r\n**[No Thread Safety][6]** - The methods can be overridden by its subclasses, and event notification can occur in different orders and possibly on different threads, which is enough to disrupt any &quot;thread safety&quot;.\r\n \r\n**[Less to offer][7]** -  \r\n\r\n&gt; They don&#39;t provide a rich enough event model for applications. For\r\n&gt; example, they support only the notion that something has changed, but\r\n&gt; they don&#39;t convey any information about what has changed\r\n\r\n**Open Issues** - As mentioned, there were lot of major issues raised (thread safety, Serializable) and most of them had complexities to fix and still &quot;not fixed&quot; or **No Active Development**, and that is the reason why it has been **deprecated**.\r\n\r\nI would also recommend to read this answer [Why should the observer pattern be deprecated?][8], @Jeff has explained other reasons for deprecation.\r\n\r\n&lt;hr&gt;\r\n\r\n## So, what&#39;s the alternative we have ? ##\r\n\r\nYou can use **[`PropertyChangeEvent`][2]** and **[`PropertyChangeListener`][3]** from **[`java.beans`][4]** package.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeEvent.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\r\n  [5]: https://bugs.openjdk.java.net/browse/JDK-4180466\r\n  [6]: https://bugs.openjdk.java.net/browse/JDK-8025077\r\n  [7]: https://bugs.openjdk.java.net/browse/JDK-8154801\r\n  [8]: https://stackoverflow.com/a/11632412/1162620","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>There are more reasons :</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-4180466\" rel=\"noreferrer\">Not Serializable</a></strong> - Since, Observable doesn't implements Serializable. So, you can't Serialize Observable neither its subclass.</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-8025077\" rel=\"noreferrer\">No Thread Safety</a></strong> - The methods can be overridden by its subclasses, and event notification can occur in different orders and possibly on different threads, which is enough to disrupt any &quot;thread safety&quot;.</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-8154801\" rel=\"noreferrer\">Less to offer</a></strong> -</p>\n<blockquote>\n<p>They don't provide a rich enough event model for applications. For\nexample, they support only the notion that something has changed, but\nthey don't convey any information about what has changed</p>\n</blockquote>\n<p><strong>Open Issues</strong> - As mentioned, there were lot of major issues raised (thread safety, Serializable) and most of them had complexities to fix and still &quot;not fixed&quot; or <strong>No Active Development</strong>, and that is the reason why it has been <strong>deprecated</strong>.</p>\n<p>I would also recommend to read this answer <a href=\"https://stackoverflow.com/a/11632412/1162620\">Why should the observer pattern be deprecated?</a>, @Jeff has explained other reasons for deprecation.</p>\n<hr>\n<h2>So, what's the alternative we have ?</h2>\n<p>You can use <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeEvent.html\" rel=\"noreferrer\"><code>PropertyChangeEvent</code></a></strong> and <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\" rel=\"noreferrer\"><code>PropertyChangeListener</code></a></strong> from <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\" rel=\"noreferrer\"><code>java.beans</code></a></strong> package.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1562867074,"creation_date":1506183015,"answer_id":46381645,"question_id":46380073,"body_markdown":"**Why is that? Does it mean that we shouldn&#39;t implement observer pattern anymore?**\r\n\r\nAnswering the latter part first - \r\n\r\n***YES***, it does mean you shouldn&#39;t implement `Observer` and `Obervable`s anymore.\r\n\r\n[Why were they deprecated](https://bugs.openjdk.java.net/browse/JDK-8154801) - \r\n\r\nThey didn&#39;t provide a rich enough event model for applications. For example, they could support only the notion that something has changed, but didn&#39;t convey any information about what has changed.\r\n\r\n[Alex&#39;s answer](https://stackoverflow.com/a/8034790/1746118) puts it nicely upfront that *`Observer` has a weakness: all `Observable`s are the same*. You have to implement the logic that is based on `instanceof` and cast object to concrete type into `Observable.update()` method. \r\n\r\nTo add to it there were bugs like one [could not serialize the `Observable`](https://bugs.openjdk.java.net/browse/JDK-4180466) class because as it didn&#39;t implement `Serializable` interface and all of its members were private.\r\n\r\n**What is a better alternative to that?**\r\n\r\n\r\nOn the other hand `Listeners` have a lot of types and they have callback methods and don&#39;t require casting. As pointed by @Ravi in his [answer](https://stackoverflow.com/a/46380252/1746118) you can make use of  [`PropertyChangeListener`](https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html) instead. \r\n\r\nFor the rest of it the `@Deprecation` has been marked with proper documentation to explore other packages as linked in other answers as well.\r\n\r\n\r\n----------\r\n\r\n\r\nNote that the deprecation was also marked with an analysis as stated in [this mail](http://mail.openjdk.java.net/pipermail/core-libs-dev/2016-April/040473.html)  - \r\n\r\n&gt; These days, anyone encountering these is probably hitting them by\r\n&gt; mistake while using `RxJava` or other reactive-stream frameworks. In\r\n&gt; which case, users will normally want to instead use the jdk9\r\n&gt; `java.util.concurrent.Flow` APIs that all reactive-streams frameworks\r\n&gt; should be compatible/interoperable within their planned upcoming\r\n&gt; jdk9-compatible versions.\r\n\r\n***Edit***: It&#39;s also worth mentioning that the deprecation of the APIs is not primarily just because of the above reason, but also being unable to maintain such legacy code as mentioned in comments of a few of the bug reports (linked above) which were raised to mark an improvement in its implementation in one or another way.","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p><strong>Why is that? Does it mean that we shouldn't implement observer pattern anymore?</strong></p>\n\n<p>Answering the latter part first - </p>\n\n<p><strong><em>YES</em></strong>, it does mean you shouldn't implement <code>Observer</code> and <code>Obervable</code>s anymore.</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8154801\" rel=\"noreferrer\">Why were they deprecated</a> - </p>\n\n<p>They didn't provide a rich enough event model for applications. For example, they could support only the notion that something has changed, but didn't convey any information about what has changed.</p>\n\n<p><a href=\"https://stackoverflow.com/a/8034790/1746118\">Alex's answer</a> puts it nicely upfront that <em><code>Observer</code> has a weakness: all <code>Observable</code>s are the same</em>. You have to implement the logic that is based on <code>instanceof</code> and cast object to concrete type into <code>Observable.update()</code> method. </p>\n\n<p>To add to it there were bugs like one <a href=\"https://bugs.openjdk.java.net/browse/JDK-4180466\" rel=\"noreferrer\">could not serialize the <code>Observable</code></a> class because as it didn't implement <code>Serializable</code> interface and all of its members were private.</p>\n\n<p><strong>What is a better alternative to that?</strong></p>\n\n<p>On the other hand <code>Listeners</code> have a lot of types and they have callback methods and don't require casting. As pointed by @Ravi in his <a href=\"https://stackoverflow.com/a/46380252/1746118\">answer</a> you can make use of  <a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\" rel=\"noreferrer\"><code>PropertyChangeListener</code></a> instead. </p>\n\n<p>For the rest of it the <code>@Deprecation</code> has been marked with proper documentation to explore other packages as linked in other answers as well.</p>\n\n<hr>\n\n<p>Note that the deprecation was also marked with an analysis as stated in <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2016-April/040473.html\" rel=\"noreferrer\">this mail</a>  - </p>\n\n<blockquote>\n  <p>These days, anyone encountering these is probably hitting them by\n  mistake while using <code>RxJava</code> or other reactive-stream frameworks. In\n  which case, users will normally want to instead use the jdk9\n  <code>java.util.concurrent.Flow</code> APIs that all reactive-streams frameworks\n  should be compatible/interoperable within their planned upcoming\n  jdk9-compatible versions.</p>\n</blockquote>\n\n<p><strong><em>Edit</em></strong>: It's also worth mentioning that the deprecation of the APIs is not primarily just because of the above reason, but also being unable to maintain such legacy code as mentioned in comments of a few of the bug reports (linked above) which were raised to mark an improvement in its implementation in one or another way.</p>\n"},{"tags":[],"owner":{"account_id":8023694,"reputation":2816,"user_id":6051536,"display_name":"Mohit Tyagi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1507114566,"creation_date":1507114566,"answer_id":46563116,"question_id":46380073,"body_markdown":"&gt;Why Observer is deprecated in Java 9?\r\n\r\n**Ans:** The `Observable` class and the `Observer` interface have been deprecated in Java 9 because the event model supported by `Observer` and `Observable` is quite limited, the order of notifications delivered by `Observable` is unspecified, and state changes are not in one-for-one correspondence with notifications.\r\n\r\nSee Java doc https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html\r\n\r\n&gt;Alternate of Observer pattern?\r\n\r\nThere are many alternatives of Observer design pattern and Reactive Streams is one of them.\r\n\r\n**Reactive Streams or Flow API**:\r\n\r\n`Flow` is a class introduced in Java 9 and has 4 interrelated interfaces : `Processor`, `Publisher`, `Subscriber` and `Subscription`.\r\n\r\n`Flow.Processor`   : A component that acts as both a Subscriber and Publisher.\r\n\r\n`Flow.Publisher`   : A producer of items received by Subscribers.\r\n\r\n`Flow.Subscriber`  : A receiver of messages.\r\n\r\n`Flow.Subscription`: Message control linking a `Flow.Publisher` and `Flow.Subscriber`.\r\n\r\nSee Java doc https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<blockquote>\n  <p>Why Observer is deprecated in Java 9?</p>\n</blockquote>\n\n<p><strong>Ans:</strong> The <code>Observable</code> class and the <code>Observer</code> interface have been deprecated in Java 9 because the event model supported by <code>Observer</code> and <code>Observable</code> is quite limited, the order of notifications delivered by <code>Observable</code> is unspecified, and state changes are not in one-for-one correspondence with notifications.</p>\n\n<p>See Java doc <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html</a></p>\n\n<blockquote>\n  <p>Alternate of Observer pattern?</p>\n</blockquote>\n\n<p>There are many alternatives of Observer design pattern and Reactive Streams is one of them.</p>\n\n<p><strong>Reactive Streams or Flow API</strong>:</p>\n\n<p><code>Flow</code> is a class introduced in Java 9 and has 4 interrelated interfaces : <code>Processor</code>, <code>Publisher</code>, <code>Subscriber</code> and <code>Subscription</code>.</p>\n\n<p><code>Flow.Processor</code>   : A component that acts as both a Subscriber and Publisher.</p>\n\n<p><code>Flow.Publisher</code>   : A producer of items received by Subscribers.</p>\n\n<p><code>Flow.Subscriber</code>  : A receiver of messages.</p>\n\n<p><code>Flow.Subscription</code>: Message control linking a <code>Flow.Publisher</code> and <code>Flow.Subscriber</code>.</p>\n\n<p>See Java doc <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html</a></p>\n"},{"tags":[],"owner":{"account_id":18009181,"reputation":11,"user_id":13089284,"display_name":"Sławek"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1596486316,"creation_date":1596486316,"answer_id":63236484,"question_id":46380073,"body_markdown":"The problem is with buggy Java implementations of Java class/interface named Observer, Observable etc. - but not with GoF Observer Pattern.","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>The problem is with buggy Java implementations of Java class/interface named Observer, Observable etc. - but not with GoF Observer Pattern.</p>\n"},{"tags":[],"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644840296,"creation_date":1644840296,"answer_id":71111620,"question_id":46380073,"body_markdown":"Also is possible to use CDi 2.0 , [Event Handling][1]\r\n\r\n\r\n  [1]: http://Event%20Handling","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Also is possible to use CDi 2.0 , <a href=\"http://Event%20Handling\" rel=\"nofollow noreferrer\">Event Handling</a></p>\n"}],"owner":{"account_id":5900641,"reputation":1944,"user_id":4775738,"accept_rate":80,"display_name":"curious95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78087,"favorite_count":0,"down_vote_count":2,"up_vote_count":174,"accepted_answer_id":46381645,"answer_count":6,"score":172,"last_activity_date":1644840296,"creation_date":1506173272,"question_id":46380073,"body_markdown":"Java 9 came out, and [`Observer`](https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html) has been deprecated.\r\nWhy is that? Does it mean that we shouldn&#39;t implement observer pattern anymore? \r\n\r\nIt would be good to know what is a better alternative?","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Java 9 came out, and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html\" rel=\"noreferrer\"><code>Observer</code></a> has been deprecated.\nWhy is that? Does it mean that we shouldn't implement observer pattern anymore? </p>\n\n<p>It would be good to know what is a better alternative?</p>\n"},{"tags":["java","shell","java-11"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1535036840,"post_id":51988546,"comment_id":90927363,"body_markdown":"Given the parameter `jscript.sh`, java tries to execute the `sh` class from the `jscript` package, so I think you need to rename your file back to `jscript.java` (this shouldn&#39;t prevent shebang interpretation). Moreover, I don&#39;t see the directory containing your java file in your `--class-path` argument, which must be a problem.","body":"Given the parameter <code>jscript.sh</code>, java tries to execute the <code>sh</code> class from the <code>jscript</code> package, so I think you need to rename your file back to <code>jscript.java</code> (this shouldn&#39;t prevent shebang interpretation). Moreover, I don&#39;t see the directory containing your java file in your <code>--class-path</code> argument, which must be a problem."},{"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"score":0,"creation_date":1535089619,"post_id":51988546,"comment_id":90945446,"body_markdown":"@Aaron in jdk-11 they accomodated for that. With `--source` option java knows that this is a source file name.","body":"@Aaron in jdk-11 they accomodated for that. With <code>--source</code> option java knows that this is a source file name."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1535100544,"post_id":51988546,"comment_id":90950433,"body_markdown":"thanks for the info, I should have read the JEP. It still looks like in your error that it&#39;s trying to load an `sh` class, but I guess that&#39;s because the arguments aren&#39;t parsed correctly as you said.","body":"thanks for the info, I should have read the JEP. It still looks like in your error that it&#39;s trying to load an <code>sh</code> class, but I guess that&#39;s because the arguments aren&#39;t parsed correctly as you said."}],"answers":[{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1644840230,"creation_date":1535045969,"answer_id":51991438,"question_id":51988546,"body_markdown":"Your shebang arguments are the wrong way round. \r\n\r\n`--class-path` needs to come before `--source`\r\n\r\nIt is mentioned [in the original JEP][1], but it rather esoteric, and split across a couple of sections...\r\n\r\nThe below will work.\r\n\r\n    #!/usr/lib/jvm/jdk-11/bin/java --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8 \r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n\r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n\r\nMy Version is below\r\n\r\n    $ /usr/bin/java -version\r\n    java version &quot;11&quot; 2018-09-25\r\n    Java(TM) SE Runtime Environment 18.9 (build 11+28)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n    \r\n    $ cat kkkk.sh\r\n    #!/usr/bin/java --class-path /Users/steven/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8\r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n\r\n    public class Oneliner {\r\n        public static void main(String[] args){\r\n            System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n        }\r\n    }\r\n\r\n    $ ./kkkk.sh\r\n    $1$saltsalt$PXysoX71YwjJOoKzgzTEg/\r\n\r\nNote: When this answer was written (JDK 11 ea) the `--class-path` parameter needed to be before the `--source` as per my example. Now (JDK 15) the order of the parameters does not matter and either order will work.\r\n\r\n  [1]: http://openjdk.java.net/jeps/330\r\n","title":"Load library in a java shebang script","body":"<p>Your shebang arguments are the wrong way round.</p>\n<p><code>--class-path</code> needs to come before <code>--source</code></p>\n<p>It is mentioned <a href=\"http://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">in the original JEP</a>, but it rather esoteric, and split across a couple of sections...</p>\n<p>The below will work.</p>\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8 \n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\n  }\n}\n</code></pre>\n<p>My Version is below</p>\n<pre><code>$ /usr/bin/java -version\njava version &quot;11&quot; 2018-09-25\nJava(TM) SE Runtime Environment 18.9 (build 11+28)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n\n$ cat kkkk.sh\n#!/usr/bin/java --class-path /Users/steven/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8\n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n    public static void main(String[] args){\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\n    }\n}\n\n$ ./kkkk.sh\n$1$saltsalt$PXysoX71YwjJOoKzgzTEg/\n</code></pre>\n<p>Note: When this answer was written (JDK 11 ea) the <code>--class-path</code> parameter needed to be before the <code>--source</code> as per my example. Now (JDK 15) the order of the parameters does not matter and either order will work.</p>\n"},{"tags":[],"owner":{"account_id":209492,"reputation":16478,"user_id":460542,"accept_rate":95,"display_name":"Scolytus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1587122673,"creation_date":1587118738,"answer_id":61269217,"question_id":51988546,"body_markdown":"This **does not generally work** in OpenJDK &lt;= `11.0.7`. Whether this is a bug and gets fixed or not is not clear yet. There is an open bug report:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8242911\r\n\r\nSpecifying the `--class-path` works at least with OpenJDK `12.0.2` and `14.0.1`.\r\nSo I assume some improvements made for Java 12 fixed this issue.\r\n\r\nSo the line in the question is *supposed* to work, no change needed:\r\n\r\n```\r\n#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\r\n```\r\n\r\n----------\r\n\r\nSome notes on other things mentioned in the other answer and in the comments:\r\n\r\n * `--source` **must be** the first argument. In shebang files, the first line is treated like `#!$COMMAND $ONE-SINGLE-ARGUMENT`. So the shell will not separate the `$ONE-SINGLE-ARGUMENT` by whitespace. Thus, the Java launcher will split the argument by whitespace iff it starts with `--source` and further process the other arguments.\r\n * I can&#39;t fully explain muttonUp&#39;s working example. I suspect it is related to the usage of macOS. Maybe the used shell split up the shebang argument already.\r\n * Thus, it might be that this issue is limited to certain shells. I have tested the behavior with Ubuntu&#39;s `bash` and `dash`.","title":"Load library in a java shebang script","body":"<p>This <strong>does not generally work</strong> in OpenJDK &lt;= <code>11.0.7</code>. Whether this is a bug and gets fixed or not is not clear yet. There is an open bug report:</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8242911\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242911</a></p>\n\n<p>Specifying the <code>--class-path</code> works at least with OpenJDK <code>12.0.2</code> and <code>14.0.1</code>.\nSo I assume some improvements made for Java 12 fixed this issue.</p>\n\n<p>So the line in the question is <em>supposed</em> to work, no change needed:</p>\n\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\n</code></pre>\n\n<hr>\n\n<p>Some notes on other things mentioned in the other answer and in the comments:</p>\n\n<ul>\n<li><code>--source</code> <strong>must be</strong> the first argument. In shebang files, the first line is treated like <code>#!$COMMAND $ONE-SINGLE-ARGUMENT</code>. So the shell will not separate the <code>$ONE-SINGLE-ARGUMENT</code> by whitespace. Thus, the Java launcher will split the argument by whitespace iff it starts with <code>--source</code> and further process the other arguments.</li>\n<li>I can't fully explain muttonUp's working example. I suspect it is related to the usage of macOS. Maybe the used shell split up the shebang argument already.</li>\n<li>Thus, it might be that this issue is limited to certain shells. I have tested the behavior with Ubuntu's <code>bash</code> and <code>dash</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10248916,"reputation":41,"user_id":7563841,"display_name":"Masar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605362330,"creation_date":1605362330,"answer_id":64834666,"question_id":51988546,"body_markdown":"As told in previous answers there is a bug in java 11:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8242911\r\n\r\nI found this work around that let me use the class-path parameter:\r\n\r\n    #!/usr/bin/env -S java --class-path /path/mylib.jar --source 11\r\n\r\nNote the order of the parameters, if `--source` is before `--class-path` it does not work.","title":"Load library in a java shebang script","body":"<p>As told in previous answers there is a bug in java 11:</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8242911\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242911</a></p>\n<p>I found this work around that let me use the class-path parameter:</p>\n<pre><code>#!/usr/bin/env -S java --class-path /path/mylib.jar --source 11\n</code></pre>\n<p>Note the order of the parameters, if <code>--source</code> is before <code>--class-path</code> it does not work.</p>\n"}],"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61269217,"answer_count":3,"score":6,"last_activity_date":1644840230,"creation_date":1535035744,"question_id":51988546,"body_markdown":"Since JDK-11 we have ability to run java source code directly. This code \r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    \r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n\r\ncan be run with \r\n\r\n    $ /usr/lib/jvm/jdk-11/bin/java --source 8 -cp /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar jscript.java\r\n\r\nBut in a shell script form (shebang)\r\n\r\n    #!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\r\n    \r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    \r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n    \r\nI get an error:\r\n\r\n    $ ./jscript.sh\r\n    Error: Could not find or load main class ..jscript.sh\r\n    Caused by: java.lang.ClassNotFoundException: //jscript/sh\r\n\r\nThe problem is `--class-path` argument in the first line. For some reason `--souce` argument gets through, but `--class-path` doesn&#39;t.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/330","title":"Load library in a java shebang script","body":"<p>Since JDK-11 we have ability to run java source code directly. This code </p>\n\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(\"ok\".getBytes(), \"$1$saltsalt\"));\n  }\n}\n</code></pre>\n\n<p>can be run with </p>\n\n<pre><code>$ /usr/lib/jvm/jdk-11/bin/java --source 8 -cp /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar jscript.java\n</code></pre>\n\n<p>But in a shell script form (shebang)</p>\n\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(\"ok\".getBytes(), \"$1$saltsalt\"));\n  }\n}\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>$ ./jscript.sh\nError: Could not find or load main class ..jscript.sh\nCaused by: java.lang.ClassNotFoundException: //jscript/sh\n</code></pre>\n\n<p>The problem is <code>--class-path</code> argument in the first line. For some reason <code>--souce</code> argument gets through, but <code>--class-path</code> doesn't.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1644909351,"post_id":71111572,"comment_id":125723018,"body_markdown":"Retrieving the original configuration from instantiated components is not trivial. E.g. retrieving the `append` property of an appender requires reflection (see [test source code](https://github.com/apache/logging-log4j2/blob/4c6ef3582460d5fce758a0eaecc1889a99274880/log4j-1.2-api/src/test/java/org/apache/log4j/config/AbstractLog4j1ConfigurationTest.java#L304)).","body":"Retrieving the original configuration from instantiated components is not trivial. E.g. retrieving the <code>append</code> property of an appender requires reflection (see <a href=\"https://github.com/apache/logging-log4j2/blob/4c6ef3582460d5fce758a0eaecc1889a99274880/log4j-1.2-api/src/test/java/org/apache/log4j/config/AbstractLog4j1ConfigurationTest.java#L304\" rel=\"nofollow noreferrer\">test source code</a>)."}],"owner":{"account_id":3122277,"reputation":25,"user_id":2641818,"display_name":"Marian T&#238;rlea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644840114,"creation_date":1644840114,"question_id":71111572,"body_markdown":"When the configuration is made from source code, I need a way to see what was configured without debugging the Java code. I would like to see the current configuration as an XML (similar to log4j2.xml file).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Appenders&gt;\r\n           &lt;RollingFile name ....\r\n    &lt;/Configuration&gt;\r\n\r\nI am able to see the XML string when working with ConfigurationBuilder.writeXmlConfiguration/toXmlConfiguration methods. From what I understand this is only available only when using the builder.\r\n\r\nFrom time to time I change different values in the configuration using code like this:\r\n\r\n    final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n    final Configuration config = ctx.getConfiguration();\r\n    ...\r\n\r\nIs there something like: `config.toXML()?`\r\n\r\nI am thinking to do a small class that we can use to achieve this feature, but first, I want to make sure there is no other possibility.","title":"Log4j2 configured from source code. Is there a way to dump an xml structure to inspect the configuration?","body":"<p>When the configuration is made from source code, I need a way to see what was configured without debugging the Java code. I would like to see the current configuration as an XML (similar to log4j2.xml file).</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n       &lt;RollingFile name ....\n&lt;/Configuration&gt;\n</code></pre>\n<p>I am able to see the XML string when working with ConfigurationBuilder.writeXmlConfiguration/toXmlConfiguration methods. From what I understand this is only available only when using the builder.</p>\n<p>From time to time I change different values in the configuration using code like this:</p>\n<pre><code>final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\n...\n</code></pre>\n<p>Is there something like: <code>config.toXML()?</code></p>\n<p>I am thinking to do a small class that we can use to achieve this feature, but first, I want to make sure there is no other possibility.</p>\n"},{"tags":["java","maven","spring-boot","junit4","maven-failsafe-plugin"],"answers":[{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1529529896,"creation_date":1528744095,"answer_id":50804520,"question_id":50787704,"body_markdown":"I figured it out, so I&#39;m answering my own quesiton in case someone else has the same problem.\r\n\r\nIt turns out that maven-failsafe-plugin does not add target/classes directory to the classpath, but rather the resulting jar, which works fine in most cases.\r\n\r\nWhen it comes to Spring Boot, however, the resulting jar contains Spring Boot custom classloader classes in place of contents of target/classes directory, which are moved to directory BOOT-INF/classes. Since maven-failsafe-plugin uses &#39;regular&#39; classloader it only loads Spring Boot classloader classes, failing in the first place it is expected to use one of the project classes.\r\n\r\nTo run IT tests in Spring Boot project, one has to exclude the packaged jar from dependencies and add either the original, unmodified jar or target/classes directory, which is what I did.\r\n\r\nThe correct configuration for maven-failsafe-plugin and Spring Boot is:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                     &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;classpathDependencyExcludes&gt;\r\n                &lt;classpathDependencyExcludes&gt;${groupId}:${artifactId}&lt;/classpathDependencyExcludes&gt;\r\n            &lt;/classpathDependencyExcludes&gt;\r\n            &lt;additionalClasspathElements&gt;\r\n                &lt;additionalClasspathElement&gt;${project.build.outputDirectory}&lt;/additionalClasspathElement&gt;\r\n            &lt;/additionalClasspathElements&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>I figured it out, so I'm answering my own quesiton in case someone else has the same problem.</p>\n\n<p>It turns out that maven-failsafe-plugin does not add target/classes directory to the classpath, but rather the resulting jar, which works fine in most cases.</p>\n\n<p>When it comes to Spring Boot, however, the resulting jar contains Spring Boot custom classloader classes in place of contents of target/classes directory, which are moved to directory BOOT-INF/classes. Since maven-failsafe-plugin uses 'regular' classloader it only loads Spring Boot classloader classes, failing in the first place it is expected to use one of the project classes.</p>\n\n<p>To run IT tests in Spring Boot project, one has to exclude the packaged jar from dependencies and add either the original, unmodified jar or target/classes directory, which is what I did.</p>\n\n<p>The correct configuration for maven-failsafe-plugin and Spring Boot is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                 &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;classpathDependencyExcludes&gt;\n            &lt;classpathDependencyExcludes&gt;${groupId}:${artifactId}&lt;/classpathDependencyExcludes&gt;\n        &lt;/classpathDependencyExcludes&gt;\n        &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${project.build.outputDirectory}&lt;/additionalClasspathElement&gt;\n        &lt;/additionalClasspathElements&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1148924,"reputation":839,"user_id":1131057,"accept_rate":75,"display_name":"crig"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580412678,"creation_date":1580412678,"answer_id":59993262,"question_id":50787704,"body_markdown":"Another option that seems to work is to add a classifier to the spring-boot-maven-plugin configuration. This causes SpringBoot to leave the &quot;default&quot; build target jar alone and instead create the SpringBoot uber jar with the classifier name appended. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n              &lt;classifier&gt;sb-executable&lt;/classifier&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>Another option that seems to work is to add a classifier to the spring-boot-maven-plugin configuration. This causes SpringBoot to leave the \"default\" build target jar alone and instead create the SpringBoot uber jar with the classifier name appended. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n          &lt;classifier&gt;sb-executable&lt;/classifier&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461925,"reputation":467,"user_id":5005397,"display_name":"Akshay Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644839970,"creation_date":1644839970,"answer_id":71111538,"question_id":50787704,"body_markdown":"This worked for me in case of spring-boot project and `failsafe plugin version - 3.0.0-M5`\r\n\r\n   \r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\r\n\t&lt;artifactid&gt;maven-failsafe-plugin&lt;/artifactid&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;classesdirectory&gt;${project.build.outputDirectory}&lt;/classesdirectory&gt;\r\n\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBlog referred / Beautiful explanation - https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/ \r\n\r\nIn case if you want to understand what project.build.outputDirectory is - https://stackoverflow.com/questions/13354531/maven-project-build-directory \r\n\r\nThanks ! ","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>This worked for me in case of spring-boot project and <code>failsafe plugin version - 3.0.0-M5</code></p>\n<pre><code>&lt;plugin&gt;\n&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\n&lt;artifactid&gt;maven-failsafe-plugin&lt;/artifactid&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;integration-test&lt;/goal&gt;\n            &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n    &lt;classesdirectory&gt;${project.build.outputDirectory}&lt;/classesdirectory&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Blog referred / Beautiful explanation - <a href=\"https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/\" rel=\"nofollow noreferrer\">https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/</a></p>\n<p>In case if you want to understand what project.build.outputDirectory is - <a href=\"https://stackoverflow.com/questions/13354531/maven-project-build-directory\">Maven project.build.directory</a></p>\n<p>Thanks !</p>\n"}],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7419,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":50804520,"answer_count":3,"score":16,"last_activity_date":1644839970,"creation_date":1528662056,"question_id":50787704,"body_markdown":"I&#39;ve started a new project: [PostfixSQLConfig][1]. It&#39;s a simple Spring Boot application that is essentialy supposed to provide CRUD access for 4 simple databse tables. I wrote the the repository for the first table and some basic integration tests for said repository. Since this particular table should not provide update functionality, I implemented update function as:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    public void update(@NonNull Domain domain) throws NotUpdatableException {\r\n        throw new NotUpdatableException(&quot;Domain entities are read-only&quot;);\r\n    }\r\n\r\nwhere `NotUpdatableException` is my custom exception class.\r\n\r\nThe IT for this code look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Test(expected = NotUpdatableException.class)\r\n    public void testUpdate() throws NotUpdatableException {\r\n        val domain = Domain.of(&quot;test&quot;);\r\n\r\n        domainRepository.update(domain);\r\n    }\r\n\r\nIf run this test from my IDE (IntelliJ 2018.2 EAP) it passes fine, but running `mvn verify` fails with:\r\n\r\n    java.lang.NoClassDefFoundError: com/github/forinil/psc/exception/NotUpdatableException\r\n      at java.lang.Class.getDeclaredMethods0(Native Method)\r\n      at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n      at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n      at java.lang.Class.getMethod0(Class.java:3018)\r\n      at java.lang.Class.getMethod(Class.java:1784)\r\n      at org.apache.maven.surefire.util.ReflectionUtils.tryGetMethod(ReflectionUtils.java:60)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isSuiteOnly(JUnit3TestChecker.java:65)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isValidJUnit3Test(JUnit3TestChecker.java:60)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.accept(JUnit3TestChecker.java:55)\r\n      at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.accept(JUnit4TestChecker.java:53)\r\n      at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:309)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.setTestsToRun(JUnit4Provider.java:189)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:132)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\r\n    Caused by: java.lang.ClassNotFoundException: \r\n    com.github.forinil.psc.exception.NotUpdatableException\r\n      at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n      at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n      ... 18 more\r\n\r\nAnd I have honestly no idea why...\r\n\r\nHas someone ever encountered this problem?\r\n\r\n  [1]: https://github.com/Forinil/PostfixSQLConfig","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>I've started a new project: <a href=\"https://github.com/Forinil/PostfixSQLConfig\" rel=\"noreferrer\">PostfixSQLConfig</a>. It's a simple Spring Boot application that is essentialy supposed to provide CRUD access for 4 simple databse tables. I wrote the the repository for the first table and some basic integration tests for said repository. Since this particular table should not provide update functionality, I implemented update function as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void update(@NonNull Domain domain) throws NotUpdatableException {\n    throw new NotUpdatableException(&quot;Domain entities are read-only&quot;);\n}\n</code></pre>\n<p>where <code>NotUpdatableException</code> is my custom exception class.</p>\n<p>The IT for this code look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(expected = NotUpdatableException.class)\npublic void testUpdate() throws NotUpdatableException {\n    val domain = Domain.of(&quot;test&quot;);\n\n    domainRepository.update(domain);\n}\n</code></pre>\n<p>If run this test from my IDE (IntelliJ 2018.2 EAP) it passes fine, but running <code>mvn verify</code> fails with:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/github/forinil/psc/exception/NotUpdatableException\n  at java.lang.Class.getDeclaredMethods0(Native Method)\n  at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n  at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n  at java.lang.Class.getMethod0(Class.java:3018)\n  at java.lang.Class.getMethod(Class.java:1784)\n  at org.apache.maven.surefire.util.ReflectionUtils.tryGetMethod(ReflectionUtils.java:60)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isSuiteOnly(JUnit3TestChecker.java:65)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isValidJUnit3Test(JUnit3TestChecker.java:60)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.accept(JUnit3TestChecker.java:55)\n  at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.accept(JUnit4TestChecker.java:53)\n  at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:309)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.setTestsToRun(JUnit4Provider.java:189)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:132)\n  at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\n  at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\n  at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n  at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\nCaused by: java.lang.ClassNotFoundException: \ncom.github.forinil.psc.exception.NotUpdatableException\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n  ... 18 more\n</code></pre>\n<p>And I have honestly no idea why...</p>\n<p>Has someone ever encountered this problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8399,"page":1593,"page_size":100}
